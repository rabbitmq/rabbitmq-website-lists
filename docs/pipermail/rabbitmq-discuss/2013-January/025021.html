<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to handle poison messages (version	3.0.1)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20handle%20poison%20messages%20%28version%0A%093.0.1%29%3F&In-Reply-To=%3C50F8880E.6050706%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025020.html">
   <LINK REL="Next"  HREF="025023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to handle poison messages (version	3.0.1)?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20handle%20poison%20messages%20%28version%0A%093.0.1%29%3F&In-Reply-To=%3C50F8880E.6050706%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] How to handle poison messages (version	3.0.1)?">matthias at rabbitmq.com
       </A><BR>
    <I>Thu Jan 17 23:23:58 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025020.html">[rabbitmq-discuss] How to handle poison messages (version	3.0.1)?
</A></li>
        <LI>Next message: <A HREF="025023.html">[rabbitmq-discuss] ReturnListener is not invoked
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25021">[ date ]</a>
              <a href="thread.html#25021">[ thread ]</a>
              <a href="subject.html#25021">[ subject ]</a>
              <a href="author.html#25021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sandy,

On 17/01/13 22:49, Sandeep Aggarwal wrote:
&gt;<i> I'm using RabbitMQ version 3.0.1 and trying to handle the case with
</I>&gt;<i> poison messages.
</I>
This does come up from time to time. And no, there is nothing built into 
rabbitmq.

&gt;<i> In our code here, if there is a problem with processing the message, we
</I>&gt;<i> nack the message with redeliver flag set to true. However, this causes
</I>&gt;<i> the message to go back in the queue and in turn the consumer reads the
</I>&gt;<i> same message again (and again in a loop). This causes my consumer to
</I>&gt;<i> crash or go fishing in a loop.
</I>
Instead of nack'ing the message the consumer could send it straight to 
the poison queue, and ack it to the main queue.

Though this doesn't work if the consumer simply dies when its eating the 
poison message.

Regards,

Matthias.
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025020.html">[rabbitmq-discuss] How to handle poison messages (version	3.0.1)?
</A></li>
	<LI>Next message: <A HREF="025023.html">[rabbitmq-discuss] ReturnListener is not invoked
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25021">[ date ]</a>
              <a href="thread.html#25021">[ thread ]</a>
              <a href="subject.html#25021">[ subject ]</a>
              <a href="author.html#25021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
