<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Consistent Hash Exchange
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consistent%20Hash%20Exchange&In-Reply-To=%3C7d19f083-9002-4a75-8a6d-53cbe1caaf0d%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024778.html">
   <LINK REL="Next"  HREF="024787.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Consistent Hash Exchange</H1>
    <B>matthew.collinge at comparethemarket.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consistent%20Hash%20Exchange&In-Reply-To=%3C7d19f083-9002-4a75-8a6d-53cbe1caaf0d%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Consistent Hash Exchange">matthew.collinge at comparethemarket.com
       </A><BR>
    <I>Fri Jan  4 15:13:46 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="024778.html">[rabbitmq-discuss] RabbitMQ for synchronous communication
</A></li>
        <LI>Next message: <A HREF="024787.html">[rabbitmq-discuss] Consistent Hash Exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24786">[ date ]</a>
              <a href="thread.html#24786">[ thread ]</a>
              <a href="subject.html#24786">[ subject ]</a>
              <a href="author.html#24786">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

We are looking at using your consistent hash exchange for partitioning 
messages that we need to be processes synchronously based on a partition 
key (GUID in our case). The issue we currently face is that we are already 
using the routing key for subscriptions based on message type. As there 
will be messages of multiple types for the same partition key this will 
result in different routing keys and therefore different hashes of those 
keys for message that we want partitioned into the same destination queue.

What would be the best way to go about trying to achieve this? I have 
thought of the following options but do not know the relative merits with 
respect to performance and the inner workings of RabbitMQ:

i)                    Hash based on the first or last portion of a routing 
key (&lt;HashME&gt;.Iamused.For.Other.Routing)

ii)                   Hash based on a Message Header

iii)                 Hash based on a Message Property

Is there any approach that you would advocate or indeed strongly advise 
against?

Thank you in advance.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130104/9a7ae4da/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130104/9a7ae4da/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024778.html">[rabbitmq-discuss] RabbitMQ for synchronous communication
</A></li>
	<LI>Next message: <A HREF="024787.html">[rabbitmq-discuss] Consistent Hash Exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24786">[ date ]</a>
              <a href="thread.html#24786">[ thread ]</a>
              <a href="subject.html#24786">[ subject ]</a>
              <a href="author.html#24786">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
