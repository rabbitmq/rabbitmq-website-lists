<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Server-Side Limit for a Channel's Unacknowledged Messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Server-Side%20Limit%20for%20a%20Channel%27s%0A%20Unacknowledged%20Messages&In-Reply-To=%3C50F17459.1000007%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024860.html">
   <LINK REL="Next"  HREF="024899.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Server-Side Limit for a Channel's Unacknowledged Messages</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Server-Side%20Limit%20for%20a%20Channel%27s%0A%20Unacknowledged%20Messages&In-Reply-To=%3C50F17459.1000007%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Server-Side Limit for a Channel's Unacknowledged Messages">matthias at rabbitmq.com
       </A><BR>
    <I>Sat Jan 12 14:34:01 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="024860.html">[rabbitmq-discuss] Server-Side Limit for a Channel's Unacknowledged	Messages
</A></li>
        <LI>Next message: <A HREF="024899.html">[rabbitmq-discuss] Server-Side Limit for a Channel's Unacknowledged Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24895">[ date ]</a>
              <a href="thread.html#24895">[ thread ]</a>
              <a href="subject.html#24895">[ subject ]</a>
              <a href="author.html#24895">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dave,

On 10/01/13 13:54, Dave Seltzer wrote:
&gt;<i> I was wondering if there's a way to set a policy on the broker that
</I>&gt;<i> would effectively limit the size of the pre-fetch queue for clients?
</I>
It is not uncommon for for novice users (and some clients) to forget to 
ack messages, or accidentally buffer vast quantities of messages in the 
client.

We did consider setting basic.qos{prefetch_count=1} as a default, i.e. 
all channels would be limited like that unless the app issues a 
basic.qos of its own.

Unfortunately that a) could break existing apps, and b) significantly 
reduces throughput.

As you say, one option would be to make this server configurable. Since 
we try to keep the number of config settings small, this is really a 
last resort. Still, it might be worth exploring...

At what granularity should a prefetch count be configurable?

a) server
b) user
c) vhost
d) user &amp; vhost
e) peer ip
f) ...


Regards,

Matthias
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024860.html">[rabbitmq-discuss] Server-Side Limit for a Channel's Unacknowledged	Messages
</A></li>
	<LI>Next message: <A HREF="024899.html">[rabbitmq-discuss] Server-Side Limit for a Channel's Unacknowledged Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24895">[ date ]</a>
              <a href="thread.html#24895">[ thread ]</a>
              <a href="subject.html#24895">[ subject ]</a>
              <a href="author.html#24895">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
