<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq boot failure with	&quot;tables_not_present&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20boot%20failure%20with%0A%09%22tables_not_present%22&In-Reply-To=%3CCAE0Sz%3Dzu_44CTw_mf4h%2BpKueu8kTWyRbyuSphx4CkuXH_Okfpg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024968.html">
   <LINK REL="Next"  HREF="024976.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq boot failure with	&quot;tables_not_present&quot;</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20boot%20failure%20with%0A%09%22tables_not_present%22&In-Reply-To=%3CCAE0Sz%3Dzu_44CTw_mf4h%2BpKueu8kTWyRbyuSphx4CkuXH_Okfpg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq boot failure with	&quot;tables_not_present&quot;">jerryk at rbcon.com
       </A><BR>
    <I>Thu Jan 17 00:01:44 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="024968.html">[rabbitmq-discuss] Rabbitmq boot failure with &quot;tables_not_present&quot;
</A></li>
        <LI>Next message: <A HREF="024976.html">[rabbitmq-discuss] Rabbitmq boot failure	with	&quot;tables_not_present&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24975">[ date ]</a>
              <a href="thread.html#24975">[ thread ]</a>
              <a href="subject.html#24975">[ subject ]</a>
              <a href="author.html#24975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jan 16, 2013 at 11:54 AM, Zhao, Shanyu &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">shanyu.zhao at intel.com</A>&gt;wrote:


&gt;<i> The relevant part of the log is shown below. But the problem is that we
</I>&gt;<i> saw these log messages repeated every 7-8 seconds and can last as long as
</I>&gt;<i> 80 minutes before rabbit finally start up correctly. During this time any
</I>&gt;<i> connection to the rabbitmq cluster will get a disconnected exception.
</I>&gt;<i>
</I>&gt;<i> **
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> Any idea on what might have caused this problem?
</I>&gt;<i>
</I>****
&gt;<i>
</I>&gt;<i> =INFO REPORT==== 16-Jan-2013::14:11:37 ===**
</I>&gt;<i>
</I>&gt;<i> **
</I>&gt;<i>
</I>&gt;<i> Error description:****
</I>&gt;<i>
</I>&gt;<i>    {case_clause,{error,tables_not_present}}****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> Log files (may contain more information):****
</I>&gt;<i>
</I>&gt;<i>    /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-10-0-2-97.log</A>****
</I>&gt;<i>
</I>&gt;<i>    /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-10-0-2-97-sasl.log</A>****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> Stack trace:****
</I>&gt;<i>
</I>&gt;<i>    [{rabbit_mnesia,discover_cluster,1},****
</I>&gt;<i>
</I>&gt;<i>     {rabbit_mnesia,init_from_config,0},****
</I>&gt;<i>
</I>&gt;<i>     {rabbit_mnesia,init,0},****
</I>&gt;<i>
</I>&gt;<i>     {rabbit,'-run_boot_step/1-lc$^1/1-1-',1},****
</I>&gt;<i>
</I>&gt;<i>     {rabbit,run_boot_step,1},****
</I>&gt;<i>
</I>&gt;<i>     {rabbit,'-start/2-lc$^0/1-0-',1},****
</I>&gt;<i>
</I>&gt;<i>     {rabbit,start,2},****
</I>&gt;<i>
</I>&gt;<i>     {application_master,start_it_old,4}]****
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> ** **
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 16-Jan-2013::14:11:38 ===****
</I>&gt;<i>
</I>&gt;<i>     application: rabbit****
</I>&gt;<i>
</I>&gt;<i>     exited: {bad_return,****
</I>&gt;<i>
</I>&gt;<i>                 {{rabbit,start,[normal,[]]},****
</I>&gt;<i>
</I>&gt;<i>                  {'EXIT',****
</I>&gt;<i>
</I>&gt;<i>                      {rabbit,failure_during_boot,****
</I>&gt;<i>
</I>&gt;<i>                          {case_clause,{error,tables_not_present}}}}}}****
</I>&gt;<i>
</I>&gt;<i> type: temporary
</I>&gt;<i>
</I>
You mention that you sometime see this after a redeploy.  Depending on how
you've redeployed, have you successfully clustered the nodes in the first
place?  The error means that some of the tables in Erlang's Mnesia
distributed database upon which Rabbit relies to maintain broker metadata
weren't found, suggesting that some prior state or configuration perished
during your redeploy process.

Best regards,
Jerry
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130116/e5c04d00/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130116/e5c04d00/attachment.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024968.html">[rabbitmq-discuss] Rabbitmq boot failure with &quot;tables_not_present&quot;
</A></li>
	<LI>Next message: <A HREF="024976.html">[rabbitmq-discuss] Rabbitmq boot failure	with	&quot;tables_not_present&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24975">[ date ]</a>
              <a href="thread.html#24975">[ thread ]</a>
              <a href="subject.html#24975">[ subject ]</a>
              <a href="author.html#24975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
