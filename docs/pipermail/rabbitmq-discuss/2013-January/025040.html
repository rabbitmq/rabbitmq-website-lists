<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq boot failure with &quot;tables_not_present&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20boot%20failure%20with%0A%20%22tables_not_present%22&In-Reply-To=%3CD963620277BBFD4B87CF34F284738F2D3AA6FE25%40ORSMSX102.amr.corp.intel.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025011.html">
   <LINK REL="Next"  HREF="024970.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq boot failure with &quot;tables_not_present&quot;</H1>
    <B>Zhao, Shanyu</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20boot%20failure%20with%0A%20%22tables_not_present%22&In-Reply-To=%3CD963620277BBFD4B87CF34F284738F2D3AA6FE25%40ORSMSX102.amr.corp.intel.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq boot failure with &quot;tables_not_present&quot;">shanyu.zhao at intel.com
       </A><BR>
    <I>Fri Jan 18 17:57:32 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025011.html">[rabbitmq-discuss] Rabbitmq boot failure with &quot;tables_not_present&quot;
</A></li>
        <LI>Next message: <A HREF="024970.html">[rabbitmq-discuss] RabbitMQ Highly Available Queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25040">[ date ]</a>
              <a href="thread.html#25040">[ thread ]</a>
              <a href="subject.html#25040">[ subject ]</a>
              <a href="author.html#25040">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Simon,

&gt;&gt;<i>On 16/01/13 19:54, Zhao, Shanyu wrote:
</I>&gt;&gt;&gt;<i> We have two rabbitmq servers to form a cluster. It mostly runs great.
</I>&gt;&gt;&gt;<i> But sometimes after redeploy, we saw some boot failure error in
</I>&gt;&gt;&gt;<i> rabbitmq server log.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>Hi. I've reproduced the problem. In order for this to occur:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>* You must be using the cluster_nodes configuration parameter
</I>&gt;&gt;<i>* You must stop all nodes and then fully reset them
</I>&gt;&gt;<i>* You must then start all nodes simultaneously
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>I suspect it's the latter bit which is causing this to be intermittent
</I>&gt;&gt;<i>for you. I'll file a bug to get this fixed, but in the mean time if you
</I>&gt;&gt;<i>could stagger the start of your cluster nodes (so that one node starts
</I>&gt;&gt;<i>on its own, and then others can start simultaneously or apart) that
</I>&gt;&gt;<i>will act as a workaround.
</I>&gt;<i>
</I>&gt;<i>Thanks a lot for your help! Yes, our deployment scripts simultaneously
</I>&gt;<i>deploy the rabbitmq servers for efficiency. I'll try the workaround you
</I>&gt;<i>mentioned here.
</I>
We've tried your workaround and it works great! Thanks a lot!

Shanyu
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025011.html">[rabbitmq-discuss] Rabbitmq boot failure with &quot;tables_not_present&quot;
</A></li>
	<LI>Next message: <A HREF="024970.html">[rabbitmq-discuss] RabbitMQ Highly Available Queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25040">[ date ]</a>
              <a href="thread.html#25040">[ thread ]</a>
              <a href="subject.html#25040">[ subject ]</a>
              <a href="author.html#25040">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
