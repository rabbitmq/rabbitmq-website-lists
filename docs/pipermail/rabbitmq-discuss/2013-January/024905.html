<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] One Producer, X Consumers where X can change
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20One%20Producer%2C%20X%20Consumers%20where%20X%20can%20change&In-Reply-To=%3C762d6737-941d-44ed-b9b8-83d9e1c3781a%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024875.html">
   <LINK REL="Next"  HREF="024906.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] One Producer, X Consumers where X can change</H1>
    <B>Shadowalker</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20One%20Producer%2C%20X%20Consumers%20where%20X%20can%20change&In-Reply-To=%3C762d6737-941d-44ed-b9b8-83d9e1c3781a%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] One Producer, X Consumers where X can change">ryan.rajkomar at gmail.com
       </A><BR>
    <I>Mon Jan 14 08:34:00 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="024875.html">[rabbitmq-discuss] One Producer, X Consumers where X can change
</A></li>
        <LI>Next message: <A HREF="024906.html">[rabbitmq-discuss] One Producer, X Consumers where X can change
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24905">[ date ]</a>
              <a href="thread.html#24905">[ thread ]</a>
              <a href="subject.html#24905">[ subject ]</a>
              <a href="author.html#24905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi again, 
Been doing a lot of googling on the queue/topic/listening for consumed 
messages count an found this on activemq : 

<A HREF="http://activemq.apache.org/cms/handling-advisory-messages.html">http://activemq.apache.org/cms/handling-advisory-messages.html</A>
It allows one to check the count of currently listening consumer a 
queue/topic. 

Is there anything like this in rabbit mq ?
This might allow me to create a listener that would only send a message to 
notify the first manager that the references were removed.
Another could be to define the &quot;delete referenrences&quot; message to live for x 
consumptions (x being the number of listener on the &quot;delete references&quot; 
queue) and add an advisory listener on the deletion of the message from the 
queue to process deletion of initial data.
Cheers.

Le jeudi 10 janvier 2013 19:22:57 UTC+1, Shadowalker a &#233;crit :
&gt;<i>
</I>&gt;<i> Hi, 
</I>&gt;<i> I need to find a solution to a problem of mine and I thought there might 
</I>&gt;<i> be one within rabbitmq so here it is :
</I>&gt;<i> I have a manager that, when requested to delete an element from its DB, 
</I>&gt;<i> needs to notify all other elements that reference the element it needs to 
</I>&gt;<i> delete also no logner reference it.
</I>&gt;<i>
</I>&gt;<i> The main idea to keep in mind is that those references that need be 
</I>&gt;<i> removed are not necessarily stored in the same DB (nor same server) as the 
</I>&gt;<i> initial manager.
</I>&gt;<i>
</I>&gt;<i> So I thought I could use a queue to notify that references to the element 
</I>&gt;<i> I want to delete need to be removed. And all element that could have a 
</I>&gt;<i> reference to that type of element are set to listen on that queue.
</I>&gt;<i>
</I>&gt;<i> What I'd like to know now is whether I can configure my manager to wait 
</I>&gt;<i> for a return &quot;from the queue&quot; (or something else) to be notified that all 
</I>&gt;<i> references have been removed.
</I>&gt;<i>
</I>&gt;<i> say 
</I>&gt;<i> Manager sends a message to queue Q1.
</I>&gt;<i> I can have 1,2,3,more other managers listening on Q1.
</I>&gt;<i>
</I>&gt;<i> Each of them would consume the message and once all of them have consumed 
</I>&gt;<i> the message 
</I>&gt;<i> I would either send directly a notification to the first manager, or 
</I>&gt;<i> create a entry in a queue that the manager listens on so that he would be 
</I>&gt;<i> notified that it can delete the element.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Is there anyway to do this ?
</I>&gt;<i> Note : the fact that the complete removal of the element is not immediate 
</I>&gt;<i> is not an issue ( ex: I can ask for deletion a 11:00 and the deletion be 
</I>&gt;<i> effective at 13:00)
</I>&gt;<i> Note2 : I've seen the documentation about RPC calls but this is not really 
</I>&gt;<i> what I'm looking for and if avoidable, I'll rather do so.
</I>&gt;<i>
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i> Cheers.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130114/f00a6640/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130114/f00a6640/attachment.htm</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024875.html">[rabbitmq-discuss] One Producer, X Consumers where X can change
</A></li>
	<LI>Next message: <A HREF="024906.html">[rabbitmq-discuss] One Producer, X Consumers where X can change
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24905">[ date ]</a>
              <a href="thread.html#24905">[ thread ]</a>
              <a href="subject.html#24905">[ subject ]</a>
              <a href="author.html#24905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
