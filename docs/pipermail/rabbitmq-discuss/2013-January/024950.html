<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq 2.5-2.6.1 java hanging on close of connection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%202.5-2.6.1%20java%20hanging%20on%20close%20of%0A%20connection&In-Reply-To=%3C50F5E692.6080804%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024949.html">
   <LINK REL="Next"  HREF="024951.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq 2.5-2.6.1 java hanging on close of connection</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%202.5-2.6.1%20java%20hanging%20on%20close%20of%0A%20connection&In-Reply-To=%3C50F5E692.6080804%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq 2.5-2.6.1 java hanging on close of connection">matthias at rabbitmq.com
       </A><BR>
    <I>Tue Jan 15 23:30:26 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="024949.html">[rabbitmq-discuss] Rabbitmq 2.5-2.6.1 java hanging on close of connection
</A></li>
        <LI>Next message: <A HREF="024951.html">[rabbitmq-discuss] Securing Messages Over WAN Link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24950">[ date ]</a>
              <a href="thread.html#24950">[ thread ]</a>
              <a href="subject.html#24950">[ subject ]</a>
              <a href="author.html#24950">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sankalp,

On 15/01/13 20:55, Sankalp Acharya wrote:
&gt;<i> Incidentally, we figured out what the problem is.
</I>
Glad to hear that.

&gt;<i> It seems that the connection blocking, in turn, /also/ blocks close
</I>&gt;<i> requests from being ack'd! This certainly seems like a bug to me &#8211; I'm
</I>&gt;<i> not sure why the server should deny already-connected clients the
</I>&gt;<i> ability to close their connections.
</I>
Connection blocking happens at the tcp level since that's the only way 
the broker can make sure it will not be receiving any more messages 
regardless of what the client is doing.

Consequently the AMQP connection.close command will not be received by 
the broker either. There's nothing we can do about that at the broker end.

Clients could have some sort of timeout for these situations, but few 
client libraries support that.

Regards,

Matthias.
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024949.html">[rabbitmq-discuss] Rabbitmq 2.5-2.6.1 java hanging on close of connection
</A></li>
	<LI>Next message: <A HREF="024951.html">[rabbitmq-discuss] Securing Messages Over WAN Link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24950">[ date ]</a>
              <a href="thread.html#24950">[ thread ]</a>
              <a href="subject.html#24950">[ subject ]</a>
              <a href="author.html#24950">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
