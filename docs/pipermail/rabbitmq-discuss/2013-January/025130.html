<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit Node Won't Boot No Matter What I Do (schema_integrity_check_failed)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20Node%20Won%27t%20Boot%20No%20Matter%20What%20I%20Do%0A%20%28schema_integrity_check_failed%29&In-Reply-To=%3C50FFB3F8.5010100%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025127.html">
   <LINK REL="Next"  HREF="025139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit Node Won't Boot No Matter What I Do (schema_integrity_check_failed)</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20Node%20Won%27t%20Boot%20No%20Matter%20What%20I%20Do%0A%20%28schema_integrity_check_failed%29&In-Reply-To=%3C50FFB3F8.5010100%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit Node Won't Boot No Matter What I Do (schema_integrity_check_failed)">matthias at rabbitmq.com
       </A><BR>
    <I>Wed Jan 23 09:57:12 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025127.html">[rabbitmq-discuss] Rabbit Node Won't Boot No Matter What I Do (schema_integrity_check_failed)
</A></li>
        <LI>Next message: <A HREF="025139.html">[rabbitmq-discuss] Rabbit Node Won't Boot No Matter What I Do	(schema_integrity_check_failed)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25130">[ date ]</a>
              <a href="thread.html#25130">[ thread ]</a>
              <a href="subject.html#25130">[ subject ]</a>
              <a href="author.html#25130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/01/13 09:36, Tim Watson wrote:
&gt;<i> Where do you set
</I>&gt;<i> the RABBITMQ_MNESIA_BASE and/or RABBITMQ_MNESIA_DIR for the individual
</I>&gt;<i> nodes?
</I>
The script supplies a RABBITMQ_NODENAME, which is sufficient.

Btw, as an aside, I notice that the script employs a mixture of 
rabbitmqctl and management API access. The latter for creating vhosts, 
granting user permissions, setting up queue mirroring policies and 
federated exchanges. All but the last one can be done with rabbitmqctl.

&gt;<i> Can you confirm the database directory deletion by running `ls -la`
</I>&gt;<i> afterwards to make sure everything's gone, and then try starting up a
</I>&gt;<i> single node.
</I>
Indeed.

One problem with the scripts is that the servers are started 
asynchronously, with -detached, so they may not have fully started by 
the time the subsequent rabbitmqctl invocations try to talk to them. A 
judicious insertion of 'rabbitmqctl wait &lt;pid_file&gt;' should solve that.

Regards,

Matthias.
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025127.html">[rabbitmq-discuss] Rabbit Node Won't Boot No Matter What I Do (schema_integrity_check_failed)
</A></li>
	<LI>Next message: <A HREF="025139.html">[rabbitmq-discuss] Rabbit Node Won't Boot No Matter What I Do	(schema_integrity_check_failed)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25130">[ date ]</a>
              <a href="thread.html#25130">[ thread ]</a>
              <a href="subject.html#25130">[ subject ]</a>
              <a href="author.html#25130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
