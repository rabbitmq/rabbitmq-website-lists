<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] &quot;Load balancing&quot; queue creation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22Load%20balancing%22%20queue%20creation&In-Reply-To=%3C50EFF090.8010005%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024859.html">
   <LINK REL="Next"  HREF="024873.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] &quot;Load balancing&quot; queue creation</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22Load%20balancing%22%20queue%20creation&In-Reply-To=%3C50EFF090.8010005%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] &quot;Load balancing&quot; queue creation">tim at rabbitmq.com
       </A><BR>
    <I>Fri Jan 11 10:59:28 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="024859.html">[rabbitmq-discuss] &quot;Load balancing&quot; queue creation
</A></li>
        <LI>Next message: <A HREF="024873.html">[rabbitmq-discuss] &quot;Load balancing&quot; queue creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24871">[ date ]</a>
              <a href="thread.html#24871">[ thread ]</a>
              <a href="subject.html#24871">[ subject ]</a>
              <a href="author.html#24871">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Adam,

On 01/10/2013 01:24 PM, Adam Rabung wrote:
&gt;<i> Hello,
</I>&gt;<i> After reading this 
</I>&gt;<i> &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2012-January/017297.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2012-January/017297.html</A>&gt; 
</I>&gt;<i> and this 
</I>&gt;<i> &lt;<A HREF="http://rabbitmq.1065348.n5.nabble.com/Are-queues-replicated-across-a-cluster-td4670.html">http://rabbitmq.1065348.n5.nabble.com/Are-queues-replicated-across-a-cluster-td4670.html</A>&gt;, 
</I>&gt;<i> I understand that connecting to random nodes of a cluster does not 
</I>&gt;<i> really help spread the processing cost across all of the nodes - 
</I>&gt;<i> processing happens in the master (and slaves), regardless of what node 
</I>&gt;<i> I connect to.
</I>&gt;<i>
</I>&gt;<i> Does this suggest that I should take great care of what node I connect 
</I>&gt;<i> to when _creating_ a queue? If I use 
</I>&gt;<i> ConnectionFactory.newConnection(Address[]) with the same array each 
</I>&gt;<i> time, won't a majority of queues be created on the first node of that 
</I>&gt;<i> array, creating a load balance problem? This scenario assumes we 
</I>&gt;<i> mirror only to a subset of nodes.
</I>&gt;<i>
</I>
No that's not the case. RabbitMQ clusters replicate *all* entities 
across *all* nodes (in the cluster), so it doesn't matter where you 
_create_ the queue/exchange. Mirroring is somewhat orthogonal to 
clustering, in that if you create a queue Foo then it will exist on all 
the nodes anyway, but only if you mirror the queues across some nodes 
will messages arriving at the said queue on one particular node get 
replicated to the same queue on the other (mirrored) nodes.

HTH

Tim

&gt;<i> Thank you,
</I>&gt;<i> Adam
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130111/d324fb1f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130111/d324fb1f/attachment.htm</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024859.html">[rabbitmq-discuss] &quot;Load balancing&quot; queue creation
</A></li>
	<LI>Next message: <A HREF="024873.html">[rabbitmq-discuss] &quot;Load balancing&quot; queue creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24871">[ date ]</a>
              <a href="thread.html#24871">[ thread ]</a>
              <a href="subject.html#24871">[ subject ]</a>
              <a href="author.html#24871">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
