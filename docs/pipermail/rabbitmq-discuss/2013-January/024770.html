<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Can someone please confirm the clustered durable queue behavior?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%20someone%20please%20confirm%20the%20clustered%0A%20durable%20queue%20behavior%3F&In-Reply-To=%3C15f9121d-e675-4669-a461-b410a46cf7e5%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024777.html">
   <LINK REL="Next"  HREF="024771.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Can someone please confirm the clustered durable queue behavior?</H1>
    <B>Eugene Vasilchenko</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%20someone%20please%20confirm%20the%20clustered%0A%20durable%20queue%20behavior%3F&In-Reply-To=%3C15f9121d-e675-4669-a461-b410a46cf7e5%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Can someone please confirm the clustered durable queue behavior?">evasilchenko at groupcommerce.com
       </A><BR>
    <I>Thu Jan  3 23:32:07 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="024777.html">[rabbitmq-discuss] Typos in clustering docs
</A></li>
        <LI>Next message: <A HREF="024771.html">[rabbitmq-discuss] Using RabbitMQ at the World&#8217;s 8th Largest Retailer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24770">[ date ]</a>
              <a href="thread.html#24770">[ thread ]</a>
              <a href="subject.html#24770">[ subject ]</a>
              <a href="author.html#24770">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In case someone stumbles here looking for an answer. (Not sure why it 
wasn't posted here)

Thanks to Matthias the answer is as follows:

The old master rejoins the cluster as a slave with an empty and 
unsynchronized queue and catches up to the current master. This is of 
course unless all nodes go down, then the last disc node to go down should 
be brought back up in order to get the messages that were persisted to disc.



On Friday, December 28, 2012 1:17:36 PM UTC-5, Eugene Vasilchenko wrote:
&gt;<i>
</I>&gt;<i> We are planning on using RabbitMQ extensively and I am writing some 
</I>&gt;<i> documentation right now so I just wanted to confirm something. Let's say I 
</I>&gt;<i> have a cluster of 3 machines running rabbit. All of my queues are durable 
</I>&gt;<i> and the node with the master durable queue dies. A new master is chosen and 
</I>&gt;<i> life goes on. Well, what happens when this old master rejoins the cluster? 
</I>&gt;<i> From what I understand is that it just gets a new empty slave copy and just 
</I>&gt;<i> drains the old master queue of messages until it's empty? Am I way off base 
</I>&gt;<i> here?
</I>&gt;<i>
</I>&gt;<i> Thanks a lot for your help.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130103/ab268541/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130103/ab268541/attachment.htm</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024777.html">[rabbitmq-discuss] Typos in clustering docs
</A></li>
	<LI>Next message: <A HREF="024771.html">[rabbitmq-discuss] Using RabbitMQ at the World&#8217;s 8th Largest Retailer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24770">[ date ]</a>
              <a href="thread.html#24770">[ thread ]</a>
              <a href="subject.html#24770">[ subject ]</a>
              <a href="author.html#24770">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
