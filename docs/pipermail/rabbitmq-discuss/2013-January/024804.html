<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Transactions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Transactions&In-Reply-To=%3C5cc06b2d-a235-4bb6-b6e2-92c8e4f24508%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024828.html">
   <LINK REL="Next"  HREF="024805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Transactions</H1>
    <B>CJ</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Transactions&In-Reply-To=%3C5cc06b2d-a235-4bb6-b6e2-92c8e4f24508%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Transactions">rmqjava1a at yahoo.com
       </A><BR>
    <I>Tue Jan  8 00:34:37 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="024828.html">[rabbitmq-discuss] rabbit_auth_backend_ldap and Active Directory
</A></li>
        <LI>Next message: <A HREF="024805.html">[rabbitmq-discuss] Transactions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24804">[ date ]</a>
              <a href="thread.html#24804">[ thread ]</a>
              <a href="subject.html#24804">[ subject ]</a>
              <a href="author.html#24804">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am trying to figure out Rabbit Tx's
 
My producer sends 100 Persistent TX and dies as I directed.
 
Than I run a consumer that reads the messages from the durable Q with a 
txcommit after the reception
 
Then my receiver can consume all 100 messages, and does so.
 
I am happy with this result, so I start over 
 
......
 
I have my producer send another 100 messages.
 
But this time I have the consumer only read 50 persistent messages with a 
txcommit.
 
I read in all of the first 50 messages correctly.
 
So I run the consumer again, hoping to get the next 50, but this time it 
does not see any persistent Tx on the Q, and receive zero messages
 
What it looks like is that when the receiver opens the channel, Rabbit 
sends a batch of messages from the database and the consumer can open them 
one by one, and if the receiver closes the channel before the batch 
processing of all the records has completed, those messages will be lost 
regardless of whether they are persistent or not., and therefore I have to 
take that into account when I write my consumers.  Is this a correct 
assumption, or did I make a mistake ?
 
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130107/99686f54/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130107/99686f54/attachment.htm</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024828.html">[rabbitmq-discuss] rabbit_auth_backend_ldap and Active Directory
</A></li>
	<LI>Next message: <A HREF="024805.html">[rabbitmq-discuss] Transactions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24804">[ date ]</a>
              <a href="thread.html#24804">[ thread ]</a>
              <a href="subject.html#24804">[ subject ]</a>
              <a href="author.html#24804">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
