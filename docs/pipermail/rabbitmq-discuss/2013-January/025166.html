<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Instable HA cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Instable%20HA%20cluster&In-Reply-To=%3C876324c5-235e-4395-99d9-2aeabd04ef6c%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025151.html">
   <LINK REL="Next"  HREF="025168.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Instable HA cluster</H1>
    <B>ben.west at mobankgroup.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Instable%20HA%20cluster&In-Reply-To=%3C876324c5-235e-4395-99d9-2aeabd04ef6c%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Instable HA cluster">ben.west at mobankgroup.com
       </A><BR>
    <I>Fri Jan 25 09:52:30 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025151.html">[rabbitmq-discuss] Change Cluster Node Type
</A></li>
        <LI>Next message: <A HREF="025168.html">[rabbitmq-discuss] Instable HA cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25166">[ date ]</a>
              <a href="thread.html#25166">[ thread ]</a>
              <a href="subject.html#25166">[ subject ]</a>
              <a href="author.html#25166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,


I've been having lots of instability problems with a rabbit cluster I have 
set up.
Since deploying Rabbit MQ a few months ago we have experienced ongoing 
instability with the service.

Our setup:


   - RabbitMQ 3.0.1 running on Windows Azure VMs (Server 2012)
   - We have 2 VMs set up with a rabbit running on each and clustered (with 
   a HA policy), both running as disk nodes
   - Using EasyNetQ for producers consumers


When I first set up the cluster everything seems to be running well and can 
see through the Rabbit console the HA mirroring is all set up.

However after a couple of days I will log into the console and find the 
cluster is broken, usually with one node saying &quot;Node not running&quot; and a 
number of the consumers have dropped off the queues. I then have to tear 
down the cluster and build it all up again - not a massive job, but I'm 
sure i shouldn't need to do this every week!

At first I thought it may be due to Windows updates automatically 
restarting the server and possibly breaking the cluster, but have now 
turned these off and still get the same problem. I have also tried 
rebooting the servers one at a time to test this but the cluster seems to 
pick itself back up once the reboot has finished.

I've done lots of reading online but cant seem to find too many suggestions 
so I hope someone here may be able to help.

I'm more thank happy to provide logs if these may be useful?

Any help will be grately appreciated!

Thanks,

Ben

-- 
 &lt;<A HREF="http://www.mopowered.co.uk">http://www.mopowered.co.uk</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130125/12f03a1a/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130125/12f03a1a/attachment.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025151.html">[rabbitmq-discuss] Change Cluster Node Type
</A></li>
	<LI>Next message: <A HREF="025168.html">[rabbitmq-discuss] Instable HA cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25166">[ date ]</a>
              <a href="thread.html#25166">[ thread ]</a>
              <a href="subject.html#25166">[ subject ]</a>
              <a href="author.html#25166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
