<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbirMq server is getting hanged continously in	Multi node setup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbirMq%20server%20is%20getting%20hanged%20continously%20in%0A%09Multi%20node%20setup&In-Reply-To=%3C31d37e34-374d-4faf-a342-b10c18859ad3%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025115.html">
   <LINK REL="Next"  HREF="025029.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbirMq server is getting hanged continously in	Multi node setup</H1>
    <B>anilkumar.dannina at gmail.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbirMq%20server%20is%20getting%20hanged%20continously%20in%0A%09Multi%20node%20setup&In-Reply-To=%3C31d37e34-374d-4faf-a342-b10c18859ad3%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] RabbirMq server is getting hanged continously in	Multi node setup">anilkumar.dannina at gmail.com
       </A><BR>
    <I>Fri Jan 18 08:55:37 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025115.html">[rabbitmq-discuss] ReturnListener is not invoked
</A></li>
        <LI>Next message: <A HREF="025029.html">[rabbitmq-discuss] RabbirMq server is getting hanged continously in Multi node setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25028">[ date ]</a>
              <a href="thread.html#25028">[ thread ]</a>
              <a href="subject.html#25028">[ subject ]</a>
              <a href="author.html#25028">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

In our organization, as part of one product we are building a multinode 
openstack setup. The setup contains once controller node(api, scheduler, 
cert services are installed in it) and more than one compute nodes(Compute 
and Network services are installed in it). In this setup, sometimes the 
rabbitmq service is getting continuously hanged, with the command *rabbitmqctl 
list_queues*, not all the compute nodes are listing. 

In the scheduler logs, we are continuously getting the following error.

2013-01-18 07:29:02 INFO nova.rpc.common [-] Reconnecting to AMQP server on 
---------------
2013-01-18 07:29:02 ERROR nova.rpc.common [-] AMQP server on -------------- 
is unreachable: [Errno 111] ECONNREFUSED. Trying again in 3 seconds.
2013-01-18 07:29:02 TRACE nova.rpc.common Traceback (most recent call last):
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/local/lib/python2.7/dist-packages/nova-2012.1.1-py2.7.egg/nova/rpc/impl_kombu.py&quot;, 
line 446, in reconnect
2013-01-18 07:29:02 TRACE nova.rpc.common     self._connect()
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/local/lib/python2.7/dist-packages/nova-2012.1.1-py2.7.egg/nova/rpc/impl_kombu.py&quot;, 
line 423, in _connect
2013-01-18 07:29:02 TRACE nova.rpc.common     self.connection.connect()
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/lib/python2.7/dist-packages/kombu/connection.py&quot;, line 95, in connect
2013-01-18 07:29:02 TRACE nova.rpc.common     return self.connection
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/lib/python2.7/dist-packages/kombu/connection.py&quot;, line 396, in 
connection
2013-01-18 07:29:02 TRACE nova.rpc.common     self._connection = 
self._establish_connection()
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/lib/python2.7/dist-packages/kombu/connection.py&quot;, line 364, in 
_establish_connection
2013-01-18 07:29:02 TRACE nova.rpc.common     return 
self.transport.establish_connection()
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/lib/python2.7/dist-packages/kombu/transport/pyamqplib.py&quot;, line 219, 
in establish_connection
2013-01-18 07:29:02 TRACE nova.rpc.common     
connect_timeout=conninfo.connect_timeout)
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/lib/python2.7/dist-packages/kombu/transport/pyamqplib.py&quot;, line 45, 
in __init__
2013-01-18 07:29:02 TRACE nova.rpc.common     super(Connection, 
self).__init__(*args, **kwargs)
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/lib/python2.7/dist-packages/amqplib/client_0_8/connection.py&quot;, line 
129, in __init__
2013-01-18 07:29:02 TRACE nova.rpc.common     self.transport = 
create_transport(host, connect_timeout, ssl)
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/lib/python2.7/dist-packages/amqplib/client_0_8/transport.py&quot;, line 
281, in create_transport
2013-01-18 07:29:02 TRACE nova.rpc.common     return TCPTransport(host, 
connect_timeout)
2013-01-18 07:29:02 TRACE nova.rpc.common   File 
&quot;/usr/lib/python2.7/dist-packages/amqplib/client_0_8/transport.py&quot;, line 
85, in __init__
2013-01-18 07:29:02 TRACE nova.rpc.common     raise socket.error, msg
2013-01-18 07:29:02 TRACE nova.rpc.common error: [Errno 111] ECONNREFUSED


Can any one please suggest the solution, how can i make the rabbitmq server 
service available all the time.

Thanks in advance,
D Anil Kumar.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130118/764edfe8/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130118/764edfe8/attachment.htm</A>&gt;
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025115.html">[rabbitmq-discuss] ReturnListener is not invoked
</A></li>
	<LI>Next message: <A HREF="025029.html">[rabbitmq-discuss] RabbirMq server is getting hanged continously in Multi node setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25028">[ date ]</a>
              <a href="thread.html#25028">[ thread ]</a>
              <a href="subject.html#25028">[ subject ]</a>
              <a href="author.html#25028">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
