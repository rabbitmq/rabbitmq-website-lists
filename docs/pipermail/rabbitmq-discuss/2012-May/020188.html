<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Disk space monitoring watermark issue on 2.8.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disk%20space%20monitoring%20watermark%20issue%20on%0A%202.8.2&In-Reply-To=%3Ce3487fa7-08eb-48fb-ad38-64325eca2625%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020202.html">
   <LINK REL="Next"  HREF="020192.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Disk space monitoring watermark issue on 2.8.2</H1>
    <B>Roshan Pradeep</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disk%20space%20monitoring%20watermark%20issue%20on%0A%202.8.2&In-Reply-To=%3Ce3487fa7-08eb-48fb-ad38-64325eca2625%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Disk space monitoring watermark issue on 2.8.2">codevally.mail.list at gmail.com
       </A><BR>
    <I>Mon May 21 01:18:45 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020202.html">[rabbitmq-discuss] Why Celery?
</A></li>
        <LI>Next message: <A HREF="020192.html">[rabbitmq-discuss] Disk space monitoring watermark issue on	2.8.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20188">[ date ]</a>
              <a href="thread.html#20188">[ thread ]</a>
              <a href="subject.html#20188">[ subject ]</a>
              <a href="author.html#20188">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Brenden for your explanations. But whats the reason behind to 
introduce this kind of RabbitMQ space notification.

Currently we use the RabbitMQ to push and get messages. With that flow, 
when someone push a message to a queue there is always an receiver setup to 
pick it. So we are not storing messages (but if the receiver is not 
functioning obvious we need to store the messages). All our queues 
are durable. 

Hope you can understand my question. 

Thnaks

/Roshan

On Friday, May 18, 2012 7:45:59 PM UTC+10, Brendan Hay wrote:
&gt;<i>
</I>&gt;<i> Hi Roshan,
</I>&gt;<i>
</I>&gt;<i> Please read about disk based flow control and the 'disk_free_limit' here: 
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/memory.html#diskfreesup">http://www.rabbitmq.com/memory.html#diskfreesup</A>
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/configure.html#config-items">http://www.rabbitmq.com/configure.html#config-items</A>
</I>&gt;<i>
</I>&gt;<i> By default it is set to a relative value to your RAM. You can also specify 
</I>&gt;<i> in bytes.
</I>&gt;<i>
</I>&gt;<i> Regarding your 2nd email, If you have haven't overrun the low water mark 
</I>&gt;<i> for disk space, or the high water mark for memory, then Rabbit will be 
</I>&gt;<i> throttling you based on the new flow control mechanism in &gt;= 2.8.1, of 
</I>&gt;<i> which there is a small amount of information at the top of this page: 
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/memory.html">http://www.rabbitmq.com/memory.html</A>
</I>&gt;<i>
</I>&gt;<i> Basically, it sounds like you are publishing faster than rabbit can route 
</I>&gt;<i> messages for that connection. (I'm sure someone else could verify that via 
</I>&gt;<i> the warning message.)
</I>&gt;<i>
</I>&gt;<i> - Brendan
</I>&gt;<i>
</I>&gt;<i> On Fri, May 18, 2012 at 3:00 AM, Roshan Pradeep &lt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">codevally.mail.list at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> In addition to the same issue, when I publishing high rate of messages, 
</I>&gt;&gt;<i> the yelllow box is on for the connection side and it says &quot;Publishing rate 
</I>&gt;&gt;<i> recently restricted by server&quot;. 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Anyone know why is that?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> /Roshan
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Friday, May 18, 2012 10:25:44 AM UTC+10, Roshan Pradeep wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi 
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Today I upgrade our local development RabbitMQ cluster to it's 2.8.2 new 
</I>&gt;&gt;&gt;<i> version. After checking cluster through monitoring tool I noticed some red 
</I>&gt;&gt;&gt;<i> boxes for diskspace watermark. I found this feature in the RabbitMQ 
</I>&gt;&gt;&gt;<i> documentation and could someone please explain me how this feature really 
</I>&gt;&gt;&gt;<i> works/importance in production environment. Because on my production it is 
</I>&gt;&gt;&gt;<i> 2.7.1 installed.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Many Thanks
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> /Roshan  
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120520/d294524d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120520/d294524d/attachment.htm</A>&gt;
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020202.html">[rabbitmq-discuss] Why Celery?
</A></li>
	<LI>Next message: <A HREF="020192.html">[rabbitmq-discuss] Disk space monitoring watermark issue on	2.8.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20188">[ date ]</a>
              <a href="thread.html#20188">[ thread ]</a>
              <a href="subject.html#20188">[ subject ]</a>
              <a href="author.html#20188">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
