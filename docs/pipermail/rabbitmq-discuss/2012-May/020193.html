<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Highly Available Cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Highly%20Available%20Cluster&In-Reply-To=%3C1308E5CFD51CA14DA7B024A689B8B1680254E43211%40LDNPCMMGMB01.INTRANET.BARCAPINT.COM%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020272.html">
   <LINK REL="Next"  HREF="020197.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Highly Available Cluster</H1>
    <B>rui.favas at barclays.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Highly%20Available%20Cluster&In-Reply-To=%3C1308E5CFD51CA14DA7B024A689B8B1680254E43211%40LDNPCMMGMB01.INTRANET.BARCAPINT.COM%3E"
       TITLE="[rabbitmq-discuss] Highly Available Cluster">rui.favas at barclays.com
       </A><BR>
    <I>Mon May 21 11:44:11 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020272.html">[rabbitmq-discuss] unable to join cluster - mnesia func aborted
</A></li>
        <LI>Next message: <A HREF="020197.html">[rabbitmq-discuss] Highly Available Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20193">[ date ]</a>
              <a href="thread.html#20193">[ thread ]</a>
              <a href="subject.html#20193">[ subject ]</a>
              <a href="author.html#20193">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Unable to start single node on a cluster with two servers. I'm getting the error below if I try to start server1 when server2 is down:

BOOT FAILED
===========

Timeout contacting cluster nodes: [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bcfs_bunny at server1</A>].

I have the following cluster with two servers:-

Name

File descriptors (?)(used / available)

Socket descriptors (?)(used / available)

Erlang processes (used / available)

Memory

Uptime

Version (RabbitMQ / Erlang)

Type

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bcfs_bunny at server1</A>&lt;<A HREF="http://bim_bus_admin:55672/#/nodes/bcfs_bunny%40ldnpsm028784">http://bim_bus_admin:55672/#/nodes/bcfs_bunny%40ldnpsm028784</A>&gt;

?&lt;<A HREF="http://technet.microsoft.com/en-us/sysinternals/bb896655">http://technet.microsoft.com/en-us/sysinternals/bb896655</A>&gt; / 65536

294 / 58890

3498 / 1048576

160.1MB
57.6GB high watermark

7h 57m

2.8.1 / R15B01

Disc Stats *

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bcfs_bunny at servers</A>&lt;<A HREF="http://bim_bus_admin:55672/#/nodes/bcfs_bunny%40ldnpsm028785">http://bim_bus_admin:55672/#/nodes/bcfs_bunny%40ldnpsm028785</A>&gt;

?&lt;<A HREF="http://technet.microsoft.com/en-us/sysinternals/bb896655">http://technet.microsoft.com/en-us/sysinternals/bb896655</A>&gt; / 65536

266 / 58890

3124 / 1048576

115.9MB
57.6GB high watermark

1h 3m

2.8.1 / R15B01

Disc


I'm using Auto-configuration using the config files below:

server1 Config file rabbitmq.config
----------------------------------------------------------------------------------------
[
                {rabbit,
                                [{tcp_listeners, [5672]},
                                {cluster_nodes, [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bcfs_bunny at server1</A>, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bcfs_bunny at server2</A>]},
                                {vm_memory_high_watermark, 0.4},
                                {default_user,&lt;&lt;&quot;adminuser&quot;&gt;&gt;},
                                {default_vhost,&lt;&lt;&quot;/bcfs&quot;&gt;&gt;}
]},
                {rabbitmq_management,
                                [ {http_log_dir, 'd:\\logs\\rabbit-mgmt'} ] },
                {rabbitmq_management_agent,
                                [ {force_fine_statistics, false} ] }
].
----------------------------------------------------------------------------------------

Server2 Config file rabbitmq.config

----------------------------------------------------------------------------------------
[
                {rabbit,
                                [{tcp_listeners, [5672]},
                                {cluster_nodes, [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bcfs_bunny at server2</A>, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bcfs_bunny at server1</A>]},
                                {vm_memory_high_watermark, 0.4},
                                {default_user,&lt;&lt;&quot;adminuser&quot;&gt;&gt;},
                                {default_vhost,&lt;&lt;&quot;/bcfs&quot;&gt;&gt;}
]},
                {rabbitmq_management,
                                [ {http_log_dir, 'd:\\logs\\rabbit-mgmt'} ] },
                {rabbitmq_management_agent,
                                [ {force_fine_statistics, false} ] }
].
----------------------------------------------------------------------------------------


_______________________________________________

This e-mail may contain information that is confidential, privileged or otherwise protected from 
disclosure. If you are not an intended recipient of this e-mail, do not duplicate or redistribute 
it by any means. Please delete it and any attachments and notify the sender that you have received 
it in error. Unless specifically indicated, this e-mail is not an offer to buy or sell or a 
solicitation to buy or sell any securities, investment products or other financial product or 
service, an official confirmation of any transaction, or an official statement of Barclays. Any 
views or opinions presented are solely those of the author and do not necessarily represent those 
of Barclays. This e-mail is subject to terms available at the following link: www.barcap.com/emaildisclaimer. 
By messaging with Barclays you consent to the foregoing.  Barclays offers premier investment banking 
products and services to its clients through Barclays Bank PLC, a company registered in England 
(number 1026167) with its registered office at 1 Churchill Place, London, E14 5HP.  This email may 
relate to or be sent from other members of the Barclays Group.

_______________________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120521/2ffee7d9/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120521/2ffee7d9/attachment.htm</A>&gt;
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020272.html">[rabbitmq-discuss] unable to join cluster - mnesia func aborted
</A></li>
	<LI>Next message: <A HREF="020197.html">[rabbitmq-discuss] Highly Available Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20193">[ date ]</a>
              <a href="thread.html#20193">[ thread ]</a>
              <a href="subject.html#20193">[ subject ]</a>
              <a href="author.html#20193">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
