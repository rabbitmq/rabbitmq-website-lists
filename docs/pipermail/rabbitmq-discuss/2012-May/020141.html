<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] question, Shovel : different queue name between source and destination
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20question%2C%0A%20Shovel%20%3A%20different%20queue%20name%20between%20source%20and%20destination&In-Reply-To=%3CCAHZsVQab%2BRVJ0Jt_62AckwE0f0Q%3DVLA-g%3D8yeW7EmMkKu3QfiQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020135.html">
   <LINK REL="Next"  HREF="020166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] question, Shovel : different queue name between source and destination</H1>
    <B>Brendan Hay</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20question%2C%0A%20Shovel%20%3A%20different%20queue%20name%20between%20source%20and%20destination&In-Reply-To=%3CCAHZsVQab%2BRVJ0Jt_62AckwE0f0Q%3DVLA-g%3D8yeW7EmMkKu3QfiQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] question, Shovel : different queue name between source and destination">brendan at soundcloud.com
       </A><BR>
    <I>Fri May 18 13:00:55 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020135.html">[rabbitmq-discuss] question, Shovel : different queue name between source and destination
</A></li>
        <LI>Next message: <A HREF="020166.html">[rabbitmq-discuss] question, Shovel : different queue name between source and destination
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20141">[ date ]</a>
              <a href="thread.html#20141">[ thread ]</a>
              <a href="subject.html#20141">[ subject ]</a>
              <a href="author.html#20141">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In fairness, I probably over complicated things by trying to be as explicit
as possible with the config.
But here is my updated gist containing a 'publish_fields' addition to
ensure the messages go to the destination exchange:
<A HREF="https://gist.github.com/2723964">https://gist.github.com/2723964</A>

With that adjustment, you should be able to publish a message to
'source_exchange' without a routing key, and have it turn up in
'destination_queue'.

Here are also a couple of things you can do to assist in debugging shovel
problems:

Firstly tailing the logs under /var/log/rabbitmq will show any specific
authentication/vhost errors the shovel has while starting up.

The shovel management plugin can be enabled via: rabbitmq-plugins enable
rabbitmq_shovel_management
This will let you see the status of the shovel via a tab in the management
ui.

PS. If you are running the shovel plugin as either the source or
destination for the configuration then you can specify the amqp uri as just
&quot;<A HREF="amqp://&quot;.">amqp://&quot;.</A>
The shovel plugin will then use guest on vhost '/' via the amqp direct
connection - this is a good. You can read more about the direct connection
here: <A HREF="http://www.rabbitmq.com/erlang-client-user-guide.html#model">http://www.rabbitmq.com/erlang-client-user-guide.html#model</A>


On Fri, May 18, 2012 at 12:05 PM, bino oetomo &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bino at indoakses-online.com</A>&gt;wrote:

&gt;<i> Dear Brendan
</I>&gt;<i> I really appreciate your help
</I>&gt;<i> On 05/18/2012 03:37 PM, Brendan Hay wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Bino,
</I>&gt;&gt;<i> ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've tried to outline the above in a (untested) configuration snippet
</I>&gt;&gt;<i> here:
</I>&gt;&gt;<i> <A HREF="https://gist.github.com/**2723964">https://gist.github.com/**2723964</A> &lt;<A HREF="https://gist.github.com/2723964">https://gist.github.com/2723964</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> I try to adopt your configuration.
</I>&gt;<i> Here is my config file at <A HREF="http://pastebin.com/b6Z2UNqJ">http://pastebin.com/b6Z2UNqJ</A>
</I>&gt;<i>
</I>&gt;<i> When I try to post msg to source broker .. got no error
</I>&gt;<i> But ... some how the msg is looks like going no where
</I>&gt;<i>
</I>&gt;<i> I check the management GUI :
</I>&gt;<i> 1. Source broker .... no ready msg in all queue
</I>&gt;<i> 2. Destination broker .... no ready msg in all queue in all vhost
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sincerely
</I>&gt;<i> -bino-
</I>&gt;<i>
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120518/ced0e528/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120518/ced0e528/attachment.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020135.html">[rabbitmq-discuss] question, Shovel : different queue name between source and destination
</A></li>
	<LI>Next message: <A HREF="020166.html">[rabbitmq-discuss] question, Shovel : different queue name between source and destination
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20141">[ date ]</a>
              <a href="thread.html#20141">[ thread ]</a>
              <a href="subject.html#20141">[ subject ]</a>
              <a href="author.html#20141">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
