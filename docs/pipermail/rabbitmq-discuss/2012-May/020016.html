<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federation Fanout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20Fanout&In-Reply-To=%3CCAJ1FMH66buJ16UgG0o-9vMgF2j%3DLX0Dh1C4zx4pAM2pK533TZw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020051.html">
   <LINK REL="Next"  HREF="020025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federation Fanout</H1>
    <B>Timya Tortus</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20Fanout&In-Reply-To=%3CCAJ1FMH66buJ16UgG0o-9vMgF2j%3DLX0Dh1C4zx4pAM2pK533TZw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Federation Fanout">timya15 at gmail.com
       </A><BR>
    <I>Mon May 14 17:19:58 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020051.html">[rabbitmq-discuss] getting error Mnesia could not connect to some nodes ?
</A></li>
        <LI>Next message: <A HREF="020025.html">[rabbitmq-discuss] Federation Fanout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20016">[ date ]</a>
              <a href="thread.html#20016">[ thread ]</a>
              <a href="subject.html#20016">[ subject ]</a>
              <a href="author.html#20016">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

Having 3 rabbitmq servers installed on one machine.
The configuration below, also attached are the config files.
1) node name: hare
host: localhost
tcp listener: 5672
mgmt listener: 55670
web console: 55672
config file: hare.config

2) node name: rabbit1
host: localhost
tcp listener: 5673
mgmt listener: 55673
web console: 55674
config file: rabbit1.config

3) node name: rabbit2
host: localhost
tcp listener: 5674
mgmt listener: 55675
web console: 55676
config file: rabbit2.config

 ------------------------------------------------
 | localhost (127.0.0.1)                        |
 |                           +--+ +--+          |
 |                 M1        |  | |  |      M1  |
 |               --------&gt;   |  +-+  +--+   M3  |
 |                 M2        | rabbit1  |   M5  |
 |               --------&gt;   |          |   M7  |
 |  +--+ +--+      M3        +----------+       |
 |  |  | |  |    --------&gt;                      |
 |  |  +-+  +--+   M4                           |
 |  |  hare    | --------&gt;                      |
 |  |          |   M5                           |
 |  +----------+ --------&gt;    +--+ +--+         |
 |                 M6         |  | |  |     M2  |
 |               --------&gt;    |  +-+  +--+  M4  |
 |                 M7         | rabbit2  |  M6  |
 |               --------&gt;    |          |      |
 |                            +----------+      |
 ------------------------------------------------

Downstream messages are sent as M1, M2..... M7.
The messages received on the federated clients are as
rabbit1 receiving M1, M3, M5, M7
rabbit2 receiving M2, M4, M6

Why are all the messages not being received by both rabbit1 and rabbit2.

This also happens for the case below:
1) node name: hare
host: 204.11.52.128

2) node name: rabbit1
host: 192.168.1.1 (NAT: 204.8.156.142)

3) node name: rabbit2
host: 192.168.1.2 (NAT: 204.8.156.142)

i.e hare is a hosted rabbitmq server. While rabbit1 and rabbit2 are in a
local environment accessing hare.

Regards.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120514/47073f56/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120514/47073f56/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: hare.config
Type: application/octet-stream
Size: 166 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120514/47073f56/attachment.obj">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120514/47073f56/attachment.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rabbit1.config
Type: application/octet-stream
Size: 1049 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120514/47073f56/attachment-0001.obj">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120514/47073f56/attachment-0001.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rabbit2.config
Type: application/octet-stream
Size: 1051 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120514/47073f56/attachment-0002.obj">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120514/47073f56/attachment-0002.obj</A>&gt;
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020051.html">[rabbitmq-discuss] getting error Mnesia could not connect to some nodes ?
</A></li>
	<LI>Next message: <A HREF="020025.html">[rabbitmq-discuss] Federation Fanout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20016">[ date ]</a>
              <a href="thread.html#20016">[ thread ]</a>
              <a href="subject.html#20016">[ subject ]</a>
              <a href="author.html#20016">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
