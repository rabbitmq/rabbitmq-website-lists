<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] unable to join cluster - mnesia func aborted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20unable%20to%20join%20cluster%20-%20mnesia%20func%20aborted&In-Reply-To=%3Ce4a2aae4-4fa4-404b-bf9c-16f723d5f492%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020240.html">
   <LINK REL="Next"  HREF="020193.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] unable to join cluster - mnesia func aborted</H1>
    <B>Rader Lei</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20unable%20to%20join%20cluster%20-%20mnesia%20func%20aborted&In-Reply-To=%3Ce4a2aae4-4fa4-404b-bf9c-16f723d5f492%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] unable to join cluster - mnesia func aborted">rader.net at gmail.com
       </A><BR>
    <I>Wed May 23 09:46:47 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020240.html">[rabbitmq-discuss] unable to join cluster - mnesia func aborted
</A></li>
        <LI>Next message: <A HREF="020193.html">[rabbitmq-discuss] Highly Available Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20272">[ date ]</a>
              <a href="thread.html#20272">[ thread ]</a>
              <a href="subject.html#20272">[ subject ]</a>
              <a href="author.html#20272">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthias,

The node on Ubuntu is using an older version of erlang (13.b). After i 
upgrade the erlang to the latest version (15b.1), which is used by the 
nodes on windows, the node on ubuntu can be added to the cluster.

Great thanks for your help! 

On Monday, May 21, 2012 3:13:09 PM UTC+8, Rader Lei wrote:
&gt;<i>
</I>&gt;<i> i have a cluster of 3 rabbimtmq servers on windows 2008 and 2003. they 
</I>&gt;<i> works fine. Then I set up a rabbitmq server on Ubuntu 11. when i try to add 
</I>&gt;<i> the new rabbitmq node into the cluster, i get an error - &quot;unable to join 
</I>&gt;<i> the cluster&quot;. The log file looks fine, no error message. I can access the 
</I>&gt;<i> cluster master node with command &quot;rabbitmqctl -n <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A> status&quot;. I 
</I>&gt;<i> have no idea why this error happen:( 
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Here is the error:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">leid at yud-vm</A>:~$ sudo rabbitmqctl cluster <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>
</I>&gt;<i> Clustering node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at yud-vm</A>' with [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>] ...
</I>&gt;<i> Error: {unable_to_join_cluster,
</I>&gt;<i>            [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>],
</I>&gt;<i>            {aborted,
</I>&gt;<i>                {function_clause,
</I>&gt;<i>                    [{mnesia_schema,cs2list,
</I>&gt;<i>                         [{cstruct,schema,set,
</I>&gt;<i>                              [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at STARS110</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at CNCDS108</A>],
</I>&gt;<i>                              [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>],
</I>&gt;<i>                              [],0,read_write,false,[],[],false,schema,
</I>&gt;<i>                              [table,cstruct],
</I>&gt;<i>                              [],[],[],
</I>&gt;<i>                              {{1336,728415,425002}<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at CNCDS131</A>},
</I>&gt;<i>                              {{24,0},
</I>&gt;<i>                               {<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>,{1337,582820,591922}}}}]},
</I>&gt;<i>                     {mnesia_schema,do_merge_schema,0},
</I>&gt;<i>                     {mnesia_tm,apply_fun,3},
</I>&gt;<i>                     {mnesia_tm,execute_transaction,5},
</I>&gt;<i>                     {mnesia_schema,schema_coordinator,3}]}}}
</I>&gt;<i>
</I>&gt;<i> Here is the log:
</I>&gt;<i>
</I>&gt;&gt;<i> =INFO REPORT==== 21-May-2012::15:08:16 ===
</I>&gt;&gt;<i> Clustering with [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>]
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =INFO REPORT==== 21-May-2012::15:08:16 ===
</I>&gt;&gt;<i>     application: mnesia
</I>&gt;&gt;<i>     exited: stopped
</I>&gt;&gt;<i>     type: temporary
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120523/e93e6bea/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120523/e93e6bea/attachment.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020240.html">[rabbitmq-discuss] unable to join cluster - mnesia func aborted
</A></li>
	<LI>Next message: <A HREF="020193.html">[rabbitmq-discuss] Highly Available Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20272">[ date ]</a>
              <a href="thread.html#20272">[ thread ]</a>
              <a href="subject.html#20272">[ subject ]</a>
              <a href="author.html#20272">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
