<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] STOMP adapter lose the last message of a	burst
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20STOMP%20adapter%20lose%20the%20last%20message%20of%20a%0A%09burst&In-Reply-To=%3C4FBADC88.2060705%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020226.html">
   <LINK REL="Next"  HREF="020238.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] STOMP adapter lose the last message of a	burst</H1>
    <B>Jos&#233; Mic&#243;</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20STOMP%20adapter%20lose%20the%20last%20message%20of%20a%0A%09burst&In-Reply-To=%3C4FBADC88.2060705%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] STOMP adapter lose the last message of a	burst">jose.mico at gmail.com
       </A><BR>
    <I>Tue May 22 01:23:36 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020226.html">[rabbitmq-discuss] STOMP adapter lose the last message of a	burst
</A></li>
        <LI>Next message: <A HREF="020238.html">[rabbitmq-discuss] STOMP adapter lose the last message of a	burst
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20227">[ date ]</a>
              <a href="thread.html#20227">[ thread ]</a>
              <a href="subject.html#20227">[ subject ]</a>
              <a href="author.html#20227">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Forget my suggestion about process_received_bytes(), I was looking at 
the wrong repository, ha.

Well, here is attached the best test case I got so far: a Python script 
that sends very quickly 1001 messages, the first 1000 ones to queue 
&quot;stomp_bug&quot; and the last one to another queue &quot;stomp_bug_last&quot;.

Running it several times, can be found that sometimes the last message 
is lost (and only the last message).
I've executed it 20 times, and got only 10 messages into queue 
&quot;stomp_bug_last&quot;.

I looked at the actual source code in mercurial, and I really cannot 
help with that...


Jos&#233;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: stomp_bug_2.py
Type: text/x-python
Size: 1555 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120521/812e4e74/attachment.py">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120521/812e4e74/attachment.py</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020226.html">[rabbitmq-discuss] STOMP adapter lose the last message of a	burst
</A></li>
	<LI>Next message: <A HREF="020238.html">[rabbitmq-discuss] STOMP adapter lose the last message of a	burst
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20227">[ date ]</a>
              <a href="thread.html#20227">[ thread ]</a>
              <a href="subject.html#20227">[ subject ]</a>
              <a href="author.html#20227">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
