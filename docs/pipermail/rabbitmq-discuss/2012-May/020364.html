<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Throttling messages sent out upon reconnect
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Throttling%20messages%20sent%20out%20upon%20reconnect&In-Reply-To=%3CCAFuUQDt96%2BfiUWyZ6wFfQLzX%3DV1xZeWdoyfDu-3vCxAHptM2tA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020359.html">
   <LINK REL="Next"  HREF="020367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Throttling messages sent out upon reconnect</H1>
    <B>Greg Rice</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Throttling%20messages%20sent%20out%20upon%20reconnect&In-Reply-To=%3CCAFuUQDt96%2BfiUWyZ6wFfQLzX%3DV1xZeWdoyfDu-3vCxAHptM2tA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Throttling messages sent out upon reconnect">gregrice at gmail.com
       </A><BR>
    <I>Mon May 28 14:28:49 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020359.html">[rabbitmq-discuss] stomp+ssl message send works,	receive hangs after around 200-300 messages
</A></li>
        <LI>Next message: <A HREF="020367.html">[rabbitmq-discuss] How to set fast expiration for messages or	destinations (STOMP 1.0)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20364">[ date ]</a>
              <a href="thread.html#20364">[ thread ]</a>
              <a href="subject.html#20364">[ subject ]</a>
              <a href="author.html#20364">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey folks,

I'm using the Bunny AMQP library to publish messages to a queue
cluster. If the cluster goes down, or the network drops out, messages
spool up on the publisher side. When network connectivity is restored,
those spooled messages all go out at once, hiking up CPU load on the
publisher's end.

I'd like to throttle publishing so that even on reconnect, publishing
doesn't exceed a certain rate of messages per second. Either that, or,
less ideally, I'd like to limit the amount of messages spooled so that
no more than, say, 100 messages can back up while the network is down.

Where should I be looking for a solution to this problem?

Thanks,
Greg Rice
Systems Engineer, MobiTV
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020359.html">[rabbitmq-discuss] stomp+ssl message send works,	receive hangs after around 200-300 messages
</A></li>
	<LI>Next message: <A HREF="020367.html">[rabbitmq-discuss] How to set fast expiration for messages or	destinations (STOMP 1.0)?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20364">[ date ]</a>
              <a href="thread.html#20364">[ thread ]</a>
              <a href="subject.html#20364">[ subject ]</a>
              <a href="author.html#20364">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
