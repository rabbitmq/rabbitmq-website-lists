<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] unable to join cluster - mnesia func aborted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20unable%20to%20join%20cluster%20-%20mnesia%20func%20aborted&In-Reply-To=%3CEF6FEB78-96FE-4754-8A1B-30491535B084%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020190.html">
   <LINK REL="Next"  HREF="020272.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] unable to join cluster - mnesia func aborted</H1>
    <B>Steve Powell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20unable%20to%20join%20cluster%20-%20mnesia%20func%20aborted&In-Reply-To=%3CEF6FEB78-96FE-4754-8A1B-30491535B084%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] unable to join cluster - mnesia func aborted">steve at rabbitmq.com
       </A><BR>
    <I>Tue May 22 10:49:59 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020190.html">[rabbitmq-discuss] unable to join cluster - mnesia func aborted
</A></li>
        <LI>Next message: <A HREF="020272.html">[rabbitmq-discuss] unable to join cluster - mnesia func aborted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20240">[ date ]</a>
              <a href="thread.html#20240">[ thread ]</a>
              <a href="subject.html#20240">[ subject ]</a>
              <a href="author.html#20240">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Rader Lei,

The most obvious problem that might cause this is a mismatch in the
versions of Erlang (or RabbitMQ).

Can you check that they are the same? It is likely that the Ubuntu
version of Erlang is older.

Steve Powell  (a happy bunny)
----------some more definitions from the SPD----------
chinchilla (n.) Cooling device for the lower jaw.
socialcast (n.) Someone to whom everyone is speaking but nobody likes.
literacy (n.) A textually transmitted disease usually contracted in childhood.

On 21 May 2012, at 08:13, Rader Lei wrote:

&gt;<i> i have a cluster of 3 rabbimtmq servers on windows 2008 and 2003. they works fine. Then I set up a rabbitmq server on Ubuntu 11. when i try to add the new rabbitmq node into the cluster, i get an error - &quot;unable to join the cluster&quot;. The log file looks fine, no error message. I can access the cluster master node with command &quot;rabbitmqctl -n <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A> status&quot;. I have no idea why this error happen:( 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Here is the error:
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">leid at yud-vm</A>:~$ sudo rabbitmqctl cluster <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>
</I>&gt;<i> Clustering node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at yud-vm</A>' with [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>] ...
</I>&gt;<i> Error: {unable_to_join_cluster,
</I>&gt;<i>            [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>],
</I>&gt;<i>            {aborted,
</I>&gt;<i>                {function_clause,
</I>&gt;<i>                    [{mnesia_schema,cs2list,
</I>&gt;<i>                         [{cstruct,schema,set,
</I>&gt;<i>                              [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at STARS110</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at CNCDS108</A>],
</I>&gt;<i>                              [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>],
</I>&gt;<i>                              [],0,read_write,false,[],[],false,schema,
</I>&gt;<i>                              [table,cstruct],
</I>&gt;<i>                              [],[],[],
</I>&gt;<i>                              {{1336,728415,425002}<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at CNCDS131</A>},
</I>&gt;<i>                              {{24,0},
</I>&gt;<i>                               {<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>,{1337,582820,591922}}}}]},
</I>&gt;<i>                     {mnesia_schema,do_merge_schema,0},
</I>&gt;<i>                     {mnesia_tm,apply_fun,3},
</I>&gt;<i>                     {mnesia_tm,execute_transaction,5},
</I>&gt;<i>                     {mnesia_schema,schema_coordinator,3}]}}}
</I>&gt;<i> Here is the log:
</I>&gt;<i> =INFO REPORT==== 21-May-2012::15:08:16 ===
</I>&gt;<i> Clustering with [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CNCDS131</A>]
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 21-May-2012::15:08:16 ===
</I>&gt;<i>     application: mnesia
</I>&gt;<i>     exited: stopped
</I>&gt;<i>     type: temporary
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020190.html">[rabbitmq-discuss] unable to join cluster - mnesia func aborted
</A></li>
	<LI>Next message: <A HREF="020272.html">[rabbitmq-discuss] unable to join cluster - mnesia func aborted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20240">[ date ]</a>
              <a href="thread.html#20240">[ thread ]</a>
              <a href="subject.html#20240">[ subject ]</a>
              <a href="author.html#20240">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
