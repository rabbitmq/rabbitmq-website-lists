<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] in 2.8.2, when bringing 500 subscribers on line, all publishing blocks until queues empty
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20in%202.8.2%2C%20when%20bringing%20500%20subscribers%20on%20line%2C%0A%20all%20publishing%20blocks%20until%20queues%20empty&In-Reply-To=%3C5509deeb-f69d-4e56-8047-aafb08d069a7%40oy3g2000pbc.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020322.html">
   <LINK REL="Next"  HREF="020319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] in 2.8.2, when bringing 500 subscribers on line, all publishing blocks until queues empty</H1>
    <B>Chip Salzenberg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20in%202.8.2%2C%20when%20bringing%20500%20subscribers%20on%20line%2C%0A%20all%20publishing%20blocks%20until%20queues%20empty&In-Reply-To=%3C5509deeb-f69d-4e56-8047-aafb08d069a7%40oy3g2000pbc.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] in 2.8.2, when bringing 500 subscribers on line, all publishing blocks until queues empty">rev.chip at gmail.com
       </A><BR>
    <I>Fri May 25 03:16:44 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020322.html">[rabbitmq-discuss] some basic management questions
</A></li>
        <LI>Next message: <A HREF="020319.html">[rabbitmq-discuss] Cluster Disk Node failure and cluster membership
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20313">[ date ]</a>
              <a href="thread.html#20313">[ thread ]</a>
              <a href="subject.html#20313">[ subject ]</a>
              <a href="author.html#20313">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good day, good sirs.  I have a four-machine cluster, with one queue on
each.  I start publishing to all four queues, all seems well, and the
queues build up a backlog.  I then launch 500 instances of the
consuming application.  The consumers subscribe to all four queues and
set prefetch-count = 2 on all subscriptions.  The workers get their
messages fine....

BUT: At the moment all the workers come on line, all attempts to
publish to the queues block.  And they don't unblock until the queues
have emptied out.

Is there something about having lots of workers make lots of
subscriptions with prefetch that somehow ties up the queue so it won't
accept messages?  Help, please!
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020322.html">[rabbitmq-discuss] some basic management questions
</A></li>
	<LI>Next message: <A HREF="020319.html">[rabbitmq-discuss] Cluster Disk Node failure and cluster membership
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20313">[ date ]</a>
              <a href="thread.html#20313">[ thread ]</a>
              <a href="subject.html#20313">[ subject ]</a>
              <a href="author.html#20313">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
