<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Once again:  big,	big trouble attempting a clean reinstall
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Once%20again%3A%20%20big%2C%0A%09big%20trouble%20attempting%20a%20clean%20reinstall&In-Reply-To=%3CC7219E06073FF54E8A3D10C29009E7FE02D3F34D%40BOSQNAOMAIL1.qnao.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024033.html">
   <LINK REL="Next"  HREF="024016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Once again:  big,	big trouble attempting a clean reinstall</H1>
    <B>Pollard, James</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Once%20again%3A%20%20big%2C%0A%09big%20trouble%20attempting%20a%20clean%20reinstall&In-Reply-To=%3CC7219E06073FF54E8A3D10C29009E7FE02D3F34D%40BOSQNAOMAIL1.qnao.net%3E"
       TITLE="[rabbitmq-discuss] Once again:  big,	big trouble attempting a clean reinstall">Jim.Pollard at QinetiQ-NA.com
       </A><BR>
    <I>Tue Nov 20 19:22:32 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024033.html">[rabbitmq-discuss] Nagios plugins fail with RabbitMQ 3.0.0
</A></li>
        <LI>Next message: <A HREF="024016.html">[rabbitmq-discuss] Once again:  big,	big trouble attempting a clean reinstall
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24013">[ date ]</a>
              <a href="thread.html#24013">[ thread ]</a>
              <a href="subject.html#24013">[ subject ]</a>
              <a href="author.html#24013">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello rabbitmq experts.

I'm not experienced in installation, configuration, or usage of this component.  But, some months ago I successfully installed an earlier version.

I am now attempting a clean reinstall of a newer version of rabbitmq, and having a very frustrating time.

configuration details:

installing on my local developer desktop, Win 7 (32 bit).
erlang version installed:  5.9.1
rabbitmq installer:  rabbitmq-server-3.0.0.exe

First time running the rabbitmq installer, it pops up a dialog:  &quot;RabbitMQ is already installed.  Click 'OK' to remove the previous version or 'Cancel&quot; to cancel this installation.&quot;

I click 'OK'.  It runs through its uninstall sequence.  During this execution, it throws up 2 console windows that immediately disappear, much too quickly to capture or note any output in these console windows (but see further below).  

It then pops up a standard windows installer dialog to the effect of:  &quot;Rabbit MQ Server has been uninstalled from your computer.&quot;  So, indicating successful uninstall.


I then run the installer again.  It asks me to confirm installation &amp; directory, then runs through the install sequence.  Again, it throws up console windows that immediately disappear.  I can see that output is displayed, but can't make out what it is.  (but see further below).

I then get a standard windows installer dialog to the effect of:  &quot;Rabbit MQ Server 3.0.0 has been installed on your computer.&quot;  Once again, indicating success.

RabbitMQ does NOT appear in the list of installed windows services.

Launching a command window and navigating to %RABBITMQ_HOME%/sbin, and then running:

rabbitmq-service install

...returns:

RabbitMQ service is already present - only updating service parameters.

{%ERLANG_HOME%}\erts-5.9.1\bin\erlsrv: Warning, could not set correct service description (comment)Error:  The handle is invalid.

...well, says I, if it's already present, I should be able to start it. Running:

rabbitmq-service start

...returns:

{%ERLANG_HOME%}\erts-5.9.1\bin\erlsrv: Failed to start service RabbitMQ.  Error: The handle is invalid.

Now, funny thing.  After running through this uninstall/install sequence a few times, I believe these are  the messages thrown up in the console windows that disappear immediately during execution of the windows installer.

So, I've got something messed up.  

Interestingly, I can run RabbitMQ in foreground mode, by way of rabbitmq-server.bat.  I can execute the tutorial producer &amp; consumer for the trivial hello world example.  

I really need to get it running as a service, though.

Can anybody help?

I believe the installer is erroneously indicating success for both uninstall and install in this case, and I have not found any help on the RabbitMQ site, installer instructions, troubleshooting guide, or elsewhere.  

I've seen at least one thread that seemed like a similar, but not exactly equivalent case.  Following those steps did not help.

Thanks in advance

Jim Pollard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121120/3b124b97/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121120/3b124b97/attachment.htm</A>&gt;
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024033.html">[rabbitmq-discuss] Nagios plugins fail with RabbitMQ 3.0.0
</A></li>
	<LI>Next message: <A HREF="024016.html">[rabbitmq-discuss] Once again:  big,	big trouble attempting a clean reinstall
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24013">[ date ]</a>
              <a href="thread.html#24013">[ thread ]</a>
              <a href="subject.html#24013">[ subject ]</a>
              <a href="author.html#24013">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
