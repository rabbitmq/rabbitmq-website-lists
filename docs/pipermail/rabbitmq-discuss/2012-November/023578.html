<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Newbie trying to get rabbit cluster to work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Newbie%20trying%20to%20get%20rabbit%20cluster%20to%20work&In-Reply-To=%3CCALPqkiriL2On_V0s548z-eJR5v-FwEQfUV9ukZomDAnxO4RGhg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023577.html">
   <LINK REL="Next"  HREF="023566.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Newbie trying to get rabbit cluster to work</H1>
    <B>Brett Cameron</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Newbie%20trying%20to%20get%20rabbit%20cluster%20to%20work&In-Reply-To=%3CCALPqkiriL2On_V0s548z-eJR5v-FwEQfUV9ukZomDAnxO4RGhg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Newbie trying to get rabbit cluster to work">brett.r.cameron at gmail.com
       </A><BR>
    <I>Sun Nov  4 23:13:16 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023577.html">[rabbitmq-discuss] Newbie trying to get rabbit cluster to work
</A></li>
        <LI>Next message: <A HREF="023566.html">[rabbitmq-discuss] Searching for a client library/example: Problems getting a reliable connection in Python and Erlang
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23578">[ date ]</a>
              <a href="thread.html#23578">[ thread ]</a>
              <a href="subject.html#23578">[ subject ]</a>
              <a href="author.html#23578">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David,

See <A HREF="http://karlgrz.com/rabbitmq-highly-available-queues-and-clustering-using-amazon-ec2/">http://karlgrz.com/rabbitmq-highly-available-queues-and-clustering-using-amazon-ec2/</A>
- in particular the comments about firewall rules. In addition to
opening up 4369 for epmd you'll need to open up one or more ports for
the cluster instances to communicate with each other on.

Brett


On Sun, Nov 4, 2012 at 10:30 PM, David Montgomery
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">davidmontgomery at gmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I cant get rabbit cluster to work on ec2
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 1) I have two nodes with ports 22, 4369, 5672 open  node names are
</I>&gt;<i>
</I>&gt;<i> aws-rabbit-server-east-development-20121102162143
</I>&gt;<i> aws-rabbit-server-east-development-20121103033005
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2) Both have the same cookie.  Followed the docs on the rabbit page for
</I>&gt;<i> creating.
</I>&gt;<i>
</I>&gt;<i> rabbitmqctl stop_app
</I>&gt;<i> rabbitmqctl reset
</I>&gt;<i> rabbitmqctl start_app
</I>&gt;<i>
</I>&gt;<i> I boot another node.
</I>&gt;<i> sudo service rabbitmq-server stop
</I>&gt;<i> #Copy cookie from the first server booted
</I>&gt;<i> sudo su - -c 'echo -n &quot;cookie&quot; &gt; /var/lib/rabbitmq/.erlang.cookie'
</I>&gt;<i> sudo rabbitmqctl stop_app
</I>&gt;<i> sudo rabbitmqctl reset
</I>&gt;<i> sudo rabbitmqctl cluster
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at aws-rabbit-server-east-development-20121102162143</A>
</I>&gt;<i>
</I>&gt;<i> sudo rabbitmqctl cluster
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at aws-rabbit-server-east-development-20121102162143</A>
</I>&gt;<i> Clustering node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at aws-rabbit-server-east-development-20121103033005</A>'
</I>&gt;<i> with ['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at aws-rabbit-server-east-development-20121102162143</A>'] ...
</I>&gt;<i> Error:
</I>&gt;<i> {no_running_cluster_nodes,['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at aws-rabbit-server-east-development-20121102162143</A>'],
</I>&gt;<i>
</I>&gt;<i> ['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at aws-rabbit-server-east-development-20121102162143</A>']}
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So....where is the issue with rabbit?
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I></PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023577.html">[rabbitmq-discuss] Newbie trying to get rabbit cluster to work
</A></li>
	<LI>Next message: <A HREF="023566.html">[rabbitmq-discuss] Searching for a client library/example: Problems getting a reliable connection in Python and Erlang
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23578">[ date ]</a>
              <a href="thread.html#23578">[ thread ]</a>
              <a href="subject.html#23578">[ subject ]</a>
              <a href="author.html#23578">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
