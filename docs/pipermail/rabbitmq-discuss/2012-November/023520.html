<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Some problem about connection_closed_abruptly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Some%20problem%20about%20connection_closed_abruptly&In-Reply-To=%3C81DBB593-DCEC-432E-A657-13782070E83F%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023512.html">
   <LINK REL="Next"  HREF="023555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Some problem about connection_closed_abruptly</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Some%20problem%20about%20connection_closed_abruptly&In-Reply-To=%3C81DBB593-DCEC-432E-A657-13782070E83F%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Some problem about connection_closed_abruptly">watson.timothy at gmail.com
       </A><BR>
    <I>Thu Nov  1 10:07:21 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023512.html">[rabbitmq-discuss] Some problem about connection_closed_abruptly
</A></li>
        <LI>Next message: <A HREF="023555.html">[rabbitmq-discuss] Some problem about connection_closed_abruptly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23520">[ date ]</a>
              <a href="thread.html#23520">[ thread ]</a>
              <a href="subject.html#23520">[ subject ]</a>
              <a href="author.html#23520">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Any

Sent from my iPhone.

On 1 Nov 2012, at 05:15, andy lin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">oldhomelh at gmail.com</A>&gt; wrote:

&gt;<i> Now a new error has occured .The server's log record the error : 
</I>&gt;<i> connection_closed_abruptly,I find my consumer keeping the state of
</I>&gt;<i> connecting,but it can't receive any message.What is the problem ? 
</I>&gt;<i> 
</I>&gt;<i> 
</I>
From what you're saying, it sounds a lot to me like the network link between the two machines is broken. Normally you'd expect the client application to notice that the socket is no longer available, but the underlying tcp stack can spend quite some time attempting to retry sending before it gives up and returns an error code on the socket. We've observed this behaviour during disconnection when clients waiting for the server to return connection.close_ok can be stuck for up to 20 minutes or so. It sounds like you're seeing something similar to me.

What client are you using? Have you considered enabling heartbeats?

&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Some-problem-about-connection-closed-abruptly-tp23032.html">http://rabbitmq.1065348.n5.nabble.com/Some-problem-about-connection-closed-abruptly-tp23032.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023512.html">[rabbitmq-discuss] Some problem about connection_closed_abruptly
</A></li>
	<LI>Next message: <A HREF="023555.html">[rabbitmq-discuss] Some problem about connection_closed_abruptly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23520">[ date ]</a>
              <a href="thread.html#23520">[ thread ]</a>
              <a href="subject.html#23520">[ subject ]</a>
              <a href="author.html#23520">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
