<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Getting shovel with a custom header setup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Getting%20shovel%20with%20a%20custom%20header%20setup&In-Reply-To=%3C509C199E.4080407%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023710.html">
   <LINK REL="Next"  HREF="023720.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Getting shovel with a custom header setup</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Getting%20shovel%20with%20a%20custom%20header%20setup&In-Reply-To=%3C509C199E.4080407%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Getting shovel with a custom header setup">matthias at rabbitmq.com
       </A><BR>
    <I>Thu Nov  8 20:44:14 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023710.html">[rabbitmq-discuss] Getting shovel with a custom header setup
</A></li>
        <LI>Next message: <A HREF="023720.html">[rabbitmq-discuss] Getting shovel with a custom header setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23715">[ date ]</a>
              <a href="thread.html#23715">[ thread ]</a>
              <a href="subject.html#23715">[ subject ]</a>
              <a href="author.html#23715">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jason,

On 08/11/12 19:19, Jason McIntosh wrote:
&gt;<i> Trying to follow the documentation on:
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/shovel.html">http://www.rabbitmq.com/shovel.html</A>
</I>&gt;<i> [...]
</I>&gt;<i> {publish_properties, [ {delivery_mode, 2}, {headers, [{&quot;source-ip&quot;, &quot;1.1.1.1&quot;}]} ]}
</I>&gt;<i>
</I>&gt;<i> Am I missing something?
</I>
try {&lt;&lt;&quot;source-ip&quot;&gt;&gt;, longstr, &lt;&lt;&quot;1.1.1.1&quot;&gt;&gt;}

i.e. table entries need to triples of key, type, value; keys should be 
binaries (the erlang amqp codec accepts strings too but please don't 
rely on that), the value type depends on the chosen type (binary for 
longstr, numbers for the various numeric types, etc). See 
<A HREF="http://hg.rabbitmq.com/rabbitmq-server/file/02567d68939f/src/rabbit_binary_generator.erl#l116">http://hg.rabbitmq.com/rabbitmq-server/file/02567d68939f/src/rabbit_binary_generator.erl#l116</A> 
for the full list.

Regards,

Matthias.
</PRE>















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023710.html">[rabbitmq-discuss] Getting shovel with a custom header setup
</A></li>
	<LI>Next message: <A HREF="023720.html">[rabbitmq-discuss] Getting shovel with a custom header setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23715">[ date ]</a>
              <a href="thread.html#23715">[ thread ]</a>
              <a href="subject.html#23715">[ subject ]</a>
              <a href="author.html#23715">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
