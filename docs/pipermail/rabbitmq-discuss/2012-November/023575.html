<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Pub/Sub -- block publisher until all acks received from subscribers?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pub/Sub%20--%20block%20publisher%20until%20all%20acks%0A%20received%20from%20subscribers%3F&In-Reply-To=%3C5096F401.4010509%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023528.html">
   <LINK REL="Next"  HREF="023597.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Pub/Sub -- block publisher until all acks received from subscribers?</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pub/Sub%20--%20block%20publisher%20until%20all%20acks%0A%20received%20from%20subscribers%3F&In-Reply-To=%3C5096F401.4010509%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Pub/Sub -- block publisher until all acks received from subscribers?">emile at rabbitmq.com
       </A><BR>
    <I>Sun Nov  4 23:02:25 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023528.html">[rabbitmq-discuss] Pub/Sub -- block publisher until all acks received from subscribers?
</A></li>
        <LI>Next message: <A HREF="023597.html">[rabbitmq-discuss] Pub/Sub -- block publisher until all acks received from subscribers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23575">[ date ]</a>
              <a href="thread.html#23575">[ thread ]</a>
              <a href="subject.html#23575">[ subject ]</a>
              <a href="author.html#23575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Nick,

On 01/11/12 15:50, Nick Martin wrote:
&gt;<i> &gt; Can the same aim be achieved in another way by taking a larger view
</I>&gt;<i> &gt; of the system?
</I>&gt;<i> I'm not sure. Do you have any suggestions?
</I>
If I understand correctly you want a way of communicating start/stop
control messages to all workers throughout the system.

You could employ an elaborate RPC scheme to accomplish this, but it
would be simpler to let the work queue drain instead of sending a stop
message, assuming you are using a single worker queue. If necessary you
could delete the work queue and have the workers take special action
upon receipt of the basic.cancel message that will be sent.

To start work you could have the publisher re-instate the work queue and
instruct workers to periodically attempt resubscribing to the work queue.




-Emile



</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023528.html">[rabbitmq-discuss] Pub/Sub -- block publisher until all acks received from subscribers?
</A></li>
	<LI>Next message: <A HREF="023597.html">[rabbitmq-discuss] Pub/Sub -- block publisher until all acks received from subscribers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23575">[ date ]</a>
              <a href="thread.html#23575">[ thread ]</a>
              <a href="subject.html#23575">[ subject ]</a>
              <a href="author.html#23575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
