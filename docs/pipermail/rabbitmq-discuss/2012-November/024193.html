<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Trying to handle ConnectionShutdown event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Trying%20to%20handle%20ConnectionShutdown%20event&In-Reply-To=%3CC44C93396408924FBBF479F57FD429FC0583B0E2%40AM2PRD0210MB361.eurprd02.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024192.html">
   <LINK REL="Next"  HREF="024196.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Trying to handle ConnectionShutdown event</H1>
    <B>Bernhard Mogens Ege</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Trying%20to%20handle%20ConnectionShutdown%20event&In-Reply-To=%3CC44C93396408924FBBF479F57FD429FC0583B0E2%40AM2PRD0210MB361.eurprd02.prod.outlook.com%3E"
       TITLE="[rabbitmq-discuss] Trying to handle ConnectionShutdown event">bme at saseco.dk
       </A><BR>
    <I>Wed Nov 28 13:40:38 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024192.html">[rabbitmq-discuss] Trying to handle ConnectionShutdown event
</A></li>
        <LI>Next message: <A HREF="024196.html">[rabbitmq-discuss] unable to connect to node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24193">[ date ]</a>
              <a href="thread.html#24193">[ thread ]</a>
              <a href="subject.html#24193">[ subject ]</a>
              <a href="author.html#24193">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yeah, that is the problem. My code does uses the original name as a handle (was assuming when I started that the queueName was static). Fortunately I have encapsulated all RabbitMQ calls in its own class so I can work around this problem. I just hoped I didn't have to.

Thanks,
Bernhard

-----Original Message-----
From: Matthias Radestock [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>] 
Sent: 28. november 2012 14:20
To: Discussions about RabbitMQ
Cc: Bernhard Mogens Ege
Subject: Re: [rabbitmq-discuss] Trying to handle ConnectionShutdown event

Berhard,

On 28/11/12 13:05, Bernhard Mogens Ege wrote:
&gt;<i> But I do want the queues to auto-delete. The exclusive part is 
</I>&gt;<i> negotiable, but auto-delete is required. I guess I could create a 
</I>&gt;<i> mapping from the original name to the new name (that will be 
</I>&gt;<i> auto-generated with QueueDeclare()). A bit annoying but if that is how 
</I>&gt;<i> I can get the auto-delete, so be it.
</I>
Auto-deletion is only useful when there can be multiple consumers. Those multiple consumers would all need to know the queue name. Which usually implies it is known in advance, rather than server-generated and then shared.

By contrast, if the queue is exclusive then it will get deleted when the connection closes. Server-named queues work well here. When reconnecting, simply declare a queue the same way as you did initially, i.e.let the server pick a (new) name. For that to work, obviously none of your code must hold on to the original name.

Regards,

Matthias.


</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024192.html">[rabbitmq-discuss] Trying to handle ConnectionShutdown event
</A></li>
	<LI>Next message: <A HREF="024196.html">[rabbitmq-discuss] unable to connect to node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24193">[ date ]</a>
              <a href="thread.html#24193">[ thread ]</a>
              <a href="subject.html#24193">[ subject ]</a>
              <a href="author.html#24193">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
