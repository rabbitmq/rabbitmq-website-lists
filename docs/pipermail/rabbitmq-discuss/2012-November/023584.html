<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] loadbalancer configuration for clustered	rabbitmq cluster.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20loadbalancer%20configuration%20for%20clustered%0A%09rabbitmq%20cluster.&In-Reply-To=%3C62B49CF1-41C2-4E64-BD5D-865A56118A12%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023583.html">
   <LINK REL="Next"  HREF="023586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] loadbalancer configuration for clustered	rabbitmq cluster.</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20loadbalancer%20configuration%20for%20clustered%0A%09rabbitmq%20cluster.&In-Reply-To=%3C62B49CF1-41C2-4E64-BD5D-865A56118A12%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] loadbalancer configuration for clustered	rabbitmq cluster.">watson.timothy at gmail.com
       </A><BR>
    <I>Mon Nov  5 14:28:51 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023583.html">[rabbitmq-discuss] rabbitmqadmin and default node behaviour
</A></li>
        <LI>Next message: <A HREF="023586.html">[rabbitmq-discuss] How to consumer both synchronous and	asynchronous messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23584">[ date ]</a>
              <a href="thread.html#23584">[ thread ]</a>
              <a href="subject.html#23584">[ subject ]</a>
              <a href="author.html#23584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

On 31 Oct 2012, at 17:09, Anuj Lal wrote:

&gt;<i> I have set up clustered HA two node rabitmq cluster &#8211; one running in file mode and other in in memory.
</I>&gt;<i> This takes cares of continued flow of messages if one node in cluster is down. I am still testing this scenario.
</I>&gt;<i> 
</I>&gt;<i> Load balancing to consumer side ( worker queue or consistent hash  exchange etc) is working. I have got question regarding some load balancing from producer to broker side.
</I>&gt;<i> 
</I>&gt;<i> Lets say our load requirement is very very high and one cluster of rabbitMQ is not sufficient to handle  that large load.  To handle very large load,  and to test this configuration I am thinking about create another cluster of rabbitMQ and put both cluster nodes behind  load balancer.  I have  following question
</I>&gt;<i> 
</I>
Are you expecting the two clusters to be synchronised somehow? Because that won't happen!

&gt;<i> 	&#8226; Is this  approach recommended or tried by anyone.  
</I>
There's nothing wrong with this approach, unless you're expecting the two clusters to somehow be in sync, because they won't.

&gt;<i> 	&#8226; What configuration I need to specify in load balancer ? For example, I need to specify server addresses in load balancer. If I have cluster of server, can I specify  like this
</I>&gt;<i>             server  cluster1server1.dev.aws.xyz.net:5672,cluster1server2.dev.aws.xyz.net:5672
</I>&gt;<i>     server  cluster2server1.dev.aws.xyz.net:5672,cluster2server2.dev.aws.xyz.net:5672
</I>&gt;<i> 
</I>
I don't know anything about your loud balancer, so I'm afraid I can't help with this.

&gt;<i> In short anybody has used clustered HA rabbitmq behind loadbalancer.  If this option is not recommended than other option I was thinking about cadd more node in a sinle cluster and add other exchange and node, but in that case publisher is going to do round robin kind of mechanish to balance load between two exchanges.
</I>
I'm not really 100% clear on what you're asking, but it seems that you're after increasing capacity and I'd suggest adding additional nodes to your (single) cluster is the best way to do that. 
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023583.html">[rabbitmq-discuss] rabbitmqadmin and default node behaviour
</A></li>
	<LI>Next message: <A HREF="023586.html">[rabbitmq-discuss] How to consumer both synchronous and	asynchronous messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23584">[ date ]</a>
              <a href="thread.html#23584">[ thread ]</a>
              <a href="subject.html#23584">[ subject ]</a>
              <a href="author.html#23584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
