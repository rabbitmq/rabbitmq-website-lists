<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] High availability questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20availability%20questions&In-Reply-To=%3CCCDC1FC5.6690%25Michael.Laing%40nytimes.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024202.html">
   <LINK REL="Next"  HREF="024176.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] High availability questions</H1>
    <B>Laing, Michael P.</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20availability%20questions&In-Reply-To=%3CCCDC1FC5.6690%25Michael.Laing%40nytimes.com%3E"
       TITLE="[rabbitmq-discuss] High availability questions">Michael.Laing at nytimes.com
       </A><BR>
    <I>Thu Nov 29 01:13:47 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024202.html">[rabbitmq-discuss] High availability questions
</A></li>
        <LI>Next message: <A HREF="024176.html">[rabbitmq-discuss] High availability questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24204">[ date ]</a>
              <a href="thread.html#24204">[ thread ]</a>
              <a href="subject.html#24204">[ subject ]</a>
              <a href="author.html#24204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We bring up parallel infrastructure with a complete new cluster and gradually shift load to it using weighted routing.

This won't work for everybody, but we have designed our apps with this in mind.

Michael

From: Chris Toomey &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ctoomey at gmail.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ctoomey at gmail.com</A>&gt;&gt;
Reply-To: rabbitmq &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;&gt;
Date: Wed, 28 Nov 2012 19:55:31 -0500
To: Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;&gt;
Cc: rabbitmq &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;&gt;
Subject: Re: [rabbitmq-discuss] High availability questions

Thanks Simon.

That's unfortunate about having to shut down the whole cluster to upgrade it -- it means that our applications will need to have some additional HA queueing mechanism upstream to buffer up the messages to be published during the downtime :-(.

What kinds of solutions are people using for that problem?

Chris

On Wed, Nov 28, 2012 at 2:31 AM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;&gt; wrote:
On 27/11/12 21:54, Chris Toomey wrote:
I'm fairly new to RabbitMQ and we're in the process of setting up our
production RabbitMQ servers.  We're going to set up a server cluster and
will use mirrored queues for high availability. I've read through the
great documentation you guys have on these topics but still have some
questions.

1) Given the clustered server redundancy and mirrored queues, is there
any reason to still make exchanges/queues/messages durable?  Is it just
to protect against the case when all nodes in the cluster fail?

Or are deliberately stopped.


2) In order to update the server configuration, it's necessary to
restart, correct?  If so, what's the best way to accomplish config.
updates across a cluster while minimizing downtime and loss of redundancy?

You can update each node's config one at a time, and restart them all individually.


3) Same question for upgrading to a newer version of RabbitMQ?

In order to update the version of RabbitMQ (or Erlang for that matter) you need to stop the entire cluster I'm afraid.

Cheers, Simon

--
Simon MacMullen
RabbitMQ, VMware

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121128/0b07c2d0/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121128/0b07c2d0/attachment.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024202.html">[rabbitmq-discuss] High availability questions
</A></li>
	<LI>Next message: <A HREF="024176.html">[rabbitmq-discuss] High availability questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24204">[ date ]</a>
              <a href="thread.html#24204">[ thread ]</a>
              <a href="subject.html#24204">[ subject ]</a>
              <a href="author.html#24204">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
