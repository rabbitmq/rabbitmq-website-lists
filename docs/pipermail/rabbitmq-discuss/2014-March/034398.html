<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] OOM kill
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20OOM%20kill&In-Reply-To=%3C531B363D.1010403%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034401.html">
   <LINK REL="Next"  HREF="034402.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] OOM kill</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20OOM%20kill&In-Reply-To=%3C531B363D.1010403%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] OOM kill">matthias at rabbitmq.com
       </A><BR>
    <I>Sat Mar  8 15:24:45 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034401.html">[rabbitmq-discuss] OOM kill
</A></li>
        <LI>Next message: <A HREF="034402.html">[rabbitmq-discuss] OOM kill
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34398">[ date ]</a>
              <a href="thread.html#34398">[ thread ]</a>
              <a href="subject.html#34398">[ subject ]</a>
              <a href="author.html#34398">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/03/14 14:54, Dmitry Andrianov wrote:
&gt;<i> If no ulimit is used - we are susceptible to that OOM DOS. And if we
</I>&gt;<i> set ulimit, it is still possible to DOS us - Rabbit won't die but
</I>&gt;<i> won't accept connections from consumers either.
</I>&gt;<i>
</I>&gt;<i> it feels like that kind of DOS protection should be part of Rabbit
</I>&gt;<i> itself.
</I>
I am curious what you propose rabbit should be doing here.

The ulimit does bound the overall connection-related memory use, since 
there is an upper bound on how much memory can be associated with each 
connection (most of which, incidentally, tends to be socket buffer 
space, so reducing that is advisable for high-connection-count 
configurations).

Any ulimit (and there is always one, though it may be very high) means 
that when it is reached then no more connections can be accepted. There 
is no way around that.

Matthias.
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034401.html">[rabbitmq-discuss] OOM kill
</A></li>
	<LI>Next message: <A HREF="034402.html">[rabbitmq-discuss] OOM kill
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34398">[ date ]</a>
              <a href="thread.html#34398">[ thread ]</a>
              <a href="subject.html#34398">[ subject ]</a>
              <a href="author.html#34398">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
