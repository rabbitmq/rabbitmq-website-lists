<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Spring%20amqp%20-%20auto%20acknowledge%20from%20consumer%0A%20taking%20almost%20a%20minute&In-Reply-To=%3CCADtU9_vaQS0szGCXaa8OTsa_3LFKhh1y7jqEnnfFuicWSVBhVg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034832.html">
   <LINK REL="Next"  HREF="034834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute</H1>
    <B>Gary Russell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Spring%20amqp%20-%20auto%20acknowledge%20from%20consumer%0A%20taking%20almost%20a%20minute&In-Reply-To=%3CCADtU9_vaQS0szGCXaa8OTsa_3LFKhh1y7jqEnnfFuicWSVBhVg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute">grussell at gopivotal.com
       </A><BR>
    <I>Fri Mar 28 03:53:28 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034832.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer	taking almost a minute
</A></li>
        <LI>Next message: <A HREF="034834.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34833">[ date ]</a>
              <a href="thread.html#34833">[ thread ]</a>
              <a href="subject.html#34833">[ subject ]</a>
              <a href="author.html#34833">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes; that assumption is wrong; in Spring-AMQP, ack mode AUTO means the
container will automatically ack the message on completion. NONE is the
equivalent of rabbit auto-ack.

Be aware that this can cause OOM issues with spring-AMQP versions prior to
1.3.0, if the consumers can't keep up with the workload because the broker
will keep pumping messages to the client.

Gary


On Thu, Mar 27, 2014 at 11:45 PM, Anita Yip &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Anita.Yip at realpage.com</A>&gt; wrote:

&gt;<i>   I have a spring amqp based application where the consumer is taking
</I>&gt;<i> very long time to send acknowledgement. In RabbitMq management plugin, I
</I>&gt;<i> see it in Unacknowledged state for almost a whole minute.I am currently
</I>&gt;<i> testing this code by publishing only one message. But my prefetch count and
</I>&gt;<i> transaction size are a 50 and 30 respectively. Could this be any reason for
</I>&gt;<i> the issue?
</I>&gt;<i>
</I>&gt;<i>  My consumer has heavy processing. But since it is in auto acknowledge
</I>&gt;<i> mode, I believe, the message will be acknowledged immediately after the
</I>&gt;<i> consumer receives it and before it start processing the message. Is this
</I>&gt;<i> assumption wrong?
</I>&gt;<i>
</I>&gt;<i>  Thanks,
</I>&gt;<i> Anita
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> This message is intended only for the use of the individual(s) or entity
</I>&gt;<i> to which it is addressed and may contain information that is privileged,
</I>&gt;<i> confidential, and/or proprietary to RealPage and its affiliated companies.
</I>&gt;<i> If the reader of this message is not the intended recipient, you are hereby
</I>&gt;<i> notified that any dissemination, distribution, forwarding or copying of
</I>&gt;<i> this communication is prohibited without the express permission of the
</I>&gt;<i> sender. If you have received this communication in error, please notify the
</I>&gt;<i> sender immediately and delete the original message.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140327/a1f13d67/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140327/a1f13d67/attachment.html</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034832.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer	taking almost a minute
</A></li>
	<LI>Next message: <A HREF="034834.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34833">[ date ]</a>
              <a href="thread.html#34833">[ thread ]</a>
              <a href="subject.html#34833">[ subject ]</a>
              <a href="author.html#34833">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
