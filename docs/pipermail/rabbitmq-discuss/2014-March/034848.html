<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Spring%20amqp%20-%20auto%20acknowledge%20from%20consumer%0A%20taking%20almost%20a%20minute&In-Reply-To=%3CCADtU9_v%3DjG_xRyAr93YHfwb-_0ZWn6xTBJqRqEMZKJCEsWjASQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034847.html">
   <LINK REL="Next"  HREF="034851.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute</H1>
    <B>Gary Russell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Spring%20amqp%20-%20auto%20acknowledge%20from%20consumer%0A%20taking%20almost%20a%20minute&In-Reply-To=%3CCADtU9_v%3DjG_xRyAr93YHfwb-_0ZWn6xTBJqRqEMZKJCEsWjASQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute">grussell at gopivotal.com
       </A><BR>
    <I>Fri Mar 28 20:56:55 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034847.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
</A></li>
        <LI>Next message: <A HREF="034851.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34848">[ date ]</a>
              <a href="thread.html#34848">[ thread ]</a>
              <a href="subject.html#34848">[ subject ]</a>
              <a href="author.html#34848">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Your requirements seem to be a little unusual - you want the consumer to
ack as soon as you get the message but before the processing completes.

What if your consumer dies right after it acks - you'll still lose the
message in that case.

If you don't care about that situation, simply hand off the task to another
thread in your listener and the container will ack the message right after
the handoff (with ackmode AUTO).

What is the objection to it being &quot;unacked&quot; until the consumer completes
the work?

Gary


On Fri, Mar 28, 2014 at 4:49 PM, Anita Yip &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Anita.Yip at realpage.com</A>&gt; wrote:

&gt;<i> Does that mean no explicit acknowledgement is sent by consumer? What if
</I>&gt;<i> the message is lost before it reaches the consumer? When will the message
</I>&gt;<i> be removed from the queue in this case?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 3/28/14 12:06 AM, &quot;Michael Klishin&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;On 28 March 2014 at 10:06:21, Anita Yip (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">anita.yip at realpage.com</A>) wrote:
</I>&gt;<i> &gt;&gt; &gt; I see all the messages falling under &quot;Deliver (noack)&quot;. Doesn't
</I>&gt;<i> &gt;&gt; this mean that RabbitMq is not expecting/processing any
</I>&gt;<i> &gt;&gt;acknowledgements
</I>&gt;<i> &gt;&gt; from the consumer?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Correct. A message is then considered to be processed  as soon as RabbitMQ
</I>&gt;<i> &gt;sends it out.
</I>&gt;<i> &gt;--
</I>&gt;<i> &gt;MK
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Software Engineer, Pivotal/RabbitMQ
</I>&gt;<i> &gt;_______________________________________________
</I>&gt;<i> &gt;rabbitmq-discuss mailing list
</I>&gt;<i> &gt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ________________________________
</I>&gt;<i>
</I>&gt;<i> This message is intended only for the use of the individual(s) or entity
</I>&gt;<i> to which it is addressed and may contain information that is privileged,
</I>&gt;<i> confidential, and/or proprietary to RealPage and its affiliated companies.
</I>&gt;<i> If the reader of this message is not the intended recipient, you are hereby
</I>&gt;<i> notified that any dissemination, distribution, forwarding or copying of
</I>&gt;<i> this communication is prohibited without the express permission of the
</I>&gt;<i> sender. If you have received this communication in error, please notify the
</I>&gt;<i> sender immediately and delete the original message.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140328/a3bd6ee0/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140328/a3bd6ee0/attachment.html</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034847.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
</A></li>
	<LI>Next message: <A HREF="034851.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34848">[ date ]</a>
              <a href="thread.html#34848">[ thread ]</a>
              <a href="subject.html#34848">[ subject ]</a>
              <a href="author.html#34848">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
