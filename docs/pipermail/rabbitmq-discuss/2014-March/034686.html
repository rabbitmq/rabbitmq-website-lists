<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] : Delayed processing of data
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%3A%20Delayed%20processing%20of%20data&In-Reply-To=%3CCAKgmDnHR%2Bsm%3DNRe6GMr4jCenABeVuEH0AB_VKctAguovnC_MDA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034685.html">
   <LINK REL="Next"  HREF="034701.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] : Delayed processing of data</H1>
    <B>Laing, Michael</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%3A%20Delayed%20processing%20of%20data&In-Reply-To=%3CCAKgmDnHR%2Bsm%3DNRe6GMr4jCenABeVuEH0AB_VKctAguovnC_MDA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] : Delayed processing of data">michael.laing at nytimes.com
       </A><BR>
    <I>Thu Mar 20 18:36:47 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034685.html">[rabbitmq-discuss] : Delayed processing of data
</A></li>
        <LI>Next message: <A HREF="034701.html">[rabbitmq-discuss] : Delayed processing of data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34686">[ date ]</a>
              <a href="thread.html#34686">[ thread ]</a>
              <a href="subject.html#34686">[ subject ]</a>
              <a href="author.html#34686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We currently use TTLs and Dead Letter Exchanges to accomplish this.

An app we call Route looks at messages and either:

   1. sends them to an exchange called Distribute, or
   2. declares a queue with a name reflecting the embargo datetime and a
   DLX of Distribute and sends the message to it with a TTL calculated to
   release at that datetime.

This works fine. You can dynamically set a policy to delete the queue.

Probably we will move away from this in the next few months simply because
we wish to persist as little as possible in rabbitmq. But it is quite
simple and functional.

ml


On Thu, Mar 20, 2014 at 2:11 PM, Ajinkya Apte &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aapte at zynga.com</A>&gt; wrote:

&gt;<i>  Hey guys,
</I>&gt;<i> I want to delay the processing of some data coming into a queue. The data
</I>&gt;<i> has delayTime associated with it.
</I>&gt;<i>
</I>&gt;<i>  What I want to do?
</I>&gt;<i>
</I>&gt;<i>    1. Data is coming in with a delayTime associated with it.
</I>&gt;<i>    2. Some data can come with the delayTime=5 mintes from now, some data
</I>&gt;<i>    with delayTime=10 and so on. This delayTime can be anything.
</I>&gt;<i>    3. I want to delay the processing of this data.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Questions?
</I>&gt;<i>
</I>&gt;<i>    1. From the documentation seems like using message TTL won't be the
</I>&gt;<i>    way to go, right?
</I>&gt;<i>    2. Will I have to use the 'Dead Letter Exchanges' concept along with
</I>&gt;<i>    multiple retry queues having different timeouts?
</I>&gt;<i>    3. Any other suggestions?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Please let me know.
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i>  AJ
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140320/56598095/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140320/56598095/attachment.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034685.html">[rabbitmq-discuss] : Delayed processing of data
</A></li>
	<LI>Next message: <A HREF="034701.html">[rabbitmq-discuss] : Delayed processing of data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34686">[ date ]</a>
              <a href="thread.html#34686">[ thread ]</a>
              <a href="subject.html#34686">[ subject ]</a>
              <a href="author.html#34686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
