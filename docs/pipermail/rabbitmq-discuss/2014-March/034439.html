<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Cluster&In-Reply-To=%3C2F8D94FA-9D8F-4384-B2A6-62F45CF2F547%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034422.html">
   <LINK REL="Next"  HREF="034437.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Cluster</H1>
    <B>Jayashree</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Cluster&In-Reply-To=%3C2F8D94FA-9D8F-4384-B2A6-62F45CF2F547%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Cluster">jaishreegn at gmail.com
       </A><BR>
    <I>Sun Mar  9 16:51:05 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034422.html">[rabbitmq-discuss] RabbitMQ Cluster
</A></li>
        <LI>Next message: <A HREF="034437.html">[rabbitmq-discuss] Should multithreaded application use single or	multi channels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34439">[ date ]</a>
              <a href="thread.html#34439">[ thread ]</a>
              <a href="subject.html#34439">[ subject ]</a>
              <a href="author.html#34439">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The rabbitmq cluster I build are on Ubuntu. But if for nothing.. Here is what I would make sure are available for rabbitmq to cluster.
1. /etc/hosts must be edited to include host names and ip's of nodes you are trying to form cluster
2. Ensure .erlang.cookie is same on all nodes 
(This will be a random auto generated string when rabbitmq is installed) so edit it to have a common erang cookie across nodes
3. Edit rabbitmq config file to have the cluster nodes
4. Once you have the above steps done
Delete amnesia folder( this May or may not be required)
Restart service
Stop_app
Reset
Start_app

This should mostly work. As I have seen the exact error you have before and those steps mostly work.
You will find the steps in the rabbitmq cluster documentation page too.
Hope that helps! 

Jayashree

&gt;<i> On Mar 8, 2014, at 12:41 PM, David Rodriguez &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">davidr at spindance.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Alright I am banging my head against the wall on this.  I am trying to configure a rabbitmq cluster with 3 nodes using RabbitMQ 3.2.3 .  I have verified that the cookies match on all of the server but I am still getting the following message when I try to cluster one node to another.  Error: {cannot_discover_cluster,&quot;The nodes provided are either offline or not running&quot;}  I verified that the epmd port is open and I also set the following parameter {kernel, [{inet_dist_listen_min, 9100},{inet_dist_listen_max, 9105}]} and I have opened those ports on the firewall also.  All of the rabbitmq logs show no errors.  I am running CentOS 6.5.  Any ideas?  I have looked at various posts about this and have tried the suggestions and still nothing.  I can telnet amongst the nodes using their dns name to port 4369 .  I have checked another working cluster that we have and my configs appear to be the same.  
</I>&gt;<i> 
</I>&gt;<i> David
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034422.html">[rabbitmq-discuss] RabbitMQ Cluster
</A></li>
	<LI>Next message: <A HREF="034437.html">[rabbitmq-discuss] Should multithreaded application use single or	multi channels
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34439">[ date ]</a>
              <a href="thread.html#34439">[ thread ]</a>
              <a href="subject.html#34439">[ subject ]</a>
              <a href="author.html#34439">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
