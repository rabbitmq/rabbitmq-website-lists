<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20crash&In-Reply-To=%3CCANPo%2B3WLFODiFGxeBbG22UXVLQ_hAH%2BMSbp2nyTg8gh9Q_3v2A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034770.html">
   <LINK REL="Next"  HREF="034731.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq crash</H1>
    <B>inbal doron</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20crash&In-Reply-To=%3CCANPo%2B3WLFODiFGxeBbG22UXVLQ_hAH%2BMSbp2nyTg8gh9Q_3v2A%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq crash">doroninbal1 at gmail.com
       </A><BR>
    <I>Sun Mar 23 11:48:23 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034770.html">[rabbitmq-discuss] Writing custom exchange type plugin
</A></li>
        <LI>Next message: <A HREF="034731.html">[rabbitmq-discuss] rabbitmq crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34728">[ date ]</a>
              <a href="thread.html#34728">[ thread ]</a>
              <a href="subject.html#34728">[ subject ]</a>
              <a href="author.html#34728">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We have a rabbitmq clustered server running on 64 bit windows server 2008
machines.

Most of the time everything works great but once in a few days the rabbitmq
server crashes and needs to be restarted (restart of rabbitmq, not of the
entire machine).

after the restart all is well for a few more days.

following is the sasl log.

The log refers to the disk monitor, but it doesn't seem like the machine
ran out of space and after the restart everything works.

Any guidance will be much appreciated.

Thank you

Inbal

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.235.0&gt;

registered_name: rabbit_disk_monitor

exception exit: {function_clause,

[{

lists,last,[[]],[{file,&quot;lists.erl&quot;},{line,213}]},

{

rabbit_disk_monitor,parse_free_win32,1,[]},

{

rabbit_disk_monitor,internal_update,1,[]},

{

rabbit_disk_monitor,handle_info,2,[]},

{

gen_server,handle_msg,5,

[{

file,&quot;gen_server.erl&quot;},{line,604}]},

{

proc_lib,init_p_do_apply,3,

[{

file,&quot;proc_lib.erl&quot;},{line,239}]}]}

in function gen_server:terminate/6 (gen_server.erl, line 744)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 1651431857

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: child_terminated

Reason: {function_clause,

[{

lists,last,[[]],[{file,&quot;lists.erl&quot;},{line,213}]},

{

rabbit_disk_monitor,parse_free_win32,1,[]},

{

rabbit_disk_monitor,internal_update,1,[]},

{

rabbit_disk_monitor,handle_info,2,[]},

{

gen_server,handle_msg,5,

[{

file,&quot;gen_server.erl&quot;},{line,604}]},

{

proc_lib,init_p_do_apply,3,

[{

file,&quot;proc_lib.erl&quot;},{line,239}]}]}

Offender: [{pid,&lt;0.235.0&gt;},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27823.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 717

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,&lt;0.235.0&gt;},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27825.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 717

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27827.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 717

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27829.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: [{'$gen_call',{&lt;0.290.0&gt;,#Ref&lt;0.0.481.26304&gt;},

get_disk_free_limit}]

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 1598

stack_size: 27

reductions: 720

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_mgmt_external_stats:init/1

pid: &lt;0.290.0&gt;

registered_name: rabbit_mgmt_external_stats

exception exit: {unsupported_platform,

{

gen_server,call,

[

rabbit_disk_monitor,get_disk_free_limit,

infinity]}}

in function gen_server:terminate/6 (gen_server.erl, line 744)

ancestors: [rabbit_mgmt_agent_sup,&lt;0.288.0&gt;]

messages: []

links: [&lt;0.289.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 10958

stack_size: 27

reductions: 3931613731

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_mgmt_agent_sup}

Context: child_terminated

Reason: {unsupported_platform,

{

gen_server,call,

[

rabbit_disk_monitor,get_disk_free_limit,infinity]}}

Offender: [{pid,&lt;0.290.0&gt;},

{

name,rabbit_mgmt_external_stats},

{

mfargs,{rabbit_mgmt_external_stats,start_link,[]}},

{

restart_type,permanent},

{

shutdown,5000},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27831.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 717

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27834.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 717

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27836.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 717

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27838.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 717

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27840.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 717

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

CRASH REPORT==== 12-Mar-2014::19:00:38 ===

crasher:

initial call: rabbit_disk_monitor:init/1

pid: &lt;0.27842.0&gt;

registered_name: []

exception exit: unsupported_platform

in function gen_server:init_it/6 (gen_server.erl, line 320)

ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.157.0&gt;]

messages: []

links: [&lt;0.233.0&gt;,&lt;0.234.0&gt;]

dictionary: []

trap_exit: false

status: running

heap_size: 987

stack_size: 27

reductions: 717

neighbours:

=

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: start_error

Reason: unsupported_platform

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]

 =

SUPERVISOR REPORT==== 12-Mar-2014::19:00:38 ===

Supervisor: {local,rabbit_disk_monitor_sup}

Context: shutdown

Reason: reached_max_restart_intensity

Offender: [{pid,{restarting,&lt;0.235.0&gt;}},

{

name,rabbit_disk_monitor},

{

mfargs,{rabbit_disk_monitor,start_link,[1000000000]}},

{

restart_type,transient},

{

shutdown,4294967295},

{

child_type,worker}]
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140323/86160b15/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140323/86160b15/attachment.html</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034770.html">[rabbitmq-discuss] Writing custom exchange type plugin
</A></li>
	<LI>Next message: <A HREF="034731.html">[rabbitmq-discuss] rabbitmq crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34728">[ date ]</a>
              <a href="thread.html#34728">[ thread ]</a>
              <a href="subject.html#34728">[ subject ]</a>
              <a href="author.html#34728">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
