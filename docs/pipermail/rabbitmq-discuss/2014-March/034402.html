<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] OOM kill
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20OOM%20kill&In-Reply-To=%3C4A58A51C-74AC-4D06-8582-55C459769344%40alertme.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034398.html">
   <LINK REL="Next"  HREF="034403.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] OOM kill</H1>
    <B>Dmitry Andrianov</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20OOM%20kill&In-Reply-To=%3C4A58A51C-74AC-4D06-8582-55C459769344%40alertme.com%3E"
       TITLE="[rabbitmq-discuss] OOM kill">dmitry.andrianov at alertme.com
       </A><BR>
    <I>Sat Mar  8 16:38:14 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034398.html">[rabbitmq-discuss] OOM kill
</A></li>
        <LI>Next message: <A HREF="034403.html">[rabbitmq-discuss] OOM kill
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34402">[ date ]</a>
              <a href="thread.html#34402">[ thread ]</a>
              <a href="subject.html#34402">[ subject ]</a>
              <a href="author.html#34402">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias,
I am not sure myself what I am actually proposing )
I just know that server process dying completely is a very bad thing to happen.

Ulimit can prevent it from happening but at the cost of not accepting consumers when it is reached.
Not sure if the use case I am trying is very common or it is specific to us but the idea is to have many clients (mostly producing) in the internet while a few consumers on the server side. With such layout we should protect Rabbit from dying because of too many clients but at the same time we must let consumers from the neighbour servers connect.

So if I was able to extend Rabbit, I would be thinking of adding something like a limiting policy to every tcp listener. So for internal port (inaccessible from internet) I would not set any limits while on the ssl listener (accessible from the internet) I would configure a limiting policy either with fixed limit (say 10k connections) or memory-based policy (start limiting connections when memory is low).

Something like that.
But from Michael's words I understand that it is not something you need yourself or think is needed by the community because it is not how Rabbit is supposed to be used.

Cheers

&gt;<i> On 8 Mar 2014, at 15:24, Matthias Radestock &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;<i> Matthias
</I>This email is for the use of the intended recipient(s) only.
If you have received this email in error, please notify the sender immediately and then delete it.
If you are not the intended recipient, you must not use, disclose or distribute this email without the
author's prior permission. AlertMe.com Ltd. is not responsible for any personal views expressed
in this message or any attachments that are those of the individual sender.

AlertMe.com Ltd, 30 Station Road, Cambridge, CB1 2RE, UK.
Registered in England, Company number 578 2908, VAT registration number GB 895 9914 42.


</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034398.html">[rabbitmq-discuss] OOM kill
</A></li>
	<LI>Next message: <A HREF="034403.html">[rabbitmq-discuss] OOM kill
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34402">[ date ]</a>
              <a href="thread.html#34402">[ thread ]</a>
              <a href="subject.html#34402">[ subject ]</a>
              <a href="author.html#34402">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
