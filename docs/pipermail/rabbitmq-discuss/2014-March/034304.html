<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federation chokes on load
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20chokes%20on%20load&In-Reply-To=%3C531613D6.5030401%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034296.html">
   <LINK REL="Next"  HREF="034312.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federation chokes on load</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20chokes%20on%20load&In-Reply-To=%3C531613D6.5030401%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Federation chokes on load">simon at rabbitmq.com
       </A><BR>
    <I>Tue Mar  4 17:56:38 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034296.html">[rabbitmq-discuss] Federation chokes on load
</A></li>
        <LI>Next message: <A HREF="034312.html">[rabbitmq-discuss] Federation chokes on load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34304">[ date ]</a>
              <a href="thread.html#34304">[ thread ]</a>
              <a href="subject.html#34304">[ subject ]</a>
              <a href="author.html#34304">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Patrik.

On 03/03/14 21:41, Patrik Ring wrote:
&gt;<i> Some messages come through (but are heavily delayed, as in hours) but
</I>&gt;<i> they seem completely random.
</I>
That's definitely not right!

First of all, could you send the output of &quot;rabbitmqctl report&quot; for each 
broker?

Also, which version of RabbitMQ are you using?

Secondly, you might want to investigate whether the underlying 
infrastructure used by federation is wired up correctly. There should be 
a queue for each (exchange, downstream) pairing declared in the upstream 
broker (called &quot;federation: [exchange] -&gt; [node]&quot;). It should be bound 
(once) to an internal exchange with a similar name. That internal 
exchange should be bound to the upstream exchange with all the bindings 
that are in use downstream.

Does it look like that is happening? Is the infrastructure queue seeing 
the message rates you would expect?

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034296.html">[rabbitmq-discuss] Federation chokes on load
</A></li>
	<LI>Next message: <A HREF="034312.html">[rabbitmq-discuss] Federation chokes on load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34304">[ date ]</a>
              <a href="thread.html#34304">[ thread ]</a>
              <a href="subject.html#34304">[ subject ]</a>
              <a href="author.html#34304">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
