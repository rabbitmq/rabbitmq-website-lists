<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to join two rabbitmq nodes on EC2?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20join%20two%20rabbitmq%20nodes%20on%20EC2%3F&In-Reply-To=%3CCAJ2-Vrm%2BPaSZnzaBkyxLaXfX34%3DQWGq-eJMwpt65jfBvvyFRGA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034457.html">
   <LINK REL="Next"  HREF="034404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to join two rabbitmq nodes on EC2?</H1>
    <B>rails</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20join%20two%20rabbitmq%20nodes%20on%20EC2%3F&In-Reply-To=%3CCAJ2-Vrm%2BPaSZnzaBkyxLaXfX34%3DQWGq-eJMwpt65jfBvvyFRGA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] How to join two rabbitmq nodes on EC2?">stammailbox at gmail.com
       </A><BR>
    <I>Sat Mar  8 12:22:46 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034457.html">[rabbitmq-discuss] Exclusive queues and mirroring
</A></li>
        <LI>Next message: <A HREF="034404.html">[rabbitmq-discuss] How to join two rabbitmq nodes on EC2?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34394">[ date ]</a>
              <a href="thread.html#34394">[ thread ]</a>
              <a href="subject.html#34394">[ subject ]</a>
              <a href="author.html#34394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have two Ubuntu instances in the EC2 and I want to cluster them.

One ip will be refered as - X (the &quot;net addr&quot; ifconfig displayed IP) and
its public ip will be reffered as PX.
the other ip is Y and its public is Y.

So now I did the following on both machines.

   1. installed the latest rabbbitmq.
   2. installed the management plugin.
   3. opened the port for 5672 (rabbit) and 15672(management plugin)
   4. connected to rabbit with my test app.
   5. connected to the ui.

So now for the cluster. I did the following commands

on X

rabbitmqctl cluster_status

got the node name which was '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-X</A>' (where X is the inner IP) on Y

rabbitmqctl stop_app
rabbitmqctl join_cluster --ram <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-X</A>

I got

&quot;The nodes provided are either offline or not running&quot;

Obviously this is the private ip, so the other instance cant connect. How
do I tell the second instance where the first is located?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140308/311cc7c2/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140308/311cc7c2/attachment.html</A>&gt;
</PRE>






















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034457.html">[rabbitmq-discuss] Exclusive queues and mirroring
</A></li>
	<LI>Next message: <A HREF="034404.html">[rabbitmq-discuss] How to join two rabbitmq nodes on EC2?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34394">[ date ]</a>
              <a href="thread.html#34394">[ thread ]</a>
              <a href="subject.html#34394">[ subject ]</a>
              <a href="author.html#34394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
