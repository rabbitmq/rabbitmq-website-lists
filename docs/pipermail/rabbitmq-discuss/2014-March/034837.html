<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] badmatch when unbinding queue in web management
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20badmatch%20when%20unbinding%20queue%20in%20web%20management&In-Reply-To=%3CF9E85480F62349458DF67CE8BA000D8D3FC64E9F%40FR44EX3005.global.ds.honeywell.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034852.html">
   <LINK REL="Next"  HREF="034840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] badmatch when unbinding queue in web management</H1>
    <B>Gotthard, Petr</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20badmatch%20when%20unbinding%20queue%20in%20web%20management&In-Reply-To=%3CF9E85480F62349458DF67CE8BA000D8D3FC64E9F%40FR44EX3005.global.ds.honeywell.com%3E"
       TITLE="[rabbitmq-discuss] badmatch when unbinding queue in web management">Petr.Gotthard at Honeywell.com
       </A><BR>
    <I>Fri Mar 28 08:37:22 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034852.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
</A></li>
        <LI>Next message: <A HREF="034840.html">[rabbitmq-discuss] badmatch when unbinding queue in web	management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34837">[ date ]</a>
              <a href="thread.html#34837">[ thread ]</a>
              <a href="subject.html#34837">[ subject ]</a>
              <a href="author.html#34837">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
There is a strange queue in our RabbitMQ 3.2.2 (Erlang R16B01):

1) Web management says &quot;Consumers: 1&quot; in the Details section, but then &quot;...no consumers...&quot; in the Consumers section.

2) When I do &quot;Delete / Purge&quot; nothing happens. The Web management stops responding and no error appears in the log file.

3) When I try to unbind this queue nothing happens too, but there is a badmatch in the rabbitmq.log

=ERROR REPORT==== 28-Mar-2014::08:46:40 ===
** Generic server &lt;0.7525.75&gt; terminating
** Last message in was {'$gen_cast',
                           {method,
                               {'queue.unbind',0,&lt;&lt;&quot;efb.ok-3&quot;&gt;&gt;,&lt;&lt;&quot;update&quot;&gt;&gt;,
                                   &lt;&lt;&quot;aircraft.OK-3&quot;&gt;&gt;,
                                   [{&lt;&lt;&quot;x-ground-bind&quot;&gt;&gt;,bool,true},
                                    {&lt;&lt;&quot;x-ground-cos&quot;&gt;&gt;,long,3},
                                    {&lt;&lt;&quot;x-ground-exchange&quot;&gt;&gt;,longstr,
                                     &lt;&lt;&quot;update&quot;&gt;&gt;},
                                    {&lt;&lt;&quot;x-reference&quot;&gt;&gt;,longstr,
                                     &lt;&lt;&quot;Ground bind&quot;&gt;&gt;},
                                    {&lt;&lt;&quot;x-result-x&quot;&gt;&gt;,longstr,
                                     &lt;&lt;&quot;efb.ok-3&quot;&gt;&gt;}]},
                               none,noflow}}
** When Server state == {ch,running,rabbit_framing_amqp_0_9_1,1,&lt;0.7520.75&gt;,
                            &lt;0.7520.75&gt;,&lt;0.7518.75&gt;,
                            &lt;&lt;&quot;&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ground.3.7518.75</A>&gt;&quot;&gt;&gt;,
                            {lstate,&lt;0.7526.75&gt;,false,false},
                            none,1,
                            {[],[]},
                            {user,&lt;&lt;&quot;swim&quot;&gt;&gt;,
                                [administrator,impersonator],
                                rabbit_auth_backend_internal,
                                {internal_user,&lt;&lt;&quot;swim&quot;&gt;&gt;,
                                    &lt;&lt;139,60,61,83,54,226,9,72,9,158,69,131,
                                      112,210,248,0,214,125,108,114&gt;&gt;,
                                    [administrator,impersonator]}},
                            &lt;&lt;&quot;pavel&quot;&gt;&gt;,&lt;&lt;&gt;&gt;,
                            {dict,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {state,
                                {dict,0,16,16,8,80,48,
                                    {[],[],[],[],[],[],[],[],[],[],[],[],[],
                                     [],[],[]},
                                    {{[],[],[],[],[],[],[],[],[],[],[],[],[],
                                      [],[],[]}}},
                                erlang},
                            {dict,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {set,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {dict,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {set,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            &lt;0.7515.75&gt;,
                            {state,fine,5000,#Ref&lt;0.0.124.120869&gt;},
                            false,1,
                            {{0,nil},{0,nil}},
                            [],
                            [{&lt;&lt;&quot;publisher_confirms&quot;&gt;&gt;,bool,true},
                             {&lt;&lt;&quot;exchange_exchange_bindings&quot;&gt;&gt;,bool,true},
                             {&lt;&lt;&quot;basic.nack&quot;&gt;&gt;,bool,true},
                             {&lt;&lt;&quot;consumer_cancel_notify&quot;&gt;&gt;,bool,true},
                             {&lt;&lt;&quot;connection.blocked&quot;&gt;&gt;,bool,true},
                             {&lt;&lt;&quot;authentication_failure_close&quot;&gt;&gt;,bool,true}],
                            {exchange,
                                {resource,&lt;&lt;&quot;pavel&quot;&gt;&gt;,exchange,
                                    &lt;&lt;&quot;amq.rabbitmq.trace&quot;&gt;&gt;},
                                topic,true,false,false,[],undefined,undefined,
                                {[],[]}}}
** Reason for termination ==
** {{error,{{badmatch,{error,[{root,none}],[&quot;aircraft&quot;,&quot;OK-3&quot;]}},
            [{rabbit_exchange_type_topic,follow_down_get_path,2,[]},
             {rabbit_exchange_type_topic,'-remove_bindings/3-lc$^1/1-1-',1,[]},
             {rabbit_exchange_type_topic,remove_bindings,3,[]},
             {rabbit_binding,x_callback,4,[]},
             {rabbit_binding,'-process_deletions/1-fun-0-',2,[]},
             {dict,map_bucket,2,[{file,&quot;dict.erl&quot;},{line,460}]},
             {dict,map_bkt_list,2,[{file,&quot;dict.erl&quot;},{line,456}]},
             {dict,map_bkt_list,2,[{file,&quot;dict.erl&quot;},{line,456}]}]}},
    [{rabbit_misc,execute_mnesia_transaction,1,[]},
    {rabbit_misc,execute_mnesia_tx_with_tail,1,[]},
     {rabbit_channel,binding_action,9,[]},
     {rabbit_channel,handle_cast,2,[]},
     {gen_server2,handle_msg,2,[]},
     {proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,239}]}]}


Do you have any idea what could be wrong?

Thanks,
Petr

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140328/2e382600/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140328/2e382600/attachment.html</A>&gt;
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034852.html">[rabbitmq-discuss] Spring amqp - auto acknowledge from consumer taking almost a minute
</A></li>
	<LI>Next message: <A HREF="034840.html">[rabbitmq-discuss] badmatch when unbinding queue in web	management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34837">[ date ]</a>
              <a href="thread.html#34837">[ thread ]</a>
              <a href="subject.html#34837">[ subject ]</a>
              <a href="author.html#34837">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
