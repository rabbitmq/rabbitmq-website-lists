<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Bringing down Nodes in a cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Bringing%20down%20Nodes%20in%20a%20cluster&In-Reply-To=%3C8DDBDBD6-384C-489A-B950-43E50072D112%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034284.html">
   <LINK REL="Next"  HREF="034303.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Bringing down Nodes in a cluster</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Bringing%20down%20Nodes%20in%20a%20cluster&In-Reply-To=%3C8DDBDBD6-384C-489A-B950-43E50072D112%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Bringing down Nodes in a cluster">mklishin at gopivotal.com
       </A><BR>
    <I>Mon Mar  3 12:37:17 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034284.html">[rabbitmq-discuss] Autoheal failure
</A></li>
        <LI>Next message: <A HREF="034303.html">[rabbitmq-discuss] Bringing down Nodes in a cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34285">[ date ]</a>
              <a href="thread.html#34285">[ thread ]</a>
              <a href="subject.html#34285">[ subject ]</a>
              <a href="author.html#34285">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 28 Feb 2014, at 12:27, Patrick Long &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pat at munkiisoft.com</A>&gt; wrote:

&gt;<i> So I can stop the node by using stop_app or I can stop the RabbitMQ service on that node. Is one better that the other?
</I>
Stop the service. stop_app does not stop the VM, which may be necessary with some upgrades
(e.g. you also want to upgrade the Erlang VM).

Use stop_app when resetting nodes, as described in &#8220;Breaking up a cluster&#8221; [1].

&gt;<i> When Ops want to update a machine that is a Node in a 3 node RabbitMQ cluster what is the recommended approach?
</I>&gt;<i> 
</I>&gt;<i> Is it to stop the service on one node, run Windows Update etc etc then bring that node back. Once that node is confirmed move to next node always ensuring there is at least one synchronised slave? 
</I>
See &#8220;Breaking up a cluster&#8221; in [1].

Removing nodes from the cluster and bringing them back one by one is a good
strategy.

HTH.

1. <A HREF="http://www.rabbitmq.com/clustering.html">http://www.rabbitmq.com/clustering.html</A>

MK

Software Engineer, Pivotal/RabbitMQ


</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034284.html">[rabbitmq-discuss] Autoheal failure
</A></li>
	<LI>Next message: <A HREF="034303.html">[rabbitmq-discuss] Bringing down Nodes in a cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34285">[ date ]</a>
              <a href="thread.html#34285">[ thread ]</a>
              <a href="subject.html#34285">[ subject ]</a>
              <a href="author.html#34285">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
