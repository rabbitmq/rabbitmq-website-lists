<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq webstomp ha-mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20webstomp%20ha-mode&In-Reply-To=%3C0ee9078f-c7c2-4bbb-be3b-2b14d0d34d3a%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034667.html">
   <LINK REL="Next"  HREF="034669.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq webstomp ha-mode</H1>
    <B>Steve Flitcroft</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20webstomp%20ha-mode&In-Reply-To=%3C0ee9078f-c7c2-4bbb-be3b-2b14d0d34d3a%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq webstomp ha-mode">steve.flitcroft at ivendi.com
       </A><BR>
    <I>Wed Mar 19 12:29:00 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034667.html">[rabbitmq-discuss] rabbitmq webstomp ha-mode
</A></li>
        <LI>Next message: <A HREF="034669.html">[rabbitmq-discuss] rabbitmq webstomp ha-mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34668">[ date ]</a>
              <a href="thread.html#34668">[ thread ]</a>
              <a href="subject.html#34668">[ subject ]</a>
              <a href="author.html#34668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I believe this is because webstomp creates exclusive queues which do not 
get replicated regardless of policy. The issue is this means any non socket 
client has to poll the exact node where their queue is located.

On Wednesday, 19 March 2014 11:04:48 UTC, Steve Flitcroft wrote:
&gt;<i>
</I>&gt;<i> Having trouble getting the queues that are created via sockjs &amp; webstomp 
</I>&gt;<i> being replicated across nodes.
</I>&gt;<i>
</I>&gt;<i> I have a policy set for any queues that start with amq to be replicated.
</I>&gt;<i>
</I>&gt;<i> You can see this here
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://gyazo.com/b0e3fbac0d1a1d0baabc25c5f43499f0">http://gyazo.com/b0e3fbac0d1a1d0baabc25c5f43499f0</A>
</I>&gt;<i>
</I>&gt;<i> the amq.gen queue created by webstomp does not replicate to the other 
</I>&gt;<i> node, the queue I created called amqsteve does.
</I>&gt;<i>
</I>&gt;<i> The policy is
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://gyazo.com/2ab0f414a83a529e3142d30988d003fe">http://gyazo.com/2ab0f414a83a529e3142d30988d003fe</A>
</I>&gt;<i>
</I>&gt;<i> The result of this is that any non websocket browsers have to be routed to 
</I>&gt;<i> exactly the same node otherwise they get a 404 on the xhr_send method and 
</I>&gt;<i> lose connection. I can fix this by routing all non socket browsers to one 
</I>&gt;<i> node but this defeats the point of a cluster and load balancing. 
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140319/86f02152/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140319/86f02152/attachment.html</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034667.html">[rabbitmq-discuss] rabbitmq webstomp ha-mode
</A></li>
	<LI>Next message: <A HREF="034669.html">[rabbitmq-discuss] rabbitmq webstomp ha-mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34668">[ date ]</a>
              <a href="thread.html#34668">[ thread ]</a>
              <a href="subject.html#34668">[ subject ]</a>
              <a href="author.html#34668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
