<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] flow control shortcut
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20flow%20control%20shortcut&In-Reply-To=%3CetPan.53328ae5.6b8b4567.afcf%40mercurio.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034781.html">
   <LINK REL="Next"  HREF="034783.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] flow control shortcut</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20flow%20control%20shortcut&In-Reply-To=%3CetPan.53328ae5.6b8b4567.afcf%40mercurio.local%3E"
       TITLE="[rabbitmq-discuss] flow control shortcut">mklishin at gopivotal.com
       </A><BR>
    <I>Wed Mar 26 08:07:40 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034781.html">[rabbitmq-discuss] flow control shortcut
</A></li>
        <LI>Next message: <A HREF="034783.html">[rabbitmq-discuss] flow control shortcut
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34782">[ date ]</a>
              <a href="thread.html#34782">[ thread ]</a>
              <a href="subject.html#34782">[ subject ]</a>
              <a href="author.html#34782">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26 March 2014 at 12:04:16, Joey Jiao (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">joey.jiaojg at gmail.com</A>) wrote:
&gt;<i> &gt; Is there a flow control shortcut to block all connections or  
</I>&gt;<i> all pub connections or all consume connections?
</I>
Set vm_high_memory_watermark to a really low value (e.g. 0.0000001),
then as soon as a connection attempts to publish, it will be blocked.

Consumers cannot be blocked.

&gt;<i> And is it safe to reboot machine or restart rabbitmq service at  
</I>&gt;<i> any time?
</I>
You can lose data that was in memory but not yet on disk.

Cleanly shutdown RabbitMQ before rebooting. Clients will be forcefully
disconnected (using connection.close).

You can also close connections using HTTP API [1].

GET /api/connections to get names, then
DELETE /api/connections/{name} for every connection there is.

1.&#160;<A HREF="http://hg.rabbitmq.com/rabbitmq-management/raw-file/rabbitmq_v3_2_4/priv/www/api/index.html&#160;">http://hg.rabbitmq.com/rabbitmq-management/raw-file/rabbitmq_v3_2_4/priv/www/api/index.html&#160;</A>
--  
MK  

Software Engineer, Pivotal/RabbitMQ
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034781.html">[rabbitmq-discuss] flow control shortcut
</A></li>
	<LI>Next message: <A HREF="034783.html">[rabbitmq-discuss] flow control shortcut
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34782">[ date ]</a>
              <a href="thread.html#34782">[ thread ]</a>
              <a href="subject.html#34782">[ subject ]</a>
              <a href="author.html#34782">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
