<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] exclusive auto delete queue disappears
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20exclusive%20auto%20delete%20queue%20disappears&In-Reply-To=%3C660ddb62-e560-43a2-a96b-fc1156522c8c%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034369.html">
   <LINK REL="Next"  HREF="034368.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] exclusive auto delete queue disappears</H1>
    <B>cogitate</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20exclusive%20auto%20delete%20queue%20disappears&In-Reply-To=%3C660ddb62-e560-43a2-a96b-fc1156522c8c%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] exclusive auto delete queue disappears">monish.unni at gmail.com
       </A><BR>
    <I>Fri Mar  7 07:00:52 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034369.html">[rabbitmq-discuss] Queued messages chart History
</A></li>
        <LI>Next message: <A HREF="034368.html">[rabbitmq-discuss] exclusive auto delete queue disappears
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34365">[ date ]</a>
              <a href="thread.html#34365">[ thread ]</a>
              <a href="subject.html#34365">[ subject ]</a>
              <a href="author.html#34365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi Mathias R et al:
  i have a rabbitmq broker setup behind a load-balancer. for reply-queues 
from the client, i use exclusive and auto-delete queues. these reply-queues 
are created when the webapp is booted. they are held in a pool of 
clients(threads) that maybe borrowed by any publisher to wait for replies 
to simulate RPC semantics. once done with the call the client is returned 
back to the pool, which again maybe used by some other publisher.

once in a while, the auto-delete and exclusive reply-queue is deleted. 
there are no errors in rabbitmq broker except a WARNING REPORT that has 
high correlation to the time when the queue disappeared 

=WARNING REPORT==== 6-Mar-2014::15:35:33 ===
closing AMQP connection &lt;0.13020.5&gt; (load_balancer_ip:21303 -&gt; broker_ip:5672):
connection_closed_abruptly
it seems this maybe just a &quot;liveness&quot; check from load_balancer, because i find lots of these in the logs.


is it possible at all that auto-delete, exclusive reply-queues can get 
swept by load-balancer closing  tcp connection with following amqp shutdown?

thank you for your attention,
-cogitate

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140306/54c026ae/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140306/54c026ae/attachment.html</A>&gt;
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034369.html">[rabbitmq-discuss] Queued messages chart History
</A></li>
	<LI>Next message: <A HREF="034368.html">[rabbitmq-discuss] exclusive auto delete queue disappears
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34365">[ date ]</a>
              <a href="thread.html#34365">[ thread ]</a>
              <a href="subject.html#34365">[ subject ]</a>
              <a href="author.html#34365">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
