<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Getting RPC response from multiple rpc server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Getting%20RPC%20response%20from%20multiple%20rpc%20server&In-Reply-To=%3CCAMcAHLXptVOCdzLVbw4kQo3xNCti%3Dqy97p1GyG1gifddh6esag%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034416.html">
   <LINK REL="Next"  HREF="034417.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Getting RPC response from multiple rpc server</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Getting%20RPC%20response%20from%20multiple%20rpc%20server&In-Reply-To=%3CCAMcAHLXptVOCdzLVbw4kQo3xNCti%3Dqy97p1GyG1gifddh6esag%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Getting RPC response from multiple rpc server">videlalvaro at gmail.com
       </A><BR>
    <I>Mon Mar 10 10:29:48 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034416.html">[rabbitmq-discuss] Getting RPC response from multiple rpc server
</A></li>
        <LI>Next message: <A HREF="034417.html">[rabbitmq-discuss] New PowerShell cmdlets for managing RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34459">[ date ]</a>
              <a href="thread.html#34459">[ thread ]</a>
              <a href="subject.html#34459">[ subject ]</a>
              <a href="author.html#34459">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The problem seems to be in your rpc_client.py file.

In the line that says &quot;while self.response is None:&quot;

As soon as you get a reply, that will evaluate to True and then you
will miss the other reply.

If you are expecting more than one reply from the RPC server, then you
should keep the correlation ids in some sort of array/list/map.
Whatever is used in Python. Then you would match the correlation_id on
the incoming messages, with the correlation ids kept in the array.

Regards,

Alvaro





On Thu, Mar 6, 2014 at 11:09 PM, Mehmet Dursun Ince
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mehmet at mehmetince.net</A>&gt; wrote:
&gt;<i> Hi all
</I>&gt;<i>
</I>&gt;<i> I've been trying to do that getting response from multiple rpc server for
</I>&gt;<i> one message. I solved send a broadcast RPC message via fanout exchange. Each
</I>&gt;<i> rpc server gets message.
</I>&gt;<i>
</I>&gt;<i> For instance;
</I>&gt;<i> when client send &quot;1&quot; only rpc_server.py returns. That's OKAY.
</I>&gt;<i> when client send &quot;2&quot; only rpc_server2.py returns. That's OKAY too.
</I>&gt;<i> But when client send &quot;n&quot; only first server returns. But i want to get
</I>&gt;<i> response from both rpc server. i coded both server to send response for &quot;n&quot;
</I>&gt;<i>
</I>&gt;<i> i cant figure out that how can i solve my issue so i attached my source code
</I>&gt;<i> and screenshot.
</I>&gt;<i>
</I>&gt;<i> i'm looking for some advice and tips from someone who tried to get message
</I>&gt;<i> like me.
</I>&gt;<i>
</I>&gt;<i> PS: if i'm sending this message to wrong mailing list. i'm sorry.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I></PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034416.html">[rabbitmq-discuss] Getting RPC response from multiple rpc server
</A></li>
	<LI>Next message: <A HREF="034417.html">[rabbitmq-discuss] New PowerShell cmdlets for managing RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34459">[ date ]</a>
              <a href="thread.html#34459">[ thread ]</a>
              <a href="subject.html#34459">[ subject ]</a>
              <a href="author.html#34459">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
