<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss]  General message tracing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%20General%20message%20tracing&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004166.html">
   <LINK REL="Next"  HREF="004021.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss]  General message tracing</H1>
    <B>Maxim Treskin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%20General%20message%20tracing&In-Reply-To="
       TITLE="[rabbitmq-discuss]  General message tracing">zerthurd at gmail.com
       </A><BR>
    <I>Mon Jul  6 11:41:01 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004166.html">[rabbitmq-discuss] how can i make a message to be consumed at a	later time
</A></li>
        <LI>Next message: <A HREF="004021.html">[rabbitmq-discuss] General message tracing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4015">[ date ]</a>
              <a href="thread.html#4015">[ thread ]</a>
              <a href="subject.html#4015">[ subject ]</a>
              <a href="author.html#4015">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello

Is there any way to realise tracing and logging of messages, published on
bus?
We can declare exchange type &quot;headers&quot;, bind it with match-rules
with tracing queue and publicate messages having some flags in headers.
When this flags matched with rules in binding, message passed to tracing
queue.

But this behaviour is not appropriated because we want to publicate message
to
specified routing in some cases and possible trace it.
So, this behaviour is best for us:
1. Create exchange &quot;mq.exch&quot; with type &quot;headers&quot;
2. ??? Bind queue &quot;trace&quot; and &quot;mq.exch&quot; with match-rule [{&quot;x-match&quot;: &quot;any&quot;},
{&quot;trace&quot;:1}],
   so, if message-headers contains trace:1 flag, this message passed to
&quot;trace&quot; queue. ??? (or anything else?)
3. Bind main handler queue &quot;handler&quot; and &quot;mq.exch&quot; with route &quot;mq.handler&quot;
4. Publish message without any headers to route &quot;mq.handler&quot;, it passed to
&quot;handler&quot; queue.
5. Publish message with header trace:1 to route mq.handler, it passed to
&quot;handler&quot; queue and &quot;trace&quot; queue.

How we can make it (or something with this behaviour) with RabbitMQ?

Thank you.

-- 
Maxim Treskin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090706/59683238/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090706/59683238/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004166.html">[rabbitmq-discuss] how can i make a message to be consumed at a	later time
</A></li>
	<LI>Next message: <A HREF="004021.html">[rabbitmq-discuss] General message tracing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4015">[ date ]</a>
              <a href="thread.html#4015">[ thread ]</a>
              <a href="subject.html#4015">[ subject ]</a>
              <a href="author.html#4015">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
