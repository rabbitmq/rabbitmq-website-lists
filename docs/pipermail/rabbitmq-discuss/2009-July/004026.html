<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Dropping out messages from a queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Dropping%20out%20messages%20from%20a%20queue&In-Reply-To=e2ab72f80907061104g250e2d62pc6dd0c6f278d3128%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004023.html">
   <LINK REL="Next"  HREF="003991.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Dropping out messages from a queue</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Dropping%20out%20messages%20from%20a%20queue&In-Reply-To=e2ab72f80907061104g250e2d62pc6dd0c6f278d3128%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Dropping out messages from a queue">alexis.richardson at gmail.com
       </A><BR>
    <I>Mon Jul  6 19:40:49 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004023.html">[rabbitmq-discuss] Dropping out messages from a queue
</A></li>
        <LI>Next message: <A HREF="003991.html">[rabbitmq-discuss] Messages Timeout in Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4026">[ date ]</a>
              <a href="thread.html#4026">[ thread ]</a>
              <a href="subject.html#4026">[ subject ]</a>
              <a href="author.html#4026">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jul 6, 2009 at 7:04 PM, GAGAN ARORA&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">gaganarora.itm at gmail.com</A>&gt; wrote:
&gt;<i> Alexis
</I>&gt;<i>
</I>&gt;<i> When are you planning to release version for first option?
</I>
As I said below: &quot;I am just checking with the guys to find out ...
when it will appear.&quot;



&gt;<i> Can you explain the second option?
</I>
Yes of course :-)

AMQP has a notion of 'custom exchange' for cases where fanout, direct,
and topic or headers don't make sense.  Anyone can define any
exchange, so what you could do is define an exchange which ignores
some set of bindings if some predicate (or more simply, flag) is true.
 The predicate you want in your case is something that means 'User A
is offline'.  This has exactly the same effect as using
exchange-exchange but it could be implemented by you today - or by us
- take your pick ;-)

alexis




&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> Gagan
</I>&gt;<i>
</I>&gt;<i> On Mon, Jul 6, 2009 at 11:06 PM, Alexis Richardson
</I>&gt;<i> &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Gagan
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> One way to simplify the subscription management and get rid of 'heavy'
</I>&gt;&gt;<i> churn, is to use &quot;exchange to exchange&quot; bindings. &#160;These are something
</I>&gt;&gt;<i> we have looked at - I am just checking with the guys to find out of
</I>&gt;&gt;<i> this solution would work well, and if so then when it will appear.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Another option would be to create a custom exchange which used
</I>&gt;&gt;<i> presence to 'show' and 'hide' queue bindings. &#160;This would be quite
</I>&gt;&gt;<i> neat, but it would involve some coding.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> alexis
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Sat, Jul 4, 2009 at 8:07 PM, GAGAN ARORA&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">gaganarora.itm at gmail.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i> &gt; Alexis,
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Thanks for your wonderful support and solutions.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Firstly answers to your queries:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; 1. Are you using fanout exchanges for this (if you want one exchange
</I>&gt;&gt;<i> &gt; per user, then the answer should be 'yes').
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; No I am using topic exchanges because there will be three type of
</I>&gt;&gt;<i> &gt;&gt;&gt; bindings of a queue with an excajnde. One for publishing messages to
</I>&gt;&gt;<i> &gt;&gt;&gt; all
</I>&gt;&gt;<i> &gt;&gt;&gt; users, another for one to one messaging and third for publishing
</I>&gt;&gt;<i> &gt;&gt;&gt; message to
</I>&gt;&gt;<i> &gt;&gt;&gt; a set of users.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; 2. Where is the RabbitMQ server running? &#160;Is it on Server 1 or 2, or
</I>&gt;&gt;<i> &gt; is it on a 3rd server? &#160;It may not be that important but it would be
</I>&gt;&gt;<i> &gt; good to know.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;&gt;&gt; RabbitMQ Server is running on 3rd Server.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Back to original problem.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Actually I thought of the solution provided by you before posting the
</I>&gt;&gt;<i> &gt; query
</I>&gt;&gt;<i> &gt; to you. But if I follow this solution I have to perform following steps
</I>&gt;&gt;<i> &gt; whenever a user comes online:
</I>&gt;&gt;<i> &gt; 1. Create a queue.
</I>&gt;&gt;<i> &gt; 2. Create a binding of newly created queue with all exchanges of other
</I>&gt;&gt;<i> &gt; users
</I>&gt;&gt;<i> &gt; for retrieving messages published by other users.
</I>&gt;&gt;<i> &gt; 3. Creating a binding with exchange of all users for one to one
</I>&gt;&gt;<i> &gt; messaging.
</I>&gt;&gt;<i> &gt; 4. Create a binding with exchanges of a set of users.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; When user goes offline following operation is to be performed:
</I>&gt;&gt;<i> &gt; 1. Delete all the existing bindings of a queue.
</I>&gt;&gt;<i> &gt; 2. Deleting the queue.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Actually I want my online and offline processes light weighted.
</I>&gt;&gt;<i> &gt; According to
</I>&gt;&gt;<i> &gt; me this solution would have a high impact on performance and will
</I>&gt;&gt;<i> &gt; increase
</I>&gt;&gt;<i> &gt; time to come online and offline.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Kindly let me know if this can be achieved in some other manner.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Thanks
</I>&gt;&gt;<i> &gt; Gagan Arora
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Sat, Jul 4, 2009 at 3:23 PM, Alexis Richardson
</I>&gt;&gt;<i> &gt; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Gagan,
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Hi - thank-you for sending the diagram and information which was very
</I>&gt;&gt;<i> &gt;&gt; useful. &#160;There are several ways to implement the 'twitter style'
</I>&gt;&gt;<i> &gt;&gt; pattern that you have described. &#160;See below for one way to do it that
</I>&gt;&gt;<i> &gt;&gt; illustrates the AMQP model. &#160;It may not be the most efficient solution
</I>&gt;&gt;<i> &gt;&gt; in terms of performance as I shall point out.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Two quick questions:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; 1. Are you using fanout exchanges for this (if you want one exchange
</I>&gt;&gt;<i> &gt;&gt; per user, then the answer should be 'yes').
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; 2. Where is the RabbitMQ server running? &#160;Is it on Server 1 or 2, or
</I>&gt;&gt;<i> &gt;&gt; is it on a 3rd server? &#160;It may not be that important but it would be
</I>&gt;&gt;<i> &gt;&gt; good to know.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; OK - to your cases -
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Case1: User B sending his message to UserB Exchange which will route
</I>&gt;&gt;<i> &gt;&gt; message to User A queue but User A is not connected to any of servers.
</I>&gt;&gt;<i> &gt;&gt; At this point of &#160;all messages sent to Queue A should be dropped.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; One way to do this is to identify the lifecycle of Queue A with the
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; presence of User A on servers 1 and 2. &#160;In other words, when User A
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; is not
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; connected to server 1, and also not connected to server 2, then
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Queue A does
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; not exist. &#160;Note - This is not the only way to achieve what you
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; want but it
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; may be the least fiddly :-)
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Case2: User A connected to server 1 but UserA consumer is not yet
</I>&gt;&gt;<i> &gt;&gt; subscribed to UserA queue. If UserB sends any message to its exchange
</I>&gt;&gt;<i> &gt;&gt; which is routed to Queue of UserA. At this moment of time I want all
</I>&gt;&gt;<i> &gt;&gt; messages to be stored in queue.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; One way to do this (continuing from the above) is to create Queue A
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; immediately after UserA connects to server 1. &#160;This is an action
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; that server
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; 1 can initiate on behalf of UserA. &#160;After Queue A has been created,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; then it
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; should be bound to all exchanges from which it will receive
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; messages, such
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; as UserB's exchange. &#160;This will then have the stated effect you
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; seek &quot;If
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; UserB sends any message to its exchange [it] is routed to Queue of
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; UserA.&quot;.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &#160;Also, because UserA's consumer has not yet started consuming
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; messages from
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Queue A, the messages will all remain stored in the queue.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; In addition, if instead of proceeding to Case 3, we revert to Case
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; 1,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; for example User A disconnects from Server 1, then Queue A can
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; simply be
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; deleted (along with its contents). &#160;(See also Case 5 below)
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; However - while simple, the above is possibly not the most
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; performant
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; solution if (a) you are running RabbitMQ in clustered mode and (b)
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; your
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Users generally follow a lot of other Users and (c) they connect
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; and
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; disconnect frequently. &#160;This is because the effect of (c) is to
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; frequuently
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; update the routing table, possibly with a lot of binding/routing
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; data (b),
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; and then replicating it across the cluster (a).
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Let us know if you want more info about other ways to do this.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Case3: User A is connected to both servers and UserA consumer is
</I>&gt;&gt;<i> &gt;&gt; subscribed to UserA queue. If UserB sends any message to its exchange
</I>&gt;&gt;<i> &gt;&gt; which is routed to Queue of UserA. At this moment of time I want all
</I>&gt;&gt;<i> &gt;&gt; messages stored in queue to be delievered plus any other incoming
</I>&gt;&gt;<i> &gt;&gt; message should also be routed.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; In any case, to achieve this, just start consuming messages from
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Queue
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; A.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; I assume by 'delivered', you mean 'delivered to UserA's consumer'.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &#160;Where is that running?
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Case4: User A is connected to both servers and UserA consumer is
</I>&gt;&gt;<i> &gt;&gt; subscribed to UserA queue. Now User disconnects from Server 2. If
</I>&gt;&gt;<i> &gt;&gt; UserB sends any message to its exchange which is routed to Queue of
</I>&gt;&gt;<i> &gt;&gt; UserA. Again I want to store all messages.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; To achieve this, just stop consuming messages from Queue A. &#160;They
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; will
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; be stored in Queue A.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Case5: If user A is disconnected from both servers. Initial state is
</I>&gt;&gt;<i> &gt;&gt; achieved again.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; When User A disconnects from Server 1, then Server 1 can tell
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; RabbitMQ
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; to delete Queue A (along with its contents)
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Cheers,
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; alexis
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; On Fri, Jul 3, 2009 at 5:05 PM, GAGAN ARORA&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">gaganarora.itm at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt;&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt; Hi Alexis
</I>&gt;&gt;<i> &gt;&gt; &gt; Attaching a doc having architecture diagram and cases desired. Hope
</I>&gt;&gt;<i> &gt;&gt; &gt; this
</I>&gt;&gt;<i> &gt;&gt; &gt; would make things more clear to you.
</I>&gt;&gt;<i> &gt;&gt; &gt; Thanks
</I>&gt;&gt;<i> &gt;&gt; &gt; Gagan Arora
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; On Fri, Jul 3, 2009 at 8:23 PM, Alexis Richardson
</I>&gt;&gt;<i> &gt;&gt; &gt; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; Gagan,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; I'm a bit confused about what you are trying to do. &#160;I think what
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; you
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; describe is possible but I am not sure what role is being played by
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; your two servers. &#160;Is RabbitMQ running on both of them, one of them,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; or neither? &#160;You may find it easier to just use one RabbitMQ server.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; Can you send a drawing of what your desired configuration is?
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; alexis
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; On Fri, Jul 3, 2009 at 3:08 PM, GAGAN
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; ARORA&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">gaganarora.itm at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; Hi
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; I am developing a system in which a user will connect to two
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; servers.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; On
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; connecting to first server he will become online and will send his
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; presence
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; update but he will receive presence updates only once he is
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; connected
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; to
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; other server as his consumer subscribes to his queue after
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; connecting
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; to
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; second server.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; I am using one exchange and one queue per user. So if one user
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; comes
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; online
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; then he will send his presence update to his exchange and users
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; bound
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; to
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; that will receive updates.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; I need to configure a queue which would hold messages for user who
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; has
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; just
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; came online until he is connected to other server. After
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; connecting
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; to
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; second server all messages will be consumed. All messages sent to
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; queue
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; will
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; be dropped once user goes offline.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; Is it possible?
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; Thanks
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; Gagan Arora
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; rabbitmq-discuss mailing list
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004023.html">[rabbitmq-discuss] Dropping out messages from a queue
</A></li>
	<LI>Next message: <A HREF="003991.html">[rabbitmq-discuss] Messages Timeout in Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4026">[ date ]</a>
              <a href="thread.html#4026">[ thread ]</a>
              <a href="subject.html#4026">[ subject ]</a>
              <a href="author.html#4026">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
