<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Comet interface
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Comet%20interface&In-Reply-To=b0200d7f0907030406l3811e222r964358757ac0bb70%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003986.html">
   <LINK REL="Next"  HREF="004138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Comet interface</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Comet%20interface&In-Reply-To=b0200d7f0907030406l3811e222r964358757ac0bb70%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Comet interface">alexis.richardson at gmail.com
       </A><BR>
    <I>Sat Jul  4 13:10:13 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003986.html">[rabbitmq-discuss] Comet interface
</A></li>
        <LI>Next message: <A HREF="004138.html">[rabbitmq-discuss] Comet interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4003">[ date ]</a>
              <a href="thread.html#4003">[ thread ]</a>
              <a href="subject.html#4003">[ subject ]</a>
              <a href="author.html#4003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben,

I am going to jump in and try to answer your questions though please
bear in mind that I am far from intimate with some of the engineering
details.



On Fri, Jul 3, 2009 at 12:06 PM, Ben Browitt&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ben.browitt at gmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I want to write a Comet web interface to RabbitMQ in Erlang.
</I>
Great!



&gt;<i> This interface will be responsible for authenticating users, managing
</I>&gt;<i> sessions and routing messages.
</I>
Interesting.  How would auth work?


&gt;<i> For each logged-in user the interface will create a process that will route
</I>&gt;<i> messages from the client to RabbitMQ,
</I>&gt;<i> send messages from RabbitMQ to the client when possible and queue them in
</I>&gt;<i> its mailbox when it's not.
</I>&gt;<i> The reason for the queue is that in some implementations of Comet the client
</I>&gt;<i> is not available 100% of the time.
</I>
OK.



&gt;<i> I wonder what is the best approach to communicate with RabbitMQ considering
</I>&gt;<i> that the interface is in Erlang.
</I>&gt;<i> One possibility is that each process will be an instance of the RabbitMQ
</I>&gt;<i> client
</I>&gt;<i> and the other option is that there will be one central process that will act
</I>&gt;<i> as a bridge.
</I>&gt;<i>
</I>&gt;<i> I've noticed the http example
</I>
Before proceeding I would strongly recommend you dig into the existing
HTTP server and client example.  There may be duplication between
those and what you propose.  Indeed, if you could evaluate what we
have done and propose or write improvements, that could be very
helpful.


&gt;<i>  .... and the STOMP adapter but read on several
</I>&gt;<i> places that they don't work with every release
</I>&gt;<i> probably because RabbitMQ is a moving target and is in active development (a
</I>&gt;<i> good thing).
</I>
Yes, the release process for clients lags that for the broker at the
moment, partly because the whole team is very busy, and partly because
we are adding new features to the broker which, as Matthias says, are
of 'beta' status on initial release.

Other approaches you may wish to check out -

1. Use Orbited (open source) or Kaazing
2. Use RabbitHub:
<A HREF="http://www.lshift.net/blog/2009/06/30/pubsub-over-webhooks-with-rabbithub">http://www.lshift.net/blog/2009/06/30/pubsub-over-webhooks-with-rabbithub</A>



&gt;<i> Do the http example and the STOMP adapter use one of the approaches I
</I>&gt;<i> mentioned above?
</I>
Yes, I think there may well be similarities.  Take a look at the code.
 Maybe Tony will be tempted to comment over the weekend but please
note that the weather in London is currently pretty good ;-)


&gt;<i> Is the Erlang client stable?
</I>
It could benefit from review.  Please see the discussions between Jack
Moffitt and the team here, a few weeks ago.

Cheers,

alexis



&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003986.html">[rabbitmq-discuss] Comet interface
</A></li>
	<LI>Next message: <A HREF="004138.html">[rabbitmq-discuss] Comet interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4003">[ date ]</a>
              <a href="thread.html#4003">[ thread ]</a>
              <a href="subject.html#4003">[ subject ]</a>
              <a href="author.html#4003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
