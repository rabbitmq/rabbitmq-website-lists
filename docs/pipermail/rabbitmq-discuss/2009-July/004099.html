<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Limit QueueingConsumer Memory Usage
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Limit%20QueueingConsumer%20Memory%20Usage&In-Reply-To=4A5F1BBE.1050600%40worldlingo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004098.html">
   <LINK REL="Next"  HREF="004105.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Limit QueueingConsumer Memory Usage</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Limit%20QueueingConsumer%20Memory%20Usage&In-Reply-To=4A5F1BBE.1050600%40worldlingo.com"
       TITLE="[rabbitmq-discuss] Limit QueueingConsumer Memory Usage">0x6e6562 at gmail.com
       </A><BR>
    <I>Thu Jul 16 14:34:59 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004098.html">[rabbitmq-discuss] Limit QueueingConsumer Memory Usage
</A></li>
        <LI>Next message: <A HREF="004105.html">[rabbitmq-discuss] Limit QueueingConsumer Memory Usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4099">[ date ]</a>
              <a href="thread.html#4099">[ thread ]</a>
              <a href="subject.html#4099">[ subject ]</a>
              <a href="author.html#4099">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lars,

On Thu, Jul 16, 2009 at 1:23 PM, Lars George&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lars at worldlingo.com</A>&gt; wrote:
&gt;<i> I sent you the source in a separate message. Please let me know if that
</I>&gt;<i> helps or if you want me to send you the compiled classes too. Yes, the host
</I>&gt;<i> is hardcoded, that is the only real dependency which is of course easily
</I>&gt;<i> changed. If you like I can change the code so that the host is a command
</I>&gt;<i> line option too. Please advise.
</I>
Ok, I've just run this code and the behavior is the same as yesterday,
i.e. I my observations do not concur with yours.

When setting prefetch to 1, the internal queue never grows bigger than
one, which is inline with what it with what it is designed to do.

When I turn off QoS, the maximum queue depth I observed was about 150,
but YMMV of course.

Hence, I can't really help in this case since I cannot reproduce the issue.

&gt;<i> What is an m2 client?
</I>
I meant that you cook up a maven pom to that will run everything. I
don't know if this will shed any light on the situation, because I
imported your code and the only thing I modified was the hostname and
the namespace of the classes.

Hence, I'm at a loss as to what could be going wrong - the only think
that I can think is that you may using a earlier version of Rabbit
(although you said that you've upgraded to 1.6.0) and if you were, I'd
expect to see something in the server logs.

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004098.html">[rabbitmq-discuss] Limit QueueingConsumer Memory Usage
</A></li>
	<LI>Next message: <A HREF="004105.html">[rabbitmq-discuss] Limit QueueingConsumer Memory Usage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4099">[ date ]</a>
              <a href="thread.html#4099">[ thread ]</a>
              <a href="subject.html#4099">[ subject ]</a>
              <a href="author.html#4099">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
