<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Perl AMQP client software in github
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Perl%20AMQP%20client%20software%20in%20github&In-Reply-To=167204d20907150141x579824cdo33aeb223f025daa9%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004108.html">
   <LINK REL="Next"  HREF="004065.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Perl AMQP client software in github</H1>
    <B>Eric Waters</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Perl%20AMQP%20client%20software%20in%20github&In-Reply-To=167204d20907150141x579824cdo33aeb223f025daa9%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Perl AMQP client software in github">ewaters at gmail.com
       </A><BR>
    <I>Wed Jul 15 17:24:40 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004108.html">[rabbitmq-discuss] how to make Wcf bind to rabbitmq exchange	and queue?
</A></li>
        <LI>Next message: <A HREF="004065.html">[rabbitmq-discuss] RabbitMQ Consumer Error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4082">[ date ]</a>
              <a href="thread.html#4082">[ thread ]</a>
              <a href="subject.html#4082">[ subject ]</a>
              <a href="author.html#4082">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I choose to create two separate projects to allow for the greatest
flexibility in implementing client or server software.
Net::AMQP is a OO representation of the protocol.  It uses the XML spec to
dynamically create new classes in a Net::AMQP::Protocol:: namespace.  The
chief purpose of this is to (de)serialize the wire-level encoding of AMQP
frames and provide convenient OO representation of the frames.

POE::Component::Client::AMQP is an asynchronous client module which
establishes the TCP connection to the server and uses Net::AMQP for it's
(de)serialization of the frames.  It has to know some of the basics of the
protocol, such as the connection grammar Start/StartOk, Tune/TuneOk, etc
(though, now that I think of it, it's possible this could be moved to
Net::AMQP as well).  It uses the data in Net::AMQP to automatically handle
synchronous methods and their expected responses and content header
building.  Ultimately POE::Component::Client::AMQP offers simply a channel
for sending Net::AMQP packets and handling their responses, allowing you to
write complex clients without worrying about the details of connecting and
the protocol.

POE is a reactor pattern (<A HREF="http://en.wikipedia.org/wiki/Reactor_pattern">http://en.wikipedia.org/wiki/Reactor_pattern</A>) for
Perl.  It is similar to Twisted for Python and EventMachine for Ruby.  Some
people aren't fond of programming with the reactor pattern, as it's more
difficult to track what's
happening at any given moment, and one can't usually write linear
code.  For this reason, it's likely that another Perl client will be
instituted (lenz
is working on Net::AMQP::Simple) that will probably use IO::Socket directly.

Eric

On Wed, Jul 15, 2009 at 2:41 AM, Alexis Richardson &lt;
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:

&gt;<i> Eric
</I>&gt;<i>
</I>&gt;<i> Thanks for this.  I'm not familiar with Perl so please can you explain
</I>&gt;<i> how the two projects relate to each other?  Should they always be used
</I>&gt;<i> together?
</I>&gt;<i>
</I>&gt;<i> alexis
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sat, Jul 11, 2009 at 12:06 AM, Eric Waters&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ewaters at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; I'll avoid talking about something that's not specific to
</I>&gt;<i> &gt; RabbitMQ in this forum in the
</I>&gt;<i> &gt;
</I>&gt;<i> future, but wanted to mention this as a follow up to a post earlier this week.
</I>&gt;<i> &gt;
</I>&gt;<i> I now have functioning code released for Net::AMQP and POE::Component::Client::AMQP.  Tested it against RabbitMQ 1.6.0.  Get it from
</I>&gt;<i> <A HREF="http://github.com/ewaters.">http://github.com/ewaters.</A>  You'll need to clone both repositories
</I>&gt;<i> &gt; to run the example pingpong.pl program (idea copied from ruby-amqp).
</I>&gt;<i> &gt; To try it out, clone both projects into the same directory, cd into
</I>&gt;<i> &gt; poe-component-client-amqp, and run:
</I>&gt;<i> &gt;   DEBUG=0 perl -Ilib -I../net-amqp/lib examples/pingpong.pl
</I>&gt;<i> &gt; ../net-amqp/spec/amqp0-8.xml
</I>&gt;<i> &gt; If you'd like to see the full protocol debug, change DEBUG=1.
</I>&gt;<i> &gt; The perl modules are fully documented in POD.  If anyone is interested,
</I>&gt;<i> I'd
</I>&gt;<i> &gt; love for collaboration on the project.  Drop me a line with your github
</I>&gt;<i> &gt; username and I'll add you as a github collaborator.
</I>&gt;<i> &gt; Sorry for the interruption.  Back to your regularly scheduled RabbitMQ
</I>&gt;<i> &gt; programming.  :)
</I>&gt;<i> &gt; Eric
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090715/bd69fdb2/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090715/bd69fdb2/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004108.html">[rabbitmq-discuss] how to make Wcf bind to rabbitmq exchange	and queue?
</A></li>
	<LI>Next message: <A HREF="004065.html">[rabbitmq-discuss] RabbitMQ Consumer Error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4082">[ date ]</a>
              <a href="thread.html#4082">[ thread ]</a>
              <a href="subject.html#4082">[ subject ]</a>
              <a href="author.html#4082">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
