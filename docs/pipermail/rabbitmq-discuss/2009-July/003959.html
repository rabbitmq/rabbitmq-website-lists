<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] dropped messages on low volume
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20dropped%20messages%20on%20low%20volume&In-Reply-To=0929DFE4-B15C-43CC-9C1C-DA522675856E%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003954.html">
   <LINK REL="Next"  HREF="003960.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] dropped messages on low volume</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20dropped%20messages%20on%20low%20volume&In-Reply-To=0929DFE4-B15C-43CC-9C1C-DA522675856E%40gmail.com"
       TITLE="[rabbitmq-discuss] dropped messages on low volume">matthew at lshift.net
       </A><BR>
    <I>Wed Jul  1 15:57:34 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003954.html">[rabbitmq-discuss] dropped messages on low volume
</A></li>
        <LI>Next message: <A HREF="003960.html">[rabbitmq-discuss] dropped messages on low volume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3959">[ date ]</a>
              <a href="thread.html#3959">[ thread ]</a>
              <a href="subject.html#3959">[ subject ]</a>
              <a href="author.html#3959">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Joel,

On Wed, Jul 01, 2009 at 03:39:14PM +0100, Joel Reymont wrote:
&gt;<i> On Jul 1, 2009, at 1:03 PM, Matthew Sackman wrote:
</I>&gt;<i> &gt;Could you thus rework this to use tx_select, publish and tx_commit?
</I>
Ok, we've had some more thoughts here about this, and basically, we
don't think you should need transactions (which aren't in the lib_amqp
module as you've found (and I'd forgotten)). The teardown that you're
doing is synchronous and will force everything out, so there is no risk
of messages getting stuck in the client. Thus don't worry about
transactions, and leave the teardown in.

We're wondering whether you're using the same channel or connection for
all of your clients? If so, that would be bad as as soon as one of them
closes, the other messages will not get through - teardown shuts both
the channel and the connection.

Could you send us the complete code so that we can reproduce the
problem?

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003954.html">[rabbitmq-discuss] dropped messages on low volume
</A></li>
	<LI>Next message: <A HREF="003960.html">[rabbitmq-discuss] dropped messages on low volume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3959">[ date ]</a>
              <a href="thread.html#3959">[ thread ]</a>
              <a href="subject.html#3959">[ subject ]</a>
              <a href="author.html#3959">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
