<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] is there a good way to upgrade my broker without	losing messages?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20is%20there%20a%20good%20way%20to%20upgrade%20my%20broker%20without%0A%09losing%20messages%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004269.html">
   <LINK REL="Next"  HREF="004270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] is there a good way to upgrade my broker without	losing messages?</H1>
    <B>Ryan Davis</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20is%20there%20a%20good%20way%20to%20upgrade%20my%20broker%20without%0A%09losing%20messages%3F&In-Reply-To="
       TITLE="[rabbitmq-discuss] is there a good way to upgrade my broker without	losing messages?">ryan at acceleration.net
       </A><BR>
    <I>Wed Jul 29 18:07:27 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004269.html">[rabbitmq-discuss] [rabbitmq-dscuss] Is it possible to recover from	crash, &quot;{corrupt_log_file, .}&quot;
</A></li>
        <LI>Next message: <A HREF="004270.html">[rabbitmq-discuss] Errors Restarting a Stopped Node in Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4268">[ date ]</a>
              <a href="thread.html#4268">[ thread ]</a>
              <a href="subject.html#4268">[ subject ]</a>
              <a href="author.html#4268">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm currently running an older version of RabbitMQ (1.5.1) on windows,
using a single broker for my lightly-loaded system.  All
publishers/consumers are pointed to that broker.  I want to upgrade to
1.6, but don't want to lose any messages.  I cannot turn off all
publishers (messages come from external sources).   I've read that the
db schema changes, and the old db essentially gets replaced.  This means
even durable messages will get discarded, right?

I've come up with a few ideas involving putting up another RabbitMQ
instance (point publishers at the new broker, let my consumers empty the
old broker, point consumers at the new broker), but I was wondering: is
there easier way to do it?  How do people currently handle upgrades?

Thanks,

-- 
Ryan Davis
Acceleration.net
Director of Programming Services
2831 NW 41st street, suite B
Gainesville, FL 32606

Office: 352-335-6500 x 124
Fax: 352-335-6506



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004269.html">[rabbitmq-discuss] [rabbitmq-dscuss] Is it possible to recover from	crash, &quot;{corrupt_log_file, .}&quot;
</A></li>
	<LI>Next message: <A HREF="004270.html">[rabbitmq-discuss] Errors Restarting a Stopped Node in Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4268">[ date ]</a>
              <a href="thread.html#4268">[ thread ]</a>
              <a href="subject.html#4268">[ subject ]</a>
              <a href="author.html#4268">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
