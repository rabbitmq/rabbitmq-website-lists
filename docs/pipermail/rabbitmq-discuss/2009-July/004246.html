<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Multiple consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Multiple%20consumers&In-Reply-To=496c8fcc0907272356i1056c5aer7590f13ebe2d761f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004245.html">
   <LINK REL="Next"  HREF="004247.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Multiple consumers</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Multiple%20consumers&In-Reply-To=496c8fcc0907272356i1056c5aer7590f13ebe2d761f%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Multiple consumers">matthew at lshift.net
       </A><BR>
    <I>Tue Jul 28 10:17:08 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004245.html">[rabbitmq-discuss] Multiple consumers
</A></li>
        <LI>Next message: <A HREF="004247.html">[rabbitmq-discuss] Using Subscriptions in different ways (was Re: Multiple consumers)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4246">[ date ]</a>
              <a href="thread.html#4246">[ thread ]</a>
              <a href="subject.html#4246">[ subject ]</a>
              <a href="author.html#4246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Adriana,

On Tue, Jul 28, 2009 at 09:56:03AM +0300, Adriana Rodean wrote:
&gt;<i> When i publish message 1 subscriber receives the message. After i
</I>&gt;<i> close this subscriber the other one receives the message.
</I>&gt;<i> I want both subscribers to receive the message when they are open.
</I>&gt;<i> What am i doing wrong?
</I>
When you subscribe, you're not setting the subscriber to auto-ack and
you're also not acknowledging the messages. You need to do one of these.

Without either of these, Rabbit will happily deliver messages to you,
but will hang on to them (because they've not been ack'd) and then when
the connection has been closed will add the messages back into the
queue. By ack'ing the messages, you tell Rabbit that you really have
received the messages and it can forget about them. Setting the
subscription to auto-ack mode does the same thing without you having to
sent explicit acks - i.e. it will consider the message acknowledged and
forget about it as soon as it's sent it to your consumer.

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004245.html">[rabbitmq-discuss] Multiple consumers
</A></li>
	<LI>Next message: <A HREF="004247.html">[rabbitmq-discuss] Using Subscriptions in different ways (was Re: Multiple consumers)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4246">[ date ]</a>
              <a href="thread.html#4246">[ thread ]</a>
              <a href="subject.html#4246">[ subject ]</a>
              <a href="author.html#4246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
