<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Issue related to message consumption
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Issue%20related%20to%20message%20consumption&In-Reply-To=FA3D7C54DA3A1540B2C92C93ACD215600556AB04%40XOREXCH.India.XoriantCorp.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004140.html">
   <LINK REL="Next"  HREF="004145.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Issue related to message consumption</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Issue%20related%20to%20message%20consumption&In-Reply-To=FA3D7C54DA3A1540B2C92C93ACD215600556AB04%40XOREXCH.India.XoriantCorp.com"
       TITLE="[rabbitmq-discuss] Issue related to message consumption">tonyg at lshift.net
       </A><BR>
    <I>Fri Jul 17 14:03:40 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004140.html">[rabbitmq-discuss] STOMP Adapter Example: Headers Exchange
</A></li>
        <LI>Next message: <A HREF="004145.html">[rabbitmq-discuss] Headers Exchange Logic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4136">[ date ]</a>
              <a href="thread.html#4136">[ thread ]</a>
              <a href="subject.html#4136">[ subject ]</a>
              <a href="author.html#4136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Anand Ved wrote:
&gt;<i> However, during consumption, I face an exception (say NullPointer) which
</I>&gt;<i> although I am catching it, traveses up to the Connection triggering it
</I>&gt;<i> to be closed.
</I>
It's very strange that it keeps on travelling up even though it's being
caught!

&gt;<i> Please suggest if there is a better way of managing this.
</I>
Is it possible for you to switch to using QueueingConsumer instead?

&gt;<i>From the javadoc comment for interface Consumer:
</I>
&quot; * Note: all methods of this interface are invoked inside the {@link
 * Connection}'s thread. This means they a) should be non-blocking and
 * generally do little work, b) must not call {@link Channel} or
 * {@link Connection} methods, or a deadlock will ensue. One way of
 * ensuring this is to use/subclass {@link QueueingConsumer}.&quot;

We recommend using QueueingConsumer if possible, to avoid issues like
that you've run in to.

Regards,
  Tony
-- 
 [][][] Tony Garnock-Jones     | Mob: +44 (0)7905 974 211
   [][] LShift Ltd             | Tel: +44 (0)20 7729 7060
 []  [] <A HREF="http://www.lshift.net/">http://www.lshift.net/</A> | Email: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004140.html">[rabbitmq-discuss] STOMP Adapter Example: Headers Exchange
</A></li>
	<LI>Next message: <A HREF="004145.html">[rabbitmq-discuss] Headers Exchange Logic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4136">[ date ]</a>
              <a href="thread.html#4136">[ thread ]</a>
              <a href="subject.html#4136">[ subject ]</a>
              <a href="author.html#4136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
