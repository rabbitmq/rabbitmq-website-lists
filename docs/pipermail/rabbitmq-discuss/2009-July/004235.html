<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq cluster failover for persistent	queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20cluster%20failover%20for%20persistent%0A%09queues&In-Reply-To=20090726091058.GA10274%40aa">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004234.html">
   <LINK REL="Next"  HREF="004236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq cluster failover for persistent	queues</H1>
    <B>charles woerner</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20cluster%20failover%20for%20persistent%0A%09queues&In-Reply-To=20090726091058.GA10274%40aa"
       TITLE="[rabbitmq-discuss] rabbitmq cluster failover for persistent	queues">charleswoerner.lists at gmail.com
       </A><BR>
    <I>Sun Jul 26 18:45:11 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004234.html">[rabbitmq-discuss] rabbitmq cluster failover for	persistent	queues
</A></li>
        <LI>Next message: <A HREF="004236.html">[rabbitmq-discuss] rabbitmq cluster failover for persistent	queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4235">[ date ]</a>
              <a href="thread.html#4235">[ thread ]</a>
              <a href="subject.html#4235">[ subject ]</a>
              <a href="author.html#4235">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Arvind.  That seems to confirm our belief that rabbitmq doesn't
handle failover of session state at the moment.  So in the case of competing
consumers taking messages from a rabbitmq broker cluster it sounds like
once-and-only-once delivery is somewhat up to the application to implement
by arranging for each message to be delivered to redundant queues (ie. 2
separate queues with similar bindings residing on different hosts), then
coordinate among your consumers to ensure once-and-only-once delivery using
a database or simply to make your workflow idempotent with respect to the
duplicate messages.

Ideally, I'd like my broker cluster to handle this.  I'm looking into apache
qpid as it seems to be more mature with respect to availability.  The main
downside with rabbitmq for me right now is the lack of at least an option
for session state replication.  It sounds like a future release of rabbitmq
with pluggable persisters will make distributed session state possible via
mnesia.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090726/eb547aa0/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090726/eb547aa0/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004234.html">[rabbitmq-discuss] rabbitmq cluster failover for	persistent	queues
</A></li>
	<LI>Next message: <A HREF="004236.html">[rabbitmq-discuss] rabbitmq cluster failover for persistent	queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4235">[ date ]</a>
              <a href="thread.html#4235">[ thread ]</a>
              <a href="subject.html#4235">[ subject ]</a>
              <a href="author.html#4235">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
