<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] opposite of basicAck?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20opposite%20of%20basicAck%3F&In-Reply-To=6ec6c0ed-9b7c-4648-b527-11fdb4d14007%40d9g2000prh.googlegroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004100.html">
   <LINK REL="Next"  HREF="004092.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] opposite of basicAck?</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20opposite%20of%20basicAck%3F&In-Reply-To=6ec6c0ed-9b7c-4648-b527-11fdb4d14007%40d9g2000prh.googlegroups.com"
       TITLE="[rabbitmq-discuss] opposite of basicAck?">0x6e6562 at gmail.com
       </A><BR>
    <I>Thu Jul 16 18:27:19 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004100.html">[rabbitmq-discuss] opposite of basicAck?
</A></li>
        <LI>Next message: <A HREF="004092.html">[rabbitmq-discuss] RabbitMQ message monitoring directly via Mnesia	tables?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4110">[ date ]</a>
              <a href="thread.html#4110">[ thread ]</a>
              <a href="subject.html#4110">[ subject ]</a>
              <a href="author.html#4110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Amit,

On Thu, Jul 16, 2009 at 3:22 PM, amit bhatnagar&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">brownspice at gmail.com</A>&gt; wrote:
&gt;<i> When you do this by closing the channel, (essentially faking a
</I>&gt;<i> Basic.Reject), the message gets put back on the queue and gets ready
</I>&gt;<i> for consumption by another consumer (or channel from same consumer if
</I>&gt;<i> it had more than one channel).
</I>&gt;<i>
</I>&gt;<i> a) Is the producer registering for an BasicReturn listener the proper
</I>&gt;<i> mechanism to be informed that the message was undeliverable?
</I>
The answer to your question might lie in the spec's definition of the
BasicReturn command:

&quot;This method returns an undeliverable message that was published with
the &quot;immediate&quot; flag set, or an unroutable message published with the
&quot;mandatory&quot; flag set. The reply code and text provide information
about the reason that the message was undeliverable.&quot;


&gt;<i> b) If a is true, how long would the message sit on the queue waiting
</I>&gt;<i> for a potential consumer to pick it up before the basic.return was
</I>&gt;<i> generated by the broker back for the producer?
</I>
See above.

&gt;<i> c) If no such BasicReturn listener was registered, the message gets
</I>&gt;<i> dropped?
</I>
The broker will send the rejection back to the client in any case.
Whether this ever lands back in the client application depends on
whether (a) the client library black holes these messages or (b)
whether the client application registers some kind of callback to
handle returns. Both of which are outside of the broker's remit.

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004100.html">[rabbitmq-discuss] opposite of basicAck?
</A></li>
	<LI>Next message: <A HREF="004092.html">[rabbitmq-discuss] RabbitMQ message monitoring directly via Mnesia	tables?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4110">[ date ]</a>
              <a href="thread.html#4110">[ thread ]</a>
              <a href="subject.html#4110">[ subject ]</a>
              <a href="author.html#4110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
