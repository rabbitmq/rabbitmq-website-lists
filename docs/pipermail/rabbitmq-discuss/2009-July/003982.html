<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] multiple consumers on one channel?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20multiple%20consumers%20on%20one%20channel%3F&In-Reply-To=84fb38e30907021023t527f9105jfb594e24e20e0097%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003977.html">
   <LINK REL="Next"  HREF="004014.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] multiple consumers on one channel?</H1>
    <B>tsuraan</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20multiple%20consumers%20on%20one%20channel%3F&In-Reply-To=84fb38e30907021023t527f9105jfb594e24e20e0097%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] multiple consumers on one channel?">tsuraan at gmail.com
       </A><BR>
    <I>Thu Jul  2 20:51:59 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003977.html">[rabbitmq-discuss] multiple consumers on one channel?
</A></li>
        <LI>Next message: <A HREF="004014.html">[rabbitmq-discuss] multiple consumers on one channel?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3982">[ date ]</a>
              <a href="thread.html#3982">[ thread ]</a>
              <a href="subject.html#3982">[ subject ]</a>
              <a href="author.html#3982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, this is strange.  I can't even get two subscriptions on the same
connection, using different channels.  If I make a different
connection for each consumer, then I get messages simultaneously.  If
I have my two channels on the same connection, I get all the messages
from one of the queues, then all the messages from the other one.
I've included some pretty ugly code to demonstrate parallel consumers.
 If you change main() to only use one connection and two channels, you
can see it draining messages from the first queue at one message per
second, then draining messages from the second queue at the same rate.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ChannelTest.java
Type: text/x-java
Size: 2417 bytes
Desc: not available
Url : <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090702/4f09a2a5/attachment.java">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090702/4f09a2a5/attachment.java</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003977.html">[rabbitmq-discuss] multiple consumers on one channel?
</A></li>
	<LI>Next message: <A HREF="004014.html">[rabbitmq-discuss] multiple consumers on one channel?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3982">[ date ]</a>
              <a href="thread.html#3982">[ thread ]</a>
              <a href="subject.html#3982">[ subject ]</a>
              <a href="author.html#3982">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
