<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Synchronous Client Example?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20Synchronous%20Client%20Example%3F&In-Reply-To=167204d20907181147w4ff8a03dwb85aa237b224e59a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004162.html">
   <LINK REL="Next"  HREF="004165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Synchronous Client Example?</H1>
    <B>Lynton Grice</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20Synchronous%20Client%20Example%3F&In-Reply-To=167204d20907181147w4ff8a03dwb85aa237b224e59a%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] RabbitMQ Synchronous Client Example?">lynton.grice at logosworld.com
       </A><BR>
    <I>Sun Jul 19 08:59:06 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004162.html">[rabbitmq-discuss] RabbitMQ Synchronous Client Example?
</A></li>
        <LI>Next message: <A HREF="004165.html">[rabbitmq-discuss] RabbitMQ Synchronous Client Example?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4163">[ date ]</a>
              <a href="thread.html#4163">[ thread ]</a>
              <a href="subject.html#4163">[ subject ]</a>
              <a href="author.html#4163">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alexis,

Ideally I would want an AMQP client in Erlang code for the RPC pattern....I
will check it out, thanks for the help ;-)

Lynton

-----Original Message-----
From: Alexis Richardson [mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>] 
Sent: 18 July 2009 08:48 PM
To: Lynton Grice
Cc: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] RabbitMQ Synchronous Client Example?

Lynton

There should be some examples of the RPC pattern in the source and
docs.  At least for Java and .NET.  You could also look at some of the
python and ruby synchronous clients.  None of them use HTTP though.
They all use AMQP (iirc).

alexis


On Sat, Jul 18, 2009 at 3:58 PM, Lynton
Grice&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lynton.grice at logosworld.com</A>&gt; wrote:
&gt;<i> Hi guys,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Quick one.....I have the following scenario:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Client sends message -&gt; Mochiweb HTTP Server -&gt; AMQP Erlang client -&gt;
</I>&gt;<i> RabbitMQ -&gt; PYTHON consumer
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Obviously the scenario suits ASYNCHRONOUS processing very well.......but
</I>now
&gt;<i> I want to handle SYNCHRONOUS as well....?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So what I would like is a SYNCHRONOUS scenario whereby the message goes
</I>from
&gt;<i> the client -&gt; Mochiweb HTTP server -&gt; then to the AMQP Erlang client, this
</I>&gt;<i> then sends the message to RabbitMQ and blocks for a RESPONSE (waits for
</I>&gt;<i> return message).....then the Python consumer picks up the
</I>&gt;<i> message....processes it and sends the response to a &quot;RESPONSE
</I>queue&quot;.....the
&gt;<i> code then receives this response message (via some type of
</I>&quot;correlationID&quot;?)
&gt;<i> and sends it back to the calling client.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So basically how are synchronous scenarios handles in RabbitMQ? Does
</I>anyone
&gt;<i> have any example code in Erlang (or other) that shows how to process a
</I>&gt;<i> message with ID &quot;123&quot; in RabbitMQ and put the result of message &quot;123&quot; into
</I>&gt;<i> some other response queue..
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Well I suppose when I speak of queues above maybe it should be
</I>&gt;<i> &quot;exchange&quot;....maybe with a &quot;routing_key&quot;? The &quot;routing_key&quot; could be an
</I>&gt;<i> internal &quot;correlationID&quot; of sorts?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So essentially the process will seem SYNCHRONOUS from that calling client
</I>&gt;<i> but will be ASYNCHRONOUS in the &quot;internals&quot;...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any ideas?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks for the help ;-)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Lynton
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004162.html">[rabbitmq-discuss] RabbitMQ Synchronous Client Example?
</A></li>
	<LI>Next message: <A HREF="004165.html">[rabbitmq-discuss] RabbitMQ Synchronous Client Example?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4163">[ date ]</a>
              <a href="thread.html#4163">[ thread ]</a>
              <a href="subject.html#4163">[ subject ]</a>
              <a href="author.html#4163">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
