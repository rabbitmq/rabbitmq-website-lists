<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Errors Restarting a Stopped Node in Cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Errors%20Restarting%20a%20Stopped%20Node%20in%20Cluster&In-Reply-To=OF1DAB0726.1B708286-ON85257602.00691034-85257602.006A149E%40db.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004275.html">
   <LINK REL="Next"  HREF="004272.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Errors Restarting a Stopped Node in Cluster</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Errors%20Restarting%20a%20Stopped%20Node%20in%20Cluster&In-Reply-To=OF1DAB0726.1B708286-ON85257602.00691034-85257602.006A149E%40db.com"
       TITLE="[rabbitmq-discuss] Errors Restarting a Stopped Node in Cluster">matthias at lshift.net
       </A><BR>
    <I>Wed Jul 29 21:43:19 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004275.html">[rabbitmq-discuss] Errors Restarting a Stopped Node in Cluster
</A></li>
        <LI>Next message: <A HREF="004272.html">[rabbitmq-discuss] Patch submission
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4276">[ date ]</a>
              <a href="thread.html#4276">[ thread ]</a>
              <a href="subject.html#4276">[ subject ]</a>
              <a href="author.html#4276">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Richard,

Rich Kim wrote:
&gt;<i> I've have the cluster setup on auto-configuration,
</I>
what's in the cluster config file of the three nodes?

Also, do any of the nodes have a file
 
/export/home/common/repository/rabbitmq/current/mnesia/rabbit/cluster_nodes.config

?

You said that the node came up after removing the mnesia dir. Did it end 
up clustering itself with the other nodes?


Here is another thought ... the above dir isn't by any chance on an NFS 
mount that is shared by all machines, is it? That certainly would cause 
all sorts of problems.


I am attaching a transcript of a session where I tried to reproduce the 
problem but failed. The setup isn't quite the same as yours - I am 
running all nodes on the same machine and I am using a recent 
development snapshot - but that shouldn't matter.

See whether you can spot any significant differences to what you are doing.

If you can produce a similar transcript that exhibits the problem then I 
can try to replicate your setup more closely.


Regards,

Matthias.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: cluster_transcript.txt
Url: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090729/0f3ba504/attachment.txt">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090729/0f3ba504/attachment.txt</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004275.html">[rabbitmq-discuss] Errors Restarting a Stopped Node in Cluster
</A></li>
	<LI>Next message: <A HREF="004272.html">[rabbitmq-discuss] Patch submission
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4276">[ date ]</a>
              <a href="thread.html#4276">[ thread ]</a>
              <a href="subject.html#4276">[ subject ]</a>
              <a href="author.html#4276">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
