<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ broker's death by one cut: robustness problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20broker%27s%20death%20by%20one%20cut%3A%0A%20robustness%20problem&In-Reply-To=49FAE5FC.4050105%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003501.html">
   <LINK REL="Next"  HREF="003505.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ broker's death by one cut: robustness problem</H1>
    <B>Lev Walkin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20broker%27s%20death%20by%20one%20cut%3A%0A%20robustness%20problem&In-Reply-To=49FAE5FC.4050105%40lshift.net"
       TITLE="[rabbitmq-discuss] RabbitMQ broker's death by one cut: robustness problem">vlm at lionet.info
       </A><BR>
    <I>Fri May  1 19:13:12 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003501.html">[rabbitmq-discuss] RabbitMQ broker's death by one cut: robustness problem
</A></li>
        <LI>Next message: <A HREF="003505.html">[rabbitmq-discuss] RabbitMQ broker's death by one cut: robustness problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3504">[ date ]</a>
              <a href="thread.html#3504">[ thread ]</a>
              <a href="subject.html#3504">[ subject ]</a>
              <a href="author.html#3504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tony Garnock-Jones wrote:
&gt;<i> Lev Walkin wrote:
</I>&gt;&gt;<i> I've already had two power outages in our triple-redundant industrial
</I>&gt;&gt;<i> grade colocation in San Jose. How do I disable power outages?
</I>&gt;<i> 
</I>&gt;<i> Point taken. My point was that you may wish to reduce avoidable harm.
</I>
Speaking of OOM killer, it is not wise to disable OOM on a 
dedicated-to-AMQ system with 16 Gigs of RAM and 4 Gigs of swap.

If AMQP can't cope with about 300k unconfirmed messages on the queue (it 
grows beyond _gigabytes_ when all these unconfirmed messages are &quot;in 
flight&quot; to the destination), you're bound have a hard stop at some point 
anyway.

Better have erlang killed with OOM than box killed because of kernel 
panic, or because sshd is killed (when OOM is disabled just for the beam 
process) and you can never reach your machine again.

-- 
Lev Walkin
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">vlm at lionet.info</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003501.html">[rabbitmq-discuss] RabbitMQ broker's death by one cut: robustness problem
</A></li>
	<LI>Next message: <A HREF="003505.html">[rabbitmq-discuss] RabbitMQ broker's death by one cut: robustness problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3504">[ date ]</a>
              <a href="thread.html#3504">[ thread ]</a>
              <a href="subject.html#3504">[ subject ]</a>
              <a href="author.html#3504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
