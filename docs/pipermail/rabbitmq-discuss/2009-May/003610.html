<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] dropped messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20dropped%20messages&In-Reply-To=23660939.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003608.html">
   <LINK REL="Next"  HREF="003613.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] dropped messages</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20dropped%20messages&In-Reply-To=23660939.post%40talk.nabble.com"
       TITLE="[rabbitmq-discuss] dropped messages">matthias at lshift.net
       </A><BR>
    <I>Fri May 22 10:50:41 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003608.html">[rabbitmq-discuss] dropped messages
</A></li>
        <LI>Next message: <A HREF="003613.html">[rabbitmq-discuss] dropped messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3610">[ date ]</a>
              <a href="thread.html#3610">[ thread ]</a>
              <a href="subject.html#3610">[ subject ]</a>
              <a href="author.html#3610">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark,

smittycb10 wrote:
&gt;<i> It seems that my biggest problem was understanding the difference between a
</I>&gt;<i> '#' and '*' in the routing key. Expect to see better results tomorrow.
</I>
&gt;<i> Would appreciate some performance tuning tips or pointers to documentation
</I>&gt;<i> on this subject.
</I>
Here are a few tips of how to get the best performance out of AMQP:

- avoid topic exchanges if you can. Most use cases only need direct or 
fanout exchanges, which are much more efficient. It is a common 
misconception that direct exchanges only route messages to at most one 
queue. That is not the case; they can route messages to multiple queues.

- on the consuming side, use basic.consume instead of basic.get, and 
turn on 'no-ack' (thus eliminating the need to send acks), if your 
application semantics permit that.

- avoid creating lots of exchanges. A common mistake, again mostly due 
to misunderstanding about how direct exchanges work, is to create pairs 
of exchanges and queues when a single exchange with lots of queues would 
suffice. While RabbitMQ is perfectly happy with high exchange counts, 
and the number of exchanges has little or no impact on routing 
performance, exchange creation/deletion operations themselves are quite 
expensive.


Beyond that, RabbitMQ and the underlying Erlang/OTP runtime can be tuned 
to a degree. Plus the OS, in particular the network stack. In practice 
though most users get good enough performance with the standard settings.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003608.html">[rabbitmq-discuss] dropped messages
</A></li>
	<LI>Next message: <A HREF="003613.html">[rabbitmq-discuss] dropped messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3610">[ date ]</a>
              <a href="thread.html#3610">[ thread ]</a>
              <a href="subject.html#3610">[ subject ]</a>
              <a href="author.html#3610">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
