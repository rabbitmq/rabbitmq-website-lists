<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] flushing a queue?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20flushing%20a%20queue%3F&In-Reply-To=23e488cd0905181943h69948c15q276bdb786f87f734%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003590.html">
   <LINK REL="Next"  HREF="003592.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] flushing a queue?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20flushing%20a%20queue%3F&In-Reply-To=23e488cd0905181943h69948c15q276bdb786f87f734%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] flushing a queue?">matthias at lshift.net
       </A><BR>
    <I>Tue May 19 06:53:04 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003590.html">[rabbitmq-discuss] flushing a queue?
</A></li>
        <LI>Next message: <A HREF="003592.html">[rabbitmq-discuss] mysterious rabbit crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3591">[ date ]</a>
              <a href="thread.html#3591">[ thread ]</a>
              <a href="subject.html#3591">[ subject ]</a>
              <a href="author.html#3591">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alex,

Alex Polvi wrote:
&gt;<i> Is it possible to flush/remove the contents of a particular queue?
</I>
This can be done with the AMQP queue.purge command.

&gt;<i> Also, is it possible to see the contents of a particular queue? Would
</I>&gt;<i> be great for debugging purposes, even if I need to use hexdump ...
</I>
One option is to consume messages from the queue using, say, basic,get, 
but not acknowledging them, and close the connection/channel when the 
last message has been read that way - which causes all the messages to 
be re-queued.

The main downside is that this isn't totally transparent to other 
consumers, e.g. the message order may change.

Or you could use the Erlang shell to poke inside the queue processes. 
That requires some knowledge of Erlang and the RabbitMQ internals.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003590.html">[rabbitmq-discuss] flushing a queue?
</A></li>
	<LI>Next message: <A HREF="003592.html">[rabbitmq-discuss] mysterious rabbit crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3591">[ date ]</a>
              <a href="thread.html#3591">[ thread ]</a>
              <a href="subject.html#3591">[ subject ]</a>
              <a href="author.html#3591">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
