<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] best practice for EC2 deployment?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20best%20practice%20for%20EC2%20deployment%3F&In-Reply-To=4A146385.9060402%40cohesiveft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003600.html">
   <LINK REL="Next"  HREF="003601.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] best practice for EC2 deployment?</H1>
    <B>Ben Hyde</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20best%20practice%20for%20EC2%20deployment%3F&In-Reply-To=4A146385.9060402%40cohesiveft.com"
       TITLE="[rabbitmq-discuss] best practice for EC2 deployment?">bhyde at pobox.com
       </A><BR>
    <I>Thu May 21 18:10:42 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003600.html">[rabbitmq-discuss] best practice for EC2 deployment?
</A></li>
        <LI>Next message: <A HREF="003601.html">[rabbitmq-discuss] best practice for EC2 deployment?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3604">[ date ]</a>
              <a href="thread.html#3604">[ thread ]</a>
              <a href="subject.html#3604">[ subject ]</a>
              <a href="author.html#3604">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On May 20, 2009, at 4:09 PM, Dmitriy Samovskiy wrote:
&gt;<i> Hi Geir,
</I>&gt;<i>
</I>&gt;<i> Geir Magnusson Jr. wrote:
</I>&gt;&gt;<i> I'm about to create a rabbitMQ cluster on EC2.
</I>
I'm cutting out much useful advice, all of which I agree with.  I  
agree with this too:

&gt;<i> 5. I would also consider if you need clustering in the first place.  
</I>&gt;<i> Since queues
</I>&gt;<i> themselves are currently not replicated...
</I>
I'm curious if people have a scheme in mind?

My preference, from real time control systems I've built, is to murder  
key components randomly to assure that recover is not an exceptional  
event.

But so far I've not managed that here.  I have a plan, a lousy plan.   
Something like a hot standby.

My two last go at this involved having my own name servers (tinydns,  
etc.) running with short times to live.  When hare.example.com goes  
missing a hot standby would leap into action; it would notify the name  
server that it was taking over; spin up rabbitmq; etc. etc.   But this  
handoff looks amazingly slow compared to the latency in the message  
flow.  I assume time to live and the mnesia startup are the hard bit.   
You can switch amazon elastic ip reasonably quickly, to work around  
the DNS time out.  I suspect there is some clever things to be done to  
improve maintenance of a mnesia in service of hot standby.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003600.html">[rabbitmq-discuss] best practice for EC2 deployment?
</A></li>
	<LI>Next message: <A HREF="003601.html">[rabbitmq-discuss] best practice for EC2 deployment?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3604">[ date ]</a>
              <a href="thread.html#3604">[ thread ]</a>
              <a href="subject.html#3604">[ subject ]</a>
              <a href="author.html#3604">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
