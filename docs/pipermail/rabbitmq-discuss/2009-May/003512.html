<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Managing and unknown number of responses
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Managing%20and%20unknown%20number%20of%20responses&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003510.html">
   <LINK REL="Next"  HREF="003513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Managing and unknown number of responses</H1>
    <B>Colin Z</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Managing%20and%20unknown%20number%20of%20responses&In-Reply-To="
       TITLE="[rabbitmq-discuss] Managing and unknown number of responses">theczintheroc2007 at gmail.com
       </A><BR>
    <I>Mon May  4 23:40:32 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003510.html">[rabbitmq-discuss] direct exchanges / routing key necessary?
</A></li>
        <LI>Next message: <A HREF="003513.html">[rabbitmq-discuss] Managing and unknown number of responses
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3512">[ date ]</a>
              <a href="thread.html#3512">[ thread ]</a>
              <a href="subject.html#3512">[ subject ]</a>
              <a href="author.html#3512">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This may be an issue with asynchronous or message-passing based programming
in general...I hope someone can help out...

Basically, I want to send out a query in the form of an AMQ message and
receive back responses from an unknown and possibly large number of
responders.

As an example, let's say we're doing some game logic and we want to figure
out if an action should succeed or not.

My idea was to publish a message to a topic exchange with a routing key like
&quot;magic.success.&lt;characterName&gt;&quot; and then collect all the responses from all
the subscribed subsystems and use their responses to decide if the action
succeeded or not. It's almost like a map-reduce I guess.

It seems like I would either need to set a timeout after which I stop
waiting for responses (seems wasteful and possibly non-deterministic if some
logic takes unusually long to run)

or I somehow need to know in advance how many consumers there are, OR I need
to know how many queues my initial message got delivered to.

Has anyone dealt with something like this before?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090504/749ca256/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090504/749ca256/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003510.html">[rabbitmq-discuss] direct exchanges / routing key necessary?
</A></li>
	<LI>Next message: <A HREF="003513.html">[rabbitmq-discuss] Managing and unknown number of responses
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3512">[ date ]</a>
              <a href="thread.html#3512">[ thread ]</a>
              <a href="subject.html#3512">[ subject ]</a>
              <a href="author.html#3512">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
