<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ on OSX - Having Problems...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20on%20OSX%20-%20Having%20Problems...&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003568.html">
   <LINK REL="Next"  HREF="003570.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ on OSX - Having Problems...</H1>
    <B>Tim Perrett</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20on%20OSX%20-%20Having%20Problems...&In-Reply-To="
       TITLE="[rabbitmq-discuss] RabbitMQ on OSX - Having Problems...">tperrett at googlemail.com
       </A><BR>
    <I>Sat May 16 18:47:51 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003568.html">[rabbitmq-discuss] Broken Install on OSX?
</A></li>
        <LI>Next message: <A HREF="003570.html">[rabbitmq-discuss] RabbitMQ on OSX - Having Problems...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3569">[ date ]</a>
              <a href="thread.html#3569">[ thread ]</a>
              <a href="subject.html#3569">[ subject ]</a>
              <a href="author.html#3569">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ok, so I completely scrapped this and started again, this time with
macports to ensure it was nothing stupid i was doing causing the
problem. So, I installed via macports, and following the instructions:

sudo -H -u rabbitmq rabbitmq-server

Great I thought! It works out of the box... however, if i open another
terminal, the rabbitmqctl doesnt find the running server still.

Any ideas? This is really starting to do my head in!

Cheers, Tim

On Sat, May 16, 2009 at 11:37 AM, Tim Perrett &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tperrett at googlemail.com</A>&gt; wrote:
&gt;<i> Sorry, just to add some more information - when I run:
</I>&gt;<i>
</I>&gt;<i> macbookpro:~ timperrett$ sudo rabbitmq-server
</I>&gt;<i> RabbitMQ 1.5.4 (AMQP 8-0)
</I>&gt;<i> Copyright (C) 2007-2009 LShift Ltd., Cohesive Financial Technologies
</I>&gt;<i> LLC., and Rabbit Technologies Ltd.
</I>&gt;<i> Licensed under the MPL. &#160;See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>
</I>&gt;<i>
</I>&gt;<i> Logging to &quot;/var/log/rabbitmq/rabbit.log&quot;
</I>&gt;<i> SASL logging to &quot;/var/log/rabbitmq/rabbit-sasl.log&quot;
</I>&gt;<i>
</I>&gt;<i> starting database &#160; &#160; &#160; &#160; &#160; &#160; ...done
</I>&gt;<i> starting core processes &#160; &#160; &#160; ...done
</I>&gt;<i> starting recovery &#160; &#160; &#160; &#160; &#160; &#160; ...done
</I>&gt;<i> starting persister &#160; &#160; &#160; &#160; &#160; &#160;...done
</I>&gt;<i> starting guid generator &#160; &#160; &#160; ...done
</I>&gt;<i> starting builtin applications ...done
</I>&gt;<i> starting TCP listeners &#160; &#160; &#160; &#160;...done
</I>&gt;<i>
</I>&gt;<i> broker running
</I>&gt;<i>
</I>&gt;<i> Then in another terminal I run:
</I>&gt;<i>
</I>&gt;<i> macbookpro:~ timperrett$ sudo rabbitmqctl status
</I>&gt;<i> Status of node <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at macbookpro</A> ...
</I>&gt;<i> {badrpc,nodedown}
</I>&gt;<i> ...done.
</I>&gt;<i>
</I>&gt;<i> I then tried:
</I>&gt;<i>
</I>&gt;<i> timperrett$ sudo -u rabbitmq rabbitmq-server
</I>&gt;<i> {error_logger,{{2009,5,16},{11,34,45}},&quot;Failed to create cookie file&quot;,[]}
</I>&gt;<i> {error_logger,{{2009,5,16},{11,34,45}},crash_report,[[{initial_call,{auth,init,['Argument__1']}},{pid,&lt;0.20.0&gt;},{registered_name,[]},{error_info,{exit,{&quot;Failed
</I>&gt;<i> to create cookie
</I>&gt;<i> file&quot;,[{auth,init_cookie,0},{auth,init,1},{gen_server,init_it,6},{proc_lib,init_p_do_apply,3}]},[{gen_server,init_it,6},{proc_lib,init_p_do_apply,3}]}},{ancestors,[net_sup,kernel_sup,&lt;0.9.0&gt;]},{messages,[]},{links,[&lt;0.18.0&gt;]},{dictionary,[]},{trap_exit,true},{status,running},{heap_size,610},{stack_size,24},{reductions,580}],[]]}
</I>&gt;<i> {error_logger,{{2009,5,16},{11,34,45}},supervisor_report,[{supervisor,{local,net_sup}},{errorContext,start_error},{reason,{&quot;Failed
</I>&gt;<i> to create cookie
</I>&gt;<i> file&quot;,[{auth,init_cookie,0},{auth,init,1},{gen_server,init_it,6},{proc_lib,init_p_do_apply,3}]}},{offender,[{pid,undefined},{name,auth},{mfa,{auth,start_link,[]}},{restart_type,permanent},{shutdown,2000},{child_type,worker}]}]}
</I>&gt;<i> {error_logger,{{2009,5,16},{11,34,45}},supervisor_report,[{supervisor,{local,kernel_sup}},{errorContext,start_error},{reason,shutdown},{offender,[{pid,undefined},{name,net_sup},{mfa,{erl_distribution,start_link,[]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]}]}
</I>&gt;<i> {error_logger,{{2009,5,16},{11,34,45}},std_info,[{application,kernel},{exited,{shutdown,{kernel,start,[normal,[]]}}},{type,permanent}]}
</I>&gt;<i> {&quot;Kernel pid terminated&quot;,application_controller,&quot;{application_start_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}}&quot;}
</I>&gt;<i>
</I>&gt;<i> Crash dump was written to: erl_crash.dump
</I>&gt;<i> Kernel pid terminated (application_controller)
</I>&gt;<i> ({application_start_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}})
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i> Tim
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sat, May 16, 2009 at 11:22 AM, Tim Perrett &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tperrett at googlemail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Guys,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is probably a very noobie question, but everything was previously
</I>&gt;&gt;<i> working perfectly, and now its just broken. For some reason
</I>&gt;&gt;<i> rabbitmqctl appears to not be able to see the running broker? I worked
</I>&gt;&gt;<i> through this post:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="http://somic.org/2009/02/19/on-rabbitmqctl-and-badrpcnodedown/">http://somic.org/2009/02/19/on-rabbitmqctl-and-badrpcnodedown/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> And based on whats detailed there, he suggests its an issue with
</I>&gt;&gt;<i> rabbitmq not running as the rabbitmq user? Im running on OSX and did a
</I>&gt;&gt;<i> manual install.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any advice / help is greatly appreciated.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks, Tim
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003568.html">[rabbitmq-discuss] Broken Install on OSX?
</A></li>
	<LI>Next message: <A HREF="003570.html">[rabbitmq-discuss] RabbitMQ on OSX - Having Problems...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3569">[ date ]</a>
              <a href="thread.html#3569">[ thread ]</a>
              <a href="subject.html#3569">[ subject ]</a>
              <a href="author.html#3569">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
