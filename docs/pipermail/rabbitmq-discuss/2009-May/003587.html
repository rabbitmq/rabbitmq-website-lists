<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fanout exchange not playing ball?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fanout%20exchange%20not%20playing%20ball%3F&In-Reply-To=b22ab270905181427v6820e9f1s1594197f3b562cd7%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003586.html">
   <LINK REL="Next"  HREF="003588.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fanout exchange not playing ball?</H1>
    <B>Rich Kim</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fanout%20exchange%20not%20playing%20ball%3F&In-Reply-To=b22ab270905181427v6820e9f1s1594197f3b562cd7%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Fanout exchange not playing ball?">rich.kim at db.com
       </A><BR>
    <I>Mon May 18 22:31:29 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003586.html">[rabbitmq-discuss] Fanout exchange not playing ball?
</A></li>
        <LI>Next message: <A HREF="003588.html">[rabbitmq-discuss] Fanout exchange not playing ball?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3587">[ date ]</a>
              <a href="thread.html#3587">[ thread ]</a>
              <a href="subject.html#3587">[ subject ]</a>
              <a href="author.html#3587">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Taking a stab at this one, but have you setup your two listening clients 
with separate queue names? When using a fanout exchange and binding queues 
to the exchange, when you attach the second listener to the exchange, the 
queue name is already found, and therefore performs a NOOP. Both listeners 
share the same queue name, and thereafter begin round-robin like behavior. 


Create two listeners with distinct queue names, and you should see your 
expected behavior.

________________________
Richard Kim
Deutsche Bank Americas
Global Banking, New York
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rich.kim at db.com</A>
P: +1 212.250.4984



Tim Perrett &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tperrett at googlemail.com</A>&gt; 
Sent by: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>
05/18/2009 05:27 PM

To
RabbitMQ Discuss &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
cc

Subject
[rabbitmq-discuss] Fanout exchange not playing ball?






Hey guys,

I've setup a fanout exchange and my expectation does not match the
output... My expectation was that using a fanout exchange all
listening clients would get all messages - however this doesn't appear
to be the case. I started two separate instances of the same
application and run the listeners - I then publish a message into the
exchange, and it appears that App1 gets a message, then App2 gets
nothing. I send another message into the queue and then App2 gets the
message but not App1 - im a little lost how this could happen?

My creation code looks like:

    val ticket = channel.accessRequest(&quot;/data&quot;)
    channel.exchangeDeclare(ticket, &quot;mult&quot;, &quot;topic&quot;)
    channel.queueDeclare(ticket, &quot;mult_queue&quot;)
    channel.queueBind(ticket, &quot;mult_queue&quot;, &quot;mult&quot;, &quot;example.*&quot;)
    channel.basicConsume(ticket, &quot;mult_queue&quot;, false, new
SerializedConsumer(channel, this))


Any ideas / suggestions?

Cheers, Tim

_______________________________________________
rabbitmq-discuss mailing list
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>



---
This communication may contain confidential and/or privileged information.
If you are not the intended recipient (or have received this communication
in error) please notify the sender immediately and destroy this
communication. Any unauthorized copying, disclosure or distribution of the
material in this communication is strictly forbidden.

Deutsche Bank does not render legal or tax advice, and the information
contained in this communication should not be regarded as such.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090518/1313eb03/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090518/1313eb03/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003586.html">[rabbitmq-discuss] Fanout exchange not playing ball?
</A></li>
	<LI>Next message: <A HREF="003588.html">[rabbitmq-discuss] Fanout exchange not playing ball?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3587">[ date ]</a>
              <a href="thread.html#3587">[ thread ]</a>
              <a href="subject.html#3587">[ subject ]</a>
              <a href="author.html#3587">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
