<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Is it reasonable to stop a rabbitmq server	by sending it a fatal signal?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Is%20it%20reasonable%20to%20stop%20a%20rabbitmq%20server%0A%09by%20sending%20it%20a%20fatal%20signal%3F&In-Reply-To=36366a980905211627x4aa48a8ek81567556d8b024da%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003624.html">
   <LINK REL="Next"  HREF="003626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Is it reasonable to stop a rabbitmq server	by sending it a fatal signal?</H1>
    <B>Dave Smith</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Is%20it%20reasonable%20to%20stop%20a%20rabbitmq%20server%0A%09by%20sending%20it%20a%20fatal%20signal%3F&In-Reply-To=36366a980905211627x4aa48a8ek81567556d8b024da%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Is it reasonable to stop a rabbitmq server	by sending it a fatal signal?">dave.smith.to at gmail.com
       </A><BR>
    <I>Mon May 25 19:23:41 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003624.html">[rabbitmq-discuss] Is it reasonable to stop a rabbitmq server by sending it a fatal signal?
</A></li>
        <LI>Next message: <A HREF="003626.html">[rabbitmq-discuss] Is it reasonable to stop a rabbitmq server	by sending it a fatal signal?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3625">[ date ]</a>
              <a href="thread.html#3625">[ thread ]</a>
              <a href="subject.html#3625">[ subject ]</a>
              <a href="author.html#3625">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think in general sending a SIGKILL (9) to a process should be done in
exceptional cases, and not as a part of a normal shutdown.  Typically
applications respond to SIGTERM (15) to shutdown in an orderly manner.

I'm not sure of the details of CouchDB, but BEAM response to SIGTERM in a
reasonable way and terminates gracefully.

--DS


2009/5/21 Eric Hanchrow &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">eric.hanchrow at gmail.com</A>&gt;

&gt;<i> I've got a system that manages child processes, and stops those
</I>&gt;<i> processes by simply sending them a fatal signal -- in Unix parlance,
</I>&gt;<i> it does &quot;kill -9 &lt;process ID&gt;&quot;.  The process that it currently manages
</I>&gt;<i> deal gracefully with being killed, but I'm hoping to add rabbitmq to
</I>&gt;<i> this system, and would prefer not to have to write any special code
</I>&gt;<i> for it -- that is, I'd like to be able to stop it, too, by sending it
</I>&gt;<i> a fatal signal.  Is this a reasonable thing to do?  In particular, can
</I>&gt;<i> I expect that whatever it's written to disk will remain consistent?
</I>&gt;<i>
</I>&gt;<i> As it happens, I am not using, and don't plan to use, any persistent
</I>&gt;<i> queues; I assume this fact increases the chances I'll get away with
</I>&gt;<i> this.
</I>&gt;<i>
</I>&gt;<i> Also, I've tried killing rabbitmq and restarting it, with clients
</I>&gt;<i> connected, and have not observed anything alarming.  I _did_ see a log
</I>&gt;<i> message or two like this
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 21-May-2009::15:24:28 ===
</I>&gt;<i> Repaired persister log - 1 recovered, 0 bad
</I>&gt;<i>
</I>&gt;<i> ... but I figure those are _good_ signs, not bad.
</I>&gt;<i>
</I>&gt;<i> So: dumb idea, or perfectly fine?
</I>&gt;<i>
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090525/2722e916/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090525/2722e916/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003624.html">[rabbitmq-discuss] Is it reasonable to stop a rabbitmq server by sending it a fatal signal?
</A></li>
	<LI>Next message: <A HREF="003626.html">[rabbitmq-discuss] Is it reasonable to stop a rabbitmq server	by sending it a fatal signal?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3625">[ date ]</a>
              <a href="thread.html#3625">[ thread ]</a>
              <a href="subject.html#3625">[ subject ]</a>
              <a href="author.html#3625">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
