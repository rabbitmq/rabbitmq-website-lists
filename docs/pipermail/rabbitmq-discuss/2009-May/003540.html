<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq through firewall (rabbitmq-server patch)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20through%20firewall%20%28rabbitmq-server%20patch%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003539.html">
   <LINK REL="Next"  HREF="003541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq through firewall (rabbitmq-server patch)</H1>
    <B>Adam Wentz</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20through%20firewall%20%28rabbitmq-server%20patch%29&In-Reply-To="
       TITLE="[rabbitmq-discuss] rabbitmq through firewall (rabbitmq-server patch)">floppya at gmail.com
       </A><BR>
    <I>Thu May  7 20:35:55 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003539.html">[rabbitmq-discuss] starting persister --- timeout
</A></li>
        <LI>Next message: <A HREF="003541.html">[rabbitmq-discuss] millions of unack'd messages in a day--	disk	store instead of ram?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3540">[ date ]</a>
              <a href="thread.html#3540">[ thread ]</a>
              <a href="subject.html#3540">[ subject ]</a>
              <a href="author.html#3540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm clustering rabbitmq through a firewall and made the following change to
/usr/lib/rabbitmq/bin/rabbitmq-server so we can specify the ports erlang
will use to do the cluster to cluster communication:

 35a36,37
&gt;<i> RABBIT_LISTEN_MIN_DEFAULT=34567
</I>&gt;<i> RABBIT_LISTEN_MAX_DEFAULT=34567
</I>38c40,41
&lt; -kernel inet_default_connect_options [{nodelay,true}]&quot;
---
&gt;<i> -kernel inet_default_connect_options [{nodelay,true}] \
</I>&gt;<i> -kernel inet_dist_listen_min
</I>${RABBIT_LISTEN_MIN:-$RABBIT_LISTEN_MIN_DEFAULT} inet_dist_listen_max
${RABBIT_LISTEN_MAX:-$RABBIT_LISTEN_MAX_DEFAULT}&quot;

You can define RABBIT_LISTEN_MIN and RABBIT_LISTEN_MAX for your own custom
ranges, might want to change the defaults too. I'm posting this in the hopes
that it will either be useful to others or someone will show me a better way
as I'm new to erlang/rabbitmq.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090507/f05d0988/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090507/f05d0988/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003539.html">[rabbitmq-discuss] starting persister --- timeout
</A></li>
	<LI>Next message: <A HREF="003541.html">[rabbitmq-discuss] millions of unack'd messages in a day--	disk	store instead of ram?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3540">[ date ]</a>
              <a href="thread.html#3540">[ thread ]</a>
              <a href="subject.html#3540">[ subject ]</a>
              <a href="author.html#3540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
