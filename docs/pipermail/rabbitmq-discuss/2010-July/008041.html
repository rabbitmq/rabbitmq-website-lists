<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Updating messages on queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Updating%20messages%20on%20queues&In-Reply-To=%3C20100719104614.GB13335%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008040.html">
   <LINK REL="Next"  HREF="008042.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Updating messages on queues</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Updating%20messages%20on%20queues&In-Reply-To=%3C20100719104614.GB13335%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Updating messages on queues">matthew at rabbitmq.com
       </A><BR>
    <I>Mon Jul 19 11:46:15 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008040.html">[rabbitmq-discuss]  Updating messages on queues
</A></li>
        <LI>Next message: <A HREF="008042.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8041">[ date ]</a>
              <a href="thread.html#8041">[ thread ]</a>
              <a href="subject.html#8041">[ subject ]</a>
              <a href="author.html#8041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jul 19, 2010 at 03:21:54AM -0700, cbourne wrote:
&gt;<i> Does anybody know if it's possible to update messages on a queue without
</I>&gt;<i> actually removing them.
</I>
Yes, I know. And no, there are no side-effect-free operations on
messages in a queue.

&gt;<i> My use case requires a message to be removed from a
</I>&gt;<i> queue, only if the consumer is able to successfully process the message and
</I>&gt;<i> perform an action contained therein. If the action fails then the message
</I>&gt;<i> remains on the queue ready for a scheduled retry.
</I>
You simply want to have the consumers delay acknowledging the message
until after they've successfully processed the message. If they can't
process the message then presumably some error has occurred, which
you should make cause the client to close the channel on which it
received the message. That will cause the message to be requeued.

&gt;<i> I was thinking a message
</I>&gt;<i> time value could be changed so consumers only process messages that are
</I>&gt;<i> within a certain time range. If there's a better way to do this, any advice
</I>&gt;<i> would be welcome. 
</I>
I'm afraid I don't really understand this. Can you explain this some
more?

Matthew
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008040.html">[rabbitmq-discuss]  Updating messages on queues
</A></li>
	<LI>Next message: <A HREF="008042.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8041">[ date ]</a>
              <a href="thread.html#8041">[ thread ]</a>
              <a href="subject.html#8041">[ subject ]</a>
              <a href="author.html#8041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
