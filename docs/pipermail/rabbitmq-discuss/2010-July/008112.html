<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMq and clustering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMq%20and%20clustering&In-Reply-To=%3C839931.84391.qm%40web111001.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008111.html">
   <LINK REL="Next"  HREF="008113.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMq and clustering</H1>
    <B>Dave Greggory</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMq%20and%20clustering&In-Reply-To=%3C839931.84391.qm%40web111001.mail.gq1.yahoo.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMq and clustering">davegreggory at yahoo.com
       </A><BR>
    <I>Wed Jul 21 23:36:13 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008111.html">[rabbitmq-discuss] RabbitMq and clustering
</A></li>
        <LI>Next message: <A HREF="008113.html">[rabbitmq-discuss] RabbitMq and clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8112">[ date ]</a>
              <a href="thread.html#8112">[ thread ]</a>
              <a href="subject.html#8112">[ subject ]</a>
              <a href="author.html#8112">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just to clarify, I got this problem when I was trying out 1.7.2 and it gave no 
indication of any problems in any of the logs. I just saw the rabbtmqctl status 
didn't list the two nodes. The error you're seeing may not be related to ports 
not being open but it's something to double check.



----- Original Message ----
From: Dave Greggory &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">davegreggory at yahoo.com</A>&gt;
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Sent: Wed, July 21, 2010 6:33:52 PM
Subject: Re: [rabbitmq-discuss] RabbitMq and clustering

You need to have more ports open than just the regular 5672. This one bit me as 
well.

See 
<A HREF="http://old.nabble.com/Re%3A-problems-with-rabbitmq-cluster-across-2%09ubuntu-9.04-machines-p25632176.html">http://old.nabble.com/Re%3A-problems-with-rabbitmq-cluster-across-2%09ubuntu-9.04-machines-p25632176.html</A>


and
<A HREF="http://www.joshdevins.net/2010/03/21/rabbitmq-cluster-auto-configuration-debugging/">http://www.joshdevins.net/2010/03/21/rabbitmq-cluster-auto-configuration-debugging/</A>






----- Original Message ----
From: Thomas Sanchez &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">thomas.sanchz at gmail.com</A>&gt;
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Sent: Wed, July 21, 2010 6:27:05 PM
Subject: [rabbitmq-discuss] RabbitMq and clustering

Hi guys,

I'm trying to setup a cluster.
I followed the documentation here: <A HREF="http://www.rabbitmq.com/clustering.html">http://www.rabbitmq.com/clustering.html</A>

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at lucid</A>:~# cat /etc/hosts
127.0.0.1   localhost
127.0.1.1   lucid
10.252.XXX.XXX
rabbit1

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at lucid</A>:~# rabbitmqctl stop_app
Stopping node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at lucid</A> ...
...done.
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at lucid</A>:~# rabbitmqctl reset
Resetting node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at lucid</A> ...
...done.
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at lucid</A>:~# rabbitmqctl cluster <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit1</A>
Clustering node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at lucid</A> with [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit1</A>] ...
Error: {failed_to_cluster_with,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit1</A>],
                               &quot;Mnesia could not connect to some nodes.&quot;}


There is nothing in log.
I'm running the 1.8.1 version of rabbitmq (installed from .deb package)

erlang:
Erlang (BEAM) emulator version 5.7.4
Compiled on Fri Apr  9 11:08:48 2010

Have you some ideas on what happens ?

Thanks.

-- 
Thomas Sanchez
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>


      
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008111.html">[rabbitmq-discuss] RabbitMq and clustering
</A></li>
	<LI>Next message: <A HREF="008113.html">[rabbitmq-discuss] RabbitMq and clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8112">[ date ]</a>
              <a href="thread.html#8112">[ thread ]</a>
              <a href="subject.html#8112">[ subject ]</a>
              <a href="author.html#8112">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
