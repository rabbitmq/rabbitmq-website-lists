<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] ssl certificate to client lookup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20ssl%20certificate%20to%20client%20lookup&In-Reply-To=%3C4C324B54.1050903%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008004.html">
   <LINK REL="Next"  HREF="007873.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] ssl certificate to client lookup</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20ssl%20certificate%20to%20client%20lookup&In-Reply-To=%3C4C324B54.1050903%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] ssl certificate to client lookup">matthias at rabbitmq.com
       </A><BR>
    <I>Mon Jul  5 22:15:00 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008004.html">[rabbitmq-discuss] Get messages detail from queue
</A></li>
        <LI>Next message: <A HREF="007873.html">[rabbitmq-discuss] ssl certificate to client lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7872">[ date ]</a>
              <a href="thread.html#7872">[ thread ]</a>
              <a href="subject.html#7872">[ subject ]</a>
              <a href="author.html#7872">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lionel, Nathaniel,

Nathaniel Haggard wrote:
&gt;<i> On Mon, Jun 28, 2010 at 11:46 PM, Lionel Cons &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lionel.cons at cern.ch</A>&gt; wrote:
</I>&gt;&gt;<i> In case something bad happens (invalid message, too many messages...),
</I>&gt;&gt;<i> we want to know who sent the offending messages.
</I>
That doesn't seem to have anything to do with SSL, intrinsically, i.e. 
one can imagine wanting to know the same even when the clients connect 
w/o ssl.

That raises the question of how exactly to identify the sender of a 
message to a) consumers, and b) administrators. That is a very large can 
of worms, raising issues of trust such as

- How do consumers establish sufficient trust into the server (to supply 
the correct information)?

- How do producers establish sufficient trust into the server (to not 
pass on information about their identity when they do not intent to, to 
not fake such information, etc)?

- How does one deal with proxies/shovels, i.e. entities that relay 
information? Do messages passing through them have their original sender 
info replaced? Or does the proxy/shovel identity get appended somehow?

None of these issues are particular to AMQP, of course, so the AMQP 
working group should built on the work already done in the world of 
securing email, web services, etc. There is an AMQP Security SIG, and it 
may be worth you describing your use case to them, so they can 
incorporate it into their designs.

There is also an issue w.r.t. message fidelity. Currently RabbitMQ 
guarantees that the entire message payload, including headers, is 
transmitted to consumers unaltered. To some users that is a highly 
desirable property of a messaging system.

&gt;<i> If rabbitmqctl list_connections showed the ssl common name in
</I>&gt;<i> client_properties then we could find the queue by joining
</I>&gt;<i> list_connections output with list_queues output on pid and owner_pid
</I>&gt;<i> respectively.
</I>
Adding various bits of info extracted from ssl in the list_connections 
output would be quite easy and not run into any of the problems 
mentioned above associated with trying to attach sender identities to 
messages. But ...

Isn't the AMQP user sufficient for this? That can already be shown with 
'rabbitmqctl list_connections'.

Also, I do not understand how queue owner_pids help you here since the 
connections owning the queues are typically from the consumers and not 
the producers.


Regards,

Matthias.
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008004.html">[rabbitmq-discuss] Get messages detail from queue
</A></li>
	<LI>Next message: <A HREF="007873.html">[rabbitmq-discuss] ssl certificate to client lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7872">[ date ]</a>
              <a href="thread.html#7872">[ thread ]</a>
              <a href="subject.html#7872">[ subject ]</a>
              <a href="author.html#7872">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
