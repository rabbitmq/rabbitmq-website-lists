<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Integrating NServiceBus and RabbitMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Integrating%20NServiceBus%20and%20RabbitMQ&In-Reply-To=%3C4C4586D7.8020903%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008023.html">
   <LINK REL="Next"  HREF="008024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Integrating NServiceBus and RabbitMQ</H1>
    <B>Michael Bridgen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Integrating%20NServiceBus%20and%20RabbitMQ&In-Reply-To=%3C4C4586D7.8020903%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Integrating NServiceBus and RabbitMQ">mikeb at rabbitmq.com
       </A><BR>
    <I>Tue Jul 20 12:21:59 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008023.html">[rabbitmq-discuss] Integrating NServiceBus and RabbitMQ
</A></li>
        <LI>Next message: <A HREF="008024.html">[rabbitmq-discuss] Having some issues with RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8071">[ date ]</a>
              <a href="thread.html#8071">[ thread ]</a>
              <a href="subject.html#8071">[ subject ]</a>
              <a href="author.html#8071">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Udi,

&gt;<i> I've been hearing from many of my clients of the desire to use 
</I>&gt;<i> NServiceBus (an open source .NET service bus) on Linux by using Mono.
</I>&gt;<i> 
</I>&gt;<i> The thing missing is that MSMQ (the default transport used by 
</I>&gt;<i> NServiceBus) isn't available on Linux (duh :-) )
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> In terms of high availability and transactional support, I think that 
</I>&gt;<i> RabbitMQ is the best option for enabling the above.
</I>&gt;<i> 
</I>&gt;<i> The thing is if there are certain APIs that should (or should not) be 
</I>&gt;<i> used for working with RabbitMQ in &quot;federated mode&quot; - no central broker. 
</I>&gt;<i> Also, is there anything special that needs to be done to flow 
</I>&gt;<i> transactions from the application level into RabbitMQ and enlisting it 
</I>&gt;<i> into distributed transactions?
</I>
On the surface of things, I too would expect RabbitMQ to be suitable for 
backing a message bus; and, RabbitMQ is already used in Mono for messaging:
<A HREF="http://www.mono-project.com/SystemMessaging">http://www.mono-project.com/SystemMessaging</A>

That may be enough for what you want to do -- I don't know the .NET APIs 
well enough to judge.

 From your description, though, it looks like NServiceBus's design has 
assumptions about the transport that would make your intended use difficult.

RabbitMQ is designed to be a central broker, in that its model is fitted 
to AMQP, which is a client-broker protocol.  Addresses are scoped to the 
broker.

The MSMQ model, as I understand it, is that the queues are local 
transmission buffers, and addressing is global.

It would take some work to implement the MSMQ model with the AMQP model. 
  In particular I would guess it can't be accomplished without adapting 
the broker (e.g., with a plugin) or at least out-of-band communication 
between clients, which would rather undermine the effort.

We are looking into models of federation, so I'll keep this use case in 
mind.

With regard to distributed transactions, RabbitMQ doesn't support them. 
  If I recall, they were mentioned but not specified in AMQP 0-8, and 
the mention removed in AMQP 0-9-1.  RabbitMQ does support local 
transactions, scoped to channels.  But again, I think it would require 
modification (and probably substantial development) to support 
distributed transactions.


Regards,
Michael
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008023.html">[rabbitmq-discuss] Integrating NServiceBus and RabbitMQ
</A></li>
	<LI>Next message: <A HREF="008024.html">[rabbitmq-discuss] Having some issues with RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8071">[ date ]</a>
              <a href="thread.html#8071">[ thread ]</a>
              <a href="subject.html#8071">[ subject ]</a>
              <a href="author.html#8071">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
