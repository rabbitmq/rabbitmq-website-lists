<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitKernel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitKernel&In-Reply-To=%3C73EC566C-EB93-4019-8C06-37CC3E45359E%40npcinternational.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008213.html">
   <LINK REL="Next"  HREF="008221.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitKernel</H1>
    <B>Jon Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitKernel&In-Reply-To=%3C73EC566C-EB93-4019-8C06-37CC3E45359E%40npcinternational.com%3E"
       TITLE="[rabbitmq-discuss] RabbitKernel">jon.brisbin at npcinternational.com
       </A><BR>
    <I>Fri Jul 30 17:01:34 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008213.html">[rabbitmq-discuss] RabbitKernel
</A></li>
        <LI>Next message: <A HREF="008221.html">[rabbitmq-discuss] RabbitKernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8220">[ date ]</a>
              <a href="thread.html#8220">[ thread ]</a>
              <a href="subject.html#8220">[ subject ]</a>
              <a href="author.html#8220">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>To expand some (and for the benefit of the list), I guess what I'm thinking is related to a problem I see on the horizon as I build more utilities that have at their foundation AMQP messaging. Each component needs to talk to the other components running on different VMs within the cloud on different exchanges/queues and each has their own system of subscribing consumers and producing messages. This means: if I have three instances of tcServer running on a VM and each webapp is using the cloud session manager and and the server is using the JMX invoker, I've got four different ConnectionFactories, four sets of subscribers, four sets of producers (times the number of workers I have configured; I'll likely have 40 or more of these per VM). This doesn't seem terribly scalable to me, so I'm hunting for a way to use messaging on a VM for communicating to various components (that are likely unrelated) in a more reasonable way.

OSGi has always appealed to me because of module versioning, live reloading, etc... and the ROC approach that NetKernel takes to abstracting OSGi seems to offer (in my initial estimation at least) the ability to de-duplicate the various ways I'm managing connections, channels, subscribers, and producers (which is to say: each time I write a module, I try and improve it; the side-effect being each module does these things a little differently). 

I'm starting with a proof-of-concept NetKernel module that offers endpoints for publishing messages. That seems the easiest to start with. But after that, I think creating a system of consumers and resource &quot;callbacks&quot; would be fairly lightweight and, more than anything, better than what I've got now because it wouldn't be copied all over the place in different ways.

There seems to be a &quot;best practice&quot; way of managing the actual sending and receiving of messages irregardless of the application into which this functionality is injected. Once I can encapsulate that into a module, I have to figure out how IPC will happen! :/ I'm leaning toward Scala/Akka remote actors but there are more ways to go about this, I'm sure. I could also use local Redis servers that would use a variation on OSGi's &quot;whiteboard&quot; pattern where code inside the RabbitMQ NetKernel module would write data to a local Redis server where it could be picked up by code running in other JVMs on the same machine. I just haven't thought enough about it yet to decide which is best (my luck will be that it's actually a combination of various things).

Jon Brisbin
Portal Webmaster
NPC International, Inc.



On Jul 29, 2010, at 4:34 PM, David Wragg wrote:

&gt;<i> Hi Jon,
</I>&gt;<i> 
</I>&gt;<i> Jon Brisbin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jon.brisbin at npcinternational.com</A>&gt; writes:
</I>&gt;&gt;<i> Has anyone worked with RabbitMQ inside NetKernel?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> <A HREF="http://www.1060research.com/netkernel/">http://www.1060research.com/netkernel/</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I know enough about OSGI to make myself dangerous. I've worked some
</I>&gt;&gt;<i> with Apache's ESB, so when I came across NetKernel, I thought I'd at
</I>&gt;&gt;<i> least explore it a little to see if it would make our cloud
</I>&gt;&gt;<i> infrastructure easier to manage. I'd love to have some AMQP
</I>&gt;&gt;<i> integration in NetKernel to play with, so I wondered if anyone has
</I>&gt;&gt;<i> already worked on something or if there are plans to do so?
</I>&gt;<i> 
</I>&gt;<i> I don't think we've heard of RabbitMQ and NetKernel being used together.
</I>&gt;<i> 
</I>&gt;<i> I wonder how you would combine the resource oriented computing paradigm
</I>&gt;<i> of NetKernel with a messaging approach?  Or were you thinking of using
</I>&gt;<i> AMQP as a transport for Netkernel?
</I>&gt;<i> 
</I>&gt;<i> Dvid
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> David Wragg
</I>&gt;<i> Staff Engineer, RabbitMQ
</I>&gt;<i> SpringSource, a division of VMware
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008213.html">[rabbitmq-discuss] RabbitKernel
</A></li>
	<LI>Next message: <A HREF="008221.html">[rabbitmq-discuss] RabbitKernel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8220">[ date ]</a>
              <a href="thread.html#8220">[ thread ]</a>
              <a href="subject.html#8220">[ subject ]</a>
              <a href="author.html#8220">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
