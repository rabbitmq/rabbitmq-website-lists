<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq with one producer no consumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20with%20one%20producer%20no%20consumer&In-Reply-To=%3C20100718113516.GE28733%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008006.html">
   <LINK REL="Next"  HREF="008034.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq with one producer no consumer</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20with%20one%20producer%20no%20consumer&In-Reply-To=%3C20100718113516.GE28733%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] rabbitmq with one producer no consumer">matthew at rabbitmq.com
       </A><BR>
    <I>Sun Jul 18 12:35:16 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008006.html">[rabbitmq-discuss] rabbitmq with one producer no consumer
</A></li>
        <LI>Next message: <A HREF="008034.html">[rabbitmq-discuss] rabbitmq with one producer no consumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8032">[ date ]</a>
              <a href="thread.html#8032">[ thread ]</a>
              <a href="subject.html#8032">[ subject ]</a>
              <a href="author.html#8032">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1. If your goal is to be able to use Rabbit to buffer large numbers of
messages, larger than the amount of RAM you have available, then you
need to be using the new persister.

2. The memory watermark is deliberately set at 0.4 because GC can
temporarily cause twice as much memory to be required (so will jump to
0.8) and the remaining 0.2 is ideally left for OS disk buffers.

3. A 32-bit OS will only ever be able to allocate a maximum of 4GB to
one process (and frequently 2GB).

4. If Erlang requires more memory than the OS can allocate to it, then
it will crash. Thus setting the memory watermark to 0.98 will result in
a crash as soon as a GC run causes Rabbit to use more than
0.98 * (min(4GB, installed RAM))

5. If you're using the new persister, you shouldn't have any need to
move the watermark away from 0.4.

Matthew
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008006.html">[rabbitmq-discuss] rabbitmq with one producer no consumer
</A></li>
	<LI>Next message: <A HREF="008034.html">[rabbitmq-discuss] rabbitmq with one producer no consumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8032">[ date ]</a>
              <a href="thread.html#8032">[ thread ]</a>
              <a href="subject.html#8032">[ subject ]</a>
              <a href="author.html#8032">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
