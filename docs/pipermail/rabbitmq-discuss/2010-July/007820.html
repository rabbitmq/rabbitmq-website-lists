<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Possible memory leak?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Possible%20memory%20leak%3F&In-Reply-To=%3CB907BD5E-5F73-4AC0-9E7B-667AC3F16A8B%40ketralnis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007819.html">
   <LINK REL="Next"  HREF="007826.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Possible memory leak?</H1>
    <B>David King</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Possible%20memory%20leak%3F&In-Reply-To=%3CB907BD5E-5F73-4AC0-9E7B-667AC3F16A8B%40ketralnis.com%3E"
       TITLE="[rabbitmq-discuss] Possible memory leak?">dking at ketralnis.com
       </A><BR>
    <I>Thu Jul  1 06:31:32 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007819.html">[rabbitmq-discuss] socket read timeout in rabbitmq-c
</A></li>
        <LI>Next message: <A HREF="007826.html">[rabbitmq-discuss] Possible memory leak?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7820">[ date ]</a>
              <a href="thread.html#7820">[ thread ]</a>
              <a href="subject.html#7820">[ subject ]</a>
              <a href="author.html#7820">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have an EC2 node running rabbitmq 1.7.2. Take a look at its memory over the last month &lt;<A HREF="http://i.imgur.com/LMf02.png">http://i.imgur.com/LMf02.png</A>&gt;. Looks like a possible memory leak?

It only has 13 queues which generally sit at 0 (this is a change from the last time we restarted it, obvious from that graph, where we had one queue that would sit at ~70k because it was largely duplicates: we no longer do that), but are medium-traffic (maybe a few tens of new items per second, tops, its CPU over the same period: &lt;<A HREF="http://i.imgur.com/BFhMK.png">http://i.imgur.com/BFhMK.png</A>&gt;), so it's not particularly loaded, and it's not clear where all of that memory is going (although it does belong to beam.smp, so it's not some other process). rabbitmq is the only thing this node does.

We can restart once a month, but this might be a bigger deal for higher-traffic users than us
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007819.html">[rabbitmq-discuss] socket read timeout in rabbitmq-c
</A></li>
	<LI>Next message: <A HREF="007826.html">[rabbitmq-discuss] Possible memory leak?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7820">[ date ]</a>
              <a href="thread.html#7820">[ thread ]</a>
              <a href="subject.html#7820">[ subject ]</a>
              <a href="author.html#7820">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
