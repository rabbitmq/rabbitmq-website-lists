<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Query - Batch Consume
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Query%20-%20Batch%20Consume&In-Reply-To=%3Cyrv4c62zyjx08.fsf%40dwragg.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008203.html">
   <LINK REL="Next"  HREF="008206.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Query - Batch Consume</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Query%20-%20Batch%20Consume&In-Reply-To=%3Cyrv4c62zyjx08.fsf%40dwragg.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] Query - Batch Consume">david at rabbitmq.com
       </A><BR>
    <I>Thu Jul 29 13:25:11 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008203.html">[rabbitmq-discuss] Query - Batch Consume
</A></li>
        <LI>Next message: <A HREF="008206.html">[rabbitmq-discuss] Query - Batch Consume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8204">[ date ]</a>
              <a href="thread.html#8204">[ thread ]</a>
              <a href="subject.html#8204">[ subject ]</a>
              <a href="author.html#8204">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Abhishek K &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">abhishek.kona at gmail.com</A>&gt; writes:
&gt;<i> But will not batching reduce network transfers?
</I>&gt;<i> I mean if there are 10 items in a queue. Can a consumer consume them in one
</I>&gt;<i> network transfer?
</I>&gt;<i> Can something like that be done.
</I>
AMQP already permits an AMQP server to deliver many messages to a
consumer in a single network transfer (unless the consumer does
something like setting qos which would prevent this).

The RabbitMQ broker does not currently strive to make this happen - it
looks like it will do one write to the socket for each AMQP frame.  But
the operating system TCP stack might coalesce several socket writes into
a single IP packet.  I haven't looked at packet traces to check whether
this actually happens.

So RabbitMQ is either already doing what you suggest, or could be
optimised to do so, without introducing batch operations.  This is a key
advantage of an asynchronous protocol.

David

-- 
David Wragg
Staff Engineer, RabbitMQ
SpringSource, a division of VMware
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008203.html">[rabbitmq-discuss] Query - Batch Consume
</A></li>
	<LI>Next message: <A HREF="008206.html">[rabbitmq-discuss] Query - Batch Consume
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8204">[ date ]</a>
              <a href="thread.html#8204">[ thread ]</a>
              <a href="subject.html#8204">[ subject ]</a>
              <a href="author.html#8204">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
