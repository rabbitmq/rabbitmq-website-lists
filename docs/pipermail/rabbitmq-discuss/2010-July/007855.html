<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Possible memory leak?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Possible%20memory%20leak%3F&In-Reply-To=%3CC9589553-36D4-4D17-8C72-EDDB19076F87%40ketralnis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007839.html">
   <LINK REL="Next"  HREF="007856.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Possible memory leak?</H1>
    <B>David King</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Possible%20memory%20leak%3F&In-Reply-To=%3CC9589553-36D4-4D17-8C72-EDDB19076F87%40ketralnis.com%3E"
       TITLE="[rabbitmq-discuss] Possible memory leak?">dking at ketralnis.com
       </A><BR>
    <I>Sat Jul  3 19:13:08 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007839.html">[rabbitmq-discuss] Possible memory leak?
</A></li>
        <LI>Next message: <A HREF="007856.html">[rabbitmq-discuss] Possible memory leak?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7855">[ date ]</a>
              <a href="thread.html#7855">[ thread ]</a>
              <a href="subject.html#7855">[ subject ]</a>
              <a href="author.html#7855">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> If you just let it run, what happens?
</I>
I don't know. I guess we can see, but my guess is that it will wake me up at two in the morning to fix the site. That's what usually happens when rabbit crashes, anyway.

&gt;<i> The default Erlang gc performs garbage collections after a certain number of reductions, and that number is so high that a queue process which does work infrequently may not perform a gc for a very long time indeed. That's particularly noticeable when the message sizes are large. What's the average and max message size in your set up?
</I>
They're just IDs, so they'll be between 5 and 10 bytes each.

&gt;&gt;<i> So to be clear, we have 13
</I>&gt;&gt;<i> queues that all sit at 0 backlog basically all of the time. Certainly
</I>&gt;&gt;<i> no queues that grow at the same rate our memory does. 
</I>&gt;<i> How are you measuring the queue length? With 'rabbitmqctl list_queues'?
</I>
Yes

&gt;<i> Are any of the other items which can be listed with rabbitmqctl - exchanges, bindings, connections, channels, consumers - growing?
</I>
That doesn't appear to be true, no

&gt;<i> 
</I>&gt;<i> Also, have you installed any plug-ins?
</I>
No
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007839.html">[rabbitmq-discuss] Possible memory leak?
</A></li>
	<LI>Next message: <A HREF="007856.html">[rabbitmq-discuss] Possible memory leak?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7855">[ date ]</a>
              <a href="thread.html#7855">[ thread ]</a>
              <a href="subject.html#7855">[ subject ]</a>
              <a href="author.html#7855">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
