<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss]  Crash debugging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%20Crash%20debugging&In-Reply-To=%3C29151943.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008208.html">
   <LINK REL="Next"  HREF="007952.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss]  Crash debugging</H1>
    <B>winhamwr</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%20Crash%20debugging&In-Reply-To=%3C29151943.post%40talk.nabble.com%3E"
       TITLE="[rabbitmq-discuss]  Crash debugging">winhamwr at gmail.com
       </A><BR>
    <I>Tue Jul 13 19:12:44 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008208.html">[rabbitmq-discuss] configuring beam and rabbit
</A></li>
        <LI>Next message: <A HREF="007952.html">[rabbitmq-discuss] Crash debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7951">[ date ]</a>
              <a href="thread.html#7951">[ thread ]</a>
              <a href="subject.html#7951">[ subject ]</a>
              <a href="author.html#7951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello,

We've been running rabbit in production for ~12 months in combination with
the wonderful  <A HREF="http://ask.github.com/celery/">http://ask.github.com/celery/</A> Celery  project for use as a
delayed job tool. We've seen really good stability overall and we love the
project, but we did have one unexplained crash a few months ago and today we
had another. 

Poking around the forums, the two causes I see people pointing to for
crashes seem to be from running out of file descriptors and from running out
of memory, but I don't see how that could be the case in our situation. We
process a very low volume of messages and at the time of the crash, we had
processed 10 messages over the last 2 minutes. We use munin for monitoring,
and at the time of the crash, we had plenty of free memory. 

We're running version 1.7.2-1 installed from <A HREF="http://www.rabbitmq.com/debian/">http://www.rabbitmq.com/debian/</A>
testing on Ubuntu 8.04. 

The rabbit-sasl.log file didn't have any information about the initial crash
(just an error message from when I tried to start rabbitmq-server back up).
To get things back up, I had to delete the mnesia folder and reconfigure our
users, vhosts and permissions and then the server started back up just fine. 

Any help or insight would be greatly appreciated.

Thanks
-Wes

Attached is the relevant log from the initial crash from rabbit.log
<A HREF="http://old.nabble.com/file/p29151943/2010_07_13_crash_rabbit.log">http://old.nabble.com/file/p29151943/2010_07_13_crash_rabbit.log</A>
2010_07_13_crash_rabbit.log 
-- 
View this message in context: <A HREF="http://old.nabble.com/Crash-debugging-tp29151943p29151943.html">http://old.nabble.com/Crash-debugging-tp29151943p29151943.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.

</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008208.html">[rabbitmq-discuss] configuring beam and rabbit
</A></li>
	<LI>Next message: <A HREF="007952.html">[rabbitmq-discuss] Crash debugging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7951">[ date ]</a>
              <a href="thread.html#7951">[ thread ]</a>
              <a href="subject.html#7951">[ subject ]</a>
              <a href="author.html#7951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
