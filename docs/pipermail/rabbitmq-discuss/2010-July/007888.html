<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] how get list of queues / check queue exists
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20how%20get%20list%20of%20queues%20/%20check%20queue%20exists&In-Reply-To=%3C806F700D7E08E9408413160B05EB66672A47798BA1%40EXCH-MBX-1.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007870.html">
   <LINK REL="Next"  HREF="007889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] how get list of queues / check queue exists</H1>
    <B>Mark Pollack</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20how%20get%20list%20of%20queues%20/%20check%20queue%20exists&In-Reply-To=%3C806F700D7E08E9408413160B05EB66672A47798BA1%40EXCH-MBX-1.vmware.com%3E"
       TITLE="[rabbitmq-discuss] how get list of queues / check queue exists">mpollack at vmware.com
       </A><BR>
    <I>Tue Jul  6 20:54:09 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007870.html">[rabbitmq-discuss] how get list of queues / check queue exists
</A></li>
        <LI>Next message: <A HREF="007889.html">[rabbitmq-discuss] how get list of queues / check queue exists
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7888">[ date ]</a>
              <a href="thread.html#7888">[ thread ]</a>
              <a href="subject.html#7888">[ subject ]</a>
              <a href="author.html#7888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

As part of a soon to be released project from SpringSource, we will be providing a .NET client API to access the information you can get via Rabbitmqctl and other functions in the rabbitmq broker.   Jim Apperly from the rabbitmq team did the real hard work, I'll just be doing some minor changes.  I'll post back once some code is in git here git clone <A HREF="git://git.springsource.org/spring-amqp/spring-amqp-net.git">git://git.springsource.org/spring-amqp/spring-amqp-net.git</A>

Mark



From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Andrius Norkaitis
Sent: Monday, July 05, 2010 12:44 PM
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: [rabbitmq-discuss] how get list of queues / check queue exists

Hi.

I have occasionally connected clients (subscribers) which bids to non-durable, exclusive, autodelete queue with their own ID.
I'm looking how to check which of the clients is online (queues with known ids is available) or not.

If I could get a list of available queues I could compare their names with ID to know which subscribers is online.
Also if there would be method to check is queue available I could iterate through my list  and check it.

Rabbitmqctl has method to get list of available queues, but I haven't found any way doing this using client.

I have founded one solution using QueueDeclare and passive flag:

bool QueueAvailable = false;
            try
            {
                var m = ch.QueueDeclare(routingKey, true, false, true, true, false, null);
                QueueAvailable = true;
            }
            catch { }

If there is no queue available I get an exception, but also this closes the connection so to check i.e. 500 queues I'll need to make a lot of new connections every time.

Maybe there is more elegant solution?

Best regards
Andrius Norkaitis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100706/88cd1136/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100706/88cd1136/attachment.htm</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007870.html">[rabbitmq-discuss] how get list of queues / check queue exists
</A></li>
	<LI>Next message: <A HREF="007889.html">[rabbitmq-discuss] how get list of queues / check queue exists
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7888">[ date ]</a>
              <a href="thread.html#7888">[ thread ]</a>
              <a href="subject.html#7888">[ subject ]</a>
              <a href="author.html#7888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
