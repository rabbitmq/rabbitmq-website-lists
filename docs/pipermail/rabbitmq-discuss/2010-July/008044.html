<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Updating messages on queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Updating%20messages%20on%20queues&In-Reply-To=%3C20100719111213.GC13335%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008042.html">
   <LINK REL="Next"  HREF="008049.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Updating messages on queues</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Updating%20messages%20on%20queues&In-Reply-To=%3C20100719111213.GC13335%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Updating messages on queues">matthew at rabbitmq.com
       </A><BR>
    <I>Mon Jul 19 12:12:13 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008042.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
        <LI>Next message: <A HREF="008049.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8044">[ date ]</a>
              <a href="thread.html#8044">[ thread ]</a>
              <a href="subject.html#8044">[ subject ]</a>
              <a href="author.html#8044">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jul 19, 2010 at 04:06:38AM -0700, cbourne wrote:
&gt;<i> &gt; So by this I mean adding some kind of a time field to the header so the
</I>&gt;<i> &gt; consumer can apply a time based filter to the messages. Basically I need a
</I>&gt;<i> &gt; retry queue that allows messages to be re-processed after a pre-defined
</I>&gt;<i> &gt; time if the first attempt failed. Ideally this would also include the
</I>&gt;<i> &gt; number of times to try before failing permanently.
</I>
Well, you could always just handle it completely in the consumer - if
the consumer can't process it, republish the message with an update try
count and then ack the original message. Because the publish will go to
the end of the queue, that'll ensure that new messages do get seen and
that a repeatedly failing message doesn't ensure that other messages get
starved of attention.

Matthew
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008042.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
	<LI>Next message: <A HREF="008049.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8044">[ date ]</a>
              <a href="thread.html#8044">[ thread ]</a>
              <a href="subject.html#8044">[ subject ]</a>
              <a href="author.html#8044">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
