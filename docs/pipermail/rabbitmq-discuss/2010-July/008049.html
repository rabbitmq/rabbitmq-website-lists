<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Updating messages on queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Updating%20messages%20on%20queues&In-Reply-To=%3C29203617.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008044.html">
   <LINK REL="Next"  HREF="008051.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Updating messages on queues</H1>
    <B>cbourne</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Updating%20messages%20on%20queues&In-Reply-To=%3C29203617.post%40talk.nabble.com%3E"
       TITLE="[rabbitmq-discuss] Updating messages on queues">carl.bourne at intellect.co.uk
       </A><BR>
    <I>Mon Jul 19 12:22:12 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008044.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
        <LI>Next message: <A HREF="008051.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8049">[ date ]</a>
              <a href="thread.html#8049">[ thread ]</a>
              <a href="subject.html#8049">[ subject ]</a>
              <a href="author.html#8049">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>


Matthew Sackman-3 wrote:
&gt;<i> 
</I>&gt;<i> On Mon, Jul 19, 2010 at 04:06:38AM -0700, cbourne wrote:
</I>&gt;&gt;<i> &gt; So by this I mean adding some kind of a time field to the header so the
</I>&gt;&gt;<i> &gt; consumer can apply a time based filter to the messages. Basically I
</I>&gt;&gt;<i> need a
</I>&gt;&gt;<i> &gt; retry queue that allows messages to be re-processed after a pre-defined
</I>&gt;&gt;<i> &gt; time if the first attempt failed. Ideally this would also include the
</I>&gt;&gt;<i> &gt; number of times to try before failing permanently.
</I>&gt;<i> 
</I>&gt;<i> Well, you could always just handle it completely in the consumer - if
</I>&gt;<i> the consumer can't process it, republish the message with an update try
</I>&gt;<i> count and then ack the original message. Because the publish will go to
</I>&gt;<i> the end of the queue, that'll ensure that new messages do get seen and
</I>&gt;<i> that a repeatedly failing message doesn't ensure that other messages get
</I>&gt;<i> starved of attention.
</I>&gt;<i> 
</I>&gt;<i> Matthew
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>

Thanks Matt - guess the only problem with getting the consumer to do this is
that if it's the consumer that fails, then the message could be lost. Would
be better to leave the message on the queue so it could at least be
processed by a different consumer if that were to happen. Hence, the
requirement to update a field in the message header.

Carl
-- 
View this message in context: <A HREF="http://old.nabble.com/Updating-messages-on-queues-tp29203202p29203617.html">http://old.nabble.com/Updating-messages-on-queues-tp29203202p29203617.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.

</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008044.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
	<LI>Next message: <A HREF="008051.html">[rabbitmq-discuss] Updating messages on queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8049">[ date ]</a>
              <a href="thread.html#8049">[ thread ]</a>
              <a href="subject.html#8049">[ subject ]</a>
              <a href="author.html#8049">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
