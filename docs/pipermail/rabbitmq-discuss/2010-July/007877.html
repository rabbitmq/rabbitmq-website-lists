<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] ssl certificate to client lookup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20ssl%20certificate%20to%20client%20lookup&In-Reply-To=%3C4C33082C.4080304%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007876.html">
   <LINK REL="Next"  HREF="007881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] ssl certificate to client lookup</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20ssl%20certificate%20to%20client%20lookup&In-Reply-To=%3C4C33082C.4080304%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] ssl certificate to client lookup">matthias at rabbitmq.com
       </A><BR>
    <I>Tue Jul  6 11:40:44 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007876.html">[rabbitmq-discuss] ssl certificate to client lookup
</A></li>
        <LI>Next message: <A HREF="007881.html">[rabbitmq-discuss] ssl certificate to client lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7877">[ date ]</a>
              <a href="thread.html#7877">[ thread ]</a>
              <a href="subject.html#7877">[ subject ]</a>
              <a href="author.html#7877">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Lionel,

On 06/07/10 11:11, Lionel Cons wrote:
&gt;<i> The &quot;public messaging service&quot; is exactly the model we try to work
</I>&gt;<i> towards. In such a model, the service provider needs to protect its
</I>&gt;<i> resources. Unauthenticated clients may get directed to a sacrificial
</I>&gt;<i> broker so that abuses do not harm authenticated clients. Similarly,
</I>&gt;<i> authenticated clients that do not want to expose their &quot;identity&quot; may
</I>&gt;<i> get a different level of service. Clients who play by the rules
</I>&gt;<i> (i.e. authentication plus traceability) may get better service.
</I>&gt;<i>
</I>&gt;<i> I don't believe you can build a decent public messaging service
</I>&gt;<i> without a minimum security.
</I>
I wasn't suggesting that clients should be able to work unauthenticated, 
but that they may not want their identity passed to consumers. So the 
question is, if the authentication is only of interest to the broker, 
why does it get passed to the *consumer*? Would it instead be sufficient 
to retain the credentials internally in the broker and present them in 
various admin tools, but not pass them to the consumers? That way we 
would also preserve message fidelity.

&gt;<i> There are two ways to achieve message authentication: outside or
</I>&gt;<i> inside of messaging.
</I>&gt;<i>
</I>&gt;<i> Outside, the producer signs the message body and the consumer checks
</I>&gt;<i> the signature. There are no requirements on the brokers but only the
</I>&gt;<i> consumer knows who the sender is. This is good for the clients, not
</I>&gt;<i> for the messaging service.
</I>&gt;<i>
</I>&gt;<i> Inside, all intermediaries (broker, proxy, shovel...) must be trusted.
</I>&gt;<i> Otherwise, a rogue intermediary could do evil things with the message.
</I>&gt;<i> This is good for the messaging service as it can control who does
</I>&gt;<i> what, not for the clients, unless they trust the messaging service.
</I>&gt;<i>
</I>&gt;<i> So to answer your question, if the consumer trusts X and Y then it can
</I>&gt;<i> know the sender identity via &quot;inside&quot; authentication. If it does not
</I>&gt;<i> trust the service, it has to use &quot;outside&quot; authentication.
</I>
Right, except the consumer doesn't even know the message came via broker 
X. And, furthermore, the identity presented to broker X may be 
meaningless in the context of broker Y and the consumer.

So it seems to me that if you want *consumers* to know about sender 
identities then that should be handled at the app level, outside the 
messaging layer.

OTOH, servers, and those administering them, should be able to find out 
which AMQP users are responsible for certain actions (such as the 
creation of an exchange or queue, the sending or retrieval of a message) 
and their resulting artifacts (such as a created queue or exchange, or a 
stored message).


Regards,

Matthias.
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007876.html">[rabbitmq-discuss] ssl certificate to client lookup
</A></li>
	<LI>Next message: <A HREF="007881.html">[rabbitmq-discuss] ssl certificate to client lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7877">[ date ]</a>
              <a href="thread.html#7877">[ thread ]</a>
              <a href="subject.html#7877">[ subject ]</a>
              <a href="author.html#7877">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
