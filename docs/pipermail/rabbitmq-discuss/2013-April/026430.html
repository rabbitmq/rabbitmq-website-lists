<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ crashed after all memory was consumed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20crashed%20after%20all%20memory%20was%20consumed&In-Reply-To=%3C1365578735193-25952.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026432.html">
   <LINK REL="Next"  HREF="026433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ crashed after all memory was consumed</H1>
    <B>jkuchta.db</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20crashed%20after%20all%20memory%20was%20consumed&In-Reply-To=%3C1365578735193-25952.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ crashed after all memory was consumed">jiri.kuchta at deutsche-boerse.com
       </A><BR>
    <I>Wed Apr 10 08:25:35 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026432.html">[rabbitmq-discuss] Running RabbitMQ as a different user
</A></li>
        <LI>Next message: <A HREF="026433.html">[rabbitmq-discuss] RabbitMQ crashed after all memory was	consumed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26430">[ date ]</a>
              <a href="thread.html#26430">[ thread ]</a>
              <a href="subject.html#26430">[ subject ]</a>
              <a href="author.html#26430">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi 

RabbitMQ version 2.7.1, Erlang R14B (erts-5.8.1)

RabbitMQ crashed after several weeks of running. I have Erlang VM dump. It
shows that almost 3GB of memory was allocated and there was no more memory
available. It looks like a memory leak. I am not able to figure out what
consumed all the memory from the Erlang dump.

RabbitMQ log is attached.

The zipped dump has 23MB. Is it ok if I attached the file here?

Is it possible to find out were the leak is? Is it rabbitmq, erlang or just
too many messages (it should not be the case as all the messages we produce
have rather short TTL 1 minute and we do not produce a high load either)?

rabbitmq.log
&lt;<A HREF="http://rabbitmq.1065348.n5.nabble.com/file/n25952/rabbitmq.log">http://rabbitmq.1065348.n5.nabble.com/file/n25952/rabbitmq.log</A>&gt;  



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/RabbitMQ-crashed-after-all-memory-was-consumed-tp25952.html">http://rabbitmq.1065348.n5.nabble.com/RabbitMQ-crashed-after-all-memory-was-consumed-tp25952.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026432.html">[rabbitmq-discuss] Running RabbitMQ as a different user
</A></li>
	<LI>Next message: <A HREF="026433.html">[rabbitmq-discuss] RabbitMQ crashed after all memory was	consumed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26430">[ date ]</a>
              <a href="thread.html#26430">[ thread ]</a>
              <a href="subject.html#26430">[ subject ]</a>
              <a href="author.html#26430">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
