<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Flow Control is to rigorous
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Flow%20Control%20is%20to%20rigorous&In-Reply-To=%3C517A4175.4040005%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026721.html">
   <LINK REL="Next"  HREF="026727.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Flow Control is to rigorous</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Flow%20Control%20is%20to%20rigorous&In-Reply-To=%3C517A4175.4040005%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Flow Control is to rigorous">emile at rabbitmq.com
       </A><BR>
    <I>Fri Apr 26 09:57:25 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026721.html">[rabbitmq-discuss] Flow Control is to rigorous
</A></li>
        <LI>Next message: <A HREF="026727.html">[rabbitmq-discuss] Flow Control is to rigorous
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26725">[ date ]</a>
              <a href="thread.html#26725">[ thread ]</a>
              <a href="subject.html#26725">[ subject ]</a>
              <a href="author.html#26725">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/04/13 18:34, Frank Shearar wrote:
&gt;<i> On 25 April 2013 17:21, rabbit15 &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bison_art at o2.pl</A>&gt; wrote:
</I>&gt;&gt;<i> Hi, I have question about flow control. I have producer which send
</I>&gt;&gt;<i> sometimes messages faster than consumer can read. I want to
</I>&gt;&gt;<i> RabbitMQ will store them on the server. I use delivery not
</I>&gt;&gt;<i> persistent to faster work. I see that when there is to much
</I>&gt;&gt;<i> messages flow control blocked sending new messages, but there is a
</I>&gt;&gt;<i> lot of memory, cpu and disk space on the server.
</I>&gt;<i> 
</I>&gt;<i> I assume you're seeing transient flow control. When you're sending 
</I>&gt;<i> fast enough that Rabbit can't push the message into a queue, it
</I>&gt;<i> tells you to slow down. You might want to read 
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/memory.html">http://www.rabbitmq.com/memory.html</A>
</I>&gt;<i> 
</I>&gt;<i> frank
</I>&gt;<i> 
</I>&gt;&gt;<i> I changes watermark for memory to 0.9. I don't want to store
</I>&gt;&gt;<i> messages on my producer, but on the RabbitMQ server. Other question
</I>&gt;&gt;<i> is there is some mechanism to reject some messgaes when there is to
</I>&gt;&gt;<i> much flow.
</I>
Further to what Frank says, the broker will not reject messages during
flow control, but publishers can do this by not sending messages.
Publishers can check whether the network socket would block if any
further data was written to the network, which will be the case if all
the network buffers have filled up. Publishers can throw away messages
under such conditions, which will consume less resources and achieve a
similar effect.



-Emile





</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026721.html">[rabbitmq-discuss] Flow Control is to rigorous
</A></li>
	<LI>Next message: <A HREF="026727.html">[rabbitmq-discuss] Flow Control is to rigorous
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26725">[ date ]</a>
              <a href="thread.html#26725">[ thread ]</a>
              <a href="subject.html#26725">[ subject ]</a>
              <a href="author.html#26725">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
