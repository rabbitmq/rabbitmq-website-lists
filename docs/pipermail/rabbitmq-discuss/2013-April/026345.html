<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cluster reverted to old config!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%20reverted%20to%20old%20config%21&In-Reply-To=%3CCAEWH9M--OPwMCO36B3orXOJdtD9QWkb5wNq7MniycL58R5maXw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026343.html">
   <LINK REL="Next"  HREF="026347.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cluster reverted to old config!</H1>
    <B>Pete Kelly</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%20reverted%20to%20old%20config%21&In-Reply-To=%3CCAEWH9M--OPwMCO36B3orXOJdtD9QWkb5wNq7MniycL58R5maXw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Cluster reverted to old config!">pkelly at gmail.com
       </A><BR>
    <I>Thu Apr  4 13:06:48 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026343.html">[rabbitmq-discuss] rabbitmq management custom port
</A></li>
        <LI>Next message: <A HREF="026347.html">[rabbitmq-discuss] Cluster reverted to old config!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26345">[ date ]</a>
              <a href="thread.html#26345">[ thread ]</a>
              <a href="subject.html#26345">[ subject ]</a>
              <a href="author.html#26345">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

We are running an (admittedly old) rabbitmq cluster pair, both running 2.7.1
/ R14B04

Our NOC recently did some recabling which involved replacing the network
cables on both rabbitmq boxes. During this recabling, it looks like both
boxes lost network connectivity for a short period (or eth1 became eth0 and
vice versa) which caused rabbitmq on both boxes to crash.

However, upon restart they came back with the vast majority of
queues/exchanges and vhosts missing missing, to what looks like a very very
old set of 'definitions'

Does anyone have any pointers or ideas as to how this can have happened?
Both nodes in the cluster are disk nodes so I would have thought the
definitions would be stored on disk to be read in in the event of a restart.

Is it possible it lost the definitions (because both cluster nodes crashed
at the same time) so it just loaded in the last one which was imported via
the management GUI?

Any advice or thoughts would be appreciated, if only to help prevent this
from happening in the future!

Thanks

Pete
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130404/f2bb2f4f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130404/f2bb2f4f/attachment.htm</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026343.html">[rabbitmq-discuss] rabbitmq management custom port
</A></li>
	<LI>Next message: <A HREF="026347.html">[rabbitmq-discuss] Cluster reverted to old config!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26345">[ date ]</a>
              <a href="thread.html#26345">[ thread ]</a>
              <a href="subject.html#26345">[ subject ]</a>
              <a href="author.html#26345">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
