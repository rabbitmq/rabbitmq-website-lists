<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Same consumer getting the rejected message again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Same%20consumer%20getting%20the%20rejected%20message%0A%20again&In-Reply-To=%3C515AA6F4.4020006%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026382.html">
   <LINK REL="Next"  HREF="026297.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Same consumer getting the rejected message again</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Same%20consumer%20getting%20the%20rejected%20message%0A%20again&In-Reply-To=%3C515AA6F4.4020006%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Same consumer getting the rejected message again">emile at rabbitmq.com
       </A><BR>
    <I>Tue Apr  2 10:37:56 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026382.html">[rabbitmq-discuss] Export Causes Server To Crash
</A></li>
        <LI>Next message: <A HREF="026297.html">[rabbitmq-discuss] RabbitMQ server connections close issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26296">[ date ]</a>
              <a href="thread.html#26296">[ thread ]</a>
              <a href="subject.html#26296">[ subject ]</a>
              <a href="author.html#26296">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Hi,

On 29/03/13 07:44, reddylast wrote:

&gt;<i> I've set-up multiple queues and multiple consumers are processing those
</I>&gt;<i> queues. There is a case when a consumer receives a message , if that
</I>&gt;<i> consumer is not authorized  to process that message then system sent it back
</I>&gt;<i> to the queue (by using basic.reject method). I want to stop the same
</I>&gt;<i> consumer getting the same rejected message  again and again. Is there any
</I>&gt;<i> way that prevents a message from looping through the system forever ?
</I>
If you requeue a message then it will return to the queue in the same
position that it was, and that may lead to the same consumer getting the
message if it goes to the front of the queue.

You could re-publish the message instead of requeueing, which will force
it to the back of the queue and hope that a different consumer gets the
message when it reaches the front. You could also publish such messages
to a different location where you guarantee that authorisation will not
fail.

In general you should try to route messages to separate queues and bind
consumers in such a way that they will only receive messages which they
are able to process.



-Emile




</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026382.html">[rabbitmq-discuss] Export Causes Server To Crash
</A></li>
	<LI>Next message: <A HREF="026297.html">[rabbitmq-discuss] RabbitMQ server connections close issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26296">[ date ]</a>
              <a href="thread.html#26296">[ thread ]</a>
              <a href="subject.html#26296">[ subject ]</a>
              <a href="author.html#26296">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
