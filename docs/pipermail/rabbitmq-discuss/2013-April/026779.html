<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Why Clustering ? Load Balancing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20Clustering%20%3F%20Load%20Balancing&In-Reply-To=%3CD498166A-FE3B-49DD-AA29-62633C492133%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026777.html">
   <LINK REL="Next"  HREF="026767.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Why Clustering ? Load Balancing</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20Clustering%20%3F%20Load%20Balancing&In-Reply-To=%3CD498166A-FE3B-49DD-AA29-62633C492133%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Why Clustering ? Load Balancing">tim at rabbitmq.com
       </A><BR>
    <I>Tue Apr 30 13:02:32 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026777.html">[rabbitmq-discuss] Why Clustering ? Load Balancing
</A></li>
        <LI>Next message: <A HREF="026767.html">[rabbitmq-discuss] Hanging connections in management interface	(v3.0.4)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26779">[ date ]</a>
              <a href="thread.html#26779">[ thread ]</a>
              <a href="subject.html#26779">[ subject ]</a>
              <a href="author.html#26779">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This *does* seem quite bewildering to imagine doesn't it. I was also working on the assumption that the OP had a 'producer' application and several 'consumer' applications, all of which were connected to a RabbitMQ broker (or cluster of brokers). It sounds like the OP is running a broker on each client node, but the question now is for T.luck: why are you doing that? It's quite possible that this is the cause of the 'issues' you're seeing, but it's really hard to say without understanding what you're trying to do.

If you're deliberately using connectivity between brokers (e.g., via the shovel or federation plugins) to move data around, then that's fine and good - we can talk about performance issues with regards that kind of setup. But if you're trying to publish messages from one application and consume them from one or more others, then you should not have a broker installed along-side each client, but rather you should be running one (or more, clustered) broker centrally and the publishing/consuming applications should connect to the remote (broker) host.

Perhaps if you - the OP - could clarify what exactly you're up to, we'd be able to help a bit more.

Cheers,
Tim 

On 30 Apr 2013, at 12:50, Dmitry Andrianov wrote:

&gt;<i> 
</I>&gt;<i> Looks like I do not understand your installation at all. I thought that &quot;producer&quot; and &quot;consumer&quot; are some processes which actually produce messages, send them via RabbitMQ and receive them from RabbitMQ respectively.
</I>&gt;<i> 
</I>&gt;<i> But now it looks to me that you call different RabbitMQ instances &quot;producer&quot; and &quot;consumer&quot;.
</I>&gt;<i> So how exactly does it work? Is there some kind of federation or are you using Shovel?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 30/04/13 09:54, tluck wrote:
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> How many RabbitMQ servers you running? Where is RabbitMQ on your picture?
</I>&gt;&gt;<i> There are total 4 severs on which RabbitMQ is running. One is producer and 3
</I>&gt;&gt;<i> others are consumers.
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I would assume you are running it on &quot;producer server&quot; but how many
</I>&gt;&gt;&gt;<i> instances of rabbit do you have?
</I>&gt;&gt;<i> On each server I have one instance of rarbbitmq running. Rabbitmq management
</I>&gt;&gt;<i> plugin is installed on producer server only, and other consumer servers they
</I>&gt;&gt;<i> all hit producer`s queues  (all queues and messages are residing in producer
</I>&gt;&gt;<i> sever).
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i> T.luck
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Why-Clustering-Load-Balancing-tp26284p26295.html">http://rabbitmq.1065348.n5.nabble.com/Why-Clustering-Load-Balancing-tp26284p26295.html</A>
</I>&gt;&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> This email is for the use of the intended recipient(s) only.
</I>&gt;<i> If you have received this email in error, please notify the sender immediately and then delete it.
</I>&gt;<i> If you are not the intended recipient, you must not use, disclose or distribute this email without the
</I>&gt;<i> author's prior permission. AlertMe.com Ltd. is not responsible for any personal views expressed
</I>&gt;<i> in this message or any attachments that are those of the individual sender.
</I>&gt;<i> 
</I>&gt;<i> AlertMe.com Ltd, 30 Station Road, Cambridge, CB1 2RE, UK.
</I>&gt;<i> Registered in England, Company number 578 2908, VAT registration number GB 895 9914 42.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026777.html">[rabbitmq-discuss] Why Clustering ? Load Balancing
</A></li>
	<LI>Next message: <A HREF="026767.html">[rabbitmq-discuss] Hanging connections in management interface	(v3.0.4)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26779">[ date ]</a>
              <a href="thread.html#26779">[ thread ]</a>
              <a href="subject.html#26779">[ subject ]</a>
              <a href="author.html#26779">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
