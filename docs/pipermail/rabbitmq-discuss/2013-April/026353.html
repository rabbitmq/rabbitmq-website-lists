<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] TTL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20TTL&In-Reply-To=%3CCAE0Sz%3Dzpe4tb6Sg4x2e6hB2FHWyO2fGBui8pcJ8coqVudh70Ww%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026352.html">
   <LINK REL="Next"  HREF="026354.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] TTL</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20TTL&In-Reply-To=%3CCAE0Sz%3Dzpe4tb6Sg4x2e6hB2FHWyO2fGBui8pcJ8coqVudh70Ww%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] TTL">jerryk at rbcon.com
       </A><BR>
    <I>Thu Apr  4 19:51:50 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026352.html">[rabbitmq-discuss] TTL
</A></li>
        <LI>Next message: <A HREF="026354.html">[rabbitmq-discuss] TTL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26353">[ date ]</a>
              <a href="thread.html#26353">[ thread ]</a>
              <a href="subject.html#26353">[ subject ]</a>
              <a href="author.html#26353">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>What characterizes a pass or fail for your particular tests?

The behavior you'd expect to see is documented at:
<A HREF="http://www.rabbitmq.com/ttl.html">http://www.rabbitmq.com/ttl.html</A>

Note that:

&quot;While consumers never see expired messages, only when expired messages
reach the head of a queue will they actually be discarded (or
dead-lettered). When setting a per-queue TTL this is not a problem, since
expired messages are always at the head of the queue. When setting
per-message TTL however, expired messages can queue up behind non-expired
ones until the latter are consumed or expired. Hence resources used by such
expired messages will not be freed, and they will be counted in queue
statistics (e.g. the number of messages in the queue).&quot;


On Thu, Apr 4, 2013 at 10:56 AM, Derek Greer &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dbgreer at gmail.com</A>&gt; wrote:

&gt;<i> I've got several tests which publish a message with a TTL of 1 millisecond
</I>&gt;<i> and then attempt to pull the message off was fail intermittently.  I've
</I>&gt;<i> altered the tests to insert a thread sleep of 1, 3, 5 and finally 10
</I>&gt;<i> seconds before the tests pass 100% of the time.  This seems to be a bug.
</I>&gt;<i>  Are messages checked for expiration periodically, at the point a consumer
</I>&gt;<i> connects and dequeues, both?  It would seem the latter isn't happening.
</I>&gt;<i>
</I>&gt;<i> Derek
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130404/c084457b/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130404/c084457b/attachment.htm</A>&gt;
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026352.html">[rabbitmq-discuss] TTL
</A></li>
	<LI>Next message: <A HREF="026354.html">[rabbitmq-discuss] TTL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26353">[ date ]</a>
              <a href="thread.html#26353">[ thread ]</a>
              <a href="subject.html#26353">[ subject ]</a>
              <a href="author.html#26353">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
