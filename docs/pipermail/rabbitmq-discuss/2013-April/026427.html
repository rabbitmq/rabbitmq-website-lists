<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Newbee consulting question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Newbee%20consulting%20question&In-Reply-To=%3C51652BB0.1040400%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026426.html">
   <LINK REL="Next"  HREF="026436.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Newbee consulting question</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Newbee%20consulting%20question&In-Reply-To=%3C51652BB0.1040400%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Newbee consulting question">emile at rabbitmq.com
       </A><BR>
    <I>Wed Apr 10 10:06:56 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026426.html">[rabbitmq-discuss] Newbee consulting question
</A></li>
        <LI>Next message: <A HREF="026436.html">[rabbitmq-discuss] Newbee consulting question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26427">[ date ]</a>
              <a href="thread.html#26427">[ thread ]</a>
              <a href="subject.html#26427">[ subject ]</a>
              <a href="author.html#26427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,


On 09/04/13 17:05, Tomer Paz wrote:
&gt;<i> The closest description to our architecture is Amazon SWF. it is ~95%
</I>&gt;<i> the solution concept to our requirements, but we can't use it as it is a
</I>&gt;<i> cloud SaaS and our requirement is 'on-premise' :)
</I>
Have you looked at Celery? <A HREF="http://www.celeryproject.org/">http://www.celeryproject.org/</A>
However your requirements look sufficiently unique that you will
probably need to create a more specialised workflow manager.

&gt;<i> I was wondering How to manage distributed Tasks where the task
</I>&gt;<i> manager ('orchestrator') is at the data-center, the workers are
</I>&gt;<i> distributed in different physical sites (some on the same site, some
</I>&gt;<i> far in other site separated by WAN), where the connection between the
</I>&gt;<i> datacenter and the sites might be disrupted sometimes.
</I>
In general workers connect to the broker via AMQP. If the connection
between the broker and the worker is disrupted then any unacknowledged
messages held by that worker will become available at the broker and
will need to be repeated. If the likelihood of network disconnection is
great then workers should communicate the work completion event via
publishing a new message instead of acknowledging the work message.

&gt;<i> Since the requirement is for WorkFlow management, it means we want tasks
</I>&gt;<i> marked done by a remote worker, will be reported back to the manager, to
</I>&gt;<i> keep the State of all tasks managed in central manner.
</I>
Workers can publish as well as consume messages. Workers can publish the
outcome of a piece of work to a dedicated queue used for tracking and
statistics.

&gt;<i> we also need the capability to parallelise 'steps' (that's what
</I>&gt;<i> workflow orchestration is about) within a parent task so that some
</I>&gt;<i> tasks in the workflow tree will be processed consequently, some in 
</I>&gt;<i> parallel.
</I>
Work will be executed in parallel if workers consume message with a
small prefetch count, or if they retrieve work synchronously with
basic.get. There are different ways of ensuring that a set of tasks are
performed in sequence - the simplest is to roll up all the details of
the work into a single message. Workers that complete one stage of
processing republish an updated version of the message to the next
stage, possibly using a different queue for each stage.

&gt;<i> Assume workers are not necessarily the same. i.e. there are different
</I>&gt;<i> task &quot;types&quot; thus different workers processing them (hence this is not a
</I>&gt;<i> simple pub/sub pattern either).
</I>
You can meet this requirement by routing messages to work queues
according to their type, and having workers of the same type consume
messages from queues containing the appropriate type of message.

&gt;<i> we want the architecture to be &quot;pull&quot; rather than &quot;push&quot; in terms of
</I>&gt;<i> workers 'asking' the workflow manager to get new tasks when they are
</I>&gt;<i> free, rather than task manager pushing tasks to workers blindly.
</I>
Workers can retrieve messages from a queue synchronously using the
basic.get method.




-Emile









</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026426.html">[rabbitmq-discuss] Newbee consulting question
</A></li>
	<LI>Next message: <A HREF="026436.html">[rabbitmq-discuss] Newbee consulting question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26427">[ date ]</a>
              <a href="thread.html#26427">[ thread ]</a>
              <a href="subject.html#26427">[ subject ]</a>
              <a href="author.html#26427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
