<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federated Cluster Issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federated%20Cluster%20Issue&In-Reply-To=%3CCAO%3D6ox_ozeVoFwUxDNBkvCuCeJD2QT1cAfFoZogBuF%2BXVVXnLA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026641.html">
   <LINK REL="Next"  HREF="026642.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federated Cluster Issue</H1>
    <B>Richard Raseley</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federated%20Cluster%20Issue&In-Reply-To=%3CCAO%3D6ox_ozeVoFwUxDNBkvCuCeJD2QT1cAfFoZogBuF%2BXVVXnLA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Federated Cluster Issue">richard at raseley.com
       </A><BR>
    <I>Mon Apr 22 23:11:59 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026641.html">[rabbitmq-discuss] How can RabbitMQ Shovel be configured to	overwrite the timestamp property with the current time?
</A></li>
        <LI>Next message: <A HREF="026642.html">[rabbitmq-discuss] Federated Cluster Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26630">[ date ]</a>
              <a href="thread.html#26630">[ thread ]</a>
              <a href="subject.html#26630">[ subject ]</a>
              <a href="author.html#26630">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Situation:

I have two clusters (cluster-01 and cluster-02) from which I am trying to
create a bi-directional federation relationship. I've completed the
following configuration pieces:

1) Set the local username on both clusters (username and password in
question are identical on both clusters).

2) Set the identity on both clusters to a unique value.

3) Added a new upstream on each cluster pointing to the other with a URI
that looks similar to the following (from the perspective of &quot;cluster-01&quot;:

<A HREF="amqp://user:pass@cluster-02.domain.local/cluster02.exchange">amqp://user:pass@cluster-02.domain.local/cluster02.exchange</A>

4) Added a new policy (from the perspective of &quot;cluster-01&quot;) with a name of
&quot;federate-me&quot;, a pattern of &quot;^cluster01\.&quot; and a definition of
&quot;federation-upstream-set:all&quot;.

Based on my understanding I should now see the link listed (whether or not
is successful or producing errors) in the federation status page of
the management UI. All I see is &quot;... no links ...&quot;. Furthermore, executing
a &quot; rabbitmqctl eval 'rabbit_federation_status:status().' &quot; on any of the
nodes in the two clusters returns &quot; [] ...done. &quot;.

The logs from the servers show no errors related to federated links.

Questions:

1) My understanding was that defining the upstream and the policy on a
particular vhost was enough to begin instantiation of the federated link.
Is this the case?

2) Since no links are visible, and no log entries are being created related
to federation, can anyone offer any advice on what I should take a look at
next?

Thank you in advance.

Regards,

Richard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130422/e6c926d0/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130422/e6c926d0/attachment.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026641.html">[rabbitmq-discuss] How can RabbitMQ Shovel be configured to	overwrite the timestamp property with the current time?
</A></li>
	<LI>Next message: <A HREF="026642.html">[rabbitmq-discuss] Federated Cluster Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26630">[ date ]</a>
              <a href="thread.html#26630">[ thread ]</a>
              <a href="subject.html#26630">[ subject ]</a>
              <a href="author.html#26630">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
