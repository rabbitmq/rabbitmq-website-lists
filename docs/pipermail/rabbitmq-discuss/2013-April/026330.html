<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Durable + Exclusive queue disappeared
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Durable%20%2B%20Exclusive%20queue%20disappeared&In-Reply-To=%3Ce9308733-7b89-4244-81aa-2db184fb9128%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026326.html">
   <LINK REL="Next"  HREF="026331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Durable + Exclusive queue disappeared</H1>
    <B>Jonathan Schwietert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Durable%20%2B%20Exclusive%20queue%20disappeared&In-Reply-To=%3Ce9308733-7b89-4244-81aa-2db184fb9128%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Durable + Exclusive queue disappeared">jonathan.schwietert at gmail.com
       </A><BR>
    <I>Tue Apr  2 23:32:28 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026326.html">[rabbitmq-discuss] queue persistance/ queue mode
</A></li>
        <LI>Next message: <A HREF="026331.html">[rabbitmq-discuss] Durable + Exclusive queue disappeared
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26330">[ date ]</a>
              <a href="thread.html#26330">[ thread ]</a>
              <a href="subject.html#26330">[ subject ]</a>
              <a href="author.html#26330">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I have a queue which was declared with BOTH durable and exclusive (on 
accident) whose owner disconnected then reconnected and now receives: 
&quot;NOT_FOUND - no queue 'test.queue' in vhost '/test.vhost'&quot;. This queue is 
no longer visible in any administrative application: web management, 
rabbitmqadmin, or even rabbitmqctl (for list_queues).

I believe it may still exist in the mnesia DB and thus is causing 
subsequent queue.declare calls to fail as it had been declared exclusive. 
This happens in the management plugin as well. I've also installed the 
rabbitmqadmin and tried to delete the queue to which it replies: &quot;*** Not 
found: /queues/%2Ftest.vhost/test.queue&quot; I cat'ed out the durable queue 
mnesia file: &quot;cat 
/var/lib/rabbitmq/mnesia/rabbit\@test-broker/rabbit_durable_queue.DCD | 
grep test.queue&quot; and received &quot;Binary file (standard input) matches&quot;

Unfortunately i'm unfamiliar with mnesia and unable to simply delete the 
entry. Any suggestions? Would backing up the configuration; then calling 
stop_app, then reset, then start_app; then reloading the configuration fix 
it?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130402/8386892b/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130402/8386892b/attachment.htm</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026326.html">[rabbitmq-discuss] queue persistance/ queue mode
</A></li>
	<LI>Next message: <A HREF="026331.html">[rabbitmq-discuss] Durable + Exclusive queue disappeared
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26330">[ date ]</a>
              <a href="thread.html#26330">[ thread ]</a>
              <a href="subject.html#26330">[ subject ]</a>
              <a href="author.html#26330">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
