<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Unable to cluster rabbit nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20cluster%20rabbit%20nodes&In-Reply-To=%3Cd57367d3-4d2e-4834-ba07-2c1f16b72722%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026309.html">
   <LINK REL="Next"  HREF="026322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Unable to cluster rabbit nodes</H1>
    <B>Anders Ljusberg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20cluster%20rabbit%20nodes&In-Reply-To=%3Cd57367d3-4d2e-4834-ba07-2c1f16b72722%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Unable to cluster rabbit nodes">andlju at gmail.com
       </A><BR>
    <I>Tue Apr  2 13:51:33 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026309.html">[rabbitmq-discuss] Blocking connections
</A></li>
        <LI>Next message: <A HREF="026322.html">[rabbitmq-discuss] queue persistance/ queue mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26316">[ date ]</a>
              <a href="thread.html#26316">[ thread ]</a>
              <a href="subject.html#26316">[ subject ]</a>
              <a href="author.html#26316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You may have already figured this out by now, but for anyone else.

Rabbit by default uses a random port range to do the actual communication 
between nodes in the cluster and you need to allow communication on all 
these ports. If it's the Windows firewall that is blocking you, the easiest 
way is probably to allow erl.exe to communicate on any TCP port.

See the last paragraph under &quot;(Windows) Firewall Settings&quot; in my post on 
clustering RabbitMQ on Windows:

<A HREF="http://coding-insomnia.com/2013/02/23/clustering-rabbitmq-on-windows/">http://coding-insomnia.com/2013/02/23/clustering-rabbitmq-on-windows/</A>

Cheers,

Anders Ljusberg


On Monday, March 18, 2013 10:39:13 PM UTC+1, Govind wrote:
&gt;<i>
</I>&gt;<i> I see below error when I try to cluster rabbitmq.
</I>&gt;<i>
</I>&gt;<i> C:\Program Files (x86)\RabbitMQ 
</I>&gt;<i> Server\rabbitmq_server-3.0.3\sbin&gt;rabbitmqctl.bat join_cluster 
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-GOVIND1</A>
</I>&gt;<i> Clustering node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-GOVIND2</A>' with '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-GOVIND1</A>' ...
</I>&gt;<i> Error: {cannot_discover_cluster,&quot;The nodes provided are either offline or 
</I>&gt;<i> not running&quot;}
</I>&gt;<i>
</I>&gt;<i> a) Node GOVIND1 is up
</I>&gt;<i> b) Can ping each other machine with name
</I>&gt;<i> c) Can telnet to 5672 and 4369 (empd) ports from each box prior to running 
</I>&gt;<i> stop_app on GOVIND2.
</I>&gt;<i> d) Synced up erlang cookie
</I>&gt;<i>
</I>&gt;<i> What else did I miss for this not to work?
</I>&gt;<i>
</I>&gt;<i> I get GOVIND1 as node down. why?
</I>&gt;<i>
</I>&gt;<i> C:\Program Files (x86)\RabbitMQ 
</I>&gt;<i> Server\rabbitmq_server-3.0.3\sbin&gt;rabbitmqctl.bat -n 
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-GOVIND1status</A>
</I>&gt;<i> Status of node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-GOVIND1</A>' ...
</I>&gt;<i> Error: unable to connect to node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-GOVIND1</A>': nodedown
</I>&gt;<i>
</I>&gt;<i> DIAGNOSTICS
</I>&gt;<i> ===========
</I>&gt;<i>
</I>&gt;<i> nodes in question: ['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-GOVIND1</A>']
</I>&gt;<i>
</I>&gt;<i> hosts, their running nodes and ports:
</I>&gt;<i> - WIN-GOVIND1: [{rabbit,49283}]
</I>&gt;<i>
</I>&gt;<i> current node details:
</I>&gt;<i> - node name: '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmqctl2221614 at WIN-GOVIND1</A>'
</I>&gt;<i> - home dir: C:\Users\Administrator
</I>&gt;<i> - cookie hash: IgPbUHwN5LE8HjnJYwYTiA==
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> C:\Program Files (x86)\RabbitMQ Server\rabbitmq_server-3.0.3\sbin&gt;
</I>&gt;<i>
</I>&gt;<i> I didn't change default port (5672) but what is 49283 from above status?
</I>&gt;<i>
</I>&gt;<i> I appreciate any help to cluster rabbit nodes.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Govind
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130402/a0ef8844/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130402/a0ef8844/attachment.htm</A>&gt;
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026309.html">[rabbitmq-discuss] Blocking connections
</A></li>
	<LI>Next message: <A HREF="026322.html">[rabbitmq-discuss] queue persistance/ queue mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26316">[ date ]</a>
              <a href="thread.html#26316">[ thread ]</a>
              <a href="subject.html#26316">[ subject ]</a>
              <a href="author.html#26316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
