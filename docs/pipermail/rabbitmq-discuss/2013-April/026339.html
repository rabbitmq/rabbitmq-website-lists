<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Durable + Exclusive queue disappeared
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Durable%20%2B%20Exclusive%20queue%20disappeared&In-Reply-To=%3Cd82e81ea-d03f-4188-a06a-6f3b2f8fcaaf%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026331.html">
   <LINK REL="Next"  HREF="026340.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Durable + Exclusive queue disappeared</H1>
    <B>Jonathan Schwietert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Durable%20%2B%20Exclusive%20queue%20disappeared&In-Reply-To=%3Cd82e81ea-d03f-4188-a06a-6f3b2f8fcaaf%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Durable + Exclusive queue disappeared">jonathan.schwietert at gmail.com
       </A><BR>
    <I>Wed Apr  3 17:28:02 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026331.html">[rabbitmq-discuss] Durable + Exclusive queue disappeared
</A></li>
        <LI>Next message: <A HREF="026340.html">[rabbitmq-discuss] Durable + Exclusive queue disappeared
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26339">[ date ]</a>
              <a href="thread.html#26339">[ thread ]</a>
              <a href="subject.html#26339">[ subject ]</a>
              <a href="author.html#26339">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pasting in a response i received via email that isn't showing up on this 
list, from *Emile Joubert:*
Hi,

On 02/04/13 23:32, Jonathan Schwietert wrote:

Hi, I have a queue which was declared with BOTH durable and exclusive

(on accident) whose owner disconnected then reconnected and now

receives: &quot;NOT_FOUND - no queue 'test.queue' in vhost '/test.vhost'&quot;.


See the documentation for the exclusive parameter:

<A HREF="http://www.rabbitmq.com/amqp-0-9-1-reference.html#queue.declare.exclusive">http://www.rabbitmq.com/amqp-0-9-1-reference.html#queue.declare.exclusive</A>

&quot;Exclusive queues may only be accessed by the current connection, and
are deleted when that connection closes.&quot;

So your 'test.queue' should not longer exist. The presence of the string
in the internal Mnesia files does not necessarily mean that the queue
still exists since the name could appear in internal logs.

The scenario you describe can occur if a queue was declared on a node
which leaves a cluster. A &quot;Not Found&quot; error will result when attempting
to redeclare or delete the queue on any remaining nodes in the cluster.
The solution is for the node that left the cluster to rejoin. The use of
mirrored queues will prevent this condition.


-Emile
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130403/6ebefa4a/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130403/6ebefa4a/attachment.htm</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026331.html">[rabbitmq-discuss] Durable + Exclusive queue disappeared
</A></li>
	<LI>Next message: <A HREF="026340.html">[rabbitmq-discuss] Durable + Exclusive queue disappeared
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26339">[ date ]</a>
              <a href="thread.html#26339">[ thread ]</a>
              <a href="subject.html#26339">[ subject ]</a>
              <a href="author.html#26339">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
