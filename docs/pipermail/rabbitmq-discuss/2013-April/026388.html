<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ unable to talk to remote server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20unable%20to%20talk%20to%20remote%20server&In-Reply-To=%3C218d2cda-ad07-4fb9-bb51-86df9bcca2d7%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026398.html">
   <LINK REL="Next"  HREF="026389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ unable to talk to remote server</H1>
    <B>pgaltieri at gmail.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20unable%20to%20talk%20to%20remote%20server&In-Reply-To=%3C218d2cda-ad07-4fb9-bb51-86df9bcca2d7%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ unable to talk to remote server">pgaltieri at gmail.com
       </A><BR>
    <I>Fri Apr  5 18:44:32 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026398.html">[rabbitmq-discuss] separating wheat from chaff inside the stats from rabbitmq_management
</A></li>
        <LI>Next message: <A HREF="026389.html">[rabbitmq-discuss] Is heartbeat option working in C-client?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26388">[ date ]</a>
              <a href="thread.html#26388">[ thread ]</a>
              <a href="subject.html#26388">[ subject ]</a>
              <a href="author.html#26388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>What you need to do is edit the file /etc/sysconfig/iptables on the RedHat 
server system and add the following line

-A INPUT -m state --state NEW -m tcp -p tcp --dport 5672 -j ACCEPT

Here is a snippet of my /etc/sysconfig/iptables

-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp --dport 5672 -j ACCEPT

dport 5672 is the well known port for amqp messages.  After you have added 
the line you need to run

service iptables restart

on the RedHat system.  This should fix the problem.  I had the same issue 
when trying out the RabbitMQ tutorials.  What I described here solved my 
problem.

Hope this helps.

Paolo

On Friday, March 29, 2013 3:08:44 PM UTC-7, Eric Sender wrote:
&gt;<i>
</I>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I am setting up an enviornment where the server and client are on seperate 
</I>&gt;<i> hosts. Using wireshark, I am finding that my connection requests are being 
</I>&gt;<i> blocked by code 10:
</I>&gt;<i>
</I>&gt;<i> Code: 10 (Host administratively prohibited)
</I>&gt;<i>
</I>&gt;<i> I was wondering if anyone knows how to make sure my server is set up right 
</I>&gt;<i> to work with RabbitMQ? I am using the default ports.
</I>&gt;<i>
</I>&gt;<i> Here is my set up:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    - Remote server is CentOS. It is on my same subnet (its actually a 
</I>&gt;<i>    guestOS on my PC)
</I>&gt;<i>    - I am currently running the server as Python. Just the tutorial #1 
</I>&gt;<i>    recieve.py server
</I>&gt;<i>       - connection = 
</I>&gt;<i>       pika.BlockingConnection(pika.ConnectionParameters(host='localhost'))
</I>&gt;<i>       - My client is my HostOS PC running Java.
</I>&gt;<i>       - factory.setHost(&quot;192.168.1.124&quot;); //x.x.x.124 is my &quot;remote&quot; 
</I>&gt;<i>       GuestOS
</I>&gt;<i>       - Everything works find through localhost, but when I try 
</I>&gt;<i>    to separate the client and server, I am getting what looks like firewall 
</I>&gt;<i>    issues. 
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So, this question may require some help from a person who uses 
</I>&gt;<i> RedHat/CentOS as their server OS, as I imagine part of the solution has to 
</I>&gt;<i> do with modifying the firewall or something in the virtual NIC card?
</I>&gt;<i>
</I>&gt;<i> I am posting this on the Google Groups, and I have noticed google doesn't 
</I>&gt;<i> update for every reply? Please be sure to CC my personal email just in case 
</I>&gt;<i> Google doesn't update. sender.eric (at) gmail
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Eric
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130405/0e11ccb4/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130405/0e11ccb4/attachment.htm</A>&gt;
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026398.html">[rabbitmq-discuss] separating wheat from chaff inside the stats from rabbitmq_management
</A></li>
	<LI>Next message: <A HREF="026389.html">[rabbitmq-discuss] Is heartbeat option working in C-client?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26388">[ date ]</a>
              <a href="thread.html#26388">[ thread ]</a>
              <a href="subject.html#26388">[ subject ]</a>
              <a href="author.html#26388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
