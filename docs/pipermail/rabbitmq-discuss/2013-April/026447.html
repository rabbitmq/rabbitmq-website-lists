<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit Cluster Failure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20Cluster%20Failure&In-Reply-To=%3CCAO4q6_9fnfEKOmJPO30BFvGZwpP4_M0PeHo2FNgrd6RUo2MeMw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026446.html">
   <LINK REL="Next"  HREF="026463.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit Cluster Failure</H1>
    <B>Farshad Meshkinpour</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20Cluster%20Failure&In-Reply-To=%3CCAO4q6_9fnfEKOmJPO30BFvGZwpP4_M0PeHo2FNgrd6RUo2MeMw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit Cluster Failure">fmeshkinpour at fonality.com
       </A><BR>
    <I>Wed Apr 10 17:51:29 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026446.html">[rabbitmq-discuss] amqp gem 1.0.1 is released
</A></li>
        <LI>Next message: <A HREF="026463.html">[rabbitmq-discuss] Rabbit Cluster Failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26447">[ date ]</a>
              <a href="thread.html#26447">[ thread ]</a>
              <a href="subject.html#26447">[ subject ]</a>
              <a href="author.html#26447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
We are running Rabbit 2.8.6 on Erlang R14B04.  We got this error on one of
3 rabbit servers in our cluster. After that we observed the followings:
1. all 3 rabbit servers went on high cpu usage
2. management interface was not functional
3. workers were not able to consume from queues

Trying to stop the rabbit server failed (/etc/init.d/rabbitmq-server stop)
and end up hard kill (kill -9) rabbit process on all nodes of the cluster
to get the system back.  All mirrored queues contents were lost.

Can someone points us to what may have caused this? Any help is greatly
appreciated.

Thanks,


ERROR REPORT==== 9-Apr-2013::10:56:49 ===
** Generic server &lt;0.9085.0&gt; terminating
** Last message in was {'$gen_cast',
                        {delete_and_terminate,
                         {function_clause,
                          [{rabbit_amqqueue_process,handle_call,
                            [{add_on_right,{74,&lt;0.7181.510&gt;}},
                             {&lt;0.7181.510&gt;,#Ref&lt;0.0.14625.121725&gt;},
                             {q,
                              {amqqueue,
                               {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                                &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                               true,false,none,
                               [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                                {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                                 &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                                {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                               &lt;0.4403.0&gt;,[],all},
                              none,false,rabbit_mirror_queue_master,
                              {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,
                               rabbit_variable_queue,
                               {vqstate,
                                {0,{[],[]}},
                                {0,{[],[]}},
                                {delta,undefined,0,undefined},
                                {0,{[],[]}},
                                {0,{[],[]}},
                                2114,
                                {0,nil},
                                undefined,
                                {0,nil},
                                {qistate,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                                 {{dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]},
                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],
                                     [],[],[]}}},
                                  []},
                                 #Ref&lt;0.0.25.88612&gt;,0,262144,
                                 #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                                 {0,nil}},
                                {{client_msstate,msg_store_persistent,
                                  &lt;&lt;72,22,217,216,236,0,110,187,235,185,163,
                                    249,92,182,156,56&gt;&gt;,
                                  {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]},
                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],
                                     [],[],[]}}},
                                  {state,696393,
                                   &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                                  rabbit_msg_store_ets_index,
                                  &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                                  &lt;0.269.0&gt;,700490,692296,704587,708684},
                                 {client_msstate,msg_store_transient,

&lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,
                                    223,15,45,61&gt;&gt;,
                                  {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]},
                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],
                                     [],[],[]}}},
                                  {state,675908,
                                   &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                                  rabbit_msg_store_ets_index,
                                  &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                                  &lt;0.264.0&gt;,680005,671795,684102,688199}},
                                true,0,

#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,0,
                                0,infinity,0,0,0,0,0,
                                {rates,
                                 {{1365,529204,602738},0},
                                 {{1365,529204,602738},0},
                                 0.0,0.0,
                                 {1365,529286,74299}},
                                {0,nil},
                                {0,nil},
                                {0,nil},
                                {0,nil},
                                0,0,
                                {rates,
                                 {{1365,529204,602738},0},
                                 {{1365,529204,602738},0},
                                 0.0,0.0,
                                 {1365,529286,74299}}},
                               0,
                               {dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                               [],
                               {dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                               {set,6,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],
                                  [&lt;0.17350.499&gt;],
                                  [&lt;0.17781.499&gt;],
                                  [],
                                  [&lt;7525.9758.575&gt;],
                                  [],
                                  [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                                  [],[],[],[],[],[],[],[],
                                  [&lt;7525.13515.575&gt;]}}}},
                              {[],[]},
                              undefined,undefined,undefined,undefined,
                              {state,fine,5000,undefined},
                              {0,nil},
                              100000,undefined,1365529282744274,
                              {dict,6,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []},
                               {{[],
                                 [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                                 [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                                 [],
                                 [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                                 [],
                                 [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                                  [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                                 [],[],[],[],[],[],[],[],

 [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                              1,
                              {{0,nil},{0,nil}},
                              undefined,
                              {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []}}},
                              {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                               &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                              undefined}]},
                           {gen_server2,handle_msg,2},
                           {proc_lib,wake_up,3}]}}}
** When Server state == {state,
                            {amqqueue,
                                {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                                    &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                                true,false,none,
                                [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                                 {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                                  &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                                 {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                                &lt;0.4403.0&gt;,[],all},
                            &lt;0.4404.0&gt;,
                            {dict,6,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],
                                  [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86480&gt;]],
                                  [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86174&gt;]],
                                  [],
                                  [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86397&gt;]],
                                  [],
                                  [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86263&gt;],

 [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86686&gt;]],
                                  [],[],[],[],[],[],[],[],
                                  [[&lt;7525.13515.575&gt;|
                                    #Ref&lt;0.0.14563.86622&gt;]]}}},
                            #Fun&lt;rabbit_mirror_queue_master.1.37767645&gt;,
                            #Fun&lt;rabbit_mirror_queue_master.2.24464450&gt;}
** Reason for termination ==
** {function_clause,
       [{rabbit_amqqueue_process,handle_call,
            [{add_on_right,{74,&lt;0.7181.510&gt;}},
             {&lt;0.7181.510&gt;,#Ref&lt;0.0.14625.121725&gt;},
             {q,{amqqueue,
                    {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                        &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                    true,false,none,
                    [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                     {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                      &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                     {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                    &lt;0.4403.0&gt;,[],all},
                none,false,rabbit_mirror_queue_master,
                {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,rabbit_variable_queue,
                    {vqstate,
                        {0,{[],[]}},
                        {0,{[],[]}},
                        {delta,undefined,0,undefined},
                        {0,{[],[]}},
                        {0,{[],[]}},
                        2114,
                        {0,nil},
                        undefined,
                        {0,nil},
                        {qistate,
                            &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                            {{dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             []},
                            #Ref&lt;0.0.25.88612&gt;,0,262144,
                            #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                            {0,nil}},
                        {{client_msstate,msg_store_persistent,

 &lt;&lt;72,22,217,216,236,0,110,187,235,185,163,249,92,
                               182,156,56&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             {state,696393,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                             &lt;0.269.0&gt;,700490,692296,704587,708684},
                         {client_msstate,msg_store_transient,

 &lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,223,
                               15,45,61&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             {state,675908,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                             &lt;0.264.0&gt;,680005,671795,684102,688199}},

true,0,#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,0,0,
                        infinity,0,0,0,0,0,
                        {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}},
                        {0,nil},
                        {0,nil},
                        {0,nil},
                        {0,nil},
                        0,0,
                        {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}}},
                    0,
                    {dict,0,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                    [],
                    {dict,0,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                    {set,6,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                        {{[],
                          [&lt;0.17350.499&gt;],
                          [&lt;0.17781.499&gt;],
                          [],
                          [&lt;7525.9758.575&gt;],
                          [],
                          [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                          [],[],[],[],[],[],[],[],
                          [&lt;7525.13515.575&gt;]}}}},
                {[],[]},
                undefined,undefined,undefined,undefined,
                {state,fine,5000,undefined},
                {0,nil},
                100000,undefined,1365529282744274,
                {dict,6,16,16,8,80,48,
                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                    {{[],
                      [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                      [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                      [],
                      [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                      [],
                      [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                       [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                      [],[],[],[],[],[],[],[],
                      [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                1,
                {{0,nil},{0,nil}},
                undefined,
                {dict,0,16,16,8,80,48,
                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                    {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                    &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                undefined}]},
        {gen_server2,handle_msg,2},
        {proc_lib,wake_up,3}]}


=ERROR REPORT==== 9-Apr-2013::10:56:49 ===
** Generic server &lt;0.4403.0&gt; terminating
** Last message in was {add_on_right,{74,&lt;0.7181.510&gt;}}
** When Server state == {q,
                         {amqqueue,
                          {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                           &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                          true,false,none,
                          [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                           {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                            &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                           {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                          &lt;0.4403.0&gt;,[],all},
                         none,false,rabbit_mirror_queue_master,
                         {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,rabbit_variable_queue,
                          {vqstate,
                           {0,{[],[]}},
                           {0,{[],[]}},
                           {delta,undefined,0,undefined},
                           {0,{[],[]}},
                           {0,{[],[]}},
                           2114,
                           {0,nil},
                           undefined,
                           {0,nil},
                           {qistate,
                            &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                            {{dict,0,16,16,8,80,48,
                              {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []}}},
                             []},
                            #Ref&lt;0.0.25.88612&gt;,0,262144,
                            #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                            {0,nil}},
                           {{client_msstate,msg_store_persistent,

 &lt;&lt;72,22,217,216,236,0,110,187,235,185,163,249,92,
                               182,156,56&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                              {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []}}},
                             {state,696393,
                              &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                             &lt;0.269.0&gt;,700490,692296,704587,708684},
                            {client_msstate,msg_store_transient,

 &lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,223,
                               15,45,61&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                              {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []}}},
                             {state,675908,
                              &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                             &lt;0.264.0&gt;,680005,671795,684102,688199}},

 true,0,#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,
                           0,0,infinity,0,0,0,0,0,
                           {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}},
                           {0,nil},
                           {0,nil},
                           {0,nil},
                           {0,nil},
                           0,0,
                           {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}}},
                          0,
                          {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                           {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                             []}}},
                          [],
                          {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                           {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                             []}}},
                          {set,6,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                           {{[],
                             [&lt;0.17350.499&gt;],
                             [&lt;0.17781.499&gt;],
                             [],
                             [&lt;7525.9758.575&gt;],
                             [],
                             [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                             [],[],[],[],[],[],[],[],
                             [&lt;7525.13515.575&gt;]}}}},
                         {[],[]},
                         undefined,undefined,undefined,undefined,
                         {state,fine,5000,undefined},
                         {0,nil},
                         100000,undefined,1365529282744274,
                         {dict,6,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],
                            [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                            [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                            [],
                            [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                            [],
                            [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                             [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                            [],[],[],[],[],[],[],[],
                            [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                         1,
                         {{0,nil},{0,nil}},
                         undefined,
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                          &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                         undefined}
** Reason for termination ==
** {function_clause,
       [{rabbit_amqqueue_process,handle_call,
            [{add_on_right,{74,&lt;0.7181.510&gt;}},
             {&lt;0.7181.510&gt;,#Ref&lt;0.0.14625.121725&gt;},
             {q,{amqqueue,
                    {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                        &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                    true,false,none,
                    [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                     {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                      &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                     {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                    &lt;0.4403.0&gt;,[],all},
                none,false,rabbit_mirror_queue_master,
                {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,rabbit_variable_queue,
                    {vqstate,
                        {0,{[],[]}},
                        {0,{[],[]}},
                        {delta,undefined,0,undefined},
                        {0,{[],[]}},
                        {0,{[],[]}},
                        2114,
                        {0,nil},
                        undefined,
                        {0,nil},
                        {qistate,
                            &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                            {{dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             []},
                            #Ref&lt;0.0.25.88612&gt;,0,262144,
                            #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                            {0,nil}},
                        {{client_msstate,msg_store_persistent,

 &lt;&lt;72,22,217,216,236,0,110,187,235,185,163,249,92,
                               182,156,56&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             {state,696393,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                             &lt;0.269.0&gt;,700490,692296,704587,708684},
                         {client_msstate,msg_store_transient,

 &lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,223,
                               15,45,61&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             {state,675908,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                             &lt;0.264.0&gt;,680005,671795,684102,688199}},

true,0,#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,0,0,
                        infinity,0,0,0,0,0,
                        {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}},
                        {0,nil},
                        {0,nil},
                        {0,nil},
                        {0,nil},
                        0,0,
                        {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}}},
                    0,
                    {dict,0,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                    [],
                    {dict,0,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                    {set,6,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                        {{[],
                          [&lt;0.17350.499&gt;],
                          [&lt;0.17781.499&gt;],
                          [],
                          [&lt;7525.9758.575&gt;],
                          [],
                          [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                          [],[],[],[],[],[],[],[],
                          [&lt;7525.13515.575&gt;]}}}},
                {[],[]},
                undefined,undefined,undefined,undefined,
                {state,fine,5000,undefined},
                {0,nil},
                100000,undefined,1365529282744274,
                {dict,6,16,16,8,80,48,
                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                    {{[],
                      [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                      [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                      [],
                      [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                      [],
                      [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                       [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                      [],[],[],[],[],[],[],[],
                      [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                1,
                {{0,nil},{0,nil}},
                undefined,
                {dict,0,16,16,8,80,48,
                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                    {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                    &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                undefined}]},
        {gen_server2,handle_msg,2},
        {proc_lib,wake_up,3}]}

=ERROR REPORT==== 9-Apr-2013::10:56:49 ===
** Generic server &lt;0.7181.510&gt; terminating
** Last message in was {'$gen_cast',join}
** When Server state == {state,
                            {74,&lt;0.7181.510&gt;},
                            {{74,&lt;0.7181.510&gt;},undefined},
                            {{74,&lt;0.7181.510&gt;},undefined},
                            {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                                &lt;&lt;&quot;Q-SID.18335.fonsyncd&quot;&gt;&gt;},

rabbit_mirror_queue_slave,undefined,-1,undefined,
                            [&lt;0.7180.510&gt;],
                            {[],[]},
                            [],undefined}
** Reason for termination ==
** {{function_clause,
        [{rabbit_amqqueue_process,handle_call,
             [{add_on_right,{74,&lt;0.7181.510&gt;}},
              {&lt;0.7181.510&gt;,#Ref&lt;0.0.14625.121725&gt;},
              {q,{amqqueue,
                     {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                         &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                     true,false,none,
                     [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                      {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                       &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                      {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                     &lt;0.4403.0&gt;,[],all},
                 none,false,rabbit_mirror_queue_master,
                 {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,rabbit_variable_queue,
                     {vqstate,
                         {0,{[],[]}},
                         {0,{[],[]}},
                         {delta,undefined,0,undefined},
                         {0,{[],[]}},
                         {0,{[],[]}},
                         2114,
                         {0,nil},
                         undefined,
                         {0,nil},
                         {qistate,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                             {{dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]}}},
                              []},
                             #Ref&lt;0.0.25.88612&gt;,0,262144,
                             #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                             {0,nil}},
                         {{client_msstate,msg_store_persistent,

&lt;&lt;72,22,217,216,236,0,110,187,235,185,163,249,92,
                                182,156,56&gt;&gt;,
                              {dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]}}},
                              {state,696393,
                                  &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                              rabbit_msg_store_ets_index,
                              &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                              &lt;0.269.0&gt;,700490,692296,704587,708684},
                          {client_msstate,msg_store_transient,

&lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,223,
                                15,45,61&gt;&gt;,
                              {dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]}}},
                              {state,675908,
                                  &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                              rabbit_msg_store_ets_index,
                              &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                              &lt;0.264.0&gt;,680005,671795,684102,688199}},

 true,0,#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,0,
                         0,infinity,0,0,0,0,0,
                         {rates,
                             {{1365,529204,602738},0},
                             {{1365,529204,602738},0},
                             0.0,0.0,
                             {1365,529286,74299}},
                         {0,nil},
                         {0,nil},
                         {0,nil},
                         {0,nil},
                         0,0,
                         {rates,
                             {{1365,529204,602738},0},
                             {{1365,529204,602738},0},
                             0.0,0.0,
                             {1365,529286,74299}}},
                     0,
                     {dict,0,16,16,8,80,48,
                         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                     [],
                     {dict,0,16,16,8,80,48,
                         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                     {set,6,16,16,8,80,48,
                         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                         {{[],
                           [&lt;0.17350.499&gt;],
                           [&lt;0.17781.499&gt;],
                           [],
                           [&lt;7525.9758.575&gt;],
                           [],
                           [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                           [],[],[],[],[],[],[],[],
                           [&lt;7525.13515.575&gt;]}}}},
                 {[],[]},
                 undefined,undefined,undefined,undefined,
                 {state,fine,5000,undefined},
                 {0,nil},
                 100000,undefined,1365529282744274,
                 {dict,6,16,16,8,80,48,
                     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                     {{[],
                       [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                       [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                       [],
                       [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                       [],
                       [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                        [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                       [],[],[],[],[],[],[],[],
                       [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                 1,
                 {{0,nil},{0,nil}},
                 undefined,
                 {dict,0,16,16,8,80,48,
                     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                     {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                 {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                     &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                 undefined}]},
         {gen_server2,handle_msg,2},
         {proc_lib,wake_up,3}]},

{gen_server2,call,[&lt;0.4403.0&gt;,{add_on_right,{74,&lt;0.7181.510&gt;}},infinity]}}



ERROR REPORT==== 9-Apr-2013::10:56:49 ===
** Generic server &lt;0.9085.0&gt; terminating
** Last message in was {'$gen_cast',
                        {delete_and_terminate,
                         {function_clause,
                          [{rabbit_amqqueue_process,handle_call,
                            [{add_on_right,{74,&lt;0.7181.510&gt;}},
                             {&lt;0.7181.510&gt;,#Ref&lt;0.0.14625.121725&gt;},
                             {q,
                              {amqqueue,
                               {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                                &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                               true,false,none,
                               [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                                {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                                 &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                                {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                               &lt;0.4403.0&gt;,[],all},
                              none,false,rabbit_mirror_queue_master,
                              {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,
                               rabbit_variable_queue,
                               {vqstate,
                                {0,{[],[]}},
                                {0,{[],[]}},
                                {delta,undefined,0,undefined},
                                {0,{[],[]}},
                                {0,{[],[]}},
                                2114,
                                {0,nil},
                                undefined,
                                {0,nil},
                                {qistate,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                                 {{dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]},
                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],
                                     [],[],[]}}},
                                  []},
                                 #Ref&lt;0.0.25.88612&gt;,0,262144,
                                 #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                                 {0,nil}},
                                {{client_msstate,msg_store_persistent,
                                  &lt;&lt;72,22,217,216,236,0,110,187,235,185,163,
                                    249,92,182,156,56&gt;&gt;,
                                  {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]},
                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],
                                     [],[],[]}}},
                                  {state,696393,
                                   &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                                  rabbit_msg_store_ets_index,
                                  &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                                  &lt;0.269.0&gt;,700490,692296,704587,708684},
                                 {client_msstate,msg_store_transient,

&lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,
                                    223,15,45,61&gt;&gt;,
                                  {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]},
                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],
                                     [],[],[]}}},
                                  {state,675908,
                                   &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                                  rabbit_msg_store_ets_index,
                                  &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                                  &lt;0.264.0&gt;,680005,671795,684102,688199}},
                                true,0,

#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,0,
                                0,infinity,0,0,0,0,0,
                                {rates,
                                 {{1365,529204,602738},0},
                                 {{1365,529204,602738},0},
                                 0.0,0.0,
                                 {1365,529286,74299}},
                                {0,nil},
                                {0,nil},
                                {0,nil},
                                {0,nil},
                                0,0,
                                {rates,
                                 {{1365,529204,602738},0},
                                 {{1365,529204,602738},0},
                                 0.0,0.0,
                                 {1365,529286,74299}}},
                               0,
                               {dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                               [],
                               {dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                               {set,6,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],
                                  [&lt;0.17350.499&gt;],
                                  [&lt;0.17781.499&gt;],
                                  [],
                                  [&lt;7525.9758.575&gt;],
                                  [],
                                  [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                                  [],[],[],[],[],[],[],[],
                                  [&lt;7525.13515.575&gt;]}}}},
                              {[],[]},
                              undefined,undefined,undefined,undefined,
                              {state,fine,5000,undefined},
                              {0,nil},
                              100000,undefined,1365529282744274,
                              {dict,6,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []},
                               {{[],
                                 [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                                 [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                                 [],
                                 [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                                 [],
                                 [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                                  [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                                 [],[],[],[],[],[],[],[],

 [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                              1,
                              {{0,nil},{0,nil}},
                              undefined,
                              {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []}}},
                              {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                               &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                              undefined}]},
                           {gen_server2,handle_msg,2},
                           {proc_lib,wake_up,3}]}}}
** When Server state == {state,
                            {amqqueue,
                                {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                                    &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                                true,false,none,
                                [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                                 {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                                  &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                                 {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                                &lt;0.4403.0&gt;,[],all},
                            &lt;0.4404.0&gt;,
                            {dict,6,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],
                                  [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86480&gt;]],
                                  [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86174&gt;]],
                                  [],
                                  [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86397&gt;]],
                                  [],
                                  [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86263&gt;],

 [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86686&gt;]],
                                  [],[],[],[],[],[],[],[],
                                  [[&lt;7525.13515.575&gt;|
                                    #Ref&lt;0.0.14563.86622&gt;]]}}},
                            #Fun&lt;rabbit_mirror_queue_master.1.37767645&gt;,
                            #Fun&lt;rabbit_mirror_queue_master.2.24464450&gt;}
** Reason for termination ==
** {function_clause,
       [{rabbit_amqqueue_process,handle_call,
            [{add_on_right,{74,&lt;0.7181.510&gt;}},
             {&lt;0.7181.510&gt;,#Ref&lt;0.0.14625.121725&gt;},
             {q,{amqqueue,
                    {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                        &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                    true,false,none,
                    [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                     {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                      &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                     {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                    &lt;0.4403.0&gt;,[],all},
                none,false,rabbit_mirror_queue_master,
                {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,rabbit_variable_queue,
                    {vqstate,
                        {0,{[],[]}},
                        {0,{[],[]}},
                        {delta,undefined,0,undefined},
                        {0,{[],[]}},
                        {0,{[],[]}},
                        2114,
                        {0,nil},
                        undefined,
                        {0,nil},
                        {qistate,
                            &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                            {{dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             []},
                            #Ref&lt;0.0.25.88612&gt;,0,262144,
                            #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                            {0,nil}},
                        {{client_msstate,msg_store_persistent,

 &lt;&lt;72,22,217,216,236,0,110,187,235,185,163,249,92,
                               182,156,56&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             {state,696393,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                             &lt;0.269.0&gt;,700490,692296,704587,708684},
                         {client_msstate,msg_store_transient,

 &lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,223,
                               15,45,61&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             {state,675908,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                             &lt;0.264.0&gt;,680005,671795,684102,688199}},

true,0,#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,0,0,
                        infinity,0,0,0,0,0,
                        {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}},
                        {0,nil},
                        {0,nil},
                        {0,nil},
                        {0,nil},
                        0,0,
                        {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}}},
                    0,
                    {dict,0,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                    [],
                    {dict,0,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                    {set,6,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                        {{[],
                          [&lt;0.17350.499&gt;],
                          [&lt;0.17781.499&gt;],
                          [],
                          [&lt;7525.9758.575&gt;],
                          [],
                          [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                          [],[],[],[],[],[],[],[],
                          [&lt;7525.13515.575&gt;]}}}},
                {[],[]},
                undefined,undefined,undefined,undefined,
                {state,fine,5000,undefined},
                {0,nil},
                100000,undefined,1365529282744274,
                {dict,6,16,16,8,80,48,
                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                    {{[],
                      [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                      [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                      [],
                      [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                      [],
                      [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                       [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                      [],[],[],[],[],[],[],[],
                      [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                1,
                {{0,nil},{0,nil}},
                undefined,
                {dict,0,16,16,8,80,48,
                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                    {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                    &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                undefined}]},
        {gen_server2,handle_msg,2},
        {proc_lib,wake_up,3}]}


=ERROR REPORT==== 9-Apr-2013::10:56:49 ===
** Generic server &lt;0.4403.0&gt; terminating
** Last message in was {add_on_right,{74,&lt;0.7181.510&gt;}}
** When Server state == {q,
                         {amqqueue,
                          {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                           &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                          true,false,none,
                          [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                           {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                            &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                           {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                          &lt;0.4403.0&gt;,[],all},
                         none,false,rabbit_mirror_queue_master,
                         {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,rabbit_variable_queue,
                          {vqstate,
                           {0,{[],[]}},
                           {0,{[],[]}},
                           {delta,undefined,0,undefined},
                           {0,{[],[]}},
                           {0,{[],[]}},
                           2114,
                           {0,nil},
                           undefined,
                           {0,nil},
                           {qistate,
                            &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                            {{dict,0,16,16,8,80,48,
                              {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []}}},
                             []},
                            #Ref&lt;0.0.25.88612&gt;,0,262144,
                            #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                            {0,nil}},
                           {{client_msstate,msg_store_persistent,

 &lt;&lt;72,22,217,216,236,0,110,187,235,185,163,249,92,
                               182,156,56&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                              {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []}}},
                             {state,696393,
                              &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                             &lt;0.269.0&gt;,700490,692296,704587,708684},
                            {client_msstate,msg_store_transient,

 &lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,223,
                               15,45,61&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                              {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []}}},
                             {state,675908,
                              &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                             &lt;0.264.0&gt;,680005,671795,684102,688199}},

 true,0,#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,
                           0,0,infinity,0,0,0,0,0,
                           {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}},
                           {0,nil},
                           {0,nil},
                           {0,nil},
                           {0,nil},
                           0,0,
                           {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}}},
                          0,
                          {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                           {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                             []}}},
                          [],
                          {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                           {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                             []}}},
                          {set,6,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                           {{[],
                             [&lt;0.17350.499&gt;],
                             [&lt;0.17781.499&gt;],
                             [],
                             [&lt;7525.9758.575&gt;],
                             [],
                             [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                             [],[],[],[],[],[],[],[],
                             [&lt;7525.13515.575&gt;]}}}},
                         {[],[]},
                         undefined,undefined,undefined,undefined,
                         {state,fine,5000,undefined},
                         {0,nil},
                         100000,undefined,1365529282744274,
                         {dict,6,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],
                            [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                            [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                            [],
                            [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                            [],
                            [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                             [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                            [],[],[],[],[],[],[],[],
                            [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                         1,
                         {{0,nil},{0,nil}},
                         undefined,
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                          &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                         undefined}
** Reason for termination ==
** {function_clause,
       [{rabbit_amqqueue_process,handle_call,
            [{add_on_right,{74,&lt;0.7181.510&gt;}},
             {&lt;0.7181.510&gt;,#Ref&lt;0.0.14625.121725&gt;},
             {q,{amqqueue,
                    {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                        &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                    true,false,none,
                    [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                     {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                      &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                     {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                    &lt;0.4403.0&gt;,[],all},
                none,false,rabbit_mirror_queue_master,
                {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,rabbit_variable_queue,
                    {vqstate,
                        {0,{[],[]}},
                        {0,{[],[]}},
                        {delta,undefined,0,undefined},
                        {0,{[],[]}},
                        {0,{[],[]}},
                        2114,
                        {0,nil},
                        undefined,
                        {0,nil},
                        {qistate,
                            &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                            {{dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             []},
                            #Ref&lt;0.0.25.88612&gt;,0,262144,
                            #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                            {0,nil}},
                        {{client_msstate,msg_store_persistent,

 &lt;&lt;72,22,217,216,236,0,110,187,235,185,163,249,92,
                               182,156,56&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             {state,696393,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                             &lt;0.269.0&gt;,700490,692296,704587,708684},
                         {client_msstate,msg_store_transient,

 &lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,223,
                               15,45,61&gt;&gt;,
                             {dict,0,16,16,8,80,48,
                                 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]}}},
                             {state,675908,
                                 &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                             rabbit_msg_store_ets_index,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                             &lt;0.264.0&gt;,680005,671795,684102,688199}},

true,0,#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,0,0,
                        infinity,0,0,0,0,0,
                        {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}},
                        {0,nil},
                        {0,nil},
                        {0,nil},
                        {0,nil},
                        0,0,
                        {rates,
                            {{1365,529204,602738},0},
                            {{1365,529204,602738},0},
                            0.0,0.0,
                            {1365,529286,74299}}},
                    0,
                    {dict,0,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                    [],
                    {dict,0,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                    {set,6,16,16,8,80,48,
                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                        {{[],
                          [&lt;0.17350.499&gt;],
                          [&lt;0.17781.499&gt;],
                          [],
                          [&lt;7525.9758.575&gt;],
                          [],
                          [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                          [],[],[],[],[],[],[],[],
                          [&lt;7525.13515.575&gt;]}}}},
                {[],[]},
                undefined,undefined,undefined,undefined,
                {state,fine,5000,undefined},
                {0,nil},
                100000,undefined,1365529282744274,
                {dict,6,16,16,8,80,48,
                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                    {{[],
                      [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                      [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                      [],
                      [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                      [],
                      [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                       [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                      [],[],[],[],[],[],[],[],
                      [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                1,
                {{0,nil},{0,nil}},
                undefined,
                {dict,0,16,16,8,80,48,
                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                    {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                    &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                undefined}]},
        {gen_server2,handle_msg,2},
        {proc_lib,wake_up,3}]}

=ERROR REPORT==== 9-Apr-2013::10:56:49 ===
** Generic server &lt;0.7181.510&gt; terminating
** Last message in was {'$gen_cast',join}
** When Server state == {state,
                            {74,&lt;0.7181.510&gt;},
                            {{74,&lt;0.7181.510&gt;},undefined},
                            {{74,&lt;0.7181.510&gt;},undefined},
                            {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                                &lt;&lt;&quot;Q-SID.18335.fonsyncd&quot;&gt;&gt;},

rabbit_mirror_queue_slave,undefined,-1,undefined,
                            [&lt;0.7180.510&gt;],
                            {[],[]},
                            [],undefined}
** Reason for termination ==
** {{function_clause,
        [{rabbit_amqqueue_process,handle_call,
             [{add_on_right,{74,&lt;0.7181.510&gt;}},
              {&lt;0.7181.510&gt;,#Ref&lt;0.0.14625.121725&gt;},
              {q,{amqqueue,
                     {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,queue,
                         &lt;&lt;&quot;Q-SID.16970.fonsyncd&quot;&gt;&gt;},
                     true,false,none,
                     [{&lt;&lt;&quot;x-message-ttl&quot;&gt;&gt;,signedint,100000},
                      {&lt;&lt;&quot;x-dead-letter-exchange&quot;&gt;&gt;,longstr,
                       &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                      {&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                     &lt;0.4403.0&gt;,[],all},
                 none,false,rabbit_mirror_queue_master,
                 {state,&lt;0.4404.0&gt;,&lt;0.9085.0&gt;,rabbit_variable_queue,
                     {vqstate,
                         {0,{[],[]}},
                         {0,{[],[]}},
                         {delta,undefined,0,undefined},
                         {0,{[],[]}},
                         {0,{[],[]}},
                         2114,
                         {0,nil},
                         undefined,
                         {0,nil},
                         {qistate,
                             &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/queues/EYHEI3SQW41F6NFSH8WB2CD91&quot;,
                             {{dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]}}},
                              []},
                             #Ref&lt;0.0.25.88612&gt;,0,262144,
                             #Fun&lt;rabbit_variable_queue.2.36908642&gt;,
                             {0,nil}},
                         {{client_msstate,msg_store_persistent,

&lt;&lt;72,22,217,216,236,0,110,187,235,185,163,249,92,
                                182,156,56&gt;&gt;,
                              {dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]}}},
                              {state,696393,
                                  &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;},
                              rabbit_msg_store_ets_index,
                              &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_persistent&quot;,
                              &lt;0.269.0&gt;,700490,692296,704587,708684},
                          {client_msstate,msg_store_transient,

&lt;&lt;51,15,67,134,52,182,142,196,131,185,177,5,223,
                                15,45,61&gt;&gt;,
                              {dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]}}},
                              {state,675908,
                                  &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;},
                              rabbit_msg_store_ets_index,
                              &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rmq1</A>
/msg_store_transient&quot;,
                              &lt;0.264.0&gt;,680005,671795,684102,688199}},

 true,0,#Fun&lt;rabbit_mirror_queue_slave.1.52898136&gt;,0,
                         0,infinity,0,0,0,0,0,
                         {rates,
                             {{1365,529204,602738},0},
                             {{1365,529204,602738},0},
                             0.0,0.0,
                             {1365,529286,74299}},
                         {0,nil},
                         {0,nil},
                         {0,nil},
                         {0,nil},
                         0,0,
                         {rates,
                             {{1365,529204,602738},0},
                             {{1365,529204,602738},0},
                             0.0,0.0,
                             {1365,529286,74299}}},
                     0,
                     {dict,0,16,16,8,80,48,
                         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                     [],
                     {dict,0,16,16,8,80,48,
                         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                     {set,6,16,16,8,80,48,
                         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                         {{[],
                           [&lt;0.17350.499&gt;],
                           [&lt;0.17781.499&gt;],
                           [],
                           [&lt;7525.9758.575&gt;],
                           [],
                           [&lt;7526.18741.575&gt;,&lt;7526.16733.575&gt;],
                           [],[],[],[],[],[],[],[],
                           [&lt;7525.13515.575&gt;]}}}},
                 {[],[]},
                 undefined,undefined,undefined,undefined,
                 {state,fine,5000,undefined},
                 {0,nil},
                 100000,undefined,1365529282744274,
                 {dict,6,16,16,8,80,48,
                     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                     {{[],
                       [[&lt;0.17350.499&gt;|#Ref&lt;0.0.14563.86478&gt;]],
                       [[&lt;0.17781.499&gt;|#Ref&lt;0.0.14563.86169&gt;]],
                       [],
                       [[&lt;7525.9758.575&gt;|#Ref&lt;0.0.14563.86395&gt;]],
                       [],
                       [[&lt;7526.16733.575&gt;|#Ref&lt;0.0.14563.86260&gt;],
                        [&lt;7526.18741.575&gt;|#Ref&lt;0.0.14563.86683&gt;]],
                       [],[],[],[],[],[],[],[],
                       [[&lt;7525.13515.575&gt;|#Ref&lt;0.0.14563.86620&gt;]]}}},
                 1,
                 {{0,nil},{0,nil}},
                 undefined,
                 {dict,0,16,16,8,80,48,
                     {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                     {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                 {resource,&lt;&lt;&quot;/fonsyncd/prod/&quot;&gt;&gt;,exchange,
                     &lt;&lt;&quot;EX-fonsyncd-Exception&quot;&gt;&gt;},
                 undefined}]},
         {gen_server2,handle_msg,2},
         {proc_lib,wake_up,3}]},

{gen_server2,call,[&lt;0.4403.0&gt;,{add_on_right,{74,&lt;0.7181.510&gt;}},infinity]}}
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130410/6c5c73d3/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130410/6c5c73d3/attachment.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026446.html">[rabbitmq-discuss] amqp gem 1.0.1 is released
</A></li>
	<LI>Next message: <A HREF="026463.html">[rabbitmq-discuss] Rabbit Cluster Failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26447">[ date ]</a>
              <a href="thread.html#26447">[ thread ]</a>
              <a href="subject.html#26447">[ subject ]</a>
              <a href="author.html#26447">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
