<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd: Fw: Errors using Windows .NET Client Library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20Fw%3A%20Errors%20using%20Windows%20.NET%20Client%20Library&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000636.html">
   <LINK REL="Next"  HREF="000638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd: Fw: Errors using Windows .NET Client Library</H1>
    <B>BillC</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20Fw%3A%20Errors%20using%20Windows%20.NET%20Client%20Library&In-Reply-To="
       TITLE="[rabbitmq-discuss] Fwd: Fw: Errors using Windows .NET Client Library">billc at inworksol.com
       </A><BR>
    <I>Sun Mar 30 19:24:27 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000636.html">[rabbitmq-discuss] Fw: Errors using Windows .NET Client Library
</A></li>
        <LI>Next message: <A HREF="000638.html">[rabbitmq-discuss] Fwd: Fw: Errors using Windows .NET Client Library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#637">[ date ]</a>
              <a href="thread.html#637">[ thread ]</a>
              <a href="subject.html#637">[ subject ]</a>
              <a href="author.html#637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I am using .net 3.5 on VS studio.net 2008 ... could that be the proble.

I will try maybe to down grade to .net 2.0 and see what happens. Sorry
I am on skype if you happen to be on that my id is bchikirivao ... I will 
try to get on IRC tomorrow .. Thanks for all your help.


Wow, that's really weird. Everything looks normal up until the 
connection goes away. Neither side is sending any complaint to the other.

Have you checked the RabbitMQ server logs? They will contain lines like:

=INFO REPORT==== 30-Mar-2008::18:51:31 ===
accepted TCP connection on 0.0.0.0:5672 from 127.0.0.1:52676
=INFO REPORT==== 30-Mar-2008::18:51:31 ===
closing TCP connection from 127.0.0.1:52676

etc etc. Perhaps the server is suffering from some problem it doesn't 
get the opportunity to inform the client about.


BillC &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">billc at inworksol.com</A>&gt; wrote: Date: Sun, 30 Mar 2008 10:45:33 -0700 (PDT)
From: BillC &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">billc at inworksol.com</A>&gt;
CC: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: [rabbitmq-discuss] Fw: Errors using Windows .NET Client Library

 Thanks for all your help.

I tried to run the same program using your remote server &quot;dev.rabbitmq.com&quot; and I still get the same errors as described below:

 Please can someone help me with an explanation.  I really appreciate any help you can give me.I am getting some errors when I try to run any of the examples that come with the .NET rabbitmq-dotnet-1.2.8025.1832-net-2.0 download.  I am running RabbitMQ server 1.2.0 which comes from the bundles in the windows  complete-rabbitmq-bundle-1.2.0.zip download.  When I run any of the samples I get the following error:

{RabbitMQ.Client.Exceptions.ProtocolVersionMismatchException: AMQP server protocol negotiation failure: server version 0-8, transport parameters -1:-1
   at RabbitMQ.Client.Impl.ConnectionBase.Open(Boolean insist)
   at RabbitMQ.Client.Impl.ConnectionBase..ctor(ConnectionParameters parameters, Boolean insist, IFrameHandler frameHandler)
   at  RabbitMQ.Client.Framing.Impl.v0_9.Connection..ctor(ConnectionParameters  parameters, Boolean insist, IFrameHandler frameHandler)
   at RabbitMQ.Client.Framing.Impl.v0_9.ProtocolBase.CreateConnection(ConnectionParameters parameters, Boolean insist, IFrameHandler frameHandler)
   at RabbitMQ.Client.ConnectionFactory.FollowRedirectChain(Int32 maxRedirects, IDictionary connectionAttempts, IDictionary connectionErrors, AmqpTcpEndpoint[]&amp; mostRecentKnownHosts, AmqpTcpEndpoint endpoint)}

If I make code changes such that I change the protocol to AMQP_0_8 in my app.config file and then set the protocol as Protocols.FromConfiguration(&quot;my-protocol&quot;);
Then I am able to connect and I don't get the same exception.  Is this the expected behavior?  and further does the RabbitMQ server only support AMQP 0-8?  And if the examples are primarily targeted for RabbitMQ then why have the default to AMQP 0-9 such that you have to explicitly change the protocol to 0-8 when running against  RabbitMQ?






_______________________________________________
rabbitmq-discuss mailing list
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080330/f28b2db6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080330/f28b2db6/attachment.htm</A> 
-------------- next part --------------
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000636.html">[rabbitmq-discuss] Fw: Errors using Windows .NET Client Library
</A></li>
	<LI>Next message: <A HREF="000638.html">[rabbitmq-discuss] Fwd: Fw: Errors using Windows .NET Client Library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#637">[ date ]</a>
              <a href="thread.html#637">[ thread ]</a>
              <a href="subject.html#637">[ subject ]</a>
              <a href="author.html#637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
