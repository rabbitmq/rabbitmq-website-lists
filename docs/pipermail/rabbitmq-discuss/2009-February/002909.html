<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [New project] amqp-utils,	CLI utilities for  AMQP queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BNew%20project%5D%20amqp-utils%2C%0A%09CLI%20utilities%20for%20%20AMQP%20queues&In-Reply-To=167204d20902050135n5632c223q633cbbd1ef8bcecc%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002907.html">
   <LINK REL="Next"  HREF="002928.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [New project] amqp-utils,	CLI utilities for  AMQP queues</H1>
    <B>Valentino Volonghi</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BNew%20project%5D%20amqp-utils%2C%0A%09CLI%20utilities%20for%20%20AMQP%20queues&In-Reply-To=167204d20902050135n5632c223q633cbbd1ef8bcecc%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] [New project] amqp-utils,	CLI utilities for  AMQP queues">dialtone at gmail.com
       </A><BR>
    <I>Thu Feb  5 09:55:23 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002907.html">[rabbitmq-discuss] [New project] amqp-utils,	CLI utilities for 	AMQP queues
</A></li>
        <LI>Next message: <A HREF="002928.html">[rabbitmq-discuss] [New project] amqp-utils,	CLI utilities for 	AMQP queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2909">[ date ]</a>
              <a href="thread.html#2909">[ thread ]</a>
              <a href="subject.html#2909">[ subject ]</a>
              <a href="author.html#2909">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


On Feb 5, 2009, at 1:35 AM, Alexis Richardson wrote:

&gt;<i> Thanks for the feedback on this.
</I>&gt;<i>
</I>&gt;<i> As Valentino and Al point out, keeping things compact is important,
</I>&gt;<i> and not all users are running or want to run a web framework with
</I>&gt;<i> RabbitMQ.  Though of course some will.
</I>&gt;<i>
</I>&gt;<i> So one option here is to use the built-in HTTP capability rather than
</I>&gt;<i> a web framework.  For example, to provide an interface to rabbitmqctl
</I>&gt;<i> that lets people use a browser to keep an eye on the broker.
</I>&gt;<i>
</I>&gt;<i> On the other hand people may prefer programmatic management.
</I>

I'm pretty sure that with an HTTP server built-in you can do anything
to rabbitmq, even writing consumers in javascript :).

More seriously:
An HTTP server that exposes some kind of simple REST API that
can be queries also from javascript would mean that even a static
page (hardly a match for a built-in http server) could be served
efficiently and act as a monitoring screen.

As for the REST API I'm thinking along the lines of:

/stats/ &lt;- general stats and list of exchanges
/stats/&lt;EXCHANGE&gt;/ &lt;- list of queues under exchange
/stats/&lt;EXCHANGE&gt;/&lt;QUEUE&gt;/ &lt;- queue stats
/stats/users/
/stats/consumers/
/stats/acls/
...

simple http-auth is more than enough if you really want to make
this secure and could use the same users credentials that rabbitmq
stores for the rest of the system. And the response format for each
request would simply be JSON, then a single html page can be
used to show all the stats that one might need. This has no memory
overhead because everything is done on the client side and can be
freely extended by simply changing javascript without the need to
deploy a new web server somewhere (etc etc).

Then by quering (polling at the beginning, comet when there's more
time to develop something like this) a url multiple times one can build
a chart of the stats (and if polling the built-in http server doesn't  
even
need to know that it is happening).

- --
Valentino Volonghi aka Dialtone
Now running MacOS X 10.5
Home Page: <A HREF="http://www.twisted.it">http://www.twisted.it</A>
<A HREF="http://www.adroll.com">http://www.adroll.com</A>

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (Darwin)

iEYEARECAAYFAkmKt4sACgkQ9Llz28widGW65ACgtJTQCgE7ZYMLTFkuALRxSM+O
pzwAnRlrN8uI6BS7vTEHKgOLFOzj1Lqd
=7ifr
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002907.html">[rabbitmq-discuss] [New project] amqp-utils,	CLI utilities for 	AMQP queues
</A></li>
	<LI>Next message: <A HREF="002928.html">[rabbitmq-discuss] [New project] amqp-utils,	CLI utilities for 	AMQP queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2909">[ date ]</a>
              <a href="thread.html#2909">[ thread ]</a>
              <a href="subject.html#2909">[ subject ]</a>
              <a href="author.html#2909">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
