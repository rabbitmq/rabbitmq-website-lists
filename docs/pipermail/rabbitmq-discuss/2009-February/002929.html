<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] STOMP Error?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20STOMP%20Error%3F&In-Reply-To=50c8ffe90902051357r25706577p54423a730448b97a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002916.html">
   <LINK REL="Next"  HREF="002975.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] STOMP Error?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20STOMP%20Error%3F&In-Reply-To=50c8ffe90902051357r25706577p54423a730448b97a%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] STOMP Error?">matthias at lshift.net
       </A><BR>
    <I>Fri Feb  6 17:18:25 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002916.html">[rabbitmq-discuss] STOMP Error?
</A></li>
        <LI>Next message: <A HREF="002975.html">[rabbitmq-discuss] STOMP Error?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2929">[ date ]</a>
              <a href="thread.html#2929">[ thread ]</a>
              <a href="subject.html#2929">[ subject ]</a>
              <a href="author.html#2929">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Darien,

Darien Kindlund wrote:
&gt;<i> -rw-r--r-- 1 rabbitmq rabbitmq 158842429 2009-02-05 16:44 rabbit_persister.LOG
</I>
That's a non-negligible amount of persisted data. The persister writes a 
new snapshot every 500 events (publishes, acks, etc). Writing ~160MB of 
data to disk could take a few seconds. The persister is queried by 
channels the first time they need a guid, e.g. for generating names of 
auto-delete queues or unique ids of persisted messages. That call might 
time out when the persister is in the middle of writing a snapshot. The 
error you are seeing is a result of that.

We will remove the dependency of the guid generation on the persister in 
the next release, at which point you should no longer see the error.

Meanwhile you can reduce the likelihood of the error occuring by 
reducing the frequency with which you establish new connections, e.g. by 
keeping them open for longer and re-using them, reducing the rate at 
which you publish persisted messages, or turning off message persistence 
altogether.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002916.html">[rabbitmq-discuss] STOMP Error?
</A></li>
	<LI>Next message: <A HREF="002975.html">[rabbitmq-discuss] STOMP Error?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2929">[ date ]</a>
              <a href="thread.html#2929">[ thread ]</a>
              <a href="subject.html#2929">[ subject ]</a>
              <a href="author.html#2929">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
