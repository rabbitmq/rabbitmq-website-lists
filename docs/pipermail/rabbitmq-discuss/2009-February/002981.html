<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Examining Queue Failover Behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Examining%20Queue%20Failover%20Behavior&In-Reply-To=269388e30902110114j6b13ddcbw2f24d926e2d3e73d%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002967.html">
   <LINK REL="Next"  HREF="003023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Examining Queue Failover Behavior</H1>
    <B>Dmitriy Samovskiy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Examining%20Queue%20Failover%20Behavior&In-Reply-To=269388e30902110114j6b13ddcbw2f24d926e2d3e73d%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Examining Queue Failover Behavior">dmitriy.samovskiy at cohesiveft.com
       </A><BR>
    <I>Wed Feb 11 16:01:49 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002967.html">[rabbitmq-discuss] Examining Queue Failover Behavior
</A></li>
        <LI>Next message: <A HREF="003023.html">[rabbitmq-discuss] Examining Queue Failover Behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2981">[ date ]</a>
              <a href="thread.html#2981">[ thread ]</a>
              <a href="subject.html#2981">[ subject ]</a>
              <a href="author.html#2981">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Ben Hood wrote:
&gt;<i> completely transparent to a client is not addressed. The modus
</I>&gt;<i> operandi is to a) not lose messages and then b) give somebody the
</I>&gt;<i> tools to recover a node. The reason why transparent failover has not
</I>Speaking about tools. How doable/easy/difficult would it be to develop a tool to inspect 
and/or replay persister log outside of the broker's erlang vm? Maybe not all of it but 
only basic.publish methods. Such tool would be shipped with broker but will run as a 
standalone process launched by user on demand.

With such tool, if a node crashes, one can get persister log, move it out of mnesia dir, 
wipe out mnesia dir, start rabbit (which will recreate clean mnesia and persister log and 
will get back in business quickly) and then essentially resend all messages that have been 
sent and/or have been sent but have not been acked, or something along these lines.

And, down the road, such tool might offer some sort of filtering support (I am thinking 
something like tcpdump's filtering language) to match against message headers and things 
like publisher's IP, exchange, routing key, time when it arrived, etc.

Thoughts?



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002967.html">[rabbitmq-discuss] Examining Queue Failover Behavior
</A></li>
	<LI>Next message: <A HREF="003023.html">[rabbitmq-discuss] Examining Queue Failover Behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2981">[ date ]</a>
              <a href="thread.html#2981">[ thread ]</a>
              <a href="subject.html#2981">[ subject ]</a>
              <a href="author.html#2981">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
