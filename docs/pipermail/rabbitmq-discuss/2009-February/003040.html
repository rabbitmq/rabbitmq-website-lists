<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Topic exchange trouble with python's amqplib
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Topic%20exchange%20trouble%20with%20python%27s%20amqplib&In-Reply-To=499AE02E.90501%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003034.html">
   <LINK REL="Next"  HREF="003060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Topic exchange trouble with python's amqplib</H1>
    <B>Ben Hyde</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Topic%20exchange%20trouble%20with%20python%27s%20amqplib&In-Reply-To=499AE02E.90501%40lshift.net"
       TITLE="[rabbitmq-discuss] Topic exchange trouble with python's amqplib">bhyde at pobox.com
       </A><BR>
    <I>Tue Feb 17 19:58:19 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003034.html">[rabbitmq-discuss] Topic exchange trouble with python's amqplib
</A></li>
        <LI>Next message: <A HREF="003060.html">[rabbitmq-discuss] Topic exchange trouble with python's amqplib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3040">[ date ]</a>
              <a href="thread.html#3040">[ thread ]</a>
              <a href="subject.html#3040">[ subject ]</a>
              <a href="author.html#3040">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for all the help...  Looks like the problem in the python code,  
someplace.

On Feb 17, 2009, at 1:41 PM, Jason J. W. Williams wrote:
&gt;<i> if there isn't any traffic for a couple of hours the conn to RMQ  
</I>&gt;<i> will close
</I>
I believe the longest quiet times are the order of a few seconds.

On Feb 17, 2009, at 2:01 PM, Dmitriy Samovskiy wrote:
&gt;<i> running your consumer code on broker machine
</I>
tried that, same behavior

On Feb 17, 2009, at 11:05 AM, Tony Garnock-Jones wrote:
&gt;<i> ...you could try running your traffic through the tracer ...
</I>
oh, that's fun

On Feb 17, 2009, at 2:01 PM, Dmitriy Samovskiy wrote:
&gt;<i> ...Tcpdump should also show if messages published after hang ...
</I>
Didn't break out tcpdump yet, but the java tracer shows that after the  
hang messages are
being pushed toward the python client.  A bit it's tracing log cleaned  
up with grep -o

...

1234899260133: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;
1234899261041: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899261042: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;
1234899263217: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899263219: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899263220: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;
1234899263220: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;
1234899263992: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899263993: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;
1234899265527: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899265528: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;
1234899268306: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899268307: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;
1234899268322: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899268323: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;
1234899268747: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899268748: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;
1234899270163: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899270166: conn#0 ch#1 -&gt; {#method&lt;basic.ack&gt;         &lt;&lt;-- after  
this it get's hung.
1234899273214: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899273217: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899273300: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899273742: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899275357: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899278435: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899278436: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899278741: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899280579: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899283216: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899283387: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;
1234899283741: conn#0 ch#1 &lt;- {#method&lt;basic.deliver&gt;



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003034.html">[rabbitmq-discuss] Topic exchange trouble with python's amqplib
</A></li>
	<LI>Next message: <A HREF="003060.html">[rabbitmq-discuss] Topic exchange trouble with python's amqplib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3040">[ date ]</a>
              <a href="thread.html#3040">[ thread ]</a>
              <a href="subject.html#3040">[ subject ]</a>
              <a href="author.html#3040">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
