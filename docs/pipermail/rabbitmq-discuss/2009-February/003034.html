<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Topic exchange trouble with python's amqplib
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Topic%20exchange%20trouble%20with%20python%27s%20amqplib&In-Reply-To=A65C422F-893A-4F51-BB96-5D3DBD9FC7C5%40pobox.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003031.html">
   <LINK REL="Next"  HREF="003040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Topic exchange trouble with python's amqplib</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Topic%20exchange%20trouble%20with%20python%27s%20amqplib&In-Reply-To=A65C422F-893A-4F51-BB96-5D3DBD9FC7C5%40pobox.com"
       TITLE="[rabbitmq-discuss] Topic exchange trouble with python's amqplib">tonyg at lshift.net
       </A><BR>
    <I>Tue Feb 17 16:05:02 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003031.html">[rabbitmq-discuss] Topic exchange trouble with python's amqplib
</A></li>
        <LI>Next message: <A HREF="003040.html">[rabbitmq-discuss] Topic exchange trouble with python's amqplib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3034">[ date ]</a>
              <a href="thread.html#3034">[ thread ]</a>
              <a href="subject.html#3034">[ subject ]</a>
              <a href="author.html#3034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've little experience with amqplib, but in general, you could try
running your traffic through the tracer and collecting the output.

Run the Java program com.rabbitmq.tools.Tracer, copying stdout and
stderr to some file, and direct your python program to connect on port
5673 (unless you supplied a different port on the Tracer command-line)
instead of 5672. When the hang happens, send us either the whole
collected output or the last few entries -- if it's a big file, perhaps
send it to us off-list.

Regards,
  Tony


Ben Hyde wrote:
&gt;<i> I've got a problem; maybe people can offer some suggestions for things  
</I>&gt;<i> to try.
</I>&gt;<i> 
</I>&gt;<i> I've a listener on a topic exchange.  Using python amqplib I connect  
</I>&gt;<i> to a topic
</I>&gt;<i> exchange, binding a pattern, read messages off the wire, and handle  
</I>&gt;<i> them.
</I>&gt;<i> This works great for about ten minutes at which point it hangs in the  
</I>&gt;<i> read.
</I>&gt;<i> The rabbitmq log shows the connection starting, and when I kill my  
</I>&gt;<i> listener
</I>&gt;<i> I see the connection_closed_abruptly.
</I>&gt;<i> 
</I>&gt;<i> If I turn on tracing in amqplib I can watch the listener take delivery  
</I>&gt;<i> and
</I>&gt;<i> acknowledge repeatedly until the hang occurs.
</I>&gt;<i> 
</I>&gt;<i> Hopefully I'm doing something obviously wrong.
</I>&gt;<i> 
</I>&gt;<i>   - ben
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>

-- 
 [][][] Tony Garnock-Jones     | Mob: +44 (0)7905 974 211
   [][] LShift Ltd             | Tel: +44 (0)20 7729 7060
 []  [] <A HREF="http://www.lshift.net/">http://www.lshift.net/</A> | Email: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003031.html">[rabbitmq-discuss] Topic exchange trouble with python's amqplib
</A></li>
	<LI>Next message: <A HREF="003040.html">[rabbitmq-discuss] Topic exchange trouble with python's amqplib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3034">[ date ]</a>
              <a href="thread.html#3034">[ thread ]</a>
              <a href="subject.html#3034">[ subject ]</a>
              <a href="author.html#3034">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
