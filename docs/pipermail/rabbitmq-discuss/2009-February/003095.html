<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] MacPort for RabbitMQ Server 1.5.3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20MacPort%20for%20RabbitMQ%20Server%201.5.3&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003094.html">
   <LINK REL="Next"  HREF="003096.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] MacPort for RabbitMQ Server 1.5.3</H1>
    <B>Chris Pettitt</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20MacPort%20for%20RabbitMQ%20Server%201.5.3&In-Reply-To="
       TITLE="[rabbitmq-discuss] MacPort for RabbitMQ Server 1.5.3">cpettitt at gmail.com
       </A><BR>
    <I>Thu Feb 26 04:23:05 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003094.html">[rabbitmq-discuss] STOMP for 1.5.3
</A></li>
        <LI>Next message: <A HREF="003096.html">[rabbitmq-discuss] MacPort for RabbitMQ Server 1.5.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3095">[ date ]</a>
              <a href="thread.html#3095">[ thread ]</a>
              <a href="subject.html#3095">[ subject ]</a>
              <a href="author.html#3095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I noticed that the latest version of RabbitMQ Server in the MacPorts
repo is version 1.3.0, so I've created a MacPort for RabbitMQ Server
1.5.3. I thought I would share it with this list. The MacPort is
available here:

<A HREF="http://www.samsarin.com/blog/files/uploads/2009/02/rabbitmq-server-macport-1.5.3.tar.gz">http://www.samsarin.com/blog/files/uploads/2009/02/rabbitmq-server-macport-1.5.3.tar.gz</A>

I hope this will be of help to the community. If there is interest
from the RabbitMQ team I would be happy to submit it to the MacPorts
repository.


INSTALL

1. If you don't have a local MacPorts repo, set this up first [1].
2. Extract rabbitmq-1.5.3-macport.tar.gz to the root of your local
MacPorts repo (it will extract files to ./net/rabbitmq-server).
3. Run portindex in the root of your local MacPorts repo
4. Run: sudo port install rabbitmq-server

RUNNING

To start the server, you can either use launchctl (see instructions
emitted during MacPort install) or you can start it from the command
line with: sudo -H -u rabbitmq rabbitmq-server

rabbitmqctl automatically (through sudo) runs in the context of the
rabbitmq user so that the Erlang cookie can be read from
$MACPORTS_PREFIX/var/lib/rabbitmq/.erlang.cookie

NOTES

* The MacPort uses the install target to build and install the package
into the destroot. Hardcoded paths in the shell scripts are modified
to use the MacPort filesystem.
* I followed tonyg's approach of running the server under the
&quot;rabbitmq&quot; user. Unfortunately, the adduser command sets the shell for
the rabbitmq user to /dev/null, so using su was not working. I
switched this to use sudo -H -u rabbitmq, which does work in my
environment.
* When tonyg submitted the original MacPort he commented that calling
launchctl stop on the server would cause the process to exit and
restart. This appears to be the default behavior for launchd -
unloading it stops the reload process. I suspect setting KeepAlive to
false will have the same effect. In any case, I left it to restart
automatically, but I'm open to suggestions on the behavior.

FOOTNOTES

[1]: <A HREF="http://guide.macports.org/#development.local-repositories">http://guide.macports.org/#development.local-repositories</A>



- Chris


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003094.html">[rabbitmq-discuss] STOMP for 1.5.3
</A></li>
	<LI>Next message: <A HREF="003096.html">[rabbitmq-discuss] MacPort for RabbitMQ Server 1.5.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3095">[ date ]</a>
              <a href="thread.html#3095">[ thread ]</a>
              <a href="subject.html#3095">[ subject ]</a>
              <a href="author.html#3095">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
