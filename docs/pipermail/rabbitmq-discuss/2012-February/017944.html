<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue Look-ahead, et alia
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20Look-ahead%2C%20et%20alia&In-Reply-To=%3C4F2FD99E.2000501%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017938.html">
   <LINK REL="Next"  HREF="017989.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue Look-ahead, et alia</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20Look-ahead%2C%20et%20alia&In-Reply-To=%3C4F2FD99E.2000501%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Queue Look-ahead, et alia">emile at rabbitmq.com
       </A><BR>
    <I>Mon Feb  6 13:46:06 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017938.html">[rabbitmq-discuss] Queue Look-ahead, et alia
</A></li>
        <LI>Next message: <A HREF="017989.html">[rabbitmq-discuss] Queue Look-ahead, et alia
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17944">[ date ]</a>
              <a href="thread.html#17944">[ thread ]</a>
              <a href="subject.html#17944">[ subject ]</a>
              <a href="author.html#17944">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Paul,

On 06/02/12 12:37, Bell, Paul M. wrote:
&gt;<i> 1. Is it possible for a consumer to consume specific messages from a
</I>&gt;<i> queue, e.g., one that contains a specific value (like a unique
</I>&gt;<i> &quot;request ID&quot; that is part of each message)?
</I>
No, but if you are trying to match up requests with replies then
consider making use of a dedicated reply queue, in the way RPC does. The
6th tutorial explains in greater detail:
<A HREF="http://www.rabbitmq.com/tutorials/tutorial-six-java.html">http://www.rabbitmq.com/tutorials/tutorial-six-java.html</A>

&gt;<i> 2. Is it possible for a consumer to &quot;run a queue,&quot; e.g., visit each
</I>&gt;<i> message in the queue without removing it?
</I>
In theory a consumer could fetch many messages without acknowledgement,
acknowledge only those that match a filter and requeue the remainder.
Treating a queue like this strongly discouraged. The specification says
of basic.reject:

&quot;The client MUST NOT use this method as a means of selecting messages to
process. &quot;

If you require random access to messages then consider using a database,
or redesigning the message flow in such a way that consumers are able to
process all messages at the head of a queue.

&gt;<i> 3. Perhaps related to (1): does Rabbit support a kind of queue &quot;peek&quot;
</I>&gt;<i> logic in the manner of Queue objects in C# and elsewhere? Peek allows
</I>&gt;<i> one to obtain the queue head but leave it in place. (I know from
</I>&gt;<i> previous threads on this list that message will remain in Q until
</I>&gt;<i> expressly ack-ed, so maybe that's the answer.....)
</I>
A consumer can fetch and requeue a message from a queue, but (unless
there are other consumers consuming from the same queue) it will not
make any progress this way. The reason is that the consumer will see the
same message over and over.

&gt;<i> Behind my questions is something I learned re Microsoft's Azure
</I>&gt;<i> design. Its message queues can be manipulated via RESTful URIs.
</I>&gt;<i> Consequently, the contents of an Azure queue can be queried, just as
</I>&gt;<i> one might query data in the persistence layer.
</I>
Data structures that can be browsed and manipulated in this way are not
strictly speaking queues. For performance reasons the internal data
structures in RabbitMQ have queues that do not permit random data access
patterns.




-Emile
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017938.html">[rabbitmq-discuss] Queue Look-ahead, et alia
</A></li>
	<LI>Next message: <A HREF="017989.html">[rabbitmq-discuss] Queue Look-ahead, et alia
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17944">[ date ]</a>
              <a href="thread.html#17944">[ thread ]</a>
              <a href="subject.html#17944">[ subject ]</a>
              <a href="author.html#17944">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
