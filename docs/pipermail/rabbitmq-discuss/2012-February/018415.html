<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Another Naive Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Another%20Naive%20Question&In-Reply-To=%3CAF4AD4ADFB23054CB4C75F50FF8C40B73B40694CA7%40MAILCCR.us.syncsort.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018376.html">
   <LINK REL="Next"  HREF="018417.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Another Naive Question</H1>
    <B>Bell, Paul M.</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Another%20Naive%20Question&In-Reply-To=%3CAF4AD4ADFB23054CB4C75F50FF8C40B73B40694CA7%40MAILCCR.us.syncsort.com%3E"
       TITLE="[rabbitmq-discuss] Another Naive Question">pbell at syncsort.com
       </A><BR>
    <I>Fri Feb 24 23:11:32 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018376.html">[rabbitmq-discuss] Another Naive Question
</A></li>
        <LI>Next message: <A HREF="018417.html">[rabbitmq-discuss] Redelivery to Multiple Consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18415">[ date ]</a>
              <a href="thread.html#18415">[ thread ]</a>
              <a href="subject.html#18415">[ subject ]</a>
              <a href="author.html#18415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks, Simon.

I realize, now, that I had put a very na&#239;ve question.

Maybe these will be less so and, consequently, more interesting:

What is a &quot;best practices&quot; way of handling the following:

a. broker dies (maybe it's down for several minutes)
b. in-flight producers and consumers remain up, trying to do their thing. In my case, the producer merely produces, but consumer both consumes and produces.

I assume that producer will, with next attempt at publishing to the exchange, get some kind exception/error (econnreset?) Is this correct? But if the consumer is subscribed to the queue (and I assume this means that it employs some variant of a MessageListenerContainer), will it receive any error at all?

Assuming that at least the producer gets an error, I suppose it could simply cease sending messages and perhaps periodically check that broker is back up. How best to do that, e.g., every Nth msg actually try to send it to the exchange and see what happens?

Then there's the matter of exchange/queue durability. Suppose that neither the producer nor consumer declared (created) the queues they are dealing with (some other component might have created them). Broker is again available, but the non-durable queues no longer exist AND neither producer nor consumer has the logic to declare them. Is the answer here simply to make the exchange and queues durable? In this way, I think, the exchange/queues are always there so neither P nor C need declare them. Or, is it better for components always to declare any queue that they will use (given the idempotency of declaring a queue)?

Thanks again, everyone.

-Paul



-----Original Message-----
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Simon MacMullen
Sent: Thursday, February 23, 2012 10:05 AM
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] Another Naive Question

On 23/02/12 14:54, Bell, Paul M. wrote:
&gt;<i> Is there any problem with multiple Producers publishing to the same
</I>&gt;<i> queue? I assume that this presents no problem to Rabbit - but I just
</I>&gt;<i> need to be certain.
</I>
No, not at all. That's a large part of the point :-)

Cheers, Simon

--
Simon MacMullen
RabbitMQ, VMware
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>



ATTENTION: -----

The information contained in this message (including any files transmitted with this message) may contain proprietary, trade secret or other  confidential and/or legally privileged information. Any pricing information contained in this message or in any files transmitted with this message is always confidential and cannot be shared with any third parties without prior written approval from Syncsort. This message is intended to be read only by the individual or entity to whom it is addressed or by their designee. If the reader of this message is not the intended recipient, you are on notice that any use, disclosure, copying or distribution of this message, in any form, is strictly prohibited. If you have received this message in error, please immediately notify the sender and/or Syncsort and destroy all copies of this message in your possession, custody or control.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018376.html">[rabbitmq-discuss] Another Naive Question
</A></li>
	<LI>Next message: <A HREF="018417.html">[rabbitmq-discuss] Redelivery to Multiple Consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18415">[ date ]</a>
              <a href="thread.html#18415">[ thread ]</a>
              <a href="subject.html#18415">[ subject ]</a>
              <a href="author.html#18415">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
