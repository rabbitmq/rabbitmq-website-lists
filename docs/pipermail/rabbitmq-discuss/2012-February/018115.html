<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Securing RabbitMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Securing%20RabbitMQ&In-Reply-To=%3C17C56C91-9B76-4B0B-8FBF-44AB608C279F%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017875.html">
   <LINK REL="Next"  HREF="017847.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Securing RabbitMQ</H1>
    <B>Steve Powell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Securing%20RabbitMQ&In-Reply-To=%3C17C56C91-9B76-4B0B-8FBF-44AB608C279F%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Securing RabbitMQ">steve at rabbitmq.com
       </A><BR>
    <I>Mon Feb 13 15:57:49 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017875.html">[rabbitmq-discuss] Securing RabbitMQ
</A></li>
        <LI>Next message: <A HREF="017847.html">[rabbitmq-discuss] alternate-exchanges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18115">[ date ]</a>
              <a href="thread.html#18115">[ thread ]</a>
              <a href="subject.html#18115">[ subject ]</a>
              <a href="author.html#18115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Paul,
Sorry not to get back to you sooner.

Ok, so these threads are used by *your* Consumers. In which case they probably
have no relation to the threads which we manage (to allow multiple channels to
use a pool of threads to execute consumer callbacks).

We create our pool of threads using ExecutorServices (in
java.util.concurrent.ExecutorService) with the call
Executors.newFixedThreadPool(NUM_THREADS). This produces an ExecutorService with
a fixed number of threads.

If you create a connection with newConnection(executorService), you can pass in
your own ExecutorService (of which there are many in java.util.concurrent -- or
you can roll your own) and some of these may have a dynamically varying number
of threads -- I don't know. However, it is entirely up to you.

Be careful, though, this is a notoriously difficult area of design -- better to
use a pre-designed one than try to implement one of your own.

Does this answer your question? I'm not at all sure what pool of threads you
want to 'dynamically vary'.

Steve Powell  (a happy bunny)
----------some more definitions from the SPD----------
vermin (v.) Treating the dachshund for roundworm.
chinchilla (n.) Cooling device for the lower jaw.
socialcast (n.) Someone to whom everyone is speaking but nobody likes.

On 2 Feb 2012, at 18:19, Bell, Paul M. wrote:

&gt;<i> Sorry, Steve - my error. The &quot;Consumer&quot; class I referenced is mine. Its constructor takes the aforementioned &quot;3&quot; and presents it to a setConcurrentConsumers call, something like the following:
</I>&gt;<i> 
</I>&gt;<i>             SimpleMessageListenerContainer container = new SimpleMessageListenerContainer();
</I>&gt;<i>                container.setConcurrentConsumers(numConsumerThreads);
</I>&gt;<i> 
</I>&gt;<i> So I guess I am asking about dynamically adjusting the number of these threads.
</I>&gt;<i> 
</I>&gt;<i> Thanks.
</I>&gt;<i> 
</I>&gt;<i> -Paul
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Steve Powell [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">steve at rabbitmq.com</A>]
</I>&gt;<i> Sent: Thursday, February 02, 2012 11:58 AM
</I>&gt;<i> To: Bell, Paul M.
</I>&gt;<i> Cc: RabbitMQ List
</I>&gt;<i> Subject: Re: [rabbitmq-discuss] Securing RabbitMQ
</I>&gt;<i> 
</I>&gt;<i> Paul,
</I>&gt;<i> 
</I>&gt;<i> Sorry, Paul, but I don't understand the question.
</I>&gt;<i> 
</I>&gt;<i> To what Consumer are you referring? It is not possible
</I>&gt;<i> to instantiate a java interface class (which Consumer is).
</I>&gt;<i> 
</I>&gt;<i> Perhaps you are using another client?
</I>&gt;<i> 
</I>&gt;<i> The Java Client's threading policy for Consumer callbacks
</I>&gt;<i> changed in 2.7.0. You might like to read the blog entry(1) and
</I>&gt;<i> the notes in the Java Client API pages(2).
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Steve Powell
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">steve at rabbitmq.com</A>
</I>&gt;<i> [wrk: +44-2380-111-528] [mob: +44-7815-838-558]
</I>&gt;<i> (1) <A HREF="http://www.rabbitmq.com/blog/2011/12/20/rabbitmq-2-7-0-and-2-7-1-are-released/">http://www.rabbitmq.com/blog/2011/12/20/rabbitmq-2-7-0-and-2-7-1-are-released/</A>
</I>&gt;<i> (2) <A HREF="http://www.rabbitmq.com/api-guide.html">http://www.rabbitmq.com/api-guide.html</A> ('Channel thread-safety' and 'Advanced connection options')
</I>&gt;<i> 
</I>&gt;<i> On 1 Feb 2012, at 19:57, Bell, Paul M. wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> My question: is it possible to adjust the &quot;concurrency&quot; of a consumer in real time? That is, when I create a consumer with
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i>    Consumer consumer = new Consumer(&quot;q1&quot;, &quot;q1&quot;, 3);
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I get a single consumer that runs 3 threads. Can I adjust this &quot;3&quot; dynamically?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thanks again.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -Paul
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ATTENTION: -----
</I>&gt;<i> 
</I>&gt;<i> The information contained in this message (including any files transmitted with this message) may contain proprietary, trade secret or other  confidential and/or legally privileged information. Any pricing information contained in this message or in any files transmitted with this message is always confidential and cannot be shared with any third parties without prior written approval from Syncsort. This message is intended to be read only by the individual or entity to whom it is addressed or by their designee. If the reader of this message is not the intended recipient, you are on notice that any use, disclosure, copying or distribution of this message, in any form, is strictly prohibited. If you have received this message in error, please immediately notify the sender and/or Syncsort and destroy all copies of this message in your possession, custody or control.
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017875.html">[rabbitmq-discuss] Securing RabbitMQ
</A></li>
	<LI>Next message: <A HREF="017847.html">[rabbitmq-discuss] alternate-exchanges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18115">[ date ]</a>
              <a href="thread.html#18115">[ thread ]</a>
              <a href="subject.html#18115">[ subject ]</a>
              <a href="author.html#18115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
