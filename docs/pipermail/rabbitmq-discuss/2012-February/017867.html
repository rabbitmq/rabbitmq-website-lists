<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Binding to multiple queues in a round-robin	style using the PIKA library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Binding%20to%20multiple%20queues%20in%20a%20round-robin%0A%09style%20using%20the%20PIKA%20library&In-Reply-To=%3Ce299d891-da35-468d-9270-89c66212290b%40eb6g2000vbb.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017866.html">
   <LINK REL="Next"  HREF="017892.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Binding to multiple queues in a round-robin	style using the PIKA library</H1>
    <B>Stephen Young</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Binding%20to%20multiple%20queues%20in%20a%20round-robin%0A%09style%20using%20the%20PIKA%20library&In-Reply-To=%3Ce299d891-da35-468d-9270-89c66212290b%40eb6g2000vbb.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Binding to multiple queues in a round-robin	style using the PIKA library">stephen.t.young at gmail.com
       </A><BR>
    <I>Thu Feb  2 16:36:36 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017866.html">[rabbitmq-discuss] [announce] New maintainer for the rabbitmq-c library
</A></li>
        <LI>Next message: <A HREF="017892.html">[rabbitmq-discuss] Binding to multiple queues in a round-robin style using the PIKA library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17867">[ date ]</a>
              <a href="thread.html#17867">[ thread ]</a>
              <a href="subject.html#17867">[ subject ]</a>
              <a href="author.html#17867">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

I'm working on a system that receives a variety of different message
types from different source queues, like the following:

client binds to Q1, Q2, Q3
server posts to Q2
client reads request and updates database. If something goes awry, the
client sends a basic_reject to requeue the request

however, this seems to cause some problems in that the client will see
a message in Q2, but need to have parsed a message in another queue
first. However the clients seem to keep polling the same queue until
success. Is there any better way to implement this system? Currently
I'm defeating the deadlock by having enough clients + some dedicated
clients on the bottleneck queues, but would prefer if each client
could run autonomously and read from queues in a pattern / priority of
some sort.

Cheers,
Stephen
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017866.html">[rabbitmq-discuss] [announce] New maintainer for the rabbitmq-c library
</A></li>
	<LI>Next message: <A HREF="017892.html">[rabbitmq-discuss] Binding to multiple queues in a round-robin style using the PIKA library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17867">[ date ]</a>
              <a href="thread.html#17867">[ thread ]</a>
              <a href="subject.html#17867">[ subject ]</a>
              <a href="author.html#17867">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
