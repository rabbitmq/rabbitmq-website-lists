<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Performance of &quot;blocking publisher-confirms&quot; vs.	transactions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20of%20%22blocking%20publisher-confirms%22%20vs.%0A%09transactions&In-Reply-To=%3CCB627E79.2EBDC%25mpietrek%40skytap.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018454.html">
   <LINK REL="Next"  HREF="018211.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Performance of &quot;blocking publisher-confirms&quot; vs.	transactions</H1>
    <B>Matt Pietrek</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20of%20%22blocking%20publisher-confirms%22%20vs.%0A%09transactions&In-Reply-To=%3CCB627E79.2EBDC%25mpietrek%40skytap.com%3E"
       TITLE="[rabbitmq-discuss] Performance of &quot;blocking publisher-confirms&quot; vs.	transactions">mpietrek at skytap.com
       </A><BR>
    <I>Thu Feb 16 17:35:53 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018454.html">[rabbitmq-discuss] &#31572;&#22797;: Passive queue declaration and channel closure
</A></li>
        <LI>Next message: <A HREF="018211.html">[rabbitmq-discuss] Performance of &quot;blocking publisher-confirms&quot; vs. transactions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18209">[ date ]</a>
              <a href="thread.html#18209">[ thread ]</a>
              <a href="subject.html#18209">[ subject ]</a>
              <a href="author.html#18209">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>As I've detailed in other posts to this DL (<A HREF="http://bit.ly/zf6sKC">http://bit.ly/zf6sKC</A>), we have
situation where straightforward publisher-confirms aren't appropriate in our
scenario. We need to know the broker has received the message, and we have
to assume our client can die at any moment, so retransmitting messages is
not an option for us.

What I'd like to know is: Is there any benefit to creating our own &quot;blocking
publisher-confirm publishing&quot;? That is, we'd do the following:

Publish a single message
Block on an event 'X'
When the publisher confirm comes in, signal 'X'
Return from the publish call

In a mirrored queue scenario, is there any advantage to doing this vs. using
straight-up transactions?

Matt

p.s. I realize in the above pseudocode that multiple threads would be
necessary - One to block and the other to listen for the publisher-confirm.



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120216/6060b93d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120216/6060b93d/attachment.htm</A>&gt;
</PRE>











































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018454.html">[rabbitmq-discuss] &#31572;&#22797;: Passive queue declaration and channel closure
</A></li>
	<LI>Next message: <A HREF="018211.html">[rabbitmq-discuss] Performance of &quot;blocking publisher-confirms&quot; vs. transactions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18209">[ date ]</a>
              <a href="thread.html#18209">[ thread ]</a>
              <a href="subject.html#18209">[ subject ]</a>
              <a href="author.html#18209">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
