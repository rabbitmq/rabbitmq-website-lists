<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message wait time in a queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20wait%20time%20in%20a%20queue&In-Reply-To=%3Ceda37f0b-b246-4702-b85a-f91fa67d8f82%40strongmad.batnest.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017987.html">
   <LINK REL="Next"  HREF="017993.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message wait time in a queue</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20wait%20time%20in%20a%20queue&In-Reply-To=%3Ceda37f0b-b246-4702-b85a-f91fa67d8f82%40strongmad.batnest.org%3E"
       TITLE="[rabbitmq-discuss] Message wait time in a queue">jerryk at vmware.com
       </A><BR>
    <I>Tue Feb  7 16:28:15 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017987.html">[rabbitmq-discuss] Message wait time in a queue
</A></li>
        <LI>Next message: <A HREF="017993.html">[rabbitmq-discuss] Message wait time in a queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17988">[ date ]</a>
              <a href="thread.html#17988">[ thread ]</a>
              <a href="subject.html#17988">[ subject ]</a>
              <a href="author.html#17988">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Rasadoll...

Do you really want to measure the time spent in a queue by the
message and do something with that information or do you just want 
messages to vanish after they get appropriately stale?  If the
latter, check out:

<A HREF="http://www.rabbitmq.com/extensions.html">http://www.rabbitmq.com/extensions.html</A>

And check out the &quot;Per-Queue Message TTL&quot; session.  It describes
a RabbitMQ extension to AMQP that lets you declare a queue with
a new argument, x-message-ttl, that controls how long a message
published to that queue can live before the broker discards it.
Messages that have exceeded the TTL set for their queue are
considered dead, won't be delivered to consumers, and will
be expunged periodically.

Note that you specify the TTL in *milliseconds*... :-)

Best regards,
Jerry

----- Original Message -----
From: &quot;rasadoll&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rasadoll at gmail.com</A>&gt;
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Sent: Tuesday, February 7, 2012 8:11:33 AM
Subject: [rabbitmq-discuss] Message wait time in a queue

Hi,

How can we measure how long a message has been in a queue before it is
delivered to a consumer? If the message was in a queue for more than a
certain amount of time we would like to ignore it for example. Our
message publisher and consumers are on different machines and we
cannot synchronize their clocks, so the publish time cannot be set by
the publisher and checked by the consumer. Is there any way to get
this information from RabbitMQ?

Thanks,
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>







































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017987.html">[rabbitmq-discuss] Message wait time in a queue
</A></li>
	<LI>Next message: <A HREF="017993.html">[rabbitmq-discuss] Message wait time in a queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17988">[ date ]</a>
              <a href="thread.html#17988">[ thread ]</a>
              <a href="subject.html#17988">[ subject ]</a>
              <a href="author.html#17988">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
