<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] questions about rabbitmq
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20questions%20about%20rabbitmq&In-Reply-To=%3C1328289073.93984.YahooMailNeo%40web111704.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018327.html">
   <LINK REL="Next"  HREF="018116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] questions about rabbitmq</H1>
    <B>Jeff C</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20questions%20about%20rabbitmq&In-Reply-To=%3C1328289073.93984.YahooMailNeo%40web111704.mail.gq1.yahoo.com%3E"
       TITLE="[rabbitmq-discuss] questions about rabbitmq">jcoismain at yahoo.com
       </A><BR>
    <I>Fri Feb  3 17:11:13 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018327.html">[rabbitmq-discuss] Shovel config example with declare.queue with a x-ha-policy argument?
</A></li>
        <LI>Next message: <A HREF="018116.html">[rabbitmq-discuss] questions about rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17904">[ date ]</a>
              <a href="thread.html#17904">[ thread ]</a>
              <a href="subject.html#17904">[ subject ]</a>
              <a href="author.html#17904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

I recently began reading up on rabbitmq and the amqp paradigm, via rabbitmq's site documentation and miscellaneous tutorials around the web, as I plan to use rabbit as the core for a real-time forum component that will be part of a site I am working on, where new posts will be forwarded out to client machines from a long-polling/websocket server sitting between the users and rabbitmq.(I'm new to message passing systems) I've been reading some posts and even a talk from Alexis Richardson, and I decided to join the mailing list to ask some specific questions; I have three:


1. I've read that basic_consume is the most efficient way to receive messages from rabbitmq. Is it possible for one consumer (my websock/lp server) to register to multiple queues(conceivably several thousand) and have messages continually sent to it?

2. Also, what routing topology/architecture would you recommend for this use case? I was thinking about either one queue per user or, one queue per topic (which would only be created once someone actually visits said topic) where users reading the same topic would be subscribed to the same queue. Either way, all these queues would be forwarding messages to the websocket/comet server which would then push them out to clients. There would also be a work queue, pushing out tasks for crud operations in the database to worker machines.


3. I'm planning on using a non-blocking server (NIO, or maybe twisted) for pushing the messages, however, I'm not sure how I should go about the writes once a message is sent from rabbitmq. Iterating throught the set of ready connections to find the connection to send it through doesn't sound like the best way, and what if the connection is busy and isn't in the ready set of connections? What should be done with the message? 


Again I'm new to working with message passing systems as stated above, and a bit of help here would be much appreciated. Thank you.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120203/44bac04b/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120203/44bac04b/attachment.htm</A>&gt;
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018327.html">[rabbitmq-discuss] Shovel config example with declare.queue with a x-ha-policy argument?
</A></li>
	<LI>Next message: <A HREF="018116.html">[rabbitmq-discuss] questions about rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17904">[ date ]</a>
              <a href="thread.html#17904">[ thread ]</a>
              <a href="subject.html#17904">[ subject ]</a>
              <a href="author.html#17904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
