<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] &#31572;&#22797;:  A question about RabbitMQ &quot;Presence Exchange&quot; Plugin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%0A%09%3D%3Futf-8%3Fb%3F562U5aSNOiAgQSBxdWVzdGlvbiBhYm91dCBS%3F%3D%0A%09%3D%3Futf-8%3Fq%3FabbitMQ_%3D22Presence_Exchange%3D22_Plugin%3F%3D&In-Reply-To=%3CCABzX%2Bqw_7SV9-nbm5s_wNmEGOOG05PnzYBvmK4AVRwCyAp22Xw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018018.html">
   <LINK REL="Next"  HREF="018025.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] &#31572;&#22797;:  A question about RabbitMQ &quot;Presence Exchange&quot; Plugin</H1>
    <B>Marek Majkowski</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%0A%09%3D%3Futf-8%3Fb%3F562U5aSNOiAgQSBxdWVzdGlvbiBhYm91dCBS%3F%3D%0A%09%3D%3Futf-8%3Fq%3FabbitMQ_%3D22Presence_Exchange%3D22_Plugin%3F%3D&In-Reply-To=%3CCABzX%2Bqw_7SV9-nbm5s_wNmEGOOG05PnzYBvmK4AVRwCyAp22Xw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] &#31572;&#22797;:  A question about RabbitMQ &quot;Presence Exchange&quot; Plugin">majek04 at gmail.com
       </A><BR>
    <I>Wed Feb  8 14:04:04 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018018.html">[rabbitmq-discuss]  &#31572;&#22797;:  A question about RabbitMQ &quot;Presence Exchange&quot; Plugin
</A></li>
        <LI>Next message: <A HREF="018025.html">[rabbitmq-discuss] rabbitmqctl -n ..... status fails one way but	not the other
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18021">[ date ]</a>
              <a href="thread.html#18021">[ thread ]</a>
              <a href="subject.html#18021">[ subject ]</a>
              <a href="author.html#18021">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2012/2/8 Liuzhuofu &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">liuzhuofu at huawei.com</A>&gt;:
&gt;<i> Hi, Marek:
</I>&gt;<i> I think you didn't catch my point.
</I>&gt;<i> My question is : If a queue bind to a 'x-presence' exchange with a
</I>&gt;<i> &quot;not_empty&quot; key and it hasn't bean subscribe by a process, when the vm of
</I>&gt;<i> queue exit , the exchange can not receive a &quot;unbind&quot; message for the queue.
</I>&gt;<i> But if the queue bind to 'x-presence' exchange with a&#160;&quot;not_empty&quot; key and it
</I>&gt;<i> has subscribe by a process, when the vm of queue exit, the exchange can
</I>&gt;<i> receive a &quot;unbind&quot; message for the queue.
</I>
What kind of queue do you have in mind? durable or exclusive or auto_delete?

You should see an 'unbind' message on a presence exchange,
when a queue gets unbind from this exchange

A queue can get 'unbind' during one of the following events:
 - you manually call 'unbind'
 - a queue gets deleted

The latter case, a queue getting deleted can happen in following cases:
 - you manually call queue_delete
 - a queue is 'exclusive' and a connection that created it gets closed
 - a queue is 'auto-delete' and all the consumers stopped consuming (for example
   last consumer connection got closed)

Please review the AMQP spec for details:
  <A HREF="http://www.rabbitmq.com/amqp-0-9-1-reference.html#queue.declare">http://www.rabbitmq.com/amqp-0-9-1-reference.html#queue.declare</A>


Cheers,
   Marek
</PRE>

























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018018.html">[rabbitmq-discuss]  &#31572;&#22797;:  A question about RabbitMQ &quot;Presence Exchange&quot; Plugin
</A></li>
	<LI>Next message: <A HREF="018025.html">[rabbitmq-discuss] rabbitmqctl -n ..... status fails one way but	not the other
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18021">[ date ]</a>
              <a href="thread.html#18021">[ thread ]</a>
              <a href="subject.html#18021">[ subject ]</a>
              <a href="author.html#18021">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
