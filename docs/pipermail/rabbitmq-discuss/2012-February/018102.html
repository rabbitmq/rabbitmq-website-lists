<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Why is the queue created on the consumer's side?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20is%20the%20queue%20created%20on%20the%20consumer%27s%0A%20side%3F&In-Reply-To=%3C20120213104311.GC3782%40southbank.Home%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018101.html">
   <LINK REL="Next"  HREF="018105.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Why is the queue created on the consumer's side?</H1>
    <B>Alexandru Scvor&#355;ov</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20is%20the%20queue%20created%20on%20the%20consumer%27s%0A%20side%3F&In-Reply-To=%3C20120213104311.GC3782%40southbank.Home%3E"
       TITLE="[rabbitmq-discuss] Why is the queue created on the consumer's side?">alexandru at rabbitmq.com
       </A><BR>
    <I>Mon Feb 13 10:43:11 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018101.html">[rabbitmq-discuss] Why is the queue created on the consumer's side?
</A></li>
        <LI>Next message: <A HREF="018105.html">[rabbitmq-discuss] Why is the queue created on the consumer's side?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18102">[ date ]</a>
              <a href="thread.html#18102">[ thread ]</a>
              <a href="subject.html#18102">[ subject ]</a>
              <a href="author.html#18102">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> I've understood from the tutorials that the producer doesn't send any
</I>&gt;<i> message directly to a queue, and that quite often doesn't even know if a
</I>&gt;<i> message will be delivered to a queue.
</I>
Correct.  It can use mandatory and immediate delivery modes to check if
the message has reached any queues, though.

&gt;<i> Does queue declaration means queue creation? If yes, I think that it is
</I>&gt;<i> quite strange to create a queue on the consumer's side in real
</I>&gt;<i> applications.If no, where is the created?
</I>
Queue declaration is an idempotent queue-creation.  It's more like an
assertion that the queue exists (after the queue.declare, you *know* the
queue exists).  So, you can declare a queue multiple times, but it will
only be created once.

Who should declare the queue depends from application to application.
For instance, in a work-queue scenario (where a producer enqueues tasks
for workers to execute), the producer should declare the queue (so that
tasks are queued even if there aren't any active workers).  In many
pub-sub scenarios, where consumers subscribe to events from a producer
(and old events are not interesting), the consumers would declare queues
(probably, one each).  In many other cases, both the consumer and the
producer would declare the queue (the producer to ensure that messages
aren't lost, and the consumer so that it can start consuming from the
queue even if the producer hasn't come online to declare the queue yet).

Hope this helps.

Cheers,
Alex

On Sun, Feb 12, 2012 at 05:32:36AM -0800, Bamboula wrote:
&gt;<i> 
</I>&gt;<i> Hello all,
</I>&gt;<i> 
</I>&gt;<i> I've understood from the tutorials that the producer doesn't send any
</I>&gt;<i> message directly to a queue, and that quite often doesn't even know if a
</I>&gt;<i> message will be delivered to a queue.
</I>&gt;<i> 
</I>&gt;<i> In the third tutorial (Publisher/Subscriber), the queue is declared on the
</I>&gt;<i> consumer's side. I think that's for simplicity reasons in this particular
</I>&gt;<i> example (since the number of consumers is equal to the number of queues). 
</I>&gt;<i> Does queue declaration means queue creation? If yes, I think that it is
</I>&gt;<i> quite strange to create a queue on the consumer's side in real
</I>&gt;<i> applications.If no, where is the created?
</I>&gt;<i> 
</I>&gt;<i> I would appreciate if someone could give me some information.
</I>&gt;<i> 
</I>&gt;<i> Thanks a lot,
</I>&gt;<i> 
</I>&gt;<i> Bamboula 
</I>&gt;<i> -- 
</I>&gt;<i> View this message in context: <A HREF="http://old.nabble.com/Why-is-the-queue-created-on-the-consumer%27s-side--tp33309859p33309859.html">http://old.nabble.com/Why-is-the-queue-created-on-the-consumer%27s-side--tp33309859p33309859.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018101.html">[rabbitmq-discuss] Why is the queue created on the consumer's side?
</A></li>
	<LI>Next message: <A HREF="018105.html">[rabbitmq-discuss] Why is the queue created on the consumer's side?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18102">[ date ]</a>
              <a href="thread.html#18102">[ thread ]</a>
              <a href="subject.html#18102">[ subject ]</a>
              <a href="author.html#18102">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
