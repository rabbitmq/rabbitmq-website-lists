<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] .NET client connection shutdown codes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20client%20connection%20shutdown%20codes&In-Reply-To=%3CCAOn7oW8-mgm3CvhTKFYZ-0Q%2BqzXYgYmw3k1a%2BqcjPpczXxE2XA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017958.html">
   <LINK REL="Next"  HREF="017933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] .NET client connection shutdown codes</H1>
    <B>Simone Busoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20client%20connection%20shutdown%20codes&In-Reply-To=%3CCAOn7oW8-mgm3CvhTKFYZ-0Q%2BqzXYgYmw3k1a%2BqcjPpczXxE2XA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] .NET client connection shutdown codes">simone.busoli at gmail.com
       </A><BR>
    <I>Fri Feb  3 23:54:54 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017958.html">[rabbitmq-discuss] Using Pika Python client library with BlockingConnections and publisher-confirms - Does it work?
</A></li>
        <LI>Next message: <A HREF="017933.html">[rabbitmq-discuss] .NET client connection shutdown codes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17921">[ date ]</a>
              <a href="thread.html#17921">[ thread ]</a>
              <a href="subject.html#17921">[ subject ]</a>
              <a href="author.html#17921">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I'm trying to figure out what values the ShutdownEventArgs.ReplyCode
property can be assigned by the .NET client.
I started investigating while trying to solve a reconnection problem
whereby the connection was shutdown by the AppDomain unload event handler
and exited with code 0x21d, but noticed there's at least another case in
the code where the ReplyCode is assigned the same value, and it's in the
MainLoop method, in the last chance catch block.
Using same codes for different shutdown reasons makes it difficult to
distinguish different shutdown scenarios, and I would like to avoid relying
on the ReplyText property to discriminate it.
So I'm wondering what is the criteria used by the API to set this value
and, bumping one thread from some time ago, it would be very nice to have
some guidance about how the .NET API behaves when anything goes wrong.
Currently I have to say that it's quite difficult to cope with failure
scenarios because the behavior of the API is difficult to predict, and I am
under the impression that it is somewhat inconsistent in terms of which
exceptions you have to expect to bubble up in different circumstances.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120204/8b254831/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120204/8b254831/attachment.htm</A>&gt;
</PRE>













































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017958.html">[rabbitmq-discuss] Using Pika Python client library with BlockingConnections and publisher-confirms - Does it work?
</A></li>
	<LI>Next message: <A HREF="017933.html">[rabbitmq-discuss] .NET client connection shutdown codes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17921">[ date ]</a>
              <a href="thread.html#17921">[ thread ]</a>
              <a href="subject.html#17921">[ subject ]</a>
              <a href="author.html#17921">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
