<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Understanding Federation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Understanding%20Federation&In-Reply-To=%3CC3481B5CE3E61E438EEF6143B51DC17F652F5A15AA%40Y000IIIV01.rd1.rf1%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018358.html">
   <LINK REL="Next"  HREF="018380.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Understanding Federation</H1>
    <B>MELIQUE Denis (MORPHO)</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Understanding%20Federation&In-Reply-To=%3CC3481B5CE3E61E438EEF6143B51DC17F652F5A15AA%40Y000IIIV01.rd1.rf1%3E"
       TITLE="[rabbitmq-discuss] Understanding Federation">denis.melique at morpho.com
       </A><BR>
    <I>Thu Feb 23 16:36:09 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018358.html">[rabbitmq-discuss] Understanding Federation
</A></li>
        <LI>Next message: <A HREF="018380.html">[rabbitmq-discuss] Understanding Federation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18379">[ date ]</a>
              <a href="thread.html#18379">[ thread ]</a>
              <a href="subject.html#18379">[ subject ]</a>
              <a href="author.html#18379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you Simon.

This makes it much clearer for me.
I was first surprised to see this queue always empty on my test bed,  
but the reason is (correct me if I'm wrong) 
that my system was not loaded enough, and consumers got messages as soon as they came in.

So every message consumed from the downstream is first written on disk.
This might be a disadvantage for performance.
And gives an advantage to Shovel, as you can configure it with transient queues.

Denis

-----Original Message-----
From: Simon MacMullen [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>] 
Sent: Thursday, February 23, 2012 12:11 PM
To: MELIQUE Denis (MORPHO)
Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] Understanding Federation

On 23/02/12 10:56, MELIQUE Denis (MORPHO) wrote:
&gt;<i> I&#8217;m doing some testing with federation plug-in to try to understand it.
</I>
Cool!

&lt;snip&gt;

&gt;<i> What are these Exchange and Queues used for ?
</I>
The queue is there to buffer messages that are published to the upstream 
exchange and have not yet been consumed from the downstream exchange.

It is bound to the internal exchange with the union of all the bindings 
that are in use downstream, so we only transfer messages that are going 
to be of use downstream.

The internal exchange is there so that whenever we (re)establish a 
federation link we can set up an exact set of bindings 
mostly-atomically, by creating a new internal exchange, creating all the 
bindings to it, then binding it to the upstream exchange.

&gt;<i> Are they reserved for federation internal use ?
</I>
Yes.

&gt;<i> When do messages go into these queues ?
</I>
As mentioned, the bindings are pushed upstream so messages from upstream 
go into these queues if they will be routed once they get downstream.

&gt;<i> Do they have to be durable or is there a way to configure them as
</I>&gt;<i> transient ?
</I>
At the moment they have to be durable. Is this a problem? The idea is 
that you can set the queue TTL if you do not want them to hang around 
forever.

&gt;<i> I would be very interested by a brief description of how federation
</I>&gt;<i> works internally.
</I>
Hopefully this answers your question.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
#
&quot; Ce courriel et les documents qui lui sont joints peuvent contenir des informations confidentielles ou ayant un caract&#232;re priv&#233;. S'ils ne vous sont pas destin&#233;s, nous vous signalons qu'il est strictement interdit de les divulguer, de les reproduire ou d'en utiliser de quelque mani&#232;re que ce soit le contenu. Si ce message vous a &#233;t&#233; transmis par erreur, merci d'en informer l'exp&#233;diteur et de supprimer imm&#233;diatement de votre syst&#232;me informatique ce courriel ainsi que tous les documents qui y sont attach&#233;s.&quot;
******
&quot; This e-mail and any attached documents may contain confidential or proprietary information. If you are not the intended recipient, you are notified that any dissemination, copying of this e-mail and any attachments thereto or use of their contents by any means whatsoever is strictly prohibited. If you have received this e-mail in error, please advise the sender immediately and delete this e-mail and all attached documents from your computer system.&quot;
#
</PRE>


































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018358.html">[rabbitmq-discuss] Understanding Federation
</A></li>
	<LI>Next message: <A HREF="018380.html">[rabbitmq-discuss] Understanding Federation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18379">[ date ]</a>
              <a href="thread.html#18379">[ thread ]</a>
              <a href="subject.html#18379">[ subject ]</a>
              <a href="author.html#18379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
