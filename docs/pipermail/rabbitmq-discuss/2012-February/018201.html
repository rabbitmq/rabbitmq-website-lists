<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Persisting Messages on a Direct Exchange, Selectively Looking for Particular Messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Persisting%20Messages%20on%20a%20Direct%20Exchange%2C%0A%20Selectively%20Looking%20for%20Particular%20Messages&In-Reply-To=%3C4F3D00BA.7070400%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018197.html">
   <LINK REL="Next"  HREF="018185.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Persisting Messages on a Direct Exchange, Selectively Looking for Particular Messages</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Persisting%20Messages%20on%20a%20Direct%20Exchange%2C%0A%20Selectively%20Looking%20for%20Particular%20Messages&In-Reply-To=%3C4F3D00BA.7070400%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Persisting Messages on a Direct Exchange, Selectively Looking for Particular Messages">emile at rabbitmq.com
       </A><BR>
    <I>Thu Feb 16 13:12:26 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018197.html">[rabbitmq-discuss] Persisting Messages on a Direct Exchange, Selectively Looking for Particular Messages
</A></li>
        <LI>Next message: <A HREF="018185.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18201">[ date ]</a>
              <a href="thread.html#18201">[ thread ]</a>
              <a href="subject.html#18201">[ subject ]</a>
              <a href="author.html#18201">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jim,

On 16/02/12 12:08, McMahon, James S (TASC) wrote:
&gt;<i> Is there an example you can direct me towards that shows the Java
</I>&gt;<i> implementation to guarantee that messages are persisted by declaring
</I>&gt;<i> queues as durable and setting the delivery-mode to 2?
</I>
The com.rabbitmq.examples.StressPersister example in the Java client
exercises persistence in the broker and illustrates the steps necessary
to guarantee that messages are persisted.

&gt;<i> So assuming that I use my direct exchange to route messages to
</I>&gt;<i> appropriate queues, and my queues are declared as durable with
</I>&gt;<i> delivery-mode 2, then multiple consumers will see those messages on
</I>&gt;<i> that queue regardless of whether they were connected at the time the
</I>&gt;<i> message was published to that queue through the direct exchange?
</I>
No, persistence in this context means that the message is on durable
storage on the broker and recoverable in case the broker crashes.

If you want consumers to be able to retrieve messages that were
published in their absence then you must arrange for queues to be
declared and bound before publishing starts. It will take some
coordination between the consumers and the party that performs this
preliminary setup to ensure that consumers know the name of their queue.


-Emile
</PRE>


















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018197.html">[rabbitmq-discuss] Persisting Messages on a Direct Exchange, Selectively Looking for Particular Messages
</A></li>
	<LI>Next message: <A HREF="018185.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18201">[ date ]</a>
              <a href="thread.html#18201">[ thread ]</a>
              <a href="subject.html#18201">[ subject ]</a>
              <a href="author.html#18201">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
