<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Re trieving a message to the queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Re%20trieving%20a%20message%20to%20the%20queue&In-Reply-To=%3C9A11FD64-3B78-4E05-8491-073A995BA51B%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018272.html">
   <LINK REL="Next"  HREF="018321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Re trieving a message to the queue</H1>
    <B>Steve Powell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Re%20trieving%20a%20message%20to%20the%20queue&In-Reply-To=%3C9A11FD64-3B78-4E05-8491-073A995BA51B%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Re trieving a message to the queue">steve at rabbitmq.com
       </A><BR>
    <I>Tue Feb 21 18:16:21 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018272.html">[rabbitmq-discuss] Re trieving a message to the queue
</A></li>
        <LI>Next message: <A HREF="018321.html">[rabbitmq-discuss] Re trieving a message to the queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18319">[ date ]</a>
              <a href="thread.html#18319">[ thread ]</a>
              <a href="subject.html#18319">[ subject ]</a>
              <a href="author.html#18319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bamboula,

I have to make lots of assumptions here...

Assuming you are using the dot-net client, and the SharedQueue class (probably
behind a QueueingBasicConsumer), you have the ability to Enqueue(Object o) to
the SharedQueue, which puts it on the other end.

I wouldn't recommend it, though, since the QueueingBasicConsumer is Enqueueing
things there, too (in response to the Broker delivering messages), so you have
no control over what order the resulting queue is in.

In any case, the SharedQueue is entirely local to the client, and this action
doesn't involve RabbitMQ at all -- so the messages have no
delivery/ACK/NACK/order/persistence/redelivery guarantees at all. Plus, if you
try to ACK them twice (which you might the second time they reach the front of
the queue), you will get an error.

The way to resurrect a message in the RabbitMQ queue, is to NACK it with
requeue=true. RabbitMQ will then redeliver it. If you have already Acknowledged
it, you cannot get RabbitMQ to redeliver it and instead you need to re-publish the
message, or arrange for some other action to be taken.

If you choose to republish or simply get RabbitMQ to re-deliver be aware that
you should understand how this affects message-order in your application, and
have a strategy for preventing a 'slow-loop', whereby a so-called &quot;poison
message&quot; is requeued over and over again, indefinitely.

Steve Powell  (a loopy bunny)
----------some more definitions from the SPD----------
vermin (v.) Treating the dachshund for roundworm.
chinchilla (n.) Cooling device for the lower jaw.
socialcast (n.) Someone to whom everyone is speaking but nobody likes.

On 20 Feb 2012, at 14:39, Bamboula wrote:

&gt;<i> 
</I>&gt;<i> After using Dequeue() to my queue, I want to restore the retrieved message to
</I>&gt;<i> the queue. Is this possible?
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> View this message in context: <A HREF="http://old.nabble.com/Retrieving-a-message-to-the-queue-tp33357047p33357047.html">http://old.nabble.com/Retrieving-a-message-to-the-queue-tp33357047p33357047.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018272.html">[rabbitmq-discuss] Re trieving a message to the queue
</A></li>
	<LI>Next message: <A HREF="018321.html">[rabbitmq-discuss] Re trieving a message to the queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18319">[ date ]</a>
              <a href="thread.html#18319">[ thread ]</a>
              <a href="subject.html#18319">[ subject ]</a>
              <a href="author.html#18319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
