<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] &#31572;&#22797;:  Passive queue declaration and channel closure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%3D%3Fgb2312%3Fb%3FtPC4tDogIFBhc3NpdmUgcXVldWUgZGVj%3F%3D%0A%09%3D%3Fgb2312%3Fb%3FbGFyYXRpb24gYW5kIGNoYW5uZWwgY2xvc3VyZQ%3D%3D%3F%3D&In-Reply-To=%3CCAOn7oW_rgYW37zQZGqKCOoN8uW3FvkYCHCHRuiBgH8pa11NC4A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018418.html">
   <LINK REL="Next"  HREF="018434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] &#31572;&#22797;:  Passive queue declaration and channel closure</H1>
    <B>Simone Busoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%3D%3Fgb2312%3Fb%3FtPC4tDogIFBhc3NpdmUgcXVldWUgZGVj%3F%3D%0A%09%3D%3Fgb2312%3Fb%3FbGFyYXRpb24gYW5kIGNoYW5uZWwgY2xvc3VyZQ%3D%3D%3F%3D&In-Reply-To=%3CCAOn7oW_rgYW37zQZGqKCOoN8uW3FvkYCHCHRuiBgH8pa11NC4A%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] &#31572;&#22797;:  Passive queue declaration and channel closure">simone.busoli at gmail.com
       </A><BR>
    <I>Sat Feb 25 18:37:55 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018418.html">[rabbitmq-discuss]  &#31572;&#22797;:  Passive queue declaration and channel closure
</A></li>
        <LI>Next message: <A HREF="018434.html">[rabbitmq-discuss] &#31572;&#22797;:  Passive queue declaration and channel closure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18419">[ date ]</a>
              <a href="thread.html#18419">[ thread ]</a>
              <a href="subject.html#18419">[ subject ]</a>
              <a href="author.html#18419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David, I somewhat agree with you, lack of documentation about operational
aspects of broker behavior is something I have been missing as well. That
said it's usually not so difficult to overcome as it's fortunately quite
easy to explore the behavior of the broker under certain circumstances, and
it may take less than waiting for a reply on the mailing list!

On Sat, Feb 25, 2012 at 03:54, Liuzhuofu &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">liuzhuofu at huawei.com</A>&gt; wrote:

&gt;<i>  Hi all:
</I>&gt;<i>     I have met the problem too. I know how to change my client code to fix
</I>&gt;<i> it.
</I>&gt;<i>     And I have a question, problem or skill like this can only be found in
</I>&gt;<i> the mail-list, but there is no document describe them full-scale. In my
</I>&gt;<i> opinion, this is a big  difficulty for all the developers on Rabbit-MQ.
</I>&gt;<i>
</I>&gt;<i>  Regards,
</I>&gt;<i> David
</I>&gt;<i>  ------------------------------
</I>&gt;<i> *&#21457;&#20214;&#20154;:* <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] &#20195;&#34920; Simone Busoli [
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simone.busoli at gmail.com</A>]
</I>&gt;<i> *&#21457;&#36865;&#26102;&#38388;:* 2012&#24180;2&#26376;22&#26085; 5:18
</I>&gt;<i> *&#21040;:* Steve Powell
</I>&gt;<i> *Cc:* <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> *&#20027;&#39064;:* Re: [rabbitmq-discuss] Passive queue declaration and channel closure
</I>&gt;<i>
</I>&gt;<i>   Thanks Steve, that's pretty much what Simon had already clarified, and
</I>&gt;<i> I agreed that changing this behavior is not practical.
</I>&gt;<i> On Feb 21, 2012 2:24 PM, &quot;Steve Powell&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">steve at rabbitmq.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Simone,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Replies in-line below..
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I don't think this is likely to change in the near future, since it
</I>&gt;&gt;<i> would be disruptive to most clients that use this.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Steve Powell  (a happy bunny)
</I>&gt;&gt;<i> ----------some more definitions from the SPD----------
</I>&gt;&gt;<i> vermin (v.) Treating the dachshund for roundworm.
</I>&gt;&gt;<i> chinchilla (n.) Cooling device for the lower jaw.
</I>&gt;&gt;<i> socialcast (n.) Someone to whom everyone is speaking but nobody likes.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 16 Feb 2012, at 17:10, Busoli, Simone wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; Without relying on the management plugin I think the only way to do
</I>&gt;&gt;<i> that is to
</I>&gt;&gt;<i> &gt; declare the queue as passive. At least with the .NET client and
</I>&gt;&gt;<i> apparently the
</I>&gt;&gt;<i> &gt; Java client too, when the queue does not exist, besides throwing an
</I>&gt;&gt;<i> exception,
</I>&gt;&gt;<i> &gt; the channel is closed as well. From the spec:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; If set, the server will reply with Declare-Ok if the queue already
</I>&gt;&gt;<i> exists with
</I>&gt;&gt;<i> &gt; the same name, and raise an error if not. The client can use this to
</I>&gt;&gt;<i> check
</I>&gt;&gt;<i> &gt; whether a queue exists without modifying the server state.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The spec goes on to say:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  The client MAY ask the server to assert that a queue exists without
</I>&gt;&gt;<i> creating
</I>&gt;&gt;<i>  the queue if not. If the queue does not exist, the server treats this as
</I>&gt;&gt;<i> a
</I>&gt;&gt;<i>  failure. Error code: not-found
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; There is no mention of channel closure, while the last sentence implies
</I>&gt;&gt;<i> that
</I>&gt;&gt;<i> &gt; using the passive bit is indeed a way for a client to check queue
</I>&gt;&gt;<i> existence, so
</I>&gt;&gt;<i> &gt; closing the channel when it doesn&#8217;t is a bit unexpected. That said,
</I>&gt;&gt;<i> it&#8217;s not a
</I>&gt;&gt;<i> &gt; big deal to recreate the channel in such cases, but I&#8217;d appreciate your
</I>&gt;&gt;<i> opinion.
</I>&gt;&gt;<i> &gt; Any chance this behavior can be changed in the client libraries?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This is the mention of channel-closure -- an 'error' raised on the
</I>&gt;&gt;<i> channel will
</I>&gt;&gt;<i> close it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120225/b4345dff/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120225/b4345dff/attachment.htm</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018418.html">[rabbitmq-discuss]  &#31572;&#22797;:  Passive queue declaration and channel closure
</A></li>
	<LI>Next message: <A HREF="018434.html">[rabbitmq-discuss] &#31572;&#22797;:  Passive queue declaration and channel closure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18419">[ date ]</a>
              <a href="thread.html#18419">[ thread ]</a>
              <a href="subject.html#18419">[ subject ]</a>
              <a href="author.html#18419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
