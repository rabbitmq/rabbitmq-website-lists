<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Binding to multiple queues in a round-robin style using the PIKA library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Binding%20to%20multiple%20queues%20in%20a%20round-robin%0A%20style%20using%20the%20PIKA%20library&In-Reply-To=%3C4F2BCEBA.5000601%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017867.html">
   <LINK REL="Next"  HREF="017897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Binding to multiple queues in a round-robin style using the PIKA library</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Binding%20to%20multiple%20queues%20in%20a%20round-robin%0A%20style%20using%20the%20PIKA%20library&In-Reply-To=%3C4F2BCEBA.5000601%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Binding to multiple queues in a round-robin style using the PIKA library">emile at rabbitmq.com
       </A><BR>
    <I>Fri Feb  3 12:10:34 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017867.html">[rabbitmq-discuss] Binding to multiple queues in a round-robin	style using the PIKA library
</A></li>
        <LI>Next message: <A HREF="017897.html">[rabbitmq-discuss] Binding to multiple queues in a round-robin	style using the PIKA library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17892">[ date ]</a>
              <a href="thread.html#17892">[ thread ]</a>
              <a href="subject.html#17892">[ subject ]</a>
              <a href="author.html#17892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Stephen,

On 02/02/12 16:36, Stephen Young wrote:
&gt;<i> I'm working on a system that receives a variety of different message
</I>&gt;<i> types from different source queues, like the following:
</I>&gt;<i> 
</I>&gt;<i> client binds to Q1, Q2, Q3
</I>&gt;<i> server posts to Q2
</I>&gt;<i> client reads request and updates database. If something goes awry, the
</I>&gt;<i> client sends a basic_reject to requeue the request
</I>&gt;<i> 
</I>&gt;<i> however, this seems to cause some problems in that the client will see
</I>&gt;<i> a message in Q2, but need to have parsed a message in another queue
</I>&gt;<i> first. However the clients seem to keep polling the same queue until
</I>&gt;<i> success. Is there any better way to implement this system? Currently
</I>&gt;<i> I'm defeating the deadlock by having enough clients + some dedicated
</I>&gt;<i> clients on the bottleneck queues, but would prefer if each client
</I>&gt;<i> could run autonomously and read from queues in a pattern / priority of
</I>&gt;<i> some sort.
</I>
I'm reading your question as: How can I organise a workload with
multiple clients where some messages have dependencies on each other?

If possible publish all the information required to complete a task as a
single message.

Priorities can be emulated by using different queues, and consuming from
the queues designated as higher priority more often.

It's hard to give any further advice without more information about how
messages are intended to match up and how the parsing dependency works.
Perhaps you could offer more details.


-Emile
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017867.html">[rabbitmq-discuss] Binding to multiple queues in a round-robin	style using the PIKA library
</A></li>
	<LI>Next message: <A HREF="017897.html">[rabbitmq-discuss] Binding to multiple queues in a round-robin	style using the PIKA library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17892">[ date ]</a>
              <a href="thread.html#17892">[ thread ]</a>
              <a href="subject.html#17892">[ subject ]</a>
              <a href="author.html#17892">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
