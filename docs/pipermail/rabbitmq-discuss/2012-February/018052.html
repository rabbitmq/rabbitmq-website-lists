<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Pika cannot handle tcpkill command. 'NoneType' is not catched in Pika library - particularly in File &quot;/usr/local/lib/python2.7/dist-packages/pika-0.9.5-py2.7.egg/pika/adapters/base_connection.py&quot;, in function &quot;def _handle_error(self, error):&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pika%20cannot%20handle%20tcpkill%20command.%20%27NoneType%27%0A%20is%20not%20catched%20in%20Pika%20library%20-%20particularly%20in%20File%0A%20%22/usr/local/lib/python2.7/dist-packages/pika-0.9.5-py2.7.egg/pika/adapters/base_connection.py%22%2C%0A%20in%20function%20%22def%20_handle_error%28self%2C%20error%29%3A%22&In-Reply-To=%3C19725729.167.1328814749937.JavaMail.geo-discussion-forums%40pbqv10%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018067.html">
   <LINK REL="Next"  HREF="018054.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Pika cannot handle tcpkill command. 'NoneType' is not catched in Pika library - particularly in File &quot;/usr/local/lib/python2.7/dist-packages/pika-0.9.5-py2.7.egg/pika/adapters/base_connection.py&quot;, in function &quot;def _handle_error(self, error):&quot;</H1>
    <B>Loc Ngo</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pika%20cannot%20handle%20tcpkill%20command.%20%27NoneType%27%0A%20is%20not%20catched%20in%20Pika%20library%20-%20particularly%20in%20File%0A%20%22/usr/local/lib/python2.7/dist-packages/pika-0.9.5-py2.7.egg/pika/adapters/base_connection.py%22%2C%0A%20in%20function%20%22def%20_handle_error%28self%2C%20error%29%3A%22&In-Reply-To=%3C19725729.167.1328814749937.JavaMail.geo-discussion-forums%40pbqv10%3E"
       TITLE="[rabbitmq-discuss] Pika cannot handle tcpkill command. 'NoneType' is not catched in Pika library - particularly in File &quot;/usr/local/lib/python2.7/dist-packages/pika-0.9.5-py2.7.egg/pika/adapters/base_connection.py&quot;, in function &quot;def _handle_error(self, error):&quot;">lockonoko at gmail.com
       </A><BR>
    <I>Thu Feb  9 19:12:29 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018067.html">[rabbitmq-discuss] Installing rabbitmq server in silent mode
</A></li>
        <LI>Next message: <A HREF="018054.html">[rabbitmq-discuss] HA Documentation Error?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18052">[ date ]</a>
              <a href="thread.html#18052">[ thread ]</a>
              <a href="subject.html#18052">[ subject ]</a>
              <a href="author.html#18052">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I used tcpkill -i eth0 port **** to release the socket on client machine. 
The TCP connection from client to Rabbitmq server is killed. But inside 
calling function connection.ioloop.start() happens error. The lowest error 
tracking level is in def _handle_error(self, error) function of file 
&quot;base_connection.py&quot; in pika library. It cannot handle NULL value of 
variable error. So the program crashed unexpectedly.

I try to intervene the Pika library code by add some exceptions. Now it can 
handle the NULL exception and my program can create new socket to connect 
to RabbitMq server.

Because that solution requires changing library source code, I just want to 
know another solution without changing library source code to ensure the 
encapsulation.
Any suggestion about writing the rabbitmq connection on client to handle 
the tcpkill command.

I really appreciate your answers.
 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120209/d78cdbe2/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120209/d78cdbe2/attachment.htm</A>&gt;
</PRE>




























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018067.html">[rabbitmq-discuss] Installing rabbitmq server in silent mode
</A></li>
	<LI>Next message: <A HREF="018054.html">[rabbitmq-discuss] HA Documentation Error?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18052">[ date ]</a>
              <a href="thread.html#18052">[ thread ]</a>
              <a href="subject.html#18052">[ subject ]</a>
              <a href="author.html#18052">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
