<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Multi-threading in c/c++
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Multi-threading%20in%20c/c%2B%2B&In-Reply-To=%3CCAAt2poJbopKP7GDpXYo-qws5xH5FkK6BzBqwimx12yziCepVyA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018219.html">
   <LINK REL="Next"  HREF="018223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Multi-threading in c/c++</H1>
    <B>Alan Antonuk</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Multi-threading%20in%20c/c%2B%2B&In-Reply-To=%3CCAAt2poJbopKP7GDpXYo-qws5xH5FkK6BzBqwimx12yziCepVyA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Multi-threading in c/c++">alan.antonuk at gmail.com
       </A><BR>
    <I>Fri Feb 17 05:37:52 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018219.html">[rabbitmq-discuss] Multi-threading in c/c++
</A></li>
        <LI>Next message: <A HREF="018223.html">[rabbitmq-discuss] Multi-threading in c/c++
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18220">[ date ]</a>
              <a href="thread.html#18220">[ thread ]</a>
              <a href="subject.html#18220">[ subject ]</a>
              <a href="author.html#18220">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>AMQP as a spec, only really specifies how clients and brokers should talk
to each other, and the features that brokers should expose to clients.  It
leaves the programming API open to interpretation.  The rabbitmq-c library
exposes a pretty raw and low-level interface to AMQP.  It doesn't make any
effort to solve common messaging idioms (like RPC, or a multi-threaded
consumer), leaving that to the user of the library.

I hope to address this in a future version of the library, by making these
these a part of the API or providing a higher-level API that provides
solutions for these messaging patterns.

-Alan


On Thu, Feb 16, 2012 at 9:41 PM, Eric J. Holtman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">eric at holtmans.com</A>&gt; wrote:

&gt;<i> On 2/16/2012 7:27 PM, Alan Antonuk wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thats one way to do it.  Another would be to a have a &quot;connection thread&quot;
</I>&gt;<i> &gt; that would own the non-thread-safe objects, and would dispatch the
</I>&gt;<i> messages
</I>&gt;<i> &gt; to the worker threads.  It takes a bit more code to accomplish it but its
</I>&gt;<i>
</I>&gt;<i> ....
</I>&gt;<i>
</I>&gt;<i> &gt; As a self-less plug, if you're looking for a C++ wrapper - I'd encourage
</I>&gt;<i> &gt; you to checkout SimpleAmqpClient
</I>&gt;<i> <A HREF="https://github.com/alanxz/SimpleAmqpClient,">https://github.com/alanxz/SimpleAmqpClient,</A>
</I>&gt;<i> &gt; which is Yet Another rabbitmq-c wrapper.  It won't necessarily solve your
</I>&gt;<i> &gt; threading question though.
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i> Thanks, Alan!
</I>&gt;<i>
</I>&gt;<i> I guess after reading through a couple of books, I was assuming
</I>&gt;<i> that implementations of Rabbit (or AMQP) would make using multiple
</I>&gt;<i> channels across threads easier.
</I>&gt;<i>
</I>&gt;<i> However, I spent today glancing over the actual protocol spec,
</I>&gt;<i> and now I understand why rabittmq-c doesn't do that:  there's
</I>&gt;<i> just way too much state in each object.
</I>&gt;<i>
</I>&gt;<i> OK, I can live with it... I just wanted to be sure I wasn't
</I>&gt;<i> fundamentally misunderstanding something.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120217/a565c54e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120217/a565c54e/attachment.htm</A>&gt;
</PRE>


























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018219.html">[rabbitmq-discuss] Multi-threading in c/c++
</A></li>
	<LI>Next message: <A HREF="018223.html">[rabbitmq-discuss] Multi-threading in c/c++
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18220">[ date ]</a>
              <a href="thread.html#18220">[ thread ]</a>
              <a href="subject.html#18220">[ subject ]</a>
              <a href="author.html#18220">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
