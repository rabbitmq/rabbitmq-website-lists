<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] MQTT plugin, QoS 1, Android,	not consuming on reconnect
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20MQTT%20plugin%2C%20QoS%201%2C%20Android%2C%0A%09not%20consuming%20on%20reconnect&In-Reply-To=%3C1406315315443-36888.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037259.html">
   <LINK REL="Next"  HREF="037253.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] MQTT plugin, QoS 1, Android,	not consuming on reconnect</H1>
    <B>brydev</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20MQTT%20plugin%2C%20QoS%201%2C%20Android%2C%0A%09not%20consuming%20on%20reconnect&In-Reply-To=%3C1406315315443-36888.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] MQTT plugin, QoS 1, Android,	not consuming on reconnect">bcliffe at gmail.com
       </A><BR>
    <I>Fri Jul 25 20:08:35 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="037259.html">[rabbitmq-discuss] Memory leak in STOMP connector or federation?
</A></li>
        <LI>Next message: <A HREF="037253.html">[rabbitmq-discuss] MQTT plugin, QoS 1, Android, not consuming on reconnect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37251">[ date ]</a>
              <a href="thread.html#37251">[ thread ]</a>
              <a href="subject.html#37251">[ subject ]</a>
              <a href="author.html#37251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I've implemented a Paho MQTT service in Android which is currently unable to
consume unacked messages upon reconnect to the RabbitMQ broker with MQTT
plugin. If I force the callback when the connectivity changes, it will
consume the missed messages. 

Sometimes forcing the callback will not work and the messages remain unacked
on the broker. Due to the unusual behaviour of when the message consumes
from the queue makes the service unreliable. The messages are QoS 1.

Also upon reconnect the messages will arrive as normal to the device but the
missed ones never get re-queued.

The application is currently behaving fine when receiving messages from a
mosquitto broker so am I missing any implementation?

Is this a bug or is there a setting I have possible missed for consuming
messages from my topic.

 



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/MQTT-plugin-QoS-1-Android-not-consuming-on-reconnect-tp36888.html">http://rabbitmq.1065348.n5.nabble.com/MQTT-plugin-QoS-1-Android-not-consuming-on-reconnect-tp36888.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037259.html">[rabbitmq-discuss] Memory leak in STOMP connector or federation?
</A></li>
	<LI>Next message: <A HREF="037253.html">[rabbitmq-discuss] MQTT plugin, QoS 1, Android, not consuming on reconnect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37251">[ date ]</a>
              <a href="thread.html#37251">[ thread ]</a>
              <a href="subject.html#37251">[ subject ]</a>
              <a href="author.html#37251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
