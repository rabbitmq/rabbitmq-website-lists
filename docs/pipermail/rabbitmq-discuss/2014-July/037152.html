<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Reduce message latency
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Reduce%20message%20latency&In-Reply-To=%3C53BFAD05.6070707%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037149.html">
   <LINK REL="Next"  HREF="037157.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Reduce message latency</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Reduce%20message%20latency&In-Reply-To=%3C53BFAD05.6070707%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Reduce message latency">simon at rabbitmq.com
       </A><BR>
    <I>Fri Jul 11 10:23:17 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="037149.html">[rabbitmq-discuss] Reduce message latency
</A></li>
        <LI>Next message: <A HREF="037157.html">[rabbitmq-discuss] Routing via user id
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37152">[ date ]</a>
              <a href="thread.html#37152">[ thread ]</a>
              <a href="subject.html#37152">[ subject ]</a>
              <a href="author.html#37152">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/07/2014 2:49AM, Lost wrote:
&gt;<i> I found message avg latency is 40000~45000 microseconds, it need 40~45
</I>&gt;<i> milliseconds.
</I>&gt;<i> Is there any possible to reduce message latency?
</I>
Since you are not rate-limiting the producer, it's running as fast as it 
can. Therefore all the internal message buffers inside RabbitMQ fill up, 
and messages take longer to get through the broker.

You will find that if you reduce the message rate by 10-20% from the 
maximum using the PerfTest -r parameter (e.g. &quot;-r 14000&quot; or so), latency 
will drop considerably; I would expect latency of ~1ms to be acheivable 
(obviously dependent on network ping time and the underlying OS).

But note that RabbitMQ doesn't give latency *guarantees*.

This blog post talks a bit more on the subject (towards the end):

<A HREF="http://www.rabbitmq.com/blog/2012/04/17/rabbitmq-performance-measurements-part-1/">http://www.rabbitmq.com/blog/2012/04/17/rabbitmq-performance-measurements-part-1/</A>

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037149.html">[rabbitmq-discuss] Reduce message latency
</A></li>
	<LI>Next message: <A HREF="037157.html">[rabbitmq-discuss] Routing via user id
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37152">[ date ]</a>
              <a href="thread.html#37152">[ thread ]</a>
              <a href="subject.html#37152">[ subject ]</a>
              <a href="author.html#37152">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
