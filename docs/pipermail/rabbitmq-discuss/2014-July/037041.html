<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] custom exchange checking auth user
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20custom%20exchange%20checking%20auth%20user&In-Reply-To=%3C53B2E882.5090908%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037037.html">
   <LINK REL="Next"  HREF="037043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] custom exchange checking auth user</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20custom%20exchange%20checking%20auth%20user&In-Reply-To=%3C53B2E882.5090908%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] custom exchange checking auth user">simon at rabbitmq.com
       </A><BR>
    <I>Tue Jul  1 17:57:38 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="037037.html">[rabbitmq-discuss] custom exchange checking auth user
</A></li>
        <LI>Next message: <A HREF="037043.html">[rabbitmq-discuss] Centralizing the error messages.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37041">[ date ]</a>
              <a href="thread.html#37041">[ thread ]</a>
              <a href="subject.html#37041">[ subject ]</a>
              <a href="author.html#37041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/07/14 14:53, Dmitry Andrianov wrote:
&gt;<i> One more question: some time ago I was told that either custom exchange
</I>&gt;<i> or decorator will both serve for my purpose.
</I>&gt;<i> However while with exchange if I return empty list from route callback,
</I>&gt;<i> no routing happens, the same does not seem to work in decorator.
</I>&gt;<i> Reading Erlang in rabbit_exchange.erl is very hard for me so I can be
</I>&gt;<i> wrong but it looks like whatever decorator returns from route is only
</I>&gt;<i> appended to the list of destinations and decorator cannot override the
</I>&gt;<i> ones selected by exchange.
</I>
That's correct.

&gt;<i> Is it correct? What is the correct way to deny processing message in the
</I>&gt;<i> decorator?
</I>
You can't - I think at the point we said that we hadn't realised that 
was what you wanted to do.

The problem with allowing decorators to modify the existing routes as 
provided by the exchange is that it's not very obvious how to combine 
them when you have more than one decorator...

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037037.html">[rabbitmq-discuss] custom exchange checking auth user
</A></li>
	<LI>Next message: <A HREF="037043.html">[rabbitmq-discuss] Centralizing the error messages.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37041">[ date ]</a>
              <a href="thread.html#37041">[ thread ]</a>
              <a href="subject.html#37041">[ subject ]</a>
              <a href="author.html#37041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
