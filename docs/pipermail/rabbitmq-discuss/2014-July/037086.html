<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Changing file descriptor limit wihtout	restart?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Changing%20file%20descriptor%20limit%20wihtout%0A%09restart%3F&In-Reply-To=%3C53BA69F5.8010005%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037081.html">
   <LINK REL="Next"  HREF="037091.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Changing file descriptor limit wihtout	restart?</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Changing%20file%20descriptor%20limit%20wihtout%0A%09restart%3F&In-Reply-To=%3C53BA69F5.8010005%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Changing file descriptor limit wihtout	restart?">simon at rabbitmq.com
       </A><BR>
    <I>Mon Jul  7 10:35:49 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="037081.html">[rabbitmq-discuss] Changing file descriptor limit wihtout	restart?
</A></li>
        <LI>Next message: <A HREF="037091.html">[rabbitmq-discuss] rabbitmqctl start_app hangs when replacing mirrored cluster instances in EC2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37086">[ date ]</a>
              <a href="thread.html#37086">[ thread ]</a>
              <a href="subject.html#37086">[ subject ]</a>
              <a href="author.html#37086">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 06/07/2014 12:03AM, Jakov Sosic wrote:
&gt;<i> which brings us back to original question, is there a way to increase
</I>&gt;<i> the descriptor limit for running RabbitMQ server? Is there a way for
</I>&gt;<i> ERLang process to figure out limits have changed?
</I>
It's not Erlang, it's RabbitMQ. The problem is that the file handle 
cache (the component which manages file descriptors inside the broker) 
only checks the limit at startup.

But you can tell it the limit has changed with something like:

$ rabbitmqctl eval 'file_handle_cache:set_limit(4096).'

BIG FAT WARNING:

This number is not validated; it's taken entirely on trust. If you tell 
the FHC that it has a larger limit than the one the OS will enforce, you 
can run out of file descriptors and crash the server.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037081.html">[rabbitmq-discuss] Changing file descriptor limit wihtout	restart?
</A></li>
	<LI>Next message: <A HREF="037091.html">[rabbitmq-discuss] rabbitmqctl start_app hangs when replacing mirrored cluster instances in EC2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37086">[ date ]</a>
              <a href="thread.html#37086">[ thread ]</a>
              <a href="subject.html#37086">[ subject ]</a>
              <a href="author.html#37086">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
