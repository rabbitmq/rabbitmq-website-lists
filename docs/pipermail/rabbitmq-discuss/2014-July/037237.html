<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ SSL issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20SSL%20issue&In-Reply-To=%3C980BAC4805366740ABBFA255D60D36A134280E6D9F%40GSCMAMP16EX.firmwide.corp.gs.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037229.html">
   <LINK REL="Next"  HREF="037238.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ SSL issue</H1>
    <B>Ojha, Ashish</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20SSL%20issue&In-Reply-To=%3C980BAC4805366740ABBFA255D60D36A134280E6D9F%40GSCMAMP16EX.firmwide.corp.gs.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ SSL issue">Ashish.Ojha at gs.com
       </A><BR>
    <I>Tue Jul 22 13:25:41 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="037229.html">[rabbitmq-discuss] =?utf-8?Q?Help=EF=BC=8Cquestion_?=about =?utf-8?Q?rabbitmq+Haproxy=EF=BC=8Cclient_?=java
</A></li>
        <LI>Next message: <A HREF="037238.html">[rabbitmq-discuss] RabbitMQ SSL issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37237">[ date ]</a>
              <a href="thread.html#37237">[ thread ]</a>
              <a href="subject.html#37237">[ subject ]</a>
              <a href="author.html#37237">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Team,

I am having issues when I have fail_if_no_peer_cert set to &quot;true&quot; in the rabbitmq.config of the broker , I have the JAVA sample code and it always gives the below error ( It works fine when I have fail_if_no_peer_cert set to &quot;false&quot; )

Broker Error :

=INFO REPORT==== 22-Jul-2014::13:17:37 ===
accepting AMQP connection &lt;0.318.0&gt; (10.221.139.177:63560 -&gt; 10.238.104.147:27575)

=ERROR REPORT==== 22-Jul-2014::13:17:38 ===
SSL: certify: tls_connection.erl:509:Fatal error: handshake failure

=ERROR REPORT==== 22-Jul-2014::13:17:43 ===
error on AMQP connection &lt;0.318.0&gt;: {ssl_upgrade_error,{tls_alert,[104,97,110,100,115,104,97,107,101,32,102,97,105,108,117,114,101]}
}...


Java Exception :

Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure
       at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)
       at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)
       at com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1657)
       at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:932)
       at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1096)
       at com.sun.net.ssl.internal.ssl.SSLSocketImpl.writeRecord(SSLSocketImpl.java:623)
       at com.sun.net.ssl.internal.ssl.AppOutputStream.write(AppOutputStream.java:59)
       at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)
       at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)
       at java.io.DataOutputStream.flush(DataOutputStream.java:106)
       at com.rabbitmq.client.impl.SocketFrameHandler.sendHeader(SocketFrameHandler.java:129)
       at com.rabbitmq.client.impl.SocketFrameHandler.sendHeader(SocketFrameHandler.java:134)
       at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:276)
       at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:590)
       at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:612)
       at SSL_Listener.main(SSL_Listener.java:55)


The Goldman Sachs Group, Inc. All rights reserved.
See <A HREF="http://www.gs.com/disclaimer/global_email">http://www.gs.com/disclaimer/global_email</A> for important risk disclosures, conflicts of interest and other terms and conditions relating to this e-mail and your reliance on information contained in it.  This message may contain confidential or privileged information.  If you are not the intended recipient, please advise us immediately and delete this message.  See <A HREF="http://www.gs.com/disclaimer/email">http://www.gs.com/disclaimer/email</A> for further information on confidentiality and the risks of non-secure electronic communication.  If you cannot access these links, please notify us by reply message and we will send the contents to you.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140722/940149db/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140722/940149db/attachment.html</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037229.html">[rabbitmq-discuss] =?utf-8?Q?Help=EF=BC=8Cquestion_?=about =?utf-8?Q?rabbitmq+Haproxy=EF=BC=8Cclient_?=java
</A></li>
	<LI>Next message: <A HREF="037238.html">[rabbitmq-discuss] RabbitMQ SSL issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37237">[ date ]</a>
              <a href="thread.html#37237">[ thread ]</a>
              <a href="subject.html#37237">[ subject ]</a>
              <a href="author.html#37237">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
