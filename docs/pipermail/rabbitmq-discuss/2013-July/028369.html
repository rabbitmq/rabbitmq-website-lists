<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] load distribution among queue consumers and consumer_tag in non-exclusive mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20load%20distribution%20among%20queue%20consumers%20and%0A%20consumer_tag%20in%20non-exclusive%20mode&In-Reply-To=%3CCALQsBOWjdt18KENsvU%3DYEFm-YrRQhGBhGXG-w7gK%3Db7ZpriKug%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028366.html">
   <LINK REL="Next"  HREF="028370.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] load distribution among queue consumers and consumer_tag in non-exclusive mode</H1>
    <B>Ashok Anand</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20load%20distribution%20among%20queue%20consumers%20and%0A%20consumer_tag%20in%20non-exclusive%20mode&In-Reply-To=%3CCALQsBOWjdt18KENsvU%3DYEFm-YrRQhGBhGXG-w7gK%3Db7ZpriKug%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] load distribution among queue consumers and consumer_tag in non-exclusive mode">ashok.anand at gmail.com
       </A><BR>
    <I>Sun Jul  7 04:15:12 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028366.html">[rabbitmq-discuss] load distribution among queue consumers and	consumer_tag in non-exclusive mode
</A></li>
        <LI>Next message: <A HREF="028370.html">[rabbitmq-discuss] load distribution among queue consumers and	consumer_tag in non-exclusive mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28369">[ date ]</a>
              <a href="thread.html#28369">[ thread ]</a>
              <a href="subject.html#28369">[ subject ]</a>
              <a href="author.html#28369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I see. so tags does not affect delivery. If I have 4 channels reading from
same queue, messages will be distributed across 4 channels.

Another question I had, regarding reading multiple messages. Consider a
distributed WAN deployment situation, where consumer and rabbitmq broker
are 60 ms apart (RTT of 120 ms). If consumer can get only one message from
queue in one read, then it can only get 7-8 messages/second. We can use
multi-threading, but if there is support of reading multiple messages in
one read, that could improve the read rate even in WAN deployment and with
single thread - I was wondering if there is a support for such read or if
there is a plan..


On Sat, Jul 6, 2013 at 12:29 PM, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">watson.timothy at gmail.com</A>&gt;wrote:

&gt;<i> Tags uniquely identify consumers in a channel and are used in some methods
</I>&gt;<i> such as basic.cancel. They won't affect delivery and can be duplicated
</I>&gt;<i> across different channels. The server will also allocate them if you do not.
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i> Tim
</I>&gt;<i>
</I>&gt;<i> On 6 Jul 2013, at 06:16, Ashok Anand &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ashok.anand at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I am looking at message distribution among multiple consumers listening
</I>&gt;<i> to the same queue..   Should these consumers use different consumer tags?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I tried with non-exclusive access to the queue with 4 consumers using
</I>&gt;<i> same consumer tag. My question is whether using same consumer tag will give
</I>&gt;<i> predicted behavior - or I must use different consumer tags.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I did find that messages get distributed among 4 consumers in
</I>&gt;<i> round-robin manner even using same consumer tag.  Just wondering if this
</I>&gt;<i> happened by chance, and ideally, these consumers must use different
</I>&gt;<i> customer tags? I am not sure about semantics of consumer tags in
</I>&gt;<i> non-exclusive mode access..
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130707/744917fb/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130707/744917fb/attachment.htm</A>&gt;
</PRE>

























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028366.html">[rabbitmq-discuss] load distribution among queue consumers and	consumer_tag in non-exclusive mode
</A></li>
	<LI>Next message: <A HREF="028370.html">[rabbitmq-discuss] load distribution among queue consumers and	consumer_tag in non-exclusive mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28369">[ date ]</a>
              <a href="thread.html#28369">[ thread ]</a>
              <a href="subject.html#28369">[ subject ]</a>
              <a href="author.html#28369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
