<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ QUEUE MESSAGES
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20QUEUE%20MESSAGES&In-Reply-To=%3C66086506-DC45-484F-B109-8ABC87FD4A0F%40gopivotal.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028507.html">
   <LINK REL="Next"  HREF="028548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ QUEUE MESSAGES</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20QUEUE%20MESSAGES&In-Reply-To=%3C66086506-DC45-484F-B109-8ABC87FD4A0F%40gopivotal.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ QUEUE MESSAGES">mklishin at gopivotal.com
       </A><BR>
    <I>Thu Jul 11 16:40:46 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028507.html">[rabbitmq-discuss] RabbitMQ QUEUE MESSAGES
</A></li>
        <LI>Next message: <A HREF="028548.html">[rabbitmq-discuss] RabbitMQ QUEUE MESSAGES
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28510">[ date ]</a>
              <a href="thread.html#28510">[ thread ]</a>
              <a href="subject.html#28510">[ subject ]</a>
              <a href="author.html#28510">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>NuPogodi:

&gt;<i> Taking into account that correct queue implementation should be of O(1) time
</I>&gt;<i> complexity should the issues with RabbitMQ performance when queues grow
</I>&gt;<i> treated as a bug that will be fixed or as a &quot;feature&quot; that is not going to
</I>&gt;<i> be addressed because Rabbit focuses on efficient message routing and not
</I>&gt;<i> efficient queuing?
</I>
O(1) appends and other queue characteristics in CS literature do not take into account
the fact that your consumers can fall well behind your producers and RAM is a limited resource.
Both are purely operational issues.

In infrastructure tools such as RabbitMQ, they are very real. When a queue starts to grow,
RabbitMQ tries to be reasonably smart and move messages to disk.
In the default message index implementation there is some per message memory cost.

There is a plugin, rabbitmq toke, that uses Tokyo Cabinet for message index. Many installations,
however, operate perfectly fine with the default impl and the Tokyo Cabinet dependency complicates deployment, so it's not used by default.

It would not say it's fair to claim that RabbitMQ &quot;focuses on efficient routing and not efficient queueing&quot; because the issue is not of &quot;efficient queueing&quot; but balancing
performance difference of disk vs RAM in situations when a node is physically low on RAM.
If you are not low on RAM, you likely won't encounter any issues.

It's something that can be improved, but that's not entirely trivial to do well.
--
MK

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028507.html">[rabbitmq-discuss] RabbitMQ QUEUE MESSAGES
</A></li>
	<LI>Next message: <A HREF="028548.html">[rabbitmq-discuss] RabbitMQ QUEUE MESSAGES
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28510">[ date ]</a>
              <a href="thread.html#28510">[ thread ]</a>
              <a href="subject.html#28510">[ subject ]</a>
              <a href="author.html#28510">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
