<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] another performance question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20another%20performance%20question&In-Reply-To=%3C7F22F77A-7809-4322-8660-1B53F2103A9D%40echostar.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028641.html">
   <LINK REL="Next"  HREF="028644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] another performance question</H1>
    <B>Geib, Mark</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20another%20performance%20question&In-Reply-To=%3C7F22F77A-7809-4322-8660-1B53F2103A9D%40echostar.com%3E"
       TITLE="[rabbitmq-discuss] another performance question">Mark.Geib at echostar.com
       </A><BR>
    <I>Wed Jul 17 20:50:17 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028641.html">[rabbitmq-discuss] another performance question
</A></li>
        <LI>Next message: <A HREF="028644.html">[rabbitmq-discuss] another performance question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28643">[ date ]</a>
              <a href="thread.html#28643">[ thread ]</a>
              <a href="subject.html#28643">[ subject ]</a>
              <a href="author.html#28643">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mathias,

This is a debian wheezy box. I installed erlang from the debian repo, i.e. apt-get install erlang I think. Erlang is R15B01. We do have a number of rabbitmq installs on various boxes and different versions of erlang, etc. I have tried this at least three different boxes with similar results. On a beefy VM on new fast hardware I see about 23-25kHz compared to the 15kHz I reported to you. In all cases everything is running local, no lan network issues to consider. We generally run debian or ubuntu installs with very little if any changes. In all my testing this morning using your example command I never see anything close to what you reported. 25kHz is the absolute max I see on that shinny new VM.


The output from rabbitmqctl status is

Status of node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at geib-2950</A>' ...
[{pid,7926},
 {running_applications,
     [{rabbitmq_management,&quot;RabbitMQ Management Console&quot;,&quot;3.1.3&quot;},
      {rabbitmq_management_agent,&quot;RabbitMQ Management Agent&quot;,&quot;3.1.3&quot;},
      {rabbit,&quot;RabbitMQ&quot;,&quot;3.1.3&quot;},
      {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.9&quot;},
      {rabbitmq_web_dispatch,&quot;RabbitMQ Web Dispatcher&quot;,&quot;3.1.3&quot;},
      {webmachine,&quot;webmachine&quot;,&quot;1.9.1-rmq3.1.3-git52e62bc&quot;},
      {mochiweb,&quot;MochiMedia Web Server&quot;,&quot;2.3.1-rmq3.1.3-gitd541e9a&quot;},
      {xmerl,&quot;XML parser&quot;,&quot;1.3.1&quot;},
      {inets,&quot;INETS  CXC 138 49&quot;,&quot;5.9&quot;},
      {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.7&quot;},
      {amqp_client,&quot;RabbitMQ AMQP Client&quot;,&quot;3.1.0&quot;},
      {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.2.1&quot;},
      {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.18.1&quot;},
      {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.15.1&quot;}]},
 {os,{unix,linux}},
 {erlang_version,
     &quot;Erlang R15B01 (erts-5.9.1) [source] [64-bit] [smp:8:8] [async-threads:30] [kernel-poll:true]\n&quot;},
 {memory,
     [{total,38421704},
      {connection_procs,5408},
      {queue_procs,5408},
      {plugins,571680},
      {other_proc,11268840},
      {mnesia,60696},
      {mgmt_db,59384},
      {msg_index,605640},
      {other_ets,1213728},
      {binary,1413144},
      {code,18526191},
      {atom,703377},
      {other_system,3988208}]},
 {vm_memory_high_watermark,0.4},
 {vm_memory_limit,13524641382},
 {disk_free_limit,1000000000},
 {disk_free,1067746856960},
 {file_descriptors,
     [{total_limit,924},{total_used,3},{sockets_limit,829},{sockets_used,1}]},
 {processes,[{limit,1048576},{used,202}]},
 {run_queue,0},
 {uptime,7879}]
...done.

Mark Geib
Principal Engineer
Cheyenne Software Engineering
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mark.geib at echostar.com</A> / 35-215


&#8220;We, the unwilling, led by the unknowing, are doing the impossible for the ungrateful. We have done so much, for so long, with so little, we are now qualified to do anything with nothing.&#8221; 
&#8213; Mother Teresa


On Jul 17, 2013, at 1:40 PM, Matthias Radestock wrote:

&gt;<i> Mark,
</I>&gt;<i> 
</I>&gt;<i> On 17/07/13 16:07, Geib, Mark wrote:
</I>&gt;&gt;<i> I just ran the same, version 3.1.3 java client against my 3.1.1-1 broker.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> sh runjava.sh com.rabbitmq.examples.MulticastMain -y 0 -t topic -s 10000
</I>&gt;&gt;<i> starting producer #0
</I>&gt;&gt;<i> [...]
</I>&gt;&gt;<i> time: 15.017s, sent: 16091 msg/s
</I>&gt;<i> 
</I>&gt;<i> How did you install Erlang? And what version gets reported in 'rabbitmqctl status'?
</I>&gt;<i> 
</I>&gt;<i> TBH I suspect this is an O/S level issue. Have you got any rabbits running elsewhere that you can compare the performance with?
</I>&gt;<i> 
</I>&gt;<i> Matthias.
</I>&gt;<i> 
</I>
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028641.html">[rabbitmq-discuss] another performance question
</A></li>
	<LI>Next message: <A HREF="028644.html">[rabbitmq-discuss] another performance question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28643">[ date ]</a>
              <a href="thread.html#28643">[ thread ]</a>
              <a href="subject.html#28643">[ subject ]</a>
              <a href="author.html#28643">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
