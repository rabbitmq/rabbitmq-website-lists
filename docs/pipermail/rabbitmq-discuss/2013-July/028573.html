<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Postponed queues declaration problem after updating to latest version
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Postponed%20queues%20declaration%20problem%20after%0A%20updating%20to%20latest%20version&In-Reply-To=%3C51E2CA69.8010306%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028572.html">
   <LINK REL="Next"  HREF="028574.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Postponed queues declaration problem after updating to latest version</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Postponed%20queues%20declaration%20problem%20after%0A%20updating%20to%20latest%20version&In-Reply-To=%3C51E2CA69.8010306%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Postponed queues declaration problem after updating to latest version">matthias at rabbitmq.com
       </A><BR>
    <I>Sun Jul 14 16:57:29 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028572.html">[rabbitmq-discuss] Postponed queues declaration problem after updating to latest version
</A></li>
        <LI>Next message: <A HREF="028574.html">[rabbitmq-discuss] Error 10061 when using rabbitmqadmin to manage	rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28573">[ date ]</a>
              <a href="thread.html#28573">[ thread ]</a>
              <a href="subject.html#28573">[ subject ]</a>
              <a href="author.html#28573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Adam,

On 14/07/13 15:14, Adam Markovski wrote:
&gt;<i> Before updating to latest Rabbit version (3.1.3 release) for each queue
</I>&gt;<i> we were declaring postponed queue (for delayed messaged) using the
</I>&gt;<i> x-dead-letter-exchange and x-message-ttl attributes, binding with the
</I>&gt;<i> specific types needed.
</I>&gt;<i>
</I>&gt;<i> After the updating, I'm trying the same thing using the newest client
</I>&gt;<i> but without success. It is fine while defining the queue for the first
</I>&gt;<i> message type, but it fails for the second next, with the exception:
</I>&gt;<i>
</I>&gt;<i>     Exception occured starting the MQ Agent:
</I>&gt;<i>     RabbitMQ.Client.Exceptions.OperationIn
</I>&gt;<i>     terruptedException: The AMQP operation was interrupted: AMQP
</I>&gt;<i>     close-reason, initi
</I>&gt;<i>     ated by Peer, code=406, text=&quot;PRECONDITION_FAILED - inequivalent arg
</I>&gt;<i>     'x-dead-let
</I>&gt;<i>     ter-exchange'for queue 'emr-agent-queue_postponded' in vhost '/':
</I>&gt;<i>     received the v
</I>&gt;<i>     alue 'Common.Agent.Messages.MQ.FileRequest' of type 'longstr' but curr
</I>&gt;<i>     ent is the value 'Common.Agent.Messages.MQ...&quot;, classId=50, methodId=10
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Has anyone had similar problems?
</I>
I suspect you are attempting to declare the queue with different 
x-dead-letter-exchange values. Take a look at the server log since it 
will contain the full error message rather than the truncated version above.

iirc nothing has changed in the server or client recently regarding this 
behaviour.

Matthias.
</PRE>
























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028572.html">[rabbitmq-discuss] Postponed queues declaration problem after updating to latest version
</A></li>
	<LI>Next message: <A HREF="028574.html">[rabbitmq-discuss] Error 10061 when using rabbitmqadmin to manage	rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28573">[ date ]</a>
              <a href="thread.html#28573">[ thread ]</a>
              <a href="subject.html#28573">[ subject ]</a>
              <a href="author.html#28573">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
