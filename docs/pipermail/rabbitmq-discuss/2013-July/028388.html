<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] DOS protection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20DOS%20protection&In-Reply-To=%3C51DA9249.4060702%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028385.html">
   <LINK REL="Next"  HREF="028400.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] DOS protection</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20DOS%20protection&In-Reply-To=%3C51DA9249.4060702%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] DOS protection">matthias at rabbitmq.com
       </A><BR>
    <I>Mon Jul  8 11:19:53 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028385.html">[rabbitmq-discuss] DOS protection
</A></li>
        <LI>Next message: <A HREF="028400.html">[rabbitmq-discuss] DOS protection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28388">[ date ]</a>
              <a href="thread.html#28388">[ thread ]</a>
              <a href="subject.html#28388">[ subject ]</a>
              <a href="author.html#28388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/07/13 10:57, carlhoerberg wrote:
&gt;<i> Ok, is it something you would consider in the core? Today it's pretty
</I>&gt;<i> easy to crash a RabbitMQ server with a very small amount of traffic.
</I>
It's been on our todo list for a long time; I don't expect it will get 
resolved soon. As you may have guessed, figuring out what exactly to 
limit and when is quite tricky.

Would you mind explaining what you had in mind for &quot;monitor[ing] new 
channels/consumers/declarations in real-time and block (disconnect) if 
too many are made in a short amount of time?&quot;

Specifically...

- what entities do you want to monitor? You mention channels, consumers 
and declarations (presumably by that you mean exchanges, queues, and 
bindings). Any others?

- do you want to monitor rates (e.g. &quot;channels created per second&quot;) or 
totals (&quot;number of existing channels&quot;)? From your description (&quot;too many 
... in time&quot; it sounds like rates, but rates are more a proxy for CPU 
and network usage, whereas memory is a mostly a function of the totals.

- at what granularity would the limits (the &quot;too many&quot; part) be set? 
globally? per vhost? per user? per connection?

Note that the finer grained the limits the lower the limits need to be 
if you want to have a high chance of preventing undesirable behaviour 
globally, e.g. for per user limits you'd have to assume that every user 
connecting to a single rabbit will hit the limit along each of the 
dimensions - channels, consumers, exchanges, queues, etc.


Regards,

Matthias.

</PRE>






















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028385.html">[rabbitmq-discuss] DOS protection
</A></li>
	<LI>Next message: <A HREF="028400.html">[rabbitmq-discuss] DOS protection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28388">[ date ]</a>
              <a href="thread.html#28388">[ thread ]</a>
              <a href="subject.html#28388">[ subject ]</a>
              <a href="author.html#28388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
