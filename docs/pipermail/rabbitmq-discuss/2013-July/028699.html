<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Odd behavoiur with mcollective and RabbitMQ 3.1.3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Odd%20behavoiur%20with%20mcollective%20and%20RabbitMQ%0A%203.1.3&In-Reply-To=%3C51E91BE0.40206%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028693.html">
   <LINK REL="Next"  HREF="028700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Odd behavoiur with mcollective and RabbitMQ 3.1.3</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Odd%20behavoiur%20with%20mcollective%20and%20RabbitMQ%0A%203.1.3&In-Reply-To=%3C51E91BE0.40206%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Odd behavoiur with mcollective and RabbitMQ 3.1.3">emile at rabbitmq.com
       </A><BR>
    <I>Fri Jul 19 11:58:40 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028693.html">[rabbitmq-discuss] Odd behavoiur with mcollective and RabbitMQ 3.1.3
</A></li>
        <LI>Next message: <A HREF="028700.html">[rabbitmq-discuss] problem building Documentation - release 3.1.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28699">[ date ]</a>
              <a href="thread.html#28699">[ thread ]</a>
              <a href="subject.html#28699">[ subject ]</a>
              <a href="author.html#28699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Niclas,

Thanks for reporting this issue.

On 19/07/13 08:09, Niclas Meier wrote:

&gt;<i> Fortunately I found an &quot;old&quot; 3.0.1 Rabbit MQ installation on one of our
</I>&gt;<i> servers and on this version mcollecive works like before
</I>
Are you sure it actually used to work? After trying the same on RabbitMQ
3.0.1 I see on the STOMP port a SUBSCRIBE to
 /topic/mcollective.discovery.reply
and a SEND to
 /topic/mcollective.discovery.command
The topics don't match so no message is delivered.
The &quot;mco ping&quot; command returns :

---- ping statistics ----
No responses received

That doesn't look like it's working to me. Tested with mcollective 2.2.4
and stomp gem 1.2.10.


&gt;<i> Additionally I have stuff like this in the sasl log:
</I>&gt;<i> 
</I>&gt;<i> =SUPERVISOR REPORT==== 19-Jul-2013::07:57:23 ===
</I>&gt;<i>      Supervisor: {&lt;0.570.0&gt;,rabbit_stomp_client_sup}
</I>&gt;<i>      Context:    shutdown
</I>&gt;<i>      Reason:     reached_max_restart_intensity
</I>

I don't see this. I see the same STOMP dialogue and the same failure to
match SUBSCRIBE and SEND topics. Is there anything in the regular broker
log, or any errors before the one you quoted?

The only changes to the RabbitMQ STOMP adapter since 3.0.1 was to relax
the rules about header values containing colons, changes to the way
&quot;/reply-queue&quot; is prefixed when using temporary destinations, neither of
which is relevant.

If you think the STOMP adapter is in violation of the spec then can you
supply a network packet trace of the interaction that I can replay to
confirm?





-Emile





</PRE>


































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028693.html">[rabbitmq-discuss] Odd behavoiur with mcollective and RabbitMQ 3.1.3
</A></li>
	<LI>Next message: <A HREF="028700.html">[rabbitmq-discuss] problem building Documentation - release 3.1.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28699">[ date ]</a>
              <a href="thread.html#28699">[ thread ]</a>
              <a href="subject.html#28699">[ subject ]</a>
              <a href="author.html#28699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
