<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Push to back of Queue on NAck
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Push%20to%20back%20of%20Queue%20on%20NAck&In-Reply-To=%3C51F5343F.9020402%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028940.html">
   <LINK REL="Next"  HREF="028927.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Push to back of Queue on NAck</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Push%20to%20back%20of%20Queue%20on%20NAck&In-Reply-To=%3C51F5343F.9020402%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Push to back of Queue on NAck">matthias at rabbitmq.com
       </A><BR>
    <I>Sun Jul 28 16:09:51 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028940.html">[rabbitmq-discuss] Push to back of Queue on NAck
</A></li>
        <LI>Next message: <A HREF="028927.html">[rabbitmq-discuss] Starting rabbitmq-server: FAILED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28941">[ date ]</a>
              <a href="thread.html#28941">[ thread ]</a>
              <a href="subject.html#28941">[ subject ]</a>
              <a href="author.html#28941">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Stefan,

On 28/07/13 15:45, Stefan Kaes wrote:
&gt;<i> The size of the x-death header attached to the message grows linearly
</I>&gt;<i> with the number of dead lettering events.
</I>&gt;<i>
</I>&gt;<i> This is bad for performance, and in the worst case could crash rabbitmq
</I>&gt;<i> with an out of memory error, if for some reason a message gets rejected
</I>&gt;<i> a high number of times (or indefinitely).
</I>
Surely the TTL-induced delay will be high enough for this not to be a 
problem in practice. After all, the x-death header only takes up a few 
tens of bytes per entry.

Furthermore, surely you wouldn't want a message to get rejected 
indefinitely. At some point the app presumably will have to give up and 
either throw away the message or route it somewhere for manual 
intervention. The app can make that decision based on the length of the 
x-death header.

Matthias.
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028940.html">[rabbitmq-discuss] Push to back of Queue on NAck
</A></li>
	<LI>Next message: <A HREF="028927.html">[rabbitmq-discuss] Starting rabbitmq-server: FAILED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28941">[ date ]</a>
              <a href="thread.html#28941">[ thread ]</a>
              <a href="subject.html#28941">[ subject ]</a>
              <a href="author.html#28941">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
