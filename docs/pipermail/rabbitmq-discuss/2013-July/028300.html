<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Instable HA cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Instable%20HA%20cluster&In-Reply-To=%3Cf6f1a04c-82db-43c6-9d9d-da343f90c075%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028379.html">
   <LINK REL="Next"  HREF="028302.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Instable HA cluster</H1>
    <B>James Lewis</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Instable%20HA%20cluster&In-Reply-To=%3Cf6f1a04c-82db-43c6-9d9d-da343f90c075%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Instable HA cluster">james.lewis at 7digital.com
       </A><BR>
    <I>Wed Jul  3 12:18:52 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028379.html">[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange
</A></li>
        <LI>Next message: <A HREF="028302.html">[rabbitmq-discuss] Instable HA cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28300">[ date ]</a>
              <a href="thread.html#28300">[ thread ]</a>
              <a href="subject.html#28300">[ subject ]</a>
              <a href="author.html#28300">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, did you have any luck with this?  I'm just setting up a rabbit cluster 
for my team and I'm running into exactly the same problem.  What worries me 
is that the docs on clustering say that the network connection between 
nodes *must* be reliable - I was hoping that a 3 node cluster would 
continue running if the connection between 2 nodes dropped and then allow 
the dropped node to join back into the cluster when the connection came 
back up...?

Any help appreciated,
James



On Friday, January 25, 2013 9:52:30 AM UTC, Ben West wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I've been having lots of instability problems with a rabbit cluster I have 
</I>&gt;<i> set up.
</I>&gt;<i> Since deploying Rabbit MQ a few months ago we have experienced ongoing 
</I>&gt;<i> instability with the service.
</I>&gt;<i>
</I>&gt;<i> Our setup:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>    - RabbitMQ 3.0.1 running on Windows Azure VMs (Server 2012)
</I>&gt;<i>    - We have 2 VMs set up with a rabbit running on each and clustered 
</I>&gt;<i>    (with a HA policy), both running as disk nodes
</I>&gt;<i>    - Using EasyNetQ for producers consumers
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> When I first set up the cluster everything seems to be running well and 
</I>&gt;<i> can see through the Rabbit console the HA mirroring is all set up.
</I>&gt;<i>
</I>&gt;<i> However after a couple of days I will log into the console and find the 
</I>&gt;<i> cluster is broken, usually with one node saying &quot;Node not running&quot; and a 
</I>&gt;<i> number of the consumers have dropped off the queues. I then have to tear 
</I>&gt;<i> down the cluster and build it all up again - not a massive job, but I'm 
</I>&gt;<i> sure i shouldn't need to do this every week!
</I>&gt;<i>
</I>&gt;<i> At first I thought it may be due to Windows updates automatically 
</I>&gt;<i> restarting the server and possibly breaking the cluster, but have now 
</I>&gt;<i> turned these off and still get the same problem. I have also tried 
</I>&gt;<i> rebooting the servers one at a time to test this but the cluster seems to 
</I>&gt;<i> pick itself back up once the reboot has finished.
</I>&gt;<i>
</I>&gt;<i> I've done lots of reading online but cant seem to find too many 
</I>&gt;<i> suggestions so I hope someone here may be able to help.
</I>&gt;<i>
</I>&gt;<i> I'm more thank happy to provide logs if these may be useful?
</I>&gt;<i>
</I>&gt;<i> Any help will be grately appreciated!
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Ben
</I>&gt;<i>
</I>&gt;<i>  &lt;<A HREF="http://www.mopowered.co.uk">http://www.mopowered.co.uk</A>&gt;
</I>&gt;<i>
</I>
-- 
--
This email, including attachments, is private and confidential. If you have
received this email in error please notify the sender and delete it from
your system. Emails are not secure and may contain viruses. No liability
can be accepted for viruses that might be transferred by this email or any
attachment. Any unauthorised copying of this message or unauthorised
distribution and publication of the information contained herein are
prohibited. 7digital Limited. Registered office: 69 Wilson Street, London 
EC2A 2BB. Registered in
England and Wales. Registered No. 04843573.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130703/09230ae6/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130703/09230ae6/attachment-0001.htm</A>&gt;
</PRE>


















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028379.html">[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange
</A></li>
	<LI>Next message: <A HREF="028302.html">[rabbitmq-discuss] Instable HA cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28300">[ date ]</a>
              <a href="thread.html#28300">[ thread ]</a>
              <a href="subject.html#28300">[ subject ]</a>
              <a href="author.html#28300">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
