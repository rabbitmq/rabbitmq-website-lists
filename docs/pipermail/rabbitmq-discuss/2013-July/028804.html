<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Can RabbitMQ AMQP client communicate with	ActiveMQ AMQP transport?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%20RabbitMQ%20AMQP%20client%20communicate%20with%0A%09ActiveMQ%20AMQP%20transport%3F&In-Reply-To=%3C59ece5c8-4cc7-4834-a7f7-967fac728436%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028997.html">
   <LINK REL="Next"  HREF="028805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Can RabbitMQ AMQP client communicate with	ActiveMQ AMQP transport?</H1>
    <B>Troy Collinsworth</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%20RabbitMQ%20AMQP%20client%20communicate%20with%0A%09ActiveMQ%20AMQP%20transport%3F&In-Reply-To=%3C59ece5c8-4cc7-4834-a7f7-967fac728436%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Can RabbitMQ AMQP client communicate with	ActiveMQ AMQP transport?">troycollinsworth at gmail.com
       </A><BR>
    <I>Tue Jul 23 17:45:45 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028997.html">[rabbitmq-discuss] RabbitMQ hanging during 'rabbitmqctl stop' - please help
</A></li>
        <LI>Next message: <A HREF="028805.html">[rabbitmq-discuss] Can RabbitMQ AMQP client communicate with ActiveMQ AMQP transport?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28804">[ date ]</a>
              <a href="thread.html#28804">[ thread ]</a>
              <a href="subject.html#28804">[ subject ]</a>
              <a href="author.html#28804">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Trying to write a single client that can communicate with local AMQP 
servers and Windows Azure Service Bus.

The connection works fine to RabbitMQ server, but fails when connecting to 
ActiveMQ server. Should this work?

ActiveMQ config: &lt;transportConnector name=&quot;amqp&quot; uri=&quot;<A HREF="amqp://0.0.0.0:5672...">amqp://0.0.0.0:5672...</A>

    ConnectionFactory factory = new ConnectionFactory();
    factory.setUri(&quot;<A HREF="amqp://system/manager@localhost:5672&quot;">amqp://system/manager@localhost:5672&quot;</A>);
    Connection connection = factory.newConnection(); //throws the following 
exception

Exception in thread &quot;main&quot; java.io.IOException
at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:106)
at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:102)
at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:360)
at 
com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:516)
at 
com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:533)
at RabbitMQProducer.main(RabbitMQProducer.java:36)
Caused by: com.rabbitmq.client.ShutdownSignalException: connection error; 
reason: java.io.EOFException
at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:67)
at 
com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:33)
at 
com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:343)
at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:313)
... 3 more
Caused by: java.io.EOFException
at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:273)
at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:95)
at 
com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:131)
at 
com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:515)

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130723/762aa39c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130723/762aa39c/attachment.htm</A>&gt;
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028997.html">[rabbitmq-discuss] RabbitMQ hanging during 'rabbitmqctl stop' - please help
</A></li>
	<LI>Next message: <A HREF="028805.html">[rabbitmq-discuss] Can RabbitMQ AMQP client communicate with ActiveMQ AMQP transport?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28804">[ date ]</a>
              <a href="thread.html#28804">[ thread ]</a>
              <a href="subject.html#28804">[ subject ]</a>
              <a href="author.html#28804">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
