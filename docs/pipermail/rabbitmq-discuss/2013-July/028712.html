<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Best Practices on using Channels?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Best%20Practices%20on%20using%20Channels%3F&In-Reply-To=%3CCAKgmDnFo1WiN_27OHwN4oR_YfKACWCpiRWJqOC2RAuvW%2BevGtg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028710.html">
   <LINK REL="Next"  HREF="028768.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Best Practices on using Channels?</H1>
    <B>Laing, Michael</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Best%20Practices%20on%20using%20Channels%3F&In-Reply-To=%3CCAKgmDnFo1WiN_27OHwN4oR_YfKACWCpiRWJqOC2RAuvW%2BevGtg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Best Practices on using Channels?">michael.laing at nytimes.com
       </A><BR>
    <I>Fri Jul 19 22:19:24 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028710.html">[rabbitmq-discuss] Best Practices on using Channels?
</A></li>
        <LI>Next message: <A HREF="028768.html">[rabbitmq-discuss] Best Practices on using Channels?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28712">[ date ]</a>
              <a href="thread.html#28712">[ thread ]</a>
              <a href="subject.html#28712">[ subject ]</a>
              <a href="author.html#28712">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Fran&#231;ois,

I didn't see anyone else respond so I can tell you what we do.

There are lots of Quality of Service parameters set at the channel level.
Since we have a moderate and stable collection of long-lived
queues/exchanges, and long-lived connections for publishing/consuming, we
typically use a channel per, to allow flexibility re QoS.

One general rule is that a channel should be handled by only one thread. We
use asynch event loop processing so it is normally not an issue for us but
it may be for you.

For asynch RPC functionality we set up a reply_to queue and use the
correlation_id to disambiguate responses. Some people allocate a temporary
queue for this purpose - if you use that model, you would probably want the
temp queues in the same channel and they would then share the QoS
parameters.

Hope this helps,

Michael


On Fri, Jul 19, 2013 at 4:03 PM, Fran&#231;ois Beausoleil &lt;
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">francois.beausoleil at gmail.com</A>&gt; wrote:

&gt;<i> I'm currently using two connections to RabbitMQ: one for consumers, one
</I>&gt;<i> for publishers. This is to prevent throttling when the RabbitMQ instance
</I>&gt;<i> triggers it's memory alarm.
</I>&gt;<i>
</I>&gt;<i> What about using channels? One channel per connection, or one channel per
</I>&gt;<i> queue/exchange, or a mix? I realize this is similar to the green thread vs
</I>&gt;<i> os threads in managed VMs. Are there advantages of one over the other?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Fran&#231;ois Beausoleil
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130719/c8f19524/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130719/c8f19524/attachment.htm</A>&gt;
</PRE>


































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028710.html">[rabbitmq-discuss] Best Practices on using Channels?
</A></li>
	<LI>Next message: <A HREF="028768.html">[rabbitmq-discuss] Best Practices on using Channels?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28712">[ date ]</a>
              <a href="thread.html#28712">[ thread ]</a>
              <a href="subject.html#28712">[ subject ]</a>
              <a href="author.html#28712">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
