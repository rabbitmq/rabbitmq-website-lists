<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Consistent%20Hashing%20Exchange&In-Reply-To=%3C51457E09-260A-42CF-8062-CFCB818802EC%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028325.html">
   <LINK REL="Next"  HREF="028300.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Consistent%20Hashing%20Exchange&In-Reply-To=%3C51457E09-260A-42CF-8062-CFCB818802EC%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange">watson.timothy at gmail.com
       </A><BR>
    <I>Mon Jul  8 10:04:16 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028325.html">[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange
</A></li>
        <LI>Next message: <A HREF="028300.html">[rabbitmq-discuss] Instable HA cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28379">[ date ]</a>
              <a href="thread.html#28379">[ thread ]</a>
              <a href="subject.html#28379">[ subject ]</a>
              <a href="author.html#28379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>John,

This is very helpful, thanks.

On 4 Jul 2013, at 11:48, John Turner &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">john.turner at thoughtforge.net</A>&gt; wrote:

&gt;<i>  I'm very happy to help you with requirements here so if a call would help let me know and I'll set it up.
</I>&gt;<i> 
</I>
Possibly, though I'll wait until I've got specific questions before taking up too
much of your time. I've also got to be careful that I don't design the feature with only 1 use case in mind. :)

&gt;<i> Do you have a timeline for this feature?
</I>
Not really. We're still I'm the analysis/design phase ATM, though I hope to start cutting code this week. Ideally i'd like to get it into the next feature release but I can't commit to that and there's no official timeline on that release either. If you want a complete guess then I'd expect to see another feature release in the next couple of months, but that really is &quot;finger in the air&quot; and I'm not responsible for decision making about releases anyway.

&gt;<i> Do you want all future messages delivered to another random consumer? (Yes)
</I>
Good, that's what we had in mind too.

&gt;<i>  
</I>&gt;<i> What about un-acked messages that were already delivered - we plan on redelivering these (Agree) - and how do you plan on explicitly terminating a group? (This is not a requirement.  Groups should only be terminated by a connection closing either explicitly or due to failure)
</I>&gt;<i>  
</I>
We will probably add this for the initial release anyway, since most jms message group implementations do so - not that we're tied to what jms does, but it's a useful guideline.


&gt;<i> Would a special message (or header) given by the producer suit that purpose? (If people want this functionality I would suggest this is the best way.  
</I>
That seems to be the consensus among other group implementations too.

&gt;<i> You might also consider giving the consumer the ability to terminate a message group but we don't have a specific use case for this.  It might be something for future releases.)
</I>&gt;<i>  
</I>
I tend to agree. The consumer can already reject messages (or batches thereof) anyway, and can disconnect if its intention is to disassociate itself from the group.

I suspect that making the semantics of republication configurable (or policy driven) may improve this area, perhaps by supporting some kind of &quot;unit of work&quot; facility.

&gt;<i> Do you have consumers that want to recieve more than one group in parallel? (Absolutely)
</I>
Good to know. What ordering guarantees would you expect in that case?


&gt;<i> And what about producers that go away - do you close the group when they disconnect or keep it open indefinitely, or use a timeout? (I would keep it open indefinitely because multiple producers may be contributing messages to a single group.
</I>
Good point.

&gt;<i>  You have some challenges around clean up here though.  It could be reasonable to say that when all messages in a group have been processed that the group closes after a timeout.  When subsequent messages arrive the group is recreated.)
</I>
If the consumer wasn't notified about the group closure, that could make it difficult to reason about message ordering, especially if we wanted to support some kind of msg-group-seq-num or associate message seq num within a group.

Cheers,
Tim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130708/cce5a62d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130708/cce5a62d/attachment.htm</A>&gt;
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028325.html">[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange
</A></li>
	<LI>Next message: <A HREF="028300.html">[rabbitmq-discuss] Instable HA cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28379">[ date ]</a>
              <a href="thread.html#28379">[ thread ]</a>
              <a href="subject.html#28379">[ subject ]</a>
              <a href="author.html#28379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
