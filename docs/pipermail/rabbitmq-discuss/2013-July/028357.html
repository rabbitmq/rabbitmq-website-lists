<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Error when accessing management plugin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Error%20when%20accessing%20management%20plugin&In-Reply-To=%3C51D6F59B.2050108%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028339.html">
   <LINK REL="Next"  HREF="028361.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Error when accessing management plugin</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Error%20when%20accessing%20management%20plugin&In-Reply-To=%3C51D6F59B.2050108%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Error when accessing management plugin">simon at rabbitmq.com
       </A><BR>
    <I>Fri Jul  5 17:34:35 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028339.html">[rabbitmq-discuss] Error when accessing management plugin
</A></li>
        <LI>Next message: <A HREF="028361.html">[rabbitmq-discuss] Error when accessing management plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28357">[ date ]</a>
              <a href="thread.html#28357">[ thread ]</a>
              <a href="subject.html#28357">[ subject ]</a>
              <a href="author.html#28357">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That is definitely very odd.

The only explanation I can think of is that there is somehow another 
copy of Mochiweb (of a different version) in your Erlang code path. We 
have sometimes seen this happen when using buggy RPM or deb packages for 
Erlang programs which are not RabbitMQ; sometimes these packages make 
the mistake of installing into the Erlang OTP directory and thus being 
forcibly visible to every running Erlang application.

Does that sound like something that could be happening?

Cheers, Simon

On 05/07/2013 9:00AM, Martin Dimitrov wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> I get strange error when trying to access the management plugin HTTP
</I>&gt;<i> endpoint. The error is:
</I>&gt;<i>
</I>&gt;<i> Error 324 (net::ERR_EMPTY_RESPONSE): The server closed the connection
</I>&gt;<i> without sending any data.
</I>&gt;<i>
</I>&gt;<i> In the logs I see:
</I>&gt;<i>
</I>&gt;<i> =CRASH REPORT==== 12-Apr-2013::04:44:54 ===
</I>&gt;<i>    crasher:
</I>&gt;<i>      initial call: mochiweb_acceptor:init/3
</I>&gt;<i>      pid: &lt;0.274.0&gt;
</I>&gt;<i>      registered_name: []
</I>&gt;<i>      exception error: undefined function mochiweb_util:safe_relative_path/1
</I>&gt;<i>        in function  mochiweb_request:serve_file/4
</I>&gt;<i>        in call from mochiweb_http:headers/5
</I>&gt;<i>      ancestors: [rabbit_mochiweb_sup_15672,rabbit_mochiweb_sup,&lt;0.238.0&gt;]
</I>&gt;<i>      messages: []
</I>&gt;<i>      links: [&lt;0.261.0&gt;,#Port&lt;0.15975&gt;]
</I>&gt;<i>      dictionary: []
</I>&gt;<i>      trap_exit: false
</I>&gt;<i>      status: running
</I>&gt;<i>      heap_size: 4185
</I>&gt;<i>      stack_size: 27
</I>&gt;<i>      reductions: 1628
</I>&gt;<i>    neighbours:
</I>&gt;<i>
</I>&gt;<i> The version of RabbitMQ is 3.1.3 and here is a list of the enabled plugins:
</I>&gt;<i>
</I>&gt;<i> [e] amqp_client               3.1.3
</I>&gt;<i> [e] mochiweb                  2.3.1-rmq3.1.3-gitd541e9a
</I>&gt;<i> [E] rabbitmq_management       3.1.3
</I>&gt;<i> [e] rabbitmq_management_agent 3.1.3
</I>&gt;<i> [e] rabbitmq_web_dispatch     3.1.3
</I>&gt;<i> [e] webmachine                1.9.1-rmq3.1.3-git52e62bc
</I>&gt;<i>
</I>&gt;<i> Very strange because mochiweb_util:safe_relative_path/1 is present in
</I>&gt;<i> mochiweb_util module and the beam is inside the mochiweb package.
</I>&gt;<i>
</I>&gt;<i> Thank you very much for your time.
</I>&gt;<i>
</I>&gt;<i> Martin
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I></PRE>


















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028339.html">[rabbitmq-discuss] Error when accessing management plugin
</A></li>
	<LI>Next message: <A HREF="028361.html">[rabbitmq-discuss] Error when accessing management plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28357">[ date ]</a>
              <a href="thread.html#28357">[ thread ]</a>
              <a href="subject.html#28357">[ subject ]</a>
              <a href="author.html#28357">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
