<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ scalability design question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20scalability%20design%20question&In-Reply-To=%3CCAELUF_CjZBUh1jjALejofA4%2B5EUf%3DoymZ%3DNwe6co6nNsLg7RKg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028829.html">
   <LINK REL="Next"  HREF="028836.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ scalability design question</H1>
    <B>Flavio Pompermaier</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20scalability%20design%20question&In-Reply-To=%3CCAELUF_CjZBUh1jjALejofA4%2B5EUf%3DoymZ%3DNwe6co6nNsLg7RKg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ scalability design question">pompermaier at okkam.it
       </A><BR>
    <I>Wed Jul 24 10:52:37 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028829.html">[rabbitmq-discuss] RabbitMQ scalability design question
</A></li>
        <LI>Next message: <A HREF="028836.html">[rabbitmq-discuss] RabbitMQ scalability design question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28832">[ date ]</a>
              <a href="thread.html#28832">[ thread ]</a>
              <a href="subject.html#28832">[ subject ]</a>
              <a href="author.html#28832">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, I think you got the point..Unfortunately I'm not so expert of RabbitMQ
to fully understand how to integrate Redis or Zookeeper in RabbitMQ :(
I think my use case is an already encountered one, isn't it? is there some
reference to an already existing solution?
If not, could you please give me some more reference or hint about
implementing the solution you proposed?


On Wed, Jul 24, 2013 at 11:31 AM, Michael Klishin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt;wrote:

&gt;<i> Flavio Pompermaier:
</I>&gt;<i>
</I>&gt;<i> &gt; In my current implementation I use a single queue and a single
</I>&gt;<i> multi-threaded consumer (via Spring-AMQP) that allow me to achieve this
</I>&gt;<i> goal.
</I>&gt;<i> &gt; But, I'm not sure what's the best way of scaling..is there some RabbitMQ
</I>&gt;<i> mechanism that I can exploit?
</I>&gt;<i> &gt; Should I change my design?
</I>&gt;<i> &gt; Maybe I should create a dedicated exchange per source and add more
</I>&gt;<i> queues as the load grows..but here I still got problems when I receive this
</I>&gt;<i> end message..
</I>&gt;<i>
</I>&gt;<i> Indeed having a &quot;stop message&quot; implies message ordering. But it is also
</I>&gt;<i> the case with
</I>&gt;<i> multiple consumers per queue.
</I>&gt;<i>
</I>&gt;<i> So the issue really is how to coordinate consumers, regardless of how many
</I>&gt;<i> queues are
</I>&gt;<i> involved.
</I>&gt;<i>
</I>&gt;<i> Depending on the delay between one consumer receiving the stop message and
</I>&gt;<i> all consumers
</I>&gt;<i> stopping you can tolerate, you can either notify other consumers via a
</I>&gt;<i> separate group of
</I>&gt;<i> queues (lets call them &quot;control queues&quot;) or using a key/value store like
</I>&gt;<i> Redis, or a full blown
</I>&gt;<i> coordination system such as ZooKeeper.
</I>&gt;<i> --
</I>&gt;<i> MK
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130724/a9c3a87f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130724/a9c3a87f/attachment.htm</A>&gt;
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028829.html">[rabbitmq-discuss] RabbitMQ scalability design question
</A></li>
	<LI>Next message: <A HREF="028836.html">[rabbitmq-discuss] RabbitMQ scalability design question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28832">[ date ]</a>
              <a href="thread.html#28832">[ thread ]</a>
              <a href="subject.html#28832">[ subject ]</a>
              <a href="author.html#28832">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
