<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Consistent%20Hashing%20Exchange&In-Reply-To=%3C083be004-f514-46a8-a643-469d77ee387a%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028295.html">
   <LINK REL="Next"  HREF="028308.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange</H1>
    <B>John Turner</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Consistent%20Hashing%20Exchange&In-Reply-To=%3C083be004-f514-46a8-a643-469d77ee387a%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange">john.turner at thoughtforge.net
       </A><BR>
    <I>Wed Jul  3 11:57:39 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028295.html">[rabbitmq-discuss] Shunting messages from one queue to another
</A></li>
        <LI>Next message: <A HREF="028308.html">[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28305">[ date ]</a>
              <a href="thread.html#28305">[ thread ]</a>
              <a href="subject.html#28305">[ subject ]</a>
              <a href="author.html#28305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I'm very familiar with JMS and have used the GroupID extension to provide 
processing affinity to a single consumer.  For further information on how 
this works see this ActiveMQ 
documentation: <A HREF="http://activemq.apache.org/message-groups.html">http://activemq.apache.org/message-groups.html</A>

This solves the following requirement:

* Messages are distributed to a queue with a GroupID header.
* The broker guarantees that messages with a specific GroupID (say '1234') 
will only be processed by a single consumer.
* If the consumer fails (i.e. the connection is broken or closed), the 
broker will allow another consumer to process messages with that GroupID

Using RabbitMQ and the Consistent Hashing Plugin does not not appear to 
solve the problem because if we are using static (durable) queues, the 
consumer failover mechanism needs to be implemented outside the server. 
 Does anyone have any insight into this problem they could share?

An alternative would be to extend the queue to ensure apply the same 
consistent hashing mechanism to the actual queue rather than the broker. 
 Does anyone know if it si possible to extend the queue implementation? 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130703/6cbfc61c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130703/6cbfc61c/attachment.htm</A>&gt;
</PRE>













































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028295.html">[rabbitmq-discuss] Shunting messages from one queue to another
</A></li>
	<LI>Next message: <A HREF="028308.html">[rabbitmq-discuss] RabbitMQ Consistent Hashing Exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28305">[ date ]</a>
              <a href="thread.html#28305">[ thread ]</a>
              <a href="subject.html#28305">[ subject ]</a>
              <a href="author.html#28305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
