<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq-c confirmation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-c%20confirmation&In-Reply-To=%3CCAAt2poLRzNhbyT6jRAp95CSMPT%3DNLnCEss-ZieSvYQeH%2B93ihQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028413.html">
   <LINK REL="Next"  HREF="028416.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq-c confirmation</H1>
    <B>Alan Antonuk</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-c%20confirmation&In-Reply-To=%3CCAAt2poLRzNhbyT6jRAp95CSMPT%3DNLnCEss-ZieSvYQeH%2B93ihQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq-c confirmation">alan.antonuk at gmail.com
       </A><BR>
    <I>Tue Jul  9 08:29:24 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028413.html">[rabbitmq-discuss] rabbitmq-c confirmation
</A></li>
        <LI>Next message: <A HREF="028416.html">[rabbitmq-discuss] rabbitmq-c confirmation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28414">[ date ]</a>
              <a href="thread.html#28414">[ thread ]</a>
              <a href="subject.html#28414">[ subject ]</a>
              <a href="author.html#28414">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Not quite.

The result from amqp_basic_publish() means that the library was able to
successfully write the message to the network.  This does not mean that the
message was published successfully.

By default the broker will not send anything back to the client when it
publishes a message unless an error occurs (such as publishing to an
exchange that doesn't exist).

You need to use the code referenced earlier on the list in order to do
publisher confirms with rabbitmq-c.

On Mon, Jul 8, 2013 at 11:30 PM, 3k4b251 &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">314992959 at qq.com</A>&gt; wrote:

&gt;<i> I  usually   do  like  this:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  res  =  amqp_basic_publish(....);
</I>&gt;<i>
</I>&gt;<i> if(res &lt;0)
</I>&gt;<i> {
</I>&gt;<i>      //   Publish   faild
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> //Publish  Ok.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It   menns   message  already   pass to  queue  or  exchange ?
</I>&gt;<i>
</I>&gt;<i> if  not,  I  try  to  use  confirm  like you say .
</I>&gt;<i> I'd like  to  use   amqp_wait_simple_frame()  after  amqp_basic_publish();
</I>&gt;<i> But  it  seems  like  that  I  just  receive  the message body  header  and
</I>&gt;<i> others.   not   the  ack.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://rabbitmq.1065348.n5.nabble.com/rabbitmq-c-confirmation-tp27910p27916.html">http://rabbitmq.1065348.n5.nabble.com/rabbitmq-c-confirmation-tp27910p27916.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130709/f6725384/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130709/f6725384/attachment.htm</A>&gt;
</PRE>










































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028413.html">[rabbitmq-discuss] rabbitmq-c confirmation
</A></li>
	<LI>Next message: <A HREF="028416.html">[rabbitmq-discuss] rabbitmq-c confirmation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28414">[ date ]</a>
              <a href="thread.html#28414">[ thread ]</a>
              <a href="subject.html#28414">[ subject ]</a>
              <a href="author.html#28414">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
