<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Restarting/re-establising failed federation connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Restarting/re-establising%20failed%20federation%0A%20connections&In-Reply-To=%3C5007E44D.5090608%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021343.html">
   <LINK REL="Next"  HREF="021389.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Restarting/re-establising failed federation connections</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Restarting/re-establising%20failed%20federation%0A%20connections&In-Reply-To=%3C5007E44D.5090608%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Restarting/re-establising failed federation connections">matthias at rabbitmq.com
       </A><BR>
    <I>Thu Jul 19 11:41:17 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021343.html">[rabbitmq-discuss] Restarting/re-establising failed federation	connections
</A></li>
        <LI>Next message: <A HREF="021389.html">[rabbitmq-discuss] Restarting/re-establising failed federation connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21383">[ date ]</a>
              <a href="thread.html#21383">[ thread ]</a>
              <a href="subject.html#21383">[ subject ]</a>
              <a href="author.html#21383">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>David,

On 18/07/12 01:56, David Gillies wrote:
&gt;<i> I've posted up the logs from the downstream server from around the time
</I>&gt;<i> that one of the upstream servers lose connectivity and the downstream
</I>&gt;<i> server is never able to connect again here:
</I>&gt;<i> <A HREF="https://gist.github.com/85da45443b92e69e29a0">https://gist.github.com/85da45443b92e69e29a0</A>
</I>
Please use the correct terminology, it gets really confusing otherwise. 
In federation, messages flow from the upstream to the downstream (makes 
sense, doesn't it?), and connections are established from the downstream 
to the upstream.

Anyway, There is nothing unusual in the logs...the downstreams (using 
the correct terminology) lose connectivity and try to re-establish it. 
They *should* keep trying indefinitely. Is there any evidence that they 
don't?

There is nothing special about the way federation establishes 
connections, so if at some point you think that a downstream should be 
able to connect to the upstream but doesn't, then run an ordinary amqp 
client on the downstream machine and see whether it can connect to the 
upstream.

Regards,

Matthias.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021343.html">[rabbitmq-discuss] Restarting/re-establising failed federation	connections
</A></li>
	<LI>Next message: <A HREF="021389.html">[rabbitmq-discuss] Restarting/re-establising failed federation connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21383">[ date ]</a>
              <a href="thread.html#21383">[ thread ]</a>
              <a href="subject.html#21383">[ subject ]</a>
              <a href="author.html#21383">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
