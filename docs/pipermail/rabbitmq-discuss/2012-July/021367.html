<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Publisher Confirms in mirrored queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publisher%20Confirms%20in%20mirrored%20queues&In-Reply-To=%3C6092C8DC-E378-4CE1-8E53-F88315333F18%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021366.html">
   <LINK REL="Next"  HREF="021394.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Publisher Confirms in mirrored queues</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publisher%20Confirms%20in%20mirrored%20queues&In-Reply-To=%3C6092C8DC-E378-4CE1-8E53-F88315333F18%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Publisher Confirms in mirrored queues">watson.timothy at gmail.com
       </A><BR>
    <I>Wed Jul 18 21:52:33 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021366.html">[rabbitmq-discuss] Publisher Confirms in mirrored queues
</A></li>
        <LI>Next message: <A HREF="021394.html">[rabbitmq-discuss] Publisher Confirms in mirrored queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21367">[ date ]</a>
              <a href="thread.html#21367">[ thread ]</a>
              <a href="subject.html#21367">[ subject ]</a>
              <a href="author.html#21367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 18 Jul 2012, at 20:15, Prashanth &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">meetprashanth437 at gmail.com</A>&gt; wrote:

&gt;<i> Hi all,
</I>&gt;<i> 
</I>
Hi

&gt;<i> I was confused after reading the publisher confirm documentation.
</I>&gt;<i> 
</I>&gt;<i> Similarly, messages published by clients using publisher confirms will still be confirmed correctly even if the master (or any slaves) fail between the message being published and the message being able to be confirmed to the publisher. Thus from the point of view of the publisher, publishing to a mirrored-queue is no different from publishing to any other sort of queue. It is only consumers that need to be aware of the possibility of needing to re-consume from a mirrored-queue upon receipt of a Consumer Cancellation Notification.
</I>&gt;<i> 
</I>
So from the publisher's point of view, it looks like just one queue and the confirm means every surviving mirror has received and accepted the message.

&gt;<i> Equally, in the case of publisher confirms, a message will only be confirmed to the publisher when it has been accepted by all of the mirrors. It is correct to think of the semantics as being the same as a message being routed to multiple normal queues, and of a transaction with publications within that similarly are routed to multiple queues.
</I>&gt;<i> 
</I>&gt;<i> After reading the above lines. Now I am confused about the publisher confirms. The first paragraph says that publishing to mirrored queues is like publishing to each individual queue.
</I>
Where does it say that? It says that publishing to mirrored queues is atomic with respect to confirms.

&gt;<i> Messages are published to all the queues and each queue sends publisher confirms.
</I>
That's not what it says. It says that all queues will have the message before a confirm is sent to the publisher from the queue to which it originally published.

The publisher knows next to nothing about the mirrors.

&gt;<i> In the second paragraph it says a message will only be confirmed to the publisher when it has been accepted by all of the mirrors.
</I>&gt;<i> Those two paragraph looks like they say two opposite things.
</I>&gt;<i> 
</I>&gt;<i> Please, correct me if I am wrong.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Prashanth.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120718/03ae5de7/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120718/03ae5de7/attachment.htm</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021366.html">[rabbitmq-discuss] Publisher Confirms in mirrored queues
</A></li>
	<LI>Next message: <A HREF="021394.html">[rabbitmq-discuss] Publisher Confirms in mirrored queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21367">[ date ]</a>
              <a href="thread.html#21367">[ thread ]</a>
              <a href="subject.html#21367">[ subject ]</a>
              <a href="author.html#21367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
