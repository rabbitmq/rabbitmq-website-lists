<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] configuring rabbit-mq server to send back	a	publisher confirm after N messages.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20configuring%20rabbit-mq%20server%20to%20send%20back%0A%09a%09publisher%20confirm%20after%20N%20messages.&In-Reply-To=%3C87629diiwo.wl%25francesco%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021496.html">
   <LINK REL="Next"  HREF="021484.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] configuring rabbit-mq server to send back	a	publisher confirm after N messages.</H1>
    <B>Francesco Mazzoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20configuring%20rabbit-mq%20server%20to%20send%20back%0A%09a%09publisher%20confirm%20after%20N%20messages.&In-Reply-To=%3C87629diiwo.wl%25francesco%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] configuring rabbit-mq server to send back	a	publisher confirm after N messages.">francesco at rabbitmq.com
       </A><BR>
    <I>Tue Jul 24 10:54:15 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021496.html">[rabbitmq-discuss] configuring rabbit-mq server to send back a	publisher confirm after N messages.
</A></li>
        <LI>Next message: <A HREF="021484.html">[rabbitmq-discuss] Occasional slow message on a local machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21501">[ date ]</a>
              <a href="thread.html#21501">[ thread ]</a>
              <a href="subject.html#21501">[ subject ]</a>
              <a href="author.html#21501">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At Tue, 24 Jul 2012 10:17:27 +0100,
Francesco Mazzoli wrote:
&gt;<i> 
</I>&gt;<i> At Mon, 23 Jul 2012 12:11:37 -0700 (PDT),
</I>&gt;<i> rohit prasad wrote:
</I>&gt;<i> &gt; I am using Publisher-confirms.
</I>&gt;<i> &gt; Is there any way to tell Rabbit server to send a pub-confirm after N messages.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; If this is possible, then in my rabbit client , I can wait for a pub-confirm
</I>&gt;<i> &gt; after sending N messages, and be sure that Rabbit server will send me a
</I>&gt;<i> &gt; confirm (ack or nack) pretty soon.  Otherwise the waiting time for the
</I>&gt;<i> &gt; pub-confirm becomes kind of undeterministic, we keep waiting till Rabbit feels
</I>&gt;<i> &gt; like sending a confirmation. Is this configurable in any way? Or Do you
</I>&gt;<i> &gt; suggest some other way to reduce the wait time for publisher-confirm acks?
</I>&gt;<i> 
</I>&gt;<i> I'm not sure I understand what you are saying (especially the part about
</I>&gt;<i> determinism), [...]
</I>
It occurred to me that the comment on non-determinism might refer to the fact
that you don't have strong guarantees about the confirms (they might not reach
their target, they might arrive in bulk or not, etc.).

However, if your goal is to publish a series of messages and have the certainty
that they all reached the broker in that order, you can use AMQP transactions,
which provide you the tools to have that guarantees (and more).  However, be
aware that transactions will greatly decrease throughput. See
<A HREF="http://www.rabbitmq.com/amqp-0-9-1-reference.html#class.tx">http://www.rabbitmq.com/amqp-0-9-1-reference.html#class.tx</A> for more information.

--
Francesco * Often in error, never in doubt
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021496.html">[rabbitmq-discuss] configuring rabbit-mq server to send back a	publisher confirm after N messages.
</A></li>
	<LI>Next message: <A HREF="021484.html">[rabbitmq-discuss] Occasional slow message on a local machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21501">[ date ]</a>
              <a href="thread.html#21501">[ thread ]</a>
              <a href="subject.html#21501">[ subject ]</a>
              <a href="author.html#21501">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
