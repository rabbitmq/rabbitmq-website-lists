<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Frequent crashes on one cluster node but not the	other
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Frequent%20crashes%20on%20one%20cluster%20node%20but%20not%20the%0A%09other&In-Reply-To=%3C7C1B2836-6957-4410-B3E3-45A1C1A3D08B%40globalpersonals.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021413.html">
   <LINK REL="Next"  HREF="021424.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Frequent crashes on one cluster node but not the	other</H1>
    <B>Matthew Ward</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Frequent%20crashes%20on%20one%20cluster%20node%20but%20not%20the%0A%09other&In-Reply-To=%3C7C1B2836-6957-4410-B3E3-45A1C1A3D08B%40globalpersonals.co.uk%3E"
       TITLE="[rabbitmq-discuss] Frequent crashes on one cluster node but not the	other">mward at globalpersonals.co.uk
       </A><BR>
    <I>Fri Jul 20 10:29:20 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021413.html">[rabbitmq-discuss] Frequent crashes on one cluster node but not the	other
</A></li>
        <LI>Next message: <A HREF="021424.html">[rabbitmq-discuss] Frequent crashes on one cluster node but not the other
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21416">[ date ]</a>
              <a href="thread.html#21416">[ thread ]</a>
              <a href="subject.html#21416">[ subject ]</a>
              <a href="author.html#21416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've just brought a two-node RabbitMQ cluster online after updating it to RabbitMQ 2.8.2 and we're seeing an issue with the first node that was brought up where it seems to be constantly crashing (but not actually bringing RabbitMQ down, as it continues to function throughout) with the following repeating set of errors - just wondering if anyone can give a heads-up as to what the error message for the original crash indicates, and whether we can do anything to mitigate the child termination/shutdown?

=CRASH REPORT==== 20-Jul-2012::09:58:15 ===
  crasher:
    initial call: gen:init_it/6
    pid: &lt;0.29185.2&gt;
    registered_name: []
    exception exit: {function_clause,
                        [{rabbit_binary_parser,parse_field_value,
                             [&lt;&lt;&quot;\tlongitude&quot;&gt;&gt;],
                             []},
                         {rabbit_binary_parser,parse_table,1,[]},
                         {rabbit_binary_parser,parse_table,1,[]},
                         {rabbit_framing_amqp_0_9_1,decode_properties,2,[]},
                         {rabbit_binary_parser,ensure_content_decoded,1,[]},
                         {rabbit_channel,handle_method,3,[]},
                         {rabbit_channel,handle_cast,2,[]},
                         {gen_server2,handle_msg,2,[]}]}
      in function  gen_server2:terminate/3 
    ancestors: [&lt;0.29182.2&gt;,&lt;0.29180.2&gt;,&lt;0.29178.2&gt;,rabbit_tcp_client_sup,
                  rabbit_sup,&lt;0.201.0&gt;]
    messages: []
    links: [&lt;0.29182.2&gt;]
    dictionary: [{{credit_to,&lt;0.29181.2&gt;},49},
                  {{xtype_to_module,topic},rabbit_exchange_type_topic},
                  {permission_cache,[{{resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;event&quot;&gt;&gt;},
                                      write},
                                     {{resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;event&quot;&gt;&gt;},
                                      configure}]}]
    trap_exit: true
    status: running
    heap_size: 1597
    stack_size: 24
    reductions: 1189
  neighbours:

=SUPERVISOR REPORT==== 20-Jul-2012::09:58:15 ===
     Supervisor: {&lt;0.29182.2&gt;,rabbit_channel_sup}
     Context:    child_terminated
     Reason:     {function_clause,
                     [{rabbit_binary_parser,parse_field_value,
                          [&lt;&lt;&quot;\tlongitude&quot;&gt;&gt;],
                          []},
                      {rabbit_binary_parser,parse_table,1,[]},
                      {rabbit_binary_parser,parse_table,1,[]},
                      {rabbit_framing_amqp_0_9_1,decode_properties,2,[]},
                      {rabbit_binary_parser,ensure_content_decoded,1,[]},
                      {rabbit_channel,handle_method,3,[]},
                      {rabbit_channel,handle_cast,2,[]},
                      {gen_server2,handle_msg,2,[]}]}
     Offender:   [{pid,&lt;0.29185.2&gt;},
                  {name,channel},
                  {mfa,
                      {rabbit_channel,start_link,
                          [1,&lt;0.29181.2&gt;,&lt;0.29183.2&gt;,&lt;0.29181.2&gt;,
                           &quot;10.177.131.144:34764 -&gt; 192.168.1.56:5672&quot;,
                           rabbit_framing_amqp_0_9_1,
                           {user,&lt;&lt;&quot;wld&quot;&gt;&gt;,[],rabbit_auth_backend_internal,
                               {internal_user,&lt;&lt;&quot;wld&quot;&gt;&gt;,
                                   &lt;&lt;202,1,90,179,53,221,214,208,253,59,77,117,
                                     206,159,235,145,183,209,199,210&gt;&gt;,
                                   []}},
                           &lt;&lt;&quot;/&quot;&gt;&gt;,[],&lt;0.29179.2&gt;,
                           {token,&lt;0.29184.2&gt;,false}]}},
                  {restart_type,intrinsic},
                  {shutdown,4294967295},
                  {child_type,worker}]


=SUPERVISOR REPORT==== 20-Jul-2012::09:58:15 ===
     Supervisor: {&lt;0.29182.2&gt;,rabbit_channel_sup}
     Context:    shutdown
     Reason:     reached_max_restart_intensity
     Offender:   [{pid,&lt;0.29185.2&gt;},
                  {name,channel},
                  {mfa,
                      {rabbit_channel,start_link,
                          [1,&lt;0.29181.2&gt;,&lt;0.29183.2&gt;,&lt;0.29181.2&gt;,
                           &quot;10.177.131.144:34764 -&gt; 192.168.1.56:5672&quot;,
                           rabbit_framing_amqp_0_9_1,
                           {user,&lt;&lt;&quot;wld&quot;&gt;&gt;,[],rabbit_auth_backend_internal,
                               {internal_user,&lt;&lt;&quot;wld&quot;&gt;&gt;,
                                   &lt;&lt;202,1,90,179,53,221,214,208,253,59,77,117,
                                     206,159,235,145,183,209,199,210&gt;&gt;,
                                   []}},
                           &lt;&lt;&quot;/&quot;&gt;&gt;,[],&lt;0.29179.2&gt;,
                           {token,&lt;0.29184.2&gt;,false}]}},
                  {restart_type,intrinsic},
                  {shutdown,4294967295},
                  {child_type,worker}]


---
Matthew Ward
Operations Engineer
Global Personals Limited

Email: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mward at globalpersonals.co.uk</A>
Phone: +44 1753 757552 (x406)


-- 


Global Personals is a limited company registered in England and Wales.

Registered number: 04880697

Registered office: Minton Place, Victoria Street, Windsor, Berkshire, SL4 
1EG, United Kingdom
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120720/41a2e1dc/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120720/41a2e1dc/attachment.htm</A>&gt;
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021413.html">[rabbitmq-discuss] Frequent crashes on one cluster node but not the	other
</A></li>
	<LI>Next message: <A HREF="021424.html">[rabbitmq-discuss] Frequent crashes on one cluster node but not the other
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21416">[ date ]</a>
              <a href="thread.html#21416">[ thread ]</a>
              <a href="subject.html#21416">[ subject ]</a>
              <a href="author.html#21416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
