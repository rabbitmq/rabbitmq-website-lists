<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Cluster High CPU Usage 100-200%+
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Cluster%20High%20CPU%20Usage%20100-200%25%2B&In-Reply-To=%3CCAHv8OSTp%2BR11kXb6DCZnHD%2BGUt0t6CKDHW674j0Xpds66cJ1%3Dg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021168.html">
   <LINK REL="Next"  HREF="021175.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Cluster High CPU Usage 100-200%+</H1>
    <B>Wong Kam Hoong</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Cluster%20High%20CPU%20Usage%20100-200%25%2B&In-Reply-To=%3CCAHv8OSTp%2BR11kXb6DCZnHD%2BGUt0t6CKDHW674j0Xpds66cJ1%3Dg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Cluster High CPU Usage 100-200%+">wongkamhoong at gmail.com
       </A><BR>
    <I>Wed Jul 11 11:48:06 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021168.html">[rabbitmq-discuss] RabbitMQ Cluster High CPU Usage 100-200%+
</A></li>
        <LI>Next message: <A HREF="021175.html">[rabbitmq-discuss] RabbitMQ Cluster High CPU Usage 100-200%+
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21173">[ date ]</a>
              <a href="thread.html#21173">[ thread ]</a>
              <a href="subject.html#21173">[ subject ]</a>
              <a href="author.html#21173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm using rabbitmq 2.8.3

Regards,
Wong

On Wed, Jul 11, 2012 at 6:21 PM, Francesco Mazzoli
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">francesco at rabbitmq.com</A>&gt;wrote:

&gt;<i> At Wed, 11 Jul 2012 18:12:24 +0800,
</I>&gt;<i> Wong Kam Hoong wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Now i'm running RabbitMQ in 3 hosts in cluster mode, each Rabbit nodes
</I>&gt;<i> run in disc mode,
</I>&gt;<i> &gt; but I found that even there is no produce and consume operation going
</I>&gt;<i> on, the % cpu usage
</I>&gt;<i> &gt; remain very high especially on the master node.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Below are the TOP result captured in the hosts:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Master Node
</I>&gt;<i> &gt; PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
</I>&gt;<i> &gt; 13994 rabbitmq  25   0  206m 114m 2304 S 205.0  2.9 670:29.57 beam.smp
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 1st Slave
</I>&gt;<i> &gt; PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
</I>&gt;<i> &gt; 13775 rabbitmq  25   0  136m  49m 2252 S 60.7  1.3   7:02.15 beam.smp
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2nd Slave
</I>&gt;<i> &gt; PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
</I>&gt;<i> &gt; 23053 rabbitmq  25   0  135m  47m 2248 S  8.7  1.2   8:14.07 beam.smp
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Based on the result captured on the hosts the memory usage is OK, but
</I>&gt;<i> why the
</I>&gt;<i> &gt; %cpu usage can be so high? Is it due to my server configuration?
</I>&gt;<i>
</I>&gt;<i> What version of rabbit are you using? We fixed a couple of bugs that could
</I>&gt;<i> cause
</I>&gt;<i> things like this (I'm looking at you, gb_trees!).
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Francesco * Often in error, never in doubt
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120711/ee76fee6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120711/ee76fee6/attachment.htm</A>&gt;
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021168.html">[rabbitmq-discuss] RabbitMQ Cluster High CPU Usage 100-200%+
</A></li>
	<LI>Next message: <A HREF="021175.html">[rabbitmq-discuss] RabbitMQ Cluster High CPU Usage 100-200%+
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21173">[ date ]</a>
              <a href="thread.html#21173">[ thread ]</a>
              <a href="subject.html#21173">[ subject ]</a>
              <a href="author.html#21173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
