<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Auto delete messages in Queue after queue size reaches a certain number
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Auto%20delete%20messages%20in%20Queue%20after%20queue%0A%20size%20reaches%20a%20certain%20number&In-Reply-To=%3CSNT143-W2AE6BF8AE6D46028AA898BBEF0%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021057.html">
   <LINK REL="Next"  HREF="021066.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Auto delete messages in Queue after queue size reaches a certain number</H1>
    <B>Maurya M</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Auto%20delete%20messages%20in%20Queue%20after%20queue%0A%20size%20reaches%20a%20certain%20number&In-Reply-To=%3CSNT143-W2AE6BF8AE6D46028AA898BBEF0%40phx.gbl%3E"
       TITLE="[rabbitmq-discuss] Auto delete messages in Queue after queue size reaches a certain number">mauryam at live.in
       </A><BR>
    <I>Thu Jul  5 17:55:47 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021057.html">[rabbitmq-discuss] Auto delete messages in Queue after queue size reaches a certain number
</A></li>
        <LI>Next message: <A HREF="021066.html">[rabbitmq-discuss] Auto delete messages in Queue after queue size reaches a certain number
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21065">[ date ]</a>
              <a href="thread.html#21065">[ thread ]</a>
              <a href="subject.html#21065">[ subject ]</a>
              <a href="author.html#21065">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Matthias,
 Setting the &quot;ttl&quot; on the publisher queue does work fine when the consumer also declares the queue with 'ttl' (using Java client tested)

Is it necessary for declaring the consumer queue to hold the configuration of ttl? My requirement is to drop the published messages which are older than X secs. Is there are way to achieve this using a Java publisher and C++ consumer? Appreciate your response.

Thnx,
Maurya

&gt;<i> Date: Thu, 5 Jul 2012 09:34:45 +0100
</I>&gt;<i> From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>
</I>&gt;<i> To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> Subject: Re: [rabbitmq-discuss] Auto delete messages in Queue after queue size reaches a certain number
</I>&gt;<i> 
</I>&gt;<i> On 05/07/12 09:06, alvinRMQ wrote:
</I>&gt;<i> &gt; Is there a way for the rabbitMQ broker to automatically throw away messages
</I>&gt;<i> &gt; in a Queue if the number of messages is above a certain number?
</I>&gt;<i> 
</I>&gt;<i> The closest RabbitMQ has to that is per-queue message ttl. See 
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/extensions.html#queue-ttl.">http://www.rabbitmq.com/extensions.html#queue-ttl.</A> That is based on time 
</I>&gt;<i> rather than a count, which is arguably more useful - i.e. one can 
</I>&gt;<i> imagine that an app may not care about messages older than n seconds, 
</I>&gt;<i> whereas it is hard to conceive of an app that doesn't care about 
</I>&gt;<i> messages thrown away from the front (or back?) of the queue based on a 
</I>&gt;<i> count.
</I>&gt;<i> 
</I>&gt;<i> &gt; It is possible that a consumer may not be able to keep up with the
</I>&gt;<i> &gt; publisher, and cause the Rabbit Broker to slowly run out of disk space.
</I>&gt;<i> 
</I>&gt;<i> ...at which point rabbit will block the producers until the consumers 
</I>&gt;<i> have drained enough messages to clear the disk alarm.
</I>&gt;<i> 
</I>&gt;<i> Regards,
</I>&gt;<i> 
</I>&gt;<i> Matthias.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I> 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120705/1f1e3e5f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120705/1f1e3e5f/attachment.htm</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021057.html">[rabbitmq-discuss] Auto delete messages in Queue after queue size reaches a certain number
</A></li>
	<LI>Next message: <A HREF="021066.html">[rabbitmq-discuss] Auto delete messages in Queue after queue size reaches a certain number
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21065">[ date ]</a>
              <a href="thread.html#21065">[ thread ]</a>
              <a href="subject.html#21065">[ subject ]</a>
              <a href="author.html#21065">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
