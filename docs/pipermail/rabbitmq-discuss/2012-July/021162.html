<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] HA behavior during a network split
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20HA%20behavior%20during%20a%20network%20split&In-Reply-To=%3CCAFDmHdMA-7QCJLf%3DR3TjSorKf3R1EwnrEJvyj9RPsLPagCw4-w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021161.html">
   <LINK REL="Next"  HREF="021164.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] HA behavior during a network split</H1>
    <B>Elias Levy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20HA%20behavior%20during%20a%20network%20split&In-Reply-To=%3CCAFDmHdMA-7QCJLf%3DR3TjSorKf3R1EwnrEJvyj9RPsLPagCw4-w%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] HA behavior during a network split">fearsome.lucidity at gmail.com
       </A><BR>
    <I>Wed Jul 11 00:11:12 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021161.html">[rabbitmq-discuss] My cluter node (ram node) down in my performance test
</A></li>
        <LI>Next message: <A HREF="021164.html">[rabbitmq-discuss] HA behavior during a network split
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21162">[ date ]</a>
              <a href="thread.html#21162">[ thread ]</a>
              <a href="subject.html#21162">[ subject ]</a>
              <a href="author.html#21162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am curious as to what the behavior of HA queues during a network split
is.

The documentation states that when a mater fails a slave will be promoted
to master, but its silent under what conditions a slave will consider a
master to have failed.  Is there some timeout after which slaves will
consider a master to have failed?  If so, what is the time value?

Assuming that such timeout exists, if there is a network split you may end
up with two clusters, each one which now has a master.  Each may also have
publisher and consumers that continue to work happily against the split
cluster.

What happens when the network split is repaired?  Will the clusters join?
 If so, what will happen to the HA queue?  Will one of the existing master
be demoted to slave?  If so, what happens to its queue of messages that
originated within its split cluster?  Are they lost?

I suppose a lot of this depends on the underlaying Mnesia DB.
 I realize RMQ is CA system out the CAP theorem, but its not at all clear
what occurs in the face of a network partition.

Elias Levy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120710/1bd3a66a/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120710/1bd3a66a/attachment.htm</A>&gt;
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021161.html">[rabbitmq-discuss] My cluter node (ram node) down in my performance test
</A></li>
	<LI>Next message: <A HREF="021164.html">[rabbitmq-discuss] HA behavior during a network split
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21162">[ date ]</a>
              <a href="thread.html#21162">[ thread ]</a>
              <a href="subject.html#21162">[ subject ]</a>
              <a href="author.html#21162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
