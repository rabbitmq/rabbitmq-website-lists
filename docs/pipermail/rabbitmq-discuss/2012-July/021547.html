<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] One node in a cluster never fully starts up
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20One%20node%20in%20a%20cluster%20never%20fully%20starts%20up&In-Reply-To=%3C87fw8ebjq6.wl%25francesco%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021546.html">
   <LINK REL="Next"  HREF="021531.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] One node in a cluster never fully starts up</H1>
    <B>Francesco Mazzoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20One%20node%20in%20a%20cluster%20never%20fully%20starts%20up&In-Reply-To=%3C87fw8ebjq6.wl%25francesco%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] One node in a cluster never fully starts up">francesco at rabbitmq.com
       </A><BR>
    <I>Thu Jul 26 16:55:13 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021546.html">[rabbitmq-discuss] One node in a cluster never fully starts up
</A></li>
        <LI>Next message: <A HREF="021531.html">[rabbitmq-discuss] Posting a json body as payload using the http api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21547">[ date ]</a>
              <a href="thread.html#21547">[ thread ]</a>
              <a href="subject.html#21547">[ subject ]</a>
              <a href="author.html#21547">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At Thu, 26 Jul 2012 08:45:50 -0700,
Matt Pietrek wrote:
&gt;<i> 
</I>&gt;<i> Francesco,
</I>&gt;<i> 
</I>&gt;<i> Thanks for the quick reply. A couple of replies/questions:
</I>&gt;<i> 
</I>&gt;<i> If I'm understanding what you're saying, we should be starting up our brokers
</I>&gt;<i> sequentially. However, in my experience this hasn't worked. For instance,
</I>&gt;<i> we've seen mq1 stall in its startup, waiting for mq3 to start.  But mq3 can't
</I>&gt;<i> start (per the sequential logic) till mq1 finishes starting up. Per advice I
</I>&gt;<i> received from you previously (below) we've moved to async startup of the
</I>&gt;<i> brokers:
</I>&gt;<i> 
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2012-June/020689.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2012-June/020689.html</A>
</I>
Ah, I remember now!  Your problem is that you want to recover the nodes and you
don't know which is the last one going down, so some nodes stall.  And yes, in
that specific case I could not see any problems (and I still can't) with the
parallel startup *if you're not upgrading rabbit*.

That said, those mnesia messages are quite mysterious. Could you send the Rabbit
logs as well?

--
Francesco * Often in error, never in doubt
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021546.html">[rabbitmq-discuss] One node in a cluster never fully starts up
</A></li>
	<LI>Next message: <A HREF="021531.html">[rabbitmq-discuss] Posting a json body as payload using the http api
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21547">[ date ]</a>
              <a href="thread.html#21547">[ thread ]</a>
              <a href="subject.html#21547">[ subject ]</a>
              <a href="author.html#21547">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
