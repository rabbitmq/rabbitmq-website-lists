<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Preserving Order Across Multiple Consumers on a	Single Queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Preserving%20Order%20Across%20Multiple%20Consumers%20on%20a%0A%09Single%20Queue&In-Reply-To=%3C9e28af94-3e3e-46fa-8513-1a3dfb30ee12%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020934.html">
   <LINK REL="Next"  HREF="020972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Preserving Order Across Multiple Consumers on a	Single Queue</H1>
    <B>Charles Law</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Preserving%20Order%20Across%20Multiple%20Consumers%20on%20a%0A%09Single%20Queue&In-Reply-To=%3C9e28af94-3e3e-46fa-8513-1a3dfb30ee12%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Preserving Order Across Multiple Consumers on a	Single Queue">charles.law at openx.com
       </A><BR>
    <I>Sun Jul  1 17:42:15 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020934.html">[rabbitmq-discuss] Moving on
</A></li>
        <LI>Next message: <A HREF="020972.html">[rabbitmq-discuss] Preserving Order Across Multiple Consumers on a Single Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20935">[ date ]</a>
              <a href="thread.html#20935">[ thread ]</a>
              <a href="subject.html#20935">[ subject ]</a>
              <a href="author.html#20935">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We are setting up RabbitMQ to accept CRUD messages and talk to consumers 
that will directly interact with our databases (each account on our system 
has a dedicated database &amp; queue).  For a particular queue/database we 
would like to prevent collisions on items in the database.  Unless we parse 
our messages out, that would mean that RabbitMQ would need to preserve 
message order on a queue.

Ideally we want multiple consumers, with each consumer subscribed to 
multiple queues.  And if possible, at any point in time, each queue would 
only have 1 message being processed by our set of consumers.  We'd only 
send another message from a queue out to our consumers after getting an 
acknowledgement back that the current one is done.  We'll have multiple 
queues, so across the different queues message order doesn't matter.

We did consider using an exclusive queues, but we want to balance our loads 
so if 1 account/queue is very active, it is spread across all our consumers.

Can we set this up fairly easily with RabbitMQ?  Or use a different setup 
to accomplish the same goal?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120701/edc81ca6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120701/edc81ca6/attachment.htm</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020934.html">[rabbitmq-discuss] Moving on
</A></li>
	<LI>Next message: <A HREF="020972.html">[rabbitmq-discuss] Preserving Order Across Multiple Consumers on a Single Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20935">[ date ]</a>
              <a href="thread.html#20935">[ thread ]</a>
              <a href="subject.html#20935">[ subject ]</a>
              <a href="author.html#20935">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
