<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] pika 0.9.5 - trouble closing a connection?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20pika%200.9.5%20-%20trouble%20closing%20a%20connection%3F&In-Reply-To=%3C389D706C-6F41-42DB-9E3D-AD017FFAAABD%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021013.html">
   <LINK REL="Next"  HREF="021019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] pika 0.9.5 - trouble closing a connection?</H1>
    <B>Ask Solem</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20pika%200.9.5%20-%20trouble%20closing%20a%20connection%3F&In-Reply-To=%3C389D706C-6F41-42DB-9E3D-AD017FFAAABD%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] pika 0.9.5 - trouble closing a connection?">ask at rabbitmq.com
       </A><BR>
    <I>Tue Jul  3 10:58:32 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021013.html">[rabbitmq-discuss] [announcement] amqp gem 0.9.7 is released
</A></li>
        <LI>Next message: <A HREF="021019.html">[rabbitmq-discuss] Shovel configuration for a clustered broker with mirrored high-availability queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21016">[ date ]</a>
              <a href="thread.html#21016">[ thread ]</a>
              <a href="subject.html#21016">[ subject ]</a>
              <a href="author.html#21016">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 29 Jun 2012, at 20:07, Gavin M. Roy wrote:

&gt;<i> IIRC channels in _channels are not removed until Channel.CloseOk is received from Rabbit, even if you asked for a Channel.Close.
</I>&gt;<i> 
</I>
That makes sense.

If this keeps the objects alive creating a leak, then you could
add a timeout to the connection.close, so that if the server doesn't respond within
10 seconds for example, you clean up the channels yourself.

Or maybe you can do that directly too, but I'm not sure how important it is to get
the close ok reply back.

</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021013.html">[rabbitmq-discuss] [announcement] amqp gem 0.9.7 is released
</A></li>
	<LI>Next message: <A HREF="021019.html">[rabbitmq-discuss] Shovel configuration for a clustered broker with mirrored high-availability queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21016">[ date ]</a>
              <a href="thread.html#21016">[ thread ]</a>
              <a href="subject.html#21016">[ subject ]</a>
              <a href="author.html#21016">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
