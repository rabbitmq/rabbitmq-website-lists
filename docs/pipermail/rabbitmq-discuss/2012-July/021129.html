<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Envelop redeliver question ( clustering ha	redelivery question)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Envelop%20redeliver%20question%20%28%20clustering%20ha%0A%09redelivery%20question%29&In-Reply-To=%3CD89A6D05-D388-4615-9BAC-23565316FB62%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021120.html">
   <LINK REL="Next"  HREF="021133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Envelop redeliver question ( clustering ha	redelivery question)</H1>
    <B>Vikas</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Envelop%20redeliver%20question%20%28%20clustering%20ha%0A%09redelivery%20question%29&In-Reply-To=%3CD89A6D05-D388-4615-9BAC-23565316FB62%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] Envelop redeliver question ( clustering ha	redelivery question)">mvikasetc at gmail.com
       </A><BR>
    <I>Mon Jul  9 12:58:45 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021120.html">[rabbitmq-discuss] Envelop redeliver question ( clustering ha redelivery question)
</A></li>
        <LI>Next message: <A HREF="021133.html">[rabbitmq-discuss] Envelop redeliver question ( clustering ha redelivery question)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21129">[ date ]</a>
              <a href="thread.html#21129">[ thread ]</a>
              <a href="subject.html#21129">[ subject ]</a>
              <a href="author.html#21129">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Emile ,

Thanks for your reply . I've set QoS prefetch count set to one.

The problem is observed in only one scenario 

Node1 and Node2 are running in cluster ha
Stop Node2
Start Node2
Restart Consumer
All old messages are received with redeliver as true .


Regards
Vikas

Sent from my iPhone

On Jul 9, 2012, at 5:27 AM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:

&gt;<i> Hi Vikas,
</I>&gt;<i> 
</I>&gt;<i> On 08/07/12 20:32, Vikas wrote:
</I>&gt;&gt;<i> Why the redelivery value is true when the messages were not even
</I>&gt;&gt;<i> attempted to ack by consumer.
</I>&gt;<i> 
</I>&gt;<i> If you want limit consumers to only one unacknowledged message at a time
</I>&gt;<i> then set the QoS prefetch count to 1:
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/amqp-0-9-1-reference.html#basic.qos.prefetch-count">http://www.rabbitmq.com/amqp-0-9-1-reference.html#basic.qos.prefetch-count</A>
</I>&gt;<i> 
</I>&gt;<i> If the prefetch count is not limited then more than one message will
</I>&gt;<i> potentially have the redelivered flag set after a connection interruption.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -Emile
</I>&gt;<i> 
</I></PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021120.html">[rabbitmq-discuss] Envelop redeliver question ( clustering ha redelivery question)
</A></li>
	<LI>Next message: <A HREF="021133.html">[rabbitmq-discuss] Envelop redeliver question ( clustering ha redelivery question)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21129">[ date ]</a>
              <a href="thread.html#21129">[ thread ]</a>
              <a href="subject.html#21129">[ subject ]</a>
              <a href="author.html#21129">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
