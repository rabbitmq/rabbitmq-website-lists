<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Disconnecting vs failure of a disk node and	reconnecting a new one...?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disconnecting%20vs%20failure%20of%20a%20disk%20node%20and%0A%09reconnecting%20a%20new%20one...%3F&In-Reply-To=%3C87wr2fbyti.wl%25francesco%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021087.html">
   <LINK REL="Next"  HREF="021059.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Disconnecting vs failure of a disk node and	reconnecting a new one...?</H1>
    <B>Francesco Mazzoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disconnecting%20vs%20failure%20of%20a%20disk%20node%20and%0A%09reconnecting%20a%20new%20one...%3F&In-Reply-To=%3C87wr2fbyti.wl%25francesco%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Disconnecting vs failure of a disk node and	reconnecting a new one...?">francesco at rabbitmq.com
       </A><BR>
    <I>Sat Jul  7 12:22:33 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021087.html">[rabbitmq-discuss] Disconnecting vs failure of a disk node and reconnecting a new one...?
</A></li>
        <LI>Next message: <A HREF="021059.html">[rabbitmq-discuss] Problems installing LVC exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21096">[ date ]</a>
              <a href="thread.html#21096">[ thread ]</a>
              <a href="subject.html#21096">[ subject ]</a>
              <a href="author.html#21096">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Navigateur,
At Fri, 6 Jul 2012 14:13:32 -0700 (PDT),
Navigateur  wrote:
&gt;<i> Hi Francesco, thanks for your answer (howcome it isn't showing up in this
</I>&gt;<i> google group)?
</I>
Sadly Google groups does not do 2-way mirroring of mailing lists - you can't
reply to the Google groups address. We advise to avoid the Google groups
interface anyway, since it is unreliable and outside our control.

&gt;<i> Can you give me an example of a durable resource creation/deletion operation
</I>&gt;<i> that would benefit from a RAM node (so that I know what that means)?
</I>
Creating a queue/exchange/queue binding/vhost, stuff like that.

&gt;<i> If I do have a lot of these, then would I benefit from using the 3rd
</I>&gt;<i> (non-wep-app) machine as a RAM node, along with the 2 (relevant web app
</I>&gt;<i> containing) disc nodes?
</I>
I really can't predict this (and I don't have much experience in the difference
of performance between RAM and disc). The only reliable way for you to know is
to set up a test environment and measure.

&gt;<i> Also, how do I approximately calculate the maximum disk space the disc nodes
</I>&gt;<i> may possibly need in the very worst case scenario, say when there are 1 Mb/s
</I>&gt;<i> of messages?
</I>
I'm not sure what you are asking here - the maximum disc space needed will be
roughly the size of the messages that are being persisted. The maximum *number*
(not size) of messages that can be persisted is tied to memory anyway - there is
a 160 bytes overhead for each message persisted, which gives you &gt; 26 million
messages with 4GB in memory. If that's not good enough, you can get around that
by using the `toke' plugin, which uses tokyocabinet as a message store.

Just to throw some additional information in that you might need, the
`vm_memory_high_watermark' and `disc_free_limit' environmental variables
regulate respectively the limit after which messages start to be persisted to
disc, and the amount of disc space that rabbit can use before starting to block
producers connections. See <A HREF="http://www.rabbitmq.com/configure.html">http://www.rabbitmq.com/configure.html</A> for more info
on configuring rabbit.

--
Francesco * Often in error, never in doubt
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021087.html">[rabbitmq-discuss] Disconnecting vs failure of a disk node and reconnecting a new one...?
</A></li>
	<LI>Next message: <A HREF="021059.html">[rabbitmq-discuss] Problems installing LVC exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21096">[ date ]</a>
              <a href="thread.html#21096">[ thread ]</a>
              <a href="subject.html#21096">[ subject ]</a>
              <a href="author.html#21096">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
