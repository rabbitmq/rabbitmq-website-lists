<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Decoding header fields
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Decoding%20header%20fields&In-Reply-To=%3C00c401cd6b25%24e3ec0430%24abc40c90%24%40saseco.dk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021539.html">
   <LINK REL="Next"  HREF="021541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Decoding header fields</H1>
    <B>Bernhard Mogens Ege</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Decoding%20header%20fields&In-Reply-To=%3C00c401cd6b25%24e3ec0430%24abc40c90%24%40saseco.dk%3E"
       TITLE="[rabbitmq-discuss] Decoding header fields">bme at saseco.dk
       </A><BR>
    <I>Thu Jul 26 12:57:49 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021539.html">[rabbitmq-discuss] Decoding header fields
</A></li>
        <LI>Next message: <A HREF="021541.html">[rabbitmq-discuss] Decoding header fields
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21540">[ date ]</a>
              <a href="thread.html#21540">[ thread ]</a>
              <a href="subject.html#21540">[ subject ]</a>
              <a href="author.html#21540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hmm, I guess I have to work a bit on how I send the information, then. In
effect, I send a message like this:

                IBasicProperties bp = channel.CreateBasicProperties();
                bp.Headers = new Dictionary&lt;string,string&gt;{ { &quot;languageid&quot;,
&quot;1&quot; } };
                channel.BasicPublish(ExchangeName, routingKey, false, true,
bp, payload);

payload can be null or some byte array. The value string would in my case be
&quot;0&quot; or &quot;1&quot;.

So I have to send it differently?
-- 
Bernhard

-----Original Message-----
From: Emile Joubert [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>] 
Sent: 26. juli 2012 13:31
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bme at saseco.dk</A>; Discussions about RabbitMQ
Subject: Re: [rabbitmq-discuss] Decoding header fields

Hi,

On 26/07/12 10:12, Bernhard Mogens Ege wrote:
&gt;<i> The keys I can iterate through and make direct lookups against, but 
</I>&gt;<i> the values are returned as objects but are in reality Byte[].
</I>
I would expect a byte array if the producer populated the field with a byte
array (prefixed by 'x'), but it could be any of AMQP table field type.
Consumers and producers may agree on types for certain keys beforehand, or
the consumer can determine the type at runtime using GetType().

See RabbitMQ.Client.Impl.WireFormatting.ReadFieldValue() for the relevant
implementation and mapping between AMQP types and .NET types.


-Emile





</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021539.html">[rabbitmq-discuss] Decoding header fields
</A></li>
	<LI>Next message: <A HREF="021541.html">[rabbitmq-discuss] Decoding header fields
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21540">[ date ]</a>
              <a href="thread.html#21540">[ thread ]</a>
              <a href="subject.html#21540">[ subject ]</a>
              <a href="author.html#21540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
