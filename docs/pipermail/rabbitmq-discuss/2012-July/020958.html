<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ subscriber loses connection across firewalls after long idle
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20subscriber%20loses%20connection%20across%0A%20firewalls%20after%20long%20idle&In-Reply-To=%3C4FF17A4A.3010704%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020955.html">
   <LINK REL="Next"  HREF="020959.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ subscriber loses connection across firewalls after long idle</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20subscriber%20loses%20connection%20across%0A%20firewalls%20after%20long%20idle&In-Reply-To=%3C4FF17A4A.3010704%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ subscriber loses connection across firewalls after long idle">emile at rabbitmq.com
       </A><BR>
    <I>Mon Jul  2 11:39:06 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020955.html">[rabbitmq-discuss] RabbitMQ subscriber loses connection across firewalls after long idle
</A></li>
        <LI>Next message: <A HREF="020959.html">[rabbitmq-discuss] RabbitMQ subscriber loses connection across firewalls after long idle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20958">[ date ]</a>
              <a href="thread.html#20958">[ thread ]</a>
              <a href="subject.html#20958">[ subject ]</a>
              <a href="author.html#20958">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 02/07/12 10:34, Deelo55 wrote:

&gt;<i> public class TimeoutTest {
</I>
There is nothing in this code to indicate that heartbeats are actually
in effect. You can check for heartbeats by running the following command
at 10s intervals:

rabbitmqctl list_connections name send_oct recv_oct

You should see both &quot;send_oct&quot; and &quot;recv_oct&quot; increment by 8. If these
values stay constant on an idle connection then heartbeats have not been
enabled, and that is probably why the firewall is closing the connection.

You could also use a protocol analyser (such as WireShark) to monitor
traffic on port 5672 and inspect heartbeats that way.


-Emile

</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020955.html">[rabbitmq-discuss] RabbitMQ subscriber loses connection across firewalls after long idle
</A></li>
	<LI>Next message: <A HREF="020959.html">[rabbitmq-discuss] RabbitMQ subscriber loses connection across firewalls after long idle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20958">[ date ]</a>
              <a href="thread.html#20958">[ thread ]</a>
              <a href="subject.html#20958">[ subject ]</a>
              <a href="author.html#20958">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
