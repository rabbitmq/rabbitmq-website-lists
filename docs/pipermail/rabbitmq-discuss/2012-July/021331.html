<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] building system architecture
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20building%20system%20architecture&In-Reply-To=%3C5005B366.1060601%40rosalab.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021323.html">
   <LINK REL="Next"  HREF="021264.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] building system architecture</H1>
    <B>Anton Kirilenko</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20building%20system%20architecture&In-Reply-To=%3C5005B366.1060601%40rosalab.ru%3E"
       TITLE="[rabbitmq-discuss] building system architecture">anton.kirilenko at rosalab.ru
       </A><BR>
    <I>Tue Jul 17 19:48:06 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021323.html">[rabbitmq-discuss] building system architecture
</A></li>
        <LI>Next message: <A HREF="021264.html">[rabbitmq-discuss] RabbitMQ C# Client - Dispose() hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21331">[ date ]</a>
              <a href="thread.html#21331">[ thread ]</a>
              <a href="subject.html#21331">[ subject ]</a>
              <a href="author.html#21331">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> Again it's not clear to me what you mean here. It seems to me that a
</I>&gt;<i> one-queue-per-client solution with publisher confirms would suffice in your
</I>&gt;<i> case. You have strong guarantees against the loss of messages, and you can ack
</I>&gt;<i> the messages once you've finished building. If rabbit fails, you know that the
</I>&gt;<i> messages are persisted and thus they won't be lost. If the consumer fails, the
</I>&gt;<i> messages pending acks will be redelivered to the next consumer (with a
</I>&gt;<i> `redeliver' flag to indicate that the messages was sent before).
</I>&gt;<i>
</I>&gt;<i>
</I>I've done one queue by client. While client is free - it sends special 
messages every 10 seconds, server will receive it and send tasks to 
client if possible. Server sends special immideate message to every 
online client every 10 seconds too. When client dies, its queue will be 
deleted (thanks to queue declaration flags) and message will be reterned 
to server, server will now the client is dead. It looks workable, but 
it's not implemented yet. I'll keep you informed :)
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021323.html">[rabbitmq-discuss] building system architecture
</A></li>
	<LI>Next message: <A HREF="021264.html">[rabbitmq-discuss] RabbitMQ C# Client - Dispose() hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21331">[ date ]</a>
              <a href="thread.html#21331">[ thread ]</a>
              <a href="subject.html#21331">[ subject ]</a>
              <a href="author.html#21331">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
