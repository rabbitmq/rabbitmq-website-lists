<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] help - design pattern for an our use case
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20help%20-%20design%20pattern%20for%20an%20our%20use%20case&In-Reply-To=%3CCAPNZrFWW2eOTzx-n5JpdX1v1rVvG8exSeLTG90%2BCod4CRPvH8A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021346.html">
   <LINK REL="Next"  HREF="021525.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] help - design pattern for an our use case</H1>
    <B>stone</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20help%20-%20design%20pattern%20for%20an%20our%20use%20case&In-Reply-To=%3CCAPNZrFWW2eOTzx-n5JpdX1v1rVvG8exSeLTG90%2BCod4CRPvH8A%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] help - design pattern for an our use case">zmstone at gmail.com
       </A><BR>
    <I>Wed Jul 25 16:14:07 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021346.html">[rabbitmq-discuss] help - design pattern for an our use case
</A></li>
        <LI>Next message: <A HREF="021525.html">[rabbitmq-discuss] help - design pattern for an our use case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21524">[ date ]</a>
              <a href="thread.html#21524">[ thread ]</a>
              <a href="subject.html#21524">[ subject ]</a>
              <a href="author.html#21524">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

Sorry to hijack this topic, but I'm pretty interested in the topic name
Emile gave in the examples.
It looks like the topic is named from big to small. i.e. bigger topic comes
first then dot then smaller ones.
Is there a specific reason behind this naming convention?
like in routing performance perspective? is it better than the other way
around?
If for example, we have big medium and small, and there is a binding for
&quot;big every thing&quot; is &quot;big.#&quot; better than &quot;#.big&quot; ?

-Stone

On Wed, Jul 18, 2012 at 1:23 PM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On 18/07/12 06:41, Bhaskar teja wrote:
</I>&gt;<i> &gt; What is a good design pattern for our use case - like number of queues?,
</I>&gt;<i> &gt; exchange type?, number of exchanges( web, e-mail ) ??
</I>&gt;<i>
</I>&gt;<i> This looks like a potential application of topics and a topic exchange.
</I>&gt;<i> Allocate a queue for each user. Bind each user queue with appropriate
</I>&gt;<i> routing keys. So a queue for user &quot;alice&quot; belonging to two communities
</I>&gt;<i> might have these bindings:
</I>&gt;<i>
</I>&gt;<i> users.alice
</I>&gt;<i> communities.pet-owners
</I>&gt;<i> communities.music-collectors
</I>&gt;<i>
</I>&gt;<i> When &quot;alice&quot; takes an action that her communities may be interested in
</I>&gt;<i> then a message must be sent to the topic exchange with a routing key for
</I>&gt;<i> each of the communities that she belongs to. It is possible to do this
</I>&gt;<i> in a single operation using CC routing. See
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/extensions.html#sender-selected-distribution">http://www.rabbitmq.com/extensions.html#sender-selected-distribution</A>
</I>&gt;<i>
</I>&gt;<i> Depending on the complexity of when groups are notified you could
</I>&gt;<i> implement groups as sub-topics, so a group within pet-owners might be:
</I>&gt;<i>
</I>&gt;<i> communities.pet-owners.dog-lovers
</I>&gt;<i>
</I>&gt;<i> Depending on the rules for email notifications you could use a
</I>&gt;<i> combination of dead letter exchanges and queue-TTL to detect when
</I>&gt;<i> notifications have been waiting in the queue for too long and send them
</I>&gt;<i> to the user by email. See:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/extensions.html#dead-letter-exchanges">http://www.rabbitmq.com/extensions.html#dead-letter-exchanges</A>
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/extensions.html#queue-ttl">http://www.rabbitmq.com/extensions.html#queue-ttl</A>
</I>&gt;<i>
</I>&gt;<i> A possible problem with this design is the large number of bindings
</I>&gt;<i> involved. This could be slow and difficult to manage, depending on the
</I>&gt;<i> branching factor. You could contain the complexity by using
</I>&gt;<i> exchange-to-exchange bindings and internal exchanges for groups (and
</I>&gt;<i> communities).
</I>&gt;<i>
</I>&gt;<i> -Emile
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120725/a09432f6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120725/a09432f6/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021346.html">[rabbitmq-discuss] help - design pattern for an our use case
</A></li>
	<LI>Next message: <A HREF="021525.html">[rabbitmq-discuss] help - design pattern for an our use case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21524">[ date ]</a>
              <a href="thread.html#21524">[ thread ]</a>
              <a href="subject.html#21524">[ subject ]</a>
              <a href="author.html#21524">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
