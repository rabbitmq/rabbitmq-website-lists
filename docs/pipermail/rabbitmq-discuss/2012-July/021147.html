<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Lockup in QueueDeclare()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Lockup%20in%20QueueDeclare%28%29&In-Reply-To=%3C4FFBF5CD.9090405%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021138.html">
   <LINK REL="Next"  HREF="021135.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Lockup in QueueDeclare()</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Lockup%20in%20QueueDeclare%28%29&In-Reply-To=%3C4FFBF5CD.9090405%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Lockup in QueueDeclare()">emile at rabbitmq.com
       </A><BR>
    <I>Tue Jul 10 10:28:45 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021138.html">[rabbitmq-discuss] Lockup in QueueDeclare()
</A></li>
        <LI>Next message: <A HREF="021135.html">[rabbitmq-discuss] Adding a node to cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21147">[ date ]</a>
              <a href="thread.html#21147">[ thread ]</a>
              <a href="subject.html#21147">[ subject ]</a>
              <a href="author.html#21147">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 09/07/12 15:25, Galmok wrote:
&gt;<i> Now, I call QueueDeclare() from a callback
</I>
The .NET guide contains information about this in the section &quot;2.9.
Threading, deadlocks, and associated restrictions on
consumers&quot;. It explains that &quot;Only asynchronous AMQP operations without
content are safe for use within callbacks [...]&quot;. Queue declare (without
the no-wait option) is a synchronous operation (queue.declare followed
by queue.declare-ok), and therefore not allowed in callbacks.

The recommended approach is to use the QueueingBasicConsumer to make
sure deliveries are processed in an application thread.

The RabbitMQ Java client is free from this restriction, but the .NET
client lags behind in this respect.


-Emile


</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021138.html">[rabbitmq-discuss] Lockup in QueueDeclare()
</A></li>
	<LI>Next message: <A HREF="021135.html">[rabbitmq-discuss] Adding a node to cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21147">[ date ]</a>
              <a href="thread.html#21147">[ thread ]</a>
              <a href="subject.html#21147">[ subject ]</a>
              <a href="author.html#21147">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
