<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Why do we need rabbitmq-web-stomp and why not rabitmq-web-amqp (over websockets)?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20do%20we%20need%20rabbitmq-web-stomp%20and%20why%0A%20not%20rabitmq-web-amqp%20%28over%20websockets%29%3F&In-Reply-To=%3CCABzX%2BqyNmjW%3Dk7exq8neAK9q2_Lx%3D7f2-%3D5h%3DUdJhpepXVDhfg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021563.html">
   <LINK REL="Next"  HREF="021552.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Why do we need rabbitmq-web-stomp and why not rabitmq-web-amqp (over websockets)?</H1>
    <B>Marek Majkowski</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20do%20we%20need%20rabbitmq-web-stomp%20and%20why%0A%20not%20rabitmq-web-amqp%20%28over%20websockets%29%3F&In-Reply-To=%3CCABzX%2BqyNmjW%3Dk7exq8neAK9q2_Lx%3D7f2-%3D5h%3DUdJhpepXVDhfg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Why do we need rabbitmq-web-stomp and why not rabitmq-web-amqp (over websockets)?">majek04 at gmail.com
       </A><BR>
    <I>Mon Jul 30 10:53:25 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021563.html">[rabbitmq-discuss] Why do we need rabbitmq-web-stomp and why not rabitmq-web-amqp (over websockets)?
</A></li>
        <LI>Next message: <A HREF="021552.html">[rabbitmq-discuss] basicPublish() Hangs on the Upstream Node in a	Federation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21589">[ date ]</a>
              <a href="thread.html#21589">[ thread ]</a>
              <a href="subject.html#21589">[ subject ]</a>
              <a href="author.html#21589">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jul 27, 2012 at 6:19 PM, Paddy Carman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">paddy.carman at gmail.com</A>&gt; wrote:
&gt;<i> Hi Francesco,
</I>&gt;<i>     Thanks.
</I>&gt;<i>     Why is it a bad idea to expose AMQP to web clients? I see at least one
</I>&gt;<i> company betting on it:  <A HREF="http://kaazing.com/products/amqp-edition">http://kaazing.com/products/amqp-edition</A>
</I>
Oh boy, this is a long topic. To mention a few issues:

1) Resource usage is pretty much unlimited for an AMQP client.
(consider creating 1M queues, sending tremendous amount
of durable messages or opening 65K channels)

2) The security model of AMQP is inadequate for the browser
world, where the browser is basically untrusted.

3) The protocol is overcomplicated for the browser needs. Do you
really need an 'unsigned int' type in JavaScript?

I personally think the fact that AMQP is assuming trusted
clients, and on the web the opposite is true, is basically
a show stopper.

STOMP doesn't solve all this issues (security model
is similar, for example), but at least it's way simpler
to reason about. (lack of channels is one example of that)

In my ideal world the RabbitMQ-web-stomp would be
limited to only consuming messages, to avoid problem
mentioned in 1), but this would limit its functionality
too much, so we decided not to pursue this.

Marek
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021563.html">[rabbitmq-discuss] Why do we need rabbitmq-web-stomp and why not rabitmq-web-amqp (over websockets)?
</A></li>
	<LI>Next message: <A HREF="021552.html">[rabbitmq-discuss] basicPublish() Hangs on the Upstream Node in a	Federation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21589">[ date ]</a>
              <a href="thread.html#21589">[ thread ]</a>
              <a href="subject.html#21589">[ subject ]</a>
              <a href="author.html#21589">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
