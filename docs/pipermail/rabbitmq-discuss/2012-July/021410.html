<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] publishing confirms with persistent messages?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20publishing%20confirms%20with%20persistent%20messages%3F&In-Reply-To=%3CCAB6nogK3d9jZDfWd3v_GqcBy3MiGVN360dpmnTMUvShPgjACrw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021461.html">
   <LINK REL="Next"  HREF="021411.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] publishing confirms with persistent messages?</H1>
    <B>&#40644;&#22823;&#40527;</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20publishing%20confirms%20with%20persistent%20messages%3F&In-Reply-To=%3CCAB6nogK3d9jZDfWd3v_GqcBy3MiGVN360dpmnTMUvShPgjACrw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] publishing confirms with persistent messages?">7xerocha at gmail.com
       </A><BR>
    <I>Fri Jul 20 09:33:23 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021461.html">[rabbitmq-discuss] Consumer acknowledgement
</A></li>
        <LI>Next message: <A HREF="021411.html">[rabbitmq-discuss] publishing confirms with persistent messages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21410">[ date ]</a>
              <a href="thread.html#21410">[ thread ]</a>
              <a href="subject.html#21410">[ subject ]</a>
              <a href="author.html#21410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
   I read this  &quot;Persistent messages are confirmed when all queues have
either delivered the message and received an acknowledgement (if required),
*or **persisted the message**.*&quot; on the offical blog. but when i read the
source code, I found maybe it's not true.
    in rabbit_msg_store.erl , when write a message to a file, it will
record pending confirms,.and sync these confirms very 25 milliseconds, the
problem is the file is cached file, so after sended the confirms, the
messages may not have been written to disk. am i correct?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120720/11f3b3d0/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120720/11f3b3d0/attachment.htm</A>&gt;
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021461.html">[rabbitmq-discuss] Consumer acknowledgement
</A></li>
	<LI>Next message: <A HREF="021411.html">[rabbitmq-discuss] publishing confirms with persistent messages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21410">[ date ]</a>
              <a href="thread.html#21410">[ thread ]</a>
              <a href="subject.html#21410">[ subject ]</a>
              <a href="author.html#21410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
