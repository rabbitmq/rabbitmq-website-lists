<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] .NET ssl_upgrade_failure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20ssl_upgrade_failure&In-Reply-To=%3C3804ff37-4552-421b-af7d-0bbacd10afc8%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021609.html">
   <LINK REL="Next"  HREF="021612.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] .NET ssl_upgrade_failure</H1>
    <B>Mark Ward</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20ssl_upgrade_failure&In-Reply-To=%3C3804ff37-4552-421b-af7d-0bbacd10afc8%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] .NET ssl_upgrade_failure">ward.mark at gmail.com
       </A><BR>
    <I>Tue Jul 31 18:21:12 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021609.html">[rabbitmq-discuss] .NET ssl_upgrade_failure
</A></li>
        <LI>Next message: <A HREF="021612.html">[rabbitmq-discuss] .NET ssl_upgrade_failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21610">[ date ]</a>
              <a href="thread.html#21610">[ thread ]</a>
              <a href="subject.html#21610">[ subject ]</a>
              <a href="author.html#21610">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Adding to this is the wireshark trace of the .net client.

No.     Time           Source                Destination           Protocol 
Length Info
     52 116.689790000  fe80::9cf9:e6c8:aaa2:e95e fe80::dc90:8492:edea:f29f 
TCP      82     57715 &gt; https [SYN] Seq=0 Win=8192 Len=0 MSS=1440 
SACK_PERM=1

Frame 52: 82 bytes on wire (656 bits), 82 bytes captured (656 bits) on 
interface 0
Ethernet II, Src: Vmware_01:f7:d2 (00:0c:29:01:f7:d2), Dst: Vmware_c0:0f:28 
(00:0c:29:c0:0f:28)
Internet Protocol Version 6, Src: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e), Dst: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f)
Transmission Control Protocol, Src Port: 57715 (57715), Dst Port: https 
(443), Seq: 0, Len: 0

No.     Time           Source                Destination           Protocol 
Length Info
     53 116.689845000  fe80::dc90:8492:edea:f29f fe80::9cf9:e6c8:aaa2:e95e 
TCP      82     https &gt; 57715 [SYN, ACK] Seq=0 Ack=1 Win=8192 Len=0 
MSS=1440 SACK_PERM=1

Frame 53: 82 bytes on wire (656 bits), 82 bytes captured (656 bits) on 
interface 0
Ethernet II, Src: Vmware_c0:0f:28 (00:0c:29:c0:0f:28), Dst: Vmware_01:f7:d2 
(00:0c:29:01:f7:d2)
Internet Protocol Version 6, Src: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f), Dst: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e)
Transmission Control Protocol, Src Port: https (443), Dst Port: 57715 
(57715), Seq: 0, Ack: 1, Len: 0

No.     Time           Source                Destination           Protocol 
Length Info
     54 116.690623000  fe80::9cf9:e6c8:aaa2:e95e fe80::dc90:8492:edea:f29f 
TCP      74     57715 &gt; https [ACK] Seq=1 Ack=1 Win=64800 Len=0

Frame 54: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on 
interface 0
Ethernet II, Src: Vmware_01:f7:d2 (00:0c:29:01:f7:d2), Dst: Vmware_c0:0f:28 
(00:0c:29:c0:0f:28)
Internet Protocol Version 6, Src: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e), Dst: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f)
Transmission Control Protocol, Src Port: 57715 (57715), Dst Port: https 
(443), Seq: 1, Ack: 1, Len: 0

No.     Time           Source                Destination           Protocol 
Length Info
     55 116.719962000  fe80::9cf9:e6c8:aaa2:e95e fe80::dc90:8492:edea:f29f 
SSLv3    132    Client Hello

Frame 55: 132 bytes on wire (1056 bits), 132 bytes captured (1056 bits) on 
interface 0
Ethernet II, Src: Vmware_01:f7:d2 (00:0c:29:01:f7:d2), Dst: Vmware_c0:0f:28 
(00:0c:29:c0:0f:28)
Internet Protocol Version 6, Src: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e), Dst: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f)
Transmission Control Protocol, Src Port: 57715 (57715), Dst Port: https 
(443), Seq: 1, Ack: 1, Len: 58
Secure Sockets Layer
    SSLv3 Record Layer: Handshake Protocol: Client Hello
        Content Type: Handshake (22)
        Version: SSL 3.0 (0x0300)
        Length: 53
        Handshake Protocol: Client Hello
            Handshake Type: Client Hello (1)
            Length: 49
            Version: SSL 3.0 (0x0300)
            Random
            Session ID Length: 0
            Cipher Suites Length: 10
            Cipher Suites (5 suites)
                Cipher Suite: TLS_RSA_WITH_RC4_128_SHA (0x0005)
                Cipher Suite: TLS_RSA_WITH_3DES_EDE_CBC_SHA (0x000a)
                Cipher Suite: TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA (0x0013)
                Cipher Suite: TLS_RSA_WITH_RC4_128_MD5 (0x0004)
                Cipher Suite: TLS_EMPTY_RENEGOTIATION_INFO_SCSV (0x00ff)
            Compression Methods Length: 1
            Compression Methods (1 method)
                Compression Method: null (0)

No.     Time           Source                Destination           Protocol 
Length Info
     56 116.800431000  fe80::dc90:8492:edea:f29f fe80::9cf9:e6c8:aaa2:e95e 
SSLv3    160    Server Hello

Frame 56: 160 bytes on wire (1280 bits), 160 bytes captured (1280 bits) on 
interface 0
Ethernet II, Src: Vmware_c0:0f:28 (00:0c:29:c0:0f:28), Dst: Vmware_01:f7:d2 
(00:0c:29:01:f7:d2)
Internet Protocol Version 6, Src: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f), Dst: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e)
Transmission Control Protocol, Src Port: https (443), Dst Port: 57715 
(57715), Seq: 1, Ack: 59, Len: 86
Secure Sockets Layer
    SSLv3 Record Layer: Handshake Protocol: Server Hello
        Content Type: Handshake (22)
        Version: SSL 3.0 (0x0300)
        Length: 81
        Handshake Protocol: Server Hello
            Handshake Type: Server Hello (2)
            Length: 77
            Version: SSL 3.0 (0x0300)
            Random
            Session ID Length: 32
            Session ID: 1288833cf7cd85a2955a1b1dc6b1a6daef9b16f2ef5e9f8c...
            Cipher Suite: TLS_RSA_WITH_RC4_128_SHA (0x0005)
            Compression Method: null (0)
            Extensions Length: 5
            Extension: renegotiation_info

No.     Time           Source                Destination           Protocol 
Length Info
     57 116.800727000  fe80::dc90:8492:edea:f29f fe80::9cf9:e6c8:aaa2:e95e 
TCP      1514   [TCP segment of a reassembled PDU]

Frame 57: 1514 bytes on wire (12112 bits), 1514 bytes captured (12112 bits) 
on interface 0
Ethernet II, Src: Vmware_c0:0f:28 (00:0c:29:c0:0f:28), Dst: Vmware_01:f7:d2 
(00:0c:29:01:f7:d2)
Internet Protocol Version 6, Src: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f), Dst: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e)
Transmission Control Protocol, Src Port: https (443), Dst Port: 57715 
(57715), Seq: 87, Ack: 59, Len: 1440

No.     Time           Source                Destination           Protocol 
Length Info
     58 116.800734000  fe80::dc90:8492:edea:f29f fe80::9cf9:e6c8:aaa2:e95e 
SSLv3    112    Certificate

Frame 58: 112 bytes on wire (896 bits), 112 bytes captured (896 bits) on 
interface 0
Ethernet II, Src: Vmware_c0:0f:28 (00:0c:29:c0:0f:28), Dst: Vmware_01:f7:d2 
(00:0c:29:01:f7:d2)
Internet Protocol Version 6, Src: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f), Dst: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e)
Transmission Control Protocol, Src Port: https (443), Dst Port: 57715 
(57715), Seq: 1527, Ack: 59, Len: 38
[2 Reassembled TCP Segments (1478 bytes): #57(1440), #58(38)]
Secure Sockets Layer
    SSLv3 Record Layer: Handshake Protocol: Certificate
        Content Type: Handshake (22)
        Version: SSL 3.0 (0x0300)
        Length: 1473
        Handshake Protocol: Certificate
            Handshake Type: Certificate (11)
            Length: 1469
            Certificates Length: 1466
            Certificates (1466 bytes)

No.     Time           Source                Destination           Protocol 
Length Info
     59 116.800848000  fe80::dc90:8492:edea:f29f fe80::9cf9:e6c8:aaa2:e95e 
SSLv3    110    Certificate Request

Frame 59: 110 bytes on wire (880 bits), 110 bytes captured (880 bits) on 
interface 0
Ethernet II, Src: Vmware_c0:0f:28 (00:0c:29:c0:0f:28), Dst: Vmware_01:f7:d2 
(00:0c:29:01:f7:d2)
Internet Protocol Version 6, Src: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f), Dst: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e)
Transmission Control Protocol, Src Port: https (443), Dst Port: 57715 
(57715), Seq: 1565, Ack: 59, Len: 36
Secure Sockets Layer
    SSLv3 Record Layer: Handshake Protocol: Certificate Request
        Content Type: Handshake (22)
        Version: SSL 3.0 (0x0300)
        Length: 31
        Handshake Protocol: Certificate Request
            Handshake Type: Certificate Request (13)
            Length: 27
            Certificate types count: 1
            Certificate types (1 type)
            Distinguished Names Length: 23
            Distinguished Names (23 bytes)

No.     Time           Source                Destination           Protocol 
Length Info
     60 116.800883000  fe80::dc90:8492:edea:f29f fe80::9cf9:e6c8:aaa2:e95e 
SSLv3    83     Server Hello Done

Frame 60: 83 bytes on wire (664 bits), 83 bytes captured (664 bits) on 
interface 0
Ethernet II, Src: Vmware_c0:0f:28 (00:0c:29:c0:0f:28), Dst: Vmware_01:f7:d2 
(00:0c:29:01:f7:d2)
Internet Protocol Version 6, Src: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f), Dst: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e)
Transmission Control Protocol, Src Port: https (443), Dst Port: 57715 
(57715), Seq: 1601, Ack: 59, Len: 9
Secure Sockets Layer
    SSLv3 Record Layer: Handshake Protocol: Server Hello Done
        Content Type: Handshake (22)
        Version: SSL 3.0 (0x0300)
        Length: 4
        Handshake Protocol: Server Hello Done
            Handshake Type: Server Hello Done (14)
            Length: 0

No.     Time           Source                Destination           Protocol 
Length Info
     61 116.801615000  fe80::9cf9:e6c8:aaa2:e95e fe80::dc90:8492:edea:f29f 
TCP      74     57715 &gt; https [ACK] Seq=59 Ack=1610 Win=64800 Len=0

Frame 61: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on 
interface 0
Ethernet II, Src: Vmware_01:f7:d2 (00:0c:29:01:f7:d2), Dst: Vmware_c0:0f:28 
(00:0c:29:c0:0f:28)
Internet Protocol Version 6, Src: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e), Dst: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f)
Transmission Control Protocol, Src Port: 57715 (57715), Dst Port: https 
(443), Seq: 59, Ack: 1610, Len: 0

No.     Time           Source                Destination           Protocol 
Length Info
     62 116.807562000  fe80::9cf9:e6c8:aaa2:e95e fe80::dc90:8492:edea:f29f 
SSLv3    417    Alert (Level: Warning, Description: No Certificate), Client 
Key Exchange, Change Cipher Spec, Encrypted Handshake Message

Frame 62: 417 bytes on wire (3336 bits), 417 bytes captured (3336 bits) on 
interface 0
Ethernet II, Src: Vmware_01:f7:d2 (00:0c:29:01:f7:d2), Dst: Vmware_c0:0f:28 
(00:0c:29:c0:0f:28)
Internet Protocol Version 6, Src: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e), Dst: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f)
Transmission Control Protocol, Src Port: 57715 (57715), Dst Port: https 
(443), Seq: 59, Ack: 1610, Len: 343
Secure Sockets Layer
    SSLv3 Record Layer: Alert (Level: Warning, Description: No Certificate)
        Content Type: Alert (21)
        Version: SSL 3.0 (0x0300)
        Length: 2
        Alert Message
    SSLv3 Record Layer: Handshake Protocol: Client Key Exchange
        Content Type: Handshake (22)
        Version: SSL 3.0 (0x0300)
        Length: 260
        Handshake Protocol: Client Key Exchange
            Handshake Type: Client Key Exchange (16)
            Length: 256
    SSLv3 Record Layer: Change Cipher Spec Protocol: Change Cipher Spec
        Content Type: Change Cipher Spec (20)
        Version: SSL 3.0 (0x0300)
        Length: 1
        Change Cipher Spec Message
    SSLv3 Record Layer: Handshake Protocol: Encrypted Handshake Message
        Content Type: Handshake (22)
        Version: SSL 3.0 (0x0300)
        Length: 60
        Handshake Protocol: Encrypted Handshake Message

No.     Time           Source                Destination           Protocol 
Length Info
     63 116.807678000  fe80::dc90:8492:edea:f29f fe80::9cf9:e6c8:aaa2:e95e 
TCP      74     https &gt; 57715 [FIN, ACK] Seq=1610 Ack=402 Win=64457 Len=0

Frame 63: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on 
interface 0
Ethernet II, Src: Vmware_c0:0f:28 (00:0c:29:c0:0f:28), Dst: Vmware_01:f7:d2 
(00:0c:29:01:f7:d2)
Internet Protocol Version 6, Src: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f), Dst: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e)
Transmission Control Protocol, Src Port: https (443), Dst Port: 57715 
(57715), Seq: 1610, Ack: 402, Len: 0

No.     Time           Source                Destination           Protocol 
Length Info
     64 116.808015000  fe80::9cf9:e6c8:aaa2:e95e fe80::dc90:8492:edea:f29f 
TCP      74     57715 &gt; https [ACK] Seq=402 Ack=1611 Win=64800 Len=0

Frame 64: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on 
interface 0
Ethernet II, Src: Vmware_01:f7:d2 (00:0c:29:01:f7:d2), Dst: Vmware_c0:0f:28 
(00:0c:29:c0:0f:28)
Internet Protocol Version 6, Src: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e), Dst: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f)
Transmission Control Protocol, Src Port: 57715 (57715), Dst Port: https 
(443), Seq: 402, Ack: 1611, Len: 0

No.     Time           Source                Destination           Protocol 
Length Info
     65 116.860465000  fe80::9cf9:e6c8:aaa2:e95e fe80::dc90:8492:edea:f29f 
TCP      74     57715 &gt; https [FIN, ACK] Seq=402 Ack=1611 Win=64800 Len=0

Frame 65: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on 
interface 0
Ethernet II, Src: Vmware_01:f7:d2 (00:0c:29:01:f7:d2), Dst: Vmware_c0:0f:28 
(00:0c:29:c0:0f:28)
Internet Protocol Version 6, Src: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e), Dst: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f)
Transmission Control Protocol, Src Port: 57715 (57715), Dst Port: https 
(443), Seq: 402, Ack: 1611, Len: 0

No.     Time           Source                Destination           Protocol 
Length Info
     66 116.860490000  fe80::dc90:8492:edea:f29f fe80::9cf9:e6c8:aaa2:e95e 
TCP      74     https &gt; 57715 [ACK] Seq=1611 Ack=403 Win=64457 Len=0

Frame 66: 74 bytes on wire (592 bits), 74 bytes captured (592 bits) on 
interface 0
Ethernet II, Src: Vmware_c0:0f:28 (00:0c:29:c0:0f:28), Dst: Vmware_01:f7:d2 
(00:0c:29:01:f7:d2)
Internet Protocol Version 6, Src: fe80::dc90:8492:edea:f29f 
(fe80::dc90:8492:edea:f29f), Dst: fe80::9cf9:e6c8:aaa2:e95e 
(fe80::9cf9:e6c8:aaa2:e95e)
Transmission Control Protocol, Src Port: https (443), Dst Port: 57715 
(57715), Seq: 1611, Ack: 403, Len: 0

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120731/43280ee3/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120731/43280ee3/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021609.html">[rabbitmq-discuss] .NET ssl_upgrade_failure
</A></li>
	<LI>Next message: <A HREF="021612.html">[rabbitmq-discuss] .NET ssl_upgrade_failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21610">[ date ]</a>
              <a href="thread.html#21610">[ thread ]</a>
              <a href="subject.html#21610">[ subject ]</a>
              <a href="author.html#21610">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
