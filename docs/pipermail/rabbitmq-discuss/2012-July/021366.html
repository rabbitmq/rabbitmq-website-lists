<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Publisher Confirms in mirrored queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publisher%20Confirms%20in%20mirrored%20queues&In-Reply-To=%3CCAE8G%2ByQ2BPz%3D%2BEUbo%3DLkAjm26TYLORAsXs%3DNENcmvyc%3DB17B_w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021345.html">
   <LINK REL="Next"  HREF="021367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Publisher Confirms in mirrored queues</H1>
    <B>Prashanth</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publisher%20Confirms%20in%20mirrored%20queues&In-Reply-To=%3CCAE8G%2ByQ2BPz%3D%2BEUbo%3DLkAjm26TYLORAsXs%3DNENcmvyc%3DB17B_w%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Publisher Confirms in mirrored queues">meetprashanth437 at gmail.com
       </A><BR>
    <I>Wed Jul 18 20:15:17 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021345.html">[rabbitmq-discuss] regards channel in rabbitmq
</A></li>
        <LI>Next message: <A HREF="021367.html">[rabbitmq-discuss] Publisher Confirms in mirrored queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21366">[ date ]</a>
              <a href="thread.html#21366">[ thread ]</a>
              <a href="subject.html#21366">[ subject ]</a>
              <a href="author.html#21366">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I was confused after reading the publisher confirm documentation.

Similarly, messages published by clients using publisher
confirms&lt;<A HREF="http://www.rabbitmq.com/extensions.html#confirms">http://www.rabbitmq.com/extensions.html#confirms</A>&gt; will
still be confirmed correctly even if the master (or any slaves) fail
between the message being published and the message being able to be
confirmed to the publisher. Thus from the point of view of the publisher,
publishing to a mirrored-queue is no different from publishing to any other
sort of queue. It is only consumers that need to be aware of the
possibility of needing to re-consume from a mirrored-queue upon receipt of
a Consumer Cancellation
Notification&lt;<A HREF="http://www.rabbitmq.com/extensions.html#consumer-cancel-notify">http://www.rabbitmq.com/extensions.html#consumer-cancel-notify</A>&gt;
.

Equally, in the case of publisher confirms, a message will only be
confirmed to the publisher when it has been accepted by all of the mirrors.
It is correct to think of the semantics as being the same as a message
being routed to multiple normal queues, and of a transaction with
publications within that similarly are routed to multiple queues.

After reading the above lines. Now I am confused about the publisher
confirms. The first paragraph says that publishing to mirrored queues is
like publishing to each individual queue. Messages are published to all the
queues and each queue sends publisher confirms. In the second paragraph it
says a message will only be confirmed to the publisher when it has been
accepted by all of the mirrors.
Those two paragraph looks like they say two opposite things.

Please, correct me if I am wrong.


Thanks,
Prashanth.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120718/34d20521/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120718/34d20521/attachment.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021345.html">[rabbitmq-discuss] regards channel in rabbitmq
</A></li>
	<LI>Next message: <A HREF="021367.html">[rabbitmq-discuss] Publisher Confirms in mirrored queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21366">[ date ]</a>
              <a href="thread.html#21366">[ thread ]</a>
              <a href="subject.html#21366">[ subject ]</a>
              <a href="author.html#21366">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
