<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Bug or feature? Erlang client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Bug%20or%20feature%3F%20Erlang%20client&In-Reply-To=%3C20110613163646.GC3553%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013193.html">
   <LINK REL="Next"  HREF="013194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Bug or feature? Erlang client</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Bug%20or%20feature%3F%20Erlang%20client&In-Reply-To=%3C20110613163646.GC3553%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Bug or feature? Erlang client">matthew at rabbitmq.com
       </A><BR>
    <I>Mon Jun 13 17:36:47 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013193.html">[rabbitmq-discuss] Bug or feature? Erlang client
</A></li>
        <LI>Next message: <A HREF="013194.html">[rabbitmq-discuss] build failure: `deps.mk',	needed by `ebin/bpqueue.beam'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13231">[ date ]</a>
              <a href="thread.html#13231">[ thread ]</a>
              <a href="subject.html#13231">[ subject ]</a>
              <a href="author.html#13231">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jun 09, 2011 at 08:02:32PM +0400, Groshev Dmitry wrote:
&gt;<i> I have a node running rabbit. I'm trying to connect to a rabbit with
</I>&gt;<i> &quot;direct&quot; method from another node (with same cookie, of course), but
</I>&gt;<i> amqp_connect fails with broker_not_found_in_vm. I'm pinging manually
</I>&gt;<i> rabbit's host during init and I can see <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbithost</A> in nodes(),
</I>&gt;<i> but driver doesn't work. &quot;network&quot; method works fine. What am I doing
</I>&gt;<i> wrong?
</I>
Hmm. amqp_connect isn't a function. You should be doing something like:

Conn = amqp_connection:start(#amqp_params_direct{ node = RemoteNode }),

The &quot;broker_not_found_in_vm&quot; is more interesting though as it suggests
that the connection is being made, but then rabbit isn't finding the
broker running, which is doubly odd if it then works via the network.

Are your versions of the erlang client and the server mismatched? If you
do, from the client node, an &quot;rpc:call(RemoteNode, application,
which_applications, [])&quot;, do you get a list back including rabbit?

Matthew
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013193.html">[rabbitmq-discuss] Bug or feature? Erlang client
</A></li>
	<LI>Next message: <A HREF="013194.html">[rabbitmq-discuss] build failure: `deps.mk',	needed by `ebin/bpqueue.beam'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13231">[ date ]</a>
              <a href="thread.html#13231">[ thread ]</a>
              <a href="subject.html#13231">[ subject ]</a>
              <a href="author.html#13231">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
