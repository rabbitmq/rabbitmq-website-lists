<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to handle full exchange history delivery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20handle%20full%20exchange%20history%20delivery&In-Reply-To=%3CBANLkTikS%2BZvkHn44rJ%3Dg6gojRThEX%2BDhWg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013109.html">
   <LINK REL="Next"  HREF="013083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to handle full exchange history delivery</H1>
    <B>Jim Irrer</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20handle%20full%20exchange%20history%20delivery&In-Reply-To=%3CBANLkTikS%2BZvkHn44rJ%3Dg6gojRThEX%2BDhWg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] How to handle full exchange history delivery">irrer at umich.edu
       </A><BR>
    <I>Wed Jun  1 14:46:04 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013109.html">[rabbitmq-discuss] How to handle full exchange history delivery
</A></li>
        <LI>Next message: <A HREF="013083.html">[rabbitmq-discuss] Perl Net::RabbitMQ and failure conditions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13086">[ date ]</a>
              <a href="thread.html#13086">[ thread ]</a>
              <a href="subject.html#13086">[ subject ]</a>
              <a href="author.html#13086">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This sounds similar to this conversation:

<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2011-March/011933.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2011-March/011933.html</A>


Maybe the plugin is ready?

Thanks,

- Jim

Jim Irrer     <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">irrer at umich.edu</A>       (734) 647-4409
University of Michigan Hospital Radiation Oncology
519 W. William St.             Ann Arbor, MI 48103


On Wed, Jun 1, 2011 at 9:38 AM, Jon Brisbin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jon at jbrisbin.com</A>&gt; wrote:

&gt;<i> I've been seriously considering adding this functionality to the
</I>&gt;<i> Riak-backed custom exchange. It was something I thought I would add first
</I>&gt;<i> time through but didn't.
</I>&gt;<i>
</I>&gt;<i> You'd have to use a custom exchange. Not sure if that's an issue in your
</I>&gt;<i> scenario or not.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks!
</I>&gt;<i>
</I>&gt;<i> Jon Brisbin
</I>&gt;<i> http//jbrisbin.com
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ------------------------------
</I>&gt;<i>
</I>&gt;<i> *From: *&quot;Simone Busoli&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Simone.Busoli at ferrari.com</A>&gt;
</I>&gt;<i> *To: *<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> *Sent: *Wednesday, June 1, 2011 5:52:24 AM
</I>&gt;<i> *Subject: *[rabbitmq-discuss] How to handle full exchange history delivery
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Hi,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am trying to achieve a scenario in which messages are published from some
</I>&gt;<i> data source into a RabbitMQ exchange and clients should be able to receive
</I>&gt;<i> the full history of messages flown through that exchange, regardless of the
</I>&gt;<i> exact moment in time when they connect.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I&#8217;ve been thinking to solve it by setting up a proxy which subscribes to
</I>&gt;<i> the exchange where messages are published using its own queue, keeps an
</I>&gt;<i> internal storage of the messages and accepts requests from clients.
</I>&gt;<i>
</I>&gt;<i> When a request from a client arrives it just replays the full message
</I>&gt;<i> history to the client by publishing the messages to the client queue
</I>&gt;<i> (supplied in the ReplyTo field), *then* binds the client queue to the
</I>&gt;<i> messages exchange, so that the client from this moment onwards starts
</I>&gt;<i> receiving the &#8220;live&#8221; messages, and is pretty much unaware of what&#8217;s
</I>&gt;<i> happened; it simply just receives the whole history.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Now I am under the impression that there&#8217;s a fundamental flaw in this
</I>&gt;<i> reasoning, since the proxy cannot know when the message history has
</I>&gt;<i> completed and he can switch the client to the live stream, because while it
</I>&gt;<i> is replaying historical messages to the client other live messages might be
</I>&gt;<i> arriving on the proxy&#8217;s queue, thus getting into an endless loop.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I&#8217;m probably missing something obvious, any advice about how others would
</I>&gt;<i> approach this scenario is appreciated.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Simone
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _________________________________________________________________________________________________________________
</I>&gt;<i> Questo messaggio e da intendersi esclusivamente ad uso del destinatario e
</I>&gt;<i> puo contenere informazioni che sono di natura privilegiata, confidenziale
</I>&gt;<i> o non divulgabile secondo le leggi vigenti. Se il lettore del presente
</I>&gt;<i> messaggio non e il destinatario designato, o il dipendente/agente
</I>&gt;<i> responsabile
</I>&gt;<i> per la consegna del messaggio al destinatario designato, si informa che
</I>&gt;<i> ogni disseminazione, distribuzione o copiatura di questa comunicazione e
</I>&gt;<i> strettamente proibita anche ai sensi del decreto legislativo 196/03 . Se
</I>&gt;<i> avete ricevuto questo messaggio per errore, vi preghiamo di notificarcelo
</I>&gt;<i> immediatamente a mezzo e-mail di risposta e successivamente di procedere
</I>&gt;<i> alla cancellazione di questa e-mail e relativi allegati dal vostro sistema.
</I>&gt;<i>
</I>&gt;<i> _________________________________________________________________________________________________________________
</I>&gt;<i> This message is intended only for the use of the addressee and may contain
</I>&gt;<i> information that is privileged, confidential and exempt from
</I>&gt;<i> disclosure under applicable law. If the reader of this message is not the
</I>&gt;<i> intended recipient, or the employee or agent responsible for delivering the
</I>&gt;<i> message to the intended recipient, you are hereby notified that any
</I>&gt;<i> dissemination, distribution or copying of this communication is strictly
</I>&gt;<i> prohibited. If you have received this e-mail in error, please notify us
</I>&gt;<i> immediately by return e-mail and delete this e-mail and all attachments from
</I>&gt;<i>
</I>&gt;<i> your system.
</I>&gt;<i>
</I>&gt;<i> _________________________________________________________________________________________________________________
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110601/3725c1ab/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110601/3725c1ab/attachment.htm</A>&gt;
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013109.html">[rabbitmq-discuss] How to handle full exchange history delivery
</A></li>
	<LI>Next message: <A HREF="013083.html">[rabbitmq-discuss] Perl Net::RabbitMQ and failure conditions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13086">[ date ]</a>
              <a href="thread.html#13086">[ thread ]</a>
              <a href="subject.html#13086">[ subject ]</a>
              <a href="author.html#13086">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
