<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] LATEST.LOG growth on clustered ram node
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20LATEST.LOG%20growth%20on%20clustered%20ram%20node&In-Reply-To=%3CF9B643EB7BBA49D0B85A133AE06B8B38%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013361.html">
   <LINK REL="Next"  HREF="013363.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] LATEST.LOG growth on clustered ram node</H1>
    <B>Chris Madden</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20LATEST.LOG%20growth%20on%20clustered%20ram%20node&In-Reply-To=%3CF9B643EB7BBA49D0B85A133AE06B8B38%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] LATEST.LOG growth on clustered ram node">chris.madden at gmail.com
       </A><BR>
    <I>Mon Jun 20 23:24:45 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013361.html">[rabbitmq-discuss] queue subscription + sending to some exchange
</A></li>
        <LI>Next message: <A HREF="013363.html">[rabbitmq-discuss] LATEST.LOG growth on clustered ram node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13362">[ date ]</a>
              <a href="thread.html#13362">[ thread ]</a>
              <a href="subject.html#13362">[ subject ]</a>
              <a href="author.html#13362">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm working on a system that currently has 2 rabbit nodes in a cluster. Ideally, one would be a disc node and one would be a ram node. The two nodes exist on individual machines on the same LAN segment. The ram node is on a machine that can come and go every now and again. Network connectivity between the nodes is solid.

On each machine, applications wishing to use rabbit talk to the local instance, secure in the knowledge that rabbit will get the data where it needs to go. I've a modest number of exchanges (say, 5ish), and a mix of long-lived and short-lived queues. There is a modest flow of messages (say, maybe 30-40 a minute, amounting to a couple meg at peak).

In a nutshell, the LATEST.LOG file on my ram clustered node grows, by all accounts, forever. I left it running over the weekend and it was well over 500meg. In the past I've let it run until it consumed all the space on the partition and the broker instance cratered. Running it as a ram node instead of a disc node obviates the problem, but is sub-optimal.

I'm using rabbit 2.5.0, though I've seen the problem on 2.4.0 and 2.4.1. The OS is linux based (2.6.32), and our Erlang version is R14A.

The googles (or my google-fu) seem to be silent beyond tweaking mnesia parameters that I don't fully understand. Any insight or assistance would be greatly appreciated! 

Thanks!

-- 
Chris

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013361.html">[rabbitmq-discuss] queue subscription + sending to some exchange
</A></li>
	<LI>Next message: <A HREF="013363.html">[rabbitmq-discuss] LATEST.LOG growth on clustered ram node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13362">[ date ]</a>
              <a href="thread.html#13362">[ thread ]</a>
              <a href="subject.html#13362">[ subject ]</a>
              <a href="author.html#13362">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
