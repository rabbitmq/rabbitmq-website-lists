<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Routing key match algorithms
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Routing%20key%20match%20algorithms&In-Reply-To=%3Ccd23cb25-8fbf-49be-b3dc-d716291a1abb%40jbrisbin.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013555.html">
   <LINK REL="Next"  HREF="013564.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Routing key match algorithms</H1>
    <B>Jon Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Routing%20key%20match%20algorithms&In-Reply-To=%3Ccd23cb25-8fbf-49be-b3dc-d716291a1abb%40jbrisbin.local%3E"
       TITLE="[rabbitmq-discuss] Routing key match algorithms">jon at jbrisbin.com
       </A><BR>
    <I>Thu Jun 30 13:55:43 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013555.html">[rabbitmq-discuss] Java client QueueingConsumer question about	nextDelivery(long timeout)
</A></li>
        <LI>Next message: <A HREF="013564.html">[rabbitmq-discuss] Routing key match algorithms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13561">[ date ]</a>
              <a href="thread.html#13561">[ thread ]</a>
              <a href="subject.html#13561">[ subject ]</a>
              <a href="author.html#13561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm just trying to scratch an intellectual itch here, but I'm trying to figure out how to match routing keys using regexes. 

The problem I see is that, if a consumer issues a regex as a pattern for a subscription, when a message gets published, how do I find out all the regexes I know about that match? Do I loop over all the consumers, asking each one if they match or not? Seems kind of inefficient. 

Just wondering if this problem was known and passed over early on, and the */# mechanism used to get around this problem. 

I also thought about using some text indexing engine (a la lucene) to solve this problem, but if a message gets published with a specific routing key, you'd have to re-run the search attached to the consumers to get an updated list of messages that match a given regex. So there's no benefit from doing that either, so far as I can tell. 


Thanks! 

Jon Brisbin 
http//jbrisbin.com 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110630/76e1baae/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110630/76e1baae/attachment.htm</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013555.html">[rabbitmq-discuss] Java client QueueingConsumer question about	nextDelivery(long timeout)
</A></li>
	<LI>Next message: <A HREF="013564.html">[rabbitmq-discuss] Routing key match algorithms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13561">[ date ]</a>
              <a href="thread.html#13561">[ thread ]</a>
              <a href="subject.html#13561">[ subject ]</a>
              <a href="author.html#13561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
