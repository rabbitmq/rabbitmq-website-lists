<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Document HTTP API responses?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Document%20HTTP%20API%20responses%3F&In-Reply-To=%3C19D28EF2DBB940C2B021586EF5C94AA1%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013105.html">
   <LINK REL="Next"  HREF="013115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Document HTTP API responses?</H1>
    <B>Brian K. Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Document%20HTTP%20API%20responses%3F&In-Reply-To=%3C19D28EF2DBB940C2B021586EF5C94AA1%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] Document HTTP API responses?">bkjones at gmail.com
       </A><BR>
    <I>Fri Jun  3 00:30:22 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013105.html">[rabbitmq-discuss] Document HTTP API responses?
</A></li>
        <LI>Next message: <A HREF="013115.html">[rabbitmq-discuss] Document HTTP API responses?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13110">[ date ]</a>
              <a href="thread.html#13110">[ thread ]</a>
              <a href="subject.html#13110">[ subject ]</a>
              <a href="author.html#13110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here's a quick peek at two responses to the /api/overview call. Same server software version. 
#############################
{
&quot;management_version&quot;:&quot;2.4.1&quot;,
&quot;statistics_level&quot;:&quot;fine&quot;,

&quot;message_stats&quot;:{&quot;publish&quot;:2445210,&quot;publish_details&quot;:{&quot;rate&quot;:4.593489204928332,&quot;last_event&quot;:1307046917111},&quot;ack&quot;:31,&quot;ack_details&quot;:{&quot;rate&quot;:0,&quot;last_event&quot;:1306966493190},&quot;deliver&quot;:57,&quot;deliver_details&quot;:{&quot;rate&quot;:0,&quot;last_event&quot;:1306966493190},&quot;deliver_get&quot;:6228204,&quot;deliver_get_details&quot;:{&quot;rate&quot;:4.593484491297741,&quot;last_event&quot;:1307046917111},&quot;deliver_no_ack&quot;:6228147,&quot;deliver_no_ack_details&quot;:{&quot;rate&quot;:4.593484491297741,&quot;last_event&quot;:1307046917111}},

&quot;queue_totals&quot;:{&quot;messages&quot;:44,&quot;messages_ready&quot;:18,&quot;messages_unacknowledged&quot;:26}
}
################################
{
&quot;management_version&quot;:&quot;2.4.1&quot;,
&quot;statistics_level&quot;:&quot;fine&quot;,

&quot;message_stats&quot;:{&quot;publish&quot;:11340,&quot;publish_details&quot;:{&quot;rate&quot;:0,&quot;last_event&quot;:1307041432286},&quot;ack&quot;:401,&quot;ack_details&quot;:{&quot;rate&quot;:0,&quot;last_event&quot;:1307039730923},&quot;deliver&quot;:401,&quot;deliver_details&quot;:{&quot;rate&quot;:0,&quot;last_event&quot;:1307039730923},&quot;deliver_get&quot;:215791,&quot;deliver_get_details&quot;:{&quot;rate&quot;:0,&quot;last_event&quot;:1307041433196},&quot;deliver_no_ack&quot;:215390,&quot;deliver_no_ack_details&quot;:{&quot;rate&quot;:0,&quot;last_event&quot;:1307041433196}},

&quot;queue_totals&quot;:{&quot;messages&quot;:0,&quot;messages_ready&quot;:0,&quot;messages_unacknowledged&quot;:0},
&quot;node&quot;:&quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at mybox</A>&quot;,
&quot;statistics_db_node&quot;:&quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at mybox</A>&quot;,
&quot;listeners&quot;:[{&quot;node&quot;:&quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at mybox</A>&quot;,&quot;protocol&quot;:&quot;amqp&quot;,&quot;host&quot;:&quot;mybox.example.com&quot;,&quot;ip_address&quot;:&quot;::&quot;,&quot;port&quot;:5672},{&quot;node&quot;:&quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at mybox</A>&quot;,&quot;protocol&quot;:&quot;stomp&quot;,&quot;host&quot;:&quot;mybox.example.com&quot;,&quot;ip_address&quot;:&quot;::&quot;,&quot;port&quot;:61613}]
}

#################################

As you can see, the second broker has 'node', 'statistics_db_node', and 'listeners', whereas the first broker does not. Just now I noticed we're supporting STOMP on one of the servers, but does that account for all of the differences above? What other JSON responses will be different because of this, and how? What other configuration options affect the JSON responses? How are they affected?

brian



-- 
Brian K. Jones
Sent over the internet
My blog: <A HREF="http://www.protocolostomy.com">http://www.protocolostomy.com</A>
Follow me: <A HREF="http://twitter.com/bkjones">http://twitter.com/bkjones</A>


On Thursday, June 2, 2011 at 4:35 PM, Brian K. Jones wrote:

&gt;<i> Hi, 
</I>&gt;<i> 
</I>&gt;<i> I'm testing a Python module that provides an easy way to work with the RabbitMQ Management HTTP API. I'm testing against various different broker instances, and I'm finding that, although they're the same version, there are apparently circumstances that exist which make the same call return different collections of attributes across different servers. For example, some hosts' 'overview' have a 'listeners' attribute while others don't. For queues, some have a 'node' attribute (iirc), and others don't. I imagine there are more of these situations, and I'm wondering if these conditions are documented anywhere? This would obviously be useful to those writing any code against the API as well, not just module authors (think of the poor ops folks writing nagios checks!). :) 
</I>&gt;<i> 
</I>&gt;<i> If the expectation is that servers with the same versions of the server and management software return the same exact attributes given the same exact calls, then let me know and I'll document these issues more thoroughly &amp; update this thread (unless there's a public bug tracker?)
</I>&gt;<i> 
</I>&gt;<i> Thanks, 
</I>&gt;<i> brian
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Brian K. Jones
</I>&gt;<i> Sent over the internet
</I>&gt;<i> My blog: <A HREF="http://www.protocolostomy.com">http://www.protocolostomy.com</A>
</I>&gt;<i> Follow me: <A HREF="http://twitter.com/bkjones">http://twitter.com/bkjones</A>
</I>&gt;<i> 
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110602/41f2ca52/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110602/41f2ca52/attachment.htm</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013105.html">[rabbitmq-discuss] Document HTTP API responses?
</A></li>
	<LI>Next message: <A HREF="013115.html">[rabbitmq-discuss] Document HTTP API responses?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13110">[ date ]</a>
              <a href="thread.html#13110">[ thread ]</a>
              <a href="subject.html#13110">[ subject ]</a>
              <a href="author.html#13110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
