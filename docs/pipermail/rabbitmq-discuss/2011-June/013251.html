<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ .NET client BasicConsume and	HandleBasicDeliver question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20.NET%20client%20BasicConsume%20and%0A%09HandleBasicDeliver%20question&In-Reply-To=%3CBANLkTik%3DRwAgYe7cuC59b0E%2Bg%3DF1-fkosQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013257.html">
   <LINK REL="Next"  HREF="013253.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ .NET client BasicConsume and	HandleBasicDeliver question</H1>
    <B>T-zex</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20.NET%20client%20BasicConsume%20and%0A%09HandleBasicDeliver%20question&In-Reply-To=%3CBANLkTik%3DRwAgYe7cuC59b0E%2Bg%3DF1-fkosQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ .NET client BasicConsume and	HandleBasicDeliver question">tranzenziuzex at gmail.com
       </A><BR>
    <I>Wed Jun 15 10:08:27 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013257.html">[rabbitmq-discuss] rabbitmq puppet module
</A></li>
        <LI>Next message: <A HREF="013253.html">[rabbitmq-discuss] RabbitMQ .NET client BasicConsume and	HandleBasicDeliver question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13251">[ date ]</a>
              <a href="thread.html#13251">[ thread ]</a>
              <a href="subject.html#13251">[ subject ]</a>
              <a href="author.html#13251">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We are overriding DefaultBasicConsumer.HandleBasicDeliver method and
use IModel.BasicConsume to subscribe to incoming messages:
model.BasicConsume(queue, false, instanceOfDerivedConsumer);

When application fails to ack a message that message is requeued. How
can I guarantee that BasicConsume is receiving one message at a time?
How to deterministically stop consuming when application detects that
it is unable to process a message and prevent the second message from
arriving? How to make sure that there is one and only one unacked
message and that message is at the peak of broker queue.

Currently we are trying to close the model (channel) in
HandleBasicDeliver override, but then it blocks and does not seem to
be a right solution.
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013257.html">[rabbitmq-discuss] rabbitmq puppet module
</A></li>
	<LI>Next message: <A HREF="013253.html">[rabbitmq-discuss] RabbitMQ .NET client BasicConsume and	HandleBasicDeliver question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13251">[ date ]</a>
              <a href="thread.html#13251">[ thread ]</a>
              <a href="subject.html#13251">[ subject ]</a>
              <a href="author.html#13251">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
