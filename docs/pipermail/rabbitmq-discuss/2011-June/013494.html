<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] is anybody using tx?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20is%20anybody%20using%20tx%3F&In-Reply-To=%3CBANLkTi%3DD4oJhBiK0jGAkpB1YxTPt3e83ug%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013478.html">
   <LINK REL="Next"  HREF="013495.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] is anybody using tx?</H1>
    <B>Bryan Murphy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20is%20anybody%20using%20tx%3F&In-Reply-To=%3CBANLkTi%3DD4oJhBiK0jGAkpB1YxTPt3e83ug%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] is anybody using tx?">bmurphy1976 at gmail.com
       </A><BR>
    <I>Tue Jun 28 19:48:33 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013478.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
        <LI>Next message: <A HREF="013495.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13494">[ date ]</a>
              <a href="thread.html#13494">[ thread ]</a>
              <a href="subject.html#13494">[ subject ]</a>
              <a href="author.html#13494">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jun 28, 2011 at 3:25 AM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt; wrote:
&gt;&gt;<i> My message consumers are idempotent and always check object status in
</I>&gt;&gt;<i> RDBMS before processing messages, so should I fail to commit to RDBMS
</I>&gt;&gt;<i> after having committed to RabbitMQ, those messages will be ignored.
</I>&gt;<i>
</I>&gt;<i> Idempotence is certainly a good thing.
</I>&gt;<i>
</I>&gt;<i> How does the &quot;check object status before processing&quot; work? Couldn't a
</I>&gt;<i> consumer get the message(s) before the rdbms transaction has committed, thus
</I>&gt;<i> not see the up to date status and erroneously ignore the message?
</I>
You can do this with some nasty and slow serialized database locks.
We've done something similar to this in the past but it always makes
me question when we are doing something akin to this if RabbitMQ is
the right solution for this particular problem.

We don't use RabbitMQ transactions.  They were too slow and we ended
up having to build other higher level abstractions anyway so they
really aren't all that useful for us.

Bryan
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013478.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
	<LI>Next message: <A HREF="013495.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13494">[ date ]</a>
              <a href="thread.html#13494">[ thread ]</a>
              <a href="subject.html#13494">[ subject ]</a>
              <a href="author.html#13494">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
