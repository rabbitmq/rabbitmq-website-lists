<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fw: high availability solutions?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fw%3A%20high%20availability%20solutions%3F&In-Reply-To=%3CBANLkTi%3DkqXV5efNT%3Dp0%2BgZD8_iyBOhO4eQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013304.html">
   <LINK REL="Next"  HREF="013311.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fw: high availability solutions?</H1>
    <B>Jason J. W. Williams</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fw%3A%20high%20availability%20solutions%3F&In-Reply-To=%3CBANLkTi%3DkqXV5efNT%3Dp0%2BgZD8_iyBOhO4eQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Fw: high availability solutions?">jasonjwwilliams at gmail.com
       </A><BR>
    <I>Thu Jun 16 19:24:27 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013304.html">[rabbitmq-discuss] Fw: high availability solutions?
</A></li>
        <LI>Next message: <A HREF="013311.html">[rabbitmq-discuss] Fw: high availability solutions?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13309">[ date ]</a>
              <a href="thread.html#13309">[ thread ]</a>
              <a href="subject.html#13309">[ subject ]</a>
              <a href="author.html#13309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Matthew,

&gt;<i> I may as well just attach the full documentation as it stands given
</I>&gt;<i> otherwise snippets of it will just leak out.
</I>&gt;<i>
</I>&gt;<i> Obviously please bear in mind this may change before release, though not
</I>&gt;<i> in any profound ways (unless the release is delayed for a few years).
</I>
Thank you for the docs! Overall it looks like a big step up. All of
your hard work on this is very much appreciated. I do have a few
questions/comments on it:


* The fact that messages in a transactions published to a mirrored
queue are silently dropped is inevitably setting up a customer to lose
messages when they forget about that property. Why not error out the
transaction so the problem is actively in their face, or at least give
it a best effort?

* If publishes are parallel to the master queue and it's slaves, how
are consumes and other actions that are slaved serially off the master
able to keep the slaves in sync since you're mixing parallel ops with
serial ones?

* If consumers are going to be considered disconnected, why aren't
they actually disconnected so they can use their assumptions about
lost connections to assume acknowledgements in flight were lost etc
(and re-use app logic they already have)?

* The lack of synchronization for new Q slaves is a bummer,
particularly in the case where a rejoining slave tosses it's durable
messages regardless of whether those message have actually been
consumed. It seems like there should be a history log shared across
the masters and slaves so a rejoining slave can sync up off the master
and reconcile it's durable contents.

* Why do mirror slaves have to be specified by node name, rather than
just passing a &quot;numCopies=X&quot; to the queue on creation and letting the
cluster handle the distribution? It seems to be shifting complexity to
the client that should be in the cluster which has the best knowledge
of how many members exist and other internals.


-J
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013304.html">[rabbitmq-discuss] Fw: high availability solutions?
</A></li>
	<LI>Next message: <A HREF="013311.html">[rabbitmq-discuss] Fw: high availability solutions?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13309">[ date ]</a>
              <a href="thread.html#13309">[ thread ]</a>
              <a href="subject.html#13309">[ subject ]</a>
              <a href="author.html#13309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
