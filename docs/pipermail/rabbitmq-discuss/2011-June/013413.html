<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Removing &quot;INFO REPORT&quot; from logs (due to	30gb log file in 1 day)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Removing%20%22INFO%20REPORT%22%20from%20logs%20%28due%20to%0A%0930gb%20log%20file%20in%201%20day%29&In-Reply-To=%3CFEC91EE9-0FB6-4278-B722-13D92604BA0A%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013412.html">
   <LINK REL="Next"  HREF="013414.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Removing &quot;INFO REPORT&quot; from logs (due to	30gb log file in 1 day)</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Removing%20%22INFO%20REPORT%22%20from%20logs%20%28due%20to%0A%0930gb%20log%20file%20in%201%20day%29&In-Reply-To=%3CFEC91EE9-0FB6-4278-B722-13D92604BA0A%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] Removing &quot;INFO REPORT&quot; from logs (due to	30gb log file in 1 day)">videlalvaro at gmail.com
       </A><BR>
    <I>Thu Jun 23 16:48:05 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013412.html">[rabbitmq-discuss] Removing &quot;INFO REPORT&quot; from logs (due to 30gb log file in 1 day)
</A></li>
        <LI>Next message: <A HREF="013414.html">[rabbitmq-discuss] Removing &quot;INFO REPORT&quot; from logs (due to 30gb log file in 1 day)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13413">[ date ]</a>
              <a href="thread.html#13413">[ thread ]</a>
              <a href="subject.html#13413">[ subject ]</a>
              <a href="author.html#13413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

According to the Erlang docs you can disable both SASL and rabbit logs by passing the following parameters to the rabbitmq-server init script:

sbin/rabbitmq-server -kernel error_logger silent -sasl sasl_error_logger false

More docs on the topic here: 

SASL Logs: <A HREF="http://www.erlang.org/doc/man/sasl_app.html">http://www.erlang.org/doc/man/sasl_app.html</A>
Erlang Kernel Docs: <A HREF="http://www.erlang.org/doc/man/kernel_app.html">http://www.erlang.org/doc/man/kernel_app.html</A>

Regarding specifying those parameters in a config file, that's possible too.

You can add them to this file for example: <A HREF="http://www.rabbitmq.com/configure.html#config-file">http://www.rabbitmq.com/configure.html#config-file</A>

So there you could add an entry like this:

{sasl, [
	{sasl_error_logger, false}
]}

For the SASL logs

And another one like:

{kernel [
	{error_logger, silent}
]}

The problem with this approach is that the command line arguments passed inside the rabbitmq-server script will override what you put on those .config files, as explained here: <A HREF="http://www.erlang.org/doc/man/config.html">http://www.erlang.org/doc/man/config.html</A>

&quot;Configuration parameter values in the configuration file will override the values in the application resource files (see app(4)). The values in the configuration file can be overridden by command line flags (see erl(1)).&quot;

 I think some tweaking of the rabbitmq-server script will do to solve this problem, specifically this lines:

    -sasl errlog_type error \
    -kernel error_logger '{file,&quot;'${RABBITMQ_LOGS}'&quot;}' \
    -sasl sasl_error_logger '{file,&quot;'${RABBITMQ_SASL_LOGS}'&quot;}' \

Hope this helps,

Alvaro

On Jun 23, 2011, at 4:47 PM, Cal Leeming [Simplicity Media Ltd] wrote:

&gt;<i> Alright great :) Thanks for the advice on how to resolve the problem in the mean time.
</I>&gt;<i> 
</I>&gt;<i> Ironically, it's actually a good thing that this happened, because it's notified me of a 'looping' bug in my code (in a round abouts way), which caused a DoS :)
</I>&gt;<i> 
</I>&gt;<i> Cal
</I>&gt;<i> 
</I>&gt;<i> On Thu, Jun 23, 2011 at 3:43 PM, Matthew Sackman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at rabbitmq.com</A>&gt; wrote:
</I>&gt;<i> On Thu, Jun 23, 2011 at 03:40:59PM +0100, Cal Leeming [Simplicity Media Ltd] wrote:
</I>&gt;<i> &gt; Hmm, are there any plans to make this easier for a user to change via the
</I>&gt;<i> &gt; config?? Almost every other daemon I know has support for this, so it makes
</I>&gt;<i> &gt; RabbitMQ terribly unfriendly :(
</I>&gt;<i> 
</I>&gt;<i> Yes, we have been thinking about this on and off for quite some time.
</I>&gt;<i> I'm not sure what the current plans are wrt this, but you're not the
</I>&gt;<i> first person to point out this problem, and we do have a bug open to
</I>&gt;<i> look at sorting this out.
</I>&gt;<i> 
</I>&gt;<i> Matthew
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
Sent form my Nokia 1100



-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110623/a7f9202c/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110623/a7f9202c/attachment-0001.htm</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013412.html">[rabbitmq-discuss] Removing &quot;INFO REPORT&quot; from logs (due to 30gb log file in 1 day)
</A></li>
	<LI>Next message: <A HREF="013414.html">[rabbitmq-discuss] Removing &quot;INFO REPORT&quot; from logs (due to 30gb log file in 1 day)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13413">[ date ]</a>
              <a href="thread.html#13413">[ thread ]</a>
              <a href="subject.html#13413">[ subject ]</a>
              <a href="author.html#13413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
