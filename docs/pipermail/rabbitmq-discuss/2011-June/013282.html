<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] message via stomp adapter crashes queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20message%20via%20stomp%20adapter%20crashes%20queue&In-Reply-To=%3C7cd40385-f6c2-4217-80d5-430b8c7f6b90%4036g2000yqj.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013235.html">
   <LINK REL="Next"  HREF="013310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] message via stomp adapter crashes queue</H1>
    <B>Chris</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20message%20via%20stomp%20adapter%20crashes%20queue&In-Reply-To=%3C7cd40385-f6c2-4217-80d5-430b8c7f6b90%4036g2000yqj.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] message via stomp adapter crashes queue">christopher.rhodes at gmail.com
       </A><BR>
    <I>Wed Jun 15 17:47:35 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013235.html">[rabbitmq-discuss] message via stomp adapter crashes queue
</A></li>
        <LI>Next message: <A HREF="013310.html">[rabbitmq-discuss] message via stomp adapter crashes queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13282">[ date ]</a>
              <a href="thread.html#13282">[ thread ]</a>
              <a href="subject.html#13282">[ subject ]</a>
              <a href="author.html#13282">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> I'm particularly interested in knowing if there is something in the
</I>&gt;<i> latest version of the adapter that is preventing you from moving. Fixing
</I>&gt;<i> that will be a lot easier than backporting a fix to the pre-2.1.0 era code.
</I>&gt;<i>
</I>&gt;<i> Rob
</I>
Thank you for the response Rob.

Not sure exactly, but I know that if we move past 2.1.0 and the
matching stomp plugin things get worse.  I'm just the guy that has to
keep this thing running and not the developer of the stomp client
pushing data at the rabbit stomp adapter or the clients on the other
side doing amqp.  I'll try again to get the details on what's keeping
us stuck at this version.

In the meantime this is what we see when the Queue goes away:

10:49 &lt; arreyder&gt; =ERROR REPORT==== 15-Jun-2011::15:46:12 ===
10:49 &lt; arreyder&gt; STOMP error frame sent:
10:49 &lt; arreyder&gt; Message: &quot;Invalid frame&quot;
10:49 &lt; arreyder&gt; Detail: &quot;Could not parse frame\n&quot;
10:49 &lt; arreyder&gt; Server private detail:
{bad_header_key,&quot;destinaSEND&quot;}
10:49 &lt; arreyder&gt; &quot;detinaSEND&quot;
10:51 &lt; arreyder&gt; here's the one from just before that one:
10:51 &lt; arreyder&gt; =ERROR REPORT==== 15-Jun-2011::15:31:11 ===
10:51 &lt; arreyder&gt; STOMP error frame sent:
10:51 &lt; arreyder&gt; Message: &quot;Invalid frame&quot;
10:51 &lt; arreyder&gt; Detail: &quot;Could not parse frame\n&quot;
10:51 &lt; arreyder&gt; Server private detail:
{bad_header_key,&quot;destinationSEND&quot;}

I've verified on the wire (packet captures) that the message headers
do not look like how they are logged there.  They appear correctly
sent.

crr
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013235.html">[rabbitmq-discuss] message via stomp adapter crashes queue
</A></li>
	<LI>Next message: <A HREF="013310.html">[rabbitmq-discuss] message via stomp adapter crashes queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13282">[ date ]</a>
              <a href="thread.html#13282">[ thread ]</a>
              <a href="subject.html#13282">[ subject ]</a>
              <a href="author.html#13282">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
