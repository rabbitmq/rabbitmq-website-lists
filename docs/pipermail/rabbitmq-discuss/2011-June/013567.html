<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] is anybody using tx?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20is%20anybody%20using%20tx%3F&In-Reply-To=%3CBANLkTimNOEibxxH01rt01xuGGx3PLz53yw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013556.html">
   <LINK REL="Next"  HREF="013449.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] is anybody using tx?</H1>
    <B>Aaron Westendorf</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20is%20anybody%20using%20tx%3F&In-Reply-To=%3CBANLkTimNOEibxxH01rt01xuGGx3PLz53yw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] is anybody using tx?">aaron at agoragames.com
       </A><BR>
    <I>Thu Jun 30 15:26:02 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013556.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
        <LI>Next message: <A HREF="013449.html">[rabbitmq-discuss] RabbitMQ 2.5.1 Release - stage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13567">[ date ]</a>
              <a href="thread.html#13567">[ thread ]</a>
              <a href="subject.html#13567">[ subject ]</a>
              <a href="author.html#13567">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've only read part of the thread, but we are making use of
transactions for all of our publishing. We haven't switched to
'confirms' because it's a feature were weren't aware of and it would
need to be thoroughly integrated into our stack.

For us, transactions allow both high throughput and message delivery
reliability. Before transactions, we'd be pushing messages through a
channel and if there was an error, the channel would be closed with
some number of messages lost on that channel. Worse, &quot;frames in
flight&quot; would cause RabbitMQ to close the connection entirely because
it would receive frames on a channel after closing it.

To ensure throughput, we used a pooling scheme that's now abstracted
into haigha's ChannelPool.

We're not overly concerned about compliance with strict adherence to
the AMQP spec as we intend to use RabbitMQ for a long time to come,
but it is beneficial for us to stay within spec to ensure that both
the broker and client are coded to a similar standard.

-Aaron


On Mon, Jun 27, 2011 at 11:02 AM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt; wrote:
&gt;<i> What use, if any, are RabbitMQ users finding for AMQP's tx class?
</I>&gt;<i>
</I>&gt;<i> The predominant application of tx we have seen in the past is as a means for
</I>&gt;<i> the client to ensure that the server has accepted responsibility for a
</I>&gt;<i> published message (or, conversely, be told of any failure to do so).
</I>&gt;<i> Publisher confirms, which we introduced in 2.3.0, handle this much better. I
</I>&gt;<i> suppose there might be still be users that haven't switched from 'tx' to
</I>&gt;<i> 'confirm'. If so I'd like to know what is holding you back.
</I>&gt;<i>
</I>&gt;<i> What else are people using tx for with RabbitMQ? And what aspects of tx
</I>&gt;<i> semantics are you relying on? (Note, for example, that the tx specified in
</I>&gt;<i> AMQP 0-9-1 is very limited. For example, atomicity is not guaranteed for
</I>&gt;<i> transactions affecting more than one queue.)
</I>&gt;<i>
</I>&gt;<i> Our current thinking is that tx, as it stands, is of very limited utility
</I>&gt;<i> and that we are probably better off without it - it adds significant code
</I>&gt;<i> complexity, slows down implementation of new features and is generally
</I>&gt;<i> curtailing the evolution of RabbitMQ.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>


-- 
Aaron Westendorf
Senior Software Engineer
Agora Games
359 Broadway
Troy, NY 12180
Phone: 518.268.1000
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aaron at agoragames.com</A>
www.agoragames.com
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013556.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
	<LI>Next message: <A HREF="013449.html">[rabbitmq-discuss] RabbitMQ 2.5.1 Release - stage
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13567">[ date ]</a>
              <a href="thread.html#13567">[ thread ]</a>
              <a href="subject.html#13567">[ subject ]</a>
              <a href="author.html#13567">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
