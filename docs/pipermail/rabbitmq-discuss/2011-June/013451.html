<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] is anybody using tx?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20is%20anybody%20using%20tx%3F&In-Reply-To=%3C4E089F8B.4020504%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013448.html">
   <LINK REL="Next"  HREF="013452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] is anybody using tx?</H1>
    <B>Tim Fox</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20is%20anybody%20using%20tx%3F&In-Reply-To=%3C4E089F8B.4020504%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] is anybody using tx?">tim at rabbitmq.com
       </A><BR>
    <I>Mon Jun 27 16:19:39 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013448.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
        <LI>Next message: <A HREF="013452.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13451">[ date ]</a>
              <a href="thread.html#13451">[ thread ]</a>
              <a href="subject.html#13451">[ subject ]</a>
              <a href="author.html#13451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27/06/11 16:02, Matthias Radestock wrote:
&gt;<i> What use, if any, are RabbitMQ users finding for AMQP's tx class?
</I>&gt;<i>
</I>&gt;<i> The predominant application of tx we have seen in the past is as a 
</I>&gt;<i> means for the client to ensure that the server has accepted 
</I>&gt;<i> responsibility for a published message (or, conversely, be told of any 
</I>&gt;<i> failure to do so). Publisher confirms, which we introduced in 2.3.0, 
</I>&gt;<i> handle this much better. I suppose there might be still be users that 
</I>&gt;<i> haven't switched from 'tx' to 'confirm'. If so I'd like to know what 
</I>&gt;<i> is holding you back.
</I>The semantics of tx and confirms are somewhat different (atomicity)

An example would be an order that contains several order items. Each 
order item is represented by a message sent to an order queue. If all 
order items for a particular order are sent in a transaction, then we 
know that if the tx committed ok, all items will hit the server and can 
be processed, otherwise no items (no partial order) will be available on 
the server.

With confirms, if a failure occurs mid way through sending the items you 
could end up with an incomplete order on the server, resulting in the 
customer only receiving some of the items they ordered.

You might say, just resend the items we didn't get confirms for when the 
system restarts after failure. Problem with that is it requires the 
client to store every item persistently, so it can resend them after 
crashing. This is a lot more work for the client to do.

Another issue is if you want to implement JMS on top of AMQP you 
wouldn't be able to do that with tx.



</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013448.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
	<LI>Next message: <A HREF="013452.html">[rabbitmq-discuss] is anybody using tx?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13451">[ date ]</a>
              <a href="thread.html#13451">[ thread ]</a>
              <a href="subject.html#13451">[ subject ]</a>
              <a href="author.html#13451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
