<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ and -smp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20and%20-smp&In-Reply-To=E39E50172D7A6546BCE3E981C985C9872099A370%40UKMAIL.sportex.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000211.html">
   <LINK REL="Next"  HREF="000213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ and -smp</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20and%20-smp&In-Reply-To=E39E50172D7A6546BCE3E981C985C9872099A370%40UKMAIL.sportex.com"
       TITLE="[rabbitmq-discuss] RabbitMQ and -smp">matthias at lshift.net
       </A><BR>
    <I>Fri Sep 14 12:54:47 BST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000211.html">[rabbitmq-discuss] RabbitMQ and -smp
</A></li>
        <LI>Next message: <A HREF="000213.html">[rabbitmq-discuss] RabbitMQ and -smp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#212">[ date ]</a>
              <a href="thread.html#212">[ thread ]</a>
              <a href="subject.html#212">[ subject ]</a>
              <a href="author.html#212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jodi,

Jodi Moran wrote:
&gt;<i> I've been running some tests on RabbitMQ and I noticed during my first
</I>&gt;<i> few runs that the broker was only using one processor on a 4-processor
</I>&gt;<i> machine. After a bit of research I found the &quot;-smp&quot; switch for erl, and
</I>&gt;<i> setting this did seem to have the correct effect. My question is, is
</I>&gt;<i> there some reason that SMP  support is not enabled in the default
</I>&gt;<i> scripts provided with RabbitMQ? Is there anything I need to be careful
</I>&gt;<i> about when enabling this?
</I>
Our (very limited) tests showed RabbitMQ performing worse when running 
with SMP support enabled. So currently we advise people to utilise 
multiple cores by running several RabbitMQ nodes in a cluster, with one 
node per core.

Clearly that is unsatisfactory, but we haven't had the time so far to 
investigate this further.

If you are running some tests with SMP support enabled we'd be keen to 
hear the results and how they compare to a) single-node non-smp, b) 
clustered multi-node non-smp.


Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000211.html">[rabbitmq-discuss] RabbitMQ and -smp
</A></li>
	<LI>Next message: <A HREF="000213.html">[rabbitmq-discuss] RabbitMQ and -smp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#212">[ date ]</a>
              <a href="thread.html#212">[ thread ]</a>
              <a href="subject.html#212">[ subject ]</a>
              <a href="author.html#212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
