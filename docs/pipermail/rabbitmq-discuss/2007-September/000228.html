<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Python / QPID to RabbitMQ....no MLLIB??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Python%20/%20QPID%20to%20RabbitMQ....no%20MLLIB%3F%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000227.html">
   <LINK REL="Next"  HREF="000230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Python / QPID to RabbitMQ....no MLLIB??</H1>
    <B>Lynton Grice</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Python%20/%20QPID%20to%20RabbitMQ....no%20MLLIB%3F%3F&In-Reply-To="
       TITLE="[rabbitmq-discuss] Python / QPID to RabbitMQ....no MLLIB??">lynton.grice at netweaverguru.com
       </A><BR>
    <I>Sat Sep 29 13:20:20 BST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000227.html">[rabbitmq-discuss] Python / QPID to RabbitMQ....no MLLIB??
</A></li>
        <LI>Next message: <A HREF="000230.html">[rabbitmq-discuss] Python / QPID to RabbitMQ....no MLLIB??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#228">[ date ]</a>
              <a href="thread.html#228">[ thread ]</a>
              <a href="subject.html#228">[ subject ]</a>
              <a href="author.html#228">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

 

My mistake...I did not add the QPID path to the 'sys.path' variable..

 

Something like:

 

import sys

sys.path = sys.path + ['D:\Python24\Lib\site-packages\python-qpid']

 

That at least works now..BUT I still get the error when I try receive a
message that I have just put onto the queue..

 

Here is the section of code:

 

print 'Receiving message' 

t = ch.basic_consume(queue=&quot;testq&quot;, no_ack=True) 

q = client.queue(t.consumer_tag) 

msg = q.get(timeout=1) 

print 'Got message:', msg.content.body

 

When it hits the line &quot;msg = q.get(timeout=1)&quot; it dies...here is the error
trace..

 

AttributeError: __eq__

 

Traceback (innermost last):

 

File &quot;D:\tmp\Rabbit\rabbit.py&quot;, line 1, in ?

  import sys

File &quot;D:\tmp\Rabbit\rabbit.py&quot;, line 27, in ?

  msg = q.get(timeout=1)

File &quot;D:\Python24\Lib\site-packages\qpid\queue.py&quot;, line 46, in get

  if result == Queue.END:

File &quot;D:\Python24\Lib\site-packages\qpid\message.py&quot;, line 61, in
__getattr__

  raise AttributeError(attr)

 

Also..not sure if it means anything but this is what is in the LOG:

 

=INFO REPORT==== 29-Sep-2007::12:38:03 ===

disk_log: repairing &quot;d:/Documents and
Settings/Lynton/rabbitmq/db/rabbit-mnesia/rabbit_persister.LOG&quot; ...

 

=INFO REPORT==== 29-Sep-2007::12:38:03 ===

Repaired persister log - 6 recovered, 0 bad

 

=INFO REPORT==== 29-Sep-2007::12:38:03 ===

Rolling persister log to &quot;d:/Documents and
Settings/Lynton/rabbitmq/db/rabbit-mnesia/rabbit_persister.LOG.previous&quot;

 

=INFO REPORT==== 29-Sep-2007::12:38:03 ===

started TCP listener on 0.0.0.0:5672

 

=INFO REPORT==== 29-Sep-2007::14:11:32 ===

accepted TCP connection on 0.0.0.0:5672 from 127.0.0.1:1531

 

=WARNING REPORT==== 29-Sep-2007::14:11:35 ===

Attempt by client to use invalid ticket 0

 

=WARNING REPORT==== 29-Sep-2007::14:11:35 ===

Lax ticket check mode: fabricating full ticket number 0

 

=INFO REPORT==== 29-Sep-2007::14:11:53 ===

Connection closed abruptly.

 

=INFO REPORT==== 29-Sep-2007::14:11:53 ===

closing TCP connection from 127.0.0.1:1531

 

And this is what it says in the broker:

 

starting database             ...done

starting core processes       ...done

starting recovery             ...done

starting persister            ...done

starting builtin applications ...done

starting TCP listeners        ...done

 

broker running

debug:: Internal rollback &lt;0.194.0&gt;

-          0 acks uncommitted, 0 messages unacked, 0 publishes uncommitted

 

Any ideas?

 

Chat later

 

Lynton

 

  _____  

From: Lynton Grice [mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lynton.grice at netweaverguru.com</A>] 
Sent: 29 September 2007 01:51 PM
To: '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>'; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">qpid-dev at incubator.apache.org</A>
Cc: 'Matthias Radestock'; '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at cohesiveft.com</A>'
Subject: Python / QPID to RabbitMQ....no MLLIB??
Importance: High

 

Hi there,

 

I installed the latest version of the QPID python libs from
<A HREF="http://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid/python/">http://svn.apache.org/repos/asf/incubator/qpid/trunk/qpid/python/</A> and am
having an interesting problem.. 

 

The problem is in &quot;spec.py&quot;.....

 

It is yelling about the following line:

 

import re, textwrap, new, mllib

...

ImportError: No module named mllib

 

Traceback (innermost last):

 

File &quot;D:\tmp\Rabbit\rabbit.py&quot;, line 1, in ?

  import qpid

File &quot;D:\tmp\Rabbit\rabbit.py&quot;, line 1, in ?

  import qpid

File &quot;D:\Python24\Lib\site-packages\qpid\__init__.py&quot;, line 20, in ?

  import spec, codec, connection, content, peer, delegate, client File
&quot;D:\Python24\Lib\site-packages\qpid\spec.py&quot;, line 32, in ?

  import re, textwrap, new, mllib

 

 

Any ideas?

 

I will keep digging for now

 

Lynton

 

 

 

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20070929/f26fcb3f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20070929/f26fcb3f/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000227.html">[rabbitmq-discuss] Python / QPID to RabbitMQ....no MLLIB??
</A></li>
	<LI>Next message: <A HREF="000230.html">[rabbitmq-discuss] Python / QPID to RabbitMQ....no MLLIB??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#228">[ date ]</a>
              <a href="thread.html#228">[ thread ]</a>
              <a href="subject.html#228">[ subject ]</a>
              <a href="author.html#228">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
