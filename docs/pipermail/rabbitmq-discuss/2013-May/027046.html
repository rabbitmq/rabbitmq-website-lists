<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Regarding Federation Plugin Configuration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Regarding%20Federation%20Plugin%20Configuration&In-Reply-To=%3CDB14E94115BBC84E8960C12C176D06762BB0802D%40MX25A.corp.emc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027053.html">
   <LINK REL="Next"  HREF="027054.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Regarding Federation Plugin Configuration</H1>
    <B>Jain, Punit</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Regarding%20Federation%20Plugin%20Configuration&In-Reply-To=%3CDB14E94115BBC84E8960C12C176D06762BB0802D%40MX25A.corp.emc.com%3E"
       TITLE="[rabbitmq-discuss] Regarding Federation Plugin Configuration">Punit.Jain at emc.com
       </A><BR>
    <I>Fri May 10 09:19:45 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027053.html">[rabbitmq-discuss] About the RabbitMQ Plugin JSONRPC
</A></li>
        <LI>Next message: <A HREF="027054.html">[rabbitmq-discuss] Regarding Federation Plugin Configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27046">[ date ]</a>
              <a href="thread.html#27046">[ thread ]</a>
              <a href="subject.html#27046">[ subject ]</a>
              <a href="author.html#27046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I have configured two brokers in federated mode, and both are running on version 2.8.2(I know it's outdated, but for some reasons I have to stick with it). I have configured both in bidirectional mode. You can see the configuration for one broker below. I am able to receive messages from upstream broker, but when connection between brokers is lost or if I close the connection deliberately, the messages are not persisted, i.e. the messages sent to upstream broker during that time span are lost, and they are not received after reestablishing the connection. How can I ensure that the messages are persisted on upstream exchange/queue while connection to federated broker is down or not established? Or is it the expected behavior? I will really appreciate if you can assist me in configuring it properly or provide some workaround.

I tried to find some documentation on federation plugin configuration for version 2.8.2, but I couldn't find anything useful. If you have some link or document for federation plugin configuration for version 2.8.2 or so, please paste it, I will really appreciate it.

[{rabbitmq_federation,
[
        { exchanges,[
                [
                      { exchange, &quot;Cluster1&quot; },
                      { type, &quot;topic&quot; },
                      { upstream_set, &quot;my_upstream&quot; }
                ]
        ]},
        { upstream_sets,
            [
                {&quot;my_upstream&quot;,
                    [
                       [
                            { connection, &quot;host040&quot; },
                            { exchange, &quot;Cluster1&quot; }
                       ]
                    ]
                }
            ]
        },
        { connections,
            [

                {&quot;host040&quot;,
                    [
                      { host, &quot;XX.XX.XX.XX&quot; }
                    ]
                }
            ]
        }
    ]
}].

Thanks,
Punit
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130510/95528d43/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130510/95528d43/attachment.htm</A>&gt;
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027053.html">[rabbitmq-discuss] About the RabbitMQ Plugin JSONRPC
</A></li>
	<LI>Next message: <A HREF="027054.html">[rabbitmq-discuss] Regarding Federation Plugin Configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27046">[ date ]</a>
              <a href="thread.html#27046">[ thread ]</a>
              <a href="subject.html#27046">[ subject ]</a>
              <a href="author.html#27046">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
