<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Repairing a crashed cluster - Obtaining persisted msgs from master
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Repairing%20a%20crashed%20cluster%20-%20Obtaining%0A%20persisted%20msgs%20from%20master&In-Reply-To=%3C1367424708045-26334.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026797.html">
   <LINK REL="Next"  HREF="026811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Repairing a crashed cluster - Obtaining persisted msgs from master</H1>
    <B>ranjitiyer</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Repairing%20a%20crashed%20cluster%20-%20Obtaining%0A%20persisted%20msgs%20from%20master&In-Reply-To=%3C1367424708045-26334.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] Repairing a crashed cluster - Obtaining persisted msgs from master">ranjitiyer at gmail.com
       </A><BR>
    <I>Wed May  1 17:11:48 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026797.html">[rabbitmq-discuss] Repairing a crashed cluster - Obtaining persisted msgs from master
</A></li>
        <LI>Next message: <A HREF="026811.html">[rabbitmq-discuss] Repairing a crashed cluster - Obtaining persisted msgs from master
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26810">[ date ]</a>
              <a href="thread.html#26810">[ thread ]</a>
              <a href="subject.html#26810">[ subject ]</a>
              <a href="author.html#26810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Simon,

&gt;<i> Note that since that message, RabbitMQ 3.0 was released, with 
</I>&gt;<i> &quot;rabbitmqctl forget_cluster_node&quot; - which might help you get the slave 
</I>&gt;<i> started if the master is gone. 
</I>
But isn't this option available only after the rabbitmq server has started
(erl.exe) and I've noticed even erl.exe won't start on a slave machine if
its remote master is not available?

&gt;<i>But what are you trying to do? If the master is still available and more 
</I>&gt;<i>up to date than the slave then why are you removing it? 
</I>
Perhaps my understanding is incomplete. When a newly added slave is yet to
be synchronized (<A HREF="http://www.rabbitmq.com/ha.html#unsynchronised-slaves">http://www.rabbitmq.com/ha.html#unsynchronised-slaves</A>) and
the master (with messages yet to be mirrored across to the slave) dies, does
the hitherto unsynchronized slave, become a fully synchronized master?

My concern was that if this didn't happen, then the newly appointed master
wouldn't have some messages because it wasn't fully synchronized and there
would need to be a way to pull those from the old master DB. (can assume
there is access to the master's db file).

Ranjit



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Repairing-a-crashed-cluster-Obtaining-persisted-msgs-from-master-tp26310p26334.html">http://rabbitmq.1065348.n5.nabble.com/Repairing-a-crashed-cluster-Obtaining-persisted-msgs-from-master-tp26310p26334.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026797.html">[rabbitmq-discuss] Repairing a crashed cluster - Obtaining persisted msgs from master
</A></li>
	<LI>Next message: <A HREF="026811.html">[rabbitmq-discuss] Repairing a crashed cluster - Obtaining persisted msgs from master
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26810">[ date ]</a>
              <a href="thread.html#26810">[ thread ]</a>
              <a href="subject.html#26810">[ subject ]</a>
              <a href="author.html#26810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
