<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RDQ files filling the disk.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RDQ%20files%20filling%20the%20disk.&In-Reply-To=%3C1369174785991-26903.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027386.html">
   <LINK REL="Next"  HREF="027388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RDQ files filling the disk.</H1>
    <B>michi.oshima</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RDQ%20files%20filling%20the%20disk.&In-Reply-To=%3C1369174785991-26903.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] RDQ files filling the disk.">moshima at advent.com
       </A><BR>
    <I>Tue May 21 23:19:46 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027386.html">[rabbitmq-discuss] RabbitMQ 3.1.1 Management Console Issue
</A></li>
        <LI>Next message: <A HREF="027388.html">[rabbitmq-discuss] RDQ files filling the disk.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27387">[ date ]</a>
              <a href="thread.html#27387">[ thread ]</a>
              <a href="subject.html#27387">[ subject ]</a>
              <a href="author.html#27387">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We deploy a couple of RabbitMQ servers.  Say Rabbit1 and Rabbit2.  They are
linked with each other via the Shovel plug-in.  A client publishes messages
to Rabbit1 and another client consumes them from Rabbit2.  Each of these
clients connects to a durable queue.

We recently had an issue where Rabbit1 started taking up a lot of disk
space.  A directory called 'msg_store_transient' got up to some 20 GB,
filled with files with *.rdq extension.  They are about 16MB each in size. 
It almost filled up the disk (it's a small disk) and caused our application
(client to Rabbit1) to fail.

Meanwhile, Rabbit2 reportedly have been receiving the messages from Rabbit1. 
I also saw no shovel connection related errors in rabbit.log, etc.

Q1. Does this sound plausible?  If so, how could this happen?
Q2. I'm thinking the rdq files are meant to get deleted at some point.  What
would cause the files to *not* get deleted?

Thanks,

Michi Oshima




--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/RDQ-files-filling-the-disk-tp26903.html">http://rabbitmq.1065348.n5.nabble.com/RDQ-files-filling-the-disk-tp26903.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>
















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027386.html">[rabbitmq-discuss] RabbitMQ 3.1.1 Management Console Issue
</A></li>
	<LI>Next message: <A HREF="027388.html">[rabbitmq-discuss] RDQ files filling the disk.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27387">[ date ]</a>
              <a href="thread.html#27387">[ thread ]</a>
              <a href="subject.html#27387">[ subject ]</a>
              <a href="author.html#27387">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
