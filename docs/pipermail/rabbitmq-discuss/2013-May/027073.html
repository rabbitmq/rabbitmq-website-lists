<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] does client caches messages?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20does%20client%20caches%20messages%3F&In-Reply-To=%3C518E4CDB.7090106%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027072.html">
   <LINK REL="Next"  HREF="027077.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] does client caches messages?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20does%20client%20caches%20messages%3F&In-Reply-To=%3C518E4CDB.7090106%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] does client caches messages?">matthias at rabbitmq.com
       </A><BR>
    <I>Sat May 11 14:51:23 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027072.html">[rabbitmq-discuss] does client caches messages?
</A></li>
        <LI>Next message: <A HREF="027077.html">[rabbitmq-discuss] persistent connections on rabbitmq-server when android client losses internet connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27073">[ date ]</a>
              <a href="thread.html#27073">[ thread ]</a>
              <a href="subject.html#27073">[ subject ]</a>
              <a href="author.html#27073">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/05/13 12:42, Mohsen Lotfizad wrote:
&gt;<i>          channel.basicConsume(QUEUE_NAME, false, consumer);
</I>&gt;<i>          channel.basicQos(1);
</I>
There's your problem.

As soon as the consumer is created, RabbitMQ will start delivering 
messages to it. By the time the prefetch is set, many messages may 
already be on their way to the client.

You should set the prefetch *before* consuming.

Matthias.
</PRE>
















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027072.html">[rabbitmq-discuss] does client caches messages?
</A></li>
	<LI>Next message: <A HREF="027077.html">[rabbitmq-discuss] persistent connections on rabbitmq-server when android client losses internet connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27073">[ date ]</a>
              <a href="thread.html#27073">[ thread ]</a>
              <a href="subject.html#27073">[ subject ]</a>
              <a href="author.html#27073">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
