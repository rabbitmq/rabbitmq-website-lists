<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Memory grows very fast
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Memory%20grows%20very%20fast&In-Reply-To=%3C519528ED.5050205%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027242.html">
   <LINK REL="Next"  HREF="027441.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Memory grows very fast</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Memory%20grows%20very%20fast&In-Reply-To=%3C519528ED.5050205%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Memory grows very fast">matthias at rabbitmq.com
       </A><BR>
    <I>Thu May 16 19:43:57 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027242.html">[rabbitmq-discuss] Memory grows very fast
</A></li>
        <LI>Next message: <A HREF="027441.html">[rabbitmq-discuss] Memory grows very fast
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27264">[ date ]</a>
              <a href="thread.html#27264">[ thread ]</a>
              <a href="subject.html#27264">[ subject ]</a>
              <a href="author.html#27264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 16/05/13 12:28, rabbit666 wrote:
&gt;<i> it seems that multicastmain and our test are different. as i suppose the mm
</I>&gt;<i> load broker exactly by 600000 messages. our test produce 600000 as a result
</I>&gt;<i> of differences beetwen producers and cosumers.
</I>&gt;<i>
</I>&gt;<i> our scenario assumes that for 32 queues 6*32 producers and 32 consumers.
</I>&gt;<i> producers produce more message that cosumers cosnsume.
</I>
So if I understand you correctly, you have 32 queues with six producers 
and one consumer each, and the 600k enqueued messages arise from the 
fact that consumers cannot keep up with producers?

Is it possible that a lot more messages (e.g. a few million) were 
enqueued at some point prior to settling on the 600k figure?

What else is going on in your system? The 'rabbitmqctl status' showed 
486 sockets in use, so clearly there must be more than 6*32+32=224 
connections.

Please post the output of 'rabbitmqctl report' while the system is using 
a lot of memory.

Matthias.
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027242.html">[rabbitmq-discuss] Memory grows very fast
</A></li>
	<LI>Next message: <A HREF="027441.html">[rabbitmq-discuss] Memory grows very fast
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27264">[ date ]</a>
              <a href="thread.html#27264">[ thread ]</a>
              <a href="subject.html#27264">[ subject ]</a>
              <a href="author.html#27264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
