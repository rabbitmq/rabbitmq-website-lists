<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Problem when running second consumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Problem%20when%20running%20second%20consumer&In-Reply-To=%3CC0DAF8E3-03DE-4479-8CC6-F30D1AE90FB5%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027237.html">
   <LINK REL="Next"  HREF="027230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Problem when running second consumer</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Problem%20when%20running%20second%20consumer&In-Reply-To=%3CC0DAF8E3-03DE-4479-8CC6-F30D1AE90FB5%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Problem when running second consumer">tim at rabbitmq.com
       </A><BR>
    <I>Thu May 16 12:14:03 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027237.html">[rabbitmq-discuss] Problem when running second consumer
</A></li>
        <LI>Next message: <A HREF="027230.html">[rabbitmq-discuss] Problem when running second consumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27239">[ date ]</a>
              <a href="thread.html#27239">[ thread ]</a>
              <a href="subject.html#27239">[ subject ]</a>
              <a href="author.html#27239">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Urgh - this thread is getting very mixed up. 

Putting the list back on CC.

Right...

On 16 May 2013, at 11:42, Balachandar R.A. wrote:

&gt;<i> I did telnet to the host and port as below:-
</I>&gt;<i>  
</I>&gt;<i> telnet 40.221.94.235 5672
</I>&gt;<i> Trying 40.221.94.235...
</I>&gt;<i> Connected to 40.221.94.235.
</I>&gt;<i> Escape character is '^]'.
</I>&gt;<i> Connection closed by foreign host.
</I>

So the network connectivity between your virtual machines seems ok.

&gt;<i> I can do ping all nodes between each other.
</I>
The ability to send ICMP packets between machines doesn't confirm that all other kinds of communication will work, though it's useful to know. The fact that you can telnet to the broker means that you ought to be able to connect from a regular AMQP client.

&gt;<i> I did not create any configuration file for rabbit mq.
</I>&gt;<i> The head node and compute node has only the client jars. (obtained from rabbitmq-java-client-bin-2.3.1)
</I>
Erm, where is the broker running exactly? On this HEAD node yes? Is *that* the machine with the IP address 40.221.94.235?

I note that in your producer code, you do not set the username or password, whereas in your consumer code you do. You should not need to set these explicitly, since &quot;guest:guest&quot; is the default.

Please consider running a network capture tool (such as wireshark) to confirm that AMQP frames are in fact being sent from the consumer's machine to the broker's machine correctly. If there is nothing in the rabbit.log or rabbit-sasl.log files, then the connection attempt *cannot* be getting through. If there *is* a connection being logged, then I need to know about it, even if there's nothing further in the logs about authentication failures or whatever.

Please confirm that you're not running any other AMQP brokers (e.g., OpenAMQ, etc) on any of your infrastructure, which the client might be erroneously connecting to. Please confirm that RabbitMQ is indeed running on the default port of 5672 - that seems to be the case, but I just want to make sure. 

Thanks,
Tim

On 16 May 2013, at 11:24, Tim Watson wrote:

&gt;<i> On 05/16/2013 11:05 AM, Balachandar R.A. wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> telnet ip-of-server 15672
</I>&gt;<i> 
</I>&gt;<i> That's the HTTP port, not the AMQP port. If you've not customised anything, then the broker will listen for AMQP connections on 5672. Can you telnet to *that* port?
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130516/5d5b5b1e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130516/5d5b5b1e/attachment.htm</A>&gt;
</PRE>











































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027237.html">[rabbitmq-discuss] Problem when running second consumer
</A></li>
	<LI>Next message: <A HREF="027230.html">[rabbitmq-discuss] Problem when running second consumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27239">[ date ]</a>
              <a href="thread.html#27239">[ thread ]</a>
              <a href="subject.html#27239">[ subject ]</a>
              <a href="author.html#27239">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
