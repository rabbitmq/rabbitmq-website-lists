<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Proposal: Change consumers Round-Robin	behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Proposal%3A%20Change%20consumers%20Round-Robin%0A%09behaviour&In-Reply-To=%3CEC5EB703-D107-4552-A7CE-19B6DD404A2D%40nexttolast.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026855.html">
   <LINK REL="Next"  HREF="026857.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Proposal: Change consumers Round-Robin	behaviour</H1>
    <B>David Goehrig</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Proposal%3A%20Change%20consumers%20Round-Robin%0A%09behaviour&In-Reply-To=%3CEC5EB703-D107-4552-A7CE-19B6DD404A2D%40nexttolast.com%3E"
       TITLE="[rabbitmq-discuss] Proposal: Change consumers Round-Robin	behaviour">dave at nexttolast.com
       </A><BR>
    <I>Thu May  2 13:43:03 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026855.html">[rabbitmq-discuss] Proposal: Change consumers Round-Robin	behaviour
</A></li>
        <LI>Next message: <A HREF="026857.html">[rabbitmq-discuss] Proposal: Change consumers Round-Robin behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26856">[ date ]</a>
              <a href="thread.html#26856">[ thread ]</a>
              <a href="subject.html#26856">[ subject ]</a>
              <a href="author.html#26856">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On May 2, 2013, at 7:53 AM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:

&gt;<i> Does anybody who currently depends on round-robin want to speak up?
</I>
My apps don't currently strictly rely upon round-robin, but scale better with it. I have found that you can avoid the RRRRGGGG behavior by managing your prefetch size and not acking too soon. 

In our app, our cluster gets huge spikes of traffic on a fixed period, and we need to evenly distribute the load across the worker cluster to keep up with realtime requirements. Round-robin in this case spreads the load better than a random distribution, as random only guarantees even distribution in the long run, where the long run is demonstrably too long for our update frequency. Since we know the volume of data and the amount of processing on each node, we can tune very accurately for cost. 

I've only tested with 10s-100s of consumers on a single queue. So YMMV. Though
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026855.html">[rabbitmq-discuss] Proposal: Change consumers Round-Robin	behaviour
</A></li>
	<LI>Next message: <A HREF="026857.html">[rabbitmq-discuss] Proposal: Change consumers Round-Robin behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26856">[ date ]</a>
              <a href="thread.html#26856">[ thread ]</a>
              <a href="subject.html#26856">[ subject ]</a>
              <a href="author.html#26856">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
