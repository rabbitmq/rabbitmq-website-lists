<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queues no longer expire in RabbitMq 3.1.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queues%20no%20longer%20expire%20in%20RabbitMq%203.1.0&In-Reply-To=%3C3976cf10-7c02-48bf-8f8a-c24add00d924%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026996.html">
   <LINK REL="Next"  HREF="027051.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queues no longer expire in RabbitMq 3.1.0</H1>
    <B>MoonStorm</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queues%20no%20longer%20expire%20in%20RabbitMq%203.1.0&In-Reply-To=%3C3976cf10-7c02-48bf-8f8a-c24add00d924%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Queues no longer expire in RabbitMq 3.1.0">moonstorm at gmail.com
       </A><BR>
    <I>Thu May  9 10:46:07 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026996.html">[rabbitmq-discuss] Queues no longer expire in RabbitMq 3.1.0
</A></li>
        <LI>Next message: <A HREF="027051.html">[rabbitmq-discuss] Queues no longer expire in RabbitMq 3.1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27026">[ date ]</a>
              <a href="thread.html#27026">[ thread ]</a>
              <a href="subject.html#27026">[ subject ]</a>
              <a href="author.html#27026">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Here is a bit more info on the subject. Ran some tests and apparently the 
queues seem to expire if they've been declared as durable after all the 
consumers dropped. Apart from my initial report, the setting is also 
ignored if they've been declared as auto-delete, which sort of makes sense 
(in this case they get deleted immediately). 

Either way, the admin interface reports the setting as active, and this is 
a bug when the setting is actually being ignored. Besides, could we have a 
bit of validation for the settings please? Ignoring them when used in an 
unsupported context is simply wrong.

On Tuesday, May 7, 2013 12:24:08 PM UTC+1, MoonStorm wrote:
&gt;<i>
</I>&gt;<i> Declaring a queue with &quot;x-expires&quot; set to a valid value has no effect 
</I>&gt;<i> after the consumers disconnect. The admin interface reports the queue being 
</I>&gt;<i> idle with no consumers present.
</I>&gt;<i>
</I>&gt;<i> They used to expire in earlier versions. Are there additional requirements 
</I>&gt;<i> now to achieve the same behavior?
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130509/c4886e8e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130509/c4886e8e/attachment.htm</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026996.html">[rabbitmq-discuss] Queues no longer expire in RabbitMq 3.1.0
</A></li>
	<LI>Next message: <A HREF="027051.html">[rabbitmq-discuss] Queues no longer expire in RabbitMq 3.1.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27026">[ date ]</a>
              <a href="thread.html#27026">[ thread ]</a>
              <a href="subject.html#27026">[ subject ]</a>
              <a href="author.html#27026">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
