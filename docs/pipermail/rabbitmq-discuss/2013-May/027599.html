<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Building from SRPM installs plugins w/	version 0.0.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Building%20from%20SRPM%20installs%20plugins%20w/%0A%09version%200.0.0&In-Reply-To=%3CCAHEpgBBu1OwVzCEKwp%2BXAY7yP9%3Da_HsEhYnhmhV4eeQ%2BzRMv8w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027598.html">
   <LINK REL="Next"  HREF="027600.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Building from SRPM installs plugins w/	version 0.0.0</H1>
    <B>Chris</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Building%20from%20SRPM%20installs%20plugins%20w/%0A%09version%200.0.0&In-Reply-To=%3CCAHEpgBBu1OwVzCEKwp%2BXAY7yP9%3Da_HsEhYnhmhV4eeQ%2BzRMv8w%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Building from SRPM installs plugins w/	version 0.0.0">stuff at moesel.net
       </A><BR>
    <I>Fri May 31 14:39:56 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027598.html">[rabbitmq-discuss] Building from SRPM installs plugins w/	version 0.0.0
</A></li>
        <LI>Next message: <A HREF="027600.html">[rabbitmq-discuss] Building from SRPM installs plugins w/	version 0.0.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27599">[ date ]</a>
              <a href="thread.html#27599">[ thread ]</a>
              <a href="subject.html#27599">[ subject ]</a>
              <a href="author.html#27599">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thank you for the response.  Looking in the Makefile, I see this:

VERSION:=0.0.0


And I found this in the README in the rabbitmq-public-umbrella, which seems
to confirm it:

By default, PACKAGE_VERSION takes its value from VERSION.  VERSION is
a global (not per-package) variable intended to be set when invoking
make in order to specify the version number for the release.  So, if
package.mk does nothing to change the default behaviour, the version
number of a package will be the release-wide version number from
VERSION.  By default, VERSION has the value 0.0.0.


It's worth noting, however, that we're not the only ones who apparently
have been caught by this.  If you look at the most recent published RPMs
from the Fedora Project and altlinux.org (albeit the most current are still
old), you'll see that their published RPMs for RabbitMQ also have 0.0.0
plugins:

   -
   <A HREF="http://fedora.mirror.nexicom.net/linux/development/rawhide/x86_64/os/Packages/r/rabbitmq-server-3.0.4-1.fc20.noarch.rpm">http://fedora.mirror.nexicom.net/linux/development/rawhide/x86_64/os/Packages/r/rabbitmq-server-3.0.4-1.fc20.noarch.rpm</A>
   -
   <A HREF="ftp://ftp.altlinux.org/pub/distributions/ALTLinux/Sisyphus/files/noarch/RPMS/rabbitmq-server-2.8.7-alt2.noarch.rpm">ftp://ftp.altlinux.org/pub/distributions/ALTLinux/Sisyphus/files/noarch/RPMS/rabbitmq-server-2.8.7-alt2.noarch.rpm</A>

As for why we repackage, I don't know-- it wasn't my decision.  I guess
maybe we are control freaks? ;-)

Thanks,
Chris


On Fri, May 31, 2013 at 8:35 AM, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>&gt; wrote:

&gt;<i> I'm not sure how you would normally deal with a source RPM in this
</I>&gt;<i> respect, but anyway the src RPM that you've downloaded only contains the
</I>&gt;<i> sources and these are given a release number by the build system. Take a
</I>&gt;<i> look in the various shell scripts and makes files in the
</I>&gt;<i> rabbitmq-public-umbrella for details.
</I>&gt;<i>
</I>&gt;<i> Is there are a reason why you need to package from source yourselves?
</I>&gt;<i>
</I>&gt;<i> On 30 May 2013, at 21:01, Chris wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; 1) Is there something special we should be doing in our build
</I>&gt;<i> environment to fix this?
</I>&gt;<i>
</I>&gt;<i> Don't know - our rpm generation works fine, so maybe try to crib some
</I>&gt;<i> ideas from there?
</I>&gt;<i>
</I>&gt;<i> &gt; 2) Are these incorrectly versioned filenames harmful?
</I>&gt;<i>
</I>&gt;<i> Probably not. RabbitMQ brokers will refuse to cluster if their major
</I>&gt;<i> versions differ, however for plugins there may be no adverse affects at
</I>&gt;<i> all, but don't take that as gospel. Also it could be confusing for folks
</I>&gt;<i> trying to offer on-list support if your rabbitmqctl output shows plugin
</I>&gt;<i> version numbers of 0.0.0.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Tim
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130531/b8020edc/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130531/b8020edc/attachment.htm</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027598.html">[rabbitmq-discuss] Building from SRPM installs plugins w/	version 0.0.0
</A></li>
	<LI>Next message: <A HREF="027600.html">[rabbitmq-discuss] Building from SRPM installs plugins w/	version 0.0.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27599">[ date ]</a>
              <a href="thread.html#27599">[ thread ]</a>
              <a href="subject.html#27599">[ subject ]</a>
              <a href="author.html#27599">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
