<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] smallest amount of work for a consumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20smallest%20amount%20of%20work%20for%20a%20consumer&In-Reply-To=%3C1368547831300-26676.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027236.html">
   <LINK REL="Next"  HREF="027162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] smallest amount of work for a consumer</H1>
    <B>ppafford</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20smallest%20amount%20of%20work%20for%20a%20consumer&In-Reply-To=%3C1368547831300-26676.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] smallest amount of work for a consumer">phillpafford at gmail.com
       </A><BR>
    <I>Tue May 14 17:10:31 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027236.html">[rabbitmq-discuss] Disable writing to disk
</A></li>
        <LI>Next message: <A HREF="027162.html">[rabbitmq-discuss] smallest amount of work for a consumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27160">[ date ]</a>
              <a href="thread.html#27160">[ thread ]</a>
              <a href="subject.html#27160">[ subject ]</a>
              <a href="author.html#27160">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This question is about Architecture / Design:

I have a consumer that needs to perform x numbers of tasks, when should I
think about breaking the consumer up into smaller task and/or adding the
smaller tasks into their own consumer?

Example:

Consumer FooBarShipping does

adds database entry for reporting
adds database entry for account
adds database entry for shipping
generates shipping invoice ( PDF or other formats if needed )
creates notification for shipping
creates notification for account
So my question is, when would I break out the bullet points into smaller
consumers? The consumer as is runs fine but I feel it's getting too large
and needs to be refactored into smaller, more manageable processes.

Should each bullet point be it's own consumer? I can see breaking them up
into three consumers

database
pdf ( documents )
notifications
But what is the smallest unit of work a consumer should do? Do I really need
a consumer to run a sql statement?

I watched

<A HREF="https://www.youtube.com/watch?feature=player_embedded&amp;v=E708csv4XgY">https://www.youtube.com/watch?feature=player_embedded&amp;v=E708csv4XgY</A>
and to me the consumer looks to do basic tasks which kick off other basic
tasks.

StackOverflow:
<A HREF="http://stackoverflow.com/questions/16547240/message-queue-smallest-amount-of-work-for-a-consumer">http://stackoverflow.com/questions/16547240/message-queue-smallest-amount-of-work-for-a-consumer</A>



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/smallest-amount-of-work-for-a-consumer-tp26676.html">http://rabbitmq.1065348.n5.nabble.com/smallest-amount-of-work-for-a-consumer-tp26676.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>




































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027236.html">[rabbitmq-discuss] Disable writing to disk
</A></li>
	<LI>Next message: <A HREF="027162.html">[rabbitmq-discuss] smallest amount of work for a consumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27160">[ date ]</a>
              <a href="thread.html#27160">[ thread ]</a>
              <a href="subject.html#27160">[ subject ]</a>
              <a href="author.html#27160">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
