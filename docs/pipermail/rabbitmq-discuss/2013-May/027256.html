<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] getting duplicated delivery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20getting%20duplicated%20delivery&In-Reply-To=%3CCAAef2CLMTwnmROuAjB-27FyrUHQeCzEHMxmLarcxnpRXZ2avQw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027257.html">
   <LINK REL="Next"  HREF="027258.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] getting duplicated delivery</H1>
    <B>Billy Hand</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20getting%20duplicated%20delivery&In-Reply-To=%3CCAAef2CLMTwnmROuAjB-27FyrUHQeCzEHMxmLarcxnpRXZ2avQw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] getting duplicated delivery">billythethird at gmail.com
       </A><BR>
    <I>Thu May 16 15:38:50 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027257.html">[rabbitmq-discuss] getting duplicated delivery
</A></li>
        <LI>Next message: <A HREF="027258.html">[rabbitmq-discuss] getting duplicated delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27256">[ date ]</a>
              <a href="thread.html#27256">[ thread ]</a>
              <a href="subject.html#27256">[ subject ]</a>
              <a href="author.html#27256">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm using a short program I wrote that generates exactly one message.  I've
made sure of that by stopping the consumers and observing only one message
getting put in the queue.  I also log every message consumed and everyone
that is duplicated is identical (including the correlation ids).

If its meaningful at all I'm running RabbitMQ from the RPM on the main site
(3.1.0).


On Thu, May 16, 2013 at 2:08 AM, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">watson.timothy at gmail.com</A>&gt;wrote:

&gt;<i> On 16 May 2013, at 01:17, Billy Hand &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">billythethird at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; When I put it on my live server (16 cores, mostly idle, fast) a single
</I>&gt;<i> message gets consumed simultaneously by all the workers (duplicated).
</I>&gt;<i>
</I>&gt;<i> Are you sure about that? It's not just the same payload being sent
</I>&gt;<i> repeatedly? What does your consumer code look like and how have you
</I>&gt;<i> determined that this is taking place? Once a message is acked and
</I>&gt;<i> delivered, a queue will not send it (i.e., the same message) to any further
</I>&gt;<i> consumers. Are you checking the correlation-id to confirm the uniqueness of
</I>&gt;<i> the message?
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Tim
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130516/f0a91945/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130516/f0a91945/attachment.htm</A>&gt;
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027257.html">[rabbitmq-discuss] getting duplicated delivery
</A></li>
	<LI>Next message: <A HREF="027258.html">[rabbitmq-discuss] getting duplicated delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27256">[ date ]</a>
              <a href="thread.html#27256">[ thread ]</a>
              <a href="subject.html#27256">[ subject ]</a>
              <a href="author.html#27256">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
