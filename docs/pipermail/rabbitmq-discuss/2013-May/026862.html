<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Shovel failover
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20failover&In-Reply-To=%3CCDA7F03B.9529%25Michael.Laing%40nytimes.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026868.html">
   <LINK REL="Next"  HREF="026863.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Shovel failover</H1>
    <B>Laing, Michael P.</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20failover&In-Reply-To=%3CCDA7F03B.9529%25Michael.Laing%40nytimes.com%3E"
       TITLE="[rabbitmq-discuss] Shovel failover">Michael.Laing at nytimes.com
       </A><BR>
    <I>Thu May  2 15:43:10 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026868.html">[rabbitmq-discuss] Shovels not reconnecting with RabbitMQ 3.1.0
</A></li>
        <LI>Next message: <A HREF="026863.html">[rabbitmq-discuss] Shovel failover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26862">[ date ]</a>
              <a href="thread.html#26862">[ thread ]</a>
              <a href="subject.html#26862">[ subject ]</a>
              <a href="author.html#26862">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Is the new failover scheme described somewhere? Couldn't find it.

Some of my configurations rely on shovels being set up differently for
each node in a cluster and that the shovel will stick to the node on which
it is configured.

The reason for these configurations (backup strategy to compensate for
partitioning) may have become moot now&#352;

However, I have gotten pretty used to the shovel just being a
straightforward, well-behaved application on a single node, driven by that
node's configuration. If it now jumps around among nodes in the cluster
automatically then it is no longer straightforward - let's hope it is
still well-behaved!

-ml

On 5/2/13 9:56 AM, &quot;Tim Watson&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>&gt; wrote:

&gt;<i>On 2 May 2013, at 11:29, Jon Bergli Heier wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hello, after upgrading to RabbitMQ 3.1.0 my shovels doesn't seem to
</I>&gt;&gt;<i>reconnect automatically. I don't have reconnect_delay set, so I'm
</I>&gt;&gt;<i>assuming they should use the default, which is 5 seconds according to
</I>&gt;&gt;<i>the shovel docs (<A HREF="http://www.rabbitmq.com/shovel.html">http://www.rabbitmq.com/shovel.html</A>).
</I>&gt;<i>
</I>&gt;<i>I've just checked and the default reconnect delay is still set to 5
</I>&gt;<i>seconds.
</I>&gt;<i>
</I>&gt;&gt;<i> The shovels are on non-clustered brokers, connecting to a two-node
</I>&gt;&gt;<i>cluster.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>Hmn. If the shovels were clustered then it's possible a named shovel's
</I>&gt;<i>configuration from one node could override the other (due to the way in
</I>&gt;<i>which individual shovel workers fail-over in 3.1), but you say they're
</I>&gt;<i>not clustered. Hmn. I'll have a quick go at reproducing this, but AFAICT
</I>&gt;<i>there's no reason they shouldn't be attempting to reconnect. Unless the
</I>&gt;<i>reconnect_delay is being overridden somewhere?
</I>&gt;<i>
</I>&gt;<i>Cheers,
</I>&gt;<i>Tim
</I>&gt;<i>_______________________________________________
</I>&gt;<i>rabbitmq-discuss mailing list
</I>&gt;<i><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026868.html">[rabbitmq-discuss] Shovels not reconnecting with RabbitMQ 3.1.0
</A></li>
	<LI>Next message: <A HREF="026863.html">[rabbitmq-discuss] Shovel failover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26862">[ date ]</a>
              <a href="thread.html#26862">[ thread ]</a>
              <a href="subject.html#26862">[ subject ]</a>
              <a href="author.html#26862">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
