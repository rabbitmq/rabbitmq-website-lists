<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Naming RabbitMQ nodes with complete domain names
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Naming%20RabbitMQ%20nodes%20with%20complete%20domain%0A%20names&In-Reply-To=%3Cb5753ad7-50be-48e1-8d59-eccf7316867e%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027471.html">
   <LINK REL="Next"  HREF="027493.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Naming RabbitMQ nodes with complete domain names</H1>
    <B>Santiago Ezcurra</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Naming%20RabbitMQ%20nodes%20with%20complete%20domain%0A%20names&In-Reply-To=%3Cb5753ad7-50be-48e1-8d59-eccf7316867e%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Naming RabbitMQ nodes with complete domain names">sezcurra at gmail.com
       </A><BR>
    <I>Fri May 24 00:37:17 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027471.html">[rabbitmq-discuss] Graceful shutdown of blocking consumers in	PHP?
</A></li>
        <LI>Next message: <A HREF="027493.html">[rabbitmq-discuss] Naming RabbitMQ nodes with complete domain names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27463">[ date ]</a>
              <a href="thread.html#27463">[ thread ]</a>
              <a href="subject.html#27463">[ subject ]</a>
              <a href="author.html#27463">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there.....I know this is old thread, but I'm having the same 
problem.....the thing is that I'm trying to build a cluster on amazon ec2. 
there, there is no domain and the machines only have a hostname of the form 
ip-0-0-0-0. everything works fine for one node (and erlang starts with 
-name <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-x-x-x-x</A>), but when i try to join cluster to another node, 
there is no name resolution happening between both machines (other than 
specifying mutually on respectives ec/hosts). 
those machines does recognize the name *ip-x-x-x-x.ec2.internal*....but I'm 
just failing to configure this name. When i tried specifying this long name 
in NODENAME in env file, it's when erlang (or rabbitmq, don't know) 
complains with &quot;can't get short name whatever&quot;. and maybe it's because the 
newer version, but I can't find where to change the -sname by -name in any 
scripts.....could you please have any advice for me ??

Thanks !

Santiago.



On Saturday, February 19, 2011 7:52:21 PM UTC-3, Matthias Radestock wrote:
&gt;<i>
</I>&gt;<i> Max,
</I>&gt;<i>
</I>&gt;<i> Max Bridgewater wrote:
</I>&gt;<i> &gt; Thanks Alvaro. Unfortunately this still doesn't work for me. The steps
</I>&gt;<i> &gt; I followed are:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; a) Stop rabbitmq
</I>&gt;<i> &gt; b) Change the option -sname to -name in rabbitmq-multi
</I>&gt;<i>
</I>&gt;<i> You'd also need to change this in rabbitmq-server.
</I>&gt;<i>
</I>&gt;<i> However, ...
</I>&gt;<i>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; The original issue is this: I'm trying to use JInterface to connect 
</I>&gt;<i> to
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; a rabbitmq cluster hosted on EC2. But I keep getting &quot;Cannot connect
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; to peer node&quot;. My understanding is that this error is happening
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; because I'm using the address '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rab... at domain.org</A> &lt;javascript:&gt;' to 
</I>&gt;<i> contact the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; remote RabbitMQ node named: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at domain.</A> (Note the missing TLD).
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; That is, because there is no exact  match between the node name given
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; to JInterface and the name of the node it is connecting to, the
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; connection fails.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; I desperately tried configuring RabbitMQ to take the complete domain
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; name (domain.org) instead of just the short domain name (domain). 
</I>&gt;<i> Any
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; suggestion on how to resolve this issue?
</I>&gt;<i>
</I>&gt;<i> I'd suggest configuring your local name resolution s.t. the hostname of 
</I>&gt;<i> the machine rabbit is running on resolves to the correct IP. That way 
</I>&gt;<i> you don't have to mess with long names.
</I>&gt;<i>
</I>&gt;<i> Btw, what are you trying to accomplish with JInterface?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq... at lists.rabbitmq.com</A> &lt;javascript:&gt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130523/1f3748d4/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130523/1f3748d4/attachment.htm</A>&gt;
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027471.html">[rabbitmq-discuss] Graceful shutdown of blocking consumers in	PHP?
</A></li>
	<LI>Next message: <A HREF="027493.html">[rabbitmq-discuss] Naming RabbitMQ nodes with complete domain names
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27463">[ date ]</a>
              <a href="thread.html#27463">[ thread ]</a>
              <a href="subject.html#27463">[ subject ]</a>
              <a href="author.html#27463">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
