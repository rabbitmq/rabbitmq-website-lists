<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Memory grows very fast
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Memory%20grows%20very%20fast&In-Reply-To=%3C51939483.5020305%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027204.html">
   <LINK REL="Next"  HREF="027242.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Memory grows very fast</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Memory%20grows%20very%20fast&In-Reply-To=%3C51939483.5020305%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Memory grows very fast">matthias at rabbitmq.com
       </A><BR>
    <I>Wed May 15 14:58:27 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027204.html">[rabbitmq-discuss] Memory grows very fast
</A></li>
        <LI>Next message: <A HREF="027242.html">[rabbitmq-discuss] Memory grows very fast
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27205">[ date ]</a>
              <a href="thread.html#27205">[ thread ]</a>
              <a href="subject.html#27205">[ subject ]</a>
              <a href="author.html#27205">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/05/13 14:49, rabbit666 wrote:
&gt;<i> last rabbitmq status before the machine hang up included.
</I>&gt;<i> [...]
</I>&gt;<i>   {memory,[{total,34566105872},
</I>
right, so that's 34GB, which is indeed a lot.

As suggested previously please run the MulticastMain program that ships 
with the Java client:

$ runjava.sh com.rabbitmq.examples.MulticastMain -q 1 -n 2 -s 609 -C 600000

This replicates your test, namely publishing 600,000 messages of 609 bytes.

If you see excessive memory use with that then something weird is going 
on with rabbit. If not then your own tests are doing something different.

Regards,

Matthias.

</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027204.html">[rabbitmq-discuss] Memory grows very fast
</A></li>
	<LI>Next message: <A HREF="027242.html">[rabbitmq-discuss] Memory grows very fast
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27205">[ date ]</a>
              <a href="thread.html#27205">[ thread ]</a>
              <a href="subject.html#27205">[ subject ]</a>
              <a href="author.html#27205">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
