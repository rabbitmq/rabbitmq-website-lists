<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] More throughput using cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20More%20throughput%20using%20cluster&In-Reply-To=%3CCAMcAHLWt64XU%3DFMbAUTmAw0n2AzvpQSqNyyLkFoPTb5E0R957Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027337.html">
   <LINK REL="Next"  HREF="027302.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] More throughput using cluster</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20More%20throughput%20using%20cluster&In-Reply-To=%3CCAMcAHLWt64XU%3DFMbAUTmAw0n2AzvpQSqNyyLkFoPTb5E0R957Q%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] More throughput using cluster">videlalvaro at gmail.com
       </A><BR>
    <I>Thu May 23 15:17:35 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027337.html">[rabbitmq-discuss] More throughput using cluster
</A></li>
        <LI>Next message: <A HREF="027302.html">[rabbitmq-discuss] ANN Langohr 1.0.0-beta14 is released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27439">[ date ]</a>
              <a href="thread.html#27439">[ thread ]</a>
              <a href="subject.html#27439">[ subject ]</a>
              <a href="author.html#27439">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Nikola.

php-amqplib doesn't support heartbeats right now, but I was just reading
the source code trying to understand how/where to add them.

I would try to cook a new version of the lib with support for heatbeats. At
least to be able to reply to the server when it sends heartbeats to the
client.

Sending heartbeats to the server to see if it is still there is harder with
PHP, since there are no timeouts as with Javascript.

Regards,

Alvaro




On Sun, May 19, 2013 at 5:35 PM, Nikola Savic &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">niks at osic.rs</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Hmm ... I'll look into using basic.consume with two channels like you
</I>&gt;<i> suggest.
</I>&gt;<i>
</I>&gt;<i> There is one more channel that we use :( Direct channel by which worker
</I>&gt;<i> process (consumer) sends ECHO message to itself, because we couldn't make
</I>&gt;<i> php-amqplib recognize that RabbitMQ has gone away.
</I>&gt;<i>
</I>&gt;<i> Alvaro, is there support for AMQP heartbeat in php-amqplib? I was not
</I>&gt;<i> being able to find and activate it :(
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 05/19/2013 05:26 PM, Michael Klishin wrote:
</I>&gt;<i>
</I>&gt;<i>  2013/5/19 Nikola Savic &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">niks at osic.rs</A>&gt;
</I>&gt;<i>
</I>&gt;&gt;<i> We're not using basic_consume, since we must monitor two different
</I>&gt;&gt;<i> channels/exchanges (one direct and one fannout). This is because workers
</I>&gt;&gt;<i> must get messages (task related) by direct queue, and broadcasts over
</I>&gt;&gt;<i> fannout
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You should be able to do this easily with any client using basic.consume.
</I>&gt;<i>
</I>&gt;<i> Also, sounds like a suitable use case for exchangeo-to-exchange bindings:
</I>&gt;<i>
</I>&gt;<i>  <A HREF="http://www.rabbitmq.com/e2e.html">http://www.rabbitmq.com/e2e.html</A>
</I>&gt;<i>  --
</I>&gt;<i> MK
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
</I>&gt;<i> <A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">listrabbitmq-discuss at lists.rabbitmq.comhttps</A>://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130523/f6d66bbf/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130523/f6d66bbf/attachment.htm</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027337.html">[rabbitmq-discuss] More throughput using cluster
</A></li>
	<LI>Next message: <A HREF="027302.html">[rabbitmq-discuss] ANN Langohr 1.0.0-beta14 is released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27439">[ date ]</a>
              <a href="thread.html#27439">[ thread ]</a>
              <a href="subject.html#27439">[ subject ]</a>
              <a href="author.html#27439">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
