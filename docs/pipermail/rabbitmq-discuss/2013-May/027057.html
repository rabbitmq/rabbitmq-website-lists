<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Shovel 3.1.0 - terminates on unknown_host error instead of seeking another host
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%203.1.0%20-%20terminates%20on%20unknown_host%20error%0A%20instead%20of%20seeking%20another%20host&In-Reply-To=%3CCDB2604E.9853%25Michael.Laing%40nytimes.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027086.html">
   <LINK REL="Next"  HREF="027058.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Shovel 3.1.0 - terminates on unknown_host error instead of seeking another host</H1>
    <B>Laing, Michael P.</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%203.1.0%20-%20terminates%20on%20unknown_host%20error%0A%20instead%20of%20seeking%20another%20host&In-Reply-To=%3CCDB2604E.9853%25Michael.Laing%40nytimes.com%3E"
       TITLE="[rabbitmq-discuss] Shovel 3.1.0 - terminates on unknown_host error instead of seeking another host">Michael.Laing at nytimes.com
       </A><BR>
    <I>Fri May 10 13:29:02 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027086.html">[rabbitmq-discuss] stomp adapter behaviour
</A></li>
        <LI>Next message: <A HREF="027058.html">[rabbitmq-discuss] Shovel 3.1.0 - terminates on unknown_host	error instead of seeking another host
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27057">[ date ]</a>
              <a href="thread.html#27057">[ thread ]</a>
              <a href="subject.html#27057">[ subject ]</a>
              <a href="author.html#27057">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>With 3.1.0 our shovel configurations, which worked well in 3.0.4 and prior, now fail due to unknown_host errors.

In these configurations, we put all possible hostnames (usually 6) in the sources / destinations lists. We do this as a convenience because we have automated deployments in AWS EC2 and we don't know ahead of time how many zones in a region will have instances nor exactly which zones &#8211; but we can preallocate ip addresses in the VPC and set up a standard /etc/hosts file with all possible hosts. However there may not actually be an instance running at each IP.

Previously the shovel would always find one of the actual instances, or remain in the 'starting' state.

Now the shovel terminates if a host is not found.

We can smarten up our configuration but that doesn't address the real problem: if a host has failed, we want the shovel to always seek another host and not terminate.

Best regards,

Michael
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130510/3bc496f6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130510/3bc496f6/attachment.htm</A>&gt;
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027086.html">[rabbitmq-discuss] stomp adapter behaviour
</A></li>
	<LI>Next message: <A HREF="027058.html">[rabbitmq-discuss] Shovel 3.1.0 - terminates on unknown_host	error instead of seeking another host
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27057">[ date ]</a>
              <a href="thread.html#27057">[ thread ]</a>
              <a href="subject.html#27057">[ subject ]</a>
              <a href="author.html#27057">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
