<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue increases too quickly
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20increases%20too%20quickly&In-Reply-To=%3C51822939.5040409%40orange.fr%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026842.html">
   <LINK REL="Next"  HREF="026844.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue increases too quickly</H1>
    <B>Ken Peng</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20increases%20too%20quickly&In-Reply-To=%3C51822939.5040409%40orange.fr%3E"
       TITLE="[rabbitmq-discuss] Queue increases too quickly">yhpeng at orange.fr
       </A><BR>
    <I>Thu May  2 09:52:09 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026842.html">[rabbitmq-discuss] ANN Bunny 0.9.0.pre10 is released
</A></li>
        <LI>Next message: <A HREF="026844.html">[rabbitmq-discuss] Queue increases too quickly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26843">[ date ]</a>
              <a href="thread.html#26843">[ thread ]</a>
              <a href="subject.html#26843">[ subject ]</a>
              <a href="author.html#26843">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

We have the queue publisher and subscriber, the subscriber is going with 
multi-threads.

The problem is the queue has been increasing too quickly, the consumers 
can not follow the increment speed, as you see:

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at ubuntu</A>:~#  for i in `seq 1 10`;do rabbitmqctl list_queues -p 
/actionlog;sleep 1;done
Listing queues ...
queue_storm_actionlog   12665787
...done.
Listing queues ...
queue_storm_actionlog   12670873
...done.
Listing queues ...
queue_storm_actionlog   12667975
...done.
Listing queues ...
queue_storm_actionlog   12672645
...done.


After one day or about, the queue size can be more than 20 millions, 
thus RabbitMQ becomes high load and the consuming process is very slow.

How to handle this? Thanks.
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026842.html">[rabbitmq-discuss] ANN Bunny 0.9.0.pre10 is released
</A></li>
	<LI>Next message: <A HREF="026844.html">[rabbitmq-discuss] Queue increases too quickly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26843">[ date ]</a>
              <a href="thread.html#26843">[ thread ]</a>
              <a href="subject.html#26843">[ subject ]</a>
              <a href="author.html#26843">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
