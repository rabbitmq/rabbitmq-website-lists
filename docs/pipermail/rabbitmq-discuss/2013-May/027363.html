<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue declare doesn't return
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20declare%20doesn%27t%20return&In-Reply-To=%3C1A5BC5FB-2457-46E0-8F78-E5542C3BDAB2%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027361.html">
   <LINK REL="Next"  HREF="027435.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue declare doesn't return</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20declare%20doesn%27t%20return&In-Reply-To=%3C1A5BC5FB-2457-46E0-8F78-E5542C3BDAB2%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Queue declare doesn't return">watson.timothy at gmail.com
       </A><BR>
    <I>Mon May 20 19:38:02 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027361.html">[rabbitmq-discuss] Queue declare doesn't return
</A></li>
        <LI>Next message: <A HREF="027435.html">[rabbitmq-discuss] Queue declare doesn't return
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27363">[ date ]</a>
              <a href="thread.html#27363">[ thread ]</a>
              <a href="subject.html#27363">[ subject ]</a>
              <a href="author.html#27363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This sounds a lot like the physical network connection has been severed, but the client isn't noticing for a very long time. What os are you using? Have you considered turning on heartbeats in your clients, be expedite detection of connection failures?

Cheers,
Tim

On 20 May 2013, at 16:26, Michael Journo &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">gobadiah at gmail.com</A>&gt; wrote:

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I've came across a problem, but unfortunately I have very little information about it.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I use rabbitmq 2.8.4, along with clients such as pika (python side) and SimpleAmqpClient (c++ side). This issue was experienced in both those clients.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> What happened is simply that DeclareQueue or queue_declare wouldn't return at all (I mean being blocked for days). 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> When the incident started, I get a lot of 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> =WARNING REPORT==== 18-May-2013::03:09:18 ===
</I>&gt;<i> 
</I>&gt;<i> closing AMQP connection &lt;0.3256.1697&gt; (127.0.0.1:46099 -&gt; 127.0.0.1:5672):
</I>&gt;<i> 
</I>&gt;<i> connection_closed_abruptly
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> in the rabbitmq log, but nothing more.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I fixed this by &#8230; restarting rabbitmq, but I'm kind of worry because I don't know how to detect this problem again (building a timeout mechanism on top of the clients is just not ok).
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> If anyone has any idea about what could cause this, it would be greatly appreciated.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> michael
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130520/0ef31dd8/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130520/0ef31dd8/attachment.htm</A>&gt;
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027361.html">[rabbitmq-discuss] Queue declare doesn't return
</A></li>
	<LI>Next message: <A HREF="027435.html">[rabbitmq-discuss] Queue declare doesn't return
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27363">[ date ]</a>
              <a href="thread.html#27363">[ thread ]</a>
              <a href="subject.html#27363">[ subject ]</a>
              <a href="author.html#27363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
