<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Mirrored queue policies not applying.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Mirrored%20queue%20policies%20not%20applying.&In-Reply-To=%3CA57B6B00637AF741A9FA2D006B40C3C88318DA9D56%40AUSP01VMBX29.collaborationhost.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027412.html">
   <LINK REL="Next"  HREF="027415.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Mirrored queue policies not applying.</H1>
    <B>Chris Nicel</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Mirrored%20queue%20policies%20not%20applying.&In-Reply-To=%3CA57B6B00637AF741A9FA2D006B40C3C88318DA9D56%40AUSP01VMBX29.collaborationhost.net%3E"
       TITLE="[rabbitmq-discuss] Mirrored queue policies not applying.">Chris.Nicel at 15below.com
       </A><BR>
    <I>Wed May 22 14:41:28 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027412.html">[rabbitmq-discuss] STOMP incompatibility upgrading 2.7 to 3.1: escaping colons in header values
</A></li>
        <LI>Next message: <A HREF="027415.html">[rabbitmq-discuss] Mirrored queue policies not applying.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27414">[ date ]</a>
              <a href="thread.html#27414">[ thread ]</a>
              <a href="subject.html#27414">[ subject ]</a>
              <a href="author.html#27414">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I am having trouble with some mirrored queue policies.

The set-up is a simple two node cluster. I am attempting to mirror the queues which currently exist on both nodes. I'd like to use the ha-mode exactly so I can add further nodes as performance requires later down the line.

This is the policy as shown in the admin web interface.

Virtual Host

Name

Pattern

Definition

Priority

zp

zp HA&lt;<A HREF="http://rabbitmq.zorrillo.aws:15672/#/policies/zorrillo.platform/Zorrillo%20HA">http://rabbitmq.zorrillo.aws:15672/#/policies/zorrillo.platform/Zorrillo%20HA</A>&gt;

&quot;*&quot;

ha-mode:

exactly

ha-params:

2

ha-sync-mode:

automatic


0


But the queues are not showing as using the policy on the queues screen.

Overview

Messages

Message rates

Virtual host

Name

Node

Exclusive

Parameters

Policy

Status

Ready

Unacked

Total

incoming

deliver / get

ack

zp

control.mediator:control.commands/f907b124&lt;<A HREF="http://rabbitmq.zorrillo.aws:15672/#/queues/zorrillo.platform/control.mediator%3Acontrol.commands%2Ff907b124">http://rabbitmq.zorrillo.aws:15672/#/queues/zorrillo.platform/control.mediator%3Acontrol.commands%2Ff907b124</A>&gt;

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbitmq2</A>

Owner&lt;<A HREF="http://rabbitmq.zorrillo.aws:15672/#/connections/10.0.1.15%3A59042%20-%3E%2010.0.1.11%3A5672">http://rabbitmq.zorrillo.aws:15672/#/connections/10.0.1.15%3A59042%20-%3E%2010.0.1.11%3A5672</A>&gt;

AD

Idle

0.00/s

0.00/s

zp

control.mediator:control.requests/f907b124&lt;<A HREF="http://rabbitmq.zorrillo.aws:15672/#/queues/zorrillo.platform/control.mediator%3Acontrol.requests%2Ff907b124">http://rabbitmq.zorrillo.aws:15672/#/queues/zorrillo.platform/control.mediator%3Acontrol.requests%2Ff907b124</A>&gt;

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbitmq2</A>

Owner&lt;<A HREF="http://rabbitmq.zorrillo.aws:15672/#/connections/10.0.1.15%3A59042%20-%3E%2010.0.1.11%3A5672">http://rabbitmq.zorrillo.aws:15672/#/connections/10.0.1.15%3A59042%20-%3E%2010.0.1.11%3A5672</A>&gt;

AD

Idle

0.00/s

0.00/s


As I understand it, the ha policies can be changed and queues will update themselves accordingly. So in principle what I am attempting feels right...

Does anyone have any ideas where I may be going wrong?

Cheers

Chris Nicel
Senior Systems Engineer
15below ltd : 15below Australia pty. ltd.

t:        +44 1273 764230
e:       <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">chris.nicel at 15below.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">chris.nicel at 15below.com</A>&gt;
w:      15below.com&lt;<A HREF="http://www.15below.com/">http://www.15below.com/</A>&gt;
[cid:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">image001.png at 01CE56FA.716D8A20</A>]       @15below_travel&lt;<A HREF="https://twitter.com/#!/15below_travel">https://twitter.com/#!/15below_travel</A>&gt;


15below Limited: Company registered in England and Wales No 3945289
Registered Office: Lyndean House, 43-46 Queens Road, Brighton BN1 3XB, United Kingdom

15below Australia Pty Limited: ABN 25 132 716 379
Level 50, 120 Collins Street, Melbourne, Victoria 3000, Australia

Please think about the environment before printing this email.

************************************************************************
This email and any attachments may be confidential and/or legally privileged and are solely for the use of the intended recipient. If you have received this email in error please contact the sender. Any views or opinions expressed within this e-mail are solely those of the sender, and do not necessarily represent those of 15below unless otherwise specifically stated. Although 15below has taken every reasonable precaution to ensure that any attachment to this e-mail has been checked for viruses, it is strongly recommended that you carry out your own virus check before opening any attachment, as we cannot accept liability for any damage sustained as a result of software virus infection.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130522/65734f71/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130522/65734f71/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: image001.png
Type: image/png
Size: 808 bytes
Desc: image001.png
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130522/65734f71/attachment.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130522/65734f71/attachment.png</A>&gt;
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027412.html">[rabbitmq-discuss] STOMP incompatibility upgrading 2.7 to 3.1: escaping colons in header values
</A></li>
	<LI>Next message: <A HREF="027415.html">[rabbitmq-discuss] Mirrored queue policies not applying.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27414">[ date ]</a>
              <a href="thread.html#27414">[ thread ]</a>
              <a href="subject.html#27414">[ subject ]</a>
              <a href="author.html#27414">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
