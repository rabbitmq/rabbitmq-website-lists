<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Strange subtract_acks crash in RabbitMQ 3.1.0-1 (case_clause empty) on EC2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%0A%09%3D%3Futf-8%3Fq%3FStrange_subtract%3D5Facks_crash_in_Rab%3F%3D%0A%09%3D%3Futf-8%3Fq%3FbitMQ_3%3D2E1%3D2E0-1_%3D28case%3D5Fclause_empty%3D29_on_EC2%3F%3D&In-Reply-To=%3Cloom.20130520T160656-885%40post.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027351.html">
   <LINK REL="Next"  HREF="027307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Strange subtract_acks crash in RabbitMQ 3.1.0-1 (case_clause empty) on EC2</H1>
    <B>Karl Rieb</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%0A%09%3D%3Futf-8%3Fq%3FStrange_subtract%3D5Facks_crash_in_Rab%3F%3D%0A%09%3D%3Futf-8%3Fq%3FbitMQ_3%3D2E1%3D2E0-1_%3D28case%3D5Fclause_empty%3D29_on_EC2%3F%3D&In-Reply-To=%3Cloom.20130520T160656-885%40post.gmane.org%3E"
       TITLE="[rabbitmq-discuss] Strange subtract_acks crash in RabbitMQ 3.1.0-1 (case_clause empty) on EC2">karl.rieb at gmail.com
       </A><BR>
    <I>Mon May 20 15:10:23 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027351.html">[rabbitmq-discuss] Strange subtract_acks crash in RabbitMQ 3.1.0-1 (case_clause empty) on EC2
</A></li>
        <LI>Next message: <A HREF="027307.html">[rabbitmq-discuss] Failed to start rabbitmq-server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27359">[ date ]</a>
              <a href="thread.html#27359">[ thread ]</a>
              <a href="subject.html#27359">[ subject ]</a>
              <a href="author.html#27359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at ...</A>&gt; writes:

&gt;<i> 
</I>&gt;<i> On 19/05/13 22:56, Matthias Radestock wrote:
</I>&gt;<i> &gt; To help us track down the cause of the bug, it would be good to know
</I>&gt;<i> &gt; whether your applications use AMQP transactions.
</I>&gt;<i> 
</I>&gt;<i> To expand this: we have replicated this issue when transactions are in 
</I>&gt;<i> use (and will have a fix in the next release). But if you can make this 
</I>&gt;<i> happen without using transactions, we'd really like to hear from you.
</I>&gt;<i> 
</I>&gt;<i> Cheers, Simon
</I>&gt;<i> 
</I>
Hi Simon &amp; Matthias,

We have only noticed the issue when transactions are enabled and we use 
transactions on all our queues.  I only really need to restart the node when 
I find the strange: 

  &quot;INFO: task beam.smp:18971 blocked for more than 120 seconds.&quot;

logs in my /var/syslog (which seems to be another unrelated issue with 
flushing data in memory to disk on EC2).

Thanks a lot for replying so quickly and letting me know about the bug and 
future bug fix.  We really appreciate it!

Let me know if there is any other information you guys would like to help 
with the bug fix.

-Karl

</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027351.html">[rabbitmq-discuss] Strange subtract_acks crash in RabbitMQ 3.1.0-1 (case_clause empty) on EC2
</A></li>
	<LI>Next message: <A HREF="027307.html">[rabbitmq-discuss] Failed to start rabbitmq-server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27359">[ date ]</a>
              <a href="thread.html#27359">[ thread ]</a>
              <a href="subject.html#27359">[ subject ]</a>
              <a href="author.html#27359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
