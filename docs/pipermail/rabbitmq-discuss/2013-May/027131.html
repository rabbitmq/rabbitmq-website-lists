<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Production cluster fun, make that not so fun (production cluster setup guidance)!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Production%20cluster%20fun%2C%0A%20make%20that%20not%20so%20fun%20%28production%20cluster%20setup%20guidance%29%21&In-Reply-To=%3Ca9bb05f0-febb-4e1f-98ea-99aed190f9ea%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027273.html">
   <LINK REL="Next"  HREF="027376.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Production cluster fun, make that not so fun (production cluster setup guidance)!</H1>
    <B>Stefan Sedich</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Production%20cluster%20fun%2C%0A%20make%20that%20not%20so%20fun%20%28production%20cluster%20setup%20guidance%29%21&In-Reply-To=%3Ca9bb05f0-febb-4e1f-98ea-99aed190f9ea%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Production cluster fun, make that not so fun (production cluster setup guidance)!">stefan.sedich at gmail.com
       </A><BR>
    <I>Tue May 14 05:52:08 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027273.html">[rabbitmq-discuss] stability of on-disk formats
</A></li>
        <LI>Next message: <A HREF="027376.html">[rabbitmq-discuss] Production cluster fun,	make that not so fun (production cluster setup guidance)!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27131">[ date ]</a>
              <a href="thread.html#27131">[ thread ]</a>
              <a href="subject.html#27131">[ subject ]</a>
              <a href="author.html#27131">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>What is the ideal setup for our production cluster, currently we have two 
ABs with two nodes in each, after setting pause_minority today and having a 
partition where all nodes were paused, we changed to autoheal and restarted 
all nodes. In the midst of this something happened, and even rolling back 
to just 1 node apps were not able to connect to the node.

In the end my only fix was to completely trash the db/ of that one node and 
restart it which got things working again (no idea what got corrupted or 
how but something went bad). Now after this is would be good for some 
guidance on how to properly configure out cluster and how many nodes would 
be ideal and what recovery node to use (we seem to occasionally have 
a partition, even though it SHOULD be a stable link).



Thanks
Stefan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130513/bcdf7dad/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130513/bcdf7dad/attachment.htm</A>&gt;
</PRE>













































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027273.html">[rabbitmq-discuss] stability of on-disk formats
</A></li>
	<LI>Next message: <A HREF="027376.html">[rabbitmq-discuss] Production cluster fun,	make that not so fun (production cluster setup guidance)!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27131">[ date ]</a>
              <a href="thread.html#27131">[ thread ]</a>
              <a href="subject.html#27131">[ subject ]</a>
              <a href="author.html#27131">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
