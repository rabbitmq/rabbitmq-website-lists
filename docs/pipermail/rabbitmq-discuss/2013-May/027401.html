<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] create a policy for concrete nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20create%20a%20policy%20for%20concrete%20nodes&In-Reply-To=%3C624D7A3B-508E-4971-9179-BBFF7D4F6869%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027400.html">
   <LINK REL="Next"  HREF="027408.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] create a policy for concrete nodes</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20create%20a%20policy%20for%20concrete%20nodes&In-Reply-To=%3C624D7A3B-508E-4971-9179-BBFF7D4F6869%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] create a policy for concrete nodes">tim at rabbitmq.com
       </A><BR>
    <I>Wed May 22 10:30:59 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027400.html">[rabbitmq-discuss] create a policy for concrete nodes
</A></li>
        <LI>Next message: <A HREF="027408.html">[rabbitmq-discuss] create a policy for concrete nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27401">[ date ]</a>
              <a href="thread.html#27401">[ thread ]</a>
              <a href="subject.html#27401">[ subject ]</a>
              <a href="author.html#27401">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 22 May 2013, at 10:21, Slyth wrote:

&gt;<i> Now I have 4 machines which are clustered one queue with a policy for
</I>&gt;<i> mirroring all nodes and everything works fine.
</I>&gt;<i> Now I have only one more little question because of the queue.
</I>[snip]
&gt;<i> Is it important which I use and when the node with the queue goes down
</I>&gt;<i> do I have to restart the queue?
</I>
The way mirroring works is that the queues is constantly replicated on all the nodes the policy dictates. So if you have a queue called 'foobarbaz' and the policy is set up to replicate that across all 4 nodes, then the queue will be running on all 4 nodes all the time. The HA system will decide that one of the nodes will host the 'master' version of the queue. The actual processing (i.e., enqueue and dequeue operations) will take place on the master - i.e., all messages will be routed to/from this node, regardless of which node(s) clients connect to - and the master will remain synchronised with the other (slave) nodes in real time. If the node where the master for that queue is running dies, one of the slaves will be promoted to become the new master and everything will continue running as normal.

Cheers,
Tim 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027400.html">[rabbitmq-discuss] create a policy for concrete nodes
</A></li>
	<LI>Next message: <A HREF="027408.html">[rabbitmq-discuss] create a policy for concrete nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27401">[ date ]</a>
              <a href="thread.html#27401">[ thread ]</a>
              <a href="subject.html#27401">[ subject ]</a>
              <a href="author.html#27401">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
