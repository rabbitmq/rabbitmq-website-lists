<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] All nodes in a cluster becomes unresponsive for a short period of time when any node goes down
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20All%20nodes%20in%20a%20cluster%20becomes%20unresponsive%20for%0A%20a%20short%20period%20of%20time%20when%20any%20node%20goes%20down&In-Reply-To=%3C1369114748473-26883.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027370.html">
   <LINK REL="Next"  HREF="027378.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] All nodes in a cluster becomes unresponsive for a short period of time when any node goes down</H1>
    <B>thomas</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20All%20nodes%20in%20a%20cluster%20becomes%20unresponsive%20for%0A%20a%20short%20period%20of%20time%20when%20any%20node%20goes%20down&In-Reply-To=%3C1369114748473-26883.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] All nodes in a cluster becomes unresponsive for a short period of time when any node goes down">taihock at gmail.com
       </A><BR>
    <I>Tue May 21 06:39:08 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027370.html">[rabbitmq-discuss] [ANN] RabbitMQ Kerberos authentication plugin
</A></li>
        <LI>Next message: <A HREF="027378.html">[rabbitmq-discuss] All nodes in a cluster becomes unresponsive	for a short period of time when any node goes down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27369">[ date ]</a>
              <a href="thread.html#27369">[ thread ]</a>
              <a href="subject.html#27369">[ subject ]</a>
              <a href="author.html#27369">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have 3 RabbitMQ nodes, namely <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at A</A>, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at b</A>, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at c</A> in a cluster
with active-mirrored queues HA.
I am using RabbitMQ 3.1.0 with autoheal chosen for
&quot;cluster_partition_handling&quot; and &quot;net_ticktime&quot; set to 2. I tried to
shutdown the network interface instead of shutting down rabbitmq to observe
the behavior and realized that it results in the temporary unresponsiveness
of all the other available nodes for a short period of time. 

This was what I did:
1) All the 3 nodes are running as per normal
2) I shutdown the network interface for <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at B</A>
3) The other 2 nodes become unresponsive for a short period of time and the
messages sent during that period were mostly lost.

I would like to find out if that is the intended behavior or possibly
something wrong with my setup. Thanks in advance.






--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/All-nodes-in-a-cluster-becomes-unresponsive-for-a-short-period-of-time-when-any-node-goes-down-tp26883.html">http://rabbitmq.1065348.n5.nabble.com/All-nodes-in-a-cluster-becomes-unresponsive-for-a-short-period-of-time-when-any-node-goes-down-tp26883.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027370.html">[rabbitmq-discuss] [ANN] RabbitMQ Kerberos authentication plugin
</A></li>
	<LI>Next message: <A HREF="027378.html">[rabbitmq-discuss] All nodes in a cluster becomes unresponsive	for a short period of time when any node goes down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27369">[ date ]</a>
              <a href="thread.html#27369">[ thread ]</a>
              <a href="subject.html#27369">[ subject ]</a>
              <a href="author.html#27369">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
