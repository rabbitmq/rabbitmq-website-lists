<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Federation &amp; SSL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Federation%20%26%20SSL&In-Reply-To=%3C519E7BD9.60902%40cray.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027459.html">
   <LINK REL="Next"  HREF="027467.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Federation &amp; SSL</H1>
    <B>Eric Cozzi</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Federation%20%26%20SSL&In-Reply-To=%3C519E7BD9.60902%40cray.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Federation &amp; SSL">n16483 at cray.com
       </A><BR>
    <I>Thu May 23 21:28:09 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027459.html">[rabbitmq-discuss] Auto-delete queues not compatible with basic.get (vs. basic.consume)?
</A></li>
        <LI>Next message: <A HREF="027467.html">[rabbitmq-discuss] RabbitMQ Federation &amp; SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27453">[ date ]</a>
              <a href="thread.html#27453">[ thread ]</a>
              <a href="subject.html#27453">[ subject ]</a>
              <a href="author.html#27453">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am having an issue configuring Federation and passwordless-ssl login. 
Federation is using https. Seems if I enable the ssl config option 
{fail_if_no_peer_cert,true}, peer brokers get a SSL connection error 
when trying to establish the Federation. Even though I'm setting my SSL 
keys and certs in the rabbitmq config, I'm guessing that Federation 
isn't using the configured certs? Is there a way to configure the client 
and CA cert's to use with Federation?

Eric

Below is my (simplified) configuration.

[
   {rabbit,
     [
       {hipe_compile, true},
       {tcp_listen_options,
         [binary,
           {packet,raw},
           {reuseaddr,true},
           {backlog,128},
           {nodelay,true},
           {exit_on_close,false}
         ]
       },
       {ssl_listeners, [5671]},
       {ssl_options, [{cacertfile,&quot;/opt/cray/ssl/testca/cacert.pem&quot;},
                      {certfile,&quot;/opt/cray/ssl/server-01/cert.pem&quot;},
                      {keyfile,&quot;/opt/cray/ssl/server-01/key.pem&quot;},
                      {verify,verify_peer},
                      {fail_if_no_peer_cert,false}
                     ]
       }
     ]
   }
].

</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027459.html">[rabbitmq-discuss] Auto-delete queues not compatible with basic.get (vs. basic.consume)?
</A></li>
	<LI>Next message: <A HREF="027467.html">[rabbitmq-discuss] RabbitMQ Federation &amp; SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27453">[ date ]</a>
              <a href="thread.html#27453">[ thread ]</a>
              <a href="subject.html#27453">[ subject ]</a>
              <a href="author.html#27453">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
