<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Disable writing to disk
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disable%20writing%20to%20disk&In-Reply-To=%3C519256D4.3080303%40reik.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027272.html">
   <LINK REL="Next"  HREF="027159.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Disable writing to disk</H1>
    <B>Matthias Reik</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disable%20writing%20to%20disk&In-Reply-To=%3C519256D4.3080303%40reik.se%3E"
       TITLE="[rabbitmq-discuss] Disable writing to disk">maze at reik.se
       </A><BR>
    <I>Tue May 14 16:23:00 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027272.html">[rabbitmq-discuss] ANN Bunny 0.9.0.pre11 is released
</A></li>
        <LI>Next message: <A HREF="027159.html">[rabbitmq-discuss] Disable writing to disk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27158">[ date ]</a>
              <a href="thread.html#27158">[ thread ]</a>
              <a href="subject.html#27158">[ subject ]</a>
              <a href="author.html#27158">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

we have been using RabbitMQ for quite a while and are happy users of it, 
but now we got a new requirement to not write, the messages that are 
coming through a specific queue, to disk.

Does RabbitMQ support such a use case? I know that with ZeroMQ you can 
configure the per-queue &quot;swap&quot; and therefore set it to 0, but we would 
prefer to not switch technology.

One alternative would of course be to create a RamDisk and write the 
content to that one, but it was clear from this article
<A HREF="http://www.rabbitmq.com/blog/2011/01/20/rabbitmq-backing-stores-databases-and-disks/">http://www.rabbitmq.com/blog/2011/01/20/rabbitmq-backing-stores-databases-and-disks/</A>
that this is not a good solution (even though it might be a solution for 
us).

If I understand it, RabbitMQ will only write things to disk if we start 
to run low on memory (when we hit the high-watermark?). At the same time 
we will also get into flow control, correct? Would be good to get some 
confirmation on this.

Ideally we would like that we get into flow-control _before_ we run out 
of memory (and therefore before we start writing things to disk). We 
would even prefer that the server &quot;crashes&quot; instead of writing the 
messages to disk (yeah, extreme approach). One &quot;hacky&quot; approach would of 
course observe the memory consumption of the server and just kill it 
once we get too close to our high watermark (or set the high watermark 
to 1.0?).

So what are the possibilities to fulfill such a (surely unusual) 
requirement? Any advice is very much appreciated.

Cheers
Maze

</PRE>





























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027272.html">[rabbitmq-discuss] ANN Bunny 0.9.0.pre11 is released
</A></li>
	<LI>Next message: <A HREF="027159.html">[rabbitmq-discuss] Disable writing to disk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27158">[ date ]</a>
              <a href="thread.html#27158">[ thread ]</a>
              <a href="subject.html#27158">[ subject ]</a>
              <a href="author.html#27158">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
