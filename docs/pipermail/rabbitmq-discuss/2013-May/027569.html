<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Federation &amp; SSL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Federation%20%26%20SSL&In-Reply-To=%3C51A7639F.3000002%40cray.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027546.html">
   <LINK REL="Next"  HREF="027571.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Federation &amp; SSL</H1>
    <B>Eric Cozzi</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Federation%20%26%20SSL&In-Reply-To=%3C51A7639F.3000002%40cray.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Federation &amp; SSL">n16483 at cray.com
       </A><BR>
    <I>Thu May 30 15:35:11 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027546.html">[rabbitmq-discuss] RabbitMQ Federation &amp; SSL
</A></li>
        <LI>Next message: <A HREF="027571.html">[rabbitmq-discuss] RabbitMQ Federation &amp; SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27569">[ date ]</a>
              <a href="thread.html#27569">[ thread ]</a>
              <a href="subject.html#27569">[ subject ]</a>
              <a href="author.html#27569">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias,

Thanks. Setting the local-username to a valid username fixed the 
problem. But, I'm still confused.

I have RabbitMQ configured to use the auth_mechanism_ssl plugin. So, why 
do I have to set the local-username at all? I expected that by setting 
the client ssl-keys in the federation URI, federation would pull the 
username out of the SSL key and use that to authenticate. This works for 
normal clients connecting via SSL. Why doesn't this work for federation 
clients?

Eric

On 05/29/2013 05:52 PM, Matthias Radestock wrote:
&gt;<i> On 29/05/13 23:00, Eric Cozzi wrote:
</I>&gt;&gt;<i> What am I doing wrong?? I have set auth_mechanism=external in my
</I>&gt;&gt;<i> federation URI, but according to the RabbitMQ log, it's trying to
</I>&gt;&gt;<i> authenticate as guest.
</I>&gt;<i>
</I>&gt;<i> You didn't actually post the logs.
</I>&gt;<i>
</I>&gt;<i> Are you sure the entries you see in the logs aren't from authorisation 
</I>&gt;<i> requests of the local connections used by the federation plug-in to 
</I>&gt;<i> publish messages? According to the federation local-username 
</I>&gt;<i> parameters you posted these connections will be associated with the 
</I>&gt;<i> 'guest' user.
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027546.html">[rabbitmq-discuss] RabbitMQ Federation &amp; SSL
</A></li>
	<LI>Next message: <A HREF="027571.html">[rabbitmq-discuss] RabbitMQ Federation &amp; SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27569">[ date ]</a>
              <a href="thread.html#27569">[ thread ]</a>
              <a href="subject.html#27569">[ subject ]</a>
              <a href="author.html#27569">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
