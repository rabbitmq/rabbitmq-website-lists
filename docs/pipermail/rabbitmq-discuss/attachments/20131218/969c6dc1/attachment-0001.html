<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;there,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; I&nbsp;am&nbsp;noticing&nbsp;couple&nbsp;of&nbsp;issues&nbsp;in&nbsp;our&nbsp;rabbit&nbsp;cluster&nbsp;(of&nbsp;2&nbsp;nodes). &lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;I&nbsp;notice&nbsp;a&nbsp;lot&nbsp;of&nbsp;blocked&nbsp;and&nbsp;blocking&nbsp;connections&nbsp;in&nbsp;the&nbsp;management&nbsp;admin&nbsp;UI&nbsp;but&nbsp;&quot;rabbitmqctl&nbsp;list_connections&quot;&nbsp;is&nbsp;not&nbsp;showing&nbsp;any&nbsp;blocked&nbsp;or&nbsp;blocking&nbsp;connections. These&nbsp;connections&nbsp;are&nbsp;living&nbsp;over&nbsp;a&nbsp;day&nbsp;and&nbsp;since&nbsp;we&nbsp;use php&nbsp;in&nbsp;our&nbsp;application&nbsp;layer,&nbsp;none&nbsp;of&nbsp;these&nbsp;connections&nbsp;should&nbsp;not&nbsp;live&nbsp;more&nbsp;than&nbsp;5&nbsp;mins.&nbsp;Whats&nbsp;strange&nbsp;is&nbsp;that&nbsp;this&nbsp;symptom&nbsp;is&nbsp;noticed&nbsp;in&nbsp;only&nbsp;one&nbsp;of&nbsp;the&nbsp;nodes&nbsp;of&nbsp;the&nbsp;cluster.&lt;/li&gt;<br>
<br>
&lt;li&gt;Memory&nbsp;doubles&nbsp;once&nbsp;in&nbsp;a&nbsp;few&nbsp;seconds&nbsp;on&nbsp;same&nbsp;node&nbsp;of&nbsp;the&nbsp;cluster.&nbsp;May&nbsp;be&nbsp;GC&nbsp;is&nbsp;kicking&nbsp;in?&nbsp;Not&nbsp;sure&nbsp;whether&nbsp;it&nbsp;could&nbsp;relate&nbsp;to&nbsp;the&nbsp;blocked/blocking&nbsp;connections.&nbsp;Since&nbsp;this&nbsp;node&nbsp;didn&#39;t&nbsp;hit&nbsp;memory&nbsp;watermark&nbsp;level,&nbsp;logs&nbsp;doesn&#39;t&nbsp;have&nbsp;any&nbsp;warning/errors.&lt;/li&gt;<br>
<br>
&lt;/ol&gt;&lt;img&nbsp;src=&quot;cid:ii_14306acfc4a51d38&quot;&nbsp;alt=&quot;Inline&nbsp;image&nbsp;1&quot;&nbsp;width=&quot;582&quot;&nbsp;height=&quot;107&quot;&gt;&lt;br&gt;&lt;div&gt; &nbsp; &nbsp;I&nbsp;am&nbsp;thinking&nbsp;about&nbsp;restarting&nbsp;the&nbsp;node&nbsp;and&nbsp;putting&nbsp;it&nbsp;back&nbsp;in&nbsp;the&nbsp;cluster&nbsp;to&nbsp;see&nbsp;whether&nbsp;this&nbsp;goes&nbsp;away&nbsp;but&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;understand&nbsp;what&nbsp;is&nbsp;going&nbsp;on.&nbsp;Any&nbsp;help&nbsp;is&nbsp;appreciated. &lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;On&nbsp;a&nbsp;related&nbsp;note,&nbsp;I&nbsp;have&nbsp;a&nbsp;question&nbsp;about&nbsp;redistributing&nbsp;queues&nbsp;after&nbsp;maintanence.&nbsp;For&nbsp;a&nbsp;cluster&nbsp;with&nbsp;2&nbsp;nodes&nbsp;(node&nbsp;1&nbsp;&amp;&nbsp;node&nbsp;2)&nbsp;with&nbsp;mirroring,&nbsp;lets&nbsp;say&nbsp;out&nbsp;of&nbsp;12&nbsp;queues,&nbsp;6&nbsp;lives&nbsp;in&nbsp;node&nbsp;1&nbsp;(as&nbsp;master)&nbsp;and&nbsp;other&nbsp;6&nbsp;lives&nbsp;in&nbsp;node&nbsp;2.&nbsp; For&nbsp;maintenance&nbsp;reasons,&nbsp;if&nbsp;I&nbsp;take&nbsp;node&nbsp;2&nbsp;down&nbsp;and&nbsp;put&nbsp;it&nbsp;back&nbsp;in&nbsp;the&nbsp;cluster,&nbsp;all&nbsp;queues&nbsp;will&nbsp;live&nbsp;node&nbsp;1&nbsp;at&nbsp;this&nbsp;point.&nbsp;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;to&nbsp;redistribute&nbsp;the&nbsp;queues&nbsp;among&nbsp;these&nbsp;2&nbsp;nodes&nbsp;in&nbsp;this&nbsp;case&nbsp;to&nbsp;move&nbsp;6&nbsp;queues&nbsp;back&nbsp;to&nbsp;node&nbsp;2? &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Shri&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &lt;/div&gt;&lt;/div&gt;<br>

</tt>
