<tt>
Thanks&nbsp;.&nbsp;At&nbsp;the&nbsp;code&nbsp;level&nbsp;I&amp;#39;m&nbsp;very&nbsp;certain&nbsp;about&nbsp;closing.&nbsp;I&nbsp;have&nbsp;common&nbsp;point&nbsp;for&nbsp;Rabbit&nbsp;MQ&nbsp;related&nbsp;operation&nbsp;:&nbsp;one&nbsp;for&nbsp;publishing&nbsp;and&nbsp;one&nbsp;for&nbsp;consuming&nbsp;.&nbsp;And&nbsp;at&nbsp;both&nbsp;these&nbsp;I&nbsp;confirmed&nbsp;channel&nbsp;and&nbsp;connection&nbsp;getting&nbsp;closed&nbsp;after&nbsp;the&nbsp;processing&nbsp;[including&nbsp;any&nbsp;exception&nbsp;cases].&lt;br&gt;<br>
I&amp;#39;ll&nbsp;try&nbsp;the&nbsp;tracer&nbsp;and&nbsp;try&nbsp;to&nbsp;get&nbsp;more&nbsp;information.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jan&nbsp;9,&nbsp;2012&nbsp;at&nbsp;3:03&nbsp;PM,&nbsp;Emile&nbsp;Joubert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&gt;emile@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Pradeep,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;07/01/12&nbsp;07:27,&nbsp;pradeep&nbsp;w&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;channel.close();&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connection.close();&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;However&nbsp;after&nbsp;a&nbsp;while&nbsp;[in&nbsp;the&nbsp;management&nbsp;console]&nbsp;I&nbsp;see&nbsp;a&nbsp;lot&nbsp;of&lt;br&gt;<br>
&amp;gt;&nbsp;channels&nbsp;[as&nbsp;of&nbsp;now&nbsp;more&nbsp;than&nbsp;1000].&nbsp;And&nbsp;most&nbsp;of&nbsp;these&nbsp;are&nbsp;not&nbsp;being&lt;br&gt;<br>
&amp;gt;&nbsp;used&nbsp;at&nbsp;all.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;The&nbsp;code&nbsp;you&nbsp;posted&nbsp;should&nbsp;not&nbsp;leak&nbsp;channels,&nbsp;so&nbsp;something&nbsp;else&nbsp;must&nbsp;be&lt;br&gt;<br>
going&nbsp;wrong.&nbsp;Are&nbsp;you&nbsp;certain&nbsp;that&nbsp;the&nbsp;&amp;quot;channel.close();&amp;quot;&nbsp;line&nbsp;is&nbsp;being&lt;br&gt;<br>
executed?&nbsp;Is&nbsp;it&nbsp;possible&nbsp;that&nbsp;a&nbsp;different&nbsp;client&nbsp;is&nbsp;connecting&nbsp;and&lt;br&gt;<br>
failing&nbsp;to&nbsp;properly&nbsp;close&nbsp;channels?&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;are&nbsp;still&nbsp;stuck&nbsp;after&nbsp;checking&nbsp;this&nbsp;then&nbsp;you&nbsp;may&nbsp;want&nbsp;to&nbsp;consider&lt;br&gt;<br>
connecting&nbsp;to&nbsp;the&nbsp;broker&nbsp;via&nbsp;a&nbsp;protocol&nbsp;tracer&nbsp;which&nbsp;will&nbsp;confirm&lt;br&gt;<br>
whether&nbsp;your&nbsp;client&nbsp;is&nbsp;closing&nbsp;the&nbsp;channel&nbsp;or&nbsp;not:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/api-guide.html#tracer&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/api-guide.html#tracer&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/releases/rabbitmq-java-client/current-javadoc/com/rabbitmq/tools/Tracer.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/releases/rabbitmq-java-client/current-javadoc/com/rabbitmq/tools/Tracer.html&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
-Emile&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
