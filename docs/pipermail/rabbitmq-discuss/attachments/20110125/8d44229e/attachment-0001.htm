<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Jan&nbsp;25,&nbsp;2011&nbsp;at&nbsp;10:35&nbsp;AM,&nbsp;Marek&nbsp;Majkowski&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:majek04@gmail.com&quot;&gt;majek04@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Tue,&nbsp;Jan&nbsp;25,&nbsp;2011&nbsp;at&nbsp;18:22,&nbsp;Dan&nbsp;Tenenbaum&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:dtenenba@fhcrc.org&quot;&gt;dtenenba@fhcrc.org&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;If&nbsp;you&nbsp;haven&amp;#39;t&nbsp;done&nbsp;so&nbsp;already,&nbsp;I&nbsp;recommend&nbsp;reading&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/tutorial-three-python.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/tutorial-three-python.html&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;have&nbsp;read&nbsp;this,&nbsp;thanks.&lt;br&gt;<br>
&amp;gt;&nbsp;Here&nbsp;is&nbsp;an&nbsp;attempt&nbsp;that&nbsp;uses&nbsp;two&nbsp;fanout&nbsp;exchanges&nbsp;and&nbsp;two&nbsp;queues,&nbsp;one&nbsp;bound&lt;br&gt;<br>
&amp;gt;&nbsp;to&nbsp;each&nbsp;exchange&nbsp;with&nbsp;&amp;#39;#&amp;#39;.&nbsp;You&nbsp;would&nbsp;think&nbsp;(well,&nbsp;I&nbsp;would&nbsp;think)&nbsp;that&nbsp;any&lt;br&gt;<br>
&amp;gt;&nbsp;message&nbsp;sent&nbsp;to&nbsp;either&nbsp;of&nbsp;these&nbsp;fanout&nbsp;exchanges&nbsp;is&nbsp;going&nbsp;to&nbsp;go&nbsp;to&nbsp;every&lt;br&gt;<br>
&amp;gt;&nbsp;consumer&nbsp;of&nbsp;every&nbsp;queue&nbsp;bound&nbsp;to&nbsp;the&nbsp;appropriate&nbsp;exchange.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;If&nbsp;N&nbsp;messages&nbsp;go&nbsp;to&nbsp;the&nbsp;queue,&nbsp;exactly&nbsp;N&nbsp;messages&nbsp;will&nbsp;go&nbsp;out,&nbsp;no&lt;br&gt;<br>
matter&nbsp;how&nbsp;many&nbsp;consumers&nbsp;are&nbsp;hanging&nbsp;on&nbsp;that&nbsp;queue.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;N&nbsp;messages&nbsp;go&nbsp;to&nbsp;the&nbsp;exchange,&nbsp;any&nbsp;number&nbsp;may&nbsp;go&nbsp;out,&nbsp;depending&nbsp;on&nbsp;bindings.&lt;br&gt;<br>
&lt;br&gt;<br>
Exchanges&nbsp;-&nbsp;broadcast.&lt;br&gt;<br>
Queues&nbsp;-&nbsp;buffering.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;I&nbsp;understand&nbsp;this.&nbsp;That&amp;#39;s&nbsp;why&nbsp;in&nbsp;my&nbsp;code,&nbsp;I&nbsp;publish&nbsp;messages&nbsp;to&nbsp;an&nbsp;exchange,&nbsp;not&nbsp;a&nbsp;queue.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;looking&nbsp;at&nbsp;the&nbsp;python&nbsp;example&nbsp;3&nbsp;code&nbsp;on&nbsp;the&nbsp;rabbitmq&nbsp;site&nbsp;(&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/tutorial-three-python.html&quot;&gt;http://www.rabbitmq.com/tutorial-three-python.html&lt;/a&gt;).&nbsp;If&nbsp;I&nbsp;run&nbsp;this&nbsp;code&nbsp;on&nbsp;my&nbsp;own&nbsp;machine,&nbsp;with&nbsp;multiple&nbsp;instances&nbsp;of&nbsp;receive_logs.py,&nbsp;it&nbsp;works&nbsp;as&nbsp;I&nbsp;would&nbsp;like&nbsp;my&nbsp;own&nbsp;code&nbsp;to&nbsp;work:&nbsp;each&nbsp;instance&nbsp;of&nbsp;receive_logs.py&nbsp;gets&nbsp;a&nbsp;copy&nbsp;of&nbsp;each&nbsp;message&nbsp;sent&nbsp;by&nbsp;emit_logs.py. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;got&nbsp;my&nbsp;code&nbsp;to&nbsp;work&nbsp;by&nbsp;using&nbsp;an&nbsp;un-named&nbsp;exclusive&nbsp;queue&nbsp;in&nbsp;each&nbsp;receiver:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;from_builders_queue&nbsp;=&nbsp;channel.queue_declare(exclusive=True)&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;from_builders_queue_name&nbsp;=&nbsp;from_builders_queue.queue&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;from_web_queue&nbsp;=&nbsp;channel.queue_declare(exclusive=True)&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;from_web_queue_name&nbsp;=&nbsp;from_web_queue.queue&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;channel.queue_bind(exchange=&amp;#39;from_web_exchange&amp;#39;,&nbsp;queue=from_web_queue_name)&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;channel.queue_bind(exchange=&amp;#39;from_worker_exchange&amp;#39;,&nbsp;queue=from_builders_queue_name)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
 &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&amp;gt;&nbsp;However,&nbsp;what&nbsp;happens&nbsp;in&nbsp;practice&nbsp;is&nbsp;only&nbsp;one&nbsp;receiver&nbsp;at&nbsp;a&nbsp;time&nbsp;gets&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;message.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;You&nbsp;need&nbsp;to&nbsp;have&nbsp;exactly&nbsp;as&nbsp;many&nbsp;queues&nbsp;as&nbsp;many&nbsp;copies&nbsp;of&nbsp;the&nbsp;message&lt;br&gt;<br>
you&amp;#39;d&nbsp;like&nbsp;to&nbsp;receive.&lt;br&gt;<br>
&lt;br&gt;<br>
Once&nbsp;again:&nbsp;a&nbsp;message&nbsp;distributed&nbsp;to&nbsp;queue&nbsp;will&nbsp;not&nbsp;be&nbsp;copied&nbsp;to&lt;br&gt;<br>
multiple&nbsp;consumers.&nbsp;It&nbsp;will&lt;br&gt;<br>
be&nbsp;distributed&nbsp;to&nbsp;a&nbsp;single&nbsp;consumer&nbsp;only.&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;your&nbsp;help.&lt;/div&gt;&lt;div&gt;Dan&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
