<tt>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;We&nbsp;are&nbsp;looking&nbsp;at&nbsp;using&nbsp;your&nbsp;consistent&nbsp;hash&nbsp;exchange&nbsp;for<br>
partitioning&nbsp;messages&nbsp;that&nbsp;we&nbsp;need&nbsp;to&nbsp;be&nbsp;processes&nbsp;synchronously&nbsp;based&nbsp;on&nbsp;a<br>
partition&nbsp;key&nbsp;(GUID&nbsp;in&nbsp;our&nbsp;case).&nbsp;The&nbsp;issue&nbsp;we&nbsp;currently&nbsp;face&nbsp;is&nbsp;that&nbsp;we&nbsp;are<br>
already&nbsp;using&nbsp;the&nbsp;routing&nbsp;key&nbsp;for&nbsp;subscriptions&nbsp;based&nbsp;on&nbsp;message&nbsp;type.&nbsp;As&nbsp;there<br>
will&nbsp;be&nbsp;messages&nbsp;of&nbsp;multiple&nbsp;types&nbsp;for&nbsp;the&nbsp;same&nbsp;partition&nbsp;key&nbsp;this&nbsp;will&nbsp;result<br>
in&nbsp;different&nbsp;routing&nbsp;keys&nbsp;and&nbsp;therefore&nbsp;different&nbsp;hashes&nbsp;of&nbsp;those&nbsp;keys&nbsp;for<br>
message&nbsp;that&nbsp;we&nbsp;want&nbsp;partitioned&nbsp;into&nbsp;the&nbsp;same&nbsp;destination&nbsp;queue.&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;What&nbsp;would&nbsp;be&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;go&nbsp;about&nbsp;trying&nbsp;to&nbsp;achieve<br>
this?&nbsp;I&nbsp;have&nbsp;thought&nbsp;of&nbsp;the&nbsp;following&nbsp;options&nbsp;but&nbsp;do&nbsp;not&nbsp;know&nbsp;the&nbsp;relative<br>
merits&nbsp;with&nbsp;respect&nbsp;to&nbsp;performance&nbsp;and&nbsp;the&nbsp;inner&nbsp;workings&nbsp;of&nbsp;RabbitMQ:&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoListParagraph&quot;&nbsp;style=&quot;margin-left:38.25pt;text-indent:-36.0pt;<br>
mso-list:l0&nbsp;level1&nbsp;lfo1&quot;&gt;&lt;!--[if&nbsp;!supportLists]--&gt;i)&lt;span&nbsp;style=&quot;font-size:&nbsp;7pt;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman';&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
&lt;/span&gt;&lt;!--[endif]--&gt;Hash&nbsp;based&nbsp;on&nbsp;the&nbsp;first&nbsp;or&nbsp;last&nbsp;portion&nbsp;of&nbsp;a<br>
routing&nbsp;key&nbsp;(&amp;lt;HashME&amp;gt;.Iamused.For.Other.Routing)&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoListParagraph&quot;&nbsp;style=&quot;margin-left:38.25pt;text-indent:-36.0pt;<br>
mso-list:l0&nbsp;level1&nbsp;lfo1&quot;&gt;&lt;!--[if&nbsp;!supportLists]--&gt;ii)&lt;span&nbsp;style=&quot;font-size:&nbsp;7pt;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman';&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
&lt;/span&gt;&lt;!--[endif]--&gt;Hash&nbsp;based&nbsp;on&nbsp;a&nbsp;Message&nbsp;Header&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoListParagraph&quot;&nbsp;style=&quot;margin-left:38.25pt;text-indent:-36.0pt;<br>
mso-list:l0&nbsp;level1&nbsp;lfo1&quot;&gt;&lt;!--[if&nbsp;!supportLists]--&gt;iii)&lt;span&nbsp;style=&quot;font-size:&nbsp;7pt;&nbsp;line-height:&nbsp;normal;&nbsp;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman';&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;<br>
&lt;/span&gt;&lt;!--[endif]--&gt;Hash&nbsp;based&nbsp;on&nbsp;a&nbsp;Message&nbsp;Property&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoListParagraph&quot;&nbsp;style=&quot;margin-left:38.25pt;text-indent:-36.0pt;<br>
mso-list:l0&nbsp;level1&nbsp;lfo1&quot;&gt;Is&nbsp;there&nbsp;any&nbsp;approach&nbsp;that&nbsp;you<br>
would&nbsp;advocate&nbsp;or&nbsp;indeed&nbsp;strongly&nbsp;advise&nbsp;against?&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-left:2.25pt&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Thank&nbsp;you&nbsp;in&nbsp;advance.&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;
</tt>
