<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;pre&nbsp;style=&quot;&quot;&nbsp;class=&quot;lang-rb&nbsp;prettyprint&nbsp;prettyprinted&quot;&gt;&lt;code&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;The&nbsp;RPC&nbsp;example&nbsp;on&nbsp;the&nbsp;rabbitmq&nbsp;website&nbsp;mentions:&nbsp;delivery_info.consumer.cancel&nbsp;to&nbsp;cancel&nbsp;the&nbsp;subscribe&nbsp;loop.&lt;br&gt;&lt;br&gt;In&nbsp;newer&nbsp;versions&nbsp;of&nbsp;Bunny&nbsp;I&nbsp;think&nbsp;this&nbsp;should&nbsp;become&nbsp;&lt;b&gt;channel&lt;/b&gt;&lt;/span&gt;&lt;b&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;consumers&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;delivery_info&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;consumer_tag&lt;/span&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;].&lt;/span&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;cancel&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;class=&quot;pln&quot;&gt;&nbsp;?&lt;br&gt;&lt;br&gt;However&nbsp;my&nbsp;ruby&nbsp;rpc&nbsp;client&nbsp;is&nbsp;not&nbsp;behaving&nbsp;as&nbsp;expected:&nbsp;the&nbsp;client&nbsp;hangs&nbsp;and&nbsp;does&nbsp;not&nbsp;return&nbsp;the&nbsp;result.&lt;br&gt;&lt;br&gt;The&nbsp;code&nbsp;is&nbsp;over&nbsp;here:&nbsp;https://gist.github.com/anonymous/6334383&lt;br&gt;&lt;br&gt;And&nbsp;this&nbsp;is&nbsp;the&nbsp;logging&nbsp;that&nbsp;is&nbsp;generated.&nbsp;The&nbsp;stacktrace&nbsp;is&nbsp;generated&nbsp;once&nbsp;I&nbsp;stop&nbsp;the&nbsp;debug&nbsp;session.&lt;br&gt;&lt;br&gt;send_message&lt;br&gt;result&nbsp;from&nbsp;server&nbsp;&quot;{\&quot;exception\&quot;:\&quot;java.lang.NullPointerException\\n\\tat&nbsp;com.automatedev.releasequeue.debian.metadata.impl.handler.MetadataReader.getControlContent(MetadataReader.java:70)\\n\\tat&nbsp;com.automatedev.releasequeue.debian.metadata.impl.handler.MetadataReader.getMetadata(MetadataReader.java:32)\\n\\tat&nbsp;com.automatedev.releasequeue.debian.metadata.impl.handler.MetadataHandler.getMetadata(MetadataHandler.java:46)\\n\\tat&nbsp;com.automatedev.releasequeue.debian.metadata.impl.handler.MetadataHandler.handleMessage(MetadataHandler.java:32)\\n\\tat&nbsp;com.automatedev.releasequeue.debian.message.impl.MessageBeanImpl.handleMessage(MessageBeanImpl.java:98)\\n\\tat&nbsp;com.automatedev.releasequeue.debian.message.impl.MessageBeanImpl.receiveAndHandleMessage(MessageBeanImpl.java:78)\\n\\tat&nbsp;com.automatedev.releasequeue.debian.message.impl.MessageBeanImpl$1.run(MessageBeanImpl.java:65)\\n\\tat&nbsp;java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\\n\\tat&nbsp;java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\\n\\tat&nbsp;java.util.concurrent.FutureTask.run(FutureTask.java:166)\\n\\tat&nbsp;java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\\n\\tat&nbsp;java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\\n\\tat&nbsp;java.lang.Thread.run(Thread.java:722)\\n\&quot;}&quot;&lt;br&gt;/home/philippe/.rvm/gems/ruby-1.9.3-p286@releasequeue/gems/bunny-0.9.0.pre10/lib/bunny/consumer_work_pool.rb:48:in&nbsp;`join':&nbsp;Interrupt&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfrom&nbsp;/home/philippe/.rvm/gems/ruby-1.9.3-p286@releasequeue/gems/bunny-0.9.0.pre10/lib/bunny/consumer_work_pool.rb:48:in&nbsp;`block&nbsp;in&nbsp;join'&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfrom&nbsp;/home/philippe/.rvm/gems/ruby-1.9.3-p286@releasequeue/gems/bunny-0.9.0.pre10/lib/bunny/consumer_work_pool.rb:48:in&nbsp;`each'&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfrom&nbsp;/home/philippe/.rvm/gems/ruby-1.9.3-p286@releasequeue/gems/bunny-0.9.0.pre10/lib/bunny/consumer_work_pool.rb:48:in&nbsp;`join'&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfrom&nbsp;/home/philippe/.rvm/gems/ruby-1.9.3-p286@releasequeue/gems/bunny-0.9.0.pre10/lib/bunny/queue.rb:187:in&nbsp;`subscribe'&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfrom&nbsp;/home/philippe/projects/releasequeue/script/rpc.rb:18:in&nbsp;`send_message'&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfrom&nbsp;/home/philippe/projects/releasequeue/script/rpc.rb:32:in&nbsp;`&amp;lt;top&nbsp;(required)&amp;gt;'&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfrom&nbsp;-e:1:in&nbsp;`load'&lt;br&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfrom&nbsp;-e:1:in&nbsp;`&amp;lt;main&amp;gt;'&lt;br&gt;&lt;br&gt;Any&nbsp;help&nbsp;is&nbsp;appreciated!&lt;br&gt;&lt;br&gt;Philippe&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</tt>
