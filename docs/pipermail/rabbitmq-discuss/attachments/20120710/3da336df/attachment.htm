<tt>
Hi&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;found&nbsp;some&nbsp;bugs&nbsp;in&nbsp;management&nbsp;plugin&nbsp;and&nbsp;HA:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Configuration:&lt;/div&gt;&lt;div&gt;&lt;div&gt;Cluster&nbsp;with&nbsp;4&nbsp;nodes:&lt;/div&gt;&lt;div&gt;arch-task-mq-1&nbsp;(disk), arch-task-mq-2&nbsp;(ram), arch-task-mq-3&nbsp;(disk), arch-task-mq-4&nbsp;(ram)&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;Version&nbsp;2.8.4&lt;/div&gt;&lt;div&gt;Erlang&nbsp;R14A&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&lt;/div&gt;&lt;div&gt;On&nbsp;node arch-task-mq-3&nbsp;I&nbsp;execute&nbsp;iptables&nbsp;commands:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;iptables&nbsp;-A&nbsp;INPUT&nbsp;-s&nbsp;arch-task-mq-1&nbsp;-j&nbsp;DROP&lt;/div&gt;&lt;div&gt;<br>
iptables&nbsp;-A&nbsp;OUTPUT&nbsp;-p&nbsp;tcp&nbsp;-d&nbsp;arch-task-mq-1&nbsp;-j&nbsp;DROP&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Node&nbsp;mq-1&nbsp;tells&nbsp;that&nbsp;mq-3&nbsp;is&nbsp;not&nbsp;running,&nbsp;node&nbsp;mq-3&nbsp;tells&nbsp;that&nbsp;mq-1&nbsp;is&nbsp;not&nbsp;running.&lt;/div&gt;&lt;div&gt;Other&nbsp;nodes&nbsp;raport&nbsp;that&nbsp;every&nbsp;node&nbsp;is&nbsp;running.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;5&nbsp;minutes&nbsp;I&nbsp;execute:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;iptables&nbsp;-F&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;a&nbsp;while&nbsp;the&nbsp;mq-3&nbsp;returns&nbsp;to&nbsp;normal&nbsp;operation,&nbsp;but&nbsp;nothing&nbsp;change&nbsp;in&nbsp;state&nbsp;displayed&nbsp;on&nbsp;Overview&nbsp;-&amp;gt;&nbsp;Nodes&nbsp;view&nbsp;on&nbsp;mq-1&nbsp;and&nbsp;mq-3.&lt;/div&gt;<br>
&lt;div&gt;Node&nbsp;mq-3&nbsp;is&nbsp;still&nbsp;raporting&nbsp;that&nbsp;mq-1&nbsp;is&nbsp;not&nbsp;running&nbsp;and&nbsp;vice&nbsp;versa.&nbsp;Information&nbsp;in&nbsp;mq-1&nbsp;about&nbsp;state&nbsp;of&nbsp;mq-3&nbsp;changes&nbsp;after&nbsp;mq-3&nbsp;restart&nbsp;-&nbsp;not&nbsp;before.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2.&lt;/div&gt;&lt;div&gt;After&nbsp;spliting&nbsp;servers&nbsp;using&nbsp;method&nbsp;described&nbsp;above&nbsp;Im&nbsp;trying&nbsp;to&nbsp;remove&nbsp;queue&nbsp;&amp;quot;test&amp;quot;&nbsp;which&nbsp;resides&nbsp;only&nbsp;on&nbsp;mq-3&nbsp;(HA&nbsp;is&nbsp;not&nbsp;used).&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;push&nbsp;&amp;quot;Delete&amp;quot;&nbsp;button&nbsp;on&nbsp;&amp;quot;Queues&amp;quot;&nbsp;and&nbsp;after&nbsp;doing&nbsp;that&nbsp;I&nbsp;back&nbsp;to&nbsp;&amp;quot;Queues&amp;quot;&nbsp;tab.&nbsp;But&nbsp;queue&nbsp;&amp;quot;test&amp;quot;&nbsp;is&nbsp;still&nbsp;there.&lt;/div&gt;&lt;div&gt;After&nbsp;clicking&nbsp;to&nbsp;queue&nbsp;&amp;quot;test&amp;quot;&nbsp;I&nbsp;see:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;highlight&quot;&nbsp;style&gt;Ready&lt;strong&nbsp;style=&quot;font-size:2em;display:block;color:rgb(68,68,68);font-weight:normal&quot;&gt;undefined&lt;/strong&gt; &lt;/div&gt;&lt;div&nbsp;class=&quot;highlight&quot;&nbsp;style&gt;Unacknowledged&lt;strong&nbsp;style=&quot;font-size:2em;display:block;color:rgb(68,68,68);font-weight:normal&quot;&gt;undefined&lt;/strong&gt; &lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;highlight&quot;&nbsp;style&gt;Total&lt;strong&nbsp;style=&quot;font-size:2em;display:block;color:rgb(68,68,68);font-weight:normal&quot;&gt;undefined&lt;/strong&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;I&nbsp;try&nbsp;to&nbsp;delete&nbsp;queue&nbsp;&amp;quot;test&amp;quot;&nbsp;again,&nbsp;server&nbsp;reports&nbsp;that&nbsp;queue&nbsp;not&nbsp;exists.&lt;/div&gt;&lt;div&gt;Screenshot:&nbsp;ss1.png&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3.&lt;/div&gt;&lt;div&gt;After&nbsp;spliting&nbsp;servers&nbsp;using&nbsp;method&nbsp;described&nbsp;above&nbsp;and&nbsp;restoring&nbsp;connection&nbsp;to&nbsp;mq-1&nbsp;in&nbsp;mq-3,&nbsp;node&nbsp;mq-1&nbsp;is&nbsp;reporting&nbsp;internal&nbsp;server&nbsp;errors&nbsp;on&nbsp;&amp;quot;Connections&amp;quot;&nbsp;tab.&nbsp;Errors&nbsp;occurs&nbsp;periodically.&lt;/div&gt;<br>
&lt;div&gt;Screenshort:&nbsp;ss2.png&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;4.&lt;/div&gt;&lt;div&gt;After&nbsp;spliting&nbsp;servers&nbsp;using&nbsp;method&nbsp;described&nbsp;in&nbsp;1.&nbsp;and&nbsp;restoring&nbsp;connection&nbsp;to&nbsp;mq-1&nbsp;from&nbsp;mq-3&nbsp;Im&nbsp;not&nbsp;able&nbsp;to&nbsp;create&nbsp;HA&nbsp;queue.&lt;/div&gt;&lt;div&gt;I&nbsp;go&nbsp;to&nbsp;mq-3&nbsp;and&nbsp;create&nbsp;HA&nbsp;queue&nbsp;named&nbsp;&amp;quot;test&amp;quot;.&nbsp;Node&nbsp;mq-1&nbsp;see&nbsp;that&nbsp;queue,&nbsp;but&nbsp;is&nbsp;not&nbsp;synchronized.&lt;/div&gt;<br>
&lt;div&gt;Screenshots:&nbsp;ss2.png,&nbsp;ss3.png&lt;/div&gt;&lt;div&gt;MQ-1&nbsp;is&nbsp;not&nbsp;able&nbsp;to&nbsp;deliver&nbsp;messages&nbsp;to&nbsp;that&nbsp;queue.&nbsp;Other&nbsp;nodes&nbsp;do&nbsp;it&nbsp;without&nbsp;problems.&lt;/div&gt;&lt;div&gt;Restarting&nbsp;mq-3&nbsp;causes&nbsp;the&nbsp;queue&nbsp;..&nbsp;disappear.&nbsp;Even&nbsp;if&nbsp;there&nbsp;were&nbsp;undelivered&nbsp;messages.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;MK&lt;/div&gt;<br>

</tt>
