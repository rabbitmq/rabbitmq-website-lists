<tt>
&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;&quot;&gt;&lt;div&gt;#!/usr/bin/env&nbsp;python&lt;/div&gt;&lt;div&gt;import&nbsp;pika&lt;/div&gt;&lt;div&gt;import&nbsp;sys&lt;/div&gt;&lt;div&gt;import&nbsp;psutil&lt;/div&gt;<br>
&lt;div&gt;import&nbsp;json&lt;/div&gt;&lt;div&gt;import&nbsp;time&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;serverName&nbsp;=&nbsp;&amp;quot;salmazov&amp;quot;&lt;/div&gt;&lt;div&gt;connection&nbsp;=&nbsp;pika.AsyncoreConnection(pika.ConnectionParameters(host=&amp;#39;192.168.0.25&amp;#39;))&lt;/div&gt;&lt;div&gt;channel&nbsp;=&nbsp;connection.channel()&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;channel.exchange_declare(exchange=&amp;#39;cmd&amp;#39;,&nbsp;type=&amp;#39;topic&amp;#39;)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;cmd_data_queue&nbsp;=&nbsp;channel.queue_declare(exclusive=True).queue&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;channel.queue_bind(exchange=&amp;#39;cmd&amp;#39;,&nbsp;queue=cmd_data_queue,&nbsp;routing_key=&amp;#39;cmd.*&amp;#39;)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;def&nbsp;callback(ch,&nbsp;method,&nbsp;properties,&nbsp;body):&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;print&nbsp;&amp;quot;&nbsp;[x]&nbsp;%r:%r&amp;quot;&nbsp;%&nbsp;(method.routing_key,&nbsp;body,)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;procCmd&nbsp;=&nbsp;decodeddict[&amp;quot;ProcCmd&amp;quot;]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;proc&nbsp;=&nbsp;psutil.Popen(procCmd)&lt;/div&gt;<br>
&lt;div&gt; &nbsp;  &lt;/div&gt;&lt;div&gt;channel.basic_consume(callback,&nbsp;queue=cmd_data_queue,&nbsp;no_ack=True)&lt;/div&gt;&lt;div&gt;pika.asyncore_loop()&lt;/div&gt;&lt;div&gt;--------------------------------------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;start&nbsp;this&nbsp;code&nbsp;-&amp;gt;&nbsp;have&nbsp;an&nbsp;error: &lt;b&gt;error:&nbsp;uncaptured&nbsp;python&nbsp;exception,&nbsp;closing&nbsp;channel&nbsp;&amp;lt;pika.asyncore_adapter.RabbitDispatcher&nbsp;connected&nbsp;at&nbsp;0x12ad6c0&amp;gt;&lt;/b&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;need&nbsp;to&nbsp;run&nbsp;processes&nbsp;that&nbsp;arrived&nbsp;via&nbsp;RmQ&lt;/div&gt;&lt;/span&gt;<br>

</tt>
