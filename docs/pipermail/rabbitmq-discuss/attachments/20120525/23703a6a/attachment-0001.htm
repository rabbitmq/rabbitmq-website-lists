<tt>
&lt;div&gt;The&nbsp;fundamental&nbsp;paradox&nbsp;of&nbsp;per-connection&nbsp;flow&nbsp;control&nbsp;is&nbsp;that&nbsp;it&nbsp;holds&nbsp;up&nbsp;the&nbsp;stop&nbsp;sign&nbsp;just&nbsp;when&nbsp;progress&nbsp;becomes&nbsp;possible.&nbsp;&amp;nbsp;It&nbsp;is&nbsp;backwards&nbsp;and&nbsp;unhelpful.&nbsp;&amp;nbsp;Consider:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;A&nbsp;client&nbsp;is&nbsp;publishing&nbsp;1.5K/sec&nbsp;to&nbsp;each&nbsp;of&nbsp;four&nbsp;exchanges,&nbsp;each&nbsp;of&nbsp;which&nbsp;has&nbsp;a&nbsp;queue.&lt;/div&gt;&lt;div&gt;2.&nbsp;There&nbsp;are&nbsp;no&nbsp;consumers.&nbsp;&amp;nbsp;Therefore&nbsp;the&nbsp;queue&nbsp;is&nbsp;growing.&lt;/div&gt;&lt;div&gt;3.&nbsp;RMQ&nbsp;does&nbsp;not&nbsp;stop&nbsp;this.&nbsp;&amp;nbsp;&quot;Flow&nbsp;control&quot;&nbsp;does&nbsp;not&nbsp;trigger.&lt;/div&gt;&lt;div&gt;4.&nbsp;The&nbsp;consumers&nbsp;appear&nbsp;to&nbsp;begin&nbsp;to&nbsp;tear&nbsp;down&nbsp;the&nbsp;backlog.&lt;/div&gt;&lt;div&gt;5.&nbsp;RMQ&nbsp;per-connection&nbsp;flow&nbsp;control&nbsp;suddenly&nbsp;decides&nbsp;that&nbsp;now&nbsp;there&nbsp;are&nbsp;some&nbsp;consumers,&nbsp;now&nbsp;it&nbsp;has&nbsp;a&nbsp;reason&nbsp;to&nbsp;throttle&nbsp;the&nbsp;sender.&lt;/div&gt;&lt;div&gt;6.&nbsp;If&nbsp;the&nbsp;consumers&nbsp;had&nbsp;not&nbsp;shown&nbsp;up,&nbsp;the&nbsp;producer&nbsp;would&nbsp;not&nbsp;have&nbsp;been&nbsp;blocked.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Therefore,&nbsp;it&nbsp;is&nbsp;only&nbsp;when&nbsp;the&nbsp;backlog&nbsp;can&nbsp;go&nbsp;DOWN&nbsp;that&nbsp;the&nbsp;broker&nbsp;decides&nbsp;to&nbsp;throttle&nbsp;the&nbsp;sender.&nbsp;&amp;nbsp;Not&nbsp;when&nbsp;the&nbsp;backlog&nbsp;was&nbsp;GROWING,&nbsp;but&nbsp;when&nbsp;it&nbsp;could&nbsp;be&nbsp;SHRINKING,&nbsp;that's&nbsp;when&nbsp;RMQ&nbsp;decides&nbsp;to&nbsp;stop&nbsp;accepting.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;not&nbsp;acceptable.&lt;/div&gt;
</tt>
