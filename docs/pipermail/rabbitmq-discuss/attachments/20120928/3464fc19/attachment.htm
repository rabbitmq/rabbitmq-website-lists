<tt>
In&nbsp;my&nbsp;environment,&nbsp;I&nbsp;have&nbsp;numerous&nbsp;RabbitMQ&nbsp;nodes&nbsp;for&nbsp;testing&nbsp;purposes,&nbsp;and&nbsp;frequently&nbsp;changing&nbsp;around&nbsp;cluster&nbsp;configuration&nbsp;(e.g.&nbsp;which&nbsp;nodes&nbsp;are&nbsp;part&nbsp;of&nbsp;a&nbsp;cluster).&lt;br&gt;&lt;br&gt;Using&nbsp;2.8.6&nbsp;and&nbsp;subsequently&nbsp;2.8.7&nbsp;on&nbsp;Erlang&nbsp;R15B01,&nbsp;I&amp;#39;ve&nbsp;observed&nbsp;several&nbsp;times&nbsp;recently&nbsp;where&nbsp;RabbitMQ&nbsp;has&nbsp;failed&nbsp;to&nbsp;start&nbsp;on&nbsp;a&nbsp;node.&nbsp;The&nbsp;reason&nbsp;seems&nbsp;to&nbsp;be&nbsp;related&nbsp;to&nbsp;a&nbsp;node&nbsp;that&nbsp;is&nbsp;no&nbsp;longer&nbsp;part&nbsp;of&nbsp;the&nbsp;cluster.&lt;br&gt;<br>
&lt;br&gt;For&nbsp;example,&nbsp;at&nbsp;one&nbsp;point&nbsp;I&nbsp;had&nbsp;a&nbsp;three&nbsp;node&nbsp;cluster:&nbsp;play,&nbsp;play2,&nbsp;and&nbsp;util.&nbsp;I&nbsp;then&nbsp;removed&nbsp;util&nbsp;from&nbsp;the&nbsp;cluster,&nbsp;although&nbsp;to&nbsp;be&nbsp;honest,&nbsp;simply&nbsp;by&nbsp;changing&nbsp;the&nbsp;rabbitmq.config&nbsp;file,&nbsp;rather&nbsp;than&nbsp;explicitly&nbsp;running&nbsp;rabbitmqctl&nbsp;stop_app&nbsp;while&nbsp;the&nbsp;cluster&nbsp;is&nbsp;still&nbsp;running.&lt;br&gt;<br>
&lt;br&gt;My&nbsp;steps:&lt;br&gt;&lt;ul&gt;&lt;li&gt;Running&nbsp;as&nbsp;three&nbsp;node&nbsp;cluster,&nbsp;stop&nbsp;all&nbsp;brokers&lt;/li&gt;&lt;li&gt;Create&nbsp;a&nbsp;new&nbsp;rabbitmq.config&nbsp;file&nbsp;with&nbsp;just&nbsp;two&nbsp;brokers&lt;/li&gt;&lt;li&gt;Attempt&nbsp;to&nbsp;start&nbsp;the&nbsp;new&nbsp;cluster.&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;Here&amp;#39;s&nbsp;my&nbsp;revised&nbsp;RabbitMQ&nbsp;config&nbsp;file.&nbsp;Note&nbsp;references&nbsp;to&nbsp;rabbit@util,&nbsp;which&nbsp;is&nbsp;no&nbsp;longer&nbsp;part&nbsp;of&nbsp;the&nbsp;cluster:&lt;br&gt;<br>
--------&lt;br&gt;[&lt;br&gt;{rabbit,&nbsp;[{cluster_nodes,&nbsp;[rabbit@play,rabbit@play2]},&nbsp;{disk_free_limit,&nbsp;104857600}]},&lt;br&gt;{mnesia,&nbsp;[{debug,&nbsp;trace}]}&lt;br&gt;].&lt;br&gt;--------&lt;br&gt;&lt;br&gt;&lt;br&gt;The&nbsp;rabbit@play.log&nbsp;file:&lt;br&gt;&lt;br&gt;=ERROR&nbsp;REPORT====&nbsp;28-Sep-2012::11:31:11&nbsp;===&lt;br&gt;<br>
Mnesia(rabbit@play):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;(core&nbsp;dumped&nbsp;to&nbsp;file:&nbsp;&amp;quot;/home/mpietrek/MnesiaCore.rabbit@play_1348_857071_113813&amp;quot;)&lt;br&gt; **&nbsp;FATAL&nbsp;**&nbsp;Failed&nbsp;to&nbsp;merge&nbsp;schema:&nbsp;Bad&nbsp;cookie&nbsp;in&nbsp;table&nbsp;definition&nbsp;mirrored_sup_childspec:&nbsp;rabbit@play&nbsp;=&nbsp;{cstruct,mirrored_sup_childspec,ordered_set,[rabbit@util,rabbit@play2,rabbit@play],[],[],0,read_write,false,[],[],false,mirrored_sup_childspec,[key,mirroring_pid,childspec],[],[],[],{{1346,266106,862481},rabbit@play},{{4,0},{rabbit@util,{1348,781672,983885}}}},&nbsp;rabbit@util&nbsp;=&nbsp;{cstruct,mirrored_sup_childspec,ordered_set,[rabbit@util],[],[],0,read_write,false,[],[],false,mirrored_sup_childspec,[key,mirroring_pid,childspec],[],[],[],{{1348,854318,794171},rabbit@util},{{2,0},[]}}&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;=ERROR&nbsp;REPORT====&nbsp;28-Sep-2012::11:31:21&nbsp;===&lt;br&gt;**&nbsp;Generic&nbsp;server&nbsp;mnesia_monitor&nbsp;terminating&nbsp;&lt;br&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{&amp;#39;EXIT&amp;#39;,&amp;lt;0.44.0&amp;gt;,killed}&lt;br&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{state,&amp;lt;0.44.0&amp;gt;,[],[],true,[],undefined,[]}&lt;br&gt;<br>
**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&nbsp;&lt;br&gt;**&nbsp;killed&lt;br&gt;&lt;br&gt;=ERROR&nbsp;REPORT====&nbsp;28-Sep-2012::11:31:21&nbsp;===&lt;br&gt;**&nbsp;Generic&nbsp;server&nbsp;mnesia_recover&nbsp;terminating&nbsp;&lt;br&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{&amp;#39;EXIT&amp;#39;,&amp;lt;0.44.0&amp;gt;,killed}&lt;br&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{state,&amp;lt;0.44.0&amp;gt;,undefined,undefined,undefined,0,false,&lt;br&gt;<br>
                              &nbsp;true,[]}&lt;br&gt;**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&nbsp;&lt;br&gt;**&nbsp;killed&lt;br&gt;&lt;br&gt;=ERROR&nbsp;REPORT====&nbsp;28-Sep-2012::11:31:21&nbsp;===&lt;br&gt;**&nbsp;Generic&nbsp;server&nbsp;mnesia_snmp_sup&nbsp;terminating&nbsp;&lt;br&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{&amp;#39;EXIT&amp;#39;,&amp;lt;0.44.0&amp;gt;,killed}&lt;br&gt;<br>
**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{state,&lt;br&gt;                           &nbsp;{local,mnesia_snmp_sup},&lt;br&gt;                           &nbsp;simple_one_for_one,&lt;br&gt;                           &nbsp;[{child,undefined,mnesia_snmp_sup,&lt;br&gt;                                &nbsp;{mnesia_snmp_hook,start,[]},&lt;br&gt;<br>
                                &nbsp;transient,3000,worker,&lt;br&gt;                                &nbsp;[mnesia_snmp_sup,mnesia_snmp_hook,&lt;br&gt;                                 &nbsp;supervisor]}],&lt;br&gt;                           &nbsp;undefined,0,86400000,[],mnesia_snmp_sup,[]}&lt;br&gt;<br>
**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&nbsp;&lt;br&gt;**&nbsp;killed&lt;br&gt;&lt;br&gt;=ERROR&nbsp;REPORT====&nbsp;28-Sep-2012::11:31:21&nbsp;===&lt;br&gt;**&nbsp;Generic&nbsp;server&nbsp;mnesia_subscr&nbsp;terminating&nbsp;&lt;br&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{&amp;#39;EXIT&amp;#39;,&amp;lt;0.44.0&amp;gt;,killed}&lt;br&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{state,&amp;lt;0.44.0&amp;gt;,57361}&lt;br&gt;<br>
**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&nbsp;&lt;br&gt;**&nbsp;killed&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;28-Sep-2012::11:31:21&nbsp;===&lt;br&gt;   &nbsp;application:&nbsp;mnesia&lt;br&gt;   &nbsp;exited:&nbsp;{shutdown,{mnesia_sup,start,[normal,[]]}}&lt;br&gt;   &nbsp;type:&nbsp;permanent&lt;br&gt;&lt;br&gt;&lt;br&gt;And&nbsp;finally,&nbsp;the&nbsp;output&nbsp;from&nbsp;rabbitmq-server:&lt;br&gt;<br>
&lt;br&gt;Mnesia(rabbit@play):&nbsp;mnesia_late_loader&nbsp;starting:&nbsp;&amp;lt;0.81.0&amp;gt;&lt;br&gt;Mnesia(rabbit@play):&nbsp;Transaction&nbsp;{tid,21431,&amp;lt;0.82.0&amp;gt;}&nbsp;calling&nbsp;#Fun&amp;lt;mnesia_schema.42.93736344&amp;gt;&nbsp;with&nbsp;[]&nbsp;failed:&nbsp;&lt;br&gt; {aborted,{throw,[66,97,100,32,99,111,111,107,105,101,32,105,110,32,116,97,98,&lt;br&gt;<br>
                 &nbsp;108,101,32,100,101,102,105,110,105,116,105,111,110,32,&lt;br&gt;                 &nbsp;&amp;quot;mirrored_sup_childspec&amp;quot;,58,32,&amp;quot;rabbit@play&amp;quot;,32,61,32,&lt;br&gt;                 &nbsp;[123,&lt;br&gt;                  &nbsp;[&amp;quot;cstruct&amp;quot;,44,&amp;quot;mirrored_sup_childspec&amp;quot;,44,&amp;quot;ordered_set&amp;quot;,44,&lt;br&gt;<br>
                   &nbsp;[91,[&amp;quot;rabbit@util&amp;quot;,44,&amp;quot;rabbit@play2&amp;quot;,44,&amp;quot;rabbit@play&amp;quot;],93],&lt;br&gt;                   &nbsp;44,&amp;quot;[]&amp;quot;,44,&amp;quot;[]&amp;quot;,44,&amp;quot;0&amp;quot;,44,&amp;quot;read_write&amp;quot;,44,&amp;quot;false&amp;quot;,44,&amp;quot;[]&amp;quot;,&lt;br&gt;<br>
                   &nbsp;44,&amp;quot;[]&amp;quot;,44,&amp;quot;false&amp;quot;,44,&amp;quot;mirrored_sup_childspec&amp;quot;,44,&lt;br&gt;                   &nbsp;[91,[&amp;quot;key&amp;quot;,44,&amp;quot;mirroring_pid&amp;quot;,44,&amp;quot;childspec&amp;quot;],93],&lt;br&gt;                   &nbsp;44,&amp;quot;[]&amp;quot;,44,&amp;quot;[]&amp;quot;,44,&amp;quot;[]&amp;quot;,44,&lt;br&gt;<br>
                   &nbsp;[123,&lt;br&gt;                    &nbsp;[[123,[&amp;quot;1346&amp;quot;,44,&amp;quot;266106&amp;quot;,44,&amp;quot;862481&amp;quot;],125],&lt;br&gt;                     &nbsp;44,&amp;quot;rabbit@play&amp;quot;],&lt;br&gt;                    &nbsp;125],&lt;br&gt;                   &nbsp;44,&lt;br&gt;<br>
                   &nbsp;[123,&lt;br&gt;                    &nbsp;[[123,[&amp;quot;4&amp;quot;,44,&amp;quot;0&amp;quot;],125],&lt;br&gt;                     &nbsp;44,&lt;br&gt;                     &nbsp;[123,&lt;br&gt;                      &nbsp;[&amp;quot;rabbit@util&amp;quot;,44,&lt;br&gt;                       &nbsp;[123,[&amp;quot;1348&amp;quot;,44,&amp;quot;781672&amp;quot;,44,&amp;quot;983885&amp;quot;],125]],&lt;br&gt;<br>
                      &nbsp;125]],&lt;br&gt;                    &nbsp;125]],&lt;br&gt;                  &nbsp;125],&lt;br&gt;                 &nbsp;44,32,&amp;quot;rabbit@util&amp;quot;,32,61,32,&lt;br&gt;                 &nbsp;[123,&lt;br&gt;                  &nbsp;[&amp;quot;cstruct&amp;quot;,44,&amp;quot;mirrored_sup_childspec&amp;quot;,44,&amp;quot;ordered_set&amp;quot;,44,&lt;br&gt;<br>
                   &nbsp;[91,[&amp;quot;rabbit@util&amp;quot;],93],&lt;br&gt;                   &nbsp;44,&amp;quot;[]&amp;quot;,44,&amp;quot;[]&amp;quot;,44,&amp;quot;0&amp;quot;,44,&amp;quot;read_write&amp;quot;,44,&amp;quot;false&amp;quot;,44,&amp;quot;[]&amp;quot;,&lt;br&gt;                   &nbsp;44,&amp;quot;[]&amp;quot;,44,&amp;quot;false&amp;quot;,44,&amp;quot;mirrored_sup_childspec&amp;quot;,44,&lt;br&gt;<br>
                   &nbsp;[91,[&amp;quot;key&amp;quot;,44,&amp;quot;mirroring_pid&amp;quot;,44,&amp;quot;childspec&amp;quot;],93],&lt;br&gt;                   &nbsp;44,&amp;quot;[]&amp;quot;,44,&amp;quot;[]&amp;quot;,44,&amp;quot;[]&amp;quot;,44,&lt;br&gt;                   &nbsp;[123,&lt;br&gt;                    &nbsp;[[123,[&amp;quot;1348&amp;quot;,44,&amp;quot;854318&amp;quot;,44,&amp;quot;794171&amp;quot;],125],&lt;br&gt;<br>
                     &nbsp;44,&amp;quot;rabbit@util&amp;quot;],&lt;br&gt;                    &nbsp;125],&lt;br&gt;                   &nbsp;44,&lt;br&gt;                   &nbsp;[123,[[123,[&amp;quot;2&amp;quot;,44,&amp;quot;0&amp;quot;],125],44,&amp;quot;[]&amp;quot;],125]],&lt;br&gt;                  &nbsp;125],&lt;br&gt;<br>
                 &nbsp;&amp;quot;\n&amp;quot;]}}&lt;br&gt;Mnesia(rabbit@play):&nbsp;mnesia_monitor&nbsp;got&nbsp;FATAL&nbsp;ERROR&nbsp;from:&nbsp;&amp;lt;0.81.0&amp;gt;&lt;br&gt;Mnesia(rabbit@play):&nbsp;mnesia_subscr&nbsp;terminated:&nbsp;killed&lt;br&gt;{&amp;quot;Kernel&nbsp;pid&nbsp;terminated&amp;quot;,application_controller,&amp;quot;{application_start_failure,mnesia,{shutdown,{mnesia_sup,start,[normal,[]]}}}&amp;quot;}&lt;br&gt;<br>
&lt;br&gt;Crash&nbsp;dump&nbsp;was&nbsp;written&nbsp;to:&nbsp;erl_crash.dump&lt;br&gt;Kernel&nbsp;pid&nbsp;terminated&nbsp;(application_controller)&nbsp;({application_start_failure,mnesia,{shutdown,{mnesia_sup,start,[normal,[]]}}})&lt;br&gt;&lt;br&gt;Matt&lt;br&gt;<br>

</tt>
