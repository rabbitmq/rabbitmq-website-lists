<tt>
&lt;font&nbsp;face=&quot;arial&quot;&nbsp;size=&quot;2&quot;&gt;&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;Hi&nbsp;All,&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;We&nbsp;are&nbsp;running&nbsp;rabbitmq&nbsp;on&nbsp;Android&nbsp;and&nbsp;continue&nbsp;to&nbsp;have&nbsp;serious&nbsp;problems&nbsp;with&nbsp;maintaining&nbsp;a&nbsp;3G&nbsp;tcp&nbsp;consumer&nbsp;connection.&nbsp;&amp;nbsp;We&nbsp;have&nbsp;implemented&nbsp;heartbeats&nbsp;but&nbsp;I&nbsp;am&nbsp;struggling&nbsp;to&nbsp;understand&nbsp;the&nbsp;flow&nbsp;to&nbsp;monitor&nbsp;and&nbsp;re-establish&nbsp;connections.&nbsp;&amp;nbsp;If&nbsp;I&nbsp;understand&nbsp;correctly:&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;Enabling&nbsp;heartbeats&nbsp;WITHOUT&nbsp;handling&amp;nbsp;ShutdownSignalException&nbsp;would&nbsp;actually&nbsp;be&nbsp;counter&nbsp;productive&nbsp;as&nbsp;a&nbsp;number&nbsp;of&nbsp;missed&nbsp;heartbeats&nbsp;would&nbsp;close&nbsp;the&nbsp;connection.&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;Is&nbsp;the&nbsp;&quot;right&nbsp;way&nbsp;to&nbsp;do&nbsp;it&quot;&nbsp;:&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;Enable&nbsp;heartbeats&nbsp;on&nbsp;the&nbsp;server&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;Setting&nbsp;(in&nbsp;Java)&amp;nbsp;factory.setRequestedHeartbeat(HEARTBEAT_TIMEOUT);&nbsp;&amp;nbsp;will&nbsp;&quot;auto-magically&quot;&nbsp;enable&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;heartbeats&nbsp;on&nbsp;the&nbsp;client&nbsp;and&nbsp;no&nbsp;other&nbsp;call&nbsp;is&nbsp;neccessary&nbsp;to&nbsp;send&nbsp;heartbeats&nbsp;&amp;lt;-&nbsp;(big&nbsp;doubt&nbsp;here)&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;Handle&amp;nbsp;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&quot;&gt;ShutdownSignalException&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&quot;&gt;&nbsp;cause&nbsp;and&nbsp;reconnect&nbsp;if&nbsp;it&nbsp;was&nbsp;a&nbsp;hard&nbsp;close..&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&quot;&gt;Does&nbsp;that&nbsp;sound&nbsp;about&nbsp;right?&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&quot;&gt;thanks&nbsp;all,&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;10pt;&quot;&gt;Matthew&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;&lt;/font&gt;
</tt>
