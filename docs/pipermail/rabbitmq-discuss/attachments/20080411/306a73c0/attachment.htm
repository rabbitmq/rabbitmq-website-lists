<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;Message&nbsp;that&nbsp;didn't&nbsp;get&nbsp;posted&nbsp;to&nbsp;the&nbsp;list&nbsp;yesterday:&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;html&gt;Begin&nbsp;forwarded&nbsp;message:&lt;/html&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font:&nbsp;12.0px&nbsp;Helvetica;&nbsp;color:&nbsp;#000000&quot;&gt;&lt;b&gt;From:&nbsp;&lt;/b&gt;&lt;/font&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;style=&quot;font:&nbsp;12.0px&nbsp;Helvetica&quot;&gt;Ben&nbsp;Hood&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:0x6e6562@gmail.com&quot;&gt;0x6e6562@gmail.com&lt;/a&gt;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font:&nbsp;12.0px&nbsp;Helvetica;&nbsp;color:&nbsp;#000000&quot;&gt;&lt;b&gt;Date:&nbsp;&lt;/b&gt;&lt;/font&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;style=&quot;font:&nbsp;12.0px&nbsp;Helvetica&quot;&gt;10&nbsp;April&nbsp;2008&nbsp;11:55:49&nbsp;BST&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font:&nbsp;12.0px&nbsp;Helvetica;&nbsp;color:&nbsp;#000000&quot;&gt;&lt;b&gt;To:&nbsp;&lt;/b&gt;&lt;/font&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;style=&quot;font:&nbsp;12.0px&nbsp;Helvetica&quot;&gt;Joe&nbsp;Lee&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:codewalkerjoe@gmail.com&quot;&gt;codewalkerjoe@gmail.com&lt;/a&gt;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;color=&quot;#000000&quot;&nbsp;style=&quot;font:&nbsp;12.0px&nbsp;Helvetica;&nbsp;color:&nbsp;#000000&quot;&gt;&lt;b&gt;Subject:&nbsp;&lt;/b&gt;&lt;/font&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;3&quot;&nbsp;style=&quot;font:&nbsp;12.0px&nbsp;Helvetica&quot;&gt;&lt;b&gt;Re:&nbsp;[rabbitmq-discuss]&nbsp;pub-sub&nbsp;part&nbsp;2:&nbsp;erlang&nbsp;consume&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;min-height:&nbsp;14px;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&nbsp;&lt;/div&gt;Joe,&lt;br&gt;&lt;br&gt;On&nbsp;10&nbsp;Apr&nbsp;2008,&nbsp;at&nbsp;00:17,&nbsp;Joe&nbsp;Lee&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;(rabbit@home)5&gt;&nbsp;amqp_async_consume:amqp_lifecycle_consume().&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Connection:&nbsp;{&amp;lt;0.178.0&gt;,direct}&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;**&nbsp;exception&nbsp;exit:&nbsp;{{amqp_async_consume,amqp_lifecycle_consume,0},&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;{line,40},&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;match,&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[{'queue.declare_ok',&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;&amp;lt;&quot;amq.q.gen1_rabbit@home_20080409224223_&quot;&gt;&gt;,0,0}]}&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;in&nbsp;function&nbsp;&amp;nbsp;amqp_async_consume:amqp_lifecycle_consume/0&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;The&nbsp;reason&nbsp;why&nbsp;this&nbsp;is&nbsp;not&nbsp;working&nbsp;is&nbsp;because&nbsp;the&nbsp;LHS&nbsp;does&nbsp;not&nbsp;match&nbsp;the&nbsp;RHS.&lt;br&gt;&lt;br&gt;You&nbsp;are&nbsp;trying&nbsp;to&nbsp;match&nbsp;this&nbsp;tuple&lt;br&gt;&lt;br&gt;#'queue.declare_ok'{queue&nbsp;=&nbsp;Q,&lt;br&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;message_count&nbsp;=&nbsp;MessageCount,&lt;br&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;consumer_count&nbsp;=&nbsp;ConsumerCount}&lt;br&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;=&nbsp;amqp_channel:call(Channel,QueueDeclare)&lt;br&gt;&lt;br&gt;with&nbsp;this&nbsp;tuple:&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;{'queue.declare_ok',&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;lt;&amp;lt;&quot;amq.q.gen1_rabbit@home_20080409224223_&quot;&gt;&gt;,0,0}&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;br&gt;so&nbsp;that&nbsp;fact&nbsp;that&nbsp;Q,&nbsp;which&nbsp;was&nbsp;previously&nbsp;bound&nbsp;to&nbsp;&amp;lt;&amp;lt;&quot;&quot;&gt;&gt;&nbsp;is&nbsp;being&nbsp;compared&nbsp;to&nbsp;&amp;lt;&quot;amq.q.gen1_rabbit@home_20080409224223_&quot;&gt;&gt;&nbsp;which&nbsp;violates&nbsp;the&nbsp;match&nbsp;condition.&lt;br&gt;&lt;br&gt;To&nbsp;fix&nbsp;this,&nbsp;don't&nbsp;re-use&nbsp;the&nbsp;*variable*&nbsp;Q,&nbsp;because&nbsp;in&nbsp;Erlang,&nbsp;it's&nbsp;not&nbsp;really&nbsp;a&nbsp;variable&nbsp;(non-destructive&nbsp;assignment).&lt;br&gt;&lt;br&gt;HTH,&lt;br&gt;&lt;br&gt;Ben&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
