<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&gt;&nbsp;Date:&nbsp;Thu,&nbsp;12&nbsp;Dec&nbsp;2013&nbsp;16:40:46&nbsp;+0000&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&gt;&nbsp;From:&nbsp;simon@rabbitmq.com&lt;br&gt;&gt;&nbsp;To:&nbsp;joshua__lim@hotmail.com&lt;br&gt;&gt;&nbsp;CC:&nbsp;rabbitmq-discuss@lists.rabbitmq.com&lt;br&gt;&gt;&nbsp;Subject:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;How&nbsp;to&nbsp;create&nbsp;a&nbsp;rabbitmq&nbsp;cluster&nbsp;using&nbsp;existing&nbsp;application&nbsp;without&nbsp;losing&nbsp;existing&nbsp;data?&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;On&nbsp;12/12/2013&nbsp;16:34,&nbsp;Joshua&nbsp;Lim&nbsp;wrote:&lt;br&gt;&gt;&nbsp;&gt;&nbsp;How&nbsp;about&nbsp;the&nbsp;cluster_nodes&nbsp;configuration&nbsp;field&nbsp;on&nbsp;existing&nbsp;machine?&nbsp;&nbsp;I&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;left&nbsp;it&nbsp;as&nbsp;{cluster_nodes,&nbsp;{['rabbit@existing-machine',&nbsp;&lt;br&gt;&gt;&nbsp;&gt;&nbsp;'rabbit@new-machine'],&nbsp;disc}}&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;That&nbsp;field&nbsp;will&nbsp;only&nbsp;even&nbsp;be&nbsp;read&nbsp;when&nbsp;the&nbsp;node&nbsp;in&nbsp;question&nbsp;comes&nbsp;up&lt;br&gt;&gt;&nbsp;with&nbsp;a&nbsp;completely&nbsp;blank&nbsp;database&nbsp;(i.e.&nbsp;first&nbsp;start,&nbsp;or&nbsp;after&lt;br&gt;&gt;&nbsp;'rabbitmqctl&nbsp;reset').&nbsp;That&nbsp;presumably&nbsp;never&nbsp;applies&nbsp;to&nbsp;the&nbsp;existing&lt;br&gt;&gt;&nbsp;machine,&nbsp;so&nbsp;it&nbsp;doesn't&nbsp;matter&nbsp;what&nbsp;you&nbsp;have&nbsp;there.&lt;br&gt;&gt;&nbsp;&lt;br&gt;&gt;&nbsp;Cheers,&nbsp;Simon&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks.&nbsp;&nbsp;I&nbsp;tried&nbsp;redoing&nbsp;the&nbsp;whole&nbsp;test&nbsp;from&nbsp;scratch&nbsp;-&nbsp;resetting&nbsp;everything&nbsp;new-machine.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;tried&nbsp;to&nbsp;cluster&nbsp;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;rabbit@new-machine&nbsp;with&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;rabbit@existing-machine&nbsp;by&nbsp;adding&nbsp;the&nbsp;cluster&nbsp;auto&nbsp;config&nbsp;to&nbsp;new-machine:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{cluster_nodes,&nbsp;{['rabbit@existing-machine'],&nbsp;disc}}&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;I&nbsp;get&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;the&nbsp;following&nbsp;error:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Error&nbsp;description:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;{error,{inconsistent_cluster,&quot;Node&nbsp;rabbit@new-machine&nbsp;thinks&nbsp;it's&nbsp;clustered&nbsp;with&nbsp;node&nbsp;rabbit@existing-machine,&nbsp;but&nbsp;rabbit@existing-machine&nbsp;disagrees&quot;}}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;managed&nbsp;to&nbsp;solve&nbsp;this&nbsp;by&nbsp;adding&nbsp;the&nbsp;same&nbsp;auto&nbsp;config&nbsp;to&nbsp;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;rabbit@existing-machine&nbsp;-&nbsp;this&nbsp;must&nbsp;be&nbsp;done&nbsp;before&nbsp;rabbitmq&nbsp;is&nbsp;started&nbsp;for&nbsp;the&nbsp;first&nbsp;time&nbsp;-&nbsp;which&nbsp;means&nbsp;I&nbsp;need&nbsp;to&nbsp;reset&nbsp;my&nbsp;existing&nbsp;machine.&nbsp;&nbsp;Is&nbsp;this&nbsp;correct,&nbsp;or&nbsp;am&nbsp;I&nbsp;missing&nbsp;something?&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{cluster_nodes,&nbsp;{['rabbit@existing-machine'],&nbsp;disc}}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Rgds,&lt;/div&gt;&lt;div&gt;Joshua&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
