<tt>
On&nbsp;Wed,&nbsp;Jan&nbsp;16,&nbsp;2013&nbsp;at&nbsp;11:54&nbsp;AM,&nbsp;Zhao,&nbsp;Shanyu&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:shanyu.zhao@intel.com&quot;&nbsp;target=&quot;_blank&quot;&gt;shanyu.zhao@intel.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;The&nbsp;relevant&nbsp;part&nbsp;of&nbsp;the&nbsp;log&nbsp;is&nbsp;shown&nbsp;below.&nbsp;But&nbsp;the&nbsp;problem&nbsp;is&nbsp;that&nbsp;we&nbsp;saw&nbsp;these&nbsp;log&nbsp;messages&nbsp;repeated&nbsp;every&nbsp;7-8&nbsp;seconds&nbsp;and&nbsp;can&nbsp;last&nbsp;as&nbsp;long&nbsp;as&nbsp;80&nbsp;minutes&nbsp;before&nbsp;rabbit&nbsp;finally&nbsp;start&nbsp;up&nbsp;correctly.&nbsp;During&nbsp;this&nbsp;time&nbsp;any&nbsp;connection&nbsp;to&nbsp;the<br>
&nbsp;rabbitmq&nbsp;cluster&nbsp;will&nbsp;get&nbsp;a&nbsp;disconnected&nbsp;exception.&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Any&nbsp;idea&nbsp;on&nbsp;what&nbsp;might&nbsp;have&nbsp;caused&nbsp;this&nbsp;problem? &lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;=INFO&nbsp;REPORT====&nbsp;16-Jan-2013::14:11:37&nbsp;===&lt;u&gt;&lt;/u&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Error&nbsp;description:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;  &nbsp;{case_clause,{error,tables_not_present}}&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Log&nbsp;files&nbsp;(may&nbsp;contain&nbsp;more&nbsp;information):&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;  &nbsp;/var/log/rabbitmq/rabbit@ip-10-0-2-97.log&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;  &nbsp;/var/log/rabbitmq/rabbit@ip-10-0-2-97-sasl.log&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Stack&nbsp;trace:&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;  &nbsp;[{rabbit_mnesia,discover_cluster,1},&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;   &nbsp;{rabbit_mnesia,init_from_config,0},&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;   &nbsp;{rabbit_mnesia,init,0},&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;   &nbsp;{rabbit,&amp;#39;-run_boot_step/1-lc$^1/1-1-&amp;#39;,1},&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;   &nbsp;{rabbit,run_boot_step,1},&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;   &nbsp;{rabbit,&amp;#39;-start/2-lc$^0/1-0-&amp;#39;,1},&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;   &nbsp;{rabbit,start,2},&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;   &nbsp;{application_master,start_it_old,4}]&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;u&gt;&lt;/u&gt; &lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;=INFO&nbsp;REPORT====&nbsp;16-Jan-2013::14:11:38&nbsp;===&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;   &nbsp;application:&nbsp;rabbit&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;   &nbsp;exited:&nbsp;{bad_return,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;               &nbsp;{{rabbit,start,[normal,[]]},&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;                &nbsp;{&amp;#39;EXIT&amp;#39;,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;                    &nbsp;{rabbit,failure_during_boot,&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;                        &nbsp;{case_clause,{error,tables_not_present}}}}}}&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;text-indent:9.6pt&quot;&gt;type:&nbsp;temporary&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;mention&nbsp;that&nbsp;you&nbsp;sometime&nbsp;see&nbsp;this&nbsp;after&nbsp;a&nbsp;redeploy.&nbsp; Depending&nbsp;on&nbsp;how&nbsp;you&amp;#39;ve&nbsp;redeployed,&nbsp;have&nbsp;you&nbsp;successfully&nbsp;clustered&nbsp;the&nbsp;nodes&nbsp;in&nbsp;the&nbsp;first&nbsp;place?&nbsp; The&nbsp;error&nbsp;means&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;tables&nbsp;in&nbsp;Erlang&amp;#39;s&nbsp;Mnesia&nbsp;distributed&nbsp;database&nbsp;upon&nbsp;which&nbsp;Rabbit&nbsp;relies&nbsp;to&nbsp;maintain&nbsp;broker&nbsp;metadata&nbsp;weren&amp;#39;t&nbsp;found,&nbsp;suggesting&nbsp;that&nbsp;some&nbsp;prior&nbsp;state&nbsp;or&nbsp;configuration&nbsp;perished&nbsp;during&nbsp;your&nbsp;redeploy&nbsp;process.&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&nbsp;regards,&lt;/div&gt;&lt;div&gt;Jerry&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
