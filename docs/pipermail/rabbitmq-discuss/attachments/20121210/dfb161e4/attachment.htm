<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7654.12&quot;&gt;<br>
&lt;TITLE&gt;AMQP&nbsp;protocol&nbsp;header&nbsp;mismatch&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/rtf&nbsp;format&nbsp;--&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;I&nbsp;have&nbsp;just&nbsp;installed&nbsp;the&nbsp;latest&nbsp;.NET&nbsp;and&nbsp;Java&nbsp;RabbitMQ&nbsp;clients&nbsp;on&nbsp;Windows&nbsp;XP&nbsp;to&nbsp;test&nbsp;against&nbsp;a&nbsp;socket&nbsp;program&nbsp;on&nbsp;a&nbsp;Solaris&nbsp;box.&nbsp;The&nbsp;socket&nbsp;program&nbsp;simply&nbsp;echoes&nbsp;back&nbsp;what&nbsp;it&nbsp;received.&nbsp;My&nbsp;reading&nbsp;of&nbsp;the&nbsp;AMQP&nbsp;standards&nbsp;is&nbsp;that&nbsp;the&nbsp;first&nbsp;TCP&nbsp;packet&nbsp;received&nbsp;after&nbsp;the&nbsp;socket&nbsp;connects&nbsp;is&nbsp;the&nbsp;AMQP&nbsp;protocol&nbsp;header,&nbsp;and&nbsp;if&nbsp;the&nbsp;&amp;quot;server&amp;quot;&nbsp;accepts&nbsp;the&nbsp;AMQP&nbsp;connection&nbsp;then&nbsp;it&nbsp;should&nbsp;echo&nbsp;back&nbsp;the&nbsp;same&nbsp;AMQP&nbsp;protocol&nbsp;header&nbsp;as&nbsp;a&nbsp;sign&nbsp;that&nbsp;it&nbsp;can&nbsp;support&nbsp;the&nbsp;protocol&nbsp;version.&nbsp;And&nbsp;this&nbsp;is&nbsp;what&nbsp;I&nbsp;see&nbsp;with&nbsp;a&nbsp;tcpdump&nbsp;(taken&nbsp;at&nbsp;the&nbsp;Windows&nbsp;end&nbsp;i.e.&nbsp;WinDump):&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;14:47:41.377235&nbsp;IP&nbsp;mywindows.4828&nbsp;&amp;gt;&nbsp;sol1.1430:&nbsp;P&nbsp;1:9(8)&nbsp;ack&nbsp;1&nbsp;win&nbsp;65535&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0000:&amp;nbsp;&nbsp;0000&nbsp;0c07&nbsp;ac00&nbsp;5c26&nbsp;0a17&nbsp;22b6&nbsp;0800&nbsp;4500&amp;nbsp;&nbsp;......\&amp;amp;..&amp;quot;...E.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0010:&amp;nbsp;&nbsp;0030&nbsp;ed44&nbsp;4000&nbsp;8006&nbsp;0519&nbsp;967a&nbsp;6828&nbsp;cf29&amp;nbsp;&nbsp;.0.D@......zh(.)&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0020:&amp;nbsp;&nbsp;3a9e&nbsp;12dc&nbsp;0596&nbsp;3ca6&nbsp;e554&nbsp;29de&nbsp;a04e&nbsp;5018&amp;nbsp;&nbsp;:.....&amp;lt;..T)..NP.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0030:&amp;nbsp;&nbsp;ffff&nbsp;0722&nbsp;0000&nbsp;414d&nbsp;5150&nbsp;0000&nbsp;0901&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;...&amp;quot;..AMQP....&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;14:47:41.380038&nbsp;IP&nbsp;sol1.1430&nbsp;&amp;gt;&nbsp;mywindows.4828:&nbsp;.&nbsp;ack&nbsp;9&nbsp;win&nbsp;49640&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0000:&amp;nbsp;&nbsp;5c26&nbsp;0a17&nbsp;22b6&nbsp;00d0&nbsp;00fb&nbsp;4bfc&nbsp;0800&nbsp;4500&amp;nbsp;&nbsp;\&amp;amp;..&amp;quot;.....K...E.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0010:&amp;nbsp;&nbsp;0028&nbsp;b226&nbsp;4000&nbsp;3906&nbsp;873f&nbsp;cf29&nbsp;3a9e&nbsp;967a&amp;nbsp;&nbsp;.(.&amp;amp;@.9..?.):..z&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0020:&amp;nbsp;&nbsp;6828&nbsp;0596&nbsp;12dc&nbsp;29de&nbsp;a04e&nbsp;3ca6&nbsp;e55c&nbsp;5010&amp;nbsp;&nbsp;h(....)..N&amp;lt;..\P.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0030:&amp;nbsp;&nbsp;c1e8&nbsp;e0df&nbsp;0000&nbsp;0000&nbsp;0000&nbsp;0000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;............&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;14:47:41.380974&nbsp;IP&nbsp;sol1.1430&nbsp;&amp;gt;&nbsp;mywindows.4828:&nbsp;P&nbsp;1:9(8)&nbsp;ack&nbsp;9&nbsp;win&nbsp;49640&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0000:&amp;nbsp;&nbsp;5c26&nbsp;0a17&nbsp;22b6&nbsp;00d0&nbsp;00fb&nbsp;4bfc&nbsp;0800&nbsp;4500&amp;nbsp;&nbsp;\&amp;amp;..&amp;quot;.....K...E.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0010:&amp;nbsp;&nbsp;0030&nbsp;b227&nbsp;4000&nbsp;3906&nbsp;8736&nbsp;cf29&nbsp;3a9e&nbsp;967a&amp;nbsp;&nbsp;.0.'@.9..6.):..z&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0020:&amp;nbsp;&nbsp;6828&nbsp;0596&nbsp;12dc&nbsp;29de&nbsp;a04e&nbsp;3ca6&nbsp;e55c&nbsp;5018&amp;nbsp;&nbsp;h(....)..N&amp;lt;..\P.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0030:&amp;nbsp;&nbsp;c1e8&nbsp;4531&nbsp;0000&nbsp;414d&nbsp;5150&nbsp;0000&nbsp;0901&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;..E1..AMQP....&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;14:47:41.382807&nbsp;IP&nbsp;mywindows.4828&nbsp;&amp;gt;&nbsp;sol1.1430:&nbsp;F&nbsp;9:9(0)&nbsp;ack&nbsp;9&nbsp;win&nbsp;65527&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0000:&amp;nbsp;&nbsp;0000&nbsp;0c07&nbsp;ac00&nbsp;5c26&nbsp;0a17&nbsp;22b6&nbsp;0800&nbsp;4500&amp;nbsp;&nbsp;......\&amp;amp;..&amp;quot;...E.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0010:&amp;nbsp;&nbsp;0028&nbsp;ed45&nbsp;4000&nbsp;8006&nbsp;0520&nbsp;967a&nbsp;6828&nbsp;cf29&amp;nbsp;&nbsp;.(.E@......zh(.)&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0020:&amp;nbsp;&nbsp;3a9e&nbsp;12dc&nbsp;0596&nbsp;3ca6&nbsp;e55c&nbsp;29de&nbsp;a056&nbsp;5011&amp;nbsp;&nbsp;:.....&amp;lt;..\)..VP.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0030:&amp;nbsp;&nbsp;fff7&nbsp;a2c7&nbsp;0000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;......&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;14:47:41.384136&nbsp;IP&nbsp;sol1.1430&nbsp;&amp;gt;&nbsp;mywindows.4828:&nbsp;.&nbsp;ack&nbsp;10&nbsp;win&nbsp;49640&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0000:&amp;nbsp;&nbsp;5c26&nbsp;0a17&nbsp;22b6&nbsp;00d0&nbsp;00fb&nbsp;4bfc&nbsp;0800&nbsp;4500&amp;nbsp;&nbsp;\&amp;amp;..&amp;quot;.....K...E.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0010:&amp;nbsp;&nbsp;0028&nbsp;b229&nbsp;4000&nbsp;3906&nbsp;873c&nbsp;cf29&nbsp;3a9e&nbsp;967a&amp;nbsp;&nbsp;.(.)@.9..&amp;lt;.):..z&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0020:&amp;nbsp;&nbsp;6828&nbsp;0596&nbsp;12dc&nbsp;29de&nbsp;a056&nbsp;3ca6&nbsp;e55d&nbsp;5010&amp;nbsp;&nbsp;h(....)..V&amp;lt;..]P.&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;0x0030:&amp;nbsp;&nbsp;c1e8&nbsp;e0d6&nbsp;0000&nbsp;0000&nbsp;0000&nbsp;0000&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;............&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;The&nbsp;problem&nbsp;is&nbsp;that&nbsp;the&nbsp;client&nbsp;is&nbsp;not&nbsp;accepting&nbsp;what&nbsp;it&nbsp;gets&nbsp;back.&nbsp;For&nbsp;example,&nbsp;with&nbsp;the&nbsp;java&nbsp;client&nbsp;(runjava.bat&nbsp;com.rabbitmq.examples.HelloServer&nbsp;sol1&nbsp;1430)&nbsp;I&nbsp;get:&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;com.rabbitmq.client.ShutdownSignalException:&nbsp;connection&nbsp;error;&nbsp;reason:&nbsp;com.rabbitmq.client.MalformedFrameException:&nbsp;AMQP&nbsp;protocol&nbsp;version&nbsp;mismatch;&nbsp;we&nbsp;are&nbsp;version&nbsp;0-9-1,&nbsp;server&nbsp;sent&nbsp;signature&nbsp;0,0,9,1&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Verdana&quot;&gt;What&nbsp;is&nbsp;wrong&nbsp;with&nbsp;this&nbsp;setup?&nbsp;Thanks&nbsp;...&lt;B&gt;&lt;/B&gt;&lt;/FONT&gt;&lt;B&gt;&lt;/B&gt;<br>
&lt;/P&gt;<br>
<br>
<br>
&lt;SPAN&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;10pt;&nbsp;FONT-FAMILY:&nbsp;Verdana;&nbsp;mso-fareast-font-family:&nbsp;'Times&nbsp;New&nbsp;Roman';&nbsp;mso-bidi-font-family:&nbsp;Arial;&nbsp;mso-ansi-language:&nbsp;EN-AU;&nbsp;mso-fareast-language:&nbsp;EN-US;&nbsp;mso-bidi-language:&nbsp;AR-SA;&nbsp;mso-bidi-font-style:&nbsp;italic&quot;&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Verdana&nbsp;size=1&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Verdana&nbsp;size=1&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/P&gt;<br>
&lt;P&gt;&lt;FONT&nbsp;face=Verdana&nbsp;size=1&gt;&quot;This&nbsp;e-mail&nbsp;and&nbsp;any&nbsp;attachments&nbsp;to&nbsp;it&nbsp;(the&nbsp;<br>
&quot;Communication&quot;)&nbsp;is,&nbsp;unless&nbsp;otherwise&nbsp;stated,&nbsp;confidential,&amp;nbsp;&nbsp;may&nbsp;contain&nbsp;<br>
copyright&nbsp;material&nbsp;and&nbsp;is&nbsp;for&nbsp;the&nbsp;use&nbsp;only&nbsp;of&nbsp;the&nbsp;intended&nbsp;recipient.&nbsp;If&nbsp;you&nbsp;<br>
receive&nbsp;the&nbsp;Communication&nbsp;in&nbsp;error,&nbsp;please&nbsp;notify&nbsp;the&nbsp;sender&nbsp;immediately&nbsp;by&nbsp;<br>
return&nbsp;e-mail,&nbsp;delete&nbsp;the&nbsp;Communication&nbsp;and&nbsp;the&nbsp;return&nbsp;e-mail,&nbsp;and&nbsp;do&nbsp;not&nbsp;read,&nbsp;<br>
copy,&nbsp;retransmit&nbsp;or&nbsp;otherwise&nbsp;deal&nbsp;with&nbsp;it.&nbsp;Any&nbsp;views&nbsp;expressed&nbsp;in&nbsp;the&nbsp;<br>
Communication&nbsp;are&nbsp;those&nbsp;of&nbsp;the&nbsp;individual&nbsp;sender&nbsp;only,&nbsp;unless&nbsp;expressly&nbsp;stated&nbsp;<br>
to&nbsp;be&nbsp;those&nbsp;of&nbsp;Australia&nbsp;and&nbsp;New&nbsp;Zealand&nbsp;Banking&nbsp;Group&nbsp;Limited&nbsp;ABN&nbsp;11&nbsp;005&nbsp;357&nbsp;<br>
522,&nbsp;or&nbsp;any&nbsp;of&nbsp;its&nbsp;related&nbsp;entities&nbsp;including&nbsp;ANZ&nbsp;Bank&nbsp;New&nbsp;Zealand&nbsp;Limited&nbsp;<br>
(together&nbsp;&quot;ANZ&quot;).&nbsp;ANZ&nbsp;does&nbsp;not&nbsp;accept&nbsp;liability&nbsp;in&nbsp;connection&nbsp;with&nbsp;the&nbsp;integrity&nbsp;<br>
of&nbsp;or&nbsp;errors&nbsp;in&nbsp;the&nbsp;Communication,&nbsp;computer&nbsp;virus,&nbsp;data&nbsp;corruption,&nbsp;interference&nbsp;<br>
or&nbsp;delay&nbsp;arising&nbsp;from&nbsp;or&nbsp;in&nbsp;respect&nbsp;of&nbsp;the&nbsp;<br>
Communication.&quot;&lt;/FONT&gt;&lt;/P&gt;&lt;/SPAN&gt;<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
