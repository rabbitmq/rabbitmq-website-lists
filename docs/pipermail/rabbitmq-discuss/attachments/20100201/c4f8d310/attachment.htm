<tt>
&lt;div&gt;I&amp;#39;m&nbsp;experiencing&nbsp;a&nbsp;problem&nbsp;with&nbsp;messages&nbsp;getting&nbsp;&amp;quot;stalled&amp;quot;&nbsp;when&nbsp;serving&nbsp;RabbitMQ&nbsp;with&nbsp;Windows&nbsp;XP.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;context&nbsp;is&nbsp;a&nbsp;distributed&nbsp;job&nbsp;processing&nbsp;system,&nbsp;wherein&nbsp;some&nbsp;message&nbsp;payloads&nbsp;can&nbsp;be&nbsp;around&nbsp;250-500&nbsp;kB.&nbsp; The&nbsp;clients&nbsp;connecting&nbsp;to&nbsp;the&nbsp;broker&nbsp;are&nbsp;several&nbsp;programs&nbsp;written&nbsp;in&nbsp;Python&nbsp;using&nbsp;the&nbsp;txAMQP&nbsp;library&nbsp;and&nbsp;the&nbsp;AMQP&nbsp;0-8&nbsp;protocol.&nbsp; (*)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;can&nbsp;submit&nbsp;one&nbsp;job&nbsp;in&nbsp;our&nbsp;system,&nbsp;which&nbsp;results&nbsp;in&nbsp;several&nbsp;small&nbsp;messages,&nbsp;and&nbsp;four&nbsp;larger&nbsp;messages&nbsp;being&nbsp;routed&nbsp;through&nbsp;RabbitMQ&nbsp;with&nbsp;the&nbsp;size&nbsp;ranges&nbsp;noted&nbsp;above,&nbsp;and&nbsp;this&nbsp;succeeds.&nbsp; However,&nbsp;when&nbsp;we&nbsp;submit&nbsp;an&nbsp;identical&nbsp;job,&nbsp;one&nbsp;message&nbsp;with&nbsp;a&nbsp;larger&nbsp;payload&nbsp;is&nbsp;successfully&nbsp;routed,&nbsp;but&nbsp;the&nbsp;second&nbsp;one&nbsp;is&nbsp;not.&nbsp; I&nbsp;can&nbsp;see&nbsp;that&nbsp;it&nbsp;successfully&nbsp;reaches&nbsp;the&nbsp;broker&nbsp;but&nbsp;never&nbsp;reaches&nbsp;the&nbsp;intended&nbsp;destination,&nbsp;because&nbsp;I&nbsp;get&nbsp;this&nbsp;output:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;C:\rabbitmq_server-1.7.1\sbin&amp;gt;rabbitmqctl&nbsp;list_connections&nbsp;send_oct&nbsp;send_pend&lt;/div&gt;&lt;div&gt;Listing&nbsp;connections&nbsp;...&lt;/div&gt;&lt;div&gt;594&nbsp; &nbsp; &nbsp;0&lt;/div&gt;&lt;div&gt;1183650&nbsp;0&lt;/div&gt;&lt;div&gt;236655&nbsp; 0&lt;/div&gt;&lt;div&gt;616&nbsp; &nbsp; &nbsp;0&lt;/div&gt;<br>
&lt;div&gt;610&nbsp; &nbsp; &nbsp;0&lt;/div&gt;&lt;div&gt;2492155&nbsp;256809&nbsp; &nbsp; &amp;lt;--&nbsp;here&nbsp;is&nbsp;the&nbsp;stuck&nbsp;message&lt;/div&gt;&lt;div&gt;616&nbsp; &nbsp; &nbsp;0&lt;/div&gt;&lt;div&gt;616&nbsp; &nbsp; &nbsp;0&lt;/div&gt;&lt;div&gt;367&nbsp; &nbsp; &nbsp;0&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Configuration:&lt;div&gt;-&nbsp;rabbitmq&nbsp;1.7.1&nbsp;on&nbsp;Windows&nbsp;XP,&nbsp;installed&nbsp;from&nbsp;packages&nbsp;available&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://rabbitmq.com&quot;&gt;rabbitmq.com&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;(also&nbsp;exhibited&nbsp;problem&nbsp;with&nbsp;rabbitmq&nbsp;1.6.0&nbsp;on&nbsp;Windows&nbsp;XP)&lt;/div&gt;&lt;div&gt;-&nbsp;all&nbsp;clients&nbsp;running&nbsp;on&nbsp;Windows,&nbsp;OR&nbsp;some&nbsp;clients&nbsp;on&nbsp;Windows&nbsp;(required&nbsp;as&nbsp;they&nbsp;call&nbsp;out&nbsp;to&nbsp;Windows&nbsp;executables)&nbsp;and&nbsp;some&nbsp;on&nbsp;OS&nbsp;X&lt;/div&gt;&lt;div&gt;-&nbsp;***exhibits&nbsp;problems&nbsp;noted&nbsp;above***&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Configuration:&lt;/div&gt;&lt;div&gt;-&nbsp;rabbitmq&nbsp;1.7.0&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;10.6,&nbsp;installed&nbsp;via &lt;a&nbsp;href=&quot;http://github.com/mxcl/homebrew/blob/master/Library/Formula/rabbitmq.rb&quot;&gt;http://github.com/mxcl/homebrew/blob/master/Library/Formula/rabbitmq.rb&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;all&nbsp;clients&nbsp;running&nbsp;on&nbsp;Windows&lt;/div&gt;&lt;div&gt;-&nbsp;no&nbsp;problems&nbsp;exhibited;&nbsp;can&nbsp;run&nbsp;many&nbsp;jobs&nbsp;successfully&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Configuration:&lt;/div&gt;&lt;div&gt;-&nbsp;rabbitmq&nbsp;1.6.0&nbsp;on&nbsp;Ubuntu&nbsp;9.10,&nbsp;installed&nbsp;using&nbsp;official&nbsp;Ubuntu&nbsp;packages&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;all&nbsp;clients&nbsp;running&nbsp;on&nbsp;Windows&lt;/div&gt;&lt;div&gt;&lt;div&gt;-&nbsp;no&nbsp;problems&nbsp;exhibited;&nbsp;can&nbsp;run&nbsp;many&nbsp;jobs&nbsp;successfully&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;would&nbsp;prefer&nbsp;to&nbsp;run&nbsp;RabbitMQ&nbsp;as&nbsp;a&nbsp;service&nbsp;on&nbsp;Windows,&nbsp;as&nbsp;we&nbsp;have&nbsp;more&nbsp;combined&nbsp;experience&nbsp;with&nbsp;Windows&nbsp;administration,&nbsp;but&nbsp;if&nbsp;stumped&nbsp;we&nbsp;will&nbsp;consider&nbsp;running&nbsp;RabbitMQ&nbsp;on&nbsp;a&nbsp;locked&nbsp;down&nbsp;Ubuntu&nbsp;VM.&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;needed&nbsp;I&nbsp;can&nbsp;try&nbsp;to&nbsp;create&nbsp;and&nbsp;post&nbsp;a&nbsp;script&nbsp;that&nbsp;triggers&nbsp;this&nbsp;problem,&nbsp;but&nbsp;I&nbsp;thought&nbsp;I&amp;#39;d&nbsp;post&nbsp;this&nbsp;first&nbsp;to&nbsp;see&nbsp;if&nbsp;anyone&nbsp;has&nbsp;experienced&nbsp;a&nbsp;similar&nbsp;problem&nbsp;and&nbsp;can&nbsp;offer&nbsp;a&nbsp;potential&nbsp;solution,&nbsp;or&nbsp;other&nbsp;troubleshooting&nbsp;techniques.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;(*)&nbsp;These&nbsp;programs&nbsp;originally&nbsp;used&nbsp;py-amqplib,&nbsp;and&nbsp;experienced&nbsp;the&nbsp;same&nbsp;problem,&nbsp;but&nbsp;were&nbsp;ported&nbsp;to&nbsp;txAMQP&nbsp;to&nbsp;see&nbsp;if&nbsp;that&nbsp;would&nbsp;fix&nbsp;the&nbsp;problem&nbsp;and&nbsp;to&nbsp;also&nbsp;improve&nbsp;performance&nbsp;when&nbsp;the&nbsp;system&nbsp;is&nbsp;idle.&nbsp; Unfortunately&nbsp;while&nbsp;the&nbsp;system&nbsp;performance&nbsp;improved,&nbsp;the&nbsp;problem&nbsp;with&nbsp;RabbitMQ&nbsp;on&nbsp;Windows&nbsp;still&nbsp;persists.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Matthew&nbsp;Scott&lt;br&gt;ElevenCraft&nbsp;Inc.&lt;br&gt;+1&nbsp;360&nbsp;389-2512&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
