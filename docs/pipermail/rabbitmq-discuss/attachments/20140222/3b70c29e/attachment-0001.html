<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:HelveticaNeue,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:12pt&quot;&gt;&lt;div&gt;Dear&nbsp;RabbitMQ&nbsp;users&nbsp;and&nbsp;developers,&lt;/div&gt;&lt;div&gt;We&nbsp;are&nbsp;starting&nbsp;now&nbsp;implementation&nbsp;of&nbsp;one&nbsp;project&nbsp;for&nbsp;an&nbsp;enterprise&nbsp;system&nbsp;where&nbsp;we&nbsp;replace&nbsp;Oracle&nbsp;Tuxedo&nbsp;by&nbsp;an&nbsp;open&nbsp;source&nbsp;solution.&nbsp;There&nbsp;are&nbsp;implemented&nbsp;more&nbsp;Tuxedo&nbsp;servers&nbsp;in&nbsp;C,&nbsp;which&nbsp;can&nbsp;receive&nbsp;signals&nbsp;and&nbsp;messages&nbsp;from&nbsp;Tuxedo&nbsp;queues&nbsp;and&nbsp;direct&nbsp;calls&nbsp;as&nbsp;well.&nbsp;The&nbsp;servers&nbsp;are&nbsp;also&nbsp;monitored&nbsp;and&nbsp;controlled&nbsp;by&nbsp;Tuxedo.&nbsp;We&nbsp;are&nbsp;implementing&nbsp;proof-of-concept&nbsp;by&nbsp;migrating&nbsp;original&nbsp;code&nbsp;and&nbsp;replacing&nbsp;original&nbsp;Tuxedo&nbsp;calls&nbsp;with&nbsp;RabbitMQ&nbsp;functionality.&nbsp;We&nbsp;use&nbsp;librabbitmq&nbsp;(rabbitmq-c&nbsp;client&nbsp;library&nbsp;of&nbsp;AMQP).&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;And&nbsp;I&nbsp;have&nbsp;several&nbsp;questions:&lt;/div&gt;&lt;div<br>
&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;1.&nbsp;When&nbsp;we&nbsp;use&nbsp;routing&nbsp;messages&nbsp;through&nbsp;a&nbsp;custom&nbsp;exchange&nbsp;and&nbsp;bindings,&nbsp;and&nbsp;if&nbsp;there&nbsp;is&nbsp;some&nbsp;error,&nbsp;for&nbsp;instance&nbsp;wrong&nbsp;queue&nbsp;name&nbsp;or&nbsp;wrong&nbsp;routing&nbsp;key&nbsp;given,&nbsp;is&nbsp;it&nbsp;possible&nbsp;to&nbsp;obtain&nbsp;some&nbsp;error&nbsp;response&nbsp;from&nbsp;RabbitMQ&nbsp;server?&nbsp;Up&nbsp;to&nbsp;now&nbsp;what&nbsp;I&nbsp;did&nbsp;testing,&nbsp;the&nbsp;messages&nbsp;were&nbsp;just&nbsp;silently&nbsp;lost.&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;2.&nbsp;We&nbsp;are&nbsp;thinking&nbsp;about&nbsp;having&nbsp;clients&nbsp;and&nbsp;producers&nbsp;controlled&nbsp;by&nbsp;special&nbsp;set&nbsp;of&nbsp;queues.&nbsp;So&nbsp;one<br>
&nbsp;component&nbsp;will&nbsp;listen&nbsp;on&nbsp;two&nbsp;or&nbsp;more&nbsp;queues.&nbsp;One&nbsp;will&nbsp;deliver&nbsp;business&nbsp;process&nbsp;messages&nbsp;which&nbsp;carry&nbsp;data&nbsp;processing&nbsp;information,&nbsp;but&nbsp;other&nbsp;queue&nbsp;will&nbsp;carry&nbsp;control&nbsp;commands.&nbsp;This&nbsp;control&nbsp;queue&nbsp;must&nbsp;have&nbsp;higher&nbsp;priority&nbsp;even&nbsp;when&nbsp;main&nbsp;business&nbsp;process&nbsp;queue&nbsp;is&nbsp;full&nbsp;of&nbsp;messages.&nbsp;I&nbsp;did&nbsp;the&nbsp;following&nbsp;test:&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&nbsp;/*&nbsp;Initialization&nbsp;of&nbsp;consuming&nbsp;properties&nbsp;-&nbsp;consumer&nbsp;priority&nbsp;*/&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&nbsp;&nbsp;amqp_table_t<br>
&nbsp;queue_table;&lt;br&gt;&nbsp;&nbsp;amqp_table_entry_t&nbsp;&nbsp;entry;&lt;br&gt;&nbsp;&nbsp;entry.key&nbsp;=&nbsp;amqp_cstring_bytes(&quot;x-priority&quot;);&lt;br&gt;&nbsp;&nbsp;entry.value.kind&nbsp;=&nbsp;&nbsp;AMQP_FIELD_KIND_U32;&lt;br&gt;&nbsp;&nbsp;entry.value.value.u32&nbsp;=&nbsp;1;&lt;br&gt;&nbsp;&nbsp;queue_table.num_entries&nbsp;=&nbsp;1;&lt;br&gt;&nbsp;&nbsp;queue_table.entries&nbsp;=&nbsp;&amp;entry;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;/*&nbsp;Start&nbsp;listening&nbsp;on&nbsp;two&nbsp;queues&nbsp;*/&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&nbsp;&nbsp;while&nbsp;(1)&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;amqp_basic_consume(conn,&nbsp;1,&nbsp;amqp_cstring_bytes(queuename1),&nbsp;amqp_empty_bytes,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;amqp_empty_table);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die_on_amqp_error(amqp_get_rpc_reply(conn),&nbsp;&quot;Consuming&quot;);&lt;br&gt;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;amqp_basic_consume(conn,&nbsp;1,&nbsp;amqp_cstring_bytes(queuename2),&nbsp;amqp_empty_bytes,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;queue_table);&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die_on_amqp_error(amqp_get_rpc_reply(conn),&nbsp;&quot;Consuming&quot;);&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;But&nbsp;when&nbsp;this&nbsp;consumer&nbsp;test&nbsp;was&nbsp;executed,&nbsp;the&nbsp;following&nbsp;error&nbsp;occured:&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:<br>
&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;queue2&nbsp;x-priority:&nbsp;1&nbsp;&lt;br&gt;Consuming:&nbsp;a&nbsp;socket&nbsp;error&nbsp;occurred&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;When&nbsp;there&nbsp;was&nbsp;amqp_empty_table&nbsp;for&nbsp;both,&nbsp;it&nbsp;was&nbsp;consuming&nbsp;messages&nbsp;from&nbsp;both&nbsp;queues&nbsp;but&nbsp;in&nbsp;a&nbsp;random&nbsp;manner,&nbsp;sometimes&nbsp;even&nbsp;4&nbsp;messages&nbsp;from&nbsp;one&nbsp;and&nbsp;then&nbsp;three&nbsp;messages&nbsp;from&nbsp;the&nbsp;other.&nbsp;We&nbsp;need&nbsp;to&nbsp;have&nbsp;higher&nbsp;priority&nbsp;on&nbsp;the&nbsp;control&nbsp;queue.&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;<br>
&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;Don't&nbsp;you&nbsp;have&nbsp;some&nbsp;experience&nbsp;or&nbsp;idea&nbsp;what&nbsp;should&nbsp;be&nbsp;changed&nbsp;to&nbsp;call&nbsp;the&nbsp;basic_consume&nbsp;correctly?&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;3.&nbsp;We&nbsp;appreciate&nbsp;very&nbsp;much&nbsp;that&nbsp;there&nbsp;is&nbsp;more&nbsp;verbose&nbsp;documentation&nbsp;of&nbsp;methods&nbsp;in&nbsp;rabbitmq-c.&nbsp;But&nbsp;I&nbsp;miss&nbsp;a&nbsp;little&nbsp;documentation&nbsp;of&nbsp;possible&nbsp;options&nbsp;for&nbsp;various&nbsp;structures,&nbsp;for&nbsp;instance&nbsp;the&nbsp;structure&nbsp;amqp_basic_properties_t,&nbsp;what&nbsp;are<br>
&nbsp;possible&nbsp;options&nbsp;for&nbsp;content_type,&nbsp;content_encoding&nbsp;etc.&nbsp;Where&nbsp;is&nbsp;most&nbsp;proper&nbsp;place&nbsp;to&nbsp;seek&nbsp;for&nbsp;this&nbsp;input&nbsp;arguments&nbsp;options?&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;Thank&nbsp;you&nbsp;very&nbsp;much&nbsp;for&nbsp;any&nbsp;advise.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;Kind&nbsp;regards&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;Jan<br>
&nbsp;Kianicka&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;AWST,&nbsp;Wien&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;Austria&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,Helvetica&nbsp;Neue,Helvetica,Arial,Lucida&nbsp;Grande,sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
