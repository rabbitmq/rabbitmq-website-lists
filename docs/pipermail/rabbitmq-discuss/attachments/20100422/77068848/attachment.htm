<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;Thank&nbsp;you!&nbsp;&amp;nbsp;It&nbsp;turns&nbsp;out&nbsp;my&nbsp;vhost&nbsp;name&nbsp;actually&nbsp;has&nbsp;&quot;/&quot;&nbsp;in&nbsp;the&nbsp;name.&nbsp;So&nbsp;I&nbsp;was&nbsp;specifying&nbsp;the&nbsp;wrong&nbsp;vhost&nbsp;name&nbsp;all&nbsp;along.&nbsp;&amp;nbsp;I&nbsp;guess&nbsp;since&nbsp;the&nbsp;default&nbsp;&amp;nbsp;vhost&nbsp;is&nbsp;&quot;/&quot;,&nbsp;I&nbsp;was&nbsp;looking&nbsp;at&nbsp;it&nbsp;like&nbsp;uri,&nbsp;so&nbsp;I&nbsp;had&nbsp;to&nbsp;create&nbsp;vhost&nbsp;preceded&nbsp;by&nbsp;&quot;/&quot;.&nbsp;&amp;nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Always&nbsp;helpful&nbsp;to&nbsp;have&nbsp;another&nbsp;pair&nbsp;of&nbsp;eyes&nbsp;looking&nbsp;at&nbsp;the&nbsp;problem.&nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Two&nbsp;quick&nbsp;questions,&nbsp;is&nbsp;it&nbsp;possible&nbsp;to&nbsp;define&nbsp;multiple&nbsp;queue.bind&nbsp;in&nbsp;the&nbsp;same&nbsp;declaration?&nbsp;&amp;nbsp;This&nbsp;is&nbsp;to&nbsp;shovel&nbsp;traffic&nbsp;from&nbsp;multiple&nbsp;exchanges.&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;And&nbsp;can&nbsp;we&nbsp;use&nbsp;the&amp;nbsp;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;monospace;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;Most-Recently-Declared-Queue&nbsp;in&nbsp;the&nbsp;resource&nbsp;definition&nbsp;and&nbsp;NOT&nbsp;have&nbsp;it&nbsp;persistent&nbsp;so&nbsp;if&nbsp;shovel&nbsp;dies,&nbsp;the&nbsp;queue&nbsp;dies&nbsp;with&nbsp;it&nbsp;instead&nbsp;of&nbsp;accumulate&nbsp;messages?&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;again,&lt;/div&gt;&lt;div&gt;Mark,&nbsp;happy&nbsp;shoveling.&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Apr&nbsp;21,&nbsp;2010,&nbsp;at&nbsp;11:40&nbsp;PM,&nbsp;Matthias&nbsp;Radestock&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;Mark,&lt;br&gt;&lt;br&gt;Mark&nbsp;Lin&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Wanted&nbsp;to&nbsp;get&nbsp;shovel&nbsp;to&nbsp;work,&nbsp;but&nbsp;am&nbsp;getting&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;{amqp_error,access_refused,&nbsp;&quot;access&nbsp;to&nbsp;vhost&nbsp;'vtest'&nbsp;refused&nbsp;for&nbsp;user&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;'shovel'&quot;,&nbsp;'connection.open'}}&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;from&nbsp;the&nbsp;rabbit&nbsp;server.&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;I&nbsp;am&nbsp;sure&nbsp;the&nbsp;username&nbsp;and&nbsp;password&nbsp;are&nbsp;correct.&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;Have&nbsp;you&nbsp;granted&nbsp;the&nbsp;'shovel'&nbsp;user&nbsp;access&nbsp;to&nbsp;the&nbsp;vhost&nbsp;'vtest'?&nbsp;See&nbsp;&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/admin-guide.html#set_permissions&quot;&gt;http://www.rabbitmq.com/admin-guide.html#set_permissions&lt;/a&gt;&nbsp;-&nbsp;so&nbsp;something&nbsp;like&lt;br&gt;&nbsp;&amp;nbsp;&amp;nbsp;rabbitmqctl&nbsp;set_permissions&nbsp;-p&nbsp;vtest&nbsp;shovel&nbsp;&quot;.*&quot;&nbsp;&quot;.*&quot;&nbsp;&quot;.*&quot;&lt;br&gt;should&nbsp;do&nbsp;the&nbsp;trick.&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;From&nbsp;the&nbsp;bql&nbsp;security&nbsp;document,&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/rabbitmq-bql.html#bql-security-rules&quot;&gt;http://www.rabbitmq.com/rabbitmq-bql.html#bql-security-rules&lt;/a&gt;,&nbsp;showing&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;the&nbsp;exact&nbsp;same&nbsp;error,&nbsp;it&nbsp;seems&nbsp;that&nbsp;I&nbsp;HAVE&nbsp;to&nbsp;use&nbsp;bql&nbsp;...&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;No,&nbsp;you&nbsp;don't&nbsp;have&nbsp;to&nbsp;use&nbsp;bql;&nbsp;rabbitmqctl&nbsp;(which&nbsp;ships&nbsp;with&nbsp;the&nbsp;broker)&nbsp;&lt;br&gt;is&nbsp;all&nbsp;you&nbsp;need.&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;to&nbsp;grant&nbsp;permission&nbsp;to&nbsp;amq.default(which&nbsp;doesn't&nbsp;actually&nbsp;exist&nbsp;on&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;the&nbsp;OSX&nbsp;1.7.0&nbsp;build&nbsp;of&nbsp;rabbitmq).&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;'amq.default'&nbsp;is&nbsp;a&nbsp;pseudonym&nbsp;for&nbsp;the&nbsp;otherwise&nbsp;nameless&nbsp;default&nbsp;&lt;br&gt;exchange.&nbsp;From&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/admin-guide.html#access-control&quot;&gt;http://www.rabbitmq.com/admin-guide.html#access-control&lt;/a&gt;&nbsp;...&lt;br&gt;&lt;br&gt;&quot;For&nbsp;convenience&nbsp;RabbitMQ&nbsp;maps&nbsp;AMQP's&nbsp;default&nbsp;exchange's&nbsp;blank&nbsp;name&nbsp;to&nbsp;&lt;br&gt;'amq.default'&nbsp;when&nbsp;performing&nbsp;permission&nbsp;checks.&quot;&lt;br&gt;&lt;br&gt;Whether&nbsp;or&nbsp;not&nbsp;the&nbsp;shovel&nbsp;user&nbsp;needs&nbsp;access&nbsp;to&nbsp;the&nbsp;default&nbsp;exchange&nbsp;&lt;br&gt;depends&nbsp;on&nbsp;the&nbsp;rest&nbsp;of&nbsp;your&nbsp;shovel&nbsp;configuration.&nbsp;But&nbsp;in&nbsp;any&nbsp;case&nbsp;the&nbsp;&lt;br&gt;&quot;.*&quot;&nbsp;regexps&nbsp;in&nbsp;the&nbsp;above&nbsp;set_permissions&nbsp;call&nbsp;will&nbsp;cover&nbsp;that.&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;By&nbsp;the&nbsp;way,&nbsp;the&nbsp;version&nbsp;of&nbsp;rabbitmq-shovel&nbsp;I&nbsp;downloaded&nbsp;via&nbsp;hg&nbsp;has&nbsp;a&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;few&nbsp;parameter&nbsp;modifications&nbsp;differ&nbsp;from&nbsp;given&nbsp;example&nbsp;in&nbsp;the&nbsp;blog.&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;The&nbsp;shovel,&nbsp;like&nbsp;the&nbsp;rest&nbsp;of&nbsp;the&nbsp;code&nbsp;base,&nbsp;is&nbsp;evolving,&nbsp;so&nbsp;for&nbsp;the&nbsp;most&nbsp;&lt;br&gt;up&nbsp;to&nbsp;date&nbsp;documentation&nbsp;always&nbsp;refer&nbsp;to&nbsp;the&nbsp;docs&nbsp;shipped&nbsp;with&nbsp;the&nbsp;code,&nbsp;&lt;br&gt;i.e.&nbsp;&lt;a&nbsp;href=&quot;http://hg.rabbitmq.com/rabbitmq-shovel/file/default/README&quot;&gt;http://hg.rabbitmq.com/rabbitmq-shovel/file/default/README&lt;/a&gt;&nbsp;in&nbsp;this&nbsp;&lt;br&gt;case.&lt;br&gt;&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;&lt;br&gt;Matthias.&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
