<tt>
Hi&nbsp;All,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;new&nbsp;to&nbsp;RabbitMQ&nbsp;and planning&nbsp;to&nbsp;use&nbsp;RabbitMQ&nbsp;in&nbsp;our&nbsp;social&nbsp;application.&lt;/div&gt;&lt;div&gt;Would&nbsp;like&nbsp;to&nbsp;receive&nbsp;more&nbsp;advices&nbsp;on&nbsp;design&nbsp;approaches&nbsp;and&nbsp;best&nbsp;practices&nbsp;form&nbsp;you&nbsp;all.&nbsp; &lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;The&nbsp;following&nbsp;is&nbsp;the&nbsp;basic&nbsp;requirements&nbsp;of&nbsp;our&nbsp;system:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;meta&nbsp;charset=&quot;utf-8&quot;&gt;&lt;div&gt;The&nbsp;whole&nbsp;application&nbsp;is&nbsp;called&nbsp;community.&nbsp; Inside&nbsp;community&nbsp;we&nbsp;have&nbsp;groups.&lt;/div&gt;&lt;div&gt;In&nbsp;each&nbsp;group,&nbsp;user&nbsp;can&nbsp;have&nbsp;discussion&nbsp;topics&nbsp;within&nbsp;the&nbsp;group.&lt;/div&gt;<br>
&lt;div&gt;User&nbsp;can&nbsp;share&nbsp;file/resource&nbsp;to&nbsp;community.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;is&nbsp;a&nbsp;wall&nbsp;page&nbsp;for&nbsp;user.&nbsp; Also&nbsp;there&nbsp;is&nbsp;a&nbsp;wall&nbsp;page&nbsp;for&nbsp;the&nbsp;group.&lt;/div&gt;&lt;div&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Style-Type&quot;&nbsp;content=&quot;text/css&quot;&gt;<br>
&lt;title&gt;&lt;/title&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Cocoa&nbsp;HTML&nbsp;Writer&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;CocoaVersion&quot;&nbsp;content=&quot;1038.35&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&gt;<br>
p.p1&nbsp;{margin:&nbsp;0.0px&nbsp;0.0px&nbsp;12.0px&nbsp;0.0px;&nbsp;font:&nbsp;14.0px&nbsp;Times;&nbsp;min-height:&nbsp;18.0px}<br>
p.p2&nbsp;{margin:&nbsp;0.0px&nbsp;0.0px&nbsp;12.0px&nbsp;0.0px;&nbsp;font:&nbsp;14.0px&nbsp;Times}<br>
&lt;/style&gt;<br>
<br>
<br>
&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Style-Type&quot;&nbsp;content=&quot;text/css&quot;&gt;<br>
&lt;title&gt;&lt;/title&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Cocoa&nbsp;HTML&nbsp;Writer&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;CocoaVersion&quot;&nbsp;content=&quot;1038.35&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&gt;<br>
p.p1&nbsp;{margin:&nbsp;0.0px&nbsp;0.0px&nbsp;12.0px&nbsp;0.0px;&nbsp;font:&nbsp;14.0px&nbsp;Times;&nbsp;min-height:&nbsp;18.0px}<br>
p.p2&nbsp;{margin:&nbsp;0.0px&nbsp;0.0px&nbsp;12.0px&nbsp;0.0px;&nbsp;font:&nbsp;14.0px&nbsp;Times}<br>
&lt;/style&gt;<br>
<br>
<br>
&lt;/p&gt;&lt;p&nbsp;class=&quot;p1&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;(EVENT-1&nbsp;::&nbsp;if&nbsp;user&nbsp;share&nbsp;a&nbsp;file/resource&nbsp;to&nbsp;community)&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;update&nbsp;on&nbsp;wall&nbsp;of&nbsp;that&nbsp;user&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;update&nbsp;on&nbsp;wall&nbsp;of&nbsp;all&nbsp;friends&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;add&nbsp;to&nbsp;moderation&nbsp;queue&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;b&gt;TARGET&lt;/b&gt;:&nbsp;self,&nbsp;friends;&nbsp;  &lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;b&gt;ACTION&lt;/b&gt;:&nbsp;update&nbsp;wall, add&nbsp;to&nbsp;moderation&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;meta&nbsp;charset=&quot;utf-8&quot;&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;12px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;14px/normal&nbsp;Times;&nbsp;&quot;&gt;<br>
(EVENT-2&nbsp;::&nbsp;if&nbsp;someone&nbsp;comments&nbsp;on&nbsp;shared&nbsp;file/resource&nbsp;of&nbsp;community)&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;12px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;14px/normal&nbsp;Times;&nbsp;&quot;&gt;-&nbsp;update&nbsp;on&nbsp;wall&nbsp;of&nbsp;that&nbsp;user&nbsp;(primary&nbsp;actor)&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;12px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;14px/normal&nbsp;Times;&nbsp;&quot;&gt;-&nbsp;update&nbsp;on&nbsp;wall&nbsp;of&nbsp;all&nbsp;other&nbsp;people (other&nbsp;actors) who&nbsp;also&nbsp;commented&nbsp;on&nbsp;the&nbsp;resource &lt;/p&gt;<br>
&lt;meta&nbsp;charset=&quot;utf-8&quot;&gt;&lt;p&nbsp;class=&quot;p2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;12px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;14px/normal&nbsp;Times;&nbsp;&quot;&gt;-&nbsp;update&nbsp;on&nbsp;wall&nbsp;of&nbsp;all&nbsp;friends&nbsp;of&nbsp;primary&nbsp;actor&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;12px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;14px/normal&nbsp;Times;&nbsp;&quot;&gt;<br>
-&nbsp;notify&nbsp;to&nbsp;all&nbsp;other&nbsp;people (other&nbsp;actors) who&nbsp;also&nbsp;commented&nbsp;on&nbsp;the&nbsp;resource&lt;/p&gt;&lt;meta&nbsp;charset=&quot;utf-8&quot;&gt;&lt;p&nbsp;class=&quot;p2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;12px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;14px/normal&nbsp;Times;&nbsp;&quot;&gt;<br>
&lt;b&gt;TARGET&lt;/b&gt;:&nbsp;primary&nbsp;actor,&nbsp;friends,&nbsp;other&nbsp;actors;&nbsp;  &lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;12px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;14px/normal&nbsp;Times;&nbsp;&quot;&gt;&lt;b&gt;ACTION&lt;/b&gt;:&nbsp;update&nbsp;wall,&nbsp;notify&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;12px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;14px/normal&nbsp;Times;&nbsp;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;div&gt;(EVENT-3&nbsp;::&nbsp;admin&nbsp;delete&nbsp;particular&nbsp;file/resource&nbsp;from&nbsp;community)&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;clean&nbsp;up&nbsp;work&lt;/div&gt;&lt;div&gt;-&nbsp;notify&nbsp;the&nbsp;owner&lt;/div&gt;&lt;div&gt;&lt;b&gt;TARGET&lt;/b&gt;:&nbsp;owner&lt;/div&gt;&lt;div&gt;&lt;b&gt;ACTION&lt;/b&gt;:&nbsp;clean&nbsp;up,&nbsp;notify&lt;/div&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;(EVENT-4&nbsp;::&nbsp;if&nbsp;user&nbsp;post&nbsp;a&nbsp;conversation&nbsp;to&nbsp;certain&nbsp;discussion&nbsp;topic&nbsp;within&nbsp;the&nbsp;group)&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;update&nbsp;to&nbsp;group&nbsp;wall&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;update&nbsp;to&nbsp;group&nbsp;members&amp;#39;&nbsp;wall&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;notify&nbsp;to&nbsp;all&nbsp;group&nbsp;members&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;classify&nbsp;trending&nbsp;of&nbsp;the&nbsp;discussion&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;b&gt;TARGET&lt;/b&gt;:&nbsp;group,&nbsp;group&nbsp;members&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;b&gt;ACTION&lt;/b&gt;:&nbsp;update&nbsp;wall,&nbsp;notify,&nbsp;classify&nbsp;trending&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;This&nbsp;is&nbsp;my&nbsp;initial&nbsp;plan:&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;planning&nbsp;to&nbsp;use&nbsp;&lt;b&gt;topic&nbsp;exchange&lt;/b&gt; for&nbsp;that.&nbsp; &lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;use&nbsp;queues&nbsp;binding&nbsp;such&nbsp;as&nbsp;(&nbsp;#.self&nbsp;,&nbsp;#.friends,&nbsp;#.group,&nbsp;#.groupmembers,&nbsp;#.otheractors&nbsp;)&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;But&nbsp;my&nbsp;concern&nbsp;is:&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp; how&nbsp;do&nbsp;we&nbsp;mix&nbsp;together&nbsp;the&nbsp;&lt;b&gt;TARGET&lt;/b&gt;&nbsp;and&nbsp;&lt;b&gt;ACTION&lt;/b&gt;&nbsp;so&nbsp;that&nbsp;one&nbsp;routing&nbsp;key&nbsp;will&nbsp;cover&nbsp;all&nbsp;possible&nbsp;combination?&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;do&nbsp;I&nbsp;require&nbsp;to&nbsp;send&nbsp;2&nbsp;messages&nbsp;with&nbsp;different&nbsp;routing&nbsp;keys&nbsp;to&nbsp;get&nbsp;the&nbsp;possible&nbsp;combination?&nbsp; (which&nbsp;I&nbsp;don&amp;#39;t&nbsp;really&nbsp;want&nbsp;to&nbsp;since&nbsp;the&nbsp;publisher&nbsp;will&nbsp;have&nbsp;too&nbsp;much&nbsp;knowledge&nbsp;about&nbsp;the&nbsp;business&nbsp;rule)&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;meta&nbsp;charset=&quot;utf-8&quot;&gt;-&nbsp;Is&nbsp;it&nbsp;the&nbsp;right&nbsp;approach?&nbsp; Or&nbsp;should&nbsp;I&nbsp;just&nbsp;have&nbsp;either&nbsp;of&nbsp;ACTION&nbsp;or&nbsp;TARGET&nbsp;and&nbsp;have&nbsp;the&nbsp;consumer&nbsp;decide&nbsp;based&nbsp;on&nbsp;the&nbsp;event&nbsp;type?&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;What&nbsp;is&nbsp;the&nbsp;recommended&nbsp;number&nbsp;of&nbsp;exchanges&nbsp;for&nbsp;such&nbsp;situation?&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;-&nbsp;Would&nbsp;be&nbsp;great&nbsp;if&nbsp;you&nbsp;could&nbsp;suggest&nbsp;the&nbsp;good&nbsp;naming&nbsp;practice&nbsp;for&nbsp;queue&nbsp;and&nbsp;exchange.&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;OR&nbsp;if&nbsp;my&nbsp;approach&nbsp;is&nbsp;not&nbsp;appropriate,&nbsp;please&nbsp;kindly&nbsp;suggest&nbsp;the&nbsp;workaround&nbsp;and&nbsp;fixes&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;learn.&nbsp; &lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;Thanks&nbsp;guys.&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;Alex&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;/div&gt;<br>

</tt>
