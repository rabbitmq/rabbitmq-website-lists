<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;use&nbsp;Active&nbsp;Directory&nbsp;as&nbsp;an&nbsp;LDAP&nbsp;auth&nbsp;backen&nbsp;for&nbsp;Rabbitmq.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;have&nbsp;3&nbsp;AD&nbsp;servers,&nbsp;and&nbsp;alle&nbsp;3&nbsp;are&nbsp;configured&nbsp;in&nbsp;RabbitMQ.&nbsp;But&nbsp;if&nbsp;we&nbsp;shutdown&nbsp;one&nbsp;of&nbsp;them,&nbsp;we&nbsp;are&nbsp;no&nbsp;longer&nbsp;able&nbsp;to&nbsp;access&nbsp;RabbitMQ&nbsp;using&nbsp;an&nbsp;LDAP&nbsp;account.&lt;/div&gt;&lt;div&gt;I&nbsp;get&nbsp;the&nbsp;login&nbsp;promt,&nbsp;om&nbsp;the&nbsp;management&nbsp;site(http://host:15672),&nbsp;but&nbsp;if&nbsp;i&nbsp;use&nbsp;a&nbsp;LDAP&nbsp;account,&nbsp;the&nbsp;site&nbsp;is&nbsp;not&nbsp;responding.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Why&nbsp;is&nbsp;the&nbsp;LDAP&nbsp;module&nbsp;not&nbsp;robust&nbsp;againt&nbsp;unavailable&nbsp;LDAP&nbsp;backens?&nbsp;-&nbsp;could&nbsp;you&nbsp;intruduce&nbsp;a&nbsp;sort&nbsp;of&nbsp;healtcheck?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;RabbitMQ&nbsp;3.2.3,&nbsp;Erlang&nbsp;R15B01&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rabbitmq.config&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;title=&quot;Hint:&nbsp;double-click&nbsp;to&nbsp;select&nbsp;code&quot;&nbsp;class=&quot;container&quot;&gt;&lt;div&nbsp;class=&quot;line&nbsp;number1&nbsp;index0&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;[&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number2&nbsp;index1&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;{rabbit,&nbsp;[{auth_backends,&nbsp;[rabbit_auth_backend_ldap,&nbsp;rabbit_auth_backend_internal]}]},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number3&nbsp;index2&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;{rabbitmq_auth_backend_ldap,&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number4&nbsp;index3&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;[&nbsp;{servers,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;string&quot;&gt;&quot;devopsad01.dev.local&quot;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;,&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;string&quot;&gt;&quot;devopsad02.dev.local&quot;,&lt;/code&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;monospace;&quot;&gt;&quot;devopsad03.dev.local&quot;&lt;/span&gt;]},&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number5&nbsp;index4&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{dn_lookup_attribute,&nbsp;&nbsp;&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;string&quot;&gt;&quot;userPrincipalName&quot;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number6&nbsp;index5&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{dn_lookup_base,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;string&quot;&gt;&quot;DC=dev,DC=local&quot;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number7&nbsp;index6&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{user_dn_pattern,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;string&quot;&gt;&quot;${username}@dev.local&quot;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number8&nbsp;index7&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{use_ssl,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;functions&quot;&gt;false&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number9&nbsp;index8&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{port,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;389},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number10&nbsp;index9&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{log,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;functions&quot;&gt;false&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number11&nbsp;index10&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{vhost_access_query,&nbsp;&nbsp;&nbsp;&nbsp;{in_group,&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number12&nbsp;index11&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;string&quot;&gt;&quot;CN=sg_sh_mq_vhost-${vhost},OU=vhosts,OU=MQ,OU=Security&nbsp;Groups,OU=Groups,OU=SharedHosting,OU=eCG,DC=dev,DC=local&quot;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;}}&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number13&nbsp;index12&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{resource_access_query,&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number14&nbsp;index13&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;keyword&quot;&gt;for&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;,&nbsp;[{permission,&nbsp;configure,&nbsp;{constant,&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;functions&quot;&gt;true&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;}},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number15&nbsp;index14&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{permission,&nbsp;write,&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number16&nbsp;index15&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;keyword&quot;&gt;for&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;,&nbsp;[{resource,&nbsp;queue,&nbsp;&nbsp;&nbsp;&nbsp;{constant,&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;functions&quot;&gt;true&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;}},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number17&nbsp;index16&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{resource,&nbsp;exchange,&nbsp;{constant,&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;functions&quot;&gt;true&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;}}]}},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number18&nbsp;index17&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{permission,&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;functions&quot;&gt;read&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;,&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number19&nbsp;index18&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;keyword&quot;&gt;for&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;,&nbsp;[{resource,&nbsp;exchange,&nbsp;{constant,&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;functions&quot;&gt;true&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;}},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number20&nbsp;index19&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{resource,&nbsp;queue,&nbsp;&nbsp;&nbsp;&nbsp;{constant,&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;functions&quot;&gt;true&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;}}]}}&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number21&nbsp;index20&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number22&nbsp;index21&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number23&nbsp;index22&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{tag_queries,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[{administrator,&nbsp;{in_group,&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;string&quot;&gt;&quot;CN=sg_sh_mq-admin,OU=MQ,OU=Security&nbsp;Groups,OU=Groups,OU=SharedHosting,OU=eCG,DC=dev,DC=local&quot;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;}},&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number24&nbsp;index23&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{management,&nbsp;&nbsp;&nbsp;&nbsp;{constant,&nbsp;&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;functions&quot;&gt;true&lt;/code&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;}}]}&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number25&nbsp;index24&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;&nbsp;]&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number26&nbsp;index25&nbsp;alt1&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;&nbsp;&nbsp;}&lt;/code&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&nbsp;number27&nbsp;index26&nbsp;alt2&quot;&gt;&lt;code&nbsp;class=&quot;bash&nbsp;plain&quot;&gt;].&lt;/code&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
