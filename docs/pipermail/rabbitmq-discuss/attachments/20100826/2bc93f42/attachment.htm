<tt>
&lt;table&nbsp;cellspacing=&quot;0&quot;&nbsp;cellpadding=&quot;0&quot;&nbsp;border=&quot;0&quot;&nbsp;&gt;&lt;tr&gt;&lt;td&nbsp;valign=&quot;top&quot;&nbsp;style=&quot;font:&nbsp;inherit;&quot;&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;your&nbsp;answer&nbsp;!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;may&nbsp;be&nbsp;using&nbsp;it&nbsp;in&nbsp;a&nbsp;wrong&nbsp;way&nbsp;but&nbsp;so&nbsp;far,&nbsp;the&nbsp;method&nbsp;getMessageCount()&nbsp;always&nbsp;displays&nbsp;0&nbsp;message,&nbsp;when&nbsp;&lt;i&gt;&quot;rabbitmqctl&nbsp;list_queues&quot;&lt;/i&gt;&nbsp;displays&nbsp;8&nbsp;messages&nbsp;or&nbsp;keeps&nbsp;growing.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;webkit-indent-blockquote&quot;&nbsp;style=&quot;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;40px;&nbsp;border:&nbsp;none;&nbsp;padding:&nbsp;0px;&quot;&gt;&lt;div&gt;DeclareOk&nbsp;declareOk&nbsp;=&nbsp;channel.queueDeclare();&lt;/div&gt;&lt;div&gt;System.out.println(&quot;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;MESSAGES&nbsp;:&nbsp;&quot;&nbsp;+&nbsp;declareOk.getMessageCount());&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Cheers,&lt;div&gt;Florence.&lt;br&gt;&lt;br&gt;---&nbsp;En&nbsp;date&nbsp;de&amp;nbsp;:&nbsp;&lt;b&gt;Jeu&nbsp;26.8.10,&nbsp;Michael&nbsp;Bridgen&nbsp;&lt;i&gt;&amp;lt;mikeb@rabbitmq.com&amp;gt;&lt;/i&gt;&lt;/b&gt;&nbsp;a&nbsp;écrit&amp;nbsp;:&lt;br&gt;&lt;blockquote&nbsp;style=&quot;border-left:&nbsp;2px&nbsp;solid&nbsp;rgb(16,&nbsp;16,&nbsp;255);&nbsp;margin-left:&nbsp;5px;&nbsp;padding-left:&nbsp;5px;&quot;&gt;&lt;br&gt;De:&nbsp;Michael&nbsp;Bridgen&nbsp;&amp;lt;mikeb@rabbitmq.com&amp;gt;&lt;br&gt;Objet:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;To&nbsp;know&nbsp;when&nbsp;a&nbsp;queue<br>
&nbsp;is&nbsp;empty&nbsp;from&nbsp;a&nbsp;Java&nbsp;client&lt;br&gt;À:&nbsp;flocha2000-agile@yahoo.fr&lt;br&gt;Cc:&nbsp;rabbitmq-discuss@lists.rabbitmq.com&lt;br&gt;Date:&nbsp;Jeudi&nbsp;26&nbsp;août&nbsp;2010,&nbsp;15h24&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;plainMail&quot;&gt;&amp;gt;&amp;nbsp;&nbsp;From&nbsp;a&nbsp;Java&nbsp;client&nbsp;we&nbsp;need&nbsp;to&nbsp;know&nbsp;when&nbsp;a&nbsp;queue&nbsp;is&nbsp;empty.&lt;br&gt;&amp;gt;&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;know&nbsp;it&nbsp;via&nbsp;the&nbsp;Java&nbsp;api&nbsp;(or&nbsp;to&nbsp;know&nbsp;the&nbsp;number&lt;br&gt;&amp;gt;&nbsp;of&nbsp;messages&nbsp;in&nbsp;a&nbsp;queue).&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;We&nbsp;would&nbsp;rather&nbsp;have&nbsp;another&nbsp;way&nbsp;than&nbsp;calling&nbsp;/&quot;rabbitmqctl&nbsp;list_queues&quot;/&lt;br&gt;&amp;gt;&nbsp;via&nbsp;Runtime.exec()&lt;br&gt;&lt;br&gt;A&nbsp;queue.declare_ok&nbsp;frame&nbsp;includes&nbsp;the&nbsp;number&nbsp;of&nbsp;messages&nbsp;on&nbsp;the&nbsp;queue;&nbsp;so,&nbsp;you&nbsp;could&nbsp;send&nbsp;a&nbsp;passive&nbsp;queue.declare,&nbsp;and&nbsp;examine&nbsp;the&nbsp;response.&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;Michael&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</tt>
