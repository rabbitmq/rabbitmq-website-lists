<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;download&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://github.com/rabbitmq/rabbitmq-tutorials/blob/master/java/Recv.java&quot;&nbsp;style=&quot;color:rgb(255,153,51);text-decoration:underline;font-weight:bold;font-family:Verdana,sans-serif;font-size:12.800000190734863px;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:18px;text-align:left;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255)&quot;&gt;&lt;span&nbsp;class=&quot;code&nbsp;&quot;&nbsp;style=&quot;color:rgb(51,51,51);font-family:&amp;#39;Courier&nbsp;New&amp;#39;,Courier,monospace;font-size:small;white-space:nowrap&quot;&gt;Recv.java&lt;/span&gt;&lt;/a&gt;&lt;span&nbsp;style=&quot;color:rgb(85,85,85);font-family:Verdana,sans-serif;font-size:12.800000190734863px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:18px;text-align:left;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);display:inline!important;float:none&quot;&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(85,85,85);font-family:Verdana,sans-serif;font-size:12.800000190734863px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:18px;text-align:left;text-indent:0px;text-transform:none;white-space:normal;word-spacing:0px;background-color:rgb(255,255,255);display:inline!important;float:none&quot;&gt;&lt;/span&gt; &nbsp;and&nbsp;change&nbsp;some&nbsp;of&nbsp;its&nbsp;code&nbsp;to&nbsp;this:&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;i&gt;   &nbsp;   &nbsp;ConnectionFactory&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory();&lt;br&gt;        &nbsp;//factory.setHost(&amp;quot;localhost&amp;quot;);&lt;br&gt;   &nbsp;   &nbsp;factory.setUri(&amp;quot;amqp://&lt;a&nbsp;href=&quot;http://guest:guest@127.0.0.1:5672&quot;&gt;guest:guest@127.0.0.1:5672&lt;/a&gt;&amp;quot;);&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;Connection&nbsp;connection&nbsp;=&nbsp;factory.newConnection();&lt;br&gt;   &nbsp;   &nbsp;Channel&nbsp;channel&nbsp;=&nbsp;connection.createChannel();&lt;br&gt;&lt;br&gt;   &nbsp;   &nbsp;channel.queueDeclarePassive(QUEUE_NAME);&lt;br&gt;   &nbsp;   &nbsp;System.out.println(&amp;quot;&nbsp;[*]&nbsp;Waiting&nbsp;for&nbsp;messages.&nbsp;To&nbsp;exit&nbsp;press&nbsp;CTRL+C&amp;quot;);&lt;br&gt;<br>
<br>
&lt;br&gt;   &nbsp;   &nbsp;QueueingConsumer&nbsp;consumer&nbsp;=&nbsp;new&nbsp;QueueingConsumer(channel);&lt;br&gt;   &nbsp;   &nbsp;channel.basicConsume(QUEUE_NAME,&nbsp;false,&nbsp;consumer);&lt;br&gt;   &nbsp;   &nbsp;channel.basicQos(1);&lt;br&gt;&lt;br&gt;&lt;/i&gt;&lt;i&gt;&lt;br&gt;&lt;/i&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Sat,&nbsp;May&nbsp;11,&nbsp;2013&nbsp;at&nbsp;12:14&nbsp;PM,&nbsp;Matthias&nbsp;Radestock&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;11/05/13&nbsp;08:36,&nbsp;Mohsen&nbsp;Lotfizad&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
In&nbsp;fact&nbsp;I&nbsp;just&nbsp;want&nbsp;to&nbsp;know&nbsp;when&nbsp;I&nbsp;set&nbsp;prefetch_cont=2,&nbsp;why&nbsp;my&nbsp;consumer&lt;br&gt;<br>
try&nbsp;to&nbsp;give&nbsp;about&nbsp;700&nbsp;messages?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
How&nbsp;is&nbsp;your&nbsp;consumer&nbsp;consuming&nbsp;messages?&nbsp;With&nbsp;basic.consume&nbsp;or&nbsp;basic.get?&nbsp;Prefetch&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;the&nbsp;latter&nbsp;since&nbsp;the&nbsp;client&nbsp;is&nbsp;explicitly&nbsp;asking&nbsp;for&nbsp;the&nbsp;next&nbsp;message.&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Matthias.&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
