<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;experiencing&nbsp;RabbitMQ&nbsp;server&nbsp;faults&nbsp;when&nbsp;connecting&nbsp;over&nbsp;SSL&nbsp;following&nbsp;an&nbsp;upgrade&nbsp;to&nbsp;server&nbsp;version&nbsp;2.3.1.&nbsp; I&nbsp;have&nbsp;previously&nbsp;had&nbsp;this&nbsp;working&nbsp;fine&nbsp;using&nbsp;version&nbsp;2.2.0,&nbsp;if&nbsp;I&nbsp;downgrade&nbsp;my&nbsp;server&nbsp;to&nbsp;this&nbsp;version&nbsp;the&nbsp;SSL&nbsp;starts&nbsp;working&nbsp;again&nbsp;using&nbsp;the&nbsp;same&nbsp;configuration&nbsp;and&nbsp;client&nbsp;program.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;try&nbsp;to&nbsp;make&nbsp;an&nbsp;SSL&nbsp;connection,&nbsp;I&nbsp;see&nbsp;the&nbsp;following&nbsp;in&nbsp;the&nbsp;server&nbsp;logs:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;5-Feb-2011::11:29:01&nbsp;===&lt;/div&gt;&lt;div&gt;accepted&nbsp;TCP&nbsp;connection&nbsp;on&nbsp;&lt;a&nbsp;href=&quot;http://0.0.0.0:5671&quot;&gt;0.0.0.0:5671&lt;/a&gt;&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:33683&quot;&gt;127.0.0.1:33683&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;5-Feb-2011::11:29:01&nbsp;===&lt;/div&gt;&lt;div&gt;starting&nbsp;TCP&nbsp;connection&nbsp;&amp;lt;0.1043.0&amp;gt;&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:33683&quot;&gt;127.0.0.1:33683&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;5-Feb-2011::11:29:01&nbsp;===&lt;/div&gt;<br>
&lt;div&gt;upgraded&nbsp;TCP&nbsp;connection&nbsp;&amp;lt;0.1043.0&amp;gt;&nbsp;to&nbsp;SSL&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;5-Feb-2011::11:29:05&nbsp;===&lt;/div&gt;&lt;div&gt;exception&nbsp;on&nbsp;TCP&nbsp;connection&nbsp;&amp;lt;0.1043.0&amp;gt;&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:33683&quot;&gt;127.0.0.1:33683&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;{channel0_error,opening,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{error,function_clause,&amp;#39;connection.open&amp;#39;,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;[{rabbit_reader,&amp;#39;-i/2-fun-5-&amp;#39;,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [{tlsv1,{rsa,&amp;#39;3des_ede_cbc&amp;#39;,sha,no_export}}]},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit_reader,&amp;#39;-infos/2-lc$^0/1-0-&amp;#39;,2},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit_reader,&amp;#39;-infos/2-lc$^0/1-0-&amp;#39;,2},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit_reader,handle_method0,2},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit_reader,handle_method0,3},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit_reader,mainloop,2},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit_reader,start_connection,7},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; {proc_lib,init_p_do_apply,3}]}}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;5-Feb-2011::11:29:05&nbsp;===&lt;/div&gt;&lt;div&gt;<br>
closing&nbsp;TCP&nbsp;connection&nbsp;&amp;lt;0.1043.0&amp;gt;&nbsp;from&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:33683&quot;&gt;127.0.0.1:33683&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;SSL&nbsp;configuration&nbsp;is&nbsp;as&nbsp;follows:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;robin@robin-desktop:~$&nbsp;cat&nbsp;/etc/rabbitmq/rabbitmq.config &lt;/div&gt;<br>
&lt;div&gt;[&lt;/div&gt;&lt;div&gt; &nbsp;{rabbit,&nbsp;[&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; {ssl_listeners,&nbsp;[{&amp;quot;0.0.0.0&amp;quot;,5671}]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; {ssl_options,&nbsp;[{cacertfile,&amp;quot;/home/robin/rmq-ssl/testca/cacert.pem&amp;quot;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{certfile,&amp;quot;/home/robin/rmq-ssl/server/cert.pem&amp;quot;},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{keyfile,&amp;quot;/home/robin/rmq-ssl/server/key.pem&amp;quot;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{verify,verify_peer},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{fail_if_no_peer_cert,true}]}&lt;/div&gt;&lt;div&gt; &nbsp; ]}&lt;/div&gt;&lt;div&gt;<br>
].&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;using rabbitmq-server_2.3.1-1_all.deb&nbsp;on&nbsp;Ubuntu&nbsp;10.10,&nbsp;64&nbsp;bit.&nbsp; When&nbsp;installing&nbsp;the&nbsp;server&nbsp;I&amp;#39;m&nbsp;using&nbsp;&amp;quot;dpkg&nbsp;-i&nbsp;&amp;lt;server&nbsp;deb&nbsp;file&amp;gt;&amp;quot;&nbsp;and&nbsp;to&nbsp;remove&nbsp;I&amp;#39;m&nbsp;using&nbsp;&amp;quot;dpkg&nbsp;--purge&nbsp;&amp;lt;server&nbsp;deb&nbsp;file&amp;gt;&amp;quot;.&nbsp; I&nbsp;originally&nbsp;set&nbsp;up&nbsp;the&nbsp;SSL&nbsp;certificates&nbsp;by&nbsp;following&nbsp;the&nbsp;RabbitMQ&nbsp;documentation&nbsp;here: &lt;a&nbsp;href=&quot;http://www.rabbitmq.com/ssl.html&quot;&gt;http://www.rabbitmq.com/ssl.html&lt;/a&gt;&lt;/div&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;a&nbsp;problem&nbsp;with&nbsp;my&nbsp;RMQ&nbsp;SSL&nbsp;config,&nbsp;or&nbsp;has&nbsp;anything&nbsp;changed&nbsp;with&nbsp;RMQ/SSL&nbsp;in&nbsp;the&nbsp;2.3.1&nbsp;version?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;--Robin&lt;/div&gt;<br>

</tt>
