<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;try&nbsp;this&nbsp;at&nbsp;init&nbsp;step:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_connection&nbsp;=&nbsp;_connectionFactory.CreateConnection();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_channel&nbsp;=&nbsp;_connection.CreateModel();&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_channel.BasicQos(0,&nbsp;1,&nbsp;false);&nbsp;//params&nbsp;are:&nbsp;prefetchSize,&nbsp;prefetchCount,&nbsp;global&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;_basicConsumer&nbsp;=&nbsp;new&nbsp;QueueingBasicConsumer(_channel)&nbsp;{ConsumerTag&nbsp;=&nbsp;GetTag()};&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;now&nbsp;I&nbsp;can&nbsp;only&nbsp;read&nbsp;one&nbsp;first&nbsp;message&nbsp;from&nbsp;A.&nbsp;When&nbsp;I&nbsp;try&nbsp;to&nbsp;read&nbsp;first&nbsp;message&nbsp;from&nbsp;B&nbsp;I&nbsp;have&nbsp;exactly&nbsp;same&nbsp;problem.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;_channel.BasicQos(0,&nbsp;1,&nbsp;false);&nbsp;method&nbsp;call&nbsp;I&nbsp;took&nbsp;from&nbsp;old&nbsp;.NET&nbsp;client&nbsp;docs.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks.&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2013/8/22&nbsp;Michael&nbsp;Klishin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mklishin@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mklishin@gopivotal.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Valentin&nbsp;Polezhaev:&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;My&nbsp;code&nbsp;successfully&nbsp;reads&nbsp;first&nbsp;messages&nbsp;from&nbsp;both&nbsp;A&nbsp;and&nbsp;B&nbsp;queues,&nbsp;but&nbsp;third&nbsp;time&nbsp;(second&nbsp;read&nbsp;from&nbsp;A)&nbsp;it&nbsp;stays&nbsp;at&nbsp;line&lt;br&gt;<br>
&amp;gt;&nbsp;var&nbsp;ea&nbsp;=&nbsp;(BasicDeliverEventArgs)&nbsp;_basicConsumer.Queue.Dequeue();&lt;br&gt;<br>
&amp;gt;&nbsp;and&nbsp;nothing&nbsp;happens.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Just&nbsp;to&nbsp;clarify:&lt;br&gt;<br>
&lt;br&gt;<br>
this&nbsp;particular&nbsp;behavior&nbsp;is&nbsp;likely&nbsp;due&nbsp;to&nbsp;the&nbsp;following:&nbsp;both&nbsp;messages&nbsp;in&nbsp;A&nbsp;were&nbsp;already&nbsp;delivered,&lt;br&gt;<br>
and&nbsp;take&nbsp;off&nbsp;the&nbsp;(internal&nbsp;to&nbsp;the&nbsp;client)&nbsp;linked&nbsp;queue,&nbsp;so&nbsp;subsequent&nbsp;invocations&lt;br&gt;<br>
will&nbsp;block&nbsp;the&nbsp;caller&nbsp;until&nbsp;a&nbsp;new&nbsp;delivery&nbsp;arrives.&lt;br&gt;<br>
--&lt;br&gt;<br>
MK&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;With&nbsp;best&nbsp;regards,&nbsp;Valentin.<br>
&lt;/div&gt;<br>

</tt>
