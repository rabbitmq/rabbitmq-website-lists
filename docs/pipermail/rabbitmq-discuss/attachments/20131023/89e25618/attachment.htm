<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;We&nbsp;are&nbsp;testing&nbsp;unfinished&nbsp;messages&nbsp;scenario&nbsp;in&nbsp;RabbiMQ,&nbsp;where&nbsp;am&nbsp;running&nbsp;two&nbsp;consumers&nbsp;in&nbsp;separate&nbsp;command&nbsp;prompts,&nbsp;here&nbsp;Producer&nbsp;sends&nbsp;messages&nbsp;from&nbsp;&amp;quot;Message1&nbsp;to&nbsp;Message10&amp;quot;&nbsp;and&nbsp;two&nbsp;consumers&nbsp;will&nbsp;consume&nbsp;messages&nbsp;in&nbsp;round-robin&nbsp;passion&nbsp;like&nbsp;&amp;quot;Message1&amp;quot;&nbsp;goes&nbsp;to&nbsp;&amp;quot;Consumer1&amp;quot;&nbsp;and&nbsp;&amp;quot;Message2&amp;quot;&nbsp;will&nbsp;go&nbsp;to&nbsp;&amp;quot;Consumer2&amp;quot;,&nbsp;etc.&nbsp; To&nbsp;test&nbsp;unfinished&nbsp;messages&nbsp;what&nbsp;I&nbsp;have&nbsp;done&nbsp;is&nbsp;when&nbsp;one&nbsp;of&nbsp;the&nbsp;consumer&nbsp;[ex.Consumer2]&nbsp;received&nbsp;&amp;quot;Message2&amp;quot;&nbsp;then&nbsp;am&nbsp;not&nbsp;sending&nbsp;acknowledgement&nbsp;back&nbsp;to&nbsp;the&nbsp;server.&nbsp; In&nbsp;this&nbsp;case&nbsp;as&nbsp;per&nbsp;the&nbsp;documentation&nbsp;other&nbsp;consumer[Consumer1] has&nbsp;to&nbsp;consume&nbsp;message[Message2]&nbsp;from&nbsp;the&nbsp;server&nbsp;right?&nbsp;But,&nbsp;Its&nbsp;not&nbsp;happening,&nbsp;Consumer1&nbsp;consuming&nbsp;remaining&nbsp;messages&nbsp;but&nbsp;not&nbsp;&amp;quot;Message2&amp;quot;,&nbsp;why?&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Please&nbsp;find&nbsp;the&nbsp;sample&nbsp;code&nbsp;at&nbsp;consumer&nbsp;end&nbsp;below- &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;while&nbsp;(true)&nbsp;{&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;QueueingConsumer.Delivery&nbsp;delivery&nbsp;=&nbsp;consumer.nextDelivery();&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;String&nbsp;message&nbsp;=&nbsp;new&nbsp;String(delivery.getBody());&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;System.out.println(&amp;quot;&nbsp;[x]&nbsp;Received&nbsp;&amp;#39;&amp;quot;&nbsp;+&nbsp;message&nbsp;+&nbsp;&amp;quot;&amp;#39;&amp;quot;);&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;doWork(message);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;System.out.println(&amp;quot;&nbsp;[x]&nbsp;Done&amp;quot;);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;if(!message.equals(&amp;quot;Message2&amp;quot;)){&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;channel.basicAck(delivery.getEnvelope().getDeliveryTag(),&nbsp;false);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
Thanks&nbsp;in&nbsp;advance!&lt;/div&gt;&lt;/div&gt;<br>

</tt>
