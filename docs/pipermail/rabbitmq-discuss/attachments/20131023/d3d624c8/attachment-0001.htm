<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hey&nbsp;Michael&nbsp;-&nbsp;Comments&nbsp;below:&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Oct&nbsp;23,&nbsp;2013&nbsp;at&nbsp;5:23&nbsp;PM,&nbsp;Michael&nbsp;Klishin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mklishin@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mklishin@gopivotal.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;24&nbsp;Oct&nbsp;2013,&nbsp;at&nbsp;03:38,&nbsp;Jonathan&nbsp;Halterman&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jhalterman@gmail.com&quot;&gt;jhalterman@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;Lyra&nbsp;is&nbsp;a&nbsp;RabbitMQ&nbsp;client&nbsp;that&nbsp;helps&nbsp;you&nbsp;achieve&nbsp;high&nbsp;availability&nbsp;in&nbsp;your&nbsp;services&nbsp;by&nbsp;embracing&nbsp;failure,&nbsp;allowing&nbsp;for&nbsp;AMQP&nbsp;resources&nbsp;such&nbsp;as&nbsp;connections,&nbsp;channels&nbsp;and&nbsp;consumers&nbsp;to&nbsp;be&nbsp;automatically&nbsp;recovered&nbsp;when&nbsp;server&nbsp;or&nbsp;network&nbsp;failures&nbsp;occur.&nbsp;It&nbsp;also&nbsp;supports&nbsp;automatic&nbsp;invocation&nbsp;retries,&nbsp;and&nbsp;exposes&nbsp;a&nbsp;simple,&nbsp;lightweight&nbsp;API&nbsp;built&nbsp;around&nbsp;the&nbsp;Java&nbsp;AMQP-client&nbsp;library.&lt;br&gt;<br>
<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;For&nbsp;more&nbsp;info,&nbsp;visit&nbsp;the&nbsp;project&nbsp;page:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://github.com/jhalterman/lyra&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/jhalterman/lyra&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Questions,&nbsp;comments,&nbsp;and&nbsp;suggestions&nbsp;are&nbsp;welcome.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Very&nbsp;nice!&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;couple&nbsp;of&nbsp;questions:&lt;br&gt;<br>
&lt;br&gt;<br>
 *&nbsp;&amp;quot;Automatic&nbsp;resource&nbsp;recovery&amp;quot;&nbsp;in&nbsp;README&nbsp;is&nbsp;a&nbsp;little&nbsp;vague.&nbsp;Can&nbsp;you&nbsp;explain&nbsp;how&nbsp;it&nbsp;works&nbsp;and&nbsp;what&nbsp;kind&nbsp;of&nbsp;scenarios&nbsp;does&nbsp;it&nbsp;cover?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sure.&nbsp;Lyra&nbsp;distinguishes&nbsp;between&nbsp;recovery&nbsp;and&nbsp;retries.&nbsp;If&nbsp;an&nbsp;invocation&nbsp;such&nbsp;as&nbsp;Channel.basicConsume&nbsp;fails&nbsp;due&nbsp;to&nbsp;an&nbsp;unexpected&nbsp;(not&nbsp;user&nbsp;initiated)&nbsp;channel&nbsp;closure,&nbsp;the&nbsp;channel&nbsp;is&nbsp;automatically&nbsp;recovered,&nbsp;along&nbsp;with&nbsp;any&nbsp;consumers,&nbsp;according&nbsp;to&nbsp;the&nbsp;configured&nbsp;recovery&nbsp;policy.&nbsp;Likewise,&nbsp;if&nbsp;a&nbsp;Connection&nbsp;invocation&nbsp;fails&nbsp;as&nbsp;the&nbsp;result&nbsp;of&nbsp;an&nbsp;unexpected&nbsp;connection&nbsp;closure,&nbsp;the&nbsp;connection,&nbsp;along&nbsp;with&nbsp;its&nbsp;channels&nbsp;and&nbsp;their&nbsp;consumers,&nbsp;are&nbsp;recovered&nbsp;according&nbsp;to&nbsp;the&nbsp;configured&nbsp;policies.&nbsp;After&nbsp;the&nbsp;resources&nbsp;are&nbsp;recovered,&nbsp;the&nbsp;failed&nbsp;invocation&nbsp;may&nbsp;be&nbsp;retried&nbsp;if&nbsp;it&nbsp;is&nbsp;deemed&nbsp;retryable,&nbsp;according&nbsp;to&nbsp;the&nbsp;configured&nbsp;retry&nbsp;policy.&nbsp;For&nbsp;connection/channel&nbsp;closures&nbsp;that&nbsp;are&nbsp;not&nbsp;the&nbsp;result&nbsp;of&nbsp;an&nbsp;invocation,&nbsp;the&nbsp;closed&nbsp;resources&nbsp;are&nbsp;simply&nbsp;recovered&nbsp;in&nbsp;the&nbsp;background.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;for&nbsp;what&nbsp;recovery&nbsp;entails,&nbsp;it&amp;#39;s&nbsp;basically&nbsp;recreating&nbsp;the&nbsp;closed&nbsp;resource&nbsp;and&nbsp;copying&nbsp;any/all&nbsp;state&nbsp;from&nbsp;the&nbsp;closed&nbsp;resource&nbsp;to&nbsp;the&nbsp;recovered&nbsp;resource.&nbsp;Lyra&nbsp;does&nbsp;this&nbsp;under&nbsp;the&nbsp;covers&nbsp;where&nbsp;the&nbsp;user&nbsp;isn&amp;#39;t&nbsp;exposed&nbsp;to&nbsp;the&nbsp;details.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
 *&nbsp;Are&nbsp;you&nbsp;familiar&nbsp;with&nbsp;how&nbsp;Ruby&nbsp;and&nbsp;Clojure&nbsp;clients&nbsp;perform&nbsp;recovery,&nbsp;e.g.&nbsp;[1]?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Definitely!&nbsp;I&nbsp;spent&nbsp;a&nbsp;good&nbsp;amount&nbsp;of&nbsp;time&nbsp;studying&nbsp;every&nbsp;client&nbsp;I&nbsp;could&nbsp;find&nbsp;including&nbsp;Langohr&nbsp;and&nbsp;Bunny.&nbsp;The&nbsp;general&nbsp;goal&nbsp;of&nbsp;Lyra&nbsp;is&nbsp;along&nbsp;the&nbsp;lines&nbsp;of&nbsp;what&nbsp;Bunny&nbsp;strives&nbsp;to&nbsp;do&nbsp;with&nbsp;recovery.&nbsp;What&nbsp;I&nbsp;found&nbsp;was&nbsp;that&nbsp;there&amp;#39;s&nbsp;a&nbsp;good&nbsp;amount&nbsp;of&nbsp;complexity&nbsp;in&nbsp;addressing&nbsp;the&nbsp;variety&nbsp;of&nbsp;failure&nbsp;scenarios&nbsp;and&nbsp;the&nbsp;combination&nbsp;of&nbsp;failures&nbsp;that&nbsp;might&nbsp;occur&nbsp;both&nbsp;initially&nbsp;and&nbsp;during&nbsp;the&nbsp;recovery&nbsp;process.&nbsp;For&nbsp;example,&nbsp;a&nbsp;channel&nbsp;invocation&nbsp;could&nbsp;trigger&nbsp;a&nbsp;channel&nbsp;closure&nbsp;which&nbsp;kicks&nbsp;off&nbsp;a&nbsp;recovery&nbsp;that&nbsp;fails&nbsp;for&nbsp;some&nbsp;other&nbsp;reason,&nbsp;requiring&nbsp;another&nbsp;channel&nbsp;recovery&nbsp;or&nbsp;perhaps&nbsp;even&nbsp;a&nbsp;connection&nbsp;recovery.&nbsp;Failures&nbsp;can&nbsp;cascade&nbsp;in&nbsp;interesting&nbsp;ways.&nbsp;Lyra&nbsp;strives&nbsp;to&nbsp;address&nbsp;this&nbsp;completely.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&amp;#39;re&nbsp;interested&nbsp;in&nbsp;some&nbsp;of&nbsp;these&nbsp;scenarios,&nbsp;have&nbsp;a&nbsp;look&nbsp;at&nbsp;Lyra&amp;#39;s&nbsp;functional&nbsp;tests&nbsp;(particularly&nbsp;the&nbsp;*Invocation&nbsp;and&nbsp;*Recovery&nbsp;test&nbsp;classes):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/jhalterman/lyra/tree/master/src/test/java/net/jodah/lyra/internal&quot;&gt;https://github.com/jhalterman/lyra/tree/master/src/test/java/net/jodah/lyra/internal&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
FYI,&nbsp;there&nbsp;are&nbsp;chances&nbsp;that&nbsp;similar&nbsp;features&nbsp;will&nbsp;eventually&nbsp;make&nbsp;it&nbsp;into&nbsp;the&nbsp;Java&nbsp;client,&nbsp;although&lt;br&gt;<br>
there&nbsp;is&nbsp;no&nbsp;specific&nbsp;plan&nbsp;for&nbsp;this&nbsp;at&nbsp;the&nbsp;moment.&nbsp;But&nbsp;more&nbsp;3rd&nbsp;party&nbsp;clients&nbsp;that&nbsp;support&nbsp;recovery&lt;br&gt;<br>
demonstrates&nbsp;the&nbsp;need&nbsp;for&nbsp;such&nbsp;features.&lt;br&gt;<br>
&lt;br&gt;<br>
1.&nbsp;&lt;a&nbsp;href=&quot;http://rubybunny.info/articles/error_handling.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://rubybunny.info/articles/error_handling.html&lt;/a&gt;&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
MK&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
