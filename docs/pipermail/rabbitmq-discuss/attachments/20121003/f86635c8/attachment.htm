<tt>
Hi&nbsp;Matthias,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;your&nbsp;advise,&nbsp;after&nbsp;I&nbsp;set&nbsp;the&nbsp;timeout&nbsp;to&nbsp;1&nbsp;minute&nbsp;the&nbsp;problem&nbsp;gone,&nbsp;but&nbsp;1&nbsp;minute&nbsp;seems&nbsp;too&nbsp;long.. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Wong&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Wed,&nbsp;Sep&nbsp;26,&nbsp;2012&nbsp;at&nbsp;3:17&nbsp;PM,&nbsp;Matthias&nbsp;Radestock&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Wong,&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;26/09/12&nbsp;07:18,&nbsp;Wong&nbsp;Kam&nbsp;Hoong&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
*_Master&nbsp;Node&nbsp;Usage_*&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
Memory&nbsp;:&nbsp;300M&lt;br&gt;<br>
CPU&nbsp;%&nbsp; :&nbsp;Average&nbsp;30%&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
_*Slave&nbsp;Node&nbsp;Usage*_&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
Memory&nbsp;:&nbsp;130M&lt;br&gt;<br>
CPU&nbsp;%&nbsp; :&nbsp;Average&nbsp;30%&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
there&nbsp;are&nbsp;only&nbsp;few&nbsp;messages&nbsp;during&nbsp;that&nbsp;time,&nbsp;e.g.&lt;br&gt;<br>
2012-09-26&nbsp;03:28:32&nbsp;=&amp;gt;&nbsp;4&nbsp;messages&lt;br&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
If&nbsp;the&nbsp;CPU&nbsp;is&nbsp;averaging&nbsp;30%&nbsp;when&nbsp;the&nbsp;load&nbsp;is&nbsp;so&nbsp;low&nbsp;then&nbsp;the&nbsp;machines&nbsp;must&nbsp;be&nbsp;doing&nbsp;something&nbsp;else&nbsp;too.&nbsp;I&nbsp;notice&nbsp;from...&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
=INFO&nbsp;REPORT====&nbsp;26-Sep-2012::03:29:37&nbsp;===&lt;br&gt;<br>
accepting&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.8897.18&amp;gt;&nbsp;(&lt;a&nbsp;href=&quot;http://192.168.0.100:43836&quot;&nbsp;target=&quot;_blank&quot;&gt;192.168.0.100:43836&lt;/a&gt;&lt;br&gt;&lt;/div&gt;<br>
&amp;lt;&lt;a&nbsp;href=&quot;http://192.168.0.100:43836/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://192.168.0.100:43836/&lt;/a&gt;&amp;gt;&nbsp;-&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://192.168.0.100:5672&quot;&nbsp;target=&quot;_blank&quot;&gt;192.168.0.100:5672&lt;/a&gt;&lt;br&gt;<br>
&amp;lt;&lt;a&nbsp;href=&quot;http://192.168.0.100:5672/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://192.168.0.100:5672/&lt;/a&gt;&amp;gt;)&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
...that&nbsp;your&nbsp;clients&nbsp;are&nbsp;on&nbsp;the&nbsp;same&nbsp;machine&nbsp;as&nbsp;one&nbsp;of&nbsp;the&nbsp;nodes.&nbsp;Could&nbsp;it&nbsp;be&nbsp;that&nbsp;the&nbsp;machine&nbsp;was&nbsp;busy&nbsp;with&nbsp;other&nbsp;tasks,&nbsp;such&nbsp;as&nbsp;your&nbsp;application?&lt;br&gt;<br>
&lt;br&gt;<br>
Also,&nbsp;3:29&nbsp;in&nbsp;the&nbsp;morning&nbsp;is&nbsp;just&nbsp;the&nbsp;sort&nbsp;of&nbsp;time&nbsp;that&nbsp;I&amp;#39;d&nbsp;expect&nbsp;systems&nbsp;to&nbsp;run&nbsp;various&nbsp;housekeeping&nbsp;tasks&nbsp;which&nbsp;could&nbsp;hammer&nbsp;the&nbsp;CPU&nbsp;or&nbsp;disk.&nbsp;Those&nbsp;can&nbsp;result&nbsp;in&nbsp;significant&nbsp;delays,&nbsp;particularly&nbsp;when&nbsp;your&nbsp;messages&nbsp;persistent.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
I&nbsp;recommend&nbsp;increasing&nbsp;the&nbsp;timeout&nbsp;substantially,&nbsp;e.g.&nbsp;to&nbsp;1&nbsp;minute.&nbsp;That&nbsp;way&nbsp;if&nbsp;the&nbsp;problem&nbsp;really&nbsp;is&nbsp;just&nbsp;due&nbsp;to&nbsp;load&nbsp;it&nbsp;will&nbsp;go&nbsp;away.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Are&nbsp;you&nbsp;using&nbsp;mirrored/HA&nbsp;queues&nbsp;at&nbsp;all?&lt;br&gt;<br>
Yes,&nbsp;I&amp;#39;m&nbsp;using&nbsp;HA&nbsp;in&nbsp;all&nbsp;queues.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
We&nbsp;are&nbsp;aware&nbsp;of&nbsp;two&nbsp;bugs&nbsp;in&nbsp;2.8.x&nbsp;that&nbsp;can&nbsp;cause&nbsp;confirms&nbsp;to&nbsp;go&nbsp;missing.&nbsp;One&nbsp;of&nbsp;them&nbsp;involved&nbsp;setting&nbsp;an&nbsp;x-message-ttl=0&nbsp;on&nbsp;queues&nbsp;and&nbsp;use&nbsp;of&nbsp;the&nbsp;&amp;#39;immediate&amp;#39;&nbsp;flag&nbsp;on&nbsp;publish.&nbsp;So&nbsp;if&nbsp;you&nbsp;are&nbsp;doing&nbsp;that&nbsp;then,&nbsp;well,&nbsp;don&amp;#39;t&nbsp;:).&nbsp;The&nbsp;2nd&nbsp;issue&nbsp;involves&nbsp;(re)starting&nbsp;of&nbsp;nodes.&nbsp;So&nbsp;check&nbsp;whether&nbsp;any&nbsp;of&nbsp;the&nbsp;nodes&nbsp;in&nbsp;your&nbsp;cluster&nbsp;(re)started&nbsp;around&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;problem.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
&lt;br&gt;<br>
Matthias.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
