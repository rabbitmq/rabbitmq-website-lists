<tt>
Good&nbsp;day,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;are&nbsp;running&nbsp;in&nbsp;a&nbsp;problem&nbsp;while&nbsp;deploying&nbsp;a&nbsp;new&nbsp;cluster.&nbsp; The&nbsp;one&nbsp;node&nbsp;(dev)&nbsp;cluster&nbsp;is&nbsp;running&nbsp;RabbitMQ&nbsp;2.71.&nbsp; We&nbsp;got&nbsp;some&nbsp;Perl&nbsp;Net::AMQP&nbsp;clients&nbsp;that&nbsp;connect&nbsp;to&nbsp;the&nbsp;cluster&nbsp;and&nbsp;subscribes&nbsp;to&nbsp;a&nbsp;queue.&nbsp; The&nbsp;clients&nbsp;are&nbsp;existing&nbsp;with&nbsp;an&nbsp;error,&nbsp;usually&nbsp;after&nbsp;consuming&nbsp;a&nbsp;handful&nbsp;of&nbsp;messages.&nbsp; The&nbsp;error&nbsp;is&nbsp;&amp;quot;No&nbsp;way&nbsp;to&nbsp;unpack&nbsp;field&nbsp;&amp;#39;redelivered&amp;#39;&nbsp;type&nbsp;&amp;#39;t&amp;#39;&amp;quot;. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;the&nbsp;client&nbsp;is&nbsp;dying&nbsp;while&nbsp;unpacking&nbsp;the&nbsp;redelivered&nbsp;field&nbsp;in&nbsp;a&nbsp;message&nbsp;delivery&nbsp;command.&nbsp; The&nbsp;Net::AMQP&nbsp;client&nbsp;only&nbsp;supports&nbsp;the&nbsp;0-8&nbsp;protocol.&nbsp; I&amp;#39;ve&nbsp;verified&nbsp;that&nbsp;RabbitMQ&nbsp;believes&nbsp;the&nbsp;client&nbsp;is&nbsp;connected&nbsp;using&nbsp;AMQP&nbsp;0-8.&nbsp; My&nbsp;guess&nbsp;is&nbsp;that&nbsp;RabbitMQ&nbsp;is&nbsp;sending&nbsp;the&nbsp;client&nbsp;a&nbsp;0-9-1&nbsp;formated&nbsp;message,&nbsp;instead&nbsp;of&nbsp;a&nbsp;0-8&nbsp;message.&nbsp; The&nbsp;&amp;quot;redelivered&amp;quot;&nbsp;field&nbsp;does&nbsp;not&nbsp;appear&nbsp;to&nbsp;be&nbsp;defined&nbsp;in&nbsp;0-8,&nbsp;and&nbsp;its&nbsp;type&nbsp;in&nbsp;0-9-1&nbsp;is&nbsp;boolean&nbsp;or&nbsp;&amp;quot;t&amp;quot;,&nbsp;which&nbsp;is&nbsp;also&nbsp;not&nbsp;defined&nbsp;in&nbsp;0-8.&nbsp; Thus,&nbsp;Net::AMQP&nbsp;is&nbsp;throwing&nbsp;an&nbsp;error&nbsp;when&nbsp;it&nbsp;finds&nbsp;a&nbsp;field&nbsp;of&nbsp;an&nbsp;unknown&nbsp;type.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;client&amp;#39;s&nbsp;owner&nbsp;claims&nbsp;the&nbsp;client&nbsp;has&nbsp;worked&nbsp;successfully&nbsp;against&nbsp;the&nbsp;same&nbsp;messages&nbsp;we&nbsp;are&nbsp;feeding&nbsp;it&nbsp;on&nbsp;a&nbsp;2.5.1&nbsp;cluster.&nbsp; So&nbsp;we&nbsp;are&nbsp;wondering&nbsp;if&nbsp;something&nbsp;changed&nbsp;between&nbsp;2.5.1&nbsp;and&nbsp;2.7.1&nbsp;that&nbsp;may&nbsp;cause&nbsp;this&nbsp;behavior.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&amp;#39;ve&nbsp;also&nbsp;tested&nbsp;queues&nbsp;as&nbsp;both&nbsp;HA&nbsp;and&nbsp;non-HA&nbsp;and&nbsp;observe&nbsp;the&nbsp;same&nbsp;problem&nbsp;(we&nbsp;figured&nbsp;it&nbsp;may&nbsp;be&nbsp;related&nbsp;to&nbsp;the&nbsp;new&nbsp;HA&nbsp;code&nbsp;since&nbsp;we&nbsp;we&nbsp;had&nbsp;configured&nbsp;them&nbsp;as&nbsp;HA&nbsp;queues).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
We&nbsp;are&nbsp;going&nbsp;to&nbsp;start&nbsp;downgrading&nbsp;the&nbsp;cluster&nbsp;one&nbsp;version&nbsp;at&nbsp;a&nbsp;time&nbsp;towards&nbsp;2.5.1&nbsp;to&nbsp;determine&nbsp;whether&nbsp;some&nbsp;version&nbsp;does&nbsp;not&nbsp;exhibit&nbsp;the&nbsp;problem.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;RabbitMQ&nbsp;folks,&nbsp;any&nbsp;suggestions?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;Elias&nbsp;Levy&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

</tt>
