<tt>
Thank&nbsp;you&nbsp;David.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Actually,&nbsp;that&nbsp;was&nbsp;exactly&nbsp;what&nbsp;we&nbsp;ended&nbsp;up&nbsp;doing,&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;far&nbsp;as&nbsp;I&nbsp;understood,&nbsp;that&nbsp;even&nbsp;though&nbsp;Librabbitmq&nbsp;is&nbsp;event-driven,&nbsp;it&nbsp;doesn't&nbsp;mean&nbsp;it's&nbsp;non-blocking,&nbsp;right?&lt;/div&gt;&lt;div&gt;For&nbsp;instance,&amp;nbsp;wait_frame_inner&nbsp;is&nbsp;blocking&nbsp;until&nbsp;we&nbsp;recv()&nbsp;is&nbsp;responding&nbsp;with&nbsp;something&nbsp;useful.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Are&nbsp;there&nbsp;ways&nbsp;to&nbsp;work&nbsp;it&nbsp;around?&nbsp;We&nbsp;actually&nbsp;need&nbsp;some&nbsp;non-blocking&nbsp;approach,&nbsp;since&nbsp;we&nbsp;want&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;send&nbsp;heartbeats&nbsp;and&nbsp;do&nbsp;many&nbsp;other&nbsp;things&nbsp;in&nbsp;same&nbsp;thread,&nbsp;while&nbsp;we&nbsp;have&nbsp;no&nbsp;data&nbsp;available.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Actually,&nbsp;just&nbsp;changing&nbsp;that&nbsp;function&nbsp;would&nbsp;change&nbsp;many&nbsp;things.&nbsp;As&nbsp;far&nbsp;as&nbsp;I&nbsp;can&nbsp;tell,&nbsp;Send()&nbsp;calls&nbsp;are&nbsp;currently&nbsp;blocking&nbsp;as&nbsp;well,&nbsp;even&nbsp;though&nbsp;they're&nbsp;unlikely&nbsp;to&nbsp;block&nbsp;cycle&nbsp;for&nbsp;long&nbsp;time.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Should&nbsp;we&nbsp;just&nbsp;use&nbsp;several&nbsp;threads&nbsp;and&nbsp;create&nbsp;a&nbsp;connection&nbsp;per&nbsp;thread,&nbsp;or&nbsp;there&nbsp;are&nbsp;better&nbsp;approaches&nbsp;that&nbsp;were&nbsp;built&nbsp;into&nbsp;the&nbsp;lib?&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;help,&nbsp;again.&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;that&nbsp;something&nbsp;is&nbsp;causing&nbsp;basic_get&nbsp;to&nbsp;eat&nbsp;out&nbsp;memory&nbsp;when&nbsp;ran&nbsp;in&nbsp;cycle.&nbsp;If&nbsp;i&nbsp;manage&nbsp;to&nbsp;reproduce&nbsp;it&nbsp;without&nbsp;app&nbsp;itself&nbsp;and&nbsp;have&nbsp;more&nbsp;info,&nbsp;i'll&nbsp;file&nbsp;a&nbsp;bug-report.&nbsp;For&nbsp;now&nbsp;it&nbsp;may&nbsp;very&nbsp;well&nbsp;be&nbsp;my&nbsp;mistake(&amp;nbsp;&amp;nbsp;&lt;/div&gt;
</tt>
