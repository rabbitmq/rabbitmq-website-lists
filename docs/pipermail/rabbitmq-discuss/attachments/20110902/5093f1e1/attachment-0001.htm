<tt>
Sorry&nbsp;for&nbsp;spamming,&amp;nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Just&nbsp;another&nbsp;thought,&nbsp;it'd&nbsp;be&nbsp;possible&nbsp;and&nbsp;very&nbsp;easy&nbsp;to&nbsp;create&nbsp;a&nbsp;method&amp;nbsp;amqp_data_available&nbsp;that&nbsp;would&nbsp;tell&nbsp;us&nbsp;whether&nbsp;there's&nbsp;something&nbsp;on&nbsp;the&nbsp;socket&nbsp;before&nbsp;entering&nbsp;blocking&nbsp;call.&nbsp;This&nbsp;way&nbsp;it'll&nbsp;be&nbsp;possible&nbsp;to&nbsp;wait&nbsp;not&nbsp;inside&nbsp;of&nbsp;recv&nbsp;but&nbsp;inside&nbsp;of&nbsp;main&nbsp;loop,&nbsp;but&nbsp;i'm&nbsp;not&nbsp;sure&nbsp;how&nbsp;it&nbsp;would&nbsp;fit&nbsp;into&nbsp;the&nbsp;overall&nbsp;idea.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;sketched&nbsp;it,&nbsp;maybe&nbsp;you&nbsp;would&nbsp;find&nbsp;anything&nbsp;useful&nbsp;there.&nbsp;&amp;nbsp;&lt;a&nbsp;href=&quot;https://gist.github.com/1189157&quot;&gt;https://gist.github.com/1189157&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;again!&lt;/div&gt;
</tt>
