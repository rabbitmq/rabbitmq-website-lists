<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Tsuraan,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;using&nbsp;durable,&nbsp;non-auto-deleting&nbsp;queues&nbsp;and&nbsp;exchanges&nbsp;with&nbsp;persistent&nbsp;messages.&nbsp;I&amp;#39;m&nbsp;using&nbsp;the&nbsp;Erlang&nbsp;client&nbsp;in&nbsp;network&nbsp;mode,&nbsp;and&nbsp;not&nbsp;using&nbsp;AMQP&nbsp;transactions.&nbsp;Every&nbsp;message&nbsp;that&nbsp;I&nbsp;basic.publish&nbsp;makes&nbsp;it&nbsp;to&nbsp;the&nbsp;queue,&nbsp;even&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;consumer&nbsp;on&nbsp;the&nbsp;other&nbsp;side&nbsp;draining&nbsp;the&nbsp;queue.&nbsp;No&nbsp;messages&nbsp;are&nbsp;dropped.&nbsp;I&nbsp;have&nbsp;similar&nbsp;hardware&nbsp;to&nbsp;yours&nbsp;except&nbsp;my&nbsp;disks&nbsp;aren&amp;#39;t&nbsp;as&nbsp;fast&nbsp;:)&lt;br&gt;<br>
&lt;br&gt;Here&nbsp;are&nbsp;my&nbsp;exchange&nbsp;parameters:&lt;br&gt;:&lt;br&gt;ExchangeDeclare&nbsp;=&nbsp;#&amp;#39;exchange.declare&amp;#39;{ticket&nbsp;=&nbsp;Ticket,&nbsp;exchange&nbsp;=&nbsp;Exchange,&nbsp;type&nbsp;=&nbsp;&amp;lt;&amp;lt;&amp;quot;direct&amp;quot;&amp;gt;&amp;gt;,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;passive&nbsp;=&nbsp;false,&nbsp;durable&nbsp;=&nbsp;true,&nbsp;auto_delete&nbsp;=&nbsp;false,&nbsp;internal&nbsp;=&nbsp;false,&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;nowait&nbsp;=&nbsp;false,&nbsp;arguments&nbsp;=&nbsp;[]}&lt;br&gt;&lt;br&gt;Here&nbsp;are&nbsp;the&nbsp;queue&nbsp;declare&nbsp;parameters:&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;QueueDeclare&nbsp;=&nbsp;#&amp;#39;queue.declare&amp;#39;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ticket&nbsp;=&nbsp;Ticket,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;queue&nbsp;=&nbsp;Q,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;passive&nbsp;=&nbsp;false,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;%&nbsp;This&nbsp;is&nbsp;a&nbsp;real&nbsp;creation&nbsp;request,&nbsp;not&nbsp;a&nbsp;status&nbsp;check&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;durable&nbsp;=&nbsp;true,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;%&nbsp;Messages&nbsp;must&nbsp;be&nbsp;persistent&nbsp;and&nbsp;survive&nbsp;server&nbsp;restart&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;exclusive&nbsp;=&nbsp;false,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;auto_delete&nbsp;=&nbsp;false,&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;%&nbsp;Don&amp;#39;t&nbsp;auto-delete&nbsp;the&nbsp;queue&nbsp;when&nbsp;released&nbsp;by&nbsp;channel&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;nowait&nbsp;=&nbsp;false,&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;%&nbsp;Wait&nbsp;for&nbsp;a&nbsp;queue.declare_ok&nbsp;response&nbsp;from&nbsp;the&nbsp;server&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;arguments&nbsp;=&nbsp;[]},&lt;br&gt;&lt;br&gt;And&nbsp;the&nbsp;queue&nbsp;bind:&lt;br&gt;&lt;br&gt;#&amp;#39;queue.bind&amp;#39;{ticket&nbsp;=&nbsp;Ticket,&nbsp;queue&nbsp;=&nbsp;Q1,&nbsp;exchange&nbsp;=&nbsp;X,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;routing_key&nbsp;=&nbsp;Q1,&nbsp;nowait&nbsp;=&nbsp;false,&nbsp;arguments&nbsp;=&nbsp;[]}&lt;br&gt;&lt;br&gt;Here&nbsp;is&nbsp;the&nbsp;basic.publish&nbsp;setup:&lt;br&gt;<br>
&lt;br&gt;#publish{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;routing_key&nbsp;=&nbsp;RoutingKey,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;queue&nbsp;=&nbsp;Q,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;exchange&nbsp;=&nbsp;X,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;bind_key&nbsp;=&nbsp;_BindKey,&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;payload&nbsp;=&nbsp;Payload,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;mandatory&nbsp;=&nbsp;false,&amp;nbsp;&nbsp;%&nbsp;If&nbsp;true,&nbsp;server&nbsp;sends&nbsp;Return&nbsp;if&nbsp;msg&nbsp;unroutable,&nbsp;else&nbsp;silently&nbsp;drops&nbsp;msg&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;immediate&nbsp;=&nbsp;false&nbsp;&amp;nbsp;&nbsp;%&nbsp;If&nbsp;true,&nbsp;server&nbsp;sends&nbsp;Return&nbsp;if&nbsp;msg&nbsp;cannot&nbsp;be&nbsp;delivered&nbsp;immediately,&nbsp;else&nbsp;queues&nbsp;msg&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;On&nbsp;a&nbsp;different&nbsp;topic,&nbsp;if&nbsp;you&nbsp;are&nbsp;expecting&nbsp;to&nbsp;queue&nbsp;millions&nbsp;of&nbsp;persistent&nbsp;messages&nbsp;to&nbsp;replace&nbsp;a&nbsp;filesystem-based&nbsp;queuing&nbsp;mechanism,&nbsp;you&nbsp;need&nbsp;to&nbsp;be&nbsp;aware&nbsp;that&nbsp;at&nbsp;present,&nbsp;RabbitMQ&nbsp;keeps&nbsp;all&nbsp;undelivered&nbsp;messages&nbsp;in&nbsp;memory.&nbsp;If&nbsp;they&nbsp;are&nbsp;persistent,&nbsp;then&nbsp;they&nbsp;are&nbsp;also&nbsp;saved&nbsp;on&nbsp;disk,&nbsp;but&nbsp;my&nbsp;understanding&nbsp;is&nbsp;that&nbsp;every&nbsp;message&nbsp;is&nbsp;also&nbsp;kept&nbsp;in&nbsp;memory.&nbsp;There&nbsp;is&nbsp;therefore&nbsp;a&nbsp;memory&nbsp;constraint&nbsp;and&nbsp;you&nbsp;can&amp;#39;t&nbsp;just&nbsp;happily&nbsp;enqueue&nbsp;messages&nbsp;without&nbsp;draining&nbsp;the&nbsp;queues&nbsp;until&nbsp;the&nbsp;disk&nbsp;is&nbsp;full,&nbsp;without&nbsp;risking&nbsp;memory&nbsp;exhaustion&nbsp;and&nbsp;resultant&nbsp;Erlang&nbsp;node&nbsp;crash.&nbsp;I&nbsp;understand&nbsp;there&nbsp;are&nbsp;plans&nbsp;to&nbsp;implement&nbsp;an&nbsp;&amp;quot;overflow&nbsp;to&nbsp;disk&amp;quot;&nbsp;mechanism,&nbsp;but&nbsp;the&nbsp;ETA&nbsp;is&nbsp;unknown&nbsp;to&nbsp;me.&nbsp;Ben&nbsp;can&nbsp;say&nbsp;more&nbsp;about&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;Hope&nbsp;this&nbsp;helps.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Sep&nbsp;22,&nbsp;2008&nbsp;at&nbsp;7:13&nbsp;PM,&nbsp;tsuraan&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tsuraan@gmail.com&quot;&gt;tsuraan@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&amp;gt;&nbsp;So&nbsp;how&nbsp;do&nbsp;you&nbsp;know&nbsp;whether&nbsp;they&amp;#39;re&nbsp;enqueued&nbsp;or&nbsp;not?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;When&nbsp;the&nbsp;program&amp;#39;s&nbsp;done&nbsp;running,&nbsp;I&nbsp;do&nbsp;a&nbsp;passive&nbsp;queue_declare,&nbsp;and&nbsp;the&lt;br&gt;<br>
message&nbsp;count&nbsp;has&nbsp;increased&nbsp;by&nbsp;~400&nbsp;each&nbsp;time&nbsp;the&nbsp;program&nbsp;has&nbsp;run.&lt;br&gt;<br>
It&amp;#39;s&nbsp;actually&nbsp;more&nbsp;like&nbsp;300&nbsp;the&nbsp;first&nbsp;time&nbsp;and&nbsp;500&nbsp;the&nbsp;second&nbsp;time,&lt;br&gt;<br>
but&nbsp;it&nbsp;seems&nbsp;like&nbsp;overall,&nbsp;I&nbsp;get&nbsp;about&nbsp;400&nbsp;per&nbsp;run.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;that&nbsp;I&nbsp;can&nbsp;tell&nbsp;whether&nbsp;the&nbsp;message&nbsp;I&nbsp;sent&nbsp;was&nbsp;dropped&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;by&nbsp;the&nbsp;server?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;You&nbsp;can&nbsp;run&nbsp;rabbit_amqqueue:stat_all()&nbsp;in&nbsp;the&nbsp;shell.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Ok,&nbsp;so&nbsp;there&nbsp;isn&amp;#39;t&nbsp;a&nbsp;return&nbsp;code&nbsp;from&nbsp;basic_publish&nbsp;that&nbsp;will&nbsp;tell&nbsp;me&lt;br&gt;<br>
it&nbsp;was&nbsp;dropped?&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;That&nbsp;shouldn&amp;#39;t&nbsp;take&nbsp;a&nbsp;minute&nbsp;even&nbsp;with&nbsp;a&nbsp;TX&nbsp;per&nbsp;message&nbsp;and&nbsp;logging&nbsp;to&nbsp;disk.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;think&nbsp;something&nbsp;may&nbsp;not&nbsp;be&nbsp;quite&nbsp;right&nbsp;with&nbsp;your&nbsp;setup.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&amp;#39;d&nbsp;be&nbsp;willing&nbsp;to&nbsp;believe&nbsp;that.&nbsp;&amp;nbsp;When&nbsp;running&nbsp;with&nbsp;one&nbsp;transaction&nbsp;per&lt;br&gt;<br>
message,&nbsp;my&nbsp;system&nbsp;is&nbsp;almost&nbsp;idle.&nbsp;&amp;nbsp;python&amp;#39;s&nbsp;taking&nbsp;2-3%&nbsp;of&nbsp;the&nbsp;cpu,&lt;br&gt;<br>
beam.smp&nbsp;is&nbsp;taking&nbsp;less&nbsp;than&nbsp;that,&nbsp;and&nbsp;my&nbsp;IO&nbsp;is&nbsp;a&nbsp;few&nbsp;KB/s.&nbsp;&amp;nbsp;Do&nbsp;you&lt;br&gt;<br>
have&nbsp;any&nbsp;advice&nbsp;for&nbsp;figuring&nbsp;out&nbsp;what&amp;#39;s&nbsp;going&nbsp;on?&nbsp;&amp;nbsp;My&nbsp;system&nbsp;is&nbsp;a&lt;br&gt;<br>
core2&nbsp;duo&nbsp;with&nbsp;a&nbsp;pair&nbsp;of&nbsp;raptor10k&nbsp;drives&nbsp;in&nbsp;RAID1&nbsp;on&nbsp;a&nbsp;3ware&nbsp;9650;&nbsp;I&lt;br&gt;<br>
shouldn&amp;#39;t&nbsp;be&nbsp;too&nbsp;starved&nbsp;for&nbsp;cpu,&nbsp;io,&nbsp;or&nbsp;memory&nbsp;with&nbsp;this&nbsp;setup,&nbsp;so&lt;br&gt;<br>
any&nbsp;advice&nbsp;for&nbsp;where&nbsp;to&nbsp;start&nbsp;would&nbsp;be&nbsp;much&nbsp;appreciated.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Either&nbsp;with&nbsp;a&nbsp;transaction&nbsp;or&nbsp;by&nbsp;setting&nbsp;up&nbsp;a&nbsp;return&nbsp;handler&nbsp;(and&lt;br&gt;<br>
&amp;gt;&nbsp;setting&nbsp;the&nbsp;mandatory&nbsp;flag).&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;BTW,&nbsp;when&nbsp;I&nbsp;run&nbsp;this&nbsp;code:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;#!/usr/bin/python2.5&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;import&nbsp;sys&lt;br&gt;<br>
&amp;gt;&nbsp;from&nbsp;time&nbsp;import&nbsp;time&lt;br&gt;<br>
&amp;gt;&nbsp;import&nbsp;amqplib.client_0_8&nbsp;as&nbsp;A&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;q&nbsp;=&nbsp;&amp;quot;q-%d&amp;quot;&nbsp;%&nbsp;int(time())&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;conn&nbsp;=&nbsp;A.Connection(&amp;quot;&lt;a&nbsp;href=&quot;http://127.0.0.1&quot;&nbsp;target=&quot;_blank&quot;&gt;127.0.0.1&lt;/a&gt;&amp;quot;,&nbsp;&amp;quot;guest&amp;quot;,&nbsp;&amp;quot;guest&amp;quot;)&lt;br&gt;<br>
&amp;gt;&nbsp;chan&nbsp;=&nbsp;conn.channel()&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;chan.queue_declare(queue=q,&nbsp;auto_delete=True,&nbsp;durable=False)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;for&nbsp;i&nbsp;in&nbsp;range(1000):&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;print&nbsp;i&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;m&nbsp;=&nbsp;A.Message(str(i),&nbsp;delivery_mode=1)&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;print&nbsp;chan.basic_publish(m,&nbsp;&amp;quot;&amp;quot;,&nbsp;q,&nbsp;mandatory=True,&nbsp;immediate=False)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;and&nbsp;then&nbsp;in&nbsp;the&nbsp;shell&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;rabbit@xlr8)3&amp;gt;&nbsp;rabbit_amqqueue:stat_all().&lt;br&gt;<br>
&amp;gt;&nbsp;[{ok,{resource,&amp;lt;&amp;lt;&amp;quot;/&amp;quot;&amp;gt;&amp;gt;,queue,&amp;lt;&amp;lt;&amp;quot;q-1222121318&amp;quot;&amp;gt;&amp;gt;},1000,0}]&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;which&nbsp;would&nbsp;indicate&nbsp;that&nbsp;1000&nbsp;messages&nbsp;got&nbsp;enqueued.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Is&nbsp;the&nbsp;difference&nbsp;then&nbsp;that&nbsp;my&nbsp;queues&nbsp;are&nbsp;persistent?&nbsp;&amp;nbsp;I&amp;#39;m&nbsp;using&nbsp;a&lt;br&gt;<br>
topic&nbsp;exchange&nbsp;with&nbsp;just&nbsp;one&nbsp;persistent,&nbsp;non-autodelete&nbsp;queue.&nbsp;&amp;nbsp;Does&lt;br&gt;<br>
that&nbsp;change&nbsp;things?&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;And&nbsp;maybe&nbsp;this&nbsp;is&nbsp;a&nbsp;stupid&nbsp;question,&nbsp;but&nbsp;why&nbsp;are&nbsp;you&nbsp;enqueuing&nbsp;stuff?&lt;br&gt;<br>
&amp;gt;&nbsp;Don&amp;#39;t&nbsp;you&nbsp;want&nbsp;it&nbsp;to&nbsp;be&nbsp;delivered?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Isn&amp;#39;t&nbsp;enqueuing&nbsp;a&nbsp;necessary&nbsp;step&nbsp;before&nbsp;delivery?&nbsp;&amp;nbsp;The&nbsp;system&nbsp;I&amp;#39;m&lt;br&gt;<br>
working&nbsp;on&nbsp;processes&nbsp;a&nbsp;lot&nbsp;of&nbsp;files,&nbsp;and&nbsp;as&nbsp;files&nbsp;are&nbsp;processed&nbsp;new&lt;br&gt;<br>
files&nbsp;or&nbsp;database&nbsp;rows&nbsp;are&nbsp;created&nbsp;that&nbsp;have&nbsp;to&nbsp;be&nbsp;processed&lt;br&gt;<br>
downstream.&nbsp;&amp;nbsp;Sometimes&nbsp;the&nbsp;programs&nbsp;doing&nbsp;the&nbsp;processing&nbsp;get&nbsp;hung&nbsp;up&lt;br&gt;<br>
on&nbsp;invalid&nbsp;data,&nbsp;or&nbsp;get&nbsp;flooded&nbsp;with&nbsp;more&nbsp;data&nbsp;than&nbsp;they&nbsp;can&nbsp;process&lt;br&gt;<br>
in&nbsp;a&nbsp;timely&nbsp;manner,&nbsp;so&nbsp;the&nbsp;workloads&nbsp;get&nbsp;really&nbsp;badly&nbsp;backed&nbsp;up.&nbsp;&amp;nbsp;I&amp;#39;ve&lt;br&gt;<br>
seen&nbsp;programs&nbsp;that&nbsp;have&nbsp;millions&nbsp;of&nbsp;tasks&nbsp;in&nbsp;their&nbsp;job&nbsp;queues&nbsp;more&lt;br&gt;<br>
than&nbsp;a&nbsp;few&nbsp;times.&lt;br&gt;<br>
&lt;br&gt;<br>
We&nbsp;currently&nbsp;have&nbsp;a&nbsp;&amp;quot;message&nbsp;queue&amp;quot;&nbsp;system&nbsp;that&nbsp;is&nbsp;just&nbsp;files&nbsp;written&lt;br&gt;<br>
to&nbsp;the&nbsp;hard&nbsp;drive;&nbsp;different&nbsp;directories&nbsp;are&nbsp;the&nbsp;job&nbsp;queues&nbsp;for&lt;br&gt;<br>
different&nbsp;actors,&nbsp;and&nbsp;the&nbsp;files&nbsp;in&nbsp;them&nbsp;are&nbsp;just&nbsp;identifiers&nbsp;for&lt;br&gt;<br>
database&nbsp;or&nbsp;file-based&nbsp;workloads.&nbsp;&amp;nbsp;I&nbsp;want&nbsp;to&nbsp;replace&nbsp;that&nbsp;with&nbsp;real&lt;br&gt;<br>
message&nbsp;queue&nbsp;system&nbsp;for&nbsp;all&nbsp;sorts&nbsp;of&nbsp;reasons,&nbsp;so&nbsp;I&amp;#39;m&nbsp;just&lt;br&gt;<br>
experimenting&nbsp;with&nbsp;RabbitMQ&nbsp;to&nbsp;see&nbsp;if&nbsp;it&nbsp;does&nbsp;what&nbsp;I&nbsp;need,&nbsp;and&nbsp;to&nbsp;see&lt;br&gt;<br>
how&nbsp;good&nbsp;the&nbsp;performance&nbsp;and&nbsp;stability&nbsp;are.&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
