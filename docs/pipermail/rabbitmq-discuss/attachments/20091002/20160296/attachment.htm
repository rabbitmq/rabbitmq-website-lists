<tt>
Hi&nbsp;Robert,&lt;br&gt;&lt;br&gt;In&nbsp;terms&nbsp;of&nbsp;your&nbsp;application,&nbsp;is&nbsp;only&nbsp;one&nbsp;Erlang&nbsp;process&nbsp;every&nbsp;going&nbsp;to&nbsp;process&nbsp;a&nbsp;given&nbsp;stream?&nbsp;Would&nbsp;it&nbsp;be&nbsp;possible&nbsp;to&nbsp;change&nbsp;the&nbsp;model&nbsp;slightly,&nbsp;and&nbsp;in&nbsp;a&nbsp;start&nbsp;message&nbsp;send&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;queue&nbsp;instead?&nbsp;That&nbsp;way&nbsp;your&nbsp;producer&nbsp;could&nbsp;allocate&nbsp;a&nbsp;queue,&nbsp;connect&nbsp;it&nbsp;to&nbsp;that&nbsp;topic,&nbsp;and&nbsp;send&nbsp;out&nbsp;a&nbsp;message&nbsp;telling&nbsp;consumers&nbsp;where&nbsp;to&nbsp;listen.&lt;br&gt;<br>
&lt;br&gt;(Some&nbsp;might&nbsp;argue&nbsp;this&nbsp;violates&nbsp;some&nbsp;AMQP&nbsp;design&nbsp;principles&nbsp;though,&nbsp;since&nbsp;it&nbsp;starts&nbsp;coupling&nbsp;the&nbsp;sender&nbsp;to&nbsp;the&nbsp;receiver&nbsp;more&nbsp;than&nbsp;you&amp;#39;d&nbsp;otherwise&nbsp;hope)&lt;br&gt;&lt;br&gt;Paul.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Oct&nbsp;2,&nbsp;2009&nbsp;at&nbsp;3:06&nbsp;PM,&nbsp;Robert&nbsp;Raschke&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rtrlists@googlemail.com&quot;&gt;rtrlists@googlemail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;usage&nbsp;scenario&nbsp;that&nbsp;I&nbsp;am&nbsp;having&nbsp;a&nbsp;bit&nbsp;of&nbsp;trouble&nbsp;translating&nbsp;into&nbsp;exchanges,&nbsp;queues&nbsp;and&nbsp;bindings.&nbsp;This&nbsp;is&nbsp;using&nbsp;the&nbsp;Erlang&nbsp;client.&lt;br&gt;<br>
&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;stream&nbsp;of&nbsp;messages&nbsp;that&nbsp;have&nbsp;the&nbsp;identifying&nbsp;characteristics&nbsp;&amp;lt;type&amp;gt;&nbsp;and&nbsp;&amp;lt;id&amp;gt;.&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;process&nbsp;these&nbsp;such&nbsp;that&nbsp;I&nbsp;can&nbsp;recognise&nbsp;a&nbsp;particular&nbsp;&amp;lt;type&amp;gt;=START&nbsp;to&nbsp;indicate&nbsp;that&nbsp;all&nbsp;messages&nbsp;related&nbsp;to&nbsp;&amp;lt;id&amp;gt;&nbsp;that&nbsp;follow&nbsp;are&nbsp;to&nbsp;be&nbsp;processed&nbsp;in&nbsp;some&nbsp;fashion&nbsp;by&nbsp;a&nbsp;new&nbsp;Erlang&nbsp;process.&lt;br&gt;<br>
<br>
&lt;br&gt;So,&nbsp;I&nbsp;declare&nbsp;a&nbsp;topic&nbsp;exchange&nbsp;and&nbsp;bind&nbsp;a&nbsp;queue&nbsp;with&nbsp;the&nbsp;key&nbsp;&amp;#39;START.*&amp;#39;.&nbsp;I&nbsp;now&nbsp;get&nbsp;my&nbsp;&amp;quot;starter&amp;quot;&nbsp;messages,&nbsp;nice.&nbsp;My&nbsp;naive&nbsp;idea&nbsp;was&nbsp;to&nbsp;have&nbsp;this&nbsp;starter&nbsp;create&nbsp;a&nbsp;new&nbsp;queue&nbsp;and&nbsp;bind&nbsp;it&nbsp;with&nbsp;key&nbsp;&amp;#39;*.ID&amp;#39;&nbsp;and&nbsp;then&nbsp;have&nbsp;a&nbsp;new&nbsp;Erlang&nbsp;process&nbsp;work&nbsp;on&nbsp;the&nbsp;messages&nbsp;arriving&nbsp;there.&lt;br&gt;<br>
<br>
&lt;br&gt;What&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;get&nbsp;my&nbsp;head&nbsp;around&nbsp;is,&nbsp;how&nbsp;can&nbsp;I&nbsp;quarantee&nbsp;that&nbsp;any&nbsp;messages&nbsp;arriving&nbsp;for&nbsp;the&nbsp;new&nbsp;ID&nbsp;don&amp;#39;t&nbsp;get&nbsp;lost&nbsp;while&nbsp;my&nbsp;starter&nbsp;process&nbsp;is&nbsp;setting&nbsp;stuff&nbsp;up?&nbsp;For&nbsp;example,&nbsp;a&nbsp;message&nbsp;with&nbsp;key&nbsp;START.27&nbsp;arrives,&nbsp;the&nbsp;starter&nbsp;now&nbsp;sets&nbsp;up&nbsp;the&nbsp;new&nbsp;queue&nbsp;and&nbsp;binding&nbsp;against&nbsp;&amp;#39;*.27&amp;#39;,&nbsp;but&nbsp;before&nbsp;that&nbsp;is&nbsp;complete,&nbsp;a&nbsp;message&nbsp;with&nbsp;key&nbsp;X.27&nbsp;got&nbsp;published&nbsp;(and&nbsp;potentially&nbsp;lost).&lt;br&gt;<br>
<br>
&lt;br&gt;One&nbsp;way&nbsp;I&nbsp;could&nbsp;see&nbsp;getting&nbsp;this&nbsp;to&nbsp;work,&nbsp;would&nbsp;be&nbsp;to&nbsp;have&nbsp;my&nbsp;starter&nbsp;process&nbsp;read&nbsp;_all_&nbsp;messages&nbsp;(not&nbsp;just&nbsp;the&nbsp;START&nbsp;ones),&nbsp;synchronously&nbsp;starting&nbsp;the&nbsp;sub&nbsp;processes,&nbsp;and&nbsp;passing&nbsp;any&nbsp;non-starter&nbsp;messages&nbsp;to&nbsp;another&nbsp;exchange&nbsp;where&nbsp;the&nbsp;sub-processes&nbsp;have&nbsp;bound&nbsp;their&nbsp;queues.&lt;br&gt;<br>
<br>
&lt;br&gt;Somehow&nbsp;this&nbsp;&amp;quot;pass&nbsp;it&nbsp;along&amp;quot;&nbsp;approach&nbsp;seems&nbsp;a&nbsp;bit&nbsp;clunky&nbsp;to&nbsp;me.&nbsp;Is&nbsp;there&nbsp;a&nbsp;more&nbsp;elegant&nbsp;way?&nbsp;Or,&nbsp;alternatively,&nbsp;does&nbsp;RabbitMQ&nbsp;Erlang&nbsp;Client&nbsp;have&nbsp;some&nbsp;nice&nbsp;and&nbsp;easy&nbsp;functions&nbsp;to&nbsp;&amp;quot;consume&nbsp;message&nbsp;from&nbsp;here,&nbsp;look&nbsp;at&nbsp;it,&nbsp;and&nbsp;if&nbsp;not&nbsp;for&nbsp;me,&nbsp;publish&nbsp;it&nbsp;to&nbsp;there&amp;quot;?&nbsp;It&nbsp;looks&nbsp;to&nbsp;me&nbsp;as&nbsp;if&nbsp;I&nbsp;need&nbsp;to&nbsp;transmit&nbsp;the&nbsp;RoutingKey&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;message,&nbsp;as&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;seem&nbsp;to&nbsp;be&nbsp;part&nbsp;of&nbsp;the&nbsp;#content{}&nbsp;structure.&nbsp;But&nbsp;maybe&nbsp;I&amp;#39;ve&nbsp;missed&nbsp;something.&lt;br&gt;<br>
<br>
&lt;br&gt;Thanks&nbsp;for&nbsp;any&nbsp;thoughts,&lt;br&gt;Robby&lt;br&gt;&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
