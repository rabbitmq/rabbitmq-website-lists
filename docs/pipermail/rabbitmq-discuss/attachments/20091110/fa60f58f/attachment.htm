<tt>
That&nbsp;sounds&nbsp;like&nbsp;the&nbsp;likely&nbsp;culprit. &nbsp;I&amp;#39;ll&nbsp;test&nbsp;that&nbsp;and&nbsp;let&nbsp;you&nbsp;know. &nbsp;What&nbsp;I&nbsp;was&nbsp;hoping&nbsp;to&nbsp;accomplish,&nbsp;was&nbsp;to&nbsp;have&nbsp;the&nbsp;message&nbsp;queue,&nbsp;keep&nbsp;a&nbsp;copy&nbsp;of&nbsp;a&nbsp;message&nbsp;for&nbsp;an&nbsp;hour&nbsp;so&nbsp;that&nbsp;when&nbsp;a&nbsp;new&nbsp;consumer&nbsp;connected,&nbsp;he&nbsp;receives&nbsp;the&nbsp;last&nbsp;hour&nbsp;of&nbsp;messages. &nbsp;I&nbsp;might&nbsp;have&nbsp;to&nbsp;add&nbsp;this&nbsp;logic&nbsp;to&nbsp;the&nbsp;applications&nbsp;somehow.&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Nov&nbsp;10,&nbsp;2009&nbsp;at&nbsp;10:26&nbsp;AM,&nbsp;Matthew&nbsp;Sackman&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthew@lshift.net&quot;&gt;matthew@lshift.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Tue,&nbsp;Nov&nbsp;10,&nbsp;2009&nbsp;at&nbsp;10:22:09AM&nbsp;-0700,&nbsp;Derek&nbsp;Burdick&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;durable&nbsp;queue&nbsp;and&nbsp;exchange&nbsp;I&nbsp;am&nbsp;sending&nbsp;persistent&nbsp;messages&nbsp;to.&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;exchange&nbsp;is&nbsp;set&nbsp;as&nbsp;fanout.&nbsp; What&nbsp;I&nbsp;am&nbsp;seeing,&nbsp;is&nbsp;that&nbsp;the&nbsp;messages&nbsp;are&lt;br&gt;<br>
&amp;gt;&nbsp;stored&nbsp;to&nbsp;disk&nbsp;but&nbsp;never&nbsp;removed.&nbsp; If&nbsp;a&nbsp;new&nbsp;consumer&nbsp;comes&nbsp;up,&nbsp;he&nbsp;gets&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;entire&nbsp;history&nbsp;of&nbsp;that&nbsp;queue.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Is&nbsp;this&nbsp;the&nbsp;intended&nbsp;behavior&nbsp;of&nbsp;persistent&nbsp;fanout&nbsp;messages?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;I&nbsp;suspect&nbsp;your&nbsp;consumer&nbsp;is&nbsp;not&nbsp;acknowledging&nbsp;messages.&nbsp;Messages&nbsp;are&nbsp;not&lt;br&gt;<br>
forgotten&nbsp;until&nbsp;the&nbsp;client&nbsp;confirms&nbsp;that&nbsp;they&nbsp;have&nbsp;received&nbsp;the&nbsp;message&lt;br&gt;<br>
by&nbsp;using&nbsp;basic.ack.&nbsp;This&nbsp;is&nbsp;required&nbsp;whether&nbsp;the&nbsp;client&nbsp;is&nbsp;doing&lt;br&gt;<br>
basic.get&nbsp;or&nbsp;using&nbsp;basic.consume.&lt;br&gt;<br>
&lt;br&gt;<br>
Alternatively,&nbsp;in&nbsp;both&nbsp;basic.get&nbsp;and&nbsp;basic.consume,&nbsp;the&nbsp;noAck&nbsp;flag&nbsp;can&lt;br&gt;<br>
be&nbsp;set,&nbsp;indicating&nbsp;to&nbsp;Rabbit&nbsp;that&nbsp;it&nbsp;should&nbsp;not&nbsp;expect&nbsp;acks&nbsp;from&nbsp;the&lt;br&gt;<br>
client,&nbsp;and&nbsp;thus&nbsp;should&nbsp;forget&nbsp;about&nbsp;messages&nbsp;as&nbsp;soon&nbsp;as&nbsp;they&amp;#39;ve&nbsp;been&lt;br&gt;<br>
sent&nbsp;to&nbsp;a&nbsp;client.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;hope&nbsp;that&amp;#39;s&nbsp;of&nbsp;use.&nbsp;If&nbsp;my&nbsp;guess&nbsp;is&nbsp;wrong,&nbsp;do&nbsp;please&nbsp;let&nbsp;us&nbsp;know!&lt;br&gt;<br>
&lt;br&gt;<br>
Matthew&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
