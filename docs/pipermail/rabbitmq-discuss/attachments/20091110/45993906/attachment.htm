<tt>
Voldemort&nbsp;has&nbsp;key&nbsp;expiration&nbsp;as&nbsp;well.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Nov&nbsp;10,&nbsp;2009&nbsp;at&nbsp;8:29&nbsp;AM,&nbsp;Kevin&nbsp;A.&nbsp;Smith&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:kevin@hypotheticalabs.com&quot;&gt;kevin@hypotheticalabs.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Redis&nbsp;already&nbsp;supports&nbsp;explicit&nbsp;timeouts&nbsp;for&nbsp;entries&nbsp;via&nbsp;the&nbsp;expire&nbsp;and&nbsp;ttl&nbsp;commands&nbsp;so&nbsp;it&nbsp;can&nbsp;take&nbsp;care&nbsp;of&nbsp;that&nbsp;as&nbsp;well.&lt;br&gt;<br>
<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
--Kevin&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;On&nbsp;Nov&nbsp;10,&nbsp;2009,&nbsp;at&nbsp;10:19&nbsp;AM,&nbsp;Tony&nbsp;Garnock-Jones&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;We&nbsp;talk&nbsp;every&nbsp;now&nbsp;and&nbsp;then&nbsp;about&nbsp;deduplication&nbsp;filters,&nbsp;for&nbsp;avoiding&lt;br&gt;<br>
&amp;gt;&nbsp;repeated&nbsp;work.&nbsp;One&nbsp;problem&nbsp;is&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;hard&nbsp;to&nbsp;know&nbsp;what&nbsp;to&nbsp;do&nbsp;if&lt;br&gt;<br>
&amp;gt;&nbsp;you&nbsp;have&nbsp;a&nbsp;worker&nbsp;pool,&nbsp;because&nbsp;you&nbsp;have&nbsp;to&nbsp;share&nbsp;the&nbsp;state&nbsp;about&nbsp;what&lt;br&gt;<br>
&amp;gt;&nbsp;messages&nbsp;the&nbsp;whole&nbsp;pool&nbsp;has&nbsp;seen,&nbsp;across&nbsp;the&nbsp;whole&nbsp;pool.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Sounds&nbsp;like&nbsp;a&nbsp;job&nbsp;for&nbsp;a&nbsp;distributed&nbsp;key-value&nbsp;store.&nbsp;What&nbsp;if&nbsp;redis,&lt;br&gt;<br>
&amp;gt;&nbsp;riak,&nbsp;even&nbsp;memcached,&nbsp;were&nbsp;used&nbsp;as&nbsp;the&nbsp;dedup&nbsp;filter?&nbsp;Each&nbsp;worker&nbsp;pool&lt;br&gt;<br>
&amp;gt;&nbsp;(a.k.a&nbsp;&amp;quot;queue&amp;quot;,&nbsp;heh)&nbsp;would&nbsp;have&nbsp;a&nbsp;key-value&nbsp;store&nbsp;of&nbsp;their&nbsp;own.&nbsp;The&lt;br&gt;<br>
&amp;gt;&nbsp;store&nbsp;would&nbsp;hold,&nbsp;for&nbsp;each&nbsp;labelled&nbsp;request,&nbsp;either&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;-&nbsp;nothing:&nbsp;the&nbsp;request&nbsp;is&nbsp;fresh&nbsp;to&nbsp;the&nbsp;pool&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;-&nbsp;an&nbsp;indication&nbsp;of&nbsp;partial&nbsp;completeness&nbsp;and/or&nbsp;receipt&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;-&nbsp;the&nbsp;response&nbsp;that&nbsp;was&nbsp;sent&nbsp;back&nbsp;to&nbsp;the&nbsp;requestor,&nbsp;that&nbsp;can&nbsp;be&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;sent&nbsp;back&nbsp;again&nbsp;if&nbsp;a&nbsp;replay&nbsp;is&nbsp;detected,&nbsp;without&nbsp;doing&nbsp;any&nbsp;more&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;work&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;nice&nbsp;thing&nbsp;is&nbsp;that&nbsp;not&nbsp;only&nbsp;are&nbsp;these&nbsp;distributed&nbsp;key-value&nbsp;stores&lt;br&gt;<br>
&amp;gt;&nbsp;pretty&nbsp;quick&nbsp;these&nbsp;days,&nbsp;they&nbsp;also&nbsp;scale&nbsp;up&nbsp;tremendously&nbsp;well&nbsp;and&lt;br&gt;<br>
&amp;gt;&nbsp;furthermore&nbsp;you&nbsp;can&nbsp;&amp;quot;shard&amp;quot;&nbsp;them&nbsp;because&nbsp;you&nbsp;can&nbsp;scope&nbsp;them&nbsp;to&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;collection&nbsp;of&nbsp;workers&nbsp;that&nbsp;are&nbsp;sharing&nbsp;a&nbsp;queue.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;only&nbsp;missing&nbsp;piece&nbsp;is&nbsp;clearing&nbsp;out&nbsp;old,&nbsp;definitely&nbsp;stale&nbsp;records&lt;br&gt;<br>
&amp;gt;&nbsp;from&nbsp;the&nbsp;filter&nbsp;after&nbsp;a&nbsp;while.&nbsp;For&nbsp;that&nbsp;you&nbsp;can&nbsp;use&nbsp;a&nbsp;separate&lt;br&gt;<br>
&amp;gt;&nbsp;garbage-collection/expiry&nbsp;process,&nbsp;I&nbsp;guess;&nbsp;I&nbsp;haven&amp;#39;t&nbsp;run&nbsp;any&lt;br&gt;<br>
&amp;gt;&nbsp;experiments&nbsp;here,&nbsp;though.&nbsp;Maybe&nbsp;some&nbsp;of&nbsp;these&nbsp;new&nbsp;stores&nbsp;even&nbsp;include&lt;br&gt;<br>
&amp;gt;&nbsp;time-to-live&nbsp;for&nbsp;their&nbsp;records,&nbsp;which&nbsp;solves&nbsp;the&nbsp;problem&nbsp;for&nbsp;us!&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;So:&nbsp;rabbitmq&nbsp;for&nbsp;the&nbsp;routing,&nbsp;buffering,&nbsp;relaying&nbsp;and&nbsp;delivery&nbsp;of&lt;br&gt;<br>
&amp;gt;&nbsp;requests&nbsp;and&nbsp;responses;&nbsp;and&nbsp;a&nbsp;distributed&nbsp;key-value&nbsp;store&nbsp;for&nbsp;deduplication.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Tony&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
