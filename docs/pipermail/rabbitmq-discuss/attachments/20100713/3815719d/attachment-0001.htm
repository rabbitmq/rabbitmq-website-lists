<tt>
HI&nbsp;Simon,&lt;br&gt;&lt;br&gt;Thanks,&nbsp;again&nbsp;very&nbsp;helpful,&nbsp;sorry&nbsp;about&nbsp;not&nbsp;cc&amp;#39;d&nbsp;the&nbsp;list. &nbsp;I&nbsp;will&nbsp;ask&nbsp;on&nbsp;the&nbsp;ruby-amqp&nbsp;list&nbsp;about&nbsp;the&nbsp;relationship&nbsp;between&nbsp;channel&nbsp;and&nbsp;TCP&nbsp;connection.&lt;br&gt;&lt;br&gt;John&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Jul&nbsp;13,&nbsp;2010&nbsp;at&nbsp;10:09&nbsp;AM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;On&nbsp;13/07/10&nbsp;15:01,&nbsp;John&nbsp;Goodson&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi&nbsp;Simon,&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
Hi&nbsp;John.&nbsp;Please&nbsp;keep&nbsp;the&nbsp;mailing&nbsp;list&nbsp;CCed,&nbsp;it&nbsp;helps&nbsp;other&nbsp;people&nbsp;learn.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Yes&nbsp;I&nbsp;am&nbsp;using&nbsp;Ruby.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;your&nbsp;response,&nbsp;it&nbsp;is&nbsp;clearer&nbsp;and&nbsp;you&nbsp;have&nbsp;been&nbsp;very&nbsp;helpful&lt;br&gt;<br>
in&nbsp;that&nbsp;I&nbsp;can&nbsp;now&nbsp;see&nbsp;that&nbsp;my&nbsp;initial&nbsp;design&nbsp;choices&nbsp;are&nbsp;significantly&lt;br&gt;<br>
less&nbsp;then&nbsp;optimal&nbsp;for&nbsp;the&nbsp;types&nbsp;of&nbsp;behavior&nbsp;I&nbsp;want.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Sure,&nbsp;no&nbsp;problem!&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Is&nbsp;my&nbsp;understanding&nbsp;correct&nbsp;take&nbsp;that&nbsp;a&nbsp;design&nbsp;constraint&nbsp;in&nbsp;creating&lt;br&gt;<br>
channels&nbsp;is&nbsp;how&nbsp;many&nbsp;open&nbsp;sockets&nbsp;the&nbsp;Erlang&nbsp;server&nbsp;can&nbsp;support?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Well,&nbsp;channels&nbsp;are&nbsp;multiplexed&nbsp;onto&nbsp;TCP&nbsp;connections.&nbsp;A&nbsp;connection&nbsp;can&nbsp;support&nbsp;up&nbsp;to&nbsp;65535&nbsp;channels&nbsp;on&nbsp;a&nbsp;single&nbsp;socket,&nbsp;so&nbsp;you&nbsp;should&nbsp;be&nbsp;OK.&nbsp;If&nbsp;you&nbsp;need&nbsp;more&nbsp;channels,&nbsp;opening&nbsp;a&nbsp;second&nbsp;connection&nbsp;should&nbsp;be&nbsp;OK&nbsp;:)&lt;br&gt;<br>
&lt;br&gt;<br>
Most&nbsp;client&nbsp;libraries&nbsp;make&nbsp;this&nbsp;fairly&nbsp;obvious,&nbsp;e.g.&nbsp;in&nbsp;Java:&lt;br&gt;<br>
&lt;br&gt;<br>
Connection&nbsp;conn&nbsp;=&nbsp;new&nbsp;ConnectionFactory().newConnection();&lt;br&gt;<br>
Channel&nbsp;chan&nbsp;=&nbsp;conn.createChannel();&lt;br&gt;<br>
&lt;br&gt;<br>
but&nbsp;the&nbsp;Ruby&nbsp;library&nbsp;doesn&amp;#39;t&nbsp;make&nbsp;it&nbsp;immediately&nbsp;obvious&nbsp;what&amp;#39;s&nbsp;going&nbsp;on.&nbsp;It&nbsp;might&nbsp;be&nbsp;creating&nbsp;one&nbsp;channel&nbsp;per&nbsp;connection.&nbsp;Unfortunately&nbsp;I&nbsp;don&amp;#39;t&nbsp;know&nbsp;much&nbsp;about&nbsp;it.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
PS,&nbsp;ugh&nbsp;on&nbsp;having&nbsp;to&nbsp;figure&nbsp;out&nbsp;design/usage&nbsp;patterns&nbsp;based&nbsp;on&nbsp;reading&lt;br&gt;<br>
the&nbsp;spec.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Indeed.&nbsp;You&nbsp;can&nbsp;always&nbsp;ask&nbsp;here&nbsp;though.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
