<tt>
&lt;html&gt;&lt;body&gt;<br>
&lt;p&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;a&nbsp;problem&nbsp;when&nbsp;I&nbsp;call&nbsp;the&nbsp;basicPublish&nbsp;method&nbsp;defined&nbsp;in&nbsp;the&nbsp;Channel&nbsp;interface.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;my&nbsp;client,&nbsp;I&nbsp;create&nbsp;a&nbsp;Connection&nbsp;using&nbsp;the&nbsp;ConnectionFactory&nbsp;(&lt;font&nbsp;face=&quot;Courier&nbsp;New&quot;&gt;com.rabbitmq.client.ConnectionFactory&lt;/font&gt;)&nbsp;to&nbsp;the&nbsp;broker&nbsp;running&nbsp;on&nbsp;a&nbsp;remote&nbsp;host&nbsp;(connected&nbsp;in&nbsp;the&nbsp;local&nbsp;network).&nbsp;Then&nbsp;I&nbsp;create&nbsp;a&nbsp;Channel&nbsp;from&nbsp;this&nbsp;Connection.&lt;br&gt;<br>
I&nbsp;call&nbsp;the&nbsp;basicPublish&nbsp;method&nbsp;in&nbsp;a&nbsp;loop&nbsp;(waiting&nbsp;10s&nbsp;between&nbsp;each&nbsp;publish).&nbsp;During&nbsp;the&nbsp;test,&nbsp;I&nbsp;unplug&nbsp;the&nbsp;network&nbsp;cable&nbsp;from&nbsp;the&nbsp;client&nbsp;running&nbsp;on&nbsp;the&nbsp;local&nbsp;host.&lt;br&gt;<br>
The&nbsp;basicPublish&nbsp;method&nbsp;doesn't&nbsp;throw&nbsp;any&nbsp;exception&nbsp;(I&nbsp;expected&nbsp;at&nbsp;least&nbsp;IOException&nbsp;because&nbsp;the&nbsp;network&nbsp;connection&nbsp;is&nbsp;lost).&nbsp;All&nbsp;calls&nbsp;to&nbsp;basicPublish&nbsp;method&nbsp;in&nbsp;the&nbsp;loop&nbsp;never&nbsp;raise&nbsp;the&nbsp;IOException&nbsp;exception&nbsp;(or&nbsp;any&nbsp;other&nbsp;exception).&nbsp;Obviously,&nbsp;the&nbsp;broker&nbsp;never&nbsp;received&nbsp;the&nbsp;messages&nbsp;sent&nbsp;after&nbsp;loosing&nbsp;the&nbsp;network&nbsp;connection.&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;ShutdownListener&nbsp;has&nbsp;been&nbsp;implemented&nbsp;but&nbsp;the&nbsp;shutdownCompleted&nbsp;method&nbsp;&nbsp;is&nbsp;called&nbsp;by&nbsp;the&nbsp;RabbitMQ&nbsp;java&nbsp;client&nbsp;stack&nbsp;around&nbsp;15&nbsp;minutes&nbsp;after&nbsp;unplugging&nbsp;the&nbsp;network&nbsp;cable.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;also&nbsp;tested&nbsp;the&nbsp;disconnection&nbsp;using&nbsp;the&nbsp;command&nbsp;line&nbsp;in&nbsp;a&nbsp;terminal.&nbsp;The&nbsp;results&nbsp;are&nbsp;the&nbsp;same.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;running&nbsp;RabbitMQ&nbsp;broker&nbsp;2.6.1&nbsp;with&nbsp;the&nbsp;RabbitMQ&nbsp;java&nbsp;client&nbsp;,&nbsp;Linux&nbsp;Ubuntu&nbsp;11.04&nbsp;with&nbsp;kernel&nbsp;2.6.38-11&nbsp;(x86)&nbsp;and&nbsp;I&nbsp;tested&nbsp;my&nbsp;code&nbsp;with&nbsp;2&nbsp;JVM&nbsp;(OpenJDK&nbsp;and&nbsp;Java&nbsp;HotSpot&nbsp;1.6.0&nbsp;(build&nbsp;1.6.0_27-b07)).&lt;br&gt;<br>
&lt;br&gt;<br>
Please,&nbsp;could&nbsp;you&nbsp;help&nbsp;me?&lt;br&gt;<br>
&lt;br&gt;<br>
Best&nbsp;regards&lt;br&gt;<br>
&lt;br&gt;<br>
Mikael&lt;br&gt;<br>
&lt;/body&gt;&lt;/html&gt;
</tt>
