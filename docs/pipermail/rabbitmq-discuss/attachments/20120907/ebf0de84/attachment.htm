<tt>
&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;clue, &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;tried&nbsp;using&nbsp;it&nbsp;with&nbsp;following&nbsp;code, &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp;die_on_error(sockfd&nbsp;=&nbsp;amqp_open_socket(hostname,&nbsp;port),&nbsp;&amp;quot;Opening&nbsp;socket&amp;quot;);&lt;/div&gt;&lt;div&gt; &nbsp;conn&nbsp;=&nbsp;amqp_new_connection();&lt;/div&gt;<br>
&lt;div&gt; &nbsp;amqp_set_sockfd(conn,&nbsp;sockfd);&lt;/div&gt;&lt;div&gt; &nbsp;die_on_amqp_error(amqp_login(conn,&nbsp;&amp;quot;/&amp;quot;,&nbsp;0,&nbsp;131072,&nbsp;0,&nbsp;AMQP_SASL_METHOD_PLAIN,&nbsp;&amp;quot;guest&amp;quot;,&nbsp;&amp;quot;guest&amp;quot;),&amp;quot;Logging&nbsp;in&amp;quot;);&lt;/div&gt;&lt;div&gt; &nbsp;if&nbsp;(!amqp_channel_open(conn,&nbsp;1))&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;die_on_amqp_error(amqp_get_rpc_reply(conn),&nbsp;&amp;quot;opening&nbsp;channel&amp;quot;);&lt;/div&gt;&lt;div&gt; &nbsp;reply&nbsp;=&nbsp; amqp_basic_get(conn,1,amqp_cstring_bytes(queuename),1);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;like&nbsp;to&nbsp;verify&nbsp;whether&nbsp;the&nbsp;set&nbsp;of&nbsp;methods&nbsp;I&nbsp;have&nbsp;invoked&nbsp;and&nbsp;the&nbsp;order&nbsp;of&nbsp;invocation&nbsp;are&nbsp;correct&nbsp;? &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Sep&nbsp;6,&nbsp;2012&nbsp;at&nbsp;4:53&nbsp;PM,&nbsp;Tim&nbsp;Watson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tim@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;tim@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;div&gt;On&nbsp;6&nbsp;Sep&nbsp;2012,&nbsp;at&nbsp;12:11,&nbsp;Tim&nbsp;Watson&nbsp;wrote:&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;No,&nbsp;the&nbsp;listenq.c&nbsp;sample&nbsp;is&nbsp;the&nbsp;one&nbsp;you&nbsp;want.&nbsp;It&nbsp;really&nbsp;does&nbsp;seem&nbsp;that&nbsp;you&amp;#39;re&nbsp;trying&nbsp;to&nbsp;get&nbsp;someone&nbsp;to&nbsp;write&nbsp;your&nbsp;C&nbsp;code&nbsp;for&nbsp;you&nbsp;though&nbsp;-&nbsp;as&nbsp;I&nbsp;said,&nbsp;just&nbsp;remove&nbsp;the&nbsp;looping&nbsp;-&nbsp;and&nbsp;whilst&nbsp;we&nbsp;are&nbsp;very&nbsp;keen&nbsp;to&nbsp;help&nbsp;with&nbsp;rabbit&nbsp;questions,&nbsp;I&nbsp;suspect&nbsp;this&nbsp;might&nbsp;be&nbsp;going&nbsp;a&nbsp;bit&nbsp;far&nbsp;even&nbsp;for&nbsp;the&nbsp;more&nbsp;enthusiastic&nbsp;among&nbsp;us.&nbsp;;)&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;fact&nbsp;looking&nbsp;at&nbsp;the&nbsp;sources&nbsp;for&nbsp;a&nbsp;couple&nbsp;of&nbsp;minutes&nbsp;now,&nbsp;you&amp;#39;ll&nbsp;be&nbsp;better&nbsp;off&nbsp;using&nbsp;amqp_basic_get.&nbsp;I&nbsp;didn&amp;#39;t&nbsp;notice&nbsp;that&nbsp;at&nbsp;first. There&nbsp;didn&amp;#39;t&nbsp;seem&nbsp;to&nbsp;be&nbsp;an&nbsp;example&nbsp;of&nbsp;using&nbsp;that&nbsp;in&nbsp;the&nbsp;repository,&nbsp;so&nbsp;I&nbsp;now&nbsp;understand&nbsp;why&nbsp;you&nbsp;were&nbsp;struggling&nbsp;to&nbsp;see&nbsp;what&nbsp;to&nbsp;do. The&nbsp;returns&nbsp;a&nbsp;amqp_rpc_reply_t&nbsp;struct,&nbsp;from&nbsp;which&nbsp;you&nbsp;can&nbsp;probably&nbsp;get&nbsp;you&nbsp;want&nbsp;via&nbsp;the&nbsp;reply&nbsp;field.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;pre&gt;&lt;div&gt;&lt;span&gt;amqp_rpc_reply_t&lt;/span&gt;&nbsp;&lt;span&gt;amqp_basic_get&lt;/span&gt;&lt;span&gt;(&lt;/span&gt;&lt;span&gt;amqp_connection_state_t&lt;/span&gt;&nbsp;&lt;span&gt;state&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;span&gt;amqp_channel_t&lt;/span&gt;&nbsp;&lt;span&gt;channel&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;span&gt;amqp_bytes_t&lt;/span&gt;&nbsp;&lt;span&gt;queue&lt;/span&gt;&lt;span&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;span&gt;amqp_boolean_t&lt;/span&gt;&nbsp;&lt;span&gt;no_ack&lt;/span&gt;&lt;span&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Best&nbsp;Regards&lt;div&gt;Sajith&lt;/div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
