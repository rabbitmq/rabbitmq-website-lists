<tt>
&lt;div&gt;This&nbsp;is&nbsp;not&nbsp;a&nbsp;classic&nbsp;reply&nbsp;queue&nbsp;setup&nbsp;where&nbsp;only&nbsp;two&nbsp;processes&nbsp;are&nbsp;involved.&nbsp; I&nbsp;have&nbsp;three&nbsp;processes&nbsp;involved&nbsp;here:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;In&nbsp;one&nbsp;process&nbsp;I&amp;#39;ve&nbsp;created&nbsp;a&nbsp;&amp;quot;reply&nbsp;queue&amp;quot;&nbsp;with&nbsp;auto_delete&nbsp;true&nbsp;and&nbsp;I&nbsp;bind&nbsp;it&nbsp;to&nbsp;an&nbsp;exchange&nbsp;(using&nbsp;the&nbsp;queue&amp;#39;s&nbsp;name&nbsp;as&nbsp;the&nbsp;routing&nbsp;key).&nbsp; I&nbsp;then&nbsp;publish&nbsp;a&nbsp;message&nbsp;and&nbsp;include&nbsp;the&nbsp;reply&nbsp;queue&amp;#39;s&nbsp;name&nbsp;in&nbsp;&amp;quot;reply_to&amp;quot;&nbsp;property&nbsp;--&nbsp;I&amp;#39;m&nbsp;passing&nbsp;the&nbsp;routing&nbsp;key&nbsp;to&nbsp;another&nbsp;process&nbsp;it&nbsp;can&nbsp;use&nbsp;for&nbsp;replying.&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;consumer&nbsp;picks&nbsp;up&nbsp;that&nbsp;message&nbsp;off&nbsp;a&nbsp;queue&nbsp;and&nbsp;then&nbsp;publishes&nbsp;a&nbsp;new&nbsp;message&nbsp;(the&nbsp;&amp;quot;reply&amp;quot;)&nbsp;to&nbsp;the&nbsp;reply&nbsp;queue&nbsp;using&nbsp;the&nbsp;routing&nbsp;key&nbsp;provided.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Finally,&nbsp;in&nbsp;a&nbsp;third&nbsp;process&nbsp;that&nbsp;knows&nbsp;the&nbsp;reply&nbsp;queue&amp;#39;s&nbsp;name&nbsp;a&nbsp;&amp;quot;amqp_basic_get&amp;quot;&nbsp;is&nbsp;used&nbsp;to&nbsp;consume&nbsp;from&nbsp;reply&nbsp;queue.&nbsp; This&nbsp;process&nbsp;now&nbsp;has&nbsp;the&nbsp;&amp;quot;reply&amp;quot;&nbsp;message.&nbsp; This&nbsp;is&nbsp;working&nbsp;as&nbsp;expected.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But,&nbsp;when&nbsp;that&amp;#39;s&nbsp;all&nbsp;done&nbsp;the&nbsp;queue&nbsp;is&nbsp;still&nbsp;around:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;$&nbsp;sudo&nbsp;rabbitmqctl&nbsp;-q&nbsp;list_queues&nbsp;name&nbsp;messages&nbsp;consumers&nbsp;auto_delete&lt;/div&gt;&lt;div&gt;amq.gen-tYjOPWR6ZV0crLn5ga5KZg==&nbsp; &nbsp; &nbsp; &nbsp; 0&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp; &nbsp; &nbsp; &nbsp;true&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So,&nbsp;there&amp;#39;s&nbsp;no&nbsp;consumers&nbsp;on&nbsp;the&nbsp;queue,&nbsp;and&nbsp;it&amp;#39;s&nbsp;flagged&nbsp;auto_delete.&nbsp; An&nbsp;I&nbsp;misunderstanding&nbsp;how&nbsp;auto_delete&nbsp;works&nbsp;on&nbsp;queues?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;the&nbsp;problem&nbsp;that&nbsp;when&nbsp;I&nbsp;created&nbsp;the&nbsp;&amp;quot;amq.gen-tYjOPWR6ZV0crLn5ga5KZg==&nbsp;&amp;quot;&nbsp;queue&nbsp;that&nbsp;there&nbsp;were&nbsp;no&nbsp;consumers&nbsp;so&nbsp;the&nbsp;queue&nbsp;will&nbsp;never&nbsp;get&nbsp;deleted?&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;using&nbsp;&amp;quot;x-expires&amp;quot;&nbsp;the&nbsp;solution?&lt;/div&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Bill&nbsp;Moseley&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:moseley@hank.org&quot;&nbsp;target=&quot;_blank&quot;&gt;moseley@hank.org&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
