<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;currently&nbsp;run&nbsp;a&nbsp;two-node&nbsp;cluster&nbsp;with&nbsp;mirrored&nbsp;queues.&nbsp;We&nbsp;see&nbsp;a&nbsp;huge&nbsp;drop-off&nbsp;in&nbsp;throughput&nbsp;when&nbsp;our&nbsp;publishers&nbsp;or&nbsp;consumers&nbsp;connect&nbsp;to&nbsp;the&nbsp;non-home&nbsp;node&nbsp;for&nbsp;the&nbsp;queue.&nbsp;This&nbsp;was&nbsp;also&nbsp;confirmed&nbsp;outside&nbsp;of&nbsp;production&nbsp;with&nbsp;two&nbsp;fresh&nbsp;Vagrant&nbsp;VMs&nbsp;on&nbsp;both&nbsp;CentOS&nbsp;and&nbsp;Ubuntu,&nbsp;see&nbsp;gist&amp;nbsp;https://gist.github.com/boffbowsh/6675281&nbsp;and&nbsp;the&nbsp;Java&nbsp;Client&nbsp;MulticastMain&nbsp;example.&nbsp;Do&nbsp;others&nbsp;see&nbsp;this&nbsp;behaviour?&nbsp;We&nbsp;see&nbsp;this&nbsp;being&nbsp;easily&nbsp;mitigated&nbsp;by&nbsp;always&nbsp;connecting&nbsp;to&nbsp;the&nbsp;home&nbsp;node&nbsp;for&nbsp;the&nbsp;queue,&nbsp;and&nbsp;failing&nbsp;over&nbsp;if&nbsp;the&nbsp;home&nbsp;node&nbsp;goes&nbsp;down.&nbsp;However,&nbsp;we&nbsp;haven't&nbsp;yet&nbsp;been&nbsp;able&nbsp;to&nbsp;think&nbsp;of&nbsp;a&nbsp;nice&nbsp;clean&nbsp;way&nbsp;of&nbsp;ensuring&nbsp;clients&nbsp;always&nbsp;connect&nbsp;to&nbsp;this.&nbsp;We&nbsp;do&nbsp;have&nbsp;a&nbsp;dynamic&nbsp;LB&nbsp;at&nbsp;our&nbsp;disposal&nbsp;so&nbsp;we&nbsp;can&nbsp;create&nbsp;a&nbsp;sort&nbsp;of&nbsp;floating&nbsp;IP&nbsp;if&nbsp;that's&nbsp;easiest.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Does&nbsp;anyone&nbsp;have&nbsp;any&nbsp;experience&nbsp;of&nbsp;this&nbsp;sort&nbsp;of&nbsp;setup&nbsp;in&nbsp;production,&nbsp;and&nbsp;can&nbsp;they&nbsp;provide&nbsp;any&nbsp;tips?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Many&nbsp;thanks,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Paul&nbsp;Bowsher&lt;/div&gt;&lt;div&gt;Senior&nbsp;Engineer&lt;/div&gt;&lt;div&gt;Globaldev&lt;/div&gt;&lt;/div&gt;
</tt>
