<tt>
Hi&lt;div&gt;Do&nbsp;you&nbsp;really&nbsp;need&nbsp;only&nbsp;10&nbsp;messages&nbsp;in&nbsp;queue?&nbsp;What&nbsp;is&nbsp;real&nbsp;number?&lt;/div&gt;&lt;div&gt;Can&nbsp;you&nbsp;describe&nbsp;you&nbsp;problem&nbsp;in&nbsp;details?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;Also&nbsp;you&nbsp;can&nbsp;read&nbsp;more&nbsp;about&nbsp;flow&nbsp;control&nbsp;at&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/memory.html&quot;&gt;http://www.rabbitmq.com/memory.html&lt;/a&gt;&lt;/div&gt;&lt;div&gt;and&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/amqp-0-9-1-reference.html#channel.flow&quot;&gt;http://www.rabbitmq.com/amqp-0-9-1-reference.html#channel.flow&lt;/a&gt;&lt;br&gt;&lt;br&gt;On&nbsp;Monday,&nbsp;July&nbsp;15,&nbsp;2013&nbsp;5:14:40&nbsp;PM&nbsp;UTC+3,&nbsp;ser...@openbridge.com&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;Hi&nbsp;everybody,&lt;br&gt;&lt;br&gt;I&nbsp;tried&nbsp;to&nbsp;put&nbsp;a&nbsp;limit&nbsp;on&nbsp;the&nbsp;queue&nbsp;size&nbsp;using&nbsp;'x-max-length',&nbsp;but&nbsp;the&nbsp;problem&nbsp;is&nbsp;Messages<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;dropped&nbsp;or&nbsp;dead-lettered&nbsp;from&nbsp;the&nbsp;front&nbsp;of&nbsp;the&nbsp;queue<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;make&nbsp;room&nbsp;for&nbsp;new&nbsp;messages&nbsp;once&nbsp;the&nbsp;limit&nbsp;is&nbsp;reached.&lt;br&gt;&lt;div&gt;&amp;nbsp;&lt;br&gt;What&nbsp;are&nbsp;the&nbsp;possible&nbsp;ways&nbsp;to&nbsp;not&nbsp;drop&nbsp;the&nbsp;messages?&nbsp;Ideally&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;throw&nbsp;an&nbsp;Exception&nbsp;if&nbsp;queue&nbsp;is&nbsp;full.&nbsp;&lt;br&gt;&lt;br&gt;First&nbsp;I&nbsp;was&nbsp;thinking&nbsp;to&nbsp;check&nbsp;the&nbsp;queue&nbsp;size,&nbsp;and&nbsp;if&nbsp;it's&nbsp;full&nbsp;than&nbsp;stop.&nbsp;But&nbsp;for&nbsp;example&nbsp;if&nbsp;I&nbsp;have&nbsp;5&nbsp;producers&nbsp;and&nbsp;queue&nbsp;limit&nbsp;size&nbsp;is&nbsp;set&nbsp;to&nbsp;10,&nbsp;and&nbsp;I&nbsp;already&nbsp;have&nbsp;9&nbsp;messages&nbsp;in&nbsp;the&nbsp;queue,&nbsp;than&nbsp;all&nbsp;5&nbsp;producers&nbsp;will&nbsp;check&nbsp;the&nbsp;size,&nbsp;and&nbsp;publish&nbsp;their&nbsp;messages&nbsp;and&nbsp;4&nbsp;messages&nbsp;will&nbsp;be&nbsp;lost.&lt;br&gt;&lt;br&gt;That's&nbsp;how&nbsp;I&nbsp;declare&nbsp;x-max-length':&lt;br&gt;&lt;br&gt;result&nbsp;=&nbsp;channel.queue_declare(queue='&lt;wbr&gt;Test',&nbsp;arguments={&nbsp;'x-max-length'&nbsp;:&nbsp;10})&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
