<tt>
&lt;div&gt;Hey,&nbsp;there&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;using&nbsp;rabbitmq-c&nbsp;for&nbsp;some&nbsp;applications.&nbsp;I&nbsp;got&nbsp;those&nbsp;code&nbsp;from&nbsp;the&nbsp;amqp_consumer.c,&nbsp;and&nbsp;the&nbsp;filed&nbsp;&quot;next_summary_time&nbsp;&quot;&nbsp;seemed&nbsp;to&nbsp;confuse&nbsp;me.&nbsp;What&nbsp;does&nbsp;the&nbsp;if&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;clause&nbsp;(in&nbsp;bold)&nbsp;do&nbsp;here?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Many&nbsp;thanks!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-style:&nbsp;solid;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&nbsp;......&amp;nbsp;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-style:&nbsp;solid;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-style:&nbsp;solid;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;#define&nbsp;SUMMARY_EVERY_US&nbsp;100000&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-style:&nbsp;solid;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&amp;nbsp;......&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-style:&nbsp;solid;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;uint64_t&nbsp;next_summary_time&nbsp;=&nbsp;start_time&nbsp;+&nbsp;SUMMARY_EVERY_US;&lt;br&gt;uint64_t&amp;nbsp;now&nbsp;=&nbsp;now_microseconds();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;i&gt;&amp;nbsp;&nbsp;&lt;/i&gt;&lt;b&gt;if&nbsp;(now&nbsp;&amp;gt;&nbsp;next_summary_time)&nbsp;{&lt;/b&gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;int&nbsp;countOverInterval&nbsp;=&nbsp;received&nbsp;-&nbsp;previous_received;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;double&nbsp;intervalRate&nbsp;=&nbsp;countOverInterval&nbsp;/&nbsp;((now&nbsp;-&nbsp;previous_report_time)&nbsp;/&nbsp;1000000.0);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;printf(&quot;%d&nbsp;ms:&nbsp;Received&nbsp;%d&nbsp;-&nbsp;%d&nbsp;since&nbsp;last&nbsp;report&nbsp;(%d&nbsp;Hz)\n&quot;,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;(int)(now&nbsp;-&nbsp;start_time)&nbsp;/&nbsp;1000,&nbsp;received,&nbsp;countOverInterval,&nbsp;(int)&nbsp;intervalRate);&lt;br&gt;&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;previous_received&nbsp;=&nbsp;received;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;previous_report_time&nbsp;=&nbsp;now;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;next_summary_time&nbsp;+=&nbsp;SUMMARY_EVERY_US;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;amqp_maybe_release_buffers(conn);&lt;br&gt;......&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hugo.&amp;nbsp;&lt;/div&gt;
</tt>
