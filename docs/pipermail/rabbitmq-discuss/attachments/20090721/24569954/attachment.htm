<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;1)&nbsp;no&nbsp;consumers&nbsp;ever&nbsp;subscribe&nbsp;to&nbsp;the&nbsp;&amp;quot;logger&amp;quot;&nbsp;queue. Why&nbsp;do&nbsp;you&nbsp;have&nbsp;the&nbsp;logger&nbsp;queue at&nbsp;all?&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;was&nbsp;my&nbsp;bad--&nbsp;I&nbsp;for&nbsp;some&nbsp;reason&nbsp;thought&nbsp;you&nbsp;needed&nbsp;to&nbsp;declare&nbsp;a&nbsp;queue&nbsp;to&nbsp;send&nbsp;messages&nbsp;to&nbsp;an&nbsp;exchange.&nbsp;Fixed&nbsp;that&nbsp;now,&nbsp;no&nbsp;more&nbsp;&amp;quot;logger&amp;quot;&nbsp;queue.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
2)&nbsp;You&nbsp;are&nbsp;setting&nbsp;immediate=true.&nbsp;I&amp;#39;d&nbsp;advise&nbsp;against&nbsp;that,&nbsp;for&nbsp;reasons&lt;br&gt;<br>
I&nbsp;explained&nbsp;earlier.&nbsp;Setting&nbsp;exclusive&nbsp;or&nbsp;auto_delete&nbsp;on&nbsp;the&nbsp;queues,&nbsp;so&lt;br&gt;<br>
that&nbsp;they&nbsp;disappear&nbsp;when&nbsp;the&nbsp;consumers&nbsp;vanish,&nbsp;should&nbsp;be&nbsp;sufficient.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;I&nbsp;changed&nbsp;this&nbsp;now,&nbsp;exclusive=True&nbsp;and&nbsp;auto_delete=True&nbsp;and&nbsp;immediate=False&nbsp;on&nbsp;the&nbsp;Producer.&nbsp;This&nbsp;fixes&nbsp;the&nbsp;&amp;quot;memory&nbsp;leak.&amp;quot;&nbsp;Everything&nbsp;works&nbsp;the&nbsp;way&nbsp;I&nbsp;want&nbsp;and&nbsp;there&amp;#39;s&nbsp;no&nbsp;mem&nbsp;usage&nbsp;growth&nbsp;or&nbsp;eventual&nbsp;crash.&nbsp;This&nbsp;is&nbsp;on&nbsp;1.6.0&nbsp;BTW.&nbsp;I&nbsp;guess&nbsp;it&nbsp;had&nbsp;something&nbsp;to&nbsp;do&nbsp;w/&nbsp;immediate=True,&nbsp;but&nbsp;I&amp;#39;m&nbsp;not&nbsp;positive.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;Also,&nbsp;if&nbsp;you&nbsp;still&nbsp;see&nbsp;the&nbsp;problem then,&nbsp;please&nbsp;post&nbsp;precise&nbsp;instructions&nbsp;on&nbsp;how&nbsp;to&nbsp;reproduce&nbsp;it&nbsp;-&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;want&nbsp;to&nbsp;see&nbsp;the&nbsp;mem&nbsp;growth,&nbsp;use&nbsp;the&nbsp;code&nbsp;(I&amp;#39;ve&nbsp;updated&nbsp;it)&nbsp;in&nbsp;my&nbsp;blog&nbsp;post&nbsp;but&nbsp;just&nbsp;add&nbsp;immediate=True&nbsp;to&nbsp;the&nbsp;basic_publish&nbsp;command.&nbsp;Then&nbsp;I&nbsp;just&nbsp;did&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;b&nbsp;=&nbsp;Producer()&lt;/div&gt;<br>
&lt;div&gt;for&nbsp;x&nbsp;in&nbsp;xrange(1000000):&lt;/div&gt;&lt;div&gt;  &nbsp; b.message({&amp;quot;message&amp;quot;:&amp;quot;a&nbsp;long&nbsp;message&amp;quot;,&nbsp;&amp;quot;id&amp;quot;:str(x)})&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;you&nbsp;can&nbsp;just&nbsp;watch&nbsp;the&nbsp;mem&nbsp;increase,&nbsp;whether&nbsp;you&nbsp;have&nbsp;consumers&nbsp;or&nbsp;not.&nbsp;(only&nbsp;if&nbsp;immediate=True&nbsp;is&nbsp;on)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;thanks&nbsp;for&nbsp;all&nbsp;the&nbsp;help,&nbsp;I&nbsp;think&nbsp;we&amp;#39;re&nbsp;doing&nbsp;good&nbsp;now.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
