<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;On&nbsp;6&nbsp;Sep&nbsp;2012,&nbsp;at&nbsp;12:11,&nbsp;Tim&nbsp;Watson&nbsp;wrote:&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;No,&nbsp;the&nbsp;listenq.c&nbsp;sample&nbsp;is&nbsp;the&nbsp;one&nbsp;you&nbsp;want.&nbsp;It&nbsp;really&nbsp;does&nbsp;seem&nbsp;that&nbsp;you're&nbsp;trying&nbsp;to&nbsp;get&nbsp;someone&nbsp;to&nbsp;write&nbsp;your&nbsp;C&nbsp;code&nbsp;for&nbsp;you&nbsp;though&nbsp;-&nbsp;as&nbsp;I&nbsp;said,&nbsp;just&nbsp;remove&nbsp;the&nbsp;looping&nbsp;-&nbsp;and&nbsp;whilst&nbsp;we&nbsp;are&nbsp;very&nbsp;keen&nbsp;to&nbsp;help&nbsp;with&nbsp;rabbit&nbsp;questions,&nbsp;I&nbsp;suspect&nbsp;this&nbsp;might&nbsp;be&nbsp;going&nbsp;a&nbsp;bit&nbsp;far&nbsp;even&nbsp;for&nbsp;the&nbsp;more&nbsp;enthusiastic&nbsp;among&nbsp;us.&nbsp;;)&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;fact&nbsp;looking&nbsp;at&nbsp;the&nbsp;sources&nbsp;for&nbsp;a&nbsp;couple&nbsp;of&nbsp;minutes&nbsp;now,&nbsp;you'll&nbsp;be&nbsp;better&nbsp;off&nbsp;using&nbsp;amqp_basic_get.&nbsp;I&nbsp;didn't&nbsp;notice&nbsp;that&nbsp;at&nbsp;first.&amp;nbsp;There&nbsp;didn't&nbsp;seem&nbsp;to&nbsp;be&nbsp;an&nbsp;example&nbsp;of&nbsp;using&nbsp;that&nbsp;in&nbsp;the&nbsp;repository,&nbsp;so&nbsp;I&nbsp;now&nbsp;understand&nbsp;why&nbsp;you&nbsp;were&nbsp;struggling&nbsp;to&nbsp;see&nbsp;what&nbsp;to&nbsp;do.&amp;nbsp;The&nbsp;returns&nbsp;a&nbsp;amqp_rpc_reply_t&nbsp;struct,&nbsp;from&nbsp;which&nbsp;you&nbsp;can&nbsp;probably&nbsp;get&nbsp;you&nbsp;want&nbsp;via&nbsp;the&nbsp;reply&nbsp;field.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;pre&gt;&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC212&quot;&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;amqp_rpc_reply_t&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;nf&quot;&gt;amqp_basic_get&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&gt;amqp_connection_state_t&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;state&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC213&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;span&nbsp;class=&quot;n&quot;&gt;amqp_channel_t&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;channel&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC214&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;span&nbsp;class=&quot;n&quot;&gt;amqp_bytes_t&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;queue&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC215&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;span&nbsp;class=&quot;n&quot;&gt;amqp_boolean_t&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&gt;no_ack&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
