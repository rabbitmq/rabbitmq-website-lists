<tt>
Thanks&nbsp;Simon.&nbsp;I&nbsp;was&nbsp;using&nbsp;RabbitMQ&nbsp;management&nbsp;console&nbsp;to&nbsp;set&nbsp;up&nbsp;the&nbsp;exchange&nbsp;to&nbsp;exchange&nbsp;bindings,&nbsp;and&nbsp;the&nbsp;upstream&nbsp;exchanges&nbsp;showed&nbsp;up&nbsp;as&nbsp;&amp;quot;production-ingestion&nbsp;from&nbsp;rabbit@hostname&amp;quot;,&nbsp;and&nbsp;when&nbsp;I&nbsp;tried&nbsp;to&nbsp;bind&nbsp;ingestion&nbsp;to&nbsp;production-ingestion,&nbsp;it&nbsp;wouldn&amp;#39;t&nbsp;let&nbsp;me&nbsp;saying&nbsp;that&nbsp;the&nbsp;exchange&nbsp;didnt&nbsp;exist.&nbsp;I&nbsp;had&nbsp;to&nbsp;give&nbsp;the&nbsp;full&nbsp;upstream&nbsp;exchange&nbsp;name&nbsp;which&nbsp;looked&nbsp;precarious&nbsp;since&nbsp;it&nbsp;contained&nbsp;the&nbsp;actual&nbsp;hostname&nbsp;of&nbsp;the&nbsp;connecting&nbsp;computer. &lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Do&nbsp;you&nbsp;think&nbsp;that&nbsp;doing&nbsp;that&nbsp;/&nbsp;or&nbsp;using&nbsp;RMQ&nbsp;management&nbsp;console&nbsp;could&nbsp;have&nbsp;something&nbsp;to&nbsp;do&nbsp;with&nbsp;it? &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Ilya&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Sep&nbsp;6,&nbsp;2012&nbsp;at&nbsp;2:43&nbsp;AM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;So&nbsp;this&nbsp;certainly&nbsp;sounds&nbsp;like&nbsp;it&nbsp;*should*&nbsp;work.&nbsp;At&nbsp;the&nbsp;very&nbsp;least,&nbsp;part&nbsp;of&nbsp;our&nbsp;test&nbsp;suite&nbsp;asserts&nbsp;that&nbsp;e2e&nbsp;bindings&nbsp;get&nbsp;routed&nbsp;upstream&nbsp;just&nbsp;like&nbsp;queue&nbsp;bindings&nbsp;:-)&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
I&nbsp;think&nbsp;one&nbsp;way&nbsp;to&nbsp;simplify&nbsp;what&nbsp;you&amp;#39;re&nbsp;doing&nbsp;would&nbsp;be&nbsp;for&nbsp;the&nbsp;staging&nbsp;broker&nbsp;to&nbsp;just&nbsp;contain&nbsp;a&nbsp;federated&nbsp;&amp;quot;ingestion&amp;quot;&nbsp;exchange,&nbsp;with&nbsp;an&nbsp;upstream&nbsp;of&nbsp;the&nbsp;production&nbsp;server&amp;#39;s&nbsp;&amp;quot;ingestion&amp;quot;&nbsp;exchange,&nbsp;with&nbsp;no&nbsp;extra&nbsp;intermediate&nbsp;exchanges.&nbsp;(The&nbsp;upstream&nbsp;exchange&nbsp;does&nbsp;not&nbsp;need&nbsp;to&nbsp;be&nbsp;federated,&nbsp;unless&nbsp;it&nbsp;in&nbsp;turn&nbsp;has&nbsp;upstreams.)&nbsp;That&nbsp;sounds&nbsp;like&nbsp;a&nbsp;simpler&nbsp;way&nbsp;to&nbsp;get&nbsp;what&nbsp;you&nbsp;want,&nbsp;but&nbsp;what&nbsp;you&nbsp;are&nbsp;trying&nbsp;*should*&nbsp;work.&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
One&nbsp;possibility&nbsp;is&nbsp;that&nbsp;you&nbsp;haven&amp;#39;t&nbsp;set&nbsp;up&nbsp;some&nbsp;of&nbsp;the&nbsp;intermediate&nbsp;bindings&nbsp;correctly?&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;proceed&nbsp;with&nbsp;your&nbsp;current&nbsp;setup&nbsp;you&nbsp;could&nbsp;try&nbsp;binding&nbsp;queues&nbsp;to&nbsp;each&nbsp;exchange&nbsp;in&nbsp;the&nbsp;chain&nbsp;and&nbsp;seeing&nbsp;how&nbsp;far&nbsp;messages&nbsp;are&nbsp;getting.&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;05/09/2012&nbsp;11:19PM,&nbsp;Ilya&nbsp;Volodarsky&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;was&nbsp;trying&nbsp;to&nbsp;set&nbsp;up&nbsp;a&nbsp;federated&nbsp;exchange&nbsp;topology&nbsp;today,&nbsp;and&nbsp;had&nbsp;a&lt;br&gt;<br>
bit&nbsp;of&nbsp;trouble.&nbsp;I&nbsp;have&nbsp;a&nbsp;/production&nbsp;/broker&nbsp;with&nbsp;an&nbsp;exchange&nbsp;called&lt;br&gt;<br>
*ingestion*,&nbsp;which&nbsp;receives&nbsp;tasks&nbsp;from&nbsp;our&nbsp;API&nbsp;servers.&nbsp;There&nbsp;are&nbsp;queues&lt;br&gt;<br>
bound&nbsp;to&nbsp;this&nbsp;exchange&nbsp;that&nbsp;consume&nbsp;it&nbsp;and&nbsp;process&nbsp;the&nbsp;API&nbsp;tasks.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;then&nbsp;created&nbsp;a&nbsp;mirror&nbsp;cluster&nbsp;with&nbsp;a&nbsp;/staging&nbsp;/broker,&nbsp;and&nbsp;also&lt;br&gt;<br>
created&nbsp;an&nbsp;exchange&nbsp;called&nbsp;*ingestion.&nbsp;*I&nbsp;wanted&nbsp;to&nbsp;route&nbsp;everything&lt;br&gt;<br>
going&nbsp;from&nbsp;the&nbsp;/production/&nbsp;broker&amp;#39;s&nbsp;*ingestion*&nbsp;exchange&nbsp;to&lt;br&gt;<br>
the/staging/&nbsp;broker&amp;#39;s&nbsp;*ingestion*&nbsp;exchange.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;created&nbsp;a&nbsp;federated&nbsp;exchange&nbsp;called*production-ingestion*&nbsp;on&nbsp;the&lt;br&gt;<br>
/staging/&nbsp;broker,&nbsp;and&nbsp;that&nbsp;created&nbsp;a*staging-ingestion*&nbsp;upstream&lt;br&gt;<br>
exchange&nbsp;on&nbsp;the/production/&nbsp;broker.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;first&nbsp;did&nbsp;an&nbsp;exchange-bind&nbsp;on&nbsp;the&nbsp;/staging/&nbsp;broker:&lt;br&gt;<br>
*production-ingestion&nbsp;*=&amp;gt;&nbsp;*ingestion*&lt;br&gt;<br>
I&nbsp;then&nbsp;did&nbsp;an&nbsp;exchange-bind&nbsp;on&nbsp;the/production/&nbsp;broker&nbsp;with&nbsp;source:&lt;br&gt;<br>
*ingestion*&nbsp; =&amp;gt;&nbsp;*staging-ingestion*&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;saw&nbsp;no&nbsp;traffic&nbsp;going&nbsp;between&nbsp;the&nbsp;computers.&nbsp;I&nbsp;read&nbsp;that&nbsp;the&nbsp;federation&lt;br&gt;<br>
plugin&nbsp;only&nbsp;transfers&nbsp;things&nbsp;it&nbsp;has&nbsp;subscriptions&nbsp;for,&nbsp;but&nbsp;is&nbsp;an&lt;br&gt;<br>
exchange&nbsp;binding&nbsp;not&nbsp;counted&nbsp;as&nbsp;a&nbsp;subscription?&nbsp;If&nbsp;so,&nbsp;it&nbsp;feels&nbsp;like&nbsp;I&lt;br&gt;<br>
am&nbsp;setting&nbsp;this&nbsp;up&nbsp;wrong.&nbsp;Some&nbsp;guidance&nbsp;would&nbsp;be&nbsp;very&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks,&lt;br&gt;<br>
&lt;br&gt;<br>
Ilya&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
