<tt>
I&nbsp;may&nbsp;have&nbsp;found&nbsp;the&nbsp;area&nbsp;of&nbsp;the&nbsp;deadlock.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;RabbitMQ.Util.BlockingCell&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;the&nbsp;Value&nbsp;get&nbsp;on&nbsp;the&nbsp;Monitor.wait(this);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;On&nbsp;Thursday,&nbsp;September&nbsp;20,&nbsp;2012&nbsp;1:32:26&nbsp;PM&nbsp;UTC-5,&nbsp;Mark&nbsp;Ward&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;framework&nbsp;that&nbsp;upon&nbsp;receiving&nbsp;an&nbsp;event&nbsp;from&nbsp;the&nbsp;IConnection.ConnectionShutdown&nbsp;event&nbsp;will&nbsp;call&nbsp;dispose&nbsp;for&nbsp;all&nbsp;IModel&nbsp;it&nbsp;has.&nbsp;&amp;nbsp;What&nbsp;I&nbsp;have&nbsp;found&nbsp;is&nbsp;the&nbsp;IModel.Dispose&nbsp;or&nbsp;IModel.Close&nbsp;will&nbsp;lock&nbsp;up&nbsp;and&nbsp;is&nbsp;blocked&nbsp;if&nbsp;called&nbsp;from&nbsp;the&nbsp;ConnectionShutdown&nbsp;event&nbsp;handler.&nbsp;&amp;nbsp;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;if&nbsp;this&nbsp;is&nbsp;expected&nbsp;behavior&nbsp;of&nbsp;the&nbsp;IModel&nbsp;to&nbsp;lock&nbsp;up&nbsp;like&nbsp;this.&nbsp;&amp;nbsp;I&nbsp;understand&nbsp;the&nbsp;closing&nbsp;of&nbsp;the&nbsp;connection&nbsp;will&nbsp;clean&nbsp;up&nbsp;all&nbsp;models&nbsp;and&nbsp;I&nbsp;may&nbsp;look&nbsp;into&nbsp;making&nbsp;my&nbsp;code&nbsp;detect&nbsp;if&nbsp;during&nbsp;a&nbsp;ConnectionShutdown&nbsp;event&nbsp;to&nbsp;not&nbsp;dispose&nbsp;or&nbsp;close&nbsp;the&nbsp;model&nbsp;as&nbsp;the&nbsp;connection&nbsp;will&nbsp;manage&nbsp;this.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;it&nbsp;expected&nbsp;for&nbsp;IModel&nbsp;dispose/close&nbsp;to&nbsp;lock&nbsp;if&nbsp;called&nbsp;during&nbsp;a&nbsp;ConnectionShutdown&nbsp;event?&nbsp;&amp;nbsp;If&nbsp;it&nbsp;is&nbsp;expected&nbsp;I&nbsp;assume&nbsp;it&nbsp;will&nbsp;be&nbsp;okay&nbsp;to&nbsp;null&nbsp;the&nbsp;reference&nbsp;to&nbsp;the&nbsp;models&nbsp;on&nbsp;the&nbsp;connection&nbsp;that&nbsp;fired&nbsp;the&nbsp;ConnectionShutdown&nbsp;event&nbsp;and&nbsp;not&nbsp;cause&nbsp;any&nbsp;problems?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-Mark&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;
</tt>
