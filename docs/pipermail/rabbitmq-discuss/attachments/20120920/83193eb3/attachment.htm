<tt>
TTL&nbsp;is&nbsp;set&nbsp;on&nbsp;a&nbsp;queue&nbsp;basis,&nbsp;so&nbsp;publishing&nbsp;to&nbsp;queue&nbsp;&lt;b&gt;ttl_queue_1s&lt;/b&gt;&amp;nbsp;that&nbsp;has&nbsp;been&nbsp;initialized&nbsp;{x-message-ttl:&nbsp;1000}&nbsp;the&nbsp;message&nbsp;will&nbsp;be&nbsp;dropped&nbsp;by&nbsp;rabbitmq&nbsp;after&nbsp;one&nbsp;second.&nbsp;Messages&nbsp;themselves&nbsp;cannot&nbsp;set&nbsp;their&nbsp;own&nbsp;TTL,&nbsp;as&nbsp;far&nbsp;as&nbsp;I'm&nbsp;aware.&lt;div&gt;The&nbsp;best&nbsp;approach&nbsp;I've&nbsp;found&nbsp;to&nbsp;tracking&nbsp;what&nbsp;gets&nbsp;dropped&nbsp;is&nbsp;using&nbsp;dead&nbsp;letter&nbsp;exchanges&nbsp;(http://www.rabbitmq.com/dlx.html)&nbsp;-&nbsp;so&nbsp;you'd&nbsp;configure&nbsp;your&nbsp;TTL&nbsp;queue&nbsp;with&nbsp;{x-dead-letter-exchange:&nbsp;other_exchange}&nbsp;and&nbsp;then&nbsp;route&nbsp;the&nbsp;requests&nbsp;through&nbsp;there&nbsp;and&nbsp;track&nbsp;on&nbsp;the&nbsp;client&nbsp;side&nbsp;what&nbsp;has&nbsp;been&nbsp;dropped.&lt;/div&gt;&lt;div&gt;&lt;br&gt;On&nbsp;Thursday,&nbsp;September&nbsp;20,&nbsp;2012&nbsp;3:40:34&nbsp;AM&nbsp;UTC-4,&nbsp;Jordan&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;Hey&nbsp;guys,&lt;/font&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;I'm&nbsp;currently&nbsp;using&nbsp;&lt;a&nbsp;href=&quot;https://github.com/postwait/node-amqp&quot;&nbsp;target=&quot;_blank&quot;&gt;node-amqp&lt;/a&gt;,&nbsp;and&nbsp;would&nbsp;like&nbsp;to&nbsp;set&nbsp;an&nbsp;expiration&nbsp;on&nbsp;my&nbsp;messages.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;I&nbsp;recently&nbsp;learned&nbsp;about&nbsp;t&lt;font&nbsp;color=&quot;#333333&quot;&gt;&lt;span&nbsp;style=&quot;line-height:18px&quot;&gt;he&nbsp;'x-message-ttl'&nbsp;flag,&nbsp;but&nbsp;I'm&nbsp;not&nbsp;quite&nbsp;sure&nbsp;how&nbsp;to&nbsp;properly&nbsp;use&nbsp;it.&nbsp;&amp;nbsp;In&nbsp;particular,&nbsp;if&nbsp;a&nbsp;message&nbsp;expires,&nbsp;do&nbsp;I&nbsp;have&nbsp;any&nbsp;way&nbsp;of&nbsp;knowing&nbsp;&lt;b&gt;which&lt;/b&gt;&nbsp;message&nbsp;it&nbsp;was?&nbsp;&amp;nbsp;Perhaps&nbsp;a&nbsp;correlation&nbsp;id?&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;font&nbsp;color=&quot;#333333&quot;&gt;&lt;span&nbsp;style=&quot;line-height:18px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;font&nbsp;color=&quot;#333333&quot;&gt;&lt;span&nbsp;style=&quot;line-height:18px&quot;&gt;Thanks&nbsp;for&nbsp;the&nbsp;help!&lt;/span&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;
</tt>
