<tt>
&lt;html&gt;&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=Windows-1252&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;div&gt;Yes&nbsp;–&nbsp;that's&nbsp;what&nbsp;I&nbsp;do&nbsp;too.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Unfortunately&nbsp;he&nbsp;said&nbsp;he&nbsp;has&nbsp;no&nbsp;control&nbsp;over&nbsp;the&nbsp;python&nbsp;code…&nbsp;:-/&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span&nbsp;id=&quot;OLK_SRC_BODY_SECTION&quot;&gt;&lt;div&nbsp;style=&quot;font-family:Calibri;&nbsp;font-size:11pt;&nbsp;text-align:left;&nbsp;color:black;&nbsp;BORDER-BOTTOM:&nbsp;medium&nbsp;none;&nbsp;BORDER-LEFT:&nbsp;medium&nbsp;none;&nbsp;PADDING-BOTTOM:&nbsp;0in;&nbsp;PADDING-LEFT:&nbsp;0in;&nbsp;PADDING-RIGHT:&nbsp;0in;&nbsp;BORDER-TOP:&nbsp;#b5c4df&nbsp;1pt&nbsp;solid;&nbsp;BORDER-RIGHT:&nbsp;medium&nbsp;none;&nbsp;PADDING-TOP:&nbsp;3pt&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;From:&nbsp;&lt;/span&gt;&nbsp;&amp;quot;Gavin&nbsp;M.&nbsp;Roy&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:gmr@meetme.com&quot;&gt;gmr@meetme.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Reply-To:&nbsp;&lt;/span&gt;&nbsp;rabbitmq&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Date:&nbsp;&lt;/span&gt;&nbsp;Saturday,&nbsp;April&nbsp;20,&nbsp;2013&nbsp;2:28&nbsp;PM&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;To:&nbsp;&lt;/span&gt;&nbsp;rabbitmq&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Cc:&nbsp;&lt;/span&gt;&nbsp;&amp;quot;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@googlegroups.com&quot;&gt;rabbitmq-discuss@googlegroups.com&lt;/a&gt;&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@googlegroups.com&quot;&gt;rabbitmq-discuss@googlegroups.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Subject:&nbsp;&lt;/span&gt;&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;JSON&nbsp;Data&nbsp;to&nbsp;be&nbsp;send&nbsp;between&nbsp;Java&nbsp;Producer&nbsp;and&nbsp;Python&nbsp;Consumer&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To&nbsp;add&nbsp;to&nbsp;this&nbsp;the&nbsp;consumer&nbsp;probably&nbsp;needs&nbsp;to&nbsp;use&nbsp;json.loads(value,&nbsp;ensure_ascii=False)&nbsp;(not&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;ensure_ascii)&nbsp;to&nbsp;allow&nbsp;it&nbsp;to&nbsp;decode&nbsp;UTF-8&nbsp;in&nbsp;a&nbsp;JSON&nbsp;string.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#A0A0A8;&quot;&gt;On&nbsp;Saturday,&nbsp;April&nbsp;20,&nbsp;2013&nbsp;at&nbsp;7:03&nbsp;AM,&nbsp;Laing,&nbsp;Michael&nbsp;P.&nbsp;wrote:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi&nbsp;Arun,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Probably&nbsp;you&nbsp;are&nbsp;sending&nbsp;unicode&nbsp;in&nbsp;your&nbsp;json&nbsp;from&nbsp;the&nbsp;java&nbsp;side.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;On&nbsp;the&nbsp;python&nbsp;side&nbsp;it&nbsp;is&nbsp;probably&nbsp;complaining&nbsp;about&nbsp;not&nbsp;being&nbsp;able&nbsp;to&nbsp;decode&nbsp;using&nbsp;the&nbsp;ascii&nbsp;codec…&nbsp;is&nbsp;that&nbsp;correct?&nbsp;This&nbsp;would&nbsp;mean&nbsp;that&nbsp;the&nbsp;received&nbsp;data&nbsp;is&nbsp;encoded&nbsp;in&nbsp;another&nbsp;scheme,&nbsp;probably&nbsp;utf8.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Really&nbsp;guessing&nbsp;here&nbsp;but…&nbsp;you&nbsp;could&nbsp;first&nbsp;try&nbsp;forcing&nbsp;the&nbsp;java&nbsp;side&nbsp;to&nbsp;only&nbsp;send&nbsp;ascii,&nbsp;stripping&nbsp;out&nbsp;or&nbsp;transforming&nbsp;any&nbsp;non-ascii&nbsp;characters.&nbsp;This&nbsp;would&nbsp;tell&nbsp;you&nbsp;if&nbsp;you&nbsp;are&nbsp;on&nbsp;the&nbsp;right&nbsp;track.&nbsp;Then&nbsp;you&nbsp;could&nbsp;try&nbsp;to&nbsp;really&nbsp;fix&nbsp;the&nbsp;problem&nbsp;by&nbsp;getting&nbsp;the&nbsp;java&nbsp;side&nbsp;to&nbsp;encode&nbsp;unicode&nbsp;as&nbsp;ascii&nbsp;rather&nbsp;than&nbsp;utf8&nbsp;(you&nbsp;will&nbsp;see&nbsp;'\unnnn'&nbsp;strings&nbsp;in&nbsp;the&nbsp;output).&nbsp;I&nbsp;don't&nbsp;know&nbsp;how&nbsp;to&nbsp;do&nbsp;that.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;usually&nbsp;handle&nbsp;problems&nbsp;like&nbsp;this&nbsp;on&nbsp;the&nbsp;python&nbsp;side&nbsp;by&nbsp;decoding&nbsp;json&nbsp;using&nbsp;the&nbsp;utf8&nbsp;codec,&nbsp;but&nbsp;that&nbsp;is&nbsp;not&nbsp;an&nbsp;option&nbsp;open&nbsp;to&nbsp;you.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Michael&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;span&gt;&lt;div&nbsp;style=&quot;font-family:Calibri;&nbsp;font-size:11pt;&nbsp;text-align:left;&nbsp;color:black;&nbsp;BORDER-BOTTOM:&nbsp;medium&nbsp;none;&nbsp;BORDER-LEFT:&nbsp;medium&nbsp;none;&nbsp;PADDING-BOTTOM:&nbsp;0in;&nbsp;PADDING-LEFT:&nbsp;0in;&nbsp;PADDING-RIGHT:&nbsp;0in;&nbsp;BORDER-TOP:&nbsp;#b5c4df&nbsp;1pt&nbsp;solid;&nbsp;BORDER-RIGHT:&nbsp;medium&nbsp;none;&nbsp;PADDING-TOP:&nbsp;3pt&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;From:&nbsp;&lt;/span&gt;&nbsp;Arun&nbsp;Viswanath&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:arun.viswanath@gmail.com&quot;&gt;arun.viswanath@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Reply-To:&nbsp;&lt;/span&gt;&nbsp;rabbitmq&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Date:&nbsp;&lt;/span&gt;&nbsp;Saturday,&nbsp;April&nbsp;20,&nbsp;2013&nbsp;2:38&nbsp;AM&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;To:&nbsp;&lt;/span&gt;&nbsp;&amp;quot;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@googlegroups.com&quot;&gt;rabbitmq-discuss@googlegroups.com&lt;/a&gt;&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@googlegroups.com&quot;&gt;rabbitmq-discuss@googlegroups.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;Subject:&nbsp;&lt;/span&gt;&nbsp;[rabbitmq-discuss]&nbsp;JSON&nbsp;Data&nbsp;to&nbsp;be&nbsp;send&nbsp;between&nbsp;Java&nbsp;Producer&nbsp;and&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspPython&nbsp;Consumer&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Hi,<br>
&lt;br&gt;&lt;br&gt;I'm&nbsp;facing&nbsp;an&nbsp;issue&nbsp;while&nbsp;sending&nbsp;the&nbsp;JSON&nbsp;data&nbsp;between&nbsp;Java&nbsp;Producer&nbsp;and&nbsp;&amp;nbsp;Python&nbsp;Consumer.&nbsp;&nbsp;<br>
&lt;br&gt;&lt;br&gt;I&nbsp;doing&nbsp;the&nbsp;following&nbsp;serialization&nbsp;in&nbsp;my&nbsp;Java&nbsp;Producer&nbsp;for&nbsp;my&nbsp;JSON&nbsp;data&nbsp;and&nbsp;placing&nbsp;the&nbsp;serialize&nbsp;data&nbsp;in&nbsp;the&nbsp;Queue<br>
&lt;br&gt;&lt;br&gt;&lt;i&gt;Java&nbsp;Code:<br>
&lt;br&gt;import&nbsp;org.json.simple.JSONObject;<br>
&lt;br&gt;import&nbsp;org.json.simple.parser.JSONParser;<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;//&nbsp;Reading&nbsp;the&nbsp;JSON&nbsp;content&nbsp;from&nbsp;the&nbsp;file&nbsp;and&nbsp;making&nbsp;it&nbsp;an&nbsp;JSONObject<br>
&lt;br&gt;JSONObject&nbsp;serviceObj&nbsp;=&nbsp;(JSONObject)&nbsp;parser.parse(new&nbsp;FileReader(&amp;quot;C:\\Msg2.json&amp;quot;));<br>
&lt;br&gt;&lt;br&gt;String&nbsp;jsonText&nbsp;=&nbsp;new&nbsp;flexjson.JSONSerializer().serialize(jsonObj);&nbsp;&nbsp;<br>
&lt;br&gt;&lt;br&gt;channel.basicPublish(&amp;quot;&amp;quot;,&nbsp;CONDUCTOR_QUEUE_NAME,&nbsp;null,&nbsp;jsonText&nbsp;.getBytes());&lt;/i&gt;&lt;br&gt;&lt;br&gt;-----------------<br>
&lt;br&gt;My&nbsp;python&nbsp;consumer&nbsp;successfully&nbsp;takes&nbsp;the&nbsp;data&nbsp;from&nbsp;the&nbsp;Queue&nbsp;but&nbsp;it&nbsp;is&nbsp;not&nbsp;able&nbsp;to&nbsp;process&nbsp;it.<br>
&lt;br&gt;Python&nbsp;consumer&nbsp;is&nbsp;expected&nbsp;to&nbsp;deserialize&nbsp;the&nbsp;json&nbsp;message&nbsp;read&nbsp;&nbsp;<br>
from&nbsp;the&nbsp;Queue&nbsp;to&nbsp;Python&nbsp;dictionary&nbsp;but&nbsp;the&nbsp;data&nbsp;got&nbsp;after&nbsp;deserialize&nbsp;&nbsp;<br>
is&nbsp;python&nbsp;unicode&nbsp;type.<br>
&lt;br&gt;&lt;br&gt;My&nbsp;python&nbsp;consumer&nbsp;is&nbsp;third&nbsp;party&nbsp;code&nbsp;so&nbsp;I&nbsp;can't&nbsp;change&nbsp;my&nbsp;consumer&nbsp;side.&nbsp;&nbsp;<br>
&lt;br&gt;I'm&nbsp;not&nbsp;sure&nbsp;whether&nbsp;I'm&nbsp;doing&nbsp;the&nbsp;correct&nbsp;stuff&nbsp;in&nbsp;my&nbsp;Java&nbsp;producer.&nbsp;&nbsp;<br>
&lt;br&gt;&lt;br&gt;Any&nbsp;help&nbsp;to&nbsp;resolve&nbsp;this&nbsp;issue&nbsp;will&nbsp;be&nbsp;appreciated.<br>
&lt;br&gt;&lt;br&gt;Thanks&nbsp;In&nbsp;Advance,<br>
&lt;br&gt;Arun&nbsp;V<br>
&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;_______________________________________________&lt;/div&gt;&lt;div&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;/body&gt;&lt;/html&gt;<br>

</tt>
