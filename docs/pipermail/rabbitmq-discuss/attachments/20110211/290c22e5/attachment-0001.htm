<tt>
&lt;div&gt;Folks,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;new&nbsp;to&nbsp;AMQP&nbsp;and&nbsp;RabbitMQ&nbsp;and&nbsp;had&nbsp;some&nbsp;questions&nbsp;about&nbsp;how&nbsp;I&nbsp;should&lt;/div&gt;&lt;div&gt;go&nbsp;about&nbsp;modeling&nbsp;the&nbsp;following&nbsp;problem&nbsp;with&nbsp;exchanges&nbsp;and&nbsp;queues:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;A.&nbsp;I&nbsp;have&nbsp;consumers&nbsp;with&nbsp;a&nbsp;routing&nbsp;tag&nbsp;(not&nbsp;unique&nbsp;--&nbsp;multiple&lt;/div&gt;<br>
&lt;div&gt;  &nbsp;consumers&nbsp;may&nbsp;have&nbsp;the&nbsp;same&nbsp;routing&nbsp;tag)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;B.&nbsp;Messages&nbsp;are&nbsp;enqueued&nbsp;with&nbsp;a&nbsp;routing&nbsp;tag.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;C.&nbsp;Each&nbsp;message&nbsp;should&nbsp;be&nbsp;delivered&nbsp;only&nbsp;once&nbsp;to&nbsp;a&nbsp;consumer&nbsp;among&nbsp;the&lt;/div&gt;&lt;div&gt;<br>
  &nbsp;set&nbsp;of&nbsp;consumers&nbsp;for&nbsp;which&nbsp;the&nbsp;function&lt;/div&gt;&lt;div&gt;   &lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; canConsume?(consumerRoutingTag,&nbsp;messageRoutingTag)*&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp;is&nbsp;true.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;canConsume?(aTag,&nbsp;msgTag)&nbsp;=&nbsp;((aTag&nbsp;&amp;amp;&nbsp;msgTag)&nbsp;==&nbsp;msgTag)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;do&nbsp;I&nbsp;go&nbsp;about&nbsp;configuring&nbsp;my&nbsp;exchange&nbsp;and&nbsp;queues?&nbsp;Do&nbsp;I...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;Create&nbsp;a&nbsp;queue&nbsp;for&nbsp;each&nbsp;consumer&nbsp;and&nbsp;create&nbsp;a&nbsp;rabbit_exchange_type&lt;/div&gt;&lt;div&gt;  &nbsp;that&nbsp;only&nbsp;delivers&nbsp;to&nbsp;a&nbsp;queue&nbsp;for&nbsp;which&nbsp;canConsumer?&nbsp;is&nbsp;true&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2.&nbsp;Create&nbsp;a&nbsp;queue&nbsp;for&nbsp;each&nbsp;consumerRoutingTag&nbsp;(multiple&nbsp;consumers&nbsp;can&lt;/div&gt;&lt;div&gt;  &nbsp;end&nbsp;up&nbsp;on&nbsp;the&nbsp;same&nbsp;queue)&nbsp;and&nbsp;create&nbsp;a&nbsp;rabbit_exchange_type&nbsp;that&lt;/div&gt;&lt;div&gt;  &nbsp;only&nbsp;delivers&nbsp;to&nbsp;a&nbsp;queue&nbsp;for&nbsp;which&nbsp;canConsumer?&nbsp;is&nbsp;true&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3.&nbsp;Have&nbsp;a&nbsp;single&nbsp;queue&nbsp;and&nbsp;then&nbsp;somehow&nbsp;scan&nbsp;each&nbsp;consumer&nbsp;for&nbsp;which&lt;/div&gt;&lt;div&gt;  &nbsp;canConsumer?&nbsp;is&nbsp;true&nbsp;for&nbsp;each&nbsp;incoming&nbsp;message&nbsp;and&nbsp;then&nbsp;deliver&nbsp;to &lt;/div&gt;&lt;div&gt;  &nbsp;that&nbsp;consumer?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;appreciate&nbsp;any&nbsp;guidance&nbsp;here&nbsp;on&nbsp;how&nbsp;to route&nbsp;messages&nbsp;most&lt;/div&gt;&lt;div&gt;effectively&nbsp;to&nbsp;consumers&nbsp;given&nbsp;the&nbsp;above scenario.&nbsp;Further,&nbsp;if&nbsp;I&nbsp;write&lt;/div&gt;&lt;div&gt;my&nbsp;own&nbsp;rabbit_exchange_type,&nbsp;is&nbsp;there support&nbsp;in&nbsp;RabbitMQ&nbsp;for&nbsp;helping&lt;/div&gt;<br>
&lt;div&gt;me&nbsp;fairly&nbsp;distribute&nbsp;messages&nbsp;across the&nbsp;candidate&nbsp;lists?&nbsp;Would&nbsp;the&lt;/div&gt;&lt;div&gt;rabbit_exchange_type&nbsp;be&nbsp;the&nbsp;same&nbsp;as&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/rabbitmq/rabbitmq-external-exchange&quot;&gt;https://github.com/rabbitmq/rabbitmq-external-exchange&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;a&nbsp;bunch!&lt;/div&gt;<br>

</tt>
