<tt>
&lt;div&gt;Matthias,&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;If&nbsp;requiring&nbsp;heartbeats&nbsp;is&nbsp;not&nbsp;usual&nbsp;then&nbsp;something&nbsp;is&nbsp;wrong&nbsp;with&nbsp;our&nbsp;development&nbsp;RabbitMQ&nbsp;server?&nbsp;As&nbsp;I&nbsp;said&nbsp;it&nbsp;seems&nbsp;not&nbsp;detect&nbsp;unexpected&nbsp;client&nbsp;disconnections.&lt;/div&gt;&lt;div&gt;Server&nbsp;and&nbsp;client&nbsp;machine&nbsp;(machine&nbsp;from&nbsp;the&nbsp;consumer&nbsp;is&nbsp;launched)&nbsp;are&nbsp;on&nbsp;the&nbsp;same&nbsp;IP&nbsp;range.&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;id=&quot;result_box&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;hps&quot;&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;What&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;hps&quot;&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;may&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;hps&quot;&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;be&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;hps&quot;&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;the&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;hps&quot;&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;cause&lt;/span&gt; of&nbsp;not&nbsp;detecting&nbsp;clients&nbsp;unexpected&nbsp;&lt;span&nbsp;class=&quot;hps&quot;&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;disconnections&lt;/span&gt;&lt;span&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;?&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;(by&nbsp;the&nbsp;way,&nbsp;the&nbsp;server&nbsp;in&nbsp;fact&nbsp;are&nbsp;2&nbsp;clustered&nbsp;servers&nbsp;running&nbsp;under&nbsp;ubuntu&nbsp;10&nbsp;server&nbsp;and&nbsp;client&nbsp;machine&nbsp;is&nbsp;Windows&nbsp;Vista)&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;&lt;/span&gt;&lt;/span&gt; &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;Regards,&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;&lt;/span&gt;&lt;/span&gt; &lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;&lt;/span&gt;&lt;/span&gt; &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;title=&quot;Haz&nbsp;clic&nbsp;para&nbsp;obtener&nbsp;traducciones&nbsp;alternativas&quot;&gt;Alfonso&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;br&gt; &lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2011/3/31&nbsp;Matthias&nbsp;Radestock&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;style=&quot;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-style:&nbsp;solid;&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
Alfonso,&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Alfonso&nbsp;Pantoja&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;style=&quot;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-style:&nbsp;solid;&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
That&amp;#39;s&nbsp;is&nbsp;interesting.&lt;br&gt;<br>
We&nbsp;won&amp;#39;t&nbsp;have&nbsp;many&nbsp;consumer/publisher&nbsp;applications&nbsp;but&nbsp;there&nbsp;will&nbsp;be&nbsp;quite&nbsp;frequent&nbsp;(intensive)&nbsp;incoming&nbsp;messages.&nbsp;Also&nbsp;in&nbsp;this&nbsp;scenario&nbsp;it&nbsp;is&nbsp;critical&nbsp;to&nbsp;detect&nbsp;unexpected&nbsp;disconnections.&lt;br&gt;<br>
So&nbsp;I&amp;#39;d&nbsp;better&nbsp;add&nbsp;support&nbsp;for&nbsp;customize&nbsp;this&nbsp;value&nbsp;in&nbsp;order&nbsp;to&nbsp;gain&nbsp;fine&nbsp;control&nbsp;on&nbsp;production.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Requiring&nbsp;heartbeats&nbsp;is&nbsp;by&nbsp;no&nbsp;means&nbsp;normal.&nbsp;They&nbsp;are&nbsp;usually&nbsp;only&nbsp;necessary&nbsp;when&nbsp;something&nbsp;weird&nbsp;is&nbsp;going&nbsp;on&nbsp;in&nbsp;the&nbsp;network&nbsp;infrastructure&nbsp;or&nbsp;client/server&nbsp;machine&nbsp;setup.&nbsp;Unfortunately&nbsp;that&nbsp;is&nbsp;all&nbsp;too&nbsp;common.&lt;br&gt;<br>
&lt;br&gt;<br>
Btw,&nbsp;another&nbsp;downside&nbsp;to&nbsp;short&nbsp;heartbeats&nbsp;is&nbsp;that&nbsp;if&nbsp;a&nbsp;client&nbsp;machine&nbsp;gets&nbsp;heavily&nbsp;loaded&nbsp;then&nbsp;connections&nbsp;may&nbsp;get&nbsp;dropped&nbsp;due&nbsp;to&nbsp;missed&nbsp;heartbeats.&lt;br&gt;<br>
&lt;br&gt;<br>
So,&nbsp;as&nbsp;a&nbsp;general&nbsp;rule,&nbsp;configure&nbsp;the&nbsp;heartbeat&nbsp;interval&nbsp;to&nbsp;be&nbsp;as&nbsp;long&nbsp;as&nbsp;possible.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;<br>
Matthias.&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
