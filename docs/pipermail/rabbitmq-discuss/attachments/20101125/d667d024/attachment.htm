<tt>
Just&nbsp;a&nbsp;precision&nbsp;:&nbsp;I&nbsp;run &lt;div&gt;*&nbsp;rabbitmq-server&nbsp;2.1.1&lt;/div&gt;&lt;div&gt;*&nbsp;erlang&nbsp;R12B-5-10&lt;/div&gt;&lt;div&gt;on&nbsp;CentOS&nbsp;x64 &lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Nov&nbsp;25,&nbsp;2010&nbsp;at&nbsp;2:53&nbsp;PM,&nbsp;Mark&nbsp;Lui&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:dr.mark.lui@gmail.com&quot;&gt;dr.mark.lui@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;I&nbsp;have&nbsp;been&nbsp;running&nbsp;into&nbsp;the&nbsp;same&nbsp;issue.&nbsp; Clustering&nbsp;works&nbsp;fine&nbsp;using&lt;br&gt;<br>
the&nbsp;clustering&nbsp;transcript&nbsp;in&nbsp;the&nbsp;doc&nbsp;e.g.,&lt;br&gt;<br>
&lt;br&gt;<br>
rabbit2$&nbsp;rabbitmqctl&nbsp;stop_app&lt;br&gt;<br>
Stopping&nbsp;node&nbsp;rabbit@rabbit2&nbsp;...done.&lt;br&gt;<br>
rabbit2$&nbsp;rabbitmqctl&nbsp;reset&lt;br&gt;<br>
Resetting&nbsp;node&nbsp;rabbit@rabbit2&nbsp;...done.&lt;br&gt;<br>
rabbit2$&nbsp;rabbitmqctl&nbsp;cluster&nbsp;rabbit@rabbit1&lt;br&gt;<br>
Clustering&nbsp;node&nbsp;rabbit@rabbit2&nbsp;with&nbsp;[rabbit@rabbit1]&nbsp;...done.&lt;br&gt;<br>
rabbit2$&nbsp;rabbitmqctl&nbsp;start_app&lt;br&gt;<br>
Starting&nbsp;node&nbsp;rabbit@rabbit2&nbsp;...done.&lt;br&gt;<br>
&lt;br&gt;<br>
etc...&lt;br&gt;<br>
&lt;br&gt;<br>
However&nbsp;using&nbsp;the&nbsp;auto-configuration&nbsp;sections&nbsp;of&nbsp;the&nbsp;docs&nbsp;has&nbsp;not&nbsp;worked.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;tried&nbsp;adding&lt;br&gt;<br>
&lt;br&gt;<br>
[&lt;br&gt;<br>
&nbsp; {rabbit,&nbsp;[&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; {cluster_nodes,&nbsp;[&amp;#39;rabbit@rabbit1&amp;#39;,&nbsp;&amp;#39;rabbit@rabbit2&amp;#39;]}&lt;br&gt;<br>
&nbsp; ]},&lt;br&gt;<br>
].&lt;br&gt;<br>
&lt;br&gt;<br>
to&nbsp;the&nbsp;rabbitmq.config&nbsp;file&nbsp;and&nbsp;got&nbsp;a&nbsp;syntax&nbsp;error.&nbsp; Then&nbsp;tried&lt;br&gt;<br>
&lt;br&gt;<br>
[&lt;br&gt;<br>
&nbsp; {rabbit,&nbsp;[&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; {cluster_nodes,&nbsp;[&amp;#39;rabbit@rabbit1&amp;#39;,&nbsp;&amp;#39;rabbit@rabbit2&amp;#39;]}&lt;br&gt;<br>
&nbsp; ]}&lt;br&gt;<br>
].&lt;br&gt;<br>
&lt;br&gt;<br>
removing&nbsp;the&nbsp;comma&nbsp;and&nbsp;it&nbsp;did&nbsp;not&nbsp;cluster.&nbsp; Then&nbsp;tried&lt;br&gt;<br>
&lt;br&gt;<br>
[&amp;#39;rabbit@rabbit1&amp;#39;,&nbsp;&amp;#39;rabbit@rabbit2&amp;#39;]&lt;br&gt;<br>
&lt;br&gt;<br>
in&nbsp;the&nbsp;rabbitmq_cluster.config&nbsp;file&nbsp;and&nbsp;it&nbsp;did&nbsp;not&nbsp;cluster.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;at&nbsp;a&nbsp;lost&nbsp;as&nbsp;to&nbsp;what&nbsp;I&nbsp;am&nbsp;doing&nbsp;wrong.&nbsp; We&nbsp;would&nbsp;like&nbsp;to&nbsp;use&nbsp;the&lt;br&gt;<br>
auto-configuration&nbsp;for&nbsp;an&nbsp;easier&nbsp;CM&nbsp;deployment.&nbsp; Any&nbsp;insight&nbsp;as&nbsp;what&lt;br&gt;<br>
is&nbsp;wrong&nbsp;would&nbsp;be&nbsp;appreciated.&lt;br&gt;<br>
&lt;br&gt;<br>
Mark&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Thu,&nbsp;Nov&nbsp;25,&nbsp;2010&nbsp;at&nbsp;11:43&nbsp;AM,&nbsp;Erwan&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:joserwan@gmail.com&quot;&gt;joserwan@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Hello,&lt;br&gt;<br>
&amp;gt;&nbsp;I&amp;#39;m&nbsp;trying&nbsp; to&nbsp;configure&nbsp;a&nbsp;2&nbsp;nodes&nbsp;cluster&nbsp;setup.&nbsp;It&nbsp;works&nbsp;if&nbsp;I&nbsp;add&nbsp;a&nbsp;node&lt;br&gt;<br>
&amp;gt;&nbsp;with&nbsp;rabbitmqctl&nbsp;cluster&nbsp;rabbit@server,&nbsp;but&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;if&nbsp;I&nbsp;use&nbsp;a&nbsp;config&lt;br&gt;<br>
&amp;gt;&nbsp;file.&lt;br&gt;<br>
&amp;gt;&nbsp;Here&nbsp;is&nbsp;my&nbsp;config&nbsp;/etc/rabbitmq/rabbitmq_cluster.config&nbsp;:&lt;br&gt;<br>
&amp;gt;&nbsp;[&amp;#39;rabbit@server-172160237&amp;#39;,&amp;#39;rabbit@server-172160224&amp;#39;]&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;/etc/hosts&nbsp;is&nbsp;set&nbsp;up&nbsp;:&lt;br&gt;<br>
&amp;gt;&nbsp;(...)&lt;br&gt;<br>
&amp;gt;&nbsp;127.0.0.1&nbsp;server-172160237&lt;br&gt;<br>
&amp;gt;&nbsp;172.16.0.224&nbsp;server-172160224&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;When&nbsp;I&nbsp;start&nbsp;rabbit-mq&nbsp;server,&nbsp;I&nbsp;have&nbsp;no&nbsp;error,&nbsp;and&nbsp;rabbitmq&nbsp;status&nbsp;returns&lt;br&gt;<br>
&amp;gt;&nbsp;:&lt;br&gt;<br>
&amp;gt;&nbsp;Status&nbsp;of&nbsp;node&nbsp;&amp;#39;rabbit@server-172160237&amp;#39;&nbsp;...&lt;br&gt;<br>
&amp;gt;&nbsp;[{running_applications,[{rabbit,&amp;quot;RabbitMQ&amp;quot;,&amp;quot;2.1.1&amp;quot;},&lt;br&gt;<br>
&amp;gt;&nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {os_mon,&amp;quot;CPO&nbsp; CXC&nbsp;138&nbsp;46&amp;quot;,&amp;quot;2.1.8&amp;quot;},&lt;br&gt;<br>
&amp;gt;&nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {sasl,&amp;quot;SASL&nbsp; CXC&nbsp;138&nbsp;11&amp;quot;,&amp;quot;2.1.5.4&amp;quot;},&lt;br&gt;<br>
&amp;gt;&nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {mnesia,&amp;quot;MNESIA&nbsp; CXC&nbsp;138&nbsp;12&amp;quot;,&amp;quot;4.4.7&amp;quot;},&lt;br&gt;<br>
&amp;gt;&nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {stdlib,&amp;quot;ERTS&nbsp; CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;1.15.5&amp;quot;},&lt;br&gt;<br>
&amp;gt;&nbsp;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {kernel,&amp;quot;ERTS&nbsp; CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;2.12.5&amp;quot;}]},&lt;br&gt;<br>
&amp;gt;&nbsp; {nodes,[{disc,[&amp;#39;rabbit@server-172160237&amp;#39;]}]},&lt;br&gt;<br>
&amp;gt;&nbsp; {running_nodes,[&amp;#39;rabbit@server-172160237&amp;#39;]}]&lt;br&gt;<br>
&amp;gt;&nbsp;...done.&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;even&nbsp;tried&nbsp;to&nbsp;pass&nbsp;config&nbsp;file&nbsp;as&nbsp;environment&nbsp;variable&nbsp;:&lt;br&gt;<br>
&amp;gt;&nbsp;RABBITMQ_NODENAME=toto&lt;br&gt;<br>
&amp;gt;&nbsp;RABBITMQ_CLUSTER_CONFIG_FILE=/etc/rabbitmq/rabbitmq_cluster&nbsp;rabbitmq-server&lt;br&gt;<br>
&amp;gt;&nbsp;and&lt;br&gt;<br>
&amp;gt;&nbsp;RABBITMQ_NODENAME=toto&lt;br&gt;<br>
&amp;gt;&nbsp;RABBITMQ_CLUSTER_CONFIG_FILE=/etc/rabbitmq/rabbitmq_cluster.config&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq-server&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;But&nbsp;same&nbsp;result,&nbsp;except&nbsp;that&nbsp;rabbit&nbsp;has&nbsp;been&nbsp;replaced&nbsp;by&nbsp;toto&nbsp;...&lt;br&gt;<br>
&amp;gt;&nbsp;Do&nbsp;you&nbsp;see&nbsp;something&nbsp;I&nbsp;may&nbsp;have&nbsp;done&nbsp;wrong&nbsp;?&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
