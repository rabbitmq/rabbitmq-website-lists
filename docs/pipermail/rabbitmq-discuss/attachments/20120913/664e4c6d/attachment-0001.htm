<tt>
&lt;div&gt;The&nbsp;fanout&nbsp;+&nbsp;alternate-exchange&nbsp;for&nbsp;junk&nbsp;works,&nbsp;except&nbsp;I&nbsp;can&amp;#39;t&nbsp;make&nbsp;these&nbsp;extra&nbsp;exchanges&nbsp;exclusive&nbsp;like&nbsp;I&nbsp;can&nbsp;when&nbsp;declaring&nbsp;a&nbsp;server&nbsp;assigned,&nbsp;exclusive,&nbsp;autodelete&nbsp;queue&nbsp;with&nbsp;queueDeclare().&nbsp;That&amp;#39;s&nbsp;probably&nbsp;not&nbsp;a&nbsp;big&nbsp;deal,&nbsp;as&nbsp;nobody&nbsp;would&nbsp;likely&nbsp;guess&nbsp;the&nbsp;names&nbsp;of&nbsp;these&nbsp;extra&nbsp;exchanges.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;think&nbsp;I&amp;#39;d&nbsp;take&nbsp;a&nbsp;simple&nbsp;negation&nbsp;binding&nbsp;over&nbsp;a&nbsp;full&nbsp;regex&nbsp;if&nbsp;there&nbsp;are&nbsp;performance&nbsp;implications.&nbsp;Negation&nbsp;bindings&nbsp;obviously&nbsp;would&nbsp;need&nbsp;to&nbsp;be&nbsp;declared&nbsp;before&nbsp;other&nbsp;bindings&nbsp;or&nbsp;a&nbsp;match&nbsp;could&nbsp;be&nbsp;found&nbsp;before&nbsp;it&nbsp;got&nbsp;to&nbsp;the&nbsp;negation,&nbsp;but&nbsp;I&nbsp;think&nbsp;that&amp;#39;s&nbsp;reasonable&nbsp;-&nbsp;typical&nbsp;rules&nbsp;processing&nbsp;works&nbsp;this&nbsp;way.&nbsp;It&nbsp;doesn&amp;#39;t&nbsp;seem&nbsp;like&nbsp;with&nbsp;these&nbsp;types&nbsp;of&nbsp;negations&nbsp;would&nbsp;have&nbsp;performance&nbsp;implications&nbsp;with&nbsp;the&nbsp;caveat&nbsp;that&nbsp;they&nbsp;must&nbsp;be&nbsp;earlier&nbsp;in&nbsp;the&nbsp;list&nbsp;of&nbsp;bindings.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Sep&nbsp;13,&nbsp;2012&nbsp;at&nbsp;10:53&nbsp;AM,&nbsp;Laing,&nbsp;Michael&nbsp;P.&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:Michael.Laing@nytimes.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Michael.Laing@nytimes.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;We&nbsp;would&nbsp;find&nbsp;a&nbsp;regular&nbsp;expression&nbsp;matching&nbsp;option&nbsp;for&nbsp;topic&nbsp;exchanges&lt;br&gt;<br>
most&nbsp;useful.&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;2&nbsp;cents&nbsp;:)&lt;br&gt;<br>
&lt;br&gt;<br>
Michael&lt;br&gt;<br>
&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;9/13/12&nbsp;4:40&nbsp;AM,&nbsp;&amp;quot;Simon&nbsp;MacMullen&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;On&nbsp;12/09/2012&nbsp;8:37PM,&nbsp;Dave&nbsp;Curylo&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;bind&nbsp;a&nbsp;queue&nbsp;to&nbsp;a&nbsp;topic&nbsp;exchange&nbsp;with&nbsp;a&nbsp;condition&nbsp;that&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;the&nbsp;topic&nbsp;does&nbsp;NOT&nbsp;match&nbsp;a&nbsp;certain&nbsp;wildcard?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;The&nbsp;topic&nbsp;exchange&nbsp;doesn&amp;#39;t&nbsp;have&nbsp;that&nbsp;logic.&nbsp;But&nbsp;you&nbsp;can&nbsp;fake&nbsp;it&nbsp;with&nbsp;the&lt;br&gt;<br>
&amp;gt;alternate&nbsp;exchange&nbsp;feature,&nbsp;at&nbsp;the&nbsp;cost&nbsp;of&nbsp;a&nbsp;few&nbsp;more&nbsp;exchanges.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;Declare&nbsp;a&nbsp;fanout&nbsp;exchange&nbsp;you&amp;#39;ll&nbsp;publish&nbsp;to&nbsp;(let&amp;#39;s&nbsp;call&nbsp;it&lt;br&gt;<br>
&amp;gt;&amp;quot;my-exchange&amp;quot;).&nbsp;Declare&nbsp;a&nbsp;fanout&nbsp;exchange&nbsp;called&nbsp;&amp;quot;junk&amp;quot;.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;The&nbsp;when&nbsp;each&nbsp;consumer&nbsp;declares&nbsp;a&nbsp;queue,&nbsp;it&nbsp;also&nbsp;declares&nbsp;a&nbsp;topic&lt;br&gt;<br>
&amp;gt;exchange&nbsp;and&nbsp;a&nbsp;fanout&nbsp;exchange.&nbsp;The&nbsp;alternate-exchange&nbsp;for&nbsp;the&nbsp;topic&lt;br&gt;<br>
&amp;gt;exchange&nbsp;should&nbsp;be&nbsp;set&nbsp;to&nbsp;the&nbsp;fanout&nbsp;exchange.&nbsp;It&nbsp;then&nbsp;binds&nbsp;the&nbsp;topic&lt;br&gt;<br>
&amp;gt;exchange&nbsp;to&nbsp;&amp;quot;my-exchange&amp;quot;,&nbsp;and&nbsp;&amp;quot;junk&amp;quot;&nbsp;to&nbsp;the&nbsp;topic&nbsp;exchange,&nbsp;with&nbsp;a&lt;br&gt;<br>
&amp;gt;routing&nbsp;key&nbsp;equal&nbsp;to&nbsp;the&nbsp;topics&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;want.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;Thus&nbsp;messages&nbsp;with&nbsp;the&nbsp;&amp;quot;bad&amp;quot;&nbsp;routing&nbsp;key&nbsp;go:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;[my-exchange]&nbsp;-&amp;gt;&nbsp;[per-consumer-topic]&nbsp;-&amp;gt;&nbsp;[junk]&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;and&nbsp;the&nbsp;rest&nbsp;go:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp;[my-exchange]&nbsp;-&amp;gt;&nbsp;[per-consumer-topic]&nbsp;-&amp;gt;&nbsp;[per-consumer-fanout]&nbsp;-&amp;gt;&lt;br&gt;<br>
&amp;gt;[per-consumer-queue]&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;I&nbsp;think&nbsp;that&amp;#39;s&nbsp;the&nbsp;simplest&nbsp;you&nbsp;can&nbsp;make&nbsp;it.&nbsp;But&nbsp;exchanges&nbsp;are&nbsp;cheap&nbsp;in&lt;br&gt;<br>
&amp;gt;general,&nbsp;it&amp;#39;s&nbsp;just&nbsp;routing&nbsp;logic.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;But&nbsp;I&nbsp;wonder&nbsp;whether&nbsp;some&nbsp;sort&nbsp;of&nbsp;more&nbsp;explicit&nbsp;negation&nbsp;feature&nbsp;would&lt;br&gt;<br>
&amp;gt;be&nbsp;feasible&nbsp;/&nbsp;useful.&nbsp;Hmm.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;Cheers,&nbsp;Simon&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&amp;gt;_______________________________________________&lt;br&gt;<br>
&amp;gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
