<tt>
&lt;p&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;again&nbsp;for&nbsp;your&nbsp;answer.&lt;br&gt;<br>
Honestly,&nbsp;my&nbsp;production&nbsp;team&nbsp;manage&nbsp;the&nbsp;snapshot&nbsp;as&nbsp;they&nbsp;want.&lt;br&gt;<br>
But&nbsp;with&nbsp;your&nbsp;answer&nbsp;I&nbsp;can&nbsp;explain&nbsp;why&nbsp;we&nbsp;need&nbsp;to&nbsp;stop&nbsp;snapshot&nbsp;these&nbsp;vm.&lt;br&gt;<br>
Thanks&nbsp;a&nbsp;lot&lt;br&gt;<br>
Regards&lt;/p&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;Le&nbsp;21&nbsp;févr.&nbsp;2014&nbsp;02:06,&nbsp;&quot;Jerry&nbsp;Kuch&quot;&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:jkuch@gopivotal.com&quot;&gt;jkuch@gopivotal.com&lt;/a&gt;&gt;&nbsp;a&nbsp;écrit&nbsp;:&lt;br&nbsp;type=&quot;attribution&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Feb&nbsp;20,&nbsp;2014&nbsp;at&nbsp;12:11&nbsp;PM,&nbsp;Michael&nbsp;Oullion&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:michael.oullion@norbert-dentressangle.com&quot;&nbsp;target=&quot;_blank&quot;&gt;michael.oullion@norbert-dentressangle.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;p&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;Jerry&nbsp;for&nbsp;your&nbsp;quick&nbsp;answer.&lt;br&gt;<br>
What&nbsp;can&nbsp;we&nbsp;do&nbsp;in&nbsp;this&nbsp;situation?&lt;br&gt;<br>
Maybe&nbsp;we&nbsp;can&nbsp;uprise&nbsp;the&nbsp;net&nbsp;tick&nbsp;or&nbsp;use&nbsp;a&nbsp;specific&nbsp;behaviour&nbsp;to&nbsp;manage&nbsp;network&nbsp;split.&lt;br&gt;<br>
Or&nbsp;simply&nbsp;stop&nbsp;take&nbsp;snapshot&nbsp;of&nbsp;the&nbsp;vm&nbsp;because&nbsp;it&#39;s&nbsp;not&nbsp;necessary?&lt;/p&gt;&lt;/blockquote&gt;&lt;div&gt;You&nbsp;may&nbsp;want&nbsp;to&nbsp;think&nbsp;about&nbsp;why&nbsp;you&nbsp;take&nbsp;the&nbsp;snapshots&nbsp;in&nbsp;your&nbsp;particular&nbsp;workflow.&nbsp; As&nbsp;long&nbsp;as&nbsp;you&nbsp;have&nbsp;a&nbsp;once&nbsp;in&nbsp;a&nbsp;while&nbsp;snapshot&nbsp;with&nbsp;the&nbsp;configuration&nbsp;of&nbsp;your&nbsp;Rabbit&nbsp;nodes,&nbsp;as&nbsp;you&nbsp;use&nbsp;them&nbsp;in&nbsp;your&nbsp;dev/test/production&nbsp;environment,&nbsp;you&nbsp;should&nbsp;be&nbsp;fine&nbsp;for&nbsp;restoration&nbsp;purposes.&nbsp; You&nbsp;probably&nbsp;don&#39;t&nbsp;need&nbsp;to&nbsp;do&nbsp;that&nbsp;every&nbsp;night&nbsp;unless&nbsp;a&nbsp;lot&nbsp;is&nbsp;changing&nbsp;on&nbsp;them&nbsp;from&nbsp;day&nbsp;to&nbsp;day.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Besides,&nbsp;if&nbsp;that&nbsp;VM&nbsp;were&nbsp;restored&nbsp;from&nbsp;a&nbsp;snapshot,&nbsp;it&nbsp;will&nbsp;wake&nbsp;up&nbsp;into&nbsp;a&nbsp;world&nbsp;where&nbsp;any&nbsp;connected&nbsp;clients&nbsp;and&nbsp;whatnot&nbsp;are&nbsp;likely&nbsp;gone&nbsp;and&nbsp;forgotten&nbsp;and&nbsp;have&nbsp;to&nbsp;slough&nbsp;such&nbsp;things&nbsp;off&nbsp;anyway.&nbsp; And&nbsp;there&nbsp;may&nbsp;be&nbsp;messages&nbsp;sitting&nbsp;in&nbsp;queues&nbsp;that&nbsp;were&nbsp;long&nbsp;ago&nbsp;delivered&nbsp;to&nbsp;consumers&nbsp;and&nbsp;acted&nbsp;upon,&nbsp;that&nbsp;are&nbsp;now&nbsp;going&nbsp;to&nbsp;come&nbsp;back&nbsp;from&nbsp;the&nbsp;un-snapshotted&nbsp;grave.&nbsp; If&nbsp;your&nbsp;apps&nbsp;are&nbsp;designed&nbsp;sensibly,&nbsp;favoring&nbsp;idempotency&nbsp;and&nbsp;suitable&nbsp;de-duplication&nbsp;of&nbsp;action&nbsp;at&nbsp;the&nbsp;consumer&nbsp;end,&nbsp;this&nbsp;won&#39;t&nbsp;be&nbsp;a&nbsp;big&nbsp;deal,&nbsp;of&nbsp;course.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;may&nbsp;also&nbsp;want&nbsp;to&nbsp;keep&nbsp;an&nbsp;eye&nbsp;on&nbsp;your&nbsp;vSphere&nbsp;monitoring&nbsp;and&nbsp;management&nbsp;stuff&nbsp;to&nbsp;see&nbsp;if&nbsp;anything&nbsp;else&nbsp;is&nbsp;going&nbsp;on&nbsp;around&nbsp;the&nbsp;times&nbsp;these&nbsp;partitions&nbsp;occur.&nbsp; Partitions&nbsp;are&nbsp;in&nbsp;the&nbsp;eye&nbsp;of&nbsp;each&nbsp;participating&nbsp;beholder,&nbsp;and&nbsp;we&nbsp;detect&nbsp;(really&nbsp;*define*)&nbsp;them&nbsp;via&nbsp;timeout,&nbsp;so&nbsp;anything&nbsp;that&nbsp;renders&nbsp;a&nbsp;node&nbsp;temporarily&nbsp;unable&nbsp;to&nbsp;participate&nbsp;in&nbsp;heart&nbsp;beating&nbsp;will&nbsp;manifest&nbsp;this&nbsp;way.&nbsp; &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Beyond&nbsp;snapshotting,&nbsp;which&nbsp;paralyzes&nbsp;the&nbsp;VM&nbsp;for&nbsp;part&nbsp;of&nbsp;the&nbsp;time&nbsp;the&nbsp;snapshot&nbsp;is&nbsp;being&nbsp;made,&nbsp;I&#39;d&nbsp;also&nbsp;watch&nbsp;out&nbsp;for&nbsp;vMotion,&nbsp;which&nbsp;briefly&nbsp;stuns&nbsp;the&nbsp;VM&nbsp;being&nbsp;motioned&nbsp;into&nbsp;a&nbsp;quiescent&nbsp;state&nbsp;just&nbsp;before&nbsp;vSphere&nbsp;switches&nbsp;over&nbsp;to&nbsp;the&nbsp;migrated&nbsp;VM&nbsp;at&nbsp;its&nbsp;new&nbsp;location,&nbsp;and,&nbsp;possibly&nbsp;the&nbsp;hypervisor&nbsp;paging&nbsp;memory&nbsp;out&nbsp;beneath&nbsp;the&nbsp;guest&nbsp;OS&nbsp;that&nbsp;Rabbit&nbsp;is&nbsp;running&nbsp;on&nbsp;top&nbsp;of,&nbsp;which&nbsp;could&nbsp;make&nbsp;things&nbsp;lag&nbsp;enough&nbsp;that&nbsp;a&nbsp;heartbeat&nbsp;exchange&nbsp;would&nbsp;be&nbsp;missed.&nbsp; The&nbsp;latter&nbsp;case&nbsp;can&nbsp;be&nbsp;especially&nbsp;sneaky&nbsp;since&nbsp;an&nbsp;ESX&nbsp;host&nbsp;under&nbsp;memory&nbsp;pressure&nbsp;may&nbsp;be&nbsp;paging&nbsp;out&nbsp;guest&nbsp;OSes&nbsp;without&nbsp;them,&nbsp;as&nbsp;far&nbsp;as&nbsp;they&nbsp;know,&nbsp;swapping...&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&nbsp;regards,&lt;/div&gt;&lt;div&gt;Jerry&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
