<tt>
&lt;div&gt;Hello,&nbsp;I&nbsp;got&nbsp;the&nbsp;following&nbsp;error&nbsp;when&nbsp;I&nbsp;tried&nbsp;to&nbsp;declare&nbsp;mirror-queue&nbsp;with&nbsp;&amp;quot;nodes&amp;quot;&nbsp;on&nbsp;&amp;quot;x-ha-policy&amp;quot;&nbsp;argument.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;run&nbsp;cluster&nbsp;with&nbsp;3&nbsp;nodes&nbsp;from&nbsp;rabbit@lab001&nbsp;to&nbsp;lab003.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;run&nbsp;the&nbsp;following&nbsp;java&nbsp;code.&lt;/div&gt;&lt;div&gt;============================================&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Connection&nbsp;conn&nbsp;=&nbsp;test.CreateConn(&amp;quot;guest&amp;quot;,&nbsp;&amp;quot;guest&amp;quot;,&nbsp;&amp;quot;/test&amp;quot;,&nbsp;&amp;quot;127.0.0.1&amp;quot;,&nbsp;5672);&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Channel&nbsp;chl&nbsp;=&nbsp;conn.createChannel();&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;chl.exchangeDeclare(exchangeName,&nbsp;&amp;quot;direct&amp;quot;,&nbsp;true);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Map&amp;lt;String,&nbsp;Object&amp;gt;&nbsp;args&nbsp;=&nbsp;new&nbsp;HashMap&amp;lt;String,&nbsp;Object&amp;gt;();&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;args.put(&amp;quot;x-ha-policy&amp;quot;,&nbsp;&amp;quot;nodes&amp;quot;);&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;args.put(&amp;quot;x-ha-policy-params&amp;quot;,&nbsp;Arrays.asList(&amp;quot;rabbit@lab001&amp;quot;,&nbsp;&amp;quot;rabbit@lab002&amp;quot;));&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;chl.queueDeclare(queueName,&nbsp;false,&nbsp;false,&nbsp;false,&nbsp;args);&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;chl.queueBind(queueName,&nbsp;exchangeName,&nbsp;routingKey);&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;============================================&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;15-Oct-2011::15:46:07&nbsp;===&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;Generic&nbsp;server&nbsp;&amp;lt;0.6599.4&amp;gt;&nbsp;terminating&lt;/div&gt;&lt;div&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{init,false}&lt;/div&gt;&lt;div&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{q,{amqqueue,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {resource,&amp;lt;&amp;lt;&amp;quot;/test&amp;quot;&amp;gt;&amp;gt;,queue,&amp;lt;&amp;lt;&amp;quot;test.queue2&amp;quot;&amp;gt;&amp;gt;},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; false,false,none,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [{&amp;lt;&amp;lt;&amp;quot;x-ha-policy-params&amp;quot;&amp;gt;&amp;gt;,array,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [{longstr,&amp;lt;&amp;lt;&amp;quot;rabbit@lab001&amp;quot;&amp;gt;&amp;gt;},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{longstr,&amp;lt;&amp;lt;&amp;quot;rabbit@lab002&amp;quot;&amp;gt;&amp;gt;}]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&amp;lt;&amp;lt;&amp;quot;x-ha-policy&amp;quot;&amp;gt;&amp;gt;,longstr,&amp;lt;&amp;lt;&amp;quot;nodes&amp;quot;&amp;gt;&amp;gt;}],&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &amp;lt;0.6599.4&amp;gt;,[],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [rabbit@lab002]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; none,false,rabbit_mirror_queue_master,undefined,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {[],[]},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {[],[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; undefined,undefined,undefined,undefined,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {state,fine,5000,undefined},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {dict,0,16,16,8,80,48,&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; []}}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; undefined,undefined}&lt;/div&gt;&lt;div&gt;**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&lt;/div&gt;&lt;div&gt;**&nbsp;{badarg,[{erlang,binary_to_list,[rabbit@lab002]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{rabbit_mirror_queue_master,&amp;#39;-init/3-lc$^0/1-0-&amp;#39;,1},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{rabbit_mirror_queue_master,init,3},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{rabbit_amqqueue_process,declare,3},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{gen_server2,handle_msg,2},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{proc_lib,init_p_do_apply,3}]}&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Shen,&nbsp;Yu-Teh&lt;br&gt;
</tt>
