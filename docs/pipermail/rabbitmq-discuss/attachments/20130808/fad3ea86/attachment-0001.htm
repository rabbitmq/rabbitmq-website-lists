<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;received&nbsp;the&nbsp;following&nbsp;reply&nbsp;from&nbsp;one&nbsp;of&nbsp;the&nbsp;rabbit&nbsp;guys.&nbsp;I'm&nbsp;not&nbsp;sure&nbsp;why&nbsp;he&nbsp;didn't&nbsp;reply&nbsp;to&nbsp;the&nbsp;group.&nbsp;I&nbsp;am&nbsp;including&nbsp;it&nbsp;here&nbsp;so&nbsp;that&nbsp;i&nbsp;might&nbsp;help&nbsp;others.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial;&nbsp;font-size:&nbsp;small;&quot;&gt;On&nbsp;Mon,&nbsp;May&nbsp;6,&nbsp;2013&nbsp;at&nbsp;12:20&nbsp;PM,&nbsp;Matthias&nbsp;Radestock&amp;nbsp;&lt;/span&gt;&lt;span&nbsp;dir=&quot;ltr&quot;&nbsp;style=&quot;font-family:&nbsp;arial;&nbsp;font-size:&nbsp;small;&quot;&gt;&amp;lt;email&nbsp;removed&amp;gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial;&nbsp;font-size:&nbsp;small;&quot;&gt;&amp;nbsp;wrote:&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;We&nbsp;introduced&nbsp;validation&nbsp;of&nbsp;the&nbsp;x-match&nbsp;header&nbsp;in&nbsp;3.1&nbsp;-&nbsp;a&nbsp;change&nbsp;that&nbsp;unfortunately&nbsp;didn't&nbsp;get&nbsp;mentioned&nbsp;in&nbsp;the&nbsp;release&nbsp;notes.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;As&nbsp;part&nbsp;of&nbsp;that,&nbsp;bindings&nbsp;with&nbsp;no&nbsp;x-match&nbsp;header&nbsp;are&nbsp;now&nbsp;rejected&nbsp;whereas&nbsp;previously&nbsp;they&nbsp;would&nbsp;be&nbsp;treated&nbsp;as&nbsp;'all'&nbsp;matches.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;The&nbsp;spec&nbsp;is&nbsp;vague&nbsp;in&nbsp;this&nbsp;regard;&nbsp;it&nbsp;neither&nbsp;says&nbsp;that&nbsp;x-match&nbsp;must&nbsp;be&nbsp;present&nbsp;nor&nbsp;what&nbsp;should&nbsp;happen&nbsp;when&nbsp;it&nbsp;isn't.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;I&nbsp;have&nbsp;filed&nbsp;a&nbsp;bug&nbsp;to&nbsp;explore&nbsp;whether&nbsp;we&nbsp;should&nbsp;revert&nbsp;to&nbsp;the&nbsp;original&nbsp;behaviour,&nbsp;though&nbsp;given&nbsp;the&nbsp;spec&nbsp;vagueness&nbsp;it&nbsp;is&nbsp;probably&nbsp;best&nbsp;not&nbsp;to&nbsp;depend&nbsp;on&nbsp;that&nbsp;in&nbsp;applications.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;As&nbsp;an&nbsp;alternative&nbsp;to&nbsp;changing&nbsp;the&nbsp;bindings&nbsp;in&nbsp;your&nbsp;code,&nbsp;you&nbsp;could&nbsp;introduce&nbsp;an&nbsp;intermediate&nbsp;fanout&nbsp;exchange,&nbsp;either&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;a)&nbsp;in&nbsp;front&nbsp;of&nbsp;the&nbsp;headers&nbsp;exchange,&nbsp;with&nbsp;publishers&nbsp;publishing&nbsp;to&nbsp;that&nbsp;instead&nbsp;of&nbsp;the&nbsp;headers&nbsp;exchange,&nbsp;or&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;b)&nbsp;behind&nbsp;the&nbsp;headers&nbsp;exchange,&nbsp;bound&nbsp;to&nbsp;it&nbsp;with&nbsp;x-match=all,&nbsp;so&nbsp;that&nbsp;selected&nbsp;queues&nbsp;can&nbsp;bind&nbsp;to&nbsp;that&nbsp;w/o&nbsp;having&nbsp;to&nbsp;set&nbsp;a&nbsp;header&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;Regards,&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;Matthias.&lt;/span&gt;&lt;br&gt;&lt;/div&gt;
</tt>
