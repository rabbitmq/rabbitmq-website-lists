<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;trying&nbsp;to&nbsp;build&nbsp;as&nbsp;a&nbsp;data&nbsp;consumer&nbsp;a&nbsp;python&nbsp;script&nbsp;with&nbsp;both&lt;/div&gt;&lt;div&gt;pika&nbsp;(RabbitMQ)&nbsp;and&nbsp;PyQtGraph&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Unfortunately&nbsp;I&nbsp;get&nbsp;a&nbsp;frozen&nbsp;PyQtGraph&nbsp;window&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;script&nbsp;contains&nbsp;this&nbsp;main&nbsp;function&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;def&nbsp;main(args):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;#QtGui.QApplication.setGraphicsSystem('raster')&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;app&nbsp;=&nbsp;QtGui.QApplication([])&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;#mw&nbsp;=&nbsp;QtGui.QMainWindow()&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;#mw.resize(800,800)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;pg.setConfigOption('background',&nbsp;'w')&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;pg.setConfigOption('foreground',&nbsp;'k')&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;win&nbsp;=&nbsp;pg.GraphicsWindow(title=&quot;Basic&nbsp;plotting&nbsp;examples&quot;)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;win.resize(1000,600)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;win.setWindowTitle('plot')&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Enable&nbsp;antialiasing&nbsp;for&nbsp;prettier&nbsp;plots&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;pg.setConfigOptions(antialias=True)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;order_book_plot&nbsp;=&nbsp;OrderBookPlot(args,&nbsp;win)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;import&nbsp;sys&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;Start&nbsp;Qt&nbsp;event&nbsp;loop&nbsp;unless&nbsp;running&nbsp;in&nbsp;interactive&nbsp;mode&nbsp;or&nbsp;using&nbsp;pyside.&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(sys.flags.interactive&nbsp;!=&nbsp;1)&nbsp;or&nbsp;not&nbsp;hasattr(QtCore,&nbsp;'PYQT_VERSION'):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QtGui.QApplication.instance().exec_()&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;also&nbsp;this&nbsp;class&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;class&nbsp;...:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;....&lt;/div&gt;&lt;div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;init_rabbitmq_connection(self):&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection&nbsp;=&nbsp;pika.BlockingConnection(pika.ConnectionParameters(&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host='localhost'))&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel&nbsp;=&nbsp;connection.channel()&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exchange&nbsp;=&nbsp;'topic_logs'&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.exchange_declare(exchange=exchange,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type='topic')&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;channel.queue_declare(exclusive=True)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queue_name&nbsp;=&nbsp;result.method.queue&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;binding_keys&nbsp;=&nbsp;self.args.binding_keys.split(',')&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;binding_key&nbsp;in&nbsp;binding_keys:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.queue_bind(exchange=exchange,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queue=queue_name,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;routing_key=binding_key)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info('&nbsp;[*]&nbsp;Waiting&nbsp;for&nbsp;data.&nbsp;To&nbsp;exit&nbsp;press&nbsp;CTRL+C')&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.basic_consume(self.rabbitmq_data_callback,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queue=queue_name,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no_ack=True)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.start_consuming()&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;maybe&nbsp;you&nbsp;noticed&nbsp;Qt&nbsp;have&nbsp;an&nbsp;event&nbsp;loop&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;I&nbsp;think&nbsp;it's&nbsp;doing&nbsp;odd&nbsp;things&nbsp;with&nbsp;pika.BlockingConnection&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;Any&nbsp;help&nbsp;is&nbsp;welcome.&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;Femto&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
