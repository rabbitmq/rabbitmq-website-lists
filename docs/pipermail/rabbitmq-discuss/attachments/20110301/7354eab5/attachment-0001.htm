<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Emile, &lt;div&gt;I&nbsp;have&nbsp;a&nbsp;few&nbsp;questions: &lt;/div&gt;&lt;div&gt;1.&nbsp;On&nbsp;the&nbsp;rabbitmq&nbsp;server&nbsp;we&nbsp;have&nbsp;a&nbsp;few&nbsp;Erlang&nbsp;versions.&nbsp;Should&nbsp;that&nbsp;create&nbsp;a&nbsp;problem&nbsp;. &lt;/div&gt;&lt;div&gt;(For&nbsp;now,&nbsp;I&nbsp;finished&nbsp;removing&nbsp;the&nbsp;older&nbsp;ones,&nbsp;so&nbsp;currently&nbsp;we&nbsp;have&nbsp;only&nbsp;5.8.2&nbsp;and&nbsp;the&nbsp;problem&nbsp;still&nbsp;exists&lt;/div&gt;<br>
&lt;div&gt;2.&nbsp;I&nbsp;have&nbsp;added&nbsp;the&nbsp;logs&nbsp;file&nbsp;from&nbsp;the&nbsp;rabbitmq&nbsp;server.&nbsp;I&nbsp;am&nbsp;the&nbsp;ip&nbsp;that&nbsp;ends&nbsp;with&nbsp;170.120&nbsp;and&nbsp;my&nbsp;last&nbsp;trial&nbsp;had&nbsp;an&nbsp;exception. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3.&nbsp;Now&nbsp;about&nbsp;that&nbsp;tracer.&nbsp;I&nbsp;have&nbsp;been&nbsp;having&nbsp;some&nbsp;hard&nbsp;time&nbsp;finding&nbsp;documentation&nbsp;for&nbsp;it. &lt;/div&gt;<br>
&lt;div&gt;Should&nbsp;I&nbsp;run&nbsp;it&nbsp;from&nbsp;the&nbsp;client&nbsp;(it&nbsp;comes&nbsp;with&nbsp;the&nbsp;client&nbsp;packacge)&nbsp;or&nbsp;in&nbsp;the&nbsp;server?&nbsp;I&nbsp;am&nbsp;running&nbsp;it&nbsp;in&nbsp;the&nbsp;client.&lt;/div&gt;&lt;div&gt;my&nbsp;rabbit&nbsp;node&nbsp;port&nbsp;is&nbsp;1434.&nbsp; so&nbsp;I&nbsp;am&nbsp;running&nbsp;it&nbsp;with&nbsp; &lt;/div&gt;&lt;div&gt;.\runjava.bat&nbsp;co<br>
m.rabbitmq.tools.Tracer&nbsp;1434&nbsp;192.168.100.251&nbsp;5672&lt;/div&gt;&lt;div&gt;are&nbsp;my&nbsp;parameters&nbsp;ok&nbsp;? &lt;/div&gt;&lt;div&gt;I&nbsp;used rabbit&nbsp;node&nbsp;port as&nbsp;listenport&nbsp;and&nbsp;5672&nbsp;as&nbsp;connect&nbsp;port.&nbsp;I&nbsp;also&nbsp;switched&nbsp;them&nbsp;but&nbsp;no&nbsp;luck&nbsp;.&nbsp;I&nbsp;didnt&nbsp;see&nbsp;anything&nbsp;on&nbsp;the&nbsp;cmd&nbsp;when&nbsp;I&nbsp;invoked&nbsp;my&nbsp;produce&nbsp;command.&lt;/div&gt;<br>
&lt;div&gt;here&nbsp;it&nbsp;is &lt;/div&gt;&lt;div&gt;&lt;pre&gt;C:\workspace\thirdparty\rabbitmq\rabbitmq-java-client-bin-2.3.1&amp;gt;.\runjava.bat&nbsp;co<br>
m.rabbitmq.tools.Tracer&nbsp;1434&nbsp;192.168.100.251&nbsp;5672<br>
Usage:&nbsp;Tracer&nbsp;[&amp;lt;listenport&amp;gt;&nbsp;[&amp;lt;connecthost&amp;gt;&nbsp;[&amp;lt;connectport&amp;gt;]]]<br>
Invoked&nbsp;as:&nbsp;Tracer&nbsp;1434&nbsp;192.168.100.251&nbsp;5672<br>
com.rabbitmq.tools.Tracer.WITHHOLD_INBOUND_HEARTBEATS&nbsp;=&nbsp;false<br>
com.rabbitmq.tools.Tracer.WITHHOLD_OUTBOUND_HEARTBEATS&nbsp;=&nbsp;false<br>
com.rabbitmq.tools.Tracer.NO_ASSEMBLE_FRAMES&nbsp;=&nbsp;false<br>
com.rabbitmq.tools.Tracer.NO_DECODE_FRAMES&nbsp;=&nbsp;false<br>
com.rabbitmq.tools.Tracer.SUPPRESS_COMMAND_BODIES&nbsp;=&nbsp;false<br>
Terminate&nbsp;batch&nbsp;job&nbsp;(Y/N)?&nbsp;y<br>
<br>
C:\workspace\thirdparty\rabbitmq\rabbitmq-java-client-bin-2.3.1&amp;gt;.\runjava.bat&nbsp;co<br>
m.rabbitmq.tools.Tracer&nbsp;5673&nbsp;192.168.100.251&nbsp;1434<br>
Usage:&nbsp;Tracer&nbsp;[&amp;lt;listenport&amp;gt;&nbsp;[&amp;lt;connecthost&amp;gt;&nbsp;[&amp;lt;connectport&amp;gt;]]]<br>
Invoked&nbsp;as:&nbsp;Tracer&nbsp;5673&nbsp;192.168.100.251&nbsp;1434<br>
com.rabbitmq.tools.Tracer.WITHHOLD_INBOUND_HEARTBEATS&nbsp;=&nbsp;false<br>
com.rabbitmq.tools.Tracer.WITHHOLD_OUTBOUND_HEARTBEATS&nbsp;=&nbsp;false<br>
com.rabbitmq.tools.Tracer.NO_ASSEMBLE_FRAMES&nbsp;=&nbsp;false<br>
com.rabbitmq.tools.Tracer.NO_DECODE_FRAMES&nbsp;=&nbsp;false<br>
com.rabbitmq.tools.Tracer.SUPPRESS_COMMAND_BODIES&nbsp;=&nbsp;false&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;one&nbsp;last&nbsp;thing&nbsp;-&nbsp;Our&nbsp;production&nbsp;environment&nbsp;is&nbsp;a&nbsp;mess&nbsp;currently,&nbsp;so&nbsp;I&nbsp;really&nbsp;appreciate&nbsp;your&nbsp;assistance&nbsp;so&nbsp;far. &lt;/div&gt;&lt;div&gt;Thanks. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Mar&nbsp;1,&nbsp;2011&nbsp;at&nbsp;12:09&nbsp;PM,&nbsp;Emile&nbsp;Joubert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&gt;emile@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
Hi,&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;01/03/11&nbsp;09:14,&nbsp;mysurf&nbsp;mail&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hi,&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;your&nbsp;response.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;followed&nbsp;your&nbsp;advice&nbsp;and&nbsp;here&nbsp;are&nbsp;my&nbsp;results.&lt;br&gt;<br>
&nbsp; I&nbsp;see&nbsp;myself&nbsp;in&nbsp;the&nbsp;connection&nbsp;list&nbsp;when&nbsp;I&nbsp;invoke&nbsp;a&nbsp;connection&nbsp;from&nbsp;a&lt;br&gt;<br>
computer&nbsp;that&nbsp;gets&nbsp;the&nbsp;exception.&nbsp;I&nbsp;see&nbsp;it&nbsp;with&nbsp;&amp;quot;starting&amp;quot;&nbsp; status&nbsp;and&lt;br&gt;<br>
instantly&nbsp;it&nbsp;disappears.&nbsp;(I&nbsp;use&nbsp;new&nbsp;exchange&nbsp;name&nbsp;and&nbsp;no&nbsp;exchange&nbsp;is&lt;br&gt;<br>
created)&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;tried&nbsp;to&nbsp;follow&nbsp;your&nbsp;advice&nbsp;about&nbsp;the&nbsp;tracer&nbsp;but&nbsp;i&nbsp;didn&amp;#39;t&nbsp;find&nbsp;enough&lt;br&gt;<br>
info&nbsp;about&nbsp;the&nbsp;file&nbsp;runjava.bat&nbsp;in&nbsp;2.3.1&nbsp;(it&nbsp;exists&nbsp;only&nbsp;in&nbsp;the&nbsp;1.7.0&lt;br&gt;<br>
package.&nbsp;not&nbsp;the&nbsp;2.3.1.)&lt;br&gt;<br>
&lt;br&gt;<br>
it&nbsp;happens&nbsp;from&nbsp;almost&nbsp;half&nbsp;of&nbsp;the&nbsp;servers.&nbsp;not&nbsp;only&nbsp;the&nbsp;ones&nbsp;with&nbsp;the&nbsp;NAT.&lt;br&gt;<br>
thanks.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Unfortunately&nbsp;this&nbsp;is&nbsp;not&nbsp;enough&nbsp;information&nbsp;to&nbsp;make&nbsp;any&nbsp;further&nbsp;guesses&nbsp;about&nbsp;the&nbsp;cause&nbsp;of&nbsp;the&nbsp;problem.&nbsp;Can&nbsp;you&nbsp;please&nbsp;supply&nbsp;a&nbsp;complete&nbsp;(compressed&nbsp;if&nbsp;necessary)&nbsp;broker&nbsp;logfile&nbsp;from&nbsp;one&nbsp;of&nbsp;the&nbsp;brokers&nbsp;where&nbsp;this&nbsp;problem&nbsp;occurs.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
I&amp;#39;ve&nbsp;confirmed&nbsp;that&nbsp;runjava.bat&nbsp;exists&nbsp;in&nbsp;the&nbsp;java&nbsp;client&nbsp;and&nbsp;the&nbsp;complete&nbsp;windows&nbsp;bundle&nbsp;downloads.&nbsp;You&nbsp;can&nbsp;get&nbsp;the&nbsp;latest&nbsp;version&nbsp;here:&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/java-client.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/java-client.html&lt;/a&gt;&nbsp;.&nbsp;It&nbsp;will&nbsp;be&nbsp;helpful&nbsp;if&nbsp;you&nbsp;can&nbsp;connect&nbsp;via&nbsp;the&nbsp;tracer&nbsp;and&nbsp;send&nbsp;the&nbsp;output.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Are&nbsp;the&nbsp;failing&nbsp;servers&nbsp;all&nbsp;running&nbsp;the&nbsp;same&nbsp;version&nbsp;of&nbsp;RabbitMQ?&nbsp;Is&nbsp;it&nbsp;possible&nbsp;that&nbsp;they&nbsp;have&nbsp;some&nbsp;feature&nbsp;or&nbsp;configuration&nbsp;in&nbsp;common&nbsp;that&nbsp;may&nbsp;be&nbsp;the&nbsp;cause&nbsp;of&nbsp;the&nbsp;problem?&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Emile&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
