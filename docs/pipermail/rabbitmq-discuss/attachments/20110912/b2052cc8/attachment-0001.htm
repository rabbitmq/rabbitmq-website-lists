<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&amp;gt;Assume&nbsp;you&nbsp;have&nbsp;2&nbsp;consumers&nbsp;A,B;&nbsp;they&nbsp;get&nbsp;a&nbsp;message&nbsp;each&nbsp;-&nbsp;MA,MB,&nbsp;and&lt;BR&gt;&amp;gt;then&nbsp;A&nbsp;crashes&nbsp;(requeueing&nbsp;MA)&nbsp;and&nbsp;then&nbsp;B&nbsp;crashes&nbsp;(requeueing&nbsp;MB).&nbsp;The&lt;BR&gt;&amp;gt;mutual&nbsp;ordering&nbsp;of&nbsp;MA&nbsp;and&nbsp;MB&nbsp;in&nbsp;the&nbsp;queue&nbsp;is&nbsp;now&nbsp;still&nbsp;not&nbsp;equal&nbsp;to&lt;BR&gt;&amp;gt;the&nbsp;order&nbsp;in&nbsp;which&nbsp;they&nbsp;were&nbsp;in&nbsp;the&nbsp;queue&nbsp;initially.&nbsp;Would&nbsp;this&lt;BR&gt;&amp;gt;situation&nbsp;be&nbsp;ok&nbsp;from&nbsp;your&nbsp;application's&nbsp;point&nbsp;of&nbsp;view?&lt;/SPAN&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;when&nbsp;u&nbsp;requeue&nbsp;MA/MB&nbsp;then&nbsp;those&nbsp;message&nbsp;will&nbsp;be&nbsp;placed&nbsp;at&nbsp;the&nbsp;back&nbsp;of&nbsp;the&nbsp;queue&nbsp;changing&nbsp;the&nbsp;order.&lt;/SPAN&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;If&nbsp;this&nbsp;is&nbsp;what&nbsp;happens&nbsp;then&nbsp;it&nbsp;won't&nbsp;help&nbsp;me.&lt;/SPAN&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;Please&nbsp;confirm.&lt;/SPAN&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;/SPAN&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;SPAN&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;Nithesh&lt;/SPAN&gt;&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&gt;&lt;VAR&nbsp;id=yui-ie-cursor&gt;&lt;/VAR&gt;&lt;BR&nbsp;style=&quot;RIGHT:&nbsp;auto&quot;&nbsp;class=yui-cursor&gt;&lt;/SPAN&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;BR&gt;&lt;/div&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT-FAMILY:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;FONT-SIZE:&nbsp;12pt&quot;&gt;<br>
&lt;DIV&nbsp;style=&quot;FONT-FAMILY:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;FONT-SIZE:&nbsp;12pt&quot;&gt;&lt;FONT&nbsp;size=2&nbsp;face=Arial&gt;<br>
&lt;DIV&nbsp;style=&quot;BORDER-BOTTOM:&nbsp;#ccc&nbsp;1px&nbsp;solid;&nbsp;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid;&nbsp;PADDING-BOTTOM:&nbsp;0px;&nbsp;LINE-HEIGHT:&nbsp;0;&nbsp;MARGIN:&nbsp;5px&nbsp;0px;&nbsp;PADDING-LEFT:&nbsp;0px;&nbsp;PADDING-RIGHT:&nbsp;0px;&nbsp;HEIGHT:&nbsp;0px;&nbsp;FONT-SIZE:&nbsp;0px;&nbsp;BORDER-TOP:&nbsp;#ccc&nbsp;1px&nbsp;solid;&nbsp;BORDER-RIGHT:&nbsp;#ccc&nbsp;1px&nbsp;solid;&nbsp;PADDING-TOP:&nbsp;0px&quot;&nbsp;class=hr&nbsp;contentEditable=false&nbsp;readonly=&quot;true&quot;&gt;&lt;/DIV&gt;&lt;B&gt;&lt;SPAN&nbsp;style=&quot;FONT-WEIGHT:&nbsp;bold&quot;&gt;From:&lt;/SPAN&gt;&lt;/B&gt;&nbsp;Eugene&nbsp;Kirpichov&nbsp;&amp;lt;ekirpichov@gmail.com&amp;gt;&lt;BR&gt;&lt;B&gt;&lt;SPAN&nbsp;style=&quot;FONT-WEIGHT:&nbsp;bold&quot;&gt;To:&lt;/SPAN&gt;&lt;/B&gt;&nbsp;Nithesh&nbsp;Shetty&nbsp;&amp;lt;knitheshshetty@yahoo.com&amp;gt;&lt;BR&gt;&lt;B&gt;&lt;SPAN&nbsp;style=&quot;FONT-WEIGHT:&nbsp;bold&quot;&gt;Cc:&lt;/SPAN&gt;&lt;/B&gt;&nbsp;Emile&nbsp;Joubert&nbsp;&amp;lt;emile@rabbitmq.com&amp;gt;;&nbsp;&quot;rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;&amp;lt;rabbitmq-discuss@lists.rabbitmq.com&amp;gt;&lt;BR&gt;&lt;B&gt;&lt;SPAN&nbsp;style=&quot;FONT-WEIGHT:&nbsp;bold&quot;&gt;Sent:&lt;/SPAN&gt;&lt;/B&gt;&nbsp;Monday,&nbsp;September&nbsp;12,&nbsp;2011&nbsp;2:52&nbsp;PM&lt;BR&gt;&lt;B&gt;&lt;SPAN&nbsp;style=&quot;FONT-WEIGHT:&nbsp;bold&quot;&gt;Subject:&lt;/SPAN&gt;&lt;/B&gt;&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;rabbitmq&nbsp;query&lt;BR&gt;&lt;/FONT&gt;&lt;BR&gt;Hi&nbsp;Nithesh,&lt;BR&gt;&lt;BR&gt;Would&nbsp;it&nbsp;be&nbsp;ok&nbsp;for&nbsp;you&nbsp;if&nbsp;RabbitMQ&nbsp;placed&nbsp;unack'd<br>
&nbsp;messages&nbsp;after&nbsp;a&lt;BR&gt;reconnect&nbsp;to&nbsp;the&nbsp;front&nbsp;of&nbsp;the&nbsp;queue?&lt;BR&gt;&lt;BR&gt;Because&nbsp;this&nbsp;strategy&nbsp;does&nbsp;not&nbsp;always&nbsp;behave&nbsp;intuitively&nbsp;with&nbsp;respect&lt;BR&gt;to&nbsp;message&nbsp;ordering&nbsp;either&nbsp;(unless&nbsp;you&nbsp;have&nbsp;exactly&nbsp;1&nbsp;consumer).&lt;BR&gt;&lt;BR&gt;Assume&nbsp;you&nbsp;have&nbsp;2&nbsp;consumers&nbsp;A,B;&nbsp;they&nbsp;get&nbsp;a&nbsp;message&nbsp;each&nbsp;-&nbsp;MA,MB,&nbsp;and&lt;BR&gt;then&nbsp;A&nbsp;crashes&nbsp;(requeueing&nbsp;MA)&nbsp;and&nbsp;then&nbsp;B&nbsp;crashes&nbsp;(requeueing&nbsp;MB).&nbsp;The&lt;BR&gt;mutual&nbsp;ordering&nbsp;of&nbsp;MA&nbsp;and&nbsp;MB&nbsp;in&nbsp;the&nbsp;queue&nbsp;is&nbsp;now&nbsp;still&nbsp;not&nbsp;equal&nbsp;to&lt;BR&gt;the&nbsp;order&nbsp;in&nbsp;which&nbsp;they&nbsp;were&nbsp;in&nbsp;the&nbsp;queue&nbsp;initially.&nbsp;Would&nbsp;this&lt;BR&gt;situation&nbsp;be&nbsp;ok&nbsp;from&nbsp;your&nbsp;application's&nbsp;point&nbsp;of&nbsp;view?&lt;BR&gt;&lt;BR&gt;On&nbsp;Mon,&nbsp;Sep&nbsp;12,&nbsp;2011&nbsp;at&nbsp;1:09&nbsp;PM,&nbsp;Nithesh&nbsp;Shetty&lt;BR&gt;&amp;lt;&lt;A&nbsp;href=&quot;mailto:knitheshshetty@yahoo.com&quot;&nbsp;ymailto=&quot;mailto:knitheshshetty@yahoo.com&quot;&gt;knitheshshetty@yahoo.com&lt;/A&gt;&amp;gt;&nbsp;wrote:&lt;BR&gt;&amp;gt;&nbsp;In&nbsp;that&nbsp;case&nbsp;it&nbsp;won't&nbsp;help&nbsp;us&nbsp;since.&nbsp;our&nbsp;system&nbsp;is&nbsp;a&nbsp;online&nbsp;trading&nbsp;system&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;and&nbsp;the&nbsp;order&nbsp;of&nbsp;the&nbsp;messages&nbsp;has&nbsp;to&nbsp;be&nbsp;maintained&nbsp;in&nbsp;any&nbsp;case.&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;Thanks&nbsp;for&nbsp;u&nbsp;r&nbsp;help&nbsp;emile.&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;<br>
&nbsp;Nithesh&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;From:&nbsp;Emile&nbsp;Joubert&nbsp;&amp;lt;&lt;A&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&nbsp;ymailto=&quot;mailto:emile@rabbitmq.com&quot;&gt;emile@rabbitmq.com&lt;/A&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;To:&nbsp;Nithesh&nbsp;Shetty&nbsp;&amp;lt;&lt;A&nbsp;href=&quot;mailto:knitheshshetty@yahoo.com&quot;&nbsp;ymailto=&quot;mailto:knitheshshetty@yahoo.com&quot;&gt;knitheshshetty@yahoo.com&lt;/A&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;Cc:&nbsp;&quot;&lt;A&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;ymailto=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/A&gt;&quot;&lt;BR&gt;&amp;gt;&nbsp;&amp;lt;&lt;A&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;ymailto=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/A&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;Sent:&nbsp;Monday,&nbsp;September&nbsp;12,&nbsp;2011&nbsp;2:32&nbsp;PM&lt;BR&gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;rabbitmq&nbsp;query&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;Hi&nbsp;Nitesh,&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;Op&nbsp;12/09/11&nbsp;09:45,&nbsp;het&nbsp;Nithesh&nbsp;Shetty&nbsp;geskryf:&lt;BR&gt;&amp;gt;&amp;gt;&amp;gt;Examples&nbsp;where&nbsp;the&nbsp;condition&nbsp;of&nbsp;a&nbsp;single&nbsp;path&nbsp;does&nbsp;not&nbsp;hold&nbsp;is&nbsp;when&nbsp;a&lt;BR&gt;&amp;gt;&amp;gt;&amp;gt;consumer&nbsp;reconnects&nbsp;or&nbsp;requeues&nbsp;messages.&nbsp;In&nbsp;these&nbsp;cases<br>
&nbsp;you&nbsp;cannot&nbsp;rely&lt;BR&gt;&amp;gt;&amp;gt;&amp;gt;on&nbsp;messages&nbsp;being&nbsp;received&nbsp;in&nbsp;publication&nbsp;order.&lt;BR&gt;&amp;gt;&amp;gt;&lt;BR&gt;&amp;gt;&amp;gt;&nbsp;When&nbsp;u&nbsp;say&nbsp;reconnects&nbsp;or&nbsp;requeues.&nbsp;I&nbsp;assume&nbsp;that&nbsp;the&nbsp;application&nbsp;using&lt;BR&gt;&amp;gt;&amp;gt;&nbsp;queue&nbsp;to&nbsp;receive&nbsp;message&nbsp;crashes&nbsp;and&nbsp;then&nbsp;it&nbsp;connects&lt;BR&gt;&amp;gt;&amp;gt;&nbsp;again&nbsp;to&nbsp;receive&nbsp;the&nbsp;message&nbsp;at&nbsp;that&nbsp;moment&nbsp;u&nbsp;cannot&nbsp;gaurantee&nbsp;the&nbsp;order&lt;BR&gt;&amp;gt;&amp;gt;&nbsp;right&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;If&nbsp;a&nbsp;consumer&nbsp;holds&nbsp;unacknowledged&nbsp;messages&nbsp;when&nbsp;it&nbsp;disconnects&nbsp;then&nbsp;the&lt;BR&gt;&amp;gt;&nbsp;broker&nbsp;needs&nbsp;to&nbsp;return&nbsp;those&nbsp;messages&nbsp;to&nbsp;the&nbsp;queue.&nbsp;The&nbsp;current&nbsp;version&lt;BR&gt;&amp;gt;&nbsp;of&nbsp;rabbit&nbsp;places&nbsp;those&nbsp;messages&nbsp;at&nbsp;the&nbsp;back&nbsp;of&nbsp;the&nbsp;queue,&nbsp;so&nbsp;you&nbsp;cannot&lt;BR&gt;&amp;gt;&nbsp;rely&nbsp;on&nbsp;the&nbsp;order&nbsp;of&nbsp;messages&nbsp;once&nbsp;a&nbsp;reconnect&nbsp;occurs.&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;The&nbsp;same&nbsp;goes&nbsp;for&nbsp;AMQP&nbsp;methods&nbsp;that&nbsp;accept&nbsp;a&nbsp;&quot;requeue&quot;&nbsp;argument&nbsp;like&lt;BR&gt;&amp;gt;&nbsp;basic.reject,&nbsp;basic.recover&nbsp;and&nbsp;basic.nack.&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;-Emile&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&nbsp;_______________________________________________&lt;BR&gt;&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;BR&gt;&amp;gt;&nbsp;&lt;A<br>
&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;ymailto=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/A&gt;&lt;BR&gt;&amp;gt;&nbsp;&lt;A&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=_blank&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/A&gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&amp;gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;--&nbsp;&lt;BR&gt;Eugene&nbsp;Kirpichov&lt;BR&gt;Principal&nbsp;Engineer,&nbsp;Mirantis&nbsp;Inc.&nbsp;&lt;A&nbsp;href=&quot;http://www.mirantis.com/&quot;&nbsp;target=_blank&gt;http://www.mirantis.com/&lt;/A&gt;&lt;BR&gt;Editor,&nbsp;&lt;A&nbsp;href=&quot;http://fprog.ru/&quot;&nbsp;target=_blank&gt;http://fprog.ru/&lt;/A&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
