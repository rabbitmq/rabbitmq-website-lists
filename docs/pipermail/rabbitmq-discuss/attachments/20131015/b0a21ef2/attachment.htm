<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:HelveticaNeue,&nbsp;Helvetica&nbsp;Neue,&nbsp;Helvetica,&nbsp;Arial,&nbsp;Lucida&nbsp;Grande,&nbsp;sans-serif;font-size:12pt&quot;&gt;&lt;div&gt;&amp;gt;&nbsp;How&nbsp;did&nbsp;you&nbsp;determine&nbsp;the&nbsp;average&nbsp;message&nbsp;size?&nbsp;Is&nbsp;it&nbsp;possible&nbsp;that&nbsp;the&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;queue&nbsp;could&nbsp;contain&nbsp;a&nbsp;small&nbsp;number&nbsp;of&nbsp;extremely&nbsp;large&nbsp;messages&nbsp;that&nbsp;skew&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;the&nbsp;average?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;messages&nbsp;on&nbsp;that&nbsp;queue&nbsp;are&nbsp;generated&nbsp;from&nbsp;a&nbsp;very&nbsp;small&nbsp;Java&nbsp;model&nbsp;object.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;looked&nbsp;at&nbsp;a&nbsp;sample&nbsp;from&nbsp;the&nbsp;routing&nbsp;key&nbsp;that&nbsp;queue&nbsp;listens&nbsp;to&nbsp;and&nbsp;the&nbsp;average&nbsp;is&nbsp;from&nbsp;1000&nbsp;message.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;Does&nbsp;the&nbsp;memory&nbsp;use&nbsp;increase&nbsp;gradually&nbsp;or&nbsp;in&nbsp;large&nbsp;jumps?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;to&nbsp;be&nbsp;pretty&nbsp;gradual&nbsp;up&nbsp;until&nbsp;it&nbsp;hit&nbsp;the&nbsp;ceiling.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;I'm&nbsp;not&nbsp;aware&nbsp;of&nbsp;any&nbsp;bugs&nbsp;that&nbsp;could&nbsp;explain&nbsp;the&nbsp;problem&nbsp;you&nbsp;describe.&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;Could&nbsp;you&nbsp;supply&nbsp;the&nbsp;output&nbsp;of&nbsp;&quot;rabbitmqctl&nbsp;report&quot;&nbsp;while&nbsp;you&nbsp;observe&lt;/div&gt;&lt;div&gt;&amp;gt;<br>
&nbsp;the&nbsp;reported&nbsp;condition?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Sure,&nbsp;thing.&nbsp;I&nbsp;grabbed&nbsp;it&nbsp;at&nbsp;10&nbsp;minute&nbsp;intervals,&nbsp;but&nbsp;can&nbsp;do&nbsp;a&nbsp;finer&nbsp;granularity&nbsp;if&nbsp;needed.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,&nbsp;'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;'Lucida&nbsp;Grande',&nbsp;sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;I'll&nbsp;try&nbsp;to&nbsp;attach&nbsp;it&nbsp;to&nbsp;this&nbsp;post.&amp;nbsp;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,&nbsp;'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;'Lucida&nbsp;Grande',&nbsp;sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,&nbsp;'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;'Lucida&nbsp;Grande',&nbsp;sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;If&nbsp;that&nbsp;doesn't&nbsp;work,&nbsp;I'll&nbsp;upload&nbsp;it&nbsp;somewhere&nbsp;are&nbsp;post&nbsp;a&nbsp;url.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;started&nbsp;it&nbsp;on&nbsp;2013/10/14&nbsp;at&nbsp;10:53&nbsp;and&nbsp;around&nbsp;2:53&nbsp;it&nbsp;hit&nbsp;18gb&nbsp;and&nbsp;stayed<br>
&nbsp;there&nbsp;till&nbsp;one&nbsp;of&nbsp;the&nbsp;guys&nbsp;restarted&nbsp;it&nbsp;around&nbsp;5:24&nbsp;pm.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,&nbsp;'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;'Lucida&nbsp;Grande',&nbsp;sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;Just&nbsp;for&nbsp;fun,&nbsp;here&nbsp;is&nbsp;the&nbsp;size&nbsp;of&nbsp;&quot;binary&quot;&nbsp;as&nbsp;a&nbsp;sort&nbsp;of&nbsp;summary&nbsp;of&nbsp;the&nbsp;usage:&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,&nbsp;'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;'Lucida&nbsp;Grande',&nbsp;sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;16px;&nbsp;font-family:&nbsp;HelveticaNeue,&nbsp;'Helvetica&nbsp;Neue',&nbsp;Helvetica,&nbsp;Arial,&nbsp;'Lucida&nbsp;Grande',&nbsp;sans-serif;&nbsp;background-color:&nbsp;transparent;&nbsp;font-style:&nbsp;normal;&quot;&gt;&amp;nbsp;{&quot;10:53&quot;:0.13,&nbsp;&quot;11:03&quot;:1.03,&nbsp;&quot;11:13&quot;:2.25,&nbsp;&quot;11:23&quot;:2.98,&nbsp;&quot;11:33&quot;:3.27,&nbsp;&quot;11:43&quot;:3.66,&nbsp;&quot;11:53&quot;:4.09,&nbsp;&quot;12:03&quot;:4.55,&nbsp;&quot;12:13&quot;:5.21,&nbsp;&quot;12:23&quot;:6.87,&nbsp;&quot;12:33&quot;:9.28,&nbsp;&quot;12:43&quot;:9.49,&nbsp;&quot;12:53&quot;:10.58,&nbsp;&quot;13:03&quot;:10.16,<br>
&nbsp;&quot;13:13&quot;:11.28,&nbsp;&quot;13:23&quot;:12.13,&nbsp;&quot;13:33&quot;:12.72,&nbsp;&quot;13:43&quot;:14.01,&nbsp;&quot;13:53&quot;:13.03,&nbsp;&quot;14:03&quot;:14.16,&nbsp;&quot;14:13&quot;:15.37,&nbsp;&quot;14:23&quot;:15.21,&nbsp;&quot;14:33&quot;:16.27,&nbsp;&quot;14:43&quot;:17.33,&nbsp;&quot;14:53&quot;:18.37,&nbsp;&quot;15:03&quot;:18.79,&nbsp;&quot;15:13&quot;:18.78,&nbsp;&quot;15:23&quot;:18.89,&nbsp;&quot;15:33&quot;:18.72,&nbsp;&quot;15:43&quot;:18.83,&nbsp;&quot;15:53&quot;:18.83,&nbsp;&quot;16:03&quot;:18.79,&nbsp;&quot;16:14&quot;:18.79,&nbsp;&quot;16:24&quot;:18.79,&nbsp;&quot;16:34&quot;:18.78,&nbsp;&quot;16:44&quot;:18.84,&nbsp;&quot;16:54&quot;:18.84,&nbsp;&quot;17:04&quot;:18.84,&nbsp;&quot;17:14&quot;:18.84&nbsp;}&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
