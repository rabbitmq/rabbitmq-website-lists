<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;You&nbsp;can&nbsp;use&nbsp;RabbitMQ&nbsp;to&nbsp;do&nbsp;this&nbsp;-&nbsp;there&amp;#39;s&nbsp;nothing&nbsp;that&nbsp;says&nbsp;you&nbsp;can&amp;#39;t.&nbsp; Whether&nbsp;it&amp;#39;s&nbsp;the&nbsp;right&nbsp;solution&nbsp;depends&nbsp;on&nbsp;the&nbsp;complexity&nbsp;of&nbsp;the&nbsp;overall&nbsp;architecture,&nbsp;goals&nbsp;in&nbsp;that&nbsp;architecture,&nbsp;etc.&nbsp; My&nbsp;initial&nbsp;thought&nbsp;was&nbsp;&amp;quot;memcached&amp;quot;&nbsp;that&nbsp;both&nbsp;process&nbsp;and&nbsp;rest&nbsp;server&nbsp;publish&nbsp;and&nbsp;read&nbsp;from.&nbsp; In&nbsp;our&nbsp;case&nbsp;due&nbsp;to&nbsp;our&nbsp;requirements,&nbsp;we&nbsp;use&nbsp;a&nbsp;shoveled&nbsp;set&nbsp;of&nbsp;rabbit&nbsp;queues&nbsp;to&nbsp;transmit&nbsp;data&nbsp;changes&nbsp;to&nbsp;an&nbsp;&amp;quot;enterprise&nbsp;system&amp;quot;&nbsp;in&nbsp;a&nbsp;different&nbsp;geographical&nbsp;location&nbsp;the&nbsp;the&nbsp;source&nbsp;rabbit&nbsp;servers.&nbsp; This&nbsp;enterprise&nbsp;system&nbsp;is&nbsp;where&nbsp;the&nbsp;&amp;quot;source&nbsp;of&nbsp;truth&amp;quot;&nbsp;data&nbsp;is&nbsp;stored&nbsp;as&nbsp;well&nbsp;as&nbsp;for&nbsp;tracking&nbsp;information&nbsp;and&nbsp;other&nbsp;data.&nbsp; The&nbsp;AMQP&nbsp;consumers&nbsp;after&nbsp;updating&nbsp;the&nbsp;central&nbsp;database,&nbsp;publishes&nbsp;changes&nbsp;back&nbsp;out&nbsp;to&nbsp;the&nbsp;various&nbsp;locations&nbsp;for&nbsp;high&nbsp;performance&nbsp;read&nbsp;only&nbsp;use.&nbsp; If&nbsp;we&nbsp;hadn&amp;#39;t&nbsp;had&nbsp;the&nbsp;need&nbsp;to&nbsp;do&nbsp;distributed&nbsp;data&nbsp;publishes&nbsp;from&nbsp;multiple&nbsp;locations,&nbsp;required&nbsp;support&nbsp;for&nbsp;networking&nbsp;failures/interrupts,&nbsp;wanted&nbsp;high&nbsp;performance&nbsp;and&nbsp;minimal&nbsp;impact&nbsp;to&nbsp;send&nbsp;such&nbsp;messages,&nbsp;we&amp;#39;d&nbsp;have&nbsp;just&nbsp;had&nbsp;local&nbsp;processes&nbsp;talking&nbsp;to&nbsp;local&nbsp;replicated/clustered&nbsp;databases&nbsp;instead.&nbsp; Our&nbsp;current&nbsp;architecture&nbsp;gives&nbsp;us&nbsp;a&nbsp;distributed&nbsp;HA&nbsp;asynchronous&nbsp;processing&nbsp;system.&nbsp; There&nbsp;are&nbsp;always,&nbsp;always&nbsp;questions&nbsp;though&nbsp;-&nbsp;how&nbsp;durable&nbsp;is&nbsp;the&nbsp;job&nbsp;ids?&nbsp; If&nbsp;a&nbsp;publishing&nbsp;fails&nbsp;and&nbsp;your&nbsp;app&nbsp;fails,&nbsp;do&nbsp;you&nbsp;just&nbsp;rerun,&nbsp;etc.&nbsp;etc.&nbsp;etc.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;style&gt;Jason&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Jun&nbsp;11,&nbsp;2013&nbsp;at&nbsp;2:06&nbsp;PM,&nbsp;Robert&nbsp;DiFalco&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:robert.difalco@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;robert.difalco@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;I&nbsp;am&nbsp;writing&nbsp;a&nbsp;REST&nbsp;server&nbsp;in&nbsp;Java&nbsp;and&nbsp;am&nbsp;trying&nbsp;to&nbsp;come&nbsp;up&nbsp;with&nbsp;the&nbsp;best&nbsp;approach&nbsp;for&nbsp;scalability.&nbsp;The&nbsp;server&nbsp;is&nbsp;deployed&nbsp;on&nbsp;Heroku.&nbsp;I&nbsp;am&nbsp;new&nbsp;to&nbsp;RabbitMQ/AMQ&nbsp;so&nbsp;I&nbsp;need&nbsp;some&nbsp;advice.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;an&nbsp;architectural&nbsp;point&nbsp;of&nbsp;view&nbsp;I&nbsp;want&nbsp;to&nbsp;have&nbsp;one&nbsp;or&nbsp;more&nbsp;REST&nbsp;dynos&nbsp;running&nbsp;that&nbsp;delegate&nbsp;all&nbsp;of&nbsp;their&nbsp;work&nbsp;to&nbsp;one&nbsp;or&nbsp;more&nbsp;worker&nbsp;dynos.&nbsp;The&nbsp;REST&nbsp;server&nbsp;dynos&nbsp;must&nbsp;be&nbsp;stateless. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
I&nbsp;have&nbsp;two&nbsp;basic&nbsp;patterns&nbsp;to&nbsp;support.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;span&nbsp;style=&quot;line-height:normal&quot;&gt;REST&nbsp;RPC.&nbsp;Basically,&nbsp;the&nbsp;client&nbsp;makes&nbsp;a&nbsp;call&nbsp;like&nbsp;GET&nbsp;/user/{id}.&nbsp;I&nbsp;delegate&nbsp;this&nbsp;call&nbsp;to&nbsp;a&nbsp;worker&nbsp;dyno&nbsp;that&nbsp;does&nbsp;a&nbsp;database&nbsp;lookup&nbsp;in&nbsp;the&nbsp;USER&nbsp;table&nbsp;for&nbsp;the&nbsp;specified&nbsp;ID&nbsp;and&nbsp;returns&nbsp;it.&nbsp;The&nbsp;REST&nbsp;interface&nbsp;then&nbsp;returns&nbsp;this.&nbsp;This&nbsp;to&nbsp;me&nbsp;seems&nbsp;like&nbsp;basic&nbsp;RPC. &lt;/span&gt;&lt;/li&gt;<br>
&lt;li&gt;&lt;span&nbsp;style=&quot;line-height:normal&quot;&gt;REST&nbsp;ASYNC.&nbsp;In&nbsp;this&nbsp;model&nbsp;the&nbsp;client&nbsp;may&nbsp;call&nbsp;my&nbsp;REST&nbsp;server&nbsp;with&nbsp;a&nbsp;POST&nbsp;or&nbsp;a&nbsp;GET.&nbsp;Let&amp;#39;s&nbsp;use&nbsp;the&nbsp;classic&nbsp;case&nbsp;of&nbsp;a&nbsp;long&nbsp;running&nbsp;task&nbsp;to&nbsp;format&nbsp;a&nbsp;graphic.&nbsp;I&nbsp;will&nbsp;create&nbsp;a&nbsp;JOB&nbsp;ID,&nbsp;return&nbsp;it&nbsp;to&nbsp;the&nbsp;client&nbsp;in&nbsp;an&nbsp;URI.&nbsp;The&nbsp;client&nbsp;calls&nbsp;the&nbsp;URI&nbsp;to&nbsp;poll&nbsp;the&nbsp;job&nbsp;until&nbsp;it&nbsp;is&nbsp;done&nbsp;and&nbsp;then&nbsp;eventually&nbsp;gets&nbsp;redirected&nbsp;to&nbsp;a&nbsp;URI&nbsp;that&nbsp;has&nbsp;the&nbsp;result.&nbsp;In&nbsp;this&nbsp;case,&nbsp;when&nbsp;I&nbsp;get&nbsp;the&nbsp;initial&nbsp;REST&nbsp;call&nbsp;I&nbsp;will&nbsp;generate&nbsp;a&nbsp;UID&nbsp;for&nbsp;it,&nbsp;submit&nbsp;it&nbsp;to&nbsp;the&nbsp;worker.&nbsp;There&nbsp;are&nbsp;several&nbsp;ways&nbsp;I&nbsp;can&nbsp;do&nbsp;the&nbsp;polling&nbsp;and&nbsp;returning&nbsp;of&nbsp;the&nbsp;result.&nbsp;A&nbsp;lot&nbsp;of&nbsp;that&nbsp;depends&nbsp;on&nbsp;how&nbsp;I&nbsp;decide&nbsp;to&nbsp;interact&nbsp;with&nbsp;the&nbsp;worker.&nbsp; Is&nbsp;it&nbsp;RPC?&nbsp;AKKA?&nbsp;AMQP?&nbsp; Because&nbsp;there&nbsp;may&nbsp;be&nbsp;more&nbsp;than&nbsp;one&nbsp;REST&nbsp;service&nbsp;dyno,&nbsp;the&nbsp;request&nbsp;to&nbsp;post&nbsp;the&nbsp;job&nbsp;may&nbsp;happen&nbsp;on&nbsp;one&nbsp;REST&nbsp;server&nbsp;and&nbsp;the&nbsp;polling&nbsp;request&nbsp;may&nbsp;be&nbsp;routed&nbsp;to&nbsp;another.&nbsp;So&nbsp;it&nbsp;must&nbsp;be&nbsp;stateless.&lt;/span&gt;&lt;/li&gt;<br>
&lt;/ol&gt;&lt;div&gt;&lt;br&gt;So&nbsp;here&amp;#39;s&nbsp;my&nbsp;question.&nbsp;First,&nbsp;should&nbsp;I&nbsp;be&nbsp;using&nbsp;RabbitMQ&nbsp;for&nbsp;this&nbsp;or&nbsp;is&nbsp;there&nbsp;a&nbsp;better&nbsp;solution?&nbsp;If&nbsp;I&nbsp;am&nbsp;using&nbsp;RabbitMQ&nbsp;must&nbsp;I&nbsp;implement&nbsp;the&nbsp;RPC&nbsp;and&nbsp;ASYNC&nbsp;patterns&nbsp;myself&nbsp;directly&nbsp;on&nbsp;top&nbsp;of&nbsp;RabbitMQ&nbsp;or&nbsp;are&nbsp;there&nbsp;libraries&nbsp;out&nbsp;there&nbsp;that&nbsp;create&nbsp;a&nbsp;layer&nbsp;of&nbsp;abstraction&nbsp;on&nbsp;top&nbsp;of&nbsp;RabbitMQ&nbsp;so&nbsp;I&nbsp;can&nbsp;do&nbsp;both&nbsp;of&nbsp;these&nbsp;simply?&nbsp;If&nbsp;I&amp;#39;m&nbsp;going&nbsp;to&nbsp;use&nbsp;RabbitMQ&nbsp;I&amp;#39;m&nbsp;hoping&nbsp;to&nbsp;use&nbsp;CloudAMQP&nbsp;on&nbsp;Heroku.&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks!&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Robert&lt;/div&gt;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Jason&nbsp;McIntosh&lt;br&gt;&lt;a&nbsp;href=&quot;http://mcintosh.poetshome.com/blog/&quot;&gt;http://mcintosh.poetshome.com/blog/&lt;/a&gt;&lt;br&gt;573-424-7612<br>
&lt;/div&gt;<br>

</tt>
