<tt>
&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;In&nbsp;trying&nbsp;to&nbsp;track&nbsp;this&nbsp;down&nbsp;with&nbsp;RabbitMQ&nbsp;2.4.1&nbsp;and&nbsp;Pika&nbsp;0.9.6pre0&nbsp;I&nbsp;am&nbsp;not&nbsp;seeing&nbsp;any&nbsp;reply&nbsp;back&nbsp;from&nbsp;Rabbit&nbsp;after&nbsp;a&nbsp;Connection.StartOk&nbsp;is&nbsp;sent,&nbsp;the&nbsp;socket&nbsp;just&nbsp;closes.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;this&nbsp;expected&nbsp;behavior&nbsp;from&nbsp;the&nbsp;broker&nbsp;perspective?&nbsp;&amp;nbsp;I&nbsp;imagine&nbsp;since&nbsp;the&nbsp;connection&nbsp;is&nbsp;never&nbsp;negotiating&nbsp;doing&nbsp;a&nbsp;Connection.Close&nbsp;from&nbsp;the&nbsp;server&nbsp;is&nbsp;not&nbsp;appropriate.&nbsp;&amp;nbsp;Any&nbsp;suggestions&nbsp;on&nbsp;how&nbsp;to&nbsp;raise&nbsp;this&nbsp;as&nbsp;an&nbsp;Exception&nbsp;since&nbsp;it&nbsp;seems&nbsp;to&nbsp;be&nbsp;an&nbsp;implied&nbsp;behavior&nbsp;that&nbsp;broker&nbsp;disconnects&nbsp;if&nbsp;the&nbsp;mechanism&nbsp;or&nbsp;response&nbsp;values&nbsp;are&nbsp;incorrect?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;error&nbsp;logs&nbsp;do&nbsp;show&nbsp;the&nbsp;error&nbsp;as&nbsp;expected.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;9-May-2011::11:05:32&nbsp;===&lt;/div&gt;&lt;div&gt;exception&nbsp;on&nbsp;TCP&nbsp;connection&nbsp;&amp;lt;0.6098.0&amp;gt;&nbsp;from&nbsp;127.0.0.1:58311&lt;/div&gt;&lt;div&gt;{channel0_error,starting,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{amqp_error,access_refused,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&quot;PLAIN&nbsp;login&nbsp;refused:&nbsp;user&nbsp;'gmr'&nbsp;-&nbsp;invalid&nbsp;credentials&quot;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;'connection.start_ok'}}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;9-May-2011::11:05:32&nbsp;===&lt;/div&gt;&lt;div&gt;closing&nbsp;TCP&nbsp;connection&nbsp;&amp;lt;0.6098.0&amp;gt;&nbsp;from&nbsp;127.0.0.1:58311&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#A0A0A0&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;color:&nbsp;rgb(160,&nbsp;160,&nbsp;160);&nbsp;&quot;&gt;On&nbsp;Thursday,&nbsp;May&nbsp;5,&nbsp;2011&nbsp;at&nbsp;11:17&nbsp;AM,&nbsp;Brandon&nbsp;Craig&nbsp;Rhodes&nbsp;wrote:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;div&gt;&lt;div&gt;When&nbsp;a&nbsp;error&nbsp;occurs&nbsp;while&nbsp;connecting&nbsp;in&nbsp;Pika&nbsp;0.9.5,&nbsp;I&nbsp;have&nbsp;to&nbsp;go&nbsp;log&nbsp;on&lt;br&gt;to&nbsp;my&nbsp;RabbitMQ&nbsp;server&nbsp;and&nbsp;look&nbsp;at&nbsp;its&nbsp;logs&nbsp;to&nbsp;discover&nbsp;what&nbsp;happened&nbsp;-&lt;br&gt;the&nbsp;IOLoop&nbsp;in&nbsp;the&nbsp;local&nbsp;program&nbsp;simply&nbsp;returns&nbsp;after&nbsp;three&nbsp;seconds&nbsp;and&lt;br&gt;my&nbsp;next&nbsp;piece&nbsp;of&nbsp;code&nbsp;breaks&nbsp;because&nbsp;the&nbsp;`on_open_callback`&nbsp;callback&lt;br&gt;that&nbsp;I&nbsp;am&nbsp;passing&nbsp;to&nbsp;my&nbsp;`SelectConnection`&nbsp;never&nbsp;gets&nbsp;called&nbsp;when&nbsp;the&lt;br&gt;username&nbsp;and&nbsp;password&nbsp;are&nbsp;wrong.&lt;br&gt;&lt;br&gt;How&nbsp;am&nbsp;I&nbsp;supposed&nbsp;to&nbsp;intercept&nbsp;this&nbsp;condition&nbsp;so&nbsp;that&nbsp;I&nbsp;can&nbsp;return&nbsp;an&lt;br&gt;error&nbsp;message&nbsp;to&nbsp;my&nbsp;user?&nbsp;&nbsp;I&nbsp;tried&nbsp;registering&nbsp;a&nbsp;callback&nbsp;with&nbsp;the&lt;br&gt;`connection.add_on_close_callback()`&nbsp;method&nbsp;but,&nbsp;sensibly&nbsp;enough,&nbsp;it&lt;br&gt;never&nbsp;gets&nbsp;called&nbsp;because&nbsp;this&nbsp;is&nbsp;not&nbsp;really&nbsp;a&nbsp;connection-close,&nbsp;but&nbsp;a&lt;br&gt;connection&nbsp;not&nbsp;getting&nbsp;established&nbsp;in&nbsp;the&nbsp;first&nbsp;place.&nbsp;&nbsp;I&nbsp;have&nbsp;looked&lt;br&gt;around&nbsp;for&nbsp;some&nbsp;sort&nbsp;of&nbsp;a&nbsp;`connection.add_on_error_callback()`&nbsp;or&nbsp;some&lt;br&gt;similar&nbsp;sort&nbsp;of&nbsp;facility,&nbsp;but&nbsp;cannot&nbsp;find&nbsp;one.&lt;br&gt;&lt;br&gt;How&nbsp;do&nbsp;I&nbsp;catch&nbsp;and&nbsp;handle&nbsp;asynchronous&nbsp;errors?&lt;br&gt;&lt;br&gt;Thanks&nbsp;for&nbsp;ANY&nbsp;help&nbsp;that&nbsp;you&nbsp;guys&nbsp;can&nbsp;offer&nbsp;-&nbsp;and&nbsp;thanks,&nbsp;Gavin,&nbsp;for&lt;br&gt;writing&nbsp;such&nbsp;an&nbsp;important&nbsp;part&nbsp;of&nbsp;the&nbsp;modern&nbsp;Python&nbsp;ecosystem!&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Brandon&nbsp;Craig&nbsp;Rhodes&nbsp;&nbsp;&nbsp;brandon@rhodesmill.org&nbsp;&nbsp;&nbsp;&lt;a&nbsp;href=&quot;http://rhodesmill.org/brandon&quot;&gt;http://rhodesmill.org/brandon&lt;/a&gt;&lt;br&gt;_______________________________________________&lt;br&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
</tt>
