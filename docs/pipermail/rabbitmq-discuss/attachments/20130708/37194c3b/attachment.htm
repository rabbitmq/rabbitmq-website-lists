<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hello,&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;determine&nbsp;a&nbsp;queue&amp;#39;s&nbsp;size&nbsp;in&nbsp;bytes?&nbsp; I&amp;#39;m&nbsp;mostly&nbsp;interested&nbsp;in&nbsp;size&nbsp;on&nbsp;disk,&nbsp;but&nbsp;the&nbsp;sum&nbsp;of&nbsp;memory&nbsp;and&nbsp;disk&nbsp;would&nbsp;be&nbsp;sufficient&nbsp;if&nbsp;that&nbsp;happens&nbsp;to&nbsp;be&nbsp;more&nbsp;readily&nbsp;available.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt;My&nbsp;scenario&nbsp;is&nbsp;as&nbsp;follows:&lt;/div&gt;&lt;div&gt;-&nbsp;We&amp;#39;re&nbsp;using&nbsp;RabbitMQ&nbsp;2.8.7&nbsp;in&nbsp;a&nbsp;2-node&nbsp;cluster&nbsp;(and&nbsp;in&nbsp;the&nbsp;process&nbsp;of&nbsp;upgrading&nbsp;to&nbsp;3.1.x&nbsp;in&nbsp;a&nbsp;couple&nbsp;months)&lt;/div&gt;&lt;div&gt;-&nbsp;We&nbsp;have&nbsp;several&nbsp;groups&nbsp;of&nbsp;publishers&nbsp;publishing&nbsp;messages&nbsp;of&nbsp;varying&nbsp;sizes&nbsp;(from&nbsp;10KB&nbsp;up&nbsp;to&nbsp;3MB)&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;Many&nbsp;messages&nbsp;and&nbsp;queues&nbsp;are&nbsp;configured&nbsp;in&nbsp;the&nbsp;worst-case&nbsp;(no&nbsp;message&nbsp;ttls,&nbsp;persistent&nbsp;messages,&nbsp;durable&nbsp;and&nbsp;mirrored&nbsp;queues,&nbsp;no&nbsp;queue&nbsp;length&nbsp;limit),&nbsp;and&nbsp;we&amp;#39;re&nbsp;not&nbsp;in&nbsp;a&nbsp;position&nbsp;to&nbsp;change&nbsp;that&nbsp;in&nbsp;the&nbsp;short-term&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;From&nbsp;time&nbsp;to&nbsp;time,&nbsp;we&nbsp;have&nbsp;absentee&nbsp;consumers&nbsp;that&nbsp;cause&nbsp;our&nbsp;RabbitMQ&nbsp;disk&nbsp;usage&nbsp;to&nbsp;climb&nbsp;towards&nbsp;the&nbsp;disk&nbsp;threshold&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;At&nbsp;the&nbsp;point&nbsp;that&nbsp;disk&nbsp;usage&nbsp;starts&nbsp;to&nbsp;climb,&nbsp;we&nbsp;would&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;mitigate&nbsp;the&nbsp;inevitable&nbsp;disk&nbsp;alarm&nbsp;by&nbsp;identifying&nbsp;the&nbsp;queues&nbsp;containing&nbsp;the&nbsp;most&nbsp;data&nbsp;and&nbsp;unbind&nbsp;or&nbsp;purge&nbsp;them.&nbsp; If&nbsp;the&nbsp;messages&nbsp;were&nbsp;a&nbsp;uniform&nbsp;size,&nbsp;we&nbsp;could&nbsp;look&nbsp;at&nbsp;the&nbsp;queue&nbsp;depths&nbsp;and&nbsp;know&nbsp;which&nbsp;queues&nbsp;are&nbsp;consuming&nbsp;the&nbsp;most&nbsp;disk&nbsp;space,&nbsp;but&nbsp;given&nbsp;the&nbsp;varying&nbsp;message&nbsp;sizes&nbsp;of&nbsp;our&nbsp;scenario,&nbsp;the&nbsp;queue&nbsp;depth&nbsp;doesn&amp;#39;t&nbsp;give&nbsp;us&nbsp;enough&nbsp;information&nbsp;to&nbsp;work&nbsp;with.&nbsp; Programmatically&nbsp;responding&nbsp;would&nbsp;be&nbsp;great,&nbsp;but&nbsp;manually&nbsp;manipulating&nbsp;the&nbsp;queues&nbsp;in&nbsp;the&nbsp;management&nbsp;UI&nbsp;would&nbsp;suffice&nbsp;for&nbsp;our&nbsp;immediate&nbsp;needs.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt;Any&nbsp;recommendations&nbsp;or&nbsp;ideas&nbsp;would&nbsp;be&nbsp;greatly&nbsp;appreciated.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;On&nbsp;a&nbsp;related&nbsp;note,&nbsp;would&nbsp;it&nbsp;be&nbsp;possible&nbsp;for&nbsp;some&nbsp;future&nbsp;version&nbsp;of&nbsp;RabbitMQ&nbsp;to&nbsp;allow&nbsp;queue&nbsp;policies&nbsp;like&nbsp;&amp;quot;x-max-length&amp;quot;&nbsp;and&nbsp;&amp;quot;x-message-ttl&amp;quot;&nbsp;in&nbsp;addition&nbsp;to&nbsp;the&nbsp;queue&nbsp;declaration&nbsp;arguments?&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;div&gt;Thanks&nbsp;a&nbsp;lot,&lt;/div&gt;&lt;div&gt;Joe&lt;/div&gt;&lt;/div&gt;<br>

</tt>
