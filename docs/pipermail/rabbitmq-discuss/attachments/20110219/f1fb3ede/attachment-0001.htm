<tt>
Hi,<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;is&nbsp;the&nbsp;recommended&nbsp;course&nbsp;of&nbsp;action&nbsp;for&nbsp;dealing&nbsp;with&nbsp;unwanted&nbsp;messages&nbsp;in&nbsp;consumers?&nbsp; If&nbsp;a&nbsp;consumer&nbsp;sends&nbsp;basic.cancel&nbsp;there&amp;#39;s&nbsp;a&nbsp;possibility&nbsp;that&nbsp;there&nbsp;will&nbsp;be&nbsp;one&nbsp;or&nbsp;more&nbsp;&amp;quot;undelivered&amp;quot;&nbsp;messages&nbsp;(depending&nbsp;on&nbsp;the&nbsp;prefetch-count&nbsp;parameters),&nbsp;is&nbsp;it&nbsp;best&nbsp;to&nbsp;basic.reject&nbsp;these&nbsp;before&nbsp;or&nbsp;after&nbsp;sending&nbsp;basic.cancel?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;A&nbsp;connected&nbsp;issue&nbsp;here&nbsp;is&nbsp;that&nbsp;sending&nbsp;basic.cancel&nbsp;alters&nbsp;the&nbsp;sequence&nbsp;of&nbsp;messages&nbsp;on&nbsp;the&nbsp;target&nbsp;queue,&nbsp;the&nbsp;undelivered&nbsp;message&nbsp;gets&nbsp;requeued&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;queue.&nbsp; AFAICS&nbsp;this&nbsp;is&nbsp;to&nbsp;be&nbsp;expected&nbsp;given&nbsp;how&nbsp;the&nbsp;basic.consume&nbsp;mechanism&nbsp;works,&nbsp;but&nbsp;is&nbsp;there&nbsp;anything&nbsp;I&nbsp;can&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this&nbsp;re-ordering?&nbsp; I&nbsp;suppose&nbsp;that&nbsp;using&nbsp;basic.get&nbsp;instead&nbsp;would&nbsp;probably&nbsp;do&nbsp;the&nbsp;trick,&nbsp;but&nbsp;is&nbsp;there&nbsp;some&nbsp;combination&nbsp;of&nbsp;basic.reject&nbsp;and/or&nbsp;basic.recover&nbsp;that&nbsp;can&nbsp;also&nbsp;prevent&nbsp;this&nbsp;re-ordering?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;--Robin&lt;/div&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>

</tt>
