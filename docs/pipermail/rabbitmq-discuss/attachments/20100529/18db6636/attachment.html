<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Hi&nbsp;Sylvain&nbsp;-&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;for&nbsp;your&nbsp;response.&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;my&nbsp;case,&nbsp;I&nbsp;am&nbsp;publishing&nbsp;the&nbsp;messages&nbsp;with&nbsp;the&nbsp;mandatory&nbsp;flag&nbsp;set&nbsp;to<br>
true&nbsp;and&nbsp;I&nbsp;am&nbsp;registering&nbsp;a&nbsp;ReturnListener&nbsp;with&nbsp;the&nbsp;channel.&nbsp;However,&nbsp;I<br>
do&nbsp;not&nbsp;see&nbsp;any&nbsp;messages&nbsp;being&nbsp;returned.&nbsp;For&nbsp;what&nbsp;it's&nbsp;worth,&nbsp;I&nbsp;do&nbsp;see<br>
messages&nbsp;returned&nbsp;if&nbsp;I&nbsp;set&nbsp;the&nbsp;immediate&nbsp;flag&nbsp;to&nbsp;true&nbsp;and&nbsp;do&nbsp;not&nbsp;have&nbsp;a<br>
consumer&nbsp;running,&nbsp;but&nbsp;that's&nbsp;a&nbsp;different&nbsp;scenario.&lt;br&gt;<br>
&lt;br&gt;<br>
Jesse&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;5/29/10&nbsp;1:12&nbsp;AM,&nbsp;Sylvain&nbsp;Hellegouarch&nbsp;wrote:<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid:AANLkTinUQLFClPoFHa_xquHIRPEC0vsaqD8lUauLLdRB@mail.gmail.com&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;Hi&nbsp;Jesse,&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;<br>
&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;I<br>
understand&nbsp;that&nbsp;publishing&nbsp;a&nbsp;message&nbsp;is&nbsp;asynchronous,&nbsp;but&nbsp;surely&nbsp;there&lt;br&gt;<br>
must&nbsp;be&nbsp;a&nbsp;way&nbsp;to&nbsp;discover&nbsp;that&nbsp;message&nbsp;was&nbsp;not&nbsp;successfully&nbsp;published.<br>
What&lt;br&gt;<br>
am&nbsp;I&nbsp;missing?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
The&nbsp;protocol&nbsp;(I&nbsp;assume&nbsp;0-8&nbsp;here)&nbsp;suggests&nbsp;that&nbsp;you&nbsp;set&nbsp;the&nbsp;&quot;mandatory&quot;<br>
flag&nbsp;to&nbsp;1&nbsp;for&nbsp;each&nbsp;message.&nbsp;If&nbsp;a&nbsp;message&nbsp;cannot&nbsp;be&nbsp;routed&nbsp;from&nbsp;an<br>
exchange&nbsp;to&nbsp;at&nbsp;least&nbsp;one&nbsp;queue,&nbsp;it'll&nbsp;be&nbsp;returned&nbsp;to&nbsp;the&nbsp;publisher&nbsp;with<br>
a&nbsp;&quot;312&nbsp;unroutable&quot;&nbsp;error&nbsp;code.&nbsp;You&nbsp;must&nbsp;define&nbsp;a&nbsp;handler&nbsp;for&nbsp;those<br>
errors&nbsp;on&nbsp;the&nbsp;publisher&nbsp;side&nbsp;[1]&nbsp;and&nbsp;decide&nbsp;what&nbsp;to&nbsp;do&nbsp;with&nbsp;the<br>
returned&nbsp;message.&nbsp;Personally&nbsp;I&nbsp;just&nbsp;keep&nbsp;trying&nbsp;publishing&nbsp;it&nbsp;with<br>
after&nbsp;a&nbsp;small&nbsp;period&nbsp;of&nbsp;time.&nbsp;This&nbsp;means&nbsp;my&nbsp;publisher&nbsp;becomes<br>
responsible&nbsp;for&nbsp;not&nbsp;losing&nbsp;messages&nbsp;in&nbsp;that&nbsp;specific&nbsp;use&nbsp;case.&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;/div&gt;<br>
--&nbsp;&lt;br&gt;<br>
-&nbsp;Sylvain&lt;br&gt;<br>
&nbsp;&nbsp;&lt;a&nbsp;moz-do-not-send=&quot;true&quot;&nbsp;href=&quot;http://www.defuze.org/&quot;<br>
&nbsp;target=&quot;_blank&quot;&gt;http://www.defuze.org&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
[1]&nbsp;&lt;a&nbsp;moz-do-not-send=&quot;true&quot;<br>
&nbsp;href=&quot;http://www.rabbitmq.com/api-guide.html#returning&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/api-guide.html#returning&lt;/a&gt;&lt;br<br>
&nbsp;clear=&quot;all&quot;&gt;<br>
&nbsp;&nbsp;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
