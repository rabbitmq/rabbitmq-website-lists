<tt>
On&nbsp;27&nbsp;October&nbsp;2011&nbsp;10:41,&nbsp;Mario&nbsp;Leyton&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mleyton@niclabs.cl&quot;&gt;mleyton@niclabs.cl&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
&nbsp;&nbsp;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;&lt;div&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;are&nbsp;using&nbsp;rabbitmq&nbsp;java&nbsp;client&nbsp;and&nbsp;I&nbsp;believe&nbsp;the&nbsp;following&nbsp;is&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;bug:&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;Nope,&nbsp;it&amp;#39;s&nbsp;deliberate.&nbsp;null,&nbsp;here,&nbsp;represents&nbsp;that&nbsp;no&nbsp;headers&nbsp;were&nbsp;sent.&nbsp;This&nbsp;is&nbsp;distinct&nbsp;from&nbsp;an&nbsp;empty&nbsp;map&nbsp;being&nbsp;sent.&nbsp;AMQP&amp;#39;s&nbsp;basic&nbsp;properties&nbsp;structure&nbsp;includes&nbsp;&amp;quot;absent/present&amp;quot;&nbsp;bits&nbsp;for&nbsp;all&nbsp;of&nbsp;the&nbsp;fields;&nbsp;we&nbsp;chose&nbsp;to&nbsp;use&nbsp;&amp;quot;null&amp;quot;&nbsp;to&nbsp;represent&nbsp;&amp;quot;missing&amp;quot;,&nbsp;as&nbsp;in&nbsp;this&nbsp;instance&nbsp;it&nbsp;is&nbsp;unambiguous.&nbsp;In&nbsp;languages&nbsp;like&nbsp;ML&nbsp;and&nbsp;Haskell&nbsp;we&amp;#39;d&nbsp;use&nbsp;&amp;#39;whatever&nbsp;option&nbsp;and&nbsp;Maybe&nbsp;whatever,&nbsp;respectively.&nbsp;In&nbsp;C,&nbsp;we&nbsp;use&nbsp;a&nbsp;bitmap&nbsp;stored&nbsp;separately&nbsp;from&nbsp;the&nbsp;struct&nbsp;members&nbsp;concerned.&lt;br&gt;<br>
&lt;br&gt;So&nbsp;when&nbsp;reading&nbsp;(or&nbsp;writing!)&nbsp;basic&nbsp;properties&nbsp;in&nbsp;Java,&lt;br&gt;&lt;ul&gt;&lt;li&gt;null&nbsp;means&nbsp;&amp;quot;missing&nbsp;value&amp;quot;&nbsp;or&nbsp;&amp;quot;no&nbsp;value&amp;quot;&lt;/li&gt;&lt;li&gt;empty&nbsp;map,&nbsp;empty&nbsp;string&nbsp;etc.&nbsp;is&nbsp;a&nbsp;&lt;i&gt;present&lt;/i&gt;&nbsp;value&nbsp;but&nbsp;is&nbsp;otherwise&nbsp;just&nbsp;itself&lt;/li&gt;<br>
&lt;li&gt;non-empty&nbsp;maps,&nbsp;strings,&nbsp;etc&nbsp;are&nbsp;present&nbsp;values&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;Regards,&lt;br&gt; &nbsp;Tony&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
