<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;On&nbsp;a&nbsp;fresh&nbsp;install&nbsp;of&nbsp;rabbitmq-server&nbsp;1.5.4&nbsp;on&nbsp;ubuntu&nbsp;8.10&nbsp;server&nbsp;the&nbsp;install&nbsp;fails&nbsp;after&nbsp;trying&nbsp;to&nbsp;start&nbsp;rabbitmq-server.<br>
<br>
It&nbsp;looks&nbsp;like&nbsp;when&nbsp;the&nbsp;install&nbsp;finishes&nbsp;installing&nbsp;and&nbsp;then&nbsp;trys&nbsp;to&nbsp;do&nbsp;an&nbsp;/etc/init.d/rabbitmq-server&nbsp;start,&nbsp;the&nbsp;process&nbsp;starts&nbsp;ok,&nbsp;but&nbsp;it&nbsp;doesn't&nbsp;daemonize.&nbsp;Eventually&nbsp;the&nbsp;install&nbsp;times&nbsp;out&nbsp;and&nbsp;says&nbsp;it&nbsp;fails:<br>
<br>
&lt;pre&gt;<br>
...<br>
Starting&nbsp;rabbitmq-server:<br>
[...&nbsp;long&nbsp;wait...&nbsp;]<br>
FAILED&nbsp;-&nbsp;check&nbsp;/var/log/rabbitmq/startup_log,&nbsp;_err<br>
rabbitmq-server.<br>
invoke-rc.d:&nbsp;initscript&nbsp;rabbitmq-server,&nbsp;action&nbsp;&quot;start&quot;&nbsp;failed.<br>
dpkg:&nbsp;error&nbsp;processing&nbsp;rabbitmq-server&nbsp;(--configure):<br>
subprocess&nbsp;post-installation&nbsp;script&nbsp;returned&nbsp;error&nbsp;exit&nbsp;status&nbsp;1<br>
...<br>
&lt;/pre&gt;<br>
<br>
ps&nbsp;shows&nbsp;that&nbsp;it&nbsp;is&nbsp;running:<br>
&lt;pre&gt;<br>
29782&nbsp;?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ssl&nbsp;&nbsp;&nbsp;&nbsp;0:00&nbsp;/usr/lib/erlang/erts-5.5.5/bin/beam&nbsp;-W&nbsp;w&nbsp;-K&nbsp;true&nbsp;-A30&nbsp;--&nbsp;-root&nbsp;/usr/lib/erlang&nbsp;-progname&nbsp;erl&nbsp;--&nbsp;-home&nbsp;/var/lib/rabbitmq&nbsp;-pa&nbsp;/usr/lib/rabbitmq/bin/../ebin&nbsp;-noshell&nbsp;-noinput&nbsp;-s&nbsp;rabbit&nbsp;-sname&nbsp;rabbit&nbsp;-boot&nbsp;start_sasl&nbsp;-kernel&nbsp;inet_default_listen_options&nbsp;[{nodelay,true},{sndbuf,16384},{recbuf,4096}]&nbsp;-kernel&nbsp;inet_default_connect_options&nbsp;[{nodelay,true}]&nbsp;-rabbit&nbsp;tcp_listeners&nbsp;[{&quot;0.0.0.0&quot;,&nbsp;5672}]&nbsp;-sasl&nbsp;errlog_type&nbsp;error&nbsp;-kernel&nbsp;error_logger&nbsp;{file,&quot;/var/log/rabbitmq/rabbit.log&quot;}&nbsp;-sasl&nbsp;sasl_error_logger&nbsp;{file,&quot;/var/log/rabbitmq/rabbit-sasl.log&quot;}&nbsp;-os_mon&nbsp;start_cpu_sup&nbsp;true&nbsp;-os_mon&nbsp;start_disksup&nbsp;false&nbsp;-os_mon&nbsp;start_memsup&nbsp;false&nbsp;-os_mon&nbsp;start_os_sup&nbsp;false&nbsp;-os_mon&nbsp;memsup_system_only&nbsp;true&nbsp;-os_mon&nbsp;system_memory_high_watermark&nbsp;0.95&nbsp;-mnesia&nbsp;dir&nbsp;&quot;/var/lib/rabbitmq/mnesia/rabbit&quot;&nbsp;-noshell&nbsp;-noinput<br>
&lt;/pre&gt;<br>
<br>
<br>
If&nbsp;I&nbsp;look&nbsp;at&nbsp;the&nbsp;startup_log&nbsp;it&nbsp;looks&nbsp;like&nbsp;it&nbsp;started&nbsp;fine:<br>
&lt;pre&gt;<br>
Starting&nbsp;all&nbsp;nodes...<br>
Starting&nbsp;node&nbsp;rabbit@dashboard...<br>
RabbitMQ&nbsp;1.5.4&nbsp;(AMQP&nbsp;8-0)<br>
Copyright&nbsp;(C)&nbsp;2007-2009&nbsp;LShift&nbsp;Ltd.,&nbsp;Cohesive&nbsp;Financial&nbsp;Technologies&nbsp;LLC.,&nbsp;and&nbsp;Rabbit&nbsp;Technologies&nbsp;Ltd.<br>
Licensed&nbsp;under&nbsp;the&nbsp;MPL.&nbsp;&nbsp;See&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/&quot;&gt;http://www.rabbitmq.com/&lt;/a&gt;<br>
&lt;/pre&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;<br>
<br>
Logging&nbsp;to&nbsp;&quot;/var/log/rabbitmq/rabbit.log&quot;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;SASL&nbsp;logging&nbsp;to&nbsp;&quot;/var/log/rabbitmq/rabbit-sasl.log&quot;&amp;nbsp;<br>
&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;starting&nbsp;database&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...done&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;starting&nbsp;core&nbsp;processes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...done&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;starting&nbsp;recovery&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...done&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;starting&nbsp;persister&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...done&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;starting&nbsp;guid&nbsp;generator&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...done&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;starting&nbsp;builtin&nbsp;applications&nbsp;...done&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Monaco&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&quot;&gt;starting&nbsp;TCP&nbsp;listeners&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...done<br>
<br>
broker&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;running<br>
<br>
<br>
startup_err&nbsp;does&nbsp;have&nbsp;this:&lt;pre&gt;Error:&nbsp;cannot_get_pid<br>
&lt;/pre&gt;<br>
<br>
It&nbsp;does&nbsp;the&nbsp;same&nbsp;thing&nbsp;if&nbsp;I&nbsp;manually&nbsp;run&nbsp;/etc/initd./rabbitmq-server&nbsp;start&nbsp;except&nbsp;it&nbsp;just&nbsp;never&nbsp;returns&nbsp;from&nbsp;the&nbsp;command&nbsp;(ie&nbsp;the&nbsp;process&nbsp;doesn't&nbsp;daemonize)<br>
<br>
Is&nbsp;this&nbsp;normal&nbsp;(my&nbsp;pre&nbsp;1.5.3&nbsp;installs&nbsp;on&nbsp;other&nbsp;systems&nbsp;didn't&nbsp;have&nbsp;this&nbsp;problem)&nbsp;Or&nbsp;am&nbsp;I&nbsp;forgetting&nbsp;to&nbsp;do&nbsp;something?<br>
Thanks!<br>
<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;apple-content-edited=&quot;true&quot;&gt;&nbsp;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;__________________&lt;/div&gt;&lt;div&gt;Robert&nbsp;J&nbsp;Berger&nbsp;-&nbsp;CTO&lt;/div&gt;&lt;div&gt;(Our&nbsp;name&nbsp;has&nbsp;been&nbsp;changed&nbsp;from&nbsp;Cinch&nbsp;to&nbsp;Runa)&lt;/div&gt;&lt;div&gt;520&nbsp;San&nbsp;Antonio&nbsp;Rd&nbsp;Suite&nbsp;210,&nbsp;Mountain&nbsp;View,&nbsp;CA&nbsp;94040&lt;/div&gt;&lt;div&gt;+1&nbsp;408-838-8896&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://blog.ibd.com&quot;&gt;http://blog.ibd.com&lt;/a&gt;&nbsp;/&nbsp;&lt;a&nbsp;href=&quot;http://www.runa.com&quot;&gt;http://www.runa.com&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&nbsp;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
