<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;What&nbsp;does&nbsp;/etc/hosts&nbsp;look&nbsp;like?&nbsp;Can&nbsp;&amp;#39;localhost&amp;#39;&nbsp;resolve?&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jun&nbsp;27,&nbsp;2013&nbsp;at&nbsp;12:51&nbsp;PM,&nbsp;Travis&nbsp;Jensen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:travis.jensen@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;travis.jensen@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;br&gt;So&nbsp;I&nbsp;had&nbsp;rabbitmq&nbsp;working&nbsp;fine&nbsp;on&nbsp;my&nbsp;laptop,&nbsp;then&nbsp;had&nbsp;to&nbsp;reboot&nbsp;somewhere&nbsp;else&nbsp;where&nbsp;my&nbsp;hostname&nbsp;wouldn&amp;#39;t&nbsp;resolve&nbsp;and&nbsp;it&nbsp;failed&nbsp;to&nbsp;start.&nbsp;As&nbsp;annoying&nbsp;as&nbsp;that&nbsp;was,&nbsp;I&nbsp;figured&nbsp;I&nbsp;would&nbsp;just&nbsp;wait&nbsp;until&nbsp;I&nbsp;got&nbsp;back&nbsp;to&nbsp;my&nbsp;DNS&nbsp;and&nbsp;then&nbsp;restart&nbsp;it. &nbsp;Wrong.&lt;br&gt;<br>
&lt;br&gt;So,&nbsp;after&nbsp;searching&nbsp;and&nbsp;futzing&nbsp;for&nbsp;an&nbsp;hour,&nbsp;I&nbsp;decided&nbsp;I&nbsp;needed&nbsp;to&nbsp;upgrade&nbsp;anyway,&nbsp;so&nbsp;I&nbsp;uninstalled&nbsp;3.0.4,&nbsp;cleaned&nbsp;up&nbsp;all&nbsp;the&nbsp;old&nbsp;configuration&nbsp;files,&nbsp;db&nbsp;directories&nbsp;and&nbsp;such,&nbsp;and&nbsp;installed&nbsp;3.1.0&nbsp;(note:&nbsp;Using&nbsp;OS&nbsp;X&nbsp;10.7.5,&nbsp;Erlang&nbsp;R15B03&nbsp;and&nbsp;Homebrew).&nbsp;&lt;br&gt;<br>
&lt;br&gt;Now,&nbsp;I&nbsp;continue&nbsp;to&nbsp;see&nbsp;the&nbsp;same&nbsp;behavior:&lt;br&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;$&nbsp;rabbitmqctl&nbsp;add_user&nbsp;test&nbsp;test_pass&lt;br&gt;Creating&nbsp;user&nbsp;&amp;quot;test&amp;quot;&nbsp;...&lt;br&gt;Error:&nbsp;unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;node&nbsp;rabbit@localhost:&nbsp;nodedown&lt;br&gt;<br>
&lt;br&gt;DIAGNOSTICS&lt;br&gt;===========&lt;br&gt;&lt;br&gt;nodes&nbsp;in&nbsp;question:&nbsp;[rabbit@localhost]&lt;br&gt;&lt;br&gt;hosts,&nbsp;their&nbsp;running&nbsp;nodes&nbsp;and&nbsp;ports:&lt;br&gt;-&nbsp;localhost:&nbsp;[]&lt;br&gt;&lt;br&gt;current&nbsp;node&nbsp;details:&lt;br&gt;-&nbsp;node&nbsp;name:&nbsp;nonode@nohost&lt;br&gt;-&nbsp;home&nbsp;dir:&nbsp;/Users/travis&lt;br&gt;<br>
-&nbsp;cookie&nbsp;hash:&nbsp;92vmrXD/iLl+OKWxh4sEhQ==&lt;br&gt;&lt;/span&gt;&lt;br&gt;&lt;font&nbsp;face=&quot;arial,sans-serif&quot;&gt;This&nbsp;is&nbsp;how&nbsp;things&nbsp;looked&nbsp;on&nbsp;startup:&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;br&gt;$&nbsp;rabbitmq-server&lt;br&gt;&lt;br&gt;             &nbsp;RabbitMQ&nbsp;3.1.0.&nbsp;Copyright&nbsp;(C)&nbsp;2007-2013&nbsp;VMware,&nbsp;Inc.&lt;br&gt;<br>
 &nbsp;## &nbsp;##     &nbsp;Licensed&nbsp;under&nbsp;the&nbsp;MPL. &nbsp;See&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/&lt;/a&gt;&lt;br&gt; &nbsp;## &nbsp;##&lt;br&gt; &nbsp;########## &nbsp;Logs:&nbsp;/usr/local/var/log/rabbitmq/rabbit@localhost.log&lt;br&gt; &nbsp;###### &nbsp;##       &nbsp;/usr/local/var/log/rabbitmq/rabbit@localhost-sasl.log&lt;br&gt;<br>
 &nbsp;##########&lt;br&gt;             &nbsp;Starting&nbsp;broker...&nbsp;completed&nbsp;with&nbsp;7&nbsp;plugins.&lt;br&gt;&lt;/span&gt;&lt;br&gt;And&nbsp;the&nbsp;logs&nbsp;seem&nbsp;pretty&nbsp;nominal.&nbsp;Note&nbsp;that&nbsp;the&nbsp;&lt;i&gt;rabbitmqctl&lt;/i&gt;&nbsp;connection&nbsp;never&nbsp;shows&nbsp;up,&nbsp;but&nbsp;I&nbsp;can&nbsp;telnet&nbsp;in&nbsp;to&nbsp;port&nbsp;5672&nbsp;and&nbsp;see&nbsp;a&nbsp;failed&nbsp;connection&nbsp;show&nbsp;up.&nbsp;Unsurprisingly,&nbsp;the&nbsp;issue&nbsp;seems&nbsp;to&nbsp;revolve&nbsp;around&nbsp;the&nbsp;&lt;i&gt;node:&nbsp;nonode@nohost&lt;/i&gt;&nbsp;that&nbsp;I&amp;#39;ve&nbsp;highlighted&nbsp;in&nbsp;the&nbsp;logs&nbsp;below. &nbsp;This&nbsp;behavior&nbsp;persists&nbsp;even&nbsp;if&nbsp;I&nbsp;explicitly&nbsp;set&nbsp;&lt;i&gt;RABBITMQ_NODENAME=rabbit@localhost&lt;/i&gt;&nbsp;when&nbsp;I&nbsp;run&nbsp;rabbitmq-server.&lt;br&gt;<br>
&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:02&nbsp;===&lt;br&gt;Starting&nbsp;RabbitMQ&nbsp;3.1.0&nbsp;on&nbsp;Erlang&nbsp;R15B03&lt;br&gt;Copyright&nbsp;(C)&nbsp;2007-2013&nbsp;VMware,&nbsp;Inc.&lt;br&gt;Licensed&nbsp;under&nbsp;the&nbsp;MPL. &nbsp;See&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:02&nbsp;===&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;color:rgb(255,0,0)&quot;&gt;node          &nbsp;:&nbsp;nonode@nohost&lt;/span&gt;&lt;/b&gt;&lt;br&gt;home&nbsp;dir      &nbsp;:&nbsp;/Users/travis&lt;br&gt;cookie&nbsp;hash   &nbsp;:&nbsp;92vmrXD/iLl+OKWxh4sEhQ==&lt;br&gt;log           &nbsp;:&nbsp;/usr/local/var/log/rabbitmq/rabbit@localhost.log&lt;br&gt;<br>
sasl&nbsp;log      &nbsp;:&nbsp;/usr/local/var/log/rabbitmq/rabbit@localhost-sasl.log&lt;br&gt;database&nbsp;dir  &nbsp;:&nbsp;/usr/local/var/lib/rabbitmq/mnesia/rabbit@localhost&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Limiting&nbsp;to&nbsp;approx&nbsp;156&nbsp;file&nbsp;handles&nbsp;(138&nbsp;sockets)&lt;br&gt;<br>
&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Memory&nbsp;limit&nbsp;set&nbsp;to&nbsp;1439MB&nbsp;of&nbsp;3597MB&nbsp;total.&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Disk&nbsp;free&nbsp;limit&nbsp;set&nbsp;to&nbsp;1000MB&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;<br>
msg_store_transient:&nbsp;using&nbsp;rabbit_msg_store_ets_index&nbsp;to&nbsp;provide&nbsp;index&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;msg_store_persistent:&nbsp;using&nbsp;rabbit_msg_store_ets_index&nbsp;to&nbsp;provide&nbsp;index&lt;br&gt;&lt;br&gt;=WARNING&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;<br>
msg_store_persistent:&nbsp;rebuilding&nbsp;indices&nbsp;from&nbsp;scratch&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Adding&nbsp;vhost&nbsp;&amp;#39;/&amp;#39;&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Creating&nbsp;user&nbsp;&amp;#39;guest&amp;#39;&lt;br&gt;&lt;br&gt;<br>
=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Setting&nbsp;user&nbsp;tags&nbsp;for&nbsp;user&nbsp;&amp;#39;guest&amp;#39;&nbsp;to&nbsp;[administrator]&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Setting&nbsp;permissions&nbsp;for&nbsp;&amp;#39;guest&amp;#39;&nbsp;in&nbsp;&amp;#39;/&amp;#39;&nbsp;to&nbsp;&amp;#39;.*&amp;#39;,&nbsp;&amp;#39;.*&amp;#39;,&nbsp;&amp;#39;.*&amp;#39;&lt;br&gt;<br>
&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;started&nbsp;TCP&nbsp;Listener&nbsp;on&nbsp;&lt;a&nbsp;href=&quot;http://127.0.0.1:5672&quot;&nbsp;target=&quot;_blank&quot;&gt;127.0.0.1:5672&lt;/a&gt;&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Management&nbsp;plugin&nbsp;started.&nbsp;Port:&nbsp;15672&lt;br&gt;<br>
&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Statistics&nbsp;database&nbsp;started.&lt;br&gt;&lt;br&gt;=INFO&nbsp;REPORT====&nbsp;27-Jun-2013::10:32:03&nbsp;===&lt;br&gt;Server&nbsp;startup&nbsp;complete;&nbsp;7&nbsp;plugins&nbsp;started.&lt;br&gt; *&nbsp;amqp_client&lt;br&gt; *&nbsp;mochiweb&lt;br&gt; *&nbsp;rabbitmq_management&lt;br&gt;<br>
 *&nbsp;rabbitmq_management_agent&lt;br&gt; *&nbsp;rabbitmq_management_visualiser&lt;br&gt; *&nbsp;rabbitmq_web_dispatch&lt;br&gt; *&nbsp;webmachine&lt;br&gt;&lt;/span&gt;&lt;br&gt;My&nbsp;rabbitmq-env.conf&nbsp;file&nbsp;is&nbsp;pretty&nbsp;simple&nbsp;(the&nbsp;Homebrew&nbsp;default,&nbsp;in&nbsp;fact):&lt;br&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;CONFIG_FILE=/usr/local/etc/rabbitmq/rabbitmq&lt;br&gt;<br>
NODE_IP_ADDRESS=127.0.0.1&lt;br&gt;NODENAME=rabbit@localhost&lt;br&gt;&lt;/span&gt;&lt;br&gt;And,&nbsp;after&nbsp;going&nbsp;through&nbsp;my&nbsp;previous&nbsp;rabbitmq.config&nbsp;file&nbsp;to&nbsp;remove&nbsp;everything&nbsp;that&nbsp;either&nbsp;was&nbsp;a&nbsp;default&nbsp;or&nbsp;no&nbsp;longer&nbsp;existed&nbsp;as&nbsp;a&nbsp;configuration&nbsp;option,&nbsp;my&nbsp;configuration&nbsp;file&nbsp;looks&nbsp;like:&lt;br&gt;<br>
&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;[].&lt;br&gt;&lt;/span&gt;&lt;br&gt;Just&nbsp;to&nbsp;make&nbsp;sure&nbsp;I&nbsp;don&amp;#39;t&nbsp;have&nbsp;any&nbsp;weird&nbsp;environment&nbsp;variables&nbsp;I&nbsp;didn&amp;#39;t&nbsp;remember&nbsp;persisting,&nbsp;I&nbsp;ran&nbsp;a&nbsp;&lt;i&gt;set&nbsp;|&nbsp;grep&nbsp;-i&nbsp;rabbit&lt;/i&gt;&nbsp;and&nbsp;got&nbsp;an&nbsp;empty&nbsp;set. &nbsp;I&nbsp;also&nbsp;removed&nbsp;&lt;i&gt;~/.erlang.cookie&lt;/i&gt;,&nbsp;to&nbsp;make&nbsp;sure&nbsp;it&nbsp;wasn&amp;#39;t&nbsp;messing&nbsp;things&nbsp;up.&lt;br&gt;<br>
&lt;br&gt;So&nbsp;I&amp;#39;ve&nbsp;reached&nbsp;the&nbsp;end&nbsp;of&nbsp;what&nbsp;Google&nbsp;and&nbsp;the&nbsp;docs&nbsp;have&nbsp;been&nbsp;able&nbsp;to&nbsp;tell&nbsp;me.&nbsp;Help&nbsp;is&nbsp;most&nbsp;graciously&nbsp;appreciated.&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;&lt;br&gt;tj&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
