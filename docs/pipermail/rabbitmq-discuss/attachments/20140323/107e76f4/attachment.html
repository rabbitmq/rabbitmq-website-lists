<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi, &lt;div&gt;I&nbsp;want&nbsp;to&nbsp;design&nbsp;a&nbsp;rabbit&nbsp;client&nbsp;framework&nbsp;to&nbsp;my&nbsp;project&nbsp;using&nbsp;Rabbitmq&nbsp;Java&nbsp;client.&lt;/div&gt;&lt;div&gt;My&nbsp;goals&nbsp;it&nbsp;to&nbsp;set&nbsp;default&nbsp;behaviour&nbsp;for&nbsp;other&nbsp;team&nbsp;members&nbsp;using&nbsp;Rabbit.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Rabbit&nbsp;In&nbsp;Action&nbsp;eBook&nbsp;(chapter&nbsp;6&nbsp;&quot;Writing&nbsp;code&nbsp;that&nbsp;survive&nbsp;failures&quot;)&nbsp;recommends&nbsp;the&nbsp;following &lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;1.&nbsp;wrap&nbsp;all&nbsp;code&nbsp;in&nbsp;try&nbsp;catch&lt;/div&gt;&lt;div&gt;2.&nbsp;wrap&nbsp;all&nbsp;in&nbsp;while&nbsp;true&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;something&nbsp;like&nbsp;this&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &nbsp; while&nbsp;tru:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; try:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; conn_broker&nbsp;=&nbsp;pika.BlockingConnection(conn_params)&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; channel&nbsp;=&nbsp;conn_broker.channel()&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; channel.exchange_declare(&nbsp;exchang&lt;/div&gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp;.....&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; except&nbsp;Exception,&nbsp;e:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; traceback.print_exc()&lt;/div&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now,&nbsp;in&nbsp;parallel&nbsp;I&nbsp;understand&nbsp;another&nbsp;goal&nbsp;should&nbsp;be&nbsp;to&nbsp;hold&nbsp;one&nbsp;connection&nbsp;to&nbsp;the&nbsp;server&nbsp;and&nbsp;multiple&nbsp;channels&nbsp;per&nbsp;thread&nbsp;and&nbsp;client. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Questions&nbsp;:&lt;/div&gt;&lt;div&gt;When&nbsp;exception&nbsp;occurs,&nbsp;will&nbsp;I&nbsp;need&nbsp;to&nbsp;check&nbsp;if&nbsp;connection&nbsp;is&nbsp;still&nbsp;open&nbsp;and&nbsp;close&nbsp;it?&lt;/div&gt;<br>
<br>
&lt;div&gt;What&nbsp;if&nbsp;other&nbsp;consumer&nbsp;who&nbsp;uses&nbsp;it&nbsp;is&nbsp;alive&nbsp;and&nbsp;receiving?&nbsp;wouldn&#39;t&nbsp;it&nbsp;kill&nbsp;it&nbsp;too? &lt;/div&gt;&lt;div&gt;Is&nbsp;it&nbsp;recomendded&nbsp;to&nbsp;open&nbsp;multiple&nbsp;connections?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;somewhere&nbsp;another&nbsp;design&nbsp;for&nbsp;this&nbsp;situation?&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;Thanks.&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
