<tt>
I&nbsp;have&nbsp;a&nbsp;Python&nbsp;client&nbsp;that&nbsp;consumes&nbsp;from&nbsp;a&nbsp;set&nbsp;of&nbsp;queues&nbsp;with&nbsp;no_ack&nbsp;set&nbsp;to&nbsp;False.&nbsp;&amp;nbsp;I&nbsp;assumed&nbsp;that&nbsp;doing&nbsp;this&nbsp;would&nbsp;mean&nbsp;that&nbsp;single&nbsp;consumer&nbsp;would&nbsp;receive&nbsp;only&nbsp;1&nbsp;message&nbsp;until&nbsp;the&nbsp;consumer&nbsp;returned&nbsp;an&amp;nbsp;acknowledgment.&nbsp;&amp;nbsp;By&nbsp;receive&nbsp;a&nbsp;message&nbsp;I&nbsp;mean&nbsp;my&nbsp;callback&nbsp;would&nbsp;be&nbsp;called.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;recently&nbsp;was&nbsp;testing&nbsp;support&nbsp;for&nbsp;messages&nbsp;that&nbsp;tell&nbsp;the&nbsp;consumer&nbsp;to&nbsp;declare&nbsp;additional&nbsp;queues.&nbsp;&amp;nbsp;I&nbsp;planned&nbsp;on&nbsp;doing&nbsp;this&nbsp;by&nbsp;acknowledging&nbsp;the&nbsp;original&nbsp;message&nbsp;after&nbsp;I&nbsp;ran&nbsp;my&nbsp;queue_declare&nbsp;and&nbsp;queue_bind&nbsp;calls.&nbsp;&amp;nbsp;While&nbsp;testing,&nbsp;I&nbsp;noticed&nbsp;that&nbsp;the&nbsp;on_message_receive&nbsp;callback&nbsp;function&nbsp;was&nbsp;receiving&nbsp;other&nbsp;messages&nbsp;&lt;i&gt;&lt;b&gt;before&lt;/b&gt;&lt;/i&gt;&amp;nbsp;my&nbsp;consumer&nbsp;finished&nbsp;the&nbsp;declares/binds,&nbsp;and&nbsp;&lt;i&gt;&lt;b&gt;before&lt;/b&gt;&lt;/i&gt;&amp;nbsp;I&amp;nbsp;acknowledged&nbsp;the&nbsp;original&nbsp;message.&nbsp;&amp;nbsp;Is&nbsp;this&nbsp;how&nbsp;Rabbit&nbsp;is&nbsp;supposed&nbsp;to&nbsp;work?&nbsp;&amp;nbsp;Or&nbsp;is&nbsp;this&nbsp;a&nbsp;Pika&nbsp;bug?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;set&nbsp;prefetch_count&nbsp;to&nbsp;1,&nbsp;everything&nbsp;works&nbsp;how&nbsp;I&nbsp;expect.&nbsp;&amp;nbsp;I&nbsp;assumed&nbsp;with&nbsp;the&nbsp;default&nbsp;prefetch_count,&nbsp;or&nbsp;even&nbsp;a&nbsp;prefetch&nbsp;count&nbsp;&amp;gt;&nbsp;1,&nbsp;that&nbsp;the&nbsp;client&nbsp;would&nbsp;receive&nbsp;messages,&nbsp;but&nbsp;should&nbsp;hold&nbsp;onto&nbsp;them&nbsp;until&nbsp;the&nbsp;acknowledgement&nbsp;for&nbsp;the&nbsp;original&nbsp;message&nbsp;goes&nbsp;out.&nbsp;&amp;nbsp;Is&nbsp;this&nbsp;correct?&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Charles&lt;/div&gt;
</tt>
