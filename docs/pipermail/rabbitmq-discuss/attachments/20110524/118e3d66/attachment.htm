<tt>
&lt;DIV&gt;&lt;/:includetail&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;gt;yaohui&nbsp;wrote:&lt;BR&gt;&amp;gt;&nbsp;RabbitMQ&nbsp;2.4.0&nbsp;/&nbsp;erlang&amp;nbsp;&nbsp;R14B&lt;BR&gt;&amp;gt;&nbsp;Java&nbsp;client&nbsp;rabbitmq-java-client-bin-2.4.0&lt;BR&gt;&lt;BR&gt;&amp;gt;Are&nbsp;these&nbsp;all&nbsp;running&nbsp;on&nbsp;the&nbsp;same&nbsp;machine?&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;yes&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;gt;&amp;nbsp;How&nbsp;much&nbsp;physical&nbsp;and&nbsp;virtual&nbsp;memory&nbsp;have&nbsp;you&nbsp;got&nbsp;configured&nbsp;on&nbsp;that&nbsp;machine?&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;2g&nbsp;physical&nbsp;memory&nbsp;,7g&nbsp;virtual&nbsp;memory&nbsp;&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;gt;&amp;nbsp;What&nbsp;memory&nbsp;limit&nbsp;does&nbsp;rabbit&nbsp;think&nbsp;it&nbsp;has?&nbsp;(check&nbsp;the&nbsp;rabbit.log&nbsp;near&nbsp;the&nbsp;beginning).&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;40%&nbsp;physical&nbsp;memory&nbsp;by&nbsp;defaut&nbsp;(992.4m),&lt;BR&gt;&lt;BR&gt;&amp;gt;It&nbsp;looks&nbsp;like&nbsp;the&nbsp;broker&nbsp;owns&nbsp;about&nbsp;1G&nbsp;of&nbsp;memory&nbsp;and&nbsp;is&nbsp;trying&nbsp;to&nbsp;&lt;BR&gt;allocate&nbsp;another&nbsp;gig.&nbsp;Could&nbsp;it&nbsp;be&nbsp;that&nbsp;some&nbsp;other&nbsp;applications&nbsp;&lt;BR&gt;(including&nbsp;the&nbsp;test&nbsp;client)&nbsp;are&nbsp;consuming&nbsp;the&nbsp;bulk&nbsp;of&nbsp;virtual&nbsp;memory?&nbsp;If&nbsp;&lt;BR&gt;so&nbsp;you&nbsp;need&nbsp;to&nbsp;configure&nbsp;rabbit&nbsp;with&nbsp;a&nbsp;lower&nbsp;memory&nbsp;threshold&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;i&nbsp;think&nbsp;that's&nbsp;the&nbsp;point&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;/:includetail&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;gt;(see&nbsp;&lt;A&nbsp;href=&quot;http://www.rabbitmq.com/extensions.html#memsup&quot;&gt;http://www.rabbitmq.com/extensions.html#memsup&lt;/A&gt;),&nbsp;setting&nbsp;it&nbsp;to&nbsp;about&nbsp;&lt;BR&gt;half&nbsp;of&nbsp;what&nbsp;is&nbsp;available&nbsp;for&nbsp;the&nbsp;broker&nbsp;to&nbsp;use&nbsp;after&nbsp;all&nbsp;the&nbsp;other&nbsp;&lt;BR&gt;applications&nbsp;running&nbsp;on&nbsp;the&nbsp;machine&nbsp;have&nbsp;been&nbsp;taken&nbsp;into&nbsp;account.&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;I&nbsp;see&lt;BR&gt;&lt;BR&gt;&amp;gt;Regards,&lt;BR&gt;&lt;BR&gt;&amp;gt;Matthias&lt;BR&gt;&amp;gt;PS:&nbsp;please&nbsp;keep&nbsp;the&nbsp;list&nbsp;cc'ed.&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;Excuse&nbsp;me,&nbsp;i&nbsp;forgot&nbsp;that.&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;/:includetail&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Another&nbsp;question&nbsp;:&nbsp;if&nbsp;a&nbsp;producer&nbsp;sends&nbsp;plenty&nbsp;of&nbsp;messages&nbsp;constantly&nbsp;over&nbsp;the&nbsp;memory&nbsp;throttling,&nbsp;rabbitmq&nbsp;broker&nbsp;will&nbsp;block&nbsp;producer&nbsp;sending&nbsp;message,&nbsp;where&nbsp;these&nbsp;messages&nbsp;is?&nbsp;stay&amp;nbsp;in&nbsp;the&nbsp;memory&amp;nbsp;of&nbsp;producer?&nbsp;in&nbsp;this&nbsp;case,&nbsp;i&nbsp;think&nbsp;the&nbsp;producer&nbsp;would&nbsp;crash&nbsp;out&nbsp;of&nbsp;memory.&lt;/:includetail&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;Regards,&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;BR&gt;Yao&lt;BR&gt;&lt;/DIV&gt;&lt;/:includetail&gt;
</tt>
