<tt>
Matthew,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Well,&nbsp;I&nbsp;think&nbsp;that&nbsp;I&nbsp;have&nbsp;a&nbsp;problem&nbsp;I&nbsp;understand&nbsp;very&nbsp;well&nbsp;the&nbsp;problems&nbsp;with&nbsp;environment,&nbsp;I&nbsp;try&nbsp;to&nbsp;use&nbsp;global&nbsp;environment&nbsp;but&nbsp;sudo&nbsp;ignore&nbsp;it...&nbsp;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;understand&nbsp;why.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;About&nbsp;rabbit&nbsp;configuration, I&nbsp;didn&amp;#39;t&nbsp;fond&nbsp;/etc/rabbitmq.conf&nbsp;it&amp;#39;s&nbsp;installed&nbsp;by&nbsp;default&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Jan&nbsp;26,&nbsp;2010&nbsp;at&nbsp;11:05&nbsp;AM,&nbsp;Matthew&nbsp;Sackman&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthew@lshift.net&quot;&gt;matthew@lshift.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;Gustavo,&lt;br&gt;<br>
&lt;br&gt;<br>
Actually,&nbsp;further&nbsp;testing&nbsp;reveals&nbsp;it&amp;#39;s&nbsp;a&nbsp;bit&nbsp;more&nbsp;subtle.&lt;br&gt;<br>
&lt;br&gt;<br>
sudo,&nbsp;by&nbsp;default,&nbsp;resets&nbsp;the&nbsp;environment&nbsp;when&nbsp;changing&nbsp;user,&nbsp;unless&nbsp;you&lt;br&gt;<br>
give&nbsp;it&nbsp;the&nbsp;-E&nbsp;option.&lt;br&gt;<br>
&lt;br&gt;<br>
su,&nbsp;by&nbsp;default,&nbsp;although&nbsp;it&nbsp;has&nbsp;a&nbsp;--preserve-environment&nbsp;option,&nbsp;will&lt;br&gt;<br>
copy&nbsp;over&nbsp;all&nbsp;the&nbsp;RABBITMQ_*&nbsp;environment&nbsp;settings&nbsp;when&nbsp;changing&nbsp;user.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;wouldn&amp;#39;t&nbsp;be&nbsp;surprised&nbsp;if&nbsp;OS&nbsp;X&nbsp;decides&nbsp;to&nbsp;do&nbsp;everything&nbsp;differently&lt;br&gt;<br>
again...&lt;br&gt;<br>
&lt;br&gt;<br>
Thus&nbsp;if&nbsp;you&nbsp;repeat&nbsp;my&nbsp;previous&nbsp;foo.sh&nbsp;test,&nbsp;but&nbsp;use&nbsp;su&nbsp;instead&nbsp;of&nbsp;sudo,&lt;br&gt;<br>
you&nbsp;will&nbsp;get&nbsp;&amp;quot;wibble&amp;quot;&nbsp;out.&lt;br&gt;<br>
&lt;br&gt;<br>
Our&nbsp;scripts&nbsp;use&nbsp;&amp;quot;su&amp;quot;,&nbsp;not&nbsp;&amp;quot;sudo&amp;quot;&nbsp;and&nbsp;so&nbsp;*should*&nbsp;preserve&nbsp;the&lt;br&gt;<br>
environment.&lt;br&gt;<br>
&lt;br&gt;<br>
However,&nbsp;that&nbsp;aside,&nbsp;I&amp;#39;d&nbsp;still&nbsp;suggest&nbsp;that&nbsp;putting&lt;br&gt;<br>
NODENAME=rabbit@Nefertiti&nbsp;in&nbsp;your&nbsp;/etc/rabbitmq/rabbitmq.conf&nbsp;-&nbsp;it&nbsp;is&nbsp;on&lt;br&gt;<br>
the&nbsp;whole&nbsp;safer&nbsp;than&nbsp;using&nbsp;env&nbsp;vars.&nbsp;I&nbsp;do&nbsp;hope&nbsp;your&nbsp;machine&nbsp;can&nbsp;resolve&lt;br&gt;<br>
Nefertiti&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
Matthew&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
