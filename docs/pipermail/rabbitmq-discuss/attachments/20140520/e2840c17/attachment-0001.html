<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I'm&nbsp;attempting&nbsp;to&nbsp;configure&nbsp;RabbitMQ&nbsp;with&nbsp;SSL&nbsp;using&nbsp;client&nbsp;certificates&nbsp;for&nbsp;authentication&nbsp;on&nbsp;a&nbsp;windows&nbsp;server&nbsp;2012&nbsp;x64&nbsp;box.&nbsp;&nbsp;The&nbsp;Erlang&nbsp;version&nbsp;installed&nbsp;is&nbsp;OTP&nbsp;17.0&nbsp;for&nbsp;Windows&nbsp;x64,&nbsp;&lt;div&gt;Configuration&nbsp;is&nbsp;as&nbsp;such:&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;{rabbit,&nbsp;&nbsp;[&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;{ssl_listeners,&nbsp;[5671]},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;{auth_mechanisms,&nbsp;['EXTERNAL']},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;{auth_backends,&nbsp;[rabbit_auth_backend_ldap,&nbsp;rabbit_auth_backend_internal]},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;{ssl_options,&nbsp;[{cacertfile,&quot;D:\\RabbitMQ\\certs\\cacert.pem&quot;},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{certfile,&quot;D:\\RabbitMQ\certs\\rabbit.pem&quot;},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{keyfile,&quot;D:\\RabbitMQ\\certs\\rabbit.key&quot;},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{verify,verify_peer},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp;&nbsp;{ssl_cert_login_from,&nbsp;common_name},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{fail_if_no_peer_cert,true}]}&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;&nbsp;&nbsp;]},&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Whenever&nbsp;I&nbsp;connect,&nbsp;the&nbsp;client&nbsp;throws&nbsp;an&nbsp;error&nbsp;and&nbsp;the&nbsp;log&nbsp;file&nbsp;gets&nbsp;an&nbsp;entry&nbsp;like:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;courier&nbsp;new,&nbsp;monospace&quot;&gt;error&nbsp;on&nbsp;AMQP&nbsp;connection&nbsp;&lt;0.310.0&gt;:&nbsp;{ssl_upgrade_error,{options,{certfile,[68,58,92...&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;I've&nbsp;gone&nbsp;through&nbsp;the&nbsp;SSL&nbsp;Trouble&nbsp;shooting&nbsp;guide&nbsp;and&nbsp;confirmed&nbsp;that:&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;The&nbsp;certs&nbsp;are&nbsp;in&nbsp;the&nbsp;PEM&nbsp;format&lt;br&gt;&lt;/li&gt;&lt;li&gt;The&nbsp;Broker&nbsp;is&nbsp;listening&nbsp;on&nbsp;the&nbsp;correct&nbsp;ports&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;last&nbsp;bit&nbsp;of&nbsp;the&nbsp;trouble&nbsp;shooting&nbsp;guide&nbsp;indicates&nbsp;that&nbsp;&quot;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(85,&nbsp;85,&nbsp;85);&nbsp;font-family:&nbsp;Verdana,&nbsp;sans-serif;&nbsp;line-height:&nbsp;18px;&quot;&gt;This&nbsp;is&nbsp;a&nbsp;generic&nbsp;error&nbsp;that&nbsp;could&nbsp;have&nbsp;many&nbsp;causes.&nbsp;Make&nbsp;sure&nbsp;you&nbsp;are&nbsp;using&nbsp;the&nbsp;recommended&nbsp;version&nbsp;of&nbsp;Erlang.&quot;&nbsp;Is&nbsp;there&nbsp;a&nbsp;version&nbsp;of&nbsp;Erlang&nbsp;I&nbsp;should&nbsp;be&nbsp;using&nbsp;other&nbsp;than&nbsp;OTP&nbsp;17.0?&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
