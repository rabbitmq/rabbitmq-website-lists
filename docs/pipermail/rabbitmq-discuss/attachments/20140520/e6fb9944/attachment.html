<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
&lt;div&gt;I&nbsp;like&nbsp;the&nbsp;idea&nbsp;of&nbsp;being&nbsp;able&nbsp;to&nbsp;keep&nbsp;a&nbsp;large&nbsp;&quot;buffer&quot;&nbsp;so&nbsp;to&nbsp;speak&nbsp;of&nbsp;recently&nbsp;sent&nbsp;messages&nbsp;available&nbsp;for&nbsp;analysis.&nbsp;So,&nbsp;a&nbsp;failed&nbsp;batch&nbsp;job&nbsp;could&nbsp;very&nbsp;easily&nbsp;inspect&nbsp;the&nbsp;actual&nbsp;messages&nbsp;that&nbsp;were&nbsp;persisted/sent&nbsp;in&nbsp;an&nbsp;effort&nbsp;to&nbsp;debug.&nbsp;That&nbsp;is&nbsp;pretty&nbsp;sweet.&nbsp;Cassandra&nbsp;is&nbsp;very&nbsp;nice&nbsp;for&nbsp;this&nbsp;as&nbsp;well,&nbsp;since&nbsp;persistence&nbsp;to&nbsp;C*&nbsp;is&nbsp;can&nbsp;be&nbsp;delegated&nbsp;to&nbsp;a&nbsp;consumer&nbsp;in&nbsp;the&nbsp;buffer&nbsp;layer&nbsp;or&nbsp;core.&nbsp;Do&nbsp;you&nbsp;simply&nbsp;shovel&nbsp;everything&nbsp;to&nbsp;a&nbsp;particular&nbsp;path&nbsp;queue&nbsp;for&nbsp;something&nbsp;to&nbsp;persist&nbsp;to&nbsp;Cassandra?&nbsp;Or&nbsp;is&nbsp;that&nbsp;done&nbsp;inline&nbsp;somewhere&nbsp;before&nbsp;publishing&nbsp;to&nbsp;RabbitMQ?&nbsp;I&nbsp;assume&nbsp;that&nbsp;that&nbsp;kind&nbsp;of&nbsp;thing&nbsp;is&nbsp;done&nbsp;out-of-band&nbsp;of&nbsp;the&nbsp;client.&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&#39;cache_push&#39;&nbsp;and&nbsp;&#39;cache_pull&#39;&nbsp;are&nbsp;currently&nbsp;done&nbsp;in&nbsp;the&nbsp;central&nbsp;(switching)&nbsp;core&nbsp;in&nbsp;parallel&nbsp;with&nbsp;other&nbsp;operations.&nbsp;They&nbsp;will&nbsp;be&nbsp;run&nbsp;on&nbsp;our&nbsp;autoscaling&nbsp;edge&nbsp;nodes&nbsp;also&nbsp;as&nbsp;soon&nbsp;as&nbsp;demand&nbsp;warrants.&nbsp;The&nbsp;clients&nbsp;never&nbsp;work&nbsp;directly&nbsp;with&nbsp;the&nbsp;cache&nbsp;and,&nbsp;in&nbsp;fact,&nbsp;we&nbsp;have&nbsp;used&nbsp;DynamoDB,&nbsp;Riak,&nbsp;etc.&nbsp;in&nbsp;the&nbsp;past&nbsp;as&nbsp;implementations.&nbsp;We&nbsp;are&nbsp;happiest&nbsp;w&nbsp;Cassandra&nbsp;because&nbsp;it&nbsp;is&nbsp;very&nbsp;fast,&nbsp;free&nbsp;to&nbsp;use,&nbsp;easy&nbsp;to&nbsp;manage,&nbsp;and&nbsp;scales.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;also&nbsp;&#39;journal&#39;&nbsp;all&nbsp;messages&nbsp;with&nbsp;ttl&nbsp;of&nbsp;30&nbsp;days.&nbsp;It&nbsp;has&nbsp;worked&nbsp;well&nbsp;for&nbsp;us&nbsp;and&nbsp;we&nbsp;can&nbsp;easily&nbsp;scale&nbsp;up&nbsp;and&nbsp;down.&nbsp;The&nbsp;fast&nbsp;generalized&nbsp;cache&nbsp;makes&nbsp;it&nbsp;possible&nbsp;to&nbsp;support&nbsp;quite&nbsp;interesting&nbsp;apps.&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Hmm.&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;I&nbsp;follow.&nbsp;What&nbsp;do&nbsp;you&nbsp;mean&nbsp;by&nbsp;journal?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Each&nbsp;message&nbsp;is&nbsp;stored&nbsp;by&nbsp;timestamp&nbsp;like&nbsp;a&nbsp;log.&nbsp;It&#39;s&nbsp;slightly&nbsp;more&nbsp;complicated&nbsp;than&nbsp;that&nbsp;in&nbsp;practice,&nbsp;to&nbsp;avoid&nbsp;hotspots,&nbsp;but&nbsp;the&nbsp;idea&nbsp;is&nbsp;to&nbsp;have&nbsp;a&nbsp;complete&nbsp;sequential&nbsp;record&nbsp;of&nbsp;all&nbsp;activity&nbsp;for&nbsp;analysis&nbsp;and&nbsp;replay.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;also&nbsp;curious&nbsp;about&nbsp;some&nbsp;of&nbsp;the&nbsp;things&nbsp;you&nbsp;do&nbsp;with&nbsp;Fabrik...&nbsp;For&nbsp;example,&nbsp;is&nbsp;persistence&nbsp;handled&nbsp;by&nbsp;the&nbsp;client&nbsp;(indirectly&nbsp;via&nbsp;the&nbsp;Fabrik&nbsp;library)&nbsp;or&nbsp;some&nbsp;other&nbsp;component&nbsp;service&nbsp;that&nbsp;listens&nbsp;to&nbsp;RabbitMQ?&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;fabrik&nbsp;handles&nbsp;persistence&nbsp;on&nbsp;behalf&nbsp;of&nbsp;the&nbsp;client.&nbsp;We&nbsp;have&nbsp;parallelized&nbsp;event-driven&nbsp;python&nbsp;services&nbsp;that&nbsp;do&nbsp;this&nbsp;using&nbsp;the&nbsp;pika&nbsp;and&nbsp;cassandra-driver&nbsp;modules.&nbsp;Examples&nbsp;and&nbsp;benchmarks,&nbsp;including&nbsp;a&nbsp;version&nbsp;of&nbsp;our&nbsp;&#39;rabbit_helpers&#39;&nbsp;framework,&nbsp;will&nbsp;be&nbsp;open-sourced&nbsp;for&nbsp;my&nbsp;Cassandra&nbsp;Day&nbsp;presentation&nbsp;on&nbsp;21&nbsp;June&nbsp;in&nbsp;NYC&nbsp;at&nbsp;our&nbsp;office.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To&nbsp;be&nbsp;clear,&nbsp;each&nbsp;of&nbsp;our&nbsp;python&nbsp;services&nbsp;is&nbsp;quite&nbsp;small&nbsp;and&nbsp;focused:&nbsp;they&nbsp;subscribe&nbsp;to&nbsp;one&nbsp;or&nbsp;a&nbsp;few&nbsp;queues&nbsp;and&nbsp;publish&nbsp;to&nbsp;an&nbsp;exchange&nbsp;or&nbsp;2.&nbsp;So&nbsp;&#39;cache_pull&#39;&nbsp;and&nbsp;&#39;cache_push&#39;,&nbsp;and&nbsp;our&nbsp;other&nbsp;services,&nbsp;are&nbsp;not&nbsp;libraries&nbsp;others&nbsp;use,&nbsp;they&nbsp;are&nbsp;services&nbsp;that&nbsp;respond&nbsp;only&nbsp;via&nbsp;AMQP.&nbsp;Hence&nbsp;they&nbsp;are&nbsp;&#39;black&nbsp;boxes&#39;,&nbsp;with&nbsp;internals&nbsp;hidden,&nbsp;and&nbsp;are&nbsp;easy&nbsp;to&nbsp;test.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
