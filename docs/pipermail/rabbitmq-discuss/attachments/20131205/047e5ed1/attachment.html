<tt>
&lt;HTML&gt;&lt;HEAD&gt;&lt;TITLE&gt;Mail&lt;/TITLE&gt;<br>
&lt;META&nbsp;name=GENERATOR&nbsp;<br>
content=&quot;KsDHTMLEDLib.ocx,&nbsp;FreeWare&nbsp;HTML&nbsp;Editor&nbsp;1.164.2,&nbsp;?Kurt&nbsp;Senfer&quot;&gt;<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=GB2312&quot;&nbsp;http-equiv=Content-Type&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;style=&quot;FONT-SIZE:&nbsp;9pt;&nbsp;FONT-FAMILY:&nbsp;ו&quot;&nbsp;leftMargin=5&nbsp;topMargin=5&nbsp;#ffffff&gt;<br>
&lt;DIV&gt;Hi&nbsp;Tom&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;I&nbsp;run&nbsp;the&nbsp;test&nbsp;in&nbsp;my&nbsp;computer,&nbsp;and&nbsp;I&nbsp;got&nbsp;all&nbsp;the&nbsp;messages&nbsp;form&nbsp;0&nbsp;to&nbsp;<br>
9.&lt;/DIV&gt;<br>
&lt;DIV&gt;but&nbsp;i&nbsp;comment&nbsp;the&nbsp;statement&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;if&nbsp;(!StringUtils.isEmpty(message))&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Is&nbsp;the&nbsp;static&nbsp;method&nbsp;&quot;isEmpty&quot;&nbsp;&nbsp;wrong?&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;-----&nbsp;Original&nbsp;Message&nbsp;-----&nbsp;&lt;/DIV&gt;<br>
&lt;BLOCKQUOTE&nbsp;<br>
style=&quot;PADDING-LEFT:&nbsp;5px;&nbsp;MARGIN-LEFT:&nbsp;5px;&nbsp;BORDER-LEFT:&nbsp;#000000&nbsp;2px&nbsp;solid;&nbsp;PADDING-RIGHT:&nbsp;0px;&nbsp;MARGIN-RIGHT:&nbsp;0px&quot;&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;9pt;&nbsp;FONT-VARIANT:&nbsp;normal;&nbsp;BACKGROUND:&nbsp;#e4e4e4;&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;FONT-STYLE:&nbsp;normal;&nbsp;LINE-HEIGHT:&nbsp;normal;&nbsp;font-color:&nbsp;black&quot;&gt;&lt;B&gt;From:&nbsp;<br>
&nbsp;&nbsp;&lt;/B&gt;&lt;A&nbsp;href=&quot;mailto:tom.reineke@googlemail.com&quot;&gt;Tom&nbsp;Reineke&lt;/A&gt;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;9pt;&nbsp;FONT-VARIANT:&nbsp;normal;&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;FONT-STYLE:&nbsp;normal;&nbsp;LINE-HEIGHT:&nbsp;normal&quot;&gt;&lt;B&gt;To:&nbsp;<br>
&nbsp;&nbsp;&lt;/B&gt;&lt;A&nbsp;href=&quot;mailto:rabbitmq-discuss@googlegroups.com&quot;&gt;rabbitmq-discuss&lt;/A&gt;&nbsp;<br>
&nbsp;&nbsp;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;9pt;&nbsp;FONT-VARIANT:&nbsp;normal;&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;FONT-STYLE:&nbsp;normal;&nbsp;LINE-HEIGHT:&nbsp;normal&quot;&gt;&lt;B&gt;Sent:&nbsp;<br>
&nbsp;&nbsp;&lt;/B&gt;2013-12-04,&nbsp;23:26:47&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;<br>
&nbsp;&nbsp;style=&quot;FONT-SIZE:&nbsp;9pt;&nbsp;FONT-VARIANT:&nbsp;normal;&nbsp;FONT-WEIGHT:&nbsp;normal;&nbsp;FONT-STYLE:&nbsp;normal;&nbsp;LINE-HEIGHT:&nbsp;normal&quot;&gt;&lt;B&gt;Subject:&nbsp;<br>
&nbsp;&nbsp;&lt;/B&gt;[rabbitmq-discuss]&nbsp;Basic&nbsp;question&nbsp;on&nbsp;message&nbsp;delivery&nbsp;problem&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&nbsp;dir=ltr&gt;Hi,<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;I&nbsp;seem&nbsp;to&nbsp;have&nbsp;a&nbsp;very&nbsp;basic&nbsp;problem&nbsp;when&nbsp;setting&nbsp;up&nbsp;RabbitMQ&nbsp;and&nbsp;would&nbsp;be&nbsp;<br>
&nbsp;&nbsp;grateful&nbsp;for&nbsp;any&nbsp;help.&nbsp;Ich&nbsp;have&nbsp;the&nbsp;following&nbsp;class:&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;public&nbsp;class&nbsp;RabbitTest&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=Apple-tab-span&nbsp;style=&quot;WHITE-SPACE:&nbsp;pre&quot;&gt;&lt;/SPAN&gt;private&nbsp;final&nbsp;<br>
&nbsp;&nbsp;static&nbsp;ConnectionFactory&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;final&nbsp;static&nbsp;String&nbsp;MAIL_QUEUE_NAME&nbsp;=&nbsp;<br>
&nbsp;&nbsp;&quot;mailQueue&quot;;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;Connection&nbsp;connection;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;Channel&nbsp;channel;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;static&nbsp;QueueingConsumer&nbsp;<br>
&nbsp;&nbsp;consumer;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=Apple-tab-span&nbsp;style=&quot;WHITE-SPACE:&nbsp;pre&quot;&gt;&lt;/SPAN&gt;public&nbsp;static&nbsp;<br>
&nbsp;&nbsp;void&nbsp;main(final&nbsp;String[]&nbsp;args)&nbsp;throws&nbsp;IOException,&nbsp;KeyManagementException,&nbsp;<br>
&nbsp;&nbsp;NoSuchAlgorithmException,&nbsp;&nbsp;URISyntaxException,&nbsp;InterruptedException&nbsp;<br>
&nbsp;&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;SPAN&nbsp;class=Apple-tab-span&nbsp;<br>
&nbsp;&nbsp;style=&quot;WHITE-SPACE:&nbsp;pre&quot;&gt;&lt;/SPAN&gt;factory.setHost(&quot;localhost&quot;);&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection&nbsp;=&nbsp;factory.newConnection();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel&nbsp;=&nbsp;connection.createChannel();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.queueDeclare(MAIL_QUEUE_NAME,&nbsp;true,&nbsp;<br>
&nbsp;&nbsp;false,&nbsp;false,&nbsp;null);&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consumer&nbsp;=&nbsp;new&nbsp;<br>
&nbsp;&nbsp;QueueingConsumer(channel);&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.basicConsume(MAIL_QUEUE_NAME,&nbsp;false,&nbsp;<br>
&nbsp;&nbsp;consumer);&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new&nbsp;Thread()&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@Override&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;void&nbsp;run()&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(true)&nbsp;<br>
&nbsp;&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;<br>
&nbsp;&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;The&nbsp;processor&nbsp;stops&nbsp;here&nbsp;until&nbsp;something&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;is&nbsp;in&nbsp;the&nbsp;queue.&nbsp;It&nbsp;does&nbsp;not&nbsp;continue&nbsp;with&nbsp;the&nbsp;next&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;QueueingConsumer.Delivery&nbsp;delivery&nbsp;=&nbsp;consumer&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.nextDelivery();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;String&nbsp;message&nbsp;=&nbsp;new&nbsp;String(delivery.getBody());&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(!StringUtils.isEmpty(message))&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;##########&nbsp;message&nbsp;<br>
&nbsp;&nbsp;#############&quot;);&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(message);&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>
&nbsp;&nbsp;catch&nbsp;(final&nbsp;Exception&nbsp;e)&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;}&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.start();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(int&nbsp;i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;10;&nbsp;i++)&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;createMailTask(&quot;message&nbsp;&quot;&nbsp;+&nbsp;<br>
&nbsp;&nbsp;i);&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Thread.sleep(10000);&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.close();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection.close();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;createMailTask(final&nbsp;String&nbsp;<br>
&nbsp;&nbsp;amqpMessage)&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throws&nbsp;IOException&nbsp;{&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;final&nbsp;Channel&nbsp;ch&nbsp;=&nbsp;<br>
&nbsp;&nbsp;connection.createChannel();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ch.queueDeclare(MAIL_QUEUE_NAME,&nbsp;true,&nbsp;false,&nbsp;<br>
&nbsp;&nbsp;false,&nbsp;null);&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ch.basicPublish(&quot;&quot;,&nbsp;MAIL_QUEUE_NAME,&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;MessageProperties.PERSISTENT_TEXT_PLAIN,&nbsp;amqpMessage.getBytes());&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ch.close();&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;}&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;I&nbsp;would&nbsp;have&nbsp;assumed&nbsp;that&nbsp;I&nbsp;get&nbsp;a&nbsp;log&nbsp;output&nbsp;for&nbsp;each&nbsp;of&nbsp;the&nbsp;10&nbsp;messages;&nbsp;<br>
&nbsp;&nbsp;instead&nbsp;I&nbsp;only&nbsp;get:&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;[Thread-0]&nbsp;INFO&nbsp;de.apt.utils.APTMailUtil&nbsp;-&nbsp;##########&nbsp;message&nbsp;<br>
&nbsp;&nbsp;#############&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;[Thread-0]&nbsp;INFO&nbsp;de.apt.utils.APTMailUtil&nbsp;-&nbsp;message&nbsp;2&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;[Thread-0]&nbsp;INFO&nbsp;de.apt.utils.APTMailUtil&nbsp;-&nbsp;##########&nbsp;message&nbsp;<br>
&nbsp;&nbsp;#############&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;[Thread-0]&nbsp;INFO&nbsp;de.apt.utils.APTMailUtil&nbsp;-&nbsp;message&nbsp;5&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;[Thread-0]&nbsp;INFO&nbsp;de.apt.utils.APTMailUtil&nbsp;-&nbsp;##########&nbsp;message&nbsp;<br>
&nbsp;&nbsp;#############&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;[Thread-0]&nbsp;INFO&nbsp;de.apt.utils.APTMailUtil&nbsp;-&nbsp;message&nbsp;8&lt;/DIV&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;&lt;BR&gt;&lt;/DIV&gt;<br>
&nbsp;&nbsp;&lt;DIV&gt;Can&nbsp;you&nbsp;tell&nbsp;me&nbsp;where&nbsp;the&nbsp;problem&nbsp;is&nbsp;in&nbsp;my&nbsp;<br>
code?&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/BLOCKQUOTE&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
