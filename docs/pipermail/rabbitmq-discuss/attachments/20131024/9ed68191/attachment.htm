<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;SO&nbsp;I&amp;#39;m&nbsp;working&nbsp;on&nbsp;a&nbsp;set&nbsp;of&nbsp;monitoring&nbsp;tools&nbsp;(already&nbsp;have&nbsp;some&nbsp;python&nbsp;scripts&nbsp;built&nbsp;for&nbsp;Nagios,&nbsp;now&nbsp;looking&nbsp;at&nbsp;Zabbix&nbsp;templates)&nbsp;to&nbsp;monitor&nbsp;rabbit&nbsp;queues&nbsp;and&nbsp;their&nbsp;information.&nbsp; The&nbsp;basic&nbsp;stuff&nbsp;I&amp;#39;ve&nbsp;got&nbsp;setup&nbsp;and&nbsp;working&nbsp;right&nbsp;now&nbsp;are:&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;queue&nbsp;memory&lt;/div&gt;&lt;div&gt;queue&nbsp;messages&lt;/div&gt;&lt;div&gt;queue&nbsp;unack&amp;#39;d&nbsp;messages&lt;/div&gt;&lt;div&gt;queue&nbsp;consumers&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;aliveness&nbsp;of&nbsp;a&nbsp;vhost&lt;/div&gt;&lt;div&gt;mem&nbsp;used/limit&lt;/div&gt;&lt;div&gt;disk&nbsp;free/limit&lt;/div&gt;&lt;div&gt;<br>
fd&nbsp;used/limit&lt;/div&gt;&lt;div&gt;proc&nbsp;used/limit&lt;/div&gt;&lt;div&gt;sockets&nbsp;used/limit&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;question&nbsp;I&nbsp;have&nbsp;is&nbsp;on&nbsp;the&nbsp;queue&nbsp;-&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;monitor&nbsp;when&nbsp;the&nbsp;queue&nbsp;was&nbsp;last&nbsp;&amp;quot;accessed&amp;quot;&nbsp;for&nbsp;message&nbsp;publishes.&nbsp; I&nbsp;was&nbsp;looking&nbsp;at&nbsp;the&nbsp;idle_since&nbsp;but&nbsp;it&nbsp;looks&nbsp;like&nbsp;the&nbsp;date&nbsp;there&nbsp;gets&nbsp;reset&nbsp;anytime&nbsp;you&nbsp;even&nbsp;look&nbsp;at&nbsp;the&nbsp;list&nbsp;of&nbsp;queues.&nbsp; Is&nbsp;there&nbsp;some&nbsp;field&nbsp;I&amp;#39;m&nbsp;missing&nbsp;that&nbsp;might&nbsp;have&nbsp;that&nbsp;information?&nbsp; Ideally,&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;alert&nbsp;on&nbsp;for&nbsp;example&nbsp;&amp;quot;This&nbsp;queue&nbsp;hasn&amp;#39;t&nbsp;received&nbsp;messages&nbsp;in&nbsp;quite&nbsp;a&nbsp;long&nbsp;while,&nbsp;possibly&nbsp;the&nbsp;publisher&nbsp;is&nbsp;not&nbsp;publishing&nbsp;messages&nbsp;correctly&amp;quot;.&nbsp; Anyone&nbsp;have&nbsp;any&nbsp;thoughts?&nbsp; Suggestions?&nbsp; Other&nbsp;things&nbsp;they&nbsp;monitor?&nbsp; &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;One&nbsp;interesting&nbsp;thing&nbsp;I&nbsp;noticed&nbsp;while&nbsp;working&nbsp;on&nbsp;monitoring.&nbsp; rabbitmqctl&nbsp;does&nbsp;not&nbsp;seem&nbsp;like&nbsp;a&nbsp;very&nbsp;efficient&nbsp;mechanism&nbsp;for&nbsp;use&nbsp;by&nbsp;monitoring&nbsp;tools.&nbsp; I&nbsp;started&nbsp;off&nbsp;using&nbsp;ctl&nbsp;to&nbsp;get&nbsp;various&nbsp;queue&nbsp;and&nbsp;server&nbsp;information&nbsp;and&nbsp;found&nbsp;that&nbsp;it&nbsp;was&nbsp;extremely&nbsp;expensive&nbsp;to&nbsp;call&nbsp;repeatedly.&nbsp; I&nbsp;tried&nbsp;using&nbsp;some&nbsp;python&nbsp;scripts&nbsp;to&nbsp;hit&nbsp;the&nbsp;management&nbsp;API&nbsp;and&nbsp;my&nbsp;CPU&nbsp;load&nbsp;went&nbsp;down&nbsp;by&nbsp;about&nbsp;70%.&nbsp; Not&nbsp;sure&nbsp;if&nbsp;other&nbsp;people&nbsp;have&nbsp;seem&nbsp;the&nbsp;same&nbsp;using&nbsp;rabbitmqctl?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks!&lt;br&gt;Jason&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-- &lt;br&gt;&lt;/div&gt;&lt;div&gt;Jason&nbsp;McIntosh&lt;br&gt;&lt;a&nbsp;href=&quot;https://github.com/jasonmcintosh/&quot;&gt;https://github.com/jasonmcintosh/&lt;/a&gt;&lt;br&gt;573-424-7612<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
