<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;Matthias,&lt;br&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&quot;&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&quot;&gt;&amp;gt;&nbsp;So&nbsp;rabbit&nbsp;is&nbsp;taking&nbsp;up&nbsp;4GB&nbsp;when&nbsp;all&nbsp;the&nbsp;queues&nbsp;are&nbsp;empty?&nbsp;How&nbsp;many&lt;br&gt;queues&nbsp;are&nbsp;there?&nbsp;1000?&nbsp;And&nbsp;how&nbsp;many&nbsp;connections?&lt;br&gt;&lt;br&gt;yes&nbsp;1000&nbsp;queues&nbsp;and&nbsp;1000&nbsp;connections.&amp;nbsp;&nbsp;this&nbsp;4&nbsp;GB&nbsp;was&nbsp;after&nbsp;200&nbsp;GB&nbsp;messages&nbsp;were&nbsp;consumed.&lt;br&gt;If&nbsp;the&nbsp;broker&nbsp;is&nbsp;started&nbsp;fresh&nbsp;with&nbsp;1000&nbsp;queues&nbsp;and&nbsp;connections&nbsp;but&nbsp;no&nbsp;messages&nbsp;published,&nbsp;the&nbsp;mem&nbsp;usage&nbsp;is&nbsp;260&nbsp;MB.&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;How&nbsp;frequently&nbsp;are&nbsp;you&nbsp;running&nbsp;'rabbitmqctl&nbsp;list_queues'?&nbsp;If&nbsp;it&nbsp;is&nbsp;run&nbsp;fairly&nbsp;frequently&nbsp;it&nbsp;can&nbsp;significantly&nbsp;delay&nbsp;freeing&nbsp;up&nbsp;memory&nbsp;since&nbsp;queues&nbsp;don't&nbsp;get&nbsp;a&nbsp;chance&nbsp;to&nbsp;hibernate.&lt;br&gt;&lt;br&gt;we&nbsp;run&nbsp;it&nbsp;once&nbsp;a&nbsp;minute&nbsp;to&nbsp;monitor&nbsp;the&nbsp;queue&nbsp;length.&amp;nbsp;&nbsp;i&nbsp;will&nbsp;disable&nbsp;it&nbsp;in&nbsp;my&nbsp;next&nbsp;test.&lt;br&gt;&lt;br&gt;thanks.&lt;br&gt;&lt;br&gt;-alex&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;&lt;/html&gt;
</tt>
