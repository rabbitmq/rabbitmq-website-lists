<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;trying&nbsp;to&nbsp;find&nbsp;out&nbsp;if&nbsp;there&nbsp;are&nbsp;any&nbsp;recommendations&nbsp;for&nbsp;running&nbsp;RabbitMq&nbsp;on&nbsp;VMWare&nbsp;ESXi?&nbsp;(eg.&nbsp;clustering,&nbsp;queue&nbsp;mirroring)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;several&nbsp;4&nbsp;node&nbsp;clusters&nbsp;running&nbsp;on&nbsp;ESXi4/5&nbsp;guests.&nbsp;The&nbsp;guests&nbsp;are&nbsp;Ubuntu&nbsp;10.04&nbsp;VMs.&lt;/div&gt;&lt;div&gt;Erlang&nbsp;version:&nbsp;R15B.&nbsp;RabbitMq&nbsp;versions:&nbsp;2.8.2&nbsp;and&nbsp;3.0.1&nbsp;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;clusters&nbsp;seem&nbsp;to&nbsp;randomly&nbsp;crash&nbsp;every&nbsp;once&nbsp;in&nbsp;a&nbsp;while&nbsp;(about&nbsp;once&nbsp;every&nbsp;2&nbsp;months).&lt;/div&gt;&lt;div&gt;Sometimes&nbsp;the&nbsp;whole&nbsp;cluster&nbsp;crashes,&nbsp;sometimes&nbsp;only&nbsp;a&nbsp;couple&nbsp;nodes&nbsp;and&nbsp;the&nbsp;others&nbsp;either&nbsp;work&nbsp;or&nbsp;become&nbsp;unreachable.&lt;br&gt;&lt;/div&gt;&lt;div&gt;Logs&nbsp;only&nbsp;show&nbsp;that&nbsp;the&nbsp;nodes&nbsp;lost&nbsp;connection.&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;running&nbsp;4&nbsp;node&nbsp;clusters&nbsp;with&nbsp;1&nbsp;disk&nbsp;node&nbsp;and&nbsp;about&nbsp;100&nbsp;queues&nbsp;mirrored&nbsp;across&nbsp;2-3&nbsp;nodes.&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;same&nbsp;thing&nbsp;was&nbsp;happening&nbsp;when&nbsp;I&nbsp;was&nbsp;running&nbsp;a&nbsp;cluster&nbsp;with&nbsp;4&nbsp;disk&nbsp;nodes.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Are&nbsp;there&nbsp;any&nbsp;recommended&nbsp;best&nbsp;practices&nbsp;in&nbsp;regards&nbsp;to&nbsp;Virtual&nbsp;Machine&nbsp;settings,&nbsp;VMWare&nbsp;network&nbsp;settings&nbsp;or&nbsp;OS&nbsp;settings&nbsp;that&nbsp;could&lt;/div&gt;&lt;div&gt;prevent&nbsp;these&nbsp;random&nbsp;crashes?&lt;/div&gt;&lt;div&gt;Would&nbsp;federation&nbsp;be&nbsp;a&nbsp;better&nbsp;solution&nbsp;then&nbsp;clustering&nbsp;in&nbsp;a&nbsp;virtual&nbsp;environment?&nbsp;Or&nbsp;should&nbsp;I&nbsp;just&nbsp;run&nbsp;them&nbsp;on&nbsp;physical&nbsp;hardware?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;realize&nbsp;there's&nbsp;not&nbsp;enough&nbsp;data&nbsp;here&nbsp;to&nbsp;find&nbsp;out&nbsp;what&nbsp;is&nbsp;happening&nbsp;exactly&nbsp;but&nbsp;I'm&nbsp;just&nbsp;trying&nbsp;to&nbsp;see&nbsp;if&nbsp;anybody&nbsp;came&nbsp;across&nbsp;similar&nbsp;problems&nbsp;and&nbsp;were&nbsp;able&nbsp;to&nbsp;handle&nbsp;it?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Zsolt&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
