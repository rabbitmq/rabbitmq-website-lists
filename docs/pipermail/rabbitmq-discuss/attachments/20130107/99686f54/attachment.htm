<tt>
&lt;div&gt;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;figure&nbsp;out&nbsp;Rabbit&nbsp;Tx's&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;My&nbsp;producer&nbsp;sends&nbsp;100&nbsp;Persistent&nbsp;TX&nbsp;and&nbsp;dies&nbsp;as&nbsp;I&nbsp;directed.&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;Than&nbsp;I&nbsp;run&nbsp;a&nbsp;consumer&nbsp;that&nbsp;reads&nbsp;the&nbsp;messages&nbsp;from&nbsp;the&nbsp;durable&nbsp;Q&nbsp;with&nbsp;a&nbsp;txcommit&nbsp;after&nbsp;the&nbsp;reception&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;Then&nbsp;my&nbsp;receiver&nbsp;can&nbsp;consume&nbsp;all&nbsp;100&nbsp;messages,&nbsp;and&nbsp;does&nbsp;so.&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;happy&nbsp;with&nbsp;this&nbsp;result,&nbsp;so&nbsp;I&nbsp;start&nbsp;over&nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;......&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;I&amp;nbsp;have&nbsp;my&nbsp;producer&nbsp;send&nbsp;another&nbsp;100&nbsp;messages.&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;But&nbsp;this&nbsp;time&nbsp;I&nbsp;have&nbsp;the&nbsp;consumer&nbsp;only&nbsp;read&nbsp;50&nbsp;persistent&nbsp;messages&nbsp;with&nbsp;a&nbsp;txcommit.&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;I&nbsp;read&nbsp;in&nbsp;all&nbsp;of&nbsp;the&nbsp;first&nbsp;50&nbsp;messages&nbsp;correctly.&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;So&nbsp;I&nbsp;run&nbsp;the&nbsp;consumer&nbsp;again,&nbsp;hoping&nbsp;to&nbsp;get&nbsp;the&nbsp;next&nbsp;50,&nbsp;but&nbsp;this&nbsp;time&nbsp;it&nbsp;does&nbsp;not&nbsp;see&nbsp;any&nbsp;persistent&nbsp;Tx&nbsp;on&nbsp;the&nbsp;Q,&nbsp;and&nbsp;receive&nbsp;zero&nbsp;messages&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;What&nbsp;it&nbsp;looks&nbsp;like&nbsp;is&nbsp;that&nbsp;when&nbsp;the&nbsp;receiver&nbsp;opens&nbsp;the&nbsp;channel,&nbsp;Rabbit&nbsp;sends&nbsp;a&nbsp;batch&nbsp;of&nbsp;messages&nbsp;from&nbsp;the&nbsp;database&nbsp;and&nbsp;the&nbsp;consumer&nbsp;can&nbsp;open&nbsp;them&nbsp;one&nbsp;by&nbsp;one,&nbsp;and&nbsp;if&nbsp;the&nbsp;receiver&nbsp;closes&nbsp;the&nbsp;channel&nbsp;before&nbsp;the&nbsp;batch&nbsp;processing&nbsp;of&nbsp;all&nbsp;the&nbsp;records&nbsp;has&nbsp;completed,&nbsp;those&nbsp;messages&nbsp;will&nbsp;be&nbsp;lost&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;they&nbsp;are&nbsp;persistent&nbsp;or&nbsp;not.,&nbsp;and&nbsp;therefore&nbsp;I&nbsp;have&nbsp;to&nbsp;take&nbsp;that&nbsp;into&nbsp;account&nbsp;when&nbsp;I&nbsp;write&nbsp;my&nbsp;consumers.&amp;nbsp;&nbsp;Is&nbsp;this&nbsp;a&nbsp;correct&nbsp;assumption,&nbsp;or&nbsp;did&nbsp;I&nbsp;make&nbsp;a&nbsp;mistake&nbsp;?&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;
</tt>
