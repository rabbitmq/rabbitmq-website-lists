<tt>
&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;Hi&nbsp;there,&lt;/span&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;I&nbsp;am&nbsp;doing&nbsp;a&nbsp;performance&nbsp;study&nbsp;of&nbsp;RabbitMQ-3.1.1&nbsp;and&nbsp;this&nbsp;is&nbsp;my&nbsp;first&nbsp;time&nbsp;to&nbsp;do&nbsp;such&nbsp;a&nbsp;performance&nbsp;study&nbsp;with&nbsp;any&nbsp;messaging&nbsp;broker&nbsp;:))-&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;1)&nbsp;I&nbsp;have&nbsp;thoroughly&nbsp;gone&nbsp;through&nbsp;rabbitMQ&nbsp;in&nbsp;action'&nbsp;and&nbsp;learnt&nbsp;important&nbsp;concepts.&amp;nbsp;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;2)&nbsp;Tried&nbsp;single&nbsp;node&nbsp;broker&nbsp;to&nbsp;get&nbsp;a&nbsp;feel&nbsp;of&nbsp;how&nbsp;it&nbsp;is&nbsp;working&nbsp;and&nbsp;then&nbsp;set&nbsp;up&nbsp;a&nbsp;four&nbsp;node&nbsp;cluster&nbsp;(with&nbsp;two&nbsp;disk&nbsp;and&nbsp;two&nbsp;RAM&nbsp;type&nbsp;of&nbsp;node).&nbsp;Also&nbsp;configured&nbsp;HAproxy&nbsp;TCP&nbsp;Load&nbsp;balancer&nbsp;so&nbsp;that&nbsp;I&nbsp;can&nbsp;just&nbsp;provide&nbsp;single&nbsp;port&nbsp;to&nbsp;connect&nbsp;to&nbsp;the&nbsp;Cluster.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;3)&nbsp;I&nbsp;am&nbsp;simulating&nbsp;producer&nbsp;and&nbsp;consumers&nbsp;through&nbsp;Python&nbsp;scripts&nbsp;(&nbsp;using&nbsp;Python-pika&nbsp;library&nbsp;methods&nbsp;to&nbsp;connect&nbsp;to&nbsp;server&nbsp;,&nbsp;publish&nbsp;subscribe&nbsp;etc.)&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;4)&nbsp;My&nbsp;scripts&nbsp;are&nbsp;working&nbsp;fine&nbsp;but&nbsp;where&nbsp;I&nbsp;am&nbsp;stuck&nbsp;is&nbsp;no&nbsp;matter&nbsp;what&nbsp;I&nbsp;do&nbsp;my&nbsp;throughout&nbsp;is&nbsp;always&nbsp;300&nbsp;msg/sec.&amp;nbsp;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;div&gt;5)&nbsp;I&nbsp;have&nbsp;defines&nbsp;durable&nbsp;exchanges&nbsp;and&nbsp;queues&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;final&nbsp;requirement&nbsp;is&nbsp;to&nbsp;run&nbsp;atleast&nbsp;10&nbsp;to&nbsp;15&nbsp;producer&nbsp;and&nbsp;60&nbsp;to&nbsp;70&nbsp;consumer&nbsp;simultaneously&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;start&nbsp;with&nbsp;linear&nbsp;increase&nbsp;in&nbsp;number&nbsp;of&nbsp;producer&nbsp;and&nbsp;consumer&nbsp;so&nbsp;that&nbsp;I&nbsp;can&nbsp;make&nbsp;conclusions&nbsp;about&nbsp;&amp;nbsp;throughout,&nbsp;fault&nbsp;handling,&nbsp;processor&nbsp;utilization&nbsp;etc.&nbsp;etc&nbsp;but&nbsp;I&nbsp;am&nbsp;seriously&nbsp;stuck&nbsp;now&nbsp;after&nbsp;trying&nbsp;to&nbsp;start&nbsp;in&nbsp;initial&nbsp;steps&nbsp;only.&nbsp;This&nbsp;group's&nbsp;help&nbsp;would&nbsp;be&nbsp;really&nbsp;appreciated.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;I&nbsp;have&nbsp;started&nbsp;with&nbsp;following&nbsp;different&nbsp;scenarios&nbsp;but&nbsp;no&nbsp;matter&nbsp;what&nbsp;I&nbsp;do&nbsp;my&nbsp;throughput&nbsp;is&nbsp;more&nbsp;or&nbsp;less&nbsp;remaining&nbsp;same&nbsp;(300&nbsp;msg/sec)&nbsp;except&nbsp;for&nbsp;Scenario-1&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;Scenario-1&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;-1&nbsp;producer&nbsp;and&nbsp;No&nbsp;consumer&nbsp;and&nbsp;no&nbsp;queue&nbsp;binded&nbsp;to&nbsp;exchange&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;-Producer&nbsp;is&nbsp;running&nbsp;in&nbsp;infinite&nbsp;loop&nbsp;and&nbsp;publishing&nbsp;to&nbsp;one&nbsp;fanout&nbsp;exchange&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;-&nbsp;publisher/confirm&nbsp;disabled&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;-Publisher&nbsp;rate&nbsp;-&nbsp;6200&nbsp;msg/sec&nbsp;(&nbsp;checked&nbsp;through&nbsp;web&nbsp;management&nbsp;plugin)&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;Tried&nbsp;scenario-1&nbsp;with&nbsp;also&nbsp;fanout&nbsp;type&nbsp;of&nbsp;exchange&nbsp;and&nbsp;it's&nbsp;the&nbsp;same&nbsp;publish&nbsp;rate&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;I&nbsp;know&nbsp;that&nbsp;Scenario-1&nbsp;is&nbsp;not&nbsp;really&nbsp;useful,&nbsp;since&nbsp;there&nbsp;are&nbsp;no&nbsp;queues&nbsp;and&nbsp;ultimately&nbsp;messages&nbsp;will&nbsp;be&nbsp;dropped&nbsp;but&nbsp;as&nbsp;a&nbsp;part&nbsp;of&nbsp;debugging&nbsp;process&nbsp;I&nbsp;tried&nbsp;this&nbsp;and&nbsp;I&nbsp;see&nbsp;above&nbsp;mentioned&nbsp;results.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;div&gt;Scenario-2&lt;/div&gt;&lt;div&gt;-1&nbsp;producer&nbsp;and&nbsp;1&nbsp;consumer&amp;nbsp;&lt;/div&gt;&lt;div&gt;-Producer&nbsp;is&nbsp;running&nbsp;in&nbsp;infinite&nbsp;loop&nbsp;and&nbsp;publishing&nbsp;to&nbsp;one&nbsp;direct&nbsp;exchange&lt;/div&gt;&lt;div&gt;-A&nbsp;consumer&nbsp;has&nbsp;it's&nbsp;own&nbsp;dedicated&nbsp;queue&nbsp;and&nbsp;listening&nbsp;to&nbsp;above&nbsp;exchange&amp;nbsp;&lt;/div&gt;&lt;div&gt;-&nbsp;publisher/confirm&nbsp;and&nbsp;consumer&nbsp;ack&nbsp;are&nbsp;disabled&lt;/div&gt;&lt;div&gt;Throughput&nbsp;-&nbsp;300&nbsp;msg/sec&nbsp;(&nbsp;which&nbsp;is&nbsp;basically&nbsp;publish&nbsp;rate&nbsp;=&nbsp;300&nbsp;msg/sec&nbsp;and&nbsp;deliver&nbsp;rate&nbsp;-&nbsp;300&nbsp;msg/sec)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Tried&nbsp;Scenario-2&nbsp;also&nbsp;with&nbsp;fanout&nbsp;type&nbsp;of&nbsp;exchange&nbsp;and&nbsp;enabling&nbsp;publisher&nbsp;confirm&nbsp;and&nbsp;consumer&nbsp;ack&lt;/div&gt;&lt;div&gt;Still&nbsp;the&nbsp;same&nbsp;throughput&nbsp;as&nbsp;300&nbsp;msg/sec&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;div&gt;Scenario-3&lt;/div&gt;&lt;div&gt;-1&nbsp;producer&nbsp;and&nbsp;4&nbsp;consumer&amp;nbsp;&lt;/div&gt;&lt;div&gt;-Producer&nbsp;is&nbsp;running&nbsp;in&nbsp;infinite&nbsp;loop&nbsp;and&nbsp;publishing&nbsp;to&nbsp;four&nbsp;direct&nbsp;exchange&lt;/div&gt;&lt;div&gt;-A&nbsp;consumer&nbsp;has&nbsp;it's&nbsp;own&nbsp;dedicated&nbsp;queue&nbsp;and&nbsp;listening&nbsp;to&nbsp;respective&nbsp;exchange&amp;nbsp;&lt;/div&gt;&lt;div&gt;-&nbsp;publisher/confirm&nbsp;and&nbsp;consumer&nbsp;ack&nbsp;are&nbsp;disabled&lt;/div&gt;&lt;div&gt;Throughput&nbsp;-&nbsp;300&nbsp;msg/sec&nbsp;(&nbsp;which&nbsp;is&nbsp;basically&nbsp;publish&nbsp;rate&nbsp;=&nbsp;300&nbsp;msg/sec&nbsp;and&nbsp;deliver&nbsp;rate&nbsp;-&nbsp;300&nbsp;msg/sec)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Tried&nbsp;Scenario-3&nbsp;also&nbsp;with&nbsp;fanout&nbsp;type&nbsp;of&nbsp;exchange&nbsp;and&nbsp;enabling&nbsp;publisher&nbsp;confirm&nbsp;and&nbsp;consumer&nbsp;ack&lt;/div&gt;&lt;div&gt;Still&nbsp;the&nbsp;same&nbsp;throughput&nbsp;as&nbsp;300&nbsp;msg/sec&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Tried&nbsp;configuring&nbsp;prefetch_count&nbsp;parameters&nbsp;also&nbsp;to&nbsp;100&nbsp;but&nbsp;it&nbsp;still&nbsp;gives&nbsp;me&nbsp;same&nbsp;throughput&nbsp;of&nbsp;300&nbsp;msg/sec.&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;honestly&nbsp;going&nbsp;crazy&nbsp;with&nbsp;this.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;After&nbsp;seeing&nbsp;this&nbsp;behavior,&nbsp;I&nbsp;am&nbsp;seriously&nbsp;suspecting&nbsp;that&nbsp;there&nbsp;is&nbsp;some&nbsp;serious&nbsp;limitation&nbsp;with&nbsp;my&nbsp;simulated&nbsp;producers&nbsp;and&nbsp;consumers.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;Has&nbsp;anyone&nbsp;else&nbsp;has&nbsp;tried&nbsp;Python-pika&nbsp;client&nbsp;and&nbsp;any&nbsp;idea&nbsp;on&nbsp;throughput&nbsp;with&nbsp;this&nbsp;version&nbsp;of&nbsp;rabbit&nbsp;?&amp;nbsp;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;Did&nbsp;anyone&nbsp;have&nbsp;rough&nbsp;idea&nbsp;about&nbsp;throughout&nbsp;with&nbsp;rabbitMQ-3.1.1&nbsp;?&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;I&nbsp;can&nbsp;also&nbsp;share&nbsp;my&nbsp;python&nbsp;scripts&nbsp;if&nbsp;required&nbsp;but&nbsp;I&nbsp;would&nbsp;really&nbsp;appreciate&nbsp;some&nbsp;light&nbsp;on&nbsp;this&nbsp;situation&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;Also&nbsp;what&nbsp;points&nbsp;to&nbsp;take&nbsp;care,&nbsp;in&nbsp;order&nbsp;to&nbsp;improve&nbsp;throughput&nbsp;?&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;Best&nbsp;Regards,&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12.800000190734863px;&quot;&gt;Priyanki&lt;/div&gt;
</tt>
