<tt>
&lt;p&gt;I&amp;#39;ve&nbsp;been&nbsp;using&nbsp;the&nbsp;compiled&nbsp;sources&nbsp;for&nbsp;some&nbsp;time&nbsp;now&nbsp;without&nbsp;any&nbsp;issues,&nbsp;but&nbsp;you&nbsp;can&nbsp;also&nbsp;find&nbsp;the&nbsp;unofficial&nbsp;2.7.9&nbsp;release&nbsp;which&nbsp;I&nbsp;guess&nbsp;includes&nbsp;the&nbsp;fixes.&lt;/p&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mar&nbsp;12,&nbsp;2012&nbsp;10:43&nbsp;PM,&nbsp;&amp;quot;Andrius&nbsp;Norkaitis&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:andrius.norkaitis@oryo.lt&quot;&gt;andrius.norkaitis@oryo.lt&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&nbsp;type=&quot;attribution&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hello,&lt;br&gt;<br>
&lt;br&gt;<br>
Any&nbsp;news&nbsp;about&nbsp;this&nbsp;bug?&nbsp;I&nbsp;get&nbsp;random&nbsp;exceptions&nbsp;(when&nbsp;client&nbsp;disconnects)&lt;br&gt;<br>
when&nbsp;using&nbsp;heartbeat&nbsp;in&nbsp;.NET&nbsp;client&nbsp;2.7.0/1&nbsp;which&nbsp;was&nbsp;never&nbsp;a&nbsp;problem&nbsp;with&lt;br&gt;<br>
earlier&nbsp;versions.&lt;br&gt;<br>
&lt;br&gt;<br>
Cannot&nbsp;access&nbsp;a&nbsp;disposed&nbsp;object.&lt;br&gt;<br>
Object&nbsp;name:&nbsp;&amp;#39;System.Net.Sockets.Socket&amp;#39;.&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;System.Net.Sockets.Socket.SetSocketOption(SocketOptionLevel&lt;br&gt;<br>
optionLevel,&nbsp;SocketOptionName&nbsp;optionName,&nbsp;Object&nbsp;optionValue)&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;System.Net.Sockets.TcpClient.set_LingerState(LingerOption&nbsp;value)&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;RabbitMQ.Client.Impl.SocketFrameHandler_0_9.Close()&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.FinishClose()&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.HeartbeatReadLoop()&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;System.Threading.ThreadHelper.ThreadStart_Context(Object&nbsp;state)&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;System.Threading.ExecutionContext.runTryCode(Object&nbsp;userData)&lt;br&gt;<br>
&nbsp; &nbsp;at&lt;br&gt;<br>
System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedClea&lt;br&gt;<br>
nup(TryCode&nbsp;code,&nbsp;CleanupCode&nbsp;backoutCode,&nbsp;Object&nbsp;userData)&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;System.Threading.ExecutionContext.RunInternal(ExecutionContext&lt;br&gt;<br>
executionContext,&nbsp;ContextCallback&nbsp;callback,&nbsp;Object&nbsp;state)&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;System.Threading.ExecutionContext.Run(ExecutionContext&lt;br&gt;<br>
executionContext,&nbsp;ContextCallback&nbsp;callback,&nbsp;Object&nbsp;state)&lt;br&gt;<br>
&nbsp; &nbsp;at&nbsp;System.Threading.ThreadHelper.ThreadStart()&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Best&nbsp;regards,&lt;br&gt;<br>
Andrius&lt;br&gt;<br>
&lt;br&gt;<br>
-----Original&nbsp;Message-----&lt;br&gt;<br>
From:&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss-bounces@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss-bounces@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
[mailto:&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss-bounces@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss-bounces@lists.rabbitmq.com&lt;/a&gt;]&nbsp;On&nbsp;Behalf&nbsp;Of&nbsp;Steve&lt;br&gt;<br>
Powell&lt;br&gt;<br>
Sent:&nbsp;Friday,&nbsp;December&nbsp;30,&nbsp;2011&nbsp;5:30&nbsp;PM&lt;br&gt;<br>
To:&nbsp;Dave&nbsp;Stevens&lt;br&gt;<br>
Cc:&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
Subject:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;Possible&nbsp;bug&nbsp;when&nbsp;disposing&nbsp;connections&nbsp;in&lt;br&gt;<br>
.NET&nbsp;client&nbsp;2.7.0/1&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;really&nbsp;does&nbsp;look&nbsp;like&nbsp;a&nbsp;bug.&nbsp; Thanks&nbsp;for&nbsp;spotting&nbsp;this.&lt;br&gt;<br>
I&amp;#39;m&nbsp;raising&nbsp;a&nbsp;bugzilla&nbsp;(bug24650)&nbsp;to&nbsp;track&nbsp;it,&nbsp;and&nbsp;will&nbsp;report&nbsp;back.&lt;br&gt;<br>
&lt;br&gt;<br>
Steve&nbsp;Powell&nbsp; (a&nbsp;yule&nbsp;bunny)&lt;br&gt;<br>
----------some&nbsp;more&nbsp;definitions&nbsp;from&nbsp;the&nbsp;SPD----------&nbsp;avoirdupois&nbsp;(phr.)&lt;br&gt;<br>
&amp;#39;Would&nbsp;you&nbsp;like&nbsp;peas&nbsp;with&nbsp;that?&amp;#39;&lt;br&gt;<br>
distribute&nbsp;(v.)&nbsp;To&nbsp;denigrate&nbsp;an&nbsp;award&nbsp;ceremony.&lt;br&gt;<br>
definite&nbsp;(phr.)&nbsp;&amp;#39;It&amp;#39;s&nbsp;hard&nbsp;of&nbsp;hearing,&nbsp;I&nbsp;think.&amp;#39;&lt;br&gt;<br>
modest&nbsp;(n.)&nbsp;The&nbsp;most&nbsp;mod.&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;29&nbsp;Dec&nbsp;2011,&nbsp;at&nbsp;22:16,&nbsp;Dave&nbsp;Stevens&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;Yes,&nbsp;heartbeat&nbsp;is&nbsp;what&nbsp;is&nbsp;causing&nbsp;this.&nbsp;Version&nbsp;2.7.1&nbsp;of&nbsp;the&nbsp;.NET&lt;br&gt;<br>
&amp;gt;&nbsp;client&nbsp;is&nbsp;itself&nbsp;calling&nbsp;System.Net.Sockets.TcpClient.Close()&nbsp;3&nbsp;times&lt;br&gt;<br>
&amp;gt;&nbsp;per&nbsp;connection&nbsp;shutdown&nbsp;(4&nbsp;if&nbsp;shutdown&nbsp;times&nbsp;out).&lt;br&gt;<br>
&amp;gt;&nbsp;ConnectionBase.FinishClose()&nbsp;is&nbsp;called&nbsp;3&nbsp;different&nbsp;times&nbsp;when&nbsp;shutting&lt;br&gt;<br>
&amp;gt;&nbsp;down.See&nbsp;MainLoop(),&nbsp;HeartbeatReadLoop(),&nbsp;and&nbsp;HeartbeatWriteLoop()&nbsp;of&lt;br&gt;<br>
&amp;gt;&nbsp;ConnectionBase.cs&nbsp;lines&nbsp;629,&nbsp;566&nbsp;and&nbsp;538&nbsp;respectively.&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;am&nbsp;required&nbsp;to&nbsp;set&nbsp;the&nbsp;Heartbeat&nbsp;due&nbsp;to&nbsp;another&nbsp;issue&nbsp;where&lt;br&gt;<br>
&amp;gt;&nbsp;exclusive&nbsp;queues&nbsp;are&nbsp;not&nbsp;being&nbsp;removed&nbsp;at&nbsp;the&nbsp;broker&nbsp;when&nbsp;connections&lt;br&gt;<br>
&amp;gt;&nbsp;died.&nbsp;This&nbsp;prevents&nbsp;components&nbsp;from&nbsp;being&nbsp;able&nbsp;to&nbsp;restart&nbsp;with&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;same&nbsp;queue&nbsp;name.&lt;br&gt;<br>
&amp;gt;&nbsp;See&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://stackoverflow.com/questions/8296201/when-does-an-amqp-rabbitmq-&quot;&nbsp;target=&quot;_blank&quot;&gt;http://stackoverflow.com/questions/8296201/when-does-an-amqp-rabbitmq-&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;channel-with-no-connections-die/8299475&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;believe&nbsp;that&nbsp;even&nbsp;with&nbsp;this,&nbsp;ConnectionBase.FinishClose()&nbsp;will&nbsp;be&lt;br&gt;<br>
&amp;gt;&nbsp;called&nbsp;once&nbsp;successfully&nbsp;which&nbsp;would&nbsp;allow&nbsp;the&nbsp;models&nbsp;to&nbsp;shutdown&lt;br&gt;<br>
&amp;gt;&nbsp;properly.&nbsp;I&nbsp;believe&nbsp;this&nbsp;is&nbsp;a&nbsp;bug&nbsp;though&nbsp;as&nbsp;FinishClose()&nbsp;should&nbsp;not&lt;br&gt;<br>
&amp;gt;&nbsp;be&nbsp;called&nbsp;more&nbsp;than&nbsp;once&nbsp;or&nbsp;it&nbsp;is&nbsp;possible&nbsp;that&nbsp;certain&nbsp;event&nbsp;handlers&lt;br&gt;<br>
&amp;gt;&nbsp;will&nbsp;be&nbsp;called&nbsp;more&nbsp;than&nbsp;once,&nbsp;Session.OnSessionShutdown&nbsp;specifically.&lt;br&gt;<br>
&amp;gt;&nbsp;This&nbsp;may&nbsp;impact&nbsp;certain&nbsp;reconnect&nbsp;implementations.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;Dec&nbsp;29,&nbsp;4:38&nbsp;pm,&nbsp;Simone&nbsp;Busoli&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simone.bus...@gmail.com&quot;&gt;simone.bus...@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;What&nbsp;happens&nbsp;if&nbsp;you&nbsp;remove&nbsp;the&nbsp;heartbeat&nbsp;setting?&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;On&nbsp;Dec&nbsp;29,&nbsp;2011&nbsp;5:43&nbsp;PM,&nbsp;&amp;quot;Dave&nbsp;Stevens&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:daverstev...@gmail.com&quot;&gt;daverstev...@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;get&nbsp;the&nbsp;same&nbsp;exception&nbsp;with&nbsp;this:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[Test(Description&nbsp;=&nbsp;&amp;quot;ObjectDispositionException&amp;quot;)]&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;public&nbsp;void&nbsp;TestFail()&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;var&nbsp;cf&nbsp;=&nbsp;new&nbsp;ConnectionFactory&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; HostName&nbsp;=&nbsp;&amp;quot;10.10.8.96&amp;quot;,&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Port&nbsp;=&nbsp;5672,&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; RequestedHeartbeat&nbsp;=&nbsp;2&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; };&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;using&nbsp;(var&nbsp;connection&nbsp;=&nbsp;cf.CreateConnection())&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;using&nbsp;(var&nbsp;model&nbsp;=&nbsp;connection.CreateModel())&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Thread.Sleep(TimeSpan.FromSeconds(1));&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;On&nbsp;Thu,&nbsp;Dec&nbsp;29,&nbsp;2011&nbsp;at&nbsp;2:59&nbsp;AM,&nbsp;Simone&nbsp;Busoli&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simone.bus...@gmail.com&quot;&gt;simone.bus...@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;Hi&nbsp;Dave,&nbsp;although&nbsp;counterintuitive&nbsp;the&nbsp;documentation&nbsp;of&nbsp;the&nbsp;.NET&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;client&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;states&nbsp;that&nbsp;explicitly.&nbsp;The&nbsp;connection&nbsp;closure/disposal&nbsp;is&nbsp;not&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;idempotent,&nbsp;i.e.&nbsp;you&nbsp;shall&nbsp;not&nbsp;call&nbsp;it&nbsp;twice.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;On&nbsp;Dec&nbsp;29,&nbsp;2011&nbsp;1:41&nbsp;AM,&nbsp;&amp;quot;Dave&nbsp;Stevens&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:daverstev...@gmail.com&quot;&gt;daverstev...@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;getting&nbsp;the&nbsp;following&nbsp;exception&nbsp;when&nbsp;disposing&nbsp;a&nbsp;connection.&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;had&nbsp;previously&nbsp;noticed&nbsp;this&nbsp;when&nbsp;going&nbsp;from&nbsp;RabbitMQ&nbsp;Client&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;2.5.1&nbsp;to&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;2.7.0&nbsp;which&nbsp;caused&nbsp;me&nbsp;to&nbsp;back&nbsp;out&nbsp;the&nbsp;update.&nbsp;I&nbsp;ended&nbsp;up&nbsp;going&nbsp;to&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;2.7.1&nbsp;because&nbsp;I&nbsp;thought&nbsp;I&nbsp;found&nbsp;a&nbsp;shutdown&nbsp;issue&nbsp;in&nbsp;my&nbsp;own&nbsp;code.&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;The&nbsp;exception&nbsp;did&nbsp;not&nbsp;present&nbsp;itself&nbsp;again&nbsp;until&nbsp;I&nbsp;started&nbsp;testing&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;some&nbsp;reconnect&nbsp;logic.&nbsp;I&nbsp;first&nbsp;noticed&nbsp;it&nbsp;again&nbsp;after&nbsp;simply&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;pulling&nbsp;the&nbsp;plug&nbsp;on&nbsp;my&nbsp;network.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;System.ObjectDisposedException:&nbsp;Cannot&nbsp;access&nbsp;a&nbsp;disposed&nbsp;object.&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;Object&nbsp;name:&nbsp;&amp;#39;System.Net.Sockets.Socket&amp;#39;.&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;at&nbsp;System.Net.Sockets.Socket.SetSocketOption(SocketOptionLevel&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;optionLevel,&nbsp;SocketOptionName&nbsp;optionName,&nbsp;Object&nbsp;optionValue)&nbsp;at&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;RabbitMQ.Client.Impl.SocketFrameHandler_0_9.Close()&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.FinishClose()&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.HeartbeatWriteLoop()&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;at&nbsp;System.Threading.ThreadHelper.ThreadStart_Context(Object&nbsp;state)&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;at&nbsp;System.Threading.ExecutionContext.runTryCode(Object&nbsp;userData)&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;at&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaran&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&nbsp;teedCle&nbsp;anup(TryCode&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;code,&nbsp;CleanupCode&nbsp;backoutCode,&nbsp;Object&nbsp;userData)&nbsp;at&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;System.Threading.ExecutionContext.RunInternal(ExecutionContext&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;executionContext,&nbsp;ContextCallback&nbsp;callback,&nbsp;Object&nbsp;state)&nbsp;at&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;System.Threading.ExecutionContext.Run(ExecutionContext&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;executionContext,&nbsp;ContextCallback&nbsp;callback,&nbsp;Object&nbsp;state,&nbsp;Boolean&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;ignoreSyncCtx)&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;at&nbsp;System.Threading.ExecutionContext.Run(ExecutionContext&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;executionContext,&nbsp;ContextCallback&nbsp;callback,&nbsp;Object&nbsp;state)&nbsp;at&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;System.Threading.ThreadHelper.ThreadStart()&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;This&nbsp;code&nbsp;is&nbsp;reproducible&nbsp;consistently&nbsp;with&nbsp;the&nbsp;following:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;using&nbsp;System;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;using&nbsp;System.Threading;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;using&nbsp;NUnit.Framework;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;using&nbsp;RabbitMQ.Client;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;using&nbsp;RabbitMQ.Client.Framing.v0_9;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;namespace&nbsp;BT.ThirdPartyProxy.Functional.Test.FunctionalTests&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;{&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; [TestFixture]&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; public&nbsp;class&nbsp;TestingObjectDispositionException&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; {&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; [Test(Description&nbsp;=&nbsp;&amp;quot;ObjectDispositionException&amp;quot;)]&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; public&nbsp;void&nbsp;TestFail()&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var&nbsp;cf&nbsp;=&nbsp;new&nbsp;ConnectionFactory&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;HostName&nbsp;=&nbsp;INSERT_IP_HERE,&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Port&nbsp;=&nbsp;5672,&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RequestedHeartbeat&nbsp;=&nbsp;2&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;};&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; using&nbsp;(var&nbsp;connection&nbsp;=&nbsp;cf.CreateConnection())&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; using&nbsp;(var&nbsp;model&nbsp;=&nbsp;connection.CreateModel())&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Thread.Sleep(TimeSpan.FromSeconds(1));&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; model.Close(Constants.ReplySuccess,&nbsp;&amp;quot;Goodbye&amp;quot;);&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; connection.Close(Constants.ReplySuccess,&nbsp;&amp;quot;Goodbye&amp;quot;);&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Thread.Sleep(TimeSpan.FromSeconds(1));&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; }&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; }&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;}&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;using&nbsp;RabbitMQ.Client.dll&nbsp;2.7.1.0&nbsp;in&nbsp;.NET&nbsp;4.0&nbsp;app&nbsp;on&nbsp;Windows&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;server&nbsp;2003&nbsp;going&nbsp;against&nbsp;RabbitMQ&nbsp;2.7.0&nbsp;running&nbsp;on&nbsp;Ubuntu.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;Status&nbsp;of&nbsp;node&nbsp;rabbit@xxx&nbsp;...&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;[{pid,1344},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; {running_applications,&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp;[{rabbitmq_management,&amp;quot;RabbitMQ&nbsp;Management&nbsp;Console&amp;quot;,&amp;quot;2.7.0&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {rabbitmq_management_agent,&amp;quot;RabbitMQ&nbsp;Management&nbsp;Agent&amp;quot;,&amp;quot;2.7.0&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {amqp_client,&amp;quot;RabbitMQ&nbsp;AMQP&nbsp;Client&amp;quot;,&amp;quot;2.7.0&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {rabbit,&amp;quot;RabbitMQ&amp;quot;,&amp;quot;2.7.0&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {os_mon,&amp;quot;CPO&nbsp; CXC&nbsp;138&nbsp;46&amp;quot;,&amp;quot;2.2.5&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {sasl,&amp;quot;SASL&nbsp; CXC&nbsp;138&nbsp;11&amp;quot;,&amp;quot;2.1.9.3&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {rabbitmq_mochiweb,&amp;quot;RabbitMQ&nbsp;Mochiweb&nbsp;Embedding&amp;quot;,&amp;quot;2.7.0&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {webmachine,&amp;quot;webmachine&amp;quot;,&amp;quot;1.7.0-rmq2.7.0-hg&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {mochiweb,&amp;quot;MochiMedia&nbsp;Web&nbsp;Server&amp;quot;,&amp;quot;1.3-rmq2.7.0-git&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {inets,&amp;quot;INETS&nbsp; CXC&nbsp;138&nbsp;49&amp;quot;,&amp;quot;5.5.2&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {mnesia,&amp;quot;MNESIA&nbsp; CXC&nbsp;138&nbsp;12&amp;quot;,&amp;quot;4.4.17&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {stdlib,&amp;quot;ERTS&nbsp; CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;1.17.3&amp;quot;},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {kernel,&amp;quot;ERTS&nbsp; CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;2.14.3&amp;quot;}]},&nbsp; {os,{unix,linux}},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;{erlang_version,&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp;&amp;quot;Erlang&nbsp;R14B02&nbsp;(erts-5.8.3)&nbsp;[source]&nbsp;[64-bit]&nbsp;[smp:8:8]&nbsp;[rq:8]&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;[async-threads:30]&nbsp;[kernel-poll:true]\n&amp;quot;},&nbsp; {memory,&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp;[{total,31177024},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {processes,11828776},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {processes_used,11772888},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {system,19348248},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {atom,1355273},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {atom_used,1339382},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {binary,84928},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {code,14547474},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; &nbsp; &nbsp; {ets,1099944}]},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; {vm_memory_high_watermark,0.39999999995232727},&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp; {vm_memory_limit,&lt;a&nbsp;href=&quot;tel:5034326425&quot;&nbsp;value=&quot;+15034326425&quot;&gt;5034326425&lt;/a&gt;}]&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;...done.&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-disc...@lists.rabbitmq.com&quot;&gt;rabbitmq-disc...@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discu&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discu&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&nbsp;ss&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;rabbitmq-disc...@lists.rabbitmq.comhttps://&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin&quot;&nbsp;target=&quot;_blank&quot;&gt;lists.rabbitmq.com/cgi-bin&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;/mailman/listinfo/rabbitmq-discuss&lt;br&gt;<br>
&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
