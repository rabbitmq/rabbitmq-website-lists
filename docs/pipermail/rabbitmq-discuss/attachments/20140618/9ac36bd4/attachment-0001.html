<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Forgot&nbsp;to&nbsp;list&nbsp;the&nbsp;client&nbsp;code.&nbsp;&nbsp;Client&nbsp;dies&nbsp;when&nbsp;trying&nbsp;to&nbsp;publish&nbsp;(IOException&nbsp;-&nbsp;unable&nbsp;to&nbsp;read&nbsp;from&nbsp;transport):&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;private&nbsp;void&nbsp;PublishMessage(byte[]&nbsp;message,&nbsp;Type&nbsp;messageType,&nbsp;string&nbsp;contentType,&nbsp;string&nbsp;messageId)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory()&nbsp;{VirtualHost&nbsp;=&nbsp;this.VirtualHost,&nbsp;HostName&nbsp;=&nbsp;this.Host,&nbsp;UserName&nbsp;=&nbsp;this.User,&nbsp;Password&nbsp;=&nbsp;this.Password&nbsp;};&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;(var&nbsp;connection&nbsp;=&nbsp;factory.CreateConnection())&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using&nbsp;(var&nbsp;channel&nbsp;=&nbsp;connection.CreateModel())&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IBasicProperties&nbsp;props&nbsp;=&nbsp;channel.CreateBasicProperties();&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;props.SetPersistent(this.PersistMessages);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Mime&nbsp;time&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;props.ContentType&nbsp;=&nbsp;contentType;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;props.Type&nbsp;=&nbsp;messageType.FullName;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;props.MessageId&nbsp;=&nbsp;messageId;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//http://www.rabbitmq.com/tutorials/tutorial-three-dotnet.html&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Note,&nbsp;may&nbsp;get&nbsp;AlreadyClosedException&nbsp;here&nbsp;if&nbsp;publishing&nbsp;to&nbsp;a&nbsp;incorrect&nbsp;exchange&nbsp;name&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.BasicPublish(this.ExchangeName,&nbsp;this.RoutingKey,&nbsp;props,&nbsp;message);&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Server&nbsp;side&nbsp;error&nbsp;is&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;18-Jun-2014::20:24:03&nbsp;===&lt;/div&gt;&lt;div&gt;AMQP&nbsp;connection&nbsp;&lt;0.286.0&gt;&nbsp;(running),&nbsp;channel&nbsp;1&nbsp;-&nbsp;error:&lt;/div&gt;&lt;div&gt;{amqp_error,unexpected_frame,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;expected&nbsp;content&nbsp;header&nbsp;for&nbsp;class&nbsp;60,&nbsp;got&nbsp;non&nbsp;content&nbsp;header&nbsp;frame&nbsp;instead&quot;,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'basic.publish'}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;18-Jun-2014::20:24:03&nbsp;===&lt;/div&gt;&lt;div&gt;closing&nbsp;AMQP&nbsp;connection&nbsp;&lt;0.286.0&gt;&nbsp;(172.17.9.14:53072&nbsp;-&gt;&nbsp;172.17.9.24:5672)&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;On&nbsp;Wednesday,&nbsp;June&nbsp;18,&nbsp;2014&nbsp;5:47:12&nbsp;PM&nbsp;UTC-5,&nbsp;Scott&nbsp;McFadden&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;We&nbsp;get&nbsp;a&nbsp;SocketException&nbsp;when&nbsp;RabbitMQClient::&lt;wbr&gt;SocketFrameHandler&nbsp;tries&nbsp;to&nbsp;invoke&nbsp;SendHeader&nbsp;(IPV4).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;I&nbsp;installed&nbsp;Rabbit&nbsp;MQ&nbsp;on&nbsp;our&nbsp;Win2008&nbsp;dev&nbsp;server&nbsp;as&nbsp;my&nbsp;domain&nbsp;user.&nbsp;&nbsp;It's&nbsp;configured&nbsp;to&nbsp;run&nbsp;as&nbsp;Windows&nbsp;Service&nbsp;/&nbsp;LocalSystem.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;should&nbsp;I&nbsp;troubleshoot&nbsp;this&nbsp;error?&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;Server&nbsp;=&nbsp;Rabbitmq_server-3.3.0&nbsp;(Windows&nbsp;Server&nbsp;2008,&nbsp;No&nbsp;Firewall)&lt;div&gt;Client&nbsp;=&nbsp;.NET&nbsp;/&nbsp;&nbsp;RabbitMQ.Client&nbsp;3.3.0.0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;C:\Program&nbsp;Files&nbsp;(x86)\RabbitMQ&nbsp;Server\rabbitmq_server-3.3.0\&lt;wbr&gt;sbin&gt;rabbitmqctl.bat&nbsp;status&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Status&nbsp;of&nbsp;node&nbsp;rabbit@DEVTEST01&nbsp;...&lt;/div&gt;&lt;div&gt;Error:&nbsp;unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;node&nbsp;rabbit@DEVTEST01:&nbsp;nodedown&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;DIAGNOSTICS&lt;/div&gt;&lt;div&gt;===========&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;attempted&nbsp;to&nbsp;contact:&nbsp;[rabbit@DEVTEST01]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rabbit@DEVTEST01:&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;*&nbsp;found&nbsp;rabbit&nbsp;(port&nbsp;25672)&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;*&nbsp;TCP&nbsp;connection&nbsp;succeeded&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;*&nbsp;suggestion:&nbsp;hostname&nbsp;mismatch?&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;*&nbsp;suggestion:&nbsp;is&nbsp;the&nbsp;cookie&nbsp;set&nbsp;correctly?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;current&nbsp;node&nbsp;details:&lt;/div&gt;&lt;div&gt;-&nbsp;node&nbsp;name:&nbsp;rabbitmqctl2618644@DEVTEST01&lt;/div&gt;&lt;div&gt;-&nbsp;home&nbsp;dir:&nbsp;C:\Windows\system32&lt;/div&gt;&lt;div&gt;-&nbsp;cookie&nbsp;hash:&nbsp;ZmgA84wX0aHnw48E/7gOGg==&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;thanks&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;scott&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
