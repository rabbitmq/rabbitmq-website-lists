<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type='text/css'&gt;p&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style='font-family:&nbsp;Times&nbsp;New&nbsp;Roman;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;#000000'&gt;Thanks&nbsp;Scott.&nbsp;But&nbsp;I&nbsp;do&nbsp;want&nbsp;to&nbsp;subscribe/consume&nbsp;(I&nbsp;think),&nbsp;as&nbsp;it&nbsp;is&nbsp;unknown&nbsp;whether&nbsp;there&nbsp;will&nbsp;be&nbsp;any&nbsp;data&nbsp;in&nbsp;the&nbsp;queue,&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;be&nbsp;notified&nbsp;immediately&nbsp;when&nbsp;there&nbsp;is.&nbsp;I&nbsp;don't&nbsp;really&nbsp;want&nbsp;to&nbsp;poll&nbsp;rabbit&nbsp;using&nbsp;a&nbsp;basic.get&nbsp;and&nbsp;would&nbsp;rather&nbsp;be&nbsp;notified&nbsp;asynchronously&nbsp;when&nbsp;new&nbsp;items&nbsp;are&nbsp;in&nbsp;the&nbsp;queue.&nbsp;I&nbsp;have&nbsp;hundreds&nbsp;(thousands&nbsp;soon)&nbsp;of&nbsp;queues&nbsp;waiting&nbsp;for&nbsp;data&nbsp;across&nbsp;a&nbsp;cluster&nbsp;and&nbsp;the&nbsp;polling&nbsp;overhead&nbsp;would&nbsp;be&nbsp;higher&nbsp;than&nbsp;I&nbsp;want&nbsp;it&nbsp;to&nbsp;be.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-JD&lt;div&gt;&lt;br&gt;-----&nbsp;Original&nbsp;Message&nbsp;-----&lt;br&gt;From:&nbsp;&quot;Scott&nbsp;Brooks&quot;&nbsp;&amp;lt;scott.brooks@epicadvertising.com&amp;gt;&lt;br&gt;To:&nbsp;&quot;JD&nbsp;Conley&quot;&nbsp;&amp;lt;jdc@hive7.com&amp;gt;&lt;br&gt;Cc:&nbsp;rabbitmq-discuss@lists.rabbitmq.com&lt;br&gt;Sent:&nbsp;Monday,&nbsp;November&nbsp;16,&nbsp;2009&nbsp;6:59:35&nbsp;PM&nbsp;GMT&nbsp;-08:00&nbsp;US/Canada&nbsp;Pacific&lt;br&gt;Subject:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;how&nbsp;to&nbsp;consume&nbsp;one&nbsp;message&nbsp;at&nbsp;a&nbsp;time&lt;br&gt;&lt;br&gt;I'm&nbsp;not&nbsp;sure&nbsp;what&nbsp;the&nbsp;.NET&nbsp;api&nbsp;looks&nbsp;like,&nbsp;but&nbsp;you&nbsp;want&nbsp;to&nbsp;do&nbsp;a&nbsp;basic&nbsp;get,&nbsp;rather&nbsp;then&nbsp;a&nbsp;basic&nbsp;subscribe.&lt;br&gt;&lt;br&gt;It&nbsp;will&nbsp;return&nbsp;a&nbsp;single&nbsp;message&nbsp;from&nbsp;the&nbsp;queue,&nbsp;and&nbsp;then&nbsp;when&nbsp;you&nbsp;call&nbsp;it&nbsp;again,&nbsp;you&nbsp;will&nbsp;get&nbsp;the&nbsp;next&nbsp;message(or&nbsp;null/something&nbsp;similar)&lt;br&gt;&lt;br&gt;Scott&lt;br&gt;&lt;br&gt;On&nbsp;2009-11-16,&nbsp;at&nbsp;5:41&nbsp;PM,&nbsp;JD&nbsp;Conley&nbsp;wrote:&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;I'm&nbsp;using&nbsp;the&nbsp;.NET&nbsp;client&nbsp;and&nbsp;can't&nbsp;figure&nbsp;out&nbsp;how&nbsp;to&nbsp;consume&nbsp;only&nbsp;one&lt;br&gt;&amp;gt;&nbsp;message&nbsp;at&nbsp;a&nbsp;time.&nbsp;Basically&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;simply:&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;1.&nbsp;Consume&nbsp;one&nbsp;message&nbsp;from&nbsp;a&nbsp;queue&lt;br&gt;&amp;gt;&nbsp;2.&nbsp;Cancel&nbsp;consumption&nbsp;so&nbsp;I&nbsp;don't&nbsp;lose&nbsp;any&nbsp;messages&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;My&nbsp;confusion&nbsp;comes&nbsp;with&nbsp;the&nbsp;statement&nbsp;in&nbsp;the&nbsp;user&nbsp;guide&nbsp;that&nbsp;&quot;Application&lt;br&gt;&amp;gt;&nbsp;callback&nbsp;handlers&nbsp;must&nbsp;not&nbsp;invoke&nbsp;blocking&nbsp;AMQP&nbsp;operations&nbsp;(such&nbsp;as&lt;br&gt;&amp;gt;&nbsp;IModel.QueueDeclare&nbsp;or&nbsp;IModel.BasicCancel).&nbsp;If&nbsp;they&nbsp;do,&nbsp;the&nbsp;channel&nbsp;will&lt;br&gt;&amp;gt;&nbsp;deadlock.&quot;&nbsp;But,&nbsp;a&nbsp;BasicCancel&nbsp;is&nbsp;precisely&nbsp;what&nbsp;I&nbsp;want&nbsp;to&nbsp;do&nbsp;in&nbsp;the&lt;br&gt;&amp;gt;&nbsp;callback.&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;I&nbsp;want&nbsp;to&nbsp;use&nbsp;the&nbsp;EventingBasicConsumer.&nbsp;What&nbsp;would&nbsp;be&nbsp;the&nbsp;best&nbsp;way&nbsp;to&lt;br&gt;&amp;gt;&nbsp;accomplish&nbsp;this?&nbsp;Which&nbsp;options&nbsp;do&nbsp;I&nbsp;set?&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;-JD&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;rabbitmq-discuss@lists.rabbitmq.com&lt;br&gt;&amp;gt;&nbsp;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
