<tt>
Evening,&nbsp;&lt;br&gt;&lt;br&gt;I&amp;#39;ve&nbsp;been&nbsp;using&nbsp;and&nbsp;adapting&nbsp;the&nbsp;php-amqplib&nbsp;producer/consumer&nbsp;to&nbsp;link&nbsp;systems&nbsp;together.&nbsp;The&nbsp;main&nbsp;change&nbsp;was&nbsp;replacing&nbsp;fsockopen&nbsp;with&nbsp;a&nbsp;stream_socket_client()&nbsp;using&nbsp;the&nbsp;STREAM_CLIENT_CONNECT&nbsp;|&nbsp;STREAM_CLIENT_PERSISTENT&nbsp;flag.&nbsp;&lt;br&gt;<br>
&lt;br&gt; Whilst&nbsp;the&nbsp;consumer&nbsp;is&nbsp;fine&nbsp;over&nbsp;non-SSL&nbsp;and&nbsp;running&nbsp;on&nbsp;the&nbsp;command&nbsp;line&nbsp;as&nbsp;per&nbsp;the&nbsp;Readme,&nbsp;it&nbsp;appears&nbsp;to&nbsp;crash&nbsp;on&nbsp;SSL&nbsp;after&nbsp;about&nbsp;an&nbsp;hour&nbsp;or&nbsp;so.&nbsp;The&nbsp;server&nbsp;reports&nbsp;that&nbsp;it&nbsp;is&nbsp;running&nbsp;as&nbsp;does&nbsp;the&nbsp;server,&nbsp;but&nbsp;no&nbsp;messages&nbsp;are&nbsp;being&nbsp;passed&nbsp;to&nbsp;the&nbsp;linked&nbsp;system,&nbsp;rather&nbsp;are&nbsp;queueing&nbsp;up&nbsp;on&nbsp;the&nbsp;server.&nbsp;&lt;br&gt;<br>
&lt;br&gt;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;of&nbsp;closing&nbsp;a&nbsp;listener&nbsp;via&nbsp;a&nbsp;PID&nbsp;or&nbsp;only&nbsp;by&nbsp;connection&nbsp;on&nbsp;the&nbsp;server&nbsp;using&nbsp;rabbitmqctl&nbsp;list_connections? &nbsp;If&nbsp;messages&nbsp;are&nbsp;being&nbsp;queued,&nbsp;is&nbsp;there&nbsp;a&nbsp;way&nbsp;of&nbsp;kicking&nbsp;the&nbsp;queue&nbsp;to&nbsp;see&nbsp;if&nbsp;a&nbsp;connection&nbsp;is&nbsp;accepting&nbsp;or&nbsp;failing&nbsp;and&nbsp;sending&nbsp;any&nbsp;error&nbsp;back?&nbsp;The&nbsp;log&nbsp;suggests&nbsp;a&nbsp;timeout&nbsp;but&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;try&nbsp;and&nbsp;figure&nbsp;out&nbsp;where&nbsp;and&nbsp;get&nbsp;the&nbsp;timing&nbsp;exact.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Alternatively,&nbsp;does&nbsp;any&nbsp;body&nbsp;know&nbsp;of&nbsp;a&nbsp;PHP&nbsp;library&nbsp;which&nbsp;I&nbsp;can&nbsp;rebuild&nbsp;the&nbsp;persistent&nbsp;SSL&nbsp;connections&nbsp;quickly&nbsp;for&nbsp;the&nbsp;consumer?&lt;br&gt;&lt;br&gt;Thanks&nbsp;in&nbsp;advance&nbsp;for&nbsp;any&nbsp;help&nbsp;and&nbsp;advice&nbsp;received.&nbsp;&lt;br&gt;&lt;br&gt;Yours,&lt;br&gt;&lt;br&gt;Iain&lt;br&gt;&lt;br&gt;<br>

</tt>
