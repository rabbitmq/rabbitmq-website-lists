<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Sorry&nbsp;guys&nbsp;for&nbsp;extending&nbsp;this&nbsp;topic&nbsp;further&nbsp;and&nbsp;further.&nbsp;What&nbsp;if&nbsp;I&nbsp;disabled&nbsp;heartbeat?&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;On&nbsp;the&nbsp;producer&nbsp;side&nbsp;&lt;/b&gt;-&nbsp;When&nbsp;a&nbsp;producer&nbsp;tries&nbsp;to&nbsp;send&nbsp;a&nbsp;message,&nbsp;.NET&nbsp;client&nbsp;code&nbsp;will&nbsp;catch&nbsp;Connection&nbsp;Shutdown&nbsp;exception&nbsp;and&nbsp;try&nbsp;to&nbsp;reinitiate&nbsp;the&nbsp;connection.&nbsp;Depending&nbsp;on&nbsp;the&nbsp;traffic&nbsp;on&nbsp;the&nbsp;connection,&nbsp;this&nbsp;could&nbsp;be&nbsp;caught&nbsp;within&nbsp;a&nbsp;second&nbsp;if&nbsp;the&nbsp;connection&nbsp;was&nbsp;active&nbsp;sending&nbsp;data&nbsp;or&nbsp;within&nbsp;several&nbsp;minutes&nbsp;if&nbsp;the&nbsp;connection&nbsp;was&nbsp;idle.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;On&nbsp;the&nbsp;consumer&nbsp;side&lt;/b&gt;&nbsp;-&nbsp;How&nbsp;frequently&nbsp;does&nbsp;the&nbsp;consumer&nbsp;check&nbsp;the&nbsp;queue&nbsp;for&nbsp;messages?&nbsp;I&nbsp;thought&nbsp;that&nbsp;even&nbsp;without&nbsp;heartbeats&nbsp;Consumers&nbsp;will&nbsp;catch&nbsp;the&nbsp;following&nbsp;exception:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
System.IO.IOException:&nbsp;Unable&nbsp;to&nbsp;read&nbsp;data&nbsp;from&nbsp;the&nbsp;transport&nbsp;connection:&nbsp;An&nbsp;existing&nbsp;connection&nbsp;was&nbsp;forcibly&nbsp;closed&nbsp;by&nbsp;the&nbsp;remote&nbsp;host.&nbsp;---&gt;&nbsp;System.Net.Sockets.SocketException:&nbsp;An&nbsp;existing&nbsp;connection&nbsp;was&nbsp;forcibly&nbsp;closed&nbsp;by&nbsp;the&nbsp;remote&nbsp;host&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; at&nbsp;System.Net.Sockets.NetworkStream.Read(Byte[]&nbsp;buffer,&nbsp;Int32&nbsp;offset,&nbsp;Int32&nbsp;size)&lt;/div&gt;&lt;div&gt; &nbsp; ---&nbsp;End&nbsp;of&nbsp;inner&nbsp;exception&nbsp;stack&nbsp;trace&nbsp;---&lt;/div&gt;&lt;div&gt; &nbsp; at&nbsp;RabbitMQ.Client.Impl.Frame.ReadFrom(NetworkBinaryReader&nbsp;reader)&lt;/div&gt;<br>
&lt;div&gt; &nbsp; at&nbsp;RabbitMQ.Client.Impl.SocketFrameHandler_0_9.ReadFrame()&lt;/div&gt;&lt;div&gt; &nbsp; at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.MainLoopIteration()&lt;/div&gt;&lt;div&gt; &nbsp; at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.MainLoop()&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;Thanks!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Apr&nbsp;14,&nbsp;2014&nbsp;at&nbsp;8:46&nbsp;AM,&nbsp;Michael&nbsp;Klishin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:mklishin@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mklishin@gopivotal.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;14&nbsp;April&nbsp;2014&nbsp;at&nbsp;19:41:44,&nbsp;Arun&nbsp;Rao&nbsp;(&lt;a&nbsp;href=&quot;mailto:arunrao.seattle@gmail.com&quot;&gt;arunrao.seattle@gmail.com&lt;/a&gt;)&nbsp;wrote:&lt;br&gt;<br>
<br>
&gt;&nbsp;&gt;&nbsp;Are&nbsp;there&nbsp;any&nbsp;use&nbsp;cases&nbsp;when&nbsp;RabbitMQ&nbsp;.NET/Java&nbsp;client&nbsp;code&lt;br&gt;<br>
&gt;&nbsp;closes&nbsp;connection&nbsp;due&nbsp;to&nbsp;missed&nbsp;heartbeats?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Every&nbsp;correct&nbsp;client&nbsp;and&nbsp;RabbitMQ&nbsp;must&nbsp;close&nbsp;TCP&nbsp;connection&nbsp;when&nbsp;2&nbsp;heartbeats&lt;br&gt;<br>
are&nbsp;skipped&nbsp;by&nbsp;the&nbsp;peer. &lt;br&gt;<br>
&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;--&lt;br&gt;<br>
MK&lt;br&gt;<br>
&lt;br&gt;<br>
Software&nbsp;Engineer,&nbsp;Pivotal/RabbitMQ&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
