<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;You&nbsp;will&nbsp;have&nbsp;one&nbsp;Erlang&nbsp;cookie&nbsp;per&nbsp;user&nbsp;that&nbsp;started&nbsp;a&nbsp;distributed&nbsp;Erlang&nbsp;VM.&nbsp;Say&nbsp;you&nbsp;run&nbsp;RrabbitMQ&nbsp;as&nbsp;the&nbsp;user&nbsp;&amp;quot;rabbit&amp;quot;.&nbsp;Erlang&nbsp;will&nbsp;create&nbsp;a&nbsp;cookie&nbsp;for&nbsp;that&nbsp;user.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Then&nbsp;with&nbsp;your&nbsp;own&nbsp;user&nbsp;you&nbsp;try&nbsp;to&nbsp;run&nbsp;rabbitmqctl.&nbsp;That&nbsp;will&nbsp;create&nbsp;an&nbsp;Erlang&nbsp;cookie&nbsp;in&nbsp;your&nbsp;home&nbsp;folder,&nbsp;and&nbsp;that&nbsp;cookie&nbsp;_won&amp;#39;t_&nbsp;match&nbsp;the&nbsp;one&nbsp;created&nbsp;for&nbsp;RabbitMQ.&nbsp;What&nbsp;you&nbsp;have&nbsp;to&nbsp;do&nbsp;is&nbsp;either&nbsp;make&nbsp;sure&nbsp;both&nbsp;files&nbsp;have&nbsp;the&nbsp;same&nbsp;content,&nbsp;or&nbsp;set&nbsp;the&nbsp;cookie&nbsp;during&nbsp;startup,&nbsp;or&nbsp;update&nbsp;it&nbsp;afterwards&nbsp;to&nbsp;match&nbsp;the&nbsp;one&nbsp;of&nbsp;the&nbsp;other&nbsp;node&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&nbsp;connect&nbsp;to.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See:&nbsp;&lt;a&nbsp;href=&quot;http://www.erlang.org/doc/reference_manual/distributed.html#id83622&quot;&gt;http://www.erlang.org/doc/reference_manual/distributed.html#id83622&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Sep&nbsp;13,&nbsp;2013&nbsp;at&nbsp;3:45&nbsp;PM,&nbsp;Ben&nbsp;Hsu&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:ben.hsu@criticalmedia.com&quot;&nbsp;target=&quot;_blank&quot;&gt;ben.hsu@criticalmedia.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;p&nbsp;style=&quot;margin:0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;4&quot;&nbsp;style=&quot;font:13.0px&nbsp;Helvetica&quot;&gt;Thank&nbsp;you&nbsp;Alvaro,&lt;/font&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px;font:13.0px&nbsp;Helvetica;min-height:16.0px&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;4&quot;&nbsp;style=&quot;font:13.0px&nbsp;Helvetica&quot;&gt;I&nbsp;understand&lt;span&gt; &nbsp;&lt;/span&gt;the&nbsp;difference&nbsp;between&nbsp;rabbitmq-server&nbsp;and&nbsp;rabbitmqctl&nbsp;now.&lt;/font&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px;font:13.0px&nbsp;Helvetica;min-height:16.0px&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;4&quot;&nbsp;style=&quot;font:13.0px&nbsp;Helvetica&quot;&gt;I&amp;#39;m&nbsp;still&nbsp;not&nbsp;able&nbsp;to&nbsp;copy&nbsp;or&nbsp;edit&nbsp;the&nbsp;Erlang&nbsp;cookie&nbsp;without&nbsp;killing&nbsp;the&nbsp;process.&nbsp;I&nbsp;see&nbsp;two&nbsp;different&nbsp;.erlang.cookie&nbsp;files:&nbsp;one&nbsp;in&nbsp;/var/lib/rabbitmq&nbsp;and&nbsp;one&nbsp;in&nbsp;the&nbsp;users&nbsp;home&nbsp;directory.&nbsp;I&nbsp;copied&nbsp;the&nbsp;first&nbsp;to&nbsp;the&nbsp;second&nbsp;and&nbsp;still&nbsp;got&nbsp;the&nbsp;&amp;quot;unable&nbsp;to&nbsp;connect&amp;quot;&nbsp;problem&lt;/font&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;style=&quot;margin:0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px;font:13.0px&nbsp;Helvetica;min-height:16.0px&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0.0px&nbsp;0.0px&nbsp;0.0px&nbsp;0.0px&quot;&gt;&lt;font&nbsp;face=&quot;Helvetica&quot;&nbsp;size=&quot;4&quot;&nbsp;style=&quot;font:13.0px&nbsp;Helvetica&quot;&gt;I&nbsp;am&nbsp;running&nbsp;version&nbsp;3.1.3.1&nbsp;on&nbsp;CentOS&lt;/font&gt;&lt;/p&gt;<br>
&nbsp;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:helvetica,arial;font-size:13px&quot;&gt;&lt;/span&gt;-- Ben&nbsp;Hsu&lt;span&gt;Sent&nbsp;with&nbsp;&lt;a&nbsp;href=&quot;http://airmailapp.com/tracking&quot;&nbsp;target=&quot;_blank&quot;&gt;Airmail&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&nbsp;&lt;br&gt;&lt;p&nbsp;style=&quot;color:#a0a0a8&quot;&gt;<br>
On&nbsp;September&nbsp;13,&nbsp;2013&nbsp;at&nbsp;7:39:41&nbsp;PM,&nbsp;Ben&nbsp;Hsu&nbsp;(&lt;a&nbsp;href=&quot;mailto:ben.hsu@criticalmedia.com&quot;&nbsp;target=&quot;_blank&quot;&gt;ben.hsu@criticalmedia.com&lt;/a&gt;)&nbsp;wrote:&lt;/p&gt;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px&quot;&gt;<br>
&lt;span&gt;&lt;div&gt;The&nbsp;Erlang&nbsp;cookie&nbsp;belongs&nbsp;to&nbsp;each&nbsp;particular&nbsp;user&nbsp;on&nbsp;your&nbsp;machines.&nbsp;The cookie&nbsp;can&nbsp;be&nbsp;found&nbsp;on&nbsp;~/.erlang.cookie&nbsp;and&nbsp;you&nbsp;need&nbsp;to&nbsp;have&nbsp;the&nbsp;same&nbsp;value&nbsp;there&nbsp;for&nbsp;every&nbsp;node&nbsp;in&nbsp;the&nbsp;cluster.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;start_app&nbsp;stops&nbsp;the&nbsp;Rabbit&nbsp;application&nbsp;inside&nbsp;the&nbsp;Erlang&nbsp;VM&nbsp;but&nbsp;the&nbsp;VM&nbsp;has&nbsp;to&nbsp;be&nbsp;running&nbsp;for&nbsp;that&nbsp;to&nbsp;work. &lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;stop_app&nbsp;will&nbsp;stop&nbsp;the&nbsp;rabbit&nbsp;app,&nbsp;but&nbsp;not&nbsp;the&nbsp;Erlang&nbsp;VM&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rabbitmq-server&nbsp;takes&nbsp;care&nbsp;of&nbsp;preparing&nbsp;the&nbsp;env&nbsp;parameters&nbsp;and&nbsp;starting&nbsp;the&nbsp;Erlang&nbsp;VM&nbsp;to&nbsp;then&nbsp;run&nbsp;RabbitMQ&nbsp;on&nbsp;it.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Alvaro&lt;span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;On&nbsp;Friday,&nbsp;September&nbsp;13,&nbsp;2013,&nbsp;Ben&nbsp;Hsu&nbsp;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
&lt;div&nbsp;style=&quot;word-wrap:break-word&quot;&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;margin:0px;line-height:auto&quot;&gt;Hello&nbsp;all&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;margin:0px;line-height:auto&quot;&gt;&lt;br&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;margin:0px;line-height:auto&quot;&gt;I&nbsp;need&nbsp;to&nbsp;change&nbsp;the&nbsp;erlang&nbsp;cookie&nbsp;on&nbsp;my&nbsp;RabbitMQ&nbsp;server&nbsp;to&nbsp;get&nbsp;clustering&nbsp;working,&nbsp;and&nbsp;wish&nbsp;to&nbsp;know&nbsp;the&nbsp;correct&nbsp;procedure.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;margin:0px;line-height:auto&quot;&gt;<br>
<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;margin:0px;line-height:auto&quot;&gt;I&nbsp;tried&nbsp;doing&nbsp;this:&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;margin:0px;line-height:auto&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;margin:0px&quot;&gt;<br>
<br>
<br>
rabbitmqctl&nbsp;stop_app&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;margin:0px&quot;&gt;vi&nbsp;/var/lib/rabbitmq/.erlang.cookie&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;margin:0px&quot;&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;margin:0px;line-height:auto&quot;&gt;<br>
<br>
<br>
rabbitmqctl&nbsp;start_app&nbsp;#&nbsp;this&nbsp;gave&nbsp;me&nbsp;an&nbsp;error&nbsp;message: &lt;i&gt;Error:&nbsp;unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;node&nbsp;&amp;#39;rabbit@ben-amqp-test4&amp;#39;:&nbsp;nodedown&lt;/i&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Helvetica,Arial;font-size:13px;margin:0px;line-height:auto&quot;&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;By&nbsp;trial&nbsp;and&nbsp;error,&nbsp;I&nbsp;found&nbsp;this&nbsp;worked:&lt;/div&gt;&lt;div&gt;pkill&nbsp;beam&lt;/div&gt;&lt;div&gt;pkill&nbsp;epmd&lt;/div&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;vi&nbsp;/var/lib/rabbitmq/.erlang.cookie&lt;/div&gt;&lt;div&nbsp;style=&quot;margin:0px&quot;&gt;&lt;/div&gt;&lt;div&gt;rabbitmq-server &lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;#&nbsp;now&nbsp;in&nbsp;a&nbsp;separate&nbsp;window,&nbsp;for&nbsp;some&nbsp;reason&nbsp;it&nbsp;didn&amp;#39;t&nbsp;work&nbsp;with&nbsp;rabbitmq-server&nbsp;-detached&lt;/div&gt;&lt;div&gt;rabbitmqctl&nbsp;start_app&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;seemed&nbsp;to&nbsp;work,&nbsp;but&nbsp;is&nbsp;ugly,&nbsp;and&nbsp;doesn&amp;#39;t&nbsp;feel&nbsp;like&nbsp;the&nbsp;right&nbsp;way&nbsp;of&nbsp;doing&nbsp;it.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Also,&nbsp;what&nbsp;is&nbsp;the&nbsp;difference&nbsp;between&nbsp;&amp;quot;rabbitmqctl&nbsp;start_app&amp;quot;&nbsp;and&nbsp;&amp;quot;rabbitmq-server&amp;quot;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;<br>
<br>
<br>
&lt;span&nbsp;style=&quot;font-family:helvetica,arial;font-size:13px&quot;&gt;&lt;/span&gt;-- &lt;br&gt;Ben&nbsp;Hsu&lt;br&gt;&lt;span&gt;Sent&nbsp;with&nbsp;&lt;a&nbsp;href=&quot;http://airmailapp.com/tracking&quot;&nbsp;target=&quot;_blank&quot;&gt;Airmail&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
