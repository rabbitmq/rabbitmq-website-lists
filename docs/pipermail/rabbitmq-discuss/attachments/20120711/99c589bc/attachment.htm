<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;See<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;a<br>
href=&quot;http://static.springsource.org/spring-amqp/docs/1.1.1.RELEASE/reference/html/#d0e999&quot;&gt;http://static.springsource.org/spring-amqp/docs/1.1.1.RELEASE/reference/html/#d0e999&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;shouldn't&nbsp;take&nbsp;much&nbsp;heavy&nbsp;lifting&nbsp;to&nbsp;use&nbsp;spring-amqp&nbsp;instead&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;raw&nbsp;apis,&nbsp;and&nbsp;it&nbsp;will&nbsp;take&nbsp;care&nbsp;of&nbsp;reconnecting,&nbsp;setting&nbsp;up<br>
&nbsp;&nbsp;&nbsp;&nbsp;queues&nbsp;etc,&nbsp;via&nbsp;the&nbsp;ConnectionListener&nbsp;callback&nbsp;in&nbsp;the&nbsp;RabbitAdmin<br>
&nbsp;&nbsp;&nbsp;&nbsp;class.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;the&nbsp;receiving&nbsp;side,&nbsp;you&nbsp;don't&nbsp;have&nbsp;to&nbsp;write&nbsp;any&nbsp;special&nbsp;listeners<br>
&nbsp;&nbsp;&nbsp;&nbsp;etc&nbsp;to&nbsp;use&nbsp;spring-amqp;&nbsp;you&nbsp;can&nbsp;just&nbsp;write&nbsp;your&nbsp;code&nbsp;as&nbsp;a&nbsp;POJO&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;container&nbsp;uses&nbsp;an&nbsp;adapter&nbsp;to&nbsp;call&nbsp;your&nbsp;code.&nbsp;On&nbsp;the&nbsp;outbound<br>
&nbsp;&nbsp;&nbsp;&nbsp;side&nbsp;just&nbsp;use&nbsp;a&nbsp;RabbitTemplate;&nbsp;in&nbsp;most&nbsp;cases&nbsp;you&nbsp;can&nbsp;use&nbsp;high-level<br>
&nbsp;&nbsp;&nbsp;&nbsp;APIs,&nbsp;while&nbsp;still&nbsp;having&nbsp;access&nbsp;to&nbsp;the&nbsp;low&nbsp;level&nbsp;APIs&nbsp;(channel)&nbsp;if<br>
&nbsp;&nbsp;&nbsp;&nbsp;you&nbsp;ever&nbsp;need&nbsp;them.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;you&nbsp;can't&nbsp;move&nbsp;to&nbsp;spring-amqp,&nbsp;you&nbsp;might&nbsp;be&nbsp;able&nbsp;to&nbsp;leverage&nbsp;some<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;code&nbsp;from&nbsp;RabbitAdmin.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Gary&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;On&nbsp;07/11/2012&nbsp;02:16&nbsp;PM,&nbsp;cogitate&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:1342030568666-20721.post@n5.nabble.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
Jerry&nbsp;Kuch-2&nbsp;wrote<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
Hi,&nbsp;Monish:<br>
<br>
If&nbsp;you're&nbsp;using&nbsp;the&nbsp;naked&nbsp;Java&nbsp;client,&nbsp;you'll&nbsp;have&nbsp;to&nbsp;implement&nbsp;your&nbsp;own<br>
reconnection&nbsp;logic.&nbsp;&nbsp;If&nbsp;you're&nbsp;using&nbsp;Spring&nbsp;AMQP&nbsp;there's&nbsp;some&nbsp;helper&nbsp;code<br>
that&nbsp;wraps&nbsp;your&nbsp;connections&nbsp;with&nbsp;some&nbsp;retry&nbsp;logic&nbsp;for&nbsp;you.<br>
<br>
Best&nbsp;regards,<br>
Jerry<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;thanks&nbsp;much&nbsp;Jerry&nbsp;for&nbsp;such&nbsp;a&nbsp;prompt&nbsp;reply.&nbsp;I&nbsp;would&nbsp;love&nbsp;to&nbsp;re-use<br>
spring-amqp&nbsp;and&nbsp;use&nbsp;the&nbsp;wrapped&nbsp;connection(&nbsp;it&nbsp;seems&nbsp;CachedConnectionFactory<br>
+&nbsp;SimpleListenerContainer&nbsp;).&nbsp;<br>
what&nbsp;i&nbsp;am&nbsp;wondering&nbsp;for&nbsp;a&nbsp;simple&nbsp;amqp&nbsp;client&nbsp;that&nbsp;simply&nbsp;wants&nbsp;to&nbsp;re-connect<br>
when&nbsp;a&nbsp;broker&nbsp;shutsdown,&nbsp;is&nbsp;there&nbsp;any&nbsp;way&nbsp;i&nbsp;can&nbsp;re-initialize&nbsp;all&nbsp;my<br>
reply-queues(&nbsp;i&nbsp;have&nbsp;uuids&nbsp;associated&nbsp;with&nbsp;them),&nbsp;channels&nbsp;(wrapped&nbsp;channel<br>
objects&nbsp;associated&nbsp;with&nbsp;connections)&nbsp;without&nbsp;having&nbsp;to&nbsp;re-write&nbsp;the&nbsp;code<br>
with&nbsp;spring-amqp?<br>
<br>
sorry&nbsp;to&nbsp;be&nbsp;presume&nbsp;that&nbsp;you&nbsp;would&nbsp;know&nbsp;the&nbsp;answer&nbsp;to&nbsp;this.....but&nbsp;a&nbsp;simple<br>
logic/example&nbsp;would&nbsp;be&nbsp;great&nbsp;of&nbsp;how&nbsp;to&nbsp;go&nbsp;about&nbsp;it.&nbsp;<br>
the&nbsp;spring-amqp&nbsp;project&nbsp;seems&nbsp;to&nbsp;be&nbsp;quite&nbsp;complicated&nbsp;as&nbsp;it&nbsp;seems&nbsp;to&nbsp;have<br>
logic&nbsp;for&nbsp;transactions&nbsp;(&nbsp;also&nbsp;it's&nbsp;not&nbsp;entirely&nbsp;clear&nbsp;to&nbsp;me&nbsp;if&nbsp;i&nbsp;need&nbsp;to<br>
write&nbsp;a&nbsp;listener&nbsp;container&nbsp;or&nbsp;just&nbsp;register&nbsp;a&nbsp;shutdownlistener&nbsp;etc).<br>
<br>
thanks&nbsp;and&nbsp;regards,<br>
-monish<br>
<br>
<br>
<br>
--<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://rabbitmq.1065348.n5.nabble.com/Handle-Stale-Connections-on-Clients-tp20687p20721.html&quot;&gt;http://rabbitmq.1065348.n5.nabble.com/Handle-Stale-Connections-on-Clients-tp20687p20721.html&lt;/a&gt;<br>
Sent&nbsp;from&nbsp;the&nbsp;RabbitMQ&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.<br>
_______________________________________________<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
