<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;07/11/2012&nbsp;10:24&nbsp;AM,&nbsp;Tim&nbsp;Watson&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:4FFD4666.8070602@vmware.com&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AFAIK&nbsp;it&nbsp;is&nbsp;possible&nbsp;for&nbsp;MNesia&nbsp;to&nbsp;heal&nbsp;itself&nbsp;after&nbsp;a&nbsp;netsplit,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;therefore&nbsp;getting&nbsp;nodes&nbsp;to&nbsp;rejoin&nbsp;a&nbsp;cluster&nbsp;might&nbsp;work&nbsp;without<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intervention,&nbsp;possibly&nbsp;depending&nbsp;on&nbsp;what&nbsp;has&nbsp;happened<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;independently&nbsp;on&nbsp;the&nbsp;two&nbsp;'halves'&nbsp;of&nbsp;the&nbsp;split&nbsp;in&nbsp;the&nbsp;intervening<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time&nbsp;period.&nbsp;What&nbsp;I&nbsp;would&nbsp;not&nbsp;expect&nbsp;to&nbsp;happen&nbsp;(though&nbsp;I&nbsp;could&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrong&nbsp;here!)&nbsp;is&nbsp;for&nbsp;two&nbsp;distinct&nbsp;GM&nbsp;rings&nbsp;to&nbsp;join&nbsp;up&nbsp;and&nbsp;become<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one,&nbsp;promoting&nbsp;a&nbsp;new&nbsp;master&nbsp;or&nbsp;demoting&nbsp;an&nbsp;existing&nbsp;one,&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;latter&nbsp;behaviour&nbsp;being&nbsp;undefined&nbsp;(i.e.,&nbsp;not&nbsp;implemented)&nbsp;AFAICT.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;a&nbsp;node&nbsp;rejoins&nbsp;a&nbsp;cluster,&nbsp;mnesia&nbsp;needs&nbsp;to&nbsp;reconcile&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;differences&nbsp;and&nbsp;I&nbsp;would&nbsp;expect&nbsp;to&nbsp;see&nbsp;mnesia&nbsp;fail&nbsp;when&nbsp;trying&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rejoin&nbsp;the&nbsp;cluster&nbsp;if&nbsp;the&nbsp;(Erlang)&nbsp;process&nbsp;ID&nbsp;for&nbsp;the&nbsp;master&nbsp;was<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;different&nbsp;between&nbsp;the&nbsp;two&nbsp;nodes.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;And&nbsp;I&nbsp;should&nbsp;probably&nbsp;have&nbsp;pointed&nbsp;out&nbsp;that&nbsp;the&nbsp;message&nbsp;store&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;independent&nbsp;from&nbsp;mnesia&nbsp;as&nbsp;well,&nbsp;and&nbsp;I'm&nbsp;pretty&nbsp;certain&nbsp;that&nbsp;if<br>
&nbsp;&nbsp;&nbsp;&nbsp;these&nbsp;got&nbsp;out&nbsp;of&nbsp;synch&nbsp;somehow&nbsp;then&nbsp;you'd&nbsp;be&nbsp;in&nbsp;trouble.&nbsp;Currently<br>
&nbsp;&nbsp;&nbsp;&nbsp;what&nbsp;happens&nbsp;when&nbsp;a&nbsp;node&nbsp;joins&nbsp;a&nbsp;cluster&nbsp;and&nbsp;needs&nbsp;to&nbsp;become&nbsp;a&nbsp;slave<br>
&nbsp;&nbsp;&nbsp;&nbsp;(in&nbsp;the&nbsp;HA&nbsp;sense)&nbsp;is&nbsp;that&nbsp;the&nbsp;mirror&nbsp;queue&nbsp;coordinator&nbsp;ensures&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;messages&nbsp;are&nbsp;forwarded&nbsp;to&nbsp;that&nbsp;node&nbsp;until&nbsp;its&nbsp;message&nbsp;queue&nbsp;length<br>
&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;that&nbsp;of&nbsp;the&nbsp;master,&nbsp;at&nbsp;which&nbsp;point&nbsp;it&nbsp;is&nbsp;considered<br>
&nbsp;&nbsp;&nbsp;&nbsp;'in-sync'&nbsp;with&nbsp;the&nbsp;master.&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
