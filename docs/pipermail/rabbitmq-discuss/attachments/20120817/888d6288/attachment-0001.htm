<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;Hi&nbsp;Tom&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;15&nbsp;Aug&nbsp;2012,&nbsp;at&nbsp;14:59,&nbsp;Tom&nbsp;Wrigglesworth&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Hi,&nbsp;Thanks&nbsp;for&nbsp;your&nbsp;reply.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;So&nbsp;is&nbsp;the&nbsp;40ms&nbsp;the&nbsp;time&nbsp;it&nbsp;takes&nbsp;for&nbsp;a&nbsp;message&nbsp;to&nbsp;travel&nbsp;from&nbsp;the&nbsp;game&nbsp;logic&nbsp;server&nbsp;to&nbsp;the&nbsp;web&nbsp;browser?&amp;nbsp;&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It's&nbsp;the&nbsp;time&nbsp;between&nbsp;the&nbsp;message&nbsp;being&nbsp;published&nbsp;and&nbsp;the&nbsp;message&nbsp;being&nbsp;delivered.&nbsp;I&nbsp;have&nbsp;output&nbsp;from&nbsp;wireshark&nbsp;looking&nbsp;something&nbsp;similar&nbsp;to:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;#&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Time&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;From&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;To&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;Protocol&nbsp;&amp;nbsp;&nbsp;Length&nbsp;&amp;nbsp;&nbsp;Info&lt;/div&gt;<br>
&lt;div&gt;...&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;155&nbsp;1.539600&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;AMQP&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;115&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Basic.Publish&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;157&nbsp;1.579834&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;AMQP&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;3873&nbsp;&amp;nbsp;&nbsp;Content-Header&nbsp;Content-Body&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;159&nbsp;1.580942&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;AMQP&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;3963&nbsp;&amp;nbsp;&nbsp;Basic-Deliver&nbsp;Content-Header&nbsp;Content-Body&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;160&nbsp;1.590769&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;AMQP&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;115&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;Basic.Publish&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;162&nbsp;1.627732&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;AMQP&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;3873&nbsp;&amp;nbsp;&amp;nbsp;Content-Header&nbsp;Content-Body&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;164&nbsp;1.628295&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;AMQP&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;3963&nbsp;&amp;nbsp;&amp;nbsp;Basic-Deliver&nbsp;Content-Header&nbsp;Content-Body&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;165&nbsp;1.638748&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;AMQP&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;115&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;Basic.Publish&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;167&nbsp;1.675834&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;AMQP&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;3873&nbsp;&amp;nbsp;&amp;nbsp;Content-Header&nbsp;Content-Body&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;169&nbsp;1.676850&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;127.0.0.1&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;AMQP&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;3963&nbsp;&amp;nbsp;&amp;nbsp;Basic-Deliver&nbsp;Content-Header&nbsp;Content-Body&lt;/div&gt;&lt;/div&gt;&lt;div&gt;...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;looks&nbsp;to&nbsp;me&nbsp;like&nbsp;it&nbsp;is&nbsp;AMQP&nbsp;that&nbsp;is&nbsp;taking&nbsp;about&nbsp;40ms&nbsp;between&nbsp;publish&nbsp;and&nbsp;deliver.&nbsp;Is&nbsp;this&nbsp;because&nbsp;of&nbsp;certain&nbsp;server&nbsp;settings&nbsp;i'm&nbsp;running,&nbsp;interference&nbsp;from&nbsp;the&nbsp;node&nbsp;server&nbsp;running&nbsp;at&nbsp;the&nbsp;same&nbsp;time&nbsp;on&nbsp;the&nbsp;same&nbsp;machine&nbsp;or&nbsp;some&nbsp;other&nbsp;reason?&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;only&nbsp;way&nbsp;I&nbsp;can&nbsp;think&nbsp;of&nbsp;to&nbsp;determine&nbsp;that&nbsp;is&nbsp;to&nbsp;remove&nbsp;the&nbsp;other&nbsp;factors.&nbsp;You&nbsp;could&nbsp;try&nbsp;publishing&nbsp;and&nbsp;consuming&nbsp;via&nbsp;the&nbsp;same&nbsp;client&nbsp;instance,&nbsp;with&nbsp;the&nbsp;other&nbsp;servers&nbsp;disabled&nbsp;and&nbsp;see&nbsp;what&nbsp;kind&nbsp;of&nbsp;throughput&nbsp;you&nbsp;get&nbsp;when&nbsp;there's&nbsp;little&nbsp;other&nbsp;potential&nbsp;contention&nbsp;for&nbsp;operating&nbsp;system&nbsp;resources.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Tim&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
