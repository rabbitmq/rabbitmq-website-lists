<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;There,&lt;div&gt; &nbsp; &lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;I&nbsp;am&nbsp;experiencing&nbsp;high&nbsp;cpu&nbsp;usage&nbsp;(above&nbsp;400%)&nbsp;on&nbsp;Cent&nbsp;OS&nbsp;rabbit&nbsp;mq&nbsp;cluster&nbsp;(with&nbsp;2&nbsp;nodes).&nbsp;We&nbsp;have&nbsp;a&nbsp;similar&nbsp;setup&nbsp;in&nbsp;Ubuntu&nbsp;and&nbsp;cpu&nbsp;usage&nbsp;seems&nbsp;fine.&nbsp;Pls&nbsp;fine&nbsp;the&nbsp;report,&nbsp;status&nbsp;and&nbsp;top&nbsp;below.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;OS: &lt;i&gt;CentOS&nbsp;release&nbsp;6.4&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Report:&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;i&gt;{pid,2148},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; {running_applications,&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; [{rabbitmq_management,&amp;quot;RabbitMQ&nbsp;Management&nbsp;Console&amp;quot;,&amp;quot;3.0.2&amp;quot;},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{rabbitmq_management_agent,&amp;quot;RabbitMQ&nbsp;Management&nbsp;Agent&amp;quot;,&amp;quot;3.0.2&amp;quot;},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{rabbit,&amp;quot;RabbitMQ&amp;quot;,&amp;quot;3.0.2&amp;quot;},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{os_mon,&amp;quot;CPO&nbsp; CXC&nbsp;138&nbsp;46&amp;quot;,&amp;quot;2.2.7&amp;quot;},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{rabbitmq_mochiweb,&amp;quot;RabbitMQ&nbsp;Mochiweb&nbsp;Embedding&amp;quot;,&amp;quot;3.0.2&amp;quot;},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{webmachine,&amp;quot;webmachine&amp;quot;,&amp;quot;1.9.1-rmq3.0.2-git52e62bc&amp;quot;},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{mochiweb,&amp;quot;MochiMedia&nbsp;Web&nbsp;Server&amp;quot;,&amp;quot;2.3.1-rmq3.0.2-gitd541e9a&amp;quot;},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{xmerl,&amp;quot;XML&nbsp;parser&amp;quot;,&amp;quot;1.2.10&amp;quot;},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{inets,&amp;quot;INETS&nbsp; CXC&nbsp;138&nbsp;49&amp;quot;,&amp;quot;5.7.1&amp;quot;},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{mnesia,&amp;quot;MNESIA&nbsp; CXC&nbsp;138&nbsp;12&amp;quot;,&amp;quot;4.5&amp;quot;},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{amqp_client,&amp;quot;RabbitMQ&nbsp;AMQP&nbsp;Client&amp;quot;,&amp;quot;3.0.2&amp;quot;},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{sasl,&amp;quot;SASL&nbsp; CXC&nbsp;138&nbsp;11&amp;quot;,&amp;quot;2.1.10&amp;quot;},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{stdlib,&amp;quot;ERTS&nbsp; CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;1.17.5&amp;quot;},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{kernel,&amp;quot;ERTS&nbsp; CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;2.14.5&amp;quot;}]},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; {os,{unix,linux}},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; {erlang_version,&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &amp;quot;Erlang&nbsp;R14B04&nbsp;(erts-5.8.5)&nbsp;[source]&nbsp;[64-bit]&nbsp;[smp:12:12]&nbsp;[rq:12]&nbsp;[async-threads:30]&nbsp;[kernel-poll:true]\n&amp;quot;},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; {memory,&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; [{total,285898072},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{connection_procs,16592856},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{queue_procs,1064888},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{plugins,269872},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{other_proc,13173224},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{mnesia,100632},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{mgmt_db,2167672},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{msg_index,35352},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{other_ets,72058416},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{binary,7326576},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{code,17434264},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{atom,3356065},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{other_system,152318255}]},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; {vm_memory_high_watermark,0.4},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; {vm_memory_limit,4991811584},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; {disk_free_limit,1000000000},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; {disk_free,17927184384},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; {file_descriptors,&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; [{total_limit,199900},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{total_used,314},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{sockets_limit,179908},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; &nbsp; &nbsp; &nbsp;{sockets_used,312}]},&lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;i&gt; {processes,[{limit,1048576},{used,2703}]},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; {run_queue,0},&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;i&gt; {uptime,3207797}]&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;Top:&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;i&gt; &nbsp; 2249&nbsp;rabbitmq&nbsp; 20&nbsp; &nbsp;0&nbsp;2989m&nbsp;319m&nbsp;2540&nbsp;S&nbsp;371.5&nbsp; 2.7&nbsp; 25109:43&nbsp;beam.smp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;/i&gt;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; Pls&nbsp;advise&nbsp;me&nbsp;how&nbsp;to&nbsp;proceed&nbsp;further. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Shri&lt;/div&gt;&lt;/div&gt;<br>

</tt>
