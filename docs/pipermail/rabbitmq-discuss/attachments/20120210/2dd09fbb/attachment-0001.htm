<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&gt;Hi&nbsp;Emile,&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;I&nbsp;read&nbsp;all&nbsp;the&nbsp;documentation&nbsp;+&nbsp;mailing&nbsp;list&nbsp;and&nbsp;can&nbsp;understand&nbsp;from&nbsp;past&nbsp;experience&nbsp;that&nbsp;HA&nbsp;in&nbsp;MQ&nbsp;is&nbsp;not&nbsp;a&nbsp;simple&nbsp;task.&nbsp;Here&nbsp;is&nbsp;my&nbsp;understanding&nbsp;to&nbsp;setup&nbsp;HA&nbsp;in&nbsp;Rabbit&nbsp;MQ&nbsp;and&nbsp;pl&nbsp;correct&nbsp;me&nbsp;if&nbsp;i&nbsp;am&nbsp;wrong&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&nbsp;font-weight:&nbsp;bold;&quot;&gt;Step&nbsp;-0:&nbsp;Setup&nbsp;2&nbsp;nodes.&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&gt;Node&nbsp;-1&nbsp;:<br>
&nbsp;Master&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&gt;Node&nbsp;-2:&nbsp;Slave&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Step&nbsp;-1:&nbsp;Configure&nbsp;Mirrored&nbsp;Queues&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Step-2:&nbsp;Publish&nbsp;Message&nbsp;to&nbsp;Master&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&quot;&lt;/span&gt;This&nbsp;is&nbsp;why&nbsp;publishes&nbsp;*also*&nbsp;go&nbsp;via&nbsp;GM&nbsp;-&nbsp;the&nbsp;master&amp;nbsp;pushes&nbsp;each&nbsp;publish&nbsp;onto&nbsp;GM&nbsp;and&nbsp;the&nbsp;slaves&nbsp;received&nbsp;that&nbsp;and&nbsp;use&nbsp;it&nbsp;to&amp;nbsp;derive&nbsp;the&nbsp;correct&nbsp;order&quot;<br>
&nbsp;-&amp;nbsp;&lt;b&nbsp;style=&quot;font-family:&nbsp;'Times&nbsp;New&nbsp;Roman';&nbsp;&quot;&gt;Matthew&nbsp;Sackman@&nbsp;Rabbit&nbsp;MQ&lt;/b&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Step&nbsp;-3:Let&amp;nbsp;Guaranteed&nbsp;Multicast(GM)&nbsp;to&nbsp;replicate&nbsp;messages&nbsp;to&nbsp;slaves&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Step-4:&nbsp;Consume&nbsp;messages&nbsp;from&nbsp;slaves&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Note&lt;/span&gt;:&nbsp;There&nbsp;is&nbsp;a&nbsp;risk&nbsp;in&nbsp;the&nbsp;above&nbsp;strategy&nbsp;if&nbsp;the&nbsp;master&nbsp;node&nbsp;goes&nbsp;down.<br>
&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;avoid,&nbsp;then&nbsp;publish&nbsp;to&nbsp;all&nbsp;slaves?&nbsp;Here&nbsp;on&nbsp;wards,&nbsp;i&nbsp;am&nbsp;not&nbsp;clear.&nbsp;I&nbsp;also&nbsp;read&nbsp;about&nbsp;putting&nbsp;HA&nbsp;Proxy&nbsp;in&nbsp;front&nbsp;of&nbsp;the&nbsp;Rabbit&nbsp;MQ&nbsp;cluster&nbsp;and&nbsp;don't&nbsp;know&nbsp;whether&nbsp;it&nbsp;can&nbsp;lead&nbsp;to&nbsp;better&nbsp;or&nbsp;worse&nbsp;in&nbsp;this&nbsp;complex&nbsp;mix&nbsp;:-)&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;It&nbsp;looks&nbsp;to&nbsp;me&nbsp;that&nbsp;my&nbsp;steps&nbsp;can&nbsp;get&nbsp;basic&nbsp;level&nbsp;of&nbsp;HA&nbsp;in&nbsp;Rabbit&nbsp;MQ!&nbsp;Pl&nbsp;correct&nbsp;if&nbsp;i&nbsp;am&nbsp;wrong.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;Best,&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;-Uday.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-size:&nbsp;12pt;&nbsp;font-family:<br>
&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;&quot;&gt;&nbsp;&lt;div&nbsp;style=&quot;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;&quot;&gt;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&nbsp;&lt;hr&nbsp;size=&quot;1&quot;&gt;&nbsp;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Emile&nbsp;Joubert&nbsp;&amp;lt;emile@rabbitmq.com&amp;gt;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;Uday&nbsp;Subbarayan&nbsp;&amp;lt;uday.subbarayan@yahoo.com&amp;gt;&nbsp;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Cc:&lt;/span&gt;&lt;/b&gt;&nbsp;&quot;rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;&amp;lt;rabbitmq-discuss@lists.rabbitmq.com&amp;gt;&nbsp;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Friday,&nbsp;February&nbsp;10,&nbsp;2012&nbsp;2:04&nbsp;AM&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;HA&nbsp;Documentation&nbsp;Error?&lt;br&gt;&nbsp;&lt;/font&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;br&gt;<br>
Hi&nbsp;Uday,&lt;br&gt;&lt;br&gt;On&nbsp;09/02/12&nbsp;23:32,&nbsp;Uday&nbsp;Subbarayan&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;The&nbsp;first&nbsp;statement&nbsp;should&nbsp;be-&lt;br&gt;&amp;gt;&nbsp;All&nbsp;actions&nbsp;other&nbsp;than&nbsp;publishes&nbsp;go&nbsp;only&nbsp;to&nbsp;the&nbsp;SLAVE,&nbsp;...&nbsp;(instead&nbsp;of&lt;br&gt;&amp;gt;&nbsp;master)&lt;br&gt;&lt;br&gt;No,&nbsp;the&nbsp;statement&nbsp;as&nbsp;it&nbsp;stands&nbsp;is&nbsp;correct.&nbsp;This&nbsp;thread&nbsp;has&nbsp;some&nbsp;more&nbsp;detail:&lt;br&gt;http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2012-February/017957.html&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;Side&nbsp;Note:&nbsp;Pl&nbsp;correct&nbsp;the&nbsp;spelling&nbsp;for&nbsp;&quot;Behavior&quot;&nbsp;in&nbsp;the&nbsp;title.&lt;br&gt;&lt;br&gt;Both&nbsp;are&nbsp;correct.&nbsp;The&nbsp;RabbitMQ&nbsp;team&nbsp;tend&nbsp;towards&nbsp;British&nbsp;spelling.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;-Emile&lt;br&gt;&lt;br&gt;&lt;br&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
