<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;we've&nbsp;to&nbsp;switch&nbsp;from&nbsp;zendJobQueue&nbsp;to&nbsp;RabbitMQ&nbsp;(publish&nbsp;via&nbsp;php&nbsp;and&nbsp;consume&nbsp;via&nbsp;python&nbsp;worker).&lt;br&gt;I've&nbsp;read&nbsp;the&nbsp;examples&nbsp;and&nbsp;everything&nbsp;looks&nbsp;good,&nbsp;but&nbsp;i've&nbsp;to&nbsp;check&nbsp;for&nbsp;running&nbsp;jobs&nbsp;and&nbsp;i&nbsp;don't&nbsp;know&nbsp;how...&lt;br&gt;&lt;br&gt;In&nbsp;php&nbsp;I've&nbsp;a&nbsp;squence&nbsp;for&nbsp;jobs/messages:&lt;br&gt;$message&nbsp;=&nbsp;new&nbsp;\PhpAmqpLib\Message\AMQPMessage(json_encode(array(&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;'id'&nbsp;&nbsp;&nbsp;&nbsp;=&gt;&nbsp;$jobID,&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;'data'&nbsp;=&gt;&nbsp;$data,&lt;br&gt;)));&lt;br&gt;$message-&gt;set('message_id',&nbsp;$jobID);&lt;br&gt;&lt;br&gt;To&nbsp;check&nbsp;for&nbsp;open&nbsp;messages&nbsp;I've&nbsp;this&nbsp;method:&lt;br&gt;private&nbsp;function&nbsp;getRabbitMQJobIsFinished($jobID)&nbsp;{&lt;br&gt;&nbsp;&nbsp;$result&nbsp;=&nbsp;true;&lt;br&gt;&nbsp;&nbsp;$connection&nbsp;=&nbsp;new&nbsp;\PhpAmqpLib\Connection\AMQPConnection(...);&lt;br&gt;&nbsp;&nbsp;$channel&nbsp;=&nbsp;$connection-&gt;channel();&lt;br&gt;&nbsp;&nbsp;$messageData&nbsp;=&nbsp;$channel-&gt;basic_get(self::$queue,&nbsp;false);&lt;br&gt;&nbsp;&nbsp;while&nbsp;(!empty($messageData))&nbsp;{&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;$messageID&nbsp;=&nbsp;$messageData-&gt;get('message_id');&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($messageID&nbsp;==&nbsp;$jobID){&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$result&nbsp;=&nbsp;false;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;}&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;$messageData&nbsp;=&nbsp;$channel-&gt;basic_get(self::$queue,&nbsp;false);&lt;br&gt;&nbsp;&nbsp;}&lt;br&gt;&nbsp;&nbsp;return&nbsp;$result;&lt;br&gt;}&lt;br&gt;&lt;br&gt;But&nbsp;this&nbsp;didn't&nbsp;work&nbsp;for&nbsp;unacknowledged/work&nbsp;in&nbsp;progress&nbsp;messages.&lt;br&gt;&lt;br&gt;Is&nbsp;ist&nbsp;possible&nbsp;to&nbsp;solve&nbsp;this&nbsp;problem&nbsp;with&nbsp;RabbitMQ?&lt;br&gt;&lt;br&gt;Thank&nbsp;you&nbsp;a&nbsp;lot&nbsp;for&nbsp;your&nbsp;help.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;
</tt>
