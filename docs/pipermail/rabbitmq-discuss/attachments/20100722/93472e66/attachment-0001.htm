<tt>
Hello&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;are&nbsp;currently&nbsp;using&nbsp;rabbitmq&nbsp;1.7.2&nbsp;with&nbsp;the&nbsp;erlang&nbsp;client.&lt;/div&gt;&lt;div&gt;We&nbsp;have&nbsp;some&nbsp;code&nbsp;that&nbsp;sits&nbsp;on&nbsp;top&nbsp;of&nbsp;the&nbsp;erlang&nbsp;client&nbsp;library&nbsp;that&nbsp;abstract&nbsp;away&nbsp;the&nbsp;need&nbsp;for&nbsp;the&nbsp;client&nbsp;to&nbsp;actually&nbsp;know&nbsp;anything&nbsp;about&nbsp;the&nbsp;rabbitmq&nbsp;connections&nbsp;or&nbsp;channels.&nbsp;Basically,&nbsp;we&nbsp;create&nbsp;a&nbsp;pool&nbsp;of&nbsp;connections,&nbsp;and&nbsp;try&nbsp;to&nbsp;multiplex&nbsp;multiple&nbsp;channels&nbsp;across&nbsp;these&nbsp;pooled&nbsp;connections.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&amp;#39;ve&nbsp;noticed&nbsp;lately&nbsp;that,&nbsp;we&amp;#39;ve&nbsp;been&nbsp;seeing&nbsp;a&nbsp;lot&nbsp;of&nbsp;timeouts&nbsp;which&nbsp;is&nbsp;manifested&nbsp;in&nbsp;the&nbsp;crash&nbsp;reports&nbsp;as&nbsp;follows:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;=CRASH&nbsp;REPORT====&nbsp;21-Jul-2010::20:14:31&nbsp;===&lt;/div&gt;<br>
&lt;div&gt;  crasher:&lt;/div&gt;&lt;div&gt;  &nbsp; initial&nbsp;call:&nbsp;amqp_channel:init/1&lt;/div&gt;&lt;div&gt;  &nbsp; pid:&nbsp;&amp;lt;0.26346.57&amp;gt;&lt;/div&gt;&lt;div&gt;  &nbsp; registered_name:&nbsp;[]&lt;/div&gt;&lt;div&gt;  &nbsp; exception&nbsp;exit:&nbsp;{timeout,&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {gen_server,call,&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [&amp;lt;0.8759.144&amp;gt;,{call,{&amp;#39;channel.open&amp;#39;,&amp;lt;&amp;lt;&amp;gt;&amp;gt;}}]}}&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; in&nbsp;function&nbsp; gen_server:terminate/6&lt;/div&gt;&lt;div&gt;  &nbsp; ancestors:&nbsp;[&amp;lt;0.686.0&amp;gt;,&amp;#39;q_conn_harley02.ypost.re1.yahoo.com_8&amp;#39;,&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &amp;#39;&lt;a&nbsp;href=&quot;http://q_sup_harley02.ypost.re1.yahoo.com&quot;&gt;q_sup_harley02.ypost.re1.yahoo.com&lt;/a&gt;&amp;#39;,harvester_sup,&amp;lt;0.95.0&amp;gt;]&lt;/div&gt;&lt;div&gt;  &nbsp; messages:&nbsp;[{&amp;#39;EXIT&amp;#39;,&amp;lt;0.26348.57&amp;gt;,connection_socket_closed_unexpectedly}]&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; links:&nbsp;[&amp;lt;0.26347.57&amp;gt;]&lt;/div&gt;&lt;div&gt;  &nbsp; dictionary:&nbsp;[]&lt;/div&gt;&lt;div&gt;  &nbsp; trap_exit:&nbsp;true&lt;/div&gt;&lt;div&gt;  &nbsp; status:&nbsp;running&lt;/div&gt;&lt;div&gt;  &nbsp; heap_size:&nbsp;1597&lt;/div&gt;&lt;div&gt;  &nbsp; stack_size:&nbsp;24&lt;/div&gt;&lt;div&gt;  &nbsp; reductions:&nbsp;1256&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Earlier,&nbsp;prior&nbsp;to&nbsp;us&nbsp;using&nbsp;our&nbsp;abstraction&nbsp;layer,&nbsp;we&nbsp;used&nbsp;have&nbsp;a&nbsp;fixed&nbsp;10&nbsp;Channels&nbsp;per&nbsp;connections,&nbsp;and&nbsp;new&nbsp;connections&nbsp;were&nbsp;created&nbsp;every&nbsp;once&nbsp;in&nbsp;a&nbsp;while.. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;I&nbsp;was&nbsp;wondering&nbsp;if&nbsp;you&nbsp;guys&nbsp;have&nbsp;any recommendations&nbsp;wrt&nbsp;to&nbsp;number&nbsp;of&nbsp;connections&nbsp;and&nbsp;channels/connection&nbsp;to&nbsp;be&nbsp;maintained.&lt;/div&gt;<br>
&lt;div&gt;We&nbsp;use&nbsp;rabbitmq&nbsp;as&nbsp;a&nbsp;sort&nbsp;of&nbsp;a&nbsp;router..&nbsp;around&nbsp;50000&nbsp;messages&nbsp;are&nbsp;pushed&nbsp;into&nbsp;the&nbsp;queue&nbsp;per&nbsp;hour.&nbsp;Message&nbsp;size&nbsp;wont&nbsp;exceed&nbsp;a&nbsp;couple&nbsp;of&nbsp;Kb.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;regards&lt;/div&gt;&lt;div&gt;-Arun&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt; &lt;/div&gt;<br>

</tt>
