<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;How&nbsp;frequently&nbsp;does&nbsp;this&nbsp;happen?&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;it&nbsp;something&nbsp;you&nbsp;can&nbsp;reliably&nbsp;reproduce?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-Alan&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Dec&nbsp;23,&nbsp;2013&nbsp;at&nbsp;12:12&nbsp;AM,&nbsp;Haster&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:haster2004@yandex.ru&quot;&nbsp;target=&quot;_blank&quot;&gt;haster2004@yandex.ru&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;there!&lt;br&gt;<br>
&lt;br&gt;<br>
Today&nbsp;I&nbsp;have&nbsp;caught&nbsp;a&nbsp;bug&nbsp;that&nbsp;my&nbsp;program&nbsp;could&nbsp;not&nbsp;stop.&lt;br&gt;<br>
I&nbsp;used&nbsp;a&nbsp;gdb&nbsp;and&nbsp;found&nbsp;that&nbsp;application&nbsp;was&nbsp;on&nbsp;recv&nbsp;method.&nbsp;Call&nbsp;stack:&lt;br&gt;<br>
&lt;br&gt;<br>
#0&nbsp; 0x0000003435c0dc81&nbsp;in&nbsp;recv&nbsp;()&nbsp;from&nbsp;/lib64/libpthread.so.0&lt;br&gt;<br>
#1&nbsp; 0x00002aaaad84ead1&nbsp;in&nbsp;??&nbsp;()&nbsp;from&lt;br&gt;<br>
/import/home/yury.alioshinov/linux_i686/5102/lib/librabbitmq_c.so.1.1.1&lt;br&gt;<br>
#2&nbsp; 0x00002aaaad84be83&nbsp;in&nbsp;??&nbsp;()&nbsp;from&lt;br&gt;<br>
/import/home/yury.alioshinov/linux_i686/5102/lib/librabbitmq_c.so.1.1.1&lt;br&gt;<br>
#3&nbsp; 0x00002aaaad84c19e&nbsp;in&nbsp;??&nbsp;()&nbsp;from&lt;br&gt;<br>
/import/home/yury.alioshinov/linux_i686/5102/lib/librabbitmq_c.so.1.1.1&lt;br&gt;<br>
#4&nbsp; 0x00002aaaad84c72c&nbsp;in&nbsp;amqp_simple_wait_method&nbsp;()&lt;br&gt;<br>
 &nbsp; from&lt;br&gt;<br>
/import/home/yury.alioshinov/linux_i686/5102/lib/librabbitmq_c.so.1.1.1&lt;br&gt;<br>
#5&nbsp; 0x00002aaaad84cab6&nbsp;in&nbsp;??&nbsp;()&nbsp;from&lt;br&gt;<br>
/import/home/yury.alioshinov/linux_i686/5102/lib/librabbitmq_c.so.1.1.1&lt;br&gt;<br>
#6&nbsp; 0x00002aaaad84ce8a&nbsp;in&nbsp;amqp_login_with_properties&nbsp;()&lt;br&gt;<br>
 &nbsp; from&lt;br&gt;<br>
/import/home/yury.alioshinov/linux_i686/5102/lib/librabbitmq_c.so.1.1.1&lt;br&gt;<br>
#7&nbsp; 0x00002aaaad626313&nbsp;in&nbsp;RabbitMQ::RabbitMQConnectionImpl::connect&lt;br&gt;<br>
(this=0xfaf3a00,&nbsp;hostName=...,&lt;br&gt;<br>
 &nbsp; &nbsp;portNumber=&lt;value&nbsp;optimized&nbsp;out&gt;,&nbsp;userName=...,&nbsp;userPwd=...,&lt;br&gt;<br>
heartbeat=0,&nbsp;vhost=...)&lt;br&gt;<br>
 &nbsp; &nbsp;at&nbsp;rabbitmq_source/rabbitmq_connector/RabbitMQConnectionImpl.cpp:115&lt;br&gt;<br>
#8&nbsp; 0x00002aaaad60d900&nbsp;in&nbsp;rabbitmq_ns::consumer_impl::execute&lt;br&gt;<br>
(this=0xb4579d8)&nbsp;at&nbsp;rabbitmq_source/rabbitmq_impl.cpp:823&lt;br&gt;<br>
#9&nbsp; 0x00002b25bdde1aa3&nbsp;in&nbsp;threads::thread_proc&nbsp;(thr_ptr=0xb4579d8)&nbsp;at&lt;br&gt;<br>
has_common_source/source/cpp/threads.cpp:225&lt;br&gt;<br>
#10&nbsp;0x0000003435c0673d&nbsp;in&nbsp;start_thread&nbsp;()&nbsp;from&nbsp;/lib64/libpthread.so.0&lt;br&gt;<br>
#11&nbsp;0x00000034350d40cd&nbsp;in&nbsp;clone&nbsp;()&nbsp;from&nbsp;/lib64/libc.so.6&lt;br&gt;<br>
&lt;br&gt;<br>
So,&nbsp;method&nbsp;login_with_properties&nbsp;is&nbsp;blocked,&nbsp;and&nbsp;there&nbsp;is&nbsp;some&nbsp;usecase&nbsp;where&lt;br&gt;<br>
program&nbsp;execute&nbsp;amqp_send_header&nbsp;in&nbsp;amqp_login_inner&nbsp;without&nbsp;errors&nbsp;but&lt;br&gt;<br>
can&#39;t&nbsp;get&nbsp;data&nbsp;from&nbsp;amqp_simple_wait_method.&lt;br&gt;<br>
&lt;br&gt;<br>
Maybe&nbsp;rabbitmq_c&nbsp;needs&nbsp;nonblock&nbsp;login&nbsp;method?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://rabbitmq.1065348.n5.nabble.com/rabbitmq-c-Infinite-wait-in-login-with-properties-function-tp32275.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://rabbitmq.1065348.n5.nabble.com/rabbitmq-c-Infinite-wait-in-login-with-properties-function-tp32275.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;RabbitMQ&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
