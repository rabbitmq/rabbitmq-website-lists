<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;Dear&nbsp;Fang,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Your&nbsp;scheme&nbsp;should&nbsp;work,&nbsp;although&nbsp;it&nbsp;might&nbsp;involve&nbsp;rather&nbsp;more&nbsp;threads&nbsp;than&nbsp;are&nbsp;necessary.&nbsp;&amp;nbsp;(I&nbsp;assume&nbsp;you&nbsp;are&nbsp;still&nbsp;using&nbsp;the&nbsp;QueueingConsumer&nbsp;and&nbsp;in&nbsp;the&nbsp;loop&nbsp;in&nbsp;your&nbsp;consumer&nbsp;threads&nbsp;you&nbsp;are&nbsp;calling&nbsp;QueueingConsumer.nextDelivery().)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;fine,&nbsp;especially&nbsp;if&nbsp;you&nbsp;are&nbsp;going&nbsp;to&nbsp;do&nbsp;some&nbsp;work&nbsp;in&nbsp;the&nbsp;consumer&nbsp;threads&nbsp;that&nbsp;you&nbsp;cannot&nbsp;do&nbsp;directly&nbsp;in&nbsp;the&nbsp;Consumer.handleDelivery()&nbsp;method&nbsp;--&nbsp;something&nbsp;that&nbsp;&lt;i&gt;has&lt;/i&gt;&amp;nbsp;to&nbsp;run&nbsp;on&nbsp;a&nbsp;separate&nbsp;thread&nbsp;from&nbsp;the&nbsp;Channel.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;However,&nbsp;you&nbsp;only&nbsp;say&nbsp;that&nbsp;you&nbsp;are&nbsp;going&nbsp;to&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;automatically&nbsp;retrieve&nbsp;the&nbsp;results&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;I&nbsp;cannot&nbsp;tell&nbsp;what&nbsp;this&nbsp;might&nbsp;entail&nbsp;--&nbsp;what&nbsp;do&nbsp;you&nbsp;do&nbsp;with&nbsp;the&nbsp;results&nbsp;when&nbsp;you&nbsp;retrieve&nbsp;them?&nbsp;At&nbsp;some&nbsp;point&nbsp;you&nbsp;are&nbsp;going&nbsp;to&nbsp;accumulate&nbsp;them&nbsp;and&nbsp;output&nbsp;something&nbsp;(I&nbsp;presume)&nbsp;and&nbsp;the&nbsp;Java&nbsp;question&nbsp;then&nbsp;arises&nbsp;about&nbsp;how&nbsp;you&nbsp;coordinate&nbsp;the&nbsp;threads&nbsp;you&nbsp;have&nbsp;to&nbsp;safely&nbsp;share&nbsp;this&nbsp;state&nbsp;and&nbsp;terminate&nbsp;correctly?&nbsp;&amp;nbsp;These&nbsp;questions&nbsp;cannot&nbsp;be&nbsp;easily&nbsp;divorced&nbsp;from&nbsp;the&nbsp;Consumer&nbsp;interface&nbsp;choices&nbsp;you&nbsp;make.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;your&nbsp;final&nbsp;client&nbsp;configuration&nbsp;(the&nbsp;application&nbsp;thread&nbsp;and&nbsp;the&nbsp;consumer&nbsp;thread)&nbsp;there&nbsp;are,&nbsp;of&nbsp;course,&nbsp;other&nbsp;threads&nbsp;in&nbsp;the&nbsp;Java&nbsp;Client.&nbsp;&amp;nbsp;Having&nbsp;a&nbsp;separate&nbsp;consumer&nbsp;thread&nbsp;cleanly&nbsp;separates&nbsp;the&nbsp;problems&nbsp;on&nbsp;the&nbsp;Consumer&nbsp;interface,&nbsp;but&nbsp;leaves&nbsp;you&nbsp;with&nbsp;the&nbsp;issue&nbsp;of&nbsp;coordinating&nbsp;application&nbsp;and&nbsp;consumer&nbsp;thread&nbsp;issues.&nbsp;&amp;nbsp;If&nbsp;the&nbsp;messages&nbsp;sent&nbsp;(application&nbsp;thread?)&nbsp;and&nbsp;received&nbsp;(consumer&nbsp;thread)&nbsp;are&nbsp;part&nbsp;of&nbsp;the&nbsp;same&nbsp;conversation,&nbsp;you&nbsp;are&nbsp;going&nbsp;to&nbsp;have&nbsp;to&nbsp;share&nbsp;state&nbsp;and&nbsp;synchronise&nbsp;the&nbsp;sending&nbsp;and&nbsp;receiving&nbsp;of&nbsp;messages.&nbsp;&amp;nbsp;That&nbsp;is&nbsp;why&nbsp;we&nbsp;produced&nbsp;the&nbsp;QueueingConsumer&nbsp;class&nbsp;in&nbsp;the&nbsp;first&nbsp;place.&nbsp;&amp;nbsp;This&nbsp;allows&nbsp;you&nbsp;to&nbsp;take&nbsp;the&nbsp;received&nbsp;messages&nbsp;only&nbsp;when&nbsp;you&nbsp;want&nbsp;to&nbsp;process&nbsp;them,&nbsp;and&nbsp;if&nbsp;this&nbsp;is&nbsp;part&nbsp;of&nbsp;the&nbsp;application&nbsp;thread&nbsp;you&nbsp;can&nbsp;request&nbsp;them&nbsp;whenever&nbsp;you&nbsp;want&nbsp;to&nbsp;devote&nbsp;time&nbsp;to&nbsp;processing&nbsp;them.&nbsp;You&nbsp;don't&nbsp;need&nbsp;another&nbsp;thread.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;On&nbsp;the&nbsp;other&nbsp;hand,&nbsp;if&nbsp;your&nbsp;client&nbsp;is&nbsp;not&nbsp;an&nbsp;end-point&nbsp;in&nbsp;an&nbsp;application,&nbsp;but&nbsp;offers&nbsp;a&nbsp;service,&nbsp;then&nbsp;it&nbsp;might&nbsp;want&nbsp;to&nbsp;process&nbsp;received&nbsp;messages&nbsp;(and&nbsp;pass&nbsp;them&nbsp;on,&nbsp;say)&nbsp;&lt;i&gt;independently&lt;/i&gt;&amp;nbsp;of&nbsp;sending&nbsp;messages.&nbsp;&amp;nbsp;Then&nbsp;you&nbsp;multiple&nbsp;thread&nbsp;design&nbsp;seems&nbsp;appropriate:&nbsp;you&nbsp;want&nbsp;to&nbsp;process&nbsp;received&nbsp;messages&nbsp;as&nbsp;soon&nbsp;as&nbsp;they&nbsp;arrive,&nbsp;and&nbsp;not&nbsp;wait&nbsp;until&nbsp;the&nbsp;sender&nbsp;thread&nbsp;can&nbsp;spare&nbsp;some&nbsp;time.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Incidentally,&nbsp;the&nbsp;best&nbsp;book&nbsp;on&nbsp;multi-threaded&nbsp;programming&nbsp;in&nbsp;Java&nbsp;is&nbsp;probably&nbsp;still&nbsp;Goetz,&nbsp;et&nbsp;al.:&amp;nbsp;&lt;i&gt;&lt;a&nbsp;href=&quot;http://www.amazon.co.uk/dp/0321349601&quot;&gt;Java&nbsp;Concurrency&nbsp;in&nbsp;Practice&lt;/a&gt;.&lt;/i&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;System.currentTimeMillis()&nbsp;gives&nbsp;a&nbsp;(rough)&nbsp;measure&nbsp;of&nbsp;elapsed&nbsp;time&nbsp;(not&nbsp;CPU&nbsp;time)&nbsp;and&nbsp;so&nbsp;(by&nbsp;subtraction)&nbsp;can&nbsp;help&nbsp;you&nbsp;to&nbsp;measure&nbsp;how&nbsp;much&nbsp;time&nbsp;is&nbsp;spent&nbsp;waiting&nbsp;in&nbsp;a&nbsp;thread&nbsp;(or&nbsp;calling&nbsp;long-running&nbsp;stuff).&nbsp;&amp;nbsp;It&nbsp;is&nbsp;rough&nbsp;and&nbsp;ready,&nbsp;and&nbsp;intentionally&nbsp;independent&nbsp;of&nbsp;thread.&amp;nbsp;CPU&nbsp;Time&nbsp;isn't&nbsp;really&nbsp;of&nbsp;interest&nbsp;here,&nbsp;since&nbsp;not&nbsp;a&nbsp;lot&nbsp;of&nbsp;CPU&nbsp;is&nbsp;being&nbsp;used&nbsp;--&nbsp;most&nbsp;of&nbsp;the&nbsp;time&nbsp;is&nbsp;spent&nbsp;waiting,&nbsp;so&nbsp;elapsed&nbsp;time&nbsp;is&nbsp;the&nbsp;most&nbsp;interesting&nbsp;measure.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;want&nbsp;more&nbsp;accurate&nbsp;measurements&nbsp;(provided&nbsp;the&nbsp;hardware&nbsp;can&nbsp;support&nbsp;it,&nbsp;which&nbsp;most&nbsp;can)&nbsp;you&nbsp;can&nbsp;use&nbsp;System.nanoTime()&nbsp;which&nbsp;returns&nbsp;the&nbsp;most&nbsp;accurate&nbsp;time&nbsp;point&nbsp;it&nbsp;can&nbsp;--&nbsp;this&nbsp;is&nbsp;only&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;measuring&nbsp;elapsed&nbsp;time&nbsp;--&nbsp;and&nbsp;will&nbsp;allow&nbsp;you&nbsp;to&nbsp;measure&nbsp;really&nbsp;quite&nbsp;small&nbsp;intervals.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;br&gt;&lt;div&gt;<br>
&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Georgia;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;font-size:&nbsp;medium;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Georgia;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;font-size:&nbsp;medium;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;border-collapse:&nbsp;separate;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Georgia;&nbsp;font-style:&nbsp;normal;&nbsp;font-variant:&nbsp;normal;&nbsp;font-weight:&nbsp;normal;&nbsp;letter-spacing:&nbsp;normal;&nbsp;line-height:&nbsp;normal;&nbsp;orphans:&nbsp;2;&nbsp;text-indent:&nbsp;0px;&nbsp;text-transform:&nbsp;none;&nbsp;white-space:&nbsp;normal;&nbsp;widows:&nbsp;2;&nbsp;word-spacing:&nbsp;0px;&nbsp;-webkit-border-horizontal-spacing:&nbsp;0px;&nbsp;-webkit-border-vertical-spacing:&nbsp;0px;&nbsp;-webkit-text-decorations-in-effect:&nbsp;none;&nbsp;-webkit-text-size-adjust:&nbsp;auto;&nbsp;-webkit-text-stroke-width:&nbsp;0px;&nbsp;font-size:&nbsp;medium;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;12px;&nbsp;&quot;&gt;Steve&nbsp;Powell&nbsp;&amp;nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;11px;&nbsp;&quot;&gt;(&lt;i&gt;a&nbsp;happy&nbsp;bunny&lt;/i&gt;)&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;11px;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Helvetica;&nbsp;font-size:&nbsp;12px;&nbsp;&quot;&gt;&lt;i&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Georgia&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;----------some&nbsp;definitions&nbsp;from&nbsp;the&nbsp;SPD----------&lt;/span&gt;&lt;/font&gt;&lt;/i&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Helvetica;&nbsp;font-size:&nbsp;12px;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Georgia&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;&lt;b&gt;Rigatoni&lt;/b&gt;&amp;nbsp;&lt;/span&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;&lt;i&gt;n.&lt;/i&gt;&lt;/span&gt;&lt;/font&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;&amp;nbsp;A&nbsp;prime-ministerial&nbsp;grin.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Helvetica;&nbsp;font-size:&nbsp;12px;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Georgia&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;&lt;b&gt;Nigella&lt;/b&gt;&amp;nbsp;&lt;i&gt;n.&lt;/i&gt;&amp;nbsp;The&nbsp;next&nbsp;bottle-size&nbsp;up&nbsp;from&nbsp;a&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;line-height:&nbsp;15px;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Georgia&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;Nebuchadnezzar&lt;/span&gt;&lt;/font&gt;&lt;/span&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Georgia&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Helvetica;&nbsp;font-size:&nbsp;12px;&nbsp;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Georgia&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;&lt;b&gt;Homily&lt;/b&gt;&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;Georgia&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-size:&nbsp;10px;&nbsp;&quot;&gt;&lt;i&gt;adv.&lt;/i&gt;&amp;nbsp;Rather&nbsp;like&nbsp;a&nbsp;frenchman.&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;<br>
&lt;/div&gt;<br>
&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;26&nbsp;Jul&nbsp;2011,&nbsp;at&nbsp;22:33,&nbsp;fangbot&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;br&gt;Hi&nbsp;Steve,&lt;br&gt;Sorry,&nbsp;a&nbsp;few&nbsp;clarifications.&nbsp;First&nbsp;of&nbsp;all,&nbsp;yes,&nbsp;I&nbsp;am&nbsp;using&nbsp;the&nbsp;Java&nbsp;client.&lt;br&gt;Also,&nbsp;when&nbsp;I&nbsp;say&nbsp;two&nbsp;threads,&nbsp;I&nbsp;meant&nbsp;two&nbsp;threads&nbsp;per&nbsp;box.&nbsp;Finally,&lt;br&gt;getTimeMillis()&nbsp;=&nbsp;System.currentTimeMillis().&lt;br&gt;Thanks&nbsp;again,&lt;br&gt;-Fang&lt;br&gt;--&nbsp;&lt;br&gt;View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://old.nabble.com/Consumer-Callback-tp32103305p32143565.html&quot;&gt;http://old.nabble.com/Consumer-Callback-tp32103305p32143565.html&lt;/a&gt;&lt;br&gt;Sent&nbsp;from&nbsp;the&nbsp;RabbitMQ&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://Nabble.com&quot;&gt;Nabble.com&lt;/a&gt;.&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;and&lt;div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;response.&nbsp;After&nbsp;reviewing&nbsp;some&nbsp;other&nbsp;posts&nbsp;on&nbsp;this&nbsp;forum,&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;I've&nbsp;decided&nbsp;to&nbsp;use&nbsp;multithreading&nbsp;in&nbsp;order&nbsp;to&nbsp;achieve&nbsp;the&nbsp;behavior&nbsp;I'm&lt;br&gt;looking&nbsp;for.&nbsp;Essentially,&nbsp;for&nbsp;every&nbsp;consumer,&nbsp;I&nbsp;create&nbsp;a&nbsp;new&nbsp;thread&nbsp;and&lt;br&gt;inside&nbsp;the&nbsp;run()&nbsp;method,&nbsp;I&nbsp;am&nbsp;calling&nbsp;an&nbsp;infinite&nbsp;while&nbsp;loop&nbsp;in&nbsp;order&nbsp;to&lt;br&gt;automatically&nbsp;retrieve&nbsp;the&nbsp;results.&nbsp;All&nbsp;of&nbsp;this&nbsp;is&nbsp;just&nbsp;to&nbsp;familiarize&lt;br&gt;myself&nbsp;with&nbsp;how&nbsp;RabbitMQ&nbsp;works&nbsp;-&nbsp;in&nbsp;the&nbsp;future,&nbsp;I&nbsp;suspect&nbsp;that&nbsp;every&nbsp;client&lt;br&gt;will&nbsp;run&nbsp;on&nbsp;a&nbsp;different&nbsp;machine&nbsp;and&nbsp;thus&nbsp;there&nbsp;will&nbsp;be&nbsp;only&nbsp;two&nbsp;threads&nbsp;max&lt;br&gt;(the&nbsp;application&nbsp;thread&nbsp;and&nbsp;the&nbsp;consumer&nbsp;thread).&lt;br&gt;&lt;br&gt;Another&nbsp;question&nbsp;-&nbsp;I&nbsp;am&nbsp;doing&nbsp;some&nbsp;performance&nbsp;testing&nbsp;on&nbsp;the&nbsp;messaging&lt;br&gt;speeds,&nbsp;and&nbsp;my&nbsp;tests&nbsp;are&nbsp;roughly&nbsp;modeled&nbsp;after&nbsp;those&nbsp;in&nbsp;MulticastMain.&lt;br&gt;However,&nbsp;I've&nbsp;noticed&nbsp;that&nbsp;to&nbsp;record&nbsp;the&nbsp;speeds,&nbsp;getTimeMillis()&nbsp;is&nbsp;being&lt;br&gt;used.&nbsp;However,&nbsp;if&nbsp;there&nbsp;are&nbsp;other&nbsp;threads&nbsp;(outside&nbsp;of&nbsp;my&nbsp;process)&nbsp;that&nbsp;are&lt;br&gt;also&nbsp;running,&nbsp;won't&nbsp;they&nbsp;throw&nbsp;off&nbsp;(i.e.&nbsp;increase)&nbsp;the&nbsp;recorded&nbsp;time&nbsp;since&lt;br&gt;getTimeMillis()&nbsp;isn't&nbsp;thread-specific?&nbsp;Shouldn't&nbsp;something&nbsp;like&lt;br&gt;ThreadMXBean.getCurrentThreadCPUTime()&nbsp;be&nbsp;used&nbsp;instead?&lt;br&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
