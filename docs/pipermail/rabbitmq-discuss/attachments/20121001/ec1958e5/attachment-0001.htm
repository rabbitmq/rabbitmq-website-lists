<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hi&nbsp;Matt,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;09/28/2012&nbsp;08:23&nbsp;PM,&nbsp;Matt&nbsp;Pietrek&nbsp;wrote:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote<br>
cite=&quot;mid:CACLE7iznHVn6b1Q9f=EGks64y2Hy4p17k8PMtT4JS6n_ORnc5A@mail.gmail.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;For&nbsp;example,&nbsp;at&nbsp;one&nbsp;point&nbsp;I&nbsp;had&nbsp;a&nbsp;three&nbsp;node&nbsp;cluster:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;play,&nbsp;play2,&nbsp;and&nbsp;util.&nbsp;I&nbsp;then&nbsp;removed&nbsp;util&nbsp;from&nbsp;the&nbsp;cluster,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;although&nbsp;to&nbsp;be&nbsp;honest,&nbsp;simply&nbsp;by&nbsp;changing&nbsp;the&nbsp;rabbitmq.config<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file,&nbsp;rather&nbsp;than&nbsp;explicitly&nbsp;running&nbsp;rabbitmqctl&nbsp;stop_app&nbsp;while<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;cluster&nbsp;is&nbsp;still&nbsp;running.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I'm&nbsp;pretty&nbsp;sure&nbsp;you're&nbsp;not&nbsp;supposed&nbsp;to&nbsp;do&nbsp;that!&nbsp;:)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote<br>
cite=&quot;mid:CACLE7iznHVn6b1Q9f=EGks64y2Hy4p17k8PMtT4JS6n_ORnc5A@mail.gmail.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;My&nbsp;steps:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ul&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;Running&nbsp;as&nbsp;three&nbsp;node&nbsp;cluster,&nbsp;stop&nbsp;all&nbsp;brokers&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;Create&nbsp;a&nbsp;new&nbsp;rabbitmq.config&nbsp;file&nbsp;with&nbsp;just&nbsp;two&nbsp;brokers&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;Attempt&nbsp;to&nbsp;start&nbsp;the&nbsp;new&nbsp;cluster.&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ul&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;you&nbsp;don't&nbsp;take&nbsp;util&nbsp;offline&nbsp;using&nbsp;the&nbsp;right&nbsp;procedure,&nbsp;I&nbsp;suspect<br>
&nbsp;&nbsp;&nbsp;&nbsp;mnesia&nbsp;will&nbsp;get&nbsp;out&nbsp;of&nbsp;sorts&nbsp;and&nbsp;this&nbsp;isn't&nbsp;something&nbsp;you&nbsp;want&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;happen.&nbsp;It's&nbsp;important&nbsp;to&nbsp;make&nbsp;cluster&nbsp;changes&nbsp;using&nbsp;the&nbsp;right<br>
&nbsp;&nbsp;&nbsp;&nbsp;procedure,&nbsp;as&nbsp;mnesia&nbsp;is&nbsp;rather&nbsp;a&nbsp;fussy&nbsp;beast.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;BTW&nbsp;we've&nbsp;made&nbsp;some&nbsp;improvements&nbsp;that&nbsp;(hopefully)&nbsp;simplify&nbsp;working<br>
&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;clusters&nbsp;and&nbsp;these&nbsp;will&nbsp;be&nbsp;in&nbsp;the&nbsp;forthcoming&nbsp;feature&nbsp;release!<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Cheers,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Tim&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
