<tt>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&nbsp;style=&quot;&quot;&gt;&lt;div&gt;BTW,&nbsp;if&nbsp;you&nbsp;don&amp;#39;t&nbsp;supply&nbsp;a&nbsp;host&nbsp;name&nbsp;when&nbsp;starting&nbsp;the&nbsp;connection,&nbsp;the&nbsp;client&nbsp;will&nbsp;start&nbsp;in&nbsp;a&nbsp;direct&nbsp;mode&nbsp;using&nbsp;native&nbsp;Erlang&nbsp;message&nbsp;passing&nbsp;rather&nbsp;than&nbsp;AMQP&nbsp;wire&nbsp;framing.&nbsp;This&nbsp;means&nbsp;that&nbsp;the&nbsp;client&nbsp;and&nbsp;server&nbsp;run&nbsp;in&nbsp;the&nbsp;same&nbsp;interpreter&nbsp;and&nbsp;eliminate&nbsp;the&nbsp;network&nbsp;overhead.&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;Is&nbsp;this&nbsp;valid&nbsp;also&nbsp;when&nbsp;running&nbsp;rabbitmq&nbsp;erlang&nbsp;client&nbsp;and&nbsp;rabbitmq&nbsp;server&nbsp;on&nbsp;separate&nbsp;erlang&nbsp;nodes?&lt;br&gt;&lt;br&gt;I&nbsp;sent&nbsp;3&nbsp;amqp&nbsp;message&nbsp;to&nbsp;the&nbsp;rabbitmq&nbsp;broker&nbsp;from&nbsp;a&nbsp;separate&nbsp;erlang&nbsp;client&nbsp;node.&amp;nbsp;&nbsp;The&nbsp;three&nbsp;3&nbsp;amqp&nbsp;messages&nbsp;create&nbsp;3&nbsp;rabbit_writer:mainloop/1&nbsp;processes.&amp;nbsp;&nbsp;This&nbsp;rabbit_writer:mainloop/1&nbsp;process&nbsp;never&nbsp;goes&nbsp;away.&lt;br&gt;<br>
&lt;br&gt;&amp;lt;0.71.0&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;rabbit_writer:mainloop/1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;233&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;132&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;0&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;rabbit_writer:mainloop/1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;lt;0.72.0&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;rabbit_writer:mainloop/1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;233&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;132&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;0&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;rabbit_writer:mainloop/1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;lt;0.73.0&amp;gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;rabbit_writer:mainloop/1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;233&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;132&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;0&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;rabbit_writer:mainloop/1&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;2&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&lt;br&gt;One&nbsp;rabbit_writer:mainloop&nbsp;process&nbsp;traced:&lt;br&gt;&lt;br&gt;initial_call:&nbsp;rabbit_writer:mainloop/1&lt;br&gt;current_function:&nbsp;rabbit_writer:mainloop/1&lt;br&gt;heap_size:&nbsp;233&lt;br&gt;stack_size:&nbsp;2&lt;br&gt;reductions:&nbsp;132&lt;br&gt;trap_exit:&nbsp;false&lt;br&gt;&amp;lt;0.72.0&amp;gt;:&nbsp;getting_linked&amp;nbsp;&amp;nbsp;&nbsp;&amp;lt;0.112.0&amp;gt;&lt;br&gt;<br>
&lt;br&gt;After&nbsp;that&nbsp;I&nbsp;increased&nbsp;number&nbsp;of&nbsp;processes&nbsp;on&nbsp;a&nbsp;single&nbsp;erlang&nbsp;node&nbsp;to&nbsp;something&nbsp;higer&nbsp;than&nbsp;50&nbsp;000&nbsp;and&nbsp;sent&nbsp;50&nbsp;000&nbsp;messages.&amp;nbsp;&nbsp;For&nbsp;some&nbsp;reason,&nbsp;50&nbsp;000&nbsp;rabbit_writer:mainloop&nbsp;processes&nbsp;are&nbsp;still&nbsp;there.&amp;nbsp;&nbsp;They&nbsp;don&amp;#39;t&nbsp;go&nbsp;away.&amp;nbsp;&nbsp;Processes&nbsp;only&nbsp;go&nbsp;away&nbsp;when&nbsp;I&nbsp;restart&nbsp;the&nbsp;rabbit&nbsp;erlang&nbsp;client&nbsp;node.&lt;br&gt;<br>
&lt;br&gt;7&amp;gt;&nbsp;erlang:system_info(process_count).&lt;br&gt;50044&lt;br&gt;&amp;nbsp;&lt;br&gt;Thank&nbsp;you,&lt;br&gt;Joe&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
