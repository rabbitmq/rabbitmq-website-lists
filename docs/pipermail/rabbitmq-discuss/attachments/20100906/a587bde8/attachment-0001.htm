<tt>
&lt;div&gt;Thanks&nbsp;for&nbsp;your recommendations,&nbsp;I&amp;#39;ll&nbsp;take&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;topic&nbsp;exchange&nbsp;but&nbsp;if&nbsp;what&nbsp;I&amp;#39;ve&nbsp;proposed&nbsp;sounds&nbsp;ok&nbsp;then&nbsp;I&amp;#39;ll&nbsp;leave&nbsp;it&nbsp;as&nbsp;that.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;receive&nbsp;a&nbsp;message&nbsp;from&nbsp;a&nbsp;queue&nbsp;does&nbsp;that&nbsp;remove&nbsp;it&nbsp;from&nbsp;the&nbsp;queue&nbsp;or&nbsp;just&nbsp;mark&nbsp;is&nbsp;as&nbsp;read?&nbsp;Do&nbsp;messages&nbsp;get&nbsp;automatically&nbsp;stored&nbsp;to&nbsp;disk&nbsp;or&nbsp;do&nbsp;I&nbsp;need&nbsp;to explicitly turn&nbsp;that&nbsp;on? &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;again.&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;6&nbsp;September&nbsp;2010&nbsp;14:41,&nbsp;Vlad&nbsp;Alexandru&nbsp;Ionescu&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:vlad@rabbitmq.com&quot;&gt;vlad@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;br&gt;<br>
Apart&nbsp;from&nbsp;the&nbsp;mentioned&nbsp;&amp;#39;direct&amp;#39;&nbsp;and&nbsp;&amp;#39;topic&amp;#39;&nbsp;exchange&nbsp;types,&nbsp;there&nbsp;is&nbsp;also&nbsp;the&nbsp;&amp;#39;headers&amp;#39;&nbsp;exchange&nbsp;(match&nbsp;on&nbsp;a&nbsp;number&nbsp;of&nbsp;attributes&nbsp;that&nbsp;you&nbsp;specify).&lt;br&gt;<br>
&lt;br&gt;<br>
Rgds,&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
Vlad.&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;09/06/2010&nbsp;02:38&nbsp;PM,&nbsp;Alexandru&nbsp;Scvorţov&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
There&amp;#39;s&nbsp;nothing&nbsp;inherently&nbsp;wrong&nbsp;with&nbsp;what&nbsp;you&nbsp;describe.&lt;br&gt;<br>
&lt;br&gt;<br>
Depending&nbsp;on&nbsp;what&nbsp;you&nbsp;filter&nbsp;on,&nbsp;you&nbsp;could&nbsp;make&nbsp;it&nbsp;simpler.&nbsp; If&nbsp;you&lt;br&gt;<br>
filter&nbsp;on&nbsp;a&nbsp;message&nbsp;name/id&nbsp;or&nbsp;something&nbsp;like&nbsp;that,&nbsp;you&nbsp;could&nbsp;probably&lt;br&gt;<br>
just&nbsp;bind&nbsp;the&nbsp;filtered&nbsp;queue&nbsp;to&nbsp;a&nbsp;direct&nbsp;exchange&nbsp;(match&nbsp;on&nbsp;the&nbsp;routing&lt;br&gt;<br>
key)&nbsp;or&nbsp;a&nbsp;topic&nbsp;exchange&nbsp;(match&nbsp;on&nbsp;something&nbsp;like&nbsp;a&nbsp;regexp).&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&amp;#39;re&nbsp;filtering&nbsp;rules&nbsp;are&nbsp;more&nbsp;complicated&nbsp;or&nbsp;if&nbsp;they&nbsp;involve&lt;br&gt;<br>
inspecting&nbsp;the&nbsp;message&nbsp;content,&nbsp;what&nbsp;you&amp;#39;re&nbsp;doing&nbsp;is&nbsp;probably&nbsp;the&nbsp;way&lt;br&gt;<br>
to&nbsp;go.&nbsp; You&nbsp;could&nbsp;also&nbsp;write&nbsp;a&nbsp;custom&nbsp;exchange&nbsp;type&nbsp;as&nbsp;a&nbsp;plugin.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
Alex&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Mon,&nbsp;Sep&nbsp;06,&nbsp;2010&nbsp;at&nbsp;02:03:44PM&nbsp;+0100,&nbsp;Tom&nbsp;Martin&nbsp;wrote:&lt;br&gt;<br>
&nbsp; &nbsp;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;building&nbsp;a&nbsp;system&nbsp;which&nbsp;takes&nbsp;incoming&nbsp;messages,&nbsp;filters&nbsp;them&nbsp;and&nbsp;stores&lt;br&gt;<br>
them&nbsp;to&nbsp;DB.&nbsp;I&nbsp;have&nbsp;each&nbsp;of&nbsp;these&nbsp;three&nbsp;bits&nbsp;running&nbsp;as&nbsp;separate&nbsp;ruby&lt;br&gt;<br>
processes,&nbsp;if&nbsp;the&nbsp;filter&nbsp;or&nbsp;database&nbsp;saving&nbsp;processes&nbsp;die&nbsp;then&nbsp;when&nbsp;they&lt;br&gt;<br>
come&nbsp;back,&nbsp;new&nbsp;messages&nbsp;are&nbsp;waiting&nbsp;in&nbsp;the&nbsp;queue.&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;ve&nbsp;implemented&nbsp;this&nbsp;using&nbsp;two&nbsp;separate&nbsp;queues:&nbsp;an&nbsp;incoming&nbsp;queue&nbsp;and&lt;br&gt;<br>
a&nbsp;filtered&nbsp;queue.&nbsp;The&nbsp;filtering&nbsp;process&nbsp;just&nbsp;takes&nbsp;the&nbsp;incoming&nbsp;queue,&nbsp;does&lt;br&gt;<br>
it&amp;#39;s&nbsp;business&nbsp;and&nbsp;inserts&nbsp;it&nbsp;into&nbsp;the&nbsp;filtered&nbsp;queue.&nbsp;The&nbsp;DB&nbsp;storing&nbsp;process&lt;br&gt;<br>
takes&nbsp;the&nbsp;filtered&nbsp;queue&nbsp;and&nbsp;stores&nbsp;them&nbsp;to&nbsp;DB.&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;very&nbsp;new&nbsp;to&nbsp;RabbitMQ,&nbsp;is&nbsp;this&nbsp;kind&nbsp;of&nbsp;flow&nbsp;correct,&nbsp;creating&nbsp;two&lt;br&gt;<br>
different&nbsp;queues?&nbsp;or&nbsp;is&nbsp;there&nbsp;a&nbsp;better&nbsp;way&nbsp;to&nbsp;do&nbsp;it&nbsp;using&nbsp;Exchanges&nbsp;or&nbsp;some&lt;br&gt;<br>
other&nbsp;part&nbsp;of&nbsp;RabbitMQ?&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&nbsp; &nbsp;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&nbsp; &nbsp;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Tom&nbsp;Martin&lt;br&gt;&lt;a&nbsp;href=&quot;http://devart.org&quot;&gt;devart.org&lt;/a&gt;&lt;br&gt;<br>

</tt>
