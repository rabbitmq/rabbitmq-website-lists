<tt>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;instructions.&amp;nbsp;Please&nbsp;find&nbsp;the&nbsp;patch&nbsp;to&nbsp;mochiweb-wrapper&nbsp;patching&nbsp;the&amp;nbsp;MAX_RECV_BODY&nbsp;to&nbsp;100MB&nbsp;from&nbsp;1MB.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Gavin&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#A0A0A8;&quot;&gt;On&nbsp;Monday,&nbsp;August&nbsp;22,&nbsp;2011&nbsp;at&nbsp;5:03&nbsp;AM,&nbsp;Simon&nbsp;MacMullen&nbsp;wrote:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;div&gt;&lt;div&gt;On&nbsp;19/08/11&nbsp;21:20,&nbsp;Gavin&nbsp;M.&nbsp;Roy&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;Ran&nbsp;into&nbsp;an&nbsp;unintended&nbsp;snag&nbsp;with&nbsp;JSON&nbsp;Channel&nbsp;RPC&nbsp;with&nbsp;regard&nbsp;to&nbsp;a&lt;br&gt;mochiweb&nbsp;limitation.&lt;br&gt;&lt;br&gt;Mochiweb&nbsp;has&nbsp;a&nbsp;hardcoded&nbsp;constant&nbsp;for&nbsp;the&nbsp;maximum&nbsp;body&nbsp;size&nbsp;for&nbsp;a&lt;br&gt;request&nbsp;at&nbsp;1MB:&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://github.com/mochi/mochiweb/blob/master/src/mochiweb_request.erl#L47&quot;&gt;https://github.com/mochi/mochiweb/blob/master/src/mochiweb_request.erl#L47&lt;/a&gt;&lt;br&gt;&lt;br&gt;This&nbsp;is&nbsp;a&nbsp;problem&nbsp;when&nbsp;you're&nbsp;trying&nbsp;to&nbsp;POST&nbsp;messages&nbsp;that&nbsp;are&nbsp;larger&lt;br&gt;than&nbsp;1MB.&lt;br&gt;&lt;br&gt;The&nbsp;fix&nbsp;is&nbsp;relatively&nbsp;easy,&nbsp;but&nbsp;I&nbsp;wanted&nbsp;to&nbsp;find&nbsp;out&nbsp;if&nbsp;there&nbsp;was&nbsp;any&lt;br&gt;patching&nbsp;of&nbsp;mochiweb&nbsp;prior&nbsp;to&nbsp;making&nbsp;the&nbsp;mochi&lt;a&nbsp;href=&quot;http://web.ez&quot;&gt;web.ez&lt;/a&gt;&nbsp;file&nbsp;or&nbsp;is&nbsp;the&nbsp;file&lt;br&gt;just&nbsp;provided&nbsp;for&nbsp;convenience&nbsp;and&nbsp;providing&nbsp;a&nbsp;tagged&nbsp;supported&nbsp;version.&lt;br&gt;That&nbsp;is,&nbsp;if&nbsp;I&nbsp;recompile&nbsp;it&nbsp;with&nbsp;the&nbsp;#&nbsp;I&nbsp;want,&nbsp;can&nbsp;I&nbsp;just&nbsp;go&nbsp;from&nbsp;the&lt;br&gt;vanilla&nbsp;mochiweb&nbsp;repo?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;We&nbsp;patch&nbsp;mochiweb&nbsp;a&nbsp;bit,&nbsp;to&nbsp;make&nbsp;it&nbsp;build&nbsp;on&nbsp;older&nbsp;versions&nbsp;of&nbsp;Erlang,&nbsp;&lt;br&gt;and&nbsp;to&nbsp;remove&nbsp;its&nbsp;dependency&nbsp;on&nbsp;the&nbsp;&quot;crypto&quot;&nbsp;application.&nbsp;I&nbsp;guess&nbsp;you&nbsp;&lt;br&gt;could&nbsp;live&nbsp;without&nbsp;these,&nbsp;but&nbsp;more&nbsp;importantly&nbsp;we&nbsp;also&nbsp;use&nbsp;a&nbsp;specific&nbsp;&lt;br&gt;version&nbsp;(basically&nbsp;what&nbsp;was&nbsp;the&nbsp;latest&nbsp;version&nbsp;at&nbsp;the&nbsp;point&nbsp;I&nbsp;started&nbsp;&lt;br&gt;writing&nbsp;rabbitmq-management)&nbsp;and&nbsp;haven't&nbsp;tested&nbsp;with&nbsp;newer&nbsp;versions.&lt;br&gt;&lt;br&gt;If&nbsp;I&nbsp;were&nbsp;you&nbsp;I&nbsp;would&nbsp;add&nbsp;your&nbsp;patch&nbsp;to&nbsp;our&nbsp;set&nbsp;and&nbsp;build&nbsp;with&nbsp;our&nbsp;&lt;br&gt;wrapper.&nbsp;To&nbsp;do&nbsp;this,&nbsp;check&nbsp;out&nbsp;rabbitmq-public-umbrella,&nbsp;then&nbsp;check&nbsp;out&nbsp;&lt;br&gt;the&nbsp;mochiweb-wrapper&nbsp;repository&nbsp;within&nbsp;it:&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://hg.rabbitmq.com/mochiweb-wrapper/&quot;&gt;http://hg.rabbitmq.com/mochiweb-wrapper/&lt;/a&gt;&lt;br&gt;&lt;br&gt;(or&nbsp;run&nbsp;&quot;make&nbsp;checkout&quot;&nbsp;which&nbsp;will&nbsp;check&nbsp;out&nbsp;everything&nbsp;including&nbsp;&lt;br&gt;mochiweb-wrapper)&lt;br&gt;&lt;br&gt;Then&nbsp;within&nbsp;mochiweb-wrapper&nbsp;add&nbsp;your&nbsp;patch,&nbsp;and&nbsp;add&nbsp;it&nbsp;to&nbsp;&lt;br&gt;WRAPPER_PATCHES&nbsp;in&nbsp;package.mk,&nbsp;then&nbsp;&quot;make&nbsp;dist&quot;.&lt;br&gt;&lt;br&gt;Alternatively&nbsp;you&nbsp;could&nbsp;build&nbsp;it&nbsp;yourself&nbsp;but&nbsp;I&nbsp;would&nbsp;try&nbsp;to&nbsp;use&nbsp;the&nbsp;&lt;br&gt;same&nbsp;version&nbsp;as&nbsp;we&nbsp;do&nbsp;-&nbsp;9a53dbd7b2c52eb5b9d4&nbsp;in&nbsp;the&nbsp;mochiweb&nbsp;git&nbsp;repo.&lt;br&gt;&lt;br&gt;Cheers,&nbsp;Simon&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Simon&nbsp;MacMullen&lt;br&gt;RabbitMQ,&nbsp;VMware&lt;br&gt;_______________________________________________&lt;br&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</tt>
