<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Tahoma<br>
}<br>
--&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;<br>
Ok&nbsp;problem&nbsp;solved.&amp;nbsp;&nbsp;The&nbsp;reason&nbsp;why&nbsp;this&nbsp;only&nbsp;appeared&nbsp;on&nbsp;the&nbsp;linux&nbsp;<br>
machines&nbsp;was&nbsp;because&nbsp;a&nbsp;tunnel&nbsp;was&nbsp;not&nbsp;setup&nbsp;correctly&nbsp;from&nbsp;the&nbsp;client&nbsp;<br>
machine&nbsp;to&nbsp;the&nbsp;server&nbsp;machine.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;hr&nbsp;id=&quot;stopSpelling&quot;&gt;From:&nbsp;gmr@myyearbook.com&lt;br&gt;Date:&nbsp;Wed,&nbsp;26&nbsp;Oct&nbsp;2011&nbsp;13:52:22&nbsp;-0400&lt;br&gt;Subject:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;AMQP&nbsp;protocol&nbsp;version&nbsp;mismatch&nbsp;problem&nbsp;on&nbsp;linux&lt;br&gt;To:&nbsp;c_showers@hotmail.com&lt;br&gt;CC:&nbsp;rabbitmq-discuss@lists.rabbitmq.com&lt;br&gt;&lt;br&gt;I&nbsp;would&nbsp;run&nbsp;tcpdump&nbsp;on&nbsp;the&nbsp;conversation&nbsp;on&nbsp;see&nbsp;if&nbsp;it's&nbsp;actually&nbsp;sending&nbsp;that.&nbsp;Unless&nbsp;you're&nbsp;running&nbsp;a&nbsp;modified&nbsp;RabbitMQ&nbsp;server,&nbsp;that's&nbsp;*very*&nbsp;strange&nbsp;to&nbsp;me.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;more&nbsp;likely&nbsp;to&nbsp;me&nbsp;that&nbsp;the&nbsp;client&nbsp;is&nbsp;messing&nbsp;up&nbsp;somehow.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;&lt;br&gt;Gavin&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;ecxgmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Oct&nbsp;26,&nbsp;2011&nbsp;at&nbsp;1:13&nbsp;PM,&nbsp;Cory&nbsp;Showers&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:c_showers@hotmail.com&quot;&gt;c_showers@hotmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;ecxgmail_quote&quot;&nbsp;style=&quot;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
<br>
&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;<br>
Can&nbsp;someone&nbsp;help&nbsp;me&nbsp;out&nbsp;with&nbsp;this.&lt;br&gt;&lt;br&gt;I've&nbsp;been&nbsp;using&nbsp;RabbitMQ&nbsp;locally&nbsp;on&nbsp;my&nbsp;windows&nbsp;box&nbsp;successfully&nbsp;for&nbsp;sometime.&amp;nbsp;&nbsp;But&nbsp;when&nbsp;I&nbsp;try&nbsp;to&nbsp;run&nbsp;on&nbsp;linux&nbsp;with&nbsp;server&nbsp;and&nbsp;client&nbsp;on&nbsp;different&nbsp;linux&nbsp;machines&nbsp;I&nbsp;get&nbsp;this&nbsp;error&lt;br&gt;<br>
<br>
&lt;br&gt;AMQP&nbsp;protocol&nbsp;version&nbsp;mismatch;&nbsp;we&nbsp;are&nbsp;version&nbsp;0-9-1,&nbsp;server&nbsp;sent&nbsp;signature&nbsp;1,1,0,9&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;using&nbsp;RabbitMQ&nbsp;version&nbsp;2.5.1&nbsp;server&nbsp;and&nbsp;client&nbsp;which&nbsp;supports&nbsp;0-9-1&nbsp;but&nbsp;I&nbsp;dont&nbsp;know&nbsp;why&nbsp;the&nbsp;server&nbsp;signature&nbsp;says&nbsp;1,1,0,9.&lt;br&gt;<br>
<br>
&lt;br&gt;To&nbsp;narrow&nbsp;down&nbsp;the&nbsp;problem&nbsp;the&nbsp;java&nbsp;client&nbsp;build&nbsp;I'm&nbsp;running&nbsp;I&nbsp;first&nbsp;ran&nbsp;on&nbsp;Windows&nbsp;and&nbsp;pointed&nbsp;the&nbsp;host&nbsp;to&nbsp;the&nbsp;Linux&nbsp;Rabbit&nbsp;server.&amp;nbsp;&nbsp;And&nbsp;it&nbsp;worked&nbsp;fined&nbsp;when&nbsp;I&nbsp;passed&nbsp;some&nbsp;messages.&lt;br&gt;&lt;br&gt;But&nbsp;using&nbsp;the&nbsp;same&nbsp;client&nbsp;build&nbsp;deployed&nbsp;on&nbsp;a&nbsp;Linux&nbsp;box&nbsp;I&nbsp;get&nbsp;the&nbsp;above&nbsp;error.&amp;nbsp;&nbsp;Only&nbsp;when&nbsp;it&nbsp;tries&nbsp;to&nbsp;send&nbsp;a&nbsp;message&nbsp;not&nbsp;on&nbsp;startup.&amp;nbsp;&nbsp;Here&nbsp;is&nbsp;the&nbsp;exact&nbsp;stacktrace&lt;br&gt;<br>
<br>
&lt;br&gt;Exception&nbsp;in&nbsp;thread&nbsp;&quot;pub-sub-pool-2&quot;&nbsp;org.springframework.amqp.AmqpIOException:&nbsp;java.io.IOException&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.connection.RabbitUtils.convertRabbitAccessException(RabbitUtils.java:109)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:118)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:179)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils$1.createConnection(ConnectionFactoryUtils.java:77)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.doGetTransactionalResourceHolder(ConnectionFactoryUtils.java:121)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.getTransactionalResourceHolder(ConnectionFactoryUtils.java:67)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.connection.RabbitAccessor.getTransactionalResourceHolder(RabbitAccessor.java:100)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:402)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:225)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:242)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:238)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.comp.transports.fix.handlers.Sender$1.run(Sender.java:115)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;java.lang.Thread.run(Thread.java:619)&lt;br&gt;Caused&nbsp;by:&nbsp;java.io.IOException&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:107)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:261)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:403)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:423)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:116)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;...&nbsp;13&nbsp;more&lt;br&gt;Caused&nbsp;by:&nbsp;com.rabbitmq.client.ShutdownSignalException:&nbsp;connection&nbsp;error;&nbsp;reason:&nbsp;com.rabbitmq.client.MalformedFrameException:&nbsp;AMQP&nbsp;protocol&nbsp;version&nbsp;mismatch;&nbsp;we&nbsp;are&nbsp;version&nbsp;0-9-1,&nbsp;server&nbsp;sent&nbsp;signature&nbsp;1,1,0,9&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:67)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:33)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:328)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:246)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;...&nbsp;16&nbsp;more&lt;br&gt;Caused&nbsp;by:&nbsp;com.rabbitmq.client.MalformedFrameException:&nbsp;AMQP&nbsp;protocol&nbsp;version&nbsp;mismatch;&nbsp;we&nbsp;are&nbsp;version&nbsp;0-9-1,&nbsp;server&nbsp;sent&nbsp;signature&nbsp;1,1,0,9&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.impl.Frame.protocolVersionMismatch(Frame.java:183)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.impl.Frame.readFrom(Frame.java:120)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:140)&lt;br&gt;<br>
<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.impl.AMQConnection.readFrame(AMQConnection.java:397)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:425)&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;Cory&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;br&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
