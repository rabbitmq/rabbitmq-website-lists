<tt>
Thanks&nbsp;a&nbsp;lot,&nbsp;now&nbsp;I&nbsp;can&nbsp;figure&nbsp;out&nbsp;what&nbsp;consumes&nbsp;the&nbsp;memory&nbsp;when&nbsp;it&nbsp;happens&nbsp;the&nbsp;next&nbsp;time.&nbsp;Hopefully,&nbsp;I&nbsp;will&nbsp;never&nbsp;get&nbsp;the&nbsp;chance&nbsp;again.&nbsp;At&nbsp;that&nbsp;time,&nbsp;the&nbsp;management&nbsp;plugin&nbsp;was&nbsp;unreachable&nbsp;BTW.&nbsp;I&nbsp;recovered&nbsp;from&nbsp;the&nbsp;bad&nbsp;condition&nbsp;by&nbsp;restarting&nbsp;everything.&nbsp;It's&nbsp;a&nbsp;production&nbsp;system.&lt;br&gt;&lt;br&gt;I&nbsp;will&nbsp;give&nbsp;2.7.1&nbsp;a&nbsp;chance&nbsp;as&nbsp;soon&nbsp;as&nbsp;possible.&nbsp;But&nbsp;if&nbsp;you&nbsp;have&nbsp;any&nbsp;idea&nbsp;what&nbsp;could&nbsp;have&nbsp;triggered&nbsp;this&nbsp;bad&nbsp;behavior&nbsp;I&nbsp;would&nbsp;appreciate&nbsp;a&nbsp;hint.&lt;br&gt;&lt;br&gt;Regards,&nbsp;Ingo&lt;br&gt;&lt;br&gt;Am&nbsp;Dienstag,&nbsp;6.&nbsp;MÃ¤rz&nbsp;2012&nbsp;13:15:41&nbsp;UTC+1&nbsp;schrieb&nbsp;Simon&nbsp;MacMullen:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;On&nbsp;06/03/12&nbsp;11:38,&nbsp;ingo&nbsp;schramm&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;I&nbsp;do&nbsp;*not*&nbsp;use&nbsp;a&nbsp;mirrored&nbsp;queue&nbsp;:)&lt;p&gt;Ah,&nbsp;right,&nbsp;that's&nbsp;how&nbsp;I&nbsp;read&nbsp;&quot;queues&nbsp;distributed&nbsp;over&nbsp;all&nbsp;nodes&quot;.&lt;/p&gt;&lt;p&gt;Hmm.&nbsp;It's&nbsp;still&nbsp;easier&nbsp;to&nbsp;figure&nbsp;out&nbsp;the&nbsp;memory&nbsp;use&nbsp;of&nbsp;RabbitMQ&nbsp;on&nbsp;&lt;br&gt;2.7.1,&nbsp;but&nbsp;for&nbsp;2.6.1&nbsp;you&nbsp;could&nbsp;check&nbsp;per-queue&nbsp;memory&nbsp;use&nbsp;with&nbsp;&lt;br&gt;&quot;rabbitmqctl&nbsp;list_queues&nbsp;name&nbsp;memory&quot;&nbsp;(or&nbsp;look&nbsp;in&nbsp;mgmt).&nbsp;If&nbsp;this&nbsp;doesn't&nbsp;&lt;br&gt;bring&nbsp;anything&nbsp;useful&nbsp;up&nbsp;then:&lt;/p&gt;&lt;p&gt;*&nbsp;Become&nbsp;the&nbsp;user&nbsp;the&nbsp;broker&nbsp;is&nbsp;running&nbsp;as&lt;br&gt;*&nbsp;Run&nbsp;&quot;erl&nbsp;-sname&nbsp;foo&nbsp;-remsh&nbsp;rabbit@$(hostname&nbsp;-s)&quot;&nbsp;to&nbsp;get&nbsp;a&nbsp;shell&nbsp;into&nbsp;&lt;br&gt;the&nbsp;running&nbsp;broker&lt;br&gt;*&nbsp;Invoke&nbsp;&quot;erlang:memory().&quot;&nbsp;for&nbsp;an&nbsp;overview&nbsp;of&nbsp;memory&nbsp;use&nbsp;in&nbsp;the&nbsp;VM.&lt;br&gt;*&nbsp;Invoke&nbsp;&quot;lists:sublist(lists:reverse(&lt;wbr&gt;lists:sort([{process_info(Pid,&lt;br&gt;memory),&nbsp;Pid,&nbsp;process_info(Pid)}&nbsp;||&nbsp;Pid&nbsp;&amp;lt;-&nbsp;processes()])),&nbsp;10).&quot;&nbsp;for&nbsp;a&nbsp;&lt;br&gt;lit&nbsp;of&nbsp;the&nbsp;top&nbsp;10&nbsp;memory&nbsp;using&nbsp;processes,&nbsp;and&nbsp;some&nbsp;information&nbsp;on&nbsp;each&nbsp;one.&lt;/p&gt;&lt;p&gt;Cheers,&nbsp;Simon&lt;/p&gt;&lt;p&gt;--&nbsp;&lt;br&gt;Simon&nbsp;MacMullen&lt;br&gt;RabbitMQ,&nbsp;VMware&lt;br&gt;______________________________&lt;wbr&gt;_________________&lt;br&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;wbr&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;wbr&gt;cgi-bin/mailman/listinfo/&lt;wbr&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</tt>
