<tt>
Hello&lt;br&gt;&lt;br&gt;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;to&nbsp;realise&nbsp;tracing&nbsp;and&nbsp;logging&nbsp;of&nbsp;messages,&nbsp;published&nbsp;on&nbsp;bus?&lt;br&gt;We&nbsp;can&nbsp;declare&nbsp;exchange&nbsp;type&nbsp;&amp;quot;headers&amp;quot;,&nbsp;bind&nbsp;it&nbsp;with&nbsp;match-rules&lt;br&gt;with&nbsp;tracing&nbsp;queue&nbsp;and&nbsp;publicate&nbsp;messages&nbsp;having&nbsp;some&nbsp;flags&nbsp;in&nbsp;headers.&lt;br&gt;<br>
When&nbsp;this&nbsp;flags&nbsp;matched&nbsp;with&nbsp;rules&nbsp;in&nbsp;binding,&nbsp;message&nbsp;passed&nbsp;to&nbsp;tracing&nbsp;queue.&lt;br&gt;&lt;br&gt;But&nbsp;this&nbsp;behaviour&nbsp;is&nbsp;not&nbsp;appropriated&nbsp;because&nbsp;we&nbsp;want&nbsp;to&nbsp;publicate&nbsp;message&nbsp;to&lt;br&gt;specified&nbsp;routing&nbsp;in&nbsp;some&nbsp;cases&nbsp;and&nbsp;possible&nbsp;trace&nbsp;it.&lt;br&gt;<br>
So,&nbsp;this&nbsp;behaviour&nbsp;is&nbsp;best&nbsp;for&nbsp;us:&lt;br&gt;1.&nbsp;Create&nbsp;exchange&nbsp;&amp;quot;mq.exch&amp;quot;&nbsp;with&nbsp;type&nbsp;&amp;quot;headers&amp;quot;&lt;br&gt;2.&nbsp;???&nbsp;Bind&nbsp;queue&nbsp;&amp;quot;trace&amp;quot;&nbsp;and&nbsp;&amp;quot;mq.exch&amp;quot;&nbsp;with&nbsp;match-rule&nbsp;[{&amp;quot;x-match&amp;quot;:&nbsp;&amp;quot;any&amp;quot;},&nbsp;{&amp;quot;trace&amp;quot;:1}],&lt;br&gt;<br>
  &nbsp;so,&nbsp;if&nbsp;message-headers&nbsp;contains&nbsp;trace:1&nbsp;flag,&nbsp;this&nbsp;message&nbsp;passed&nbsp;to&nbsp;&amp;quot;trace&amp;quot;&nbsp;queue.&nbsp;???&nbsp;(or&nbsp;anything&nbsp;else?)&lt;br&gt;3.&nbsp;Bind&nbsp;main&nbsp;handler&nbsp;queue&nbsp;&amp;quot;handler&amp;quot;&nbsp;and&nbsp;&amp;quot;mq.exch&amp;quot;&nbsp;with&nbsp;route&nbsp;&amp;quot;mq.handler&amp;quot;&lt;br&gt;<br>
4.&nbsp;Publish&nbsp;message&nbsp;without&nbsp;any&nbsp;headers&nbsp;to&nbsp;route&nbsp;&amp;quot;mq.handler&amp;quot;,&nbsp;it&nbsp;passed&nbsp;to&nbsp;&amp;quot;handler&amp;quot;&nbsp;queue.&lt;br&gt;5.&nbsp;Publish&nbsp;message&nbsp;with&nbsp;header&nbsp;trace:1&nbsp;to&nbsp;route&nbsp;mq.handler,&nbsp;it&nbsp;passed&nbsp;to&nbsp;&amp;quot;handler&amp;quot;&nbsp;queue&nbsp;and&nbsp;&amp;quot;trace&amp;quot;&nbsp;queue.&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
&lt;br&gt;How&nbsp;we&nbsp;can&nbsp;make&nbsp;it&nbsp;(or&nbsp;something&nbsp;with&nbsp;this&nbsp;behaviour)&nbsp;with&nbsp;RabbitMQ?&lt;br&gt;&lt;br&gt;Thank&nbsp;you.&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Maxim&nbsp;Treskin&lt;br&gt;<br>

</tt>
