<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi,&nbsp;&lt;br&gt;&lt;br&gt;I&amp;#39;m&nbsp;new&nbsp;to&nbsp;Rabbit,&nbsp;just&nbsp;want&nbsp;to&nbsp;confirm&nbsp;if&nbsp;my&nbsp;understanding&nbsp;of&nbsp;mirror-queues&nbsp;is&nbsp;correct.&nbsp;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&nbsp;is&nbsp;the&nbsp;scenario:&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;-&nbsp;I&nbsp;set&nbsp;up&nbsp;a&nbsp;mirrored&nbsp;queue,&nbsp;on&nbsp;Node1&nbsp;(master)&nbsp;and&nbsp;Node2&nbsp;(slave),&nbsp;&lt;br&gt;<br>
-&nbsp;have&nbsp;a&nbsp;load-balancer&nbsp;LB&nbsp;in&nbsp;front&nbsp;of&nbsp;both,&nbsp;roundrobin&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;have&nbsp;my&nbsp;consumer&nbsp;app&nbsp;establish&nbsp;a&nbsp;TCP&nbsp;connection&nbsp;to&nbsp;the&nbsp;LB,&nbsp;which&nbsp;forwards&nbsp;the&nbsp;consumer&nbsp;subscription&nbsp;requests&nbsp;randomly&nbsp;to&nbsp;either&nbsp;Node1&nbsp;or&nbsp;Node2&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;under&nbsp;no&nbsp;failure&nbsp;condition,&nbsp;the&nbsp;master&nbsp;Node1&nbsp;will&nbsp;send&nbsp;messages&nbsp;to&nbsp;all&nbsp;my&nbsp;consumers.&nbsp;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;if&nbsp;master&nbsp;fails,&nbsp;the&nbsp;slave&nbsp;Node2&nbsp;will&nbsp;be&nbsp;promoted&nbsp;to&nbsp;the&nbsp;new&nbsp;master&nbsp;and&nbsp;start&nbsp;sending&nbsp;the&nbsp;remaining&nbsp;messages&nbsp;to&nbsp;my&nbsp;consumers.&nbsp;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;-&nbsp;since&nbsp;the&nbsp;consumer&nbsp;TCP&nbsp;connection&nbsp;is&nbsp;to&nbsp;the&nbsp;LB,&nbsp;the&nbsp;consumer&nbsp;wouldn&amp;#39;t&nbsp;notice&nbsp;anything&nbsp;(and&nbsp;don&amp;#39;t&nbsp;need&nbsp;to&nbsp;reconnect),&nbsp;except&nbsp;for&nbsp;the&nbsp;&amp;quot;normal&amp;quot;&nbsp;out-of-sync&nbsp;and&nbsp;message&nbsp;loss&nbsp;considerations.&nbsp;&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Would&nbsp;this&nbsp;work?&nbsp;&lt;br&gt;&lt;br&gt;Thanks,&nbsp;&lt;br&gt;James&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
