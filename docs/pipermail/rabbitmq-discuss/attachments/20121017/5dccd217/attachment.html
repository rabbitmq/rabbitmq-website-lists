<tt>
Ok&nbsp;I&amp;#39;ve&nbsp;definitely&nbsp;got&nbsp;what&nbsp;you&amp;#39;re&nbsp;trying&nbsp;to&nbsp;say&nbsp;concerning&nbsp;the&nbsp;use&nbsp;of&nbsp;DBs&nbsp;and&nbsp;message&nbsp;broker.&lt;br&gt;&lt;br&gt;To&nbsp;explain&nbsp;a&nbsp;bit&nbsp;more,&nbsp;I&amp;#39;ll&nbsp;answer&nbsp;the&nbsp;few&nbsp;questiosn&nbsp;you&amp;#39;ve&nbsp;scattered&nbsp;across&nbsp;your&nbsp;reply&nbsp;:&lt;br&gt;&lt;br&gt;Is&nbsp;it&nbsp;a&nbsp;distributed&nbsp;architecture&nbsp;?&nbsp;&lt;br&gt;<br>
    &nbsp;&lt;br&gt;Definitely&nbsp;yes,&nbsp;each&nbsp;app&nbsp;will&nbsp;run&nbsp;on&nbsp;a&nbsp;different&nbsp;server&lt;br&gt;&lt;br&gt;Why&nbsp;do&nbsp;I&nbsp;need&nbsp;to&nbsp;keep&nbsp;apps&nbsp;separate&nbsp;?&nbsp;&lt;br&gt;&lt;br&gt;Simply&nbsp;because&nbsp;my&nbsp;project&nbsp;can&nbsp;be&nbsp;viewed&nbsp;as&nbsp;a&nbsp;application&nbsp;suite&nbsp;composed&nbsp;of&nbsp;about&nbsp;5&nbsp;different&nbsp;apps.&nbsp;The&nbsp;end-user&nbsp;will&nbsp;be&nbsp;able&nbsp;to&nbsp;choose&nbsp;which&nbsp;of&nbsp;the&nbsp;apps&nbsp;he&nbsp;wants&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;only&nbsp;provide&nbsp;what&nbsp;is&nbsp;absolutely&nbsp;necessary&nbsp;for&nbsp;the&nbsp;end-user&nbsp;based&nbsp;on&nbsp;what&nbsp;he&nbsp;asked&nbsp;for,&nbsp;nothing&nbsp;more&nbsp;nothing&nbsp;less.&nbsp;Therefore&nbsp;if&nbsp;the&nbsp;end&nbsp;user&nbsp;only&nbsp;wants&nbsp;one&nbsp;app&nbsp;out&nbsp;five&nbsp;I&amp;#39;m&nbsp;not&nbsp;going&nbsp;to&nbsp;provide&nbsp;him&nbsp;with&nbsp;a&nbsp;RabbitMQ,&nbsp;he&nbsp;will&nbsp;have&nbsp;no&nbsp;use&nbsp;for&nbsp;it.&nbsp;However&nbsp;should&nbsp;he&nbsp;asked&nbsp;for&nbsp;a&nbsp;set&nbsp;of&nbsp;apps&nbsp;that&nbsp;need&nbsp;to&nbsp;communicate,&nbsp;then&nbsp;I&amp;#39;ll&nbsp;install&nbsp;a&nbsp;RabbitMQ&nbsp;to&nbsp;let&nbsp;them&nbsp;communicate.&lt;br&gt;<br>
Now&nbsp;like&nbsp;I&nbsp;said,&nbsp;I&amp;#39;m&nbsp;looking&nbsp;for&nbsp;a&nbsp;way&nbsp;to&nbsp;do&nbsp;this&nbsp;without&nbsp;changing&nbsp;anything&nbsp;in&nbsp;the&nbsp;apps&amp;#39;&nbsp;code.&nbsp;&lt;br&gt;What&nbsp;I&amp;#39;m&nbsp;looking&nbsp;for&nbsp;is&nbsp;a&nbsp;solution&nbsp;where&nbsp;I&nbsp;would&nbsp;have&nbsp;something&nbsp;like&nbsp;a&nbsp;&amp;quot;watcher&amp;quot;&nbsp;external&nbsp;app&nbsp;that&nbsp;would&nbsp;keep&nbsp;an&nbsp;eye&nbsp;on&nbsp;what&amp;#39;s&nbsp;going&nbsp;on&nbsp;in&nbsp;each&nbsp;app&nbsp;and&nbsp;manage&nbsp;the&nbsp;content&nbsp;of&nbsp;each&nbsp;RabbitMQ&nbsp;queues&nbsp;accordingly.&lt;br&gt;<br>
&lt;br&gt;That&nbsp;peculiar&nbsp;aspect&nbsp;of&nbsp;the&nbsp;apps&nbsp;is&nbsp;for&nbsp;my&nbsp;longterm&nbsp;evolution&nbsp;of&nbsp;my&nbsp;app&nbsp;:&nbsp;for&nbsp;my&nbsp;personal&nbsp;use,&nbsp;the&nbsp;simpler&nbsp;approach&nbsp;of&nbsp;the&nbsp;code&nbsp;for&nbsp;pushing&nbsp;a&nbsp;mesage&nbsp;in&nbsp;the&nbsp;queues&nbsp;embedded&nbsp;in&nbsp;the&nbsp;app&nbsp;would&nbsp;be&nbsp;fine.&nbsp;But&nbsp;since&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;make&nbsp;it&nbsp;evolve&nbsp;to&nbsp;something&nbsp;else,&nbsp;I&amp;#39;d&nbsp;rather&nbsp;think&nbsp;ahead&nbsp;and&nbsp;try&nbsp;to&nbsp;do&nbsp;so&nbsp;right&nbsp;now.&lt;br&gt;<br>
&lt;br&gt;Hope&nbsp;these&nbsp;explanations&nbsp;help&nbsp;a&nbsp;little&nbsp;more.&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Ryan.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2012/10/17&nbsp;Tim&nbsp;Watson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tim@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;tim@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;10/17/2012&nbsp;11:40&nbsp;AM,&nbsp;Ryan&nbsp;R.&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&nbsp;think&nbsp;I&nbsp;understand&nbsp;what&nbsp;you&nbsp;mean&nbsp;with&nbsp;the&nbsp;shared&nbsp;library.&lt;br&gt;<br>
However,&nbsp;in&nbsp;my&nbsp;case,&nbsp;RabbitMQ&nbsp;would&nbsp;only&nbsp;be&nbsp;installed&nbsp;if&nbsp;need&nbsp;be&nbsp;(meaning&nbsp;more&nbsp;than&nbsp;one&nbsp;of&nbsp;the&nbsp;apps&nbsp;are&nbsp;present,&nbsp;and&nbsp;two&nbsp;of&nbsp;those&nbsp;need&nbsp;to&nbsp;be&nbsp;synchronised&nbsp;for&nbsp;part&nbsp;of&nbsp;their&nbsp;data).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
That&nbsp;actually&nbsp;complicates&nbsp;the&nbsp;picture&nbsp;somewhat&nbsp;-&nbsp;is&nbsp;there&nbsp;a&nbsp;reason&nbsp;why&nbsp;this&nbsp;is&nbsp;the&nbsp;case?&nbsp;In&nbsp;a&nbsp;typical&nbsp;integration&nbsp;architecture,&nbsp;the&nbsp;messaging&nbsp;broker&nbsp;is&nbsp;deployed&nbsp;centrally&nbsp;(on&nbsp;the&nbsp;LAN&nbsp;somewhere)&nbsp;and&nbsp;clients&nbsp;choose&nbsp;whether&nbsp;or&nbsp;not&nbsp;they&nbsp;want&nbsp;to&nbsp;connect&nbsp;to&nbsp;it&nbsp;from&nbsp;whatever&nbsp;machine&nbsp;they&amp;#39;re&nbsp;running&nbsp;on.&nbsp;To&nbsp;me,&nbsp;it&nbsp;is&nbsp;sounding&nbsp;like&nbsp;you&amp;#39;re&nbsp;describing&nbsp;an&nbsp;architecture&nbsp;where&nbsp;both&nbsp;applications&nbsp;reside&nbsp;on&nbsp;the&nbsp;same&nbsp;machine&nbsp;and&nbsp;assuming&nbsp;that&nbsp;the&nbsp;broker&nbsp;will&nbsp;also&nbsp;need&nbsp;to&nbsp;be&nbsp;co-resident&nbsp;with&nbsp;them,&nbsp;which&nbsp;is&nbsp;not&nbsp;really&nbsp;the&nbsp;case,&nbsp;though&nbsp;there&amp;#39;s&nbsp;nothing&nbsp;to&nbsp;prohibit&nbsp;that&nbsp;either.&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
That&nbsp;said,&nbsp;using&nbsp;a&nbsp;shared&nbsp;library&nbsp;would&nbsp;require&nbsp;me&nbsp;to&nbsp;&amp;quot;include/import&amp;quot;&nbsp;said&nbsp;library&nbsp;when&nbsp;I&nbsp;need&nbsp;to,&nbsp;therefore&nbsp;making&nbsp;me&nbsp;change&nbsp;my&nbsp;app&nbsp;code&nbsp;depending&nbsp;of&nbsp;the&nbsp;situation&nbsp;I&amp;#39;m&nbsp;in.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Well&nbsp;yes,&nbsp;if&nbsp;you&amp;#39;re&nbsp;going&nbsp;to&nbsp;add&nbsp;messaging&nbsp;capabilities&nbsp;to&nbsp;your&nbsp;applications&nbsp;that&nbsp;don&amp;#39;t&nbsp;currently&nbsp;support&nbsp;it,&nbsp;then&nbsp;you&nbsp;are&nbsp;going&nbsp;to&nbsp;have&nbsp;to&nbsp;write&nbsp;*some*&nbsp;code&nbsp;and&nbsp;integrate&nbsp;it&nbsp;into&nbsp;them!&nbsp;:)&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
And&nbsp;said&nbsp;library&nbsp;would&nbsp;only&nbsp;be&nbsp;required&nbsp;when&nbsp;there&amp;#39;s&nbsp;a&nbsp;RabbitMQ&nbsp;available&nbsp;anyway.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
I&nbsp;think&nbsp;you&amp;#39;re&nbsp;making&nbsp;your&nbsp;life&nbsp;more&nbsp;complicated&nbsp;than&nbsp;it&nbsp;needs&nbsp;to&nbsp;be&nbsp;by&nbsp;thinking&nbsp;about&nbsp;whether&nbsp;the&nbsp;messaging&nbsp;broker&nbsp;is&nbsp;available&nbsp;vs.&nbsp;not.&nbsp;The&nbsp;broker&nbsp;should&nbsp;*always*&nbsp;be&nbsp;available&nbsp;when&nbsp;applications&nbsp;residing&nbsp;on&nbsp;different&nbsp;machines&nbsp;need&nbsp;to&nbsp;communicate&nbsp;with&nbsp;one&nbsp;another,&nbsp;regardless&nbsp;of&nbsp;whether&nbsp;those&nbsp;applications&nbsp;are&nbsp;running&nbsp;or&nbsp;not.&nbsp;Again,&nbsp;it&nbsp;feels&nbsp;like&nbsp;you&amp;#39;re&nbsp;trying&nbsp;to&nbsp;deal&nbsp;with&nbsp;applications&nbsp;running&nbsp;on&nbsp;the&nbsp;same&nbsp;machine&nbsp;-&nbsp;have&nbsp;I&nbsp;picked&nbsp;that&nbsp;up&nbsp;correctly?&nbsp;It&nbsp;might&nbsp;help&nbsp;if&nbsp;you&nbsp;explained&nbsp;your&nbsp;architecture&nbsp;in&nbsp;a&nbsp;bit&nbsp;more&nbsp;detail,&nbsp;so&nbsp;I&nbsp;can&nbsp;understand&nbsp;exactly&nbsp;what&nbsp;you&amp;#39;re&nbsp;trying&nbsp;to&nbsp;achieve.&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Now&nbsp;a&nbsp;bit&nbsp;further&nbsp;in&nbsp;your&nbsp;message&nbsp;you&nbsp;talk&nbsp;about&nbsp;a&nbsp;listener&nbsp;library.&lt;br&gt;<br>
I&amp;#39;d&nbsp;like&nbsp;to&nbsp;know&nbsp;a&nbsp;bit&nbsp;more&nbsp;about&nbsp;this.&lt;br&gt;<br>
How&nbsp;would&nbsp;an&nbsp;external&nbsp;library&nbsp;be&nbsp;able&nbsp;to&nbsp;listen&nbsp;to&nbsp;anything&nbsp;happening&nbsp;within&nbsp;my&nbsp;app&nbsp;?&lt;br&gt;<br>
Would&nbsp;it&nbsp;be&nbsp;listening&nbsp;on&nbsp;the&nbsp;DB&nbsp;queries&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
No,&nbsp;not&nbsp;at&nbsp;all.&nbsp;Let&amp;#39;s&nbsp;say&nbsp;you&amp;#39;ve&nbsp;got&nbsp;two&nbsp;applications,&nbsp;App1&nbsp;and&nbsp;App2.&nbsp;You&amp;#39;ll&nbsp;write&nbsp;some&nbsp;library&nbsp;code&nbsp;that&nbsp;both&nbsp;applications&nbsp;share,&nbsp;that&nbsp;probably&nbsp;looks&nbsp;something&nbsp;like&nbsp;this&nbsp;(with&nbsp;*wide*&nbsp;variations&nbsp;depending&nbsp;on&nbsp;language/platform&nbsp;-&nbsp;I&amp;#39;ve&nbsp;just&nbsp;written&nbsp;pseudo&nbsp;code&nbsp;to&nbsp;keep&nbsp;things&nbsp;simple):&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
------------------------------&lt;u&gt;&lt;/u&gt;-------&lt;br&gt;<br>
&lt;br&gt;<br>
function&nbsp;init&nbsp;=&nbsp;do&lt;br&gt;<br>
 &nbsp; &nbsp;read_config_file_for_this_app&lt;br&gt;<br>
 &nbsp; &nbsp;open_connection_to_broker&lt;br&gt;<br>
 &nbsp; &nbsp;store_connection_somewhere_in_&lt;u&gt;&lt;/u&gt;memory&lt;br&gt;<br>
end&lt;br&gt;<br>
&lt;br&gt;<br>
function&nbsp;listen&nbsp;=&nbsp;do&lt;br&gt;<br>
 &nbsp; &nbsp;get_connection_from_memory&lt;br&gt;<br>
 &nbsp; &nbsp;read_message_from_broker&lt;br&gt;<br>
 &nbsp; &nbsp;pass_message_to_application_&lt;u&gt;&lt;/u&gt;thread_somehow&lt;br&gt;<br>
 &nbsp; &nbsp;listen&lt;br&gt;<br>
end&lt;br&gt;<br>
&lt;br&gt;<br>
function&nbsp;publish&nbsp;=&nbsp;do&lt;br&gt;<br>
 &nbsp; &nbsp;get_connection_from_memory&lt;br&gt;<br>
 &nbsp; &nbsp;send_message_to_broker&lt;br&gt;<br>
end&lt;br&gt;<br>
&lt;br&gt;<br>
------------------------------&lt;u&gt;&lt;/u&gt;-------&lt;br&gt;<br>
&lt;br&gt;<br>
Now&nbsp;in&nbsp;your&nbsp;applications,&nbsp;you&amp;#39;ll&nbsp;call&nbsp;the&nbsp;shared&nbsp;&amp;#39;init&amp;#39;&nbsp;library&nbsp;function&nbsp;when&nbsp;you&amp;#39;re&nbsp;starting&nbsp;up&nbsp;to&nbsp;bootstrap&nbsp;the&nbsp;connection&nbsp;to&nbsp;the&nbsp;broker.&nbsp;When&nbsp;your&nbsp;application&nbsp;is&nbsp;publishing&nbsp;data,&nbsp;it&nbsp;calls&nbsp;publish&nbsp;and&nbsp;if/when&nbsp;you&nbsp;need&nbsp;to&nbsp;subscribe&nbsp;to&nbsp;data&nbsp;then&nbsp;you&amp;#39;ll&nbsp;call&nbsp;&amp;#39;listen&amp;#39;.&nbsp;The&nbsp;fact&nbsp;is&nbsp;that&nbsp;&amp;#39;how&nbsp;to&nbsp;listen&amp;#39;&nbsp;for&nbsp;incoming&nbsp;messages&nbsp;really&nbsp;depends&nbsp;on&nbsp;how&nbsp;you&amp;#39;re&nbsp;going&nbsp;to&nbsp;use&nbsp;them.&nbsp;But&nbsp;the&nbsp;point&nbsp;is&nbsp;that&nbsp;the&nbsp;applications&nbsp;read&nbsp;from&nbsp;and&nbsp;write&nbsp;to&nbsp;the&nbsp;messaging&nbsp;broker,&nbsp;and&nbsp;do&nbsp;so&nbsp;independently&nbsp;of&nbsp;database&nbsp;tables.&nbsp;You&nbsp;*may*&nbsp;decide&nbsp;to&nbsp;do&nbsp;something&nbsp;like&nbsp;write&nbsp;a&nbsp;middle-man&nbsp;application&nbsp;that&nbsp;periodically&nbsp;reads&nbsp;a&nbsp;database&nbsp;table&nbsp;and&nbsp;publishes&nbsp;each&nbsp;row&nbsp;to&nbsp;the&nbsp;messaging&nbsp;broker&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;read&nbsp;from&nbsp;a&nbsp;queue,&nbsp;or&nbsp;do&nbsp;that&nbsp;with&nbsp;a&nbsp;worker&nbsp;thread&nbsp;instead&nbsp;of&nbsp;a&nbsp;separate&nbsp;application.&nbsp;I&nbsp;would&nbsp;*not*&nbsp;do&nbsp;anything&nbsp;here&nbsp;with&nbsp;the&nbsp;database&nbsp;though.&nbsp;If&nbsp;applications&nbsp;need&nbsp;to&nbsp;share&nbsp;data,&nbsp;then&nbsp;**they&nbsp;should&nbsp;send&nbsp;it&nbsp;to&nbsp;one&nbsp;another&nbsp;via&nbsp;message&nbsp;queues.**&nbsp;If&nbsp;they&nbsp;need&nbsp;to&nbsp;persist&nbsp;data,&nbsp;they&nbsp;should&nbsp;persist&nbsp;their&nbsp;own&nbsp;data&nbsp;in&nbsp;their&nbsp;own&nbsp;tables&nbsp;in&nbsp;the&nbsp;database,&nbsp;but&nbsp;they&nbsp;should&nbsp;**not&nbsp;use&nbsp;the&nbsp;database&nbsp;to&nbsp;communicate&nbsp;with&nbsp;one&nbsp;another.**&nbsp;That&nbsp;is&nbsp;the&nbsp;key&nbsp;thing&nbsp;with&nbsp;using&nbsp;messaging&nbsp;instead&nbsp;shared&nbsp;data(bases).&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
There&nbsp;is&nbsp;an&nbsp;overhead&nbsp;in&nbsp;sending&nbsp;(and&nbsp;in&nbsp;some&nbsp;cases,&nbsp;duplicating)&nbsp;data&nbsp;between&nbsp;applications&nbsp;of&nbsp;course.&nbsp;This&nbsp;is&nbsp;*more*&nbsp;than&nbsp;compensated&nbsp;for&nbsp;by&nbsp;the&nbsp;reduced&nbsp;coupling&nbsp;that&nbsp;comes&nbsp;from&nbsp;integrating&nbsp;using&nbsp;messaging&nbsp;technology.&nbsp;This&nbsp;approach&nbsp;may&nbsp;not&nbsp;be&nbsp;suited&nbsp;to&nbsp;integrating&nbsp;applications&nbsp;that&nbsp;are&nbsp;running&nbsp;on&nbsp;the&nbsp;same&nbsp;physical&nbsp;machine&nbsp;and&nbsp;are&nbsp;tightly&nbsp;and&nbsp;deliberately&nbsp;coupled&nbsp;however.&nbsp;I&nbsp;can&amp;#39;t&nbsp;really&nbsp;elaborate&nbsp;on&nbsp;the&nbsp;suitability&nbsp;of&nbsp;messaging&nbsp;for&nbsp;your&nbsp;project&nbsp;without&nbsp;understanding&nbsp;a&nbsp;good&nbsp;deal&nbsp;more&nbsp;about&nbsp;it&nbsp;I&amp;#39;m&nbsp;afraid.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
I&nbsp;hope&nbsp;that&nbsp;clears&nbsp;a&nbsp;few&nbsp;things&nbsp;up&nbsp;at&nbsp;least!&nbsp;:)&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
Tim&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
