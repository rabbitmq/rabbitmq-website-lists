<tt>
Hi&nbsp;Simon,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;checked&nbsp;the&nbsp;log&nbsp;and&nbsp;noticed&nbsp;every&nbsp;time&nbsp;when&nbsp;start&nbsp;this&nbsp;particular&nbsp;RabbitMQ,&nbsp;the&nbsp;log&nbsp;showed&nbsp;some&nbsp;error&nbsp;messages&nbsp;as&nbsp;follow:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,102)&quot;&gt;=ERROR&nbsp;REPORT====&nbsp;4-Oct-2012::05:46:57&nbsp;===&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,102)&quot;&gt;Mnesia(nplay@app2):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;starting_partitioned_network,&nbsp;nplay@web1}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,102)&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,102)&quot;&gt;=ERROR&nbsp;REPORT====&nbsp;4-Oct-2012::05:46:57&nbsp;===&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,102)&quot;&gt;Mnesia(nplay@app2):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;starting_partitioned_network,&nbsp;nplay@web2}&lt;/span&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Why&nbsp;the&nbsp;errors&nbsp;logged?&nbsp;Is&nbsp;it&nbsp;related&nbsp;to&nbsp;my&nbsp;cluster&nbsp;setting?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;is&nbsp;production&nbsp;environment,&nbsp;I&nbsp;can&nbsp;guaranteed&nbsp;no&nbsp;one&nbsp;dare&nbsp;to&nbsp;execute&nbsp;the&nbsp;command&nbsp;&amp;quot;rabbitmqctl&nbsp;stop&amp;quot;. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Wong&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Oct&nbsp;16,&nbsp;2012&nbsp;at&nbsp;6:33&nbsp;PM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hmm.&nbsp;The&nbsp;SASL&nbsp;log&nbsp;will&nbsp;not&nbsp;necessarily&nbsp;have&nbsp;to&nbsp;contain&nbsp;anything,&nbsp;it&nbsp;is&nbsp;really&nbsp;more&nbsp;of&nbsp;an&nbsp;error&nbsp;log.&nbsp;So&nbsp;I&nbsp;guess&nbsp;there&nbsp;was&nbsp;no&nbsp;error.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Aha!&nbsp;The&nbsp;log&nbsp;contains:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp;=INFO&nbsp;REPORT====&nbsp;16-Oct-2012::00:48:36&nbsp;===&lt;br&gt;<br>
 &nbsp;Halting&nbsp;Erlang&nbsp;VM&lt;br&gt;<br>
&lt;br&gt;<br>
We&nbsp;only&nbsp;log&nbsp;that&nbsp;after&nbsp;invocation&nbsp;of&nbsp;&amp;quot;rabbitmqctl&nbsp;stop&amp;quot;.&nbsp;So&nbsp;the&nbsp;reason&nbsp;that&nbsp;node&nbsp;shut&nbsp;down&nbsp;was,&nbsp;umm,&nbsp;someone&nbsp;told&nbsp;it&nbsp;to.&lt;br&gt;<br>
&lt;br&gt;<br>
And&nbsp;regarding&nbsp;network&nbsp;partitions,&nbsp;we&nbsp;get&nbsp;information&nbsp;about&nbsp;that&nbsp;from&nbsp;Mnesia.&nbsp;Mnesia&nbsp;will&nbsp;log&nbsp;something&nbsp;like:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp;=ERROR&nbsp;REPORT====&nbsp;16-Oct-2012::00:04:19&nbsp;===&lt;br&gt;<br>
 &nbsp;Mnesia(nplay@app2):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&lt;br&gt;<br>
 &nbsp; &nbsp;{inconsistent_database,&nbsp;running_partitioned_network,&nbsp;nplay@web2}&lt;br&gt;<br>
&lt;br&gt;<br>
when&nbsp;it&nbsp;has&nbsp;detected&nbsp;a&nbsp;network&nbsp;partition.&nbsp;Note&nbsp;the&nbsp;&amp;quot;running_partitioned_network&amp;quot;&nbsp;-&nbsp;it&nbsp;will&nbsp;also&nbsp;log&nbsp;a&nbsp;very&nbsp;similar&nbsp;message&nbsp;with&nbsp;&amp;quot;starting_partitioned_network&amp;quot;&nbsp;the&nbsp;first&nbsp;time&nbsp;it&nbsp;starts&nbsp;*after*&nbsp;a&nbsp;partition.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Future&nbsp;versions&nbsp;of&nbsp;RabbitMQ&nbsp;will&nbsp;make&nbsp;this&nbsp;information&nbsp;more&nbsp;accessible.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;16/10/12&nbsp;10:32,&nbsp;Wong&nbsp;Kam&nbsp;Hoong&nbsp;wrote:&lt;br&gt;<br>
&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
Hi&nbsp;Simon,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;check&nbsp;in&nbsp;the&nbsp;sasl&nbsp;log,&nbsp;but&nbsp;it&nbsp;not&nbsp;being&nbsp;update&nbsp;for&nbsp;long&nbsp;time,&nbsp;the&lt;br&gt;<br>
issue&nbsp;happened&nbsp;at&nbsp;16-oct-2012&nbsp;but&nbsp;the&nbsp;latest&nbsp;info&nbsp;showed&nbsp;in&nbsp;the&nbsp;log&nbsp;is&lt;br&gt;<br>
only&nbsp;up&nbsp;to&nbsp;2-oct-2012.&lt;br&gt;<br>
&lt;br&gt;<br>
Attached&nbsp;is&nbsp;the&nbsp;requested&nbsp;sasl&nbsp;log&nbsp;for&nbsp;the&nbsp;server.&lt;br&gt;<br>
&lt;br&gt;<br>
Yea,&nbsp;I&nbsp;remember&nbsp;you&nbsp;mentioned&nbsp;before&nbsp;RabbitMQ&nbsp;not&nbsp;recommend&nbsp;to&nbsp;run&nbsp;in&lt;br&gt;<br>
partitioned&nbsp;network,&nbsp;we&nbsp;still&nbsp;waiting&nbsp;network&nbsp;team&nbsp;to&nbsp;tell&nbsp;us&nbsp;whether&lt;br&gt;<br>
those&nbsp;RabbitMQs&nbsp;is&nbsp;it&nbsp;really&nbsp;deployed&nbsp;in&nbsp;a&nbsp;partitioned&nbsp;network..&lt;br&gt;<br>
&lt;br&gt;<br>
Just&nbsp;curios,&nbsp;how&nbsp;RabbitMQ&nbsp;identify&nbsp;whether&nbsp;the&nbsp;nodes&nbsp;deployed&lt;br&gt;<br>
in&nbsp;partitioned&nbsp;network?&nbsp;I&nbsp;asked&nbsp;this&nbsp;question&nbsp;so&nbsp;that&nbsp;I&nbsp;can&nbsp;discuss&lt;br&gt;<br>
better&nbsp;with&nbsp;network&nbsp;team.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
Wong&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Tue,&nbsp;Oct&nbsp;16,&nbsp;2012&nbsp;at&nbsp;5:10&nbsp;PM,&nbsp;Simon&nbsp;MacMullen&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Hi.&nbsp;There&amp;#39;s&nbsp;nothing&nbsp;in&nbsp;that&nbsp;log&nbsp;to&nbsp;indicate&nbsp;why&nbsp;the&nbsp;node&nbsp;shut&nbsp;down&nbsp;-&lt;br&gt;<br>
 &nbsp; &nbsp;can&nbsp;you&nbsp;post&nbsp;the&nbsp;sasl&nbsp;log&nbsp;somewhere?&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;I&nbsp;don&amp;#39;t&nbsp;know&nbsp;if&nbsp;it&amp;#39;s&nbsp;related&nbsp;to&nbsp;the&nbsp;network&nbsp;partition.&nbsp;But&nbsp;please&lt;br&gt;<br>
 &nbsp; &nbsp;bear&nbsp;in&nbsp;mind&nbsp;that&nbsp;network&nbsp;partitions&nbsp;are&nbsp;really&nbsp;bad&nbsp;for&nbsp;RabbitMQ&lt;br&gt;<br>
 &nbsp; &nbsp;clusters.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Cheers,&nbsp;Simon&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;On&nbsp;16/10/12&nbsp;03:20,&nbsp;Wong&nbsp;Kam&nbsp;Hoong&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;Hi&nbsp;RabbitMQ&nbsp;Team,&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;This&nbsp;morning&nbsp;while&nbsp;I&nbsp;checked&nbsp;the&nbsp;RabbitMQs&nbsp;status&nbsp;through&nbsp;web&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;admin,&nbsp;I&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;found&nbsp;that&nbsp;one&nbsp;of&nbsp;the&nbsp;RabbitMQ&nbsp;node&nbsp;stopped.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;RabbitMQ&nbsp;v2.8.7&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;Erlang&nbsp;v*R14B04*&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;*Cluster:&nbsp;Yes,&nbsp;3&nbsp;RabbitMQs*&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;Attached&nbsp;is&nbsp;the&nbsp;log&nbsp;for&nbsp;your&nbsp;reference.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;After&nbsp;I&nbsp;restarted&nbsp;the&nbsp;service,&nbsp;then&nbsp;everything&nbsp;back&nbsp;to&nbsp;normal.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;I&nbsp;wonder&nbsp;is&nbsp;the&nbsp;problem&nbsp;related&nbsp;to&nbsp;partitioned&nbsp;network:&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://rabbitmq.1065348.n5.&quot;&nbsp;target=&quot;_blank&quot;&gt;http://rabbitmq.1065348.n5.&lt;/a&gt;__&lt;a&nbsp;href=&quot;http://nabble.com/Statistics-__database-could-not-be-__contacted-Message-rates-and-__queue-lengths-will-not-be-__shown-td22331.html&quot;&nbsp;target=&quot;_blank&quot;&gt;n&lt;u&gt;&lt;/u&gt;abble.com/Statistics-__&lt;u&gt;&lt;/u&gt;database-could-not-be-__&lt;u&gt;&lt;/u&gt;contacted-Message-rates-and-__&lt;u&gt;&lt;/u&gt;queue-lengths-will-not-be-__&lt;u&gt;&lt;/u&gt;shown-td22331.html&lt;/a&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&amp;lt;&lt;a&nbsp;href=&quot;http://rabbitmq.1065348.n5.nabble.com/Statistics-database-could-not-be-contacted-Message-rates-and-queue-lengths-will-not-be-shown-td22331.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://rabbitmq.1065348.n5.&lt;u&gt;&lt;/u&gt;nabble.com/Statistics-&lt;u&gt;&lt;/u&gt;database-could-not-be-&lt;u&gt;&lt;/u&gt;contacted-Message-rates-and-&lt;u&gt;&lt;/u&gt;queue-lengths-will-not-be-&lt;u&gt;&lt;/u&gt;shown-td22331.html&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;Thanks&nbsp;&amp;amp;&nbsp;Regards,&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;Wong&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;______________________________&lt;u&gt;&lt;/u&gt;___________________&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;rabbitmq-discuss@lists.__&lt;a&nbsp;href=&quot;http://rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbi&lt;u&gt;&lt;/u&gt;tmq.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@&lt;u&gt;&lt;/u&gt;lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/__cgi-bin/mailman/listinfo/__rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/__&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/__&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;&amp;lt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;--&lt;br&gt;<br>
 &nbsp; &nbsp;Simon&nbsp;MacMullen&lt;br&gt;<br>
 &nbsp; &nbsp;RabbitMQ,&nbsp;VMware&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Simon&nbsp;MacMullen&lt;br&gt;<br>
RabbitMQ,&nbsp;VMware&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
