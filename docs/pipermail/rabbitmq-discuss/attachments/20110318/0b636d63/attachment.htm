<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type=&quot;text/css&quot;&gt;&lt;!--&nbsp;DIV&nbsp;{margin:0px;}&nbsp;--&gt;&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;font-family:times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;font-size:10pt&quot;&gt;&lt;div&gt;John,&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;&amp;gt;&nbsp;When&nbsp;your&nbsp;broker&nbsp;crashes,&nbsp;does&nbsp;it&nbsp;produce&nbsp;anything&nbsp;interesting&nbsp;in&nbsp;the&nbsp;console&nbsp;output&nbsp;or&nbsp;in&nbsp;the&nbsp;log&nbsp;files?&lt;br&gt;&lt;br&gt;sometimes&nbsp;the&nbsp;log&nbsp;showed&nbsp;reaching&nbsp;memory&nbsp;limit,&nbsp;nothing&nbsp;else&nbsp;interesting.&lt;br&gt;&lt;br&gt;-alex&lt;br&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;div&gt;&lt;br&gt;On&nbsp;Mar&nbsp;17,&nbsp;2011,&nbsp;at&nbsp;20:48,&nbsp;alex&nbsp;chen&nbsp;&amp;lt;&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:chen650@yahoo.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:chen650@yahoo.com&quot;&gt;chen650@yahoo.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;Matthew:&lt;br&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:<br>
&nbsp;10pt;&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif;&nbsp;font-size:&nbsp;10pt;&quot;&gt;&amp;gt;&nbsp;one&nbsp;thing&nbsp;i&nbsp;found&nbsp;is&nbsp;broker&nbsp;always&nbsp;shows&nbsp;&quot;Memory&nbsp;limit&nbsp;set&nbsp;to&nbsp;1638MB.&quot;&nbsp;in&nbsp;the&nbsp;log.&amp;nbsp;&nbsp;We&nbsp;have&nbsp;16&nbsp;GB&nbsp;RAM&nbsp;so&nbsp;it&nbsp;should&nbsp;be&nbsp;40%&nbsp;of&nbsp;the&nbsp;RAM&nbsp;by&nbsp;default.&amp;nbsp;&nbsp;&nbsp;I&nbsp;will&nbsp;try&nbsp;to<br>
&nbsp;investigate&nbsp;more&nbsp;tomorrow.&lt;br&gt;&lt;br&gt;It&nbsp;turns&nbsp;out&nbsp;that&nbsp;I&nbsp;was&nbsp;running&nbsp;the&nbsp;broker&nbsp;using&nbsp;32&nbsp;bit&nbsp;binary,&nbsp;that&nbsp;is&nbsp;why&nbsp;the&nbsp;memory&nbsp;limit&nbsp;is&nbsp;40%&nbsp;*&nbsp;4GB&nbsp;=&nbsp;1.6&nbsp;GB.&amp;nbsp;&nbsp;the&nbsp;broker&nbsp;would&nbsp;crash&nbsp;if&nbsp;there&nbsp;are&nbsp;more&nbsp;than&nbsp;50&nbsp;GB&nbsp;of&nbsp;messages&nbsp;in&nbsp;1000&nbsp;queues.&amp;nbsp;&nbsp;When&nbsp;this&nbsp;happened,&nbsp;the&amp;nbsp;&nbsp;memory&nbsp;usage&nbsp;reached&nbsp;4&nbsp;GB.&lt;br&gt;If&nbsp;I&nbsp;run&nbsp;the&nbsp;broker&nbsp;using&nbsp;64&nbsp;bit,&amp;nbsp;&nbsp;it&nbsp;does&nbsp;not&nbsp;crash&nbsp;because&nbsp;it&nbsp;could&nbsp;get&nbsp;more&nbsp;than&nbsp;6&nbsp;GB&nbsp;of&nbsp;memory.&amp;nbsp;&amp;nbsp;&nbsp;It&nbsp;was&nbsp;able&nbsp;to&nbsp;consume&nbsp;all&nbsp;the&nbsp;messages&nbsp;at&nbsp;rate&nbsp;of&nbsp;100-200&nbsp;MB/sec.&lt;br&gt;&lt;br&gt;Thanks.&lt;br&gt;&lt;br&gt;-alex&lt;br&gt;&lt;br&gt;&lt;br&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;span&gt;_______________________________________________&lt;/span&gt;&lt;br&gt;&lt;span&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;/span&gt;&lt;br&gt;&lt;span&gt;&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;ymailto=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;span&gt;&lt;a&nbsp;rel=&quot;nofollow&quot;&nbsp;target=&quot;_blank&quot;&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;&lt;/html&gt;
</tt>
