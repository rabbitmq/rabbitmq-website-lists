<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html&nbsp;charset=windows-1252&quot;&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&quot;&gt;Hi&nbsp;Michael,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;very&nbsp;much&nbsp;for&nbsp;your&nbsp;response.&nbsp;&nbsp;I&nbsp;have&nbsp;a&nbsp;bit&nbsp;more&nbsp;data&nbsp;about&nbsp;this&nbsp;that&nbsp;could&nbsp;be&nbsp;interesting.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Our&nbsp;producer&nbsp;node&nbsp;dysfunction&nbsp;seems&nbsp;to&nbsp;be&nbsp;correlated&nbsp;with&nbsp;a&nbsp;heartbeat&nbsp;timeout&nbsp;event:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;5/7/14&nbsp;12:44:11.000&nbsp;AM&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;7-May-2014::00:44:11&nbsp;===&lt;/div&gt;&lt;div&gt;accepting&nbsp;AMQP&nbsp;connection&nbsp;&lt;0.17458.855&gt;&nbsp;(172.20.153.34:36684&nbsp;-&gt;&nbsp;172.20.153.185:5672)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;5/7/14&nbsp;12:44:11.000&nbsp;AM&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;7-May-2014::00:44:11&nbsp;===&lt;/div&gt;&lt;div&gt;closing&nbsp;AMQP&nbsp;connection&nbsp;&lt;0.30506.852&gt;&nbsp;(172.20.153.34:37769&nbsp;-&gt;&nbsp;172.20.153.185:5672):&lt;/div&gt;&lt;div&gt;{heartbeat_timeout,running}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;we&nbsp;check&nbsp;netstat&nbsp;on&nbsp;the&nbsp;producer&nbsp;/&nbsp;rabbit-server&nbsp;sides,&nbsp;we&nbsp;see&nbsp;a&nbsp;very&nbsp;large&nbsp;Send-Q&nbsp;value&nbsp;on&nbsp;the&nbsp;producer,&nbsp;and&nbsp;nothing&nbsp;on&nbsp;the&nbsp;rabbit-server&nbsp;side;&nbsp;the&nbsp;producer&nbsp;Send-Q&nbsp;size&nbsp;just&nbsp;continues&nbsp;to&nbsp;grow&nbsp;larger,&nbsp;with&nbsp;no&nbsp;response&nbsp;from&nbsp;the&nbsp;server:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;producer:&lt;/div&gt;&lt;div&gt;&lt;div&gt;[ccpmer-po-cb48-p&nbsp;~&nbsp;]$&nbsp;netstat&nbsp;-an&nbsp;|&nbsp;grep&nbsp;5672&lt;/div&gt;&lt;div&gt;tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;1066985&nbsp;::ffff:172.20.153.34:36684&nbsp;&nbsp;::ffff:172.20.153.185:5672&nbsp;&nbsp;ESTABLISHED&nbsp;&lt;/div&gt;&lt;div&gt;tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;::ffff:172.20.153.34:60075&nbsp;&nbsp;::ffff:172.20.149.41:15672&nbsp;&nbsp;CLOSE_WAIT&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rabbit&nbsp;side:&lt;/div&gt;&lt;div&gt;[ccpmer-po-cb176-p&nbsp;~&nbsp;]$&nbsp;netstat&nbsp;-an&nbsp;|&nbsp;grep&nbsp;5672&nbsp;|&nbsp;grep&nbsp;34&lt;/div&gt;&lt;div&gt;tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;::ffff:172.20.153.185:5672&nbsp;&nbsp;::ffff:172.20.153.34:36684&nbsp;&nbsp;ESTABLISHED&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;producer&nbsp;Send-Q&nbsp;keeps&nbsp;growing.&lt;/div&gt;&lt;div&gt;[ccpmer-po-cb48-p&nbsp;~&nbsp;]$&nbsp;netstat&nbsp;-an&nbsp;|&nbsp;grep&nbsp;5672&lt;/div&gt;&lt;div&gt;tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;1074230&nbsp;::ffff:172.20.153.34:36684&nbsp;&nbsp;::ffff:172.20.153.185:5672&nbsp;&nbsp;ESTABLISHED&nbsp;&lt;/div&gt;&lt;div&gt;tcp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;::ffff:172.20.153.34:60075&nbsp;&nbsp;::ffff:172.20.149.41:15672&nbsp;&nbsp;CLOSE_WAIT&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Again&nbsp;we’re&nbsp;running&nbsp;the&nbsp;3.2.2&nbsp;version&nbsp;of&nbsp;the&nbsp;server&nbsp;-&nbsp;I&nbsp;do&nbsp;see&nbsp;that&nbsp;bugfix&nbsp;25457&nbsp;fixed&nbsp;a&nbsp;similar&nbsp;issue&nbsp;in&nbsp;the&nbsp;3.0.3&nbsp;release,&nbsp;but&nbsp;we’re&nbsp;past&nbsp;that&nbsp;now.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;this&nbsp;still&nbsp;indicative&nbsp;of&nbsp;the&nbsp;socketWrite&nbsp;timeout&nbsp;issue&nbsp;you&nbsp;referred&nbsp;me&nbsp;to&nbsp;in&nbsp;your&nbsp;last&nbsp;response,&nbsp;or&nbsp;could&nbsp;this&nbsp;be&nbsp;something&nbsp;else?&nbsp;&nbsp;Is&nbsp;there&nbsp;more&nbsp;data&nbsp;you’d&nbsp;like&nbsp;to&nbsp;see&nbsp;that&nbsp;could&nbsp;help&nbsp;diagnose&nbsp;this&nbsp;further?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Are&nbsp;there&nbsp;any&nbsp;plans&nbsp;to&nbsp;fix&nbsp;&lt;a&nbsp;href=&quot;https://github.com/rabbitmq/rabbitmq-java-client/issues/11&quot;&gt;https://github.com/rabbitmq/rabbitmq-java-client/issues/11&lt;/a&gt;&nbsp;soon?&nbsp;&nbsp;There’s&nbsp;not&nbsp;another&nbsp;more&nbsp;recent&nbsp;version&nbsp;of&nbsp;rabbit&nbsp;we&nbsp;could&nbsp;upgrade&nbsp;to&nbsp;that&nbsp;would&nbsp;help&nbsp;us,&nbsp;is&nbsp;there?&nbsp;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;again,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Jeff&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Apr&nbsp;28,&nbsp;2014,&nbsp;at&nbsp;6:31&nbsp;PM,&nbsp;Michael&nbsp;Klishin&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:mklishin@gopivotal.com&quot;&gt;mklishin@gopivotal.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;On&nbsp;29&nbsp;April&nbsp;2014&nbsp;at&nbsp;02:29:30,&nbsp;Jeff&nbsp;Doto&nbsp;(&lt;a&nbsp;href=&quot;mailto:jeffdoto@gmail.com&quot;&gt;jeffdoto@gmail.com&lt;/a&gt;)&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;We’re&nbsp;wondering&nbsp;if&nbsp;anyone&nbsp;has&nbsp;encountered&nbsp;an&nbsp;issue&nbsp;similar&nbsp;&nbsp;&lt;br&gt;&lt;/blockquote&gt;to&nbsp;this&nbsp;running&nbsp;the&nbsp;versions&nbsp;of&nbsp;Rabbit&nbsp;server&nbsp;/&nbsp;client&nbsp;we&nbsp;are.&nbsp;&nbsp;&lt;br&gt;Are&nbsp;there&nbsp;any&nbsp;suggestions&nbsp;for&nbsp;what&nbsp;we&nbsp;can&nbsp;do&nbsp;to&nbsp;prevent&nbsp;this?&nbsp;Could&nbsp;&nbsp;&lt;br&gt;upgrading&nbsp;the&nbsp;server&nbsp;version&nbsp;help?&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;This&nbsp;is&nbsp;a&nbsp;known&nbsp;Java&nbsp;client&nbsp;(or,&nbsp;well,&nbsp;JDK&nbsp;Socket)&nbsp;limitation:&lt;br&gt;&lt;a&nbsp;href=&quot;http://markmail.org/thread/w7ay4hslxwqirfsc&quot;&gt;http://markmail.org/thread/w7ay4hslxwqirfsc&lt;/a&gt;&nbsp;&lt;br&gt;--&nbsp;&nbsp;&lt;br&gt;MK&nbsp;&nbsp;&lt;br&gt;&lt;br&gt;Software&nbsp;Engineer,&nbsp;Pivotal/RabbitMQ&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
