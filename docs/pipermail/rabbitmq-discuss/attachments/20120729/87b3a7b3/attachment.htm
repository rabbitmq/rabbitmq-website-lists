<tt>
&lt;br&gt;&lt;br&gt;On&nbsp;Sunday,&nbsp;29&nbsp;July&nbsp;2012&nbsp;21:21:06&nbsp;UTC+2,&nbsp;anton&nbsp;prokofiev&nbsp;&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;Hello,&nbsp;All!&lt;br&gt;&lt;br&gt;I&nbsp;tried&nbsp;to&nbsp;create&amp;nbsp;&nbsp;a&nbsp;consumer&nbsp;in&nbsp;Erlang&nbsp;for&nbsp;RabbitMQ&nbsp;and&nbsp;get&nbsp;into&nbsp;big&nbsp;troubles.&lt;br&gt;Looks&nbsp;like&nbsp;examples&nbsp;that&nbsp;are&nbsp;available&nbsp;in&nbsp;RabbitMQ&nbsp;website&nbsp;did&nbsp;not&nbsp;work.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;found&nbsp;an&nbsp;old&nbsp;post&nbsp;here&lt;br&gt;&amp;nbsp;&lt;a&nbsp;href=&quot;https://groups.google.com/forum/?hl=en&amp;amp;fromgroups#%21topicsearchin/rabbitmq-discuss/$20%7Bfunction_clause,[%7Bamqp_channel,build_content,/rabbitmq-discuss/WttoYWjFweU&quot;&nbsp;target=&quot;_blank&quot;&gt;https://groups.google.com/&lt;wbr&gt;forum/?hl=en&amp;amp;fromgroups#!&lt;wbr&gt;topicsearchin/rabbitmq-&lt;wbr&gt;discuss/$20{function_clause,[{&lt;wbr&gt;amqp_channel,build_content,/&lt;wbr&gt;rabbitmq-discuss/WttoYWjFweU&lt;/a&gt;&lt;br&gt;unfortunately&nbsp;it&nbsp;is&nbsp;not&nbsp;to&nbsp;clear&nbsp;to&nbsp;me&nbsp;what&nbsp;to&nbsp;do.&lt;br&gt;&lt;br&gt;Could&nbsp;somebody&nbsp;provide&nbsp;me&nbsp;with&nbsp;a&nbsp;full&nbsp;example&nbsp;of&nbsp;consumer?&lt;br&gt;&lt;br&gt;Thanks&nbsp;a&nbsp;lot&nbsp;in&nbsp;advance.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;Looks&nbsp;like&nbsp;I&nbsp;have&nbsp;found&nbsp;a&nbsp;correct&nbsp;solution:&lt;br&gt;&lt;br&gt;1.&nbsp;I&nbsp;have&nbsp;implemented&nbsp;simple&nbsp;gen_server,&nbsp;that&nbsp;just&nbsp;print&nbsp;all&nbsp;messages&nbsp;to&nbsp;the&nbsp;stdout.&lt;br&gt;&lt;br&gt;2.&nbsp;And&amp;nbsp;&nbsp;to&nbsp;like&nbsp;this:&lt;br&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&amp;nbsp;&nbsp;{ok,Connection}&nbsp;=&nbsp;amqp_connection:start(ConnectionParams),&nbsp;%&nbsp;open&nbsp;connection&nbsp;with&nbsp;predefined&nbsp;params.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&amp;nbsp;&nbsp;{ok,Pid}&nbsp;=&amp;nbsp;&nbsp;test_srv:start_link(),&nbsp;&amp;nbsp;&amp;nbsp;&nbsp;%&nbsp;Start&nbsp;our&nbsp;own&nbsp;consumer.&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;{ok,Channel}&amp;nbsp;&nbsp;=&nbsp;amqp_connection:open_channel(Connection,none,&lt;b&gt;{amqp_direct_consumer,[Pid]}&lt;/b&gt;&lt;/span&gt;),&lt;br&gt;&lt;br&gt;Then&nbsp;subscribe&nbsp;to&nbsp;the&nbsp;massages&nbsp;as&nbsp;described&nbsp;in&nbsp;the&nbsp;documentation.&lt;br&gt;&lt;br&gt;&lt;br&gt;In&nbsp;this&nbsp;cases&nbsp;all&nbsp;messages&nbsp;(basic.consume,&nbsp;basic.consume_ok,basic.deliver)&nbsp;are&nbsp;received&nbsp;through&amp;nbsp;&nbsp;handle_info&nbsp;method&nbsp;call&nbsp;of&nbsp;test_srv.&lt;br&gt;&lt;br&gt;Now&nbsp;the&nbsp;question:&nbsp;&lt;br&gt;Would&nbsp;it&nbsp;be&nbsp;better&nbsp;to&nbsp;create&nbsp;my&nbsp;own&nbsp;implementation&nbsp;of&nbsp;consume&nbsp;behavior,&nbsp;or&nbsp;handle&nbsp;them&nbsp;thought&nbsp;the&nbsp;message_info&nbsp;as&nbsp;it&nbsp;is&nbsp;now?&lt;br&gt;Any&nbsp;recommendations?&lt;br&gt;&lt;br&nbsp;style=&quot;font-family:&nbsp;courier&nbsp;new,monospace;&quot;&gt;&lt;br&gt;&lt;/div&gt;
</tt>
