<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi, &lt;div&gt;I&nbsp;followed&nbsp;closely&nbsp;the&nbsp;rabbitmq&nbsp;clustering&nbsp;&lt;a&nbsp;href=&quot;https://www.rabbitmq.com/clustering.html&quot;&gt;documentation&lt;/a&gt;&nbsp;on&nbsp;the&nbsp;site&nbsp;but&nbsp;failed&nbsp;for&nbsp;a&nbsp;full&nbsp;day&nbsp;to&nbsp;generate&nbsp;a&nbsp;cluster&nbsp;on&nbsp;EC2. &lt;/div&gt;&lt;div&gt;I&nbsp;frequently&nbsp;got&nbsp;&quot;The&nbsp;nodes&nbsp;provided&nbsp;are&nbsp;either&nbsp;offline&nbsp;or&nbsp;not&nbsp;running&quot;&lt;/div&gt;<br>
&lt;div&gt;(Though&nbsp;I&nbsp;had&nbsp;a&nbsp;telnet&nbsp;and&nbsp;my&nbsp;cookie&nbsp;was&nbsp;the&nbsp;same).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Eventually&nbsp;I&nbsp;solved&nbsp;it&nbsp;by&nbsp;recording&nbsp;the&nbsp;TCP&nbsp;communication&nbsp;(upon&nbsp;join_cluster&nbsp;command)&nbsp;and&nbsp;reading&nbsp;it&nbsp;)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;saw&nbsp;that&nbsp;after&nbsp;the&nbsp;triple&nbsp;handshake&nbsp;when&nbsp;the&nbsp;first&nbsp;node&nbsp;connects&nbsp;to&nbsp;the&nbsp;second,&nbsp;&lt;br&gt;a&nbsp;packet&nbsp;contains&nbsp;a&nbsp;new&nbsp;port&nbsp;is&nbsp;transferred &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://i.imgur.com/FN7r2as.png&quot;&gt;http://i.imgur.com/FN7r2as.png&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;img&nbsp;src=&quot;http://i.imgur.com/FN7r2as.png&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So,&nbsp;I&nbsp;really&nbsp;don&#39;t&nbsp;know&nbsp;what&nbsp;it&nbsp;is&nbsp;but&nbsp;I&nbsp;tried&nbsp;to&nbsp;open&nbsp;it&nbsp;in&nbsp;my&nbsp;security&nbsp;group&nbsp;(the&nbsp;firewall&nbsp;is&nbsp;down&nbsp;anyhow,&nbsp;but&nbsp;I&nbsp;need&nbsp;to&nbsp;update&nbsp;the&nbsp;port&nbsp;in&nbsp;EC2&nbsp;Security&nbsp;Group)&lt;/div&gt;<br>
&lt;div&gt;and&nbsp;finally&nbsp;after&nbsp;a&nbsp;lot&nbsp;of&nbsp;trials&nbsp;it&nbsp;worked. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;questions&nbsp;:&lt;/div&gt;&lt;div&gt;1.&nbsp;What&nbsp;is&nbsp;this&nbsp;port.&lt;/div&gt;&lt;div&gt;2.&nbsp;Is&nbsp;it&nbsp;a&nbsp;random&nbsp;port?&nbsp;How&nbsp;do&nbsp;I&nbsp;set&nbsp;it&nbsp;so&nbsp;I&nbsp;can&nbsp;control&nbsp;it?&lt;/div&gt;&lt;div&gt;3.&nbsp;Was&nbsp;I&nbsp;missing&nbsp;it&nbsp;in&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;https://www.rabbitmq.com/clustering.html&quot;&gt;clustering&nbsp;guide&lt;/a&gt;?&nbsp;It&nbsp;is&nbsp;kinda&nbsp;important.&nbsp;I&nbsp;couldnt&nbsp;find&nbsp;any&nbsp;document&nbsp;related&nbsp;to&nbsp;the&nbsp;rabbitmq&nbsp;clustering&nbsp;and&nbsp;this&nbsp;port. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;4.&nbsp;I&nbsp;did&nbsp;find&nbsp;some&nbsp;stuff&nbsp;regarding&nbsp;&lt;a&nbsp;href=&quot;http://www.erlang.org/faq/how_do_i.html#id55090&quot;&gt;clustering&nbsp;erlang.&nbsp;&lt;/a&gt;and&nbsp;it&nbsp;mentioned&nbsp;setting inet_dist_listen_min&nbsp;and inet_dist_listen_max.&nbsp;Is&nbsp;this&nbsp;it? &lt;/div&gt;<br>
&lt;div&gt;5.&nbsp;I&nbsp;need&nbsp;to&nbsp;set&nbsp; it&nbsp;using &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;application:set_env(kernel,&nbsp;inet_dist_listen_min,&nbsp;9100).&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp;&nbsp;&nbsp;&lt;/span&gt;application:set_env(kernel,&nbsp;inet_dist_listen_max,&nbsp;9105).&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;do&nbsp;I&nbsp;run&nbsp;configure&nbsp;this&nbsp;lines? &lt;/div&gt;&lt;div&gt;Thanks.&lt;/div&gt;&lt;/div&gt;<br>

</tt>
