<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt; *&nbsp;Use&nbsp;a&nbsp;&quot;regular&quot;&nbsp;consumer&nbsp;(recommended)&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt; *&nbsp;Add&nbsp;a&nbsp;recovery&nbsp;listener&nbsp;and&nbsp;re-create&nbsp;the&nbsp;queueing&nbsp;consumer&lt;/span&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;I&nbsp;din&nbsp;get&nbsp;what&nbsp;u&nbsp;meant&nbsp;by&nbsp;&quot;regular&quot;&nbsp;consumer..&nbsp;Should&nbsp;use &lt;/span&gt;&lt;font&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;DefaultConsumer?&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;20,&nbsp;2014&nbsp;at&nbsp;11:53&nbsp;AM,&nbsp;Michael&nbsp;Klishin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:mklishin@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mklishin@gopivotal.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;20&nbsp;June&nbsp;2014&nbsp;at&nbsp;10:16:14,&nbsp;Ranjitha&nbsp;Shet&nbsp;(&lt;a&nbsp;href=&quot;mailto:ranjithavshet09@gmail.com&quot;&gt;ranjithavshet09@gmail.com&lt;/a&gt;)&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;&gt;&nbsp;to&nbsp;receive&nbsp;message&nbsp;what&nbsp;I&nbsp;do&nbsp;is&nbsp;--&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;while(true){&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;try{&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;QueueingConsumer.Delivery&nbsp;delivery&nbsp;=&nbsp;consumer.nextDelivery();&lt;br&gt;<br>
&gt;&nbsp;..&lt;br&gt;<br>
&gt;&nbsp;..&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&gt;&nbsp;catch&nbsp;(ShutdownSignalException&nbsp;sse)&nbsp;{&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;//&nbsp;notify&nbsp;client&nbsp;about&nbsp;network&nbsp;disconnection&lt;br&gt;<br>
&gt;&nbsp;//&nbsp;check&nbsp;if&nbsp;connection&nbsp;and&nbsp;channel&nbsp;is&nbsp;open...&nbsp;if&nbsp;its&nbsp;open&nbsp;then&lt;br&gt;<br>
&gt;&nbsp;this&nbsp;current&nbsp;thread&nbsp;is&nbsp;delayed&nbsp;for&nbsp;some&nbsp;time&nbsp;so&nbsp;that&nbsp;exchange,&lt;br&gt;<br>
&gt;&nbsp;queue,&nbsp;binding&nbsp;and&nbsp;consumer&nbsp;are&nbsp;restored..&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;}&nbsp;catch&nbsp;(java.io.IOException&nbsp;ioe)&nbsp;{&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;}&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;}&nbsp;//&nbsp;end&nbsp;of&nbsp;while&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;QueueingConsumers&nbsp;currently&nbsp;cannot&nbsp;be&nbsp;recovered:&nbsp;on&nbsp;shutdown,&lt;br&gt;<br>
they&nbsp;modify&nbsp;their&nbsp;internal&nbsp;state&nbsp;in&nbsp;a&nbsp;way&nbsp;that&nbsp;marks&nbsp;them&nbsp;as&nbsp;&quot;done&quot;.&lt;br&gt;<br>
Think&nbsp;of&nbsp;them&nbsp;as&nbsp;Iterators&nbsp;which&nbsp;have&nbsp;a&nbsp;logical&nbsp;end.&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;have&nbsp;two&nbsp;options:&lt;br&gt;<br>
&lt;br&gt;<br>
 *&nbsp;Use&nbsp;a&nbsp;&quot;regular&quot;&nbsp;consumer&nbsp;(recommended)&lt;br&gt;<br>
 *&nbsp;Add&nbsp;a&nbsp;recovery&nbsp;listener&nbsp;and&nbsp;re-create&nbsp;the&nbsp;queueing&nbsp;consumer&lt;br&gt;<br>
&lt;br&gt;<br>
Automatic&nbsp;connection&nbsp;recovery&nbsp;simply&nbsp;re-adds&nbsp;the&nbsp;consumer(s)&nbsp;you&nbsp;previously&lt;br&gt;<br>
had,&nbsp;without&nbsp;knowing&nbsp;anything&nbsp;about&nbsp;their&nbsp;implementation&nbsp;and&nbsp;if&nbsp;they&nbsp;can&nbsp;&quot;self&nbsp;terminate&quot;&lt;br&gt;<br>
like&nbsp;the&nbsp;QueueingConsumer&nbsp;does. &lt;br&gt;<br>
&lt;div&nbsp;class=&quot;&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;--&lt;br&gt;<br>
MK&lt;br&gt;<br>
&lt;br&gt;<br>
Software&nbsp;Engineer,&nbsp;Pivotal/RabbitMQ&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
