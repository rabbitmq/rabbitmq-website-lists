<tt>
&lt;div&gt;Hi&nbsp;All,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;I&nbsp;have&nbsp;a&nbsp;small&nbsp;OTP&nbsp;App&nbsp;(&nbsp;say&nbsp;node&nbsp;A),&nbsp;that&nbsp;subscribes&nbsp;to&nbsp;a&nbsp;RabbitMQ&nbsp;queue,&nbsp;and&nbsp;also&nbsp;talks&nbsp;to&nbsp;another&nbsp;erlang&nbsp;node&nbsp;in&nbsp;another&nbsp;process&nbsp;(&nbsp;node&nbsp;B&nbsp;).&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;Now,&nbsp;sometimes&nbsp;the&nbsp;process&nbsp;hosting&nbsp;node&nbsp;B&nbsp;crashes&nbsp;for&nbsp;some&nbsp;reason,&nbsp;and&nbsp;my&nbsp;node&nbsp;A&nbsp;gets&nbsp;a&nbsp;'nodedown'&nbsp;message.&nbsp;Up&nbsp;till&nbsp;this&nbsp;point,&nbsp;consumption&nbsp;from&nbsp;RabbitMQ&nbsp;works&nbsp;perfectly.&amp;nbsp;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;However,&nbsp;after&nbsp;my&nbsp;handle_info&nbsp;has&nbsp;finished&nbsp;processing&nbsp;the&nbsp;nodedown,&nbsp;if&nbsp;I&nbsp;publish&nbsp;a&nbsp;message&nbsp;to&nbsp;the&nbsp;RabbitMQ&nbsp;queue,&nbsp;my&nbsp;app&nbsp;doesn't&nbsp;consume&nbsp;it.&nbsp;However,&nbsp;all&nbsp;messages&nbsp;published&nbsp;after&nbsp;this&nbsp;one&nbsp;are&nbsp;consumed&nbsp;properly&nbsp;and&nbsp;processed.&nbsp;However&nbsp;that&nbsp;1&nbsp;message&nbsp;remains&nbsp;in&nbsp;a&nbsp;message_unacknowledged&nbsp;state&nbsp;in&nbsp;the&nbsp;queue,&nbsp;even&nbsp;though&nbsp;my&nbsp;handle_info&nbsp;refuses&nbsp;to&nbsp;have&nbsp;ever&nbsp;consumed&nbsp;it&nbsp;!&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;i.e:&nbsp;it&nbsp;looks&nbsp;like&nbsp;the&nbsp;message&nbsp;is&nbsp;being&nbsp;consumed&nbsp;from&nbsp;the&nbsp;queue,&nbsp;but&nbsp;not&nbsp;delivered&nbsp;to&nbsp;the&nbsp;subscribed&nbsp;erlang&nbsp;process&nbsp;(&nbsp;in&nbsp;case&nbsp;of&nbsp;my&nbsp;app,&nbsp;the&nbsp;handle_info&nbsp;function&nbsp;).&amp;nbsp;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;Is&nbsp;this&nbsp;a&nbsp;known&nbsp;issue&nbsp;in&nbsp;the&nbsp;client&nbsp;?&nbsp;Can&nbsp;someone&nbsp;please&nbsp;help&nbsp;me&nbsp;with&nbsp;this&nbsp;?&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;Rabbitmq&nbsp;server&nbsp;version&nbsp;:&nbsp;2.7.1&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;Rabbitmq&nbsp;client&nbsp;version&nbsp;:&nbsp;0.9.1&nbsp;version&nbsp;of&nbsp;the&nbsp;AMQP&nbsp;protocol&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;Erlang:&nbsp;R15B&amp;nbsp;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;----------------&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;Since&nbsp;the&nbsp;other&nbsp;thread&nbsp;where&nbsp;I&nbsp;asked&nbsp;this&nbsp;was&nbsp;sorta&nbsp;hijacked,&nbsp;I'm&nbsp;creating&nbsp;a&nbsp;new&nbsp;thread&nbsp;for&nbsp;this&nbsp;in&nbsp;case&nbsp;someone&nbsp;ends&nbsp;up&nbsp;seeing&nbsp;this.&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;-----------&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;border-style:&nbsp;initial;&nbsp;border-color:&nbsp;initial;&nbsp;&quot;&gt;Thanks&nbsp;!&lt;/div&gt;&lt;/div&gt;
</tt>
