<tt>
&lt;font&nbsp;face=&quot;trebuchet&nbsp;ms,sans-serif&quot;&gt;Hi,&nbsp;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;figure&nbsp;out&nbsp;what&nbsp;values&nbsp;the&nbsp;ShutdownEventArgs.ReplyCode&nbsp;property&nbsp;can&nbsp;be&nbsp;assigned&nbsp;by&nbsp;the&nbsp;.NET&nbsp;client. &lt;/font&gt;&lt;div&gt;&lt;font&nbsp;face=&quot;trebuchet&nbsp;ms,sans-serif&quot;&gt;I&nbsp;started&nbsp;investigating&nbsp;while&nbsp;trying&nbsp;to&nbsp;solve&nbsp;a&nbsp;reconnection&nbsp;problem&nbsp;whereby&nbsp;the&nbsp;connection&nbsp;was&nbsp;shutdown&nbsp;by&nbsp;the&nbsp;AppDomain&nbsp;unload&nbsp;event&nbsp;handler&nbsp;and&nbsp;exited&nbsp;with&nbsp;code&nbsp;0x21d,&nbsp;but&nbsp;noticed&nbsp;there&amp;#39;s&nbsp;at&nbsp;least&nbsp;another&nbsp;case&nbsp;in&nbsp;the&nbsp;code&nbsp;where&nbsp;the&nbsp;ReplyCode&nbsp;is&nbsp;assigned&nbsp;the&nbsp;same&nbsp;value,&nbsp;and&nbsp;it&amp;#39;s&nbsp;in&nbsp;the&nbsp;MainLoop&nbsp;method,&nbsp;in&nbsp;the&nbsp;last&nbsp;chance&nbsp;catch&nbsp;block. &lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;trebuchet&nbsp;ms,sans-serif&quot;&gt;Using&nbsp;same&nbsp;codes&nbsp;for&nbsp;different&nbsp;shutdown&nbsp;reasons&nbsp;makes&nbsp;it&nbsp;difficult&nbsp;to&nbsp;distinguish&nbsp;different&nbsp;shutdown&nbsp;scenarios,&nbsp;and&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;avoid&nbsp;relying&nbsp;on&nbsp;the&nbsp;ReplyText&nbsp;property&nbsp;to&nbsp;discriminate&nbsp;it. &lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;face=&quot;trebuchet&nbsp;ms,sans-serif&quot;&gt;So&nbsp;I&amp;#39;m&nbsp;wondering&nbsp;what&nbsp;is&nbsp;the&nbsp;criteria&nbsp;used&nbsp;by&nbsp;the&nbsp;API&nbsp;to&nbsp;set&nbsp;this&nbsp;value&nbsp;and,&nbsp;bumping&nbsp;one&nbsp;thread&nbsp;from&nbsp;some&nbsp;time&nbsp;ago,&nbsp;it&nbsp;would&nbsp;be&nbsp;very&nbsp;nice&nbsp;to&nbsp;have&nbsp;some&nbsp;guidance&nbsp;about&nbsp;how&nbsp;the&nbsp;.NET&nbsp;API&nbsp;behaves&nbsp;when&nbsp;anything&nbsp;goes&nbsp;wrong.&nbsp;Currently&nbsp;I&nbsp;have&nbsp;to&nbsp;say&nbsp;that&nbsp;it&amp;#39;s&nbsp;quite&nbsp;difficult&nbsp;to&nbsp;cope&nbsp;with&nbsp;failure&nbsp;scenarios&nbsp;because&nbsp;the&nbsp;behavior&nbsp;of&nbsp;the&nbsp;API&nbsp;is&nbsp;difficult&nbsp;to&nbsp;predict,&nbsp;and&nbsp;I&nbsp;am&nbsp;under&nbsp;the&nbsp;impression&nbsp;that&nbsp;it&nbsp;is&nbsp;somewhat&nbsp;inconsistent&nbsp;in&nbsp;terms&nbsp;of&nbsp;which&nbsp;exceptions&nbsp;you&nbsp;have&nbsp;to&nbsp;expect&nbsp;to&nbsp;bubble&nbsp;up&nbsp;in&nbsp;different&nbsp;circumstances.&lt;/font&gt;&lt;/div&gt;<br>
<br>

</tt>
