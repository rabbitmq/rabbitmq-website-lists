<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Also,&nbsp;while&nbsp;I&nbsp;don&amp;#39;t&nbsp;believe&nbsp;there&nbsp;have&nbsp;been&nbsp;any&nbsp;changes&nbsp;to&nbsp;Spring&nbsp;AMQP&nbsp;in&nbsp;this&nbsp;area,&nbsp;I&nbsp;would&nbsp;recommend&nbsp;using&nbsp;the&nbsp;latest&nbsp;version&nbsp;-&nbsp;1.2.0&nbsp;(or,&nbsp;at&nbsp;least&nbsp;1.1.4).&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Thu,&nbsp;Aug&nbsp;1,&nbsp;2013&nbsp;at&nbsp;5:46&nbsp;AM,&nbsp;Emile&nbsp;Joubert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;emile@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
Hi&nbsp;Lukasz,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;31/07/13&nbsp;17:30,&nbsp;Lukasz&nbsp;Olczak&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;com.rabbitmq.client.ShutdownSignalException:&nbsp;channel&nbsp;error;&nbsp;reason:&lt;br&gt;<br>
&amp;gt;&nbsp;{#method&amp;lt;channel.close&amp;gt;(reply-code=406,&nbsp;reply-text=PRECONDITION_FAILED&nbsp;-&lt;br&gt;<br>
&amp;gt;&nbsp;unknown&nbsp;delivery&nbsp;tag&nbsp;1,&nbsp;class-id=60,&nbsp;method-id=80),&nbsp;null,&nbsp;&amp;quot;&amp;quot;}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;There&nbsp;are&nbsp;legitimate&nbsp;ways&nbsp;in&nbsp;which&nbsp;multiple&nbsp;consumers&nbsp;could&nbsp;get&nbsp;hold&nbsp;of&lt;br&gt;<br>
the&nbsp;same&nbsp;message,&nbsp;in&nbsp;the&nbsp;same&nbsp;second.&nbsp;If&nbsp;any&nbsp;consumer&nbsp;rejects&nbsp;a&nbsp;message&lt;br&gt;<br>
or&nbsp;reconnects&nbsp;then&nbsp;unacknowledged&nbsp;messages&nbsp;will&nbsp;be&nbsp;returned&nbsp;to&nbsp;the&lt;br&gt;<br>
broker&nbsp;and&nbsp;may&nbsp;be&nbsp;delivered&nbsp;to&nbsp;other&nbsp;consumers.&nbsp;Such&nbsp;messages&nbsp;will&nbsp;have&lt;br&gt;<br>
the&nbsp;redelivered&nbsp;flag&nbsp;set.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;error&nbsp;you&nbsp;quote&nbsp;could&nbsp;also&nbsp;arise&nbsp;if&nbsp;an&nbsp;application&nbsp;acknowledges&lt;br&gt;<br>
messages&nbsp;incorrectly.&nbsp;Make&nbsp;sure&nbsp;that&nbsp;messages&nbsp;are&nbsp;only&nbsp;acknowledged&nbsp;once.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;Anybody&nbsp;knows&nbsp;why&nbsp;RabbitMQ&nbsp;duplicates&nbsp;messages&nbsp;on&nbsp;a&nbsp;single&nbsp;broker&nbsp;with&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;publisher&nbsp;and&nbsp;consumers&nbsp;connected&nbsp;through&nbsp;loopback&nbsp;interface?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;This&nbsp;is&nbsp;unlikely&nbsp;to&nbsp;have&nbsp;anything&nbsp;to&nbsp;do&nbsp;with&nbsp;the&nbsp;loopback&nbsp;interface&lt;br&gt;<br>
directly.&nbsp;Though&nbsp;loopback&nbsp;offers&nbsp;greater&nbsp;speed&nbsp;which&nbsp;may&nbsp;expose&nbsp;race&lt;br&gt;<br>
conditions.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;believe&nbsp;there&nbsp;is&nbsp;a&nbsp;broker&nbsp;error&nbsp;then&nbsp;please&nbsp;run&nbsp;your&nbsp;test&nbsp;via&nbsp;the&lt;br&gt;<br>
Tracer&nbsp;protocol&nbsp;analyser&nbsp;and&nbsp;send&nbsp;us&nbsp;the&nbsp;generated&nbsp;trace&nbsp;file:&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/javadoc/com/rabbitmq/tools/Tracer.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/javadoc/com/rabbitmq/tools/Tracer.html&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
-Emile&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
