<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2013/4/7&nbsp;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:dharmanshu@ophio.co.in&quot;&nbsp;target=&quot;_blank&quot;&gt;dharmanshu@ophio.co.in&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&gt;And&nbsp;1&nbsp;reader&nbsp;that&nbsp;publishes&nbsp;messages&nbsp;using&nbsp;a&nbsp;for&nbsp;loop.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;publishing&nbsp;around&nbsp;120,000&nbsp;messages&nbsp;,&nbsp;the&nbsp;reader&nbsp;gives&nbsp;out&nbsp;the&nbsp;following&nbsp;error&nbsp;on&nbsp;publish.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;Socket&nbsp;error:&nbsp;Broken&nbsp;pipe.&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;reader&nbsp;process&nbsp;then&nbsp;needs&nbsp;to&nbsp;be&nbsp;killed&nbsp;manually&nbsp;and&nbsp;the&nbsp;broker&nbsp;needs&nbsp;to&nbsp;be&nbsp;restarted. &lt;/div&gt;&lt;div&gt;Any&nbsp;idea&nbsp;how&nbsp;to&nbsp;handle&nbsp;this&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;What&nbsp;is&nbsp;in&nbsp;RabbitMQ&nbsp;log?&nbsp;Your&nbsp;publisher&nbsp;is&nbsp;likely&nbsp;to&nbsp;be&nbsp;blocked&nbsp;because&nbsp;you&nbsp;are&nbsp;going&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;above&nbsp;the&nbsp;RAM&nbsp;watermark&nbsp;(or&nbsp;even&nbsp;disk,&nbsp;on&nbsp;a&nbsp;small&nbsp;partition,&nbsp;for&nbsp;example).&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;It&nbsp;will&nbsp;be&nbsp;unblocked&nbsp;when&nbsp;consumers&nbsp;catch&nbsp;up&nbsp;and&nbsp;drain&nbsp;some&nbsp;messages&nbsp;to&nbsp;free&nbsp;up&nbsp;resources.&lt;br&gt;<br>
<br>
&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&nbsp;style&gt;The&nbsp;client&nbsp;should&nbsp;not&nbsp;fail&nbsp;with&nbsp;a&nbsp;socket&nbsp;error,&nbsp;though.&lt;/div&gt;--&nbsp;&lt;br&gt;MK&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://github.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://github.com/michaelklishin&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://twitter.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twitter.com/michaelklishin&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
