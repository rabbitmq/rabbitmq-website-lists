<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;François,&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;recently&nbsp;found&nbsp;a&nbsp;OOM&nbsp;bug&nbsp;related&nbsp;to&nbsp;32bit&nbsp;Erlang&nbsp;and&nbsp;RabbitMQ,&nbsp;so&nbsp;sorry&nbsp;if&nbsp;I&nbsp;insist&nbsp;with&nbsp;this,&nbsp;but&nbsp;we&nbsp;want&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;you&nbsp;have/not&nbsp;have&nbsp;a&nbsp;32bit&nbsp;Erlang&nbsp;when&nbsp;running&nbsp;RabbitMQ.&nbsp;What&nbsp;could&nbsp;happen&nbsp;is&nbsp;that&nbsp;the&nbsp;Erlang&nbsp;that&amp;#39;s&nbsp;on&nbsp;the&nbsp;path&nbsp;of&nbsp;the&nbsp;rabbitmq-server&nbsp;script&nbsp;might&nbsp;not&nbsp;be&nbsp;the&nbsp;same&nbsp;as&nbsp;the&nbsp;Erlang&nbsp;that&nbsp;you&nbsp;start&nbsp;by&nbsp;calling&nbsp;&amp;quot;erl&amp;quot;.&nbsp;In&nbsp;my&nbsp;Mac&nbsp;for&nbsp;example&nbsp;I&nbsp;have&nbsp;a&nbsp;globally&nbsp;installed&nbsp;64&nbsp;bit&nbsp;Erlang,&nbsp;but&nbsp;the&nbsp;standalone&nbsp;release&nbsp;comes&nbsp;with&nbsp;a&nbsp;32bit&nbsp;Erlang.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;any&nbsp;case,&nbsp;could&nbsp;you&nbsp;please&nbsp;start&nbsp;RabbitMQ&nbsp;and&nbsp;then&nbsp;tell&nbsp;us&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;following&nbsp;command:&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&nbsp;class=&quot;&quot;&gt;rabbitmqctl&nbsp;eval&nbsp;&amp;#39;erlang:system_info(system_version).&amp;#39;&lt;/p&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;/div&gt;&lt;div&gt;Also,&nbsp;on&nbsp;my&nbsp;rabbit&nbsp;log&nbsp;files&nbsp;I&nbsp;get&nbsp;the&nbsp;following&nbsp;lines&nbsp;during&nbsp;rabbit&nbsp;start&nbsp;up,&nbsp;what&amp;#39;s&nbsp;on&nbsp;yours?&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=INFO&nbsp;REPORT====&nbsp;30-Oct-2013::01:23:36&nbsp;===&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;Memory&nbsp;limit&nbsp;set&nbsp;to&nbsp;1594MB&nbsp;of&nbsp;3986MB&nbsp;total.&lt;/p&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;finally,&nbsp;could&nbsp;you&nbsp;report&nbsp;rabbit&amp;#39;s&nbsp;memory&nbsp;use&nbsp;when&nbsp;it&amp;#39;s&nbsp;about&nbsp;to&nbsp;crash?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;could&nbsp;get&nbsp;that&nbsp;info&nbsp;by&nbsp;running&nbsp;rabbitmqctl&nbsp;status,&nbsp;or&nbsp;by&nbsp;checking&nbsp;on&nbsp;the&nbsp;management&nbsp;plugin&nbsp;interface.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Alvaro&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Oct&nbsp;30,&nbsp;2013&nbsp;at&nbsp;1:23&nbsp;PM,&nbsp;François&nbsp;Beausoleil&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:francois.beausoleil@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;francois.beausoleil@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;br&gt;<br>
Le&nbsp;2013-10-29&nbsp;à&nbsp;17:20,&nbsp;Michael&nbsp;Klishin&nbsp;a&nbsp;écrit&nbsp;:&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;30&nbsp;Oct&nbsp;2013,&nbsp;at&nbsp;01:10,&nbsp;François&nbsp;Beausoleil&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:francois.beausoleil@gmail.com&quot;&gt;francois.beausoleil@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;The&nbsp;host&nbsp;has&nbsp;configuration&nbsp;for&nbsp;overcommit:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;#&nbsp;cat&nbsp;/proc/sys/vm/overcommit_ratio&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;50&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;#&nbsp;cat&nbsp;/proc/sys/vm/overcommit_memory&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;2&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Can&nbsp;you&nbsp;post&nbsp;ulimit&nbsp;-a&nbsp;output?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;#&nbsp;ulimit&nbsp;-a&lt;br&gt;<br>
core&nbsp;file&nbsp;size&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (blocks,&nbsp;-c)&nbsp;0&lt;br&gt;<br>
data&nbsp;seg&nbsp;size&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(kbytes,&nbsp;-d)&nbsp;unlimited&lt;br&gt;<br>
scheduling&nbsp;priority&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(-e)&nbsp;0&lt;br&gt;<br>
file&nbsp;size&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(blocks,&nbsp;-f)&nbsp;unlimited&lt;br&gt;<br>
pending&nbsp;signals&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(-i)&nbsp;256523&lt;br&gt;<br>
max&nbsp;locked&nbsp;memory&nbsp; &nbsp; &nbsp; &nbsp;(kbytes,&nbsp;-l)&nbsp;64&lt;br&gt;<br>
max&nbsp;memory&nbsp;size&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(kbytes,&nbsp;-m)&nbsp;unlimited&lt;br&gt;<br>
open&nbsp;files&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (-n)&nbsp;4096&lt;br&gt;<br>
pipe&nbsp;size&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (512&nbsp;bytes,&nbsp;-p)&nbsp;8&lt;br&gt;<br>
POSIX&nbsp;message&nbsp;queues&nbsp; &nbsp; &nbsp;(bytes,&nbsp;-q)&nbsp;819200&lt;br&gt;<br>
real-time&nbsp;priority&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (-r)&nbsp;0&lt;br&gt;<br>
stack&nbsp;size&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (kbytes,&nbsp;-s)&nbsp;8192&lt;br&gt;<br>
cpu&nbsp;time&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;(seconds,&nbsp;-t)&nbsp;unlimited&lt;br&gt;<br>
max&nbsp;user&nbsp;processes&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (-u)&nbsp;256523&lt;br&gt;<br>
virtual&nbsp;memory&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (kbytes,&nbsp;-v)&nbsp;unlimited&lt;br&gt;<br>
file&nbsp;locks&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (-x)&nbsp;unlimited&lt;br&gt;<br>
&lt;br&gt;<br>
Anything&nbsp;else&nbsp;I&amp;#39;m&nbsp;missing?&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks!&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;François&nbsp;Beausoleil&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
