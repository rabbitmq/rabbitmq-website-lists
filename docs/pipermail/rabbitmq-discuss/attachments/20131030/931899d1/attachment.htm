<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Adding&nbsp;back&nbsp;rabbitmq-discuss&nbsp;to&nbsp;the&nbsp;loop.&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Oct&nbsp;30,&nbsp;2013&nbsp;at&nbsp;3:26&nbsp;PM,&nbsp;Lawrence&nbsp;Freil&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:lef@apago.com&quot;&nbsp;target=&quot;_blank&quot;&gt;lef@apago.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;Alvaro,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;should&nbsp;have&nbsp;stated&nbsp;&amp;#39;consumer&amp;#39;&nbsp;instead&nbsp;of&nbsp;&amp;#39;queue&amp;#39;.&nbsp;The&nbsp;docs&nbsp;(and&nbsp;my&nbsp;testing&nbsp;indicates&nbsp;that&nbsp;it&nbsp;does&nbsp;work&nbsp;this&nbsp;way)&nbsp;states:&lt;br&gt;<br>
&lt;br&gt;<br>
Direct&nbsp;exchanges&nbsp;are&nbsp;often&nbsp;used&nbsp;to&nbsp;distribute&nbsp;tasks&nbsp;between&nbsp;multiple&nbsp;workers&nbsp;(instances&nbsp;of&nbsp;the&nbsp;same&nbsp;application)&nbsp;in&nbsp;a&nbsp;round&nbsp;robin&nbsp;manner.&nbsp;When&nbsp;doing&nbsp;so,&nbsp;it&nbsp;is&nbsp;important&nbsp;to&nbsp;understand&nbsp;that,&nbsp;in&nbsp;AMQP&nbsp;0-9-1,&nbsp;messages&nbsp;are&nbsp;load&nbsp;balanced&nbsp;between&nbsp;consumers&nbsp;and&nbsp;not&nbsp;between&nbsp;queues.&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;exchanges&nbsp;will&nbsp;route&nbsp;messages&nbsp;to&nbsp;queues&nbsp;based&nbsp;on&nbsp;the&nbsp;routing&nbsp;key&nbsp;used&nbsp;when&nbsp;publishing&nbsp;the&nbsp;message&nbsp;and&nbsp;the&nbsp;routing&nbsp;key&nbsp;used&nbsp;to&nbsp;bind&nbsp;the&nbsp;queue(s)&nbsp;to&nbsp;the&nbsp;exchange.&nbsp;Depending&nbsp;on&nbsp;the&nbsp;exchange&nbsp;is&nbsp;how&nbsp;that&nbsp;routing&nbsp;key&nbsp;will&nbsp;be&nbsp;used&nbsp;during&nbsp;routing.&nbsp;So&nbsp;one&nbsp;message&nbsp;could&nbsp;end&nbsp;up&nbsp;in&nbsp;more&nbsp;than&nbsp;one&nbsp;queue.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Once&nbsp;the&nbsp;message&nbsp;reached&nbsp;one&nbsp;queue&nbsp;(note&nbsp;that&nbsp;the&nbsp;message&nbsp;could&nbsp;have&nbsp;been&nbsp;delivered&nbsp;to&nbsp;more&nbsp;than&nbsp;one&nbsp;queue),&nbsp;then&nbsp;the&nbsp;messages&nbsp;on&nbsp;a&nbsp;particular&nbsp;queue&nbsp;will&nbsp;be&nbsp;round-robin&amp;#39;ed&nbsp;across&nbsp;consumers.&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;more&nbsp;details&nbsp;take&nbsp;a&nbsp;look&nbsp;here: &lt;a&nbsp;href=&quot;http://www.rabbitmq.com/tutorials/amqp-concepts.html&quot;&gt;http://www.rabbitmq.com/tutorials/amqp-concepts.html&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;Alvaro&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Oct&nbsp;30&nbsp;2013,&nbsp;Alvaro&nbsp;Videla&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
On&nbsp;Wed,&nbsp;Oct&nbsp;30,&nbsp;2013&nbsp;at&nbsp;2:54&nbsp;PM,&nbsp;Lawrence&nbsp;Freil&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:lef@apago.com&quot;&nbsp;target=&quot;_blank&quot;&gt;lef@apago.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
In&nbsp;addition&nbsp;it&nbsp;needs&nbsp;to&nbsp;act&nbsp;as&nbsp;a&nbsp;direct&nbsp;exchange&nbsp;in&nbsp;that&nbsp;only&nbsp;one&nbsp;queue&lt;br&gt;<br>
should&nbsp;receive&nbsp;a&nbsp;message&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
BTW,&nbsp;on&nbsp;the&nbsp;direct&nbsp;exchange,&nbsp;every&nbsp;queue&nbsp;that&nbsp;is&nbsp;bound&nbsp;with&nbsp;a&nbsp;particular&lt;br&gt;<br>
routing&nbsp;key&nbsp;will&nbsp;receive&nbsp;the&nbsp;message.&nbsp;An&nbsp;exchange&nbsp;that&nbsp;routes&nbsp;messages&nbsp;to&lt;br&gt;<br>
one&nbsp;queue&nbsp;is&nbsp;the&nbsp;default&nbsp;exchange&nbsp;(aka&nbsp;anon&nbsp;exchange).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
--&nbsp;&lt;br&gt;<br>
Lawrence&nbsp;Freil&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:lef@apago.com&quot;&nbsp;target=&quot;_blank&quot;&gt;lef@apago.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;tel:770-619-1884&quot;&nbsp;value=&quot;+17706191884&quot;&nbsp;target=&quot;_blank&quot;&gt;770-619-1884&lt;/a&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
