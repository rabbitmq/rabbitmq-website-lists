<tt>
Hi.&nbsp;&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;create&nbsp;a&nbsp;cluster&nbsp;of&nbsp;three&nbsp;RabbitMQ&nbsp;nodes.&lt;br&gt;I&nbsp;am&nbsp;having&nbsp;trouble&nbsp;setting&nbsp;the&nbsp;&amp;quot;.erlang.cookie&amp;quot;&nbsp;file&nbsp;correctly.&lt;br&gt;&lt;br&gt;Node1&nbsp;-&nbsp;x.y.z.28       &nbsp;-&nbsp;Ubuntu&nbsp;12.04&nbsp;-&nbsp;RabbitMQ&nbsp;installed&nbsp;from&nbsp;repositories.&lt;br&gt;<br>
Node2&nbsp;-&nbsp;x.y.z.38       &nbsp;-&nbsp;Ubuntu&nbsp;12.04&nbsp;-&nbsp;RabbitMQ&nbsp;installed&nbsp;from&nbsp;repositories.    &nbsp;&lt;br&gt;Node3&nbsp;-&nbsp;x.y.z.39&nbsp;      &nbsp;-&nbsp;Ubuntu&nbsp;12.04&nbsp;-&nbsp;RabbitMQ&nbsp;installed&nbsp;from&nbsp;repositories. &nbsp;&lt;br&gt;&lt;br&gt;Individually&nbsp;all&nbsp;the&nbsp;three&nbsp;nodes&nbsp;are&nbsp;working&nbsp;fine.&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
&lt;br&gt;Step&nbsp;1&nbsp;:&nbsp;copy&nbsp;the&nbsp;erlang&nbsp;magic&nbsp;cookie&nbsp;between&nbsp;the&nbsp;nodes&lt;br&gt;&lt;ul&gt;&lt;li&gt;I&nbsp;replace&nbsp;the&nbsp;/var/lib/rabbitmq/.erlang.cookie&nbsp;file&nbsp;in&nbsp;Node&nbsp;2&nbsp;with&nbsp;that&nbsp;of&nbsp;Node&nbsp;1&lt;/li&gt;&lt;li&gt;ls&nbsp;-al&nbsp;shows&nbsp;the&nbsp;file&nbsp;is&nbsp;owned&nbsp;by&nbsp;&amp;quot;rabbitmq&amp;quot;&nbsp;user&lt;/li&gt;<br>
&lt;/ul&gt;step&nbsp;2&nbsp;:&nbsp;I&nbsp;try&nbsp;to&nbsp;add&nbsp;Node2&nbsp;to&nbsp;a&nbsp;cluster&nbsp;with&nbsp;Node1&lt;br&gt;&lt;ul&gt;&lt;li&gt;Every&nbsp;rabbitmqctl&nbsp;command&nbsp;fails&nbsp;like&nbsp;below&lt;/li&gt;&lt;/ul&gt;&lt;font&nbsp;style=&quot;color:rgb(51,0,0)&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;root@rabbit3:/home/aravindh#&nbsp;rabbitmqctl&nbsp;cluster&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbit@130.127.39.28&quot;&gt;rabbit@130.127.39.28&lt;/a&gt;&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;Clustering&nbsp;node&nbsp;rabbit@rabbit3&nbsp;with&nbsp;[&amp;#39;&lt;a&nbsp;href=&quot;mailto:rabbit@130.127.39.28&quot;&gt;rabbit@130.127.39.28&lt;/a&gt;&amp;#39;]&nbsp;...&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;Error:&nbsp;unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;node&nbsp;rabbit@rabbit3:&nbsp;nodedown&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;diagnostics:&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;-&nbsp;nodes&nbsp;and&nbsp;their&nbsp;ports&nbsp;on&nbsp;rabbit3:&nbsp;[{rabbit,37223},{rabbitmqctl12238,44154}]&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;-&nbsp;current&nbsp;node:&nbsp;rabbitmqctl12238@rabbit3&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;-&nbsp;current&nbsp;node&nbsp;home&nbsp;dir:&nbsp;/var/lib/rabbitmq&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;-&nbsp;current&nbsp;node&nbsp;cookie&nbsp;hash:&nbsp;rMqeVIBUabtB2sZrvleTTQ==&lt;br&gt;&lt;br&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;root@rabbit3:/home/aravindh#&nbsp;rabbitmqctl&nbsp;status&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;Status&nbsp;of&nbsp;node&nbsp;rabbit@rabbit3&nbsp;...&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;Error:&nbsp;unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;node&nbsp;rabbit@rabbit3:&nbsp;nodedown&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;diagnostics:&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;-&nbsp;nodes&nbsp;and&nbsp;their&nbsp;ports&nbsp;on&nbsp;rabbit3:&nbsp;[{rabbit,37223},{rabbitmqctl12271,38179}]&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;-&nbsp;current&nbsp;node:&nbsp;rabbitmqctl12271@rabbit3&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;-&nbsp;current&nbsp;node&nbsp;home&nbsp;dir:&nbsp;/var/lib/rabbitmq&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;<br>
&lt;span&nbsp;style=&quot;font-family:courier&nbsp;new,monospace&quot;&gt;-&nbsp;current&nbsp;node&nbsp;cookie&nbsp;hash:&nbsp;rMqeVIBUabtB2sZrvleTTQ==&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;Reverting&nbsp;back&nbsp;to&nbsp;the&nbsp;original&nbsp;.erlang.cookie&nbsp;file&nbsp;gets&nbsp;rid&nbsp;of&nbsp;the&nbsp;error,&nbsp;but&nbsp;I&nbsp;cannot&nbsp;proceed&nbsp;with&nbsp;cluster&nbsp;without&nbsp;this&nbsp;cookie&nbsp;step&nbsp;right&nbsp;?&lt;br&gt;<br>
&lt;br&gt;please&nbsp;help&nbsp;me&nbsp;find&nbsp;where&nbsp;I&nbsp;am&nbsp;going&nbsp;wrong&nbsp;....&nbsp;&lt;br&gt;&lt;br&gt;--&lt;br&gt; &lt;br&gt;&lt;font&nbsp;style=&quot;color:rgb(51,0,51);font-family:garamond,serif&quot;&nbsp;size=&quot;4&quot;&gt;Aravindh&lt;/font&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>
