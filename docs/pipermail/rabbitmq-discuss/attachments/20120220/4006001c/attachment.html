<tt>
Ah,&nbsp;thanks&nbsp;so&nbsp;much&nbsp;for&nbsp;this&nbsp;reply&nbsp;Matthew.&nbsp;It&amp;#39;s&nbsp;extremely&nbsp;enlightening&nbsp;and&nbsp;seems&nbsp;to&nbsp;explain&nbsp;what&nbsp;we&amp;#39;re&nbsp;seeing.&lt;br&gt;<br>
&lt;br&gt;<br>
A&nbsp;follow&nbsp;up&nbsp;question&nbsp;just&nbsp;for&nbsp;my&nbsp;understanding:&nbsp;Are&nbsp;these&nbsp;&amp;quot;windows&amp;quot;&nbsp;<br>
dynamic&nbsp;in&nbsp;nature&nbsp;(e.g.,&nbsp;varying&nbsp;length,&nbsp;varying&nbsp;frequency,&nbsp;somehow&nbsp;tied<br>
&nbsp;to&nbsp;current&nbsp;load)?&nbsp;Or&nbsp;are&nbsp;they&nbsp;more&nbsp;static&nbsp;(e.g.&nbsp;&amp;quot;Once&nbsp;every&nbsp;20&nbsp;<br>
milliseconds&amp;quot;).&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&nbsp;again,&lt;br&gt;<br>
&lt;br&gt;<br>
Matt&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Feb&nbsp;20,&nbsp;2012&nbsp;at&nbsp;3:28&nbsp;AM,&nbsp;Matthew&nbsp;Sackman&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthew@rabbitmq.com&quot;&gt;matthew@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Fri,&nbsp;Feb&nbsp;17,&nbsp;2012&nbsp;at&nbsp;11:17:24AM&nbsp;-0800,&nbsp;Matt&nbsp;Pietrek&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;While&nbsp;I&amp;#39;m&nbsp;very&nbsp;happy&nbsp;with&nbsp;these&nbsp;results,&nbsp;I&amp;#39;m&nbsp;still&nbsp;puzzled.&nbsp;Given&nbsp;that&nbsp;all&lt;br&gt;<br>
&amp;gt;&nbsp;clients&nbsp;are&nbsp;writing&nbsp;to&nbsp;the&nbsp;same&nbsp;queue,&nbsp;I&amp;#39;d&nbsp;expect&nbsp;resource&lt;br&gt;<br>
&amp;gt;&nbsp;contention/blocking&nbsp;in&nbsp;the&nbsp;broker&nbsp;to&nbsp;slow&nbsp;things&nbsp;down&nbsp;much&nbsp;faster&nbsp;than&nbsp;they&lt;br&gt;<br>
&amp;gt;&nbsp;do.&nbsp;Any&nbsp;comment&nbsp;on&nbsp;this?&nbsp;Am&nbsp;I&nbsp;overlooking&nbsp;anything&nbsp;critical&nbsp;to&nbsp;my&lt;br&gt;<br>
&amp;gt;&nbsp;understanding?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;There&amp;#39;s&nbsp;a&nbsp;&amp;quot;window&amp;quot;&nbsp;of&nbsp;time&nbsp;during&nbsp;which&nbsp;no&nbsp;fsyncs&nbsp;will&nbsp;occur,&nbsp;and&lt;br&gt;<br>
txn-publishes&nbsp;will&nbsp;merely&nbsp;accumulate.&nbsp;Only&nbsp;when&nbsp;that&nbsp;window&nbsp;closes&nbsp;will&lt;br&gt;<br>
the&nbsp;fsync&nbsp;be&nbsp;performed.&nbsp;With&nbsp;a&nbsp;single&nbsp;publisher,&nbsp;each&nbsp;window&nbsp;can&nbsp;only&lt;br&gt;<br>
have&nbsp;a&nbsp;single&nbsp;publisher&amp;#39;s&nbsp;msgs&nbsp;in&nbsp;it.&nbsp;But&nbsp;with&nbsp;many&nbsp;publishers,&nbsp;the&lt;br&gt;<br>
fsync&nbsp;is&nbsp;effectively&nbsp;amortized,&nbsp;and&nbsp;thus&nbsp;a&nbsp;higher&nbsp;rate&nbsp;is&nbsp;achieved&nbsp;-&nbsp;if&lt;br&gt;<br>
you&nbsp;monitor&nbsp;with&nbsp;strace&nbsp;or&nbsp;similar,&nbsp;you&amp;#39;ll&nbsp;probably&nbsp;see&nbsp;the&nbsp;fsync&nbsp;rate&lt;br&gt;<br>
is&nbsp;not&nbsp;much&nbsp;different,&nbsp;regardless&nbsp;of&nbsp;the&nbsp;number&nbsp;of&nbsp;publishers&nbsp;you&nbsp;have&lt;br&gt;<br>
publishing&nbsp;to&nbsp;the&nbsp;same&nbsp;queue.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
Matthew&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
