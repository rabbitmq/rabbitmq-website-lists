<tt>
Hi.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;examining&nbsp;RabbitMQ&nbsp;as&nbsp;an&nbsp;AMQP&nbsp;broker&nbsp;for&nbsp;a&nbsp;workflow&nbsp;system&nbsp;that&nbsp;we&nbsp;wish&nbsp;to&nbsp;develop&nbsp;in-house,&nbsp;on-premise.&lt;/div&gt;&lt;div&gt;The&nbsp;closest&nbsp;description&nbsp;to&nbsp;our&nbsp;architecture&nbsp;is&nbsp;Amazon&nbsp;SWF.&nbsp;it&nbsp;is&nbsp;~95%&nbsp;the&nbsp;solution&nbsp;concept&nbsp;to&nbsp;our&nbsp;requirements,&nbsp;but&nbsp;we&nbsp;can't&nbsp;use&nbsp;it&nbsp;as&nbsp;it&nbsp;is&nbsp;a&nbsp;cloud&nbsp;SaaS&nbsp;and&nbsp;our&nbsp;requirement&nbsp;is&nbsp;'on-premise'&nbsp;:)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;was&nbsp;wondering&nbsp;How&nbsp;to&nbsp;manage&nbsp;distributed&nbsp;Tasks&nbsp;where&nbsp;the&nbsp;task&nbsp;manager&nbsp;('orchestrator')&nbsp;is&nbsp;at&nbsp;the&nbsp;data-center,&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;the&nbsp;workers&nbsp;are&nbsp;distributed&nbsp;in&nbsp;different&nbsp;physical&nbsp;sites&nbsp;(some&nbsp;on&nbsp;the&nbsp;same&nbsp;site,&nbsp;some&nbsp;far&nbsp;in&nbsp;other&nbsp;site&nbsp;separated&nbsp;by&nbsp;WAN),&lt;/div&gt;&lt;div&gt;&amp;nbsp;where&nbsp;the&nbsp;connection&nbsp;between&nbsp;the&nbsp;datacenter&nbsp;and&nbsp;the&nbsp;sites&nbsp;might&nbsp;be&nbsp;disrupted&nbsp;sometimes.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;don't&nbsp;have&nbsp;a&nbsp;major&nbsp;performance&nbsp;requirement,&nbsp;we&nbsp;need&nbsp;not&nbsp;thousands&nbsp;of&nbsp;msg/sec,&nbsp;more&nbsp;like&nbsp;1-3k&nbsp;messages&nbsp;a&nbsp;minute.&nbsp;Each&nbsp;worker&nbsp;might&nbsp;work&nbsp;for&nbsp;minutes&nbsp;on&nbsp;a&nbsp;single&nbsp;task...&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Since&nbsp;the&nbsp;requirement&nbsp;is&nbsp;for&nbsp;WorkFlow&nbsp;management,&nbsp;it&nbsp;means&nbsp;we&nbsp;want&nbsp;tasks&nbsp;marked&nbsp;done&nbsp;by&nbsp;a&nbsp;remote&nbsp;worker,&nbsp;will&nbsp;be&nbsp;reported&nbsp;back&nbsp;to&nbsp;the&nbsp;manager,&nbsp;to&nbsp;keep&nbsp;the&nbsp;State&nbsp;of&nbsp;all&nbsp;tasks&nbsp;managed&nbsp;in&nbsp;central&nbsp;manner.&lt;/div&gt;&lt;div&gt;We&nbsp;use&nbsp;that&nbsp;for&nbsp;monitoring&nbsp;and&nbsp;reports&nbsp;(statistics).&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;read&nbsp;about&nbsp;the&nbsp;RPC&nbsp;like&nbsp;pattern,&nbsp;prefer&nbsp;to&nbsp;avoid&nbsp;it&nbsp;(!)&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;also&nbsp;read&nbsp;the&nbsp;tutorials&nbsp;about&nbsp;task/worker&nbsp;pattern&nbsp;which&nbsp;is&nbsp;closer&nbsp;to&nbsp;what&nbsp;we&nbsp;need,&nbsp;but&nbsp;we&nbsp;also&nbsp;need&nbsp;the&amp;nbsp;capability&amp;nbsp;to&nbsp;parallelise&nbsp;'steps'&nbsp;(that's&nbsp;what&nbsp;workflow&nbsp;orchestration&nbsp;is&nbsp;about)&nbsp;within&nbsp;a&nbsp;parent&nbsp;task&nbsp;so&nbsp;that&lt;br&gt;&lt;/div&gt;&lt;div&gt;some&nbsp;tasks&nbsp;in&nbsp;the&nbsp;workflow&nbsp;tree&nbsp;will&nbsp;be&nbsp;processed&nbsp;consequently,&nbsp;some&nbsp;in&nbsp;parallel.&amp;nbsp;&lt;/div&gt;&lt;div&gt;Assume&nbsp;workers&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;the&nbsp;same.&nbsp;i.e.&nbsp;there&nbsp;are&nbsp;different&nbsp;task&nbsp;&quot;types&quot;&nbsp;thus&nbsp;different&nbsp;workers&nbsp;processing&nbsp;them&nbsp;(hence&nbsp;this&nbsp;is&nbsp;not&nbsp;a&nbsp;simple&nbsp;pub/sub&nbsp;pattern&nbsp;either).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;sounds&nbsp;like&nbsp;we&nbsp;need&nbsp;some&nbsp;kind&nbsp;of&nbsp;mixture&nbsp;of&nbsp;three&amp;nbsp;patterns&amp;nbsp;to&nbsp;pull&nbsp;this&nbsp;out,&nbsp;but&nbsp;I&nbsp;am&nbsp;not&nbsp;sure:&nbsp;task/worker,&nbsp;pub/sub&nbsp;and&nbsp;the&nbsp;&quot;Topic&quot;&nbsp;Exchange&nbsp;kind&nbsp;of&nbsp;routing.&lt;/div&gt;&lt;div&gt;Oh,&nbsp;and&nbsp;did&nbsp;I&nbsp;mention&nbsp;we&nbsp;want&nbsp;the&nbsp;architecture&nbsp;to&nbsp;be&nbsp;&quot;pull&quot;&nbsp;rather&nbsp;than&nbsp;&quot;push&quot;&nbsp;in&nbsp;terms&nbsp;of&nbsp;workers&nbsp;'asking'&nbsp;the&nbsp;workflow&nbsp;manager&nbsp;to&nbsp;get&nbsp;new&nbsp;tasks&nbsp;when&nbsp;they&nbsp;are&nbsp;free,&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;rather&nbsp;than&nbsp;task&nbsp;manager&nbsp;pushing&nbsp;tasks&nbsp;to&nbsp;workers&nbsp;blindly.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Would&nbsp;love&nbsp;to&nbsp;hear&nbsp;some&nbsp;experience&nbsp;if&nbsp;there&nbsp;is&nbsp;such,&nbsp;with&nbsp;such&nbsp;pattern&nbsp;using&nbsp;AMQ&nbsp;and&nbsp;RubbitMQ&nbsp;in&nbsp;particular&nbsp;to&nbsp;communicate&nbsp;the&nbsp;tasks.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;TIA&lt;/div&gt;&lt;div&gt;Tomer&lt;/div&gt;
</tt>
