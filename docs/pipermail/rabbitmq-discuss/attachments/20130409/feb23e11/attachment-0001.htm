<tt>
&lt;br&gt;Hello&nbsp;everybody.&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;probleme&nbsp;in&nbsp;the&nbsp;implementation&nbsp;I&nbsp;have&nbsp;done&nbsp;of&nbsp;RabbitMQ,&nbsp;in&nbsp;a&nbsp;production&nbsp;environment&nbsp;:&lt;br&gt;I&nbsp;have&nbsp;very&nbsp;low&nbsp;delivery&nbsp;rate.&lt;br&gt;I&nbsp;have&nbsp;one&nbsp;perl&nbsp;processus&nbsp;(using&nbsp;library&nbsp;Net::RabbitMQ)&nbsp;listening&nbsp;to&nbsp;a&nbsp;queue&nbsp;with,&nbsp;as&nbsp;I&nbsp;speak,&nbsp;about&nbsp;600&nbsp;messages&nbsp;pending.&nbsp;I&nbsp;got&nbsp;some&nbsp;stats&nbsp;showing&nbsp;that&nbsp;it&nbsp;takes&nbsp;my&nbsp;process&nbsp;in&nbsp;average&nbsp;3&nbsp;seconds&nbsp;in&nbsp;order&nbsp;to&nbsp;receive&nbsp;a&nbsp;new&nbsp;message&nbsp;:&lt;br&gt;Here&nbsp;some&nbsp;code&nbsp;example&nbsp;:&nbsp;&lt;br&gt;while($message&nbsp;=&nbsp;$mqConnection-&amp;gt;recv())&nbsp;{&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;#&nbsp;treat&nbsp;the&nbsp;message&lt;br&gt;}&lt;br&gt;&lt;br&gt;Time&nbsp;to&nbsp;treat&nbsp;the&nbsp;message&nbsp;:&nbsp;about&nbsp;0.1s&lt;br&gt;Time&nbsp;between&nbsp;two&nbsp;&quot;receive&quot;&nbsp;:&nbsp;in&nbsp;average&nbsp;3s&nbsp;(sometimes&nbsp;0.5s,&nbsp;sometimes&nbsp;10s...)&lt;br&gt;&lt;br&gt;My&nbsp;question&nbsp;is&nbsp;:&nbsp;how&nbsp;can&nbsp;I&nbsp;debug&nbsp;this&nbsp;kind&nbsp;of&nbsp;situation&nbsp;?&lt;br&gt;&lt;br&gt;Some&nbsp;input&nbsp;:&nbsp;&lt;br&gt;-&nbsp;This&nbsp;queue&nbsp;and&nbsp;its&nbsp;messages&nbsp;are&nbsp;durable.&lt;br&gt;-&nbsp;The&nbsp;listener&nbsp;has&nbsp;a&nbsp;prefetch_count&nbsp;of&nbsp;1&nbsp;(&nbsp;#&nbsp;$mqConnection-&amp;gt;basic_qos($mqChannelNumber,{prefetch_count&nbsp;=&amp;gt;&nbsp;1});&nbsp;)&lt;br&gt;-&nbsp;All&nbsp;messages&nbsp;need&nbsp;to&nbsp;be&nbsp;Ack&lt;br&gt;-&nbsp;My&nbsp;processus&nbsp;and&nbsp;the&nbsp;rabbitmq&nbsp;broker&nbsp;are&nbsp;not&nbsp;on&nbsp;the&nbsp;same&nbsp;server&nbsp;but&nbsp;get&nbsp;a&nbsp;100Mb/s&nbsp;VPN&nbsp;between&nbsp;them.&lt;br&gt;&lt;br&gt;Given&nbsp;these&nbsp;information,&nbsp;what&nbsp;do&nbsp;you&nbsp;think&nbsp;could&nbsp;help&nbsp;my&nbsp;processus&nbsp;getting&nbsp;messages&nbsp;more&nbsp;quickly&nbsp;?&lt;br&gt;Should&nbsp;I&nbsp;play&nbsp;with&nbsp;the&nbsp;persistant&nbsp;mode&nbsp;before&nbsp;the&nbsp;prefetch_count&nbsp;or&nbsp;the&nbsp;contrary&nbsp;?&lt;br&gt;&lt;br&gt;Is&nbsp;there&nbsp;any&nbsp;other&nbsp;information&nbsp;I&nbsp;should&nbsp;check&nbsp;to&nbsp;understant&nbsp;what&nbsp;my&nbsp;problem&nbsp;could&nbsp;be&nbsp;?&lt;br&gt;&lt;br&gt;Thanks&nbsp;in&nbsp;advance&nbsp;for&nbsp;any&nbsp;help.&lt;br&gt;&lt;br&gt;Yours,&lt;br&gt;&lt;br&gt;Kilian&nbsp;D.&lt;br&gt;&lt;br&gt;
</tt>
