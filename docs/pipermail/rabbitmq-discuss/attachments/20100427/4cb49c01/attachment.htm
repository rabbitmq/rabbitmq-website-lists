<tt>
&lt;br&gt;Apologies&nbsp;there&nbsp;-&nbsp;a&nbsp;quick&nbsp;read&nbsp;and&nbsp;I&nbsp;missed&nbsp;the&nbsp;colocation&nbsp;part.&lt;br&gt;&lt;br&gt;Thanks,&lt;br&gt;&lt;br&gt;Joe&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Apr&nbsp;26,&nbsp;2010&nbsp;at&nbsp;11:59&nbsp;PM,&nbsp;Matthew&nbsp;Sackman&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthew@lshift.net&quot;&gt;matthew@lshift.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;Hi&nbsp;Joe,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;Mon,&nbsp;Apr&nbsp;26,&nbsp;2010&nbsp;at&nbsp;11:48:12PM&nbsp;+1000,&nbsp;Joe&nbsp;Healy&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Thanks&nbsp;-&nbsp;this&nbsp;is&nbsp;a&nbsp;great&nbsp;guide&nbsp;for&nbsp;ha&nbsp;rabbit.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Good&nbsp;to&nbsp;hear!&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;We&amp;#39;ve&nbsp;been&nbsp;using&nbsp;a&nbsp;similar&nbsp;set&nbsp;up&nbsp;for&nbsp;a&nbsp;couple&nbsp;of&nbsp;months&nbsp;with&nbsp;iscsi&nbsp;instead&lt;br&gt;<br>
&amp;gt;&nbsp;of&nbsp;drdb.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Yup.&nbsp;I&nbsp;was&nbsp;simply&nbsp;using&nbsp;drbd&nbsp;because&nbsp;it&amp;#39;s&nbsp;pretty&nbsp;much&nbsp;the&nbsp;lowest&nbsp;common&lt;br&gt;<br>
denominator&nbsp;-&nbsp;(e)nbd&nbsp;would&nbsp;also&nbsp;be&nbsp;possible&nbsp;(over&nbsp;RAID&nbsp;1),&nbsp;but&nbsp;that&amp;#39;s&lt;br&gt;<br>
more&nbsp;fiddly.&nbsp;iscsi&nbsp;/&nbsp;NAS&nbsp;/&nbsp;SAN&nbsp;and&nbsp;such&nbsp;ilk&nbsp;would,&nbsp;I&amp;#39;d&nbsp;expect,&nbsp;give&lt;br&gt;<br>
better&nbsp;results.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Do&nbsp;you&nbsp;need&nbsp;to&nbsp;add&nbsp;resource&nbsp;grouping&nbsp;or&nbsp;colocation&nbsp;to&nbsp;the&nbsp;bunny&nbsp;and&nbsp;ip&lt;br&gt;<br>
&amp;gt;&nbsp;resources&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;they&nbsp;move&nbsp;together?&nbsp;Is&nbsp;it&nbsp;important&nbsp;that&nbsp;the&nbsp;ip&lt;br&gt;<br>
&amp;gt;&nbsp;migrates&nbsp;before&nbsp;the&nbsp;bunny&nbsp;starts&nbsp;so&nbsp;that&nbsp;it&nbsp;will&nbsp;listen&nbsp;on&nbsp;the&nbsp;right&lt;br&gt;<br>
&amp;gt;&nbsp;address?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Yes&nbsp;and&nbsp;yes:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;quot;crm(ip)#&nbsp;configure&nbsp;primitive&nbsp;ip&nbsp;ocf:heartbeat:IPaddr2&nbsp;params&nbsp;ip=&amp;quot;192.168.50.1&amp;quot;&nbsp;cidr_netmask=&amp;quot;24&amp;quot;&lt;br&gt;<br>
crm(ip)#&nbsp;configure&nbsp;colocation&nbsp;bunny_on_ip&nbsp;inf:&nbsp;bunny&nbsp;ip&lt;br&gt;<br>
crm(ip)#&nbsp;configure&nbsp;order&nbsp;bunny_after_ip&nbsp;inf:&nbsp;ip&nbsp;bunny&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;should&nbsp;all&nbsp;be&nbsp;looking&nbsp;rather&nbsp;familiar&nbsp;by&nbsp;now.&nbsp;We&nbsp;create&nbsp;the&nbsp;ip&lt;br&gt;<br>
resource,&nbsp;we&nbsp;say&nbsp;that&nbsp;the&nbsp;bunny&nbsp;resource&nbsp;must&nbsp;run&nbsp;on&nbsp;the&nbsp;same&nbsp;node&nbsp;as&lt;br&gt;<br>
the&nbsp;ip&nbsp;resource,&nbsp;and&nbsp;we&nbsp;make&nbsp;sure&nbsp;that&nbsp;the&nbsp;bunny&nbsp;resource&nbsp;is&nbsp;started&lt;br&gt;<br>
after,&nbsp;and&nbsp;stopped&nbsp;before,&nbsp;the&nbsp;ip&nbsp;resource.&amp;quot;&lt;br&gt;<br>
&lt;br&gt;<br>
These&nbsp;are&nbsp;necessary&nbsp;steps&nbsp;-&nbsp;sure,&nbsp;you&nbsp;could&nbsp;have&nbsp;bunny&nbsp;just&nbsp;listen&nbsp;on&lt;br&gt;<br>
0.0.0.0&nbsp;which&nbsp;is&nbsp;the&nbsp;default,&nbsp;but&nbsp;if&nbsp;the&nbsp;network&nbsp;i/f&nbsp;isn&amp;#39;t&nbsp;there&nbsp;when&nbsp;it&lt;br&gt;<br>
starts&nbsp;then&nbsp;there&nbsp;may&nbsp;be&nbsp;problems.&nbsp;I&amp;#39;m&nbsp;not&nbsp;quite&nbsp;sure&nbsp;what&nbsp;the&nbsp;IPaddr2&lt;br&gt;<br>
script&nbsp;is&nbsp;doing,&nbsp;but&nbsp;it&amp;#39;s&nbsp;clearly&nbsp;at&nbsp;least&nbsp;slightly&nbsp;magic&nbsp;-&nbsp;the&lt;br&gt;<br>
interface&nbsp;doesn&amp;#39;t&nbsp;show&nbsp;up&nbsp;in&nbsp;the&nbsp;output&nbsp;of&nbsp;ifconfig.&nbsp;In&nbsp;general,&nbsp;I&nbsp;found&lt;br&gt;<br>
things&nbsp;more&nbsp;reliable&nbsp;if&nbsp;the&nbsp;IP&nbsp;address&nbsp;is&nbsp;already&nbsp;there&nbsp;before&nbsp;bunny&lt;br&gt;<br>
starts&nbsp;up.&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
Matthew&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
