<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Looks&nbsp;like&nbsp;I&#39;m&nbsp;hitting&nbsp;this&nbsp;as&nbsp;I&nbsp;cannot&nbsp;connect&nbsp;to&nbsp;port&nbsp;636.&nbsp;But&nbsp;does&nbsp;eldap&nbsp;support&nbsp;StartTLS&nbsp;now?&lt;br&gt;&lt;br&gt;From:&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;&lt;a&nbsp;target=&quot;_top&quot;&nbsp;href=&quot;http://gmane.org/get-address.php?address=simon%2dmQ7lE4MOPXtWk0Htik3J%2fw%40public.gmane.org&quot;&nbsp;rel=&quot;nofollow&quot;&gt;simon@...&lt;/a&gt;&gt;&lt;br&gt;<br>
<br>
<br>
Subject:&nbsp;&lt;a&nbsp;target=&quot;_top&quot;&nbsp;rel=&quot;nofollow&quot;&nbsp;href=&quot;http://news.gmane.org/find-root.php?message_id=5268EBB6.4010504%40rabbitmq.com&quot;&gt;Re:&nbsp;Configuring&nbsp;Auth&nbsp;LDAP&nbsp;Backend&nbsp;using&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;LDAP+SSL/TLS&lt;/a&gt;&lt;br&gt;<br>
Newsgroups:&nbsp;&lt;a&nbsp;href=&quot;http://news.gmane.org/gmane.comp.networking.rabbitmq.general&quot;&nbsp;target=&quot;_top&quot;&gt;gmane.comp.networking.rabbitmq.general&lt;/a&gt;&lt;br&gt;<br>
Date:&nbsp;2013-10-24&nbsp;09:43:18&nbsp;GMT<br>
&nbsp;(35&nbsp;weeks,&nbsp;4&nbsp;days,&nbsp;22&nbsp;hours&nbsp;and&nbsp;49&nbsp;minutes&nbsp;ago)&lt;br&gt;<br>
&lt;pre&gt;Currently&nbsp;you&nbsp;can&#39;t&nbsp;set&nbsp;SSL&nbsp;options&nbsp;for&nbsp;&lt;b&nbsp;style=&quot;color:black;background-color:rgb(255,255,102)&quot;&gt;LDAP&lt;/b&gt;&nbsp;connections,&nbsp;you&nbsp;can&nbsp;only&nbsp;<br>
set&nbsp;{&lt;b&nbsp;style=&quot;color:black;background-color:rgb(255,255,102)&quot;&gt;use_ssl&lt;/b&gt;,&nbsp;true}&nbsp;to&nbsp;make&nbsp;a&nbsp;connection&nbsp;without&nbsp;presenting&nbsp;a&nbsp;client&nbsp;<br>
certificate.&nbsp;I&nbsp;guess&nbsp;this&nbsp;should&nbsp;be&nbsp;fixed.<br>
<br>
Also&nbsp;you&nbsp;have&nbsp;{port,&nbsp;389}&nbsp;which&nbsp;is&nbsp;unlikely&nbsp;to&nbsp;work&nbsp;as&nbsp;it&#39;s&nbsp;the&nbsp;non-SSL&nbsp;<br>
port&nbsp;and&nbsp;I&#39;m&nbsp;not&nbsp;at&nbsp;all&nbsp;convinced&nbsp;e&lt;b&nbsp;style=&quot;color:black;background-color:rgb(255,255,102)&quot;&gt;ldap&lt;/b&gt;&nbsp;(the&nbsp;underlying&nbsp;Erlang&nbsp;&lt;b&nbsp;style=&quot;color:black;background-color:rgb(255,255,102)&quot;&gt;LDAP&lt;/b&gt;&nbsp;<br>
library)&nbsp;supports&nbsp;StartTLS.<br>
<br>
So&nbsp;the&nbsp;only&nbsp;configuration&nbsp;that&nbsp;could&nbsp;work&nbsp;at&nbsp;the&nbsp;moment&nbsp;is<br>
<br>
{&lt;b&nbsp;style=&quot;color:black;background-color:rgb(255,255,102)&quot;&gt;use_ssl&lt;/b&gt;,&nbsp;true},<br>
{port,&nbsp;&nbsp;&nbsp;&nbsp;636}&lt;/pre&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2014-07-01&nbsp;16:16&nbsp;GMT+08:00&nbsp;Joey&nbsp;Jiao&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:joey.jiaojg@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;joey.jiaojg@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Here&nbsp;is&nbsp;my&nbsp;config&lt;br&gt;&lt;br&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;[&lt;br&gt; &nbsp;{rabbit,&nbsp;[&lt;br&gt;   &nbsp;{log_levels,&nbsp;[{default,&nbsp;info}]},&lt;br&gt;<br>
<br>
   &nbsp;{reverse_dns_lookups,&nbsp;true},&lt;br&gt;   &nbsp;{auth_backends,&nbsp;[rabbit_auth_backend_ldap]},&lt;br&gt;   &nbsp;{ssl_listeners,&nbsp;[5671]}&lt;br&gt;<br>
%   &nbsp;{ssl_options,&nbsp;[&lt;br&gt;%     &nbsp;{verify,&nbsp;verify_none},&lt;br&gt;%     &nbsp;{cacertfile,&nbsp;&quot;/etc/rabbitmq/qc_root_g2_cert.crt&quot;},&lt;br&gt;%     &nbsp;{certfile,&nbsp;&quot;/etc/rabbitmq/ssl_v1_cert.crt&quot;}&lt;br&gt;%   &nbsp;]}&lt;br&gt; &nbsp;]},&lt;br&gt; &nbsp;{rabbitmq_auth_backend_ldap,&nbsp;[&lt;br&gt;<br>
<br>
<br>
   &nbsp;{servers,&nbsp;[&quot;ldap&quot;]},&lt;br&gt;   &nbsp;{user_dn_pattern,&nbsp;&quot;uid=${username},ou=people,o=xxx&quot;},&lt;br&gt; % &nbsp;{dn_lookup_attribute,&nbsp;&quot;uid&quot;},&lt;br&gt; % &nbsp;{dn_lookup_base,&nbsp;&quot;ou=people,o=xxx&quot;},&lt;br&gt; % &nbsp;{dn_lookup_bind,&nbsp;anon},&lt;br&gt;<br>
<br>
<br>
   &nbsp;{use_ssl,&nbsp;false},&lt;br&gt;   &nbsp;{log,&nbsp;network},&lt;br&gt;   &nbsp;{vhost_access_query,&nbsp;{constant,&nbsp;true}},&lt;br&gt;   &nbsp;{resource_access_query,&nbsp;{constant,&nbsp;true}},&lt;br&gt;   &nbsp;{tag_queries,&nbsp;[{administrator,&nbsp;{constant,&nbsp;true}},&lt;br&gt;                  &nbsp;{management,&nbsp;{constant,&nbsp;true}}]}&lt;br&gt;<br>
<br>
<br>
 &nbsp;]}&lt;br&gt;].&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2014-07-01&nbsp;13:20&nbsp;GMT+08:00&nbsp;Joey&nbsp;Jiao&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:joey.jiaojg@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;joey.jiaojg@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;Hi,&lt;br&gt;&lt;/div&gt;I&#39;m&nbsp;still&nbsp;on&nbsp;using&nbsp;rabbitmq_auth_backends_ldap&nbsp;plugin&nbsp;but&nbsp;login&nbsp;still&nbsp;failed.&lt;br&gt;&lt;/div&gt;After&nbsp;a&nbsp;track,&nbsp;it&nbsp;failed&nbsp;during&nbsp;eldap:simple_bind.&lt;br&gt;&lt;div&gt;But&nbsp;it&nbsp;failed&nbsp;at&nbsp;simple_bind&nbsp;with&nbsp;eldap:simple_bind(L,&quot;uid=jiangenj,ou=people,o=xxx&quot;,&quot;password&quot;)&nbsp;with&nbsp;error&nbsp;{error,confidentialityRequired}.&lt;br&nbsp;clear=&quot;all&quot;&gt;<br>
<br>
<br>
<br>
&lt;div&gt;&lt;div&gt;&lt;br&gt;My&nbsp;django&nbsp;app&nbsp;uses&nbsp;settings&nbsp;below&nbsp;and&nbsp;it&nbsp;worked.&nbsp;How&nbsp;can&nbsp;I&nbsp;convert&nbsp;to&nbsp;rabbitmq&nbsp;way?&lt;br&gt;import&nbsp;ldap&lt;br&gt;&lt;b&gt;AUTH_LDAP_START_TLS&nbsp;=&nbsp;True&lt;br&gt;AUTH_LDAP_GLOBAL_OPTIONS&nbsp;=&nbsp;{&lt;br&gt;   &nbsp;ldap.OPT_X_TLS_REQUIRE_CERT:&nbsp;ldap.OPT_X_TLS_NEVER&lt;br&gt;<br>
<br>
<br>
<br>
}&lt;/b&gt;&lt;br&gt;&lt;b&gt;AUTH_LDAP_BIND_DN&nbsp;=&nbsp;&#39;&#39;&lt;br&gt;AUTH_LDAP_BIND_PASSWORD&nbsp;=&nbsp;&#39;&#39;&lt;/b&gt;&lt;br&gt;&lt;b&gt;AUTH_LDAP_BIND_AS_AUTHENTICATING_USER&nbsp;=&nbsp;True&lt;/b&gt;&lt;br&gt;AUTH_LDAP_SERVER_URI&nbsp;=&nbsp;&#39;ldap://ldap&#39;&lt;br&gt;AUTH_LDAP_USER_DN_TEMPLATE&nbsp;=&nbsp;&#39;uid=%(user)s,ou=people,o=xxx&#39;&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
<br>
<br>
<br>
&lt;br&gt;--&nbsp;&lt;br&gt;-Joey&nbsp;Jiao<br>
&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;-Joey&nbsp;Jiao<br>
&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;-Joey&nbsp;Jiao<br>
&lt;/div&gt;<br>

</tt>
