<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;Joe,&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;html&gt;On&nbsp;31&nbsp;Mar&nbsp;2008,&nbsp;at&nbsp;22:05,&nbsp;joe&nbsp;lee&nbsp;wrote:&lt;/html&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Anyone&nbsp;knows&nbsp;how&nbsp;to&nbsp;do&nbsp;a&nbsp;basic&nbsp;publish&nbsp;(asynchronous&nbsp;method,&nbsp;no&nbsp;syncing&nbsp;with&nbsp;broker)&nbsp;using&nbsp;erlang-client,&nbsp;either&nbsp;in&nbsp;amqp&nbsp;mode&nbsp;or&nbsp;erlang&nbsp;mode?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;I&nbsp;understand&nbsp;you&nbsp;correctly,&nbsp;if&nbsp;you&nbsp;want&nbsp;to&nbsp;publish&nbsp;a&nbsp;message,&nbsp;you&nbsp;can&nbsp;do&nbsp;the&nbsp;following:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#966400&quot;&gt;BasicPublish&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;#&lt;/span&gt;'basic.publish'&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;{&lt;/span&gt;ticket&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#966400&quot;&gt;Ticket&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;,&lt;/span&gt;&nbsp;exchange&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#966400&quot;&gt;X&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;routing_key&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#966400&quot;&gt;RoutingKey&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;mandatory&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#966400&quot;&gt;Mandatory&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;immediate&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#966400&quot;&gt;Immediate&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#966400&quot;&gt;Content&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;#&lt;/span&gt;content&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;{&lt;/span&gt;class_id&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#5a5ab4&quot;&gt;60&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;,&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;properties&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&nbsp;amqp_util&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;:&lt;/span&gt;basic_properties&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;(),&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#007300&quot;&gt;%%&nbsp;either&nbsp;'none',&nbsp;or&nbsp;a&nbsp;decoded&nbsp;record/tuple&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;color:&nbsp;rgb(0,&nbsp;115,&nbsp;0);&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;properties_bin&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;&nbsp;'none'&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;,&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;&nbsp;&lt;/span&gt;%%&nbsp;either&nbsp;'none',&nbsp;or&nbsp;an&nbsp;encoded&nbsp;properties&nbsp;amqp_util:binary&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;color:&nbsp;rgb(0,&nbsp;115,&nbsp;0);&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;%%&nbsp;Note:&nbsp;at&nbsp;most&nbsp;one&nbsp;of&nbsp;properties&nbsp;and&nbsp;properties_bin&nbsp;can&nbsp;be&nbsp;'none'&nbsp;at&nbsp;once.&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;color:&nbsp;rgb(0,&nbsp;115,&nbsp;0);&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;payload_fragments_rev&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;=&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;[&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#966400&quot;&gt;Payload&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;]&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;&nbsp;&lt;/span&gt;%%&nbsp;list&nbsp;of&nbsp;binaries,&nbsp;in&nbsp;reverse&nbsp;order&nbsp;(!)&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;},&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;11px/normal&nbsp;Monaco;&nbsp;color:&nbsp;rgb(150,&nbsp;100,&nbsp;0);&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;amqp_channel&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;:&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;cast&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;(&lt;/span&gt;Channel&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;,&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;&nbsp;&lt;/span&gt;BasicPublish&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;,&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;#000000&quot;&gt;&nbsp;&lt;/span&gt;Content&lt;span&nbsp;style=&quot;color:&nbsp;#32325a&quot;&gt;),&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;This&nbsp;code&nbsp;is&nbsp;taken&nbsp;from&nbsp;the&nbsp;setup_publish/3&nbsp;function&nbsp;in&nbsp;the&nbsp;test_util&nbsp;module&nbsp;of&nbsp;the&nbsp;Erlang&nbsp;client.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;cast/3&nbsp;function&nbsp;in&nbsp;amqp_channel&nbsp;sends&nbsp;the&nbsp;message&nbsp;asynchronously&nbsp;irrespective&nbsp;of&nbsp;whether&nbsp;you&nbsp;are&nbsp;using&nbsp;the&nbsp;TCP&nbsp;variant&nbsp;or&nbsp;native&nbsp;Erlang&nbsp;messaging.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;BTW,&nbsp;what&nbsp;do&nbsp;you&nbsp;mean&nbsp;when&nbsp;you&nbsp;say&nbsp;&quot;amqp&nbsp;mode&nbsp;or&nbsp;erlang&nbsp;mode&quot;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;I&nbsp;have&nbsp;a&nbsp;queue&nbsp;and&nbsp;need&nbsp;to&nbsp;send&nbsp;message&nbsp;to&nbsp;the&nbsp;queue&nbsp;asynchronously&nbsp;and&nbsp;consumer&nbsp;will&nbsp;come&nbsp;along&nbsp;and&nbsp;process&nbsp;it.&amp;nbsp;&nbsp;If&nbsp;you&nbsp;are&nbsp;doing&nbsp;publish-subscribe,&nbsp;do&nbsp;you&nbsp;define&nbsp;a&nbsp;queue&nbsp;like&nbsp;you&nbsp;do&nbsp;for&nbsp;sysnchronous&nbsp;method?&nbsp;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;not&nbsp;quite&nbsp;sure&nbsp;I&nbsp;follow.&nbsp;Which&nbsp;synchronous&nbsp;method&nbsp;are&nbsp;you&nbsp;referring&nbsp;to?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;HTH,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Ben&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
