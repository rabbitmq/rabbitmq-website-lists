<tt>
Emile,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;for&nbsp;the&nbsp;response.&nbsp;I&nbsp;tried&nbsp;all&nbsp;the&nbsp;steps&nbsp;from&nbsp;SSL&nbsp;troubleshoot&nbsp;document. &lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,255);color:rgb(255,102,0);font-family:Helvetica,Arial,sans-serif;font-size:1.2em;line-height:18px;text-align:left&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;text-align:-webkit-auto&quot;&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,255);text-align:left&quot;&gt;In &lt;/span&gt;&lt;span&nbsp;style=&quot;background-color:rgb(255,255,255);color:rgb(255,102,0);font-family:Helvetica,Arial,sans-serif;font-size:1.2em;line-height:18px;text-align:left&quot;&gt;SSL&nbsp;connection&nbsp;to&nbsp;broker&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;when&nbsp;I&nbsp;make&nbsp;a&nbsp;connection,&nbsp;connection&nbsp;gets&nbsp;closed&nbsp;after&nbsp;a&nbsp;couple&nbsp;of&nbsp;seconds.&nbsp;I&nbsp;tried&nbsp;sending&nbsp;8&nbsp;bytes&nbsp;my response is&nbsp;a&nbsp;string&nbsp;AMQP&nbsp;and&nbsp;it&nbsp;closes&nbsp;the&nbsp;connection&nbsp;immediately.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
Copied&nbsp;by&nbsp;response.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;openssl&nbsp;s_client&nbsp;-connect&nbsp;localhost:5671&nbsp;-cert&nbsp;client/cert.pem&nbsp;-key&nbsp;client/key.pem&nbsp;-CAfile&nbsp;testca/cacert.pem&lt;/div&gt;&lt;div&gt;CONNECTED(00000003)&lt;/div&gt;&lt;div&gt;depth=1&nbsp;CN&nbsp;=&nbsp;MyTestCA&lt;/div&gt;<br>
&lt;div&gt;verify&nbsp;return:1&lt;/div&gt;&lt;div&gt;depth=0&nbsp;CN&nbsp;=&nbsp;Core28,&nbsp;O&nbsp;=&nbsp;server&lt;/div&gt;&lt;div&gt;verify&nbsp;return:1&lt;/div&gt;&lt;div&gt;---&lt;/div&gt;&lt;div&gt;Certificate&nbsp;chain&lt;/div&gt;&lt;div&gt; 0&nbsp;s:/CN=Core28/O=server&lt;/div&gt;&lt;div&gt; &nbsp; i:/CN=MyTestCA&lt;/div&gt;&lt;div&gt; 1&nbsp;s:/CN=MyTestCA&lt;/div&gt;<br>
&lt;div&gt; &nbsp; i:/CN=MyTestCA&lt;/div&gt;&lt;div&gt;---&lt;/div&gt;&lt;div&gt;Server&nbsp;certificate&lt;/div&gt;&lt;div&gt;-----BEGIN&nbsp;CERTIFICATE-----&lt;/div&gt;&lt;div&gt;MIIC4TCCAcmgAwIBAgIBATANBgkqhkiG9w0BAQUFADATMREwDwYDVQQDEwhNeVRl&lt;/div&gt;&lt;div&gt;c3RDQTAeFw0xMjA3MTMxMzE0MDFaFw0xMzA3MTMxMzE0MDFaMCQxETAPBgNVBAMM&lt;/div&gt;<br>
&lt;div&gt;CEdYQ29yZTI4MQ8wDQYDVQQKDAZzZXJ2ZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IB&lt;/div&gt;&lt;div&gt;DwAwggEKAoIBAQDBQpQ/dR8Aim9qqP2EfxStf+F6rME4soPxjY0PzFUzXKslNkTl&lt;/div&gt;&lt;div&gt;hCeoRSElnpOKwqK16SzOr2N9HNxivkqjmCvB3WSwqf6LT1gRuVzCB36zwD2dOIZ1&lt;/div&gt;<br>
&lt;div&gt;5JU4JWtAcpNZMhwMLkReE1h3L5UBXSjqKhpyuKdYqWKTMzFJiu28WFOLS/XMz6K2&lt;/div&gt;&lt;div&gt;Y9gk5O7zWu5AcJyJssr2xMisoNFmq5USfHkt5UWoHd3YzReUfxZmjhzSRT9TRvBY&lt;/div&gt;&lt;div&gt;NIlNm41JljtXBea9sITIuGq8eSgvO87+N70uSRcuXBCk9fn5S8I0TUh+4bUVnP8F&lt;/div&gt;<br>
&lt;div&gt;Ryg/uSO+WkNeOzjYUpaBAR/4v2UQTl4QlkgTAgMBAAGjLzAtMAkGA1UdEwQCMAAw&lt;/div&gt;&lt;div&gt;CwYDVR0PBAQDAgUgMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBBQUA&lt;/div&gt;&lt;div&gt;A4IBAQCI41d129BaDyzihtGH6yu0dOT9mT0U1Mv5FcBTERmYsyn+Adjmo/+jF9HZ&lt;/div&gt;<br>
&lt;div&gt;Q3m1Wc7hV30nSnhJPUKV8dgDPKUNt4Mj3ZRsPZUEFv128rbkk9der+t3Z1tYKcrX&lt;/div&gt;&lt;div&gt;0HiYNqdsKyuhXUB8P4g1TW0t/pLhvsO734+eQDtjmi//K4AevS/hz+9cVhx9Asrk&lt;/div&gt;&lt;div&gt;ca/EdIw+xtRxNFbGCACZW8CUlP24z7YL3QYbZA44H9jKMHNN0vwkeJ4nDiby0ySJ&lt;/div&gt;<br>
&lt;div&gt;FX5xDWMksSON636pachSqMzZL8dj3ijTfBEV7jLeH/fYkcK8K0rzzZVFhVrBnK+O&lt;/div&gt;&lt;div&gt;k/Uc5ZRhf9E5F9U3cLy0f7Br2eFp&lt;/div&gt;&lt;div&gt;-----END&nbsp;CERTIFICATE-----&lt;/div&gt;&lt;div&gt;subject=/CN=Core28/O=server&lt;/div&gt;&lt;div&gt;issuer=/CN=MyTestCA&lt;/div&gt;&lt;div&gt;<br>
---&lt;/div&gt;&lt;div&gt;Acceptable&nbsp;client&nbsp;certificate&nbsp;CA&nbsp;names&lt;/div&gt;&lt;div&gt;/CN=MyTestCA&lt;/div&gt;&lt;div&gt;---&lt;/div&gt;&lt;div&gt;SSL&nbsp;handshake&nbsp;has&nbsp;read&nbsp;1663&nbsp;bytes&nbsp;and&nbsp;written&nbsp;2179&nbsp;bytes&lt;/div&gt;&lt;div&gt;---&lt;/div&gt;&lt;div&gt;New,&nbsp;TLSv1/SSLv3,&nbsp;Cipher&nbsp;is&nbsp;AES256-SHA&lt;/div&gt;<br>
&lt;div&gt;Server&nbsp;public&nbsp;key&nbsp;is&nbsp;2048&nbsp;bit&lt;/div&gt;&lt;div&gt;Secure&nbsp;Renegotiation&nbsp;IS&nbsp;supported&lt;/div&gt;&lt;div&gt;Compression:&nbsp;NONE&lt;/div&gt;&lt;div&gt;Expansion:&nbsp;NONE&lt;/div&gt;&lt;div&gt;SSL-Session:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;Protocol&nbsp; :&nbsp;TLSv1&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;Cipher&nbsp; &nbsp; :&nbsp;AES256-SHA&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp;Session-ID:&nbsp;60281E9B3DA64177D15C7DC4E0F2C5467A76170ADFFF9C23C9A6AFEE3F8D5129&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;Session-ID-ctx:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;Master-Key:&nbsp;4111FDE14CC847C17445136C3057CBBDB5D23752AF61F2481BB6F259CBAE94C75E23FE85F20E83E12AD1EA3674709FDB&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp;Key-Arg&nbsp; &nbsp;:&nbsp;None&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;Krb5&nbsp;Principal:&nbsp;None&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;PSK&nbsp;identity:&nbsp;None&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;PSK&nbsp;identity&nbsp;hint:&nbsp;None&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;Start&nbsp;Time:&nbsp;1342449654&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;Timeout&nbsp; &nbsp;:&nbsp;300&nbsp;(sec)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;Verify&nbsp;return&nbsp;code:&nbsp;0&nbsp;(ok)&lt;/div&gt;<br>
&lt;div&gt;---&lt;/div&gt;&lt;div&gt;closed&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Prashanth.&lt;/div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jul&nbsp;13,&nbsp;2012&nbsp;at&nbsp;10:14&nbsp;AM,&nbsp;Emile&nbsp;Joubert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;emile@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;13/07/12&nbsp;15:02,&nbsp;Prashanth&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;get&nbsp;a&nbsp;message&nbsp;Logging&nbsp;in:&nbsp;(end-of-stream)&lt;br&gt;<br>
&amp;gt;&nbsp;connecting&nbsp;to&nbsp;server&nbsp;fails.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;It&nbsp;is&nbsp;challenging&nbsp;to&nbsp;assist&nbsp;here,&nbsp;given&nbsp;how&nbsp;little&nbsp;information&nbsp;you&nbsp;have&lt;br&gt;<br>
provided.&nbsp;As&nbsp;a&nbsp;first&nbsp;step&nbsp;could&nbsp;you&nbsp;try&nbsp;to&nbsp;verify&nbsp;your&nbsp;setup&nbsp;using&nbsp;the&lt;br&gt;<br>
troubleshooting&nbsp;steps&nbsp;outlined&nbsp;here:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/troubleshooting-ssl.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/troubleshooting-ssl.html&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Let&nbsp;us&nbsp;know&nbsp;how&nbsp;far&nbsp;you&nbsp;get,&nbsp;which&nbsp;of&nbsp;the&nbsp;steps&nbsp;fail&nbsp;and&nbsp;the&nbsp;diagnostic&lt;br&gt;<br>
output.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Thanks&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Emile&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
