<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;Hi, &lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;I&nbsp;ran&nbsp;the&nbsp;multicast&nbsp;main&nbsp;.&nbsp;from&nbsp;the&nbsp;computer&nbsp;with&nbsp;the&nbsp;good&nbsp;connection&nbsp;it&nbsp;seemed&nbsp;to&nbsp;work. &lt;/div&gt;&lt;div&gt;from&nbsp;the&nbsp;computer&nbsp;with&nbsp;the&nbsp;bad&nbsp;connection&nbsp;-&nbsp;it&nbsp;seemed&nbsp;to&nbsp;not&nbsp;work.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;was&nbsp;seconds&nbsp;away&nbsp;from&nbsp;taking&nbsp;this&nbsp;to&nbsp;the&nbsp;IT&nbsp;,&nbsp;but&nbsp;then&nbsp;I&nbsp;remembered&nbsp;that&nbsp;both&nbsp;computes&nbsp;run&nbsp;the&nbsp;RabbitMQ&nbsp;client&nbsp;1.7.0&nbsp;successfully&nbsp;.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Maybe&nbsp;you&nbsp;can&nbsp;tell&nbsp;me&nbsp;what&nbsp;changed&nbsp;in&nbsp;the&nbsp;implementation&nbsp;of&nbsp;the&nbsp;2.3.1&nbsp;or&nbsp;the&nbsp;erlang?? &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;adding&nbsp;the&nbsp;output&nbsp;file&nbsp;for&nbsp;the&nbsp;multicast.&nbsp;it&nbsp;has&nbsp;outputs&nbsp;from&nbsp;both&nbsp;computers. &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;really&nbsp;appreciate&nbsp;your&nbsp;help.&nbsp;I&nbsp;hope&nbsp;this&nbsp;will&nbsp;resolve&nbsp;soon&nbsp;as&nbsp;we&nbsp;are&nbsp;in&nbsp;a&nbsp;mess&nbsp;currently&nbsp;in&nbsp;the&nbsp;production&nbsp;system.&lt;/div&gt;&lt;div&gt;Thanks.&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&gt; &lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
On&nbsp;Wed,&nbsp;Mar&nbsp;2,&nbsp;2011&nbsp;at&nbsp;1:01&nbsp;PM,&nbsp;Emile&nbsp;Joubert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;emile@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;br&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;is&nbsp;very&nbsp;strange&nbsp;to&nbsp;see&nbsp;an&nbsp;AMQP&nbsp;connection&nbsp;work&nbsp;perfectly&nbsp;via&nbsp;the&nbsp;tracer&nbsp;but&nbsp;fail&nbsp;without&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
(Does&nbsp;the&nbsp;broker&nbsp;listen&nbsp;on&nbsp;the&nbsp;same&nbsp;port&nbsp;in&nbsp;both&nbsp;cases?&nbsp;If&nbsp;not,&nbsp;does&nbsp;the&nbsp;underlying&nbsp;network&nbsp;treat&nbsp;both&nbsp;ports&nbsp;the&nbsp;same?)&lt;br&gt;<br>
&lt;br&gt;<br>
Can&nbsp;you&nbsp;replicate&nbsp;these&nbsp;results&nbsp;with&nbsp;any&nbsp;of&nbsp;the&nbsp;built-in&nbsp;Java&nbsp;examples&nbsp;that&nbsp;are&nbsp;provided&nbsp;with&nbsp;RabbitMQ?&nbsp;I&nbsp;would&nbsp;suggest&nbsp;using&nbsp;the&nbsp;MulticastMain&nbsp;tool&nbsp;with&nbsp;and&nbsp;without&nbsp;the&nbsp;Tracer.&nbsp;This&nbsp;will&nbsp;eliminate&nbsp;the&nbsp;possibility&nbsp;of&nbsp;AMQP&nbsp;protocol&nbsp;errors&nbsp;causing&nbsp;the&nbsp;problem.&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;DataInputStream.readUnsignedByte()&lt;br&gt;<br>
This&nbsp;is&nbsp;not&nbsp;the&nbsp;cause&nbsp;of&nbsp;the&nbsp;problem.&nbsp;It&nbsp;probably&nbsp;just&nbsp;means&nbsp;that&nbsp;the&nbsp;underlying&nbsp;connection&nbsp;has&nbsp;been&nbsp;forcefully&nbsp;closed.&lt;div&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;It&nbsp;happens&nbsp;only&nbsp;from&nbsp;certain&nbsp;computers.&lt;br&gt;&lt;/div&gt;<br>
Do&nbsp;these&nbsp;computers&nbsp;have&nbsp;anything&nbsp;in&nbsp;common&nbsp;with&nbsp;each&nbsp;other&nbsp;that&nbsp;they&nbsp;do&nbsp;not&nbsp;have&nbsp;in&nbsp;common&nbsp;with&nbsp;the&nbsp;computers&nbsp;that&nbsp;don&amp;#39;t&nbsp;produce&nbsp;errors?&lt;br&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
-Emile&lt;/font&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;02/03/11&nbsp;09:41,&nbsp;mysurf&nbsp;mail&nbsp;wrote:&lt;br&gt;<br>
&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;<br>
&lt;br&gt;<br>
We&nbsp;debugged&nbsp;the&nbsp;tracer&nbsp;and&nbsp;saw&nbsp;that&nbsp;it&nbsp;uses&nbsp;java.net.socket.&nbsp;The&lt;br&gt;<br>
connection&nbsp;was&nbsp;ok&nbsp;through&nbsp;the&nbsp;tracer.&lt;br&gt;<br>
Now,&nbsp; we&nbsp;closed&nbsp;the&nbsp;tracer&nbsp;and&nbsp;connected&nbsp;directly&nbsp;to&nbsp;the&nbsp;rabbit.&lt;br&gt;<br>
We&nbsp; attached&nbsp;the&nbsp;source&nbsp;and&nbsp;debugged&nbsp;factory.newconnmection()&nbsp;we&nbsp;saw&nbsp;the&lt;br&gt;<br>
exception&nbsp;occured&nbsp;in&nbsp;DataInputStream.readUnsignedByte()&nbsp;.&nbsp;(it&nbsp;throws&nbsp;an&lt;br&gt;<br>
EOFException&nbsp;when&nbsp;ch&amp;lt;0)&nbsp;.&lt;br&gt;<br>
any&nbsp;ideas?&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Wed,&nbsp;Mar&nbsp;2,&nbsp;2011&nbsp;at&nbsp;9:41&nbsp;AM,&nbsp;mysurf&nbsp;mail&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:stammailbox@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;stammailbox@gmail.com&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;<br>
&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:stammailbox@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;stammailbox@gmail.com&lt;/a&gt;&amp;gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; Flash&nbsp;News&nbsp;:&lt;br&gt;<br>
&nbsp; &nbsp; I&nbsp;am&nbsp;sorry&nbsp;to&nbsp;bother&nbsp;you&nbsp;a&nbsp;lot&nbsp;this&nbsp;morning&nbsp;.&nbsp;But&nbsp;I&nbsp;have&nbsp;an&lt;br&gt;<br>
&nbsp; &nbsp; interesting&nbsp;finding&lt;br&gt;<br>
&nbsp; &nbsp; When&nbsp;I&nbsp;activate&nbsp;my&nbsp;client&nbsp;with&nbsp;the&nbsp;tracer&nbsp;-&nbsp;it&nbsp;connects&nbsp;well&nbsp;to&nbsp;the&lt;br&gt;<br>
&nbsp; &nbsp; rabbitmq&nbsp;server&nbsp;.&lt;br&gt;<br>
&nbsp; &nbsp; when&nbsp;I&nbsp;connect&nbsp;directly&nbsp;-&nbsp;it&nbsp;throws&nbsp;that&nbsp;exception&nbsp;.&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; So&nbsp;maybe&nbsp;my&nbsp;problem&nbsp;is&nbsp;with&nbsp;the&nbsp;connection&nbsp;string&nbsp;?&lt;br&gt;<br>
&nbsp; &nbsp; here&nbsp;it&nbsp;is&nbsp;-&nbsp;I&nbsp;only&nbsp;replace&nbsp;the&nbsp; ip&nbsp;and&nbsp;port&lt;br&gt;<br>
&nbsp; &nbsp; BasicChannel(Username,&nbsp;Password,&nbsp;VirtualHost,&nbsp;BrokerIp,&nbsp;BrokerPort,&lt;br&gt;<br>
&nbsp; &nbsp; Heartbeat);&lt;br&gt;<br>
&nbsp; &nbsp; BasicChannel(Username,&nbsp;Password,&nbsp;VirtualHost,&nbsp;&amp;quot;127.0.0.1&amp;quot;,5672,&lt;br&gt;<br>
&nbsp; &nbsp; Heartbeat);&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; and&nbsp;my&nbsp;ctor&nbsp;is&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; public&nbsp;BasicChannel(final&nbsp;String&nbsp;username,&nbsp;final&nbsp;String&nbsp;password,&nbsp;final&nbsp;String&nbsp;virtualHost,&nbsp;final&nbsp;String&nbsp;brokerIp,&nbsp;final&nbsp;int&nbsp;brokerPort,&nbsp;int&nbsp;heartbeat)&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ConnectionFactory&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory();&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;factory.setUsername(username);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;factory.setPassword(password);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;factory.setVirtualHost(virtualHost);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;factory.setRequestedHeartbeat(heartbeat);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;factory.setHost(brokerIp);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;factory.setPort(brokerPort);&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connection&nbsp;=&nbsp;null;&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;try&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;connection&nbsp;=&nbsp;factory.newConnection();&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;throw&nbsp;new&nbsp;PlatformException(&amp;quot;could&nbsp;not&nbsp;create&nbsp;connection&amp;quot;,&nbsp;e);&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&nbsp; &nbsp; Thanks&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
