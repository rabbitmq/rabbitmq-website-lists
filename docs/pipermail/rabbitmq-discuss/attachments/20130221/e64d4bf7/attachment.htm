<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;relatively&nbsp;new&nbsp;to&nbsp;Rabbitmq&nbsp;and&nbsp;would&nbsp;appreciate&nbsp;help&nbsp;in&nbsp;troubleshooting&nbsp;a&nbsp;recurring&nbsp;issue&nbsp;on&nbsp;a&nbsp;cluster,&nbsp;apologies&nbsp;for&nbsp;the&nbsp;long&nbsp;email.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;run&nbsp;a&nbsp;3&nbsp;instances&nbsp;cluster&nbsp;in&nbsp;ec2,&nbsp;2&nbsp;disk&nbsp;nodes&nbsp;(A&nbsp;and&nbsp;B)&nbsp;1&nbsp;ram&nbsp;node&nbsp;(C),&nbsp;exchanges&nbsp;and&nbsp;queues&nbsp;are&nbsp;static&nbsp;and&nbsp;limited&nbsp;in&nbsp;number&nbsp;(less&nbsp;than&nbsp;50),&nbsp;the&nbsp;volume&nbsp;of&nbsp;messages&nbsp;can&nbsp;reach&nbsp;a&nbsp;few&nbsp;thousands&nbsp;per&nbsp;second&nbsp;and&nbsp;the&nbsp;queues&nbsp;can&nbsp;occasionally&nbsp;grow&nbsp;up&nbsp;to&nbsp;a&nbsp;few&nbsp;hundred&nbsp;thousands&nbsp;until&nbsp;the&nbsp;processes&nbsp;manage&nbsp;to&nbsp;catch&nbsp;up,&nbsp;but&nbsp;this&nbsp;is&nbsp;well&nbsp;within&nbsp;our&nbsp;memory/disk&nbsp;high&nbsp;watermark.&nbsp;Rabbitmq&nbsp;is&nbsp;v.&nbsp;2.8.4&nbsp;on&nbsp;ubuntu&nbsp;12.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;processes&nbsp;that&nbsp;produce&nbsp;and&nbsp;consume&nbsp;messages&nbsp;are&nbsp;java/scala&nbsp;and&nbsp;use&nbsp;the&nbsp;akka-amqp&nbsp;library&nbsp;driver&nbsp;(akka-amqp-1.3.1).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;normal&nbsp;operations&nbsp;our&nbsp;nodes&nbsp;run&nbsp;on&nbsp;~&nbsp;500MB&nbsp;memory,&nbsp;the&nbsp;limit&nbsp;is&nbsp;set&nbsp;to&nbsp;2.7GB,&nbsp;but&nbsp;in&nbsp;a&nbsp;couple&nbsp;occasions&nbsp;one&nbsp;of&nbsp;the&nbsp;nodes&nbsp;managed&nbsp;to&nbsp;very&nbsp;rapidly&nbsp;(&amp;lt;&nbsp;1&nbsp;min)&nbsp;eat&nbsp;&amp;gt;&nbsp;1GB&nbsp;memory&nbsp;and&nbsp;triggered&nbsp;the&nbsp;high&nbsp;memory&nbsp;watermark&nbsp;(node&nbsp;B,&nbsp;one&nbsp;of&nbsp;the&nbsp;disk&nbsp;nodes&nbsp;last&nbsp;time).&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;At&nbsp;the&nbsp;moment&nbsp;of&nbsp;the&nbsp;issue&nbsp;most&nbsp;of&nbsp;the&nbsp;memory&nbsp;was&nbsp;held&nbsp;in&nbsp;&amp;#39;processes&amp;#39;,&nbsp;no&nbsp;queue&nbsp;was&nbsp;overgrown&nbsp;(messages&nbsp;or&nbsp;memory),&nbsp;I&nbsp;managed&nbsp;to&nbsp;run&nbsp;a&nbsp;rabbitmqctl&nbsp;report,&nbsp;I&nbsp;found&nbsp;a&nbsp;crash&nbsp;report&nbsp;in&nbsp;the&nbsp;logs&nbsp;(more&nbsp;on&nbsp;this&nbsp;later)&nbsp;and&nbsp;tried&nbsp;to&nbsp;see&nbsp;which&nbsp;process/es&nbsp;was&nbsp;responsible&nbsp;for&nbsp;the&nbsp;memory&nbsp;usage&nbsp;from&nbsp;the&nbsp;erlang&nbsp;shell&nbsp;but&nbsp;I&nbsp;wasn&amp;#39;t&nbsp;able&nbsp;to&nbsp;pin&nbsp;a&nbsp;specific&nbsp;one&nbsp;(my&nbsp;erlang&nbsp;is&nbsp;limited&nbsp;and&nbsp;I&nbsp;didn&amp;#39;t&nbsp;dump&nbsp;the&nbsp;processes&nbsp;to&nbsp;file&nbsp;to&nbsp;look&nbsp;at&nbsp;it&nbsp;later&nbsp;unfortunately). &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;every&nbsp;issue&nbsp;we&nbsp;have&nbsp;had&nbsp;(3&nbsp;in&nbsp;2&nbsp;months),&nbsp;the&nbsp;logs&nbsp;show&nbsp;a&nbsp;crash&nbsp;report&nbsp;relative&nbsp;to&nbsp;a&nbsp;specific&nbsp;java&nbsp;process&nbsp;(say&nbsp;process&nbsp;D)&nbsp;sending&nbsp;a&nbsp;message&nbsp;to&nbsp;a&nbsp;specific&nbsp;queue&nbsp;(queue&nbsp;D&nbsp;-&nbsp;this&nbsp;is&nbsp;a&nbsp;queue&nbsp;with&nbsp;no&nbsp;consumers&nbsp;atm,&nbsp;if&nbsp;the&nbsp;app&nbsp;fails&nbsp;to&nbsp;process&nbsp;a&nbsp;message&nbsp;it&nbsp;will&nbsp;end&nbsp;up&nbsp;here).&nbsp;Note&nbsp;that&nbsp;there&nbsp;are&nbsp;multiple&nbsp;workers&nbsp;D&nbsp;running&nbsp;on&nbsp;separate&nbsp;instances&nbsp;in&nbsp;ec2&nbsp;and&nbsp;that&nbsp;queue&nbsp;D&nbsp;is&nbsp;very&nbsp;low&nbsp;traffic&nbsp;so&nbsp;it&nbsp;is&nbsp;unlikely&nbsp;to&nbsp;be&nbsp;a&nbsp;coincidence.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;At&nbsp;this&nbsp;point&nbsp;I&nbsp;was&nbsp;pressured&nbsp;to&nbsp;restart&nbsp;rmq&nbsp;on&nbsp;the&nbsp;affected&nbsp;node&nbsp;B,&nbsp;this&nbsp;was&nbsp;a&nbsp;stop_app,&nbsp;then&nbsp;stop&nbsp;the&nbsp;erlang&nbsp;VM&nbsp;and&nbsp;then&nbsp;restart.&nbsp;All&nbsp;looked&nbsp;good,&nbsp;the&nbsp;node&nbsp;was&nbsp;in&nbsp;a&nbsp;nice&nbsp;place&nbsp;and&nbsp;all&nbsp;looked&nbsp;green&nbsp;in&nbsp;the&nbsp;management&nbsp;console. &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Our&nbsp;java&nbsp;processes&nbsp;would&nbsp;connect,&nbsp;they&amp;#39;d&nbsp;do&nbsp;some&nbsp;work,&nbsp;but&nbsp;after&nbsp;a&nbsp;while&nbsp;they&amp;#39;d&nbsp;throw&nbsp;a&nbsp;connection&nbsp;error&nbsp;(sorry&nbsp;this&nbsp;is&nbsp;all&nbsp;the&nbsp;details&nbsp;the&nbsp;logs&nbsp;would&nbsp;show).&nbsp;Specifically&nbsp;a&nbsp;process&nbsp;E&nbsp;was&nbsp;connected&nbsp;to&nbsp;node&nbsp;A&nbsp;and&nbsp;would&nbsp;show&nbsp;this&nbsp;random&nbsp;behaviour&nbsp;(different&nbsp;process&nbsp;and&nbsp;different&nbsp;rmq&nbsp;node&nbsp;from&nbsp;the&nbsp;two&nbsp;involved&nbsp;in&nbsp;the&nbsp;issue). &lt;/div&gt;<br>
<br>
&lt;div&gt;After&nbsp;a&nbsp;while&nbsp;I&nbsp;was&nbsp;forced&nbsp;to&nbsp;restart&nbsp;the&nbsp;whole&nbsp;cluster,&nbsp;this&nbsp;was&nbsp;done&nbsp;stopping&nbsp;app&nbsp;on&nbsp;the&nbsp;ram&nbsp;node&nbsp;C,&nbsp;then&nbsp;on&nbsp;the&nbsp;disk&nbsp;node&nbsp;B,&nbsp;then&nbsp;the&nbsp;other&nbsp;node&nbsp;A.&nbsp;Unfortunately&nbsp;A&nbsp;seemed&nbsp;to&nbsp;hang&nbsp;and&nbsp;failed&nbsp;to&nbsp;stop&nbsp;within&nbsp;a&nbsp;reasonable&nbsp;time&nbsp;(minutes),&nbsp;and&nbsp;I&nbsp;had&nbsp;to&nbsp;kill&nbsp;it&nbsp;(kill&nbsp;-15).&nbsp;I&nbsp;didn&amp;#39;t&nbsp;see&nbsp;any&nbsp;indication&nbsp;in&nbsp;the&nbsp;logs&nbsp;on&nbsp;why&nbsp;it&nbsp;was&nbsp;hanging.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;attempted&nbsp;to&nbsp;start&nbsp;A&nbsp;it&nbsp;would&nbsp;fail&nbsp;as&nbsp;the&nbsp;port&nbsp;was&nbsp;already&nbsp;in&nbsp;use&nbsp;and&nbsp;I&nbsp;found&nbsp;that&nbsp;a&nbsp;process&nbsp;still&nbsp;had&nbsp;an&nbsp;open&nbsp;connection&nbsp;to&nbsp;port&nbsp;5672:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;tcp6&nbsp; &nbsp; &nbsp; &nbsp;0&nbsp;164945&nbsp;10.xx.xx.xx:5672&nbsp; &nbsp; &nbsp; &nbsp; 10.xx.xx.xx:53712&nbsp; &nbsp; &nbsp; FIN_WAIT1&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Note:&nbsp;This&nbsp;is&nbsp;a&nbsp;worker&nbsp;D&nbsp;but&nbsp;running&nbsp;on&nbsp;a&nbsp;different&nbsp;box&nbsp;from&nbsp;the&nbsp;one&nbsp;showed&nbsp;in&nbsp;the&nbsp;crash&nbsp;log.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Once&nbsp;this&nbsp;connection&nbsp;was&nbsp;cleared&nbsp;everything&nbsp;came&nbsp;up&nbsp;nice&nbsp;and&nbsp;happy.&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;In&nbsp;Summary:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Process&nbsp;D&nbsp;was&nbsp;producing&nbsp;on&nbsp;queue&nbsp;D&nbsp;on&nbsp;node&nbsp;B,&nbsp;something&nbsp;happened&nbsp;and&nbsp;node&nbsp;B&nbsp;managed&nbsp;to&nbsp;consume&nbsp;&amp;gt;&nbsp;1GB&nbsp;memory&nbsp;in&nbsp;less&nbsp;than&nbsp;a&nbsp;minute. Note&nbsp;that&nbsp;this&nbsp;queue&nbsp;is&nbsp;really&nbsp;low&nbsp;traffic&nbsp;but&nbsp;in&nbsp;every&nbsp;issue&nbsp;I&nbsp;have&nbsp;looked&nbsp;into&nbsp;I&nbsp;can&nbsp;see&nbsp;a&nbsp;similar&nbsp;crash&nbsp;report&nbsp;as&nbsp;below.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;a&nbsp;restart&nbsp;of&nbsp;node&nbsp;B&nbsp;other&nbsp;processes&nbsp;connected&nbsp;to&nbsp;node&nbsp;A&nbsp;started&nbsp;exhibiting&nbsp;connection&nbsp;issues,&nbsp;work&nbsp;a&nbsp;bit&nbsp;then&nbsp;break&nbsp;the&nbsp;connection&nbsp;until&nbsp;the&nbsp;whole&nbsp;cluster&nbsp;is&nbsp;restarted.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
I&nbsp;would&nbsp;like&nbsp;to&nbsp;better&nbsp;understand&nbsp;the&nbsp;crash&nbsp;report&nbsp;and&nbsp;perhaps&nbsp;have&nbsp;some&nbsp;ideas&nbsp;on&nbsp;what&nbsp;went&nbsp;wrong&nbsp;and&nbsp;how&nbsp;to&nbsp;more&nbsp;effectively&nbsp;troubleshoot&nbsp;issues&nbsp;(what&nbsp;more&nbsp;info&nbsp;should&nbsp;I&nbsp;collect&nbsp;before&nbsp;restarting&nbsp;the&nbsp;nodes,&nbsp;erlang&nbsp;processes&nbsp;list,&nbsp;mnesia&nbsp;tables,&nbsp;ets&nbsp;tables&nbsp;etc).&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;=CRASH&nbsp;REPORT====&nbsp;14-Feb-2013::10:36:54&nbsp;===&lt;/div&gt;&lt;div&gt; &nbsp;crasher:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;initial&nbsp;call:&nbsp;rabbit_reader:init/4&lt;/div&gt;&lt;div&gt;&lt;span&gt; &nbsp; &nbsp;pid:&nbsp;&amp;lt;&lt;/span&gt;&lt;b&gt;0.29283.387&lt;/b&gt;&lt;span&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;registered_name:&nbsp;[]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;exception&nbsp;error:&nbsp;bad&nbsp;argument&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;in&nbsp;function&nbsp; port_close/1&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; called&nbsp;as&nbsp;port_close(#Port&amp;lt;0.746540&amp;gt;)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;in&nbsp;call&nbsp;from&nbsp;rabbit_net:maybe_fast_close/1&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp;in&nbsp;call&nbsp;from&nbsp;rabbit_reader:start_connection/7&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;ancestors:&nbsp;[&amp;lt;0.29280.387&amp;gt;,rabbit_tcp_client_sup,rabbit_sup,&amp;lt;0.161.0&amp;gt;]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;messages:&nbsp;[]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;links:&nbsp;[&amp;lt;0.29280.387&amp;gt;]&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;dictionary:&nbsp;[{{channel,10},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;lt;0.29364.387&amp;gt;,{method,rabbit_framing_amqp_0_9_1}}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29338.387&amp;gt;},{7,#Ref&amp;lt;0.0.2158.60093&amp;gt;}},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29333.387&amp;gt;},{6,#Ref&amp;lt;0.0.2158.60085&amp;gt;}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29325.387&amp;gt;},{5,#Ref&amp;lt;0.0.2158.60053&amp;gt;}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{channel,3},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;lt;0.29313.387&amp;gt;,{method,rabbit_framing_amqp_0_9_1}}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29305.387&amp;gt;},{2,#Ref&amp;lt;0.0.2158.60002&amp;gt;}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{channel,4},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;lt;0.29321.387&amp;gt;,{method,rabbit_framing_amqp_0_9_1}}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{channel,11},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;lt;0.29370.387&amp;gt;,{method,rabbit_framing_amqp_0_9_1}}},&lt;/div&gt;&lt;div&gt;<br>
<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29313.387&amp;gt;},{3,#Ref&amp;lt;0.0.2158.60017&amp;gt;}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29299.387&amp;gt;},{1,#Ref&amp;lt;0.0.2158.59976&amp;gt;}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29346.387&amp;gt;},{8,#Ref&amp;lt;0.0.2158.60112&amp;gt;}},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29370.387&amp;gt;},{11,#Ref&amp;lt;0.0.2158.60189&amp;gt;}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{channel,7},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;lt;0.29338.387&amp;gt;,{method,rabbit_framing_amqp_0_9_1}}},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{channel,9},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;lt;0.29356.387&amp;gt;,{method,rabbit_framing_amqp_0_9_1}}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29321.387&amp;gt;},{4,#Ref&amp;lt;0.0.2158.60034&amp;gt;}},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29364.387&amp;gt;},{10,#Ref&amp;lt;0.0.2158.60166&amp;gt;}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{ch_pid,&amp;lt;0.29356.387&amp;gt;},{9,#Ref&amp;lt;0.0.2158.60140&amp;gt;}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{channel,8},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;lt;0.29346.387&amp;gt;,{method,rabbit_framing_amqp_0_9_1}}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{channel,5},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;lt;0.29325.387&amp;gt;,{method,rabbit_framing_amqp_0_9_1}}},&lt;/div&gt;&lt;div&gt;<br>
<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{channel,1},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;lt;0.29299.387&amp;gt;,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{content_body,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&amp;#39;basic.publish&amp;#39;,0,&amp;lt;&amp;lt;&amp;quot;some_exchange&amp;quot;&amp;gt;&amp;gt;,&amp;lt;&amp;lt;&amp;gt;&amp;gt;,false,&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;false},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1048189,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{content,60,none,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&amp;lt;&amp;lt;BYTES&nbsp;IN&nbsp;HERE&amp;gt;&amp;gt;,&nbsp; &nbsp;--&amp;gt;&nbsp;this&nbsp;showed&nbsp;which&nbsp;process&nbsp;was&nbsp;sending&nbsp;the&nbsp;message&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rabbit_framing_amqp_0_9_1,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[&amp;lt;&amp;lt;MORE BYTES&nbsp;IN&nbsp;HERE&amp;gt;&amp;gt;]&nbsp; --&amp;gt;&nbsp;This&nbsp;I&nbsp;haven&amp;#39;t&nbsp;been&nbsp;able&nbsp;to&nbsp;decode,&nbsp;it&nbsp;is&nbsp;fairly&nbsp;big,&nbsp;is&nbsp;it&nbsp;truncated?&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;in&nbsp;the&nbsp;logs&nbsp;we&nbsp;can&nbsp;find&nbsp;the&nbsp;pid &lt;b&gt;0.29283.387 &lt;/b&gt;right&nbsp;before&nbsp;the&nbsp;crash:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;14-Feb-2013::10:31:46&nbsp;===&lt;/div&gt;&lt;div&gt;&lt;span&gt;accepting&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;&lt;b&gt;0.29283.387&lt;/b&gt;&amp;gt;&nbsp;(10.xx.xx.xx:58622&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672)&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;14-Feb-2013::10:31:46&nbsp;===&lt;/div&gt;&lt;div&gt;&lt;span&gt;accepting&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.29287.387&amp;gt;&nbsp;(10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:58623&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;=WARNING&nbsp;REPORT====&nbsp;14-Feb-2013::10:32:27&nbsp;===&lt;/div&gt;&lt;div&gt;&lt;span&gt;closing&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.27107.387&amp;gt;&nbsp;(10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:50882&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672):&lt;/span&gt;&lt;/div&gt;&lt;div&gt;connection_closed_abruptly&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=WARNING&nbsp;REPORT====&nbsp;14-Feb-2013::10:32:27&nbsp;===&lt;/div&gt;&lt;div&gt;&lt;span&gt;closing&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.27111.387&amp;gt;&nbsp;(10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:50883&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672):&lt;/span&gt;&lt;/div&gt;&lt;div&gt;connection_closed_abruptly&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;14-Feb-2013::10:33:35&nbsp;===&lt;/div&gt;&lt;div&gt;&lt;span&gt;accepting&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.30447.387&amp;gt;&nbsp;(10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:50187&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;14-Feb-2013::10:33:35&nbsp;===&lt;/div&gt;&lt;div&gt;&lt;span&gt;accepting&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.30451.387&amp;gt;&nbsp;(10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:50188&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=WARNING&nbsp;REPORT====&nbsp;14-Feb-2013::10:37:34&nbsp;===&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&gt;closing&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;&lt;b&gt;0.29283.387&lt;/b&gt;&amp;gt;&nbsp;(10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:58622&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672):&lt;/span&gt;&lt;/div&gt;&lt;div&gt;connection_closed_abruptly&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=WARNING&nbsp;REPORT====&nbsp;14-Feb-2013::10:37:34&nbsp;===&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&gt;closing&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.29287.387&amp;gt;&nbsp;(10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:58623&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672):&lt;/span&gt;&lt;/div&gt;&lt;div&gt;connection_closed_abruptly&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=WARNING&nbsp;REPORT====&nbsp;14-Feb-2013::10:37:34&nbsp;===&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&gt;closing&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.30451.387&amp;gt;&nbsp;(10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:50188&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672):&lt;/span&gt;&lt;/div&gt;&lt;div&gt;connection_closed_abruptly&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=WARNING&nbsp;REPORT====&nbsp;14-Feb-2013::10:37:34&nbsp;===&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&gt;closing&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.30447.387&amp;gt;&nbsp;(10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:50187&nbsp;-&amp;gt;&nbsp;10.&lt;/span&gt;xx.xx.xx&lt;span&gt;:5672):&lt;/span&gt;&lt;/div&gt;&lt;div&gt;connection_closed_abruptly&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;14-Feb-2013::10:37:34&nbsp;===&lt;/div&gt;<br>
<br>
&lt;div&gt;vm_memory_high_watermark&nbsp;set.&nbsp;Memory&nbsp;used:3384669192&nbsp;allowed:2914218803&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Looking&nbsp;at&nbsp;the&nbsp;rabbitmqctl&nbsp;report&nbsp;I&nbsp;have&nbsp;not&nbsp;been&nbsp;able&nbsp;to&nbsp;map&nbsp;the&nbsp;memory&nbsp;consumption&nbsp;to&nbsp;something&nbsp;specific&nbsp;yet.&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;help&nbsp;appreciated,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;S&lt;/div&gt;<br>

</tt>
