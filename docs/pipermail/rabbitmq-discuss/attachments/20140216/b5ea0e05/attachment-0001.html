<tt>
If&nbsp;Rabbit&nbsp;inaccurately&nbsp;reports&nbsp;the&nbsp;amount&nbsp;of&nbsp;memory&nbsp;it&#39;s&nbsp;using,&nbsp;how&nbsp;are&nbsp;we&nbsp;to&nbsp;provision&nbsp;systems?&nbsp;With&nbsp;some&nbsp;understanding&nbsp;of&nbsp;normal&nbsp;load,&nbsp;however&nbsp;suboptimal&nbsp;the&nbsp;use&nbsp;case&nbsp;may&nbsp;be,&nbsp;we&nbsp;should&nbsp;have&nbsp;an&nbsp;understanding&nbsp;of&nbsp;memory&nbsp;requirements...&nbsp;Particularly&nbsp;when&nbsp;rabbit&nbsp;provided&nbsp;a&nbsp;reporting&nbsp;mechanism&nbsp;to&nbsp;confirm&nbsp;out&nbsp;expected&nbsp;memory&nbsp;usage. &lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;guess&nbsp;I&nbsp;am&nbsp;confused. &lt;span&gt;&lt;/span&gt;&lt;br&gt;&lt;br&gt;On&nbsp;Sunday,&nbsp;February&nbsp;16,&nbsp;2014,&nbsp;Alvaro&nbsp;Videla&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:videlalvaro@gmail.com&quot;&gt;videlalvaro@gmail.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
Keep&nbsp;in&nbsp;mind&nbsp;that&nbsp;there&#39;s&nbsp;small&nbsp;memory&nbsp;footprint&nbsp;per&nbsp;message,&nbsp;even&nbsp;if&lt;br&gt;<br>
the&nbsp;message&nbsp;has&nbsp;been&nbsp;paged&nbsp;to&nbsp;disk.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
&lt;br&gt;<br>
Alvaro&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;Sun,&nbsp;Feb&nbsp;16,&nbsp;2014&nbsp;at&nbsp;8:28&nbsp;PM,&nbsp;Greg&nbsp;Poirier&nbsp;&lt;&lt;a&nbsp;href=&quot;javascript:;&quot;&nbsp;onclick=&quot;_e(event,&nbsp;&#39;cvml&#39;,&nbsp;&#39;greg.poirier@opower.com&#39;)&quot;&gt;greg.poirier@opower.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&nbsp;They&nbsp;are&nbsp;many&nbsp;small&nbsp;messages.&nbsp;Each&nbsp;node&nbsp;in&nbsp;the&nbsp;cluster&nbsp;has&nbsp;8&nbsp;gigs&nbsp;but&nbsp;is&lt;br&gt;<br>
&gt;&nbsp;only&nbsp;using&nbsp;maybe&nbsp;2.&nbsp;Is&nbsp;memory&nbsp;really&nbsp;the&nbsp;problem?&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;On&nbsp;Sunday,&nbsp;February&nbsp;16,&nbsp;2014,&nbsp;Michael&nbsp;Klishin&nbsp;&lt;&lt;a&nbsp;href=&quot;javascript:;&quot;&nbsp;onclick=&quot;_e(event,&nbsp;&#39;cvml&#39;,&nbsp;&#39;michael.s.klishin@gmail.com&#39;)&quot;&gt;michael.s.klishin@gmail.com&lt;/a&gt;&gt;&lt;br&gt;<br>
&gt;&nbsp;wrote:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;2014-02-16&nbsp;22:32&nbsp;GMT+04:00&nbsp;Greg&nbsp;Poirier&nbsp;&lt;&lt;a&nbsp;href=&quot;javascript:;&quot;&nbsp;onclick=&quot;_e(event,&nbsp;&#39;cvml&#39;,&nbsp;&#39;greg.poirier@opower.com&#39;)&quot;&gt;greg.poirier@opower.com&lt;/a&gt;&gt;:&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;In&nbsp;our&nbsp;current&nbsp;configuration,&nbsp;we&nbsp;have&nbsp;a&nbsp;3-node&nbsp;cluster&nbsp;with&nbsp;2&nbsp;disc&nbsp;and&nbsp;1&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;ram&nbsp;node&nbsp;with&nbsp;HA&nbsp;mirroring&nbsp;to&nbsp;all&nbsp;nodes&nbsp;in&nbsp;the&nbsp;cluster.&nbsp;In&nbsp;periods&nbsp;of&nbsp;high&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;utilization&nbsp;of&nbsp;the&nbsp;cluster,&nbsp;we&nbsp;are&nbsp;noticing&nbsp;frequent&nbsp;partitioning.&nbsp;We&nbsp;have&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;narrowed&nbsp;it&nbsp;down&nbsp;to&nbsp;this&nbsp;particular&nbsp;use&nbsp;case&nbsp;as&nbsp;none&nbsp;of&nbsp;our&nbsp;other&nbsp;clusters&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;(running&nbsp;on&nbsp;the&nbsp;same&nbsp;physical&nbsp;hardware&nbsp;with&nbsp;the&nbsp;same&nbsp;cluster&nbsp;configuration)&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;experience&nbsp;this&nbsp;kind&nbsp;of&nbsp;partitioning.&lt;br&gt;<br>
&gt;&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;Is&nbsp;there&nbsp;some&nbsp;better&nbsp;way&nbsp;that&nbsp;we&nbsp;can&nbsp;configure&nbsp;RabbitMQ&nbsp;to&nbsp;handle&nbsp;this&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;kind&nbsp;of&nbsp;load&nbsp;pattern?&nbsp;I&nbsp;understand&nbsp;this&nbsp;is&nbsp;perhaps&nbsp;not&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;use&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;RabbitMQ,&nbsp;but&nbsp;it&nbsp;is&nbsp;unavoidable&nbsp;for&nbsp;the&nbsp;time&nbsp;being.&nbsp;Any&nbsp;suggestions&nbsp;would&nbsp;be&lt;br&gt;<br>
&gt;&gt;&gt;&nbsp;appreciated.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Short&nbsp;answer&nbsp;is:&nbsp;give&nbsp;it&nbsp;more&nbsp;RAM.&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;Relevant&nbsp;blog&nbsp;posts:&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://blog.travis-ci.com/2013-08-08-solving-the-puzzle-of-scalable-log-processing/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://blog.travis-ci.com/2013-08-08-solving-the-puzzle-of-scalable-log-processing/&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/blog/2014/01/23/preventing-unbounded-buffers-with-rabbitmq/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/blog/2014/01/23/preventing-unbounded-buffers-with-rabbitmq/&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;--&lt;br&gt;<br>
&gt;&gt;&nbsp;MK&lt;br&gt;<br>
&gt;&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://github.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://github.com/michaelklishin&lt;/a&gt;&lt;br&gt;<br>
&gt;&gt;&nbsp;&lt;a&nbsp;href=&quot;http://twitter.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twitter.com/michaelklishin&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;javascript:;&quot;&nbsp;onclick=&quot;_e(event,&nbsp;&#39;cvml&#39;,&nbsp;&#39;rabbitmq-discuss@lists.rabbitmq.com&#39;)&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;javascript:;&quot;&nbsp;onclick=&quot;_e(event,&nbsp;&#39;cvml&#39;,&nbsp;&#39;rabbitmq-discuss@lists.rabbitmq.com&#39;)&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;<br>

</tt>
