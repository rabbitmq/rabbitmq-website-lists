<tt>
Or&nbsp;to&nbsp;put&nbsp;it&nbsp;more&nbsp;simple:&lt;br&gt;If&nbsp;you&nbsp;already&nbsp;have&nbsp;a&nbsp;queue,&nbsp;and&nbsp;you&nbsp;try&nbsp;to&nbsp;declare&nbsp;it&nbsp;again&nbsp;(which&nbsp;is&nbsp;ok),&nbsp;you&nbsp;will&nbsp;have&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;you&nbsp;declare&nbsp;it&nbsp;with&nbsp;the&nbsp;same&nbsp;parameters.&nbsp;As&nbsp;your&nbsp;stack&nbsp;trace&nbsp;shows,&nbsp;and&nbsp;as&nbsp;Mark&nbsp;mentions,&nbsp;in&nbsp;your&nbsp;case&nbsp;the&nbsp;x-message-ttl&nbsp;is&nbsp;the&nbsp;parameter&nbsp;that&nbsp;differs.&lt;br&gt;<br>
&lt;br&gt;I&nbsp;want&nbsp;to&nbsp;take&nbsp;to&nbsp;use&nbsp;the&nbsp;occasion&nbsp;to&nbsp;ask&nbsp;a&nbsp;question&nbsp;in&nbsp;this&nbsp;context:&lt;br&gt;For&nbsp;most&nbsp;of&nbsp;the&nbsp;parameters&nbsp;this&nbsp;is&nbsp;a&nbsp;good&nbsp;approach,&nbsp;but&nbsp;for&nbsp;some&nbsp;parameters&nbsp;this&nbsp;can&nbsp;be&nbsp;a&nbsp;bit&nbsp;annoying,&nbsp;especially&nbsp;for&nbsp;the&nbsp;HA&nbsp;feature,&nbsp;where&nbsp;you&nbsp;specify&nbsp;over&nbsp;which&nbsp;servers&nbsp;a&nbsp;queue&nbsp;is&nbsp;distributed.&nbsp;For&nbsp;the&nbsp;TTL&nbsp;it&amp;#39;s&nbsp;a&nbsp;bit&nbsp;similar&lt;br&gt;<br>
At&nbsp;least&nbsp;I&nbsp;feel&nbsp;sometimes&nbsp;that&nbsp;it&nbsp;would&nbsp;be&nbsp;good&nbsp;if&nbsp;the&nbsp;queue&nbsp;parameters&nbsp;could&nbsp;be&nbsp;adjusted&nbsp;at&nbsp;runtime,&nbsp;that&nbsp;the&nbsp;mirroring&nbsp;could&nbsp;be&nbsp;changed&nbsp;at&nbsp;runtime,&nbsp;without&nbsp;clients&nbsp;requiring&nbsp;an&nbsp;update.&lt;br&gt;The&nbsp;current&nbsp;approach&nbsp;we&nbsp;have&nbsp;taken&nbsp;is&nbsp;that&nbsp;clients&nbsp;don&amp;#39;t&nbsp;define&nbsp;the&nbsp;queues&nbsp;anymore,&nbsp;but&nbsp;they&nbsp;are&nbsp;managed&nbsp;externally.&nbsp;Which&nbsp;is&nbsp;not&nbsp;ideal&nbsp;either&nbsp;:-(&nbsp;If&nbsp;anyone&nbsp;has&nbsp;a&nbsp;good&nbsp;recommendation,&nbsp;ideas,&nbsp;...&nbsp;I&nbsp;would&nbsp;be&nbsp;interested&nbsp;to&nbsp;hear&nbsp;them&lt;br&gt;<br>
&lt;br&gt;Cheers&lt;br&gt;Maze&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Aug&nbsp;31,&nbsp;2012&nbsp;at&nbsp;7:15&nbsp;PM,&nbsp;Mark&nbsp;Fisher&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:markfisher@vmware.com&quot;&nbsp;target=&quot;_blank&quot;&gt;markfisher@vmware.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-size:12pt;font-family:arial,helvetica,sans-serif&quot;&gt;The&nbsp;error&nbsp;message&nbsp;is&nbsp;showing&nbsp;that&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&nbsp;declare&nbsp;a&nbsp;Queue&nbsp;where&nbsp;the&nbsp;value&nbsp;for&nbsp;&amp;#39;x-message-ttl&amp;#39;&nbsp;does&nbsp;not&nbsp;match&nbsp;that&nbsp;of&nbsp;an&nbsp;existing&nbsp;Queue&nbsp;with&nbsp;the&nbsp;same&nbsp;name&nbsp;(&amp;#39;&lt;span&nbsp;style=&quot;font-family:Helvetica,Arial,sans-serif&quot;&gt;ml2gos_events&amp;#39;)&lt;/span&gt;.&lt;br&gt;<br>
&lt;br&gt;&lt;hr&gt;&lt;blockquote&nbsp;style=&quot;padding-left:5px;font-size:12pt;font-style:normal;margin-left:5px;font-family:Helvetica,Arial,sans-serif;text-decoration:none;font-weight:normal;border-left:2px&nbsp;solid&nbsp;rgb(16,16,255)&quot;&gt;&lt;b&gt;From:&nbsp;&lt;/b&gt;&amp;quot;Nadeem&nbsp;M&nbsp;Nayeck&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:nadeem.m.nayeck@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;nadeem.m.nayeck@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&lt;b&gt;To:&nbsp;&lt;/b&gt;&amp;quot;Discussions&nbsp;about&nbsp;RabbitMQ&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;b&gt;Sent:&nbsp;&lt;/b&gt;Friday,&nbsp;August&nbsp;31,&nbsp;2012&nbsp;12:57:51&nbsp;PM&lt;br&gt;<br>
&lt;b&gt;Subject:&nbsp;&lt;/b&gt;[rabbitmq-discuss]&nbsp; rabbitmq&nbsp;-&nbsp;simple&nbsp;message&nbsp;sending&nbsp;error&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;&lt;br&gt;hi&nbsp;guys&lt;br&gt;I&nbsp;wrote&nbsp;a&nbsp;simple&nbsp;java&nbsp;client &nbsp;sending&nbsp;a&nbsp;message&nbsp;to&nbsp;a&nbsp;queue&nbsp;on&nbsp;Rabbit&lt;br&gt;I&nbsp;get&nbsp;this:&lt;br&gt;&lt;br&gt;&lt;br&gt;org.springframework.amqp.rabbit.connection.CachingConnectionFactory$CachedChannelInvocationHandler.invoke(CachingConnectionFactory.java:331)&lt;br&gt;<br>
<br>
   &nbsp;at&nbsp;$Proxy9.queueDeclare(Unknown&nbsp;Source)&lt;br&gt;   &nbsp;at&nbsp;org.springframework.amqp.rabbit.core.RabbitAdmin.declareQueues(RabbitAdmin.java:342)&lt;br&gt;   &nbsp;at&nbsp;org.springframework.amqp.rabbit.core.RabbitAdmin.access$200(RabbitAdmin.java:46)&lt;br&gt;<br>
<br>
   &nbsp;at&nbsp;org.springframework.amqp.rabbit.core.RabbitAdmin$11.doInRabbit(RabbitAdmin.java:312)&lt;br&gt;   &nbsp;at&nbsp;org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:600)&lt;br&gt;   &nbsp;...&nbsp;41&nbsp;more&lt;br&gt;Caused&nbsp;by:&nbsp;com.rabbitmq.client.ShutdownSignalException:&nbsp;channel&nbsp;error;&nbsp;reason:&nbsp;{#method&amp;lt;channel.close&amp;gt;(reply-code=406,&nbsp;reply-text=PRECONDITION_FAILED&nbsp;-&nbsp;inequivalent&nbsp;arg&nbsp;&amp;#39;x-message-ttl&amp;#39;for&nbsp;queue&nbsp;&amp;#39;ml2gos_events&amp;#39;&nbsp;in&nbsp;vhost&nbsp;&amp;#39;OPLCPMED00&amp;#39;:&nbsp;received&nbsp;none&nbsp;but&nbsp;current&nbsp;is&nbsp;the&nbsp;value&nbsp;&amp;#39;86400000&amp;#39;&nbsp;of&nbsp;type&nbsp;&amp;#39;long&amp;#39;,&nbsp;class-id=50,&nbsp;method-id=10),&nbsp;null,&nbsp;&amp;quot;&amp;quot;}&lt;br&gt;<br>
<br>
   &nbsp;at&nbsp;com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:67)&lt;br&gt;   &nbsp;at&nbsp;com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:33)&lt;br&gt;   &nbsp;at&nbsp;com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:343)&lt;br&gt;<br>
<br>
   &nbsp;at&nbsp;com.rabbitmq.client.impl.AMQChannel.privateRpc(AMQChannel.java:216)&lt;br&gt;   &nbsp;at&nbsp;com.rabbitmq.client.impl.AMQChannel.exnWrappingRpc(AMQChannel.java:118)&lt;br&gt;   &nbsp;...&nbsp;53&nbsp;more&lt;br&gt;Caused&nbsp;by:&nbsp;com.rabbitmq.client.ShutdownSignalException:&nbsp;channel&nbsp;error;&nbsp;reason:&nbsp;{#method&amp;lt;channel.close&amp;gt;(reply-code=406,&nbsp;reply-text=PRECONDITION_FAILED&nbsp;-&nbsp;inequivalent&nbsp;arg&nbsp;&amp;#39;x-message-ttl&amp;#39;for&nbsp;queue&nbsp;&amp;#39;ml2gos_events&amp;#39;&nbsp;in&nbsp;vhost&nbsp;&amp;#39;OPLCPMED00&amp;#39;:&nbsp;received&nbsp;none&nbsp;but&nbsp;current&nbsp;is&nbsp;the&nbsp;value&nbsp;&amp;#39;86400000&amp;#39;&nbsp;of&nbsp;type&nbsp;&amp;#39;long&amp;#39;,&nbsp;class-id=50,&nbsp;method-id=10),&nbsp;null,&nbsp;&amp;quot;&amp;quot;}&lt;br&gt;<br>
<br>
   &nbsp;at&nbsp;com.rabbitmq.client.impl.ChannelN.asyncShutdown(ChannelN.java:454)&lt;br&gt;   &nbsp;at&nbsp;com.rabbitmq.client.impl.ChannelN.processAsync(ChannelN.java:294)&lt;br&gt;   &nbsp;at&nbsp;com.rabbitmq.client.impl.AMQChannel.handleCompleteInboundCommand(AMQChannel.java:144)&lt;br&gt;<br>
<br>
   &nbsp;at&nbsp;com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:91)&lt;br&gt;   &nbsp;at&nbsp;com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:519)&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;Any&nbsp;pointers?&lt;br&gt;&lt;br&gt;regards,&lt;br&gt;Nadeem&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;_______________________________________________&lt;br&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
