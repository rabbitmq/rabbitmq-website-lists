<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7654.4&quot;&gt;<br>
&lt;TITLE&gt;IOExceptions&nbsp;and&nbsp;the&nbsp;java&nbsp;client&nbsp;api&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/rtf&nbsp;format&nbsp;--&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Hi,&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;In&nbsp;the&nbsp;javadoc&nbsp;almost&nbsp;every&nbsp;method&nbsp;is&nbsp;documented&nbsp;as&nbsp;throwing&nbsp;the&nbsp;checked&nbsp;IOException&nbsp;&amp;quot;if&nbsp;an&nbsp;error&amp;nbsp;&nbsp;is&nbsp;encountered&amp;quot;,&nbsp;but&nbsp;there's&nbsp;no&nbsp;mention&nbsp;of&nbsp;the&nbsp;unchecked&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;be&nbsp;thrown.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;My&nbsp;understanding&nbsp;after&nbsp;using&nbsp;the&nbsp;client&nbsp;for&nbsp;a&nbsp;while&nbsp;is&nbsp;that&nbsp;the&nbsp;IOException&nbsp;isn't&nbsp;likely&nbsp;to&nbsp;be&nbsp;thrown.&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;a&nbsp;server&nbsp;disconnect&nbsp;the&nbsp;actual&nbsp;exception&nbsp;thrown&nbsp;would&nbsp;be&nbsp;the&nbsp;unchecked&nbsp;com.rabbitmq.client.ShutdownSignalException&nbsp;or&nbsp;a&nbsp;derived&nbsp;exception.&nbsp;Making&nbsp;any&nbsp;code&nbsp;that&nbsp;relies&nbsp;on&nbsp;catching&nbsp;IOException&nbsp;for&nbsp;failure&nbsp;handling&nbsp;/&nbsp;reconnect&nbsp;logic&nbsp;broken.&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;I&nbsp;think&nbsp;the&nbsp;javadoc&nbsp;should&nbsp;mention&nbsp;all&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;be&nbsp;thrown&nbsp;and&nbsp;when&nbsp;they&nbsp;would&nbsp;be&nbsp;expected.&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Furthermore,&nbsp;I&nbsp;personally&nbsp;think&nbsp;that&nbsp;the&nbsp;IOException&nbsp;is&nbsp;almost&nbsp;as&nbsp;course&nbsp;grained&nbsp;as&nbsp;declaring&nbsp;that&nbsp;all&nbsp;methods&nbsp;throws&nbsp;Exception&nbsp;-&nbsp;not&nbsp;only&nbsp;does&nbsp;this&nbsp;make&nbsp;for&nbsp;unnecessary&nbsp;cluttered&nbsp;code&nbsp;when&nbsp;using&nbsp;the&nbsp;client,&nbsp;all&nbsp;invocations&nbsp;must&nbsp;be&nbsp;wrapped&nbsp;in&nbsp;a&nbsp;try/catch&nbsp;block,&nbsp;but&nbsp;it&nbsp;doesn't&nbsp;give&nbsp;any&nbsp;real&nbsp;information&nbsp;about&nbsp;the&nbsp;underlying&nbsp;problem;&nbsp;Server&nbsp;shutdown,&nbsp;pipe&nbsp;broken,&nbsp;dodgy&nbsp;data&nbsp;on&nbsp;the&nbsp;wire..&nbsp;&lt;/FONT&gt;&lt;/P&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;My&nbsp;suggestion&nbsp;is&nbsp;to&nbsp;have&nbsp;a&nbsp;hierarchy&nbsp;of&nbsp;unchecked&nbsp;exceptions&nbsp;with&nbsp;real&nbsp;meaning&nbsp;clearly&nbsp;documented&nbsp;in&nbsp;the&nbsp;api&nbsp;-&nbsp;giving&nbsp;users&nbsp;the&nbsp;option&nbsp;of&nbsp;catching&nbsp;the&nbsp;exceptions&nbsp;that&nbsp;can&nbsp;be&nbsp;recovered&nbsp;from&nbsp;while&nbsp;allowing&nbsp;other&nbsp;exceptions&nbsp;to&nbsp;be&nbsp;propagated&nbsp;to&nbsp;the&nbsp;caller.&lt;/FONT&gt;&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Cheers,&lt;/FONT&gt;<br>
<br>
&lt;BR&gt;&lt;FONT&nbsp;SIZE=2&nbsp;FACE=&quot;Arial&quot;&gt;Henric&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
&lt;BR&gt;<br>
<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;&lt;br&gt;The&nbsp;information&nbsp;contained&nbsp;in&nbsp;this&nbsp;email&nbsp;is&nbsp;strictly&nbsp;confidential&nbsp;and&nbsp;for&nbsp;the&nbsp;use&nbsp;of&nbsp;the&nbsp;<br>
<br>
addressee&nbsp;only,&nbsp;unless&nbsp;otherwise&nbsp;indicated.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient,&nbsp;please&nbsp;do&nbsp;not&nbsp;read,&nbsp;copy,&nbsp;use&nbsp;or&nbsp;<br>
<br>
disclose&nbsp;to&nbsp;others&nbsp;this&nbsp;message&nbsp;or&nbsp;any&nbsp;attachment.&nbsp;Please&nbsp;also&nbsp;notify&nbsp;the&nbsp;sender&nbsp;by&nbsp;replying&nbsp;to&nbsp;this&nbsp;email&nbsp;or&nbsp;by&nbsp;<br>
<br>
telephone&nbsp;(+44&nbsp;(0)20&nbsp;7896&nbsp;0011)&nbsp;and&nbsp;then&nbsp;delete&nbsp;the&nbsp;email&nbsp;and&nbsp;any&nbsp;copies&nbsp;of&nbsp;it.&nbsp;Opinions,&nbsp;conclusions&nbsp;(etc.)&nbsp;that&nbsp;do&nbsp;<br>
<br>
not&nbsp;relate&nbsp;to&nbsp;the&nbsp;official&nbsp;business&nbsp;of&nbsp;this&nbsp;company&nbsp;shall&nbsp;be&nbsp;understood&nbsp;as&nbsp;neither&nbsp;given&nbsp;nor&nbsp;endorsed&nbsp;by&nbsp;it.&nbsp;IG&nbsp;Index&nbsp;<br>
<br>
plc&nbsp;is&nbsp;a&nbsp;company&nbsp;registered&nbsp;in&nbsp;England&nbsp;and&nbsp;Wales&nbsp;under&nbsp;number&nbsp;01190902.&nbsp;VAT&nbsp;registration&nbsp;number&nbsp;761&nbsp;2978&nbsp;07.&nbsp;Registered&nbsp;<br>
<br>
Office:&nbsp;Friars&nbsp;House,&nbsp;157-168&nbsp;Blackfriars&nbsp;Road,&nbsp;London&nbsp;SE1&nbsp;8EZ.&nbsp;Authorised&nbsp;and&nbsp;regulated&nbsp;by&nbsp;the&nbsp;Financial&nbsp;Services&nbsp;<br>
<br>
Authority.&nbsp;FSA&nbsp;Register&nbsp;number&nbsp;114059.&lt;/br&gt;&lt;/BODY&gt;<br>
&lt;/HTML&gt;<br>

</tt>
