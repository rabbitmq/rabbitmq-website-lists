<tt>
&lt;div&nbsp;class=&quot;post-text&quot;&nbsp;style=&quot;margin-right:&nbsp;5px;&nbsp;margin-bottom:&nbsp;5px;&nbsp;font-size:&nbsp;14px;&nbsp;width:&nbsp;660px;&nbsp;line-height:&nbsp;18px;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Arial,&nbsp;'Liberation&nbsp;Sans',&nbsp;'DejaVu&nbsp;Sans',&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;p&nbsp;style=&quot;font-size:&nbsp;14px;&nbsp;background-color:&nbsp;transparent;&nbsp;clear:&nbsp;both;&nbsp;word-wrap:&nbsp;break-word;&nbsp;&quot;&gt;I&nbsp;found&nbsp;error&nbsp;myself.&lt;/p&gt;&lt;p&nbsp;style=&quot;font-size:&nbsp;14px;&nbsp;background-color:&nbsp;transparent;&nbsp;clear:&nbsp;both;&nbsp;word-wrap:&nbsp;break-word;&nbsp;&quot;&gt;amqp_channel:call(Channel,&nbsp;#'basic.publish'{&lt;strong&nbsp;style=&quot;background-color:&nbsp;transparent;&nbsp;&quot;&gt;exchange=&nbsp;ExchangeName&lt;/strong&gt;,routing_key&nbsp;=&nbsp;Key},&nbsp;#amqp_msg{props&nbsp;=&nbsp;#'P_basic'{delivery_mode=2},&nbsp;payload&nbsp;=&nbsp;Msg})&lt;/p&gt;&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;Thanks,&lt;br&gt;On&nbsp;Tuesday,&nbsp;August&nbsp;28,&nbsp;2012&nbsp;2:57:40&nbsp;PM&nbsp;UTC+4,&nbsp;Andrey&nbsp;Kolchanov&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;Hello,&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;topic&nbsp;exchange&nbsp;in&nbsp;my&nbsp;test&nbsp;environment.&lt;/div&gt;&lt;div&gt;I've&nbsp;add&nbsp;some&nbsp;binding&nbsp;to&nbsp;this&nbsp;exchange&nbsp;in&nbsp;web&nbsp;management&nbsp;console.When&nbsp;I&nbsp;publish&nbsp;a&nbsp;test&nbsp;message&nbsp;with&nbsp;proper&nbsp;routing&nbsp;key&nbsp;via&nbsp;web&nbsp;management&nbsp;console&nbsp;this&nbsp;message&nbsp;successfully&nbsp;delivered&nbsp;to&nbsp;desired&nbsp;queue.&lt;/div&gt;&lt;div&gt;I'm&nbsp;trying&nbsp;to&nbsp;publish&nbsp;message&nbsp;through&nbsp;erlang&nbsp;client,&nbsp;but&nbsp;message&nbsp;is&nbsp;not&nbsp;delivering&nbsp;to&nbsp;queue.&amp;nbsp;&lt;br&gt;What&nbsp;is&nbsp;wrong&nbsp;with&nbsp;my&nbsp;code:&lt;br&gt;&lt;br&gt;&lt;pre&nbsp;style=&quot;margin-bottom:10px;padding:5px;font-size:14px;background-color:rgb(238,238,238);font-family:Consolas,Menlo,Monaco,'Lucida&nbsp;Console','Liberation&nbsp;Mono','DejaVu&nbsp;Sans&nbsp;Mono','Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono','Courier&nbsp;New',monospace,serif;overflow:auto;width:auto;max-height:600px;color:rgb(0,0,0);line-height:18px&quot;&gt;&lt;code&nbsp;style=&quot;font-family:Consolas,Menlo,Monaco,'Lucida&nbsp;Console','Liberation&nbsp;Mono','DejaVu&nbsp;Sans&nbsp;Mono','Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono','Courier&nbsp;New',monospace,serif&quot;&gt;ExchangeName&nbsp;=&nbsp;&amp;lt;&amp;lt;&quot;custom.topic&quot;&amp;gt;&amp;gt;,&nbsp;&nbsp;&nbsp;<br>
ExchangeType&nbsp;=&nbsp;&amp;lt;&amp;lt;&quot;topic&quot;&amp;gt;&amp;gt;,&nbsp;&nbsp;<br>
Key&nbsp;=&nbsp;&amp;lt;&amp;lt;&quot;K&quot;&amp;gt;&amp;gt;,<br>
Msg&nbsp;=&nbsp;&amp;lt;&amp;lt;&quot;123&quot;&amp;gt;&amp;gt;,<br>
{ok,&nbsp;Connection}&nbsp;=&nbsp;amqp_connection:start<br>
&nbsp;&nbsp;&nbsp;&nbsp;(#amqp_params_network{username&nbsp;=&nbsp;&amp;lt;&amp;lt;&quot;guest&quot;&amp;gt;&amp;gt;,&nbsp;password&nbsp;=&nbsp;&amp;lt;&amp;lt;&quot;guest&quot;&amp;gt;&amp;gt;,&nbsp;host&nbsp;=&nbsp;&quot;192.168.1.1&quot;}),<br>
{ok,&nbsp;Channel}&nbsp;=&nbsp;amqp_connection:open_channel(&lt;wbr&gt;Connection),<br>
#'exchange.declare_ok'{}&nbsp;=&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;amqp_channel:call(Channel,&nbsp;#'exchange.declare'{exchange=&lt;wbr&gt;ExchangeName,&nbsp;durable=true,&nbsp;type&nbsp;=&nbsp;ExchangeType}),&amp;nbsp;&lt;/code&gt;&lt;/pre&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:Consolas,Menlo,Monaco,'Lucida&nbsp;Console','Liberation&nbsp;Mono','DejaVu&nbsp;Sans&nbsp;Mono','Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono','Courier&nbsp;New',monospace,serif;background-color:rgb(238,238,238);color:rgb(0,0,0);font-size:14px;line-height:18px&quot;&gt;ok&nbsp;=&nbsp;amqp_channel:call(Channel,&nbsp;#'basic.publish'{routing_key&nbsp;=&nbsp;Key},&nbsp;#amqp_msg{props&nbsp;=&nbsp;#'P_basic'{delivery_mode=2},&nbsp;payload&nbsp;=&nbsp;Msg})&lt;/span&gt;&amp;nbsp;.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;
</tt>
