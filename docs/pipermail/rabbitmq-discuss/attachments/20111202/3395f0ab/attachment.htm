<tt>
This&nbsp;is&nbsp;where&nbsp;the&nbsp;&amp;quot;mandatory&amp;quot;&nbsp;feature&nbsp;comes&nbsp;in.&lt;br&gt;&lt;br&gt;1.&nbsp;Declare&nbsp;your&nbsp;queue&nbsp;as&nbsp;durable.&lt;br&gt;2.&nbsp;Send&nbsp;your&nbsp;RPC&nbsp;requests&nbsp;with&nbsp;&amp;quot;mandatory&amp;quot;&nbsp;flag.&lt;br&gt;&lt;br&gt;Then:&lt;br&gt;&lt;ul&gt;&lt;li&gt;if&nbsp;rabbitmq&nbsp;is&nbsp;down,&nbsp;the&nbsp;RPC&nbsp;client&nbsp;won&amp;#39;t&nbsp;be&nbsp;able&nbsp;to&nbsp;connect.&nbsp;Clear.&lt;/li&gt;<br>
&lt;li&gt;if&nbsp;rabbitmq&nbsp;is&nbsp;up,&nbsp;but&nbsp;the&nbsp;RPC&nbsp;server&nbsp;is&nbsp;down,&nbsp;and&nbsp;noone&nbsp;has&nbsp;created&nbsp;the&nbsp;queue&nbsp;yet,&nbsp;then&nbsp;the&nbsp;request&nbsp;will&nbsp;be&nbsp;Basic.Return&amp;#39;d&nbsp;to&nbsp;you.&nbsp;Also&nbsp;clear.&lt;/li&gt;&lt;li&gt;if&nbsp;rabbitmq&nbsp;is&nbsp;up,&nbsp;but&nbsp;the&nbsp;RPC&nbsp;server&nbsp;is&nbsp;down,&nbsp;and&nbsp;the&nbsp;queue&nbsp;was&nbsp;previously&nbsp;created&nbsp;by&nbsp;somebody,&nbsp;then&nbsp;the&nbsp;request&nbsp;will&nbsp;be&nbsp;enqueued.&nbsp;As&nbsp;long&nbsp;as&nbsp;the&nbsp;RPC&nbsp;server&nbsp;returns&nbsp;to&nbsp;service&nbsp;in&nbsp;a&nbsp;timely&nbsp;way,&nbsp;everyone&amp;#39;s&nbsp;happy.&lt;/li&gt;<br>
&lt;li&gt;if&nbsp;rabbitmq&nbsp;is&nbsp;up,&nbsp;and&nbsp;the&nbsp;RPC&nbsp;server&nbsp;is&nbsp;up,&nbsp;normal&nbsp;service&nbsp;ensues.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;Regards,&lt;br&gt; &nbsp;Tony&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;2&nbsp;December&nbsp;2011&nbsp;09:21,&nbsp;Alex&nbsp;Grönholm&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:alex.gronholm@nextday.fi&quot;&gt;alex.gronholm@nextday.fi&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;That&nbsp;was&nbsp;the&nbsp;plan&nbsp;from&nbsp;the&nbsp;start,&nbsp;but&nbsp;I&nbsp;wanted&nbsp;to&nbsp;cover&nbsp;cases&nbsp;where&nbsp;something&nbsp;goes&nbsp;wrong&nbsp;(server&nbsp;starts&nbsp;with&nbsp;rabbitmq&nbsp;but&nbsp;not&nbsp;the&nbsp;rpc&nbsp;server)&nbsp;in&nbsp;which&nbsp;case&nbsp;the&nbsp;client&nbsp;would&nbsp;be&nbsp;stuck&nbsp;waiting&nbsp;forever.&lt;br&gt;<br>
But&nbsp;I&nbsp;guess&nbsp;that&nbsp;dead&nbsp;lettering&nbsp;feature&nbsp;will&nbsp;fix&nbsp;that.&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
