<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;In&nbsp;our&nbsp;scenarios,&nbsp;messages&nbsp;are&nbsp;ultimately&nbsp;delivered&nbsp;to&nbsp;a&nbsp;&amp;#39;retail&amp;#39;&nbsp;rabbitmq&nbsp;instance&nbsp;to&nbsp;be&nbsp;delivered&nbsp;to&nbsp;a&nbsp;client.&nbsp;The&nbsp;pipelines&nbsp;that&nbsp;process&nbsp;and&nbsp;deliver&nbsp;messages&nbsp;are&nbsp;purposefully&nbsp;redundant,&nbsp;hence&nbsp;there&nbsp;may&nbsp;be&nbsp;multiple&nbsp;replicas&nbsp;of&nbsp;each&nbsp;message&nbsp;&amp;#39;racing&amp;#39;&nbsp;to&nbsp;the&nbsp;endpoint.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Usually,&nbsp;the&nbsp;replicas&nbsp;are&nbsp;resolved&nbsp;before&nbsp;getting&nbsp;to&nbsp;the&nbsp;retail&nbsp;rabbit.&nbsp;When&nbsp;components&nbsp;fail,&nbsp;however,&nbsp;duplicates&nbsp;can&nbsp;leak&nbsp;through&nbsp;during&nbsp;a&nbsp;small&nbsp;window&nbsp;of&nbsp;time.&nbsp;We&nbsp;eliminate&nbsp;those&nbsp;duplicates&nbsp;at&nbsp;the&nbsp;retail&nbsp;layer&nbsp;by&nbsp;looking&nbsp;at&nbsp;each&nbsp;message_id.&nbsp;Ultimately,&nbsp;our&nbsp;client&nbsp;contract&nbsp;allows&nbsp;duplicates&nbsp;as&nbsp;well&nbsp;in&nbsp;case&nbsp;one&nbsp;slips&nbsp;by.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;to&nbsp;me&nbsp;that&nbsp;this&nbsp;is&nbsp;a&nbsp;generic&nbsp;issue.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;would&nbsp;be&nbsp;useful&nbsp;in&nbsp;our&nbsp;case,&nbsp;and&nbsp;hopefully&nbsp;for&nbsp;many&nbsp;others,&nbsp;would&nbsp;be&nbsp;a&nbsp;&amp;#39;Duplicate&nbsp;Message&nbsp;ID&nbsp;Window&amp;#39;&nbsp;in&nbsp;milliseconds,&nbsp;as&nbsp;an&nbsp;exchange&nbsp;attribute.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;non-zero,&nbsp;the&nbsp;exchange&nbsp;would&nbsp;drop&nbsp;any&nbsp;message&nbsp;with&nbsp;a&nbsp;duplicate&nbsp;message_id&nbsp;that&nbsp;appeared&nbsp;within&nbsp;the&nbsp;specified&nbsp;window&nbsp;of&nbsp;time,&nbsp;possibly&nbsp;routing&nbsp;it&nbsp;to&nbsp;the&nbsp;alternate&nbsp;exchange,&nbsp;if&nbsp;set.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;In&nbsp;our&nbsp;case,&nbsp;a&nbsp;window&nbsp;of&nbsp;a&nbsp;few&nbsp;seconds,&nbsp;perhaps&nbsp;up&nbsp;to&nbsp;a&nbsp;minute&nbsp;would&nbsp;suffice.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Michael&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
