<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;11&nbsp;February&nbsp;2014&nbsp;13:45,&nbsp;Ron&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:ron.cordell@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;ron.cordell@gmail.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&gt;We&nbsp;have&nbsp;seen&nbsp;the&nbsp;same&nbsp;behavior&nbsp;but&nbsp;don&#39;t&nbsp;have&nbsp;a&nbsp;fix&nbsp;for&nbsp;it.&nbsp;In&nbsp;a&nbsp;3&nbsp;node&nbsp;HA&nbsp;cluster&nbsp;we&nbsp;sometimes&nbsp;see&nbsp;node&nbsp;1&nbsp;out&nbsp;as&nbsp;seen&nbsp;by&nbsp;node&nbsp;2,&nbsp;node&nbsp;2&nbsp;out&nbsp;as&nbsp;seen&nbsp;by&nbsp;node&nbsp;1,&nbsp;and&nbsp;node&nbsp;3&nbsp;thinks&nbsp;everything&nbsp;is&nbsp;ok.&nbsp;Pivotal&nbsp;Labs&nbsp;was&nbsp;working&nbsp;with&nbsp;us&nbsp;at&nbsp;one&nbsp;point&nbsp;and&nbsp;they&nbsp;didn&#39;t&nbsp;have&nbsp;an&nbsp;explanation,&nbsp;either. &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;being&nbsp;said&nbsp;we&nbsp;have&nbsp;had&nbsp;numerous&nbsp;issues&nbsp;getting&nbsp;a&nbsp;stable&nbsp;and&nbsp;reliable&nbsp;3&nbsp;node&nbsp;cluster&nbsp;working&nbsp;on&nbsp;Windows&nbsp;Server&nbsp;2008R2.&nbsp;We&nbsp;don&#39;t&nbsp;see&nbsp;the&nbsp;stability&nbsp;issues&nbsp;in&nbsp;our&nbsp;tests&nbsp;with&nbsp;Linux&nbsp;but&nbsp;we&nbsp;won&#39;t&nbsp;be&nbsp;running&nbsp;production&nbsp;on&nbsp;Linux&nbsp;rabbit&nbsp;nodes&nbsp;for&nbsp;a&nbsp;couple&nbsp;more&nbsp;weeks. &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Ron&lt;br&gt;&lt;br&gt;Sent&nbsp;from&nbsp;my&nbsp;iPad&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&gt;&lt;br&gt;On&nbsp;Feb&nbsp;10,&nbsp;2014,&nbsp;at&nbsp;5:33&nbsp;PM,&nbsp;Matt&nbsp;Pietrek&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:mpietrek@skytap.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mpietrek@skytap.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Recently&nbsp;we&nbsp;started&nbsp;running&nbsp;a&nbsp;two&nbsp;node&nbsp;HA&nbsp;cluster&nbsp;of&nbsp;Rabbit&nbsp;3.2.2,&nbsp;with&nbsp;autoheal&nbsp;enabled.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;a&nbsp;network&nbsp;partition,&nbsp;I&nbsp;noticed&nbsp;that&nbsp;autoheal&nbsp;didn&#39;t&nbsp;appear&nbsp;to&nbsp;work,&nbsp;although&nbsp;the&nbsp;logs&nbsp;indicate&nbsp;it&nbsp;was&nbsp;tried.&nbsp;The&nbsp;first&nbsp;time&nbsp;it&nbsp;happened,&nbsp;the&nbsp;UI&nbsp;in&nbsp;both&nbsp;brokers&nbsp;indicated&nbsp;the&nbsp;other&nbsp;broker&nbsp;was&nbsp;missing&nbsp;from&nbsp;the&nbsp;cluster.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;second&nbsp;time&nbsp;this&nbsp;happened,&nbsp;the&nbsp;management&nbsp;plugin&nbsp;seemed&nbsp;to&nbsp;not&nbsp;function&nbsp;afterwards.&nbsp;Most&nbsp;of&nbsp;the&nbsp;Web&nbsp;UI&nbsp;was&nbsp;unusable,&nbsp;i.e&nbsp;it&nbsp;wouldn&#39;t&nbsp;tell&nbsp;me&nbsp;which&nbsp;nodes&nbsp;were&nbsp;running,&nbsp;what&nbsp;queues&nbsp;were&nbsp;declared,&nbsp;and&nbsp;so&nbsp;forth.&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:courier&nbsp;new,monospace;display:inline&quot;&gt;One&nbsp;thing&nbsp;i&nbsp;learned&nbsp;from&nbsp;the&nbsp;one&nbsp;of&nbsp;the&nbsp;similar&nbsp;discussion&nbsp;in&nbsp;this&nbsp;mailing&nbsp;list&nbsp;you&nbsp;can&nbsp;start&nbsp;up&nbsp;the&nbsp;web&nbsp;ui&nbsp;using&lt;br&gt;<br>
<br>
sudo&nbsp;rabbitmqctl&nbsp;eval&nbsp;&#39;application:start(rabbitmq_management).&#39;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:courier&nbsp;new,monospace;display:inline&quot;&gt;<br>
or&lt;br&gt;sudo&nbsp;rabbitmqctl&nbsp;eval&nbsp;&#39;application:stop(rabbitmq_management).&#39;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:courier&nbsp;new,monospace;display:inline&quot;&gt;At&nbsp;least&nbsp;that&nbsp;will&nbsp;give&nbsp;you&nbsp;management&nbsp;UI&nbsp;back&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:courier&nbsp;new,monospace;display:inline&quot;&gt;<br>
&lt;/div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;wondering&nbsp;if&nbsp;what&nbsp;I&#39;m&nbsp;seeing&nbsp;below&nbsp;is&nbsp;a&nbsp;known&nbsp;issue&nbsp;rings&nbsp;any&nbsp;bells.&nbsp;Also,&nbsp;is&nbsp;their&nbsp;any&nbsp;other&nbsp;log&nbsp;output&nbsp;I&nbsp;should&nbsp;look&nbsp;at&nbsp;to&nbsp;determine&nbsp;success/failure?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
On&nbsp;the&nbsp;&quot;winning&quot;&nbsp;side,&nbsp;the&nbsp;logs&nbsp;look&nbsp;like&nbsp;this.&nbsp;The&nbsp;&quot;ignoring&quot;&nbsp;part&nbsp;in&nbsp;particular&nbsp;is&nbsp;suspicious.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--------&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&gt;=ERROR&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;<br>
&lt;p&gt;Mnesia(rabbit@goodnessmq1):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;running_partitioned_network,&nbsp;rabbit@goodnessmq2}&lt;/p&gt;<br>
&lt;p&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;<br>
&lt;p&gt;Autoheal&nbsp;request&nbsp;received&nbsp;from&nbsp;rabbit@goodnessmq2&nbsp;when&nbsp;in&nbsp;state&nbsp;{winner_waiting,&lt;/p&gt;<br>
&lt;p&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[rabbit@goodnessmq2],&lt;/p&gt;<br>
&lt;p&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[rabbit@goodnessmq2]};&nbsp;ignoring&lt;/p&gt;<br>
&lt;p&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;<br>
&lt;p&gt;global:&nbsp;Name&nbsp;conflict&nbsp;terminating&nbsp;{rabbit_mgmt_db,&lt;2783.10073.5&gt;}&lt;/p&gt;&lt;p&gt;--------&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;On&nbsp;the&nbsp;&quot;losing&quot;&nbsp;side,&nbsp;the&nbsp;logs&nbsp;look&nbsp;like&nbsp;this:&lt;/p&gt;&lt;p&gt;--------&lt;/p&gt;<br>
&lt;p&gt;=ERROR&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&gt;Mnesia(rabbit@goodnessmq2):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;running_partitioned_network,&nbsp;rabbit@goodnessmq1}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&gt;Autoheal&nbsp;request&nbsp;sent&nbsp;to&nbsp;rabbit@goodnessmq1&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;=WARNING&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&gt;Federation&nbsp;exchange&nbsp;&#39;skytap&#39;&nbsp;in&nbsp;vhost&nbsp;&#39;/&#39;&nbsp;did&nbsp;not&nbsp;connect&nbsp;to&nbsp;exchange&nbsp;&#39;skytap&#39;&nbsp;in&nbsp;vhost&nbsp;&#39;/&#39;&nbsp;on&nbsp;amqp://something&nbsp;&lt;a&nbsp;href=&quot;http://else.foo.bar.com:5672&quot;&nbsp;target=&quot;_blank&quot;&gt;else.foo.bar.com:5672&lt;/a&gt;&lt;/p&gt;<br>
<br>
<br>
&lt;p&gt;{error,unknown_host}&lt;/p&gt;&lt;p&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&gt;Statistics&nbsp;database&nbsp;started.&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;=WARNING&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:58&nbsp;===&lt;/p&gt;&lt;p&gt;<br>
Federation&nbsp;exchange&nbsp;&#39;skytap&#39;&nbsp;in&nbsp;vhost&nbsp;&#39;/&#39;&nbsp;did&nbsp;not&nbsp;connect&nbsp;to&nbsp;exchange&nbsp;&#39;skytap&#39;&nbsp;in&nbsp;vhost&nbsp;&#39;/&#39;&nbsp;on&nbsp;amqp://&lt;a&nbsp;href=&quot;http://somethingelse.foo.bar.com:5672&quot;&nbsp;target=&quot;_blank&quot;&gt;somethingelse.foo.bar.com:5672&lt;/a&gt;&lt;/p&gt;<br>
<br>
&lt;p&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;/p&gt;&lt;p&gt;{error,unknown_host}&lt;/p&gt;&lt;p&gt;--------&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:courier&nbsp;new,monospace;display:inline&quot;&gt;Not&nbsp;quite&nbsp;sure&nbsp;what&#39;s&nbsp;going&nbsp;on&nbsp;there&nbsp;since&nbsp;we&nbsp;are&nbsp;not&nbsp;using&nbsp;federation,&nbsp;but&nbsp;have&nbsp;you&nbsp;checked&nbsp;if&nbsp;the&nbsp;&quot;losing&nbsp;side&quot;&nbsp;can&nbsp;connect&nbsp;to&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://somethingelse.foo.bar.com&quot;&gt;somethingelse.foo.bar.com&lt;/a&gt;&nbsp;at&nbsp;that&nbsp;port&nbsp;?&nbsp;I&nbsp;remembered&nbsp;when&nbsp;I&nbsp;was&nbsp;playing&nbsp;around&nbsp;with&nbsp;federation&nbsp;and&nbsp;clustering&nbsp;I&nbsp;had&nbsp;issue&nbsp;because&nbsp;one&nbsp;of&nbsp;the&nbsp;node&nbsp;couldn&#39;t&nbsp;resolve&nbsp;the&nbsp;other&nbsp;host&nbsp;because&nbsp;it&nbsp;didn&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;/etc/hosts&nbsp;or&nbsp;due&nbsp;to&nbsp;firewall&nbsp;issue&lt;/div&gt;<br>
<br>
 &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;auto&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;span&gt;_______________________________________________&lt;/span&gt;&lt;br&gt;&lt;span&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;/span&gt;&lt;br&gt;&lt;span&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
&lt;span&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
<br>
<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
