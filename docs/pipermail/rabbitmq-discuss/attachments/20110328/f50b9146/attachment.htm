<tt>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;However&nbsp;-&nbsp;RabbitMQ&nbsp;clustering&nbsp;is&nbsp;not&nbsp;designed&nbsp;as&nbsp;a&nbsp;way&nbsp;to&nbsp;create&lt;br&gt;<br>
pubsub&nbsp;overlays&nbsp;for&nbsp;the&nbsp;wide&nbsp;area.&nbsp; Its&nbsp;primary&nbsp;goal&nbsp;is&nbsp;scalability&nbsp;of&lt;br&gt;<br>
one&nbsp;broker&nbsp;by&nbsp;adding&nbsp;nodes&nbsp;on&nbsp;the&nbsp;same&nbsp;LAN.&nbsp; This&nbsp;is&nbsp;for,&nbsp;eg,&nbsp;cases&lt;br&gt;<br>
where&nbsp;the&nbsp;number&nbsp;of&nbsp;subscriptions&nbsp;(or&nbsp;&amp;quot;bindings&amp;quot;)&nbsp;on&nbsp;the&nbsp;broker&nbsp;grows&lt;br&gt;<br>
beyond&nbsp;what&nbsp;one&nbsp;machine&nbsp;can&nbsp;physically&nbsp;cope&nbsp;with.&lt;br&gt;<br>
&lt;br&gt;<br>
Now,&nbsp;this&nbsp;does&nbsp;not&nbsp;stop&nbsp;you&nbsp;wiring&nbsp;up&nbsp;1,000s&nbsp;of&nbsp;RabbitMQ&nbsp;brokers.&nbsp; But&lt;br&gt;<br>
using&nbsp;RabbitMQ&nbsp;clustering&nbsp;is&nbsp;the&nbsp;wrong&nbsp;way&nbsp;to&nbsp;do&nbsp;that.&nbsp; Can&nbsp;you&nbsp;tell&lt;br&gt;<br>
us&nbsp;a&nbsp;bit&nbsp;more&nbsp;about&nbsp;the&nbsp;pubsub&nbsp;topology&nbsp;you&nbsp;want&nbsp;to&nbsp;study,&nbsp;please?&lt;br&gt;<br>
That&nbsp;may&nbsp;help&nbsp;us&nbsp;suggest&nbsp;the&nbsp;optimal&nbsp;way&nbsp;to&nbsp;solve&nbsp;your&nbsp;problem..&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;topology&nbsp;looks&nbsp;like&nbsp;this: &lt;a&nbsp;href=&quot;http://imgur.com/8iep0&quot;&nbsp;target=&quot;_blank&quot;&gt;http://imgur.com/8iep0&lt;/a&gt; (taken&nbsp;from &lt;a&nbsp;href=&quot;http://ctieware.eng.monash.edu.au/twiki/bin/view/Simulation/LargePacket-switchingNetworkTopologies&quot;&nbsp;target=&quot;_blank&quot;&gt;http://ctieware.eng.monash.edu.au/twiki/bin/view/Simulation/LargePacket-switchingNetworkTopologies&lt;/a&gt;)&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;terminal&nbsp;nodes&nbsp;shown&nbsp;in&nbsp;the&nbsp;topology&nbsp;are&nbsp;either&nbsp;publishers&nbsp;or&nbsp;subscribers,&nbsp;and&nbsp;I&nbsp;want&nbsp;RabbitMQ&nbsp;to&nbsp;run&nbsp;as&nbsp;a&nbsp;middleware&nbsp;over&nbsp;the&nbsp;entire&nbsp;network.&nbsp;The&nbsp;network&nbsp;(routers&nbsp;and&nbsp;links)&nbsp;are&nbsp;simulated&nbsp;by&nbsp;NS3,&nbsp;So&nbsp;it&nbsp;is&nbsp;essentially&nbsp;a&nbsp;set&nbsp;of&nbsp;point&nbsp;to&nbsp;point&nbsp;links,&nbsp;where&nbsp;each&nbsp;link&nbsp;is&nbsp;a&nbsp;separate&nbsp;network.&nbsp;The&nbsp;terminal&nbsp;nodes&nbsp;are&nbsp;VMs&nbsp;(that&nbsp;would&nbsp;run&nbsp;the&nbsp;amqp/rabbitmq&nbsp;scripts)&nbsp;which&nbsp;I&nbsp;am&nbsp;attempting&nbsp;to&nbsp;cluster&nbsp;so&nbsp;they&nbsp;can&nbsp;use&nbsp;a&nbsp;common&nbsp;set&nbsp;of&nbsp;queues&nbsp;and&nbsp;exchanges.&nbsp;So&nbsp;all&nbsp;terminal&nbsp;nodes&nbsp;are&nbsp;in&nbsp;different&nbsp;LANs.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Also,&nbsp;can&nbsp;you&nbsp;explain&nbsp;why&nbsp;QoS&nbsp;studies&nbsp;require&nbsp;the&nbsp;study&nbsp;of&nbsp;1,000s&nbsp;of&lt;br&gt;<br>
nodes?&nbsp; Perhaps&nbsp;you&nbsp;mean&nbsp;1,000s&nbsp;of&nbsp;clients?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;I&nbsp;understood&nbsp;--&nbsp;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;provide&nbsp;high&nbsp;fidelity&nbsp;results,&nbsp;so&nbsp;I&nbsp;thought&nbsp;the&nbsp;testbed&nbsp;should&nbsp;be&nbsp;atleast&nbsp;of&nbsp;the&nbsp;same&nbsp;order&nbsp;of&nbsp;size&nbsp;as&nbsp;the&nbsp;network&nbsp;on&nbsp;which&nbsp;it&nbsp;needs&nbsp;to&nbsp;be&nbsp;deployed&nbsp;(&amp;gt;50000&nbsp;nodes).&nbsp;There&nbsp;are&nbsp;a&nbsp;few&nbsp;strict&nbsp;IEEE&nbsp;standards&nbsp;regarding&nbsp;this&nbsp;network&nbsp;that&nbsp;specify&nbsp;the&nbsp;minimum&nbsp;QoS&nbsp;guarantees&nbsp;required.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;an&nbsp;easier&nbsp;way&nbsp;to&nbsp;do&nbsp;this?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&gt;<br>
On&nbsp;Sun,&nbsp;Mar&nbsp;27,&nbsp;2011&nbsp;at&nbsp;7:11&nbsp;PM,&nbsp;Advait&nbsp;Alai&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:advaitalai@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;advaitalai@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Thanks&nbsp;for&nbsp;the&nbsp;reply&nbsp;--&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;Sun,&nbsp;Mar&nbsp;27,&nbsp;2011&nbsp;at&nbsp;9:38&nbsp;PM,&nbsp;Jerry&nbsp;Kuch&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jerryk@vmware.com&quot;&nbsp;target=&quot;_blank&quot;&gt;jerryk@vmware.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;150&nbsp;is&nbsp;a&nbsp;pretty&nbsp;big&nbsp;sounding&nbsp;cluster...&nbsp; Out&nbsp;of&nbsp;curiosity,&nbsp;what&amp;#39;s&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;motivating&nbsp;you&nbsp;to&nbsp;go&nbsp;so&nbsp;big&nbsp;(if&nbsp;you&nbsp;don&amp;#39;t&nbsp;mind&nbsp;saying)?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;am&nbsp;doing&nbsp;a&nbsp;QoS&nbsp;analysis&nbsp;of&nbsp;publish-subscribe&nbsp;overlays&nbsp;using&nbsp;RabbitMQ&nbsp;in&lt;br&gt;<br>
&amp;gt;&nbsp;wide&nbsp;area&nbsp;networks&nbsp;(These&nbsp;are&nbsp;country&nbsp;wide&nbsp;networks,&nbsp;so&nbsp;even&nbsp;a&nbsp;1000&nbsp;nodes&lt;br&gt;<br>
&amp;gt;&nbsp;might&nbsp;be&nbsp;insufficient&nbsp;:-))&nbsp;So&nbsp;stuff&nbsp;like&nbsp;packet&nbsp;delay,&nbsp;loss,&nbsp;out-of-order&lt;br&gt;<br>
&amp;gt;&nbsp;delivery&nbsp;etc.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;On&nbsp;that&nbsp;note,&nbsp;because&nbsp;RabbitMQ&nbsp;clustering&nbsp;is&nbsp;based&nbsp;on&nbsp;Erlang&nbsp;distribution,&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;the&nbsp;current&nbsp;practical&nbsp;limit&nbsp;you&amp;#39;ll&nbsp;probably&nbsp;run&nbsp;up&nbsp;against&nbsp;is&nbsp;somewhat&nbsp;lower&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;than&nbsp;the&nbsp;150&nbsp;you&nbsp;have&nbsp;in&nbsp;mind.&nbsp; Something&nbsp;more&nbsp;like&nbsp;32&nbsp;to&nbsp;64.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Is&nbsp;there&nbsp;a&nbsp;configuration&nbsp;that&nbsp;would&nbsp;let&nbsp;me&nbsp;scale&nbsp;to&nbsp;&amp;gt;64&nbsp;nodes,&nbsp;even&nbsp;if&nbsp;it&lt;br&gt;<br>
&amp;gt;&nbsp;would&nbsp;not&nbsp;be&nbsp;practical?&nbsp;And&nbsp;in&nbsp;case&nbsp;Erlang&nbsp;does&nbsp;not&nbsp;scale&nbsp;well,&nbsp;I&amp;#39;ll&lt;br&gt;<br>
&amp;gt;&nbsp;probably&nbsp;have&nbsp;to&nbsp;resort&nbsp;to&nbsp;entirely&nbsp;another&nbsp;middleware&nbsp;--&nbsp;any&nbsp;suggestions&lt;br&gt;<br>
&amp;gt;&nbsp;that&nbsp;would&nbsp;work&nbsp;on&nbsp;a&nbsp;larger&nbsp;number&nbsp;of&nbsp;nodes?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;If&nbsp;you&nbsp;can&nbsp;say&nbsp;more&nbsp;about&nbsp;your&nbsp;goals&nbsp;it&amp;#39;s&nbsp;likely&nbsp;that&nbsp;someone&nbsp;on&nbsp;the&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Rabbit&nbsp;team&nbsp;can&nbsp;suggest&nbsp;something&nbsp;helpful.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;analysis&nbsp;I&amp;#39;m&nbsp;carrying&nbsp;out&nbsp;on&nbsp;&amp;gt;100&nbsp;nodes&nbsp;is&nbsp;actually&nbsp;on&nbsp;a&nbsp;single&nbsp;system.&lt;br&gt;<br>
&amp;gt;&nbsp;These&nbsp;&amp;#39;nodes&amp;#39;&nbsp;are&nbsp;actually&nbsp;many&nbsp;light&nbsp;weight&nbsp;linux&nbsp;containers&nbsp;(more&nbsp;or&nbsp;less&lt;br&gt;<br>
&amp;gt;&nbsp;virtual&nbsp;machines)&nbsp;connected&nbsp;by&nbsp;a&nbsp;simulated&nbsp;NS3&nbsp;network&nbsp;topology.&nbsp;But&nbsp;I&nbsp;doubt&lt;br&gt;<br>
&amp;gt;&nbsp;this&nbsp;would&nbsp;be&nbsp;the&nbsp;cause&nbsp;of&nbsp;the&nbsp;clustering&nbsp;problem,&nbsp;as&nbsp;&amp;lt;50&nbsp;nodes&nbsp;were&lt;br&gt;<br>
&amp;gt;&nbsp;clustering&nbsp;without&nbsp;any&nbsp;difficulty.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;On&nbsp;Mar&nbsp;26,&nbsp;2011,&nbsp;at&nbsp;10:32&nbsp;PM,&nbsp;&amp;quot;Advait&nbsp;Alai&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:advaitalai@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;advaitalai@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Hi,&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;add&nbsp;150&nbsp;nodes&nbsp;to&nbsp;a&nbsp;RabbitMQ&nbsp;cluster.&nbsp;After&nbsp;around&nbsp;50&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;nodes,&nbsp;the&nbsp;stop-reset-cluster-start&nbsp;iteration&nbsp;starts&nbsp;giving&nbsp;the&nbsp;error:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Stopping&nbsp;node&nbsp;rabbit@node130&nbsp;...&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;...done.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Resetting&nbsp;node&nbsp;rabbit@node130&nbsp;...&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;...done.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Clustering&nbsp;node&nbsp;rabbit@node130&nbsp;with&nbsp;[rabbit@node117]&nbsp;...&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;...done.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Starting&nbsp;node&nbsp;rabbit@node130&nbsp;...&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Error:&nbsp;{cannot_start_application,rabbit,&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {bad_return,&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{rabbit,start,[normal,[]]},&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&amp;#39;EXIT&amp;#39;,{rabbit,failure_during_boot}}}}}&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Note&nbsp;that&nbsp;I&nbsp;am&nbsp;sequentially&nbsp;adding&nbsp;nodes&nbsp;to&nbsp;build&nbsp;a&nbsp;cluster&nbsp;(as&nbsp;an&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;initialization&nbsp;step)&nbsp;before&nbsp;creating&nbsp;any&nbsp;queues/exchanges&nbsp;or&nbsp;running&nbsp;any&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;amqp&nbsp;script.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;How&nbsp;do&nbsp;I&nbsp;solve&nbsp;this&nbsp;problem?&nbsp;Is&nbsp;it&nbsp;because&nbsp;RabbitMQ&nbsp;imposes&nbsp;a&nbsp;hard&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;cluster&nbsp;size&nbsp;limit?&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Also,&nbsp;does&nbsp;RabbitMQ&nbsp;scale&nbsp;well&nbsp;to&nbsp;around&nbsp;1000&nbsp;nodes?&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Thanks&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
