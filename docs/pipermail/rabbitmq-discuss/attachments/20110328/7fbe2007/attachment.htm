<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;questions&nbsp;about&nbsp;the&nbsp;init&nbsp;script.&nbsp;&amp;nbsp;I'm&nbsp;working&nbsp;with&nbsp;the&nbsp;version&nbsp;here:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://hg.rabbitmq.com/rabbitmq-server/file/rabbitmq_v2_4_0/packaging/common/rabbitmq-server.init&quot;&gt;http://hg.rabbitmq.com/rabbitmq-server/file/rabbitmq_v2_4_0/packaging/common/rabbitmq-server.init&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;modified&nbsp;it&nbsp;a&nbsp;bit.&nbsp;&amp;nbsp;See&nbsp;below.&nbsp;&amp;nbsp;Specifically,&nbsp;I&nbsp;am&nbsp;curious&nbsp;about&nbsp;what&nbsp;this&nbsp;&quot;$CONTROL&nbsp;wait&nbsp;&amp;gt;&nbsp;/dev/null&nbsp;2&amp;gt;&amp;amp;1&quot;&nbsp;line&nbsp;is.&nbsp;&amp;nbsp;I&nbsp;tried&nbsp;running&nbsp;&quot;rabbitmqctl&nbsp;wait&quot;&nbsp;and&nbsp;got&nbsp;an&nbsp;error&nbsp;back&nbsp;out&nbsp;of&nbsp;rabbitmqctl.&nbsp;&amp;nbsp;Am&nbsp;I&nbsp;missing&nbsp;something&nbsp;in&nbsp;my&nbsp;install?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;---&nbsp;rabbitmq-server.init.orig&nbsp;&amp;nbsp;&nbsp;2011-03-28&nbsp;09:29:10.000000000&nbsp;-0400&lt;/div&gt;&lt;div&gt;+++&nbsp;rabbitmq-server.init&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;2011-03-28&nbsp;09:32:47.000000000&nbsp;-0400&lt;/div&gt;&lt;div&gt;@@&nbsp;-16,16&nbsp;+16,17&nbsp;@@&lt;/div&gt;&lt;div&gt;&amp;nbsp;#&nbsp;Short-Description:&nbsp;Enable&nbsp;AMQP&nbsp;service&nbsp;provided&nbsp;by&nbsp;RabbitMQ&nbsp;broker&lt;/div&gt;&lt;div&gt;&amp;nbsp;###&nbsp;END&nbsp;INIT&nbsp;INFO&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;-PATH=/sbin:/usr/sbin:/bin:/usr/bin&lt;/div&gt;&lt;div&gt;+PREFIX_DIR=/opt/rabbitmq/rabbitmq-2.4.0&lt;/div&gt;&lt;div&gt;+PATH=${PREFIX_DIR}/sbin:/sbin:/sbin:/usr/sbin:/bin:/usr/bin&lt;/div&gt;&lt;div&gt;&amp;nbsp;NAME=rabbitmq-server&lt;/div&gt;&lt;div&gt;&amp;nbsp;DAEMON=/usr/sbin/${NAME}&lt;/div&gt;&lt;div&gt;&amp;nbsp;CONTROL=/usr/sbin/rabbitmqctl&lt;/div&gt;&lt;div&gt;&amp;nbsp;DESC=rabbitmq-server&lt;/div&gt;&lt;div&gt;-USER=rabbitmq&lt;/div&gt;&lt;div&gt;+RUNAS_USER=rabbitmq&lt;/div&gt;&lt;div&gt;&amp;nbsp;ROTATE_SUFFIX=&lt;/div&gt;&lt;div&gt;&amp;nbsp;INIT_LOG_DIR=/var/log/rabbitmq&lt;/div&gt;&lt;div&gt;-&lt;/div&gt;&lt;div&gt;-LOCK_FILE=&nbsp;#&nbsp;This&nbsp;is&nbsp;filled&nbsp;in&nbsp;when&nbsp;building&nbsp;packages&lt;/div&gt;&lt;div&gt;+HOME=/var/lib/rabbitmq&lt;/div&gt;&lt;div&gt;+LOCK_FILE=/var/lock/rabbitmq.pid&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;test&nbsp;-x&nbsp;$DAEMON&nbsp;||&nbsp;exit&nbsp;0&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;@@&nbsp;-41,7&nbsp;+42,6&nbsp;@@&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;set&nbsp;+e&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;setsid&nbsp;sh&nbsp;-c&nbsp;&quot;$DAEMON&nbsp;&amp;gt;&nbsp;${INIT_LOG_DIR}/startup_log&nbsp;\&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;2&amp;gt;&nbsp;${INIT_LOG_DIR}/startup_err&quot;&nbsp;&amp;amp;&lt;/div&gt;&lt;div&gt;-&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;$CONTROL&nbsp;wait&nbsp;&amp;gt;/dev/null&nbsp;2&amp;gt;&amp;amp;1&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;RETVAL=$?&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;set&nbsp;-e&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;case&nbsp;&quot;$RETVAL&quot;&nbsp;in&lt;/div&gt;&lt;div&gt;@@&nbsp;-101,7&nbsp;+101,7&nbsp;@@&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;set&nbsp;-e&lt;/div&gt;&lt;div&gt;&amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;-restart_running_rabbitmq&nbsp;()&nbsp;{&lt;/div&gt;&lt;div&gt;+restart_running_rabbitmq()&nbsp;{&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;status_rabbitmq&nbsp;quiet&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;if&nbsp;[&nbsp;$RETVAL&nbsp;=&nbsp;0&nbsp;]&nbsp;;&nbsp;then&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;restart_rabbitmq&lt;/div&gt;&lt;div&gt;@@&nbsp;-116,6&nbsp;+116,15&nbsp;@@&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;start_rabbitmq&lt;/div&gt;&lt;div&gt;&amp;nbsp;}&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;+become_rabbitmq()&nbsp;{&lt;/div&gt;&lt;div&gt;+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;if&nbsp;[&nbsp;&quot;$USER&quot;&nbsp;!=&nbsp;&quot;$RUNAS_USER&quot;&nbsp;];&nbsp;then&lt;/div&gt;&lt;div&gt;+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;su&nbsp;$RUNAS_USER&nbsp;-c&nbsp;&quot;$*&quot;&lt;/div&gt;&lt;div&gt;+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exit&nbsp;0;&lt;/div&gt;&lt;div&gt;+&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;fi&lt;/div&gt;&lt;div&gt;+}&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt;+become_rabbitmq&nbsp;$0&nbsp;$*&lt;/div&gt;&lt;div&gt;+&lt;/div&gt;&lt;div&gt;&amp;nbsp;case&nbsp;&quot;$1&quot;&nbsp;in&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;start)&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;echo&nbsp;-n&nbsp;&quot;Starting&nbsp;$DESC:&nbsp;&quot;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-top:&nbsp;0in;&nbsp;margin-right:&nbsp;0in;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0in;&nbsp;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(89,&nbsp;89,&nbsp;89);&nbsp;font-family:&nbsp;Arial,&nbsp;sans-serif;&nbsp;&quot;&gt;Exact&lt;/span&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(227,&nbsp;108,&nbsp;10);&nbsp;font-family:&nbsp;Arial,&nbsp;sans-serif;&nbsp;&quot;&gt;Target&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-top:&nbsp;0in;&nbsp;margin-right:&nbsp;0in;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0in;&nbsp;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;Greg&nbsp;Swallow&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-top:&nbsp;0in;&nbsp;margin-right:&nbsp;0in;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0in;&nbsp;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;System&nbsp;Administrator&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-top:&nbsp;0in;&nbsp;margin-right:&nbsp;0in;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0in;&nbsp;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;Phone&nbsp;|&nbsp;317&nbsp;524-5250&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-top:&nbsp;0in;&nbsp;margin-right:&nbsp;0in;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0in;&nbsp;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;Yahoo&amp;nbsp;IM&nbsp;|&nbsp;gswallow01&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&nbsp;style=&quot;margin-top:&nbsp;0in;&nbsp;margin-right:&nbsp;0in;&nbsp;margin-bottom:&nbsp;0.0001pt;&nbsp;margin-left:&nbsp;0in;&nbsp;font-size:&nbsp;11pt;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(31,&nbsp;73,&nbsp;125);&nbsp;&quot;&gt;Email&amp;nbsp;&nbsp;|&amp;nbsp;&lt;a&nbsp;href=&quot;mailto:gswallow@exacttarget.com&quot;&gt;gswallow@exacttarget.com&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;<br>

</tt>
