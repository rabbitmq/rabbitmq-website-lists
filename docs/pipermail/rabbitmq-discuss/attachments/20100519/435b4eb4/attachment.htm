<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&lt;font&nbsp;face=&quot;Calibri&quot;&gt;Matthew&nbsp;-&nbsp;do&nbsp;you&nbsp;have&nbsp;any&nbsp;idea&nbsp;of&nbsp;when&nbsp;the&nbsp;new<br>
persister&nbsp;will&nbsp;go&nbsp;'mainstream?'&lt;/font&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;5/19/2010&nbsp;9:55&nbsp;AM,&nbsp;Matthew&nbsp;Sackman&nbsp;wrote:<br>
&lt;blockquote&nbsp;cite=&quot;mid:20100519145513.GA1896@mrnibble.lshift.net&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;On&nbsp;Wed,&nbsp;May&nbsp;19,&nbsp;2010&nbsp;at&nbsp;10:45:19AM&nbsp;-0400,&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:tyler@echonest.com&quot;&gt;tyler@echonest.com&lt;/a&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;The&nbsp;server&nbsp;process&nbsp;does&nbsp;get&nbsp;busy,&nbsp;up&nbsp;to&nbsp;about&nbsp;80%&nbsp;of&nbsp;the&nbsp;available&nbsp;cpu.&nbsp;<br>
It&nbsp;uses&nbsp;all&nbsp;of&nbsp;the&nbsp;available&nbsp;memory,&nbsp;and&nbsp;crashes&nbsp;shortly&nbsp;after.&nbsp;(Shouldn't&nbsp;<br>
it&nbsp;be&nbsp;pinning&nbsp;the&nbsp;queues&nbsp;to&nbsp;disk&nbsp;automatically,&nbsp;or&nbsp;do&nbsp;i&nbsp;need&nbsp;to&nbsp;use&nbsp;21444&nbsp;<br>
for&nbsp;that...?)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
The&nbsp;new&nbsp;persister&nbsp;will&nbsp;gently&nbsp;push&nbsp;messages&nbsp;to&nbsp;disk&nbsp;when&nbsp;memory&nbsp;gets<br>
tight.&nbsp;That&nbsp;is&nbsp;not&nbsp;the&nbsp;behaviour&nbsp;of&nbsp;default&nbsp;branch&nbsp;or&nbsp;any&nbsp;released<br>
version&nbsp;of&nbsp;Rabbit.<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;The&nbsp;server&nbsp;never&nbsp;recovers,&nbsp;even&nbsp;if&nbsp;I&nbsp;kill&nbsp;all&nbsp;producers&nbsp;and&nbsp;most&nbsp;<br>
consumers,&nbsp;&nbsp;although&nbsp;the&nbsp;beam.smp&nbsp;process&nbsp;hangs&nbsp;on&nbsp;to&nbsp;all&nbsp;<br>
the&nbsp;memory.&nbsp;I'm&nbsp;playing&nbsp;with&nbsp;21444&nbsp;now&nbsp;to&nbsp;see&nbsp;if&nbsp;i&nbsp;can&nbsp;replicate&nbsp;this.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
21444&nbsp;is&nbsp;ancient&nbsp;and&nbsp;should&nbsp;not&nbsp;be&nbsp;used.&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;use&nbsp;the&nbsp;new<br>
persister,&nbsp;the&nbsp;correct&nbsp;branch&nbsp;is&nbsp;bug21673.<br>
<br>
Matthew<br>
<br>
_______________________________________________<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
