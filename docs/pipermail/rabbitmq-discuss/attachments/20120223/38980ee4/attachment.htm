<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;&lt;span&gt;&lt;font&nbsp;size=&quot;3&quot;&gt;Thanks&nbsp;Matt.&nbsp;It&nbsp;would&nbsp;be&nbsp;nice&nbsp;if&nbsp;the&nbsp;HA&nbsp;documentation&nbsp;is&nbsp;revisited&nbsp;again&nbsp;and&amp;nbsp;&lt;/font&gt;explain&nbsp;the&nbsp;basic&nbsp;steps&nbsp;well,&nbsp;it's&nbsp;of&nbsp;great&nbsp;help&nbsp;to&nbsp;the&nbsp;community.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;font&nbsp;size=&quot;3&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;font&nbsp;size=&quot;3&quot;&gt;Best,&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;font&nbsp;size=&quot;3&quot;&gt;Uday.&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;font&nbsp;size=&quot;3&quot;&gt;&amp;nbsp;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&nbsp;&quot;&gt;&lt;br&gt;&lt;/div&gt;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;&quot;&gt;&nbsp;&lt;div&nbsp;style=&quot;font-size:&nbsp;12pt;&nbsp;font-family:&nbsp;'times&nbsp;new&nbsp;roman',&nbsp;'new&nbsp;york',&nbsp;times,&nbsp;serif;&nbsp;&quot;&gt;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&nbsp;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&nbsp;&lt;hr&nbsp;size=&quot;1&quot;&gt;&nbsp;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Matthew&nbsp;Sackman<br>
&nbsp;&amp;lt;matthew@rabbitmq.com&amp;gt;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;rabbitmq-discuss@lists.rabbitmq.com&nbsp;&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Thursday,&nbsp;February&nbsp;16,&nbsp;2012&nbsp;3:14&nbsp;AM&lt;br&gt;&nbsp;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;HA&nbsp;Documentation&nbsp;Error?&lt;br&gt;&nbsp;&lt;/font&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;br&gt;<br>
On&nbsp;Mon,&nbsp;Feb&nbsp;13,&nbsp;2012&nbsp;at&nbsp;10:15:16AM&nbsp;+0000,&nbsp;Emile&nbsp;Joubert&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;On&nbsp;10/02/12&nbsp;19:50,&nbsp;Uday&nbsp;Subbarayan&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Note:&nbsp;There&nbsp;is&nbsp;a&nbsp;risk&nbsp;in&nbsp;the&nbsp;above&nbsp;strategy&nbsp;if&nbsp;the&nbsp;master&nbsp;node&nbsp;goes&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;down.&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;avoid,&nbsp;then&nbsp;publish&nbsp;to&nbsp;all&nbsp;slaves?&nbsp;Here&nbsp;on&nbsp;wards,&nbsp;i&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;If&nbsp;the&nbsp;master&nbsp;becomes&nbsp;unavailable&nbsp;then&nbsp;a&nbsp;slave&nbsp;is&nbsp;promoted&nbsp;to&nbsp;take&nbsp;its&lt;br&gt;&amp;gt;&nbsp;place.&nbsp;Message&nbsp;replication&nbsp;between&nbsp;slaves&nbsp;and&nbsp;the&nbsp;master&nbsp;happens&lt;br&gt;&amp;gt;&nbsp;internally&nbsp;and&nbsp;automatically.&nbsp;As&nbsp;long&nbsp;as&nbsp;the&nbsp;queue&nbsp;is&nbsp;declared&nbsp;as&lt;br&gt;&amp;gt;&nbsp;mirrored,&nbsp;the&nbsp;publisher&nbsp;is&nbsp;not&nbsp;required&nbsp;to&nbsp;take&nbsp;any&nbsp;action&nbsp;to&nbsp;republish&lt;br&gt;&amp;gt;&nbsp;messages&nbsp;to&nbsp;slaves.&lt;br&gt;&lt;br&gt;Well,&nbsp;that's&nbsp;not&nbsp;necessarily&nbsp;true.&nbsp;If&nbsp;the&nbsp;node&nbsp;that&nbsp;failed&nbsp;was&nbsp;also&nbsp;the&lt;br&gt;node&nbsp;to&nbsp;which&nbsp;the&nbsp;client&nbsp;was&nbsp;connected,&nbsp;then&nbsp;the&nbsp;client&nbsp;needs&nbsp;to&nbsp;detect&lt;br&gt;the&nbsp;death&nbsp;of&nbsp;the&nbsp;connection,&nbsp;establish&nbsp;a&nbsp;new&nbsp;connection&nbsp;to&nbsp;a&nbsp;surviving&lt;br&gt;node&nbsp;and&nbsp;then&nbsp;republish&nbsp;all&nbsp;messages&nbsp;that&nbsp;it&nbsp;never&nbsp;got&lt;br&gt;publisher-confirms&nbsp;back&nbsp;for&nbsp;-&nbsp;assuming&nbsp;the&nbsp;client&nbsp;even<br>
&nbsp;turned&lt;br&gt;publisher-confirms&nbsp;on.&nbsp;That&nbsp;would&nbsp;be&nbsp;the&nbsp;only&nbsp;way&nbsp;to&nbsp;ensure&lt;br&gt;at-least-once&nbsp;delivery.&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;Active-active&nbsp;mirrored&nbsp;queues&nbsp;are&nbsp;recommended&nbsp;instead&nbsp;of&nbsp;the&lt;br&gt;&amp;gt;&nbsp;active-passive&nbsp;approach,&nbsp;because&nbsp;it&nbsp;does&nbsp;not&nbsp;require&nbsp;additional&nbsp;software&lt;br&gt;&amp;gt;&nbsp;and&nbsp;the&nbsp;failover&nbsp;process&nbsp;is&nbsp;quicker.&lt;br&gt;&lt;br&gt;However,&nbsp;throughput&nbsp;is&nbsp;lower,&nbsp;and&nbsp;it&nbsp;does&nbsp;not&nbsp;have&nbsp;any&nbsp;chance&nbsp;of&lt;br&gt;integration&nbsp;with&nbsp;other&nbsp;clustering/HA&nbsp;software&nbsp;elsewhere&nbsp;in&nbsp;the&nbsp;stack.&lt;br&gt;&lt;br&gt;Matthew&lt;br&gt;_______________________________________________&lt;br&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;ymailto=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&nbsp;&lt;/div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
