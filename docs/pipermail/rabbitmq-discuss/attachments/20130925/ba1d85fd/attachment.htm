<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;This&nbsp;is&nbsp;rabbitmq&nbsp;3.1.5&nbsp;-&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;what&nbsp;the&nbsp;erlang&nbsp;version&nbsp;is,&nbsp;but&nbsp;the&nbsp;erts&nbsp;version&nbsp;is&nbsp;5.8.5.&nbsp; I&amp;#39;m&nbsp;a&nbsp;little&nbsp;new&nbsp;to&nbsp;the&nbsp;whole&nbsp;erlang&nbsp;thing,&nbsp;so&nbsp;I&nbsp;just&nbsp;picked&nbsp;a&nbsp;component&nbsp;with&nbsp;&amp;#39;e&amp;#39;&nbsp;in&nbsp;it&nbsp;:P&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;planning&nbsp;to&nbsp;get&nbsp;these&nbsp;machines&nbsp;into&nbsp;the&nbsp;DNS&nbsp;proper&nbsp;to&nbsp;see&nbsp;if&nbsp;that&nbsp;helps.&nbsp; It&nbsp;would&nbsp;be&nbsp;pretty&nbsp;weird&nbsp;if&nbsp;it&nbsp;works,&nbsp;since&nbsp;everyone&nbsp;else&nbsp;works&nbsp;OK&nbsp;with&nbsp;just&nbsp;/etc/hosts&nbsp;resolution,&nbsp;but&nbsp;it&amp;#39;s&nbsp;worth&nbsp;a&nbsp;try.&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;25&nbsp;September&nbsp;2013&nbsp;11:16,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;You&nbsp;may&nbsp;(depending&nbsp;on&nbsp;Erlang&nbsp;version)&nbsp;need&nbsp;to&nbsp;make&nbsp;sure&nbsp;that&nbsp;each&nbsp;machine&nbsp;can&nbsp;resolve&nbsp;its&nbsp;own&nbsp;hostname&nbsp;too,&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;other&nbsp;one.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;25/09/13&nbsp;16:04,&nbsp;Derek&nbsp;Wyatt&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Damn.&nbsp;That&amp;#39;s&nbsp;exactly&nbsp;the&nbsp;setup&nbsp;I&nbsp;have.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;25&nbsp;September&nbsp;2013&nbsp;10:55,&nbsp;Robin&nbsp;Lawrie&nbsp;-&nbsp;HostelBookers&lt;br&gt;<br>
&amp;lt;&lt;a&nbsp;href=&quot;mailto:Robin.Lawrie@hostelbookers.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Robin.Lawrie@hostelbookers.&lt;u&gt;&lt;/u&gt;com&lt;/a&gt;&nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:Robin.Lawrie@hostelbookers.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Robin.Lawrie@&lt;u&gt;&lt;/u&gt;hostelbookers.com&lt;/a&gt;&amp;gt;&amp;gt;&lt;br&gt;<br>
<br>
wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;In&nbsp;my&nbsp;case,&nbsp;I&nbsp;have&nbsp;a&nbsp;2&nbsp;node&nbsp;cluster&nbsp;(called&nbsp;cache1&nbsp;and&nbsp;cache2)&nbsp;and&nbsp;I&lt;br&gt;<br>
 &nbsp; &nbsp;needed&nbsp;to&nbsp;add&nbsp;an&nbsp;entry&nbsp;to&nbsp;the&nbsp;hosts&nbsp;file&nbsp;on&nbsp;both&nbsp;nodes&nbsp;to&nbsp;ensure&lt;br&gt;<br>
 &nbsp; &nbsp;each&nbsp;node&nbsp;can&nbsp;resolve&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;other&nbsp;node&nbsp;before&nbsp;clustering&lt;br&gt;<br>
 &nbsp; &nbsp;worked&nbsp;for&nbsp;me.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;My&nbsp;hosts&nbsp;file&nbsp;is&nbsp;in&nbsp;/etc&nbsp;and&nbsp;is&nbsp;called&nbsp;hosts&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;In&nbsp;there&nbsp;I&nbsp;entered&nbsp;the&nbsp;following:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;On&nbsp;cache1.lon.hosting,&nbsp;enter&nbsp;the&nbsp;line&nbsp;192.168.3.1&nbsp;&lt;a&nbsp;href=&quot;http://Cache2.domain.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Cache2.domain.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;&lt;a&nbsp;href=&quot;http://Cache2.domain.com&quot;&nbsp;target=&quot;_blank&quot;&gt;http://Cache2.domain.com&lt;/a&gt;&amp;gt;&nbsp;Cache2&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;On&nbsp;cache2.lon.hosting,&nbsp;enter&nbsp;the&nbsp;line&nbsp;192.168.3.0&nbsp;&lt;a&nbsp;href=&quot;http://Cache1.domain.com&quot;&nbsp;target=&quot;_blank&quot;&gt;Cache1.domain.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;&lt;a&nbsp;href=&quot;http://Cache1.domain.com&quot;&nbsp;target=&quot;_blank&quot;&gt;http://Cache1.domain.com&lt;/a&gt;&amp;gt;&nbsp;Cache1&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Once&nbsp;done,&nbsp;I&nbsp;needed&nbsp;to&nbsp;confirm&nbsp;I&nbsp;could&nbsp;ping&nbsp;each&nbsp;node&nbsp;using&nbsp;it’s&lt;br&gt;<br>
 &nbsp; &nbsp;hostname&nbsp;from&nbsp;the&nbsp;other&nbsp;node.&nbsp;I&nbsp;don’t&nbsp;care&nbsp;about&nbsp;DNS&nbsp;or&nbsp;nslookup&lt;br&gt;<br>
 &nbsp; &nbsp;working/resolving&nbsp;the&nbsp;name.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;HTH&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Robin&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;*From:*&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss-bounces@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss-&lt;u&gt;&lt;/u&gt;bounces@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss-bounces@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss-&lt;u&gt;&lt;/u&gt;bounces@lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
 &nbsp; &nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss-bounces@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss-&lt;u&gt;&lt;/u&gt;bounces@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss-bounces@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss-&lt;u&gt;&lt;/u&gt;bounces@lists.rabbitmq.com&lt;/a&gt;&amp;gt;]&nbsp;*On&nbsp;Behalf&nbsp;Of&lt;br&gt;<br>
 &nbsp; &nbsp;*Derek&nbsp;Wyatt&lt;br&gt;<br>
 &nbsp; &nbsp;*Sent:*&nbsp;25&nbsp;September&nbsp;2013&nbsp;15:47&lt;br&gt;<br>
 &nbsp; &nbsp;*To:*&nbsp;Discussions&nbsp;about&nbsp;RabbitMQ&lt;br&gt;<br>
 &nbsp; &nbsp;*Subject:*&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;Clustering&nbsp;-&nbsp;just&nbsp;can&amp;#39;t&nbsp;get&nbsp;it&nbsp;going&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Ah,&nbsp;I&nbsp;do&nbsp;have&nbsp;more&nbsp;information&nbsp;though:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;DIAGNOSTICS&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;===========&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;nodes&nbsp;in&nbsp;question:&nbsp;[&amp;#39;RMQ1&amp;#39;]&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;hosts,&nbsp;their&nbsp;running&nbsp;nodes&nbsp;and&nbsp;ports:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;-&nbsp;unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;epmd&nbsp;on&nbsp;RMQ1:&nbsp;nxdomain&nbsp;(non-existing&nbsp;domain)&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;current&nbsp;node&nbsp;details:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;-&nbsp;node&nbsp;name:&nbsp;&amp;#39;rabbitmqctl1577@RMQ2&amp;#39;&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;-&nbsp;home&nbsp;dir:&nbsp;/var/lib/rabbitmq&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;-&nbsp;cookie&nbsp;hash:&nbsp;ohQKEF09peb6bAgNqawvKA==&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;And&nbsp;just&nbsp;to&nbsp;be&nbsp;clear,&nbsp;the&nbsp;cookie&nbsp;is&nbsp;the&nbsp;same:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;*01*:~$&nbsp;sudo&nbsp;md5sum&nbsp;/var/lib/rabbitmq/.erlang.&lt;u&gt;&lt;/u&gt;cookie&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;a2140a105d3da5e6fa6c080da9ac2f&lt;u&gt;&lt;/u&gt;28&nbsp; /var/lib/rabbitmq/.erlang.&lt;u&gt;&lt;/u&gt;cookie&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;*02*:~$&nbsp;sudo&nbsp;md5sum&nbsp;/var/lib/rabbitmq/.erlang.&lt;u&gt;&lt;/u&gt;cookie&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;a2140a105d3da5e6fa6c080da9ac2f&lt;u&gt;&lt;/u&gt;28&nbsp; /var/lib/rabbitmq/.erlang.&lt;u&gt;&lt;/u&gt;cookie&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Somehow,&nbsp;telnet&nbsp;to&nbsp;epmd&nbsp;works&nbsp;just&nbsp;fine,&nbsp;but&nbsp;something&nbsp;that&nbsp;RMQ&nbsp;is&lt;br&gt;<br>
 &nbsp; &nbsp;doing&nbsp;fails&nbsp;to&nbsp;make&nbsp;that&nbsp;happen.&nbsp; Is&nbsp;there&nbsp;some&nbsp;sort&nbsp;of&nbsp;DNS&nbsp;work&lt;br&gt;<br>
 &nbsp; &nbsp;that&nbsp;it&amp;#39;s&nbsp;doing,&nbsp;instead&nbsp;of&nbsp;using&nbsp;the&nbsp;hosts&nbsp;files?&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;i.e.&nbsp;one&nbsp;thing&nbsp;I&nbsp;found&nbsp;is&nbsp;that&nbsp;nslookup&nbsp;fails:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;02:~$&nbsp;nslookup&nbsp;RMQ1&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;;;&nbsp;Got&nbsp;SERVFAIL&nbsp;reply&nbsp;from&nbsp;&amp;lt;ipaddress&amp;gt;,&nbsp;trying&nbsp;next&nbsp;server&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Server:&nbsp; &nbsp; &nbsp; &nbsp;&amp;lt;ipaddress&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Address:&nbsp; &amp;lt;ipaddress&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;**&nbsp;server&nbsp;can&amp;#39;t&nbsp;find&nbsp;RMQ1:&nbsp;SERVFAIL&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;But&nbsp;if&nbsp;I&nbsp;ping&nbsp;RMQ1&nbsp;it&nbsp;works&nbsp;fine.&nbsp;/etc/nsswitch.conf&nbsp;specifies&nbsp;that&lt;br&gt;<br>
 &nbsp; &nbsp;files&nbsp;should&nbsp;be&nbsp;tried&nbsp;first,&nbsp;before&nbsp;DNS&nbsp;w.r.t.&nbsp;hosts.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;So,&nbsp;it&nbsp;looks&nbsp;like&nbsp;RMQ&nbsp;is&nbsp;doing&nbsp;something&nbsp;more&nbsp;rigorous&nbsp;to&nbsp;resolve&lt;br&gt;<br>
 &nbsp; &nbsp;the&nbsp;host,&nbsp;and&nbsp;I&nbsp;don&amp;#39;t&nbsp;know&nbsp;how&nbsp;to&nbsp;change&nbsp;that.&nbsp; I&nbsp;also&nbsp;don&amp;#39;t&nbsp;have&lt;br&gt;<br>
 &nbsp; &nbsp;access&nbsp;to&nbsp;the&nbsp;DNS&nbsp;server&nbsp;configuration&nbsp;in&nbsp;order&nbsp;to&nbsp;modify&nbsp;it&nbsp;in&nbsp;any&nbsp;way.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;On&nbsp;25&nbsp;September&nbsp;2013&nbsp;09:57,&nbsp;Jason&nbsp;McIntosh&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mcintoshj@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mcintoshj@gmail.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:mcintoshj@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mcintoshj@gmail.com&lt;/a&gt;&amp;gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Check&nbsp;your&nbsp;erlang&nbsp;cookie&nbsp;on&nbsp;both&nbsp;servers&nbsp;to&nbsp;make&nbsp;sure&nbsp;it&nbsp;matches&nbsp;I&lt;br&gt;<br>
 &nbsp; &nbsp;think&nbsp;it&amp;#39;s&nbsp;in&nbsp;-&nbsp;/var/lib/rabbitmq/&nbsp;-&nbsp;then&nbsp;you&nbsp;can&nbsp;use&nbsp;rabbitmqctl&lt;br&gt;<br>
 &nbsp; &nbsp;from&nbsp;one&nbsp;machine&nbsp;and&nbsp;see&nbsp;if&nbsp;you&nbsp;can&nbsp;connect&nbsp;to&nbsp;another&nbsp;to&nbsp;list&lt;br&gt;<br>
 &nbsp; &nbsp;queues.&nbsp; I&nbsp;THINK&nbsp;that&amp;#39;s&nbsp;rabbitmqctl&nbsp;-n&nbsp;&amp;lt;servernode&amp;gt;&nbsp;list_queues&nbsp;for&lt;br&gt;<br>
 &nbsp; &nbsp;example.&nbsp; If&nbsp;both&nbsp;servers&nbsp;can&nbsp;talk&nbsp;to&nbsp;each&nbsp;other&nbsp;then&nbsp;it&nbsp;should&nbsp;be&lt;br&gt;<br>
 &nbsp; &nbsp;rabbitmqctl&nbsp;stop_app,&nbsp;join_cluster,&nbsp;start_app.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Jason&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;On&nbsp;Wed,&nbsp;Sep&nbsp;25,&nbsp;2013&nbsp;at&nbsp;8:50&nbsp;AM,&nbsp;Derek&nbsp;Wyatt&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:derek@derekwyatt.org&quot;&nbsp;target=&quot;_blank&quot;&gt;derek@derekwyatt.org&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:derek@derekwyatt.org&quot;&nbsp;target=&quot;_blank&quot;&gt;derek@derekwyatt.org&lt;/a&gt;&amp;gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;I&amp;#39;ve&nbsp;seen&nbsp;a&nbsp;number&nbsp;of&nbsp;people&nbsp;failing&nbsp;to&nbsp;get&nbsp;clustering&nbsp;running&nbsp;and,&lt;br&gt;<br>
 &nbsp; &nbsp;unfortunately,&nbsp;I&nbsp;can&amp;#39;t&nbsp;get&nbsp;it&nbsp;going&nbsp;either.&nbsp; Here&amp;#39;s&nbsp;the&nbsp;summary&nbsp;of&lt;br&gt;<br>
 &nbsp; &nbsp;what&nbsp;I&amp;#39;ve&nbsp;got:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;*&nbsp;Two&nbsp;nodes&nbsp;-&nbsp;RMQ1&nbsp;and&nbsp;RMQ2&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;*&nbsp;I&nbsp;can&nbsp;ping&nbsp;RMQ1&nbsp;from&nbsp;RMQ2,&nbsp;and&nbsp;vice&nbsp;versa&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;*&nbsp;I&nbsp;can&nbsp;telnet&nbsp;from&nbsp;RMQ1&nbsp;to&nbsp;RMQ2:epmd,&nbsp;and&nbsp;vice&nbsp;versa&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;*&nbsp;I&nbsp;can&nbsp;telnet&nbsp;from&nbsp;RMQ1&nbsp;to&nbsp;RMQ2:amqp,&nbsp;and&nbsp;vice&nbsp;versa&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;*&nbsp;The&nbsp;cookie&nbsp;file&nbsp;is&nbsp;identical,&nbsp;as&nbsp;is&nbsp;clear&nbsp;from&nbsp;the&nbsp;startup&nbsp;INFO&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;My&nbsp;goal&nbsp;is&nbsp;to&nbsp;have&nbsp;RMQ2&nbsp;join&nbsp;RMQ1&nbsp;in&nbsp;a&nbsp;cluster.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;The&nbsp;servers&nbsp;are&nbsp;started&nbsp;using&nbsp;the&nbsp;init&nbsp;script&nbsp;in&nbsp;Ubuntu&nbsp;(i.e.&lt;br&gt;<br>
 &nbsp; &nbsp;service&nbsp;rabbitmq-server&nbsp;start).&nbsp; This&nbsp;is&nbsp;different&nbsp;than&nbsp;the&nbsp;script&lt;br&gt;<br>
 &nbsp; &nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/clustering.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/&lt;u&gt;&lt;/u&gt;clustering.html&lt;/a&gt;,&nbsp;which&nbsp;says&nbsp;to&nbsp;start&nbsp;with&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;quot;rabbitmq-server&nbsp;-detached&amp;quot;.&nbsp; I&amp;#39;ve&nbsp;tried&nbsp;that&nbsp;and&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;seem&nbsp;to&lt;br&gt;<br>
 &nbsp; &nbsp;make&nbsp;any&nbsp;difference&nbsp;so&nbsp;I&nbsp;always&nbsp;use&nbsp;the&nbsp;init&nbsp;script&nbsp;instead.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;So,&nbsp;the&nbsp;script&nbsp;says&nbsp;to&nbsp;stop&nbsp;the&nbsp;RMQ2&nbsp;server&nbsp;and&nbsp;then&nbsp;join&nbsp;the&lt;br&gt;<br>
 &nbsp; &nbsp;cluster.&nbsp; The&nbsp;following&nbsp;transcript&nbsp;shows&nbsp;how&nbsp;well&nbsp;all&nbsp;this&nbsp;goes:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;02:~$&nbsp;sudo&nbsp;rabbitmqctl&nbsp;stop_app&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Stopping&nbsp;node&nbsp;&amp;#39;rabbit@RMQ2&amp;#39;&nbsp;...&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;...done.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;02:~$&nbsp;sudo&nbsp;rabbitmqctl&nbsp;join_cluster&nbsp;--ram&nbsp;rabbit@RMQ1&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Clustering&nbsp;node&nbsp;&amp;#39;rabbit@RMQ2&amp;#39;&nbsp;with&nbsp;&amp;#39;rabbit@RMQ1&amp;#39;&nbsp;...&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Error:&nbsp;{cannot_discover_cluster,&amp;quot;The&nbsp;nodes&nbsp;provided&nbsp;are&nbsp;either&lt;br&gt;<br>
 &nbsp; &nbsp;offline&nbsp;or&nbsp;not&nbsp;running&amp;quot;}&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;However,&nbsp;as&nbsp;I&nbsp;said&nbsp;above,&nbsp;telnetting&nbsp;to&nbsp;the&nbsp;ports&nbsp;works&nbsp;just&nbsp;fine:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;02:~$&nbsp;telnet&nbsp;RMQ1&nbsp;epmd&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Trying&nbsp;&amp;lt;ip&nbsp;address&amp;gt;...&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Connected&nbsp;to&nbsp;RMQ1&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Escape&nbsp;character&nbsp;is&nbsp;&amp;#39;^]&amp;#39;.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;booger!&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Connection&nbsp;closed&nbsp;by&nbsp;foreign&nbsp;host.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;02:~$&nbsp;telnet&nbsp;RMQ1&nbsp;amqp&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Trying&nbsp;&amp;lt;ip&nbsp;address&amp;gt;...&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Connected&nbsp;to&nbsp;RMQ1&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Escape&nbsp;character&nbsp;is&nbsp;&amp;#39;^]&amp;#39;.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;booger!&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;AMQP&nbsp;Connection&nbsp;closed&nbsp;by&nbsp;foreign&nbsp;host.&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;I&amp;#39;m&nbsp;stuck&nbsp;for&nbsp;what&nbsp;else&nbsp;to&nbsp;test.&nbsp; Does&nbsp;anyone&nbsp;know&nbsp;how&nbsp;to&lt;br&gt;<br>
 &nbsp; &nbsp;troubleshoot&nbsp;this&nbsp;thing&nbsp;further?&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Thanks,&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;Derek&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
 &nbsp; &nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
 &nbsp; &nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@&lt;u&gt;&lt;/u&gt;lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;--&lt;br&gt;<br>
 &nbsp; &nbsp;Jason&nbsp;McIntosh&lt;br&gt;<br>
 &nbsp; &nbsp;&lt;a&nbsp;href=&quot;http://mcintosh.poetshome.com/blog/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://mcintosh.poetshome.com/&lt;u&gt;&lt;/u&gt;blog/&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&lt;a&nbsp;href=&quot;tel:573-424-7612&quot;&nbsp;value=&quot;+15734247612&quot;&nbsp;target=&quot;_blank&quot;&gt;573-424-7612&lt;/a&gt;&nbsp;&amp;lt;tel:&lt;a&nbsp;href=&quot;tel:573-424-7612&quot;&nbsp;value=&quot;+15734247612&quot;&nbsp;target=&quot;_blank&quot;&gt;573-424-7612&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
 &nbsp; &nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
 &nbsp; &nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@&lt;u&gt;&lt;/u&gt;lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;------------------------------&lt;u&gt;&lt;/u&gt;------------------------------&lt;u&gt;&lt;/u&gt;------------&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;This&nbsp;email&nbsp;is&nbsp;from&nbsp;Hostelbookers.com&nbsp;Limited.&nbsp;Registered&nbsp;office:&lt;br&gt;<br>
 &nbsp; &nbsp;52-54&nbsp;High&nbsp;Holborn,&nbsp;London,&nbsp;WC1V&nbsp;6RL,&nbsp;UK.&nbsp;Registered&nbsp;in&nbsp;England&lt;br&gt;<br>
 &nbsp; &nbsp;under&nbsp;Company&nbsp;No.:&nbsp;2841908.&nbsp;This&nbsp;email&nbsp;and&nbsp;any&nbsp;files&nbsp;transmitted&lt;br&gt;<br>
 &nbsp; &nbsp;with&nbsp;it&nbsp;are&nbsp;confidential&nbsp;and&nbsp;may&nbsp;be&nbsp;privileged&nbsp;and&nbsp;are&nbsp;intended&lt;br&gt;<br>
 &nbsp; &nbsp;solely&nbsp;for&nbsp;the&nbsp;use&nbsp;of&nbsp;the&nbsp;individual&nbsp;or&nbsp;entity&nbsp;to&nbsp;whom&nbsp;they&nbsp;are&lt;br&gt;<br>
 &nbsp; &nbsp;addressed.&nbsp;As&nbsp;email&nbsp;can&nbsp;be&nbsp;subject&nbsp;to&nbsp;operational&nbsp;or&nbsp;technical&lt;br&gt;<br>
 &nbsp; &nbsp;difficulties&nbsp;and&nbsp;time&nbsp;delays,&nbsp;communications&nbsp;that&nbsp;are&nbsp;subject&nbsp;to&lt;br&gt;<br>
 &nbsp; &nbsp;deadlines&nbsp;should&nbsp;also&nbsp;be&nbsp;sent&nbsp;by&nbsp;post.&nbsp;Any&nbsp;unauthorised&nbsp;direct&nbsp;or&lt;br&gt;<br>
 &nbsp; &nbsp;indirect&nbsp;dissemination,&nbsp;distribution&nbsp;or&nbsp;copying&nbsp;of&nbsp;this&nbsp;message&nbsp;and&lt;br&gt;<br>
 &nbsp; &nbsp;any&nbsp;attachments&nbsp;is&nbsp;strictly&nbsp;prohibited.&nbsp;If&nbsp;you&nbsp;have&nbsp;received&nbsp;the&lt;br&gt;<br>
 &nbsp; &nbsp;email&nbsp;in&nbsp;error,&nbsp;please&nbsp;notify&nbsp;&lt;a&nbsp;href=&quot;mailto:postmaster@hostelbookers.com&quot;&nbsp;target=&quot;_blank&quot;&gt;postmaster@hostelbookers.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:postmaster@hostelbookers.com&quot;&nbsp;target=&quot;_blank&quot;&gt;postmaster@&lt;u&gt;&lt;/u&gt;hostelbookers.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;------------------------------&lt;u&gt;&lt;/u&gt;------------------------------&lt;u&gt;&lt;/u&gt;------------&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
 &nbsp; &nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
 &nbsp; &nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;lt;mailto:&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@&lt;u&gt;&lt;/u&gt;lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
 &nbsp; &nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Simon&nbsp;MacMullen&lt;br&gt;<br>
RabbitMQ,&nbsp;Pivotal&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
