<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;This&nbsp;is&nbsp;rabbitmq&nbsp;3.2.4,&nbsp;running&nbsp;in&nbsp;a&nbsp;2&nbsp;node&nbsp;cluster&nbsp;with&nbsp;all&nbsp;queues&nbsp;in&nbsp;ha.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;was&nbsp;a&nbsp;queue&nbsp;called&nbsp;cmcmd&nbsp;declared&nbsp;like&nbsp;this:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;table&nbsp;class=&quot;&quot;&nbsp;style=&quot;border-collapse:collapse;font-family:Verdana,sans-serif&quot;&gt;<br>
&lt;tbody&gt;&lt;tr&gt;&lt;th&nbsp;style=&quot;font-weight:normal;color:black;font-size:12px;line-height:17px;padding:0px&nbsp;2px&nbsp;2px;text-align:right;border:none;vertical-align:top&quot;&gt;arguments:&lt;/th&gt;&lt;td&nbsp;style=&quot;font-size:12px;line-height:17px;font-family:Verdana,sans-serif;padding:0px&nbsp;2px&nbsp;2px;vertical-align:top;border:none&quot;&gt;<br>
&lt;table&nbsp;class=&quot;&quot;&nbsp;style=&quot;border-collapse:collapse&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;th&nbsp;style=&quot;font-weight:normal;color:black;font-size:12px;padding:0px&nbsp;2px&nbsp;2px;text-align:right;border:none;vertical-align:top&quot;&gt;x-ha-policy:&lt;/th&gt;&lt;td&nbsp;style=&quot;font-size:12px;font-family:Verdana,sans-serif;padding:0px&nbsp;2px&nbsp;2px;vertical-align:top;border:none&quot;&gt;<br>
&lt;acronym&nbsp;class=&quot;&quot;&nbsp;title=&quot;string&quot;&nbsp;style=&quot;background-image:none;color:inherit;padding:0px;border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-right-radius:2px;border-bottom-left-radius:2px;border-style:none&nbsp;none&nbsp;dotted;border-bottom-width:1px;border-bottom-color:rgb(221,221,221)&quot;&gt;all&lt;/acronym&gt;&lt;/td&gt;<br>
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;th&nbsp;style=&quot;font-weight:normal;color:black;font-size:12px;line-height:17px;padding:0px&nbsp;2px&nbsp;2px;text-align:right;border:none;vertical-align:top&quot;&gt;durable:&lt;/th&gt;&lt;td&nbsp;style=&quot;font-size:12px;line-height:17px;font-family:Verdana,sans-serif;padding:0px&nbsp;2px&nbsp;2px;vertical-align:top;border:none&quot;&gt;<br>
&lt;acronym&nbsp;class=&quot;&quot;&nbsp;title=&quot;boolean&quot;&nbsp;style=&quot;background-image:none;color:inherit;padding:0px;border-top-left-radius:2px;border-top-right-radius:2px;border-bottom-right-radius:2px;border-bottom-left-radius:2px;border-style:none&nbsp;none&nbsp;dotted;border-bottom-width:1px;border-bottom-color:rgb(221,221,221)&quot;&gt;true&lt;/acronym&gt;&lt;/td&gt;<br>
&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;At&nbsp;some&nbsp;point&nbsp;we&nbsp;saw&nbsp;a&nbsp;network&nbsp;partition&nbsp;(see&nbsp;below).&nbsp;It&nbsp;appears&nbsp;that&nbsp;Autoheal&nbsp;eventually&nbsp;worked,&nbsp;but&nbsp;afterwards&nbsp;the&nbsp;cmcmd&nbsp;queue&nbsp;wasn&#39;t&nbsp;on&nbsp;the&nbsp;broker.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
Here&#39;s&nbsp;the&nbsp;Autoheal&nbsp;sequence&nbsp;(note&nbsp;the&nbsp;big&nbsp;time&nbsp;gap&nbsp;waiting&nbsp;for&nbsp;the&nbsp;sea5m1mq1&nbsp;shutdown):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-----------&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&nbsp;class=&quot;&quot;&gt;&lt;span&nbsp;class=&quot;&quot;&gt;21:57&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;&quot;&gt;mpietrek@foo&lt;/span&gt;:/$&nbsp;grep&nbsp;heal&nbsp;2014-04-14-mq.log &lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;2014-04-14&nbsp;18:02:35&nbsp;sea5m1mq2&nbsp;[info]&nbsp;rabbit@sea5m1mq2.log:&nbsp;Auto&lt;span&nbsp;class=&quot;&quot;&gt;&lt;b&gt;heal&lt;/b&gt;&lt;/span&gt;&nbsp;request&nbsp;sent&nbsp;to&nbsp;rabbit@sea5m1mq1&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;2014-04-14&nbsp;18:02:35&nbsp;sea5m1mq2&nbsp;[info]&nbsp;rabbit@sea5m1mq2.log:&nbsp;Auto&lt;span&nbsp;class=&quot;&quot;&gt;&lt;b&gt;heal&lt;/b&gt;&lt;/span&gt;:&nbsp;I&nbsp;am&nbsp;the&nbsp;winner,&nbsp;waiting&nbsp;for&nbsp;[rabbit@sea5m1mq1]&nbsp;to&nbsp;stop&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;2014-04-14&nbsp;18:02:35&nbsp;sea5m1mq2&nbsp;[info]&nbsp;rabbit@sea5m1mq2.log:&nbsp;Auto&lt;span&nbsp;class=&quot;&quot;&gt;&lt;b&gt;heal&lt;/b&gt;&lt;/span&gt;:&nbsp;final&nbsp;node&nbsp;has&nbsp;stopped,&nbsp;starting...&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;2014-04-14&nbsp;18:57:38&nbsp;sea5m1mq1&nbsp;[info]&nbsp;rabbit@sea5m1mq1.log:&nbsp;Auto&lt;span&nbsp;class=&quot;&quot;&gt;&lt;b&gt;heal&lt;/b&gt;&lt;/span&gt;&nbsp;request&nbsp;received&nbsp;from&nbsp;rabbit@sea5m1mq2&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;2014-04-14&nbsp;18:57:38&nbsp;sea5m1mq1&nbsp;[info]&nbsp;rabbit@sea5m1mq1.log:&nbsp;Auto&lt;span&nbsp;class=&quot;&quot;&gt;&lt;b&gt;heal&lt;/b&gt;&lt;/span&gt;&nbsp;decision&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;2014-04-14&nbsp;18:57:38&nbsp;sea5m1mq1&nbsp;[info]&nbsp;rabbit@sea5m1mq1.log:&nbsp;Auto&lt;span&nbsp;class=&quot;&quot;&gt;&lt;b&gt;heal&lt;/b&gt;&lt;/span&gt;:&nbsp;we&nbsp;were&nbsp;selected&nbsp;to&nbsp;restart;&nbsp;winner&nbsp;is&nbsp;rabbit@sea5m1mq2&lt;/p&gt;&lt;/div&gt;&lt;div&gt;------------&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;the&nbsp;rabbit@sea5m1mq2&nbsp;log&nbsp;spew:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;14-Apr-2014::18:02:30&nbsp;===&lt;/div&gt;&lt;div&gt;**&nbsp;Node&nbsp;rabbit@sea5m1mq1&nbsp;not&nbsp;responding&nbsp;**&lt;/div&gt;&lt;div&gt;**&nbsp;Removing&nbsp;(timedout)&nbsp;connection&nbsp;**&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;14-Apr-2014::18:02:30&nbsp;===&lt;/div&gt;<br>
&lt;div&gt;rabbit&nbsp;on&nbsp;node&nbsp;rabbit@sea5m1mq1&nbsp;down&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;14-Apr-2014::18:02:30&nbsp;===&lt;/div&gt;&lt;div&gt;Mnesia(rabbit@sea5m1mq2):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;running_partitioned_network,&nbsp;rabbit@sea5m1mq1}&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;14-Apr-2014::18:02:30&nbsp;===&lt;/div&gt;&lt;div&gt;Statistics&nbsp;database&nbsp;started.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;14-Apr-2014::18:02:30&nbsp;===&lt;/div&gt;&lt;div&gt;Autoheal&nbsp;request&nbsp;sent&nbsp;to&nbsp;rabbit@sea5m1mq1&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;14-Apr-2014::18:02:30&nbsp;===&lt;/div&gt;&lt;div&gt;**&nbsp;Generic&nbsp;server&nbsp;&lt;0.204.0&gt;&nbsp;terminating&lt;/div&gt;&lt;div&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{mnesia_locker,rabbit@sea5m1mq1,granted}&lt;/div&gt;&lt;div&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{state,2,{from,&lt;0.302.0&gt;,#Ref&lt;0.0.1372.163190&gt;}}&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;== &lt;/div&gt;&lt;div&gt;**&nbsp;{unexpected_info,{mnesia_locker,rabbit@sea5m1mq1,granted}}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;14-Apr-2014::18:02:30&nbsp;===&lt;/div&gt;&lt;div&gt;**&nbsp;Generic&nbsp;server&nbsp;&lt;0.302.0&gt;&nbsp;terminating&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{&#39;DOWN&#39;,#Ref&lt;0.0.0.2733&gt;,process,&lt;2782.309.0&gt;,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; noconnection}&lt;/div&gt;&lt;div&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{state,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{0,&lt;0.302.0&gt;},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{0,&lt;2782.309.0&gt;},#Ref&lt;0.0.0.2733&gt;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{0,&lt;2782.309.0&gt;},#Ref&lt;0.0.0.2734&gt;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{resource,&lt;&lt;&quot;/&quot;&gt;&gt;,queue,&lt;&lt;&quot;cmcmd&quot;&gt;&gt;},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rabbit_mirror_queue_coordinator,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{1,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [{{0,&lt;0.302.0&gt;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {view_member,&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {0,&lt;0.302.0&gt;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {0,&lt;2782.309.0&gt;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {0,&lt;2782.309.0&gt;}}},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{0,&lt;2782.309.0&gt;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {view_member,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {0,&lt;2782.309.0&gt;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [],&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {0,&lt;0.302.0&gt;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {0,&lt;0.302.0&gt;}}}]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;0,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[{{0,&lt;0.302.0&gt;},{member,{[],[]},0,0}},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{0,&lt;2782.309.0&gt;},{member,{[],[]},0,0}}],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[&lt;0.301.0&gt;],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{[],[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[],0,undefined,&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;#Fun&lt;rabbit_misc.execute_mnesia_transaction.1&gt;}&lt;/div&gt;&lt;div&gt;**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;== &lt;/div&gt;&lt;div&gt;**&nbsp;{noproc,{gen_server2,call,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[&lt;0.204.0&gt;,&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {submit,#Fun&lt;rabbit_misc.6.116010224&gt;,&lt;0.302.0&gt;},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; infinity]}}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;14-Apr-2014::18:02:30&nbsp;===&lt;/div&gt;&lt;div&gt;**&nbsp;Generic&nbsp;server&nbsp;&lt;0.203.0&gt;&nbsp;terminating&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{mnesia_locker,rabbit@sea5m1mq1,granted}&lt;/div&gt;&lt;div&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{state,1,undefined}&lt;/div&gt;&lt;div&gt;**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;== &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
