<tt>
&lt;div&gt;Hi&nbsp;Francesco,&nbsp;thanks&nbsp;for&nbsp;your&nbsp;answer&nbsp;(howcome&nbsp;it&nbsp;isn't&nbsp;showing&nbsp;up&nbsp;in&nbsp;this&nbsp;google&nbsp;group)?&nbsp;Can&nbsp;you&nbsp;give&nbsp;me&nbsp;an&nbsp;example&nbsp;of&nbsp;a&nbsp;durable&nbsp;resource&nbsp;creation/deletion&nbsp;operation&nbsp;that&nbsp;would&nbsp;benefit&nbsp;from&nbsp;a&nbsp;RAM&nbsp;node&nbsp;(so&nbsp;that&nbsp;I&nbsp;know&nbsp;what&nbsp;that&nbsp;means)?&nbsp;If&nbsp;I&nbsp;do&nbsp;have&nbsp;a&nbsp;lot&nbsp;of&nbsp;these,&nbsp;then&nbsp;would&nbsp;I&nbsp;benefit&nbsp;from&nbsp;using&nbsp;the&nbsp;3rd&nbsp;(non-wep-app)&nbsp;machine&nbsp;as&nbsp;a&nbsp;RAM&nbsp;node,&nbsp;along&nbsp;with&nbsp;the&nbsp;2&nbsp;(relevant&nbsp;web&nbsp;app&nbsp;containing)&nbsp;disc&nbsp;nodes?&nbsp;Also,&nbsp;how&nbsp;do&nbsp;I&nbsp;approximately&nbsp;calculate&nbsp;the&nbsp;maximum&nbsp;disk&nbsp;space&nbsp;the&nbsp;disc&nbsp;nodes&nbsp;may&nbsp;possibly&nbsp;need&nbsp;in&nbsp;the&nbsp;very&nbsp;worst&nbsp;case&nbsp;scenario,&nbsp;say&nbsp;when&nbsp;there&nbsp;are&nbsp;1&nbsp;Mb/s&nbsp;of&nbsp;messages?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;On&nbsp;6&nbsp;July&nbsp;2012&nbsp;18:25,&nbsp;Francesco&nbsp;Mazzoli&nbsp;wrote:&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;Hi&nbsp;Navigateur,&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;At&nbsp;Thu,&nbsp;5&nbsp;Jul&nbsp;2012&nbsp;05:57:57&nbsp;-0700&nbsp;(PDT),&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;Navigateur&nbsp;&amp;nbsp;wrote:&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;New&nbsp;to&nbsp;RabbitMQ.&nbsp;I&nbsp;want&nbsp;do&nbsp;to&nbsp;high-availability&nbsp;over&nbsp;2&nbsp;machines.&nbsp;Do&nbsp;I&nbsp;make&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;them&nbsp;both&nbsp;disk&nbsp;nodes&nbsp;or&nbsp;just&nbsp;1?&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;Having&nbsp;only&nbsp;one&nbsp;disc&nbsp;node&nbsp;in&nbsp;a&nbsp;cluster&nbsp;deprives&nbsp;you&nbsp;of&nbsp;the&nbsp;nicest&nbsp;characteristic&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;of&nbsp;a&nbsp;cluster:&nbsp;you&nbsp;can&nbsp;be&nbsp;sure&nbsp;that&nbsp;if&nbsp;one&nbsp;database&nbsp;state&nbsp;gets&nbsp;corrupted&nbsp;for&nbsp;some&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;reason,&nbsp;you&nbsp;still&nbsp;have&nbsp;the&nbsp;other&nbsp;one.&nbsp;This&nbsp;is&nbsp;even&nbsp;more&nbsp;relevant&nbsp;when&nbsp;using&nbsp;HA&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;queues,&nbsp;which&nbsp;is&nbsp;what&nbsp;you&nbsp;want&nbsp;to&nbsp;do.&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;Having&nbsp;only&nbsp;a&nbsp;RAM&nbsp;node&nbsp;online&nbsp;is&nbsp;a&nbsp;situation&nbsp;that&nbsp;you&nbsp;should&nbsp;avoid&nbsp;-&nbsp;losing&nbsp;data&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;is&nbsp;really&nbsp;easy&nbsp;in&nbsp;that&nbsp;position.&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;If&nbsp;just&nbsp;1,&nbsp;but&nbsp;its&nbsp;disk&nbsp;fails,&nbsp;does&nbsp;the&nbsp;other&nbsp;one&nbsp;automatically&nbsp;become&nbsp;a&nbsp;&quot;disk&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;node&quot;?&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;No.&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;If&nbsp;not,&nbsp;and&nbsp;I&nbsp;replace&nbsp;the&nbsp;failed-disk&nbsp;machine&nbsp;with&nbsp;a&nbsp;brand&nbsp;new&nbsp;machine&nbsp;with&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;the&nbsp;same&nbsp;name&nbsp;(e.g.&nbsp;rabbit@server1)&nbsp;and&nbsp;simply&nbsp;instruct&nbsp;it&nbsp;to&nbsp;join&nbsp;the&nbsp;cluster&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;-&nbsp;will&nbsp;everything&nbsp;continue&nbsp;to&nbsp;work&nbsp;as&nbsp;if&nbsp;nothing&nbsp;happened?&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;Yes,&nbsp;that&nbsp;should&nbsp;work.&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;If&nbsp;I&nbsp;can't,&nbsp;then&nbsp;2&nbsp;disk&nbsp;nodes&nbsp;is&nbsp;the&nbsp;better&nbsp;solution,&nbsp;yes?&nbsp;And&nbsp;if&nbsp;I&nbsp;did&nbsp;that,&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;is&nbsp;recovering&nbsp;from&nbsp;an&nbsp;abrupt&nbsp;failure&nbsp;of&nbsp;1&nbsp;of&nbsp;the&nbsp;machines&nbsp;simply&nbsp;to&nbsp;replace&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;that&nbsp;machine,&nbsp;give&nbsp;it&nbsp;the&nbsp;same&nbsp;name&nbsp;(e.g.&nbsp;rabbit@server1)&nbsp;and&nbsp;call&nbsp;the&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;rabbitmqctl&nbsp;cluster&nbsp;command?&nbsp;Is&nbsp;that&nbsp;all&nbsp;I&nbsp;would&nbsp;have&nbsp;to&nbsp;do?&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;Again,&nbsp;that&nbsp;should&nbsp;be&nbsp;OK.&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;I&nbsp;also&nbsp;have&nbsp;a&nbsp;3rd&nbsp;machine&nbsp;running,&nbsp;which&nbsp;doesn't&nbsp;have&nbsp;any&nbsp;local&nbsp;web&nbsp;app&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;software&nbsp;which&nbsp;creates&nbsp;or&nbsp;listens&nbsp;for&nbsp;any&nbsp;RabbitMQ&nbsp;messages.&nbsp;Would&nbsp;I&nbsp;benefit&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;from&nbsp;using&nbsp;that&nbsp;as&nbsp;an&nbsp;additional&nbsp;(3rd)&nbsp;RabbitMQ&nbsp;node&nbsp;still?&nbsp;For&nbsp;example,&nbsp;the&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;3rd&nbsp;non-web-app&nbsp;machine&nbsp;as&nbsp;a&nbsp;disk&nbsp;node,&nbsp;and&nbsp;the&nbsp;2&nbsp;web-app-clustered&nbsp;(which&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;load-balance)&nbsp;machines&nbsp;as&nbsp;RAM&nbsp;nodes?&nbsp;And&nbsp;maybe&nbsp;have&nbsp;a&nbsp;RAID&nbsp;disk&nbsp;in&nbsp;the&nbsp;3rd&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;non-web-app&nbsp;machine.&nbsp;Is&nbsp;this&nbsp;the&nbsp;best&nbsp;solution&nbsp;of&nbsp;all?&nbsp;Last&nbsp;question,&nbsp;how&nbsp;do&nbsp;I&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;recover&nbsp;after&nbsp;explicitly&nbsp;removing&nbsp;a&nbsp;disk&nbsp;node&nbsp;(i.e.&nbsp;not&nbsp;through&nbsp;disk&nbsp;failure,&lt;/div&gt;&lt;div&gt;&amp;gt;&amp;gt;&nbsp;this&nbsp;in&nbsp;addition&nbsp;do&nbsp;the&nbsp;disk-failure&nbsp;question)?&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;See&nbsp;my&nbsp;reply&nbsp;at&nbsp;the&nbsp;top&nbsp;of&nbsp;this&nbsp;message.&nbsp;In&nbsp;general&nbsp;you'd&nbsp;want&nbsp;to&nbsp;measure&nbsp;if&nbsp;RAM&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;nodes&nbsp;give&nbsp;you&nbsp;a&nbsp;real&nbsp;benefit&nbsp;and&nbsp;consider&nbsp;them&nbsp;once&nbsp;you&nbsp;established&nbsp;that.&nbsp;RAM&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;nodes&nbsp;do&nbsp;(durable)&nbsp;resource&nbsp;creation/deletion&nbsp;faster,&nbsp;so&nbsp;if&nbsp;you&nbsp;are&nbsp;using&nbsp;those&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;operation&nbsp;intensively&nbsp;you&nbsp;might&nbsp;get&nbsp;something&nbsp;out&nbsp;of&nbsp;RAM&nbsp;nodes.&nbsp;Everything&nbsp;else&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;is&nbsp;not&nbsp;affected&nbsp;-&nbsp;persistent&nbsp;queue&nbsp;still&nbsp;persist,&nbsp;and&nbsp;transient&nbsp;operations&nbsp;are&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;transient&nbsp;on&nbsp;disc&nbsp;nodes&nbsp;too.&lt;/div&gt;&lt;div&gt;&amp;gt;&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;--&lt;/div&gt;&lt;div&gt;&amp;gt;&nbsp;Francesco&nbsp;*&nbsp;Often&nbsp;in&nbsp;error,&nbsp;never&nbsp;in&nbsp;doubt&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;
</tt>
