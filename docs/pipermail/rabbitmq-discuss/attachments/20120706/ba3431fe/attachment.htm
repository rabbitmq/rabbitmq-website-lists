<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;10pt;<br>
font-family:Î¢ÈíÑÅºÚ<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;<br>
Hi&nbsp;all,&lt;br&gt;&lt;br&gt;I&nbsp;installed&nbsp;RabbotMQ&nbsp;&amp;amp;&nbsp;tried&nbsp;to&nbsp;start&nbsp;it.&lt;br&gt;&lt;br&gt;But&nbsp;I&nbsp;always&nbsp;got&nbsp;error&nbsp;as&nbsp;following:&lt;br&gt;&lt;br&gt;{error_logger,{{2012,7,6},{13,32,21}},&quot;Protocol:&nbsp;~p:&nbsp;register&nbsp;error:&nbsp;~p~n&quot;,[&quot;inet_tcp&quot;,{{badmatch,{error,epmd_close}},[{inet_tcp_dist,listen,1,[{file,&quot;inet_tcp_dist.erl&quot;},{line,70}]},{net_kernel,start_protos,4,[{file,&quot;net_kernel.erl&quot;},{line,1314}]},{net_kernel,start_protos,3,[{file,&quot;net_kernel.erl&quot;},{line,1307}]},{net_kernel,init_node,2,[{file,&quot;net_kernel.erl&quot;},{line,1197}]},{net_kernel,init,1,[{file,&quot;net_kernel.erl&quot;},{line,357}]},{gen_server,init_it,6,[{file,&quot;gen_server.erl&quot;},{line,304}]},{proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,227}]}]}]}&lt;br&gt;{error_logger,{{2012,7,6},{13,32,21}},crash_report,[[{initial_call,{net_kernel,init,['Argument__1']}},{pid,&amp;lt;0.20.0&amp;gt;},{registered_name,[]},{error_info,{exit,{error,badarg},[{gen_server,init_it,6,[{file,&quot;gen_server.erl&quot;},{line,320}]},{proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,227}]}]}},{ancest<br>
&nbsp;ors,[net_sup,kernel_sup,&amp;lt;0.9.0&amp;gt;]},{messages,[]},{links,[#Port&amp;lt;0.90&amp;gt;,&amp;lt;0.17.0&amp;gt;]},{dictionary,[{longnames,false}]},{trap_exit,true},{status,running},{heap_size,987},{stack_size,24},{reductions,551}],[]]}&lt;br&gt;{error_logger,{{2012,7,6},{13,32,21}},supervisor_report,[{supervisor,{local,net_sup}},{errorContext,start_error},{reason,{'EXIT',nodistribution}},{offender,[{pid,undefined},{name,net_kernel},{mfargs,{net_kernel,start_link,[[rabbitmqprelaunch1077,shortnames]]}},{restart_type,permanent},{shutdown,2000},{child_type,worker}]}]}&lt;br&gt;{error_logger,{{2012,7,6},{13,32,21}},supervisor_report,[{supervisor,{local,kernel_sup}},{errorContext,start_error},{reason,shutdown},{offender,[{pid,undefined},{name,net_sup},{mfargs,{erl_distribution,start_link,[]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]}]}&lt;br&gt;{error_logger,{{2012,7,6},{13,32,21}},std_info,[{application,kernel},{exited,{shutdown,{kernel,start,[normal,[]]}}},{type,permanent}]}&lt;br&gt;{&quot;Kern<br>
&nbsp;el&nbsp;pid&nbsp;terminated&quot;,application_controller,&quot;{application_start_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}}&quot;}&lt;br&gt;&lt;br&gt;Crash&nbsp;dump&nbsp;was&nbsp;written&nbsp;to:&nbsp;erl_crash.dump&lt;br&gt;Kernel&nbsp;pid&nbsp;terminated&nbsp;(application_controller)&nbsp;({application_start_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}})&lt;br&gt;&lt;br&gt;&lt;br&gt;I&nbsp;ran&nbsp;it&nbsp;on&nbsp;a&nbsp;server&nbsp;with&nbsp;public&nbsp;IP&nbsp;183.*.*.*&nbsp;.&lt;br&gt;&lt;br&gt;In&nbsp;Erlang&nbsp;src,&nbsp;I&nbsp;found&nbsp;that&nbsp;epmd&nbsp;checks&nbsp;connection&nbsp;src.&nbsp;&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;/*&nbsp;Determine&nbsp;if&nbsp;connection&nbsp;is&nbsp;from&nbsp;localhost&nbsp;*/&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;if&nbsp;(getpeername(s-&amp;gt;fd,(struct&nbsp;sockaddr*)&nbsp;&amp;amp;si,&amp;amp;st)&nbsp;||&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;st&nbsp;&amp;lt;&nbsp;sizeof(si))&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;/*&nbsp;Failure&nbsp;to&nbsp;get&nbsp;peername&nbsp;is&nbsp;regarded&nbsp;as&nbsp;non&nbsp;local&nbsp;host&nbsp;*/&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;s-&amp;gt;local_peer&nbsp;=&nbsp;EPMD_FALSE;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&nbsp;else&nbsp;{&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;/*<br>
&nbsp;&nbsp;Only&nbsp;127.x.x.x&nbsp;and&nbsp;connections&nbsp;from&nbsp;the&nbsp;host's&nbsp;IP&nbsp;address&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;allowed,&nbsp;no&nbsp;false&nbsp;positives&nbsp;*/&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;s-&amp;gt;local_peer&nbsp;=&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#FF0000&quot;&gt;(((((unsigned)&nbsp;ntohl(si.sin_addr.s_addr))&nbsp;&amp;amp;&nbsp;0xFF000000U)&nbsp;==&lt;/font&gt;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#FF0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#FF0000&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;0x7F000000U)&nbsp;||&lt;/font&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#FF0000&quot;&gt;&nbsp;(getsockname(s-&amp;gt;fd,(struct&nbsp;sockaddr*)&nbsp;&amp;amp;di,&amp;amp;st)&nbsp;?&lt;/font&gt;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#FF0000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#FF0000&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;EPMD_FALSE&nbsp;:&nbsp;si.sin_addr.s_addr&nbsp;==&nbsp;di.s<br>
&nbsp;in_addr.s_addr));&lt;/font&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;dbg_tty_printf(g,2,(s-&amp;gt;local_peer)&nbsp;?&nbsp;&quot;Local&nbsp;peer&nbsp;connected&quot;&nbsp;:&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&quot;Non-local&nbsp;peer&nbsp;connected&quot;);&lt;br&gt;&lt;br&gt;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#000000&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#000000&quot;&gt;But&nbsp;unfortunately,&nbsp;&lt;/font&gt;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#000000&quot;&gt;si.sin_addr.s_addr&nbsp;was&nbsp;183.*.*.*&lt;/font&gt;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#000000&quot;&gt;,&nbsp;while&nbsp;&lt;/font&gt;&lt;font&nbsp;style=&quot;&quot;&nbsp;color=&quot;#000000&quot;&gt;di.sin_addr.s_addr&nbsp;was&nbsp;127.0.0.1&lt;/font&gt;&lt;br&gt;&lt;br&gt;My&nbsp;log£ºChecking&nbsp;peer&nbsp;address,&nbsp;getsockname&nbsp;ret:&nbsp;0,&nbsp;si_addr=0xb7??????,&nbsp;di_addr=0x7f000001&lt;br&gt;&lt;br&gt;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;to&nbsp;force&nbsp;RabbitMQ&nbsp;server&nbsp;connect&nbsp;epmd&nbsp;via&nbsp;a&nbsp;specified&nbsp;address£¿&lt;br&gt;&lt;br&gt;Thanks&nbsp;a&nbsp;lot.&lt;br&gt;&lt;br&gt;He&nbsp;Bin&lt;br&gt;&lt;br&gt;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
