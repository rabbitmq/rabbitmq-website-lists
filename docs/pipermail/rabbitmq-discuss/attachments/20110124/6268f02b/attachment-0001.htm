<tt>
&lt;div&gt;Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ve&nbsp;developed&nbsp;an&nbsp;application&nbsp;that&nbsp;consumes&nbsp;messages&nbsp;from&nbsp;a&nbsp;queue&nbsp;(&amp;quot;events&nbsp;queue&amp;quot;)&nbsp;and&nbsp;depending&nbsp;on&nbsp;their&nbsp;data&lt;/div&gt;&lt;div&gt;it&nbsp;publishes&nbsp;(per&nbsp;received&nbsp;message)&nbsp;a&nbsp;message&nbsp;to&nbsp;another&nbsp;queue&nbsp;(&amp;quot;results&nbsp;queue&amp;quot;)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;logic&nbsp;that&nbsp;checks&nbsp;the&nbsp;content&nbsp;of&nbsp;the&nbsp;received&nbsp;messages&nbsp;is&nbsp;publishing&nbsp;messages&nbsp;using&nbsp;BasicPublish&nbsp;(with&nbsp;mandatory=2,&nbsp;immediate=false&nbsp;and&nbsp;setting&lt;/div&gt;&lt;div&gt;deliveryMode=2&nbsp;to&nbsp;the&nbsp;messages&nbsp;to&nbsp;be&nbsp;sent)&lt;/div&gt;<br>
&lt;div&gt;My&nbsp;concern&nbsp;is&nbsp;that&nbsp;BasicPublish&nbsp;is&nbsp;asynchronous&nbsp; and&nbsp;the&nbsp;only&nbsp;exception&nbsp;I&nbsp;can&nbsp;get&nbsp;is&nbsp;when&nbsp;there&nbsp;is&nbsp;no&nbsp;connection&nbsp;to&nbsp;RabbitMQ&nbsp;or&nbsp;the&nbsp;destination&nbsp;exchange&nbsp;does&nbsp;not&nbsp;exist.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Since&nbsp;the&nbsp;application&nbsp;logic&nbsp;at&nbsp;this&nbsp;point&nbsp;is&nbsp;synchronous&nbsp;I&nbsp;can&amp;#39;t&nbsp;use&nbsp;BasicReturn&nbsp;in&nbsp;order&nbsp;to&nbsp;use&nbsp;a&nbsp;handler&nbsp;when&nbsp;messages&nbsp;can&amp;#39;t&nbsp;be&nbsp;delivered.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ve&nbsp;been&nbsp;googling&nbsp;a&nbsp;lot&nbsp;and&nbsp;some&nbsp;people&nbsp;suggested&nbsp;using&nbsp;this&nbsp;schema: &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;ch.TxSelect()&lt;/div&gt;&lt;div&gt;ch.BasicPublish(.....)&lt;/div&gt;&lt;div&gt;ch.TxCommit()&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;also&nbsp;is&nbsp;suggested&nbsp;that&nbsp;&amp;quot;commit-ok&amp;quot;&nbsp;will&nbsp;be&nbsp;returned&nbsp;if&nbsp;the&nbsp;message&nbsp;has&nbsp;been&nbsp;published&nbsp;safely&nbsp;to&nbsp;the&nbsp;broker.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Reading&nbsp;the&nbsp;API&nbsp;user&nbsp;guide&nbsp;I&amp;#39;ve&nbsp;found&nbsp;that&nbsp;this&nbsp;is&nbsp;called&nbsp;&amp;quot;transfer&nbsp;responsibility&amp;quot;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Copy&nbsp;&amp;amp;&nbsp;paste&nbsp;follows:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&lt;/div&gt;&lt;div&gt;To&nbsp;transfer&nbsp;responsibility&nbsp;for&nbsp;delivery&nbsp;of&nbsp;a&nbsp;message&nbsp;to&nbsp;a&nbsp;broker&lt;/div&gt;<br>
&lt;div&gt;•&nbsp;ensure&nbsp;(ahead&nbsp;of&nbsp;time)&nbsp;that&nbsp;the&nbsp;target&nbsp;queue&nbsp;exists&nbsp;and&nbsp;is&nbsp;durable,&lt;/div&gt;&lt;div&gt;•&nbsp;select&nbsp;Tx&nbsp;mode&nbsp;using&nbsp;IModel.TxSelect,&lt;/div&gt;&lt;div&gt;•&nbsp;publish&nbsp;the&nbsp;message&nbsp;with&nbsp;the&nbsp;&amp;quot;mandatory&amp;quot;&nbsp;flag&nbsp;set&nbsp;and&nbsp;DeliveryMode&nbsp;set&nbsp;equal&nbsp;to&nbsp;2,&nbsp;and&lt;/div&gt;<br>
&lt;div&gt;•&nbsp;commit&nbsp;the&nbsp;Tx&nbsp;transaction&nbsp;using&nbsp;IModel.TxCommit.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Once&nbsp;a&nbsp;broker&nbsp;replies&nbsp;with&nbsp;CommitOk&nbsp;(i.e.&nbsp;the&nbsp;TxCommit()&nbsp;call&nbsp;returns&nbsp;to&nbsp;the&nbsp;caller),&nbsp;it&nbsp;has&nbsp;taken&lt;/div&gt;&lt;div&gt;responsibility&nbsp;for&nbsp;keeping&nbsp;the&nbsp;message&nbsp;on&nbsp;disk&nbsp;and&nbsp;on&nbsp;the&nbsp;target&nbsp;queue&nbsp;until&nbsp;some&nbsp;other&nbsp;application&lt;/div&gt;<br>
&lt;div&gt;retrieves&nbsp;and&nbsp;acknowledges&nbsp;the&nbsp;message.&lt;/div&gt;&lt;div&gt;A&nbsp;commit&nbsp;is&nbsp;not&nbsp;required&nbsp;after&nbsp;every&nbsp;message:&nbsp;batching&nbsp;of&nbsp;publications&nbsp;may&nbsp;be&nbsp;done,&nbsp;depending&nbsp;on&nbsp;the&lt;/div&gt;&lt;div&gt;precise&nbsp;delivery&nbsp;guarantees&nbsp;the&nbsp;publishing&nbsp;application&nbsp;requires.&lt;/div&gt;<br>
&lt;div&gt;Responsibility&nbsp;can&nbsp;also&nbsp;be&nbsp;placed&nbsp;with&nbsp;an&nbsp;external&nbsp;database,&nbsp;even&nbsp;further&nbsp;along&nbsp;the&nbsp;chain&nbsp;-&nbsp;see&nbsp;the&nbsp;section&lt;/div&gt;&lt;div&gt;on&nbsp;interaction&nbsp;with&nbsp;external&nbsp;resources&nbsp;below&lt;/div&gt;&lt;div&gt;---&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;question&nbsp;is: &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Being&nbsp;TxCommit&nbsp;a&nbsp;void&nbsp;function&nbsp;I&nbsp;tested&nbsp;this&nbsp;block&nbsp;of&nbsp;code&nbsp;using&nbsp;a&nbsp;non-existing&nbsp;routing&nbsp;key&nbsp;and&nbsp;I&nbsp;didn&amp;#39;t&nbsp;get&nbsp;any&nbsp;exception.&lt;/div&gt;&lt;div&gt;Since&nbsp;safe&nbsp;publishing&nbsp;would&nbsp;be&nbsp;highly&nbsp;desiderable&nbsp;non&nbsp;routed&nbsp;messages&nbsp;should&nbsp;be&nbsp;detected&nbsp;because&nbsp;the&nbsp;application&nbsp;ACKs&nbsp;the&nbsp;messages&nbsp;of&nbsp;&amp;quot;events&nbsp;queue&amp;quot;&lt;/div&gt;<br>
&lt;div&gt;when&nbsp;after&nbsp;evaluating&nbsp;its&nbsp;content&nbsp;has&nbsp;successfully&nbsp;sent&nbsp;another&nbsp;message&nbsp;to&nbsp;the&nbsp;&amp;quot;results&nbsp;queue&amp;quot;&nbsp;(currently&nbsp;if&nbsp;a&nbsp;a&nbsp;routing&nbsp;key&nbsp;is&nbsp;not&nbsp;being&nbsp;routed&nbsp;to&nbsp;a&nbsp;queue&nbsp;the&nbsp;messages&nbsp;are&nbsp;silently&nbsp;dropped&nbsp;and&nbsp;I&nbsp;have&nbsp;no&nbsp;way&nbsp;to&nbsp;detect&nbsp;the&nbsp;failure&nbsp;so&nbsp;the&nbsp;application&nbsp;ACKs&nbsp;the&nbsp;messages&nbsp;from&nbsp;&amp;quot;events&nbsp;queue&amp;quot;)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Please,&nbsp;can&nbsp;someone&nbsp;tell&nbsp;me&nbsp;how&nbsp;I&nbsp;can&amp;#39;t&nbsp;get&nbsp;that&nbsp;&amp;quot;CommitOK&amp;quot;&nbsp;responses?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;in&nbsp;advance.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Alfonso&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;PS:&nbsp;I&amp;#39;m&nbsp;using&nbsp;the&nbsp;API&nbsp;version&nbsp;1.7.2&nbsp;and&nbsp;RabbitMQ&nbsp;server&nbsp;is&nbsp;the&nbsp;same&nbsp;version.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
