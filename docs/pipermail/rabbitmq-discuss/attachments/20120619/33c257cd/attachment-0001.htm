<tt>
Matthias,&lt;br&gt;&lt;br&gt;When&nbsp;2.8.2&nbsp;rolled,&nbsp;we&nbsp;also&nbsp;got&nbsp;snagged&nbsp;by&nbsp;this. &nbsp;It&nbsp;was&nbsp;actually&nbsp;a&nbsp;bit&nbsp;of&nbsp;a&nbsp;mess&nbsp;for&nbsp;us. &nbsp;Like&nbsp;a&nbsp;lot&nbsp;of&nbsp;companies,&nbsp;we&nbsp;are&nbsp;lean&nbsp;on&nbsp;administrators&nbsp;(500+&nbsp;servers&nbsp;per&nbsp;administrator)&nbsp;and&nbsp;fast&nbsp;moving. &nbsp;Rabbit&nbsp;is&nbsp;newer&nbsp;in&nbsp;our&nbsp;infrastructure&nbsp;but&nbsp;its&nbsp;been&nbsp;really&nbsp;stable,&nbsp;so&nbsp;we&nbsp;had&nbsp;classified&nbsp;it&nbsp;as&nbsp;&amp;quot;production&nbsp;safe&amp;quot;&nbsp;for&nbsp;both&nbsp;the&nbsp;application&nbsp;and&nbsp;its&nbsp;packaging. &nbsp;In&nbsp;our&nbsp;case,&nbsp;we&amp;#39;ve&nbsp;re-classified&nbsp;the&nbsp;packaging&nbsp;as&nbsp;&amp;quot;development&amp;quot;&nbsp;meaning&nbsp;that&nbsp;when&nbsp;a&nbsp;new&nbsp;version&nbsp;rolls,&nbsp;it&nbsp;has&nbsp;to&nbsp;be&nbsp;manually&nbsp;upgraded&nbsp;(sent&nbsp;through&nbsp;the&nbsp;QA&nbsp;process&nbsp;to&nbsp;test&nbsp;for&nbsp;this&nbsp;sort&nbsp;of&nbsp;breakage.)&lt;br&gt;<br>
&lt;br&gt;Its&nbsp;getting&nbsp;more&nbsp;and&nbsp;more&nbsp;common&nbsp;for&nbsp;our&nbsp;machines&nbsp;to&nbsp;have&nbsp;large&nbsp;memory&nbsp;spaces,&nbsp;and&nbsp;more&nbsp;and&nbsp;more&nbsp;common&nbsp;that&nbsp;applications&nbsp;run&nbsp;almost&nbsp;entirely&nbsp;out&nbsp;of&nbsp;memory. &nbsp;My&nbsp;guess&nbsp;is&nbsp;that&nbsp;others&nbsp;see&nbsp;the&nbsp;same&nbsp;trend&nbsp;upwards&nbsp;in&nbsp;memory&nbsp;size...&nbsp;so&nbsp;this&nbsp;is&nbsp;probably&nbsp;something&nbsp;you&amp;#39;ll&nbsp;continue&nbsp;to&nbsp;have&nbsp;more&nbsp;issues&nbsp;with&nbsp;rather&nbsp;than&nbsp;less. &nbsp;Given&nbsp;that&nbsp;trend,&nbsp;I&amp;#39;d&nbsp;recommend&nbsp;that&nbsp;the&nbsp;packaging&nbsp;check&nbsp;for&nbsp;this&nbsp;state&nbsp;(if&nbsp;upgrading&nbsp;from&nbsp;&amp;lt;2.8.2)&nbsp;and&nbsp;fail&nbsp;the&nbsp;upgrade&nbsp;if&nbsp;the&nbsp;appropriate&nbsp;values&nbsp;aren&amp;#39;t&nbsp;set&nbsp;(i.e.&nbsp;you&amp;#39;ll&nbsp;end&nbsp;up&nbsp;with&nbsp;a&nbsp;failed&nbsp;Rabbit&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;upgrade.)  &nbsp;For&nbsp;people&nbsp;starting&nbsp;with&nbsp;2.8.2+,&nbsp;you&nbsp;might&nbsp;consider&nbsp;re-visiting&nbsp;the&nbsp;hard&nbsp;failure&nbsp;and&nbsp;making&nbsp;this&nbsp;a&nbsp;warning&nbsp;state&nbsp;instead... &nbsp;seems&nbsp;to&nbsp;me&nbsp;there&amp;#39;s&nbsp;a&nbsp;valid&nbsp;argument&nbsp;to&nbsp;throw&nbsp;a&nbsp;warning&nbsp;here&nbsp;rather&nbsp;than&nbsp;blocking&nbsp;(however,&nbsp;I&nbsp;could&nbsp;be&nbsp;entirely&nbsp;incorrect&nbsp;about&nbsp;that.)&lt;br&gt;<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Jun&nbsp;18,&nbsp;2012&nbsp;at&nbsp;4:08&nbsp;PM,&nbsp;Matthias&nbsp;Radestock&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
On&nbsp;18/06/12&nbsp;20:22,&nbsp;Philip&nbsp;K.&nbsp;Warren&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
We&nbsp;have&nbsp;encountered&nbsp;issues&nbsp;in&nbsp;RabbitMQ&nbsp;2.8.2&nbsp;and&nbsp;greater&nbsp;with&nbsp;the&lt;br&gt;<br>
default&nbsp;&amp;#39;disk_free_limit&amp;#39;&nbsp;monitoring.&nbsp;If&nbsp;you&nbsp;are&nbsp;running&nbsp;on&nbsp;a&nbsp;system&lt;br&gt;<br>
with&nbsp;more&nbsp;available&nbsp;RAM&nbsp;than&nbsp;disk&nbsp;space&nbsp;out&nbsp;of&nbsp;the&nbsp;box,&nbsp;RabbitMQ&nbsp;will&lt;br&gt;<br>
block&nbsp;consumers&nbsp;in&nbsp;its&nbsp;default&nbsp;configuration.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
We&nbsp;are&nbsp;surprised&nbsp;by&nbsp;how&nbsp;many&nbsp;people&nbsp;get&nbsp;caught&nbsp;out&nbsp;by&nbsp;that.&lt;br&gt;<br>
&lt;br&gt;<br>
Are&nbsp;there&nbsp;perhaps&nbsp;some&nbsp;popular&nbsp;Amazon&nbsp;EC2&nbsp;images&nbsp;that&nbsp;are&nbsp;configured&nbsp;with&nbsp;very&nbsp;little&nbsp;disk&nbsp;space&nbsp;in&nbsp;/var/lib?&lt;br&gt;<br>
&lt;br&gt;<br>
Matthias.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;--&nbsp;&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
--&lt;br&gt;<br>
--&nbsp;Eric&nbsp;Bravick,&nbsp;CTO&lt;br&gt;<br>
--&nbsp;Spring&nbsp;Semantics,&nbsp;Inc.&lt;br&gt;--&nbsp;588&nbsp;Sutter&nbsp;St.&nbsp;#232<br>
&lt;br&gt;--&nbsp;San&nbsp;Francisco,&nbsp;CA&nbsp;94102&lt;br&gt;<br>
--&nbsp;Office&nbsp;=&nbsp;415.906.3853&lt;br&gt;<br>
--&nbsp;Email&nbsp;=&nbsp;&lt;a&nbsp;href=&quot;mailto:ebravick@springsemantics.com&quot;&nbsp;target=&quot;_blank&quot;&gt;ebravick@springsemantics.com&lt;/a&gt;&lt;br&gt;--&nbsp;ebravick&nbsp;on&nbsp;Google+&nbsp;and&nbsp;just&nbsp;about&nbsp;all&nbsp;Social&nbsp;Media&lt;br&gt;<br>
--&lt;br&gt;<br>
--&nbsp;All&nbsp;Communications&nbsp;Legally&nbsp;Bound&nbsp;by&nbsp;this&nbsp;Agreement:&nbsp;&lt;br&gt;--&nbsp;&lt;a&nbsp;href=&quot;http://springsemantics.com/confidential.html&quot;&nbsp;target=&quot;_blank&quot;&gt;springsemantics.com/confidential.html&lt;/a&gt;&lt;br&gt;<br>
--&lt;br&gt;<br>

</tt>
