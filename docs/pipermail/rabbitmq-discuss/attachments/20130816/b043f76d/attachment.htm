<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Again&nbsp;,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;reply. &lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;Sorry&nbsp;about&nbsp;not&nbsp;pasting&nbsp;code.&nbsp;But&nbsp;I&nbsp;realized&nbsp;that&nbsp;code&nbsp;is&nbsp;too&nbsp;long&nbsp;to&nbsp;directly&nbsp;paste&nbsp;so&nbsp;I&nbsp;attached&nbsp;files&nbsp;then&nbsp;but&nbsp;looks&nbsp;like&nbsp;they&nbsp;are&nbsp;not&nbsp;received&nbsp;so&nbsp;I&nbsp;am&nbsp;attaching&nbsp;again.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2)&nbsp;My&nbsp;exchange&nbsp; as&nbsp;well&nbsp;as&nbsp;queue&nbsp;names&nbsp;are&nbsp;not&nbsp;really&nbsp;long.&nbsp;Neither&nbsp;my&nbsp;routing&nbsp;key.&nbsp;For&nbsp;simplicity&nbsp;I&nbsp;just&nbsp;created&nbsp;exchange,&nbsp;queue&nbsp;and&nbsp;routing&nbsp;key&nbsp;as&nbsp;string&nbsp;&amp;#39;1&amp;#39;&nbsp;,&nbsp;&amp;#39;2&amp;#39;&nbsp;like&nbsp;that&nbsp;so&nbsp;that&nbsp;later&nbsp;if&nbsp;required&nbsp;it&amp;#39;s&nbsp;easy&nbsp;to&nbsp;automate.&nbsp;For&nbsp;now&nbsp;I&nbsp;just&nbsp;run&nbsp;manually. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;3)&nbsp;Regarding&nbsp;using&nbsp;faster&nbsp;client,&nbsp;I&nbsp;understand&nbsp;your&nbsp;point&nbsp;now&nbsp;and&nbsp;would&nbsp;definitely&nbsp;give&nbsp;a&nbsp;try&nbsp;and&nbsp;see&nbsp;how&nbsp;it&nbsp;goes.&nbsp;I&nbsp;am&nbsp;thinking&nbsp;to&nbsp;give&nbsp;a&nbsp;try&nbsp;for&nbsp;amqpc&nbsp;since&nbsp;it&nbsp;looks&nbsp;easy&nbsp;to&nbsp;give&nbsp;a&nbsp;try. &lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;4)&nbsp;If&nbsp;you&nbsp;can&nbsp;quickly&nbsp;have&nbsp;a&nbsp;look&nbsp;at&nbsp;my&nbsp;current&nbsp;publisher/consumer&nbsp;and&nbsp;give&nbsp;some&nbsp;higher&nbsp;level&nbsp;comments&nbsp;then&nbsp;it&nbsp;would&nbsp;help&nbsp;me&nbsp;to&nbsp;get&nbsp;direction. &lt;/div&gt;&lt;div&gt;In&nbsp;order&nbsp;to&nbsp;have&nbsp;easy&nbsp;start,&nbsp;I&nbsp;just&nbsp;adapted&nbsp;the&nbsp;examples&nbsp;of&nbsp;producer&nbsp;and&nbsp;consumer&nbsp;given&nbsp;on&nbsp;pika&nbsp;site&nbsp;and&nbsp;I&nbsp;have&nbsp;not&nbsp;really&nbsp;brought&nbsp;in&nbsp;any&nbsp;major&nbsp;changes&nbsp;since&nbsp;I&nbsp;wanted&nbsp;to&nbsp;get&nbsp;everything&nbsp;working&nbsp;and&nbsp;then&nbsp;slowly&nbsp;make&nbsp;improvements&nbsp;if&nbsp;really&nbsp;required&nbsp;to&nbsp;this&nbsp;code. &lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&nbsp;Regards,&lt;/div&gt;&lt;div&gt;Priyanki. &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Aug&nbsp;16,&nbsp;2013&nbsp;at&nbsp;5:45&nbsp;PM,&nbsp;Michael&nbsp;Klishin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mklishin@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mklishin@gopivotal.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Priyanki&nbsp;Vashi:&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;content&nbsp;header&nbsp;=&nbsp;88&nbsp;bytes&nbsp;(&nbsp;does&nbsp;not&nbsp;show&nbsp;any&nbsp;direct&nbsp;info&nbsp;so&nbsp;not&nbsp;sure)&lt;br&gt;<br>
&amp;gt;&nbsp;basic.publish&nbsp;frame&nbsp;=&nbsp;85&nbsp;bytes&nbsp;(&nbsp;shows&nbsp;details&nbsp;of&nbsp;queue,&nbsp;exchange,&nbsp;routing&nbsp;key&nbsp;etc)&lt;br&gt;<br>
&amp;gt;&nbsp;content&nbsp;body&nbsp;=&nbsp;137&nbsp;bytes&nbsp;(&nbsp;in&nbsp;this&nbsp;my&nbsp;payload&nbsp;is&nbsp;100&nbsp;bytes&nbsp;of&nbsp;string&nbsp;+&nbsp;37&nbsp;bytes&nbsp;might&nbsp;be&nbsp;checksum&nbsp;etc.)&lt;br&gt;<br>
&amp;gt;&nbsp;basic.ack&nbsp;=&nbsp;87&nbsp;bytes&nbsp;(shows&nbsp;delivery&nbsp;tag&nbsp;number)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;so&nbsp;from&nbsp;this&nbsp;I&nbsp;interpreted&nbsp;as&nbsp;297&nbsp;bytes&nbsp; non-payload&nbsp;+&nbsp;100&nbsp;bytes&nbsp;of&nbsp;actual&nbsp;payload&nbsp;=&nbsp;397&nbsp;total&nbsp;bytes&nbsp;for&nbsp;every&nbsp;message&nbsp;on&nbsp;wire.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Is&nbsp;this&nbsp;not&nbsp;normal&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&amp;#39;d&nbsp;need&nbsp;to&nbsp;sit&nbsp;down&nbsp;and&nbsp;calculate&nbsp;how&nbsp;many&nbsp;bytes&nbsp;would&nbsp;a&nbsp;bare&nbsp;content&nbsp;header&nbsp;be&nbsp;packed&nbsp;into&lt;br&gt;<br>
but&nbsp;it&amp;#39;s&nbsp;about&nbsp;right,&nbsp;except&nbsp;that&lt;br&gt;<br>
&lt;br&gt;<br>
 *&nbsp;content&nbsp;header&nbsp;and&nbsp;body&nbsp;will&nbsp;vary&nbsp;depending&nbsp;on&nbsp;what&nbsp;you&nbsp;publish,&nbsp;what&nbsp;values&nbsp;the&nbsp;properties&nbsp;have,&nbsp;etc&lt;br&gt;<br>
 *&nbsp;basic.ack&nbsp;is&nbsp;optional,&nbsp;that&nbsp;is,&nbsp;you&nbsp;can&nbsp;publish&nbsp;without&nbsp;acks&nbsp;(which&nbsp;trades&nbsp;safety&nbsp;for&nbsp;improved&nbsp;throughput)&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;slightly&nbsp;surprised&nbsp;that&nbsp;basic.publish&nbsp;frame&nbsp;is&nbsp;almost&nbsp;90&nbsp;bytes&nbsp;but&nbsp;it&nbsp;may&nbsp;be&nbsp;the&nbsp;case&nbsp;if&nbsp;e.g.&lt;br&gt;<br>
exchange&nbsp;name&nbsp;is&nbsp;unusually&nbsp;long.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;My&nbsp;publisher&nbsp;and&nbsp;consumer&nbsp;code&nbsp;looks&nbsp;like&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&nbsp;assume&nbsp;it&nbsp;wasn&amp;#39;t&nbsp;pasted&nbsp;by&nbsp;accident?&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;2)&nbsp;Regarding&nbsp;Interrupts&nbsp;and&nbsp;context&nbsp;switches&nbsp;point:&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;agree&nbsp;and&nbsp;understand&nbsp;what&nbsp;you&nbsp;said&nbsp;about&nbsp;context&nbsp;switch&nbsp;but&nbsp;I&nbsp;wanted&nbsp;to&nbsp;bring&nbsp;this&nbsp;up&nbsp;since&nbsp;I&nbsp;felt&nbsp;my&nbsp;CPU&nbsp;was&nbsp;spending&nbsp;lot&nbsp;of&nbsp;time&nbsp;in&nbsp;doing&nbsp;context&nbsp;switches&nbsp;and&nbsp;that&nbsp;could&nbsp;be&nbsp;one&nbsp;of&nbsp;the&nbsp;reason&nbsp;that&nbsp;I&nbsp;don&amp;#39;t&nbsp;get&nbsp;any&nbsp;higher&nbsp;throughput&nbsp;even&nbsp;if&nbsp;I&nbsp;increase&nbsp;number&nbsp;of&nbsp;producer&nbsp;and&nbsp;receiver.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
&lt;/div&gt;How&nbsp;many&nbsp;cores&nbsp;(logical)&nbsp;does&nbsp;your&nbsp;CPU&nbsp;have?&nbsp;Do&nbsp;you&nbsp;only&nbsp;run&nbsp;a&nbsp;publisher&nbsp;and&nbsp;RabbitMQ&nbsp;on&nbsp;this&nbsp;machine?&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;3)&nbsp;Regarding&nbsp;changing&nbsp;to&nbsp;faster&nbsp;clients&nbsp;like&nbsp;Java&nbsp;or&nbsp;amqpc:&lt;br&gt;<br>
&amp;gt;&nbsp;My&nbsp;current&nbsp;concern&nbsp;is&nbsp;not&nbsp;that&nbsp;I&nbsp;don&amp;#39;t&nbsp;have&nbsp;sufficinet&nbsp;throughout,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;understand&nbsp;given&nbsp;the&nbsp;fact&nbsp;later&nbsp;project&nbsp;need&nbsp;to&nbsp;use&nbsp;python&nbsp;based&nbsp;client&nbsp;and&nbsp;not&nbsp;java&nbsp;based&nbsp;client,&nbsp;would&nbsp;like&nbsp;to&nbsp;understand&nbsp;how&nbsp;system&nbsp;resources&nbsp;are&nbsp;used&nbsp;by&nbsp;rabbitmq.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
&lt;/div&gt;Seeing&nbsp;what&nbsp;kind&nbsp;of&nbsp;throughput&nbsp;you&nbsp;get&nbsp;with&nbsp;MulticastMain&nbsp;and/or&nbsp;amqpc&nbsp;will&nbsp;show&nbsp;you&lt;br&gt;<br>
how&nbsp;fast&nbsp;your&nbsp;hardware,&nbsp;network&nbsp;and&nbsp;RabbitMQ&nbsp;node&nbsp;can&nbsp;go.&nbsp;This&nbsp;can&nbsp;prove&nbsp;if&nbsp;you&lt;br&gt;<br>
are&nbsp;limited&nbsp;by&nbsp;your&nbsp;publisher&amp;#39;s&nbsp;performance.&lt;br&gt;<br>
&lt;br&gt;<br>
Then&nbsp;you&nbsp;can&nbsp;profile&nbsp;your&nbsp;publisher&nbsp;to&nbsp;see&nbsp;what&nbsp;takes&nbsp;time.&nbsp;I&nbsp;wasn&amp;#39;t&nbsp;suggesting&nbsp;that&nbsp;you&lt;br&gt;<br>
should&nbsp;just&nbsp;use&nbsp;Java&nbsp;for&nbsp;your&nbsp;project,&nbsp;only&nbsp;to&nbsp;see&nbsp;if&nbsp;you&nbsp;can&nbsp;get&nbsp;a&nbsp;noticeably&nbsp;better&lt;br&gt;<br>
throughput&nbsp;with&nbsp;a&nbsp;different&nbsp;client.&lt;br&gt;<br>
--&lt;br&gt;<br>
MK&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
