<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Simon,&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;I&amp;#39;m&nbsp;using&nbsp;the&nbsp;.NET&nbsp;library,&nbsp;specifically&nbsp;the&nbsp;EventingConsumer.&nbsp;I&amp;#39;m&nbsp;not&nbsp;setting&nbsp;the&nbsp;prefetch&nbsp;count,&nbsp;I&nbsp;will&nbsp;look&nbsp;into&nbsp;that.&lt;br&gt;&lt;/div&gt;Also,&nbsp;I&nbsp;will&nbsp;start&nbsp;doing&nbsp;some&nbsp;performance&nbsp;with&nbsp;PerfTest&nbsp;as&nbsp;suggested.&lt;br&gt;<br>
&lt;/div&gt;&lt;br&gt;&lt;/div&gt;Regarding&nbsp;Consumers,&nbsp;we&nbsp;have&nbsp;1&nbsp;per&nbsp;queue,&nbsp;that&amp;#39;s&nbsp;because&nbsp;we&nbsp;handle&nbsp;a&nbsp;lot&nbsp;(700)&nbsp;of&nbsp;queues.&nbsp;If&nbsp;increasing&nbsp;the&nbsp;Consumer&nbsp;count&nbsp;will&nbsp;have&nbsp;direct&nbsp;impact&nbsp;in&nbsp;the&nbsp;delivery,&nbsp;I&nbsp;can&nbsp;explore&nbsp;into&nbsp;that&nbsp;but&nbsp;I&nbsp;cannot&nbsp;match&nbsp;the&nbsp;Producer&nbsp;count,&nbsp;that&amp;#39;s&nbsp;for&nbsp;sure.&nbsp; &nbsp;&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you.&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Oct&nbsp;31,&nbsp;2013&nbsp;at&nbsp;9:54&nbsp;AM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;31/10/13&nbsp;12:48,&nbsp;Marcos&nbsp;Torres&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
We&amp;#39;re&nbsp;publising&nbsp;messages&nbsp;with&nbsp;a&nbsp;rate&nbsp;between&nbsp;1000&nbsp;msg/sec&nbsp;and&nbsp;2000&lt;br&gt;<br>
msg/sec&nbsp;in&nbsp;our&nbsp;dev&nbsp;machine.&nbsp;This&nbsp;is&nbsp;OK&nbsp;for&nbsp;us&nbsp;in&nbsp;our&nbsp;current&nbsp;dev&nbsp;status.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;problem&nbsp;is&nbsp;with&nbsp;the&nbsp;delivery/ack&nbsp;speed.&nbsp;We&amp;#39;re&nbsp;getting&nbsp;at&nbsp;most&nbsp;150&lt;br&gt;<br>
msg/sec&nbsp;with&nbsp;all&nbsp;our&nbsp;logic&nbsp;disabled&nbsp;:&nbsp;this&nbsp;means&nbsp;we&nbsp;are&nbsp;just&lt;br&gt;<br>
deserializing&nbsp;and&nbsp;ack&nbsp;the&nbsp;message.&lt;br&gt;<br>
This&nbsp;is&nbsp;creating&nbsp;a&nbsp;bottleneck.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;was&nbsp;excepting&nbsp;similar&nbsp;numers&nbsp;to&nbsp;publshing,&nbsp;now&nbsp;I&nbsp;wonder&nbsp;if&nbsp;my&lt;br&gt;<br>
assumption&nbsp;is&nbsp;correct.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
You&nbsp;should&nbsp;be&nbsp;able&nbsp;to&nbsp;get&nbsp;approximately&nbsp;similar&nbsp;performance&nbsp;at&nbsp;the&nbsp;consumer&nbsp;end&nbsp;as&nbsp;you&nbsp;get&nbsp;on&nbsp;the&nbsp;producer&nbsp;end.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;with&nbsp;that&nbsp;in&nbsp;mind:&lt;br&gt;<br>
&lt;br&gt;<br>
*&nbsp;Are&nbsp;you&nbsp;setting&nbsp;prefetch&nbsp;count&nbsp;(basic.qos)?&lt;br&gt;<br>
*&nbsp;Are&nbsp;you&nbsp;using&nbsp;a&nbsp;different&nbsp;client&nbsp;library?&lt;br&gt;<br>
*&nbsp;How&nbsp;many&nbsp;consumers&nbsp;are&nbsp;you&nbsp;attaching&nbsp;to&nbsp;a&nbsp;queue?&lt;br&gt;<br>
*&nbsp;What&nbsp;performance&nbsp;do&nbsp;you&nbsp;get&nbsp;consuming&nbsp;the&nbsp;messages&nbsp;with&nbsp;PerfTest?&lt;br&gt;<br>
&lt;br&gt;<br>
$&nbsp;runjava.sh&nbsp;com.rabbitmq.examples.PerfTest&nbsp;-h&nbsp;amqp://user:pass@server&nbsp;-x0&nbsp;-p&nbsp;-u&nbsp;&amp;lt;queue-name&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Simon&nbsp;MacMullen&lt;br&gt;<br>
RabbitMQ,&nbsp;Pivotal&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
