<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;text=&quot;#000000&quot;&nbsp;bgcolor=&quot;#ffffff&quot;&gt;<br>
Hi&nbsp;Alex!&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;module&amp;nbsp;&nbsp;works&nbsp;now&nbsp;so&nbsp;far.&nbsp;But&nbsp;there&nbsp;is&nbsp;the&nbsp;next&nbsp;Problem&nbsp;:)&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;I&nbsp;follow&nbsp;this&nbsp;Example&nbsp;my&nbsp;code&nbsp;stops&nbsp;and&nbsp;does&nbsp;not&nbsp;return&lt;span<br>
&nbsp;class=&quot;com&quot;&gt;&lt;br&gt;<br>
&lt;tt&gt;&lt;br&gt;<br>
&amp;lt;?php&lt;br&gt;<br>
&lt;br&gt;<br>
$cnn&nbsp;=&nbsp;new&nbsp;AMQPConnect&nbsp;(array&nbsp;('port'=&amp;gt;5672,&nbsp;'login'&nbsp;=&amp;gt;<br>
'live_rabbit','password'=&amp;gt;'lostpassword','vhost'=&amp;gt;'/testhost'&nbsp;));&lt;br&gt;<br>
$exchange&nbsp;=&nbsp;new&nbsp;AMQPExchange($cnn);&lt;br&gt;<br>
&lt;br&gt;<br>
$queue&nbsp;=&nbsp;new&nbsp;AMQPQueue($cnn);&lt;br&gt;<br>
$queue-&amp;gt;declare('me',&nbsp;AMQP_AUTEDELETE&nbsp;|&nbsp;AMQP_DURABLE);&lt;br&gt;<br>
print&nbsp;&quot;new&nbsp;Exchange&quot;.PHP_EOL;&lt;br&gt;<br>
$exchange-&amp;gt;declare('ex_name','topic');&lt;br&gt;<br>
print&nbsp;&quot;declare&nbsp;Exchange&quot;.PHP_EOL;&lt;br&gt;<br>
$exchange-&amp;gt;bind('me','beta.*');&lt;br&gt;<br>
print&nbsp;&quot;bind&nbsp;Exchange&quot;.PHP_EOL;&lt;br&gt;<br>
$msg&nbsp;=&nbsp;&quot;Hello&nbsp;World&quot;;&lt;br&gt;<br>
$res&nbsp;=&nbsp;$exchange-&amp;gt;publish(&nbsp;$msg,&nbsp;'beta.me');&lt;/tt&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
#########&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;php&nbsp;rabbit.php&lt;br&gt;<br>
new&nbsp;Exchange&lt;br&gt;<br>
declare&nbsp;Exchange&lt;br&gt;<br>
&lt;br&gt;<br>
###########&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;never&nbsp;reaches&nbsp;the&nbsp;bind&nbsp;Exchange&nbsp;line.&nbsp;I&nbsp;attached&nbsp;the&nbsp;log&nbsp;of&nbsp;my<br>
RabbitMQ&nbsp;Server&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/span&gt;<br>
&lt;pre&nbsp;class=&quot;prettyprint&quot;&gt;&lt;a&nbsp;name=&quot;EXAMPLE&quot;&gt;&lt;span&nbsp;class=&quot;pun&quot;&gt;Logfile&nbsp;RabbitMQ<br>
<br>
###########<br>
<br>
=INFO&nbsp;REPORT====&nbsp;10-Feb-2010::12:19:42&nbsp;===<br>
accepted&nbsp;TCP&nbsp;connection&nbsp;on&nbsp;0.0.0.0:5672&nbsp;from&nbsp;127.0.0.1:44776<br>
<br>
=INFO&nbsp;REPORT====&nbsp;10-Feb-2010::12:19:42&nbsp;===<br>
starting&nbsp;TCP&nbsp;connection&nbsp;&amp;lt;0.8351.0&amp;gt;&nbsp;from&nbsp;127.0.0.1:44776<br>
<br>
##########&nbsp;after&nbsp;pressing&nbsp;ctrl-c&nbsp;within&nbsp;the&nbsp;shell&nbsp;with&nbsp;the&nbsp;running&nbsp;rabbit.php&nbsp;testscript.&nbsp;#############<br>
<br>
<br>
=WARNING&nbsp;REPORT====&nbsp;10-Feb-2010::12:19:48&nbsp;===<br>
exception&nbsp;on&nbsp;TCP&nbsp;connection&nbsp;&amp;lt;0.8351.0&amp;gt;&nbsp;from&nbsp;127.0.0.1:44776<br>
connection_closed_abruptly<br>
<br>
=INFO&nbsp;REPORT====&nbsp;10-Feb-2010::12:19:48&nbsp;===<br>
closing&nbsp;TCP&nbsp;connection&nbsp;&amp;lt;0.8351.0&amp;gt;&nbsp;from&nbsp;127.0.0.1:44776<br>
<br>
<br>
#############<br>
<br>
&lt;/span&gt;&lt;/a&gt;&lt;/pre&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;cite=&quot;mid:E1Nf9z2-0007mg-00.akalend-mail-ru@f16.mail.ru&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Hey&nbsp;ho,<br>
<br>
After&nbsp;doing&nbsp;this&nbsp;:<br>
<br>
/update/rabbit#&nbsp;phpize5&nbsp;&amp;amp;&amp;amp;&nbsp;./configure&nbsp;--with-rabbit&nbsp;&amp;amp;&amp;amp;&nbsp;make&nbsp;&amp;amp;&amp;amp;&nbsp;make&nbsp;install<br>
/update/rabbit#&nbsp;ldconfig<br>
<br>
I&nbsp;get:<br>
<br>
PHP&nbsp;Warning:&nbsp;&nbsp;PHP&nbsp;Startup:&nbsp;Invalid&nbsp;library&nbsp;(maybe&nbsp;not&nbsp;a&nbsp;PHP&nbsp;library)&nbsp;<br>
'rabbit.so'&nbsp;&nbsp;in&nbsp;Unknown&nbsp;on&nbsp;line&nbsp;0<br>
Exception:&nbsp;Extension&nbsp;rabbit&nbsp;does&nbsp;not&nbsp;exist<br>
<br>
<br>
I&nbsp;used&nbsp;Alex's&nbsp;trunk&nbsp;from&nbsp;subversion&nbsp;and&nbsp;I&nbsp;have&nbsp;ubuntu&nbsp;with&nbsp;php&nbsp;5.2.6&nbsp;<br>
without&nbsp;any&nbsp;special&nbsp;options!<br>
<br>
Ideas?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
I&nbsp;will&nbsp;stady,&nbsp;why&nbsp;cannot&nbsp;compile&nbsp;module.<br>
<br>
Can&nbsp;are&nbsp;You&nbsp;comlipe&nbsp;PHP&nbsp;static&nbsp;?<br>
./configure&nbsp;--with-rabbit&nbsp;....<br>
<br>
<br>
Alexandre<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Am&nbsp;10.02.2010&nbsp;11:35,&nbsp;schrieb&nbsp;Alexandre&nbsp;Kalendarev:<br>
&lt;blockquote&nbsp;cite=&quot;mid:E1Nf9vF-0005sL-00.akalend-mail-ru@f13.mail.ru&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://code.google.com/p/php-rabbit/source/browse/trunk/rabbit.c#154&quot;&gt;http://code.google.com/p/php-rabbit/source/browse/trunk/rabbit.c#154&lt;/a&gt;<br>
Change<br>
#ifdef&nbsp;COMPILE_DL_AMQP<br>
to<br>
#ifdef&nbsp;COMPILE_DL_RABBIT<br>
AJ<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
&nbsp;fix&nbsp;in&nbsp;svn<br>
<br>
Alexandre<br>
<br>
_______________________________________________<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
