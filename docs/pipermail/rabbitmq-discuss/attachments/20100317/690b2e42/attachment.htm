<tt>
Hi&nbsp;Mattew,&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Mar&nbsp;17,&nbsp;2010&nbsp;at&nbsp;9:44&nbsp;AM,&nbsp;Matthew&nbsp;Sackman&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthew@lshift.net&quot;&gt;matthew@lshift.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
Hi,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;Wed,&nbsp;Mar&nbsp;17,&nbsp;2010&nbsp;at&nbsp;09:12:47AM&nbsp;-0300,&nbsp;Gustavo&nbsp;Aquino&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;run&nbsp;RabbitMQ&nbsp;using&nbsp;80Gb&nbsp;of&nbsp;memory,&nbsp;so&nbsp;I&amp;#39;m&nbsp;trying&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;configure&nbsp;it&nbsp;using&nbsp;the&nbsp;Rabbit&nbsp;guide&nbsp;where&nbsp;told&nbsp;to&nbsp;put&nbsp;simple&nbsp;line&nbsp;in&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq.conf,&nbsp;ok&nbsp;I&nbsp;open&nbsp;my&nbsp;rabbitmq.conf&nbsp;and&nbsp;put&nbsp;this&nbsp;line&nbsp;and&nbsp;just&lt;br&gt;<br>
&amp;gt;&nbsp;changing&nbsp;0.4&nbsp;to&nbsp;0.8&nbsp;but&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;work,&nbsp;when&nbsp;I&nbsp;start&nbsp;Rabbit&nbsp;it&nbsp;don&amp;#39;t&lt;br&gt;<br>
&amp;gt;&nbsp;recognize&nbsp;configuration.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;The&nbsp;0.4&nbsp;is&nbsp;a&nbsp;scaling&nbsp;of&nbsp;the&nbsp;RAM&nbsp;that&nbsp;Rabbit&nbsp;detects&nbsp;in&nbsp;your&nbsp;machine.&lt;br&gt;<br>
Furthermore,&nbsp;as&nbsp;the&nbsp;documentation&nbsp;says,&nbsp;it&nbsp;is&nbsp;*not*&nbsp;a&nbsp;limit&nbsp;for&nbsp;how&nbsp;much&lt;br&gt;<br>
RAM&nbsp;rabbit&nbsp;will&nbsp;use.&nbsp;As&nbsp;I&nbsp;pointed&nbsp;out&nbsp;in&nbsp;my&nbsp;other&nbsp;email,&nbsp;Erlang&nbsp;is&nbsp;a&lt;br&gt;<br>
GC&amp;#39;d&nbsp;language.&nbsp;The&nbsp;0.4&nbsp;simply&nbsp;says&nbsp;that&nbsp;channel.flow&nbsp;will&nbsp;be&nbsp;invoked&lt;br&gt;<br>
once&nbsp;0.4&nbsp;of&nbsp;available&nbsp;RAM&nbsp;has&nbsp;been&nbsp;used&nbsp;by&nbsp;Rabbit.&nbsp;This&nbsp;does&nbsp;not&lt;br&gt;<br>
preclude&nbsp;Rabbit&nbsp;from&nbsp;using&nbsp;more&nbsp;than&nbsp;0.4&nbsp;-&nbsp;the&nbsp;GC&nbsp;events&nbsp;may&nbsp;cause&nbsp;up&nbsp;to&lt;br&gt;<br>
twice&nbsp;this&nbsp;to&nbsp;be&nbsp;used.&nbsp;In&nbsp;addition,&nbsp;it&nbsp;is&nbsp;beneficial&nbsp;to&nbsp;allow&nbsp;your&nbsp;OS&nbsp;to&lt;br&gt;<br>
have&nbsp;some&nbsp;RAM&nbsp;available&nbsp;for&nbsp;disk&nbsp;caches,&nbsp;thus&nbsp;allowing&nbsp;it&nbsp;to&nbsp;be&nbsp;able&nbsp;to&lt;br&gt;<br>
satisfy&nbsp;reads&nbsp;without&nbsp;having&nbsp;to&nbsp;go&nbsp;to&nbsp;disk.&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Ok,&nbsp;I&amp;#39;m&nbsp;trying&nbsp;this approach to&nbsp;found&nbsp;a&nbsp;solutions&nbsp;to&nbsp;solve&nbsp;a&nbsp;problem&nbsp;that&nbsp;I&nbsp;reported&nbsp;here&nbsp;that&nbsp;RabbitMQ&nbsp;crash&nbsp;when&nbsp;my&nbsp;queue&nbsp;size&nbsp;take&nbsp;a&nbsp;big&nbsp;volume,&nbsp;always&nbsp;time&nbsp;that&nbsp;queue&nbsp;size&nbsp;have&nbsp;~700.000/200Bytes messages Rabbit&nbsp;simple&nbsp;crash&nbsp;and&nbsp;don&amp;#39;t&nbsp;write&nbsp;any&nbsp;log.&nbsp;This&nbsp;is&nbsp;my&nbsp;big&nbsp;concerns&nbsp;once&nbsp;we&nbsp;don&amp;#39;t&nbsp;have&nbsp;a&nbsp;good&nbsp;way&nbsp;to&nbsp;monitoring&nbsp;queue&nbsp;size&nbsp;(i.e&nbsp;messages&nbsp;buffers&nbsp;and&nbsp;etc)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&amp;gt;&nbsp;rabbitmq.conf&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;[{rabbit,&nbsp;[{vm_memory_high_watermark,&nbsp;0.8}]}].&lt;br&gt;<br>
&amp;gt;&nbsp;NODENAME=rabbit@Nefertiti&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;The&nbsp;first&nbsp;line&nbsp;should&nbsp;be&nbsp;placed&nbsp;in&nbsp;rabbitmq.config.&nbsp;The&nbsp;second&nbsp;line&nbsp;is&lt;br&gt;<br>
valid&nbsp;for&nbsp;rabbitmq.conf.&nbsp;Note&nbsp;they&nbsp;are&nbsp;two&nbsp;very&nbsp;different&nbsp;files.&lt;br&gt;<br>
rabbitmq.config&nbsp;is&nbsp;an&nbsp;Erlang&nbsp;term&nbsp;file.&nbsp;rabbitmq.conf&nbsp;is&nbsp;sourced&nbsp;by&nbsp;the&lt;br&gt;<br>
various&nbsp;shell&nbsp;scripts&nbsp;thus&nbsp;is&nbsp;a&nbsp;location&nbsp;to&nbsp;configure&nbsp;shell&nbsp;variables.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Ohhh&nbsp;thanks...&nbsp;so&nbsp;we&nbsp;have&nbsp;two&nbsp;different&nbsp;config&nbsp;files..&nbsp;well&nbsp;thanks&nbsp;I&nbsp;really&nbsp;thought&nbsp;that&nbsp;this&nbsp;configurations&nbsp;live&nbsp;inside&nbsp;the&nbsp;same&nbsp;file.&nbsp;Know&nbsp;rabbit&nbsp;run&nbsp;ok.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
Matthew&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
