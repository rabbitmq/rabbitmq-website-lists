<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;trying&nbsp;to&nbsp;design&nbsp;a&nbsp;system&nbsp;which&nbsp;allows&nbsp;for&nbsp;real&nbsp;time&nbsp;notifications&nbsp;(sms,&nbsp;email,&nbsp;browser)&nbsp;on&nbsp;some&nbsp;topics.&nbsp;I'm&nbsp;having&nbsp;some&nbsp;doubts&nbsp;about&nbsp;the&nbsp;architecture&nbsp;and&nbsp;on&nbsp;how&nbsp;I'm&nbsp;planning&nbsp;to&nbsp;use&nbsp;RabbitMQ.&nbsp;I'm&nbsp;sorry&nbsp;if&nbsp;the&nbsp;question&nbsp;is&nbsp;naive,&nbsp;but&nbsp;I'm&nbsp;a&nbsp;newbie&nbsp;of&nbsp;RabbitMQ!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;====&nbsp;Requirements&nbsp;====&lt;/div&gt;&lt;div&gt;-&nbsp;User&nbsp;profiles&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;database.&nbsp;Each&nbsp;user&nbsp;profile&nbsp;contains&nbsp;the&nbsp;name&nbsp;of&nbsp;up&nbsp;to&nbsp;2&nbsp;&amp;nbsp;topic&nbsp;of&nbsp;interest&nbsp;(i.e.&nbsp;Server1.CPU&nbsp;and&nbsp;Server3.RAM.Temperature).&lt;/div&gt;&lt;div&gt;-&nbsp;Topic&nbsp;name&nbsp;won't&nbsp;change&nbsp;often&lt;/div&gt;&lt;div&gt;-&nbsp;Agents&nbsp;can&nbsp;post&nbsp;messages&nbsp;to&nbsp;a&nbsp;certain&nbsp;topic&nbsp;of&nbsp;interest&nbsp;(i.e.&nbsp;post&nbsp;messages&nbsp;to&nbsp;Server1.CPU&nbsp;or&nbsp;to&nbsp;Server1,&nbsp;the&nbsp;latter&nbsp;should&nbsp;be&nbsp;received&nbsp;by&nbsp;everyone&nbsp;subscribed&nbsp;to&nbsp;Server1.CPU&nbsp;or&nbsp;Server1.SomethingElse)&lt;/div&gt;&lt;div&gt;-&nbsp;User&nbsp;get&nbsp;notified&nbsp;using&nbsp;based&nbsp;on&nbsp;their&nbsp;choice&nbsp;(SMS&nbsp;to&nbsp;the&nbsp;phone&nbsp;number&nbsp;stored&nbsp;in&nbsp;their&nbsp;profile&nbsp;or&nbsp;to&nbsp;the&nbsp;email&nbsp;address.&nbsp;Could&nbsp;also&nbsp;be&nbsp;to&nbsp;the&nbsp;twitter&nbsp;account)!&lt;/div&gt;&lt;div&gt;-&nbsp;The&nbsp;system&nbsp;should&nbsp;be&nbsp;both&nbsp;vertically&nbsp;and&nbsp;horizontally&nbsp;scalable.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;====&nbsp;Architecture&nbsp;====&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;(1)&nbsp;Agents&nbsp;-&amp;gt;&nbsp;(2)&nbsp;Thin&nbsp;NodeJS&nbsp;RESTful&nbsp;API&nbsp;-&amp;gt;&nbsp;(3)&nbsp;CouchDB&nbsp;-&amp;gt;&nbsp;(4)_changes&nbsp;-&amp;gt;&nbsp;(5)&nbsp;CouchDB&nbsp;-&nbsp;RabbitMQ&nbsp;Bridge&nbsp;-&amp;gt;&nbsp;(6)&nbsp;Notifiers&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;Agents&nbsp;can&nbsp;be&nbsp;thought&nbsp;as&nbsp;services&nbsp;residing&nbsp;on&nbsp;a&nbsp;machine&nbsp;posting&nbsp;update&nbsp;messages&nbsp;to&nbsp;certain&nbsp;topics&nbsp;through&nbsp;the&nbsp;exposed&nbsp;API&lt;/div&gt;&lt;div&gt;2.&nbsp;The&nbsp;exposed&nbsp;API,&nbsp;which&nbsp;allows&nbsp;to&nbsp;add&nbsp;messages&nbsp;to&nbsp;the&nbsp;database&nbsp;(CouchDB)&nbsp;using&nbsp;a&nbsp;POST&nbsp;message&nbsp;call&lt;/div&gt;&lt;div&gt;3.&nbsp;CouchDB&nbsp;storing&nbsp;messages&nbsp;data,&nbsp;user&nbsp;data,&nbsp;etc.&lt;/div&gt;&lt;div&gt;4.&nbsp;A&nbsp;feed&nbsp;of&nbsp;changes&nbsp;coming&nbsp;from&nbsp;the&nbsp;DB&nbsp;which&nbsp;notifies&nbsp;(5)&nbsp;about&nbsp;new&nbsp;data&nbsp;in&nbsp;the&nbsp;DB&lt;/div&gt;&lt;div&gt;5.&nbsp;This&nbsp;point&nbsp;is&nbsp;a&nbsp;bit&nbsp;tricky&nbsp;and&nbsp;is&nbsp;where&nbsp;I'm&nbsp;having&nbsp;some&nbsp;doubts.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;was&nbsp;thinking&nbsp;about&nbsp;using&nbsp;routing&nbsp;keys&nbsp;and&nbsp;topics&nbsp;(&amp;nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/tutorials/tutorial-five-java.html&quot;&gt;http://www.rabbitmq.com/tutorials/tutorial-five-java.html&lt;/a&gt;&amp;nbsp;)&nbsp;and&nbsp;to&nbsp;let&nbsp;the&nbsp;CouchDB-RabbitMQ&nbsp;nodejs&nbsp;application&nbsp;publish&nbsp;the&nbsp;messages&nbsp;to&nbsp;the&nbsp;queue&nbsp;related&nbsp;to&nbsp;the&nbsp;topic&nbsp;of&nbsp;interest.&nbsp;Each&nbsp;queue&nbsp;acts&nbsp;as&nbsp;a&nbsp;task&nbsp;queue&nbsp;so&nbsp;that&nbsp;the&nbsp;load&nbsp;can&nbsp;be&nbsp;distributed&nbsp;among&nbsp;different&nbsp;instances&nbsp;of&nbsp;notifiers&nbsp;for&nbsp;EACH&nbsp;topic.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;6.&nbsp;When&nbsp;a&nbsp;notifier&nbsp;consumes&nbsp;a&nbsp;messages,&nbsp;it&nbsp;gets&nbsp;the&nbsp;relevant&nbsp;data&nbsp;from&nbsp;the&nbsp;database&nbsp;(i.e.&nbsp;mobile&nbsp;phone&nbsp;number&nbsp;for&nbsp;the&nbsp;SMS&nbsp;or&nbsp;twitter&nbsp;account&nbsp;name)&nbsp;and&nbsp;notifies&nbsp;the&nbsp;user.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;===&nbsp;Questions&nbsp;===&lt;/div&gt;&lt;div&gt;Is&nbsp;this&nbsp;a&nbsp;reasonable&nbsp;use&nbsp;case&nbsp;for&nbsp;RabbitMQ?&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;any&nbsp;feature&nbsp;of&nbsp;RabbitMQ&nbsp;I'm&nbsp;misusing&nbsp;or&nbsp;not&nbsp;considering&nbsp;properly?&lt;/div&gt;&lt;div&gt;Is&nbsp;the&nbsp;queue&nbsp;organization&nbsp;in&nbsp;RabbitMQ&nbsp;correct?&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;help,&lt;/div&gt;&lt;div&gt;Dexter&lt;/div&gt;
</tt>
