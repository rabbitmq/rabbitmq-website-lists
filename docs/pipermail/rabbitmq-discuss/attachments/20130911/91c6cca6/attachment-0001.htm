<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;If&nbsp;you&nbsp;are&nbsp;trying&nbsp;to&nbsp;cluster&nbsp;two&nbsp;nodes,&nbsp;consider&nbsp;following&nbsp;processes:&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;run&nbsp;rabbit@devserver&lt;/div&gt;&lt;div&gt;2.&nbsp;run&nbsp;rabbit@devagent&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;At&nbsp;node&nbsp;devagent,&lt;/div&gt;&lt;div&gt;3.1&nbsp;$&nbsp;rabbitmqctl&nbsp;stop_app&lt;/div&gt;&lt;div&gt;3.2&nbsp;$&nbsp;rabbitmqctl&nbsp;join_cluster&nbsp;rabbit@devserver&lt;/div&gt;&lt;div&gt;3.3&nbsp;$&nbsp;rabbitmqctl&nbsp;start_app&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;4.&nbsp;check&nbsp;clustering&nbsp;:&nbsp;rabbitmqctl&nbsp;cluster_status&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hope&nbsp;this&nbsp;help.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;On&nbsp;Thursday,&nbsp;August&nbsp;22,&nbsp;2013&nbsp;11:33:31&nbsp;PM&nbsp;UTC+9,&nbsp;Liam&nbsp;Reilly&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I've&nbsp;got&nbsp;a&nbsp;couple&nbsp;of&nbsp;OpenSuse&nbsp;VM's&nbsp;configured&nbsp;in&nbsp;Virtual&nbsp;Box.&nbsp;&amp;nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;rabbit&nbsp;running&nbsp;on&nbsp;both.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;rabbit@devserver&lt;/div&gt;&lt;div&gt;rabbit@devagent&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I've&nbsp;added&nbsp;both&nbsp;machines&nbsp;to&nbsp;each&nbsp;others&nbsp;hosts&nbsp;files&nbsp;and&nbsp;I&nbsp;can&nbsp;do&nbsp;a&nbsp;sudo&nbsp;/usr/sbin/rabbitmqctl&nbsp;-n&nbsp;rabbit@{hostname}&nbsp;status&nbsp;from&nbsp;either&nbsp;machine&nbsp;to&nbsp;see&nbsp;the&nbsp;full&nbsp;status&nbsp;output&nbsp;of&nbsp;the&nbsp;node.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;both&nbsp;machines&nbsp;are&nbsp;happy&nbsp;at&nbsp;this&nbsp;point.&nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I've&nbsp;also&nbsp;got&nbsp;Celery&nbsp;working&nbsp;and&nbsp;load&nbsp;balancing&nbsp;tasks&nbsp;using&nbsp;the&nbsp;rabbit@devserver&nbsp;RabbitMQ&nbsp;queue.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;I&nbsp;stopped&nbsp;the&nbsp;rabbit@devagent&nbsp;instance&nbsp;and&nbsp;tried&nbsp;to&nbsp;add&nbsp;to&nbsp;the&nbsp;@devserver&nbsp;using&nbsp;the&nbsp;cluster&nbsp;command&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;sudo&nbsp;/usr/sbin/rabbitmqctl&nbsp;cluster&nbsp;rabbit@devserver&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;to&nbsp;which&nbsp;I&nbsp;get&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Clustering&nbsp;node&nbsp;rabbit@devagent&nbsp;with&nbsp;[rabbit@devserver]&nbsp;...&lt;/div&gt;&lt;div&gt;Error:&nbsp;unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;node&nbsp;rabbit@devagent:&nbsp;&amp;nbsp;nodedown&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;DIAGNOSTICS&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;nodes&nbsp;in&nbsp;question:&nbsp;&amp;nbsp;[rabbit@devagent]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;hosts,&nbsp;their&nbsp;running&nbsp;nodes&nbsp;and&nbsp;ports:&lt;/div&gt;&lt;div&gt;-&nbsp;devagent:&nbsp;&amp;nbsp;[{rabbitmqctl10831,&nbsp;48309}]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;current&nbsp;node&nbsp;details:&lt;/div&gt;&lt;div&gt;-&nbsp;node&nbsp;name&nbsp;rabbitmqctl10831@devagent&lt;/div&gt;&lt;div&gt;-&nbsp;home&nbsp;dir:&nbsp;/var/lib/rabbitmq&lt;/div&gt;&lt;div&gt;-&nbsp;cookie&nbsp;hash:&nbsp;&amp;nbsp;LczRqz4mQrqdzWYMcog==&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;modified&nbsp;the&nbsp;erlang&nbsp;cookie&nbsp;on&nbsp;both&nbsp;machines&nbsp;so&nbsp;these&nbsp;match&nbsp;btw.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;idea's?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
