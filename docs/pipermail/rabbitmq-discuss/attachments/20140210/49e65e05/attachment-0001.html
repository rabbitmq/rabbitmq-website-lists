<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;/head&gt;&lt;body&nbsp;dir=&quot;auto&quot;&gt;&lt;div&gt;We&nbsp;have&nbsp;seen&nbsp;the&nbsp;same&nbsp;behavior&nbsp;but&nbsp;don't&nbsp;have&nbsp;a&nbsp;fix&nbsp;for&nbsp;it.&nbsp;In&nbsp;a&nbsp;3&nbsp;node&nbsp;HA&nbsp;cluster&nbsp;we&nbsp;sometimes&nbsp;see&nbsp;node&nbsp;1&nbsp;out&nbsp;as&nbsp;seen&nbsp;by&nbsp;node&nbsp;2,&nbsp;node&nbsp;2&nbsp;out&nbsp;as&nbsp;seen&nbsp;by&nbsp;node&nbsp;1,&nbsp;and&nbsp;node&nbsp;3&nbsp;thinks&nbsp;everything&nbsp;is&nbsp;ok.&nbsp;Pivotal&nbsp;Labs&nbsp;was&nbsp;working&nbsp;with&nbsp;us&nbsp;at&nbsp;one&nbsp;point&nbsp;and&nbsp;they&nbsp;didn't&nbsp;have&nbsp;an&nbsp;explanation,&nbsp;either.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;being&nbsp;said&nbsp;we&nbsp;have&nbsp;had&nbsp;numerous&nbsp;issues&nbsp;getting&nbsp;a&nbsp;stable&nbsp;and&nbsp;reliable&nbsp;3&nbsp;node&nbsp;cluster&nbsp;working&nbsp;on&nbsp;Windows&nbsp;Server&nbsp;2008R2.&nbsp;We&nbsp;don't&nbsp;see&nbsp;the&nbsp;stability&nbsp;issues&nbsp;in&nbsp;our&nbsp;tests&nbsp;with&nbsp;Linux&nbsp;but&nbsp;we&nbsp;won't&nbsp;be&nbsp;running&nbsp;production&nbsp;on&nbsp;Linux&nbsp;rabbit&nbsp;nodes&nbsp;for&nbsp;a&nbsp;couple&nbsp;more&nbsp;weeks.&nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Ron&lt;br&gt;&lt;br&gt;Sent&nbsp;from&nbsp;my&nbsp;iPad&lt;/div&gt;&lt;div&gt;&lt;br&gt;On&nbsp;Feb&nbsp;10,&nbsp;2014,&nbsp;at&nbsp;5:33&nbsp;PM,&nbsp;Matt&nbsp;Pietrek&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:mpietrek@skytap.com&quot;&gt;mpietrek@skytap.com&lt;/a&gt;&gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Recently&nbsp;we&nbsp;started&nbsp;running&nbsp;a&nbsp;two&nbsp;node&nbsp;HA&nbsp;cluster&nbsp;of&nbsp;Rabbit&nbsp;3.2.2,&nbsp;with&nbsp;autoheal&nbsp;enabled.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;a&nbsp;network&nbsp;partition,&nbsp;I&nbsp;noticed&nbsp;that&nbsp;autoheal&nbsp;didn't&nbsp;appear&nbsp;to&nbsp;work,&nbsp;although&nbsp;the&nbsp;logs&nbsp;indicate&nbsp;it&nbsp;was&nbsp;tried.&nbsp;The&nbsp;first&nbsp;time&nbsp;it&nbsp;happened,&nbsp;the&nbsp;UI&nbsp;in&nbsp;both&nbsp;brokers&nbsp;indicated&nbsp;the&nbsp;other&nbsp;broker&nbsp;was&nbsp;missing&nbsp;from&nbsp;the&nbsp;cluster.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;second&nbsp;time&nbsp;this&nbsp;happened,&nbsp;the&nbsp;management&nbsp;plugin&nbsp;seemed&nbsp;to&nbsp;not&nbsp;function&nbsp;afterwards.&nbsp;Most&nbsp;of&nbsp;the&nbsp;Web&nbsp;UI&nbsp;was&nbsp;unusable,&nbsp;i.e&nbsp;it&nbsp;wouldn't&nbsp;tell&nbsp;me&nbsp;which&nbsp;nodes&nbsp;were&nbsp;running,&nbsp;what&nbsp;queues&nbsp;were&nbsp;declared,&nbsp;and&nbsp;so&nbsp;forth.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;wondering&nbsp;if&nbsp;what&nbsp;I'm&nbsp;seeing&nbsp;below&nbsp;is&nbsp;a&nbsp;known&nbsp;issue&nbsp;rings&nbsp;any&nbsp;bells.&nbsp;Also,&nbsp;is&nbsp;their&nbsp;any&nbsp;other&nbsp;log&nbsp;output&nbsp;I&nbsp;should&nbsp;look&nbsp;at&nbsp;to&nbsp;determine&nbsp;success/failure?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
On&nbsp;the&nbsp;&quot;winning&quot;&nbsp;side,&nbsp;the&nbsp;logs&nbsp;look&nbsp;like&nbsp;this.&nbsp;The&nbsp;&quot;ignoring&quot;&nbsp;part&nbsp;in&nbsp;particular&nbsp;is&nbsp;suspicious.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--------&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=ERROR&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;Mnesia(rabbit@goodnessmq1):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;running_partitioned_network,&nbsp;rabbit@goodnessmq2}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;Autoheal&nbsp;request&nbsp;received&nbsp;from&nbsp;rabbit@goodnessmq2&nbsp;when&nbsp;in&nbsp;state&nbsp;{winner_waiting,&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[rabbit@goodnessmq2],&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[rabbit@goodnessmq2]};&nbsp;ignoring&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;global:&nbsp;Name&nbsp;conflict&nbsp;terminating&nbsp;{rabbit_mgmt_db,&lt;2783.10073.5&gt;}&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;--------&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;On&nbsp;the&nbsp;&quot;losing&quot;&nbsp;side,&nbsp;the&nbsp;logs&nbsp;look&nbsp;like&nbsp;this:&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;--------&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=ERROR&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;Mnesia(rabbit@goodnessmq2):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;running_partitioned_network,&nbsp;rabbit@goodnessmq1}&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;Autoheal&nbsp;request&nbsp;sent&nbsp;to&nbsp;rabbit@goodnessmq1&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;=WARNING&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;Federation&nbsp;exchange&nbsp;'skytap'&nbsp;in&nbsp;vhost&nbsp;'/'&nbsp;did&nbsp;not&nbsp;connect&nbsp;to&nbsp;exchange&nbsp;'skytap'&nbsp;in&nbsp;vhost&nbsp;'/'&nbsp;on&nbsp;amqp://something&nbsp;&lt;a&nbsp;href=&quot;http://else.foo.bar.com:5672&quot;&gt;else.foo.bar.com:5672&lt;/a&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;{error,unknown_host}&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;Statistics&nbsp;database&nbsp;started.&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;=WARNING&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:58&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;<br>
Federation&nbsp;exchange&nbsp;'skytap'&nbsp;in&nbsp;vhost&nbsp;'/'&nbsp;did&nbsp;not&nbsp;connect&nbsp;to&nbsp;exchange&nbsp;'skytap'&nbsp;in&nbsp;vhost&nbsp;'/'&nbsp;on&nbsp;amqp://&lt;a&nbsp;href=&quot;http://somethingelse.foo.bar.com:5672&quot;&gt;somethingelse.foo.bar.com:5672&lt;/a&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;{error,unknown_host}&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;--------&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;span&gt;_______________________________________________&lt;/span&gt;&lt;br&gt;&lt;span&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;/span&gt;&lt;br&gt;&lt;span&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;span&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
