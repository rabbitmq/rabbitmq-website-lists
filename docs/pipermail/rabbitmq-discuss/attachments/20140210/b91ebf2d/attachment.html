<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Recently&nbsp;we&nbsp;started&nbsp;running&nbsp;a&nbsp;two&nbsp;node&nbsp;HA&nbsp;cluster&nbsp;of&nbsp;Rabbit&nbsp;3.2.2,&nbsp;with&nbsp;autoheal&nbsp;enabled.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;a&nbsp;network&nbsp;partition,&nbsp;I&nbsp;noticed&nbsp;that&nbsp;autoheal&nbsp;didn&#39;t&nbsp;appear&nbsp;to&nbsp;work,&nbsp;although&nbsp;the&nbsp;logs&nbsp;indicate&nbsp;it&nbsp;was&nbsp;tried.&nbsp;The&nbsp;first&nbsp;time&nbsp;it&nbsp;happened,&nbsp;the&nbsp;UI&nbsp;in&nbsp;both&nbsp;brokers&nbsp;indicated&nbsp;the&nbsp;other&nbsp;broker&nbsp;was&nbsp;missing&nbsp;from&nbsp;the&nbsp;cluster.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;second&nbsp;time&nbsp;this&nbsp;happened,&nbsp;the&nbsp;management&nbsp;plugin&nbsp;seemed&nbsp;to&nbsp;not&nbsp;function&nbsp;afterwards.&nbsp;Most&nbsp;of&nbsp;the&nbsp;Web&nbsp;UI&nbsp;was&nbsp;unusable,&nbsp;i.e&nbsp;it&nbsp;wouldn&#39;t&nbsp;tell&nbsp;me&nbsp;which&nbsp;nodes&nbsp;were&nbsp;running,&nbsp;what&nbsp;queues&nbsp;were&nbsp;declared,&nbsp;and&nbsp;so&nbsp;forth.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;m&nbsp;wondering&nbsp;if&nbsp;what&nbsp;I&#39;m&nbsp;seeing&nbsp;below&nbsp;is&nbsp;a&nbsp;known&nbsp;issue&nbsp;rings&nbsp;any&nbsp;bells.&nbsp;Also,&nbsp;is&nbsp;their&nbsp;any&nbsp;other&nbsp;log&nbsp;output&nbsp;I&nbsp;should&nbsp;look&nbsp;at&nbsp;to&nbsp;determine&nbsp;success/failure?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
On&nbsp;the&nbsp;&quot;winning&quot;&nbsp;side,&nbsp;the&nbsp;logs&nbsp;look&nbsp;like&nbsp;this.&nbsp;The&nbsp;&quot;ignoring&quot;&nbsp;part&nbsp;in&nbsp;particular&nbsp;is&nbsp;suspicious.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--------&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=ERROR&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;Mnesia(rabbit@goodnessmq1):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;running_partitioned_network,&nbsp;rabbit@goodnessmq2}&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;Autoheal&nbsp;request&nbsp;received&nbsp;from&nbsp;rabbit@goodnessmq2&nbsp;when&nbsp;in&nbsp;state&nbsp;{winner_waiting,&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[rabbit@goodnessmq2],&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[rabbit@goodnessmq2]};&nbsp;ignoring&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;global:&nbsp;Name&nbsp;conflict&nbsp;terminating&nbsp;{rabbit_mgmt_db,&lt;2783.10073.5&gt;}&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;--------&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;On&nbsp;the&nbsp;&quot;losing&quot;&nbsp;side,&nbsp;the&nbsp;logs&nbsp;look&nbsp;like&nbsp;this:&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;--------&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=ERROR&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;Mnesia(rabbit@goodnessmq2):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;running_partitioned_network,&nbsp;rabbit@goodnessmq1}&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;Autoheal&nbsp;request&nbsp;sent&nbsp;to&nbsp;rabbit@goodnessmq1&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;=WARNING&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;Federation&nbsp;exchange&nbsp;&#39;skytap&#39;&nbsp;in&nbsp;vhost&nbsp;&#39;/&#39;&nbsp;did&nbsp;not&nbsp;connect&nbsp;to&nbsp;exchange&nbsp;&#39;skytap&#39;&nbsp;in&nbsp;vhost&nbsp;&#39;/&#39;&nbsp;on&nbsp;amqp://something&nbsp;&lt;a&nbsp;href=&quot;http://else.foo.bar.com:5672&quot;&gt;else.foo.bar.com:5672&lt;/a&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;&quot;&gt;{error,unknown_host}&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;=INFO&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:56&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;Statistics&nbsp;database&nbsp;started.&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;=WARNING&nbsp;REPORT====&nbsp;3-Feb-2014::09:48:58&nbsp;===&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;<br>
Federation&nbsp;exchange&nbsp;&#39;skytap&#39;&nbsp;in&nbsp;vhost&nbsp;&#39;/&#39;&nbsp;did&nbsp;not&nbsp;connect&nbsp;to&nbsp;exchange&nbsp;&#39;skytap&#39;&nbsp;in&nbsp;vhost&nbsp;&#39;/&#39;&nbsp;on&nbsp;amqp://&lt;a&nbsp;href=&quot;http://somethingelse.foo.bar.com:5672&quot;&gt;somethingelse.foo.bar.com:5672&lt;/a&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;{error,unknown_host}&lt;/p&gt;&lt;p&nbsp;class=&quot;&quot;&gt;--------&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
