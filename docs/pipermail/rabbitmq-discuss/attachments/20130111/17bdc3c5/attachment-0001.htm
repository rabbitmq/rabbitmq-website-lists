<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Adam&nbsp;-&nbsp;sorry,&nbsp;ignore&nbsp;me,&nbsp;I'm&nbsp;talking&nbsp;nonsense&nbsp;here...&nbsp;:/&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;01/11/2013&nbsp;10:59&nbsp;AM,&nbsp;Tim&nbsp;Watson&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;cite=&quot;mid:50EFF090.8010005@rabbitmq.com&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hi&nbsp;Adam,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;01/10/2013&nbsp;01:24&nbsp;PM,&nbsp;Adam&nbsp;Rabung&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote<br>
cite=&quot;mid:CAAN_EDqTb++DU5CVQWjT_Dw0nh7qShNrJMkhVM9NX=OyhsTLkg@mail.gmail.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;&quot;&gt;After&nbsp;reading&nbsp;&lt;a&nbsp;moz-do-not-send=&quot;true&quot;<br>
href=&quot;http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2012-January/017297.html&quot;&gt;this&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;&lt;a&nbsp;moz-do-not-send=&quot;true&quot;<br>
href=&quot;http://rabbitmq.1065348.n5.nabble.com/Are-queues-replicated-across-a-cluster-td4670.html&quot;&gt;this&lt;/a&gt;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;understand&nbsp;that&nbsp;connecting&nbsp;to&nbsp;random&nbsp;nodes&nbsp;of&nbsp;a&nbsp;cluster<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;does&nbsp;not&nbsp;really&nbsp;help&nbsp;spread&nbsp;the&nbsp;processing&nbsp;cost&nbsp;across&nbsp;all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;nodes&nbsp;-&nbsp;processing&nbsp;happens&nbsp;in&nbsp;the&nbsp;master&nbsp;(and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slaves),&nbsp;regardless&nbsp;of&nbsp;what&nbsp;node&nbsp;I&nbsp;connect&nbsp;to.&nbsp;&amp;nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;&quot;&gt;Does&nbsp;this&nbsp;suggest&nbsp;that&nbsp;I&nbsp;should&nbsp;take&nbsp;great&nbsp;care<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;what&nbsp;node&nbsp;I&nbsp;connect&nbsp;to&nbsp;when&nbsp;_creating_&nbsp;a&nbsp;queue?&nbsp;If&nbsp;I&nbsp;use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ConnectionFactory.newConnection(Address[])&nbsp;with&nbsp;the&nbsp;same<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array&nbsp;each&nbsp;time,&nbsp;won't&nbsp;a&nbsp;majority&nbsp;of&nbsp;queues&nbsp;be&nbsp;created&nbsp;on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;first&nbsp;node&nbsp;of&nbsp;that&nbsp;array,&nbsp;creating&nbsp;a&nbsp;load&nbsp;balance<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;problem?&nbsp;This&nbsp;scenario&nbsp;assumes&nbsp;we&nbsp;mirror&nbsp;only&nbsp;to&nbsp;a&nbsp;subset&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodes.&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;style=&quot;&quot;&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;should&nbsp;have&nbsp;taken&nbsp;more&nbsp;notice&nbsp;of&nbsp;Address[]&nbsp;here,&nbsp;but&nbsp;also&nbsp;if<br>
&nbsp;&nbsp;&nbsp;&nbsp;you're&nbsp;*not*&nbsp;mirroring&nbsp;then&nbsp;whilst&nbsp;the&nbsp;queue&nbsp;records&nbsp;get&nbsp;replicated<br>
&nbsp;&nbsp;&nbsp;&nbsp;throughout&nbsp;the&nbsp;cluster,&nbsp;the&nbsp;queue&nbsp;process&nbsp;(which&nbsp;actually&nbsp;handles<br>
&nbsp;&nbsp;&nbsp;&nbsp;messages)&nbsp;only&nbsp;resides&nbsp;on&nbsp;the&nbsp;one&nbsp;node.&nbsp;So&nbsp;yes,&nbsp;you&nbsp;should<br>
&nbsp;&nbsp;&nbsp;&nbsp;Random.shuffle&nbsp;(or&nbsp;something&nbsp;like&nbsp;that)&nbsp;the&nbsp;Address[]&nbsp;or&nbsp;load<br>
&nbsp;&nbsp;&nbsp;&nbsp;balance.&nbsp;Also&nbsp;even&nbsp;with&nbsp;mirror&nbsp;queues&nbsp;the&nbsp;master&nbsp;is&nbsp;where&nbsp;the&nbsp;bulk<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;work&nbsp;is&nbsp;taking&nbsp;place,&nbsp;so&nbsp;the&nbsp;same&nbsp;applies.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Sorry&nbsp;for&nbsp;the&nbsp;confusion!&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Cheers,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Tim<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
