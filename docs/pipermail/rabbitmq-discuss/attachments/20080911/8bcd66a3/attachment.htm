<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;dir=&quot;ltr&quot;&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;I&nbsp;think.&nbsp;Thanks&nbsp;for&nbsp;the<br>
lengthy&nbsp;reply&nbsp;:-)&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;Since&nbsp;its&nbsp;open&nbsp;source&nbsp;I<br>
might&nbsp;be&nbsp;able&nbsp;to&nbsp;invest&nbsp;some&nbsp;time&nbsp;for&nbsp;things&nbsp;that&nbsp;will&nbsp;be&nbsp;relevant&nbsp;for<br>
us&nbsp;and&nbsp;I&nbsp;would&nbsp;probably&nbsp;benefit&nbsp;from&nbsp;learning&nbsp;Erlang&nbsp;more&nbsp;intimately&nbsp;as<br>
well&nbsp;as&nbsp;from&nbsp;your&nbsp;experience&nbsp;:-)&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;Regarding&nbsp;clustering,&nbsp;I<br>
have&nbsp;a&nbsp;question&nbsp;about&nbsp;that.&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;Configuring&nbsp;the<br>
clustering&nbsp;on&nbsp;the&nbsp;rabbitmq&nbsp;side&nbsp;is&nbsp;easy,&nbsp;but&nbsp;how&nbsp;it&nbsp;all&nbsp;translates&nbsp;on<br>
the&nbsp;client&nbsp;side?&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;Does&nbsp;the&nbsp;.NET&nbsp;client<br>
(or&nbsp;any&nbsp;other&nbsp;client&nbsp;for&nbsp;that&nbsp;matter)&nbsp;supports&nbsp;flipping&nbsp;between&nbsp;nodes<br>
on&nbsp;a&nbsp;cluster&nbsp;automagically&nbsp;or&nbsp;is&nbsp;it&nbsp;something&nbsp;that&nbsp;I&nbsp;need&nbsp;define&nbsp;by<br>
myself&nbsp;and&nbsp;tell&nbsp;it&nbsp;to&nbsp;connect&nbsp;to&nbsp;a&nbsp;different&nbsp;node&nbsp;in&nbsp;a&nbsp;cluster?&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;Eran&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;&lt;br&gt;<br>
&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin-bottom:&nbsp;0cm;&nbsp;margin-top:&nbsp;0pt;&quot;&gt;Ben&nbsp;Hood&nbsp;wrote:&lt;/p&gt;<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid:269388e30809110414g5551be49of57af97fa4e36861@mail.gmail.com&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Eran,<br>
<br>
On&nbsp;Thu,&nbsp;Sep&nbsp;11,&nbsp;2008&nbsp;at&nbsp;7:23&nbsp;AM,&nbsp;Eran&nbsp;Sandler&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;mailto:eran.sandler@gmail.com&quot;&gt;&amp;lt;eran.sandler@gmail.com&amp;gt;&lt;/a&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;At&nbsp;some&nbsp;point&nbsp;the&nbsp;process&nbsp;that&nbsp;was&nbsp;suppose&nbsp;to&nbsp;read&nbsp;from&nbsp;it&nbsp;wasn't&nbsp;restarted<br>
and&nbsp;the&nbsp;queue&nbsp;eventually&nbsp;kept&nbsp;on&nbsp;growing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
Yes,&nbsp;that's&nbsp;the&nbsp;point&nbsp;of&nbsp;a&nbsp;message&nbsp;queuing&nbsp;system&nbsp;:-)<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;When&nbsp;it&nbsp;reached&nbsp;a&nbsp;certain&nbsp;amount&nbsp;of&nbsp;memory&nbsp;it&nbsp;died&nbsp;because&nbsp;it&nbsp;couldn't<br>
allocate&nbsp;more&nbsp;memory.<br>
<br>
My&nbsp;question&nbsp;is,&nbsp;if&nbsp;no&nbsp;one&nbsp;reads&nbsp;from&nbsp;a&nbsp;persistent&nbsp;queue&nbsp;will&nbsp;rabbitmq&nbsp;simply<br>
die?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
Yes,&nbsp;if&nbsp;the&nbsp;Rabbit&nbsp;eats&nbsp;too&nbsp;many&nbsp;carrots,&nbsp;it&nbsp;will&nbsp;die.<br>
<br>
Currently&nbsp;we&nbsp;have&nbsp;not&nbsp;implemented&nbsp;an&nbsp;administrative&nbsp;limit&nbsp;of&nbsp;queue<br>
depths,&nbsp;so&nbsp;basically&nbsp;a&nbsp;queue&nbsp;will&nbsp;grow&nbsp;until&nbsp;the&nbsp;Erlang&nbsp;process&nbsp;cannot<br>
allocate&nbsp;any&nbsp;more&nbsp;heap&nbsp;(if&nbsp;the&nbsp;queue&nbsp;is&nbsp;never&nbsp;drained),&nbsp;but&nbsp;this&nbsp;is<br>
something&nbsp;that&nbsp;we&nbsp;are&nbsp;thinking&nbsp;about.&nbsp;This&nbsp;falls&nbsp;under&nbsp;the&nbsp;category&nbsp;of<br>
broker&nbsp;management,&nbsp;for&nbsp;which&nbsp;there&nbsp;have&nbsp;been&nbsp;a&nbsp;few&nbsp;threads&nbsp;already.<br>
This&nbsp;is&nbsp;on&nbsp;our&nbsp;radar,&nbsp;but&nbsp;due&nbsp;to&nbsp;limited&nbsp;resources,&nbsp;we&nbsp;cannot&nbsp;say&nbsp;when<br>
we&nbsp;will&nbsp;get&nbsp;around&nbsp;to&nbsp;doing&nbsp;this.<br>
<br>
This&nbsp;also&nbsp;ties&nbsp;into&nbsp;message&nbsp;expiry,&nbsp;which&nbsp;would&nbsp;be&nbsp;a&nbsp;solution&nbsp;to&nbsp;this<br>
problem,&nbsp;but&nbsp;alas,&nbsp;we&nbsp;haven't&nbsp;implemented&nbsp;the&nbsp;TTL&nbsp;property&nbsp;yet&nbsp;(due&nbsp;to<br>
lack&nbsp;of&nbsp;resource&nbsp;and&nbsp;an&nbsp;ambiguous&nbsp;spec).&nbsp;Message&nbsp;expiry&nbsp;has&nbsp;been<br>
discussed&nbsp;in&nbsp;other&nbsp;threads&nbsp;as&nbsp;well.<br>
<br>
This&nbsp;is&nbsp;also&nbsp;an&nbsp;item&nbsp;on&nbsp;our&nbsp;todo&nbsp;list,&nbsp;but&nbsp;we&nbsp;will&nbsp;need&nbsp;to&nbsp;be<br>
convinced&nbsp;to&nbsp;prioritize&nbsp;this.<br>
<br>
So&nbsp;where&nbsp;does&nbsp;that&nbsp;leave&nbsp;you&nbsp;now?<br>
<br>
You've&nbsp;got&nbsp;2&nbsp;options:<br>
<br>
1.&nbsp;Set&nbsp;the&nbsp;immediate&nbsp;flag&nbsp;when&nbsp;publishing&nbsp;a&nbsp;message.&nbsp;If&nbsp;this&nbsp;flag&nbsp;is<br>
set,&nbsp;the&nbsp;message&nbsp;will&nbsp;not&nbsp;be&nbsp;queued,&nbsp;if&nbsp;it&nbsp;cannot&nbsp;be&nbsp;delivered&nbsp;to&nbsp;a<br>
consumer,&nbsp;it&nbsp;will&nbsp;be&nbsp;discarded.<br>
<br>
2.&nbsp;Cluster&nbsp;Rabbit,&nbsp;so&nbsp;that&nbsp;if&nbsp;an&nbsp;instance&nbsp;dies,&nbsp;you&nbsp;don't&nbsp;loose<br>
complete&nbsp;availability.<br>
<br>
HTH,<br>
<br>
Ben<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
