<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;All,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;part&nbsp;of&nbsp;our&nbsp;testing&nbsp;of&nbsp;failovers,&nbsp;we&nbsp;yank&nbsp;the&nbsp;network&nbsp;cable&nbsp;on&nbsp;a&nbsp;machine&nbsp;(to&nbsp;simulate&nbsp;a&nbsp;switch&nbsp;going&nbsp;down).&nbsp; When&nbsp;we&nbsp;plug&nbsp;it&nbsp;back&nbsp;in,&nbsp;RabbitMQ&nbsp;goes&nbsp;into&nbsp;the&nbsp;network&nbsp;partition&nbsp;mode.&nbsp; At&nbsp;first&nbsp;we&nbsp;were&nbsp;using&nbsp;the&nbsp;default&nbsp;(&amp;#39;ignore&amp;#39;)&nbsp;option&nbsp;for&nbsp;dealing&nbsp;with&nbsp;partitions,&nbsp;but&nbsp;it&nbsp;caused&nbsp;problems.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;that&nbsp;we&nbsp;put&nbsp;the&nbsp;nodes&nbsp;into&nbsp;&amp;#39;autoheal&amp;#39;&nbsp;mode.&nbsp; This&nbsp;did&nbsp;not&nbsp;improve&nbsp;things.&nbsp; Not&nbsp;only&nbsp;did&nbsp;the&nbsp;minority&nbsp;node&nbsp;not&nbsp;rejoin&nbsp;the&nbsp;partition,&nbsp;but&nbsp;it&nbsp;refused&nbsp;to&nbsp;restart&nbsp;without&nbsp;manually&nbsp;killing&nbsp;the&nbsp;process.&nbsp; It&nbsp;also&nbsp;caused&nbsp;problems&nbsp;on&nbsp;the&nbsp;other&nbsp;nodes&nbsp;(in&nbsp;the&nbsp;majority).&nbsp; They&nbsp;stopped&nbsp;accepting&nbsp;connections&nbsp;and&nbsp;I&nbsp;couldn&amp;#39;t&nbsp;even&nbsp;log&nbsp;into&nbsp;the&nbsp;web&nbsp;UI.&nbsp; So&nbsp;clearly,&nbsp;&amp;#39;autoheal&amp;#39;&nbsp;didn&amp;#39;t&nbsp;seem&nbsp;to&nbsp;work&nbsp;as&nbsp;intended.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&amp;#39;re&nbsp;using&nbsp;RabbitMQ&nbsp;3.1.1.&nbsp; Is&nbsp;there&nbsp;anything&nbsp;fixed&nbsp;since&nbsp;then&nbsp;that&nbsp;might&nbsp;help&nbsp;with&nbsp;our&nbsp;situation?&nbsp; Our&nbsp;end&nbsp;goal&nbsp;is&nbsp;to&nbsp;have&nbsp;everything&nbsp;working&nbsp;again&nbsp;without&nbsp;intervention.&nbsp; I&nbsp;understand&nbsp;that&nbsp;this&nbsp;could&nbsp;cause&nbsp;*some*&nbsp;data&nbsp;loss&nbsp;during&nbsp;the&nbsp;autoheal&nbsp;process,&nbsp;but&nbsp;this&nbsp;is&nbsp;probably&nbsp;OK.&nbsp; We&amp;#39;d&nbsp;love&nbsp;just&nbsp;to&nbsp;get&nbsp;all&nbsp;three&nbsp;nodes&nbsp;happy&nbsp;again&nbsp;without&nbsp;having&nbsp;to&nbsp;manually&nbsp;restart&nbsp;any&nbsp;nodes.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Chris&lt;/div&gt;&lt;/div&gt;<br>

</tt>
