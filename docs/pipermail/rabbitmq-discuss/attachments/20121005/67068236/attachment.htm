<tt>
Thanks&nbsp;Emile&nbsp;for&nbsp;the&nbsp;response&nbsp;and&nbsp;help.&lt;br&gt;We&nbsp;really&nbsp;want&nbsp;to&nbsp;have&nbsp;a&nbsp;function&nbsp;for&nbsp;terminating&nbsp;rpc&nbsp;server,&nbsp;when&nbsp;clients&nbsp;still&nbsp;sending&nbsp;msg&nbsp;to&nbsp;that,&nbsp;I&nbsp;mean,&nbsp;that&nbsp;function&nbsp;will&nbsp;make&nbsp;rpc&nbsp;server&nbsp;stop&nbsp;to&nbsp;recieve&nbsp;new&nbsp;msg&nbsp;from&nbsp;que,&nbsp;and&nbsp;we&nbsp;can&nbsp;stop&nbsp;rpc&nbsp;server&nbsp;easyly&nbsp;and&nbsp;gracefully.&lt;br&gt;<br>
&lt;br&gt;or&nbsp;any&nbsp;suggestion/best&nbsp;practices&nbsp;for&nbsp;stopping&nbsp;rpc&nbsp;server&nbsp;will&nbsp;be&nbsp;very&nbsp;appreciated!&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2012/10/4&nbsp;Emile&nbsp;Joubert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;emile@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;04/10/12&nbsp;04:10,&nbsp;Hongtao&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;but,&nbsp;for&nbsp;shtutting&nbsp;down&nbsp;rpc&nbsp;server,&nbsp; how&nbsp;can&nbsp;we&nbsp;make&nbsp;sure&nbsp;all&lt;br&gt;<br>
&amp;gt;&nbsp;messages&nbsp;have&nbsp;been&nbsp;dealt&nbsp;with,&nbsp;and&nbsp;no&nbsp;msg&nbsp;lost.&nbsp;we&nbsp;want&nbsp;a&nbsp;graceful&lt;br&gt;<br>
&amp;gt;&nbsp;shutdown&nbsp;process,&nbsp;seems&nbsp;no&nbsp;document&nbsp;talking&nbsp;about&nbsp;that.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;if&nbsp;we&nbsp;call:&nbsp;execService.shutdown();&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Consumer.handleDelivery&nbsp;will&nbsp;not&nbsp;be&nbsp;triggerred&nbsp;then?&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;make&nbsp;sure&nbsp;not&nbsp;to&nbsp;acknowledge&nbsp;RPC&nbsp;requests&nbsp;until&nbsp;after&nbsp;sending&nbsp;the&lt;br&gt;<br>
RPC&nbsp;reply&nbsp;then&nbsp;message&nbsp;will&nbsp;not&nbsp;be&nbsp;lost,&nbsp;even&nbsp;if&nbsp;you&nbsp;shut&nbsp;down&nbsp;the&nbsp;RPC&lt;br&gt;<br>
server.&nbsp;Your&nbsp;clients&nbsp;must&nbsp;be&nbsp;prepared&nbsp;to&nbsp;handle&nbsp;duplicates&nbsp;though,&nbsp;as&lt;br&gt;<br>
replies&nbsp;might&nbsp;be&nbsp;sent&nbsp;more&nbsp;than&nbsp;once.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
-Emile&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
