<tt>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2011/11/28&nbsp;Matthias&nbsp;Radestock&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
&lt;div&gt;On&nbsp;28/11/11&nbsp;19:20,&nbsp;Pierre&nbsp;Payet&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
After&nbsp;a&nbsp;crash&nbsp;of&nbsp;the&nbsp;Rabbitmq&nbsp;server,&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Do&nbsp;you&nbsp;know&nbsp;what&nbsp;happened?&nbsp;Did&nbsp;it&nbsp;run&nbsp;out&nbsp;of&nbsp;disk&nbsp;space&nbsp;by&nbsp;any&nbsp;chance?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;It&amp;#39;s&nbsp;not&nbsp;the&nbsp;disk&nbsp;space&nbsp;but&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;of&nbsp;how&nbsp;to&nbsp;answer&nbsp;this&nbsp;question.&nbsp;Looking&nbsp;at&nbsp;the&nbsp;rabbitmq@curtiz.log.1,&nbsp;the&nbsp;last&nbsp;event&nbsp;reported&nbsp;is&nbsp;a&nbsp;tcp&nbsp;connection&nbsp;attempt&nbsp;but&nbsp;no&nbsp;trace&nbsp;of&nbsp;the&nbsp;fulfilling&nbsp;of&nbsp;it.&lt;br&gt;<br>
<br>
Looking&nbsp;at&nbsp;rabbitmq-sasl.log.1&nbsp;I&nbsp;just&nbsp;have&nbsp;this&nbsp;message&nbsp;:&lt;br&gt;&lt;div&nbsp;style=&quot;margin-left:&nbsp;40px;&quot;&gt;=SUPERVISOR&nbsp;REPORT====&nbsp;23-Nov-2011::17:36:29&nbsp;===&lt;br&gt;    &nbsp;Supervisor:&nbsp;{&amp;lt;0.1220.149&amp;gt;,&lt;br&gt;                                          &nbsp;rabbit_channel_sup_sup}&lt;br&gt;<br>
<br>
    &nbsp;Context:   &nbsp;shutdown_error&lt;br&gt;    &nbsp;Reason:    &nbsp;shutdown&lt;br&gt;    &nbsp;Offender:  &nbsp;[{pid,&amp;lt;0.1222.149&amp;gt;},&lt;br&gt;                 &nbsp;{name,channel_sup},&lt;br&gt;                 &nbsp;{mfa,{rabbit_channel_sup,start_link,[]}},&lt;br&gt;                 &nbsp;{restart_type,temporary},&lt;br&gt;<br>
<br>
                 &nbsp;{shutdown,infinity},&lt;br&gt;                 &nbsp;{child_type,supervisor}]&lt;br&gt;&lt;/div&gt;&lt;br&gt; &lt;br&gt;I&amp;#39;ve&nbsp;limited&nbsp;the&nbsp;amount&nbsp;of&nbsp;memory&nbsp;to&nbsp;20%&nbsp;and&nbsp;i&amp;#39;m&nbsp;using&nbsp;blocking&nbsp;connection&nbsp;with&nbsp;pika&nbsp;to&nbsp;publish&nbsp;a&nbsp;message.&nbsp;Here&nbsp;is&nbsp;the&nbsp;python&nbsp;code&nbsp;:&lt;br&gt;<br>
   &nbsp;connection&nbsp;=&nbsp;pika.BlockingConnection(pika.ConnectionParameters(host=host))&lt;br&gt;   &nbsp;channel&nbsp;=&nbsp;connection.channel()&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;channel.queue_declare(queue=queue,&nbsp;durable=True)   &nbsp;&lt;br&gt;   &nbsp;&lt;br&gt;   &nbsp;channel.basic_publish(exchange=&amp;#39;&amp;#39;,&nbsp;routing_key=queue,&nbsp;body=url,&nbsp;properties=pika.BasicProperties(delivery_mode&nbsp;=&nbsp;2,))&lt;br&gt;<br>
   &nbsp;&lt;br&gt;   &nbsp;connection.close()&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;remarked&nbsp;that&nbsp;i&nbsp;have&nbsp;a&nbsp;lot&amp;#39;s&nbsp;of&nbsp;connection&nbsp;running&nbsp;at&nbsp;the&nbsp;same&nbsp;time.&nbsp;Could&nbsp;it&nbsp;be&nbsp;a&nbsp;too&nbsp;high&nbsp;amount&nbsp;of&nbsp;connection&nbsp;to&nbsp;the&nbsp;server&nbsp;that&nbsp;crashed&nbsp;it&nbsp;?&nbsp;Do&nbsp;you&nbsp;think&nbsp;i&nbsp;don&amp;#39;t&nbsp;close&nbsp;properly&nbsp;the&nbsp;connection&nbsp;knowing&nbsp;that&nbsp;there&nbsp;is&nbsp;6&nbsp;instances&nbsp;of&nbsp;my&nbsp;program&nbsp;running&nbsp;at&nbsp;the&nbsp;same&nbsp;time&nbsp;?&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&gt;<br>
<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Can&nbsp;anyone&nbsp;help&nbsp;me&nbsp;to&nbsp;recover&nbsp;the&nbsp;messages&nbsp;in&nbsp;the&nbsp;queue&nbsp;?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;br&gt;<br>
Try&nbsp;deleting&nbsp;/var/lib/rabbitmq/mnesia/rabbit@curtiz/queues/67BZ7QWHYIY1S405V2E0881G9/37.idx.&nbsp;Hopefully&nbsp;that&nbsp;will&nbsp;allow&nbsp;rabbit&nbsp;to&nbsp;start&nbsp;with&nbsp;at&nbsp;least&nbsp;some&nbsp;of&nbsp;the&nbsp;data&nbsp;still&nbsp;present.&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;I&nbsp;managed&nbsp;to&nbsp;restart&nbsp;the&nbsp;server&nbsp;so&nbsp;it&nbsp;solved&nbsp;the&nbsp;problem.&nbsp;Thank&nbsp;you.&nbsp;&lt;br&gt;&lt;br&gt;Regards&lt;br&gt;&lt;br&gt;Payet&nbsp;P&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
