<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Okay.&nbsp;&amp;nbsp;Here's&nbsp;my&nbsp;code:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;ConnectionFactory&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory();&lt;/div&gt;&lt;div&gt;factory.setUri(&quot;amqp://guest:guest@host:5672&quot;);&lt;/div&gt;&lt;div&gt;Connection&nbsp;conn&nbsp;=&nbsp;factory.newConnection();&lt;/div&gt;&lt;div&gt;Channel&nbsp;channel&nbsp;=&nbsp;conn.createChannel();&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Got&nbsp;compiling&nbsp;error:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;unreported&nbsp;exception&nbsp;java.net.URISyntaxException;&nbsp;must&nbsp;be&nbsp;caught&nbsp;or&nbsp;declared&nbsp;to&nbsp;be&nbsp;thrown&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;factory.setUri(&quot;&quot;);&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;^&lt;/div&gt;&lt;div&gt;unreported&nbsp;exception&nbsp;java.io.IOException;&nbsp;must&nbsp;be&nbsp;caught&nbsp;or&nbsp;declared&nbsp;to&nbsp;be&nbsp;thrown&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;Connection&nbsp;conn&nbsp;=&nbsp;factory.newConnection();&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;^&lt;/div&gt;&lt;div&gt;unreported&nbsp;exception&nbsp;java.io.IOException;&nbsp;must&nbsp;be&nbsp;caught&nbsp;or&nbsp;declared&nbsp;to&nbsp;be&nbsp;thrown&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;Channel&nbsp;channel&nbsp;=&nbsp;conn.createChannel();&lt;/div&gt;&lt;/div&gt;&lt;br&gt;On&nbsp;Friday,&nbsp;September&nbsp;27,&nbsp;2013&nbsp;10:13:24&nbsp;AM&nbsp;UTC-4,&nbsp;Phil&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;Thank&nbsp;you&nbsp;everyone&nbsp;and&nbsp;you&nbsp;guys&nbsp;are&nbsp;absolutely&nbsp;correct.&nbsp;&amp;nbsp;I&nbsp;thought&nbsp;I&nbsp;had&nbsp;to&nbsp;declare&nbsp;the&nbsp;connection&nbsp;and&nbsp;channel&nbsp;inside&nbsp;the&nbsp;try&nbsp;block&nbsp;because&nbsp;exception&nbsp;need&nbsp;to&nbsp;be&nbsp;thrown&nbsp;or&nbsp;caught.<br>
&lt;br&gt;<br>
&lt;br&gt;Sent&nbsp;from&nbsp;mobile&nbsp;device&nbsp;with&nbsp;autocorrect.<br>
&lt;br&gt;<br>
&lt;br&gt;Phil<br>
&lt;br&gt;<br>
&lt;br&gt;&amp;gt;&nbsp;On&nbsp;Sep&nbsp;27,&nbsp;2013,&nbsp;at&nbsp;9:40&nbsp;AM,&nbsp;Tim&nbsp;Watson&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tim@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;tim@rabbitmq.com&lt;/a&gt;&amp;gt;&nbsp;wrote:<br>
&lt;br&gt;&amp;gt;&nbsp;<br>
&lt;br&gt;&amp;gt;&nbsp;Phil,<br>
&lt;br&gt;&amp;gt;&nbsp;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;On&nbsp;27&nbsp;Sep&nbsp;2013,&nbsp;at&nbsp;14:31,&nbsp;Phil&nbsp;wrote:<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;I'm&nbsp;a&nbsp;newbie&nbsp;on&nbsp;RabbitMQ.&nbsp;&amp;nbsp;I'm&nbsp;writing&nbsp;a&nbsp;java&nbsp;service&nbsp;to&nbsp;consume&nbsp;a&nbsp;message&nbsp;from&nbsp;the&nbsp;queue.&nbsp;&amp;nbsp;Everything&nbsp;is&nbsp;working&nbsp;as&nbsp;designed&nbsp;but&nbsp;I&nbsp;cannot&nbsp;seem&nbsp;to&nbsp;code&nbsp;&quot;channel.close()&nbsp;or&nbsp;conn.close()&quot;&nbsp;in&nbsp;the&nbsp;catch&nbsp;&amp;nbsp;or&nbsp;finally&nbsp;block.&nbsp;&amp;nbsp;Java&nbsp;is&nbsp;complaining&nbsp;about&nbsp;that&nbsp;the&nbsp;&quot;cannot&nbsp;find&nbsp;symbol&quot;.<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;symbol&nbsp;&amp;nbsp;:&nbsp;variable&nbsp;channel<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;location:&nbsp;class&nbsp;RouteToMercury.javaServices<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;channel.close();<br>
&lt;br&gt;&amp;gt;&nbsp;<br>
&lt;br&gt;&amp;gt;&nbsp;It's&nbsp;impossible&nbsp;to&nbsp;help&nbsp;with&nbsp;a&nbsp;compiler&nbsp;error&nbsp;if&nbsp;you&nbsp;don't&nbsp;post&nbsp;that&nbsp;code&nbsp;that&nbsp;you're&nbsp;trying&nbsp;to&nbsp;compile.<br>
&lt;br&gt;&amp;gt;&nbsp;<br>
&lt;br&gt;&amp;gt;&amp;gt;&nbsp;Can&nbsp;I&nbsp;close&nbsp;the&nbsp;connection&nbsp;and&nbsp;channel&nbsp;if&nbsp;an&nbsp;exception&nbsp;occur?<br>
&lt;br&gt;&amp;gt;&nbsp;<br>
&lt;br&gt;&amp;gt;&nbsp;Yes,&nbsp;absolutely.&nbsp;The&nbsp;above&nbsp;looks&nbsp;like&nbsp;a&nbsp;scoping&nbsp;issue.&nbsp;I&nbsp;suspect&nbsp;you've&nbsp;done&nbsp;something&nbsp;like...<br>
&lt;br&gt;&amp;gt;&nbsp;<br>
&lt;br&gt;&amp;gt;&nbsp;try&nbsp;{<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;final&nbsp;Channel&nbsp;channel&nbsp;=&nbsp;connection.createChannel();<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;doSomeWork(channel);<br>
&lt;br&gt;&amp;gt;&nbsp;}&nbsp;finally&nbsp;{<br>
&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;channel.close();<br>
&lt;br&gt;&amp;gt;&nbsp;}<br>
&lt;br&gt;&amp;gt;&nbsp;<br>
&lt;br&gt;&amp;gt;&nbsp;Am&nbsp;I&nbsp;right?&nbsp;If&nbsp;so,&nbsp;you&nbsp;need&nbsp;to&nbsp;move&nbsp;the&nbsp;channel&nbsp;variable&nbsp;to&nbsp;the&nbsp;outer&nbsp;scope.<br>
&lt;br&gt;&amp;gt;&nbsp;<br>
&lt;br&gt;&amp;gt;&nbsp;Cheers,<br>
&lt;br&gt;&amp;gt;&nbsp;Tim<br>
&lt;br&gt;&amp;gt;&nbsp;______________________________&lt;wbr&gt;_________________<br>
&lt;br&gt;&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list<br>
&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;wbr&gt;rabbitmq.com&lt;/a&gt;<br>
&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;wbr&gt;cgi-bin/mailman/listinfo/&lt;wbr&gt;rabbitmq-discuss&lt;/a&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
