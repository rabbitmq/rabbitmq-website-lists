<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;<br>
&lt;div&gt;I&nbsp;am&nbsp;very&nbsp;new&nbsp;to&nbsp;rabbitmq&nbsp;and&nbsp;shovel&nbsp;but&nbsp;I&nbsp;may&nbsp;have&nbsp;found&nbsp;a&nbsp;bug:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;My&nbsp;setup:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;am&nbsp;running&nbsp;Rabbit&nbsp;3.1.1&nbsp;and&nbsp;have&nbsp;shovel&nbsp;plugin&nbsp;enabled.&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;have&nbsp;sense&nbsp;clients&nbsp;that&nbsp;communicate&nbsp;with&nbsp;this&nbsp;rabbit&nbsp;broker&nbsp;successfully&nbsp;to&nbsp;vhost&nbsp;/sensu&nbsp;with&nbsp;sensu&nbsp;and&nbsp;mypass&nbsp;as&nbsp;username&nbsp;and&nbsp;password.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;shovel&nbsp;plugin&nbsp;(loaded&nbsp;on&nbsp;the&nbsp;first&nbsp;Rabbit)&nbsp;with&nbsp;talk&nbsp;to&nbsp;a&nbsp;2nd&nbsp;Rabbit&nbsp;which&nbsp;is&nbsp;also&nbsp;serving&nbsp;sense&nbsp;clients&nbsp;using&nbsp;the&nbsp;same&nbsp;vhost,&nbsp;username&nbsp;and&nbsp;password.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Here&nbsp;is&nbsp;my&nbsp;shovel&nbsp;config&nbsp;file:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;[&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbitmq_shovel,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;[{shovels,&nbsp;[&nbsp;{test_shovel,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;[&nbsp;{sources,&nbsp;[{broker,&nbsp;&amp;quot;amqp://sensu:mypass@/sensu&amp;quot;}]}&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;,&nbsp;{destinations,&nbsp;[{broker,&nbsp;&amp;quot;amqp://sensu:mypass@ec2-54-245-126-50.us-west-2.compute.amazonaws.com/sensu&amp;quot;}]}&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;,&nbsp;{queue,&nbsp;&amp;lt;&amp;lt;&amp;quot;rabbitmq-us-west-2&amp;quot;&amp;gt;&amp;gt;}&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;]&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}]}]&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;/div&gt;<br>
&lt;div&gt;].&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;As&nbsp;you&nbsp;can&nbsp;see,&nbsp;my&nbsp;source&nbsp;(which&nbsp;is&nbsp;Rabbit1)&nbsp;is&nbsp;being&nbsp;connected&nbsp;to&nbsp;by&nbsp;the&nbsp;shovel&nbsp;by&nbsp;the&nbsp;non&nbsp;network&nbsp;method&nbsp;and&nbsp;has&nbsp;the&nbsp;username,&nbsp;password&nbsp;and&nbsp;vhost&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;destination&nbsp;is&nbsp;set&nbsp;up&nbsp;as&nbsp;a&nbsp;network&nbsp;connection&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Here&nbsp;is&nbsp;the&nbsp;error&nbsp;is&nbsp;get&nbsp;after&nbsp;a&nbsp;restart&nbsp;of&nbsp;Rabbit1&nbsp;server:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;31-May-2013::15:13:10&nbsp;===&lt;/div&gt;<br>
&lt;div&gt;accepting&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.387.0&amp;gt;&nbsp;(10.73.3.20:39733&nbsp;-&amp;gt;&nbsp;10.40.215.251:5672)&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;31-May-2013::15:13:24&nbsp;===&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;Generic&nbsp;server&nbsp;&amp;lt;0.400.0&amp;gt;&nbsp;terminating&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{'$gen_cast',init}&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{state,undefined,undefined,undefined,undefined,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;test_shovel,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{shovel,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{endpoint,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[{amqp_params_direct,&amp;lt;&amp;lt;&amp;quot;sensu&amp;quot;&amp;gt;&amp;gt;,none,&amp;lt;&amp;lt;&amp;quot;sensu&amp;quot;&amp;gt;&amp;gt;,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;'rabbit@ip-10-40-215-251',none,[]}],&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[]},&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{endpoint,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[{amqp_params_network,&amp;lt;&amp;lt;&amp;quot;sensu&amp;quot;&amp;gt;&amp;gt;,&amp;lt;&amp;lt;&amp;quot;mypass&amp;quot;&amp;gt;&amp;gt;,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;lt;&amp;lt;&amp;quot;sensu&amp;quot;&amp;gt;&amp;gt;,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;quot;ec2-54-245-126-50.us-west-2.compute.amazonaws.com&amp;quot;,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;undefined,0,0,0,infinity,none,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[#Fun&amp;lt;amqp_uri.7.123484526&amp;gt;,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;#Fun&amp;lt;amqp_uri.7.123484526&amp;gt;],&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[],[]}],&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[]},&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;0,on_confirm,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;#Fun&amp;lt;rabbit_shovel_config.15.100604638&amp;gt;,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;#Fun&amp;lt;rabbit_shovel_config.15.100604638&amp;gt;,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;lt;&amp;lt;&amp;quot;rabbitmq-us-west-2&amp;quot;&amp;gt;&amp;gt;,5},&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;undefined,undefined,undefined,undefined,undefined}&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;{{badmatch,{error,access_refused}},&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;[{rabbit_shovel_worker,make_conn_and_chan,1},&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{rabbit_shovel_worker,handle_cast,2},&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{gen_server2,handle_msg,2},&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{proc_lib,init_p_do_apply,3}]}&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Notice&nbsp;this&nbsp;line:&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;[{amqp_params_direct,&amp;lt;&amp;lt;&amp;quot;sensu&amp;quot;&amp;gt;&amp;gt;,none,&amp;lt;&amp;lt;&amp;quot;sensu&amp;quot;&amp;gt;&amp;gt;,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;'rabbit@ip-10-40-215-251',none,[]}],&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;If&nbsp;I&nbsp;read&nbsp;this&nbsp;correctly,&nbsp;the&nbsp;password&nbsp;is&nbsp;not&nbsp;being&nbsp;passed&nbsp;and&nbsp;THUS&nbsp;authentication&nbsp;is&nbsp;being&nbsp;denied.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Is&nbsp;this&nbsp;a&nbsp;bug?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;John&nbsp;Hayden&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
