<tt>
I&nbsp;hope&nbsp;this&nbsp;DTrace&nbsp;branch&nbsp;gets&nbsp;merged&nbsp;with&nbsp;the&nbsp;default&nbsp;Erlang.&nbsp;I&nbsp;think&nbsp;is&nbsp;quite&nbsp;useful&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Sep&nbsp;15,&nbsp;2011&nbsp;at&nbsp;6:00&nbsp;PM,&nbsp;Jason&nbsp;J.&nbsp;W.&nbsp;Williams&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jasonjwwilliams@gmail.com&quot;&gt;jasonjwwilliams@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;&lt;div&gt;OpenIndiana&nbsp;and&nbsp; (open&nbsp;Solaris)&nbsp;are&nbsp;great&nbsp;Rabbit&nbsp;platforms.&nbsp;FreeBSD&nbsp;has&nbsp;DTrace&nbsp;too.&nbsp;DTrace&nbsp;for&nbsp;Linux&nbsp;isn&amp;#39;t&nbsp;up&nbsp;to&nbsp;snuff&nbsp;with&nbsp;the&nbsp;other&nbsp;platforms&nbsp;yet,&nbsp;but&nbsp;it&amp;#39;s&nbsp;still&nbsp;worlds&nbsp;ahead&nbsp;of&nbsp;SystemTap. &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-J&lt;br&gt;&lt;br&gt;Sent&nbsp;via&nbsp;iPhone&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;your&nbsp;email&nbsp;Premiere?&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&gt;&lt;br&gt;On&nbsp;Sep&nbsp;15,&nbsp;2011,&nbsp;at&nbsp;8:03,&nbsp;Alvaro&nbsp;Videla&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:videlalvaro@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;videlalvaro@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;div&gt;<br>
<br>
Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;saw&nbsp;Matthew&nbsp;tweeting&nbsp;&amp;quot;Oh&nbsp;RabbitMQ,&nbsp;why&nbsp;are&nbsp;you&nbsp;taking&nbsp;over&nbsp;an&nbsp;hour&nbsp;to&nbsp;recover&nbsp;100k&nbsp;queues?&nbsp;What&nbsp;/are/&nbsp;you&nbsp;doing?!&amp;quot; &lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&nbsp;target=&quot;_blank&quot;&gt;https://twitter.com/hylomorphism/status/114000680875851776&lt;/a&gt; &lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ve&nbsp;been&nbsp;doing&nbsp;some&nbsp;stuff&nbsp;at&nbsp;work&nbsp;with&nbsp;DTrace&nbsp;and&nbsp;I&nbsp;think&nbsp;is&nbsp;pretty&nbsp;cool&nbsp;when&nbsp;it&nbsp;comes&nbsp;to&nbsp;find&nbsp;out&nbsp;what&nbsp;a&nbsp;process&nbsp;is&nbsp;actually&nbsp;doing.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;At&nbsp;the&nbsp;same&nbsp;time&nbsp;there&amp;#39;s&nbsp;an&nbsp;experimental&nbsp;OTP&nbsp;fork&nbsp;on&nbsp;Github&nbsp;that&nbsp;adds&nbsp;Dtrace&nbsp;probes&nbsp;to&nbsp;Erlang: &lt;a&nbsp;href=&quot;https://github.com/dustin/otp/wiki/DTrace&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://github.com/dustin/otp/wiki/DTrace&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/dustin/otp/wiki/DTrace&lt;/a&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See&nbsp;here&nbsp;for&nbsp;the&nbsp;available&nbsp;probes: &lt;a&nbsp;href=&quot;https://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&lt;/a&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;for&nbsp;example&nbsp;running&nbsp;RabbitMQ&nbsp;based&nbsp;on&nbsp;that&nbsp;Erlang&nbsp;branch&nbsp;you&nbsp;could&nbsp;do&nbsp;things&nbsp;like&nbsp;in&nbsp;this&nbsp;gist: &lt;a&nbsp;href=&quot;https://gist.github.com/1219266&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://gist.github.com/1219266&quot;&nbsp;target=&quot;_blank&quot;&gt;https://gist.github.com/1219266&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
&lt;span&nbsp;style=&quot;font-family:helvetica,&nbsp;arial,&nbsp;freesans,&nbsp;clean,&nbsp;sans-serif;font-size:11px;line-height:14px&quot;&gt;&lt;pre&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em;font-family:&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace&quot;&gt;<br>
&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:1em;line-height:1.4em&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;erlang&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;$&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;target&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;:::&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em;font-weight:bold&quot;&gt;function&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;-&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;entry&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:1em;line-height:1.4em&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;/&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;copyinstr&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;arg1&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;)&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;==&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em;color:rgb(221,&nbsp;17,&nbsp;68)&quot;&gt;&amp;quot;rabbit_exchange_type_direct:route/2&amp;quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;/&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:1em;line-height:1.4em&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;{&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:1em;line-height:1.4em&quot;&gt;    &lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;printf&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em;color:rgb(221,&nbsp;17,&nbsp;68)&quot;&gt;&amp;quot;%s&nbsp;%s&amp;quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;probemod&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;probefunc&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;);&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:1em;line-height:1.4em&quot;&gt;    &lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;self&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;traceIt&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em;color:rgb(0,&nbsp;153,&nbsp;153)&quot;&gt;1&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;;&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:1em;line-height:1.4em&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;}&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;/pre&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;I&nbsp;enable&nbsp;the&nbsp;flag&nbsp;traceIt&nbsp;only&nbsp;when&nbsp;route/2&nbsp;is&nbsp;called&nbsp;on&nbsp;the&nbsp;direct&nbsp;exchange.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;there&nbsp;is&nbsp;just&nbsp;a&nbsp;matter&nbsp;of&nbsp;adding&nbsp;probes&nbsp;to&nbsp;different&nbsp;syscalls&nbsp;or&nbsp;io&nbsp;access&nbsp;etc&nbsp;based&nbsp;using&nbsp;patterns&nbsp;on&nbsp;that&nbsp;flag&nbsp;like:&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;font-size:12px;line-height:16px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;&lt;br&gt;<br>
<br>
&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;font-size:12px;line-height:16px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;erlang&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;$&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;target&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;:::&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em;font-weight:bold&quot;&gt;function&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;-&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;entry&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;font-size:12px;line-height:16px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;/&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;self&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;traceIt&lt;/span&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;font-size:12px;line-height:16px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;font-size:12px;line-height:16px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;&nbsp;//do&nbsp;something&nbsp;here&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;font-size:12px;line-height:16px;white-space:pre-wrap&quot;&gt;&lt;span&nbsp;style=&quot;margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;line-height:1.4em&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;so&nbsp;on. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;can&nbsp;run&nbsp;the&nbsp;gist&nbsp;like: &lt;span&nbsp;style=&quot;color:rgb(51,&nbsp;51,&nbsp;51);font-family:helvetica,&nbsp;arial,&nbsp;freesans,&nbsp;clean,&nbsp;sans-serif;font-size:12px;line-height:18px&quot;&gt;sudo&nbsp;dtrace&nbsp;-s&nbsp;route.d&nbsp;-p&nbsp;`pgrep&nbsp;beam.smp`&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;examples&nbsp;are&nbsp;really&nbsp;basic&nbsp;but&nbsp;I&nbsp;think&nbsp;they&nbsp;illustrate&nbsp;the&nbsp;point.&nbsp;With&nbsp;that&nbsp;Erlang&nbsp;branch&nbsp;you&nbsp;could&nbsp;enable&nbsp;more&nbsp;granular&nbsp;probes&nbsp;than&nbsp;with&nbsp;the&nbsp;usual&nbsp;pid&nbsp;provider&nbsp;or&nbsp;dtruss.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
BTW,&nbsp;this&nbsp;works&nbsp;on&nbsp;Mac&nbsp;and&nbsp;Solaris.&nbsp;AFAIK&nbsp;on&nbsp;Linux&nbsp;some&nbsp;Kernel&nbsp;modules&nbsp;are&nbsp;required.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Alvaro&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;span&gt;_______________________________________________&lt;/span&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;&lt;span&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;/span&gt;&lt;br&gt;&lt;span&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;span&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/blockquote&gt;<br>
&lt;/div&gt;&lt;br&gt;<br>

</tt>
