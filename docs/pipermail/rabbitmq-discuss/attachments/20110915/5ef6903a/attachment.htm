<tt>
&lt;html&gt;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;&lt;div&gt;OpenIndiana&nbsp;and&nbsp;&amp;nbsp;(open&nbsp;Solaris)&nbsp;are&nbsp;great&nbsp;Rabbit&nbsp;platforms.&nbsp;FreeBSD&nbsp;has&nbsp;DTrace&nbsp;too.&nbsp;DTrace&nbsp;for&nbsp;Linux&nbsp;isn't&nbsp;up&nbsp;to&nbsp;snuff&nbsp;with&nbsp;the&nbsp;other&nbsp;platforms&nbsp;yet,&nbsp;but&nbsp;it's&nbsp;still&nbsp;worlds&nbsp;ahead&nbsp;of&nbsp;SystemTap.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-J&lt;br&gt;&lt;br&gt;Sent&nbsp;via&nbsp;iPhone&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;your&nbsp;email&nbsp;Premiere?&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;On&nbsp;Sep&nbsp;15,&nbsp;2011,&nbsp;at&nbsp;8:03,&nbsp;Alvaro&nbsp;Videla&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:videlalvaro@gmail.com&quot;&gt;videlalvaro@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;div&gt;<br>
Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;saw&nbsp;Matthew&nbsp;tweeting&nbsp;&quot;Oh&nbsp;RabbitMQ,&nbsp;why&nbsp;are&nbsp;you&nbsp;taking&nbsp;over&nbsp;an&nbsp;hour&nbsp;to&nbsp;recover&nbsp;100k&nbsp;queues?&nbsp;What&nbsp;/are/&nbsp;you&nbsp;doing?!&quot;&amp;nbsp;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;https://twitter.com/hylomorphism/status/114000680875851776&lt;/a&gt;&lt;/a&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I've&nbsp;been&nbsp;doing&nbsp;some&nbsp;stuff&nbsp;at&nbsp;work&nbsp;with&nbsp;DTrace&nbsp;and&nbsp;I&nbsp;think&nbsp;is&nbsp;pretty&nbsp;cool&nbsp;when&nbsp;it&nbsp;comes&nbsp;to&nbsp;find&nbsp;out&nbsp;what&nbsp;a&nbsp;process&nbsp;is&nbsp;actually&nbsp;doing.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;At&nbsp;the&nbsp;same&nbsp;time&nbsp;there's&nbsp;an&nbsp;experimental&nbsp;OTP&nbsp;fork&nbsp;on&nbsp;Github&nbsp;that&nbsp;adds&nbsp;Dtrace&nbsp;probes&nbsp;to&nbsp;Erlang:&amp;nbsp;&lt;a&nbsp;href=&quot;https://github.com/dustin/otp/wiki/DTrace&quot;&gt;&lt;a&nbsp;href=&quot;https://github.com/dustin/otp/wiki/DTrace&quot;&gt;https://github.com/dustin/otp/wiki/DTrace&lt;/a&gt;&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See&nbsp;here&nbsp;for&nbsp;the&nbsp;available&nbsp;probes:&amp;nbsp;&lt;a&nbsp;href=&quot;https://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&quot;&gt;&lt;a&nbsp;href=&quot;https://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&quot;&gt;https://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&lt;/a&gt;&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;for&nbsp;example&nbsp;running&nbsp;RabbitMQ&nbsp;based&nbsp;on&nbsp;that&nbsp;Erlang&nbsp;branch&nbsp;you&nbsp;could&nbsp;do&nbsp;things&nbsp;like&nbsp;in&nbsp;this&nbsp;gist:&amp;nbsp;&lt;a&nbsp;href=&quot;https://gist.github.com/1219266&quot;&gt;&lt;a&nbsp;href=&quot;https://gist.github.com/1219266&quot;&gt;https://gist.github.com/1219266&lt;/a&gt;&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;helvetica,&nbsp;arial,&nbsp;freesans,&nbsp;clean,&nbsp;sans-serif;&nbsp;font-size:&nbsp;11px;&nbsp;line-height:&nbsp;14px;&nbsp;&quot;&gt;&lt;pre&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Monaco,&nbsp;'Courier&nbsp;New',&nbsp;'DejaVu&nbsp;Sans&nbsp;Mono',&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono',&nbsp;monospace;&nbsp;line-height:&nbsp;1.4em;&nbsp;font-family:&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;&quot;&gt;&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC1&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;erlang&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;$&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;target&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;:::&lt;/span&gt;&lt;span&nbsp;class=&quot;k&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;font-weight:&nbsp;bold;&nbsp;&quot;&gt;function&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;-&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;entry&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;/&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;copyinstr&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;arg1&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;)&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;==&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;color:&nbsp;rgb(221,&nbsp;17,&nbsp;68);&nbsp;&quot;&gt;&quot;rabbit_exchange_type_direct:route/2&quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;/&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC3&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC4&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;printf&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;s&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;color:&nbsp;rgb(221,&nbsp;17,&nbsp;68);&nbsp;&quot;&gt;&quot;%s&nbsp;%s&quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;probemod&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;probefunc&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC5&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;self&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;traceIt&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;mi&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;color:&nbsp;rgb(0,&nbsp;153,&nbsp;153);&nbsp;&quot;&gt;1&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC6&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;<br>
&lt;/pre&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;I&nbsp;enable&nbsp;the&nbsp;flag&nbsp;traceIt&nbsp;only&nbsp;when&nbsp;route/2&nbsp;is&nbsp;called&nbsp;on&nbsp;the&nbsp;direct&nbsp;exchange.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;there&nbsp;is&nbsp;just&nbsp;a&nbsp;matter&nbsp;of&nbsp;adding&nbsp;probes&nbsp;to&nbsp;different&nbsp;syscalls&nbsp;or&nbsp;io&nbsp;access&nbsp;etc&nbsp;based&nbsp;using&nbsp;patterns&nbsp;on&nbsp;that&nbsp;flag&nbsp;like:&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;erlang&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;$&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;target&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;:::&lt;/span&gt;&lt;span&nbsp;class=&quot;k&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;font-weight:&nbsp;bold;&nbsp;&quot;&gt;function&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;-&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;entry&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;/&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;self&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;traceIt&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&nbsp;//do&nbsp;something&nbsp;here&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;'Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;so&nbsp;on.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;can&nbsp;run&nbsp;the&nbsp;gist&nbsp;like:&amp;nbsp;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&nbsp;font-family:&nbsp;helvetica,&nbsp;arial,&nbsp;freesans,&nbsp;clean,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;18px;&nbsp;&quot;&gt;sudo&nbsp;dtrace&nbsp;-s&nbsp;route.d&nbsp;-p&nbsp;`pgrep&nbsp;beam.smp`&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;examples&nbsp;are&nbsp;really&nbsp;basic&nbsp;but&nbsp;I&nbsp;think&nbsp;they&nbsp;illustrate&nbsp;the&nbsp;point.&nbsp;With&nbsp;that&nbsp;Erlang&nbsp;branch&nbsp;you&nbsp;could&nbsp;enable&nbsp;more&nbsp;granular&nbsp;probes&nbsp;than&nbsp;with&nbsp;the&nbsp;usual&nbsp;pid&nbsp;provider&nbsp;or&nbsp;dtruss.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;BTW,&nbsp;this&nbsp;works&nbsp;on&nbsp;Mac&nbsp;and&nbsp;Solaris.&nbsp;AFAIK&nbsp;on&nbsp;Linux&nbsp;some&nbsp;Kernel&nbsp;modules&nbsp;are&nbsp;required.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Alvaro&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;span&gt;_______________________________________________&lt;/span&gt;&lt;br&gt;&lt;span&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;/span&gt;&lt;br&gt;&lt;span&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;span&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
