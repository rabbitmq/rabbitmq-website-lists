<tt>
&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;&lt;/a&gt;&lt;div&gt;<br>
Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;saw&nbsp;Matthew&nbsp;tweeting&nbsp;&amp;quot;Oh&nbsp;RabbitMQ,&nbsp;why&nbsp;are&nbsp;you&nbsp;taking&nbsp;over&nbsp;an&nbsp;hour&nbsp;to&nbsp;recover&nbsp;100k&nbsp;queues?&nbsp;What&nbsp;/are/&nbsp;you&nbsp;doing?!&amp;quot; &lt;a&nbsp;href=&quot;https://twitter.com/hylomorphism/status/114000680875851776&quot;&gt;https://twitter.com/hylomorphism/status/114000680875851776&lt;/a&gt; &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ve&nbsp;been&nbsp;doing&nbsp;some&nbsp;stuff&nbsp;at&nbsp;work&nbsp;with&nbsp;DTrace&nbsp;and&nbsp;I&nbsp;think&nbsp;is&nbsp;pretty&nbsp;cool&nbsp;when&nbsp;it&nbsp;comes&nbsp;to&nbsp;find&nbsp;out&nbsp;what&nbsp;a&nbsp;process&nbsp;is&nbsp;actually&nbsp;doing.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;At&nbsp;the&nbsp;same&nbsp;time&nbsp;there&amp;#39;s&nbsp;an&nbsp;experimental&nbsp;OTP&nbsp;fork&nbsp;on&nbsp;Github&nbsp;that&nbsp;adds&nbsp;Dtrace&nbsp;probes&nbsp;to&nbsp;Erlang: &lt;a&nbsp;href=&quot;https://github.com/dustin/otp/wiki/DTrace&quot;&gt;https://github.com/dustin/otp/wiki/DTrace&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See&nbsp;here&nbsp;for&nbsp;the&nbsp;available&nbsp;probes: &lt;a&nbsp;href=&quot;https://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&quot;&gt;https://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;for&nbsp;example&nbsp;running&nbsp;RabbitMQ&nbsp;based&nbsp;on&nbsp;that&nbsp;Erlang&nbsp;branch&nbsp;you&nbsp;could&nbsp;do&nbsp;things&nbsp;like&nbsp;in&nbsp;this&nbsp;gist: &lt;a&nbsp;href=&quot;https://gist.github.com/1219266&quot;&gt;https://gist.github.com/1219266&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;helvetica,&nbsp;arial,&nbsp;freesans,&nbsp;clean,&nbsp;sans-serif;&nbsp;font-size:&nbsp;11px;&nbsp;line-height:&nbsp;14px;&nbsp;&quot;&gt;&lt;pre&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;font:&nbsp;normal&nbsp;normal&nbsp;normal&nbsp;12px/normal&nbsp;Monaco,&nbsp;&amp;#39;Courier&nbsp;New&amp;#39;,&nbsp;&amp;#39;DejaVu&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;monospace;&nbsp;line-height:&nbsp;1.4em;&nbsp;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;&nbsp;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC1&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;erlang&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;$&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;target&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;:::&lt;/span&gt;&lt;span&nbsp;class=&quot;k&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;font-weight:&nbsp;bold;&nbsp;&quot;&gt;function&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;-&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;entry&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC2&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;/&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;copyinstr&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;arg1&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;)&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;==&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;color:&nbsp;rgb(221,&nbsp;17,&nbsp;68);&nbsp;&quot;&gt;&amp;quot;rabbit_exchange_type_direct:route/2&amp;quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;/&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC3&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;{&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC4&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;    &lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;printf&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;s&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;color:&nbsp;rgb(221,&nbsp;17,&nbsp;68);&nbsp;&quot;&gt;&amp;quot;%s&nbsp;%s&amp;quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;probemod&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;probefunc&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;);&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC5&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;    &lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;self&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;traceIt&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;mi&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;color:&nbsp;rgb(0,&nbsp;153,&nbsp;153);&nbsp;&quot;&gt;1&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;line&quot;&nbsp;id=&quot;LC6&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;1em;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;}&lt;/span&gt;&lt;/div&gt;<br>
&lt;/pre&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;I&nbsp;enable&nbsp;the&nbsp;flag&nbsp;traceIt&nbsp;only&nbsp;when&nbsp;route/2&nbsp;is&nbsp;called&nbsp;on&nbsp;the&nbsp;direct&nbsp;exchange.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;there&nbsp;is&nbsp;just&nbsp;a&nbsp;matter&nbsp;of&nbsp;adding&nbsp;probes&nbsp;to&nbsp;different&nbsp;syscalls&nbsp;or&nbsp;io&nbsp;access&nbsp;etc&nbsp;based&nbsp;using&nbsp;patterns&nbsp;on&nbsp;that&nbsp;flag&nbsp;like:&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;erlang&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;$&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;target&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;:::&lt;/span&gt;&lt;span&nbsp;class=&quot;k&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;font-weight:&nbsp;bold;&nbsp;&quot;&gt;function&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;-&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;entry&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;/&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;self&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;n&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;traceIt&lt;/span&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;{&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;&nbsp;//do&nbsp;something&nbsp;here&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;&amp;#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&amp;#39;,&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;16px;&nbsp;white-space:&nbsp;pre;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;p&quot;&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;padding-top:&nbsp;0px;&nbsp;padding-right:&nbsp;0px;&nbsp;padding-bottom:&nbsp;0px;&nbsp;padding-left:&nbsp;0px;&nbsp;line-height:&nbsp;1.4em;&nbsp;&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and&nbsp;so&nbsp;on. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;can&nbsp;run&nbsp;the&nbsp;gist&nbsp;like: &lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&nbsp;font-family:&nbsp;helvetica,&nbsp;arial,&nbsp;freesans,&nbsp;clean,&nbsp;sans-serif;&nbsp;font-size:&nbsp;12px;&nbsp;line-height:&nbsp;18px;&nbsp;&quot;&gt;sudo&nbsp;dtrace&nbsp;-s&nbsp;route.d&nbsp;-p&nbsp;`pgrep&nbsp;beam.smp`&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;examples&nbsp;are&nbsp;really&nbsp;basic&nbsp;but&nbsp;I&nbsp;think&nbsp;they&nbsp;illustrate&nbsp;the&nbsp;point.&nbsp;With&nbsp;that&nbsp;Erlang&nbsp;branch&nbsp;you&nbsp;could&nbsp;enable&nbsp;more&nbsp;granular&nbsp;probes&nbsp;than&nbsp;with&nbsp;the&nbsp;usual&nbsp;pid&nbsp;provider&nbsp;or&nbsp;dtruss.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;BTW,&nbsp;this&nbsp;works&nbsp;on&nbsp;Mac&nbsp;and&nbsp;Solaris.&nbsp;AFAIK&nbsp;on&nbsp;Linux&nbsp;some&nbsp;Kernel&nbsp;modules&nbsp;are&nbsp;required.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Alvaro&lt;/div&gt;<br>

</tt>
