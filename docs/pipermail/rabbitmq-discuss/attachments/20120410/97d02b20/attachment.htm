<tt>
Simon,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Looks&nbsp;like&nbsp;%2f&nbsp;was&nbsp;needed&nbsp;here.&nbsp;It&nbsp;was&nbsp;weird&nbsp;because&nbsp;my&nbsp;browser/ruby&nbsp;client&nbsp;handled&nbsp;&amp;quot;/api/permissions///&amp;quot;&nbsp;just&nbsp;fine,&nbsp;but&nbsp;not&nbsp;one&nbsp;more&nbsp;level&nbsp;deep. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;<br>
Allan&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Apr&nbsp;10,&nbsp;2012&nbsp;at&nbsp;12:22&nbsp;PM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
On&nbsp;10/04/2012&nbsp;5:07PM,&nbsp;Allan&nbsp;Feid&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&amp;#39;ve&nbsp;been&nbsp;trying&nbsp;to&nbsp;use&nbsp;the&nbsp;API&nbsp;to&nbsp;create&nbsp;user&nbsp;permissions,&nbsp;but&nbsp;this&lt;br&gt;<br>
seems&nbsp;to&nbsp;fail.&nbsp;According&nbsp;to&nbsp;the&nbsp;documentation&lt;br&gt;<br>
/api/permissions/vhost/&lt;u&gt;&lt;/u&gt;username&nbsp;should&nbsp;return&nbsp;the&nbsp;permissions&nbsp;for&nbsp;that&lt;br&gt;<br>
user,&nbsp;but&nbsp;this&nbsp;fails&nbsp;with&nbsp;a&nbsp;404.&nbsp;Using&nbsp;/api/permissions/vhost&nbsp;does&nbsp;show&lt;br&gt;<br>
all&nbsp;the&nbsp;usernames&nbsp;properly,&nbsp;so&nbsp;I&nbsp;figured&nbsp;I&amp;#39;d&nbsp;try&nbsp;to&nbsp;run&nbsp;PUT&nbsp;against&nbsp;the&lt;br&gt;<br>
username&nbsp;path,&nbsp;and&nbsp;that&nbsp;too&nbsp;fails&nbsp;with&nbsp;a&nbsp;404.&nbsp;What&nbsp;is&nbsp;the&nbsp;proper&nbsp;request&lt;br&gt;<br>
to&nbsp;add/change&nbsp;permissions&nbsp;for&nbsp;a&nbsp;user?&nbsp;I&nbsp;attempted&nbsp;to&nbsp;use&lt;br&gt;<br>
/api/users/username/&lt;u&gt;&lt;/u&gt;permissions,&nbsp;but&nbsp;that&nbsp;returns&nbsp;a&nbsp;method&nbsp;not&nbsp;allowed&lt;br&gt;<br>
for&nbsp;PUT&nbsp;requests,&nbsp;as&nbsp;I&nbsp;expected.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
Hi.&nbsp;Are&nbsp;you&nbsp;sure&nbsp;you&nbsp;are&nbsp;getting&nbsp;the&nbsp;username&nbsp;right?&nbsp;This&nbsp;works&nbsp;for&nbsp;me:&lt;br&gt;<br>
&lt;br&gt;<br>
$&nbsp;curl&nbsp;-i&nbsp;-u&nbsp;guest:guest&nbsp;-H&nbsp;&amp;quot;content-type:application/&lt;u&gt;&lt;/u&gt;json&amp;quot;&nbsp;-XPUT&nbsp;\&lt;br&gt;<br>
&nbsp; -d&amp;#39;{&amp;quot;configure&amp;quot;:&amp;quot;foo&amp;quot;,&amp;quot;write&amp;quot;:&lt;u&gt;&lt;/u&gt;&amp;quot;bar&amp;quot;,&amp;quot;read&amp;quot;:&amp;quot;baz&amp;quot;}&amp;#39;&nbsp;\&lt;br&gt;<br>
&nbsp; &lt;a&nbsp;href=&quot;http://localhost:55672/api/permissions/%2f/guest&quot;&nbsp;target=&quot;_blank&quot;&gt;http://localhost:55672/api/&lt;u&gt;&lt;/u&gt;permissions/%2f/guest&lt;/a&gt;&lt;br&gt;<br>
HTTP/1.1&nbsp;204&nbsp;No&nbsp;Content&lt;br&gt;<br>
Server:&nbsp;MochiWeb/1.1&nbsp;WebMachine/1.7&nbsp;(participate&nbsp;in&nbsp;the&nbsp;frantic)&lt;br&gt;<br>
Date:&nbsp;Tue,&nbsp;10&nbsp;Apr&nbsp;2012&nbsp;16:15:58&nbsp;GMT&lt;br&gt;<br>
Content-Type:&nbsp;application/json&lt;br&gt;<br>
Content-Length:&nbsp;0&lt;br&gt;<br>
&lt;br&gt;<br>
$&nbsp;curl&nbsp;-i&nbsp;-u&nbsp;guest:guest&nbsp;-H&nbsp;&amp;quot;content-type:application/&lt;u&gt;&lt;/u&gt;json&amp;quot;&nbsp;\&lt;br&gt;<br>
&nbsp; &lt;a&nbsp;href=&quot;http://localhost:55672/api/permissions/%2f/guest&quot;&nbsp;target=&quot;_blank&quot;&gt;http://localhost:55672/api/&lt;u&gt;&lt;/u&gt;permissions/%2f/guest&lt;/a&gt;&lt;br&gt;<br>
HTTP/1.1&nbsp;200&nbsp;OK&lt;br&gt;<br>
Server:&nbsp;MochiWeb/1.1&nbsp;WebMachine/1.7&nbsp;(participate&nbsp;in&nbsp;the&nbsp;frantic)&lt;br&gt;<br>
Date:&nbsp;Tue,&nbsp;10&nbsp;Apr&nbsp;2012&nbsp;16:16:55&nbsp;GMT&lt;br&gt;<br>
Content-Type:&nbsp;application/json&lt;br&gt;<br>
Content-Length:&nbsp;73&lt;br&gt;<br>
Cache-Control:&nbsp;no-cache&lt;br&gt;<br>
&lt;br&gt;<br>
{&amp;quot;user&amp;quot;:&amp;quot;guest&amp;quot;,&amp;quot;vhost&amp;quot;:&amp;quot;/&amp;quot;,&amp;quot;&lt;u&gt;&lt;/u&gt;configure&amp;quot;:&amp;quot;foo&amp;quot;,&amp;quot;write&amp;quot;:&amp;quot;bar&amp;quot;&lt;u&gt;&lt;/u&gt;,&amp;quot;read&amp;quot;:&amp;quot;baz&amp;quot;}&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
