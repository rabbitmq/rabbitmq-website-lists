<tt>
&lt;div&nbsp;style=&quot;line-height:1.7;color:#000000;font-size:14px;font-family:arial&quot;&gt;Hi&nbsp;Michael,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;your&nbsp;response&nbsp;very&nbsp;much!&lt;/div&gt;&lt;div&gt;&lt;pre&gt;There&nbsp;indeed&nbsp;were&nbsp;some&nbsp;RAM&nbsp;alarms&nbsp;logged&nbsp;while&nbsp;no&nbsp;disk&nbsp;alarm.&nbsp;The&nbsp;RAM&nbsp;alarms&nbsp;were&nbsp;raised&nbsp;after&nbsp;message&nbsp;accumulate&nbsp;for&nbsp;a&nbsp;long&nbsp;time.&nbsp;&lt;/pre&gt;&lt;pre&gt;It&nbsp;should&nbsp;be&nbsp;the&nbsp;result,&nbsp;not&nbsp;the&nbsp;reason,&nbsp;right?(before&nbsp;the&nbsp;alarms&nbsp;raised,&nbsp;consumers&nbsp;could&nbsp;not&nbsp;receive&nbsp;message&nbsp;already)&nbsp;&lt;/pre&gt;&lt;pre&gt;What&nbsp;I&nbsp;can&nbsp;saw&nbsp;at&nbsp;that&nbsp;time&nbsp;was&nbsp;that&nbsp;all&nbsp;consumer&nbsp;threads&nbsp;could&nbsp;not&nbsp;receive&nbsp;message&nbsp;from&nbsp;rabbitmq&nbsp;and&nbsp;gdb&nbsp;tell&nbsp;me&nbsp;they&nbsp;were&nbsp;blocked&nbsp;in&nbsp;tcp&nbsp;receive&nbsp;function.&lt;/pre&gt;&lt;pre&gt;The&nbsp;connection&nbsp;usage&nbsp;currently&nbsp;is&nbsp;not&nbsp;very&nbsp;well&nbsp;and&nbsp;we&nbsp;will&nbsp;enhance&nbsp;it&nbsp;later.&nbsp;What&nbsp;I&nbsp;confused&nbsp;is&nbsp;the&nbsp;blocking&nbsp;of&nbsp;consumer(as&nbsp;you&nbsp;said,&nbsp;they&nbsp;should&nbsp;not&nbsp;be&nbsp;blocked).&nbsp;The&nbsp;reason&nbsp;&nbsp;is&nbsp;still&nbsp;uncertain.&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;pre&gt;At&nbsp;2014-04-25&nbsp;19:58:36,&quot;Michael&nbsp;Klishin&quot;&nbsp;&lt;mklishin@gopivotal.com&gt;&nbsp;wrote:<br>
&gt;<br>
&gt;Resource-based&nbsp;flow&nbsp;control&nbsp;should&nbsp;only&nbsp;block&nbsp;publishers.&nbsp;Re-creating&nbsp;connections<br>
&gt;won¡¯t&nbsp;help:&nbsp;every&nbsp;publishing&nbsp;connection&nbsp;will&nbsp;be&nbsp;blocked.&nbsp;Consumers&nbsp;should&nbsp;not<br>
&gt;be&nbsp;blocked&nbsp;but&nbsp;nearly&nbsp;running&nbsp;out&nbsp;of&nbsp;disk&nbsp;space&nbsp;sounds&nbsp;alarming&nbsp;and&nbsp;can&nbsp;prevent<br>
&gt;RabbitMQ&nbsp;from&nbsp;moving&nbsp;messages&nbsp;to&nbsp;disk&nbsp;or&nbsp;very&nbsp;heavy&nbsp;OS&nbsp;paging&nbsp;.<br>
&gt;<br>
&gt;What¡¯s&nbsp;in&nbsp;RabbitMQ&nbsp;log?&nbsp;There&nbsp;should&nbsp;be&nbsp;disk&nbsp;and&nbsp;RAM&nbsp;alarms&nbsp;logged.&nbsp;rabbitmqctl&nbsp;status<br>
&gt;indicates&nbsp;disk&nbsp;limit&nbsp;alarm&nbsp;should&nbsp;be&nbsp;on.&lt;/pre&gt;&lt;pre&gt;&lt;br&gt;&lt;/pre&gt;&lt;pre&gt;&gt;--&nbsp;&nbsp;<br>
&gt;MK&nbsp;&nbsp;<br>
&gt;<br>
&gt;Software&nbsp;Engineer,&nbsp;Pivotal/RabbitMQ<br>
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;title=&quot;neteasefooter&quot;&gt;&lt;span&nbsp;id=&quot;netease_mail_footer&quot;&gt;&lt;/span&gt;&lt;/span&gt;
</tt>
