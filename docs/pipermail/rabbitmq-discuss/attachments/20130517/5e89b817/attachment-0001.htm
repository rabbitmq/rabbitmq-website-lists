<tt>
&lt;html&nbsp;xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;&nbsp;xmlns:o=&quot;urn:schemas-microsoft-com:office:office&quot;&nbsp;xmlns:w=&quot;urn:schemas-microsoft-com:office:word&quot;&nbsp;xmlns:m=&quot;http://schemas.microsoft.com/office/2004/12/omml&quot;&nbsp;xmlns=&quot;http://www.w3.org/TR/REC-html40&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;14&nbsp;(filtered&nbsp;medium)&quot;&gt;<br>
&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{font-family:Calibri;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppanose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{margin:0in;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmargin-bottom:.0001pt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-size:11.0pt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-priority:99;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcolor:blue;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsptext-decoration:underline;}<br>
a:visited,&nbsp;span.MsoHyperlinkFollowed<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-priority:99;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcolor:purple;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsptext-decoration:underline;}<br>
span.EmailStyle17<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-type:personal-compose;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcolor:windowtext;}<br>
.MsoChpDefault<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-type:export-only;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;}<br>
@page&nbsp;WordSection1<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{size:8.5in&nbsp;11.0in;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmargin:1.0in&nbsp;1.0in&nbsp;1.0in&nbsp;1.0in;}<br>
div.WordSection1<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{page:WordSection1;}<br>
--&gt;&lt;/style&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapedefaults&nbsp;v:ext=&quot;edit&quot;&nbsp;spidmax=&quot;1026&quot;&nbsp;/&gt;<br>
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapelayout&nbsp;v:ext=&quot;edit&quot;&gt;<br>
&lt;o:idmap&nbsp;v:ext=&quot;edit&quot;&nbsp;data=&quot;1&quot;&nbsp;/&gt;<br>
&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;lang=&quot;EN-US&quot;&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&gt;<br>
&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Hello,&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;I&amp;#8217;ve&nbsp;been&nbsp;working&nbsp;with&nbsp;several&nbsp;two&nbsp;node&nbsp;clusters&nbsp;running&nbsp;various&nbsp;versions&nbsp;of&nbsp;3.0.x,&nbsp;hosted&nbsp;on&nbsp;m1.small&nbsp;instances&nbsp;on&nbsp;Ubuntu&nbsp;12.04.2&nbsp;LTS&nbsp;in&nbsp;EC2.&amp;nbsp;&nbsp;The&nbsp;setup&nbsp;is&nbsp;essentially&nbsp;as&nbsp;described&nbsp;here<br>
&lt;a&nbsp;href=&quot;http://karlgrz.com/rabbitmq-highly-available-queues-and-clustering-using-amazon-ec2/&quot;&gt;<br>
http://karlgrz.com/rabbitmq-highly-available-queues-and-clustering-using-amazon-ec2/&lt;/a&gt;&nbsp;with&nbsp;the&nbsp;main&nbsp;exception&nbsp;being&nbsp;that&nbsp;both&nbsp;of&nbsp;the&nbsp;RabbitMQ&nbsp;servers&nbsp;are&nbsp;in&nbsp;the&nbsp;same&nbsp;availability&nbsp;zone.&amp;nbsp;&nbsp;A&nbsp;while&nbsp;back&nbsp;I&nbsp;observed&nbsp;a&nbsp;half&nbsp;dozen&nbsp;or&nbsp;so&nbsp;occurrences&nbsp;over&nbsp;the&nbsp;course<br>
&nbsp;of&nbsp;a&nbsp;week&nbsp;where&nbsp;the&nbsp;clusters&nbsp;would&nbsp;become&nbsp;partitioned,&nbsp;accompanied&nbsp;by&nbsp;a&nbsp;messages&nbsp;on&nbsp;each&nbsp;server&nbsp;such&nbsp;as:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;=ERROR&nbsp;REPORT====&nbsp;17-May-2013::01:56:45&nbsp;===&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;**&nbsp;Node&nbsp;'rabbit@oemsg-new-29b15241'&nbsp;not&nbsp;responding&nbsp;**&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;**&nbsp;Removing&nbsp;(timedout)&nbsp;connection&nbsp;**&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;=INFO&nbsp;REPORT====&nbsp;17-May-2013::01:56:45&nbsp;===&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;rabbit&nbsp;on&nbsp;node&nbsp;'rabbit@oemsg-new-29b15241'&nbsp;down&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Looking&nbsp;over&nbsp;the&nbsp;logs&nbsp;and&nbsp;EC2&nbsp;metrics,&nbsp;I&nbsp;wasn&amp;#8217;t&nbsp;able&nbsp;to&nbsp;identify&nbsp;any&nbsp;other&nbsp;anomalies&nbsp;that&nbsp;coincided&nbsp;with&nbsp;these&nbsp;failures.&amp;nbsp;&nbsp;In&nbsp;particular,&nbsp;the&nbsp;load&nbsp;balancers&nbsp;in&nbsp;front&nbsp;of&nbsp;the&nbsp;cluster&nbsp;nodes&nbsp;did&nbsp;not&nbsp;report&nbsp;any&nbsp;health&nbsp;check&nbsp;failures&nbsp;connecting<br>
&nbsp;to&nbsp;the&nbsp;amqp&nbsp;port&nbsp;(on&nbsp;a&nbsp;30&nbsp;second&nbsp;interval),&nbsp;suggesting&nbsp;that&nbsp;network&nbsp;connectivity&nbsp;was&nbsp;otherwise&nbsp;healthy,&nbsp;and&nbsp;there&nbsp;didn&amp;#8217;t&nbsp;appear&nbsp;to&nbsp;be&nbsp;any&nbsp;unexpected&nbsp;spikes&nbsp;in&nbsp;resource&nbsp;consumption&nbsp;(such&nbsp;as&nbsp;excessive&nbsp;cpu/disk/network&nbsp;activity).&amp;nbsp;&nbsp;The&nbsp;rabbit&nbsp;servers&nbsp;were&nbsp;fairly<br>
&nbsp;lightly&nbsp;loaded&nbsp;with&nbsp;messaging&nbsp;traffic&nbsp;at&nbsp;the&nbsp;time,&nbsp;and&nbsp;running&nbsp;some&nbsp;load&nbsp;tests&nbsp;against&nbsp;the&nbsp;same&nbsp;servers&nbsp;afterwards&nbsp;didn&amp;#8217;t&nbsp;induce&nbsp;any&nbsp;further&nbsp;failures&nbsp;over&nbsp;the&nbsp;course&nbsp;of&nbsp;several&nbsp;days.&amp;nbsp;&nbsp;I&nbsp;tried&nbsp;increasing&nbsp;the&nbsp;net_ticktime&nbsp;to&nbsp;something&nbsp;like&nbsp;5&nbsp;or&nbsp;10&nbsp;minutes,&nbsp;but<br>
&nbsp;still&nbsp;observed&nbsp;a&nbsp;failure&nbsp;with&nbsp;the&nbsp;new&nbsp;value.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;I&nbsp;left&nbsp;several&nbsp;clusters&nbsp;running&nbsp;over&nbsp;an&nbsp;extended&nbsp;period,&nbsp;most&nbsp;with&nbsp;little&nbsp;or&nbsp;no&nbsp;load,&nbsp;with&nbsp;one&nbsp;cluster&nbsp;running&nbsp;under&nbsp;an&nbsp;extended&nbsp;load&nbsp;test.&amp;nbsp;&nbsp;Several&nbsp;of&nbsp;the&nbsp;clusters&nbsp;experienced&nbsp;no&nbsp;failures&nbsp;over&nbsp;the&nbsp;course&nbsp;of&nbsp;a&nbsp;couple&nbsp;of&nbsp;months,&nbsp;while&nbsp;others<br>
&nbsp;became&nbsp;partitioned&nbsp;after&nbsp;a&nbsp;while&nbsp;(though&nbsp;they&nbsp;seemed&nbsp;to&nbsp;survive&nbsp;for&nbsp;at&nbsp;least&nbsp;a&nbsp;few&nbsp;weeks&nbsp;before&nbsp;partition).&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Anyone&nbsp;experience&nbsp;anything&nbsp;similar&nbsp;in&nbsp;EC2,&nbsp;or&nbsp;have&nbsp;any&nbsp;ideas&nbsp;what&nbsp;else&nbsp;might&nbsp;be&nbsp;done&nbsp;to&nbsp;diagnose&nbsp;what&amp;#8217;s&nbsp;going&nbsp;on?&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;&quot;&gt;Ray&nbsp;Maslinski&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/b&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;&quot;&gt;Senior&nbsp;Software&nbsp;Developer,&nbsp;Engineering&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;&quot;&gt;Valassis&nbsp;/&nbsp;Digital&nbsp;Media&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;&quot;&gt;Cell:&nbsp;585.330.2426&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;&quot;&gt;maslinskir@valassis.com&lt;/span&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;a&nbsp;href=&quot;http://www.valassis.com/&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;;color:windowtext&quot;&gt;www.valassis.com&lt;/span&gt;&lt;/a&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;color:#1F497D&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;;color:black&quot;&gt;Creating&nbsp;the&nbsp;future&nbsp;of&nbsp;intelligent&nbsp;media&nbsp;delivery&nbsp;to&nbsp;drive&nbsp;your&nbsp;greatest&nbsp;success&lt;br&gt;<br>
&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:10.5pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;;color:black&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;;color:black&quot;&gt;_____________________________________________________________________________&lt;/span&gt;&lt;/b&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;;color:black&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;message&nbsp;may&nbsp;include&nbsp;proprietary&nbsp;or&nbsp;protected&nbsp;information.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&amp;nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Arial&amp;quot;,&amp;quot;sans-serif&amp;quot;;color:black&quot;&gt;recipient,&nbsp;please&nbsp;notify&nbsp;me,&nbsp;delete&nbsp;this&nbsp;message&nbsp;and&nbsp;do&nbsp;not&nbsp;further&nbsp;communicate&nbsp;the&nbsp;information&amp;nbsp;&lt;br&gt;<br>
contained&nbsp;herein&nbsp;without&nbsp;my&nbsp;express&nbsp;consent.&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
