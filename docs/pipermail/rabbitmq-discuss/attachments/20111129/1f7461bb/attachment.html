<tt>
Merek,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you!&nbsp;I&nbsp;installed&nbsp;the&nbsp;management&nbsp;plugin&nbsp;and&nbsp;I&nbsp;could&nbsp;see&nbsp;the&nbsp;file&nbsp;descriptors&nbsp;increasing&nbsp;until&nbsp;the&nbsp;limit. &lt;/div&gt;&lt;div&gt;Then&nbsp;I&nbsp;set&nbsp;the&nbsp;limit&nbsp;using&nbsp;the&nbsp;command&nbsp;you&nbsp;suggest&nbsp;(ulimit&nbsp;-n).&lt;/div&gt;&lt;div&gt;Everything&nbsp;worked&nbsp;fine.&lt;/div&gt;<br>
<br>
&lt;div&gt;One&nbsp;more&nbsp;question,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;know&nbsp;where&nbsp;did&nbsp;you&nbsp;find&nbsp;that  &amp;quot;{error,emfile}&amp;quot;&nbsp;is (errno&nbsp;24&nbsp;-&nbsp;&amp;quot;too&nbsp;many&nbsp;file&nbsp;descriptors&nbsp;opened&amp;quot;).&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;again,&nbsp;you&nbsp;really&nbsp;help&nbsp;me!&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Bruno&nbsp;Carneiro&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2011/11/28&nbsp;Marek&nbsp;Majkowski&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:majek04@gmail.com&quot;&gt;majek04@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Mon,&nbsp;Nov&nbsp;28,&nbsp;2011&nbsp;at&nbsp;18:57,&nbsp;Bruno&nbsp;Carneiro&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:brunoac88@gmail.com&quot;&gt;brunoac88@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
&amp;gt;&nbsp;Hi&nbsp;Folks,&lt;br&gt;<br>
&amp;gt;&nbsp;I&amp;#39;m&nbsp;using&nbsp;Rabbit&nbsp;2.6.1&nbsp;with&nbsp;the&nbsp;plugins:&lt;br&gt;<br>
&amp;gt;&nbsp;*&nbsp;amqp_client-2.6.1&lt;br&gt;<br>
&amp;gt;&nbsp;*&nbsp;mochiweb-1.3-rmq2.6.1-git9a53dbd&lt;br&gt;<br>
&amp;gt;&nbsp;*&nbsp;rabbitmq_jsonrpc-2.6.1&lt;br&gt;<br>
&amp;gt;&nbsp;*&nbsp;rabbitmq_jsonrpc_channel-2.6.1&lt;br&gt;<br>
&amp;gt;&nbsp;*&nbsp;rabbitmq_jsonrpc_channel_examples-2.6.1&lt;br&gt;<br>
&amp;gt;&nbsp;*&nbsp;rabbitmq_mochiweb-2.6.1&lt;br&gt;<br>
&amp;gt;&nbsp;*&nbsp;rfc4627_jsonrpc-2.6.1-git30c8498&lt;br&gt;<br>
&amp;gt;&nbsp;*&nbsp;webmachine-1.7.0-rmq2.6.1-hg0c4b60a&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;When&nbsp;I&nbsp;start&nbsp;Rabbit&nbsp;it&nbsp;goes&nbsp;down&nbsp;after&nbsp;a&nbsp;few&nbsp;minutes.&nbsp;Using&nbsp;list_queues&nbsp;I&lt;br&gt;<br>
&amp;gt;&nbsp;get:&lt;br&gt;<br>
&amp;gt;&nbsp;unable&nbsp;to&nbsp;connect&nbsp;to&nbsp;node&nbsp;rabbit@HackSprintFreud:&nbsp;nodedown&lt;br&gt;<br>
&amp;gt;&nbsp;Logs:&lt;br&gt;<br>
&amp;gt;&nbsp;=ERROR&nbsp;REPORT====&nbsp;28-Nov-2011::16:46:58&nbsp;===&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;application:&nbsp;mochiweb&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;&amp;quot;Accept&nbsp;failed&nbsp;error&amp;quot;&lt;br&gt;<br>
&amp;gt;&nbsp; &nbsp; &nbsp;&amp;quot;{error,emfile}&amp;quot;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Just&nbsp;a&nbsp;blind&nbsp;guess:&lt;br&gt;<br>
 EMFILE&nbsp;(errno&nbsp;24&nbsp;-&nbsp;&amp;quot;too&nbsp;many&nbsp;file&nbsp;descriptors&nbsp;opened&amp;quot;)&lt;br&gt;<br>
&lt;br&gt;<br>
Maybe&nbsp;you&nbsp;have&nbsp;too&nbsp;many&nbsp;files&nbsp;opened?&nbsp;You&nbsp;can&nbsp;see&lt;br&gt;<br>
the&nbsp;numbers&nbsp;using&nbsp;management&nbsp;plugin.&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;linux&nbsp;you&nbsp;can&nbsp;increase&nbsp;the&nbsp;limit&nbsp;by&nbsp;running&lt;br&gt;<br>
`ulimit&nbsp;-n&nbsp;&amp;lt;number&amp;gt;`,&nbsp;but&nbsp;you&nbsp;have&nbsp;to&nbsp;be&nbsp;root.&lt;br&gt;<br>
&lt;br&gt;<br>
Usually,&nbsp;rabbit&nbsp;tries&nbsp;to&nbsp;optimize&nbsp;the&nbsp;usage&nbsp;of&nbsp;file&nbsp;descriptors,&lt;br&gt;<br>
in&nbsp;case&nbsp;when&nbsp;you&nbsp;have&nbsp;many&nbsp;queues&nbsp;it&nbsp;can&nbsp;mean&nbsp;that&nbsp;rabbit&lt;br&gt;<br>
opens&nbsp;loads&nbsp;of&nbsp;files.&nbsp;But&nbsp;as&nbsp;you&nbsp;open&nbsp;more&nbsp;and&nbsp;more&nbsp;network&lt;br&gt;<br>
sockets&nbsp;the&nbsp;number&nbsp;of&nbsp;opened&nbsp;files&nbsp;should&nbsp;drop.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;may&nbsp;not&nbsp;be&nbsp;a&nbsp;case&nbsp;for&nbsp;jsonrpc&nbsp;-&nbsp;AFAIK&nbsp;it&nbsp;doesn&amp;#39;t&nbsp;have&lt;br&gt;<br>
code&nbsp;for&nbsp;dealing&nbsp;with&nbsp;usual&nbsp;rabbitmq&nbsp;file&nbsp;descriptor&lt;br&gt;<br>
counters.&nbsp;Theoretically&nbsp;in&nbsp;that&nbsp;case,&nbsp;when&nbsp;you&nbsp;have&nbsp;many&lt;br&gt;<br>
files&nbsp;opened&nbsp;by&nbsp;jsonrpc&nbsp;-&nbsp;you&nbsp;may&nbsp;hit&nbsp;the&nbsp;wall.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;suggest&nbsp;run&nbsp;the&nbsp;management&nbsp;plugin&nbsp;and&nbsp;checking&nbsp;the&lt;br&gt;<br>
file&nbsp;descriptors&nbsp;counters,&nbsp;trying&nbsp;to&nbsp;get&nbsp;understanding&nbsp;about&lt;br&gt;<br>
jsonrpc&nbsp;plugin&nbsp;usage.&nbsp;And&nbsp;increasing&nbsp;the&nbsp;file&nbsp;descriptor&lt;br&gt;<br>
limit&nbsp;if&nbsp;necessary.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
&nbsp; &nbsp; Marek&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
