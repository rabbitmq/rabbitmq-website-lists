<tt>
I&nbsp;am&nbsp;using&nbsp;the&nbsp;PHP&nbsp;AMQP&nbsp;extension,&nbsp;as&nbsp;described&nbsp;here:&lt;br&gt;&lt;br&gt; &nbsp;&lt;a&nbsp;href=&quot;http://php.net/manual/en/book.amqp.php&quot;&nbsp;target=&quot;_blank&quot;&gt;http://php.net/manual/en/book.amqp.php&lt;/a&gt;&lt;br&gt;&lt;br&gt;This&nbsp;PHP&nbsp;extension&nbsp;uses&nbsp;the&nbsp;rabbitmq-c&nbsp;library&nbsp;as&nbsp;its&nbsp;underlying&nbsp;implementation.&lt;br&gt;<br>
<br>
&lt;br&gt;I&nbsp;would&nbsp;like&nbsp;to&nbsp;set&nbsp;socket&nbsp;timeouts&nbsp;for&nbsp;connection&nbsp;establishment&nbsp;and&nbsp;for&nbsp;each&nbsp;of&nbsp;my&nbsp;enqueues&nbsp;and&nbsp;dequeues.&nbsp;I&nbsp;want&nbsp;to&nbsp;do&nbsp;this&nbsp;in&nbsp;case&nbsp;our&nbsp;server&nbsp;performance&nbsp;degrades,&nbsp;to&nbsp;allow&nbsp;the&nbsp;clients&nbsp;to&nbsp;fail&nbsp;quickly&nbsp;rather&nbsp;than&nbsp;hang.&lt;br&gt;<br>
<br>
&lt;br&gt;Does&nbsp;anyone&nbsp;have&nbsp;experience&nbsp;doing&nbsp;this&nbsp;in&nbsp;a&nbsp;PHP&nbsp;environment? &nbsp;I&nbsp;have&nbsp;tried&nbsp;setting&nbsp;the&nbsp;PHP&nbsp;socket&nbsp;timeout&nbsp;as&nbsp;follows.&lt;br&gt;&lt;br&gt; &nbsp;ini_set(&amp;#39;default_socket_timeout&amp;#39;,&nbsp;5);&lt;br&gt;&lt;br&gt;This&nbsp;appears&nbsp;to&nbsp;have&nbsp;no&nbsp;impact&nbsp;on&nbsp;the&nbsp;PHP&nbsp;extension&amp;#39;s&nbsp;timeout&nbsp;settings.&nbsp;I&nbsp;am&nbsp;still&nbsp;able&nbsp;to&nbsp;enqueue&nbsp;a&nbsp;multi-megabyte&nbsp;MQ&nbsp;message&nbsp;to&nbsp;rabbitmq&nbsp;without&nbsp;losing&nbsp;the&nbsp;socket&nbsp;connection.&nbsp;It&nbsp;takes&nbsp;about&nbsp;75&nbsp;seconds&nbsp;to&nbsp;enqueue&nbsp;this&nbsp;message,&nbsp;but&nbsp;the&nbsp;socket&nbsp;is&nbsp;kept&nbsp;open&nbsp;the&nbsp;entire&nbsp;time.&lt;br&gt;<br>
<br>
&lt;br&gt;Is&nbsp;there&nbsp;any&nbsp;support&nbsp;either&nbsp;in&nbsp;the&nbsp;PHP&nbsp;AMQP&nbsp;extension&nbsp;or&nbsp;in&nbsp;a&nbsp;different&nbsp;PHP&nbsp;setting&nbsp;that&nbsp;I&nbsp;can&nbsp;use&nbsp;to&nbsp;reduce&nbsp;the&nbsp;timeouts&nbsp;for&nbsp;our&nbsp;interactions&nbsp;with&nbsp;RabbitMQ? &nbsp;I&amp;#39;d&nbsp;rather&nbsp;not&nbsp;live&nbsp;with&nbsp;a&nbsp;potential&nbsp;problem&nbsp;of&nbsp;hanging&nbsp;client&nbsp;processes&nbsp;if&nbsp;I&nbsp;can&nbsp;avoid&nbsp;it.&nbsp;&lt;br&gt;<br>
&lt;br&gt;Thanks,&lt;br&gt;&lt;br&gt;-Keith&lt;br&gt;&lt;br&gt;<br>

</tt>
