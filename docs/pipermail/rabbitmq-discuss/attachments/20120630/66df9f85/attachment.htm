<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type='text/css'&gt;p&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style='font-family:&nbsp;arial,helvetica,sans-serif;&nbsp;font-size:&nbsp;12pt;&nbsp;color:&nbsp;#000000'&gt;In&nbsp;the&nbsp;Producer&nbsp;I&nbsp;need&nbsp;to&nbsp;know&nbsp;if&nbsp;there&nbsp;are&nbsp;Consumers&nbsp;connected&nbsp;to&nbsp;the&nbsp;queue&nbsp;or&nbsp;not,&nbsp;to&nbsp;know&nbsp;if&nbsp;the&nbsp;messages&nbsp;could&nbsp;be&nbsp;processed&nbsp;in&nbsp;a&nbsp;medium&nbsp;or&nbsp;long&nbsp;term.&lt;br&gt;&lt;br&gt;I&nbsp;use&nbsp;the&nbsp;java&nbsp;client.&nbsp;To&nbsp;solve&nbsp;my&nbsp;problem&nbsp;I&nbsp;thought&nbsp;in:&lt;br&gt;&lt;br&gt;1-&nbsp;to&nbsp;use&nbsp;the&nbsp;method&nbsp;getConsumerCount&nbsp;of&nbsp;the&nbsp;queue.&lt;br&gt;&lt;br&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;&lt;em&gt;AMQP.Queue.DeclareOk&nbsp;my_queue&nbsp;=&nbsp;queueDeclare(&quot;name_queue&quot;,&nbsp;false,&nbsp;false,&nbsp;false,&nbsp;null);&lt;/em&gt;&lt;br&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;int&nbsp;cont&nbsp;=&nbsp;my_queue.getConsumerCount();&lt;/span&gt;&lt;br&gt;&lt;br&gt;but,&nbsp;the&nbsp;consumer&nbsp;is&nbsp;disconnected&nbsp;of&nbsp;the&nbsp;queue&nbsp;when&nbsp;it&nbsp;is&nbsp;processing&nbsp;the&nbsp;message.&nbsp;For&nbsp;this&nbsp;reason,&nbsp;the&nbsp;Producer&nbsp;fails&nbsp;to&nbsp;recognize&nbsp;that&nbsp;there&nbsp;are&nbsp;Consumers&nbsp;for&nbsp;to&nbsp;work&nbsp;when&nbsp;really&nbsp;yes&nbsp;exist.&lt;br&gt;&lt;br&gt;2-&amp;nbsp;&nbsp;Declaring&nbsp;a&nbsp;queue&nbsp;as&nbsp;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;passive&lt;/span&gt;&nbsp;in&nbsp;the&nbsp;Producer&nbsp;and&nbsp;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;autodelete&lt;/span&gt;&nbsp;in&nbsp;the&nbsp;Consumer.&nbsp;Thus,&nbsp;the&nbsp;queue&amp;nbsp;&nbsp;only&nbsp;exists&nbsp;when&nbsp;the&nbsp;Consumer&nbsp;is&nbsp;connected&nbsp;and&nbsp;the&nbsp;queue&nbsp;is&nbsp;destroyed&nbsp;when&nbsp;the&nbsp;Consumer&nbsp;dies.&lt;br&gt;&lt;br&gt;In&nbsp;el&nbsp;Consumer:&nbsp;&lt;span&nbsp;style=&quot;font-style:&nbsp;italic;&quot;&gt;channel.queueDeclare(&quot;nam_queue&quot;,&nbsp;false,&nbsp;false,&nbsp;true,&nbsp;null);&lt;/span&gt;&lt;br&gt;&lt;br&gt;but&nbsp;the&nbsp;queue&nbsp;is&nbsp;also&nbsp;destroyed&nbsp;when&nbsp;the&nbsp;Consumer&nbsp;reads&nbsp;every&nbsp;message.&lt;br&gt;&lt;br&gt;Any&nbsp;idea&nbsp;for&nbsp;to&nbsp;know&nbsp;in&nbsp;the&nbsp;Producer&nbsp;if&nbsp;there&nbsp;are&nbsp;Consumers&nbsp;connected?&lt;br&gt;&lt;br&gt;Thanks&nbsp;in&nbsp;advance.&lt;br&gt;Yuri.&lt;br&gt;&lt;/div&gt;<br>
&lt;br&gt;&lt;html&gt;<br>
&lt;body&gt;<br>
&lt;a&nbsp;href=&quot;http://www.uci.cu/&quot;&gt;<br>
&lt;img&nbsp;src=&quot;http://universidad.uci.cu/email.gif&quot;/&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
<br>
&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
