<tt>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Hi,&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;I&nbsp;have&nbsp;RabbitMQ&nbsp;cluster&nbsp;(2&nbsp;instances&nbsp;of&nbsp;v2.6)&nbsp;on&nbsp;EC2.&nbsp;With<br>
this&nbsp;setup&nbsp;I&nbsp;am&nbsp;able&nbsp;to&nbsp;process&nbsp;around&nbsp;51K/s&nbsp;messages.&nbsp;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;I&nbsp;have&nbsp;one&nbsp;exchange&nbsp;and&nbsp;3&nbsp;queues&nbsp;bound&nbsp;to&nbsp;each&nbsp;instance totaling to&nbsp;6&nbsp;consumers&nbsp;and&nbsp;3&nbsp;producer&nbsp;each&nbsp;sending&nbsp;messages&nbsp;to&nbsp;each&nbsp;instance totaling to&nbsp;6&nbsp;producers.&nbsp;Note&nbsp;that&nbsp;queue&nbsp;is&nbsp;not&nbsp;durable.&lt;/p&gt;<br>
<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;I&nbsp;am&nbsp;expected&nbsp;to&nbsp;validate&nbsp;if&nbsp;one&nbsp;of&nbsp;instance&nbsp;in&nbsp;cluster&nbsp;goes<br>
down&nbsp;then&nbsp;would&nbsp;I&nbsp;be&nbsp;losing&nbsp;messages?&nbsp;If&nbsp;yes&nbsp;then&nbsp;what&nbsp;could&nbsp;be&nbsp;done&nbsp;to&nbsp;avoid<br>
that.&nbsp;We&nbsp;tried&nbsp;durable&nbsp;queues&nbsp;but&nbsp;it&nbsp;does&nbsp;not&nbsp;give&nbsp;desired&nbsp;performance&nbsp;due&nbsp;to&nbsp;very&nbsp;high&nbsp;IO&nbsp;and&nbsp;that&nbsp;too&nbsp;on&nbsp;virtual&nbsp;environment&nbsp;like&nbsp;EC2.&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;regards,&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;<br>
Jaymin&lt;/p&gt;<br>

</tt>
