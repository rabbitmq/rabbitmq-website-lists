<tt>
&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;I've&nbsp;noticed&nbsp;this&nbsp;behavior&nbsp;as&nbsp;well.&nbsp;In&nbsp;my&nbsp;case,&nbsp;I&nbsp;was&nbsp;over&nbsp;saturating&nbsp;a&nbsp;single&nbsp;node&nbsp;in&nbsp;a&nbsp;cluster.&nbsp;I&nbsp;solved&nbsp;my&nbsp;problem&nbsp;by&nbsp;expanding&nbsp;my&nbsp;cluster&nbsp;size&nbsp;and&nbsp;balancing&nbsp;my&nbsp;publishers&nbsp;across&nbsp;the&nbsp;cluster.&nbsp;&amp;nbsp;You&nbsp;might&nbsp;want&nbsp;to&nbsp;check&nbsp;the&nbsp;rabbitmq.log/rabbmq-sasl.log&nbsp;file&nbsp;and&nbsp;see&nbsp;if&nbsp;you&nbsp;notice&nbsp;any&nbsp;weird&nbsp;behavior&nbsp;in&nbsp;there,&nbsp;such&nbsp;as&nbsp;abnormal&nbsp;connection&nbsp;terminations.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;Hope&nbsp;this&nbsp;helps,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;Gavin&lt;/span&gt;&lt;/div&gt;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#a0a0a0;&quot;&gt;On&nbsp;Wednesday,&nbsp;March&nbsp;9,&nbsp;2011&nbsp;at&nbsp;8:20&nbsp;AM,&nbsp;Daniel&nbsp;Maher&nbsp;wrote:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;div&gt;&lt;div&gt;Hello,&lt;br&gt;&lt;br&gt;We&nbsp;are&nbsp;running&nbsp;a&nbsp;two&nbsp;node&nbsp;RabbitMQ&nbsp;cluster,&nbsp;and&nbsp;on&nbsp;_one_&nbsp;of&nbsp;those&nbsp;nodes&lt;br&gt;the&nbsp;memory&nbsp;footprint&nbsp;used&nbsp;by&nbsp;beam.smp&nbsp;grows&nbsp;steadily&nbsp;and&nbsp;constantly&nbsp;over&lt;br&gt;time,&nbsp;regardless&nbsp;of&nbsp;the&nbsp;usage&nbsp;pattern.&nbsp;&nbsp;I've&nbsp;been&nbsp;pulling&nbsp;my&nbsp;hair&nbsp;out&lt;br&gt;trying&nbsp;to&nbsp;figure&nbsp;out&nbsp;why,&nbsp;and&nbsp;while&nbsp;it's&nbsp;helped&nbsp;me&nbsp;to&nbsp;learn&nbsp;quite&nbsp;a&nbsp;bit&lt;br&gt;about&nbsp;administrating&nbsp;RabbitMQ&nbsp;(which&nbsp;is&nbsp;a&nbsp;good&nbsp;thing),&nbsp;it&nbsp;hasn't&lt;br&gt;resulted&nbsp;in&nbsp;a&nbsp;solution&nbsp;for&nbsp;the&nbsp;memory&nbsp;creep.&lt;br&gt;&lt;br&gt;The&nbsp;particulars:&lt;br&gt;Debian&nbsp;Squeeze&nbsp;64bit&lt;br&gt;Rabbit&nbsp;2.3.1&nbsp;/&nbsp;Erlang&nbsp;R14A&lt;br&gt;Mnesia&nbsp;storage&nbsp;to&nbsp;disc&lt;br&gt;&lt;br&gt;If&nbsp;I&nbsp;restart&nbsp;RabbitMQ&nbsp;on&nbsp;the&nbsp;problem&nbsp;node,&nbsp;the&nbsp;footprint&nbsp;will&nbsp;drop&lt;br&gt;dramatically&nbsp;(logical),&nbsp;but&nbsp;will&nbsp;then&nbsp;continue&nbsp;to&nbsp;rise&nbsp;over&nbsp;time&nbsp;once&lt;br&gt;again.&lt;br&gt;&lt;br&gt;I've&nbsp;been&nbsp;using&nbsp;Collectd&nbsp;to&nbsp;graph&nbsp;the&nbsp;footprint&nbsp;as&nbsp;reported&nbsp;by&lt;br&gt;rabbitmqctl&nbsp;as&nbsp;well&nbsp;as&nbsp;my&nbsp;pmap&nbsp;directly.&nbsp;&nbsp;I&nbsp;don't&nbsp;know&nbsp;if&nbsp;this&nbsp;list&lt;br&gt;supports&nbsp;attachments,&nbsp;so&nbsp;i've&nbsp;put&nbsp;the&nbsp;two&nbsp;graphs&nbsp;here:&lt;br&gt;&lt;a&nbsp;href=&quot;http://min.us/m5IxKc8LKTWqz&quot;&gt;http://min.us/m5IxKc8LKTWqz&lt;/a&gt;&lt;br&gt;They&nbsp;are&nbsp;both&nbsp;graphs&nbsp;of&nbsp;a&nbsp;week&nbsp;in&nbsp;scope.&nbsp;&nbsp;The&nbsp;first&nbsp;graph&nbsp;is&nbsp;the&nbsp;memory&lt;br&gt;usage&nbsp;as&nbsp;reported&nbsp;by&nbsp;rabbitmqctl&nbsp;in&nbsp;bytes,&nbsp;and&nbsp;the&nbsp;second&nbsp;is&nbsp;that&lt;br&gt;reported&nbsp;by&nbsp;pmap&nbsp;in&nbsp;kilobytes.&lt;br&gt;&lt;br&gt;Any&nbsp;insight&nbsp;-&nbsp;or&nbsp;perhaps&nbsp;ideas&nbsp;on&nbsp;how&nbsp;to&nbsp;go&nbsp;about&nbsp;debugging&nbsp;the&nbsp;issue&nbsp;-&lt;br&gt;would&nbsp;be&nbsp;greatly&nbsp;appreciated.&nbsp;&nbsp;Thank&nbsp;you,&nbsp;all.&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Daniel&nbsp;Maher&lt;br&gt;«&nbsp;can't&nbsp;talk,&nbsp;too&nbsp;busy&nbsp;calculating&nbsp;computrons.&nbsp;»&lt;br&gt;&lt;br&gt;_______________________________________________&lt;br&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
</tt>
