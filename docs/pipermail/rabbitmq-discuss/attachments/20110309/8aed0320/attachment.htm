<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=UTF-8&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hi,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;To&nbsp;answer&nbsp;1:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;setup&nbsp;I&nbsp;could&nbsp;imagine&nbsp;would&nbsp;be&nbsp;to&nbsp;have&nbsp;a&nbsp;&quot;work&nbsp;queue&quot;,&nbsp;in&nbsp;which<br>
&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;message&nbsp;would&nbsp;consist&nbsp;of&nbsp;a&nbsp;file&nbsp;identifier&nbsp;and&nbsp;a&nbsp;queue&nbsp;name.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Your&nbsp;servers&nbsp;can&nbsp;pick&nbsp;up&nbsp;jobs&nbsp;from&nbsp;this&nbsp;queue&nbsp;in&nbsp;a&nbsp;round-robin<br>
&nbsp;&nbsp;&nbsp;&nbsp;fashion.&nbsp;Whenever&nbsp;you&nbsp;want&nbsp;to&nbsp;send&nbsp;a&nbsp;new&nbsp;file&nbsp;with&nbsp;your&nbsp;clients,&nbsp;you<br>
&nbsp;&nbsp;&nbsp;&nbsp;first&nbsp;declare&nbsp;a&nbsp;new&nbsp;queue&nbsp;for&nbsp;your&nbsp;file&nbsp;(let's&nbsp;call&nbsp;it&nbsp;&quot;file<br>
&nbsp;&nbsp;&nbsp;&nbsp;queue&quot;),&nbsp;and&nbsp;then&nbsp;publish&nbsp;a&nbsp;message&nbsp;to&nbsp;the&nbsp;&quot;work&nbsp;queue&quot;&nbsp;mentioned<br>
&nbsp;&nbsp;&nbsp;&nbsp;above&nbsp;(with&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;&quot;file&nbsp;queue&quot;).&nbsp;Then&nbsp;you&nbsp;continue<br>
&nbsp;&nbsp;&nbsp;&nbsp;publishing&nbsp;bits&nbsp;of&nbsp;the&nbsp;file&nbsp;to&nbsp;the&nbsp;&quot;file&nbsp;queue&quot;.&nbsp;The&nbsp;servers&nbsp;that<br>
&nbsp;&nbsp;&nbsp;&nbsp;serve&nbsp;a&nbsp;job&nbsp;from&nbsp;the&nbsp;&quot;work&nbsp;queue&quot;&nbsp;would&nbsp;subscribe&nbsp;to&nbsp;the&nbsp;&quot;file<br>
&nbsp;&nbsp;&nbsp;&nbsp;queue&quot;,&nbsp;whose&nbsp;name&nbsp;was&nbsp;picked&nbsp;up&nbsp;from&nbsp;the&nbsp;job's&nbsp;message.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;And&nbsp;to&nbsp;answer&nbsp;2:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;RabbitMQ&nbsp;guarantees&nbsp;ordering&nbsp;of&nbsp;the&nbsp;messages,&nbsp;as&nbsp;long&nbsp;as&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;messages&nbsp;in&nbsp;question&nbsp;follow&nbsp;the&nbsp;exact&nbsp;same&nbsp;path&nbsp;through&nbsp;the&nbsp;clients<br>
&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;the&nbsp;broker&nbsp;(same&nbsp;publisher,&nbsp;same&nbsp;exchange,&nbsp;same&nbsp;queue&nbsp;and&nbsp;same<br>
&nbsp;&nbsp;&nbsp;&nbsp;consumer).&nbsp;With&nbsp;the&nbsp;setup&nbsp;described&nbsp;above,&nbsp;you&nbsp;should&nbsp;be&nbsp;good&nbsp;to&nbsp;go<br>
&nbsp;&nbsp;&nbsp;&nbsp;without&nbsp;extra&nbsp;identifiers.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hope&nbsp;that&nbsp;makes&nbsp;sense,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Vlad.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;03/08/2011&nbsp;09:52&nbsp;PM,&nbsp;asaf&nbsp;david&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote<br>
cite=&quot;mid:25859673.87.1299621124348.JavaMail.geo-discussion-forums@yqiz8&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;hello<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;I'm&nbsp;a&nbsp;RabbitMQ&nbsp;beginner.&nbsp;I&nbsp;need&nbsp;to&nbsp;handle&nbsp;a&nbsp;case&nbsp;where<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;several&nbsp;clients&nbsp;can&nbsp;produce&nbsp;files&nbsp;for&nbsp;processing,&nbsp;which&nbsp;should<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;done&nbsp;in&nbsp;some&nbsp;servers.&nbsp;I've&nbsp;realized&nbsp;there&nbsp;is&nbsp;no&nbsp;native<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;support&nbsp;for&nbsp;files&nbsp;transfers,&nbsp;so&nbsp;I'm&nbsp;going&nbsp;to&nbsp;chunk&nbsp;a&nbsp;produced<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file&nbsp;to&nbsp;many&nbsp;small&nbsp;messages&nbsp;are&nbsp;transfer&nbsp;them&nbsp;(similar&nbsp;to&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;answer&nbsp;given&nbsp;&lt;a&nbsp;moz-do-not-send=&quot;true&quot;<br>
href=&quot;https://groups.google.com/d/msg/rabbitmq-discuss/-G39l-JJtp4/OTSd9FUJdfEJ&quot;&gt;here&lt;/a&gt;),<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;reassemble&nbsp;them&nbsp;to&nbsp;a&nbsp;whole&nbsp;file&nbsp;at&nbsp;the&nbsp;server.&nbsp;However&nbsp;there<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are&nbsp;two&nbsp;points&nbsp;i'm&nbsp;not&nbsp;sure&nbsp;about:&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;ol&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;How&nbsp;do&nbsp;i&nbsp;make&nbsp;sure&nbsp;that&nbsp;different&nbsp;messages&nbsp;that&nbsp;belong&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;same&nbsp;file&nbsp;won't&nbsp;end&nbsp;up&nbsp;in&nbsp;different&nbsp;servers?&nbsp;I&nbsp;want&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fair&nbsp;dispatching&nbsp;between&nbsp;the&nbsp;servers&nbsp;on&nbsp;a&nbsp;per-file&nbsp;base,&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;per-message&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;How&nbsp;do&nbsp;I&nbsp;make&nbsp;sure&nbsp;that&nbsp;messages&nbsp;won't&nbsp;be&nbsp;reordered?<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;should&nbsp;i&nbsp;attach&nbsp;an&nbsp;identifier&nbsp;to&nbsp;each&nbsp;message&nbsp;to&nbsp;mark&nbsp;it's<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;in&nbsp;the&nbsp;original&nbsp;file?&lt;/li&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/ol&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;thanks&nbsp;in&nbsp;advance&nbsp;:)&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;fieldset&nbsp;class=&quot;mimeAttachmentHeader&quot;&gt;&lt;/fieldset&gt;<br>
_______________________________________________<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
