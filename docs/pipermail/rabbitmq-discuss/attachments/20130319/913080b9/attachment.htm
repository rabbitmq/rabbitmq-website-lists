<tt>
Hi!&nbsp;I&nbsp;have&nbsp;a&nbsp;2&nbsp;node&nbsp;cluster&nbsp;running&nbsp;for&nbsp;a&nbsp;prototype&nbsp;we&nbsp;are&nbsp;developing,&nbsp;it&nbsp;handles&nbsp;over&nbsp;1000&nbsp;queues&nbsp;and&nbsp;over&nbsp;1000&nbsp;msg/s&nbsp;when&nbsp;running&nbsp;at&nbsp;full&nbsp;speed.&nbsp;We&nbsp;had&nbsp;an&nbsp;issue&nbsp;recently&nbsp;with&nbsp;some&nbsp;run&nbsp;away&nbsp;processes&nbsp;that&nbsp;published&nbsp;messages&nbsp;from&nbsp;production&nbsp;app&nbsp;servers&nbsp;vi&nbsp;the&nbsp;php&nbsp;library:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;https://github.com/videlalvaro/php-amqplib&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;cause&nbsp;of&nbsp;that&nbsp;is&nbsp;still&nbsp;under&nbsp;investigation,&nbsp;but&nbsp;it&nbsp;left&nbsp;many&nbsp;thousands&nbsp;of&nbsp;'stale'&nbsp;idle&nbsp;connections&nbsp;that&nbsp;rabbit&nbsp;was&nbsp;maintaining.&nbsp;Attempting&nbsp;to&nbsp;stop/start&nbsp;each&nbsp;node&nbsp;hangs&nbsp;indefinitely,&nbsp;the&nbsp;only&nbsp;way&nbsp;get&nbsp;a&nbsp;full&nbsp;restart&nbsp;of&nbsp;the&nbsp;server&nbsp;is&nbsp;to&nbsp;actually&nbsp;restart&nbsp;the&nbsp;hardware.&nbsp;I&nbsp;see&nbsp;58&nbsp;'status'&nbsp;processes&nbsp;attributed&nbsp;to&nbsp;rabbit:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmq&nbsp;16066&nbsp;16033&nbsp;&amp;nbsp;0&nbsp;Mar18&nbsp;?&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;00:00:00&nbsp;inet_gethost&nbsp;4&lt;/div&gt;&lt;div&gt;rabbitmq&nbsp;16067&nbsp;16066&nbsp;&amp;nbsp;0&nbsp;Mar18&nbsp;?&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;00:00:00&nbsp;inet_gethost&nbsp;4&lt;/div&gt;&lt;div&gt;root&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;17713&nbsp;20340&nbsp;&amp;nbsp;0&nbsp;05:27&nbsp;?&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;00:00:00&nbsp;/bin/sh&nbsp;/etc/init.d/rabbitmq-server&nbsp;status&lt;/div&gt;&lt;div&gt;root&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;17716&nbsp;17713&nbsp;&amp;nbsp;0&nbsp;05:27&nbsp;?&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;00:00:00&nbsp;/bin/sh&nbsp;/usr/sbin/rabbitmqctl&nbsp;status&lt;/div&gt;&lt;div&gt;root&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;17725&nbsp;17716&nbsp;&amp;nbsp;0&nbsp;05:27&nbsp;?&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;00:00:00&nbsp;su&nbsp;rabbitmq&nbsp;-s&nbsp;/bin/sh&nbsp;-c&nbsp;/usr/lib/rabbitmq/bin/rabbitmqctl&nbsp;&amp;nbsp;&quot;status&quot;&lt;/div&gt;&lt;div&gt;rabbitmq&nbsp;17726&nbsp;17725&nbsp;&amp;nbsp;0&nbsp;05:27&nbsp;?&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;00:00:00&nbsp;/usr/lib64/erlang/erts-5.8.5/bin/beam.smp&nbsp;--&nbsp;-root&nbsp;/usr/lib64/erlang&nbsp;-progname&nbsp;erl&nbsp;--&nbsp;-home&nbsp;/var/lib/rabbitmq&nbsp;--&nbsp;-pa&nbsp;/usr/lib/rabbitmq/lib/rabbitmq_server-3.0.1/sbin/../ebin&nbsp;-noshell&nbsp;-noinput&nbsp;-hidden&nbsp;-sname&nbsp;rabbitmqctl17726&nbsp;-s&nbsp;rabbit_control_main&nbsp;-nodename&nbsp;rabbit@rabbit&nbsp;-extra&nbsp;status&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;stopping&nbsp;the&nbsp;node&nbsp;I&nbsp;see&nbsp;this&nbsp;in&nbsp;the&nbsp;log&nbsp;file:&lt;/div&gt;&lt;div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;19-Mar-2013::11:18:32&nbsp;===&lt;/div&gt;&lt;div&gt;Stopping&nbsp;RabbitMQ&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;19-Mar-2013::11:18:32&nbsp;===&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;application:&nbsp;rabbitmq_management_visualiser&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exited:&nbsp;stopped&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;type:&nbsp;temporary&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;19-Mar-2013::11:18:32&nbsp;===&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;application:&nbsp;rabbitmq_federation_management&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exited:&nbsp;stopped&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;type:&nbsp;temporary&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Has&nbsp;anyone&nbsp;see&nbsp;issues&nbsp;with&nbsp;many&nbsp;thousands&nbsp;of&nbsp;stale&nbsp;connections,&nbsp;in&nbsp;combination&nbsp;with&nbsp;many&nbsp;status&nbsp;processes&nbsp;and&nbsp;hanging&nbsp;stop/start?&nbsp;Currently&nbsp;there&nbsp;are&nbsp;are&nbsp;no&nbsp;producers&nbsp;or&nbsp;consumers&nbsp;connected&nbsp;to&nbsp;this&nbsp;box.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks!&lt;/div&gt;
</tt>
