<tt>
Hi&nbsp;Simon,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Your&nbsp;instinct&nbsp;may&nbsp;be&nbsp;right&nbsp;on&nbsp;alarms.&nbsp;I&nbsp;did&nbsp;service&nbsp;rabbitmq&nbsp;stop,&nbsp;cleared&nbsp;the&nbsp;logs,&nbsp;the&nbsp;service&nbsp;rabbitmq&nbsp;start&nbsp;and&nbsp;saw&nbsp;this&nbsp;in&nbsp;rabbit.log:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;<br>
<br>
&lt;div&gt;Limiting&nbsp;to&nbsp;approx&nbsp;924&nbsp;file&nbsp;handles&nbsp;(829&nbsp;sockets)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;&lt;div&gt;Memory&nbsp;limit&nbsp;set&nbsp;to&nbsp;1503MB&nbsp;of&nbsp;3758MB&nbsp;total.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;<br>
<br>
&lt;div&gt;Disk&nbsp;free&nbsp;limit&nbsp;set&nbsp;to&nbsp;3758MB&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;&lt;div&gt;Disk&nbsp;free&nbsp;space&nbsp;limit&nbsp;now&nbsp;exceeded.&nbsp;Free&nbsp;bytes:3678556160&nbsp;Limit:3941388288&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;alarm_handler:&nbsp;{set,{{resource_limit,disk,&amp;#39;rabbit@ip-10-70-82-246&amp;#39;},[]}}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;&lt;div&gt;msg_store_transient:&nbsp;using&nbsp;rabbit_msg_store_ets_index&nbsp;to&nbsp;provide&nbsp;index&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;&lt;div&gt;msg_store_persistent:&nbsp;using&nbsp;rabbit_msg_store_ets_index&nbsp;to&nbsp;provide&nbsp;index&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;&lt;div&gt;<br>
<br>
started&nbsp;TCP&nbsp;Listener&nbsp;on&nbsp;[::]:5672&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;&lt;div&gt;rabbit&nbsp;on&nbsp;node&nbsp;&amp;#39;rabbit@ip-10-12-183-2&amp;#39;&nbsp;up&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;23-May-2012::15:20:15&nbsp;===&lt;/div&gt;<br>
<br>
&lt;div&gt;**&nbsp;gen_event&nbsp;handler&nbsp;rabbit_alarm&nbsp;crashed.&lt;/div&gt;&lt;div&gt;**&nbsp;Was&nbsp;installed&nbsp;in&nbsp;alarm_handler&lt;/div&gt;&lt;div&gt;**&nbsp;Last&nbsp;event&nbsp;was:&nbsp;{register,&amp;lt;2894.58.0&amp;gt;,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit_alarm,remote_conserve_resources,[]}}&lt;/div&gt;<br>
<br>
&lt;div&gt;**&nbsp;When&nbsp;handler&nbsp;state&nbsp;==&nbsp;{alarms,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {dict,0,16,16,8,80,48,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {[],[],[],[],[],[],[],[],[],[],[],[],[],[],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[],[]},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [],[]}}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {dict,1,16,16,8,80,48,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {[],[],[],[],[],[],[],[],[],[],[],[],[],[],&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[],[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{[],[],[],[],[],[],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [[&amp;#39;rabbit@ip-10-70-82-246&amp;#39;,disk]],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [],[],[],[],[],[],[],[],[]}}}}&lt;/div&gt;<br>
<br>
&lt;div&gt;**&nbsp;Reason&nbsp;==&nbsp;{&amp;#39;function&nbsp;not&nbsp;exported&amp;#39;,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [{rabbit_alarm,remote_conserve_resources,[&amp;lt;2894.58.0&amp;gt;,true]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{rabbit_alarm,internal_register,3},&lt;/div&gt;&lt;div&gt;<br>
<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{rabbit_alarm,handle_event,2},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{gen_event,server_update,4},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{gen_event,server_notify,4},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{gen_event,handle_msg,5},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{proc_lib,init_p_do_apply,3}]}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&amp;#39;s&nbsp;the&nbsp;prognosis,&nbsp;doc?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;-Glade&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;May&nbsp;23,&nbsp;2012&nbsp;at&nbsp;3:35&nbsp;AM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;23/05/12&nbsp;11:22,&nbsp;Simon&nbsp;MacMullen&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
On&nbsp;23/05/12&nbsp;00:38,&nbsp;Glade&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
{error,{badarg,{error,bad_&lt;u&gt;&lt;/u&gt;module}},&lt;br&gt;<br>
&amp;#39;connection.open&amp;#39;,&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
Hmm.&nbsp;This&nbsp;looks&nbsp;like&nbsp;the&nbsp;Erlang&nbsp;VM&nbsp;is&nbsp;failing&nbsp;to&nbsp;load&nbsp;one&nbsp;of&nbsp;RabbitMQ&amp;#39;s&lt;br&gt;<br>
modules.&nbsp;This&nbsp;should&nbsp;really&nbsp;not&nbsp;happen.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Gah,&nbsp;no&nbsp;this&nbsp;isn&amp;#39;t&nbsp;true&nbsp;at&nbsp;all.&nbsp;It&amp;#39;s&nbsp;breaking&nbsp;trying&nbsp;to&nbsp;register&nbsp;with&nbsp;the&nbsp;alarm&nbsp;handler.&nbsp;Could&nbsp;you&nbsp;post&nbsp;the&nbsp;main&nbsp;and&nbsp;sasl&nbsp;logs&nbsp;somewhere?&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Simon&nbsp;MacMullen&lt;br&gt;<br>
RabbitMQ,&nbsp;VMware&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
