<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;face=&quot;tahoma,sans-serif&quot;&gt;Hi,&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;code&nbsp;like&nbsp;this:&lt;br&gt;&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;byte[]&nbsp;rawBytes&nbsp;=&nbsp;serialize(trxEntities);&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;byte[]&nbsp;zipped&nbsp;=&nbsp;rawBytes;&lt;br&gt;&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;if&nbsp;(shouldBeCompress)&nbsp;{&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;zipped&nbsp;=&nbsp;compressor.compress(rawBytes);&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;}&lt;br&gt;&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;BasicProperties&nbsp;persistentBasic&nbsp;=&nbsp;MessageProperties.PERSISTENT_BASIC;&lt;br&gt;   &nbsp;   &nbsp;   &nbsp;   &nbsp;   &nbsp;channel.basicPublish(&amp;quot;&amp;quot;,&nbsp;queueName,&nbsp;persistentBasic,&nbsp;zipped);&lt;br&gt;<br>
<br>
&lt;br&gt;As&nbsp;you&nbsp;see&nbsp;some&nbsp;of&nbsp;my&nbsp;messages&nbsp;should&nbsp;be&nbsp;compress&nbsp;along&nbsp;witch&nbsp;some&nbsp;others&nbsp;shouldn&amp;#39;t.&lt;br&gt;Is&nbsp;there&nbsp;any&nbsp;way&nbsp;I&nbsp;could&nbsp;set&nbsp;any&nbsp;properties&nbsp;to&nbsp;tell&nbsp;the&nbsp;consumer&nbsp;that&nbsp;&amp;quot;hey!&nbsp;this&nbsp;is&nbsp;a&nbsp;zipped&nbsp;message&amp;quot;&nbsp;?&lt;br&gt;&lt;br&gt;PS.&nbsp;does&nbsp;&lt;/font&gt;&lt;i&gt;&amp;quot;com.rabbitmq.client.&lt;a&nbsp;class=&quot;header&quot;&nbsp;href=&quot;eclipse-javadoc:%E2%98%82=rabbitmq-java-client-src-2.8.2/lib%5C/rabbitmq-client.jar%3Ccom.rabbitmq.client%28AMQP.class%E2%98%83AMQP&quot;&gt;AMQP&lt;/a&gt;.&lt;a&nbsp;class=&quot;header&quot;&nbsp;href=&quot;eclipse-javadoc:%E2%98%82=rabbitmq-java-client-src-2.8.2/lib%5C/rabbitmq-client.jar%3Ccom.rabbitmq.client%28AMQP$BasicProperties.class%E2%98%83BasicProperties&quot;&gt;BasicProperties&lt;/a&gt;.BasicProperties(...,&nbsp;&lt;a&nbsp;class=&quot;header&quot;&nbsp;href=&quot;eclipse-javadoc:%E2%98%82=rabbitmq-java-client-src-2.8.2/lib%5C/rabbitmq-client.jar%3Ccom.rabbitmq.client%28AMQP$BasicProperties.class%E2%98%83BasicProperties%7EBasicProperties%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.util.Map%5C%3CLjava.lang.String;Ljava.lang.Object;%3E;%7ELjava.lang.Integer;%7ELjava.lang.Integer;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.util.Date;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%E2%98%82Map&quot;&gt;Map&lt;/a&gt;&amp;lt;&lt;a&nbsp;class=&quot;header&quot;&nbsp;href=&quot;eclipse-javadoc:%E2%98%82=rabbitmq-java-client-src-2.8.2/lib%5C/rabbitmq-client.jar%3Ccom.rabbitmq.client%28AMQP$BasicProperties.class%E2%98%83BasicProperties%7EBasicProperties%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.util.Map%5C%3CLjava.lang.String;Ljava.lang.Object;%3E;%7ELjava.lang.Integer;%7ELjava.lang.Integer;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.util.Date;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%E2%98%82String&quot;&gt;String&lt;/a&gt;,&nbsp;<br>
&lt;a&nbsp;class=&quot;header&quot;&nbsp;href=&quot;eclipse-javadoc:%E2%98%82=rabbitmq-java-client-src-2.8.2/lib%5C/rabbitmq-client.jar%3Ccom.rabbitmq.client%28AMQP$BasicProperties.class%E2%98%83BasicProperties%7EBasicProperties%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.util.Map%5C%3CLjava.lang.String;Ljava.lang.Object;%3E;%7ELjava.lang.Integer;%7ELjava.lang.Integer;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.util.Date;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%7ELjava.lang.String;%E2%98%82Object&quot;&gt;Object&lt;/a&gt;&amp;gt;&nbsp;headers,&nbsp;...)&amp;quot;&lt;/i&gt;&nbsp;help&nbsp;me?&nbsp;I&nbsp;mean&nbsp;could&nbsp;I&nbsp;set&nbsp;any&nbsp;parameter&nbsp;in&nbsp;BasicProperties.header&nbsp;?&lt;br&gt;<br>
<br>
&lt;font&nbsp;face=&quot;tahoma,sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;font&nbsp;style=&quot;color:rgb(51,0,153);font-family:tahoma,sans-serif&quot;&nbsp;size=&quot;2&quot;&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0)&quot;&gt;Sincerely&nbsp;&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,0,0)&quot;&gt;<br>
<br>
&lt;span&nbsp;style=&quot;color:rgb(0,0,0)&quot;&gt;ML&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
