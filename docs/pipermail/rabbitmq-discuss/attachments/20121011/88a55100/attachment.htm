<tt>
Thank&nbsp;you,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Now&nbsp;I&nbsp;realized&nbsp;the&nbsp;other_bind&nbsp;option&nbsp;is&nbsp;not&nbsp;what&nbsp;I&nbsp;want.&lt;div&gt;Jenkins&nbsp;LDAP&nbsp;has&nbsp;this&nbsp;&amp;#39;Manager&nbsp;DN&amp;#39;&nbsp;to&nbsp;establish&nbsp;the&nbsp;initial&nbsp;bind.&lt;/div&gt;&lt;div&gt;Then&nbsp;they&nbsp;look&nbsp;up&nbsp;the&nbsp;username&nbsp;using&nbsp;a&nbsp;&amp;#39;User&nbsp;search&nbsp;filter&amp;#39;.&lt;/div&gt;<br>
<br>
&lt;div&gt;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;either&nbsp;about&nbsp;the&nbsp;user&nbsp;password.&nbsp;I&nbsp;don&amp;#39;t&nbsp;see&nbsp;it&nbsp;in&nbsp;the&nbsp;network&nbsp;traces&nbsp;thus,&nbsp;I&nbsp;think&nbsp;the&nbsp;application&nbsp;validates&nbsp;the&nbsp;password&nbsp;somehow.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&nbsp;Marc&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;<br>
<br>
On&nbsp;Wed,&nbsp;Oct&nbsp;10,&nbsp;2012&nbsp;at&nbsp;6:22&nbsp;PM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
Hi!&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;other_bind&nbsp;option&nbsp;is&nbsp;only&nbsp;used&nbsp;for&nbsp;authorisation&nbsp;queries&nbsp;-&nbsp;i.e.&nbsp;the&nbsp;queries&nbsp;we&nbsp;make&nbsp;*after*&nbsp;authenticating&nbsp;a&nbsp;user,&nbsp;to&nbsp;determine&nbsp;what&nbsp;rights&nbsp;they&nbsp;have.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;user&amp;#39;s&nbsp;provided&nbsp;username&nbsp;and&nbsp;password&nbsp;are&nbsp;used&nbsp;to&nbsp;bind&nbsp;to&nbsp;LDAP&nbsp;for&nbsp;authentication.&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;how&nbsp;authentication&nbsp;could&nbsp;work&nbsp;any&nbsp;other&nbsp;way&nbsp;-&nbsp;I&nbsp;guess&nbsp;we&nbsp;could&nbsp;try&nbsp;to&nbsp;look&nbsp;up&nbsp;username&nbsp;and&nbsp;password,&nbsp;but&nbsp;I&nbsp;assume&nbsp;any&nbsp;sensible&nbsp;LDAP&nbsp;server&nbsp;will&nbsp;not&nbsp;store&nbsp;passwords&nbsp;in&nbsp;plain&nbsp;text&nbsp;anyway.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;10/10/12&nbsp;15:28,&nbsp;Marc&nbsp;wrote:&lt;br&gt;<br>
&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
Hello&nbsp;all!&lt;br&gt;<br>
&lt;br&gt;<br>
For&nbsp;authentication&nbsp;I&nbsp;need&nbsp;to&nbsp;bind&nbsp;to&nbsp;a&nbsp;Microsoft&nbsp;Active&nbsp;Directory.&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Let&amp;#39;s&nbsp;say&nbsp;my&nbsp;bind&nbsp;user&nbsp;is&nbsp;&amp;#39;/uxxx/&amp;#39;&nbsp;with&nbsp;password&nbsp;&amp;#39;/pxxx/&amp;#39;.&lt;br&gt;<br>
Let&amp;#39;s&nbsp;say&nbsp;the&nbsp;user&nbsp;I&nbsp;try&nbsp;to&nbsp;authenticate&nbsp;is&nbsp;&amp;#39;/uyyy/&amp;#39;&nbsp;with&nbsp;password&nbsp;&amp;#39;/pyyy/&amp;#39;.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;use&nbsp;the&nbsp;/other_bind&lt;br&gt;<br>
&amp;lt;&lt;a&nbsp;href=&quot;http://hg.rabbitmq.com/rabbitmq-auth-backend-ldap/file/d76afaf44415/README#l100&quot;&nbsp;target=&quot;_blank&quot;&gt;http://hg.rabbitmq.com/&lt;u&gt;&lt;/u&gt;rabbitmq-auth-backend-ldap/&lt;u&gt;&lt;/u&gt;file/d76afaf44415/README#l100&lt;/a&gt;&amp;gt;&lt;u&gt;&lt;/u&gt;/&lt;br&gt;<br>
<br>
<br>
configuration&nbsp;option&nbsp;in&nbsp;order&nbsp;to&nbsp;bind&nbsp;with&nbsp;user&nbsp;&amp;#39;/uxxx/&amp;#39;.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Like&nbsp;this:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; {&nbsp;rabbit,&nbsp;[{auth_backends,&nbsp;[rabbit_auth_backend_ldap]}]},&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; {&nbsp;rabbitmq_auth_backend_ldap,&nbsp;[&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {servers,&nbsp;[&amp;quot;myldapserver&amp;quot;]},&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {other_bind,&nbsp;{&amp;quot;uxxx&amp;quot;,&nbsp;&amp;quot;pxxx&amp;quot;}},&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {dn_lookup_base,&nbsp;&amp;quot;DC=my,DC=domain,DC=com&amp;quot;},&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {dn_lookup_attribute,&nbsp;&amp;quot;AccountName&amp;quot;},&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {user_dn_pattern,&lt;br&gt;<br>
 &nbsp; &nbsp;&amp;quot;CN=${username},OU=users,OU=&lt;u&gt;&lt;/u&gt;mycompany,DC=my,DC=domain,DC=&lt;u&gt;&lt;/u&gt;com&amp;quot;},&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {log,true}&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; ]}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
but&nbsp;when&nbsp;I&nbsp;try&nbsp;to&nbsp;login&nbsp;with&nbsp;user&nbsp;&amp;#39;/uyyy/&amp;#39;&nbsp;I&nbsp;get&nbsp;this&nbsp;in&nbsp;my&nbsp;logs:&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;=INFO&nbsp;REPORT====&nbsp;10-Oct-2012::16:21:04&nbsp;===&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;LDAP&nbsp;backend:&nbsp;connecting&nbsp;to&nbsp;[&amp;quot;myldapserver&amp;quot;]&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;=INFO&nbsp;REPORT====&nbsp;10-Oct-2012::16:21:04&nbsp;===&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;LDAP&nbsp;backend:&nbsp;bind&nbsp;request&nbsp;=&nbsp;{&amp;#39;BindRequest&amp;#39;,3,&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;&amp;quot;CN=uyyy,OU=users,OU=&lt;u&gt;&lt;/u&gt;mycompany,DC=my,DC=domain,DC=&lt;u&gt;&lt;/u&gt;com&amp;quot;,&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{simple,&amp;lt;&amp;lt;&amp;quot;pyyy&amp;quot;&amp;gt;&amp;gt;}}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;=INFO&nbsp;REPORT====&nbsp;10-Oct-2012::16:21:04&nbsp;===&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;LDAP&nbsp;backend:&nbsp;bind&nbsp;reply&nbsp;=&nbsp;{ok,&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;#39;LDAPMessage&amp;#39;,1,&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{bindResponse,&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;#39;BindResponse&amp;#39;,&lt;u&gt;&lt;/u&gt;invalidCredentials,[],&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;[56,48,48,57,48,51,48,56,58,&lt;u&gt;&lt;/u&gt;32,76,100,97,112,&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;69,114,114,58,32,68,83,73,68,&lt;u&gt;&lt;/u&gt;45,48,67,48,57,&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;48,51,65,57,44,32,99,111,109,&lt;u&gt;&lt;/u&gt;109,101,110,116,&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;58,32,65,99,99,101,112,116,83,&lt;u&gt;&lt;/u&gt;101,99,117,114,&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;105,116,121,67,111,110,116,&lt;u&gt;&lt;/u&gt;101,120,116,32,101,&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp;114,114,111,114,44,32,100,97,&lt;u&gt;&lt;/u&gt;116,97,32,53,50,&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 101,44,32,118,49,100,98,48,0],&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;asn1_NOVALUE,asn1_NOVALUE}},&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;asn1_NOVALUE}}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;understand&nbsp;the&nbsp;bind&nbsp;request&nbsp;is&nbsp;being&nbsp;forged&nbsp;with&nbsp;the&nbsp;wrong&nbsp;user.&lt;br&gt;<br>
Could&nbsp;that&nbsp;be&nbsp;a&nbsp;bug&nbsp;in&nbsp;the&nbsp;LDAP&nbsp;plugin?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Simon&nbsp;MacMullen&lt;br&gt;<br>
RabbitMQ,&nbsp;VMware&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
