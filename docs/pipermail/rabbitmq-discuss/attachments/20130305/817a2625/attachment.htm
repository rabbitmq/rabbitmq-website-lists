<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type='text/css'&gt;p&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style='font-family:&nbsp;Arial;&nbsp;font-size:&nbsp;10pt;&nbsp;color:&nbsp;#000000'&gt;Hi&nbsp;Simon,&lt;br&gt;&lt;br&gt;sorry&nbsp;to&nbsp;answering&nbsp;late,&lt;br&gt;yes,&nbsp;it's&nbsp;a&nbsp;very&nbsp;strange&nbsp;thing,&nbsp;i&nbsp;have&nbsp;to&nbsp;admit&nbsp;that&nbsp;i'm&nbsp;lost..&amp;nbsp;&nbsp;&lt;br&gt;&lt;br&gt;it`s&nbsp;happen&nbsp;only&nbsp;with&nbsp;this&nbsp;queue...&nbsp;a&nbsp;network&nbsp;issue&nbsp;could&nbsp;be&nbsp;the&nbsp;source&nbsp;of&nbsp;the&nbsp;problem?&nbsp;may&nbsp;be&nbsp;due&nbsp;to&nbsp;the&nbsp;high&nbsp;volume&nbsp;of&nbsp;data&nbsp;?&lt;br&gt;the&nbsp;problem&nbsp;occur&nbsp;also&nbsp;without&nbsp;having&nbsp;the&nbsp;connection&nbsp;in&nbsp;state:&nbsp;flow.&amp;nbsp;&nbsp;(the&nbsp;pid&nbsp;of&nbsp;the&nbsp;script&nbsp;is&nbsp;in&nbsp;state&nbsp;running)&amp;nbsp;&nbsp;and&nbsp;we&nbsp;have&nbsp;nothing&nbsp;in&nbsp;logs..&lt;br&gt;&lt;br&gt;the&nbsp;last&nbsp;time&nbsp;(friday),&nbsp;i&nbsp;restarted&nbsp;the&nbsp;rabbitmq&nbsp;server&nbsp;(i&nbsp;restarted&nbsp;the&nbsp;server&nbsp;because&nbsp;its&nbsp;was&nbsp;not&nbsp;possible&nbsp;to&nbsp;stop&nbsp;the&nbsp;rabbitmq&nbsp;process..)&nbsp;and&nbsp;it&nbsp;back&nbsp;working.&lt;br&gt;i&nbsp;use&nbsp;an&nbsp;older&nbsp;library&nbsp;for&nbsp;php:&nbsp;amqp-0.2.2&nbsp;,&nbsp;may&nbsp;be&nbsp;something&nbsp;in&nbsp;relation&nbsp;with?&lt;br&gt;&lt;br&gt;about&nbsp;the&nbsp;script,&nbsp;i&nbsp;have&nbsp;to&nbsp;clean&nbsp;it&nbsp;before&nbsp;;)&lt;span&gt;&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;&lt;pre&nbsp;style=&quot;font-family:&nbsp;arial,helvetica,sans-serif;&quot;&nbsp;class=&quot;moz-signature&quot;&nbsp;cols=&quot;72&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;Gilles&nbsp;Danycan&lt;/strong&gt;&lt;br&gt;&lt;/pre&gt;&lt;br&gt;&lt;/span&gt;&lt;hr&nbsp;id=&quot;zwchr&quot;&gt;&lt;b&gt;From:&nbsp;&lt;/b&gt;&quot;Simon&nbsp;MacMullen&quot;&nbsp;&amp;lt;simon@rabbitmq.com&amp;gt;&lt;br&gt;&lt;b&gt;To:&nbsp;&lt;/b&gt;&quot;Discussions&nbsp;about&nbsp;RabbitMQ&quot;&nbsp;&amp;lt;rabbitmq-discuss@lists.rabbitmq.com&amp;gt;&lt;br&gt;&lt;b&gt;Cc:&nbsp;&lt;/b&gt;&quot;Gilles&nbsp;Danycan&quot;&nbsp;&amp;lt;gdanycan@slip-software.com&amp;gt;&lt;br&gt;&lt;b&gt;Sent:&nbsp;&lt;/b&gt;Thursday,&nbsp;February&nbsp;7,&nbsp;2013&nbsp;4:17:07&nbsp;PM&lt;br&gt;&lt;b&gt;Subject:&nbsp;&lt;/b&gt;Re:&nbsp;[rabbitmq-discuss]&nbsp;flow&nbsp;control&nbsp;threshold&lt;br&gt;&lt;br&gt;The&nbsp;flow&nbsp;control&nbsp;should&nbsp;only&nbsp;be&nbsp;restricting&nbsp;the&nbsp;rate&nbsp;at&nbsp;which&nbsp;you&nbsp;can&nbsp;&lt;br&gt;publish&nbsp;into&nbsp;a&nbsp;queue&nbsp;to&nbsp;the&nbsp;rate&nbsp;at&nbsp;which&nbsp;the&nbsp;queue&nbsp;can&nbsp;accept&nbsp;messages&nbsp;&lt;br&gt;-&nbsp;in&nbsp;other&nbsp;words&nbsp;it&nbsp;should&nbsp;only&nbsp;ever&nbsp;slow&nbsp;publishing&nbsp;down,&nbsp;and&nbsp;not&nbsp;by&nbsp;&lt;br&gt;too&nbsp;much.&lt;br&gt;&lt;br&gt;If&nbsp;you&nbsp;have&nbsp;seen&nbsp;it&nbsp;block&nbsp;publishing&nbsp;altogether&nbsp;that&nbsp;would&nbsp;be&nbsp;a&nbsp;serious&nbsp;&lt;br&gt;bug.&nbsp;Can&nbsp;you&nbsp;post&nbsp;your&nbsp;script&nbsp;somewhere?&lt;br&gt;&lt;br&gt;Cheers,&nbsp;Simon&lt;br&gt;&lt;br&gt;On&nbsp;07/02/13&nbsp;12:35,&nbsp;Gilles&nbsp;Danycan&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;Hi&nbsp;All,&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;serious&nbsp;problem&nbsp;to&nbsp;consume&nbsp;and&nbsp;requeue&nbsp;messages&nbsp;on&nbsp;a&nbsp;specific&lt;br&gt;&amp;gt;&nbsp;queue.&nbsp;i&nbsp;think&nbsp;the&nbsp;flow&nbsp;control&nbsp;is&nbsp;blocking&nbsp;connection...&lt;br&gt;&amp;gt;&nbsp;I'm&nbsp;using&nbsp;RabbitMQ&nbsp;3.0.2,&nbsp;Erlang&nbsp;R15B03&nbsp;on&nbsp;a&nbsp;debian&nbsp;server&nbsp;:&nbsp;64go&nbsp;ram&nbsp;,&lt;br&gt;&amp;gt;&nbsp;8&nbsp;cpu.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;i&nbsp;have&nbsp;a&nbsp;script&nbsp;(named&nbsp;consumer)&nbsp;consuming&nbsp;and&nbsp;requeue&nbsp;messages&nbsp;on&nbsp;a&lt;br&gt;&amp;gt;&nbsp;queue&nbsp;named&nbsp;&quot;mainQueue&quot;&nbsp;(actually&nbsp;900&nbsp;000&nbsp;messages&nbsp;into&nbsp;this&nbsp;queue)&nbsp;and&lt;br&gt;&amp;gt;&nbsp;another&nbsp;one&nbsp;publishing&nbsp;messages&nbsp;on&nbsp;the&nbsp;same&nbsp;queue&nbsp;(arround&nbsp;200mess/s).&lt;br&gt;&amp;gt;&nbsp;each&nbsp;message&nbsp;is&nbsp;arroung&nbsp;15kbytes&nbsp;and&nbsp;deliverymode&nbsp;=2&nbsp;and&nbsp;durable.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;usually&nbsp;the&nbsp;script&nbsp;consumer&nbsp;is&nbsp;able&nbsp;to&nbsp;get&nbsp;and&nbsp;requeue&nbsp;messages&nbsp;at&lt;br&gt;&amp;gt;&nbsp;1000mess/s,&nbsp;sometimes&nbsp;the&nbsp;same&nbsp;script&nbsp;is&nbsp;in&nbsp;hold,&nbsp;it&nbsp;doesn't&nbsp;consumer&lt;br&gt;&amp;gt;&nbsp;messages..,&nbsp;i&nbsp;see&nbsp;in&nbsp;connections&nbsp;that&nbsp;the&nbsp;connection&nbsp;is&nbsp;in&nbsp;state&nbsp;:&nbsp;flow&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;i&nbsp;found&nbsp;documentation&nbsp;about&nbsp;flow&nbsp;control&nbsp;but&nbsp;i&nbsp;would&nbsp;like&nbsp;more&nbsp;advices&lt;br&gt;&amp;gt;&nbsp;about&nbsp;how&nbsp;to&nbsp;determine&nbsp;the&nbsp;flow&nbsp;control&nbsp;specificaly&nbsp;with&nbsp;my&lt;br&gt;&amp;gt;&nbsp;configuration&nbsp;and&nbsp;how&nbsp;to&nbsp;change&nbsp;the&nbsp;threshold.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;i&nbsp;send&nbsp;you&nbsp;below&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;rabbitmq&nbsp;server&nbsp;status..&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Connections:&nbsp;*328*&lt;br&gt;&amp;gt;&nbsp;Channels:&nbsp;*328*&lt;br&gt;&amp;gt;&nbsp;Exchanges:&nbsp;*120*&lt;br&gt;&amp;gt;&nbsp;Queues:&nbsp;*111*&lt;br&gt;&amp;gt;&nbsp;Consumers:&nbsp;*0&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;*&lt;br&gt;&amp;gt;&nbsp;File&nbsp;descriptors&nbsp;(?)&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Socket&nbsp;descriptors&nbsp;(?)&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Erlang&nbsp;processes&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Memory&lt;br&gt;&amp;gt;&nbsp;Disk&nbsp;space&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Uptime&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Type&lt;br&gt;&amp;gt;&nbsp;527&lt;br&gt;&amp;gt;&nbsp;_1048576&nbsp;available&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;gt;&nbsp;330&lt;br&gt;&amp;gt;&nbsp;_943626&nbsp;available&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;gt;&nbsp;2937&lt;br&gt;&amp;gt;&nbsp;_1048576&nbsp;available&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;gt;&nbsp;2.7GB&lt;br&gt;&amp;gt;&nbsp;_25.2GB&nbsp;high&nbsp;watermark&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;br&gt;&amp;gt;&nbsp;1.7TB&lt;br&gt;&amp;gt;&nbsp;_953.7MB&nbsp;low&nbsp;watermark&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;2h&nbsp;32m&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;Disc&nbsp;Stats&nbsp;*&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Thanks&nbsp;for&nbsp;your&nbsp;help,&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Regards,&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;*Gilles*&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;rabbitmq-discuss@lists.rabbitmq.com&lt;br&gt;&amp;gt;&nbsp;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;br&gt;&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Simon&nbsp;MacMullen&lt;br&gt;RabbitMQ,&nbsp;VMware&lt;br&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
