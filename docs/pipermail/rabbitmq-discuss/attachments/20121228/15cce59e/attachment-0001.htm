<tt>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;Francesco,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;answers,&nbsp;I've&nbsp;added&nbsp;some&nbsp;clarification&nbsp;below.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;color:&nbsp;rgb(160,&nbsp;160,&nbsp;168);&nbsp;&quot;&gt;On&nbsp;Monday,&nbsp;24.&nbsp;December&nbsp;2012&nbsp;at&nbsp;12:31,&nbsp;Francesco&nbsp;Mazzoli&nbsp;wrote:&lt;/span&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Uhm,&nbsp;two&nbsp;things:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;*&nbsp;RabbitMQ&nbsp;does&nbsp;not&nbsp;like&nbsp;FQDNs&nbsp;-&nbsp;I&nbsp;think&nbsp;you&nbsp;can&nbsp;probably&nbsp;make&nbsp;it&nbsp;work&nbsp;by&lt;/div&gt;&lt;div&gt;tweaking&nbsp;the&nbsp;startup&nbsp;scripts,&nbsp;but&nbsp;I&nbsp;am&nbsp;not&nbsp;sure.&nbsp;What&nbsp;we&nbsp;recommend&nbsp;is&nbsp;not&lt;/div&gt;&lt;div&gt;to&nbsp;use&nbsp;FQDNs.&lt;/div&gt;&lt;div&gt;*&nbsp;If&nbsp;you&nbsp;change&nbsp;the&nbsp;hostname&nbsp;and&nbsp;restart&nbsp;RabbitMQ,&nbsp;things&nbsp;should&nbsp;go&nbsp;smoothly.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;said,&nbsp;I’m&nbsp;not&nbsp;sure&nbsp;what&nbsp;DHCP&nbsp;has&nbsp;to&nbsp;do&nbsp;with&nbsp;this.&nbsp;I&nbsp;suppose&nbsp;that&nbsp;what&nbsp;you&lt;/div&gt;&lt;div&gt;have&nbsp;done&nbsp;is&nbsp;to&nbsp;make&nbsp;possible&nbsp;to&nbsp;resolve&nbsp;the&nbsp;short&nbsp;names&nbsp;of&nbsp;the&nbsp;other&nbsp;nodes,&lt;/div&gt;&lt;div&gt;since&nbsp;things&nbsp;are&nbsp;working.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;Sorry&nbsp;that&nbsp;I&nbsp;wasn't&nbsp;more&nbsp;clear&nbsp;on&nbsp;this.&nbsp;The&nbsp;reference&nbsp;to&nbsp;DHCP&nbsp;is&nbsp;my&nbsp;way&nbsp;of&nbsp;updating&nbsp;either&nbsp;the&nbsp;/etc/hosts&nbsp;file&nbsp;or&nbsp;/etc/resolv.conf.&nbsp;EC2&nbsp;instances&nbsp;use&nbsp;DHCP&nbsp;to&nbsp;get&nbsp;their&nbsp;network&nbsp;settings,&nbsp;and&nbsp;the&nbsp;DHCP&nbsp;client&nbsp;is&nbsp;responsible&nbsp;for&nbsp;writing&nbsp;things&nbsp;like&nbsp;/etc/resolv.conf,&nbsp;so&nbsp;I&nbsp;used&nbsp;that&nbsp;mechanism&nbsp;to&nbsp;mix&nbsp;in&nbsp;our&nbsp;own&nbsp;domain&nbsp;to&nbsp;search&nbsp;in.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Good&nbsp;to&nbsp;know&nbsp;about&nbsp;the&nbsp;FQDN,&nbsp;I'll&nbsp;leave&nbsp;things&nbsp;as&nbsp;they&nbsp;are&nbsp;then.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regarding&nbsp;changing&nbsp;the&nbsp;host&nbsp;name,&nbsp;I&nbsp;tried&nbsp;that,&nbsp;and&nbsp;from&nbsp;my&nbsp;experiments,&nbsp;that&nbsp;didn't&nbsp;seem&nbsp;to&nbsp;work&nbsp;properly.&nbsp;But&nbsp;that&nbsp;might&nbsp;have&nbsp;been&nbsp;related&nbsp;again&nbsp;to&nbsp;the&nbsp;hostname&nbsp;temporarily&nbsp;not&nbsp;being&nbsp;resolvable.&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;behaviour&nbsp;you&nbsp;describe&nbsp;is&nbsp;correct.&nbsp;The&nbsp;`cluster_nodes'&nbsp;list&nbsp;is&nbsp;only&lt;/div&gt;&lt;div&gt;effective&nbsp;on&nbsp;“virgin”&nbsp;nodes,&nbsp;that&nbsp;is&nbsp;nodes&nbsp;that&nbsp;are&nbsp;started&nbsp;for&nbsp;the&nbsp;first&nbsp;time.&lt;/div&gt;&lt;div&gt;If&nbsp;the&nbsp;node&nbsp;can’t&nbsp;connect&nbsp;to&nbsp;any&nbsp;other&nbsp;node&nbsp;it&nbsp;won’t&nbsp;do&nbsp;anything.&nbsp;The&nbsp;rationale&lt;/div&gt;&lt;div&gt;behind&nbsp;that&nbsp;comes&nbsp;from&nbsp;boring&nbsp;technicalities&nbsp;related&nbsp;to&nbsp;how&nbsp;mnesia&nbsp;(the&nbsp;database&lt;/div&gt;&lt;div&gt;that&nbsp;backs&nbsp;RabbitMQ&nbsp;clustering)&nbsp;works,&nbsp;and&nbsp;most&nbsp;importantly&nbsp;the&nbsp;fact&nbsp;that&lt;/div&gt;&lt;div&gt;clustered&nbsp;nodes&nbsp;shouldn’t&nbsp;experience&nbsp;netsplits.&nbsp;So&nbsp;if&nbsp;you&nbsp;say&nbsp;“Should&nbsp;a&nbsp;new&lt;/div&gt;&lt;div&gt;node&nbsp;be&nbsp;partitioned&nbsp;from&nbsp;the&nbsp;others&nbsp;only&nbsp;temporarily...”,&nbsp;maybe&nbsp;clustering&nbsp;is&lt;/div&gt;&lt;div&gt;not&nbsp;the&nbsp;right&nbsp;solution.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;The&nbsp;partitioning&nbsp;was&nbsp;mostly&nbsp;conjecture.&nbsp;It&nbsp;might&nbsp;happen,&nbsp;and&nbsp;it's&nbsp;still&nbsp;fixable&nbsp;if&nbsp;it&nbsp;does.&nbsp;The&nbsp;whole&nbsp;mechanism&nbsp;just&nbsp;strikes&nbsp;me&nbsp;as&nbsp;less&nbsp;than&nbsp;ideal&nbsp;when&nbsp;it&nbsp;comes&nbsp;to&nbsp;automating&nbsp;a&nbsp;cluster&nbsp;setup.&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;Again,&nbsp;I’m&nbsp;don’t&nbsp;see&nbsp;how&nbsp;DHCP&nbsp;has&nbsp;anything&nbsp;to&nbsp;do&nbsp;with&nbsp;this.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;Same&nbsp;as&nbsp;above&nbsp;:)&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;I&nbsp;don’t&nbsp;know&nbsp;anything&nbsp;about&nbsp;EC2&nbsp;or&nbsp;Chef,&nbsp;and&nbsp;I&nbsp;don’t&nbsp;understand&nbsp;what&nbsp;you&nbsp;are&lt;/div&gt;&lt;div&gt;doing&nbsp;with&nbsp;DHCP,&nbsp;but&nbsp;I’m&nbsp;quite&nbsp;sure&nbsp;you’re&nbsp;mixing&nbsp;up&nbsp;two&nbsp;separated&nbsp;issues:&nbsp;one&lt;/div&gt;&lt;div&gt;is&nbsp;related&nbsp;to&nbsp;FQDNs&nbsp;and&nbsp;how&nbsp;nodes&nbsp;resolve&nbsp;other&nbsp;node&nbsp;names,&nbsp;and&nbsp;the&nbsp;other&nbsp;is&lt;/div&gt;&lt;div&gt;related&nbsp;to&nbsp;how&nbsp;the&nbsp;automatic&nbsp;clustering&nbsp;configuration&nbsp;works.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;They&nbsp;might&nbsp;seem&nbsp;different&nbsp;on&nbsp;the&nbsp;surface,&nbsp;but&nbsp;given&nbsp;how&nbsp;the&nbsp;RabbitMQ&nbsp;package&nbsp;installer&nbsp;works,&nbsp;they&nbsp;bot&nbsp;converge&nbsp;into&nbsp;the&nbsp;issue&nbsp;of&nbsp;automating&nbsp;and&nbsp;customizing&nbsp;a&nbsp;cluster&nbsp;setup.&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;what&nbsp;concerns&nbsp;the&nbsp;former,&nbsp;RabbitMQ&nbsp;nodes&nbsp;will&nbsp;use&nbsp;unqualified&nbsp;names&nbsp;(unless&lt;/div&gt;&lt;div&gt;you&nbsp;are&nbsp;tweaking&nbsp;how&nbsp;RabbitMQ&nbsp;nodes&nbsp;are&nbsp;started&nbsp;up),&nbsp;so&nbsp;you’ll&nbsp;have&nbsp;to&nbsp;play&nbsp;by&lt;/div&gt;&lt;div&gt;that.&nbsp;Obviously&nbsp;you’ll&nbsp;have&nbsp;to&nbsp;make&nbsp;the&nbsp;unqualified&nbsp;names&nbsp;resolve&nbsp;correctly&nbsp;on&lt;/div&gt;&lt;div&gt;each&nbsp;node,&nbsp;e.g.&nbsp;by&nbsp;adding&nbsp;entries&nbsp;in&nbsp;the&nbsp;hosts&nbsp;file.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;what&nbsp;concerns&nbsp;the&nbsp;latter,&nbsp;if&nbsp;you&nbsp;are&nbsp;confident&nbsp;that&nbsp;netsplits&nbsp;won’t&nbsp;occur,&lt;/div&gt;&lt;div&gt;then&nbsp;the&nbsp;semantics&nbsp;of&nbsp;the&nbsp;`cluster_nodes'&nbsp;configuration&nbsp;should&nbsp;be&nbsp;fine.&nbsp;If&nbsp;that&lt;/div&gt;&lt;div&gt;is&nbsp;not&nbsp;the&nbsp;case&nbsp;you&nbsp;might&nbsp;need&nbsp;to&nbsp;hack&nbsp;up&nbsp;some&nbsp;other&nbsp;mechanism&nbsp;but&nbsp;I&nbsp;would&lt;/div&gt;&lt;div&gt;advise&nbsp;against&nbsp;that&nbsp;because&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;It’s&nbsp;easy&nbsp;to&nbsp;get&nbsp;wrong,&nbsp;clustering&nbsp;is&nbsp;quite&nbsp;delicate&nbsp;and&nbsp;there&nbsp;are&nbsp;many&lt;/div&gt;&lt;div&gt;subtleties.&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;Are&nbsp;all&nbsp;of&nbsp;them&nbsp;documented?&nbsp;Looking&nbsp;at&nbsp;the&nbsp;documentation,&nbsp;it&nbsp;seems&nbsp;to&nbsp;be&nbsp;mostly&nbsp;straight-forward,&nbsp;except&nbsp;for&nbsp;the&nbsp;netsplits.&nbsp;If&nbsp;there&nbsp;are&nbsp;that&nbsp;many&nbsp;subtleties,&nbsp;I&nbsp;sure&nbsp;wish&nbsp;they'd&nbsp;be&nbsp;mentioned&nbsp;properly&nbsp;in&nbsp;the&nbsp;documentation.&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;2.&nbsp;If&nbsp;you&nbsp;are&nbsp;on&nbsp;a&nbsp;network&nbsp;that&nbsp;is&nbsp;affected&nbsp;by&nbsp;netsplits,&nbsp;you&nbsp;should&nbsp;avoid&lt;/div&gt;&lt;div&gt;clustering&nbsp;anyway&nbsp;-&nbsp;see&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/clustering.html&quot;&gt;http://www.rabbitmq.com/clustering.html&lt;/a&gt;&amp;gt;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;The&nbsp;cluster&nbsp;is&nbsp;going&nbsp;to&nbsp;run&nbsp;with&nbsp;all&nbsp;nodes&nbsp;in&nbsp;a&nbsp;single&nbsp;available&nbsp;zone.&nbsp;Netsplits&nbsp;are&nbsp;unavoidable&nbsp;in&nbsp;any&nbsp;network&nbsp;but&nbsp;are&nbsp;less&nbsp;likely&nbsp;to&nbsp;happen&nbsp;in&nbsp;a&nbsp;setup&nbsp;like&nbsp;that.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;biggest&nbsp;question&nbsp;still&nbsp;remains&nbsp;unanswered&nbsp;unfortunately:&nbsp;how&nbsp;do&nbsp;folks&nbsp;go&nbsp;about&nbsp;automating&nbsp;a&nbsp;cluster&nbsp;setup,&nbsp;with&nbsp;or&nbsp;without&nbsp;the&nbsp;issues&nbsp;described&nbsp;in&nbsp;my&nbsp;original&nbsp;email?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;input&nbsp;on&nbsp;that&nbsp;particular&nbsp;topic&nbsp;would&nbsp;be&nbsp;much&nbsp;appreciated.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&nbsp;Mathias&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#A0A0A8;&quot;&gt;On&nbsp;Monday,&nbsp;24.&nbsp;December&nbsp;2012&nbsp;at&nbsp;12:31,&nbsp;Francesco&nbsp;Mazzoli&nbsp;wrote:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Hi&nbsp;Mathias,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;At&nbsp;Thu,&nbsp;20&nbsp;Dec&nbsp;2012&nbsp;15:48:05&nbsp;+0100,&lt;/div&gt;&lt;div&gt;Mathias&nbsp;Meyer&nbsp;wrote:&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&gt;I&nbsp;spent&nbsp;some&nbsp;quality&nbsp;time&nbsp;automating&nbsp;a&nbsp;cluster&nbsp;setup&nbsp;of&nbsp;3.0.1&nbsp;on&nbsp;EC2&nbsp;over&nbsp;the&lt;/div&gt;&lt;div&gt;last&nbsp;couple&nbsp;of&nbsp;days,&nbsp;and&nbsp;came&nbsp;across&nbsp;some&nbsp;things&nbsp;that&nbsp;felt&nbsp;a&nbsp;bit&nbsp;odd&nbsp;to&lt;/div&gt;&lt;div&gt;me.&nbsp;Maybe&nbsp;I&nbsp;did&nbsp;it&nbsp;all&nbsp;wrong,&nbsp;happy&nbsp;to&nbsp;be&nbsp;proven&nbsp;that&nbsp;I&nbsp;did.&nbsp;I&nbsp;apologize&nbsp;if&lt;/div&gt;&lt;div&gt;this&nbsp;turns&nbsp;out&nbsp;a&nbsp;bit&nbsp;long,&nbsp;there&nbsp;are&nbsp;a&nbsp;couple&nbsp;of&nbsp;questions&nbsp;that&nbsp;boil&nbsp;down&nbsp;to&nbsp;a&lt;/div&gt;&lt;div&gt;similar&nbsp;issue.&nbsp;Would&nbsp;be&nbsp;curious&nbsp;to&nbsp;hear&nbsp;how&nbsp;other&nbsp;folks&nbsp;have&nbsp;solved&nbsp;this&lt;/div&gt;&lt;div&gt;issue,&nbsp;and&nbsp;mostly&nbsp;focussing&nbsp;on&nbsp;RabbitMQ&nbsp;3.0,&nbsp;as,&nbsp;from&nbsp;what&nbsp;I've&nbsp;read,&lt;/div&gt;&lt;div&gt;clustering&nbsp;behaviour&nbsp;has&nbsp;changed&nbsp;with&nbsp;that&nbsp;release.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;First&nbsp;a&nbsp;whee&nbsp;bit&nbsp;about&nbsp;the&nbsp;setup,&nbsp;nothing&nbsp;special&nbsp;really,&nbsp;but&nbsp;required&nbsp;to&lt;/div&gt;&lt;div&gt;clarify&nbsp;some&nbsp;of&nbsp;the&nbsp;questions&nbsp;below:&nbsp;every&nbsp;node&nbsp;has&nbsp;a&nbsp;custom&nbsp;CNAME&nbsp;record&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://rabbitmq1.domain.com&quot;&gt;rabbitmq1.domain.com&lt;/a&gt;,&nbsp;&lt;a&nbsp;href=&quot;http://rabbitmq2.domain.com&quot;&gt;rabbitmq2.domain.com&lt;/a&gt;,&nbsp;each&nbsp;pointing&nbsp;to&nbsp;the&nbsp;EC2&nbsp;host&lt;/div&gt;&lt;div&gt;name.&nbsp;I&nbsp;do&nbsp;this&nbsp;because&nbsp;I&nbsp;prefer&nbsp;full&nbsp;hostnames&nbsp;over&nbsp;EC2&nbsp;hostnames&nbsp;because&nbsp;it&lt;/div&gt;&lt;div&gt;adds&nbsp;clarity&nbsp;to&nbsp;the&nbsp;whole&nbsp;setup,&nbsp;at&nbsp;least&nbsp;for&nbsp;me&nbsp;:)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;first&nbsp;issue&nbsp;with&nbsp;this&nbsp;setup&nbsp;comes&nbsp;up&nbsp;when&nbsp;you&nbsp;want&nbsp;to&nbsp;change&nbsp;the&nbsp;hostname&lt;/div&gt;&lt;div&gt;for&nbsp;the&nbsp;RabbitMQ&nbsp;node.&nbsp;Changing&nbsp;it&nbsp;post-installation&nbsp;is&nbsp;a&nbsp;bit&nbsp;of&nbsp;a&nbsp;hassle&lt;/div&gt;&lt;div&gt;because&nbsp;the&nbsp;package&nbsp;already&nbsp;starts&nbsp;up&nbsp;the&nbsp;service.&nbsp;Changing&nbsp;the&nbsp;nodename&nbsp;to&lt;/div&gt;&lt;div&gt;the&nbsp;FQDN&nbsp;and&nbsp;trying&nbsp;to&nbsp;restart&nbsp;the&nbsp;service&nbsp;after&nbsp;that&nbsp;leads&nbsp;to&nbsp;errors&nbsp;because&lt;/div&gt;&lt;div&gt;the&nbsp;service&nbsp;can't&nbsp;be&nbsp;stopped&nbsp;anymore&nbsp;as&nbsp;the&nbsp;nodenames&nbsp;are&nbsp;now&nbsp;different.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;solved&nbsp;this&nbsp;on&nbsp;EC2&nbsp;by&nbsp;adding&nbsp;&lt;a&nbsp;href=&quot;http://domain.com&quot;&gt;domain.com&lt;/a&gt;&nbsp;to&nbsp;the&nbsp;DHCP&nbsp;configuration&nbsp;and&lt;/div&gt;&lt;div&gt;restarting&nbsp;the&nbsp;network&nbsp;before&nbsp;installing&nbsp;the&nbsp;RabbitMQ&nbsp;package.&nbsp;It's&nbsp;not&nbsp;a&lt;/div&gt;&lt;div&gt;great&nbsp;solution,&nbsp;but&nbsp;acceptable.&nbsp;In&nbsp;the&nbsp;end&nbsp;it&nbsp;boils&nbsp;down&nbsp;to&nbsp;the&nbsp;package&lt;/div&gt;&lt;div&gt;starting&nbsp;the&nbsp;service&nbsp;immediately&nbsp;on&nbsp;installation,&nbsp;more&nbsp;on&nbsp;that&nbsp;below.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Uhm,&nbsp;two&nbsp;things:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;*&nbsp;RabbitMQ&nbsp;does&nbsp;not&nbsp;like&nbsp;FQDNs&nbsp;-&nbsp;I&nbsp;think&nbsp;you&nbsp;can&nbsp;probably&nbsp;make&nbsp;it&nbsp;work&nbsp;by&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;tweaking&nbsp;the&nbsp;startup&nbsp;scripts,&nbsp;but&nbsp;I&nbsp;am&nbsp;not&nbsp;sure.&nbsp;&nbsp;What&nbsp;we&nbsp;recommend&nbsp;is&nbsp;not&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;use&nbsp;FQDNs.&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;*&nbsp;If&nbsp;you&nbsp;change&nbsp;the&nbsp;hostname&nbsp;and&nbsp;restart&nbsp;RabbitMQ,&nbsp;things&nbsp;should&nbsp;go&nbsp;smoothly.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&nbsp;said,&nbsp;I’m&nbsp;not&nbsp;sure&nbsp;what&nbsp;DHCP&nbsp;has&nbsp;to&nbsp;do&nbsp;with&nbsp;this.&nbsp;&nbsp;I&nbsp;suppose&nbsp;that&nbsp;what&nbsp;you&lt;/div&gt;&lt;div&gt;have&nbsp;done&nbsp;is&nbsp;to&nbsp;make&nbsp;possible&nbsp;to&nbsp;resolve&nbsp;the&nbsp;short&nbsp;names&nbsp;of&nbsp;the&nbsp;other&nbsp;nodes,&lt;/div&gt;&lt;div&gt;since&nbsp;things&nbsp;are&nbsp;working.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&gt;The&nbsp;next&nbsp;issue&nbsp;is&nbsp;related&nbsp;to&nbsp;clustering.&nbsp;When&nbsp;RabbitMQ&nbsp;starts&nbsp;up,&nbsp;and&nbsp;there's&lt;/div&gt;&lt;div&gt;a&nbsp;cluster_nodes&nbsp;section&nbsp;in&nbsp;the&nbsp;config,&nbsp;it&nbsp;seems&nbsp;to&nbsp;try&nbsp;and&nbsp;reach&nbsp;the&nbsp;nodes&lt;/div&gt;&lt;div&gt;only&nbsp;once.&nbsp;This&nbsp;behaviour&nbsp;I'm&nbsp;not&nbsp;sure&nbsp;of,&nbsp;hence&nbsp;the&nbsp;question.&nbsp;I&nbsp;noticed&nbsp;that&lt;/div&gt;&lt;div&gt;when&nbsp;a&nbsp;node&nbsp;can't&nbsp;look&nbsp;up&nbsp;any&nbsp;of&nbsp;the&nbsp;nodes&nbsp;in&nbsp;the&nbsp;cluster_nodes&nbsp;config,&nbsp;it&lt;/div&gt;&lt;div&gt;won't&nbsp;try&nbsp;again&nbsp;at&nbsp;a&nbsp;later&nbsp;point&nbsp;in&nbsp;time,&nbsp;e.g.&nbsp;on&nbsp;restart.&nbsp;Therefore&nbsp;that&nbsp;node&lt;/div&gt;&lt;div&gt;will&nbsp;never&nbsp;automatically&nbsp;join&nbsp;the&nbsp;cluster&nbsp;unless&nbsp;rabbitmqctl&nbsp;join_cluster&nbsp;is&lt;/div&gt;&lt;div&gt;called.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;DHCP&nbsp;configuration&nbsp;helped&nbsp;solve&nbsp;this&nbsp;issue&nbsp;as&nbsp;well,&nbsp;but&nbsp;I'm&nbsp;still&lt;/div&gt;&lt;div&gt;wondering&nbsp;if&nbsp;a)&nbsp;my&nbsp;observation&nbsp;is&nbsp;correct&nbsp;and&nbsp;b)&nbsp;if&nbsp;this&nbsp;is&nbsp;desired&lt;/div&gt;&lt;div&gt;behaviour.&nbsp;Should&nbsp;a&nbsp;new&nbsp;node&nbsp;be&nbsp;partitioned&nbsp;from&nbsp;the&nbsp;others&nbsp;only&nbsp;temporarily,&lt;/div&gt;&lt;div&gt;when&nbsp;it&nbsp;joins,&nbsp;it&nbsp;requires&nbsp;manual&nbsp;intervention&nbsp;to&nbsp;force&nbsp;it&nbsp;to&nbsp;join&nbsp;the&lt;/div&gt;&lt;div&gt;cluster.&nbsp;This&nbsp;somewhat&nbsp;seems&nbsp;to&nbsp;conform&nbsp;to&nbsp;what&nbsp;the&nbsp;documentation&nbsp;says:&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/clustering.html#auto-config&quot;&gt;http://www.rabbitmq.com/clustering.html#auto-config&lt;/a&gt;,&nbsp;but&nbsp;I'm&nbsp;not&nbsp;entirely&lt;/div&gt;&lt;div&gt;clear&nbsp;on&nbsp;whether&nbsp;a&nbsp;node&nbsp;just&nbsp;gives&nbsp;up&nbsp;trying&nbsp;to&nbsp;form&nbsp;a&nbsp;cluster&nbsp;once&nbsp;it&lt;/div&gt;&lt;div&gt;couldn't&nbsp;reach&nbsp;any&nbsp;of&nbsp;the&nbsp;nodes&nbsp;in&nbsp;the&nbsp;cluster_nodes&nbsp;list.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;behaviour&nbsp;you&nbsp;describe&nbsp;is&nbsp;correct.&nbsp;&nbsp;The&nbsp;`cluster_nodes'&nbsp;list&nbsp;is&nbsp;only&lt;/div&gt;&lt;div&gt;effective&nbsp;on&nbsp;“virgin”&nbsp;nodes,&nbsp;that&nbsp;is&nbsp;nodes&nbsp;that&nbsp;are&nbsp;started&nbsp;for&nbsp;the&nbsp;first&nbsp;time.&lt;/div&gt;&lt;div&gt;If&nbsp;the&nbsp;node&nbsp;can’t&nbsp;connect&nbsp;to&nbsp;any&nbsp;other&nbsp;node&nbsp;it&nbsp;won’t&nbsp;do&nbsp;anything.&nbsp;&nbsp;The&nbsp;rationale&lt;/div&gt;&lt;div&gt;behind&nbsp;that&nbsp;comes&nbsp;from&nbsp;boring&nbsp;technicalities&nbsp;related&nbsp;to&nbsp;how&nbsp;mnesia&nbsp;(the&nbsp;database&lt;/div&gt;&lt;div&gt;that&nbsp;backs&nbsp;RabbitMQ&nbsp;clustering)&nbsp;works,&nbsp;and&nbsp;most&nbsp;importantly&nbsp;the&nbsp;fact&nbsp;that&lt;/div&gt;&lt;div&gt;clustered&nbsp;nodes&nbsp;shouldn’t&nbsp;experience&nbsp;netsplits.&nbsp;&nbsp;So&nbsp;if&nbsp;you&nbsp;say&nbsp;“Should&nbsp;a&nbsp;new&lt;/div&gt;&lt;div&gt;node&nbsp;be&nbsp;partitioned&nbsp;from&nbsp;the&nbsp;others&nbsp;only&nbsp;temporarily...”,&nbsp;maybe&nbsp;clustering&nbsp;is&lt;/div&gt;&lt;div&gt;not&nbsp;the&nbsp;right&nbsp;solution.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Again,&nbsp;I’m&nbsp;don’t&nbsp;see&nbsp;how&nbsp;DHCP&nbsp;has&nbsp;anything&nbsp;to&nbsp;do&nbsp;with&nbsp;this.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&gt;So&nbsp;the&nbsp;question&nbsp;boils&nbsp;down&nbsp;to&nbsp;whether&nbsp;the&nbsp;automatic&nbsp;configuration&nbsp;is&nbsp;the&nbsp;way&lt;/div&gt;&lt;div&gt;to&nbsp;go&nbsp;or&nbsp;if&nbsp;it&nbsp;makes&nbsp;more&nbsp;sense&nbsp;to&nbsp;automate&nbsp;commands&nbsp;(using&nbsp;Chef,&nbsp;btw)&nbsp;around&lt;/div&gt;&lt;div&gt;the&nbsp;join_cluster&nbsp;and&nbsp;cluster_status&nbsp;commands.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;On&nbsp;top&nbsp;of&nbsp;that,&nbsp;to&nbsp;have&nbsp;a&nbsp;fresh&nbsp;node&nbsp;join&nbsp;the&nbsp;cluster,&nbsp;it&nbsp;needs&nbsp;to&nbsp;be&nbsp;stopped&lt;/div&gt;&lt;div&gt;again&nbsp;(stop_app)&nbsp;and&nbsp;reset,&nbsp;which&nbsp;somewhat&nbsp;boils&nbsp;down&nbsp;to&nbsp;the&nbsp;service&nbsp;being&lt;/div&gt;&lt;div&gt;started&nbsp;on&nbsp;package&nbsp;installation&nbsp;again.&nbsp;This&nbsp;behaviour&nbsp;seems&nbsp;to&nbsp;also&nbsp;have&lt;/div&gt;&lt;div&gt;changed&nbsp;from&nbsp;2.x&nbsp;where&nbsp;just&nbsp;updating&nbsp;the&nbsp;config&nbsp;and&nbsp;making&nbsp;sure&nbsp;all&nbsp;nodes&nbsp;have&lt;/div&gt;&lt;div&gt;the&nbsp;same&nbsp;Erlang&nbsp;cookie&nbsp;is&nbsp;correct,&nbsp;right?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So&nbsp;the&nbsp;biggest&nbsp;question&nbsp;is:&nbsp;how&nbsp;do&nbsp;folks&nbsp;work&nbsp;around&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&lt;/div&gt;&lt;div&gt;RabbitMQ&nbsp;node&nbsp;is&nbsp;started&nbsp;up&nbsp;on&nbsp;package&nbsp;installation.&nbsp;There's&nbsp;the&nbsp;option&nbsp;to&nbsp;use&lt;/div&gt;&lt;div&gt;policy-rc.d&nbsp;systems,&nbsp;but&nbsp;I'm&nbsp;not&nbsp;quite&nbsp;sure&nbsp;how&nbsp;feasible&nbsp;this&nbsp;is&nbsp;to&lt;/div&gt;&lt;div&gt;automate.&nbsp;Given&nbsp;that&nbsp;Chef&nbsp;runs&nbsp;every&nbsp;30&nbsp;minutes&nbsp;or&nbsp;so,&nbsp;the&nbsp;consequence&nbsp;would&lt;/div&gt;&lt;div&gt;be&nbsp;to&nbsp;install&nbsp;a&nbsp;policy&nbsp;on&nbsp;every&nbsp;run&nbsp;or&nbsp;to&nbsp;check&nbsp;on&nbsp;every&nbsp;run&nbsp;whether&nbsp;or&nbsp;not&lt;/div&gt;&lt;div&gt;the&nbsp;desired&nbsp;package&nbsp;is&nbsp;already&nbsp;installed.&nbsp;Currently&nbsp;I'm&nbsp;stopping&nbsp;the&nbsp;service&lt;/div&gt;&lt;div&gt;after&nbsp;stop_app&nbsp;and&nbsp;reset,&nbsp;before&nbsp;installing&nbsp;the&nbsp;new&nbsp;Erlang&nbsp;cookie.&nbsp;I'm&nbsp;just&lt;/div&gt;&lt;div&gt;not&nbsp;sure,&nbsp;it&nbsp;feels&nbsp;a&nbsp;bit&nbsp;weird&nbsp;to&nbsp;automate&nbsp;to&nbsp;me.&nbsp;I'd&nbsp;love&nbsp;for&nbsp;some&nbsp;input&nbsp;or&lt;/div&gt;&lt;div&gt;suggestions&nbsp;on&nbsp;this.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;current&nbsp;setup&nbsp;is&nbsp;working,&nbsp;and&nbsp;I&nbsp;can&nbsp;add&nbsp;nodes&nbsp;that&nbsp;automatically&nbsp;join&nbsp;the&lt;/div&gt;&lt;div&gt;cluster,&nbsp;so&nbsp;it's&nbsp;okay.&nbsp;Just&nbsp;want&nbsp;to&nbsp;make&nbsp;sure&nbsp;it's&nbsp;the&nbsp;right&nbsp;approach,&nbsp;or&nbsp;if&lt;/div&gt;&lt;div&gt;there&nbsp;are&nbsp;any&nbsp;other&nbsp;experiences&nbsp;on&nbsp;this.&nbsp;From&nbsp;what&nbsp;I&nbsp;understand&nbsp;there&nbsp;are&lt;/div&gt;&lt;div&gt;differences&nbsp;to&nbsp;2.x&nbsp;cluster&nbsp;setup,&nbsp;where&nbsp;updating&nbsp;the&nbsp;config&nbsp;and&nbsp;changing&nbsp;the&lt;/div&gt;&lt;div&gt;Erlang&nbsp;cookie&nbsp;apparently&nbsp;were&nbsp;all&nbsp;that's&nbsp;needed,&nbsp;but&nbsp;that's&nbsp;from&nbsp;my&nbsp;reading&nbsp;of&lt;/div&gt;&lt;div&gt;the&nbsp;documentation&nbsp;and&nbsp;existing&nbsp;Chef&nbsp;cookbooks&lt;/div&gt;&lt;div&gt;(&lt;a&nbsp;href=&quot;https://github.com/opscode-cookbooks/rabbitmq&quot;&gt;https://github.com/opscode-cookbooks/rabbitmq&lt;/a&gt;).&nbsp;Overall&nbsp;I&nbsp;feel&nbsp;like&nbsp;there's&nbsp;a&lt;/div&gt;&lt;div&gt;bit&nbsp;of&nbsp;a&nbsp;lack&nbsp;of&nbsp;documentation&nbsp;on&nbsp;how&nbsp;setting&nbsp;up&nbsp;a&nbsp;cluster&nbsp;can&nbsp;or&nbsp;should&nbsp;be&lt;/div&gt;&lt;div&gt;automated.&nbsp;Happy&nbsp;to&nbsp;help&nbsp;improving&nbsp;that&nbsp;situation,&nbsp;but&nbsp;I'd&nbsp;like&nbsp;to&nbsp;sure&nbsp;that&lt;/div&gt;&lt;div&gt;the&nbsp;choices&nbsp;described&nbsp;above&nbsp;are&nbsp;sane&nbsp;or&nbsp;completely&nbsp;bullocks.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Again,&nbsp;apologies&nbsp;for&nbsp;the&nbsp;long&nbsp;email.&nbsp;I&nbsp;hope&nbsp;the&nbsp;setup,&nbsp;issues&nbsp;and&nbsp;questions&lt;/div&gt;&lt;div&gt;are&nbsp;somewhat&nbsp;clear.&nbsp;Please&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;more&nbsp;input&nbsp;is&nbsp;require,&nbsp;happy&nbsp;to&nbsp;dive&lt;/div&gt;&lt;div&gt;into&nbsp;more&nbsp;detail.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;time,&nbsp;for&nbsp;RabbitMQ&nbsp;clustering,&nbsp;and&nbsp;for&nbsp;any&nbsp;feedback&nbsp;you&lt;/div&gt;&lt;div&gt;might&nbsp;have&nbsp;:)&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;don’t&nbsp;know&nbsp;anything&nbsp;about&nbsp;EC2&nbsp;or&nbsp;Chef,&nbsp;and&nbsp;I&nbsp;don’t&nbsp;understand&nbsp;what&nbsp;you&nbsp;are&lt;/div&gt;&lt;div&gt;doing&nbsp;with&nbsp;DHCP,&nbsp;but&nbsp;I’m&nbsp;quite&nbsp;sure&nbsp;you’re&nbsp;mixing&nbsp;up&nbsp;two&nbsp;separated&nbsp;issues:&nbsp;one&lt;/div&gt;&lt;div&gt;is&nbsp;related&nbsp;to&nbsp;FQDNs&nbsp;and&nbsp;how&nbsp;nodes&nbsp;resolve&nbsp;other&nbsp;node&nbsp;names,&nbsp;and&nbsp;the&nbsp;other&nbsp;is&lt;/div&gt;&lt;div&gt;related&nbsp;to&nbsp;how&nbsp;the&nbsp;automatic&nbsp;clustering&nbsp;configuration&nbsp;works.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;what&nbsp;concerns&nbsp;the&nbsp;former,&nbsp;RabbitMQ&nbsp;nodes&nbsp;will&nbsp;use&nbsp;unqualified&nbsp;names&nbsp;(unless&lt;/div&gt;&lt;div&gt;you&nbsp;are&nbsp;tweaking&nbsp;how&nbsp;RabbitMQ&nbsp;nodes&nbsp;are&nbsp;started&nbsp;up),&nbsp;so&nbsp;you’ll&nbsp;have&nbsp;to&nbsp;play&nbsp;by&lt;/div&gt;&lt;div&gt;that.&nbsp;&nbsp;Obviously&nbsp;you’ll&nbsp;have&nbsp;to&nbsp;make&nbsp;the&nbsp;unqualified&nbsp;names&nbsp;resolve&nbsp;correctly&nbsp;on&lt;/div&gt;&lt;div&gt;each&nbsp;node,&nbsp;e.g.&nbsp;by&nbsp;adding&nbsp;entries&nbsp;in&nbsp;the&nbsp;hosts&nbsp;file.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;what&nbsp;concerns&nbsp;the&nbsp;latter,&nbsp;if&nbsp;you&nbsp;are&nbsp;confident&nbsp;that&nbsp;netsplits&nbsp;won’t&nbsp;occur,&lt;/div&gt;&lt;div&gt;then&nbsp;the&nbsp;semantics&nbsp;of&nbsp;the&nbsp;`cluster_nodes'&nbsp;configuration&nbsp;should&nbsp;be&nbsp;fine.&nbsp;&nbsp;If&nbsp;that&lt;/div&gt;&lt;div&gt;is&nbsp;not&nbsp;the&nbsp;case&nbsp;you&nbsp;might&nbsp;need&nbsp;to&nbsp;hack&nbsp;up&nbsp;some&nbsp;other&nbsp;mechanism&nbsp;but&nbsp;I&nbsp;would&lt;/div&gt;&lt;div&gt;advise&nbsp;against&nbsp;that&nbsp;because&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;1.&nbsp;It’s&nbsp;easy&nbsp;to&nbsp;get&nbsp;wrong,&nbsp;clustering&nbsp;is&nbsp;quite&nbsp;delicate&nbsp;and&nbsp;there&nbsp;are&nbsp;many&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;subtleties.&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;2.&nbsp;If&nbsp;you&nbsp;are&nbsp;on&nbsp;a&nbsp;network&nbsp;that&nbsp;is&nbsp;affected&nbsp;by&nbsp;netsplits,&nbsp;you&nbsp;should&nbsp;avoid&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clustering&nbsp;anyway&nbsp;-&nbsp;see&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/clustering.html&quot;&gt;http://www.rabbitmq.com/clustering.html&lt;/a&gt;&amp;gt;.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;yes,&nbsp;things&nbsp;changed&nbsp;from&nbsp;2.x&nbsp;on&nbsp;this&nbsp;front&nbsp;as&nbsp;part&nbsp;of&nbsp;efforts&nbsp;to&nbsp;make&lt;/div&gt;&lt;div&gt;clustering&nbsp;more&nbsp;solid.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;hope&nbsp;this&nbsp;helps.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Francesco&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</tt>
