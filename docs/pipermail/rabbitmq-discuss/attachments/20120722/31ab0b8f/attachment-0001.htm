<tt>
hi&nbsp;&lt;br&gt;&lt;br&gt;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&nbsp;class=&quot;votecell&quot;&gt;&lt;div&nbsp;class=&quot;vote&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;<br>
&lt;/div&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;&lt;/td&gt;<br>
&lt;td&nbsp;class=&quot;postcell&quot;&gt;<br>
&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;post-text&quot;&nbsp;itemprop=&quot;description&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;understand&nbsp;the&nbsp;RabitMq&nbsp;server&nbsp;with&nbsp;a&nbsp;sender&nbsp;<br>
and&nbsp;a&nbsp;receiver&nbsp;program.&nbsp;&nbsp;Now&nbsp;the&nbsp;entire&nbsp;setup&nbsp;works&nbsp;well&nbsp;when&nbsp;the&nbsp;sender<br>
&nbsp;sends&nbsp;a&nbsp;single&nbsp;message&nbsp;and&nbsp;the&nbsp;same&nbsp;would&nbsp;be&nbsp;received&nbsp;by&nbsp;the&nbsp;receiver.&lt;/p&gt;<br>
<br>
&lt;p&gt;however&nbsp;when&nbsp;i&nbsp;send&nbsp;two&nbsp;messages(&nbsp;by&nbsp;running&nbsp;sender&nbsp;twice)&nbsp;and&nbsp;run&nbsp;<br>
the&nbsp;receiver&nbsp;program&nbsp;twice&nbsp;i&nbsp;get&nbsp;only&nbsp;the&nbsp;first&nbsp;&nbsp;message.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
<br>
&lt;p&gt;Sender&lt;/p&gt;<br>
<br>
&lt;pre&gt;&lt;code&gt;&nbsp;&nbsp;ConnectionFactory&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;factory.setHost(&quot;localhost&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connection&nbsp;connection&nbsp;=&nbsp;factory.newConnection();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Channel&nbsp;channel&nbsp;=&nbsp;connection.createChannel();<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.queueDeclare(QUEUE_NAME,&nbsp;true,&nbsp;false,&nbsp;false,&nbsp;null);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;message&nbsp;=&nbsp;&quot;He12!&quot;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.basicPublish(&quot;&quot;,&nbsp;QUEUE_NAME,&nbsp;null,&nbsp;message.getBytes());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;Sent&nbsp;&quot;+message);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.close();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connection.close();<br>
&lt;/code&gt;&lt;/pre&gt;<br>
<br>
&lt;p&gt;Receiver&lt;/p&gt;<br>
<br>
&lt;pre&gt;&lt;code&gt;&nbsp;&nbsp;&nbsp;&nbsp;ConnectionFactory&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory();<br>
&nbsp;&nbsp;&nbsp;&nbsp;factory.setHost(&quot;localhost&quot;);<br>
&nbsp;&nbsp;&nbsp;&nbsp;Connection&nbsp;connection&nbsp;=&nbsp;factory.newConnection();<br>
&nbsp;&nbsp;&nbsp;&nbsp;Channel&nbsp;channel&nbsp;=&nbsp;connection.createChannel();<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;channel.queueDeclare(QUEUE_NAME,&nbsp;true,&nbsp;false,&nbsp;false,&nbsp;null);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;QueueingConsumer&nbsp;consumer&nbsp;=&nbsp;new&nbsp;QueueingConsumer(channel);<br>
&nbsp;&nbsp;&nbsp;&nbsp;channel.basicConsume(QUEUE_NAME,&nbsp;true,&nbsp;consumer);<br>
&nbsp;&nbsp;&nbsp;&nbsp;QueueingConsumer.Delivery&nbsp;delivery&nbsp;=&nbsp;consumer.nextDelivery();<br>
&nbsp;&nbsp;&nbsp;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;message;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(delivery&nbsp;!=&nbsp;null)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;=&nbsp;new&nbsp;String(delivery.getBody());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(&quot;Reciever&nbsp;..&quot;+message);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;channel.close();<br>
&nbsp;&nbsp;&nbsp;&nbsp;connection.close();<br>
&lt;/code&gt;&lt;/pre&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;br&gt;I&nbsp;dont&nbsp;have&nbsp;a&amp;nbsp;&nbsp;infinite&nbsp;while&nbsp;loop&nbsp;in&nbsp;the&nbsp;receiver&nbsp;code&nbsp;(as&nbsp;shown&nbsp;in&nbsp;the&nbsp;getting&nbsp;started&nbsp;page&nbsp;in&nbsp;the&nbsp;rabbitMq&nbsp;site&nbsp;)&nbsp;because&nbsp;i&nbsp;want&nbsp;to&nbsp;expose&amp;nbsp;&nbsp;this&nbsp;receiver&nbsp;as&nbsp;a&nbsp;web&nbsp;service&nbsp;sending&nbsp;one&nbsp;message&nbsp;at&nbsp;a&nbsp;time.&lt;br&gt;&lt;br&gt;I&nbsp;also&nbsp;noticed&nbsp;by&nbsp;executing&nbsp;the&nbsp;commond&nbsp;rabbitMqctl&nbsp;list_queues&nbsp;that&nbsp;the&nbsp;entire&nbsp;queue&nbsp;contents&nbsp;become&nbsp;zero&nbsp;as&nbsp;and&nbsp;when&nbsp;the&nbsp;control&nbsp;reaches&nbsp;&lt;br&gt;&lt;pre&gt;&lt;code&gt;&nbsp;&nbsp;&nbsp;&nbsp;channel.basicConsume(QUEUE_NAME,&nbsp;true,&nbsp;consumer);&lt;br&gt;&lt;br&gt;&lt;br&gt;Kindly&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;i&nbsp;am&nbsp;missing&nbsp;something.&lt;br&gt;&lt;/code&gt;&lt;/pre&gt;&lt;br&gt;
</tt>
