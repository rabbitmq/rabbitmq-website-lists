<tt>
Hi&nbsp;Hugh,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Queue&nbsp;data&nbsp;is&nbsp;not&nbsp;replicated&nbsp;to&nbsp;other&nbsp;members&nbsp;of&nbsp;the&nbsp;cluster&nbsp;(whether&nbsp;it&amp;#39;s&nbsp;a&nbsp;persistent&nbsp;or&nbsp;non-persistent&nbsp;queue),&nbsp;so&nbsp;if&nbsp;a&nbsp;cluster&nbsp;member&nbsp;dies,&nbsp;all&nbsp;queue&nbsp;data&nbsp;goes&nbsp;poof&nbsp;if&nbsp;it&amp;#39;s&nbsp;non-persistent.&nbsp;However,&nbsp;if&nbsp;it&nbsp;is&nbsp;persistent,&nbsp;while&nbsp;queue&nbsp;data&nbsp;doesn&amp;#39;t&nbsp;go&nbsp;poof&nbsp;(still&nbsp;in&nbsp;the&nbsp;log)&nbsp;when&nbsp;you&nbsp;restart&nbsp;the&nbsp;node&nbsp;the&nbsp;queue&nbsp;data&nbsp;won&amp;#39;t&nbsp;auto&nbsp;replay&nbsp;into&nbsp;the&nbsp;cluster.&nbsp; You&amp;#39;ll&nbsp;have&nbsp;to&nbsp;do&nbsp;that&nbsp;manually.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-J&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;5,&nbsp;2009&nbsp;at&nbsp;8:07&nbsp;AM,&nbsp;Hugh&nbsp;Watkins&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:hwwatkins@gmail.com&quot;&gt;hwwatkins@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;br&gt;&lt;div&gt;I&nbsp;was&nbsp;trying&nbsp;to&nbsp;understand&nbsp;how&nbsp;the&nbsp;clustering&nbsp;support&nbsp;works&nbsp;in&nbsp;RabbitMQ&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;From&nbsp;the documentation the&nbsp;message&nbsp;queue&nbsp;data&nbsp;is&nbsp;not&nbsp;clustered,&nbsp;so&nbsp;if&nbsp;you&nbsp;have&nbsp;queue&nbsp;created&nbsp;on&nbsp;one&nbsp;machine&nbsp;and&nbsp;the&nbsp;queue&nbsp;is&nbsp;not&nbsp;persisted&nbsp;then&nbsp;that&nbsp;box&nbsp;going&nbsp;down&nbsp;will&nbsp;cause&nbsp;the&nbsp;queued&nbsp;messages&nbsp;to&nbsp;be destroyed.&nbsp;Is&nbsp;this&nbsp;a&nbsp;correct&nbsp;interpretation?&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;system&nbsp;that&nbsp;is&nbsp;creating&nbsp;perishable&nbsp;queue&nbsp;messages,&nbsp;i.e.&nbsp;they&nbsp;need&nbsp;to&nbsp;be&nbsp;acted&nbsp;on&nbsp;in&nbsp;100-200&nbsp;ms&nbsp;or&nbsp;it&amp;#39;s&nbsp;to&nbsp;late&nbsp;a&nbsp;timeout&nbsp;will&nbsp;occur&nbsp;further&nbsp;up&nbsp;the&nbsp;chain.&nbsp; I&nbsp;would&nbsp;like&nbsp;to&nbsp;setup&nbsp;a&nbsp;cluster&nbsp;an&nbsp;protect&nbsp;as&nbsp;many&nbsp;messages&nbsp;as&nbsp;possible.&nbsp; It&nbsp;would&nbsp;not&nbsp;be&nbsp;worth&nbsp;creating&nbsp;a persistent queue&nbsp; because&nbsp;it&nbsp;would&nbsp;slow&nbsp;down&nbsp;the&nbsp;processing&nbsp;and&nbsp;as&nbsp;I&nbsp;mentioned&nbsp;these&nbsp;are&nbsp;perishable&nbsp;messages.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;like&nbsp;I&nbsp;should&nbsp;create&nbsp;different&nbsp;queues&nbsp;on&nbsp;each&nbsp;machine&nbsp;in&nbsp;the&nbsp;cluster&nbsp;and&nbsp;try&nbsp;to&nbsp;load&nbsp;balance&nbsp;across&nbsp;those&nbsp;queues,&nbsp;either&nbsp;by&nbsp;having&nbsp;the&nbsp;producers&nbsp;write&nbsp;too&nbsp;the&nbsp;local&nbsp;queue,&nbsp;round&nbsp;robin&nbsp;or&nbsp;some&nbsp;other&nbsp;mechanism.&nbsp; The&nbsp;workers&nbsp;in&nbsp;turn&nbsp;would&nbsp;listen&nbsp;on&nbsp;all&nbsp;queues.&nbsp; Does&nbsp;this&nbsp;sound&nbsp;reasonable?&nbsp; It&nbsp;requires&nbsp;more&nbsp;configuration&nbsp;than&nbsp;I&nbsp;was&nbsp;hoping&nbsp;for&nbsp;because&nbsp;at&nbsp;least&nbsp;the&nbsp;workers&nbsp;have&nbsp;to&nbsp;be&nbsp;aware&nbsp;on&nbsp;another&nbsp;queue&nbsp;being&nbsp;created&nbsp;if&nbsp;another&nbsp;node&nbsp;is&nbsp;added.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Hugh&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
