<tt>
&lt;html&gt;&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;&quot;&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Jun&nbsp;5,&nbsp;2009,&nbsp;at&nbsp;9:11&nbsp;AM,&nbsp;Jason&nbsp;J.&nbsp;W.&nbsp;Williams&nbsp;wrote:&lt;/div&gt;&lt;br&nbsp;class=&quot;Apple-interchange-newline&quot;&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;Hi&nbsp;Hugh,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Queue&nbsp;data&nbsp;is&nbsp;not&nbsp;replicated&nbsp;to&nbsp;other&nbsp;members&nbsp;of&nbsp;the&nbsp;cluster&nbsp;(whether&nbsp;it's&nbsp;a&nbsp;persistent&nbsp;or&nbsp;non-persistent&nbsp;queue),&nbsp;so&nbsp;if&nbsp;a&nbsp;cluster&nbsp;member&nbsp;dies,&nbsp;all&nbsp;queue&nbsp;data&nbsp;goes&nbsp;poof&nbsp;if&nbsp;it's&nbsp;non-persistent.&nbsp;However,&nbsp;if&nbsp;it&nbsp;is&nbsp;persistent,&nbsp;while&nbsp;queue&nbsp;data&nbsp;doesn't&nbsp;go&nbsp;poof&nbsp;(still&nbsp;in&nbsp;the&nbsp;log)&nbsp;when&nbsp;you&nbsp;restart&nbsp;the&nbsp;node&nbsp;the&nbsp;queue&nbsp;data&nbsp;won't&nbsp;auto&nbsp;replay&nbsp;into&nbsp;the&nbsp;cluster.&nbsp;&amp;nbsp;You'll&nbsp;have&nbsp;to&nbsp;do&nbsp;that&nbsp;manually.&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Are&nbsp;you&nbsp;saying&nbsp;that&nbsp;if&nbsp;an&nbsp;instance&nbsp;of&nbsp;RabbitMQ&nbsp;does&nbsp;down&nbsp;and&nbsp;is&nbsp;brought&nbsp;back&nbsp;up,&nbsp;its&nbsp;persistent&nbsp;messages&nbsp;won't&nbsp;be&nbsp;delivered&nbsp;when&nbsp;a&nbsp;consumer&nbsp;re-attaches?&nbsp;&amp;nbsp;(I'm&nbsp;not&nbsp;sure&nbsp;what&nbsp;you&nbsp;mean&nbsp;by&nbsp;&quot;manually&quot;.)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;that's&nbsp;the&nbsp;case,&nbsp;that&nbsp;seems&nbsp;quite&nbsp;broken&nbsp;and&nbsp;not&nbsp;fault-tolerant&nbsp;at&nbsp;all.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Surely,&nbsp;I'm&nbsp;misunderstanding.....&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;so&nbsp;need&nbsp;to&nbsp;get&nbsp;out&nbsp;from&nbsp;under&nbsp;my&nbsp;workload&nbsp;and&nbsp;write&nbsp;some&nbsp;tests.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Keith&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-J&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;5,&nbsp;2009&nbsp;at&nbsp;8:07&nbsp;AM,&nbsp;Hugh&nbsp;Watkins&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:hwwatkins@gmail.com&quot;&gt;hwwatkins@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&nbsp;&lt;br&gt;&lt;div&gt;I&nbsp;was&nbsp;trying&nbsp;to&nbsp;understand&nbsp;how&nbsp;the&nbsp;clustering&nbsp;support&nbsp;works&nbsp;in&nbsp;RabbitMQ&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1)&nbsp;From&nbsp;the&amp;nbsp;documentation&amp;nbsp;the&nbsp;message&nbsp;queue&nbsp;data&nbsp;is&nbsp;not&nbsp;clustered,&nbsp;so&nbsp;if&nbsp;you&nbsp;have&nbsp;queue&nbsp;created&nbsp;on&nbsp;one&nbsp;machine&nbsp;and&nbsp;the&nbsp;queue&nbsp;is&nbsp;not&nbsp;persisted&nbsp;then&nbsp;that&nbsp;box&nbsp;going&nbsp;down&nbsp;will&nbsp;cause&nbsp;the&nbsp;queued&nbsp;messages&nbsp;to&nbsp;be&amp;nbsp;destroyed.&nbsp;Is&nbsp;this&nbsp;a&nbsp;correct&nbsp;interpretation?&lt;/div&gt;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;a&nbsp;system&nbsp;that&nbsp;is&nbsp;creating&nbsp;perishable&nbsp;queue&nbsp;messages,&nbsp;i.e.&nbsp;they&nbsp;need&nbsp;to&nbsp;be&nbsp;acted&nbsp;on&nbsp;in&nbsp;100-200&nbsp;ms&nbsp;or&nbsp;it's&nbsp;to&nbsp;late&nbsp;a&nbsp;timeout&nbsp;will&nbsp;occur&nbsp;further&nbsp;up&nbsp;the&nbsp;chain.&nbsp;&amp;nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;setup&nbsp;a&nbsp;cluster&nbsp;an&nbsp;protect&nbsp;as&nbsp;many&nbsp;messages&nbsp;as&nbsp;possible.&nbsp;&amp;nbsp;It&nbsp;would&nbsp;not&nbsp;be&nbsp;worth&nbsp;creating&nbsp;a&amp;nbsp;persistent&amp;nbsp;queue&nbsp;&amp;nbsp;because&nbsp;it&nbsp;would&nbsp;slow&nbsp;down&nbsp;the&nbsp;processing&nbsp;and&nbsp;as&nbsp;I&nbsp;mentioned&nbsp;these&nbsp;are&nbsp;perishable&nbsp;messages.&lt;/div&gt;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;seems&nbsp;like&nbsp;I&nbsp;should&nbsp;create&nbsp;different&nbsp;queues&nbsp;on&nbsp;each&nbsp;machine&nbsp;in&nbsp;the&nbsp;cluster&nbsp;and&nbsp;try&nbsp;to&nbsp;load&nbsp;balance&nbsp;across&nbsp;those&nbsp;queues,&nbsp;either&nbsp;by&nbsp;having&nbsp;the&nbsp;producers&nbsp;write&nbsp;too&nbsp;the&nbsp;local&nbsp;queue,&nbsp;round&nbsp;robin&nbsp;or&nbsp;some&nbsp;other&nbsp;mechanism.&nbsp;&amp;nbsp;The&nbsp;workers&nbsp;in&nbsp;turn&nbsp;would&nbsp;listen&nbsp;on&nbsp;all&nbsp;queues.&nbsp;&amp;nbsp;Does&nbsp;this&nbsp;sound&nbsp;reasonable?&nbsp;&amp;nbsp;It&nbsp;requires&nbsp;more&nbsp;configuration&nbsp;than&nbsp;I&nbsp;was&nbsp;hoping&nbsp;for&nbsp;because&nbsp;at&nbsp;least&nbsp;the&nbsp;workers&nbsp;have&nbsp;to&nbsp;be&nbsp;aware&nbsp;on&nbsp;another&nbsp;queue&nbsp;being&nbsp;created&nbsp;if&nbsp;another&nbsp;node&nbsp;is&nbsp;added.&lt;/div&gt;&nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Hugh&lt;/div&gt;&nbsp;&lt;br&gt;_______________________________________________&lt;br&gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;&nbsp;&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&nbsp;_______________________________________________&lt;br&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
