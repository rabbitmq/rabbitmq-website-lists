<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Matthias&nbsp;Radestock&nbsp;wrote:<br>
&lt;blockquote&nbsp;cite=&quot;mid:49621F7C.8090502@lshift.net&quot;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Gordon&nbsp;Sim&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;A&nbsp;general&nbsp;atomicity&nbsp;guarantee&nbsp;is&nbsp;more&nbsp;basic&nbsp;than&nbsp;that&nbsp;though&nbsp;and&nbsp;would&nbsp;<br>
in&nbsp;my&nbsp;view&nbsp;be&nbsp;valuable&nbsp;even&nbsp;if&nbsp;it&nbsp;only&nbsp;applied&nbsp;where&nbsp;queues&nbsp;involved&nbsp;in&nbsp;<br>
that&nbsp;transaction&nbsp;were&nbsp;not&nbsp;deleted&nbsp;during&nbsp;the&nbsp;life&nbsp;of&nbsp;the&nbsp;transaction.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;(Note&nbsp;the&nbsp;only&nbsp;way&nbsp;a&nbsp;queue&nbsp;should&nbsp;disappear&nbsp;due&nbsp;to&nbsp;failure&nbsp;is&nbsp;if&nbsp;the&nbsp;<br>
broker&nbsp;restarts&nbsp;and&nbsp;the&nbsp;queue&nbsp;was&nbsp;not&nbsp;durable,&nbsp;in&nbsp;which&nbsp;case&nbsp;any&nbsp;open&nbsp;<br>
transactions&nbsp;would&nbsp;be&nbsp;aborted).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
Not&nbsp;quite.&nbsp;Firstly,&nbsp;if&nbsp;queues&nbsp;are&nbsp;active&nbsp;entities,&nbsp;which&nbsp;they&nbsp;are&nbsp;in&nbsp;<br>
RabbitMQ,&nbsp;then&nbsp;they&nbsp;can,&nbsp;in&nbsp;principle,&nbsp;die&nbsp;due&nbsp;to&nbsp;some&nbsp;failure.&nbsp;<br>
Secondly,&nbsp;in&nbsp;a&nbsp;clustered&nbsp;RabbitMQ&nbsp;broker&nbsp;each&nbsp;queue&nbsp;resides&nbsp;on&nbsp;a&nbsp;<br>
specific&nbsp;node.&nbsp;In&nbsp;such&nbsp;a&nbsp;set&nbsp;up&nbsp;a&nbsp;transaction&nbsp;may&nbsp;take&nbsp;place&nbsp;on&nbsp;a&nbsp;<br>
connection+channel&nbsp;against&nbsp;one&nbsp;particular&nbsp;node&nbsp;but&nbsp;involve&nbsp;queues&nbsp;<br>
residing&nbsp;on&nbsp;other&nbsp;nodes.&nbsp;Those&nbsp;queue&nbsp;can&nbsp;disappear&nbsp;due&nbsp;to&nbsp;node&nbsp;failure&nbsp;<br>
or&nbsp;network&nbsp;connectivity&nbsp;disruption&nbsp;without&nbsp;the&nbsp;transacted&nbsp;<br>
connection+channel&nbsp;being&nbsp;dropped&nbsp;(since&nbsp;the&nbsp;node&nbsp;which&nbsp;holds&nbsp;the&nbsp;<br>
connection&nbsp;is&nbsp;still&nbsp;alive&nbsp;and&nbsp;well).&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
Sound&nbsp;like&nbsp;a&nbsp;bug.&amp;nbsp;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;something&nbsp;is&nbsp;transactional&nbsp;then&nbsp;it&nbsp;should&nbsp;be&nbsp;ACID,&nbsp;so&nbsp;if&nbsp;a&nbsp;node<br>
fails&nbsp;and&nbsp;is&nbsp;restarted&nbsp;it&nbsp;&lt;br&gt;<br>
should&nbsp;be&nbsp;recover-ed&nbsp;from&nbsp;the&nbsp;transaction&nbsp;log.&nbsp;Once&nbsp;a&nbsp;client&nbsp;has<br>
successfully&nbsp;committed&nbsp;&lt;br&gt;<br>
the&nbsp;txn,&nbsp;the&nbsp;broker&nbsp;weather&nbsp;single&nbsp;instance&nbsp;or&nbsp;cluster&nbsp;should&nbsp;be&nbsp;in&nbsp;a<br>
consistent&nbsp;state&lt;br&gt;<br>
or&nbsp;be&nbsp;able&nbsp;to&nbsp;be&nbsp;recover-ed&nbsp;to&nbsp;the&nbsp;consistent&nbsp;state&nbsp;to&nbsp;trans-send&nbsp;the<br>
failure.&lt;br&gt;<br>
&lt;br&gt;<br>
Carl.&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
