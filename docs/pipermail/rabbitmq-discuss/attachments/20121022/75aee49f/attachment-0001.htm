<tt>
Hi&nbsp;Emile,&lt;br&gt;&lt;br&gt;I&nbsp;ran&nbsp;through&nbsp;the&nbsp;troubleshooting&nbsp;wizard&nbsp;and&nbsp;the&nbsp;openssl&nbsp;connection&nbsp;test&nbsp;passes&nbsp;-&nbsp;so&nbsp;that&nbsp;makes&nbsp;me&nbsp;think&nbsp;it&nbsp;is&nbsp;not&nbsp;a&nbsp;network&nbsp;issue.&nbsp;However&nbsp;my&nbsp;java&nbsp;client&nbsp;still&nbsp;fails&nbsp;with&nbsp;the&nbsp;&amp;quot;Remote&nbsp;host&nbsp;closed&nbsp;connection&nbsp;during&nbsp;handshake&amp;quot;&nbsp;error.&nbsp;I&nbsp;have&nbsp;included&nbsp;the&nbsp;results&nbsp;of&nbsp;the&nbsp;connection&nbsp;test&nbsp;below.&nbsp;Any&nbsp;other&nbsp;thoughts&nbsp;on&nbsp;how&nbsp;I&nbsp;can&nbsp;debug&nbsp;this?&lt;br&gt;<br>
&lt;br&gt;C:\temp&amp;gt;openssl&nbsp;s_client&nbsp;-connect&nbsp;&lt;a&nbsp;href=&quot;http://199.71.180.59:5671&quot;&gt;199.71.180.59:5671&lt;/a&gt;&nbsp;-CAfile&nbsp;ssltest.pem&lt;br&gt;CONNECTED(00000003)&lt;br&gt;depth=1&nbsp;/CN=ScaleGridCA&lt;br&gt;verify&nbsp;return:1&lt;br&gt;depth=0&nbsp;/CN=i-19-483-VM/O=server&lt;br&gt;<br>
verify&nbsp;return:1&lt;br&gt;---&lt;br&gt;Certificate&nbsp;chain&lt;br&gt; 0&nbsp;s:/CN=i-19-483-VM/O=server&lt;br&gt;  &nbsp;i:/CN=ScaleGridCA&lt;br&gt; 1&nbsp;s:/CN=ScaleGridCA&lt;br&gt;  &nbsp;i:/CN=ScaleGridCA&lt;br&gt;---&lt;br&gt;Server&nbsp;certificate&lt;br&gt;-----BEGIN&nbsp;CERTIFICATE-----&lt;br&gt;MIIC5zCCAc+gAwIBAgIBNDANBgkqhkiG9w0BAQUFADAWMRQwEgYDVQQDEwtTY2Fs&lt;br&gt;<br>
ZUdyaWRDQTAeFw0xMjEwMjIxNjIxNTJaFw0xMzEwMjIxNjIxNTJaMCcxFDASBgNV&lt;br&gt;BAMTC2ktMTktNDgzLVZNMQ8wDQYDVQQKEwZzZXJ2ZXIwggEiMA0GCSqGSIb3DQEB&lt;br&gt;AQUAA4IBDwAwggEKAoIBAQDX7e0Jql/WTD7OUDTIQmg+igwhiVO+17QBuDkgSsQ/&lt;br&gt;9nRJSCZzEKC9guH7V+Veq8UG9G2brqwF10jzuZSOq3CGaBWH+F5KE/U+q2yuR3kt&lt;br&gt;<br>
sOLz6wgMgYnobI1SWjvlkbwYKhgnv689m58Ub5lTISB3aKwT4C0ilnWBbF0v61mq&lt;br&gt;TFtjwDRAbCPXl9HwbBFoeLpTsiRu76VXWkA6pv9Ndl4hhcg2YLGwWAOdZO2/NUCB&lt;br&gt;QjqrHOir9ekjmpjWMQmWakN61/ckFuuFtGLOqrcujbRuVpAFFWGd53/quCZ+WKNw&lt;br&gt;81ZdafFnUSI8ioK2sHGQFxsQKNkpaRuE2/YbrLam+4HPAgMBAAGjLzAtMAkGA1Ud&lt;br&gt;<br>
EwQCMAAwCwYDVR0PBAQDAgUgMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3&lt;br&gt;DQEBBQUAA4IBAQBqBdvs5eHfVbh8jtp3KF/Q/UG/RtMBrkBnlFWLdBKbhYbWCC1K&lt;br&gt;5VncFIpQQ2K44G+RWaqMpPgwj4AZso83/JXn11b52ZxGdR8iogrAX4vWw41CNKfr&lt;br&gt;VX0jj4/TPlwFvdS9Jzd3w/NAvLgQ1JXZdBaWxAagfXl8++5nVdC94sj4GNkrCwyN&lt;br&gt;<br>
r4zBiA6BOsmznVLBLjpoj3WLlrJDGZCTv+PSHDplZtuquDyl37PLOG6F2WUFAxaL&lt;br&gt;vhj7zKVTGIj7ESXuNYKnTSyLEkxvrlWdKooJKmH+v5xxEM6H2PqFcS/LGwIaUuxc&lt;br&gt;26AKWBnVcK+Pd86765KirNUwf7Fm2ChKwj9M&lt;br&gt;-----END&nbsp;CERTIFICATE-----&lt;br&gt;subject=/CN=i-19-483-VM/O=server&lt;br&gt;<br>
issuer=/CN=ScaleGridCA&lt;br&gt;---&lt;br&gt;No&nbsp;client&nbsp;certificate&nbsp;CA&nbsp;names&nbsp;sent&lt;br&gt;---&lt;br&gt;SSL&nbsp;handshake&nbsp;has&nbsp;read&nbsp;1632&nbsp;bytes&nbsp;and&nbsp;written&nbsp;444&nbsp;bytes&lt;br&gt;---&lt;br&gt;New,&nbsp;TLSv1/SSLv3,&nbsp;Cipher&nbsp;is&nbsp;AES256-SHA&lt;br&gt;Server&nbsp;public&nbsp;key&nbsp;is&nbsp;2048&nbsp;bit&lt;br&gt;Compression:&nbsp;NONE&lt;br&gt;<br>
Expansion:&nbsp;NONE&lt;br&gt;SSL-Session:&lt;br&gt;   &nbsp;Protocol &nbsp;:&nbsp;TLSv1&lt;br&gt;   &nbsp;Cipher   &nbsp;:&nbsp;AES256-SHA&lt;br&gt;   &nbsp;Session-ID:&nbsp;A0F1A911ED174A49B8AACDD54C3F21C1FD332949D892EEDABF84479DC21BB22D&lt;br&gt;   &nbsp;Session-ID-ctx:&lt;br&gt;   &nbsp;Master-Key:&nbsp;8FCF38B3652F0A2E6BA8EEBACF2F7387C84416DDCC365A4FF8A4A4FA4B06343DEE463499007DDD03E1155A4A4D8317EE&lt;br&gt;<br>
   &nbsp;Key-Arg  &nbsp;:&nbsp;None&lt;br&gt;   &nbsp;Start&nbsp;Time:&nbsp;1350938613&lt;br&gt;   &nbsp;Timeout  &nbsp;:&nbsp;300&nbsp;(sec)&lt;br&gt;   &nbsp;Verify&nbsp;return&nbsp;code:&nbsp;0&nbsp;(ok)&lt;br&gt;---&lt;br&gt;12345678&lt;br&gt;AMQP   &nbsp;☺closed&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Oct&nbsp;22,&nbsp;2012&nbsp;at&nbsp;2:24&nbsp;AM,&nbsp;Emile&nbsp;Joubert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;emile@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;21/10/12&nbsp;21:23,&nbsp;dharshanr&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;=ERROR&nbsp;REPORT====&nbsp;21-Oct-2012::09:12:49&nbsp;===&lt;br&gt;<br>
&amp;gt;&nbsp;error&nbsp;on&nbsp;AMQP&nbsp;connection&nbsp;&amp;lt;0.7614.0&amp;gt;:&nbsp;{ssl_upgrade_error,timeout}&lt;br&gt;<br>
&lt;br&gt;<br>
Are&nbsp;you&nbsp;sure&nbsp;the&nbsp;problem&nbsp;is&nbsp;not&nbsp;network-related?&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;The&nbsp;certs&nbsp;are&nbsp;self&nbsp;signed&nbsp;certs&nbsp;and&nbsp;not&nbsp;trusted.&nbsp;Any&nbsp;thoughts&nbsp;on&nbsp;how&nbsp;I&lt;br&gt;<br>
&amp;gt;&nbsp;can&nbsp;debug&nbsp;this&nbsp;error?&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;is&nbsp;strange&nbsp;that&nbsp;a&nbsp;working&nbsp;setup&nbsp;stops&nbsp;working&nbsp;suddenly.&nbsp;The&nbsp;tips&nbsp;in&lt;br&gt;<br>
the&nbsp;SSL&nbsp;troubleshooting&nbsp;guide&nbsp;might&nbsp;provide&nbsp;more&nbsp;debugging&nbsp;information:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/troubleshooting-ssl.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/troubleshooting-ssl.html&lt;/a&gt;&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
-Emile&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;regards,&lt;br&gt;Dharshan.&lt;br&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://www.scalegrid.net&quot;&nbsp;target=&quot;_blank&quot;&gt;www.scalegrid.net&lt;/a&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
