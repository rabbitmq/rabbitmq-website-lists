<tt>
By&nbsp;default&nbsp;rabbitmq-c&nbsp;sets&nbsp;TCP_NODELAY&nbsp;on:&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;https://github.com/alanxz/rabbitmq-c/blob/master/librabbitmq/amqp_socket.c#L328&quot;&gt;https://github.com/alanxz/rabbitmq-c/blob/master/librabbitmq/amqp_socket.c#L328&lt;/a&gt;&lt;br&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There&nbsp;should&nbsp;be&nbsp;no&nbsp;reason&nbsp;for&nbsp;you&nbsp;to&nbsp;be&nbsp;changing&nbsp;this&nbsp;socket&nbsp;parameter.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-Alan&lt;/div&gt;&lt;br&gt;&lt;div&gt;On&nbsp;Wed&nbsp;May&nbsp;21&nbsp;2014&nbsp;at&nbsp;11:17:40&nbsp;PM,&nbsp;Haster&nbsp;&lt;&lt;a&nbsp;href=&quot;mailto:haster2004@yandex.ru&quot;&gt;haster2004@yandex.ru&lt;/a&gt;&gt;&nbsp;wrote:&lt;/div&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Alan,&lt;br&gt;<br>
&lt;br&gt;<br>
In&nbsp;my&nbsp;program&nbsp;I&nbsp;use&nbsp;TCP_NODELAY&nbsp;option&nbsp;of&nbsp;socket.&lt;br&gt;<br>
And&nbsp;now&nbsp;my&nbsp;code&nbsp;look&nbsp;like:&lt;br&gt;<br>
&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;connection&nbsp;=&nbsp;amqp_new_connection();&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;if&nbsp;(!connection)&nbsp;{&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;throw&nbsp;RabbitMQException(-1,&nbsp;&quot;Create&nbsp;connection&nbsp;error&quot;);&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;}&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;int&nbsp;sockfd&nbsp;=&nbsp;amqp_open_socket(hostName.c_&lt;u&gt;&lt;/u&gt;str(),&nbsp;portNumber);&nbsp; //5672&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;if&nbsp;(sockfd&nbsp;&lt;&nbsp;0)&nbsp;{&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;std::string&nbsp;err_msg&nbsp;=&nbsp;&quot;Opening&nbsp;socket:&nbsp;&quot;;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;err_msg&nbsp;+=&nbsp;amqp_error_string2(sockfd);&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp;throw&nbsp;RabbitMQException(-sockfd,&nbsp;err_msg.c_str());&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;}&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;int&nbsp;nodelay&nbsp;=&nbsp;1;&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;setsockopt(sockfd,&nbsp;IPPROTO_TCP,&nbsp;TCP_NODELAY,&nbsp;(char*)&amp;nodelay,&lt;br&gt;<br>
sizeof(nodelay));&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp;amqp_set_sockfd(connection,&nbsp;sockfd);&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;amqp_set_sockfd&nbsp;function&nbsp;is&nbsp;deprecated&nbsp;now&nbsp;and&nbsp;I&#39;m&nbsp;afraid&nbsp;that&nbsp;it&nbsp;can&nbsp;be&lt;br&gt;<br>
dropped&nbsp;in&nbsp;future&nbsp;versions.&lt;br&gt;<br>
So&nbsp;can&nbsp;you&nbsp;add&nbsp;supporting&nbsp;TCP_NODELAY&nbsp;option&nbsp;in&nbsp;your&nbsp;future&nbsp;version&nbsp;of&lt;br&gt;<br>
rabbitmq_c?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://rabbitmq.1065348.n5.nabble.com/Library-rabbitmq-c-and-TCP-NODELAY-tp35761.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://rabbitmq.1065348.n5.&lt;u&gt;&lt;/u&gt;nabble.com/Library-rabbitmq-c-&lt;u&gt;&lt;/u&gt;and-TCP-NODELAY-tp35761.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;RabbitMQ&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>

</tt>
