<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&nbsp;have&nbsp;a&nbsp;sort&nbsp;of&nbsp;odd&nbsp;scenario.&nbsp;&nbsp;I&nbsp;want&nbsp;to&nbsp;process&nbsp;1&nbsp;message&nbsp;at&nbsp;a&nbsp;time&nbsp;so&nbsp;I&nbsp;call&nbsp;basic&nbsp;qos&nbsp;with&nbsp;a&nbsp;prefetch&nbsp;of&nbsp;1&nbsp;and&nbsp;call&nbsp;BasicConsume(),&nbsp;but&nbsp;sometimes&nbsp;my&nbsp;processing&nbsp;will&nbsp;end&nbsp;in&nbsp;a&nbsp;long&nbsp;blocking&nbsp;task.&nbsp;&nbsp;When&nbsp;that&nbsp;happens,&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;increase&nbsp;the&nbsp;qos&nbsp;prefetch&nbsp;to&nbsp;2&nbsp;to&nbsp;trigger&nbsp;the&nbsp;next&nbsp;message&nbsp;to&nbsp;be&nbsp;received&nbsp;and&nbsp;processed.&nbsp;&nbsp;The&nbsp;issue&nbsp;is&nbsp;that&nbsp;I&nbsp;don't&nbsp;want&nbsp;to&nbsp;ack&nbsp;the&nbsp;first&nbsp;message&nbsp;until&nbsp;after&nbsp;the&nbsp;long&nbsp;blocking&nbsp;process&nbsp;completes&nbsp;successfully.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;I&nbsp;call&nbsp;BasicQoS&nbsp;before&nbsp;acking&nbsp;the&nbsp;first&nbsp;message,&nbsp;the&nbsp;2nd&nbsp;message&nbsp;isn't&nbsp;received&nbsp;until&nbsp;after&nbsp;the&nbsp;long&nbsp;running&nbsp;task&nbsp;completes&nbsp;and&nbsp;the&nbsp;ack&nbsp;is&nbsp;sent.&nbsp;&nbsp;Can&nbsp;anyone&nbsp;explain&nbsp;what's&nbsp;going&nbsp;on&nbsp;and&nbsp;possibly&nbsp;suggest&nbsp;an&nbsp;alternative?&lt;/div&gt;&lt;/div&gt;
</tt>
