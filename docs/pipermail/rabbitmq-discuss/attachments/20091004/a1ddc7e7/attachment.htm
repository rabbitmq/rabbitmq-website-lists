<tt>
Hi,&nbsp;we&amp;#39;re&nbsp;using 184cb96f7846+&nbsp;(bug20980)&nbsp;and&nbsp;our&nbsp;host&nbsp;alerted&nbsp;us&nbsp;that&nbsp;rabbit&nbsp;was&nbsp;eating&nbsp;up&nbsp;all&nbsp;available&nbsp;swap&nbsp;on&nbsp;a&nbsp;16GB&nbsp;real&nbsp;+&nbsp;8GB&nbsp;swap&nbsp;machine.&lt;br&gt;&lt;br&gt;&lt;div&gt;&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;PID&nbsp;USER&nbsp; &nbsp; &nbsp; PR&nbsp; NI&nbsp; VIRT&nbsp; RES&nbsp; SHR&nbsp;S&nbsp;%CPU&nbsp;%MEM&nbsp; &nbsp; TIME+&nbsp; SWAP&nbsp;COMMAND&lt;br&gt;<br>
18445&nbsp;rabbitmq&nbsp; 18&nbsp; &nbsp;0&nbsp;24.7g&nbsp; 14g&nbsp;1696&nbsp;S&nbsp;1087.1&nbsp;91.7&nbsp; &nbsp;2268:18&nbsp; 10g&nbsp;beam.smp&lt;br&gt;&lt;br&gt;In&nbsp;an&nbsp;effort&nbsp;to&nbsp;prevent&nbsp;kernel&nbsp;panic,&nbsp;we&nbsp;restarted&nbsp;the&nbsp;rabbitmq&nbsp;service,&nbsp;freeing&nbsp;up&nbsp;a&nbsp;considerable&nbsp;amount&nbsp;of&nbsp;swap:&lt;br&gt;&lt;br&gt;However,&nbsp;the&nbsp;rabbitmq&nbsp;server&nbsp;is&nbsp;not&nbsp;starting&nbsp;again&nbsp;as&nbsp;expected,&nbsp;due&nbsp;to&nbsp;the&nbsp;following&nbsp;exception:&lt;br&gt;<br>
&lt;br&gt;2009-10-04&nbsp;06:26:29.797201500&nbsp;{&amp;quot;init&nbsp;terminating&nbsp;in&nbsp;do_boot&amp;quot;,{{nocatch,{error,{cannot_start_application,rabbit,{{timeout_waiting_for_tables,[rabbit_disk_queue]},{rabbit,start,[normal,[]]}}}}},[{init,start_it,1},{init,start_em,1}]}}&lt;br&gt;<br>
&amp;quot;&amp;quot;&amp;quot;&lt;br&gt;&lt;br&gt;&lt;div&gt;They&nbsp;had&nbsp;to&nbsp;delete&nbsp;the&nbsp;mnesia&nbsp;folder&nbsp;(losing&nbsp;all&nbsp;our&nbsp;disk-backed&nbsp;queues)&nbsp;and&nbsp;restart\,&nbsp;now&nbsp;it&amp;#39;s&nbsp;fine.&nbsp;I&nbsp;would&nbsp;guess&nbsp;that&nbsp;this&nbsp;breakage&nbsp;coincided&nbsp;with&nbsp;us&nbsp;storing&nbsp;quite&nbsp;a&nbsp;large&nbsp;number&nbsp;of&nbsp;unacked&nbsp;messages&nbsp;in&nbsp;the&nbsp;queues&nbsp;(job&nbsp;instructions&nbsp;for&nbsp;a&nbsp;very&nbsp;large&nbsp;batch) &lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;a)&nbsp;Would&nbsp;upgrading&nbsp;this&nbsp;branch&nbsp;fix&nbsp;this?&nbsp;We&nbsp;were&nbsp;avoiding&nbsp;doing&nbsp;so&nbsp;because&nbsp;things&nbsp;were&nbsp;relatively&nbsp;stable.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;b)&nbsp;is&nbsp;there&nbsp;anything&nbsp;else&nbsp;I&nbsp;can&nbsp;look&nbsp;at&nbsp;to&nbsp;debug?&nbsp;The&nbsp;logs&nbsp;don&amp;#39;t&nbsp;have&nbsp;anything&nbsp;of&nbsp;importance.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
