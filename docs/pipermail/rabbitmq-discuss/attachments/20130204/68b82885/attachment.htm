<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Hi&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;On&nbsp;02/04/2013&nbsp;07:54&nbsp;AM,&nbsp;Arizanov&nbsp;wrote:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:d2777947-5cc3-4ee6-afe4-45aca918604f@googlegroups.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;Hi&nbsp;guys,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;We&nbsp;are&nbsp;doing&nbsp;some&nbsp;realtime&nbsp;replication&nbsp;of&nbsp;critical&nbsp;data&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there&nbsp;may&nbsp;be&nbsp;cases&nbsp;when&nbsp;the&nbsp;RabbitMQ&nbsp;cluster&nbsp;is&nbsp;unaccessible.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E.g.&nbsp;the&nbsp;cluster&nbsp;is&nbsp;being&nbsp;patched&nbsp;or&nbsp;there&nbsp;just&nbsp;a&nbsp;network<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connectivity&nbsp;issue.&nbsp;On&nbsp;one&nbsp;side&nbsp;we&nbsp;can&nbsp;have&nbsp;local&nbsp;rabbitmq<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;installations&nbsp;inside&nbsp;the&nbsp;webserver&nbsp;and&nbsp;shovels,&nbsp;which&nbsp;transmit<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;data&nbsp;to&nbsp;the&nbsp;cluster.&nbsp;On&nbsp;the&nbsp;other&nbsp;side,&nbsp;we&nbsp;can&nbsp;develop&nbsp;our<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;own&nbsp;database&nbsp;and&nbsp;a&nbsp;service&nbsp;over&nbsp;it,&nbsp;which&nbsp;is&nbsp;scheduled&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transmit&nbsp;the&nbsp;messages&nbsp;to&nbsp;the&nbsp;cluster&nbsp;when&nbsp;it&nbsp;becomes&nbsp;available.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;So&nbsp;is&nbsp;using&nbsp;the&nbsp;'shovel'&nbsp;the&nbsp;best&nbsp;practise?&nbsp;Does&nbsp;the&nbsp;statement&amp;nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&quot;A&nbsp;shovel&nbsp;behaves&nbsp;like&nbsp;a&nbsp;well-written&nbsp;client&nbsp;application,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which&nbsp;connects&nbsp;to&nbsp;its&nbsp;source&nbsp;and&nbsp;destination,&nbsp;reads&nbsp;and&nbsp;writes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messages,&nbsp;and&nbsp;copes&nbsp;with&nbsp;connection&nbsp;failures.&quot;&nbsp;from&amp;nbsp;&lt;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moz-do-not-send=&quot;true&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;http://www.rabbitmq.com/shovel.html&quot;&gt;http://www.rabbitmq.com/shovel.html&lt;/a&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;means&nbsp;so?&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Reading&nbsp;from&nbsp;...,&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;Whereas&nbsp;federation&nbsp;aims&nbsp;to&nbsp;mirror&nbsp;messages&nbsp;from&nbsp;one&nbsp;exchange&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;another&nbsp;(with&nbsp;optimisations&nbsp;to&nbsp;ensure&nbsp;that&nbsp;messages&nbsp;are&nbsp;not<br>
&nbsp;&nbsp;&nbsp;&nbsp;forwarded&nbsp;unless&nbsp;needed),&nbsp;the&nbsp;shovel&nbsp;simply&nbsp;consumes&nbsp;messages&nbsp;from&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;queue&nbsp;on&nbsp;one&nbsp;broker,&nbsp;and&nbsp;forwards&nbsp;them&nbsp;to&nbsp;an&nbsp;exchange&nbsp;on&nbsp;another.&nbsp;&quot;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;So&nbsp;with&nbsp;the&nbsp;Shovel,&nbsp;because&nbsp;you&nbsp;&quot;Choose&nbsp;Availability&nbsp;and&nbsp;Partition<br>
&nbsp;&nbsp;&nbsp;&nbsp;Tolerance&nbsp;from&nbsp;the&nbsp;&lt;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;href=&quot;http://en.wikipedia.org/wiki/CAP_theorem&quot;&gt;CAP&nbsp;theorem&lt;/a&gt;&quot;,<br>
&nbsp;&nbsp;&nbsp;&nbsp;there&nbsp;is&nbsp;the&nbsp;possibility&nbsp;that&nbsp;you'll&nbsp;end&nbsp;up&nbsp;with&nbsp;duplicate&nbsp;messages.<br>
&nbsp;&nbsp;&nbsp;&nbsp;You&nbsp;can&nbsp;tweak&nbsp;the&nbsp;'republish'&nbsp;semantics&nbsp;to&nbsp;compensate&nbsp;for&nbsp;this&nbsp;if<br>
&nbsp;&nbsp;&nbsp;&nbsp;you&nbsp;like,&nbsp;and&nbsp;of&nbsp;course&nbsp;yes&nbsp;the&nbsp;Shovel&nbsp;will&nbsp;attempt&nbsp;to&nbsp;reconnect<br>
&nbsp;&nbsp;&nbsp;&nbsp;(and&nbsp;this&nbsp;is&nbsp;also&nbsp;configurable)&nbsp;on&nbsp;connection&nbsp;failure.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;You&nbsp;might&nbsp;want&nbsp;to&nbsp;consider&nbsp;Federation&nbsp;if&nbsp;you&nbsp;don't&nbsp;need&nbsp;to&nbsp;low&nbsp;level<br>
&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;control&nbsp;that&nbsp;the&nbsp;Shovel&nbsp;offers.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Cheers,&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Tim&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
