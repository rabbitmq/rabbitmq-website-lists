<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2013/12/16&nbsp;3k4b251&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:314992959@qq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;314992959@qq.com&lt;/a&gt;&gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&nbsp;id=&quot;:11p&quot;&nbsp;style=&quot;overflow:hidden&quot;&gt;But&nbsp; once&nbsp; I&nbsp;send&nbsp; a&lt;br&gt;<br>
msg,&nbsp; I&nbsp;can&nbsp;not&nbsp; receive&nbsp;it.&nbsp; &nbsp;So&nbsp; I&nbsp;Check&nbsp;the&nbsp; queue&nbsp; by&nbsp; &nbsp;rabbitmqctl.&nbsp; I&lt;br&gt;<br>
see&nbsp; &nbsp; the&nbsp; msg&nbsp; in&nbsp;q123&nbsp; &nbsp;who&nbsp; had&nbsp; not&nbsp; been&nbsp; published.&nbsp; &nbsp;So&nbsp; I&nbsp; try&nbsp; to&lt;br&gt;<br>
remove&nbsp;the&nbsp;consumer:&nbsp; amqp_basic_cancel(q123...)&nbsp; and&nbsp; &nbsp;request&nbsp; the&lt;br&gt;<br>
consumer&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:amqp_basic_consume(q123....).&nbsp; But&nbsp; I&nbsp; still&nbsp; can&nbsp; not&lt;br&gt;<br>
receive&nbsp; the&nbsp; msg.&lt;br&gt;<br>
 &nbsp; finally&nbsp; I&nbsp; restart&nbsp; the&nbsp; connection&nbsp; to&nbsp; MQ&nbsp; server,&nbsp; then&nbsp; I&nbsp; &nbsp;receive&lt;br&gt;<br>
the&nbsp;msg.&nbsp; &lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Make&nbsp;sure&nbsp;that&nbsp;the&nbsp;queue&nbsp;is&nbsp;not&nbsp;auto-delete.&nbsp;Use&nbsp;management&nbsp;UI&nbsp;to&nbsp;find&nbsp;out&nbsp;if&nbsp;the&nbsp;messages&lt;/div&gt;&lt;div&gt;are&nbsp;actually&nbsp;being&nbsp;routed&nbsp;and&nbsp;if&nbsp;the&nbsp;exchange&nbsp;type&nbsp;is&nbsp;indeed&nbsp;fanout.&nbsp;Make&nbsp;sure&nbsp;your&nbsp;don&#39;t&nbsp;use&lt;/div&gt;<br>
<br>
&lt;div&gt;manual&nbsp;acknowledgements&nbsp;and&nbsp;configure&nbsp;basic.qos,&nbsp;or&nbsp;if&nbsp;you&nbsp;do,&nbsp;you&nbsp;ack&nbsp;or&nbsp;reject&nbsp;messages&lt;/div&gt;&lt;div&gt;correctly.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;div&gt;See&nbsp;RabbitMQ&nbsp;log&nbsp;if&nbsp;there&nbsp;are&nbsp;any&nbsp;exceptions.&nbsp;Use&nbsp;RabbitMQ&nbsp;tracer&nbsp;(ships&nbsp;with&nbsp;the&nbsp;Java&nbsp;client)&lt;/div&gt;<br>
<br>
&lt;div&gt;to&nbsp;see&nbsp;what&#39;s&nbsp;being&nbsp;sent&nbsp;up&nbsp;and&nbsp;down&nbsp;the&nbsp;wire.&lt;/div&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;MK&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://github.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://github.com/michaelklishin&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://twitter.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twitter.com/michaelklishin&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
