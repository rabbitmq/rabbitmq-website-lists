<tt>
FWIW,&nbsp;my&nbsp;&amp;quot;solution&amp;quot;&nbsp;(pretty&nbsp;basic)&nbsp;to&nbsp;the&nbsp;same&nbsp;problem&nbsp;is&nbsp;to&nbsp;have&nbsp;one&nbsp;exchange/queue&nbsp;combo&nbsp;per&nbsp;type&nbsp;of&nbsp;message&nbsp;(or&nbsp;job).&nbsp;IOW&nbsp;I&nbsp;use&nbsp;the&nbsp;same&nbsp;queue&nbsp;for&nbsp;all&nbsp;subscribers&nbsp;to&nbsp;any&nbsp;exchange.&nbsp;&lt;br&gt;&lt;br&gt;Each&nbsp;consumer&nbsp;(&amp;quot;agent&amp;quot;&nbsp;in&nbsp;me-speak)&nbsp;subscribes&nbsp;to&nbsp;the&nbsp;queues&nbsp;it&nbsp;knows&nbsp;how&nbsp;to&nbsp;handle,&nbsp;assuming&nbsp;I&nbsp;want&nbsp;it&nbsp;to...I&nbsp;can&nbsp;set&nbsp;up&nbsp;workers&nbsp;anywhere,&nbsp;but&nbsp;some&nbsp;tasks&nbsp;are&nbsp;best&nbsp;handled&nbsp;in&nbsp;certain&nbsp;places,&nbsp;due&nbsp;to&nbsp;network&nbsp;or&nbsp;hardware&nbsp;issues.&lt;br&gt;<br>
&lt;br&gt;RabbitMQ&nbsp;(at&nbsp;least&nbsp;with&nbsp;v1.7.2...I&nbsp;dunno&nbsp;about&nbsp;others.)&nbsp;does&nbsp;a&nbsp;really&nbsp;neat&nbsp;round-robin&nbsp;distribution&nbsp;of&nbsp;messages&nbsp;when&nbsp;multiple&nbsp;consumers&nbsp;subscribe&nbsp;to&nbsp;the&nbsp;same&nbsp;queue.&nbsp;Workers&nbsp;&amp;quot;ack&amp;quot;&nbsp;each&nbsp;message&nbsp;only&nbsp;when&nbsp;they&amp;#39;re&nbsp;finished&nbsp;doing&nbsp;the&nbsp;work&nbsp;(yes,&nbsp;that&nbsp;can&nbsp;create&nbsp;network&nbsp;timeout&nbsp;issues),&nbsp;so&nbsp;there&amp;#39;s&nbsp;near-perfect&nbsp;load-balancing&nbsp;built&nbsp;in.&nbsp;Any&nbsp;time&nbsp;I&nbsp;need&nbsp;to&nbsp;pass&nbsp;more&nbsp;info&nbsp;than&nbsp;I&nbsp;want&nbsp;to&nbsp;try&nbsp;to&nbsp;push&nbsp;through&nbsp;RabbitMQ,&nbsp;I&nbsp;store&nbsp;it&nbsp;in&nbsp;S3&nbsp;and&nbsp;pass&nbsp;the&nbsp;filename.&lt;br&gt;<br>
&lt;br&gt;HTH,&nbsp;but&nbsp;actually&nbsp;I&nbsp;hope&nbsp;someone&nbsp;else&nbsp;has&nbsp;a&nbsp;better&nbsp;idea...&lt;br&gt;&lt;br&gt;-David&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jun&nbsp;10,&nbsp;2011&nbsp;at&nbsp;5:15&nbsp;AM,&nbsp;PADIOU&nbsp;Pierre-Marie&nbsp;(MORPHO)&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:pierre-marie.padiou@morpho.com&quot;&gt;pierre-marie.padiou@morpho.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&nbsp;link=&quot;blue&quot;&nbsp;vlink=&quot;purple&quot;&nbsp;lang=&quot;FR&quot;&gt;<br>
<br>
&lt;div&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Hello,&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt; &lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;I&nbsp;am&nbsp;currently&nbsp;struggling&nbsp;with&nbsp;the<br>
following&nbsp;use&nbsp;case:&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;-&nbsp;I&nbsp;am&nbsp;using&nbsp;a&nbsp;publish/subscribe&nbsp;model&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;-&nbsp;I’ve&nbsp;got&nbsp;many&nbsp;subscribers&nbsp;and&nbsp;I<br>
only&nbsp;want&nbsp;one&nbsp;of&nbsp;them&nbsp;to&nbsp;process&nbsp;a&nbsp;publisher’s&nbsp;message&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;-&nbsp;requests&nbsp;can&nbsp;be&nbsp;of&nbsp;many&nbsp;types&nbsp;(say&nbsp;A&nbsp;to&nbsp;Z),<br>
and&nbsp;each&nbsp;consumer&nbsp;knows&nbsp;how&nbsp;to&nbsp;deal&nbsp;with&nbsp;only&nbsp;a&nbsp;subset&nbsp;of&nbsp;them&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt; &lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;For&nbsp;example&nbsp;:&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;-&nbsp;consumer&nbsp;1&nbsp;can&nbsp;process&nbsp;requests&nbsp;A&nbsp;to&nbsp;M&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;-&nbsp;consumer&nbsp;2&nbsp;can&nbsp;process&nbsp;requests&nbsp;N&nbsp;to&nbsp;Z&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;-&nbsp;consumer&nbsp;3&nbsp;can&nbsp;process&nbsp;requests&nbsp;F&nbsp;to&nbsp;Q&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt; &lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;There&nbsp;is&nbsp;actually&nbsp;far&nbsp;more&nbsp;types&nbsp;than&nbsp;that<br>
(say&nbsp;a&nbsp;thousand).&nbsp;For&nbsp;now,&nbsp;the&nbsp;only&nbsp;solution&nbsp;I&nbsp;see&nbsp;would&nbsp;be&nbsp;to&nbsp;create&nbsp;as&nbsp;many<br>
queues&nbsp;as&nbsp;requests&nbsp;types&nbsp;(queueA,&nbsp;queueB,&nbsp;etc),&nbsp;and&nbsp;make&nbsp;consumer&nbsp;listen&nbsp;to&nbsp;the<br>
appropriate&nbsp;queues.&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt; &lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Thing&nbsp;is:&nbsp;&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;-&nbsp;this&nbsp;implies&nbsp;that&nbsp;consumers&nbsp;create&nbsp;as<br>
many&nbsp;threads&nbsp;as&nbsp;queues&nbsp;there&nbsp;are&nbsp;listening&nbsp;from&nbsp;(more&nbsp;than&nbsp;a&nbsp;hundred&nbsp;in&nbsp;my<br>
case),&nbsp;which&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;avoid.&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;-&nbsp;or&nbsp;I&nbsp;could&nbsp;make&nbsp;a&nbsp;single&nbsp;thread&nbsp;of&nbsp;a&nbsp;consumer<br>
randomly&nbsp;and&nbsp;sequentially&nbsp;dequeue&nbsp;messages&nbsp;from&nbsp;all&nbsp;queues&nbsp;assigned&nbsp;to&nbsp;it?&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt; &lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Is&nbsp;there&nbsp;a&nbsp;better&nbsp;way&nbsp;to&nbsp;handle&nbsp;this?&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;&lt;br&gt;<br>
Thanks&nbsp;in&nbsp;advance&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt; &lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt;Pierre-Marie&lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt; &lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;span&nbsp;lang=&quot;EN-US&quot;&gt; &lt;/span&gt;&lt;/p&gt;<br>
<br>
&lt;/div&gt;<br>
<br>
&lt;pre&nbsp;style=&quot;white-space:&nbsp;normal;&quot;&gt;#&lt;br&gt;&amp;quot;&nbsp;Ce&nbsp;courriel&nbsp;et&nbsp;les&nbsp;documents&nbsp;qui&nbsp;lui&nbsp;sont&nbsp;joints&nbsp;peuvent&nbsp;contenir&nbsp;des&nbsp;informations&nbsp;confidentielles&nbsp;ou&nbsp;ayant&nbsp;un&nbsp;caractère&nbsp;privé.&nbsp;S&amp;#39;ils&nbsp;ne&nbsp;vous&nbsp;sont&nbsp;pas&nbsp;destinés,&nbsp;nous&nbsp;vous&nbsp;signalons&nbsp;qu&amp;#39;il&nbsp;est&nbsp;strictement&nbsp;interdit&nbsp;de&nbsp;les&nbsp;divulguer,&nbsp;de&nbsp;les&nbsp;reproduire&nbsp;ou&nbsp;d&amp;#39;en&nbsp;utiliser&nbsp;de&nbsp;quelque&nbsp;manière&nbsp;que&nbsp;ce&nbsp;soit&nbsp;le&nbsp;contenu.&nbsp;Si&nbsp;ce&nbsp;message&nbsp;vous&nbsp;a&nbsp;été&nbsp;transmis&nbsp;par&nbsp;erreur,&nbsp;merci&nbsp;d&amp;#39;en&nbsp;informer&nbsp;l&amp;#39;expéditeur&nbsp;et&nbsp;de&nbsp;supprimer&nbsp;immédiatement&nbsp;de&nbsp;votre&nbsp;système&nbsp;informatique&nbsp;ce&nbsp;courriel&nbsp;ainsi&nbsp;que&nbsp;tous&nbsp;les&nbsp;documents&nbsp;qui&nbsp;y&nbsp;sont&nbsp;attachés.&amp;quot;&lt;br&gt;<br>
******&lt;br&gt;&amp;quot;&nbsp;This&nbsp;e-mail&nbsp;and&nbsp;any&nbsp;attached&nbsp;documents&nbsp;may&nbsp;contain&nbsp;confidential&nbsp;or&nbsp;proprietary&nbsp;information.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient,&nbsp;you&nbsp;are&nbsp;notified&nbsp;that&nbsp;any&nbsp;dissemination,&nbsp;copying&nbsp;of&nbsp;this&nbsp;e-mail&nbsp;and&nbsp;any&nbsp;attachments&nbsp;thereto&nbsp;or&nbsp;use&nbsp;of&nbsp;their&nbsp;contents&nbsp;by&nbsp;any&nbsp;means&nbsp;whatsoever&nbsp;is&nbsp;strictly&nbsp;prohibited.&nbsp;If&nbsp;you&nbsp;have&nbsp;received&nbsp;this&nbsp;e-mail&nbsp;in&nbsp;error,&nbsp;please&nbsp;advise&nbsp;the&nbsp;sender&nbsp;immediately&nbsp;and&nbsp;delete&nbsp;this&nbsp;e-mail&nbsp;and&nbsp;all&nbsp;attached&nbsp;documents&nbsp;from&nbsp;your&nbsp;computer&nbsp;system.&amp;quot;&lt;br&gt;<br>
#&lt;br&gt;&lt;/pre&gt;&lt;/div&gt;<br>
<br>
<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
