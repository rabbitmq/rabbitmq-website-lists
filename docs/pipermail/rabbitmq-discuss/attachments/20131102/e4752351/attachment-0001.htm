<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hey,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;did&nbsp;you&nbsp;ever&nbsp;get&nbsp;a&nbsp;solution&nbsp;to&nbsp;this&nbsp;problem&nbsp;?&nbsp;I've&nbsp;got&nbsp;the&nbsp;same&nbsp;and&nbsp;it's&nbsp;driving&nbsp;me&nbsp;nuts&nbsp;:(&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;thanks&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Julian&lt;br&gt;&lt;br&gt;On&nbsp;Friday,&nbsp;11&nbsp;October&nbsp;2013&nbsp;07:58:11&nbsp;UTC+1,&nbsp;Petri&nbsp;Luojus&nbsp;&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hello,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We're&nbsp;using&nbsp;RabbitMQ&nbsp;in&nbsp;our&nbsp;messaging&nbsp;with&nbsp;several&nbsp;AMQP&nbsp;and&nbsp;STOMP&nbsp;over&nbsp;WebSocket&nbsp;clients.&nbsp;STOMP&nbsp;clients&nbsp;are&nbsp;using&nbsp;JavaScript&nbsp;and&nbsp;stomp.js&nbsp;(&lt;a&nbsp;href=&quot;http://jmesnil.net/stomp-websocket/doc/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://jmesnil.net/stomp-&lt;wbr&gt;websocket/doc/&lt;/a&gt;)&nbsp;in&nbsp;browsers.&nbsp;However,&nbsp;recent&nbsp;stable&nbsp;release&nbsp;for&nbsp;Chrome&nbsp;fixed&nbsp;the&nbsp;following&nbsp;issue:&nbsp;&lt;a&nbsp;href=&quot;http://code.google.com/p/chromium/issues/detail?id=259666&quot;&nbsp;target=&quot;_blank&quot;&gt;http://code.google.com/p/&lt;wbr&gt;chromium/issues/detail?id=&lt;wbr&gt;259666&lt;/a&gt;.&nbsp;This&nbsp;in&nbsp;turn&nbsp;broke&nbsp;all&nbsp;Chromium-based&nbsp;clients,&nbsp;and&nbsp;since&nbsp;the&nbsp;WebSocket&nbsp;specification&nbsp;(&lt;a&nbsp;href=&quot;http://dev.w3.org/html5/websockets/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://dev.w3.org/html5/&lt;wbr&gt;websockets/&lt;/a&gt;)&nbsp;reports&nbsp;&quot;The&nbsp;connection&nbsp;will&nbsp;only&nbsp;be&nbsp;established&nbsp;if&nbsp;the&nbsp;server&nbsp;reports&nbsp;that&nbsp;it&nbsp;has&nbsp;selected&nbsp;one&nbsp;of&nbsp;these&nbsp;subprotocols.&quot;&nbsp;it&nbsp;is&nbsp;expected&nbsp;that&nbsp;this&nbsp;fix&nbsp;will&nbsp;be&nbsp;pushed&nbsp;to&nbsp;other&nbsp;browsers&nbsp;too.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Following&nbsp;messages&nbsp;are&nbsp;changed&nbsp;between&nbsp;client&nbsp;and&nbsp;RabbitMQ,&nbsp;after&nbsp;which&nbsp;Chrome&nbsp;reports&nbsp;&quot;Error&nbsp;during&nbsp;WebSocket&nbsp;handshake:&nbsp;Sec-WebSocket-Protocol&nbsp;mismatch&quot;.&nbsp;As&nbsp;can&nbsp;be&nbsp;seen&nbsp;from&nbsp;the&nbsp;response,&nbsp;RabbitMQ&nbsp;does&nbsp;not&nbsp;confirm&nbsp;the&nbsp;selected&nbsp;protocol.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;GET&nbsp;/stomp/websocket&nbsp;HTTP/1.1&lt;/div&gt;&lt;div&gt;Upgrade:&nbsp;websocket&lt;/div&gt;&lt;div&gt;Connection:&nbsp;Upgrade&lt;/div&gt;&lt;div&gt;Host:&nbsp;xxx.yyy:15674&lt;/div&gt;&lt;div&gt;Origin:&nbsp;null&lt;/div&gt;&lt;div&gt;Sec-WebSocket-Protocol:&nbsp;v10.stomp,&nbsp;v11.stomp&lt;/div&gt;&lt;div&gt;Pragma:&nbsp;no-cache&lt;/div&gt;&lt;div&gt;Cache-Control:&nbsp;no-cache&lt;/div&gt;&lt;div&gt;Sec-WebSocket-Key:&nbsp;YRpCwsRP6s2ounZHK4soEQ==&lt;/div&gt;&lt;div&gt;Sec-WebSocket-Version:&nbsp;13&lt;/div&gt;&lt;div&gt;Sec-WebSocket-Extensions:&nbsp;x-webkit-deflate-frame&lt;/div&gt;&lt;div&gt;User-Agent:&nbsp;Mozilla/5.0&nbsp;(Windows&nbsp;NT&nbsp;6.1;&nbsp;WOW64)&nbsp;AppleWebKit/537.36&nbsp;(KHTML,&nbsp;like&nbsp;Gecko)&nbsp;Chrome/30.0.1599.69&nbsp;Safari/537.36&lt;/div&gt;&lt;div&gt;Cookie:&nbsp;auth=bHVvanVzOk15aGthbGU1;&nbsp;m=1933:600%7C5|2377:large|&lt;wbr&gt;2491:chart|2663:t|6967:t|34e2:&lt;wbr&gt;|4e99:t|2c69:t|2a03:t|745a:t|&lt;wbr&gt;77cb:t|5cf4:t|3a95:avg|54b5:&lt;wbr&gt;small|29b3:60%7C5|3a8e:chart|&lt;wbr&gt;54ae:small|29ac:600%7C5|47ba:&lt;wbr&gt;t|e69:chart|45b9:600%7C5|4a01:&lt;wbr&gt;t|ca3:t|79d4:chart|640c:small|&lt;wbr&gt;678e:60%7C5|4e71:large|4d66:&lt;wbr&gt;500|1d98:t|6cfc:t|15cc:t&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;HTTP/1.1&nbsp;101&nbsp;Switching&nbsp;Protocols&lt;/div&gt;&lt;div&gt;Upgrade:&nbsp;websocket&lt;/div&gt;&lt;div&gt;Sec-Websocket-Accept:&nbsp;DGeZKxS98lD43p+4Gkhb17W29E0=&lt;/div&gt;&lt;div&gt;Connection:&nbsp;Upgrade&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;RabbitMQ&nbsp;is&nbsp;installed&nbsp;on&nbsp;CentOS&nbsp;6.4&nbsp;with&nbsp;the&nbsp;following&nbsp;versions&nbsp;for&nbsp;the&nbsp;server&nbsp;and&nbsp;Erlang&lt;/div&gt;&lt;div&gt;rabbitmq-server.noarch&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;3.1.5-1.el6&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;@epel&lt;/div&gt;&lt;div&gt;erlang.x86_64&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;R14B-04.2.el6&lt;span&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;@epel&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Could&nbsp;you&nbsp;guys&nbsp;look&nbsp;into&nbsp;this&nbsp;issue?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Br,&lt;/div&gt;&lt;div&gt;Petri&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
