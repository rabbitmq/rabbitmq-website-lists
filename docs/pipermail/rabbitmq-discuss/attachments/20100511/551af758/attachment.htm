<tt>
Jason&nbsp;suggested&nbsp;I&nbsp;post&nbsp;my&nbsp;response&nbsp;to&nbsp;his&nbsp;note&nbsp;rather&nbsp;than&nbsp;a&nbsp;private&nbsp;reply&nbsp;to&nbsp;him.&nbsp;Well,&nbsp;it&nbsp;just&nbsp;so&nbsp;happens&nbsp;that&nbsp;that&nbsp;is&nbsp;what&nbsp;I&nbsp;intended,&nbsp;but&nbsp;managed&nbsp;to&nbsp;get&nbsp;the&nbsp;email&nbsp;addresses&nbsp;all&nbsp;mixed&nbsp;-&nbsp;again.&lt;br&gt;It&nbsp;is&nbsp;my&nbsp;belief&nbsp;that&nbsp;the&nbsp;world&nbsp;does&nbsp;need&nbsp;truly&nbsp;durable/persistent/reliable&nbsp;messaging.&nbsp;It&nbsp;is&nbsp;also&nbsp;the&nbsp;case&nbsp;that&nbsp;there&nbsp;are&nbsp;many&nbsp;applications&nbsp;out&nbsp;there&nbsp;which&nbsp;use&nbsp;it&nbsp;even&nbsp;when&nbsp;they&nbsp;had&nbsp;no&nbsp;need&nbsp;originally.&nbsp;DECmessageQ&nbsp;(Oracle&nbsp;Message&nbsp;Queue&nbsp;these&nbsp;days)&nbsp;is&nbsp;an&nbsp;example&nbsp;in&nbsp;point.&lt;div&gt;<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;----------&nbsp;Forwarded&nbsp;message&nbsp;----------&lt;br&gt;From:&nbsp;&lt;b&nbsp;class=&quot;gmail_sendername&quot;&gt;Jason&nbsp;J.&nbsp;W.&nbsp;Williams&lt;/b&gt;&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jasonjwwilliams@gmail.com&quot;&gt;jasonjwwilliams@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;<br>
Date:&nbsp;Tue,&nbsp;May&nbsp;11,&nbsp;2010&nbsp;at&nbsp;20:46&lt;br&gt;Subject:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;Fwd:&nbsp;active/active&lt;br&gt;To:&nbsp;John&nbsp;Apps&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:johndapps@gmail.com&quot;&gt;johndapps@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;Hi&nbsp;John,&lt;br&gt;<br>
&lt;br&gt;<br>
It&amp;#39;d&nbsp;be&nbsp;great&nbsp;if&nbsp;you&nbsp;could&nbsp;share&nbsp;that&nbsp;with&nbsp;the&nbsp;list.&nbsp;Regarding&lt;br&gt;<br>
duplication,&nbsp;I&nbsp;think&nbsp;that&amp;#39;s&nbsp;easily&nbsp;addressed.&nbsp;If&nbsp;you&amp;#39;re&nbsp;in&nbsp;a&nbsp;situation&lt;br&gt;<br>
where&nbsp;the&nbsp;sender&nbsp;is&nbsp;going&nbsp;to&nbsp;re-send&nbsp;if&nbsp;they&nbsp;don&amp;#39;t&nbsp;get&nbsp;confirmation&nbsp;it&lt;br&gt;<br>
was&nbsp;accepted/processed&nbsp;on&nbsp;the&nbsp;other&nbsp;side,&nbsp;then&nbsp;you&nbsp;don&amp;#39;t&nbsp;need&nbsp;durable&lt;br&gt;<br>
messages.&nbsp;You&amp;#39;re&nbsp;providing&nbsp;the&nbsp;durability.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;the&nbsp;replay&nbsp;concept&nbsp;would&nbsp;only&nbsp;apply&nbsp;to&nbsp;durable&nbsp;messages&nbsp;and&nbsp;would&lt;br&gt;<br>
allow&nbsp;all&nbsp;involved&nbsp;to&nbsp;make&nbsp;the&nbsp;assumption&nbsp;the&nbsp;message&nbsp;will&nbsp;eventually&lt;br&gt;<br>
arrive&nbsp;and&nbsp;trust&nbsp;RabbitMQ&nbsp;to&nbsp;get&nbsp;it&nbsp;there...something&nbsp;that&nbsp;can&amp;#39;t&nbsp;be&lt;br&gt;<br>
assumed&nbsp;at&nbsp;the&nbsp;moment&nbsp;with&nbsp;clustering.&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
-J&lt;br&gt;<br>
&lt;/font&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;Tue,&nbsp;May&nbsp;11,&nbsp;2010&nbsp;at&nbsp;1:25&nbsp;AM,&nbsp;John&nbsp;Apps&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:johndapps@gmail.com&quot;&gt;johndapps@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Option&nbsp;1&nbsp;below&nbsp;is&nbsp;neat&nbsp;and&nbsp;something&nbsp;that&nbsp;a&nbsp;product&nbsp;called&nbsp;Reliable&lt;br&gt;<br>
&amp;gt;&nbsp;Transaction&nbsp;Router&nbsp;(RTR)&nbsp;has&nbsp;offered&nbsp;for&nbsp;many&nbsp;years&nbsp;with&nbsp;considerable&lt;br&gt;<br>
&amp;gt;&nbsp;success.&nbsp;So,&nbsp;what,&nbsp;you&nbsp;might&nbsp;ask,&nbsp;has&nbsp;that&nbsp;to&nbsp;do&nbsp;with&nbsp;RabbitMQ?&nbsp;Well,&nbsp;quite&lt;br&gt;<br>
&amp;gt;&nbsp;simply,&nbsp;only&nbsp;to&nbsp;show&nbsp;that&nbsp;the&nbsp;concept&nbsp;is&nbsp;a&nbsp;viable&nbsp;one&nbsp;and&nbsp;has&nbsp;been&nbsp;used&nbsp;in&lt;br&gt;<br>
&amp;gt;&nbsp;practice&nbsp;for&nbsp;many&nbsp;years.&lt;br&gt;<br>
&amp;gt;&nbsp;One&nbsp;of&nbsp;the&nbsp;caveats&nbsp;with&nbsp;it&nbsp;is&nbsp;when&nbsp;the&nbsp;queues&nbsp;are&nbsp;feeding&nbsp;into&nbsp;two&lt;br&gt;<br>
&amp;gt;&nbsp;databases,&nbsp;one&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;other;&nbsp;no,&nbsp;not&nbsp;mirrored&nbsp;in&nbsp;the&nbsp;classic&nbsp;sense,&lt;br&gt;<br>
&amp;gt;&nbsp;rather,&nbsp;the&nbsp;messages&nbsp;are&nbsp;sent&nbsp;to&nbsp;both.&nbsp;The&nbsp;thing&nbsp;to&nbsp;take&nbsp;care&nbsp;of&nbsp;here&nbsp;is&lt;br&gt;<br>
&amp;gt;&nbsp;that&nbsp;when&nbsp;messages&nbsp;are&nbsp;being&nbsp;replayed,&nbsp;i.e.,&nbsp;one&nbsp;server&nbsp;has&nbsp;been&nbsp;down&nbsp;and&lt;br&gt;<br>
&amp;gt;&nbsp;comes&nbsp;back&nbsp;up,&nbsp;whereupon&nbsp;the&nbsp;other&nbsp;server&nbsp;then&nbsp;plays&nbsp;the&nbsp;missed&nbsp;messages&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;it,&nbsp;is&nbsp;that&nbsp;the&nbsp;DB&nbsp;on&nbsp;the&nbsp;server&nbsp;processing&nbsp;the&nbsp;messages&nbsp;MUST&nbsp;not&nbsp;have&nbsp;been&lt;br&gt;<br>
&amp;gt;&nbsp;changed&nbsp;whilst&nbsp;the&nbsp;server&nbsp;was&nbsp;down.&lt;br&gt;<br>
&amp;gt;&nbsp;What&nbsp;would&nbsp;be&nbsp;&amp;#39;nice&nbsp;to&nbsp;have&amp;#39;&nbsp;in&nbsp;this&nbsp;scenario&nbsp;is&nbsp;a&nbsp;flag&nbsp;stating&nbsp;that&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;messages&nbsp;are&nbsp;being&nbsp;re-played.&nbsp;This&nbsp;helps&nbsp;to&nbsp;avoid&nbsp;the&nbsp;problem&nbsp;of&nbsp;possible&lt;br&gt;<br>
&amp;gt;&nbsp;duplicate&nbsp;messages&nbsp;by&nbsp;making&nbsp;one&nbsp;aware&nbsp;of&nbsp;the&nbsp;fact&nbsp;that&nbsp;a&nbsp;re-play&nbsp;is&nbsp;in&lt;br&gt;<br>
&amp;gt;&nbsp;progress.&lt;br&gt;<br>
&amp;gt;&nbsp;With&nbsp;the&nbsp;purchase&nbsp;of&nbsp;GemStone,&nbsp;perhaps&nbsp;the&nbsp;folks&nbsp;at&nbsp;RabbitMQ&nbsp;can&nbsp;use&nbsp;some&nbsp;of&lt;br&gt;<br>
&amp;gt;&nbsp;the distributed messaging&nbsp;technology&nbsp;from&nbsp;that&nbsp;product&nbsp;suite?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;Tue,&nbsp;May&nbsp;11,&nbsp;2010&nbsp;at&nbsp;00:43,&nbsp;Jason&nbsp;J.&nbsp;W.&nbsp;Williams&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jasonjwwilliams@gmail.com&quot;&gt;jasonjwwilliams@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;It&nbsp;was&nbsp;suggested&nbsp;to&nbsp;me&nbsp;I&nbsp;relay&nbsp;a&nbsp;convo&nbsp;I&nbsp;had&nbsp;with&nbsp;Alexis&nbsp;earlier&nbsp;this&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;year&nbsp;making&nbsp;the&nbsp;case&nbsp;for&nbsp;better&nbsp;active/active&nbsp;fail-over&nbsp;in&nbsp;RabbitMQ.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Particularly,&nbsp;when&nbsp;working&nbsp;with&nbsp;durable&nbsp;messaging.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;----------&nbsp;Forwarded&nbsp;message&nbsp;----------&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;From:&nbsp;Jason&nbsp;J.&nbsp;W.&nbsp;Williams&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jasonjwwilliams@gmail.com&quot;&gt;jasonjwwilliams@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Date:&nbsp;Mon,&nbsp;Jan&nbsp;18,&nbsp;2010&nbsp;at&nbsp;7:07&nbsp;PM&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Subject:&nbsp;Re:&nbsp;active/active&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;To:&nbsp;Alexis&nbsp;Richardson&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:alexis@rabbitmq.com&quot;&gt;alexis@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Hey&nbsp;Alexis,&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Currently,&nbsp;we&nbsp;have&nbsp;a&nbsp;single&nbsp;RMQ&nbsp;1.5&nbsp;pair&nbsp;that&nbsp;are&nbsp;setup&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;active/passive.&nbsp;That&nbsp;is&nbsp;to&nbsp;say,&nbsp;our&nbsp;apps&nbsp;publish&nbsp;to&nbsp;node&nbsp;A&nbsp;and&nbsp;if&nbsp;it&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;is&nbsp;unavailable&nbsp;publish&nbsp;to&nbsp;node&nbsp;B.&nbsp;Nodes&nbsp;A&nbsp;and&nbsp;B&nbsp;are&nbsp;standalone&nbsp;in&nbsp;that&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;they&nbsp;are&nbsp;not&nbsp;in&nbsp;a&nbsp;cluster&nbsp;together.&nbsp;This&nbsp;is&nbsp;because&nbsp;the&nbsp;messages&nbsp;being&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;published&nbsp;are&nbsp;durable,&nbsp;and&nbsp;in&nbsp;the&nbsp;event&nbsp;node&nbsp;A&nbsp;crashes&nbsp;any&nbsp;pending&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;durable&nbsp;messages&nbsp;would&nbsp;not&nbsp;be&nbsp;auto-resubmitted&nbsp;if&nbsp;node&nbsp;A&nbsp;were&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;clustered&nbsp;with&nbsp;node&nbsp;B&nbsp;(node&nbsp;B&amp;#39;s&nbsp;queue&nbsp;essentially&nbsp;hides&nbsp;the&nbsp;pendings&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;that&nbsp;were&nbsp;in&nbsp;the&nbsp;queue&nbsp;on&nbsp;node&nbsp;A&nbsp;before&nbsp;the&nbsp;crash).&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;This&nbsp;set&nbsp;up&nbsp;works&nbsp;OK&nbsp;for&nbsp;us,&nbsp;as&nbsp;the&nbsp;load&nbsp;is&nbsp;fairly&nbsp;light&nbsp;and&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;durability&nbsp;is&nbsp;more&nbsp;important&nbsp;for&nbsp;these&nbsp;tasks&nbsp;than&nbsp;availability.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;That&nbsp;being&nbsp;said&nbsp;we&nbsp;are&nbsp;designing&nbsp;a&nbsp;rework&nbsp;of&nbsp;our&nbsp;statistics&nbsp;logging&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;infrastructure&nbsp;around&nbsp;Rabbit.&nbsp;Our&nbsp;stats&nbsp;is&nbsp;very&nbsp;high&nbsp;volume&nbsp;and&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;availability&nbsp;is&nbsp;more&nbsp;important&nbsp;than&nbsp;durability&nbsp;(in&nbsp;fact&nbsp;none&nbsp;of&nbsp;the&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;messages&nbsp;will&nbsp;be&nbsp;durable).&nbsp;So&nbsp;our&nbsp;intention&nbsp;is&nbsp;to&nbsp;create&nbsp;a&nbsp;new&nbsp;Rabbit&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;cluster&nbsp;with&nbsp;three&nbsp;nodes&nbsp;and&nbsp;a&nbsp;load-balanced&nbsp;IP&nbsp;in&nbsp;front&nbsp;(since&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;auto-redirect&nbsp;based&nbsp;on&nbsp;load&nbsp;is&nbsp;no&nbsp;longer&nbsp;supported....nasty&nbsp;memo&nbsp;to&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;follow...&nbsp;;)&nbsp;).&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Our&nbsp;desire&nbsp;due&nbsp;to&nbsp;the&nbsp;fact&nbsp;that&nbsp;we&amp;#39;re&nbsp;moving&nbsp;from&nbsp;a&nbsp;colo&amp;#39;d&nbsp;environment&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;to&nbsp;a&nbsp;cloud&nbsp;environment,&nbsp;is&nbsp;to&nbsp;collapse&nbsp;both&nbsp;Rabbit&nbsp;&amp;quot;clusters&amp;quot;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;into&nbsp;a&nbsp;single&nbsp;cluster&nbsp;to&nbsp;maximize&nbsp;efficiency.&nbsp;It&nbsp;would&nbsp;also&nbsp;allow&nbsp;our&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;existing&nbsp;app&nbsp;to&nbsp;benefit&nbsp;from&nbsp;the&nbsp;performance&nbsp;of&nbsp;a&nbsp;load-sharing&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;environment.&nbsp;For&nbsp;that&nbsp;to&nbsp;happen&nbsp;however,&nbsp;Rabbit&nbsp;would&nbsp;have&nbsp;to&nbsp;do&nbsp;one&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;of&nbsp;two&nbsp;things&nbsp;when&nbsp;clustered&nbsp;regarding&nbsp;durable&nbsp;messages:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;1.)&nbsp;When&nbsp;a&nbsp;crashed&nbsp;node&nbsp;is&nbsp;restarted,&nbsp;replay&nbsp;the&nbsp;pending/durable&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;messages&nbsp;into&nbsp;the&nbsp;queue&nbsp;on&nbsp;the&nbsp;node&nbsp;now&nbsp;responsible&nbsp;for&nbsp;the&nbsp;queue&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;after&nbsp;the&nbsp;crash.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;2.)&nbsp;Replicate&nbsp;all&nbsp;durable&nbsp;queues&nbsp;to&nbsp;more&nbsp;than&nbsp;one&nbsp;node,&nbsp;so&nbsp;that&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;durable&nbsp;queue&nbsp;contents&nbsp;continue&nbsp;after&nbsp;a&nbsp;node&nbsp;crash.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Frankly,&nbsp;option&nbsp;1&nbsp;is&nbsp;just&nbsp;fine&nbsp;with&nbsp;us&nbsp;and&nbsp;would&nbsp;solve&nbsp;our&nbsp;issue.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Does&nbsp;this&nbsp;help?&nbsp;Thank&nbsp;you&nbsp;for&nbsp;being&nbsp;concerned.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;-J&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;--&lt;br&gt;<br>
&amp;gt;&nbsp;---&lt;br&gt;<br>
&amp;gt;&nbsp;John&nbsp;Apps&lt;br&gt;<br>
&amp;gt;&nbsp;(49)&nbsp;171&nbsp;869&nbsp;1813&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;---&lt;br&gt;John&nbsp;Apps&lt;br&gt;(49)&nbsp;171&nbsp;869&nbsp;1813&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
