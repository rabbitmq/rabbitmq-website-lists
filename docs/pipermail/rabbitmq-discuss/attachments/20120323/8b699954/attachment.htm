<tt>
Hello,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;we&nbsp;are&nbsp;playing&nbsp;with&nbsp;the&nbsp;udp&nbsp;exchange&nbsp;and&nbsp;found&nbsp;some&nbsp;problem.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;On&nbsp;the&nbsp;receiving&nbsp;side,&nbsp;both&nbsp;with&nbsp;pika&nbsp;and&nbsp;ruby&nbsp;amqp&nbsp;we&nbsp;were&lt;/div&gt;&lt;div&gt;having&nbsp;problems,&nbsp;for&nbsp;instance,&nbsp;with&nbsp;ruby:&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;/Library/Ruby/Gems/1.8/gems/amq-protocol-0.9.0/lib/amq/protocol/table.rb:88:in&nbsp;`decode&amp;#39;:&nbsp;NotImplementedError&nbsp;(NotImplementedError)&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/amq-protocol-0.9.0/lib/amq/protocol/client.rb:1482:in&nbsp;`decode_properties&amp;#39;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/amq-protocol-0.9.0/lib/amq/protocol/client.rb:1465:in&nbsp;`each&amp;#39;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/amq-protocol-0.9.0/lib/amq/protocol/client.rb:1465:in&nbsp;`decode_properties&amp;#39;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/amq-protocol-0.9.0/lib/amq/protocol/frame.rb:142:in&nbsp;`decode_payload&amp;#39;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/amq-protocol-0.9.0/lib/amq/protocol/frame.rb:115:in&nbsp;`body_size&amp;#39;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/amq-client-0.9.2/lib/amq/client/async/adapter.rb:675:in&nbsp;`content_complete?&amp;#39;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/amq-client-0.9.2/lib/amq/client/async/adapter.rb:667:in&nbsp;`frameset_complete?&amp;#39;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/amq-client-0.9.2/lib/amq/client/async/adapter.rb:518:in&nbsp;`receive_frame&amp;#39;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/amq-client-0.9.2/lib/amq/client/async/adapters/event_machine.rb:327:in&nbsp;`receive_data&amp;#39;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/eventmachine-0.12.10/lib/eventmachine.rb:256:in&nbsp;`run_machine&amp;#39;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;from&nbsp;/Library/Ruby/Gems/1.8/gems/eventmachine-0.12.10/lib/eventmachine.rb:256:in&nbsp;`run&amp;#39;&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;with&nbsp;pika&nbsp;it&nbsp;gives&nbsp;a&nbsp;similar&nbsp;error&nbsp;on&nbsp;pika/data.py:128&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;error&nbsp;obviously&nbsp;comes&nbsp;from&nbsp;the&nbsp;headers&nbsp;set&nbsp;by&nbsp;the&nbsp;udp&nbsp;plugin:&lt;/div&gt;&lt;div&gt;&lt;div&gt;Headers&nbsp;=&nbsp;[{&amp;lt;&amp;lt;&amp;quot;source_ip&amp;quot;&amp;gt;&amp;gt;,&nbsp;longstr,&nbsp;IpStr},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&amp;lt;&amp;lt;&amp;quot;source_port&amp;quot;&amp;gt;&amp;gt;,&nbsp;short,&nbsp;Port}],&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Changing&nbsp;it&nbsp;to&nbsp;signedint&nbsp;fixed&nbsp;the&nbsp;problem:&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style&gt;Headers&nbsp;=&nbsp;[{&amp;lt;&amp;lt;&amp;quot;source_ip&amp;quot;&amp;gt;&amp;gt;,&nbsp;longstr,&nbsp;IpStr},&lt;/span&gt;&lt;br&nbsp;style&gt;<br>
<br>
&lt;span&nbsp;style&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&amp;lt;&amp;lt;&amp;quot;source_port&amp;quot;&amp;gt;&amp;gt;,&nbsp;signedint,&nbsp;Port}],&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;In&nbsp;the&nbsp;ruby&nbsp;client&nbsp;the&nbsp;type&nbsp;short&nbsp;int&nbsp;is&nbsp;explicitly&nbsp;rejected&nbsp;(&lt;/font&gt;amq/protocol/table.rb:88&lt;span&nbsp;style=&quot;color:rgb(34,34,34);font-family:arial,sans-serif&quot;&gt;)&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;Is&nbsp;this&nbsp;a&nbsp;problem&nbsp;in&nbsp;pika&nbsp;and&nbsp;amqp&nbsp;ruby&nbsp;clients&nbsp;or&nbsp;in&nbsp;the&nbsp;java&nbsp;one?&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#222222&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;<br>
<br>
&lt;/font&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;---&lt;br&gt;Massimo&nbsp;Paladin&lt;br&gt;&lt;br&gt;email: &lt;a&nbsp;href=&quot;mailto:massimo.paladin@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;massimo.paladin@gmail.com&lt;/a&gt;&lt;br&gt;website: &lt;a&nbsp;href=&quot;http://www.mpaladin.com/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.mpaladin.com&lt;/a&gt;&lt;br&gt;<br>
<br>
flickr&amp;#39;s&nbsp;page: &lt;a&nbsp;href=&quot;http://flickr.com/photos/massimop&quot;&nbsp;target=&quot;_blank&quot;&gt;http://flickr.com/photos/massimop&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
