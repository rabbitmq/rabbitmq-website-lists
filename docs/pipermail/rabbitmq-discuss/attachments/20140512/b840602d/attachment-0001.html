<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;all,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;RabbitMQ:&nbsp;3.3.1&lt;/div&gt;&lt;div&gt;Erlang:&nbsp;17&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;have&nbsp;following&nbsp;situation:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&quot;&gt;A&nbsp;queue&nbsp;contains&nbsp;a&nbsp;large&nbsp;amount&nbsp;of&nbsp;messages&nbsp;(5&nbsp;million&nbsp;because&nbsp;the&nbsp;consumers&nbsp;are&nbsp;shutdown)&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&quot;&gt;There's&nbsp;a&nbsp;constant&nbsp;&nbsp;incoming&nbsp;message&nbsp;flow&nbsp;at&nbsp;a&nbsp;rate&nbsp;of&nbsp;~2000&nbsp;msg/s.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&quot;&gt;Messages&nbsp;are&nbsp;persistent&nbsp;though&nbsp;diskIO&nbsp;is&nbsp;far&nbsp;from&nbsp;being&nbsp;saturated.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&quot;&gt;Consumers&nbsp;have&nbsp;a&nbsp;prefetch&nbsp;value&nbsp;of&nbsp;1000&lt;/span&gt;&lt;/li&gt;&lt;li&gt;We&nbsp;presume&nbsp;backpressure&nbsp;is&nbsp;applied&nbsp;to&nbsp;the&nbsp;producer&nbsp;in&nbsp;this&nbsp;situation&nbsp;(difficult&nbsp;to&nbsp;observe).&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;we&nbsp;observe&nbsp;is&nbsp;that&nbsp;out-rate&nbsp;settles&nbsp;to&nbsp;the&nbsp;in-rate,&nbsp;which&nbsp;I&nbsp;don't&nbsp;understand&nbsp;because:&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&quot;&gt;There&nbsp;a&nbsp;large&nbsp;amount&nbsp;of&nbsp;messages&nbsp;in&nbsp;the&nbsp;queue&nbsp;so&nbsp;plenty&nbsp;to&nbsp;consume.&lt;/span&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&quot;&gt;We&nbsp;KNOW&nbsp;consumers&nbsp;are&nbsp;able&nbsp;to&nbsp;write&nbsp;at&nbsp;a&nbsp;much&nbsp;higher&nbsp;throughput&nbsp;even&nbsp;after&nbsp;bumping&nbsp;prefetch&nbsp;value.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;13px;&quot;&gt;When&nbsp;the&nbsp;queue&nbsp;is&nbsp;empty,&nbsp;in&nbsp;&amp;&nbsp;outgoing&nbsp;rate&nbsp;is&nbsp;again&nbsp;8000&nbsp;msg/s&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;17px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;17px;&quot;&gt;Any&nbsp;tips,&nbsp;leads&nbsp;why&nbsp;the&nbsp;consumption&nbsp;rate&nbsp;settles&nbsp;to&nbsp;the&nbsp;incoming&nbsp;rate&nbsp;in&nbsp;this&nbsp;situation?&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;17px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;17px;&quot;&gt;cheers,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;17px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;17px;&quot;&gt;Jelle&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;17px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;line-height:&nbsp;17px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
