<tt>
Hi&nbsp;Bradford,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;this&nbsp;the&nbsp;exact&nbsp;code&nbsp;from&nbsp;the&nbsp;REPL?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;so,&nbsp;you&nbsp;can&amp;#39;t&nbsp;create&nbsp;a&nbsp;different&nbsp;exchange&nbsp;with&nbsp;an&nbsp;existing&nbsp;exchange&nbsp;name&nbsp;of&nbsp;different&nbsp;type.&nbsp; stop_app,&nbsp;reset&nbsp;then&nbsp;start_app&nbsp;using&nbsp;rabbitmqctl,&nbsp;and&nbsp;try&nbsp;to&nbsp;create&nbsp;the&nbsp;fanout&nbsp;exchange&nbsp;first.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Aaron&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;May&nbsp;11,&nbsp;2009&nbsp;at&nbsp;12:48&nbsp;AM,&nbsp;bradford&nbsp;cross&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:bradford.n.cross@gmail.com&quot;&gt;bradford.n.cross@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;I&nbsp;still&nbsp;have&nbsp;an&nbsp;issue&nbsp;getting&nbsp;fanout&nbsp;to&nbsp;work.&lt;br&gt;<br>
&lt;br&gt;<br>
<br>
Take&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;code&nbsp;from&nbsp;my&nbsp;clojure&nbsp;repl.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
<br>
com.parsimony-group.rabbitcj&amp;gt;&nbsp;(def&nbsp;connection&nbsp;(let&nbsp;[params&nbsp;(doto&nbsp;(ConnectionParameters.)&lt;br&gt;<br>
<br>
                                       &nbsp;(.setVirtualHost&nbsp;&amp;quot;/&amp;quot;)&lt;br&gt;<br>
<br>
                                       &nbsp;(.setUsername&nbsp;&amp;quot;guest&amp;quot;)&lt;br&gt;<br>
<br>
                                       &nbsp;(.setPassword&nbsp;&amp;quot;guest&amp;quot;))&lt;br&gt;<br>
<br>
                              &nbsp;factory&nbsp;(ConnectionFactory.&nbsp;params)]&lt;br&gt;<br>
<br>
                          &nbsp;(.newConnection&nbsp;factory&nbsp;host))&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;   &nbsp;   &nbsp;  &nbsp;)&lt;br&gt;<br>
<br>
#&amp;#39;com.parsimony-group.rabbitcj/connection&lt;br&gt;<br>
<br>
com.parsimony-group.rabbitcj&amp;gt;&nbsp;(def&nbsp;channel&nbsp;(.createChannel&nbsp;connection))&lt;br&gt;<br>
<br>
#&amp;#39;com.parsimony-group.rabbitcj/channel&lt;br&gt;<br>
<br>
com.parsimony-group.rabbitcj&amp;gt; &nbsp;(.exchangeDeclare&nbsp;channel&nbsp;&amp;quot;foo&amp;quot;&nbsp;&amp;quot;direct&amp;quot;&nbsp;)&lt;br&gt;<br>
<br>
#&amp;lt;DeclareOk&nbsp;#method&amp;lt;exchange.declare-ok&amp;gt;()&amp;gt;&lt;br&gt;<br>
<br>
com.parsimony-group.rabbitcj&amp;gt; &nbsp;(.exchangeDeclare&nbsp;channel&nbsp;&amp;quot;foo&amp;quot;&nbsp;&amp;quot;amq.fanout&amp;quot;&nbsp;)&lt;br&gt;<br>
<br>
;&nbsp;Evaluation&nbsp;aborted.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
...very&nbsp;simple,&nbsp;exchangeDeclare&nbsp;is&nbsp;fine&nbsp;for&nbsp;direct,&nbsp;but&nbsp;clows&nbsp;up&nbsp;for&nbsp;fanout&nbsp;case...I&nbsp;get&nbsp;the&nbsp;error&nbsp;message:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
No&nbsp;message.&lt;br&gt;<br>
 &nbsp;[Thrown&nbsp;class&nbsp;com.rabbitmq.client.ShutdownSignalException]&lt;br&gt;<br>
&lt;br&gt;<br>
Restarts:&lt;br&gt;<br>
 0:&nbsp;[ABORT]&nbsp;Return&nbsp;to&nbsp;SLIME&amp;#39;s&nbsp;top&nbsp;level.&lt;br&gt;<br>
&lt;br&gt;<br>
Backtrace:&lt;br&gt;<br>
 &nbsp;0:&nbsp;com.rabbitmq.client.impl.AMQConnection.shutdown(AMQConnection.java:606)&lt;br&gt;<br>
 &nbsp;1:&nbsp;com.rabbitmq.client.impl.AMQConnection.handleConnectionClose(AMQConnection.java:561)&lt;br&gt;<br>
 &nbsp;2:&nbsp;com.rabbitmq.client.impl.AMQConnection.processControlCommand(AMQConnection.java:541)&lt;br&gt;<br>
 &nbsp;3:&nbsp;com.rabbitmq.client.impl.AMQConnection$1.processAsync(AMQConnection.java:84)&lt;br&gt;<br>
 &nbsp;4:&nbsp;com.rabbitmq.client.impl.AMQChannel.handleCompleteInboundCommand(AMQChannel.java:159)&lt;br&gt;<br>
 &nbsp;5:&nbsp;com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:110)&lt;br&gt;<br>
 &nbsp;6:&nbsp;com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:446)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
