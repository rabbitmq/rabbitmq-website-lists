<tt>
Hi,&nbsp;Christian:&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif;font-size:small&quot;&gt;<br>
Hello,&nbsp;I&amp;#39;m&nbsp;facing&nbsp;some&nbsp;problems&nbsp;with&nbsp;different&nbsp;versions&nbsp;of&nbsp;RabbitMQ&nbsp;(2.7.1&nbsp;and&nbsp;3.0.2),&nbsp;and&nbsp;I&nbsp;couldn&amp;#39;t &lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif;font-size:small&quot;&gt;<br>
<br>
find&nbsp;any&nbsp;trace&nbsp;of&nbsp;problem&nbsp;in&nbsp;the&nbsp;logs&nbsp;(perhaps&nbsp;I&amp;#39;m&nbsp;looking&nbsp;the&nbsp;wrong&nbsp;log&nbsp;file),&nbsp;anyway,&nbsp;the&nbsp;rabbitmq&nbsp;is&nbsp;dying&nbsp;after&nbsp;running&nbsp;well&nbsp;for&nbsp;some&nbsp;time,&nbsp;I&amp;#39;m&nbsp;using&nbsp;only&nbsp;two&nbsp;queues&nbsp;and&nbsp;the&nbsp;messages&nbsp;are&nbsp;working&nbsp;on&nbsp;a&nbsp;rate&nbsp;of&nbsp;132&nbsp;msgs/sec,&nbsp;but&nbsp;after&nbsp;2&nbsp;or&nbsp;3&nbsp;hours&nbsp;the&nbsp;rabbitmq&nbsp;simple&nbsp;dies&nbsp;and&nbsp;the&nbsp;only&nbsp;log&nbsp;I&nbsp;can&nbsp;see&nbsp;is&nbsp;from&nbsp;the&nbsp;kernel&nbsp;log&nbsp;(dmesg),&nbsp;with&nbsp;RabbitMQ&nbsp;3.0.2:&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&amp;#39;s&nbsp;pretty&nbsp;tiny&nbsp;load...&nbsp;one&nbsp;wouldn&amp;#39;t&nbsp;expect&nbsp;a&nbsp;Rabbit&nbsp;to&nbsp;stress&nbsp;much&nbsp;under&nbsp;that.&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif;font-size:small&quot;&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&gt;&lt;font&nbsp;face=&quot;tahoma,&nbsp;sans-serif&quot;&gt;[38178.105567]&nbsp;beam.smp[1514]&nbsp;general&nbsp;protection&nbsp;ip:4d8b48&nbsp;sp:7f979f41e7a0&nbsp;error:0&nbsp;in&nbsp;beam.smp[400000+1af000]&lt;/font&gt;&lt;br&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&gt;&lt;font&nbsp;face=&quot;tahoma,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&gt;&lt;font&nbsp;face=&quot;tahoma,&nbsp;sans-serif&quot;&gt;...&nbsp;which&nbsp;looks&nbsp;pretty&nbsp;bad.&nbsp;The&nbsp;same&nbsp;message&nbsp;appeared&nbsp;with&nbsp;version&nbsp;2.7.1&nbsp;and&nbsp;all&nbsp;logs&nbsp;in&nbsp;/var/log/rabbitmq&nbsp;didn&amp;#39;t&nbsp;showed&nbsp;anything&nbsp;that&nbsp;could&nbsp;be&nbsp;an&nbsp;error,&nbsp;just&nbsp;info&nbsp;about&nbsp;connections,&nbsp;etc.&nbsp;Also,&nbsp;after&nbsp;I&nbsp;updated&nbsp;it&nbsp;to&nbsp;the&nbsp;version&nbsp;3.0.2,&nbsp;the&nbsp;only&nbsp;log&nbsp;that&nbsp;RabbitMQ&nbsp;touched&nbsp;was&nbsp;/var/log/rabbitmq/startup_err,&nbsp;which&nbsp;contained&nbsp;the&nbsp;messages:&lt;/font&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Egads...&nbsp; that&amp;#39;s&nbsp;your&nbsp;Erlang&nbsp;VM&nbsp;crashing&nbsp;hard.&nbsp; Erlang&nbsp;R14B04&nbsp;is&nbsp;a&nbsp;little&nbsp;bit&nbsp;old,&nbsp;but&nbsp;was&nbsp;a&nbsp;pretty&nbsp;solid&nbsp;release.&nbsp; You&nbsp;might&nbsp;try&nbsp;upgrading&nbsp;your&nbsp;Erlang&nbsp;release&nbsp;to&nbsp;one&nbsp;of&nbsp;the&nbsp;newer&nbsp;R15s,&nbsp;although&nbsp;bits&nbsp;of&nbsp;this&nbsp;make&nbsp;me&nbsp;wonder&nbsp;if&nbsp;something&nbsp;worse&nbsp;is&nbsp;afoot&nbsp;on&nbsp;this&nbsp;machine.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;<br>
<br>
&lt;div&nbsp;class=&quot;gmail_default&quot;&nbsp;style=&quot;font-family:tahoma,sans-serif;font-size:small&quot;&gt;ls:&nbsp;cannot&nbsp;access&nbsp;/etc/rabbitmq/rabbitmq.conf.d:&nbsp;No&nbsp;such&nbsp;file&nbsp;or&nbsp;directory&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&gt;<br>
<br>
&lt;div&nbsp;class=&quot;gmail_default&quot;&gt;&lt;font&nbsp;face=&quot;tahoma,&nbsp;sans-serif&quot;&gt;Segmentation&nbsp;fault&nbsp;(core&nbsp;dumped)&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Does&nbsp;the&nbsp;rabbitmq.conf.d&nbsp;directory&nbsp;and&nbsp;any&nbsp;of&nbsp;its&nbsp;contents&nbsp;exist?&nbsp; What&amp;#39;s&nbsp;the&nbsp;story&nbsp;on&nbsp;permissions?&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_default&quot;&gt;&lt;div&nbsp;style=&quot;font-family:tahoma,sans-serif;font-size:small&quot;&gt;Besides&nbsp;the&nbsp;conf&nbsp;error&nbsp;message&nbsp;the&nbsp;server&nbsp;worked&nbsp;for&nbsp;nearly&nbsp;2&nbsp;hours&nbsp;and&nbsp;then&nbsp;died,&nbsp;but&nbsp;now&nbsp;it&nbsp;is&nbsp;showing&nbsp;the&nbsp;segfault&nbsp;message&nbsp;that&nbsp;wasn&amp;#39;t&nbsp;show&nbsp;on&nbsp;the&nbsp;2.7.1&nbsp;version.&lt;/div&gt;<br>
&lt;div&nbsp;style=&quot;font-family:tahoma,sans-serif;font-size:small&quot;&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:tahoma,sans-serif;font-size:small&quot;&gt;I&amp;#39;m&nbsp;using&nbsp;Ubuntu&nbsp;server&nbsp;12.04.2&nbsp;(LTS)&nbsp;with&nbsp;kernel&nbsp;3.2.0&nbsp;(x86_64)&nbsp;and&nbsp;Erlang&nbsp;v.5.8.5.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:tahoma,sans-serif;font-size:small&quot;&gt;<br>
<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:tahoma,sans-serif;font-size:small&quot;&gt;Does&nbsp;anyone&nbsp;already&nbsp;faced&nbsp;this&nbsp;problem&nbsp;or&nbsp;have&nbsp;any&nbsp;clue&nbsp;about&nbsp;what&nbsp;could&nbsp;be&nbsp;causing&nbsp;this&nbsp;?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;d:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;Upgrade&nbsp;Erlang&lt;/div&gt;&lt;div&gt;2.&nbsp;Possibly&nbsp;reinstall&nbsp;Rabbit&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Segmentation&nbsp;faults&nbsp;of&nbsp;the&nbsp;Erlang&nbsp;VM&nbsp;are&nbsp;relatively&nbsp;rare,&nbsp;and&nbsp;it&amp;#39;s&nbsp;not&nbsp;easy&nbsp;to&nbsp;cause&nbsp;one&nbsp;from&nbsp;Rabbit&amp;#39;s&nbsp;own&nbsp;code...&nbsp; Usually&nbsp;if&nbsp;one&nbsp;sees&nbsp;one&nbsp;something&nbsp;more&nbsp;wretched&nbsp;is&nbsp;afoot&nbsp;on&nbsp;the&nbsp;system....&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Best&nbsp;regards,&lt;/div&gt;&lt;div&gt;Jerry&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
