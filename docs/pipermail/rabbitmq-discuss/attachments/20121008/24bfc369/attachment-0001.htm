<tt>
&lt;html&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;style&nbsp;id=&quot;owaParaStyle&quot;&nbsp;type=&quot;text/css&quot;&gt;<br>
&lt;!--<br>
p<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{margin-top:0;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmargin-bottom:0}<br>
--&gt;<br>
&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&gt;<br>
&lt;div&nbsp;style=&quot;direction:ltr;&nbsp;font-family:Tahoma;&nbsp;color:#000000;&nbsp;font-size:10pt&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;I&nbsp;am&nbsp;experiencing&nbsp;a&nbsp;problem&nbsp;that&nbsp;I&nbsp;have&nbsp;been&nbsp;unable&nbsp;to&nbsp;pin&nbsp;down.&nbsp;When&nbsp;I&nbsp;attempt&nbsp;to&nbsp;use&nbsp;a&nbsp;java&nbsp;class&nbsp;to&nbsp;listen&nbsp;for&nbsp;messages&nbsp;bound&nbsp;to&nbsp;a&nbsp;particular&nbsp;exchange&nbsp;by&nbsp;a&nbsp;particular&nbsp;routing<br>
&nbsp;key,&nbsp;I&nbsp;get&nbsp;a&nbsp;&amp;quot;Connection&nbsp;timed&nbsp;out&amp;quot;&nbsp;error.&nbsp;Here&nbsp;is&nbsp;my&nbsp;code:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
public&nbsp;class&nbsp;ReceiveLogsDirect&nbsp;{&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&nbsp;private&nbsp;static&nbsp;final&nbsp;String&nbsp;EXCHANGE_NAME&nbsp;=&nbsp;&amp;quot;ABC_SERVER&amp;quot;;&lt;br&gt;<br>
&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;public&nbsp;static&nbsp;void&nbsp;main(String[]&nbsp;argv)&nbsp;throws&nbsp;Exception&nbsp;{&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;String&nbsp;hostName&nbsp;=&nbsp;&amp;quot;localhost&amp;quot;;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;int&nbsp;portNumber&nbsp;=&nbsp;5672;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;if&nbsp;(argv.length&nbsp;&amp;lt;&nbsp;1&nbsp;||&nbsp;argv.length&nbsp;==&nbsp;2&nbsp;||&nbsp;argv.length&nbsp;&amp;gt;&nbsp;3){&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;System.err.println(&amp;quot;Usage:&nbsp;ReceiveLogsDirect&nbsp;[session&nbsp;ID]&nbsp;[RabbitMQ&nbsp;server&nbsp;IP,&nbsp;optional]&nbsp;[RabbitMQ&nbsp;server&nbsp;port&nbsp;#,&nbsp;optional]&amp;quot;);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;System.exit(1);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;else&nbsp;if&nbsp;(argv.length&nbsp;==&nbsp;1)&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;hostName&nbsp;=&nbsp;&amp;quot;localhost&amp;quot;;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;portNumber&nbsp;=&nbsp;5672;&nbsp;//&nbsp;default&nbsp;port&nbsp;that&nbsp;rabbitMQ&nbsp;listens&nbsp;to&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;else&nbsp;if&amp;nbsp;&nbsp;(argv.length&nbsp;==&nbsp;3)&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;hostName&nbsp;=&nbsp;argv[1];&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;portNumber&nbsp;=&nbsp;Integer.parseInt(argv[2]);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;ConnectionFactory&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;factory.setHost(hostName);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;factory.setPort(portNumber);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;factory.setUsername(&amp;quot;guest&amp;quot;);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;factory.setPassword(&amp;quot;guest&amp;quot;);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;factory.setVirtualHost(&amp;quot;/&amp;quot;);&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;System.out.println(&amp;quot;&nbsp;[*]&nbsp;HERE&nbsp;1&amp;quot;);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Connection&nbsp;connection&nbsp;=&nbsp;factory.newConnection();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;System.out.println(&amp;quot;&nbsp;[*]&nbsp;HERE&nbsp;2&amp;quot;);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Channel&nbsp;channel&nbsp;=&nbsp;connection.createChannel();&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;channel.exchangeDeclare(EXCHANGE_NAME,&nbsp;&amp;quot;direct&amp;quot;);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;String&nbsp;queueName&nbsp;=&nbsp;channel.queueDeclare().getQueue();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;channel.queueBind(queueName,&nbsp;EXCHANGE_NAME,&nbsp;argv[0]);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;System.out.println(&amp;quot;&nbsp;[*]&nbsp;bindingKey&nbsp;&amp;quot;&nbsp;&amp;#43;&nbsp;argv[0]&amp;nbsp;&nbsp;&amp;#43;&amp;nbsp;&nbsp;&amp;quot;&nbsp;is&nbsp;bound&nbsp;to&nbsp;queue&nbsp;on&nbsp;exchange&nbsp;&amp;quot;&nbsp;&amp;#43;&nbsp;EXCHANGE_NAME&nbsp;);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;System.out.println(&amp;quot;&nbsp;[*]&nbsp;Waiting&nbsp;for&nbsp;messages.&nbsp;To&nbsp;exit&nbsp;press&nbsp;CTRL&amp;#43;C&amp;quot;);&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;QueueingConsumer&nbsp;consumer&nbsp;=&nbsp;new&nbsp;QueueingConsumer(channel);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;channel.basicConsume(queueName,&nbsp;true,&nbsp;consumer);&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;while&nbsp;(true)&nbsp;{&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;QueueingConsumer.Delivery&nbsp;delivery&nbsp;=&nbsp;consumer.nextDelivery();&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;String&nbsp;message&nbsp;=&nbsp;new&nbsp;String(delivery.getBody());&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;String&nbsp;routingKey&nbsp;=&nbsp;delivery.getEnvelope().getRoutingKey();&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;System.out.println(&amp;quot;&nbsp;[x]&nbsp;Received&nbsp;message&nbsp;for&nbsp;&amp;quot;&nbsp;&amp;#43;&nbsp;routingKey&nbsp;&amp;#43;&nbsp;&amp;quot;&nbsp;&amp;gt;&amp;gt;&amp;gt;&amp;quot;&nbsp;&amp;#43;&nbsp;message);&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;&lt;br&gt;<br>
&amp;nbsp;&nbsp;}&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;used&nbsp;simple&nbsp;print&nbsp;statements&nbsp;to&nbsp;pinpoint&nbsp;the&nbsp;source&nbsp;of&nbsp;the&nbsp;problem&nbsp;at&nbsp;the&nbsp;line&nbsp;where&nbsp;I&nbsp;call&nbsp;newConnection().&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&nbsp;&amp;nbsp;&amp;nbsp;&nbsp;The&nbsp;error&nbsp;I&nbsp;get&nbsp;is&nbsp;this:&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;[*]&nbsp;HERE&nbsp;1&lt;br&gt;<br>
Exception&nbsp;in&nbsp;thread&nbsp;&amp;quot;main&amp;quot;&nbsp;java.net.ConnectException:&nbsp;Connection&nbsp;timed&nbsp;out:&nbsp;connect&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;java.net.PlainSocketImpl.socketConnect(Native&nbsp;Method)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;java.net.PlainSocketImpl.doConnect(Unknown&nbsp;Source)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;java.net.PlainSocketImpl.connectToAddress(Unknown&nbsp;Source)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;java.net.PlainSocketImpl.connect(Unknown&nbsp;Source)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;java.net.SocksSocketImpl.connect(Unknown&nbsp;Source)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;java.net.Socket.connect(Unknown&nbsp;Source)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.ConnectionFactory.createFrameHandler(ConnectionFactory.java:441)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:480)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:509)&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;at&nbsp;com.tasc.prism.queue.ReceiveLogsDirect.main(ReceiveLogsDirect.java:55)&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;My&nbsp;install&nbsp;of&nbsp;rabbitMQ&nbsp;is&nbsp;2.7.0.&nbsp;Oddly,&nbsp;I&nbsp;have&nbsp;been&nbsp;able&nbsp;to&nbsp;execute&nbsp;this&nbsp;in&nbsp;another&nbsp;command&nbsp;shell&nbsp;window&nbsp;and&nbsp;it&nbsp;works.&nbsp;I&nbsp;am&nbsp;wondering&nbsp;why&nbsp;I'm&nbsp;having&nbsp;trouble&nbsp;in&nbsp;the&nbsp;second&nbsp;shell?&nbsp;Surely&nbsp;I&nbsp;must&nbsp;be&nbsp;able&nbsp;to&nbsp;execute&nbsp;multiple&nbsp;instances&nbsp;of&nbsp;ReceiveLogsDirect&nbsp;simultaneously,<br>
&nbsp;right?&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Could&nbsp;it&nbsp;be&nbsp;a&nbsp;runtime&nbsp;environment&nbsp;problem?&nbsp;I&nbsp;set&nbsp;my&nbsp;class&nbsp;path&nbsp;exactly&nbsp;the&nbsp;same&nbsp;in&nbsp;both&nbsp;shells.&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Any&nbsp;thoughts&nbsp;or&nbsp;similar&nbsp;experience&nbsp;with&nbsp;such&nbsp;a&nbsp;problem?&nbsp;Thank&nbsp;you.&lt;br&gt;<br>
&lt;br&gt;<br>
-&nbsp;Jim&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;p&gt;&lt;font&nbsp;size=&quot;1&quot;&nbsp;face=&quot;arial&quot;&nbsp;color=&quot;gray&quot;&gt;CONFIDENTIALITY&nbsp;NOTICE:&nbsp;This&nbsp;message&nbsp;and&nbsp;any&nbsp;attachments&nbsp;or&nbsp;files&nbsp;transmitted&nbsp;with&nbsp;it&nbsp;(collectively,&nbsp;the&nbsp;&amp;quot;Message&amp;quot;)&nbsp;are&nbsp;intended&nbsp;only&nbsp;for&nbsp;the&nbsp;addressee&nbsp;and&nbsp;may&nbsp;contain&nbsp;information&nbsp;that&nbsp;is&nbsp;privileged,&nbsp;proprietary&nbsp;and/or<br>
&nbsp;prohibited&nbsp;from&nbsp;disclosure&nbsp;by&nbsp;law&nbsp;or&nbsp;contract.&nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient:&nbsp;(a)&nbsp;please&nbsp;do&nbsp;not&nbsp;read,&nbsp;copy&nbsp;or&nbsp;retransmit&nbsp;the&nbsp;Message;&nbsp;(b)&nbsp;permanently&nbsp;delete&nbsp;and/or&nbsp;destroy&nbsp;all&nbsp;electronic&nbsp;and&nbsp;hard&nbsp;copies&nbsp;of&nbsp;the&nbsp;Message;&nbsp;(c)&nbsp;notify&nbsp;us&nbsp;by&nbsp;return&nbsp;email;<br>
&nbsp;and&nbsp;(d)&nbsp;you&nbsp;are&nbsp;hereby&nbsp;notified&nbsp;that&nbsp;any&nbsp;dissemination,&nbsp;distribution&nbsp;or&nbsp;copying&nbsp;of&nbsp;the&nbsp;Message&nbsp;is&nbsp;strictly&nbsp;prohibited.<br>
&lt;/font&gt;&lt;/p&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
