<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;ve&nbsp;been&nbsp;trying&nbsp;to&nbsp;setup&nbsp;a&nbsp;2-way&nbsp;federation&nbsp;for&nbsp;my&nbsp;2&nbsp;nodes&nbsp;A&nbsp;and&nbsp;B.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;ran&nbsp;the&nbsp;following&nbsp;commands&nbsp;on&nbsp;Node&nbsp;A:&lt;/div&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;font-family:Consolas,&#39;Liberation&nbsp;Mono&#39;,Courier,monospace;font-size:13px;margin-top:15px;margin-bottom:15px;background-color:rgb(248,248,248);border:1px&nbsp;solid&nbsp;rgb(221,221,221);line-height:19px;overflow:auto;padding:6px&nbsp;10px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;word-wrap:normal;color:rgb(51,51,51)&quot;&gt;<br>
&lt;code&nbsp;style=&quot;font-family:Consolas,&#39;Liberation&nbsp;Mono&#39;,Courier,monospace;font-size:12px;margin:0px;padding:0px;border:none;background-color:transparent;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;word-wrap:normal&quot;&gt;sudo&nbsp;rabbitmqctl&nbsp;set_parameter&nbsp;federation-upstream&nbsp;rabbit2&nbsp;&#39;{&quot;uri&quot;:&quot;amqp://&lt;Node&nbsp;B&nbsp;IP&gt;&quot;}&#39;<br>
sudo&nbsp;rabbitmqctl&nbsp;set_parameter&nbsp;federation&nbsp;local-nodename&nbsp;&#39;&quot;rabbit1&quot;&#39;<br>
sudo&nbsp;rabbitmqctl&nbsp;set_policy&nbsp;federate-me&nbsp;&quot;^test\.&quot;&nbsp;&#39;{&quot;federation-upstream-set&quot;:&quot;test&quot;}&#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;commands&nbsp;on&nbsp;Node&nbsp;B:&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;pre&nbsp;style=&quot;font-family:Consolas,&#39;Liberation&nbsp;Mono&#39;,Courier,monospace;font-size:13px;margin-top:15px;margin-bottom:15px;background-color:rgb(248,248,248);border:1px&nbsp;solid&nbsp;rgb(221,221,221);line-height:19px;overflow:auto;padding:6px&nbsp;10px;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;word-wrap:normal;color:rgb(51,51,51)&quot;&gt;<br>
&lt;code&nbsp;style=&quot;font-family:Consolas,&#39;Liberation&nbsp;Mono&#39;,Courier,monospace;font-size:12px;margin:0px;padding:0px;border:none;background-color:transparent;border-top-left-radius:3px;border-top-right-radius:3px;border-bottom-right-radius:3px;border-bottom-left-radius:3px;word-wrap:normal&quot;&gt;sudo&nbsp;rabbitmqctl&nbsp;set_parameter&nbsp;federation-upstream&nbsp;rabbit2&nbsp;&#39;{&quot;uri&quot;:&quot;amqp://&lt;Node&nbsp;A&nbsp;IP&gt;&quot;}&#39;<br>
sudo&nbsp;rabbitmqctl&nbsp;set_parameter&nbsp;federation&nbsp;local-nodename&nbsp;&#39;&quot;rabbit2&quot;&#39;<br>
sudo&nbsp;rabbitmqctl&nbsp;set_policy&nbsp;federate-me&nbsp;&quot;^test\.&quot;&nbsp;&#39;{&quot;federation-upstream-set&quot;:&quot;test&quot;}&#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Now&nbsp;I&nbsp;created&nbsp;a&nbsp;fanout&nbsp;exchange&nbsp;and&nbsp;queue&nbsp;on&nbsp;Node&nbsp;A,&nbsp;namely&nbsp;test.fanout-Exchange&nbsp;and&nbsp;test.fanout-Queue,&nbsp;using&nbsp;the&nbsp;RabbitMQ&nbsp;console.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;publish&nbsp;a&nbsp;message&nbsp;using&nbsp;RabbitMQ&nbsp;console&nbsp;of&nbsp;Node&nbsp;A,&nbsp;I&nbsp;see&nbsp;the&nbsp;message&nbsp;reaches&nbsp;the&nbsp;queue&nbsp;on&nbsp;Node&nbsp;A&nbsp;alone,&nbsp;and&nbsp;not&nbsp;on&nbsp;Node&nbsp;B.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;clues?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Regards,&lt;div&gt;Rahul&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
