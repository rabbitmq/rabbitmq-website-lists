<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;Hi,&lt;/span&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;I've&nbsp;been&nbsp;trying&nbsp;to&nbsp;setup&nbsp;a&nbsp;2-way&nbsp;federation&nbsp;for&nbsp;my&nbsp;2&nbsp;nodes&nbsp;A&nbsp;and&nbsp;B.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;I&nbsp;ran&nbsp;the&nbsp;following&nbsp;commands&nbsp;on&nbsp;Node&nbsp;A:&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;pre&nbsp;style=&quot;white-space:&nbsp;pre-wrap;&nbsp;font-family:&nbsp;Consolas,&nbsp;'Liberation&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;margin-top:&nbsp;15px;&nbsp;margin-bottom:&nbsp;15px;&nbsp;background-color:&nbsp;rgb(248,&nbsp;248,&nbsp;248);&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;rgb(221,&nbsp;221,&nbsp;221);&nbsp;line-height:&nbsp;19px;&nbsp;overflow:&nbsp;auto;&nbsp;padding:&nbsp;6px&nbsp;10px;&nbsp;border-top-left-radius:&nbsp;3px;&nbsp;border-top-right-radius:&nbsp;3px;&nbsp;border-bottom-right-radius:&nbsp;3px;&nbsp;border-bottom-left-radius:&nbsp;3px;&nbsp;word-wrap:&nbsp;normal;&nbsp;color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&quot;&gt;&lt;code&nbsp;style=&quot;font-family:&nbsp;Consolas,&nbsp;'Liberation&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;border-style:&nbsp;none;&nbsp;background-color:&nbsp;transparent;&nbsp;border-top-left-radius:&nbsp;3px;&nbsp;border-top-right-radius:&nbsp;3px;&nbsp;border-bottom-right-radius:&nbsp;3px;&nbsp;border-bottom-left-radius:&nbsp;3px;&nbsp;word-wrap:&nbsp;normal;&quot;&gt;sudo&nbsp;rabbitmqctl&nbsp;set_parameter&nbsp;federation-upstream&nbsp;rabbit2&nbsp;'{&quot;uri&quot;:&quot;amqp://&lt;Node&nbsp;B&nbsp;IP&gt;&quot;}'<br>
sudo&nbsp;rabbitmqctl&nbsp;set_parameter&nbsp;federation&nbsp;local-nodename&nbsp;'&quot;rabbit1&quot;'<br>
sudo&nbsp;rabbitmqctl&nbsp;set_policy&nbsp;federate-me&nbsp;&quot;^test\.&quot;&nbsp;'{&quot;federation-upstream-set&quot;:&quot;&lt;wbr&gt;test&quot;}'&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;commands&nbsp;on&nbsp;Node&nbsp;B:&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;pre&nbsp;style=&quot;white-space:&nbsp;pre-wrap;&nbsp;font-family:&nbsp;Consolas,&nbsp;'Liberation&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;margin-top:&nbsp;15px;&nbsp;margin-bottom:&nbsp;15px;&nbsp;background-color:&nbsp;rgb(248,&nbsp;248,&nbsp;248);&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;rgb(221,&nbsp;221,&nbsp;221);&nbsp;line-height:&nbsp;19px;&nbsp;overflow:&nbsp;auto;&nbsp;padding:&nbsp;6px&nbsp;10px;&nbsp;border-top-left-radius:&nbsp;3px;&nbsp;border-top-right-radius:&nbsp;3px;&nbsp;border-bottom-right-radius:&nbsp;3px;&nbsp;border-bottom-left-radius:&nbsp;3px;&nbsp;word-wrap:&nbsp;normal;&nbsp;color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&quot;&gt;&lt;code&nbsp;style=&quot;font-family:&nbsp;Consolas,&nbsp;'Liberation&nbsp;Mono',&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;12px;&nbsp;border-style:&nbsp;none;&nbsp;background-color:&nbsp;transparent;&nbsp;border-top-left-radius:&nbsp;3px;&nbsp;border-top-right-radius:&nbsp;3px;&nbsp;border-bottom-right-radius:&nbsp;3px;&nbsp;border-bottom-left-radius:&nbsp;3px;&nbsp;word-wrap:&nbsp;normal;&quot;&gt;sudo&nbsp;rabbitmqctl&nbsp;set_parameter&nbsp;federation-upstream&nbsp;rabbit2&nbsp;'{&quot;uri&quot;:&quot;amqp://&lt;Node&nbsp;A&nbsp;IP&gt;&quot;}'<br>
sudo&nbsp;rabbitmqctl&nbsp;set_parameter&nbsp;federation&nbsp;local-nodename&nbsp;'&quot;rabbit2&quot;'<br>
sudo&nbsp;rabbitmqctl&nbsp;set_policy&nbsp;federate-me&nbsp;&quot;^test\.&quot;&nbsp;'{&quot;federation-upstream-set&quot;:&quot;&lt;wbr&gt;test&quot;}'&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;div&gt;Now&nbsp;I&nbsp;created&nbsp;a&nbsp;fanout&nbsp;exchange&nbsp;and&nbsp;queue&nbsp;on&nbsp;Node&nbsp;A,&nbsp;namely&nbsp;test.fanout-Exchange&nbsp;and&nbsp;test.fanout-Queue,&nbsp;using&nbsp;the&nbsp;RabbitMQ&nbsp;console.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;publish&nbsp;a&nbsp;message&nbsp;using&nbsp;RabbitMQ&nbsp;console&nbsp;of&nbsp;Node&nbsp;A,&nbsp;I&nbsp;see&nbsp;the&nbsp;message&nbsp;reaches&nbsp;the&nbsp;queue&nbsp;on&nbsp;Node&nbsp;A&nbsp;alone,&nbsp;and&nbsp;not&nbsp;on&nbsp;Node&nbsp;B.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Any&nbsp;clues?&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
