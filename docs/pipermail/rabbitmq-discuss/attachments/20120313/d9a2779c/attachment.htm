<tt>
Hi&nbsp;there,&lt;br&gt;&lt;br&gt;We&nbsp;need&nbsp;to&nbsp;upgrade&nbsp;our&nbsp;messaging&nbsp;server&nbsp;from&nbsp;1.8.0&nbsp;to&nbsp;2.7.1.&nbsp;To&nbsp;ensure&nbsp;a&nbsp;smooth&nbsp;transition,&nbsp;we&nbsp;are&nbsp;trying&nbsp;to&nbsp;make&nbsp;the&nbsp;two&nbsp;rabbit&nbsp;server&nbsp;versions&nbsp;coexist&nbsp;on&nbsp;the&nbsp;same&nbsp;machine,&nbsp;so&nbsp;we&nbsp;can&nbsp;have&nbsp;our&nbsp;existing&nbsp;messaging&nbsp;system&nbsp;running&nbsp;while&nbsp;having&nbsp;our&nbsp;new&nbsp;messaging&nbsp;system&nbsp;being&nbsp;tested&nbsp;in&nbsp;the&nbsp;same&nbsp;environment,&nbsp;This&nbsp;also&nbsp;ensures&nbsp;minimal&nbsp;interruption&nbsp;for&nbsp;the&nbsp;transition&nbsp;in&nbsp;the&nbsp;production&nbsp;environment&nbsp;as&nbsp;well.&lt;br&gt;<br>
&lt;br&gt;I&nbsp;grabbed&nbsp;the&nbsp;rabbit&nbsp;2.7.1&nbsp;source&nbsp;and&nbsp;changed&nbsp;the&nbsp;location&nbsp;of&nbsp;rabbitmq_env.conf,&nbsp;so&nbsp;that&nbsp;I&nbsp;can&nbsp;specify&nbsp;a&nbsp;different&nbsp;environment&nbsp;for&nbsp;the&nbsp;new&nbsp;rabbit&nbsp;server.&nbsp;&lt;br&gt;These&nbsp;are&nbsp;the&nbsp;env&nbsp;variables&nbsp;I&nbsp;specified&nbsp;in&nbsp;rabbitmq_env.conf:&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;SERVICENAME=&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;NODENAME=&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;NODE_PORT=&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;CONFIG_FILE=&lt;/span&gt;&lt;br&gt;&lt;br&gt;Now&nbsp;I&amp;#39;ve&nbsp;got&nbsp;2.7.1&nbsp;running&nbsp;alongside&nbsp;1.8.0.&nbsp;The&nbsp;problem&nbsp;is&nbsp;that&nbsp;although&nbsp;I&nbsp;have&nbsp;SSL&nbsp;configured&nbsp;for&nbsp;2.7.1,&nbsp;only&nbsp;non-SSl&nbsp;connections&nbsp;currently&nbsp;work.&nbsp;For&nbsp;any&nbsp;SSL&nbsp;connections,&nbsp;I&nbsp;get&nbsp;a&nbsp;&amp;quot;connection&nbsp;refused&amp;quot;&nbsp;on&nbsp;the&nbsp;client&nbsp;side.&nbsp;I&nbsp;triple&nbsp;checked&nbsp;the&nbsp;SSL&nbsp;certificates&nbsp;and&nbsp;saw&nbsp;no&nbsp;problems.&nbsp;However,&nbsp;when&nbsp;I&nbsp;list&nbsp;the&nbsp;status&nbsp;of&nbsp;the&nbsp;2.7.1&nbsp;server&nbsp;,&nbsp;it&nbsp;says&nbsp;the&nbsp;following:&lt;br&gt;<br>
&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;Status&nbsp;of&nbsp;node&nbsp;&amp;#39;rabbit-new@ServerA&amp;#39;&nbsp;...&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;[{pid,23440},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; {running_applications,[{rabbit,&amp;quot;RabbitMQ&amp;quot;,&amp;quot;2.7.1&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;                       &nbsp;{os_mon,&amp;quot;CPO &nbsp;CXC&nbsp;138&nbsp;46&amp;quot;,&amp;quot;2.2.4&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;                       &nbsp;{sasl,&amp;quot;SASL &nbsp;CXC&nbsp;138&nbsp;11&amp;quot;,&amp;quot;2.1.8&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;                       &nbsp;{mnesia,&amp;quot;MNESIA &nbsp;CXC&nbsp;138&nbsp;12&amp;quot;,&amp;quot;4.4.12&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;                       &nbsp;{stdlib,&amp;quot;ERTS &nbsp;CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;1.16.4&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;                       &nbsp;{kernel,&amp;quot;ERTS &nbsp;CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;2.13.4&amp;quot;}]},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; {os,{unix,linux}},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; {erlang_version,&amp;quot;Erlang&nbsp;R13B03&nbsp;(erts-5.7.4)&nbsp;[source]&nbsp;[64-bit]&nbsp;[smp:4:4]&nbsp;[rq:4]&nbsp;[async-threads:30]&nbsp;[hipe]&nbsp;[kernel-poll:true]\n&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; {memory,..&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; ...&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; ...&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;...done.&lt;/span&gt;&lt;br&gt;&lt;br&gt;On&nbsp;another&nbsp;machine&nbsp;that&nbsp;only&nbsp;has&nbsp;2.7.1&nbsp;on,&nbsp;it&nbsp;produces&nbsp;the&nbsp;following:&lt;br&gt;<br>
&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;Status&nbsp;of&nbsp;node&nbsp;rabbit@ServerB&nbsp;...&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;[{pid,30862},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; {running_applications,&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;    &nbsp;[{rabbitmq_federation,&amp;quot;RabbitMQ&nbsp;Federation&amp;quot;,&amp;quot;2.7.1&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{rabbitmq_management,&amp;quot;RabbitMQ&nbsp;Management&nbsp;Console&amp;quot;,&amp;quot;2.7.1&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{rabbitmq_management_agent,&amp;quot;RabbitMQ&nbsp;Management&nbsp;Agent&amp;quot;,&amp;quot;2.7.1&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{amqp_client,&amp;quot;RabbitMQ&nbsp;AMQP&nbsp;Client&amp;quot;,&amp;quot;2.7.1&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{rabbit,&amp;quot;RabbitMQ&amp;quot;,&amp;quot;2.7.1&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{ssl,&amp;quot;Erlang/OTP&nbsp;SSL&nbsp;application&amp;quot;,&amp;quot;4.1.6&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{public_key,&amp;quot;Public&nbsp;key&nbsp;infrastructure&amp;quot;,&amp;quot;0.13&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{crypto,&amp;quot;CRYPTO&nbsp;version&nbsp;2&amp;quot;,&amp;quot;2.0.4&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{os_mon,&amp;quot;CPO &nbsp;CXC&nbsp;138&nbsp;46&amp;quot;,&amp;quot;2.2.7&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{sasl,&amp;quot;SASL &nbsp;CXC&nbsp;138&nbsp;11&amp;quot;,&amp;quot;2.1.10&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{rabbitmq_mochiweb,&amp;quot;RabbitMQ&nbsp;Mochiweb&nbsp;Embedding&amp;quot;,&amp;quot;2.7.1&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{webmachine,&amp;quot;webmachine&amp;quot;,&amp;quot;1.7.0-rmq2.7.1-hg&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{mochiweb,&amp;quot;MochiMedia&nbsp;Web&nbsp;Server&amp;quot;,&amp;quot;1.3-rmq2.7.1-git&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{inets,&amp;quot;INETS &nbsp;CXC&nbsp;138&nbsp;49&amp;quot;,&amp;quot;5.7.1&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{mnesia,&amp;quot;MNESIA &nbsp;CXC&nbsp;138&nbsp;12&amp;quot;,&amp;quot;4.5&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{stdlib,&amp;quot;ERTS &nbsp;CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;1.17.5&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;     &nbsp;{kernel,&amp;quot;ERTS &nbsp;CXC&nbsp;138&nbsp;10&amp;quot;,&amp;quot;2.14.5&amp;quot;}]},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; {os,{unix,linux}},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; {erlang_version,&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;    &nbsp;&amp;quot;Erlang&nbsp;R14B04&nbsp;(erts-5.8.5)&nbsp;[source]&nbsp;[64-bit]&nbsp;[smp:2:2]&nbsp;[rq:2]&nbsp;[async-threads:30]&nbsp;[kernel-poll:true]\n&amp;quot;},&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; {memory,&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; &nbsp;...&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt; &nbsp;...&lt;/span&gt;&lt;br&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;<br>
&lt;span&nbsp;style=&quot;color:rgb(0,102,0)&quot;&gt;...done.&lt;/span&gt;&lt;br&gt;&lt;br&gt;I&nbsp;noticed&nbsp;that&nbsp;ServerA&nbsp;doesn&amp;#39;t&nbsp;have&nbsp;ssl&nbsp;in&nbsp;the&nbsp;&amp;quot;running_application&amp;quot;&nbsp;list.&nbsp;Is&nbsp;this&nbsp;why&nbsp;SSL&nbsp;doesn&amp;#39;t&nbsp;work?&nbsp;I&amp;#39;m&nbsp;pretty&nbsp;sure&nbsp;erlang&nbsp;R13B03&nbsp;thats&nbsp;currently&nbsp;running&nbsp;on&nbsp;ServerA&nbsp;supports&nbsp;SSL&nbsp;because&nbsp;rabbit&nbsp;1.8.0&nbsp;is&nbsp;using&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;What&nbsp;are&nbsp;my&nbsp;options&nbsp;here?&nbsp;Would&nbsp;updating&nbsp;Erlang&nbsp;on&nbsp;ServerA&nbsp;to&nbsp;the&nbsp;latest&nbsp;version&nbsp;solve&nbsp;the&nbsp;problem?&nbsp;Would&nbsp;the&nbsp;latest&nbsp;Erlang&nbsp;be&nbsp;incompatible&nbsp;with&nbsp;rabbitmq&nbsp;1.8.0?&nbsp;If&nbsp;I&nbsp;were&nbsp;to&nbsp;still&nbsp;use&nbsp;Erlang&nbsp;R13B03,&nbsp;what&nbsp;shall&nbsp;I&nbsp;do&nbsp;to&nbsp;make&nbsp;2.7.1&nbsp;work&nbsp;with&nbsp;SSL?&lt;br&gt;<br>
&lt;br&gt;Thanks,&lt;br&gt;&lt;br&gt;Brian&lt;br&gt;&lt;br&gt;<br>

</tt>
