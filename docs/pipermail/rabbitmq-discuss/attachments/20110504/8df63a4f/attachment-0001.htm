<tt>
Hello,&lt;br&gt;&lt;br&gt;I&amp;#39;m&nbsp;working&nbsp;with&nbsp;RabbitMQ&nbsp;2.4.1&nbsp;for&nbsp;Windows&nbsp;and&nbsp;using&nbsp;the&nbsp;HTTP&nbsp;API&nbsp;to&nbsp;interact&nbsp;with&nbsp;the&nbsp;RabbitMQ&nbsp;server.&nbsp;I&nbsp;notice&nbsp;that,&nbsp;when&nbsp;I&nbsp;try&nbsp;to&nbsp;get&nbsp;messages&nbsp;from&nbsp;a&nbsp;queue,&nbsp;I&nbsp;have&nbsp;to&nbsp;specify&nbsp;the&nbsp;payload&nbsp;encoding&nbsp;-&nbsp;even&nbsp;if&nbsp;the&nbsp;HTTP&nbsp;API&nbsp;Specification&nbsp;(&lt;a&nbsp;href=&quot;http://hg.rabbitmq.com/rabbitmq-management/raw-file/rabbitmq_v2_4_1/priv/www-api/help.html&quot;&gt;http://hg.rabbitmq.com/rabbitmq-management/raw-file/rabbitmq_v2_4_1/priv/www-api/help.html&lt;/a&gt;)&nbsp;doesn&amp;#39;t&nbsp;list&nbsp;it&nbsp;in&nbsp;the&nbsp;mandatory&nbsp;keys&nbsp;-&nbsp;and&nbsp;the&nbsp;only&nbsp;accepted&nbsp;value&nbsp;is&nbsp;&amp;quot;base64&amp;quot;.&lt;br&gt;<br>
Please,&nbsp;find&nbsp;below&nbsp;the&nbsp;tests&nbsp;I&nbsp;performed:&lt;br&gt;&lt;br&gt;1:&nbsp;Specify&nbsp;in&nbsp;the&nbsp;request&nbsp;body&nbsp;all&nbsp;the&nbsp;mandatory&nbsp;fields&nbsp;listed&nbsp;in&nbsp;the&nbsp;HTTP&nbsp;API&nbsp;Specification&lt;br&gt;REQUEST:&nbsp;POST&nbsp;/api/queues/%2f/queue1/get&lt;br&gt;REQUEST&nbsp;BODY:&nbsp;{&amp;quot;count&amp;quot;:10,&amp;quot;requeue&amp;quot;:false}&lt;br&gt;<br>
Response:&nbsp;HTTP/1.1&nbsp;400&nbsp;Bad&nbsp;Request&lt;br&gt;   &nbsp;Date:&nbsp;Wed,&nbsp;04&nbsp;May&nbsp;2011&nbsp;14:47:48&nbsp;GMT&lt;br&gt;   &nbsp;Content-Length:&nbsp;59&lt;br&gt;   &nbsp;Content-Type:&nbsp;text/html&lt;br&gt;   &nbsp;Server:&nbsp;MochiWeb/1.1&nbsp;WebMachine/1.7&nbsp;(participate&nbsp;in&nbsp;the&nbsp;frantic)&lt;br&gt;response&nbsp;body:&nbsp;{&amp;quot;error&amp;quot;:&amp;quot;bad_request&amp;quot;,&amp;quot;reason&amp;quot;:{&amp;quot;key_missing&amp;quot;:&amp;quot;encoding&amp;quot;}}&lt;br&gt;<br>
&lt;br&gt;2.&nbsp;Specify&nbsp;in&nbsp;the&nbsp;request&nbsp;body&nbsp;all&nbsp;the&nbsp;mandatory&nbsp;fields&nbsp;(including&nbsp;&amp;quot;encoding&amp;quot;&nbsp;but&nbsp;using&nbsp;&amp;quot;string&amp;quot;&nbsp;as&nbsp;value)&lt;br&gt;REQUEST:&nbsp;POST&nbsp;/api/queues/%2f/queue1/get&lt;br&gt;<br>
REQUEST&nbsp;BODY:&nbsp;{&amp;quot;count&amp;quot;:10,&amp;quot;requeue&amp;quot;:false,&amp;quot;encoding&amp;quot;:&amp;quot;string&amp;quot;}&lt;br&gt;Response:&nbsp;HTTP/1.1&nbsp;400&nbsp;Bad&nbsp;Request&lt;br&gt;   &nbsp;Date:&nbsp;Wed,&nbsp;04&nbsp;May&nbsp;2011&nbsp;15:03:03&nbsp;GMT&lt;br&gt;   &nbsp;Content-Length:&nbsp;58&lt;br&gt;   &nbsp;Content-Type:&nbsp;text/html&lt;br&gt;<br>
   &nbsp;Server:&nbsp;MochiWeb/1.1&nbsp;WebMachine/1.7&nbsp;(participate&nbsp;in&nbsp;the&nbsp;frantic)&lt;br&gt;response&nbsp;body:&nbsp;{&amp;quot;error&amp;quot;:&amp;quot;bad_request&amp;quot;,&amp;quot;reason&amp;quot;:[&amp;quot;bad_encoding&amp;quot;,&amp;quot;string&amp;quot;]}&lt;br&gt;&lt;br&gt;3.&nbsp;Specify&nbsp;in&nbsp;the&nbsp;request&nbsp;body&nbsp;all&nbsp;the&nbsp;mandatory&nbsp;fields&nbsp;(including&nbsp;&amp;quot;encoding&amp;quot;&nbsp;but&nbsp;using&nbsp;&amp;quot;base64&amp;quot;&nbsp;as&nbsp;value)&lt;br&gt;<br>
REQUEST:&nbsp;POST&nbsp;/api/queues/%2f/queue1/get&lt;br&gt;<br>
<br>
REQUEST&nbsp;BODY:&nbsp;{&amp;quot;count&amp;quot;:10,&amp;quot;requeue&amp;quot;:false,&amp;quot;encoding&amp;quot;:&amp;quot;base64&amp;quot;}&lt;br&gt;Response:&nbsp;HTTP/1.1&nbsp;200&nbsp;OK&lt;br&gt;   &nbsp;content-type:&nbsp;application/json&lt;br&gt;   &nbsp;Date:&nbsp;Wed,&nbsp;04&nbsp;May&nbsp;2011&nbsp;15:05:14&nbsp;GMT&lt;br&gt;   &nbsp;Content-Length:&nbsp;2&lt;br&gt;<br>
   &nbsp;Server:&nbsp;MochiWeb/1.1&nbsp;WebMachine/1.7&nbsp;(participate&nbsp;in&nbsp;the&nbsp;frantic)&lt;br&gt;   &nbsp;Cache-Control:&nbsp;no-cache&lt;br&gt;response&nbsp;body:&nbsp;[]&lt;br&gt;&lt;br&gt;Case&nbsp;1&nbsp;raises&nbsp;an&nbsp;error&nbsp;because&nbsp;of&nbsp;the&nbsp;lack&nbsp;of&nbsp;a&nbsp;mandatory&nbsp;field&nbsp;(the&nbsp;payload&nbsp;encoding).&lt;br&gt;Case&nbsp;2&nbsp;raises&nbsp;an&nbsp;error&nbsp;because&nbsp;of&nbsp;a&nbsp;bad&nbsp;&amp;quot;encoding&amp;quot;&nbsp;value&nbsp;even&nbsp;if&nbsp;when&nbsp;publishing&nbsp;a&nbsp;message&nbsp;into&nbsp;an&nbsp;exchange&nbsp;the&nbsp;values&nbsp;allowed&nbsp;for&nbsp;the&nbsp;&amp;quot;payload_encoding&amp;quot;&nbsp;key&nbsp;are&nbsp;either&nbsp;&amp;quot;string&amp;quot;&nbsp;or&nbsp;&amp;quot;base64&amp;quot;.&lt;br&gt;<br>
Case&nbsp;3&nbsp;works&nbsp;as&nbsp;expected.&lt;br&gt;&lt;br&gt;Is&nbsp;there&nbsp;something&nbsp;wrong&nbsp;in&nbsp;my&nbsp;requests&nbsp;or&nbsp;there&nbsp;is&nbsp;a&nbsp;problem&nbsp;on&nbsp;the&nbsp;server&nbsp;side?&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;&lt;br&gt;Salvatore&lt;br&gt;<br>

</tt>
