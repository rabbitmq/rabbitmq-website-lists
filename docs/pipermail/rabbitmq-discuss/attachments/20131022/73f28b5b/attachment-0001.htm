<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&gt;&lt;HEAD&gt;<br>
&lt;STYLE&nbsp;type=text/css&gt;&nbsp;&lt;!--@import&nbsp;url(scrollbar.css);&nbsp;--&gt;&lt;/STYLE&gt;<br>
<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&nbsp;http-equiv=Content-Type&gt;<br>
&lt;STYLE&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspBLOCKQUOTE{margin-Top:&nbsp;0px;&nbsp;margin-Bottom:&nbsp;0px;&nbsp;margin-Left:&nbsp;2em}&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspbody{FONT-SIZE:12.1pt;&nbsp;COLOR:#001;&nbsp;FONT-FAMILY:宋体,serif;}&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/STYLE&gt;<br>
<br>
&lt;META&nbsp;name=GENERATOR&nbsp;content=&quot;MSHTML&nbsp;10.00.9200.16721&quot;&gt;&lt;BASE&nbsp;<br>
target=_blank&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;<br>
style=&quot;BORDER-LEFT-WIDTH:&nbsp;0px;&nbsp;BORDER-RIGHT-WIDTH:&nbsp;0px;&nbsp;BORDER-BOTTOM-WIDTH:&nbsp;0px;&nbsp;MARGIN:&nbsp;12px;&nbsp;LINE-HEIGHT:&nbsp;1.3;&nbsp;BORDER-TOP-WIDTH:&nbsp;0px&quot;&nbsp;<br>
marginheight=&quot;0&quot;&nbsp;marginwidth=&quot;0&quot;&gt;&lt;STATIONERY&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&nbsp;face=宋体&gt;hi,all&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;i&nbsp;use&nbsp;&quot;rabbitmqctrl&nbsp;list_queues&quot;&nbsp;to&nbsp;list&nbsp;the&nbsp;<br>
queues&nbsp;in&nbsp;my&nbsp;computer&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;like&nbsp;this:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;&lt;IMG&nbsp;<br>
src=&quot;cid:flashmail$ZG1OAAnj$1382406027__0@nmmp&quot;&gt;&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;that&nbsp;is&nbsp;to&nbsp;say&nbsp;,there&nbsp;are&nbsp;17&nbsp;messages&nbsp;in&nbsp;<br>
youdao_box_ctp&nbsp;queue&nbsp;and&nbsp;by&nbsp;the&nbsp;way,the&nbsp;queue&nbsp;is&nbsp;defined&nbsp;like&nbsp;this:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;channelSTC.queueDeclare(&quot;youdao_box_ctp&quot;,&nbsp;true,&nbsp;false,&nbsp;false,&nbsp;null);&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;here&nbsp;is&nbsp;my&nbsp;code&nbsp;to&nbsp;get&nbsp;the&nbsp;message:&lt;/FONT&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#000000&nbsp;size=3&gt;&lt;/FONT&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;ConnectionFactory&nbsp;factoryCTP&nbsp;=&nbsp;new&nbsp;<br>
ConnectionFactory();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
factoryCTP.setHost(&quot;localhost&quot;);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Connection&nbsp;<br>
connectionProxy=factoryCTP.newConnection();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;Channel&nbsp;<br>
channameProxy=connectionProxy.createChannel();&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
channameProxy.queueDeclare(&quot;youdao_box_ctp&quot;,&nbsp;true,&nbsp;false,&nbsp;false,&nbsp;<br>
null);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
channameProxy.basicQos(1);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
while(true)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;nbsp;GetResponse&nbsp;response&nbsp;=&nbsp;channameProxy.basicGet(&quot;youdao_box_ctp&quot;,&nbsp;<br>
false);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
if(response!=null)&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;nbsp;channameProxy.basicAck(response.getEnvelope().getDeliveryTag(),&nbsp;<br>
false);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
}&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
else&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
{&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
&amp;nbsp;System.out.println(&quot;empty&quot;);&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;<br>
}&lt;BR&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;it&nbsp;prints&nbsp;&quot;empty&quot;&nbsp;!!!!&nbsp;why???there&nbsp;are&nbsp;17&nbsp;messages&nbsp;in&nbsp;<br>
youdao_box_ctp!!!&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;the&nbsp;same&nbsp;thing&nbsp;happened&nbsp;to&nbsp;the&nbsp;other&nbsp;queues&nbsp;also&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;thanks&nbsp;a&nbsp;lot&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&nbsp;align=left&gt;&lt;FONT&nbsp;color=#c0c0c0&nbsp;size=2&nbsp;<br>
face=Verdana&gt;2013-10-22&lt;/FONT&gt;&lt;/DIV&gt;&lt;FONT&nbsp;size=2&nbsp;face=Verdana&gt;<br>
&lt;HR&nbsp;id=SignNameHR&nbsp;style=&quot;HEIGHT:&nbsp;2px;&nbsp;WIDTH:&nbsp;122px&quot;&nbsp;align=left&nbsp;SIZE=2&gt;<br>
&lt;/FONT&gt;<br>
&lt;DIV&gt;&lt;FONT&nbsp;color=#c0c0c0&nbsp;size=2&nbsp;face=Verdana&gt;&lt;SPAN&nbsp;<br>
id=_FlashSignName&gt;yby538&lt;/SPAN&gt;&lt;/FONT&gt;&lt;/DIV&gt;&lt;/STATIONERY&gt;&lt;/BODY&gt;&lt;/HTML&gt;
</tt>
