<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I'm&nbsp;having&nbsp;trouble&nbsp;finding&nbsp;good&nbsp;examples&nbsp;of&nbsp;how&nbsp;to&nbsp;configure&nbsp;a&amp;nbsp;rabbitmq.config&nbsp;file&nbsp;to&nbsp;do&nbsp;what&nbsp;I've&nbsp;been&nbsp;doing&nbsp;with&nbsp;a&nbsp;set&nbsp;of&nbsp;rabbitmqctl&nbsp;commands.&nbsp;&amp;nbsp;Here's&nbsp;the&nbsp;script&nbsp;I&nbsp;use&nbsp;to&nbsp;configure&nbsp;clustering&nbsp;and&nbsp;federation&nbsp;for&nbsp;one&nbsp;of&nbsp;my&nbsp;rabbitmq&nbsp;clusters:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:&nbsp;0&nbsp;0&nbsp;0&nbsp;40px;&nbsp;border:&nbsp;none;&nbsp;padding:&nbsp;0px;&quot;&gt;&lt;div&gt;&lt;div&gt;#!/bin/bash&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;stop_app&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;reset&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;join_cluster&nbsp;rabbit@rabbit2&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;start_app&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmq-plugins&nbsp;enable&nbsp;rabbitmq_federation&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmq-plugins&nbsp;enable&nbsp;rabbitmq_federation_management&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmq-plugins&nbsp;enable&nbsp;rabbitmq_management&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;service&nbsp;rabbitmq-server&nbsp;restart&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;set_parameter&nbsp;federation-upstream&nbsp;cluster1-upstream&nbsp;'{&quot;uri&quot;:[&quot;amqp://rabbit3.example.com&quot;,&quot;amqp://rabbit4.example.com&quot;],&quot;expires&quot;:3600000}'&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;set_policy&nbsp;federate-mything&nbsp;&quot;^Mything$&quot;&nbsp;'{&quot;federation-upstream-set&quot;:&quot;all&quot;}'&nbsp;0&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;do&nbsp;I&nbsp;convert&nbsp;that&nbsp;into&nbsp;a&nbsp;format&nbsp;that&nbsp;will&nbsp;work&nbsp;in&nbsp;a&nbsp;rabbitmq.config&nbsp;so&nbsp;that&nbsp;all&nbsp;I&nbsp;need&nbsp;to&nbsp;do&nbsp;is&nbsp;drop&nbsp;this&nbsp;config&nbsp;file&nbsp;in,&nbsp;reset&nbsp;the&nbsp;node,&nbsp;then&nbsp;restart&nbsp;rabbitmq-server&nbsp;to&nbsp;get&nbsp;this&nbsp;configuration&nbsp;working?&nbsp;&amp;nbsp;Also,&nbsp;if&nbsp;you&nbsp;put&nbsp;your&nbsp;cluster&nbsp;config&nbsp;into&nbsp;rabbitmq.config&nbsp;&amp;nbsp;on&nbsp;both&nbsp;nodes&nbsp;to&nbsp;be&nbsp;clustered,&nbsp;will&nbsp;they&nbsp;automatically&nbsp;set&nbsp;the&nbsp;correct&amp;nbsp;/var/lib/rabbitmq/.erlang.cookie&nbsp;or&nbsp;must&nbsp;that&nbsp;step&nbsp;still&nbsp;be&nbsp;done&nbsp;manually?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance&lt;/div&gt;&lt;/div&gt;
</tt>
