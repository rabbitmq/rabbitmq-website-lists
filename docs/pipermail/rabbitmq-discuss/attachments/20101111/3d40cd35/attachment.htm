<tt>
Thanks&nbsp;Emile&nbsp;-&nbsp;I&amp;#39;ll&nbsp;try&nbsp;that.&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Nov&nbsp;11,&nbsp;2010&nbsp;at&nbsp;4:30&nbsp;AM,&nbsp;Emile&nbsp;Joubert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&gt;emile@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
Hi&nbsp;Isaac,&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;11/11/10&nbsp;09:04,&nbsp;Isaac&nbsp;Cambron&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;have&nbsp;an&nbsp;older&nbsp;application&nbsp;that&nbsp;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;get&nbsp;onto&nbsp;the&nbsp;latest&nbsp;and&lt;br&gt;<br>
&amp;gt;&nbsp;greatest&nbsp;version&nbsp;of&nbsp;Rabbit&nbsp;and&nbsp;the&nbsp;.NET&nbsp;client.&nbsp;I&amp;#39;m&nbsp;having&nbsp;a&nbsp;bit&nbsp;of&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;problem&nbsp;getting&nbsp;it&nbsp;to&nbsp;work&nbsp;the&nbsp;same&nbsp;way&nbsp;across&nbsp;the&nbsp;API&nbsp;changes.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;In&nbsp;my&nbsp;old&nbsp;app,&nbsp;I&nbsp;had&nbsp;a&nbsp;simple&nbsp;piece&nbsp;that&nbsp;broadcast&nbsp;to&nbsp;all&nbsp;of&nbsp;my&lt;br&gt;<br>
&amp;gt;&nbsp;consumers&nbsp;who&nbsp;happen&nbsp;to&nbsp;be&nbsp;listening.&nbsp;Let&amp;#39;s&nbsp;say&nbsp;they&nbsp;print&nbsp;the&nbsp;message&amp;#39;s&lt;br&gt;<br>
&amp;gt;&nbsp;content&nbsp;to&nbsp;the&nbsp;console&nbsp;when&nbsp;they&nbsp;get&nbsp;it.&nbsp;It&nbsp;was&nbsp;pretty&nbsp;simple.&nbsp;Each&lt;br&gt;<br>
&amp;gt;&nbsp;consumer&nbsp;just&nbsp;creates&nbsp;a&nbsp;subscription:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Subscription&nbsp;sub&nbsp;=&nbsp;new&nbsp;Subscription(ch,&nbsp;someExchange,&lt;br&gt;<br>
&amp;gt;&nbsp;ExchangeType.Topic,&nbsp;someTopic);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;and&nbsp;listened&nbsp;to&nbsp;it.&nbsp;The&nbsp;broadcaster&nbsp;just&nbsp;did&nbsp;this:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;ch.BasicPublish(someExchange,&nbsp;someTopic,&nbsp;null,&nbsp;someBytes);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Now,&nbsp;that&nbsp;signature&nbsp;for&nbsp;Subscription&nbsp;no&nbsp;longer&nbsp;exists.&nbsp;I&amp;#39;ve&nbsp;tried&nbsp;stuff&lt;br&gt;<br>
&amp;gt;&nbsp;like&nbsp;this&nbsp;(which&nbsp;matches&nbsp;the&nbsp;old&nbsp;implementation&nbsp;from&nbsp;Subscription.cs):&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;ch.ExchangeDeclare(EXCHANGE,&nbsp;ExchangeType.Topic);&lt;br&gt;<br>
&amp;gt;&nbsp;ch.QueueDeclare(STATUS_QUEUE);&lt;br&gt;<br>
&amp;gt;&nbsp;ch.QueueBind(STATUS_QUEUE,&nbsp;EXCHANGE,&nbsp;TOPIC,&nbsp;false,&nbsp;null);&lt;br&gt;<br>
&amp;gt;&nbsp;Subscription&nbsp;sub&nbsp;=&nbsp;new&nbsp;Subscription(ch,&nbsp;STATUS_QUEUE,&nbsp;true);&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;But&nbsp;the&nbsp;behavior&nbsp;I&amp;#39;m&nbsp;seeing&nbsp;is&nbsp;totally&nbsp;different:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;1.&nbsp;Only&nbsp;one&nbsp;of&nbsp;the&nbsp;consumers&nbsp;gets&nbsp;the&nbsp;message&nbsp;and&nbsp;prints&nbsp;something.&nbsp;It&amp;#39;s&lt;br&gt;<br>
&amp;gt;&nbsp;round-robin&nbsp;instead&nbsp;of&nbsp;broadcast.&lt;br&gt;<br>
&amp;gt;&nbsp;2.&nbsp;When&nbsp;a&nbsp;new&nbsp;consumer&nbsp;is&nbsp;created&nbsp;and&nbsp;subscribes,&nbsp;it&nbsp;gets&nbsp;all&nbsp;of&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;messages&nbsp;I&amp;#39;ve&nbsp;ever&nbsp;put&nbsp;in&nbsp;the&nbsp;queue&nbsp;and&nbsp;prints&nbsp;them&nbsp;to&nbsp;the&nbsp;console.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&amp;#39;m&nbsp;able&nbsp;to&nbsp;fix&nbsp;#2&nbsp;by&nbsp;changing&nbsp;noAck&nbsp;to&nbsp;true,&nbsp;but&nbsp;not&nbsp;#1,&nbsp;and&nbsp;I&nbsp;suspect&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;have&nbsp;something&nbsp;very&nbsp;wrong.&nbsp;Any&nbsp;ideas?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;Subscriptions&nbsp;have&nbsp;indeed&nbsp;been&nbsp;simplified&nbsp;for&nbsp;release&nbsp;version&nbsp;2.0.0.&lt;br&gt;<br>
Preceding&nbsp;the&nbsp;use&nbsp;of&nbsp;Subscription&nbsp;with&nbsp;declarations&nbsp;and&nbsp;the&nbsp;binding,&nbsp;as&lt;br&gt;<br>
you&nbsp;have&nbsp;done,&nbsp;is&nbsp;correct.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;only&nbsp;one&nbsp;consumer&nbsp;gets&nbsp;messages&nbsp;then&nbsp;try&nbsp;setting&nbsp;the&nbsp;channel&nbsp;prefetch&lt;br&gt;<br>
to&nbsp;a&nbsp;small&nbsp;number&nbsp;(e.g.&nbsp;1)&nbsp;by&nbsp;calling&nbsp;ch.BasicQos()&nbsp;before&nbsp;creating&nbsp;the&lt;br&gt;<br>
subscription.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards&lt;br&gt;<br>
&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Emile&lt;br&gt;<br>
&lt;/font&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
