<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Russell,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;the&nbsp;support.&nbsp;I&nbsp;have&nbsp;followed&nbsp;the&nbsp;documentation&nbsp;am&nbsp;getting&nbsp;response&nbsp;as&nbsp;null.&nbsp;Below&nbsp;is&nbsp;the&nbsp;producer&nbsp;and&nbsp;consumer&nbsp;code.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;PRODUCER&nbsp;- &lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;//&nbsp;rabbittemplate&lt;/div&gt;&lt;div&gt;&lt;div&gt;public&nbsp;RabbitTemplate&nbsp;rabbitTemplate()&nbsp;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;RabbitTemplate&nbsp;template&nbsp;=&nbsp;new&nbsp;RabbitTemplate(connectionFactory());&lt;/div&gt;&lt;div&gt;<br>
&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;template.setRoutingKey(this.queueName);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;template.setQueue(this.queueName);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;template.setMessageConverter(new&nbsp;JsonMessageConverter());&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;return&nbsp;template;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;String&nbsp;msg&nbsp;=&nbsp;&amp;quot;CUSTOMER1&amp;quot;;&lt;/div&gt;&lt;div&gt;&lt;div&gt;Object&nbsp;res&nbsp;=&nbsp;this.rabbitTemplate.convertSendAndReceive(msg);&lt;/div&gt;<br>
&lt;div&gt;System.out.println(&amp;quot;Message&nbsp;sent&nbsp;:&amp;quot;&nbsp;+msg);&lt;/div&gt;&lt;div&gt;System.out.println(&amp;quot;Response&nbsp;:&nbsp;&amp;quot;&nbsp;+&nbsp;res.toString());&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;CONSUMER&nbsp;- &lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;SimpleMessageListenerContainer&nbsp;container&nbsp;=&nbsp;new&nbsp;SimpleMessageListenerContainer();&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;container.setConnectionFactory(this.connectionFactory);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;container.setQueueNames(this.queueName);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;container.setMessageListener(new&nbsp;&lt;b&gt;MessageListenerAdapter&lt;/b&gt;(new&nbsp;TestMessageHandler(this.queueName),&nbsp;new&nbsp;JsonMessageConverter()));&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;container.start();&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; //&nbsp;receive&nbsp;messages&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;public&nbsp;void&nbsp;handleMessage(String&nbsp;msg)&nbsp;{&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;System.out.println(&amp;quot;Received&nbsp; :&amp;quot;&nbsp;+&nbsp;msg);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;} &lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;b&gt;Result&nbsp;- &lt;/b&gt;&lt;/div&gt;<br>
&lt;div&gt;Message&nbsp;sent&nbsp;:CUSTOMER1&lt;/div&gt;&lt;div&gt;java.lang.NullPointerException&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here,&nbsp;inside&nbsp;handleMessage&nbsp;based&nbsp;on&nbsp;message&nbsp;I&nbsp;want&nbsp;get&nbsp;the&nbsp;results&nbsp;from&nbsp;DB&nbsp;and&nbsp;need&nbsp;to&nbsp;send&nbsp;back.&nbsp;Am&nbsp;confusing&nbsp;how&nbsp;set&nbsp;the&nbsp;response&nbsp;to&nbsp;that&nbsp;client(Producer)?&lt;/div&gt;<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Nov&nbsp;11,&nbsp;2013&nbsp;at&nbsp;8:57&nbsp;PM,&nbsp;Gary&nbsp;Russell&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:grussell@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;grussell@gopivotal.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Please&nbsp;read&nbsp;the&nbsp;documentation... &lt;a&nbsp;href=&quot;http://docs.spring.io/spring-amqp/reference/html/amqp.html#d4e460&quot;&nbsp;target=&quot;_blank&quot;&gt;http://docs.spring.io/spring-amqp/reference/html/amqp.html#d4e460&lt;/a&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;explains&nbsp;that,&nbsp;when&nbsp;you&nbsp;use&nbsp;a&nbsp;fixed&nbsp;reply&nbsp;queue,&nbsp;and&nbsp;roll&nbsp;your&nbsp;own&nbsp;configuration&nbsp;like&nbsp;this,&nbsp;you&nbsp;have&nbsp;to&nbsp;wire&nbsp;up&nbsp;a&nbsp;listener&nbsp;container&nbsp;for&nbsp;the&nbsp;replies&nbsp;(with&nbsp;the&nbsp;rabbitTemplate&nbsp;as&nbsp;the&nbsp;listener).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;use&nbsp;a&nbsp;listener-container&nbsp;on&nbsp;the&nbsp;consumer&nbsp;side&nbsp;(with&nbsp;a&nbsp;MessageListenerAdapter),&nbsp;it&nbsp;will&nbsp;automatically&nbsp;send&nbsp;the&nbsp;result&nbsp;to&nbsp;the&nbsp;replyTo.&nbsp;Your&nbsp;consumer&nbsp;can&nbsp;be&nbsp;a&nbsp;simple&nbsp;POJO&nbsp;method&nbsp;that&nbsp;returns&nbsp;a&nbsp;list&nbsp;of&nbsp;Objects.&nbsp;Use&nbsp;a&nbsp;JsonMessageConverter&nbsp;in&nbsp;the&nbsp;adapter&nbsp;to&nbsp;convert&nbsp;them&nbsp;to&nbsp;JSON.&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Nov&nbsp;11,&nbsp;2013&nbsp;at&nbsp;9:56&nbsp;AM,&nbsp;Rajasekhar&nbsp;P&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:sekhar434145@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;sekhar434145@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thank&nbsp;you&nbsp;Russell&nbsp;for&nbsp;the&nbsp;response.&nbsp;Still&nbsp;am&nbsp;stuck&nbsp;with&nbsp;achieving&nbsp;above&nbsp;program,&nbsp;could&nbsp;please&nbsp;tell&nbsp;where&nbsp;am&nbsp;failing&nbsp;while&nbsp;doing&nbsp;above&nbsp;code.&nbsp;Below&nbsp;is&nbsp;the&nbsp;code&nbsp;at&nbsp;producer&nbsp;end.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;CONFIGURATION&nbsp;-&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;public&nbsp;RabbitTemplate&nbsp;rabbitTemplate()&nbsp;{&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;RabbitTemplate&nbsp;template&nbsp;=&nbsp;new&nbsp;RabbitTemplate(connectionFactory());&lt;/div&gt;&lt;div&gt;<br>
&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;template.setRoutingKey(this.queueName);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;template.setQueue(this.queueName);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;template.setMessageConverter(new&nbsp;JsonMessageConverter());&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;return&nbsp;template;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;public&nbsp;ConnectionFactory&nbsp;connectionFactory()&nbsp;{&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;CachingConnectionFactory&nbsp;connectionFactory&nbsp;=&nbsp;new&nbsp;CachingConnectionFactory(&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&amp;quot;localhost&amp;quot;);&lt;/div&gt;&lt;div&gt;<br>
&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;connectionFactory.setUsername(&amp;quot;guest&amp;quot;);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;connectionFactory.setPassword(&amp;quot;guest&amp;quot;);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;return&nbsp;connectionFactory;&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;PRODUCER&nbsp;CODE&nbsp;-&nbsp; &nbsp; &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;String&nbsp;corrId&nbsp;=&nbsp;UUID.randomUUID().toString();&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;String&nbsp;replyQueueName&nbsp;=&nbsp;&lt;b&gt;channel&lt;/b&gt;.queueDeclare().getQueue();&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;MessageProperties&nbsp;prop&nbsp;=&nbsp;new&nbsp;MessageProperties();&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;prop.setCorrelationId(corrId.getBytes());&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;prop.setReplyTo(replyQueueName);&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;Message&nbsp;message&nbsp;=&nbsp;new&nbsp;Message(query.getBytes(),&nbsp;prop);&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;white-space:pre-wrap&quot;&gt;&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&lt;/span&gt;Message&nbsp;msg&nbsp;=&nbsp;rabbitTemplate.sendAndReceive(message);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;this&nbsp;correct&nbsp;at&nbsp;producer&nbsp;end?&nbsp;Here&nbsp;how&nbsp;to&nbsp;Channel&nbsp;to&nbsp;retrieve&nbsp;reqplyQueueName?&nbsp;Could&nbsp;you&nbsp;please&nbsp;correct&nbsp;me&nbsp;on&nbsp;this&nbsp;and&nbsp;please&nbsp;tell&nbsp;me&nbsp;how&nbsp;to&nbsp;write&nbsp;consumer&nbsp;code&nbsp;to&nbsp;send&nbsp;the&nbsp;result(List&nbsp;of&nbsp;Objects)&nbsp;in&nbsp;JSON&nbsp;format&nbsp;back&nbsp;to&nbsp;that&nbsp;particular&nbsp;request&nbsp;in&nbsp;replyqueue?&nbsp;Thanks&nbsp;in&nbsp;advance.&lt;/div&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Nov&nbsp;8,&nbsp;2013&nbsp;at&nbsp;7:20&nbsp;PM,&nbsp;Gary&nbsp;Russell&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:grussell@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;grussell@gopivotal.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;a&nbsp;href=&quot;http://docs.spring.io/spring-amqp/reference/html/amqp.html#request-reply&quot;&nbsp;target=&quot;_blank&quot;&gt;http://docs.spring.io/spring-amqp/reference/html/amqp.html#request-reply&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;simplest&nbsp;is&nbsp;to&nbsp;configure&nbsp;the&nbsp;RabbitTemplate&nbsp;to&nbsp;use&nbsp;a&nbsp;fixed&nbsp;reply&nbsp;queue,&nbsp;with&nbsp;a&nbsp;reply&nbsp;listener,&nbsp;and&nbsp;use&nbsp;one&nbsp;of&nbsp;it&amp;#39;s&nbsp;convertSendAndReceive(...)&nbsp;(or&nbsp;sendAndReceive)&nbsp;methods;&nbsp;the&nbsp;template&nbsp;will&nbsp;take&nbsp;care&nbsp;of&nbsp;the&nbsp;correlation.&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;you&nbsp;want&nbsp;to&nbsp;do&nbsp;it&nbsp;asynchronously&nbsp;and&nbsp;do&nbsp;your&nbsp;own&nbsp;correlation&nbsp;(get&nbsp;the&nbsp;reply&nbsp;asynchronously&nbsp;on&nbsp;another&nbsp;thread)&nbsp;just&nbsp;use&nbsp;one&nbsp;of&nbsp;the&nbsp;send()&nbsp;methods&nbsp;and&nbsp;wire&nbsp;up&nbsp;a&nbsp;listener&nbsp;container&nbsp;to&nbsp;get&nbsp;the&nbsp;results.&lt;br&gt;<br>
<br>
<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&gt;&lt;div&gt;On&nbsp;Fri,&nbsp;Nov&nbsp;8,&nbsp;2013&nbsp;at&nbsp;12:36&nbsp;AM,&nbsp;Rajasekhar&nbsp;P&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:sekhar434145@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;sekhar434145@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
<br>
&lt;/div&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;Team,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;are&nbsp;trying&nbsp;to&nbsp;make&nbsp;asynchronous&nbsp;call&nbsp;in&nbsp;RabbitMQ&nbsp;using&nbsp;Spring&nbsp;AMQP,&nbsp;could&nbsp;any&nbsp;one&nbsp;please&nbsp;tell&nbsp;me&nbsp;how&nbsp;to&nbsp;configure&nbsp;&lt;b&gt;replyqueue,&nbsp;correlationId,&nbsp;(properties)&nbsp;&lt;/b&gt;using&nbsp;spring&nbsp;amqp?&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
&lt;div&gt;&lt;pre&nbsp;style=&quot;background-color:rgb(238,238,238);padding:5px&nbsp;15px;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-right-radius:5px;border-bottom-left-radius:5px;color:rgb(85,85,85);font-size:13px;line-height:18px&quot;&gt;<br>
&nbsp;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;String&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;corrId&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;java&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;util&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;UUID&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;randomUUID&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;().&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;toString&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;();&lt;/span&gt;<br>
<br>
&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;&nbsp;BasicProperties&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;props&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;=&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;BasicProperties&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;Builder&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;()&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;correlationId&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;corrId&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;replyTo&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;replyQueueName&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;)&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;build&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;();&lt;/span&gt;<br>
<br>
&nbsp;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;channel&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;basicPublish&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(221,17,68)&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;requestQueueName&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;props&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;,&lt;/span&gt;&nbsp;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;message&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;.&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,128,128)&quot;&gt;getBytes&lt;/span&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;());&lt;/span&gt;<br>
&lt;/pre&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-weight:bold&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;Thanks&nbsp;in&nbsp;advance.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
