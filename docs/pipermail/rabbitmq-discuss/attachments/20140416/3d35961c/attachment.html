<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;I&nbsp;am&nbsp;banging&nbsp;my&nbsp;head&nbsp;on&nbsp;my&nbsp;desk&nbsp;the&nbsp;whole&nbsp;afternoon&nbsp;trying&nbsp;to&nbsp;figure&nbsp;this&nbsp;out.&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;publish&nbsp;a&nbsp;message&nbsp;into&nbsp;an&nbsp;MQTT&nbsp;topic&nbsp;using&nbsp;Eclipse&nbsp;MQTT&nbsp;Paho&nbsp;client,&nbsp;and&nbsp;receive&nbsp;it&nbsp;using&nbsp;RabbitMQ&nbsp;AMQP&nbsp;Java&nbsp;client.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;using&nbsp;RabbitMQ&nbsp;for&nbsp;Windows,&nbsp;version&nbsp;3.2.4.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From&nbsp;what&nbsp;I&nbsp;was&nbsp;reading,&nbsp;MQTT&nbsp;plug-in&nbsp;will&nbsp;publish&nbsp;into&nbsp;the&nbsp;default&nbsp;'amq.topic'&nbsp;exchange,&nbsp;and&nbsp;I&nbsp;can&nbsp;bind&nbsp;a&nbsp;queue&nbsp;to&nbsp;that&nbsp;exchange&nbsp;and&nbsp;start&nbsp;listening.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;publish&nbsp;a&nbsp;message&nbsp;into&nbsp;the&nbsp;exchange&nbsp;using&nbsp;AMQP&nbsp;client,&nbsp;the&nbsp;AMQP&nbsp;client&nbsp;on&nbsp;the&nbsp;receiving&nbsp;end&nbsp;will&nbsp;get&nbsp;it.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;I&nbsp;publish&nbsp;a&nbsp;message&nbsp;using&nbsp;MQTT&nbsp;client,&nbsp;another&nbsp;MQTT&nbsp;client&nbsp;on&nbsp;the&nbsp;receiving&nbsp;end&nbsp;will&nbsp;get&nbsp;it.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;But&nbsp;for&nbsp;the&nbsp;love&nbsp;of&nbsp;God&nbsp;I&nbsp;cannot&nbsp;get&nbsp;the&nbsp;cross-protocol&nbsp;to&nbsp;work.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&nbsp;is&nbsp;the&nbsp;MQTT&nbsp;client&nbsp;that&nbsp;publishes:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;MqttClient&nbsp;client;&lt;/p&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;try&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;{&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;=&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;new&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;MqttClient(&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;tcp://&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;+host+&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;:1883&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;,&nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;pahomqttpublish1&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;);&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client.connect();&lt;/p&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MqttMessage&nbsp;message&nbsp;=&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;new&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;MqttMessage(messageText.getBytes());&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client.publish(queueName,&nbsp;message);&lt;/p&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&lt;/font&gt;&lt;i&gt;&lt;font&nbsp;color=&quot;#0000c0&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#0000c0&quot;&nbsp;size=&quot;2&quot;&gt;out&lt;/font&gt;&lt;/font&gt;&lt;/i&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;.println(&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;&nbsp;[x]&nbsp;Sent&nbsp;to&nbsp;MQTT&nbsp;topic&nbsp;'&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;+queueName+&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;':&nbsp;&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;+&nbsp;message&nbsp;+&nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;'&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client.disconnect();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;catch&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;(MqttException&nbsp;e)&nbsp;{&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#3f7f5f&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#3f7f5f&quot;&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&lt;/font&gt;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f9fbf&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f9fbf&quot;&nbsp;size=&quot;2&quot;&gt;TODO&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;color=&quot;#3f7f5f&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#3f7f5f&quot;&nbsp;size=&quot;2&quot;&gt;&nbsp;Auto-generated&nbsp;catch&nbsp;block&lt;/font&gt;&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;color=&quot;#3f7f5f&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#3f7f5f&quot;&nbsp;size=&quot;2&quot;&gt;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.printStackTrace();&lt;/p&gt;&lt;p&gt;}&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;And&nbsp;here&nbsp;is&nbsp;the&nbsp;AMQP&nbsp;client&nbsp;that&nbsp;is&nbsp;supposed&nbsp;to&nbsp;receive&nbsp;it:&lt;/p&gt;&lt;p&gt;public&nbsp;static&nbsp;final&nbsp;String&nbsp;QUEUE_NAME=&quot;workerQueue&quot;;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;public&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;static&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;void&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;main(String[]&nbsp;args)&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;throws&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;IOException,&nbsp;InterruptedException&nbsp;{&lt;/font&gt;&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;ConnectionFactory&nbsp;factory&nbsp;=&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;new&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;ConnectionFactory();&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;factory.setHost(&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;localhost&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;);&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&gt;&nbsp;&nbsp;&nbsp;Connection&nbsp;connection&nbsp;=&nbsp;factory.newConnection();&lt;/p&gt;&lt;p&gt;&nbsp;&nbsp;&nbsp;Channel&nbsp;channel&nbsp;=&nbsp;connection.createChannel();&lt;/p&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;channel.queueDeclare(QUEUE_NAME&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;,&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;true&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;,&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;false&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;,&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;false&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;,&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;null&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;);&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;channel.queueBind(QUEUE_NAME&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;,&nbsp;&nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;amq.topic&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;,&nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;builds&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;);&lt;/font&gt;&lt;/p&gt;&lt;p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;System.&lt;/font&gt;&lt;i&gt;&lt;font&nbsp;color=&quot;#0000c0&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#0000c0&quot;&nbsp;size=&quot;2&quot;&gt;out&lt;/font&gt;&lt;/font&gt;&lt;/i&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;.println(&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;&nbsp;[*]&nbsp;Waiting&nbsp;for&nbsp;messages.&nbsp;To&nbsp;exit&nbsp;press&nbsp;CTRL+C&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;);&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;QueueingConsumer&nbsp;consumer&nbsp;=&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;new&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;QueueingConsumer(channel);&lt;/font&gt;&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;channel.basicConsume(QUEUE_NAME,&nbsp;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&gt;true&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;,&nbsp;consumer);&lt;/font&gt;&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;while&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;(&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;true&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;)&nbsp;{&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QueueingConsumer.Delivery&nbsp;delivery&nbsp;=&nbsp;consumer.nextDelivery();&lt;/p&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;message&nbsp;=&nbsp;&lt;/font&gt;&lt;b&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#7f0055&quot;&nbsp;size=&quot;2&quot;&gt;new&lt;/font&gt;&lt;/font&gt;&lt;/b&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;String(delivery.getBody());&lt;/font&gt;&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String&nbsp;routingKey&nbsp;=&nbsp;delivery.getEnvelope().getRoutingKey();&lt;/p&gt;&lt;/font&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System.&lt;/font&gt;&lt;i&gt;&lt;font&nbsp;color=&quot;#0000c0&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#0000c0&quot;&nbsp;size=&quot;2&quot;&gt;out&lt;/font&gt;&lt;/font&gt;&lt;/i&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;.println(&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;&nbsp;[x]&nbsp;Received&nbsp;'&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;+&nbsp;routingKey&nbsp;+&nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;':'&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&nbsp;+&nbsp;message&nbsp;+&nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&lt;font&nbsp;color=&quot;#2a00ff&quot;&nbsp;size=&quot;2&quot;&gt;&quot;'&quot;&lt;/font&gt;&lt;/font&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;);&lt;/font&gt;&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&nbsp;&nbsp;&nbsp;}&lt;/p&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;}&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;The&nbsp;client&nbsp;above&nbsp;will&nbsp;receive&nbsp;the&nbsp;message&nbsp;when&nbsp;published&nbsp;into&nbsp;&quot;amq.topic&quot;&nbsp;exchange&nbsp;by&nbsp;another&nbsp;AMQP&nbsp;client.&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;Anything&nbsp;stupid&nbsp;and&nbsp;obvious&nbsp;I&nbsp;am&nbsp;missing?&lt;/p&gt;&lt;p&nbsp;align=&quot;LEFT&quot;&gt;Dejan&lt;/p&gt;&lt;/font&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
