<tt>
&lt;div&gt;Hi&nbsp;Alexander,&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;the&nbsp;situation&nbsp;is&nbsp;where&nbsp;client&nbsp;connects,&nbsp;publishes,&nbsp;and&nbsp;disconnects.&nbsp;2nd&nbsp;client&nbsp;comes&nbsp;along&nbsp;to&nbsp;consume&nbsp;message,&nbsp;and&nbsp;fails&nbsp;in&nbsp;some&nbsp;task&nbsp;it&nbsp;tries&nbsp;to&nbsp;do&nbsp;on&nbsp;the&nbsp;data&nbsp;(i.e.&nbsp;message&nbsp;is&nbsp;returned&nbsp;to&nbsp;the&nbsp;queue).&nbsp;3rd&nbsp;client&nbsp;intervenes&nbsp;(i.e.&nbsp;me&nbsp;manually&nbsp;during&nbsp;test&nbsp;phase&nbsp;with&nbsp;a&nbsp;little&nbsp;script),&nbsp;and&nbsp;wants&nbsp;to&nbsp;clear&nbsp;out&nbsp;all&nbsp;messages&nbsp;that&nbsp;are&nbsp;hanging&nbsp;around&nbsp;on&nbsp;the&nbsp;broker.&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;Your&nbsp;test&nbsp;sounds&nbsp;like&nbsp;purge&nbsp;works&nbsp;for&nbsp;the&nbsp;1st&nbsp;client&nbsp;in&nbsp;the&nbsp;above&nbsp;example,&nbsp;but&nbsp;not&nbsp;for&nbsp;the&nbsp;3rd.&nbsp;&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;Probably&nbsp;I&amp;#39;m&nbsp;not&nbsp;understanding&nbsp;what&nbsp;you&nbsp;intended&nbsp;purge&nbsp;for.&nbsp;Could&nbsp;you&nbsp;help&nbsp;me&nbsp;out&nbsp;with&nbsp;this&nbsp;scenario?&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;thanks,&lt;/div&gt;<br>
&lt;div&gt;-Steven&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;22&nbsp;December&nbsp;2010&nbsp;15:04,&nbsp;Alexandru&nbsp;Scvorţov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:alexandru@rabbitmq.com&quot;&gt;alexandru@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;style=&quot;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;PADDING-LEFT:&nbsp;1ex&quot;&nbsp;class=&quot;gmail_quote&quot;&gt;Hi,&lt;br&gt;&lt;br&gt;Using&nbsp;our&nbsp;.NET&nbsp;client,&nbsp;declaring&nbsp;a&nbsp;queue,&nbsp;then&nbsp;immediately&nbsp;purging&nbsp;it&lt;br&gt;works&nbsp;as&nbsp;expected.&lt;br&gt;<br>
&lt;br&gt;Could&nbsp;you&nbsp;supply&nbsp;the&nbsp;code&nbsp;that&amp;#39;s&nbsp;causing&nbsp;the&nbsp;problem?&lt;br&gt;&lt;br&gt;Cheers,&lt;br&gt;Alex&lt;br&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;On&nbsp;Wed,&nbsp;Dec&nbsp;22,&nbsp;2010&nbsp;at&nbsp;02:37:50PM&nbsp;+0000,&nbsp;Steven&nbsp;Taylor&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;update:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp; code:&nbsp;ch.QueuePurge(queueName,false);&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;The&nbsp;AMQP&nbsp;operation&nbsp;was&nbsp;interrupted:&nbsp;AMQP&nbsp;close-reason,&nbsp;initiated&nbsp;by&nbsp;Peer,&lt;br&gt;<br>
&amp;gt;&nbsp;code=404,&nbsp;text=&amp;quot;NOT_FOUND&nbsp;-&nbsp;no&nbsp;queue&nbsp;&amp;#39;m.w&amp;#39;&nbsp;in&nbsp;vhost&nbsp;&amp;#39;/&amp;#39;&amp;quot;,&nbsp;classId=50,&lt;br&gt;&amp;gt;&nbsp;methodId=30,&nbsp;cause=&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;First&nbsp;off,&nbsp;this&nbsp;error&nbsp;relates&nbsp;to&nbsp;an&nbsp;exchange&nbsp;routing&nbsp;key,&nbsp;so&nbsp;slightly&lt;br&gt;&amp;gt;&nbsp;expected.&nbsp;What&nbsp;wasn&amp;#39;t&nbsp;expected&nbsp;was&nbsp;the&nbsp;error&nbsp;message&nbsp;should&nbsp;have&nbsp;had&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;right&nbsp;queue&nbsp;name&nbsp;&amp;#39;m.w.ctr&amp;#39;.&nbsp; &amp;#39;m.w&amp;#39;&nbsp;is&nbsp;the&nbsp;queue&nbsp;(not&nbsp;bound&nbsp;to&nbsp;an&nbsp;exchange)&lt;br&gt;&amp;gt;&nbsp;that&nbsp;failed&nbsp;earlier&nbsp;when&nbsp;I&nbsp;tried&nbsp;to&nbsp;purge&nbsp;it&nbsp;because&nbsp;it&nbsp;wasn&amp;#39;t&nbsp;yet&nbsp;created.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;let&nbsp;me&nbsp;try&nbsp;something&nbsp;else...&lt;br&gt;<br>
&amp;gt;&lt;br&gt;&amp;gt;&nbsp;If&nbsp;I&nbsp;first&nbsp;create&nbsp;the&nbsp;queue&nbsp;&amp;#39;m.w&amp;#39;&nbsp;and&nbsp;then&nbsp;attempted&nbsp;to&nbsp;purge&nbsp;it,&nbsp;I&nbsp;still&lt;br&gt;&amp;gt;&nbsp;get&nbsp;the&nbsp;same&nbsp;error&nbsp;message&nbsp;as&nbsp;above.&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Is&nbsp;anybody&nbsp;else&nbsp;seeing&nbsp;this&nbsp;behaviour?&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;thanks,&lt;br&gt;<br>
&amp;gt;&nbsp;-Steven&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;On&nbsp;22&nbsp;December&nbsp;2010&nbsp;13:32,&nbsp;Steven&nbsp;Taylor&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:taylste@gmail.com&quot;&gt;taylste@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Hi,&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;is&nbsp;there&nbsp;equivilent&nbsp;to&nbsp;purge&nbsp;queue&nbsp;for&nbsp;an&nbsp;exchange?&nbsp; If&nbsp;we&nbsp;can&amp;#39;t&nbsp;already,&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;it&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;be&nbsp;able&nbsp;to&nbsp;purge&nbsp;with&nbsp;a&nbsp;routing&nbsp;key.&nbsp; I&nbsp;see&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;an&nbsp;ExchangeDelete.&nbsp;Perhaps&nbsp;I&nbsp;should&nbsp;delete&nbsp;and&nbsp;then&nbsp;redeclare.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;Currently&nbsp;I&amp;#39;m&nbsp;using&nbsp;non-durable&nbsp;queues,&nbsp;and&nbsp;taking&nbsp;down&nbsp;the&nbsp;broker&nbsp;+&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;gt;&nbsp;restarting&nbsp;it.&nbsp;I&nbsp;just&nbsp;wanted&nbsp;something&nbsp;a&nbsp;little&nbsp;simpler&nbsp;to&nbsp;execute.&nbsp;This&nbsp;is&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;a&nbsp;test&nbsp;phase&nbsp;request.&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;thanks,&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&nbsp;-Steven&lt;br&gt;&amp;gt;&nbsp;&amp;gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;h5&quot;&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
