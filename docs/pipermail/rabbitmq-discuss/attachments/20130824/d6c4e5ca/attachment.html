<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;You&nbsp;need&nbsp;to&nbsp;send&nbsp;a&nbsp;basic.recover&nbsp;method&nbsp;(amqp_basic_recover()).&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/amqp-0-9-1-reference.html#basic.recover&quot;&gt;http://www.rabbitmq.com/amqp-0-9-1-reference.html#basic.recover&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Aug&nbsp;24,&nbsp;2013&nbsp;at&nbsp;6:57&nbsp;AM,&nbsp;3k4b251&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:314992959@qq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;314992959@qq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt; &nbsp;I&nbsp; send&nbsp; a&nbsp; durable&nbsp; message&nbsp; to&nbsp; &nbsp;queue:&nbsp; 123456&nbsp; .&lt;br&gt;<br>
Then&nbsp; I&nbsp; &nbsp;use&nbsp; &nbsp;amqp_basic_consume(...,123456,tag,..).&lt;br&gt;<br>
Then&nbsp; &nbsp;I&nbsp; receive&nbsp; the&nbsp; message&nbsp; and&nbsp; &nbsp;delivery_tag.&lt;br&gt;<br>
the&nbsp;message&nbsp; will&nbsp;be&nbsp;still&nbsp; alive&nbsp; in&nbsp; the&nbsp; queue&nbsp; if&nbsp; I&nbsp; not&nbsp; &nbsp;use&lt;br&gt;<br>
amqp_basic_ack(...,delivery_tag).&lt;br&gt;<br>
Then&nbsp;I&nbsp;use&nbsp; amqp_basic_cancel(tag)&nbsp; to&nbsp;remove&nbsp;queue&nbsp;listener&nbsp;without&nbsp; use&lt;br&gt;<br>
amqp_basic_ack()&nbsp;before;&lt;br&gt;<br>
Then&nbsp;I&nbsp;use&nbsp; amqp_basic_consume(123456,tag)&nbsp; twice.&nbsp;It&amp;#39;s&nbsp; seems&nbsp; like&nbsp;that&lt;br&gt;<br>
the&nbsp;server&nbsp; didn&amp;#39;t&nbsp; push&nbsp;the&nbsp;message&nbsp; to&nbsp;me&nbsp;.&lt;br&gt;<br>
So&nbsp; I&nbsp; restart&nbsp;the&nbsp;connection&nbsp;to&nbsp;server.&nbsp;Then&nbsp; use&lt;br&gt;<br>
amqp_basic_consume(123456,tag).&nbsp; server&nbsp;push&nbsp;message&nbsp; to&nbsp;me&nbsp;.&lt;br&gt;<br>
 &nbsp;So&nbsp; I&nbsp;just&nbsp;want&nbsp;to&nbsp;know&nbsp;,&nbsp; if&nbsp; I&nbsp; lose&nbsp;the&nbsp; message&nbsp; ack,&nbsp;how&nbsp; can&nbsp; I&nbsp;get&lt;br&gt;<br>
the&nbsp;message&nbsp; again&nbsp;by&nbsp;the&nbsp;same&nbsp;consumer&nbsp;?&nbsp;Only&nbsp;to&nbsp; restart&nbsp;connection&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://rabbitmq.1065348.n5.nabble.com/rabbitmq-c-can-t-recieve-message-tp29061.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://rabbitmq.1065348.n5.nabble.com/rabbitmq-c-can-t-recieve-message-tp29061.html&lt;/a&gt;&lt;br&gt;<br>
<br>
Sent&nbsp;from&nbsp;the&nbsp;RabbitMQ&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
