<tt>
The&nbsp;rabbitmq-c&nbsp;client&nbsp;does&nbsp;not&nbsp;support&nbsp;AMQP&nbsp;heartbeats.&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-Alan&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Dec&nbsp;2,&nbsp;2012&nbsp;at&nbsp;3:44&nbsp;AM,&nbsp;Dawn&nbsp;L&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:dawn_l2012@yahoo.com&quot;&nbsp;target=&quot;_blank&quot;&gt;dawn_l2012@yahoo.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&nbsp;style=&quot;font-size:12pt;font-family:times&nbsp;new&nbsp;roman,new&nbsp;york,times,serif&quot;&gt;&lt;div&gt;I&amp;#39;m&nbsp;writing&nbsp;RabbitMQ&nbsp;C-client&nbsp;code. After&nbsp;I turn&nbsp;on&nbsp;the&nbsp;heartbeat&nbsp;option with&nbsp;the&nbsp;&amp;quot;heartbeat&amp;quot;&nbsp;parameter&nbsp;in&nbsp;amqp_login()&nbsp;function -&nbsp;i.e.,&nbsp;passing&nbsp;a&nbsp;value&nbsp;10&nbsp;(seconds)&nbsp;instead&nbsp;of&nbsp;0&nbsp;when&nbsp;calling&nbsp;amqp_login()&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;amqp_rpc_reply_t&nbsp;amqp_login&nbsp;&lt;/div&gt;<br>
&lt;div&gt;   &nbsp;(&nbsp;amqp_connection_state_t&nbsp;state,&lt;/div&gt;<br>
&lt;div&gt;     &nbsp;char&nbsp;const&nbsp;*vhost,&lt;/div&gt;<br>
&lt;div&gt;     &nbsp;int&nbsp;channel_max,&lt;/div&gt;<br>
&lt;div&gt;     &nbsp;uint32_t&nbsp;frame_max,&lt;/div&gt;<br>
&lt;div&gt;     &nbsp;int&nbsp;heartbeat,&lt;/div&gt;<br>
&lt;div&gt;      amqp_sasl_method_enum&nbsp;sasl_method,&lt;/div&gt;<br>
&lt;div&gt;     &nbsp;...&nbsp;) &lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;My&nbsp;C-client can&nbsp;start&nbsp;to&nbsp;receive&nbsp;heartbeat&nbsp;message&nbsp;(the&nbsp;message&nbsp;has frame_type&nbsp;&amp;quot;AMQP_FRAME_HEARTBEAT&amp;quot;).&nbsp;However,&nbsp;after&nbsp;getting&nbsp;the&nbsp;heartbeat&nbsp;messages&nbsp;for&nbsp;two&nbsp;times,&nbsp;the&nbsp;connection&nbsp;and&nbsp;channels&nbsp;opened&nbsp;by&nbsp;my&nbsp;client&nbsp;have&nbsp;been abruptly&nbsp;closed&nbsp;by&nbsp;the&nbsp;server.&nbsp;From&nbsp;what&nbsp;I&nbsp;read&nbsp;in&nbsp;the&nbsp;past&nbsp;articals,&nbsp;if&nbsp;the&nbsp;client&nbsp;sends&nbsp;any&nbsp;kind&nbsp;of&nbsp;message&nbsp;to&nbsp;server&nbsp;before&nbsp;the&nbsp;timeout,&nbsp;the&nbsp;connection&nbsp;shouldn&amp;#39;t&nbsp;be&nbsp;closed.&nbsp;However,&nbsp;this is&nbsp;not&nbsp;the&nbsp;case for&nbsp;me&nbsp;-&nbsp;I&amp;#39;ve&nbsp;tried&nbsp;to respond&nbsp;with either&nbsp;normal&nbsp;messages&nbsp;(via&nbsp;normal&nbsp;channel),&nbsp;or&nbsp;frames&nbsp;with&nbsp;frame&nbsp;type&nbsp;AMQP_&lt;var&gt;&lt;/var&gt;FRAME_HEARTBEAT (via&nbsp;channel&nbsp;0) right&nbsp;after the&nbsp;client received&nbsp;the&nbsp;heartbead&nbsp;message,&nbsp;but&nbsp;the connection&nbsp;is&nbsp;still closed&nbsp;by&nbsp;the&nbsp;server&nbsp;regardless.&lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;Is it&nbsp;because&nbsp;the&nbsp;heartbeat functionality&nbsp;has&nbsp;not&nbsp;been fully&nbsp;implemented&nbsp;yet?&nbsp;Or&nbsp;is&nbsp;there&nbsp;any&nbsp;special&nbsp;kind&nbsp;of&nbsp;message&nbsp;that&nbsp;should&nbsp;be&nbsp;send&nbsp;as&nbsp;response&nbsp;message&nbsp;to&nbsp;the&nbsp;heartbeat&nbsp;message?&nbsp;If it&amp;#39;s&nbsp;the&nbsp;second&nbsp;case,&nbsp;can&nbsp;you&nbsp;provide&nbsp;sample&nbsp;code for&nbsp;reponse&nbsp;message? &lt;/div&gt;<br>
<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;Thanks a&nbsp;lot,&lt;/div&gt;<br>
&lt;div&gt;Dawn &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
