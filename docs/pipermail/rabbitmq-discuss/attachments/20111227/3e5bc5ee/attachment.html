<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;My two&nbsp;nodes&nbsp;cluster in production&nbsp;are&nbsp;breaking&nbsp;with&nbsp;these&nbsp;error&nbsp;messages:&lt;div&gt;&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#ff6666&quot;&gt;=ERROR&nbsp;REPORT====&nbsp;23-Dec-2011::04:21:34&nbsp;===&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#ff6666&quot;&gt;**&nbsp;Node&nbsp;rabbit@rabbitmq02&nbsp;not&nbsp;responding&nbsp;**&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;color=&quot;#ff6666&quot;&gt;**&nbsp;Removing&nbsp;(timedout)&nbsp;connection&nbsp;**&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#ff6666&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#ff6666&quot;&gt;=INFO&nbsp;REPORT====&nbsp;23-Dec-2011::04:21:35&nbsp;===&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#ff6666&quot;&gt;node&nbsp;rabbit@rabbitmq02&nbsp;lost&nbsp;&amp;#39;rabbit&amp;#39;&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;color=&quot;#ff6666&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#ff6666&quot;&gt;=ERROR&nbsp;REPORT====&nbsp;23-Dec-2011::04:21:49&nbsp;===&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;color=&quot;#ff6666&quot;&gt;Mnesia(rabbit@rabbitmq01):&nbsp;**&nbsp;ERROR&nbsp;**&nbsp;mnesia_event&nbsp;got&nbsp;{inconsistent_database,&nbsp;running_partitioned_network,&nbsp;rabbit@rabbitmq02}&lt;/font&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;tried&nbsp;to&nbsp;simulate&nbsp;the&nbsp;problem&nbsp;by&nbsp;killing&nbsp;the&nbsp;connection&nbsp;between&nbsp;the&nbsp;two&nbsp;nodes&nbsp;using&nbsp;&amp;quot;tcpkill&amp;quot;,&lt;/div&gt;&lt;div&gt;the&nbsp;cluster&nbsp;has&nbsp;disconnected,and&nbsp;surprisingly&nbsp;the&nbsp;two&nbsp;nodes&nbsp;are&nbsp;not&nbsp;trying&nbsp;to&nbsp;reconnect&nbsp;!&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;the&nbsp;cluster&nbsp;breaks,&nbsp;haproxy&nbsp;load&nbsp;balancer&nbsp;still&nbsp;marks&nbsp;both&nbsp;nodes&nbsp;as&nbsp;active&nbsp;and&nbsp;send&nbsp;request&nbsp;to&nbsp;both&nbsp;of&nbsp;them,&lt;/div&gt;&lt;div&gt;although&nbsp;they&nbsp;are&nbsp;not&nbsp;in&nbsp;a&nbsp;cluster.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;Questions:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;If&nbsp;the&nbsp;nodes&nbsp;are&nbsp;configured&nbsp;to&nbsp;work&nbsp;as&nbsp;a&nbsp;cluster,&nbsp;when&nbsp;I&nbsp;get&nbsp;a&nbsp;network&nbsp;failure&nbsp;,&nbsp;why&nbsp;aren&amp;#39;t&nbsp;they&nbsp;trying&nbsp;to&nbsp;reconnect&nbsp;after&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;2.&nbsp;How&nbsp;can&nbsp;I identify broken&nbsp;cluster&nbsp;and&nbsp;automatic&nbsp;shutdown&nbsp;one&nbsp;of&nbsp;the&nbsp;nodes&nbsp;?&lt;/div&gt;<br>
&lt;div&gt;(I&nbsp;have consistency problems&nbsp;when&nbsp;working&nbsp;with&nbsp;the&nbsp;two&nbsp;nodes&nbsp;separately)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Urgent,&nbsp;please&nbsp;help&nbsp;!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
