<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;well, &lt;div&gt;It&nbsp;would&nbsp;be&nbsp;strange&nbsp;if&nbsp;we&nbsp;do. &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;direction:&nbsp;ltr;&quot;&gt;What&nbsp;I basically see&nbsp;is&nbsp;that&nbsp;we&nbsp;start&nbsp;listening&nbsp;on&nbsp;the&nbsp;receiving&nbsp;app (subscriber)  as&nbsp;follows: &lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; boolean&nbsp;durable&nbsp;=&nbsp;false;&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; final&nbsp;boolean&nbsp;mandatory&nbsp;=&nbsp;true;&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; final&nbsp;boolean&nbsp;immediate&nbsp;=&nbsp;true;&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; channel.exchangeDeclare(exchangeName,&nbsp;&amp;quot;direct&amp;quot;,&nbsp;durable,&nbsp;mandatory,&nbsp;immediate,&nbsp;new&nbsp;HashMap&amp;lt;String,&nbsp;Object&amp;gt;());&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; channel.queueDeclare(queueName,&nbsp;durable);&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; channel.queueBind(queueName,&nbsp;exchangeName,&nbsp;routingKey);&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; boolean&nbsp;noAck&nbsp;=&nbsp;true;&lt;/div&gt;&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; queueingConsumer&nbsp;=&nbsp;new&nbsp;QueueingConsumer(channel);&lt;/div&gt;<br>
&lt;div&gt;  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; channel.basicConsume(queueName,&nbsp;noAck,&nbsp;queueingConsumer);&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;the&nbsp;sender&nbsp;uses &lt;/div&gt;&lt;div&gt;&lt;br&gt;channel.basicPublish(exchangeName,&nbsp;routingKey,&nbsp;MessageProperties.MINIMAL_BASIC,&nbsp;messageBodyBytes);&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Feb&nbsp;24,&nbsp;2011&nbsp;at&nbsp;4:31&nbsp;PM,&nbsp;Matthew&nbsp;Sackman&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthew@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;matthew@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&gt;On&nbsp;Thu,&nbsp;Feb&nbsp;24,&nbsp;2011&nbsp;at&nbsp;04:27:08PM&nbsp;+0200,&nbsp;mysurf&nbsp;mail&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;reply-code=406,reply-text=PRECONDITION_FAILED&nbsp;-&nbsp;unknown&nbsp;delivery&nbsp;tag&lt;br&gt;<br>
&amp;gt;&nbsp;1,class-id=60,method-id=80),null,&amp;quot;&amp;quot;}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Older&nbsp;versions&nbsp;of&nbsp;Rabbit&nbsp;didn&amp;#39;t&nbsp;error&nbsp;if&nbsp;you&nbsp;acked&nbsp;the&nbsp;same&nbsp;message&lt;br&gt;<br>
multiple&nbsp;times.&nbsp;Currenty&nbsp;versions&nbsp;do,&nbsp;in&nbsp;order&nbsp;to&nbsp;conform&nbsp;with&nbsp;the&nbsp;AMQP&lt;br&gt;<br>
0-9-1&nbsp;spec.&nbsp;It&amp;#39;s&nbsp;very&nbsp;likely&nbsp;you&amp;#39;re&nbsp;acknowledging&nbsp;the&nbsp;same&nbsp;message&lt;br&gt;<br>
multiple&nbsp;times&nbsp;in&nbsp;order&nbsp;to&nbsp;get&nbsp;this&nbsp;error&nbsp;message.&lt;br&gt;<br>
&lt;br&gt;<br>
Can&nbsp;you&nbsp;check&nbsp;your&nbsp;application&nbsp;to&nbsp;see&nbsp;if&nbsp;this&nbsp;is&nbsp;the&nbsp;case?&lt;br&gt;<br>
&lt;br&gt;<br>
Best&nbsp;wishes,&lt;br&gt;<br>
&lt;br&gt;<br>
Matthew&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
