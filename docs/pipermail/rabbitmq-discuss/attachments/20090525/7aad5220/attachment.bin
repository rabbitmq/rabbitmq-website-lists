--- /home/mike/download/Apigen.cs	2009-05-25 16:27:47.000000000 +0100
+++ rabbitmq-dotnet-client-1.5.3/src/apigen/Apigen.cs	2009-05-25 16:21:48.000000000 +0100
@@ -166,6 +166,7 @@
         public int majorVersion;
         public int minorVersion;
         public string apiName;
+        private bool emitComments = false;
 
         public Type modelType = typeof(RabbitMQ.Client.Impl.IFullModel);
 	public ArrayList modelTypes = new ArrayList();
@@ -206,6 +207,8 @@
                 versionOverridden = true;
                 majorVersion = int.Parse(parts[0]);
                 minorVersion = int.Parse(parts[1]);
+            } else if (opt == "/c") {
+                emitComments = true;
             } else {
                 Console.Error.WriteLine("Unsupported command-line option: " + opt);
                 Usage();
@@ -218,6 +221,7 @@
             Console.Error.WriteLine("    /apiName:<identifier>");
             Console.Error.WriteLine("    /n:<name.space.prefix>");
             Console.Error.WriteLine("    /v:<majorversion>-<minorversion>");
+            Console.Error.WriteLine("    /c");
             Console.Error.WriteLine("  The apiName option is required.");
             Environment.Exit(1);
         }
@@ -384,10 +388,12 @@
             foreach (AmqpMethod m in c.Methods) {
                 EmitAutogeneratedSummary("  ",
                                          "AMQP specification method \""+c.Name+"."+m.Name+"\".");
-                EmitLine(m.DocumentationCommentVariant("  ", "remarks"));
+                if (emitComments)
+                    EmitLine(m.DocumentationCommentVariant("  ", "remarks"));
                 EmitLine("  public interface I"+MangleMethodClass(c, m)+": IMethod {");
                 foreach (AmqpField f in m.Fields) {
-                    EmitLine(f.DocumentationComment("    "));
+                    if (emitComments)
+                        EmitLine(f.DocumentationComment("    "));
                     EmitLine("    "+MapDomain(f.Domain)+" "+MangleClass(f.Name)+" { get; }");
                 }
                 EmitLine("  }");
@@ -426,7 +432,8 @@
             EmitAutogeneratedSummary("  ",
                                      "AMQP specification content header properties for "+
                                      "content class \""+c.Name+"\"");
-            EmitLine(c.DocumentationCommentVariant("  ", "remarks"));
+            if (emitComments)
+                EmitLine(c.DocumentationCommentVariant("  ", "remarks"));
             EmitLine("  public class "+MangleClass(c.Name)
                      +"Properties: "+propertiesBaseClass+" {");
             foreach (AmqpField f in c.Fields) {
@@ -440,7 +447,8 @@
             }
             EmitLine("");
             foreach (AmqpField f in c.Fields) {
-                EmitLine(f.DocumentationComment("    ", "@label"));
+                if (emitComments)
+                    EmitLine(f.DocumentationComment("    ", "@label"));
                 EmitLine("    public "+maybeOverride+MapDomain(f.Domain)+" "+MangleClass(f.Name)+" {");
                 EmitLine("      get {");
                 EmitLine("        return m_"+MangleMethod(f.Name)+";");