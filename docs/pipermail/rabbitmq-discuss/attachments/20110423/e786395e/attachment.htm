<tt>
&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#a0a0a0;&quot;&gt;On&nbsp;Saturday,&nbsp;April&nbsp;23,&nbsp;2011&nbsp;at&nbsp;6:16&nbsp;AM,&nbsp;can&nbsp;xiang&nbsp;wrote:&lt;/p&gt;&nbsp;--&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#a0a0a0;&quot;&gt;On&nbsp;Saturday,&nbsp;April&nbsp;23,&nbsp;2011&nbsp;at&nbsp;6:16&nbsp;AM,&nbsp;can&nbsp;xiang&nbsp;wrote:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;div&gt;&lt;div&gt;5.&nbsp;no_ack&nbsp;=&nbsp;True&lt;br&gt;6.&nbsp;SimpleReconnectionStrategy&nbsp;for&nbsp;reconnection&lt;br&gt;&lt;br&gt;When&nbsp;I'm&nbsp;testing&nbsp;the&nbsp;server&nbsp;die&nbsp;scenario.&nbsp;I&nbsp;found&nbsp;three&nbsp;issues:&lt;br&gt;<br>
&lt;br&gt;ISSUE&nbsp;1:&lt;br&gt;=======&lt;br&gt;Stop&nbsp;rabbitmq&nbsp;server,&nbsp;tornado&nbsp;application&nbsp;raises&nbsp;the&nbsp;following&nbsp;exception&nbsp;and&nbsp;become&nbsp;not&nbsp;responsive:&lt;br&gt;&lt;br&gt;error:&nbsp;[Errno&nbsp;111]&nbsp;Connection&nbsp;refused&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;Hmm&nbsp;interesting&nbsp;point&nbsp;in&nbsp;that.&nbsp;I&nbsp;don't&nbsp;think&nbsp;I've&nbsp;used&nbsp;the&nbsp;SRS+Tornado&nbsp;combination.&nbsp;&amp;nbsp;The&nbsp;exception&nbsp;is&nbsp;expected.&nbsp;&amp;nbsp;Please&nbsp;open&nbsp;an&nbsp;issue&nbsp;at&nbsp;http://github.com/pika/pika&nbsp;and&nbsp;I'll&nbsp;see&nbsp;if&nbsp;I&nbsp;can&nbsp;get&nbsp;a&nbsp;fix&nbsp;so&nbsp;SRS&nbsp;can&nbsp;work.&amp;nbsp;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;&lt;span&gt;&lt;div&gt;&lt;div&gt;ISSUE2:&lt;br&gt;=======&lt;br&gt;I&nbsp;tested&nbsp;800&nbsp;messages,&nbsp;with&nbsp;slow&nbsp;consumer.&nbsp;while&nbsp;it&nbsp;runs,&nbsp;stop&nbsp;rabbitmq-server&nbsp;with&nbsp;Ctrl+C,&nbsp;consumer&nbsp;is&nbsp;able&nbsp;to&nbsp;continuing&nbsp;consuming&nbsp;message&nbsp;and&nbsp;finish&nbsp;all&nbsp;800&nbsp;messages,&nbsp;then&nbsp;it&nbsp;EXIT.&lt;br&gt;<br>
&lt;br&gt;It's&nbsp;very&nbsp;weird&nbsp;indeed,&nbsp;because&nbsp;the&nbsp;server&nbsp;already&nbsp;gone.&nbsp;Is&nbsp;there&nbsp;any&nbsp;incoming&nbsp;message&nbsp;buffer&nbsp;in&nbsp;pika?&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;There&nbsp;is&nbsp;an&nbsp;inbound&nbsp;buffer.&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;&lt;span&gt;&lt;div&gt;&lt;div&gt;How&nbsp;many&nbsp;messages&nbsp;can&nbsp;be&nbsp;buffered?&nbsp;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;Never&nbsp;tested&nbsp;for&nbsp;an&nbsp;upward&nbsp;limit&nbsp;on&nbsp;this.&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;&lt;span&gt;&lt;div&gt;&lt;div&gt;Are&nbsp;those&nbsp;message&nbsp;stored&nbsp;in&nbsp;memory?&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;Yes&lt;/div&gt;&lt;div&gt;&amp;nbsp;Is&nbsp;it&nbsp;possible&nbsp;to&nbsp;configure&nbsp;the&nbsp;memory&nbsp;usage?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;No.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;would&nbsp;switch&nbsp;to&nbsp;using&nbsp;Basic.Ack&nbsp;and&nbsp;control&nbsp;when&nbsp;you&nbsp;get&nbsp;a&nbsp;message&nbsp;instead&nbsp;of&nbsp;have&nbsp;the&nbsp;server&nbsp;throw&nbsp;them&nbsp;at&nbsp;you.&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;&lt;span&gt;&lt;div&gt;&lt;div&gt;<br>
&lt;br&gt;ISSUE3:&lt;br&gt;=======&lt;br&gt;In&nbsp;my&nbsp;use&nbsp;case,&nbsp;it's&nbsp;very&nbsp;important&nbsp;the&nbsp;tornado&nbsp;application&nbsp;wouldn't&nbsp;die&nbsp;for&nbsp;any&nbsp;reason.&nbsp;If&nbsp;there&nbsp;is&nbsp;anything&nbsp;bad&nbsp;happened&nbsp;to&nbsp;the&nbsp;rabbitmq-server&nbsp;or&nbsp;connection,&nbsp;messaging&nbsp;system&nbsp;can&nbsp;be&nbsp;down-graded&nbsp;as&nbsp;a&nbsp;not&nbsp;functioning&nbsp;part,&nbsp;which&nbsp;can&nbsp;go&nbsp;back&nbsp;automatically&nbsp;when&nbsp;server&nbsp;issues&nbsp;resolved.&nbsp;The&nbsp;long&nbsp;running&nbsp;consuming&nbsp;process&nbsp;shouldn't&nbsp;die&nbsp;or&nbsp;exit&nbsp;when&nbsp;server&nbsp;died&nbsp;or&nbsp;connection&nbsp;broken.&nbsp;Is&nbsp;this&nbsp;requirement&nbsp;sensible&nbsp;enough?&nbsp;&lt;br&gt;<br>
&lt;br&gt;I&nbsp;hope&nbsp;SimpleReconnectionStrategy&nbsp;works&nbsp;for&nbsp;my&nbsp;case,&nbsp;which&nbsp;is&nbsp;not.&nbsp;Is&nbsp;there&nbsp;anything&nbsp;wrong&nbsp;in&nbsp;my&nbsp;application&nbsp;code?&nbsp;Or&nbsp;I&nbsp;just&nbsp;roll&nbsp;my&nbsp;own&nbsp;one,&nbsp;any&nbsp;suggestion&nbsp;on&nbsp;how&nbsp;to&nbsp;do&nbsp;it?&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;div&gt;It&nbsp;should,&nbsp;I&nbsp;think&nbsp;I'm&nbsp;missing&nbsp;catching&nbsp;the&nbsp;exception&nbsp;here.&nbsp;&amp;nbsp;Please&nbsp;open&nbsp;the&nbsp;issue&nbsp;and&nbsp;I'll&nbsp;see&nbsp;if&nbsp;we&nbsp;can&nbsp;get&nbsp;a&nbsp;fix&nbsp;into&nbsp;0.9.6&nbsp;which&nbsp;is&nbsp;ready&nbsp;to&nbsp;be&nbsp;released&nbsp;pending&nbsp;documentation&nbsp;updates.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Gavin&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;
</tt>
