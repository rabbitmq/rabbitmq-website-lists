<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;On&nbsp;my&nbsp;application,&nbsp;after&nbsp;calling&nbsp;IModel.BasicPublish();&nbsp;,&nbsp;if&nbsp;I&nbsp;call&nbsp;IModel.Close()&nbsp;afterwards&nbsp;the&nbsp;app&nbsp;blocks.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;my&nbsp;development&nbsp;machine&nbsp;I&nbsp;noticed&nbsp;that&nbsp;the&nbsp;call&nbsp;unlocks&nbsp;and&nbsp;proceeds&nbsp;when&nbsp;I&nbsp;free&nbsp;disk&nbsp;space&nbsp;above&nbsp;threshold&nbsp;(that's&nbsp;how&nbsp;I&nbsp;figured&nbsp;out&nbsp;that&nbsp;it&nbsp;was&nbsp;the&nbsp;Flow&nbsp;Control&nbsp;mechanism&nbsp;that&nbsp;blocked&nbsp;my&nbsp;connection).&nbsp;In&nbsp;the&nbsp;production&nbsp;environment&nbsp;I&nbsp;need&nbsp;my&nbsp;clients&nbsp;not&nbsp;to&nbsp;block&nbsp;when&nbsp;this&nbsp;happens.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;According&nbsp;to&nbsp;this&nbsp;&lt;a&nbsp;href=&quot;https://www.rabbitmq.com/memory.html&quot;&gt;article&lt;/a&gt;&nbsp;on&nbsp;Flow&nbsp;Control:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;border-left-width:&nbsp;1px;&nbsp;border-left-color:&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;border-left-style:&nbsp;solid;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;There&nbsp;are&nbsp;two&nbsp;flow&nbsp;control&nbsp;mechanisms&nbsp;in&nbsp;RabbitMQ.&nbsp;Both&nbsp;work&nbsp;by&nbsp;exerting&nbsp;TCP&nbsp;backpressure&nbsp;on&nbsp;connections&nbsp;that&nbsp;are&nbsp;publishing&nbsp;too&nbsp;fast.&nbsp;They&nbsp;are:&lt;ul&nbsp;style=&quot;margin:&nbsp;10px&nbsp;0px;&nbsp;padding:&nbsp;0px;&nbsp;color:&nbsp;rgb(85,&nbsp;85,&nbsp;85);&nbsp;font-family:&nbsp;Verdana,&nbsp;sans-serif;&nbsp;line-height:&nbsp;18px;&quot;&gt;&lt;li&nbsp;style=&quot;list-style-type:&nbsp;none;&nbsp;background-image:&nbsp;url(https://www.rabbitmq.com/img/li.gif);&nbsp;margin:&nbsp;0px;&nbsp;padding:&nbsp;3px&nbsp;0px&nbsp;2px&nbsp;10px;&nbsp;background-position:&nbsp;1px&nbsp;9px;&nbsp;background-repeat:&nbsp;no-repeat&nbsp;no-repeat;&quot;&gt;A&nbsp;per-connection&nbsp;mechanism&nbsp;that&nbsp;prevents&nbsp;messages&nbsp;being&nbsp;published&nbsp;faster&nbsp;than&nbsp;they&nbsp;can&nbsp;be&nbsp;routed&nbsp;to&nbsp;queues.&lt;/li&gt;&lt;/ul&gt;&lt;ul&nbsp;style=&quot;margin:&nbsp;10px&nbsp;0px;&nbsp;padding:&nbsp;0px;&nbsp;color:&nbsp;rgb(85,&nbsp;85,&nbsp;85);&nbsp;font-family:&nbsp;Verdana,&nbsp;sans-serif;&nbsp;line-height:&nbsp;18px;&quot;&gt;&lt;li&nbsp;style=&quot;list-style-type:&nbsp;none;&nbsp;background-image:&nbsp;url(https://www.rabbitmq.com/img/li.gif);&nbsp;margin:&nbsp;0px;&nbsp;padding:&nbsp;3px&nbsp;0px&nbsp;2px&nbsp;10px;&nbsp;background-position:&nbsp;1px&nbsp;9px;&nbsp;background-repeat:&nbsp;no-repeat&nbsp;no-repeat;&quot;&gt;A&nbsp;global&nbsp;mechanism&nbsp;that&nbsp;prevents&nbsp;any&nbsp;messages&nbsp;from&nbsp;being&nbsp;published&nbsp;when&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;https://www.rabbitmq.com/memory-use.html&quot;&nbsp;style=&quot;color:&nbsp;rgb(68,&nbsp;68,&nbsp;68);&nbsp;font-weight:&nbsp;bold;&quot;&gt;memory&nbsp;usage&lt;/a&gt;&nbsp;exceeds&nbsp;a&nbsp;configured&nbsp;threshold&nbsp;or&nbsp;free&nbsp;disk&nbsp;space&nbsp;drops&nbsp;below&nbsp;a&nbsp;configured&nbsp;threshold.&lt;/li&gt;&lt;/ul&gt;Both&nbsp;mechanisms&nbsp;will&nbsp;temporarily&nbsp;&lt;em&gt;block&lt;/em&gt;&nbsp;connections&nbsp;-&nbsp;the&nbsp;server&nbsp;will&nbsp;pause&nbsp;reading&nbsp;from&nbsp;the&nbsp;sockets&nbsp;of&nbsp;connected&nbsp;clients&nbsp;which&nbsp;send&nbsp;content-bearing&nbsp;methods&nbsp;(such&nbsp;as&nbsp;&lt;span&nbsp;class=&quot;code&nbsp;&quot;&nbsp;style=&quot;color:&nbsp;rgb(51,&nbsp;51,&nbsp;51);&nbsp;font-family:&nbsp;'Courier&nbsp;New',&nbsp;Courier,&nbsp;monospace;&nbsp;font-size:&nbsp;small;&nbsp;white-space:&nbsp;nowrap;&quot;&gt;basic.publish&lt;/span&gt;)&nbsp;which&nbsp;have&nbsp;been&nbsp;blocked.&nbsp;Connection&nbsp;heartbeat&nbsp;monitoring&nbsp;will&nbsp;be&nbsp;disabled&nbsp;too.&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&lt;div&gt;on&nbsp;the&nbsp;bottom&nbsp;of&nbsp;that&nbsp;article,&nbsp;there's&nbsp;a&nbsp;link&nbsp;to&nbsp;this&nbsp;&lt;a&nbsp;href=&quot;https://www.rabbitmq.com/connection-blocked.html&quot;&gt;other&nbsp;article&lt;/a&gt;,&nbsp;which&nbsp;shows&nbsp;a&nbsp;way&nbsp;to&nbsp;handle&nbsp;blocked&nbsp;connections&nbsp;in&nbsp;both&nbsp;Java&nbsp;and&nbsp;.NET&nbsp;(I'm&nbsp;using&nbsp;.NET&nbsp;API)&nbsp;&nbsp;through&nbsp;events.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;What&nbsp;is&nbsp;the&nbsp;best&nbsp;way&nbsp;to&nbsp;handle&nbsp;this&nbsp;situation&nbsp;in&nbsp;the&nbsp;client?&nbsp;Do&nbsp;I&nbsp;have&nbsp;to&nbsp;implement&nbsp;those&nbsp;event&nbsp;handlers&nbsp;and&nbsp;prevent&nbsp;any&nbsp;future&nbsp;calls&nbsp;to&nbsp;IModel.BasicPublish()&nbsp;when&nbsp;the&nbsp;connection&nbsp;is&nbsp;blocked?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;RabbitMQ&nbsp;Version:&nbsp;3.1.0&lt;/div&gt;&lt;div&gt;Client&nbsp;.NET&nbsp;Version:&nbsp;3.0.4.0&lt;/div&gt;&lt;/div&gt;
</tt>
