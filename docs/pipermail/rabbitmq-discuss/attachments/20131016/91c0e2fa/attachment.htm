<tt>
&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&gt;&lt;div&gt;Hi&lt;/div&gt;&lt;div&gt;&lt;br&gt;On&nbsp;15&nbsp;Oct&nbsp;2013,&nbsp;at&nbsp;18:58,&nbsp;&quot;PATAR,&nbsp;SAGAR&quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:sp345s@att.com&quot;&gt;sp345s@att.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;<br>
<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;14&nbsp;(filtered&nbsp;medium)&quot;&gt;<br>
&lt;style&gt;&lt;!--<br>
/*&nbsp;Font&nbsp;Definitions&nbsp;*/<br>
@font-face<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{font-family:Calibri;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppanose-1:2&nbsp;15&nbsp;5&nbsp;2&nbsp;2&nbsp;2&nbsp;4&nbsp;3&nbsp;2&nbsp;4;}<br>
@font-face<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{font-family:Tahoma;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsppanose-1:2&nbsp;11&nbsp;6&nbsp;4&nbsp;3&nbsp;5&nbsp;4&nbsp;4&nbsp;2&nbsp;4;}<br>
/*&nbsp;Style&nbsp;Definitions&nbsp;*/<br>
p.MsoNormal,&nbsp;li.MsoNormal,&nbsp;div.MsoNormal<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{margin:0in;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmargin-bottom:.0001pt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-size:11.0pt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;}<br>
a:link,&nbsp;span.MsoHyperlink<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-priority:99;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcolor:blue;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsptext-decoration:underline;}<br>
a:visited,&nbsp;span.MsoHyperlinkFollowed<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-priority:99;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcolor:purple;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsptext-decoration:underline;}<br>
p.MsoAcetate,&nbsp;li.MsoAcetate,&nbsp;div.MsoAcetate<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-priority:99;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmso-style-link:&quot;Balloon&nbsp;Text&nbsp;Char&quot;;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmargin:0in;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmargin-bottom:.0001pt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-size:8.0pt;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;;}<br>
span.EmailStyle17<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-type:personal-compose;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspcolor:windowtext;}<br>
span.BalloonTextChar<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-name:&quot;Balloon&nbsp;Text&nbsp;Char&quot;;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmso-style-priority:99;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmso-style-link:&quot;Balloon&nbsp;Text&quot;;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-family:&quot;Tahoma&quot;,&quot;sans-serif&quot;;}<br>
.MsoChpDefault<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{mso-style-type:export-only;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspfont-family:&quot;Calibri&quot;,&quot;sans-serif&quot;;}<br>
@page&nbsp;WordSection1<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{size:8.5in&nbsp;11.0in;<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspmargin:1.0in&nbsp;1.0in&nbsp;1.0in&nbsp;1.0in;}<br>
div.WordSection1<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp{page:WordSection1;}<br>
--&gt;&lt;/style&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapedefaults&nbsp;v:ext=&quot;edit&quot;&nbsp;spidmax=&quot;1026&quot;&nbsp;/&gt;<br>
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapelayout&nbsp;v:ext=&quot;edit&quot;&gt;<br>
&lt;o:idmap&nbsp;v:ext=&quot;edit&quot;&nbsp;data=&quot;1&quot;&nbsp;/&gt;<br>
&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;<br>
<br>
<br>
&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;we&nbsp;can&nbsp;define&nbsp;time&nbsp;to&nbsp;live&nbsp;on&nbsp;a&nbsp;message&nbsp;published&nbsp;to&nbsp;a&nbsp;durable&nbsp;exchange&nbsp;..&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Not&nbsp;really,&nbsp;because&nbsp;exchanges&nbsp;don't&nbsp;hold&nbsp;messages,&nbsp;only&nbsp;queues&nbsp;do.&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;What&nbsp;happens&nbsp;when&nbsp;a&nbsp;message&nbsp;binding&nbsp;key&nbsp;doesn’t&nbsp;matches&nbsp;any&nbsp;binding&nbsp;..&nbsp;does&nbsp;it&nbsp;stay&nbsp;in&nbsp;the&nbsp;durable&nbsp;exchange&nbsp;till&nbsp;the&nbsp;time&nbsp;to&nbsp;live&nbsp;is&nbsp;expired&nbsp;..<br>
&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;No.&nbsp;When&nbsp;messages&nbsp;are&nbsp;unroutable,&nbsp;they're&nbsp;discarded&nbsp;(and&nbsp;possibly&nbsp;returned&nbsp;to&nbsp;the&nbsp;sender,&nbsp;depending&nbsp;on&nbsp;how&nbsp;they&nbsp;were&nbsp;published).&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Scenario&nbsp;1:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Let’s&nbsp;say&nbsp;we&nbsp;have&nbsp;a&nbsp;time&nbsp;to&nbsp;live&nbsp;of&nbsp;2&nbsp;hr&nbsp;for&nbsp;a&nbsp;message&nbsp;and&nbsp;its&nbsp;published&nbsp;to&nbsp;a&nbsp;durable&nbsp;exchange&nbsp;with&nbsp;no&nbsp;binding&nbsp;Key&nbsp;match&nbsp;(ex:&nbsp;binding&nbsp;key&nbsp;=&nbsp;NoMatch)&nbsp;…&nbsp;after&nbsp;1&nbsp;hr&nbsp;let’s&nbsp;say&nbsp;a&nbsp;&amp;nbsp;client&nbsp;subscribes&nbsp;for&nbsp;messages&nbsp;with&nbsp;bindingKey&nbsp;=”NoMatch”&nbsp;on<br>
&nbsp;that&nbsp;exchange&nbsp;..&nbsp;will&nbsp;the&nbsp;message&nbsp;be&nbsp;delivered&nbsp;to&nbsp;the&nbsp;client&nbsp;??&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;To&nbsp;do&nbsp;this,&nbsp;you&nbsp;might&nbsp;create&nbsp;a&nbsp;catch&nbsp;all&nbsp;binding&nbsp;to&nbsp;a&nbsp;queue&nbsp;on&nbsp;which&nbsp;you've&nbsp;set&nbsp;a&nbsp;1hr&nbsp;TTL&nbsp;and&nbsp;configure&nbsp;a&nbsp;dead-letter-exchange&nbsp;to&nbsp;republish&nbsp;if&nbsp;necessary.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;When&nbsp;subscribing,&nbsp;consume&nbsp;from&nbsp;both&nbsp;the&nbsp;catch&nbsp;all&nbsp;queue&nbsp;and&nbsp;the&nbsp;queue&nbsp;you're&nbsp;actually&nbsp;interested&nbsp;in.&nbsp;But&nbsp;of&nbsp;course&nbsp;the&nbsp;message&nbsp;will&nbsp;be&nbsp;routed&nbsp;to&nbsp;both&nbsp;queues&nbsp;so&nbsp;you'll&nbsp;see&nbsp;it&nbsp;twice&nbsp;if&nbsp;it&nbsp;matches&nbsp;the&nbsp;'real'&nbsp;binding.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;might&nbsp;be&nbsp;able&nbsp;to&nbsp;work&nbsp;around&nbsp;this&nbsp;with&nbsp;some&nbsp;crazy&nbsp;complex&nbsp;topology,&nbsp;but&nbsp;I&nbsp;doubt&nbsp;it.&nbsp;You&nbsp;can&nbsp;de-duplicate&nbsp;based&nbsp;on&nbsp;correlation-id,&nbsp;though&nbsp;of&nbsp;course&nbsp;this&nbsp;puts&nbsp;storage&nbsp;requirements&nbsp;onto&nbsp;your&nbsp;application.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Personally,&nbsp;I'd&nbsp;try&nbsp;to&nbsp;re-design&nbsp;the&nbsp;system&nbsp;to&nbsp;avoid&nbsp;this&nbsp;scenario,&nbsp;perhaps&nbsp;by&nbsp;handling&nbsp;unroutable&nbsp;messages&nbsp;on&nbsp;the&nbsp;sender&nbsp;instead,&nbsp;or&nbsp;by&nbsp;attaching&nbsp;a&nbsp;housekeeper&nbsp;to&nbsp;the&nbsp;catch&nbsp;all&nbsp;queue&nbsp;that&nbsp;republishes&nbsp;periodically.&nbsp;Bear&nbsp;in&nbsp;mind&nbsp;that&nbsp;if&nbsp;your&nbsp;&quot;client&nbsp;subscribes&nbsp;to&nbsp;messages&nbsp;with&nbsp;a&nbsp;binding&nbsp;key&nbsp;&quot;NoMatch&quot;&nbsp;-&nbsp;I&nbsp;assume&nbsp;this&nbsp;means&nbsp;they&nbsp;create&nbsp;a&nbsp;temporary&nbsp;queue&nbsp;and&nbsp;bind&nbsp;it&nbsp;tot&nbsp;the&nbsp;exchange&nbsp;-&nbsp;then&nbsp;just&nbsp;having&nbsp;the&nbsp;TTL&nbsp;plus&nbsp;setting&nbsp;the&nbsp;dead&nbsp;letter&nbsp;exchange&nbsp;might&nbsp;work,&nbsp;though&nbsp;once&nbsp;a&nbsp;cycle&nbsp;is&nbsp;detected&nbsp;you'll&nbsp;loose&nbsp;the&nbsp;message&nbsp;iirc.&lt;/div&gt;&lt;br&gt;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;WordSection1&quot;&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Scenario&nbsp;2:&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;Let’s&nbsp;say&nbsp;we&nbsp;have&nbsp;a&nbsp;time&nbsp;to&nbsp;live&nbsp;of&nbsp;2&nbsp;hr&nbsp;for&nbsp;a&nbsp;message&nbsp;and&nbsp;its&nbsp;published&nbsp;to&nbsp;a&nbsp;durable&nbsp;exchange&nbsp;with&nbsp;a&nbsp;binding&nbsp;key&nbsp;match&nbsp;(ex:&nbsp;binding&nbsp;key&nbsp;=&nbsp;match)&amp;nbsp;&nbsp;and&nbsp;the&nbsp;message&nbsp;will&nbsp;be&nbsp;routed&nbsp;to&nbsp;a&nbsp;queue&nbsp;and&nbsp;is&nbsp;consumed&nbsp;by&nbsp;a&nbsp;client&nbsp;..&nbsp;After&nbsp;1&nbsp;hr&nbsp;If&nbsp;a<br>
&nbsp;new&nbsp;client&nbsp;subscribes&nbsp;for&nbsp;the&nbsp;messages&nbsp;with&nbsp;bindingKey&nbsp;=”match”&nbsp;by&nbsp;creating&nbsp;a&nbsp;new&nbsp;Queue&nbsp;..will&nbsp;the&nbsp;new&nbsp;client&nbsp;get&nbsp;the&amp;nbsp;&nbsp;same&nbsp;message<br>
&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;<br>
&lt;p&nbsp;class=&quot;MsoNormal&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;div&gt;That&nbsp;won't&nbsp;work,&nbsp;since&nbsp;once&nbsp;a&nbsp;message&nbsp;is&nbsp;delivered&nbsp;it&nbsp;will&nbsp;be&nbsp;removed&nbsp;from&nbsp;the&nbsp;queue.&nbsp;You&nbsp;could&nbsp;try&nbsp;doing&nbsp;the&nbsp;thing&nbsp;above&nbsp;(with&nbsp;TTL&nbsp;and&nbsp;DLX)&nbsp;an&nbsp;use&nbsp;a&nbsp;fanout&nbsp;exchange&nbsp;to&nbsp;simulate&nbsp;this,&nbsp;but&nbsp;there&nbsp;are&nbsp;probably&nbsp;lots&nbsp;of&nbsp;corner&nbsp;cases&nbsp;that&nbsp;wont&nbsp;work&nbsp;as&nbsp;expected.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;Tim&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
