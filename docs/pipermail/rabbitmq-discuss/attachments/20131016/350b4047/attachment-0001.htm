<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Michael,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thank&nbsp;you&nbsp;for&nbsp;your&nbsp;reply.&nbsp;With&nbsp;regard&nbsp;to&nbsp;your&nbsp;comment:&lt;br&gt;&lt;br&gt;&amp;quot;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;My&nbsp;guess&nbsp;is&nbsp;that&nbsp;when&nbsp;you&nbsp;use&nbsp;UUIDs,&nbsp;implicit&nbsp;conversion&nbsp;happens&nbsp;and&nbsp;those&lt;/span&gt;&lt;/div&gt;<br>
&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;that&nbsp;happen&nbsp;to&nbsp;have&nbsp;digits&nbsp;as&nbsp;initial&nbsp;characters&nbsp;result&nbsp;in&nbsp;messages&nbsp;being&nbsp;routed&lt;/span&gt;&lt;br&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;but&nbsp;others&nbsp;are&nbsp;voided.&amp;quot;&lt;br&gt;<br>
&lt;br&gt;Do&nbsp;you&nbsp;mean&nbsp;to&nbsp;say&nbsp;that&nbsp;those&nbsp;&amp;quot;voided&amp;quot;&nbsp;messages&nbsp;didn&amp;#39;t&nbsp;make&nbsp;it&nbsp;to&nbsp;a&nbsp;queue&nbsp;or&nbsp;weren&amp;#39;t&nbsp;hashed&nbsp;but&nbsp;simply&nbsp;put&nbsp;to&nbsp;an&nbsp;arbitrary&nbsp;queue?&nbsp;I&nbsp;know&nbsp;the&nbsp;former&nbsp;isn&amp;#39;t&nbsp;the&nbsp;case&nbsp;because&nbsp;I&nbsp;sent&nbsp;500K&nbsp;messages&nbsp;and&nbsp;at&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;test&nbsp;the&nbsp;total&nbsp;of&nbsp;all&nbsp;the&nbsp;queues&nbsp;was&nbsp;500K.&lt;/span&gt;&lt;div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;Regards,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;Richard&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Oct&nbsp;16,&nbsp;2013&nbsp;at&nbsp;2:43&nbsp;PM,&nbsp;Michael&nbsp;Klishin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:mklishin@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mklishin@gopivotal.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
On&nbsp;oct&nbsp;16,&nbsp;2013,&nbsp;at&nbsp;11:58&nbsp;p.m.,&nbsp;Richard&nbsp;Raseley&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:richard@raseley.com&quot;&gt;richard@raseley.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;1)&nbsp;Why&nbsp;am&nbsp;I&nbsp;seeing&nbsp;such&nbsp;uneven&nbsp;distribution&nbsp;of&nbsp;messages&nbsp;between&nbsp;the&nbsp;queues&nbsp;bound&nbsp;to&nbsp;the&nbsp;x-consistent-hash&nbsp;exchange?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;2)&nbsp;What&nbsp;can&nbsp;I&nbsp;do&nbsp;to&nbsp;ensure&nbsp;the&nbsp;most&nbsp;even&nbsp;distribution&nbsp;of&nbsp;messages&nbsp;as&nbsp;possible&nbsp;across&nbsp;the&nbsp;queues&nbsp;bound&nbsp;to&nbsp;the&nbsp;x-consistent-has&nbsp;exchange?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Consistent&nbsp;hash&nbsp;exchange&nbsp;requires&nbsp;routing&nbsp;keys&nbsp;to&nbsp;be&nbsp;integers&nbsp;*as&nbsp;strings*&nbsp;(yes,&lt;br&gt;<br>
this&nbsp;is&nbsp;unfortunate,&nbsp;but&nbsp;routing&nbsp;keys&nbsp;have&nbsp;to&nbsp;be&nbsp;strings&nbsp;in&nbsp;the&nbsp;protocol).&lt;br&gt;<br>
&lt;br&gt;<br>
My&nbsp;guess&nbsp;is&nbsp;that&nbsp;when&nbsp;you&nbsp;use&nbsp;UUIDs,&nbsp;implicit&nbsp;conversion&nbsp;happens&nbsp;and&nbsp;those&lt;br&gt;<br>
that&nbsp;happen&nbsp;to&nbsp;have&nbsp;digits&nbsp;as&nbsp;initial&nbsp;characters&nbsp;result&nbsp;in&nbsp;messages&nbsp;being&nbsp;routed&lt;br&gt;<br>
but&nbsp;others&nbsp;are&nbsp;voided.&nbsp;You&nbsp;can&nbsp;try&nbsp;publishing&nbsp;the&nbsp;messages&nbsp;as&nbsp;mandatory&lt;br&gt;<br>
and&nbsp;see&nbsp;if&nbsp;any&nbsp;of&nbsp;them&nbsp;are&nbsp;returned.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;requirement&nbsp;is&nbsp;mentioned&nbsp;in&nbsp;README:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://hg.rabbitmq.com/rabbitmq-consistent-hash-exchange/file/rabbitmq_v3_1_5/README.md#l99&quot;&nbsp;target=&quot;_blank&quot;&gt;http://hg.rabbitmq.com/rabbitmq-consistent-hash-exchange/file/rabbitmq_v3_1_5/README.md#l99&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
See&nbsp;&lt;a&nbsp;href=&quot;https://github.com/ruby-amqp/bunny/blob/master/spec/higher_level_api/integration/consistent_hash_exchange_spec.rb&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/ruby-amqp/bunny/blob/master/spec/higher_level_api/integration/consistent_hash_exchange_spec.rb&lt;/a&gt;&lt;br&gt;<br>
<br>
for&nbsp;example&nbsp;(not&nbsp;in&nbsp;Python&nbsp;but&nbsp;hopefully&nbsp;demonstrative&nbsp;enough).&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
MK&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
