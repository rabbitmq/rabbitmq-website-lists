<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Hi&nbsp;Ben,&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;found&nbsp;that&nbsp;in&nbsp;the&nbsp;readFrom&nbsp;function,&nbsp;input.readUnsignedByte()&nbsp;returns&nbsp;1&nbsp;and&nbsp;input.bytesAvailable&nbsp;returns&nbsp;0&nbsp;when&nbsp;it&nbsp;is&nbsp;called.&amp;nbsp;&nbsp;How&nbsp;come&nbsp;the&nbsp;Flex&nbsp;is&nbsp;not&nbsp;getting&nbsp;any&nbsp;bytes&nbsp;back?&amp;nbsp;&nbsp;&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Does&nbsp;anyone&nbsp;have&nbsp;any&nbsp;idea&nbsp;why?&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;Thanks,&lt;/div&gt;<br>
&lt;div&gt;Anne&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Sep&nbsp;3,&nbsp;2008&nbsp;at&nbsp;2:18&nbsp;AM,&nbsp;Ben&nbsp;Hood&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:0x6e6562@gmail.com&quot;&gt;0x6e6562@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;PADDING-LEFT:&nbsp;1ex;&nbsp;MARGIN:&nbsp;0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;&nbsp;BORDER-LEFT:&nbsp;#ccc&nbsp;1px&nbsp;solid&quot;&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;----------&nbsp;Forwarded&nbsp;message&nbsp;----------&lt;br&gt;From:&nbsp;Ben&nbsp;Hood&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:0x6e6562@gmail.com&quot;&gt;0x6e6562@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;Date:&nbsp;Tue,&nbsp;Sep&nbsp;2,&nbsp;2008&nbsp;at&nbsp;2:04&nbsp;PM&lt;br&gt;Subject:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;Debugging&nbsp;of&nbsp;Connection.class&lt;br&gt;To:&nbsp;Pete&nbsp;Kay&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:petedao@gmail.com&quot;&gt;petedao@gmail.com&lt;/a&gt;&amp;gt;&lt;br&gt;Cc:&nbsp;rabbitmq&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&amp;gt;&lt;br&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;Anne,&lt;br&gt;&lt;br&gt;On&nbsp;Tue,&nbsp;Sep&nbsp;2,&nbsp;2008&nbsp;at&nbsp;1:31&nbsp;AM,&nbsp;Pete&nbsp;Kay&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:petedao@gmail.com&quot;&gt;petedao@gmail.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;The&nbsp;correct&nbsp;bytes&nbsp;were&nbsp;written&nbsp;to&nbsp;the&nbsp;delegate.writeByptes().&lt;br&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Using&nbsp;ngrep,&nbsp;I&nbsp;see&nbsp;that&nbsp;the&nbsp;Flex&nbsp;client&nbsp;sends&nbsp;much&nbsp;less&nbsp;data&nbsp;to&nbsp;the&nbsp;server&lt;br&gt;&amp;gt;&nbsp;than&nbsp;the&nbsp;Java&nbsp;Client:&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;===========================Flex&nbsp;Client&nbsp;===============================&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;debian:/home/anne#&nbsp;ngrep&nbsp;&amp;nbsp;port&nbsp;5672&lt;br&gt;<br>
&amp;gt;&nbsp;interface:&nbsp;eth0&nbsp;(&lt;a&nbsp;href=&quot;http://192.168.1.0/255.255.255.0&quot;&nbsp;target=&quot;_blank&quot;&gt;192.168.1.0/255.255.255.0&lt;/a&gt;)&lt;br&gt;&amp;gt;&nbsp;filter:&nbsp;(ip&nbsp;or&nbsp;ip6)&nbsp;and&nbsp;(&nbsp;port&nbsp;5672&nbsp;)&lt;br&gt;&amp;gt;&nbsp;########&lt;br&gt;&amp;gt;&nbsp;T&nbsp;&lt;a&nbsp;href=&quot;http://192.168.1.100:58513/&quot;&nbsp;target=&quot;_blank&quot;&gt;192.168.1.100:58513&lt;/a&gt;&nbsp;-&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://192.168.1.104:5672/&quot;&nbsp;target=&quot;_blank&quot;&gt;192.168.1.104:5672&lt;/a&gt;&nbsp;[AP]&lt;br&gt;<br>
&amp;gt;&nbsp;&amp;nbsp;&nbsp;AMQP....&lt;br&gt;&amp;gt;&nbsp;##&lt;br&gt;&amp;gt;&nbsp;T&nbsp;&lt;a&nbsp;href=&quot;http://192.168.1.104:5672/&quot;&nbsp;target=&quot;_blank&quot;&gt;192.168.1.104:5672&lt;/a&gt;&nbsp;-&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://192.168.1.100:58513/&quot;&nbsp;target=&quot;_blank&quot;&gt;192.168.1.100:58513&lt;/a&gt;&nbsp;[AP]&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&nbsp;......&lt;br&gt;<br>
&amp;gt;&nbsp;...........productS....RabbitMQ.versionS....1.4.0.platformS....Erlan&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&nbsp;g/OTP.copyrightS...gCopyright&nbsp;(C)&nbsp;2007-2008&nbsp;LShift&nbsp;Ltd.,&nbsp;Cohesive&lt;br&gt;&amp;gt;&nbsp;Financial&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;Technologies&nbsp;LLC.,&nbsp;and&nbsp;Rabbit&nbsp;Technologies&nbsp;Ltd..informationS...5Licensed&lt;br&gt;<br>
&amp;gt;&nbsp;u&lt;br&gt;&amp;gt;&nbsp;&amp;nbsp;&nbsp;nder&nbsp;the&nbsp;MPL.&nbsp;&amp;nbsp;See&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/....PLAIN&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/....PLAIN&lt;/a&gt;&nbsp;AMQPLAIN....en_US.&lt;br&gt;&amp;gt;&nbsp;#####&lt;br&gt;&lt;br&gt;So&nbsp;the&nbsp;broker&nbsp;is&nbsp;actually&nbsp;receiving&nbsp;the&nbsp;header.&nbsp;It&nbsp;then&nbsp;sends&nbsp;the&lt;br&gt;<br>
client&nbsp;the&nbsp;Start&nbsp;command&nbsp;and&nbsp;waits&nbsp;for&nbsp;the&nbsp;client&amp;#39;s&nbsp;response&nbsp;-&nbsp;in&nbsp;this&lt;br&gt;case&nbsp;for&nbsp;a&nbsp;long&nbsp;time&nbsp;:-(&lt;br&gt;&lt;br&gt;OK,&nbsp;now&nbsp;you&nbsp;need&nbsp;to&nbsp;debug&nbsp;into&nbsp;the&nbsp;command&nbsp;exchange&nbsp;that&nbsp;creates&nbsp;an&lt;br&gt;AMQP&nbsp;connection&nbsp;between&nbsp;the&nbsp;client&nbsp;and&nbsp;the&nbsp;broker.&nbsp;From&nbsp;the&nbsp;client&amp;#39;s&lt;br&gt;<br>
perspective,&nbsp;the&nbsp;flow&nbsp;looks&nbsp;like&nbsp;this:&lt;br&gt;&lt;br&gt;1.&nbsp;Receive&nbsp;connection.Start&lt;br&gt;2.&nbsp;Send&nbsp;connection.StartOk&lt;br&gt;3.&nbsp;Receive&nbsp;connection.Tune&lt;br&gt;4.&nbsp;Send&nbsp;connection.TuneOk&lt;br&gt;5.&nbsp;Send&nbsp;connection.Open&lt;br&gt;6.&nbsp;Receive&nbsp;connection.OpenOk&lt;br&gt;<br>
&lt;br&gt;This&nbsp;is&nbsp;handled&nbsp;in&nbsp;the&nbsp;ConnectionStateHandler&nbsp;class,&nbsp;and&nbsp;the&nbsp;event&lt;br&gt;handling&nbsp;in&nbsp;this&nbsp;class&nbsp;is&nbsp;fairly&nbsp;well&nbsp;documented.&lt;br&gt;&lt;br&gt;Look&nbsp;at&nbsp;the&nbsp;the&nbsp;onStart&nbsp;function.&lt;br&gt;&lt;br&gt;HTH,&lt;br&gt;&lt;br&gt;Ben&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;&lt;/div&gt;<br>
&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;_______________________________________________&lt;br&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
