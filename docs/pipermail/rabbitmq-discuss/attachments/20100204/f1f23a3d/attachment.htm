<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Ben&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;As&nbsp;I&nbsp;see&nbsp;it,&nbsp;RabbitMQ&nbsp;is&nbsp;best&nbsp;used&nbsp;for&nbsp;routing&nbsp;messages&nbsp;with&nbsp;minimal&nbsp;or&nbsp;no&nbsp;processing.&lt;/div&gt;<br>
&lt;div&gt;You&nbsp;might&nbsp;compare&nbsp;it&nbsp;to&nbsp;Nginx&nbsp;that&nbsp;can&nbsp;modify&nbsp;URLs&nbsp;and&nbsp;http&nbsp;headers&nbsp;but&nbsp;you&nbsp;don&amp;#39;t&nbsp;want&nbsp;to&nbsp;put&nbsp;your&nbsp;application&nbsp;logic&nbsp;there.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;AMQP&nbsp;with&nbsp;RabbitMQ&nbsp;can&nbsp;provide&nbsp;the&nbsp;basic&nbsp;features&nbsp;of&nbsp;XMPP.&lt;/div&gt;<br>
&lt;div&gt;An&nbsp;app&nbsp;server&nbsp;or&nbsp;a&nbsp;RabbitMQ&nbsp;plugin is&nbsp;needed&nbsp;to handles some&nbsp;logic&nbsp;and&nbsp;db&nbsp;integration.&lt;/div&gt;<br>
&lt;div&gt;Presence:&lt;/div&gt;<br>
&lt;div&gt;------------------&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;Each&nbsp;user&nbsp;have&nbsp;a&nbsp;fanout&nbsp;exchange.&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;Each&nbsp;online&nbsp;user&nbsp;has&nbsp;bindings&nbsp;to&nbsp;fanout&nbsp;exchanges&nbsp;of&nbsp;users&nbsp;in&nbsp;his&nbsp;roster.&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;When&nbsp;a&nbsp;user&nbsp;changes&nbsp;his&nbsp;presence&nbsp;he&nbsp;publishes&nbsp;it&nbsp;to&nbsp;his&nbsp;exchange.&lt;/div&gt;<br>
&lt;div&gt;One&nbsp;To&nbsp;One:&lt;/div&gt;<br>
&lt;div&gt;------------------&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;Each&nbsp;user&nbsp;has&nbsp;a&nbsp;queue&nbsp;named&nbsp;as&nbsp;his&nbsp;jid.&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;Messages&nbsp;published&nbsp;to&nbsp;the&nbsp;direct&nbsp;exchange with&nbsp;the&nbsp;user&nbsp;jid.&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;You can&nbsp;name&nbsp;the&nbsp;queue&nbsp;with&nbsp;unguessable&nbsp;string&nbsp;if&nbsp;you&nbsp;want&nbsp;them&nbsp;to&nbsp;be&nbsp;private.&lt;/div&gt;<br>
&lt;div&gt;Muc:&lt;/div&gt;<br>
&lt;div&gt;-----------------&lt;/div&gt;<br>
&lt;div&gt;-&nbsp;A&nbsp;fanout&nbsp;exchange&nbsp;with&nbsp;bindings&nbsp;to&nbsp;participants&nbsp;queues.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;If&nbsp;you&nbsp;need&nbsp;more&nbsp;advanced&nbsp;XEPs,&nbsp;using&nbsp;AMQP&nbsp;might&nbsp;not&nbsp;be&nbsp;a&nbsp;good&nbsp;idea.&lt;/div&gt;<br>
&lt;div&gt;MUC,&nbsp;for&nbsp;example, support&nbsp;affiliations,&nbsp;roles&nbsp;and&nbsp;privileges&nbsp;(owner,&nbsp;moderator,&nbsp;member,&nbsp;guest,&nbsp;room&nbsp;history,&nbsp;nickname...).&lt;/div&gt;<br>
&lt;div&gt;The&nbsp;same&nbsp;message&nbsp;might&nbsp;be&nbsp;sent&nbsp;with&nbsp;a&nbsp;different&nbsp;syntax&nbsp;to&nbsp;different&nbsp;users&nbsp;according&nbsp;to&nbsp;their&nbsp;privileges.&lt;/div&gt;<br>
&lt;div&gt;When&nbsp;messages&nbsp;need&nbsp;processing&nbsp;and&nbsp;complex ACL&nbsp;you&nbsp;loose&nbsp;the&nbsp;power&nbsp;of&nbsp;AMQP.&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt;ofir&lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;<br>
&lt;div&gt; &lt;/div&gt;&lt;/div&gt;<br>

</tt>
