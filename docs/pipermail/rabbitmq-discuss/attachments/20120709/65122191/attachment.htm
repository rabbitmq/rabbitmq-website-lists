<tt>
Hi&nbsp;Tim,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes,&nbsp;I&nbsp;am&nbsp;trying&nbsp;to&nbsp;see&nbsp;what&nbsp;happens&nbsp;if you&amp;#39;ve&nbsp;got&nbsp;two&nbsp;nodes&nbsp;and&nbsp;one&nbsp;goes&nbsp;down.&nbsp;Clustering&nbsp;doc&nbsp;describes&nbsp;about&nbsp;the&nbsp;cluster&nbsp;setup,&nbsp;it&nbsp;does&nbsp;not&nbsp;tell&nbsp;how&nbsp;to&nbsp;test&nbsp;the cluster&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;two&nbsp;nodes,&nbsp;when&nbsp;I&nbsp;bring&nbsp;down&nbsp;a&nbsp;node&nbsp;with&nbsp;rabbitmqctl&nbsp;stop_app,&nbsp;my&nbsp;web&nbsp;app&nbsp;stops&nbsp;working.&nbsp;I&nbsp;am&nbsp;not&nbsp;sure&nbsp;what&nbsp;I&nbsp;am&nbsp;doing&nbsp;wrong.&nbsp;But&nbsp;I&nbsp;can&nbsp;see&nbsp;that&nbsp;the&nbsp;queues&nbsp;are&nbsp;duplicated&nbsp;between&nbsp;two&nbsp;nodes.&nbsp;my&nbsp;web&nbsp;app&nbsp;pointing&nbsp;to&nbsp;the&nbsp;stomp&nbsp;on&nbsp;the&nbsp;node&nbsp;that&nbsp;is&nbsp;brought&nbsp;down.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jul&nbsp;6,&nbsp;2012&nbsp;at&nbsp;2:06&nbsp;PM,&nbsp;Tim&nbsp;Watson&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tim@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;tim@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Prashanth,&lt;br&gt;<br>
&lt;br&gt;<br>
Please&nbsp;keep&nbsp;replies&nbsp;on&nbsp;list,&nbsp;as&nbsp;I&nbsp;mentioned&nbsp;earlier&nbsp;(just&nbsp;before&nbsp;forgetting&nbsp;to&nbsp;do&nbsp;some&nbsp;myself!).&nbsp;:)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;br&gt;&lt;div&gt;<br>
&lt;br&gt;<br>
On&nbsp;06/07/2012&nbsp;18:38,&nbsp;Prashanth&nbsp;M&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
correct&nbsp;me&nbsp;if&nbsp;i&nbsp;am&nbsp;wrong.&nbsp;We&nbsp;proved&nbsp;the&nbsp;reliability&nbsp;of&nbsp;rabbitmq,&nbsp;we&nbsp;are&lt;br&gt;<br>
planning&nbsp;to&nbsp;prove&nbsp;how&nbsp;clustering&nbsp;works&nbsp;out&nbsp;of&nbsp;box.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Ok&nbsp;that&amp;#39;s&nbsp;fine,&nbsp;but&nbsp;*what*&nbsp;about&nbsp;clustering&nbsp;do&nbsp;you&nbsp;need&nbsp;to&nbsp;prove&nbsp;for&nbsp;your&nbsp;architecture?&nbsp;Are&nbsp;you&nbsp;wanting&nbsp;to&nbsp;know&nbsp;what&nbsp;happens&nbsp;if&nbsp;you&amp;#39;ve&nbsp;got&nbsp;two&nbsp;nodes&nbsp;and&nbsp;one&nbsp;goes&nbsp;down?&nbsp;The&nbsp;idea&nbsp;is&nbsp;that&nbsp;all&nbsp;the&nbsp;relevant&nbsp;parts&nbsp;that&nbsp;should&nbsp;be&nbsp;present&nbsp;on&nbsp;all&nbsp;nodes,&nbsp;should&nbsp;survive&nbsp;a&nbsp;crash.&nbsp;As&nbsp;the&nbsp;list&nbsp;entry&nbsp;I&nbsp;referred&nbsp;you&nbsp;to&nbsp;in&nbsp;my&nbsp;previous&nbsp;mail&nbsp;states,&nbsp;you&amp;#39;ve&nbsp;got&nbsp;to&nbsp;be&nbsp;careful&nbsp;when&nbsp;using&nbsp;ram&nbsp;nodes,&nbsp;as&nbsp;you&nbsp;*can*&nbsp;get&nbsp;yourself&nbsp;into&nbsp;a&nbsp;situation&nbsp;where&nbsp;data&nbsp;loss&nbsp;is&nbsp;*possible*&nbsp;under&nbsp;those&nbsp;circumstances.&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
Please&nbsp;read&nbsp;the&nbsp;clustering&nbsp;guide&nbsp;in&nbsp;detail&nbsp;and&nbsp;then&nbsp;feel&nbsp;free&nbsp;to&nbsp;come&nbsp;back&nbsp;ask&nbsp;any&nbsp;questions.&nbsp;If&nbsp;you&nbsp;want&nbsp;to&nbsp;stop&nbsp;rabbit&nbsp;on&nbsp;a&nbsp;node,&nbsp;without&nbsp;stopping&nbsp;the&nbsp;node&nbsp;itself,&nbsp;you&amp;#39;d&nbsp;use&nbsp;`rabbitmqctl&nbsp;stop_app`&nbsp;or&nbsp;`rabbitmqctl&nbsp;stop`&nbsp;to&nbsp;stop&nbsp;the&nbsp;rabbit&nbsp;application&nbsp;*and*&nbsp;the&nbsp;node.&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
Tim&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
