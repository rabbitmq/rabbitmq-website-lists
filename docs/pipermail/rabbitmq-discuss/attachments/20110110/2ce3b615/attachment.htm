<tt>
Hi&nbsp;all,&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;designing&nbsp;a&nbsp;small&nbsp;distributed&nbsp;system&nbsp;with&nbsp;some&nbsp;queueing&nbsp;involved&nbsp;and&nbsp;have&nbsp;some&nbsp;doubts&nbsp;that&nbsp;Rabbit&nbsp;is&nbsp;the&nbsp;right&nbsp;solution&nbsp;for&nbsp;parts&nbsp;of&nbsp;it.&nbsp;Hoping&nbsp;that&nbsp;some&nbsp;of&nbsp;you&nbsp;can&nbsp;shed&nbsp;some&nbsp;light&nbsp;and&nbsp;let&nbsp;me&nbsp;know&nbsp;if&nbsp;Rabbit&nbsp;can&nbsp;do&nbsp;it&nbsp;all,&nbsp;which&nbsp;would&nbsp;be&nbsp;great,&nbsp;or&nbsp;if&nbsp;there&amp;#39;s&nbsp;a&nbsp;better&nbsp;and/or&nbsp;simpler&nbsp;solution&nbsp;I&amp;#39;ve&nbsp;missed. &lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;&quot;&gt;I&nbsp;realize&nbsp;that&nbsp;Rabbit&nbsp;is&nbsp;for&nbsp;message&nbsp;passing&nbsp;and&nbsp;is&nbsp;not&nbsp;a&nbsp;work&nbsp;queue,&nbsp;so&nbsp;perhaps&nbsp;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;shove&nbsp;a&nbsp;square&nbsp;peg&nbsp;into&nbsp;a&nbsp;round&nbsp;hole.&nbsp;If&nbsp;so&nbsp;please&nbsp;tell&nbsp;me&nbsp;that&nbsp;I&amp;#39;m&nbsp;barking&nbsp;up&nbsp;the&nbsp;wrong&nbsp;tree.&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;meta&nbsp;charset=&quot;utf-8&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;system&nbsp;is&nbsp;pretty&nbsp;simple&nbsp;and&nbsp;will&nbsp;only&nbsp;have&nbsp;2&nbsp;persistent&nbsp;queues,&nbsp;1&nbsp;producer,&nbsp;and&nbsp;1&nbsp;consumer&nbsp;(initially&nbsp;anyway).&nbsp;Our&nbsp;frontend&nbsp;machine&nbsp;will&nbsp;act&nbsp;on&nbsp;requests&nbsp;from&nbsp;our&nbsp;users&nbsp;and&nbsp;queue&nbsp;up&nbsp;jobs&nbsp;on&nbsp;request.&nbsp;The&nbsp;worker&nbsp;machine&nbsp;will&nbsp;get&nbsp;jobs&nbsp;from&nbsp;that&nbsp;queue,&nbsp;process&nbsp;them,&nbsp;and&nbsp;then&nbsp;place&nbsp;the&nbsp;results&nbsp;in&nbsp;a&nbsp;2nd&nbsp;queue&nbsp;which&nbsp;the&nbsp;frontend&nbsp;machine&nbsp;will&nbsp;consume,&nbsp;making&nbsp;the&nbsp;results&nbsp;available&nbsp;to&nbsp;our&nbsp;users.&nbsp;So&nbsp;far&nbsp;it&amp;#39;s&nbsp;pretty&nbsp;straightforward&nbsp;and&nbsp;RabbitMQ&nbsp;handles&nbsp;this&nbsp;with&nbsp;ease.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;,----------,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ,--------,&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; ---&nbsp;Queue&nbsp;#1&nbsp;---&amp;gt;&nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp;Work&nbsp;to&nbsp;be&nbsp;done&nbsp;goes&nbsp;in&nbsp;Queue&nbsp;#1&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;|&nbsp;Frontend&nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;Worker&nbsp;|&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;|&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;&amp;lt;---&nbsp;Queue&nbsp;#2&nbsp;---&nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp;Completed&nbsp;work&nbsp;goes&nbsp;in&nbsp;Queue&nbsp;#2&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;`----------`&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; `--------`&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;&amp;#39;courier&nbsp;new&amp;#39;,&nbsp;monospace&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;helvetica,&nbsp;sans-serif&quot;&gt;Now&nbsp;real&nbsp;life&nbsp;has&nbsp;to&nbsp;come&nbsp;along&nbsp;and&nbsp;mess&nbsp;it&nbsp;all&nbsp;up. &lt;/font&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;&quot;&gt;When&nbsp;a&nbsp;worker&nbsp;is&nbsp;struck&nbsp;by&nbsp;lightning&nbsp;in&nbsp;the&nbsp;simple&nbsp;system&nbsp;above&nbsp;the&nbsp;job&nbsp;it&nbsp;was&nbsp;working&nbsp;on&nbsp;would&nbsp;be&nbsp;lost,&nbsp;which&nbsp;is&nbsp;bad.&nbsp;To&nbsp;me&nbsp;it&nbsp;seems&nbsp;like&nbsp;we&nbsp;need&nbsp;a&nbsp;3rd&nbsp;&amp;quot;queue&amp;quot;&nbsp;that&nbsp;holds&nbsp;jobs&nbsp;that&nbsp;are&nbsp;currently&nbsp;being&nbsp;processed,&nbsp;and&nbsp;a&nbsp;timeout&nbsp;so&nbsp;that&nbsp;if&nbsp;a&nbsp;job&nbsp;being&nbsp;processed&nbsp;hasn&amp;#39;t&nbsp;completed&nbsp;within&nbsp;N&nbsp;minutes&nbsp;it&amp;#39;s&nbsp;put&nbsp;back&nbsp;into&nbsp;the&nbsp;first&nbsp;queue&nbsp;so&nbsp;another&nbsp;worker&nbsp;can&nbsp;pick&nbsp;up&nbsp;the&nbsp;job.&nbsp;This&nbsp;queue&nbsp;must&nbsp;also&nbsp;be&nbsp;persistent.&nbsp;The&nbsp;problem&nbsp;is&nbsp;that&nbsp;this&nbsp;3rd&nbsp;thing&nbsp;isn&amp;#39;t&nbsp;really&nbsp;a&nbsp;queue&nbsp;at&nbsp;all.&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;remove&nbsp;any&nbsp;specific&nbsp;item&nbsp;from&nbsp;this&nbsp;thing,&nbsp;whether&nbsp;the&nbsp;job&nbsp;was&nbsp;completed&nbsp;or&nbsp;timed&nbsp;out,&nbsp;and&nbsp;thus&nbsp;I&nbsp;need&nbsp;to&nbsp;find&nbsp;and&nbsp;remove&nbsp;arbitrary&nbsp;messages/items.&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;helvetica,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;meta&nbsp;charset=&quot;utf-8&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial;&nbsp;&quot;&gt;&lt;div&gt;<br>
<br>
&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;&quot;&gt;I&nbsp;feel&nbsp;like&nbsp;I&nbsp;need&nbsp;to&nbsp;write&nbsp;a&nbsp;bit&nbsp;of&nbsp;code&nbsp;that&nbsp;handles&nbsp;the&nbsp;list&nbsp;of&nbsp;jobs-in-progress&nbsp;and&nbsp;persists&nbsp;it&nbsp;to&nbsp;our&nbsp;main&nbsp;data&nbsp;store&nbsp;(distributed,&nbsp;backed&nbsp;up,&nbsp;etc).&nbsp;If&nbsp;I&nbsp;do&nbsp;all&nbsp;of&nbsp;that&nbsp;when&nbsp;not&nbsp;just&nbsp;put&nbsp;the&nbsp;other&nbsp;2&nbsp;queues&nbsp;in&nbsp;our&nbsp;main&nbsp;data&nbsp;store&nbsp;as&nbsp;well?&nbsp;Rabbit&nbsp;still&nbsp;buys&nbsp;us&nbsp;a&nbsp;little&nbsp;for&nbsp;those&nbsp;2&nbsp;queues,&nbsp;but&nbsp;not&nbsp;very&nbsp;much.&nbsp;It&amp;#39;s&nbsp;easy&nbsp;enough&nbsp;for&nbsp;me&nbsp;to&nbsp;add&nbsp;authenticated&nbsp;HTTP&nbsp;endpoints&nbsp;and&nbsp;distributed,&nbsp;fault-tolerance&nbsp;persistence&nbsp;for&nbsp;a&nbsp;couple&nbsp;of&nbsp;queues.&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;meta&nbsp;charset=&quot;utf-8&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;&quot;&gt;Is&nbsp;there&nbsp;some&nbsp;other&nbsp;solution&nbsp;that&nbsp;makes&nbsp;this&nbsp;easier,&nbsp;or&nbsp;does&nbsp;Rabbit&nbsp;have&nbsp;something&nbsp;to&nbsp;handle&nbsp;these&nbsp;sorts&nbsp;of&nbsp;cases?&nbsp;If&nbsp;I&nbsp;can&amp;#39;t&nbsp;use&nbsp;Rabbit&nbsp;for&nbsp;all&nbsp;of&nbsp;this&nbsp;it&nbsp;may&nbsp;not&nbsp;be&nbsp;worth&nbsp;adding&nbsp;Rabbit&nbsp;to&nbsp;our&nbsp;infrastructure&nbsp;for&nbsp;the&nbsp;2&nbsp;very&nbsp;simple&nbsp;queues&nbsp;illustrated&nbsp;above.&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style=&quot;font-family:&nbsp;arial;&nbsp;&quot;&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;class=&quot;Apple-style-span&quot;&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;helvetica,&nbsp;sans-serif;&nbsp;&quot;&gt;Thanks&nbsp;for&nbsp;reading&nbsp;this&nbsp;far&nbsp;:)&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;helvetica,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;face=&quot;arial,&nbsp;helvetica,&nbsp;sans-serif&quot;&gt;-s&lt;/font&gt;&lt;/div&gt;<br>

</tt>
