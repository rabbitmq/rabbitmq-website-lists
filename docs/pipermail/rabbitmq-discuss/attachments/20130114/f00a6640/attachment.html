<tt>
Hi&nbsp;again,&nbsp;&lt;br&gt;Been&nbsp;doing&nbsp;a&nbsp;lot&nbsp;of&nbsp;googling&nbsp;on&nbsp;the&nbsp;queue/topic/listening&nbsp;for&nbsp;consumed&nbsp;messages&nbsp;count&nbsp;an&nbsp;found&nbsp;this&nbsp;on&nbsp;activemq&nbsp;:&nbsp;&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://activemq.apache.org/cms/handling-advisory-messages.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://activemq.apache.org/&lt;wbr&gt;cms/handling-advisory-&lt;wbr&gt;messages.html&lt;/a&gt;&lt;br&gt;<br>
It&nbsp;allows&nbsp;one&nbsp;to&nbsp;check&nbsp;the&nbsp;count&nbsp;of&nbsp;currently&nbsp;listening&nbsp;consumer&nbsp;a&nbsp;queue/topic.&nbsp;&lt;br&gt;&lt;br&gt;Is&nbsp;there&nbsp;anything&nbsp;like&nbsp;this&nbsp;in&nbsp;rabbit&nbsp;mq&nbsp;?&lt;br&gt;This<br>
&nbsp;might&nbsp;allow&nbsp;me&nbsp;to&nbsp;create&nbsp;a&nbsp;listener&nbsp;that&nbsp;would&nbsp;only&nbsp;send&nbsp;a&nbsp;message&nbsp;to&nbsp;<br>
notify&nbsp;the&nbsp;first&nbsp;manager&nbsp;that&nbsp;the&nbsp;references&nbsp;were&nbsp;removed.&lt;br&gt;<br>
Another&nbsp;could&nbsp;be&nbsp;to&nbsp;define&nbsp;the&nbsp;&quot;delete&nbsp;referenrences&quot;&nbsp;message&nbsp;to&nbsp;live&nbsp;<br>
for&nbsp;x&nbsp;consumptions&nbsp;(x&nbsp;being&nbsp;the&nbsp;number&nbsp;of&nbsp;listener&nbsp;on&nbsp;the&nbsp;&quot;delete&nbsp;<br>
references&quot;&nbsp;queue)&nbsp;and&nbsp;add&nbsp;an&nbsp;advisory&nbsp;listener&nbsp;on&nbsp;the&nbsp;deletion&nbsp;of&nbsp;the&nbsp;<br>
message&nbsp;from&nbsp;the&nbsp;queue&nbsp;to&nbsp;process&nbsp;deletion&nbsp;of&nbsp;initial&nbsp;data.&lt;br&gt;<br>
Cheers.&lt;br&gt;&lt;br&gt;Le&nbsp;jeudi&nbsp;10&nbsp;janvier&nbsp;2013&nbsp;19:22:57&nbsp;UTC+1,&nbsp;Shadowalker&nbsp;a&nbsp;Ã©crit&amp;nbsp;:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;Hi,&nbsp;&lt;br&gt;I&nbsp;need&nbsp;to&nbsp;find&nbsp;a&nbsp;solution&nbsp;to&nbsp;a&nbsp;problem&nbsp;of&nbsp;mine&nbsp;and&nbsp;I&nbsp;thought&nbsp;there&nbsp;might&nbsp;be&nbsp;one&nbsp;within&nbsp;rabbitmq&nbsp;so&nbsp;here&nbsp;it&nbsp;is&nbsp;:&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;manager&nbsp;that,&nbsp;when&nbsp;requested&nbsp;to&nbsp;delete&nbsp;an&nbsp;element&nbsp;from&nbsp;its&nbsp;DB,&nbsp;needs&nbsp;to&nbsp;notify&nbsp;all&nbsp;other&nbsp;elements&nbsp;that&nbsp;reference&nbsp;the&nbsp;element&nbsp;it&nbsp;needs&nbsp;to&nbsp;delete&nbsp;also&nbsp;no&nbsp;logner&nbsp;reference&nbsp;it.&lt;br&gt;&lt;br&gt;The&nbsp;main&nbsp;idea&nbsp;to&nbsp;keep&nbsp;in&nbsp;mind&nbsp;is&nbsp;that&nbsp;those&nbsp;references&nbsp;that&nbsp;need&nbsp;be&nbsp;removed&nbsp;are&nbsp;not&nbsp;necessarily&nbsp;stored&nbsp;in&nbsp;the&nbsp;same&nbsp;DB&nbsp;(nor&nbsp;same&nbsp;server)&nbsp;as&nbsp;the&nbsp;initial&nbsp;manager.&lt;br&gt;&lt;br&gt;So&nbsp;I&nbsp;thought&nbsp;I&nbsp;could&nbsp;use&nbsp;a&nbsp;queue&nbsp;to&nbsp;notify&nbsp;that&nbsp;references&nbsp;to&nbsp;the&nbsp;element&nbsp;I&nbsp;want&nbsp;to&nbsp;delete&nbsp;need&nbsp;to&nbsp;be&nbsp;removed.&nbsp;And&nbsp;all&nbsp;element&nbsp;that&nbsp;could&nbsp;have&nbsp;a&nbsp;reference&nbsp;to&nbsp;that&nbsp;type&nbsp;of&nbsp;element&nbsp;are&nbsp;set&nbsp;to&nbsp;listen&nbsp;on&nbsp;that&nbsp;queue.&lt;br&gt;&lt;br&gt;What&nbsp;I'd&nbsp;like&nbsp;to&nbsp;know&nbsp;now&nbsp;is&nbsp;whether&nbsp;I&nbsp;can&nbsp;configure&nbsp;my&nbsp;manager&nbsp;to&nbsp;wait&nbsp;for&nbsp;a&nbsp;return&nbsp;&quot;from&nbsp;the&nbsp;queue&quot;&nbsp;(or&nbsp;something&nbsp;else)&nbsp;to&nbsp;be&nbsp;notified&nbsp;that&nbsp;all&nbsp;references&nbsp;have&nbsp;been&nbsp;removed.&lt;br&gt;&lt;br&gt;say&nbsp;&lt;br&gt;Manager&nbsp;sends&nbsp;a&nbsp;message&nbsp;to&nbsp;queue&nbsp;Q1.&lt;br&gt;I&nbsp;can&nbsp;have&nbsp;1,2,3,more&nbsp;other&nbsp;managers&nbsp;listening&nbsp;on&nbsp;Q1.&lt;br&gt;&lt;br&gt;Each&nbsp;of&nbsp;them&nbsp;would&nbsp;consume&nbsp;the&nbsp;message&nbsp;and&nbsp;once&nbsp;all&nbsp;of&nbsp;them&nbsp;have&nbsp;consumed&nbsp;the&nbsp;message&nbsp;&lt;br&gt;I&nbsp;would&nbsp;either&nbsp;send&nbsp;directly&nbsp;a&nbsp;notification&nbsp;to&nbsp;the&nbsp;first&nbsp;manager,&nbsp;or&nbsp;create&nbsp;a&nbsp;entry&nbsp;in&nbsp;a&nbsp;queue&nbsp;that&nbsp;the&nbsp;manager&nbsp;listens&nbsp;on&nbsp;so&nbsp;that&nbsp;he&nbsp;would&nbsp;be&nbsp;notified&nbsp;that&nbsp;it&nbsp;can&nbsp;delete&nbsp;the&nbsp;element.&lt;br&gt;&lt;br&gt;&lt;br&gt;Is&nbsp;there&nbsp;anyway&nbsp;to&nbsp;do&nbsp;this&nbsp;?&lt;br&gt;Note&nbsp;:&nbsp;the&nbsp;fact&nbsp;that&nbsp;the&nbsp;complete&nbsp;removal&nbsp;of&nbsp;the&nbsp;element&nbsp;is&nbsp;not&nbsp;immediate&nbsp;is&nbsp;not&nbsp;an&nbsp;issue&nbsp;(&nbsp;ex:&nbsp;I&nbsp;can&nbsp;ask&nbsp;for&nbsp;deletion&nbsp;a&nbsp;11:00&nbsp;and&nbsp;the&nbsp;deletion&nbsp;be&nbsp;effective&nbsp;at&nbsp;13:00)&lt;br&gt;Note2&nbsp;:&nbsp;I've&nbsp;seen&nbsp;the&nbsp;documentation&nbsp;about&nbsp;RPC&nbsp;calls&nbsp;but&nbsp;this&nbsp;is&nbsp;not&nbsp;really&nbsp;what&nbsp;I'm&nbsp;looking&nbsp;for&nbsp;and&nbsp;if&nbsp;avoidable,&nbsp;I'll&nbsp;rather&nbsp;do&nbsp;so.&lt;br&gt;&lt;br&gt;Thanks.&lt;br&gt;&lt;br&gt;Cheers.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/blockquote&gt;
</tt>
