<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;Thank&nbsp;you,&nbsp;Matthias!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;&amp;quot;total&nbsp;payload&nbsp;size&nbsp;of&nbsp;messages&nbsp;in&nbsp;a&nbsp;queue&amp;quot;&nbsp;feature&nbsp;would&nbsp;perfectly&nbsp;suit&nbsp;our&nbsp;needs.&nbsp; I&nbsp;completely&nbsp;understand&nbsp;the&nbsp;low&nbsp;priority&nbsp;of&nbsp;this&nbsp;and&nbsp;the&nbsp;other&nbsp;queue&nbsp;policies;&nbsp;our&nbsp;situation&nbsp;fortunately&nbsp;appears&nbsp;to&nbsp;be&nbsp;an&nbsp;exceedingly&nbsp;unusual&nbsp;one&nbsp;across&nbsp;the&nbsp;community&nbsp;(and&nbsp;tantamount&nbsp;to&nbsp;broker&nbsp;abuse).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;By&nbsp;the&nbsp;way&nbsp;-&nbsp;the&nbsp;changes&nbsp;between&nbsp;2.8.7&nbsp;and&nbsp;the&nbsp;3.x&nbsp;releases&nbsp;have&nbsp;been&nbsp;an&nbsp;enormous&nbsp;help&nbsp;to&nbsp;us.&nbsp; RabbitMQ&nbsp;has&nbsp;long&nbsp;been&nbsp;the&nbsp;most&nbsp;reliable&nbsp;part&nbsp;of&nbsp;our&nbsp;architecture,&nbsp;and&nbsp;with&nbsp;every&nbsp;release&nbsp;we&nbsp;find&nbsp;it&nbsp;to&nbsp;be&nbsp;more&nbsp;reliable&nbsp;and&nbsp;easier&nbsp;to&nbsp;configure&nbsp;and&nbsp;monitor.&nbsp; On&nbsp;top&nbsp;of&nbsp;all&nbsp;that,&nbsp;the&nbsp;new&nbsp;features&nbsp;and&nbsp;enhancements&nbsp;have&nbsp;frequently&nbsp;obviated&nbsp;the&nbsp;need&nbsp;for&nbsp;sizeable&nbsp;portions&nbsp;of&nbsp;our&nbsp;applications.&nbsp; Judging&nbsp;by&nbsp;the&nbsp;repository&nbsp;(particularly&nbsp;the&nbsp;bug25553&nbsp;branch)&nbsp;and&nbsp;other&nbsp;discussions&nbsp;on&nbsp;the&nbsp;mailing&nbsp;list,&nbsp;we&nbsp;can&nbsp;expect&nbsp;even&nbsp;more&nbsp;of&nbsp;that&nbsp;in&nbsp;the&nbsp;future.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;That&amp;#39;s&nbsp;all&nbsp;to&nbsp;say&nbsp;-&nbsp;thanks&nbsp;guys.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jul&nbsp;10,&nbsp;2013&nbsp;at&nbsp;3:36&nbsp;AM,&nbsp;Matthias&nbsp;Radestock&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Joe,&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;08/07/13&nbsp;15:28,&nbsp;Joseph&nbsp;Weeks&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;determine&nbsp;a&nbsp;queue&amp;#39;s&nbsp;size&nbsp;in&nbsp;bytes?&nbsp; I&amp;#39;m&nbsp;mostly&lt;br&gt;<br>
interested&nbsp;in&nbsp;size&nbsp;on&nbsp;disk,&nbsp;but&nbsp;the&nbsp;sum&nbsp;of&nbsp;memory&nbsp;and&nbsp;disk&nbsp;would&nbsp;be&lt;br&gt;<br>
sufficient&nbsp;if&nbsp;that&nbsp;happens&nbsp;to&nbsp;be&nbsp;more&nbsp;readily&nbsp;available.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
In&nbsp;general&nbsp;that&nbsp;is&nbsp;impossible,&nbsp;since&nbsp;messages&nbsp;sent&nbsp;to&nbsp;multiple&nbsp;queues&nbsp;are&nbsp;only&nbsp;stored&nbsp;on&nbsp;disk&nbsp;once&nbsp;and&nbsp;their&nbsp;payloads&nbsp;are&nbsp;shared&nbsp;in&nbsp;memory.&lt;br&gt;<br>
&lt;br&gt;<br>
Then&nbsp;there&amp;#39;s&nbsp;the&nbsp;added&nbsp;complication&nbsp;that&nbsp;actual&nbsp;memory&nbsp;use&nbsp;of&nbsp;a&nbsp;message&lt;br&gt;<br>
is&nbsp;difficult&nbsp;to&nbsp;work&nbsp;out&nbsp;at&nbsp;best,&nbsp;and&nbsp;impossible&nbsp;if&nbsp;taking&nbsp;into&nbsp;account&nbsp;memory&nbsp;fragmentation&nbsp;and&nbsp;gc&nbsp;effects.&nbsp;on-disk&nbsp;size&nbsp;is&nbsp;quite&nbsp;hard&nbsp;to&nbsp;calculate&nbsp;too.&lt;br&gt;<br>
&lt;br&gt;<br>
Having&nbsp;said&nbsp;that,&nbsp;I&nbsp;suppose&nbsp;we&nbsp;could&nbsp;track&nbsp;the&nbsp;&amp;quot;total&nbsp;payload&nbsp;size&nbsp;of&nbsp;messages&nbsp;in&nbsp;a&nbsp;queue&amp;quot;,&nbsp;which&nbsp;would&nbsp;probably&nbsp;suffice&nbsp;for&nbsp;your&nbsp;use&nbsp;case.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;have&nbsp;just&nbsp;filed&nbsp;a&nbsp;feature&nbsp;request&nbsp;for&nbsp;that.&nbsp;It&amp;#39;s&nbsp;not&nbsp;a&nbsp;trivial&nbsp;piece&nbsp;of&nbsp;work&nbsp;though,&nbsp;and&nbsp;we&nbsp;haven&amp;#39;t&nbsp;had&nbsp;many&nbsp;requests&nbsp;for&nbsp;this&nbsp;functionality,&nbsp;so&nbsp;I&nbsp;wouldn&amp;#39;t&nbsp;expect&nbsp;to&nbsp;see&nbsp;this&nbsp;in&nbsp;a&nbsp;release&nbsp;soon.&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
On&nbsp;a&nbsp;related&nbsp;note,&nbsp;would&nbsp;it&nbsp;be&nbsp;possible&nbsp;for&nbsp;some&nbsp;future&nbsp;version&nbsp;of&lt;br&gt;<br>
RabbitMQ&nbsp;to&nbsp;allow&nbsp;queue&nbsp;policies&nbsp;like&nbsp;&amp;quot;x-max-length&amp;quot;&nbsp;and&nbsp;&amp;quot;x-message-ttl&amp;quot;&lt;br&gt;<br>
in&nbsp;addition&nbsp;to&nbsp;the&nbsp;queue&nbsp;declaration&nbsp;arguments?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Yes.&nbsp;It&amp;#39;s&nbsp;on&nbsp;our&nbsp;todo&nbsp;list,&nbsp;but&nbsp;not&nbsp;a&nbsp;priority.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
&lt;br&gt;<br>
Matthias.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
