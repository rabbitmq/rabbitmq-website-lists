<tt>
&lt;font&nbsp;face=&quot;arial&quot;&nbsp;size=&quot;2&quot;&gt;&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;Hi&nbsp;Matthias,&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;I&nbsp;didn't&nbsp;believe&nbsp;it&nbsp;at&nbsp;first&nbsp;either&nbsp;;)&nbsp;Our&nbsp;java&nbsp;lead&nbsp;got&nbsp;a&nbsp;little&nbsp;pissed&nbsp;as&nbsp;I&nbsp;kept&nbsp;demanding&nbsp;proof&nbsp;that&nbsp;it&nbsp;was&nbsp;the&nbsp;same&nbsp;connection&nbsp;hehe...&nbsp;there&nbsp;are&nbsp;seperate&nbsp;channels&nbsp;on&nbsp;one&nbsp;connection...&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;brilliant&nbsp;-&nbsp;async&nbsp;it&nbsp;is&nbsp;for&nbsp;now...&nbsp;I&nbsp;really&nbsp;need&nbsp;to&nbsp;remove&nbsp;this&nbsp;showstopper&nbsp;and&nbsp;come&nbsp;back&nbsp;to&nbsp;the&nbsp;cause&nbsp;later&nbsp;-&nbsp;crashes&nbsp;aren't&nbsp;good,&nbsp;but,&nbsp;having&nbsp;someone's&nbsp;phone&nbsp;just&nbsp;hang&nbsp;there&nbsp;is&nbsp;a&nbsp;killer!!&nbsp;&amp;nbsp;As&nbsp;the&nbsp;exchanges&nbsp;are&nbsp;getting&nbsp;created&nbsp;100%&nbsp;of&nbsp;the&nbsp;time&nbsp;I&nbsp;can&nbsp;live&nbsp;without&nbsp;a&nbsp;reply..&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;thanks&nbsp;for&nbsp;all&nbsp;your&nbsp;help,&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;Matthew&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;&amp;nbsp;&lt;/p&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;-----Original&nbsp;Message-----&lt;br&nbsp;/&gt;From:&nbsp;&quot;Matthias&nbsp;Radestock&quot;&nbsp;&amp;lt;matthias@rabbitmq.com&amp;gt;&lt;br&nbsp;/&gt;Sent:&nbsp;Friday,&nbsp;August&nbsp;24,&nbsp;2012&nbsp;5:08pm&lt;br&nbsp;/&gt;To:&nbsp;m.luchak@smartasking.com&lt;br&nbsp;/&gt;Cc:&nbsp;&quot;Discussions&nbsp;about&nbsp;RabbitMQ&quot;&nbsp;&amp;lt;rabbitmq-discuss@lists.rabbitmq.com&amp;gt;&lt;br&nbsp;/&gt;Subject:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;Intermittent&nbsp;Problem&nbsp;-&nbsp;2.8.5&nbsp;java&nbsp;client&nbsp;hangs&nbsp;on&nbsp;declare&nbsp;exchange&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&lt;/p&gt;<br>
&lt;div&nbsp;id=&quot;SafeStyles1345843013&quot;&gt;<br>
&lt;p&nbsp;style=&quot;margin:0;padding:0;&quot;&gt;Matthew,&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;On&nbsp;24/08/12&nbsp;21:49,&nbsp;m.luchak@smartasking.com&nbsp;wrote:&lt;br&nbsp;/&gt;&amp;gt;&nbsp;While&nbsp;the&nbsp;client&nbsp;wait()&nbsp;is&nbsp;well,&nbsp;waiting,&nbsp;the&nbsp;device&nbsp;receives&nbsp;incoming&lt;br&nbsp;/&gt;&amp;gt;&nbsp;messages&nbsp;-&nbsp;so&nbsp;there&nbsp;is&nbsp;a&nbsp;connection&nbsp;and&nbsp;the&nbsp;heartbeat&nbsp;is&nbsp;running&lt;br&nbsp;/&gt;&amp;gt;&nbsp;normally&nbsp;and&nbsp;happily.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;The&nbsp;latter&nbsp;is&nbsp;on&nbsp;a&nbsp;different&nbsp;connection&nbsp;though,&nbsp;right?&nbsp;i.e.&nbsp;you&nbsp;are&nbsp;not&nbsp;&lt;br&nbsp;/&gt;receiving&nbsp;messages&nbsp;on&nbsp;the&nbsp;same&nbsp;connection&nbsp;that&nbsp;has&nbsp;a&nbsp;stuck&nbsp;&lt;br&nbsp;/&gt;exchange.declare,&nbsp;are&nbsp;you?&nbsp;That&nbsp;would&nbsp;be&nbsp;odder&nbsp;still.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&amp;gt;&nbsp;BTW,&nbsp;In&nbsp;the&nbsp;Javadocs&nbsp;there&nbsp;is&nbsp;an&nbsp;Exchange.Declare&nbsp;with&nbsp;a&nbsp;nowait&nbsp;boolean&nbsp;:&lt;br&nbsp;/&gt;&amp;gt;&lt;br&nbsp;/&gt;&amp;gt;&nbsp;AMQImpl.Exchange.Declare(int&nbsp;ticket,&nbsp;java.lang.String&nbsp;exchange,&lt;br&nbsp;/&gt;&amp;gt;&nbsp;java.lang.String&nbsp;type,&nbsp;boolean&nbsp;passive,&nbsp;boolean&nbsp;durable,&nbsp;boolean&lt;br&nbsp;/&gt;&amp;gt;&nbsp;autoDelete,&nbsp;boolean&nbsp;internal,&nbsp;boolean&nbsp;nowait,&lt;br&nbsp;/&gt;&amp;gt;&nbsp;java.util.Map&amp;lt;java.lang.String,java.lang.Object&amp;gt;&nbsp;arguments)&lt;br&nbsp;/&gt;&amp;gt;&lt;br&nbsp;/&gt;&amp;gt;&nbsp;However,&nbsp;this&nbsp;option&nbsp;is&nbsp;not&nbsp;available&nbsp;in&nbsp;the&nbsp;2.8.1&nbsp;or&nbsp;2.8.6&nbsp;.jar&nbsp;files&lt;br&nbsp;/&gt;&amp;gt;&nbsp;or&nbsp;source&nbsp;files...&nbsp;can&nbsp;anyone&nbsp;tell&nbsp;me&nbsp;if&nbsp;this&nbsp;overide&nbsp;is&nbsp;in&nbsp;a&nbsp;&nbsp;nightly&lt;br&nbsp;/&gt;&amp;gt;&nbsp;build&nbsp;and/or&nbsp;if&nbsp;it's&nbsp;irrelevant&nbsp;to&nbsp;the&nbsp;task&nbsp;at&nbsp;hand?&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Most&nbsp;synchronous&nbsp;AMQP&nbsp;commands&nbsp;have&nbsp;an&nbsp;async&nbsp;variant,&nbsp;triggered&nbsp;by&nbsp;&lt;br&nbsp;/&gt;setting&nbsp;the&nbsp;nowait&nbsp;flag.&nbsp;We&nbsp;don't&nbsp;expose&nbsp;convenience&nbsp;methods&nbsp;for&nbsp;that&nbsp;in&nbsp;&lt;br&nbsp;/&gt;the&nbsp;API&nbsp;but&nbsp;you&nbsp;can&nbsp;use&nbsp;Channel.asyncRpc(Method&nbsp;method)&nbsp;to&nbsp;send&nbsp;commands&nbsp;&lt;br&nbsp;/&gt;like&nbsp;that,&nbsp;e.g.&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;import&nbsp;com.rabbitmq.client.impl.AMQImpl.Exchange;&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;&nbsp;channel.asyncRpc(new&nbsp;Exchange.Declare.Builder()&lt;br&nbsp;/&gt;&nbsp;.exchange(&quot;myexchange&quot;)&lt;br&nbsp;/&gt;&nbsp;.type(&quot;direct&quot;)&lt;br&nbsp;/&gt;&nbsp;.nowait(true)&lt;br&nbsp;/&gt;&nbsp;.build());&lt;br&nbsp;/&gt;&lt;br&nbsp;/&gt;Matthias.&lt;/p&gt;<br>
&lt;/div&gt;&lt;/font&gt;
</tt>
