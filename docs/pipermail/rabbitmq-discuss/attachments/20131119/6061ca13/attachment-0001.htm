<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hi&nbsp;All,&lt;br&gt;&lt;br&gt;Im&nbsp;pretty&nbsp;new&nbsp;to&nbsp;RMQ,&nbsp;been&nbsp;messing&nbsp;about&nbsp;with&nbsp;it&nbsp;and&nbsp;noticed&nbsp;that&nbsp;publishing&nbsp;messages&nbsp;via&nbsp;pika&nbsp;seems&nbsp;quite&nbsp;slow.&lt;br&gt;&lt;br&gt;Im&nbsp;using&nbsp;a&nbsp;default&nbsp;configuration&nbsp;of&nbsp;the&nbsp;broker,&nbsp;all&nbsp;produces&nbsp;and&nbsp;consumers&nbsp;running&nbsp;on&nbsp;the&nbsp;same&nbsp;machine&nbsp;as&nbsp;the&nbsp;broker.&lt;br&gt;&lt;br&gt;What&nbsp;I'm&nbsp;noticing&nbsp;is&nbsp;that&nbsp;its&nbsp;(relatively)&nbsp;extremely&nbsp;slow&nbsp;to&nbsp;publish&nbsp;messages&nbsp;to&nbsp;the&nbsp;broker,&nbsp;but&nbsp;the&nbsp;once&nbsp;the&nbsp;broker&nbsp;has&nbsp;them,&nbsp;it&nbsp;goes&nbsp;blazingly&nbsp;fast&nbsp;in&nbsp;getting&nbsp;them&nbsp;to&nbsp;various&nbsp;consumers.&lt;br&gt;&lt;br&gt;For&nbsp;example,&nbsp;the&nbsp;below&nbsp;code&nbsp;(ripped&nbsp;off&nbsp;from&nbsp;then&nbsp;RMQ&nbsp;tutorials)&nbsp;can&nbsp;publish&nbsp;messages&nbsp;at&nbsp;around&nbsp;250-300&nbsp;messages&nbsp;per&nbsp;second,&nbsp;this&nbsp;is&nbsp;both&nbsp;in&nbsp;an&nbsp;ubuntu&nbsp;vm&nbsp;and&nbsp;on&nbsp;a&nbsp;'bare&nbsp;metal'&nbsp;Mac&nbsp;running&nbsp;OS&nbsp;X&nbsp;10.8&nbsp;(&nbsp;I&nbsp;can&nbsp;provide&nbsp;more&nbsp;detailed&nbsp;hardware&nbsp;info&nbsp;if&nbsp;needed)&lt;br&gt;&lt;br&gt;http://pastebin.com/JNXwmYx7&lt;br&gt;&lt;br&gt;The&nbsp;consumer,&nbsp;on&nbsp;the&nbsp;other&nbsp;hand&nbsp;(which&nbsp;doesn't&nbsp;do&nbsp;anything&nbsp;with&nbsp;them&nbsp;really,&nbsp;this&nbsp;is&nbsp;just&nbsp;testing),&nbsp;can&nbsp;receive&nbsp;them&nbsp;at&nbsp;up&nbsp;to&nbsp;20k&nbsp;messages&nbsp;a&nbsp;second&nbsp;if&nbsp;I&nbsp;let&nbsp;the&nbsp;queue&nbsp;build&nbsp;up.&nbsp;&lt;br&gt;&lt;br&gt;When&nbsp;I&nbsp;profiled&nbsp;my&nbsp;message&nbsp;producer,&nbsp;it&nbsp;seems&nbsp;to&nbsp;be&nbsp;spending&nbsp;the&nbsp;vast&nbsp;majority&nbsp;of&nbsp;its&nbsp;time&nbsp;polling.&nbsp;cProf&nbsp;sees:&lt;br&gt;&lt;br&gt;ncalls&amp;nbsp;&nbsp;tottime&amp;nbsp;&nbsp;percall&amp;nbsp;&nbsp;cumtime&amp;nbsp;&nbsp;percall&nbsp;filename:lineno(function)&lt;br&gt;----&lt;br&gt;308&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;3.202&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;0.010&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;3.202&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;0.010&nbsp;{built-in&nbsp;method&nbsp;poll}&lt;br&gt;----&lt;br&gt;&lt;br&gt;Is&nbsp;there&nbsp;some&nbsp;configuration&nbsp;I'm&nbsp;missing?&nbsp;Or&nbsp;am&nbsp;I&nbsp;abusing&nbsp;some&nbsp;functionality?&nbsp;Im&nbsp;making&nbsp;sure&nbsp;that&nbsp;there&nbsp;is&nbsp;no&nbsp;acks,&nbsp;and&nbsp;no&nbsp;durability&nbsp;so&nbsp;it&nbsp;should&nbsp;be&nbsp;the&nbsp;disk&nbsp;at&nbsp;least.&lt;br&gt;&lt;br&gt;Thanks&nbsp;guys!&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;
</tt>
