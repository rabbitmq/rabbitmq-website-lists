<tt>
Thanks&nbsp;Matthias&nbsp;and&nbsp;Steve. &lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;there&nbsp;a&nbsp;better(or&nbsp;more&nbsp;common/supported)&nbsp;way&nbsp;to&nbsp;pool&nbsp;channels(so&nbsp;I&nbsp;reduce&nbsp;blocking&nbsp;on&nbsp;threaded&nbsp;message&nbsp;passing)?&nbsp; I&amp;#39;d&nbsp;rather&nbsp;not&nbsp;waste&nbsp;anyone&amp;#39;s&nbsp;time&nbsp;if&nbsp;there&amp;#39;s&nbsp;already&nbsp;a&nbsp;tried&nbsp;and&nbsp;test&nbsp;solution&nbsp;out&nbsp;there&nbsp;for&nbsp;pooling.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Enjoy&nbsp;the&nbsp;holidays!&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;May&nbsp;4,&nbsp;2012&nbsp;at&nbsp;7:24&nbsp;AM,&nbsp;Matthias&nbsp;Radestock&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;03/05/12&nbsp;04:34,&nbsp;Gautam&nbsp;Bakshi&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&nbsp;have&nbsp;a&nbsp;multi-threaded&nbsp;application&nbsp;that&nbsp;I&nbsp;was&nbsp;considering&nbsp;using&lt;br&gt;<br>
rabbitmq&nbsp;to&nbsp;manage&nbsp;the&nbsp;queue&nbsp;but&nbsp;I&amp;#39;m&nbsp;getting&nbsp;alot&nbsp;of&nbsp;blocking&nbsp;between&lt;br&gt;<br>
my&nbsp;channels.&nbsp; Is&nbsp;there&nbsp;a&nbsp;preferred&nbsp;way&nbsp;to&nbsp;setup&nbsp;pools?&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;a&nbsp;bit&nbsp;new&nbsp;to&nbsp;Java&nbsp;so&nbsp;I&nbsp;used&nbsp;to&nbsp;the&nbsp;pools&nbsp;from&nbsp;apache&nbsp;commons&nbsp;but&lt;br&gt;<br>
 when&nbsp;I&nbsp;profile&nbsp;the&nbsp;channels&nbsp;are&nbsp;all&nbsp;blocking&nbsp;each&nbsp;other.&nbsp; To&nbsp;test&nbsp;if&lt;br&gt;<br>
 dedicated&nbsp;connections&nbsp;per&nbsp;thread&nbsp;worked&nbsp;better&nbsp;I&nbsp;made&nbsp;an&nbsp;example&nbsp;of&lt;br&gt;<br>
it&nbsp;as&nbsp;well&nbsp;and&nbsp;it&nbsp;does&nbsp;not&nbsp;block&nbsp;when&nbsp;the&nbsp;same&nbsp;program&nbsp;has&nbsp;a&nbsp;single&lt;br&gt;<br>
channel&nbsp;per&nbsp;connection.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;my&nbsp;question,&nbsp;do&nbsp;channels&nbsp;block&nbsp;each&nbsp;other&nbsp;or&nbsp;am&nbsp;I&nbsp;doing&nbsp;something&lt;br&gt;<br>
 wrong(using&nbsp;java&nbsp;api&nbsp;wrong&nbsp;or&nbsp;misunderstanding&lt;br&gt;<br>
connection/channels)?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Channels&nbsp;are&nbsp;multiplexed&nbsp;on&nbsp;the&nbsp;underlying&nbsp;connection.&nbsp;So&nbsp;when&nbsp;an&nbsp;app&lt;br&gt;<br>
is,&nbsp;say,&nbsp;publishing&nbsp;messages&nbsp;on&nbsp;multiple&nbsp;channels,&nbsp;these&nbsp;activities&nbsp;will&lt;br&gt;<br>
be&nbsp;serialised&nbsp;at&nbsp;the&nbsp;point&nbsp;the&nbsp;client&nbsp;interacts&nbsp;with&nbsp;the&nbsp;network&nbsp;socket.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
there&nbsp;a&nbsp;more&nbsp;preferred&nbsp;way?&nbsp;Unrelated&nbsp;to&nbsp;the&nbsp;question,&nbsp;but&nbsp;I&nbsp;was&nbsp;also&lt;br&gt;<br>
 wondering&nbsp;is&nbsp;there&nbsp;any&nbsp;difference&nbsp;between&nbsp;channels&nbsp;and&nbsp;connections&lt;br&gt;<br>
in&nbsp;terms&nbsp;of&nbsp;throughput(i.e.&nbsp;would&nbsp;there&nbsp;be&nbsp;any&nbsp;benefit&nbsp;of&nbsp;using&lt;br&gt;<br>
dedicated&nbsp;connections&nbsp;ignoring&nbsp;the&nbsp;overhead&nbsp;in&lt;br&gt;<br>
establishing/maintaining&nbsp;the&nbsp;connection)?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
You&nbsp;can&nbsp;get&nbsp;exploit&nbsp;more&nbsp;parallelism&nbsp;in&nbsp;both&nbsp;the&nbsp;client&nbsp;and&nbsp;server&nbsp;when&lt;br&gt;<br>
using&nbsp;multiple&nbsp;connections&nbsp;compared&nbsp;to&nbsp;multiple&nbsp;channels.&nbsp;But&nbsp;it&nbsp;is&lt;br&gt;<br>
ultimately&nbsp;more&nbsp;costly&nbsp;in&nbsp;CPU&nbsp;and&nbsp;memory.&nbsp;Plus&nbsp;of&nbsp;course&nbsp;network&lt;br&gt;<br>
capacity&nbsp;is&nbsp;bounded,&nbsp;so&nbsp;if&nbsp;you&nbsp;are&nbsp;saturating&nbsp;that&nbsp;with&nbsp;a&nbsp;single&lt;br&gt;<br>
connection&nbsp;then&nbsp;using&nbsp;more&nbsp;than&nbsp;one&nbsp;will&nbsp;not&nbsp;gain&nbsp;anything.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;the&nbsp;answer&nbsp;on&nbsp;whether&nbsp;multiple&nbsp;channels&nbsp;or&nbsp;multiple&nbsp;connections&nbsp;are&lt;br&gt;<br>
better&nbsp;very&nbsp;much&nbsp;depends&nbsp;on&nbsp;the&nbsp;application,&nbsp;the&nbsp;hardware&nbsp;environment&lt;br&gt;<br>
at&nbsp;the&nbsp;client&nbsp;and&nbsp;broker&nbsp;end,&nbsp;and&nbsp;the&nbsp;network.&nbsp;Hence&nbsp;your&nbsp;best&nbsp;bet&nbsp;is&nbsp;to&nbsp;conduct&nbsp;some&nbsp;tests,&nbsp;which&nbsp;you&nbsp;are&nbsp;already&nbsp;doing&nbsp;:)&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
&lt;br&gt;<br>
Matthias.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;Regards,&lt;br&gt;&lt;br&gt;Gautam&nbsp;Bakshi&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
