<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,204,204);padding-left:1ex&quot;&gt;<br>
Certainly&nbsp;I&nbsp;can&nbsp;populate&nbsp;100&nbsp;queues&nbsp;with&nbsp;1,000&nbsp;messages&nbsp;each&nbsp;in&nbsp;a&nbsp;rather&nbsp;small&nbsp;fraction&nbsp;of&nbsp;a&nbsp;second&nbsp;with&nbsp;the&nbsp;PerfTest&nbsp;tool&nbsp;(&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/java-tools.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/java-tools.html&lt;/a&gt;)&nbsp;if&nbsp;the&nbsp;same&nbsp;message&nbsp;goes&nbsp;to&nbsp;all&nbsp;queues&nbsp;1,000&nbsp;times,&nbsp;or&nbsp;in&nbsp;less&nbsp;than&nbsp;10&nbsp;seconds&nbsp;if&nbsp;each&nbsp;message&nbsp;is&nbsp;distinct&lt;/blockquote&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Quick&nbsp;question&nbsp;about&nbsp;using&nbsp;this&nbsp;perftest&nbsp;tool.&nbsp;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;use&nbsp;it&nbsp;to&nbsp;populate&nbsp;my&nbsp;test&nbsp;queues&nbsp;quicker&nbsp;for&nbsp;future&nbsp;tests,&nbsp;but&nbsp;I&nbsp;can&amp;#39;t&nbsp;seem&nbsp;to&nbsp;get&nbsp;it&nbsp;to&nbsp;leave&nbsp;the&nbsp;messages&nbsp;in&nbsp;the&nbsp;queues.&nbsp;With&nbsp;a&nbsp;queue&nbsp;called&nbsp;&amp;quot;test&amp;quot;,&nbsp;it&nbsp;was&nbsp;enough&nbsp;with&nbsp;amqp-publish&nbsp;to&nbsp;set&nbsp;the&nbsp;routing&nbsp;key&nbsp;to&nbsp;&amp;quot;test&amp;quot;,&nbsp;and&nbsp;messages&nbsp;would&nbsp;get&nbsp;delivered&nbsp;to&nbsp;that&nbsp;queue.&nbsp;However,&nbsp;with&nbsp;this&nbsp;tool,&nbsp;I&nbsp;can&nbsp;see&nbsp;messages&nbsp;being&nbsp;delivered&nbsp;to&nbsp;the&nbsp;cluster,&nbsp;but&nbsp;they&nbsp;never&nbsp;make&nbsp;it&nbsp;to&nbsp;the&nbsp;queue&nbsp;or&nbsp;are&nbsp;retained&nbsp;there:&lt;br&gt;<br>
&lt;br&gt;./runjava.sh&nbsp;com.rabbitmq.examples.PerfTest&nbsp;-k&nbsp;&amp;quot;test&amp;quot;&nbsp;-C&nbsp;100000&nbsp;-x&nbsp;1&nbsp;-y&nbsp;0&nbsp;-s&nbsp;4&nbsp;-f&nbsp;persistent&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;(I&amp;#39;m&nbsp;assuming&nbsp;the&nbsp;-s&nbsp;size&nbsp;is&nbsp;in&nbsp;bytes)&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&amp;#39;re&nbsp;right&nbsp;that&nbsp;it&nbsp;does&nbsp;seem&nbsp;much&nbsp;faster,&nbsp;but&nbsp;without&nbsp;it&nbsp;actually&nbsp;storing&nbsp;to&nbsp;a&nbsp;queue&nbsp;it&amp;#39;s&nbsp;hard&nbsp;to&nbsp;say&nbsp;whether&nbsp;it&amp;#39;s&nbsp;even&nbsp;attempting&nbsp;the&nbsp;same&nbsp;operations.&nbsp;It&nbsp;appears&nbsp;as&nbsp;if&nbsp;this&nbsp;tool&nbsp;uses&nbsp;the&nbsp;&amp;quot;direct&amp;quot;&nbsp;exchange,&nbsp;which&nbsp;doesn&amp;#39;t&nbsp;route&nbsp;anywhere,&nbsp;and&nbsp;so&nbsp;messages&nbsp;are&nbsp;immediately&nbsp;dropped.&nbsp;I&nbsp;can&amp;#39;t&nbsp;seem&nbsp;to&nbsp;figure&nbsp;out&nbsp;how&nbsp;to&nbsp;use&nbsp;the&nbsp;default&nbsp;exchange,&nbsp;unlike&nbsp;amqp-publish,&nbsp;specifying&nbsp;the&nbsp;empty&nbsp;string&nbsp;as&nbsp;an&nbsp;exchange&nbsp;just&nbsp;causes&nbsp;a&nbsp;big&nbsp;java&nbsp;stack&nbsp;dump&nbsp;with&nbsp;this&nbsp;tool.&nbsp;Any&nbsp;suggestions?&lt;br&gt;<br>
&lt;br&gt;Graeme&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
