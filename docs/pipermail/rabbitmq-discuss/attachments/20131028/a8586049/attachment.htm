<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Anybody?&nbsp;&amp;nbsp;Are&nbsp;there&nbsp;any&nbsp;white&nbsp;papers&nbsp;anywhere&nbsp;on&nbsp;how&nbsp;to&nbsp;configure&nbsp;federation&nbsp;in&nbsp;rabbitmq.config&nbsp;similar&nbsp;to&nbsp;what&nbsp;I'm&nbsp;doing&nbsp;above?&nbsp;&amp;nbsp;Its&nbsp;much&nbsp;easier&nbsp;to&nbsp;deploy&nbsp;a&nbsp;single&nbsp;file&nbsp;to&nbsp;each&nbsp;system&nbsp;to&nbsp;configure&nbsp;rabbitmq&nbsp;than&nbsp;run&nbsp;a&nbsp;set&nbsp;of&nbsp;rabbitmqctl&nbsp;commands&nbsp;in&nbsp;a&nbsp;script.&amp;nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Robert&lt;br&gt;&lt;br&gt;On&nbsp;Tuesday,&nbsp;October&nbsp;22,&nbsp;2013&nbsp;2:18:01&nbsp;PM&nbsp;UTC-5,&nbsp;Robert&nbsp;Parker&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0;margin-left:&nbsp;0.8ex;border-left:&nbsp;1px&nbsp;#ccc&nbsp;solid;padding-left:&nbsp;1ex;&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I'm&nbsp;having&nbsp;trouble&nbsp;finding&nbsp;good&nbsp;examples&nbsp;of&nbsp;how&nbsp;to&nbsp;configure&nbsp;a&amp;nbsp;rabbitmq.config&nbsp;file&nbsp;to&nbsp;do&nbsp;what&nbsp;I've&nbsp;been&nbsp;doing&nbsp;with&nbsp;a&nbsp;set&nbsp;of&nbsp;rabbitmqctl&nbsp;commands.&nbsp;&amp;nbsp;Here's&nbsp;the&nbsp;script&nbsp;I&nbsp;use&nbsp;to&nbsp;configure&nbsp;clustering&nbsp;and&nbsp;federation&nbsp;for&nbsp;one&nbsp;of&nbsp;my&nbsp;rabbitmq&nbsp;clusters:&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;40px;border:none;padding:0px&quot;&gt;&lt;div&gt;&lt;div&gt;#!/bin/bash&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;stop_app&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;reset&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;join_cluster&nbsp;rabbit@rabbit2&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;start_app&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmq-plugins&nbsp;enable&nbsp;rabbitmq_federation&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmq-plugins&nbsp;enable&nbsp;rabbitmq_federation_management&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmq-plugins&nbsp;enable&nbsp;rabbitmq_management&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;service&nbsp;rabbitmq-server&nbsp;restart&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;set_parameter&nbsp;federation-upstream&nbsp;cluster1-upstream&nbsp;'{&quot;uri&quot;:[&quot;amqp://&lt;a&nbsp;href=&quot;http://rabbit3.example.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbit3.&lt;wbr&gt;example.com&lt;/a&gt;&quot;,&quot;amqp://&lt;a&nbsp;href=&quot;http://rabbit4.example.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbit4.&lt;wbr&gt;example.com&lt;/a&gt;&quot;],&quot;expires&quot;:&lt;wbr&gt;3600000}'&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;rabbitmqctl&nbsp;set_policy&nbsp;federate-mything&nbsp;&quot;^Mything$&quot;&nbsp;'{&quot;federation-upstream-set&quot;:&quot;&lt;wbr&gt;all&quot;}'&nbsp;0&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;How&nbsp;do&nbsp;I&nbsp;convert&nbsp;that&nbsp;into&nbsp;a&nbsp;format&nbsp;that&nbsp;will&nbsp;work&nbsp;in&nbsp;a&nbsp;rabbitmq.config&nbsp;so&nbsp;that&nbsp;all&nbsp;I&nbsp;need&nbsp;to&nbsp;do&nbsp;is&nbsp;drop&nbsp;this&nbsp;config&nbsp;file&nbsp;in,&nbsp;reset&nbsp;the&nbsp;node,&nbsp;then&nbsp;restart&nbsp;rabbitmq-server&nbsp;to&nbsp;get&nbsp;this&nbsp;configuration&nbsp;working?&nbsp;&amp;nbsp;Also,&nbsp;if&nbsp;you&nbsp;put&nbsp;your&nbsp;cluster&nbsp;config&nbsp;into&nbsp;rabbitmq.config&nbsp;&amp;nbsp;on&nbsp;both&nbsp;nodes&nbsp;to&nbsp;be&nbsp;clustered,&nbsp;will&nbsp;they&nbsp;automatically&nbsp;set&nbsp;the&nbsp;correct&amp;nbsp;/var/lib/rabbitmq/.&lt;wbr&gt;erlang.cookie&nbsp;or&nbsp;must&nbsp;that&nbsp;step&nbsp;still&nbsp;be&nbsp;done&nbsp;manually?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;
</tt>
