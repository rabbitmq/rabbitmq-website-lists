<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;That&nbsp;doesn&amp;#39;t&nbsp;seem&nbsp;like&nbsp;much.&nbsp;I&nbsp;just&nbsp;created&nbsp;5k&nbsp;exchanges&nbsp;and&lt;br&gt;<br>
created/bound&nbsp;2&nbsp;queues&nbsp;to&nbsp;each&nbsp;(i.e.&nbsp;10k&nbsp;queues),&nbsp;which&nbsp;took&nbsp;about&nbsp;9&lt;br&gt;<br>
secs&nbsp;to&nbsp;complete,&nbsp;and&nbsp;then&nbsp;I&nbsp;shut&nbsp;the&nbsp;broker&nbsp;down,&nbsp;and&nbsp;restarted&nbsp;it.&lt;br&gt;<br>
The&nbsp;recovery&nbsp;phase&nbsp;took&nbsp;about&nbsp;20&nbsp;secs,&nbsp;so&nbsp;I&amp;#39;m&nbsp;wondering&nbsp;what&nbsp;is&nbsp;taking&lt;br&gt;<br>
so&nbsp;long&nbsp;when&nbsp;your&nbsp;broker&nbsp;has&nbsp;to&nbsp;recover.&nbsp;Another&nbsp;possibility&nbsp;is&nbsp;that&lt;br&gt;<br>
it&nbsp;is&nbsp;spending&nbsp;the&nbsp;time&nbsp;in&nbsp;playing&nbsp;the&nbsp;log&nbsp;back&nbsp;in,&nbsp;which&nbsp;happens&lt;br&gt;<br>
after&nbsp;the&nbsp;mnesia&nbsp;recovery&nbsp;phase.&lt;/blockquote&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Are&nbsp;there&nbsp;any&nbsp;other&nbsp;commands&nbsp;or&nbsp;options&nbsp;for&nbsp;triggering&nbsp;a&nbsp;shutdown&nbsp;of&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;My&nbsp;favourites&nbsp;are&nbsp;Ctrl-C,&nbsp;kill-9&nbsp;and&nbsp;halt()&nbsp;:-)&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;These&nbsp;are&nbsp;not&nbsp;graceful&nbsp;though,&nbsp;correct?&nbsp;Ideally&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;stop&nbsp;the&nbsp;daemon&nbsp;in&nbsp;such&nbsp;a&nbsp;way&nbsp;that&nbsp;a&nbsp;recovery&nbsp;step&nbsp;is&nbsp;not&nbsp;required&nbsp;on&nbsp;the&nbsp;next&nbsp;startup.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;On&nbsp;a&nbsp;more&nbsp;official&nbsp;note,&nbsp;you&nbsp;can&nbsp;call&nbsp;use&nbsp;the&nbsp;rabbitmqctl&nbsp;script&nbsp;with&lt;br&gt;<br>
the&nbsp;argument&nbsp;stop,&nbsp;but&nbsp;that&nbsp;just&nbsp;calls&nbsp;the&nbsp;rabbit_control&nbsp;module&nbsp;with&lt;br&gt;<br>
the&nbsp;stop&nbsp;argument,&nbsp;which&nbsp;is&nbsp;what&nbsp;you&nbsp;are&nbsp;effectively&nbsp;doing&nbsp;with&nbsp;the&lt;br&gt;<br>
command&nbsp;you&nbsp;mentioned&nbsp;previously.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;do&nbsp;have&nbsp;Rabbit&nbsp;running&nbsp;in&nbsp;a&nbsp;shell&nbsp;(or&nbsp;even&nbsp;via&nbsp;a&nbsp;remote&nbsp;shell),&lt;br&gt;<br>
another&nbsp;*cleaner*&nbsp;option&nbsp;is&nbsp;use&nbsp;the&nbsp;OTP&nbsp;application&nbsp;handler&nbsp;i.e.&lt;br&gt;<br>
&lt;br&gt;<br>
1&amp;gt;&nbsp;application:stop(rabbit).&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ll&nbsp;try&nbsp;this&nbsp;and&nbsp;see&nbsp;if&nbsp;it&nbsp;produces&nbsp;better&nbsp;results.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
I&amp;#39;ll&nbsp;try&nbsp;to&nbsp;replicate&nbsp;your&nbsp;problem&nbsp;running&nbsp;the&nbsp;same&nbsp;command&nbsp;as&nbsp;you&nbsp;did.&lt;br&gt;<br>
&lt;br&gt;<br>
BTW,&nbsp;when&nbsp;you&nbsp;run&nbsp;this&nbsp;command,&nbsp;do&nbsp;you&nbsp;see&nbsp;an&nbsp;epmd&nbsp;process&nbsp;running&nbsp;in&lt;br&gt;<br>
your&nbsp;activity&nbsp;log?&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;epmd&nbsp;is&nbsp;running&nbsp;on&nbsp;the&nbsp;machine.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&amp;nbsp;&amp;nbsp;Aman&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
