<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Hello,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;m&nbsp;using&nbsp;the&nbsp;very&nbsp;last&nbsp;rabbitmq&nbsp;version&nbsp;(3.1.0),&nbsp;with&nbsp;3&nbsp;nodes&nbsp;and&nbsp;I&nbsp;have&nbsp;trouble&nbsp;clustering&nbsp;them&nbsp;in&nbsp;an&nbsp;automatic&nbsp;way&nbsp;(using&nbsp;rabbit.config).&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;it&nbsp;matters&nbsp;but&nbsp;2&nbsp;of&nbsp;the&nbsp;nodes&nbsp;are&nbsp;running&nbsp;debian&nbsp;6&nbsp;and&nbsp;one&nbsp;is&nbsp;running&nbsp;debian&nbsp;7&nbsp;(beta).&nbsp;But&nbsp;anyway&nbsp;this&nbsp;happens&nbsp;even&nbsp;with&nbsp;only&nbsp;the&nbsp;two&nbsp;squeezes.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;short,&nbsp;if&nbsp;I&nbsp;don&amp;#39;t&nbsp;specify&nbsp;any&nbsp;rabbit.config,&nbsp;and&nbsp;do&nbsp;the&nbsp;following&nbsp;:&lt;/div&gt;&lt;div&gt;&amp;lt;node1&amp;gt;:&nbsp;rabbitmq-server&nbsp;-detached&lt;/div&gt;&lt;div&gt;&amp;lt;node2&amp;gt;:&nbsp;rabbitmq-server&nbsp;-detached&lt;/div&gt;&lt;div&gt;&amp;lt;node2&amp;gt;:&nbsp;rabbitmqctl&nbsp;stop_app&lt;/div&gt;<br>
<br>
&lt;div&gt;&amp;lt;node2&amp;gt;:&nbsp;rabbitmqctl&nbsp;join_cluster&nbsp;rabbit@&amp;lt;node1&amp;gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&amp;lt;node2&amp;gt;:&nbsp;rabbitmqctl&nbsp;start_app&lt;/div&gt;&lt;div&gt;&lt;div&gt;&amp;lt;node3&amp;gt;:&nbsp;rabbitmq-server&nbsp;-detached&lt;/div&gt;&lt;div&gt;&amp;lt;node3&amp;gt;:&nbsp;rabbitmqctl&nbsp;stop_app&lt;/div&gt;<br>
<br>
&lt;div&gt;&amp;lt;node3&amp;gt;:&nbsp;rabbitmqctl&nbsp;join_cluster&nbsp;rabbit@&amp;lt;node1&amp;gt;&lt;/div&gt;&amp;lt;node3&amp;gt;:&nbsp;rabbitmqctl&nbsp;start_app&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;The&nbsp;cluster&nbsp;works&nbsp;perfectly,&nbsp;BUT&nbsp;if&nbsp;I&nbsp;try&nbsp;to&nbsp;set&nbsp;it&nbsp;up&nbsp;in&nbsp;the&nbsp;rabbit.config&nbsp;file&nbsp;like&nbsp;so&nbsp;: &lt;/div&gt;<br>
<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {cluster_nodes,&nbsp;{[&amp;#39;rabbit@&amp;lt;node1&amp;gt;&amp;#39;,&nbsp;&amp;#39;rabbit@&amp;lt;node2&amp;gt;&amp;#39;,&nbsp;&amp;#39;rabbit@&amp;lt;node3&amp;gt;&amp;#39;],&nbsp; disk}},&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;The&nbsp;first&nbsp;node&nbsp;I&nbsp;start&nbsp;does&nbsp;fine,&nbsp;but&nbsp;the&nbsp;other&nbsp;two&nbsp;crash&nbsp;every&nbsp;time.&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;Here&nbsp;are&nbsp;a&nbsp;few&nbsp;logs&nbsp;: &lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&amp;gt;&nbsp;&lt;b&gt;startup_err&lt;/b&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;div&gt;Crash&nbsp;dump&nbsp;was&nbsp;written&nbsp;to:&nbsp;erl_crash.dump&lt;/div&gt;&lt;div&gt;init&nbsp;terminating&nbsp;in&nbsp;do_boot&nbsp;()&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&amp;gt;&nbsp;&lt;b&gt;startup_log&lt;/b&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;RabbitMQ&nbsp;3.1.0.&nbsp;Copyright&nbsp;(C)&nbsp;2007-2013&nbsp;VMware,&nbsp;Inc.&lt;/div&gt;&lt;div&gt; &nbsp;##&nbsp; ##&nbsp; &nbsp; &nbsp; Licensed&nbsp;under&nbsp;the&nbsp;MPL.&nbsp; See&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/&quot;&gt;http://www.rabbitmq.com/&lt;/a&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp;##&nbsp; ##&lt;/div&gt;&lt;div&gt; &nbsp;##########&nbsp; Logs:&nbsp;/var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;.log&lt;/div&gt;&lt;div&gt; &nbsp;######&nbsp; ##&nbsp; &nbsp; &nbsp; &nbsp; /var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;-sasl.log&lt;/div&gt;&lt;div&gt; &nbsp;##########&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Starting&nbsp;broker...&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;BOOT&nbsp;FAILED&lt;/div&gt;&lt;div&gt;===========&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Error&nbsp;description:&lt;/div&gt;&lt;div&gt; &nbsp; function_clause&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Log&nbsp;files&nbsp;(may&nbsp;contain&nbsp;more&nbsp;information):&lt;/div&gt;&lt;div&gt; &nbsp; /var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;.log&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; /var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;-sasl.log&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Stack&nbsp;trace:&lt;/div&gt;&lt;div&gt; &nbsp; [{rabbit_table,create_local_copy,[disk],[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit_mnesia,init_db,3,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit_mnesia,init_db_and_upgrade,3,[]},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;{rabbit_mnesia,init_from_config,0,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit_mnesia,init,0,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit,&amp;#39;-run_boot_step/1-lc$^1/1-1-&amp;#39;,1,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit,run_boot_step,1,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit,&amp;#39;-start/2-lc$^0/1-0-&amp;#39;,1,[]}]&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;BOOT&nbsp;FAILED&lt;/div&gt;&lt;div&gt;===========&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Error&nbsp;description:&lt;/div&gt;&lt;div&gt; &nbsp; {could_not_start,rabbit,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; {bad_return,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{rabbit,start,[normal,[]]},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&amp;#39;EXIT&amp;#39;,{rabbit,failure_during_boot,function_clause}}}}}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Log&nbsp;files&nbsp;(may&nbsp;contain&nbsp;more&nbsp;information):&lt;/div&gt;&lt;div&gt; &nbsp; /var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;.log&lt;/div&gt;&lt;div&gt; &nbsp; /var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;-sasl.log&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;{&amp;quot;init&nbsp;terminating&nbsp;in&nbsp;do_boot&amp;quot;,{rabbit,failure_during_boot,{could_not_start,rabbit,{bad_return,{{rabbit,start,[normal,[]]},{&amp;#39;EXIT&amp;#39;,{rabbit,failure_during_boot,function_clause}}}}}}}&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&amp;gt;&nbsp;&lt;b&gt;rabbit@&amp;lt;node2&amp;gt;.log&lt;/b&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;3-May-2013::13:25:11&nbsp;===&lt;/div&gt;&lt;div&gt;Starting&nbsp;RabbitMQ&nbsp;3.1.0&nbsp;on&nbsp;Erlang&nbsp;R15B01&lt;/div&gt;&lt;div&gt;Copyright&nbsp;(C)&nbsp;2007-2013&nbsp;VMware,&nbsp;Inc.&lt;/div&gt;<br>
<br>
&lt;div&gt;Licensed&nbsp;under&nbsp;the&nbsp;MPL.&nbsp; See&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/&quot;&gt;http://www.rabbitmq.com/&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;3-May-2013::13:25:11&nbsp;===&lt;/div&gt;&lt;div&gt;node&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;:&nbsp;rabbit@&amp;lt;node2&amp;gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
home&nbsp;dir&nbsp; &nbsp; &nbsp; &nbsp;:&nbsp;/var/lib/rabbitmq&lt;/div&gt;&lt;div&gt;cookie&nbsp;hash&nbsp; &nbsp; :&nbsp;*************************&lt;/div&gt;&lt;div&gt;log&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; :&nbsp;/var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;.log&lt;/div&gt;&lt;div&gt;sasl&nbsp;log&nbsp; &nbsp; &nbsp; &nbsp;:&nbsp;/var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;-sasl.log&lt;/div&gt;<br>
<br>
&lt;div&gt;database&nbsp;dir&nbsp; &nbsp;:&nbsp;/var/lib/rabbitmq/mnesia/rabbit@&amp;lt;node2&amp;gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;3-May-2013::13:25:11&nbsp;===&lt;/div&gt;&lt;div&gt;Limiting&nbsp;to&nbsp;approx&nbsp;924&nbsp;file&nbsp;handles&nbsp;(829&nbsp;sockets)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
=INFO&nbsp;REPORT====&nbsp;3-May-2013::13:25:11&nbsp;===&lt;/div&gt;<br>
&lt;div&gt;Error&nbsp;description:&lt;/div&gt;&lt;div&gt; &nbsp; function_clause&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Log&nbsp;files&nbsp;(may&nbsp;contain&nbsp;more&nbsp;information):&lt;/div&gt;&lt;div&gt; &nbsp; /var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;.log&lt;/div&gt;&lt;div&gt; &nbsp; /var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;-sasl.log&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Stack&nbsp;trace:&lt;/div&gt;&lt;div&gt; &nbsp; [{rabbit_table,create_local_copy,[disk],[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit_mnesia,init_db,3,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit_mnesia,init_db_and_upgrade,3,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit_mnesia,init_from_config,0,[]},&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;{rabbit_mnesia,init,0,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit,&amp;#39;-run_boot_step/1-lc$^1/1-1-&amp;#39;,1,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit,run_boot_step,1,[]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;{rabbit,&amp;#39;-start/2-lc$^0/1-0-&amp;#39;,1,[]}]&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;3-May-2013::13:25:12&nbsp;===&lt;/div&gt;&lt;div&gt;Error&nbsp;description:&lt;/div&gt;&lt;div&gt; &nbsp; {could_not_start,rabbit,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; {bad_return,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{rabbit,start,[normal,[]]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{&amp;#39;EXIT&amp;#39;,{rabbit,failure_during_boot,function_clause}}}}}&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Log&nbsp;files&nbsp;(may&nbsp;contain&nbsp;more&nbsp;information):&lt;/div&gt;&lt;div&gt; &nbsp; /var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;.log&lt;/div&gt;&lt;div&gt; &nbsp; /var/log/rabbitmq/rabbit@&amp;lt;node2&amp;gt;-sasl.log&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&amp;gt;&nbsp;&lt;b&gt;rabbit@&amp;lt;node2&amp;gt;-sasl.log&lt;/b&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;div&gt;=CRASH&nbsp;REPORT====&nbsp;3-May-2013::13:25:12&nbsp;===&lt;/div&gt;&lt;div&gt; &nbsp;crasher:&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;initial&nbsp;call:&nbsp;application_master:init/4&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;pid:&nbsp;&amp;lt;0.70.0&amp;gt;&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;registered_name:&nbsp;[]&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;exception&nbsp;exit:&nbsp;{bad_return,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{rabbit,start,[normal,[]]},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {&amp;#39;EXIT&amp;#39;,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit,failure_during_boot,function_clause}}}}&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp;in&nbsp;function&nbsp; application_master:init/4&nbsp;(application_master.erl,&nbsp;line&nbsp;138)&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;ancestors:&nbsp;[&amp;lt;0.69.0&amp;gt;]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;messages:&nbsp;[{&amp;#39;EXIT&amp;#39;,&amp;lt;0.71.0&amp;gt;,normal}]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;links:&nbsp;[&amp;lt;0.69.0&amp;gt;,&amp;lt;0.7.0&amp;gt;]&lt;/div&gt;<br>
<br>
&lt;div&gt; &nbsp; &nbsp;dictionary:&nbsp;[]&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;trap_exit:&nbsp;true&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;status:&nbsp;running&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;heap_size:&nbsp;2584&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;stack_size:&nbsp;24&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;reductions:&nbsp;206&lt;/div&gt;&lt;div&gt; &nbsp;neighbours:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
<br>
&lt;div&nbsp;style&gt;I&amp;#39;ll&nbsp;trying&nbsp;differents&nbsp;things&nbsp;but&nbsp;any&nbsp;help&nbsp;would&nbsp;be&nbsp;appreciated. &lt;/div&gt;&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;Thanks&nbsp;!&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;michael<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
