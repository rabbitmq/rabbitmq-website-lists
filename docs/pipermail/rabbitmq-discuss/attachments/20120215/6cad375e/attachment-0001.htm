<tt>
Dear&nbsp;All,&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;a&nbsp;newbie&nbsp;in&nbsp;rabbitmq&nbsp;and&nbsp;this&nbsp;is&nbsp;my&nbsp;first&nbsp;post&nbsp;in&nbsp;the&nbsp;rabbitmq&nbsp;community.&lt;br&gt;&lt;br&gt;I&nbsp;am&nbsp;seeing&nbsp;a&nbsp;weird&nbsp;issue&nbsp;which&nbsp;definitely&nbsp;does&nbsp;not&nbsp;make&nbsp;sense&nbsp;to&nbsp;me.&nbsp;Here&nbsp;is&nbsp;the&nbsp;problem&nbsp;statement&lt;br&gt;&lt;br&gt;We&nbsp;are&nbsp;running&nbsp;a&nbsp;rabbitmq&nbsp;server&nbsp;on&nbsp;IP1&nbsp;and&nbsp;a&nbsp;simple&nbsp;client&nbsp;application&nbsp;on&nbsp;IP2.&nbsp;We&nbsp;are&nbsp;observing&nbsp;an&nbsp;abrupt&nbsp;memory&nbsp;consumption&nbsp;on&nbsp;the&nbsp;&lt;b&gt;client&nbsp;&lt;/b&gt;end&nbsp;which&nbsp;goes&nbsp;on&nbsp;till&nbsp;all&nbsp;the&nbsp;messages&nbsp;are&nbsp;pumped&nbsp;in&nbsp;rabbitmq&nbsp;and&nbsp;after&lt;br&gt;<br>
that&nbsp;memory&nbsp;usage&nbsp;remains&nbsp;constant.&nbsp;This&nbsp;particular&nbsp;situation&nbsp;has&nbsp;already&nbsp;led&nbsp;us&nbsp;to&nbsp;few&nbsp;OOM.&lt;br&gt;&lt;br&gt;Each&nbsp;message&nbsp;pumped&nbsp;into&nbsp;RMQ&nbsp;is&nbsp;around&nbsp;100&nbsp;KB&nbsp;and&nbsp;there&nbsp;are&nbsp;35000&nbsp;of&nbsp;those.&nbsp;We&nbsp;see&nbsp;heap&nbsp;usage&nbsp;going&nbsp;up&nbsp;at&nbsp;the&nbsp;client&nbsp;end&nbsp;up&nbsp;till&nbsp;all&nbsp;the&nbsp;35k&nbsp;messages&nbsp;are&nbsp;pumped&nbsp;at&nbsp;the&nbsp;server&nbsp;end.&nbsp;How&nbsp;can&nbsp;this&nbsp;be&nbsp;possible&nbsp;as&nbsp;I&lt;br&gt;<br>
am&nbsp;reading&nbsp;one&nbsp;message&nbsp;at&nbsp;a&nbsp;time?&nbsp;How&nbsp;can&nbsp;a&nbsp;load&nbsp;on&nbsp;server&nbsp;impact&nbsp;the&nbsp;client.&nbsp;I&nbsp;did&nbsp;some&nbsp;test&nbsp;around&nbsp;this&nbsp;to&nbsp;confirm&nbsp;my&nbsp;observation.&nbsp;&lt;br&gt;&lt;br&gt;Test1:&nbsp;I&nbsp;pumped&nbsp;2000&nbsp;messages&nbsp;Heap&nbsp;usage&nbsp;was&nbsp;limited&nbsp;to&nbsp;less&nbsp;than&nbsp;1&nbsp;GB&nbsp;at&nbsp;the&nbsp;client&nbsp;side.&lt;br&gt;<br>
Test2:&nbsp;Over&nbsp;these&nbsp;2000&nbsp;messages&nbsp;I&nbsp;again&nbsp;started&nbsp;pumping&nbsp;few&nbsp;more&nbsp;thousand&nbsp;messages.&nbsp;Side&nbsp;by&nbsp;side&nbsp;client&nbsp;is&nbsp;also&nbsp;consuming&nbsp;the&nbsp;messages&nbsp;the&nbsp;memory&nbsp;usage&nbsp;keeps&nbsp;increasing&nbsp;at&nbsp;the&nbsp;client&nbsp;side&nbsp;till&nbsp;I&nbsp;pump&nbsp;messages.&nbsp;Once&nbsp;I&nbsp;stop&nbsp;heap&nbsp;usage&nbsp;remains&nbsp;constant..&nbsp;Once&nbsp;again&nbsp;if&nbsp;I&nbsp;pump&nbsp;I&nbsp;see&nbsp;heap&nbsp;going&nbsp;up&nbsp;again&nbsp;and&nbsp;once&nbsp;I&nbsp;stop&nbsp;it&nbsp;remains&nbsp;constant&nbsp;at&nbsp;the&nbsp;current&nbsp;level.&lt;br&gt;<br>
&lt;br&gt;Another&nbsp;observation&nbsp;here&nbsp;is&nbsp;that&nbsp;heap&nbsp;memory&nbsp;never&nbsp;comes&nbsp;down.&nbsp;Is&nbsp;JVM&nbsp;not&nbsp;able&nbsp;to&nbsp;GC&nbsp;these&nbsp;objects?&nbsp;What&nbsp;could&nbsp;be&nbsp;the&nbsp;possibility?&lt;br&gt;&lt;br&gt;Few&nbsp;points&nbsp;to&nbsp;note&nbsp;here&nbsp;I&nbsp;am&nbsp;using&nbsp;reusable&nbsp;channels,&nbsp;Queue&nbsp;Consumer.&nbsp;I&nbsp;have&nbsp;used&nbsp;RabbitMQ&nbsp;client&nbsp;2.5.1&nbsp;as&nbsp;well&nbsp;as&nbsp;RMQ&nbsp;client&nbsp;2.2&nbsp;however&nbsp;there&nbsp;is&nbsp;no&nbsp;change&nbsp;in&nbsp;behavior.&lt;br&gt;<br>
&lt;br&gt;Any&nbsp;help&nbsp;or&nbsp;pointers&nbsp;on&nbsp;these&nbsp;issues&nbsp;would&nbsp;be&nbsp;really&nbsp;helpful.&lt;br&gt;&lt;br&gt;Thanks&lt;br&gt;Ashish&lt;br&gt;<br>

</tt>
