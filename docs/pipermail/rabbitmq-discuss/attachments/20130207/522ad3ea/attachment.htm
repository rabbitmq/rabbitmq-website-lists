<tt>
&lt;html&gt;&lt;head&gt;&lt;style&nbsp;type='text/css'&gt;p&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&nbsp;style='font-family:&nbsp;Arial;&nbsp;font-size:&nbsp;10pt;&nbsp;color:&nbsp;#000000'&gt;&lt;style&gt;p&nbsp;{&nbsp;margin:&nbsp;0;&nbsp;}&lt;/style&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;Arial;&nbsp;font-size:&nbsp;10pt;&nbsp;color:&nbsp;#000000&quot;&gt;Hi&nbsp;All,&lt;br&gt;&lt;br&gt;I&nbsp;have&nbsp;a&nbsp;serious&nbsp;problem&nbsp;to&nbsp;consume&nbsp;and&nbsp;requeue&nbsp;messages&nbsp;on&nbsp;a&nbsp;specific&nbsp;queue.&nbsp;i&nbsp;think&nbsp;the&nbsp;flow&nbsp;control&nbsp;is&nbsp;blocking&nbsp;connection...&lt;br&gt;I'm&nbsp;using&nbsp;RabbitMQ&nbsp;3.0.2,&nbsp;Erlang&nbsp;R15B03&nbsp;on&nbsp;a&nbsp;debian&nbsp;server&nbsp;:&nbsp;64go&nbsp;ram&nbsp;,&nbsp;8&nbsp;cpu.&lt;br&gt;&lt;br&gt;i&nbsp;have&nbsp;a&nbsp;script&nbsp;(named&nbsp;consumer)&nbsp;consuming&nbsp;and&nbsp;requeue&nbsp;messages&nbsp;on&nbsp;a&nbsp;queue&nbsp;named&nbsp;&quot;mainQueue&quot;&nbsp;(actually&nbsp;900&nbsp;000&nbsp;messages&nbsp;into&nbsp;this&nbsp;queue)&nbsp;and&nbsp;another&nbsp;one&nbsp;publishing&nbsp;messages&nbsp;on&nbsp;the&nbsp;same&nbsp;queue&nbsp;(arround&nbsp;200mess/s).&lt;br&gt;each&nbsp;message&nbsp;is&nbsp;arroung&nbsp;15kbytes&nbsp;and&nbsp;deliverymode&nbsp;=2&nbsp;and&nbsp;durable.&lt;br&gt;&lt;br&gt;usually&nbsp;the&nbsp;script&nbsp;consumer&nbsp;is&nbsp;able&nbsp;to&nbsp;get&nbsp;and&nbsp;requeue&nbsp;messages&nbsp;at&nbsp;1000mess/s,&nbsp;sometimes&nbsp;the&nbsp;same&nbsp;script&nbsp;is&nbsp;in&nbsp;hold,&nbsp;it&nbsp;doesn't&nbsp;consumer&nbsp;messages..,&nbsp;i&nbsp;see&nbsp;in&nbsp;connections&nbsp;that&nbsp;the&nbsp;connection&nbsp;is&nbsp;in&nbsp;state&nbsp;:&nbsp;flow&nbsp;&lt;br&gt;&lt;br&gt;i&nbsp;found&nbsp;documentation&nbsp;about&nbsp;flow&nbsp;control&nbsp;but&nbsp;i&nbsp;would&nbsp;like&nbsp;more&nbsp;advices&nbsp;about&nbsp;how&nbsp;to&nbsp;determine&nbsp;the&nbsp;flow&nbsp;control&nbsp;specificaly&nbsp;with&nbsp;my&nbsp;configuration&nbsp;and&nbsp;how&nbsp;to&nbsp;change&nbsp;the&nbsp;&lt;span&nbsp;id=&quot;result_box&quot;&nbsp;class=&quot;short_text&quot;&nbsp;lang=&quot;en&quot;&gt;&lt;span&nbsp;class=&quot;hps&quot;&gt;threshold&lt;/span&gt;&lt;/span&gt;.&nbsp;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;i&nbsp;send&nbsp;you&nbsp;below&nbsp;more&nbsp;details&nbsp;about&nbsp;the&nbsp;rabbit&lt;font&nbsp;size=&quot;2&quot;&gt;mq&nbsp;server&nbsp;status..&lt;/font&gt;&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;h3&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;span&nbsp;class=&quot;help&quot;&nbsp;id=&quot;resource-counts&quot;&gt;&lt;/span&gt;&lt;/font&gt;&lt;/h3&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
<br>
&nbsp;&nbsp;&lt;/font&gt;&lt;div&nbsp;class=&quot;box&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;micro-highlight&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connections:&nbsp;&lt;strong&gt;328&lt;/strong&gt;&lt;/font&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;micro-highlight&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Channels:&nbsp;&lt;strong&gt;328&lt;/strong&gt;&lt;/font&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;micro-highlight&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exchanges:&nbsp;&lt;strong&gt;120&lt;/strong&gt;&lt;/font&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;micro-highlight&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queues:&nbsp;&lt;strong&gt;111&lt;/strong&gt;&lt;/font&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;micro-highlight&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Consumers:&nbsp;&lt;strong&gt;0&lt;br&gt;&lt;br&gt;&lt;/strong&gt;&lt;/font&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
<br>
&nbsp;&nbsp;&lt;/div&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;/font&gt;&lt;div&nbsp;class=&quot;section&nbsp;section-visible&quot;&gt;<br>
<br>
&lt;div&nbsp;class=&quot;hider&nbsp;updatable&quot;&gt;<br>
&lt;table&nbsp;class=&quot;list&quot;&gt;<br>
&nbsp;&nbsp;&lt;tbody&gt;&lt;tr&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;descriptors&nbsp;&lt;span&nbsp;class=&quot;help&quot;&nbsp;id=&quot;file-descriptors&quot;&gt;(?)&lt;/span&gt;&lt;/font&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/th&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Socket&nbsp;descriptors&nbsp;&lt;span&nbsp;class=&quot;help&quot;&nbsp;id=&quot;socket-descriptors&quot;&gt;(?)&lt;/span&gt;&lt;/font&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/th&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Erlang&nbsp;processes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/th&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Memory<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/th&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Disk&nbsp;space<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/th&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;Uptime&lt;/font&gt;&lt;/th&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;Type&lt;/font&gt;&lt;/th&gt;<br>
&nbsp;&nbsp;&lt;/tr&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&lt;tr&nbsp;class=&quot;alt1&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<br>
&lt;div&nbsp;class=&quot;status-bar&quot;&nbsp;style=&quot;width:&nbsp;120px;&quot;&gt;&lt;div&nbsp;class=&quot;status-bar-main&nbsp;green&quot;&nbsp;style=&quot;background-image:&nbsp;none;&nbsp;background-position:&nbsp;-120px&nbsp;0px;&nbsp;background-repeat:&nbsp;no-repeat;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;527&lt;/font&gt;&lt;/div&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;sub&gt;1048576&nbsp;available&lt;/sub&gt;&lt;/font&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<br>
&lt;div&nbsp;class=&quot;status-bar&quot;&nbsp;style=&quot;width:&nbsp;120px;&quot;&gt;&lt;div&nbsp;class=&quot;status-bar-main&nbsp;green&quot;&nbsp;style=&quot;background-image:&nbsp;none;&nbsp;background-position:&nbsp;-120px&nbsp;0px;&nbsp;background-repeat:&nbsp;no-repeat;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;330&lt;/font&gt;&lt;/div&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;sub&gt;943626&nbsp;available&lt;/sub&gt;&lt;/font&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<br>
&lt;div&nbsp;class=&quot;status-bar&quot;&nbsp;style=&quot;width:&nbsp;120px;&quot;&gt;&lt;div&nbsp;class=&quot;status-bar-main&nbsp;green&quot;&nbsp;style=&quot;background-image:&nbsp;none;&nbsp;background-position:&nbsp;-120px&nbsp;0px;&nbsp;background-repeat:&nbsp;no-repeat;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;2937&lt;/font&gt;&lt;/div&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;sub&gt;1048576&nbsp;available&lt;/sub&gt;&lt;/font&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;status-bar&quot;&nbsp;style=&quot;width:&nbsp;120px;&quot;&gt;&lt;div&nbsp;class=&quot;status-bar-main&nbsp;green&quot;&nbsp;style=&quot;background-image:&nbsp;none;&nbsp;background-position:&nbsp;-107px&nbsp;0px;&nbsp;background-repeat:&nbsp;no-repeat;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;2.7GB&lt;/font&gt;&lt;/div&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;sub&gt;25.2GB&nbsp;high&nbsp;watermark&lt;/sub&gt;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;status-bar&quot;&nbsp;style=&quot;width:&nbsp;120px;&quot;&gt;&lt;div&nbsp;class=&quot;status-bar-main&nbsp;green&quot;&nbsp;style=&quot;background-image:&nbsp;none;&nbsp;background-position:&nbsp;-120px&nbsp;0px;&nbsp;background-repeat:&nbsp;no-repeat;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;1.7TB&lt;/font&gt;&lt;/div&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;sub&gt;953.7MB&nbsp;low&nbsp;watermark&lt;/sub&gt;&lt;/font&gt;&lt;/div&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/td&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;class=&quot;r&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2h&nbsp;32m<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/font&gt;&lt;/td&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;class=&quot;c&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;acronym&nbsp;title=&quot;Broker&nbsp;definitions&nbsp;are&nbsp;held&nbsp;on&nbsp;disc.&quot;&gt;Disc&lt;/acronym&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;acronym&nbsp;title=&quot;This&nbsp;node&nbsp;contains&nbsp;the&nbsp;management&nbsp;statistics&nbsp;database&quot;&gt;Stats&lt;/acronym&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;acronym&nbsp;title=&quot;You&nbsp;are&nbsp;accessing&nbsp;the&nbsp;management&nbsp;UI&nbsp;from&nbsp;this&nbsp;node.&quot;&gt;*&lt;/acronym&gt;&lt;/font&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;font&nbsp;size=&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;span&gt;&lt;br&gt;&lt;span&gt;&lt;/span&gt;Thanks&nbsp;for&nbsp;your&nbsp;help,&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;&lt;pre&nbsp;style=&quot;font-family:&nbsp;arial,helvetica,sans-serif;&quot;&nbsp;class=&quot;moz-signature&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;strong&gt;Gilles&nbsp;&lt;/strong&gt;&lt;br&gt;&lt;/pre&gt;&lt;span&gt;&lt;/span&gt;&lt;br&gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
