[From nobody Thu Apr 22 23:07:30 2010
Return-Path: &lt;vmail@newman&gt;
Received: from murder ([unix socket]) by newman (Cyrus v2.2.8) with LMTPA;
	Mon, 12 May 2008 00:13:26 +0100
X-Sieve: CMU Sieve 2.2
Received: (qmail 11206 invoked from network); 11 May 2008 23:13:25 -0000
Received: from port-21.xxx.th.newnet.co.uk (HELO [10.225.1.13])
	(rade@[80.175.167.21]) (envelope-sender &lt;matthias@lshift.net&gt;)
	by newman.lshift.net (qmail-ldap-1.03) with AES256-SHA encrypted SMTP
	for &lt;mrcoder@yahoo.com&gt;; 11 May 2008 23:13:25 -0000
Message-ID: &lt;48277D95.3040300@lshift.net&gt;
Date: Mon, 12 May 2008 00:13:25 +0100
From: Matthias Radestock &lt;matthias@lshift.net&gt;
User-Agent: Thunderbird 2.0.0.14 (X11/20080502)
MIME-Version: 1.0
To: Geoffrey Anderson &lt;mrcoder@yahoo.com&gt;
CC: &quot;amq@lshift.net&quot; &lt;amq@lshift.net&gt;
Subject: Re: 2 minutes?  try 2 days
References: &lt;878549.56542.qm@web30004.mail.mud.yahoo.com&gt;
In-Reply-To: &lt;878549.56542.qm@web30004.mail.mud.yahoo.com&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed
Content-Transfer-Encoding: 7bit
X-Spambayes-Classification: ham
X-Spambayes-Spam-Probability: 0.00
X-Spambayes-MailId: 1210547642

Geoffrey,

Geoffrey Anderson wrote:
&gt; Hi,  I saw your request to send email to this address, ie., &quot;Our goal is to
&gt; streamline the broker installation process such that you can have RabbitMQ up and
&gt; running within two minutes of completing your download. If this doesn't happen to
&gt; you, please let us know at....&quot;

you have come to the right place.

&gt; C:\rabbitmq\erl5.5.5\lib\rabbitmq_server-1.3.0\sbin&gt;rabbitmq-server.bat
&gt; RabbitMQ 1.3.0 (AMQP 8-0)
&gt; Copyright (C) 2007-2008 LShift Ltd., Cohesive Financial Technologies LLC., and
&gt; Rabbit Technologies Ltd.
&gt; Licensed under the MPL.  See http://www.rabbitmq.com/
&gt; 
&gt; Logging to &quot;C:/Documents and Settings/ga/rabbitmq//log/rabbit.log&quot;
&gt; SASL logging to &quot;C:/Documents and Settings/ga/rabbitmq//log/rabbit-sasl.log&quot;
&gt; 
&gt; starting database             ...done
&gt; starting core processes       ...done
&gt; starting recovery             ...done
&gt; starting persister            ...done
&gt; starting builtin applications ...done
&gt; starting TCP listeners        ...done
&gt; 
&gt; broker running

This looks good. The broker appears to be running fine.

&gt; Next I ran the provided java tracer program.  
&gt; 
&gt; 
&gt; 
&gt; C:\rabbitmq\librabbitmq-java-1.3.0&gt;demo
&gt; 
&gt; C:\rabbitmq\librabbitmq-java-1.3.0&gt;runjava.bat com.rabbitmq.tools.Tracer
&gt; Usage: Tracer [&lt;listenport&gt; [&lt;connecthost&gt; [&lt;connectport&gt;]]]
&gt; Invoked as: Tracer 5673 localhost 5672
&gt; com.rabbitmq.tools.Tracer.WITHHOLD_INBOUND_HEARTBEATS = false
&gt; com.rabbitmq.tools.Tracer.WITHHOLD_OUTBOUND_HEARTBEATS = false
&gt; com.rabbitmq.tools.Tracer.NO_ASSEMBLE_FRAMES = false
&gt; com.rabbitmq.tools.Tracer.NO_DECODE_FRAMES = false
&gt; 
&gt; 
&gt; 
&gt; Next I ran the provided sample program 'singleget.exe':
&gt; 
&gt; 
&gt; C:\rabbitmq\rabbitmq-dotnet-1.2.8025.1832-net-2.0\bin&gt;singleget alpeduez test
&gt; None of the specified endpoints were reachable
&gt; Endpoints attempted:
&gt;   endpoint=amqp-0-9://alpeduez:5672, attempts=1, outcome=AMQP server protocol
&gt; negotiation failure: server version 0-8, transport parameters -1:-1

The RabbitMQ server implements version 0-8 of the AMQP protocol. 
However, the .net client is configured to use the 0-9 version of the 
AMQP protocol by default. There are various ways of changing that. See 
section 2.2 of the dotnet client user guide. The easiest is probably to 
set the environment variable AMQP_PROTOCOL to &quot;AMQP_0_8&quot;.

People have run into problems with this before, so we are going to 
change the default to AMQP_0_8 in the next release of the dotnet client.

&gt; Next I looked back at the tracer program output again.
&gt; 
&gt; Surprisingly nothing has changed yet.

By default the tracer is listening on port 5673 and connects to the 
server on the standard amqp port (5672). To connect via the tracer you 
need to tell the client to connect to port 5673.

&gt; set ERLANG_HOME=%~dp0%..\..\..
&gt; 
&gt; WHat is the &quot;~dp0&quot;?   Is that really valid syntax on a Windows command shell?

Yes, it is valid. It resolves to the path of the running script.


Your broker setup looks fine. You just need to change the client config 
to speak AMQP_0_8.


Regards,

Matthias.

]