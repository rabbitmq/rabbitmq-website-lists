<tt>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Mon,&nbsp;Feb&nbsp;14,&nbsp;2011&nbsp;at&nbsp;7:12&nbsp;AM,&nbsp;Jonathan&nbsp;Brisbin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jbrisbin@vmware.com&quot;&gt;jbrisbin@vmware.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
<br>
Would&nbsp;anyone&nbsp;like&nbsp;to&nbsp;express&nbsp;an&nbsp;interest&nbsp;in&nbsp;a&nbsp;particular&nbsp;topic&nbsp;for&nbsp;a&lt;br&gt;<br>
potential&nbsp;RabbitMQ&nbsp;cookbook&nbsp;project&nbsp;I&nbsp;might&nbsp;be&nbsp;working&nbsp;on?&nbsp;We&amp;#39;re&lt;br&gt;<br>
trying&nbsp;to&nbsp;come&nbsp;up&nbsp;with&nbsp;an&nbsp;outline&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;make&nbsp;sure&nbsp;it&amp;#39;s&lt;br&gt;<br>
targeted&nbsp;to&nbsp;what&nbsp;people&nbsp;actually&nbsp;want&nbsp;to&nbsp;read&nbsp;about,&nbsp;so&nbsp;if&nbsp;you&amp;#39;ve&nbsp;got&lt;br&gt;<br>
an&nbsp;idea&nbsp;about&nbsp;some&nbsp;topic&nbsp;you&amp;#39;d&nbsp;like&nbsp;to&nbsp;see&nbsp;covered,&nbsp;please&nbsp;let&nbsp;me&nbsp;know&lt;br&gt;<br>
off&nbsp;list.&lt;br&gt;<br>
&lt;br&gt;<br>
Some&nbsp;of&nbsp;the&nbsp;topics&nbsp;will&nbsp;be:&lt;br&gt;<br>
&lt;br&gt;<br>
Interoperability&nbsp;(STOMP,&nbsp;Celery,&nbsp;etc...)&lt;br&gt;<br>
Performance&nbsp;tuning&lt;br&gt;<br>
Plugin&nbsp;authoring&lt;br&gt;<br>
Configuration&lt;br&gt;<br>
[Put&nbsp;your&nbsp;topic&nbsp;here]&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;These&nbsp;are&nbsp;a&nbsp;few&nbsp;of&nbsp;the&nbsp;topics&nbsp;that&nbsp;have&nbsp;come&nbsp;up&nbsp;at&nbsp;my&nbsp;company&nbsp;while&nbsp;evaluating&nbsp;RabbitMQ&nbsp;--&nbsp;some&nbsp;of&nbsp;which&nbsp;I&amp;#39;ve&nbsp;asked&nbsp;about&nbsp;on&nbsp;this&nbsp;list.&nbsp; I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;if&nbsp;all&nbsp;would&nbsp;fit&nbsp;into&nbsp;&amp;quot;cookbook&amp;quot;&nbsp;type&nbsp;of&nbsp;examples.&nbsp; Most&nbsp;are&nbsp;about&nbsp;how&nbsp;to&nbsp;operate&nbsp;RabbitMQ&nbsp;in&nbsp;a&nbsp;production&nbsp;environment.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;ul&gt;&lt;li&gt;High&nbsp;Availability:&nbsp; How&nbsp;to&nbsp;set&nbsp;up&nbsp;RabbitMQ&nbsp;such&nbsp;that&nbsp;a&nbsp;server&nbsp;failure&nbsp;will&nbsp;not&nbsp;disrupt&nbsp;service.&lt;br&gt;For&nbsp;example,&nbsp;HAProxy&nbsp;or&nbsp;hardware&nbsp;load&nbsp;balancer.&lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;Client&nbsp;connection&nbsp;management:&nbsp;Ensuring&nbsp;that&nbsp;clients&nbsp;gracefully&nbsp;handle&nbsp;connection&nbsp;failures.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/li&gt;&lt;li&gt;Message&nbsp;durability: Scenarios&nbsp;when/why&nbsp;queue&nbsp;durability&nbsp;is&nbsp;appropriate.&lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;Message&nbsp;replication:&nbsp; When/why/how&nbsp;to&nbsp;replicate&nbsp;messages&nbsp;across&nbsp;brokers&nbsp;(e.g.&nbsp;Pacemaker&nbsp;example).&lt;br&gt;And&nbsp;if&nbsp;messages&nbsp;are&nbsp;replicated&nbsp;how&nbsp;to&nbsp;prevent&nbsp;multiple&nbsp;consumers&nbsp;from&nbsp;processing&nbsp;the&nbsp;same&nbsp;message.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/li&gt;&lt;li&gt;Clustering:&nbsp;As&nbsp;others&nbsp;have&nbsp;noted,&nbsp;how&nbsp;to&nbsp;scale&nbsp;RabbitMQ.&lt;br&gt;How&nbsp;to&nbsp;add&nbsp;new&nbsp;servers&nbsp;into&nbsp;an&nbsp;active&nbsp;cluster&nbsp;and&nbsp;how&nbsp;to&nbsp;remove&nbsp;a&nbsp;server&nbsp;(and&nbsp;dealing&nbsp;with&nbsp;queues&nbsp;on&nbsp;the&nbsp;server&nbsp;that&nbsp;is&nbsp;removed).&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;As&nbsp;you&nbsp;might&nbsp;note,&nbsp;uptime&nbsp;is&nbsp;important&nbsp;to&nbsp;our&nbsp;company&nbsp;and&nbsp;those&nbsp;are&nbsp;all&nbsp;about&nbsp;keeping&nbsp;RabbitMQ&nbsp;up&nbsp;and&nbsp;available.&nbsp;Oddly,&nbsp;at&nbsp;our&nbsp;company&nbsp;the&nbsp;message&nbsp;durability/replication&nbsp;issue&nbsp;consumed&nbsp;the&nbsp;most&nbsp;discussion&nbsp;time&nbsp;--&nbsp;that&nbsp;is,&nbsp;making&nbsp;sure&nbsp;that&nbsp;a&nbsp;message&nbsp;produced&nbsp;is&nbsp;always&nbsp;processed[1].&nbsp; (I&nbsp;think&nbsp;a&nbsp;better/cleaner&nbsp;approach&nbsp;is&nbsp;to&nbsp;design&nbsp;with&nbsp;message&nbsp;loss&nbsp;in&nbsp;mind&nbsp;and&nbsp;when&nbsp;needed,&nbsp;producers&nbsp;will&nbsp;re-send&nbsp;a&nbsp;message.)&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;Topic&nbsp;routing:&nbsp;This&nbsp;is&nbsp;covered&nbsp;in&nbsp;the&nbsp;tutorial,&nbsp;but&nbsp;it&nbsp;would&nbsp;be&nbsp;great&nbsp;to&nbsp;see&nbsp;some&nbsp;cookbook&nbsp;examples&nbsp;that&nbsp;demonstrate&nbsp;a&nbsp;few&nbsp;real-world&nbsp;scenarios.&lt;br&gt;The&nbsp;power&nbsp;of&nbsp;topic&nbsp;routing&nbsp;was&nbsp;a&nbsp;feature&nbsp;that&nbsp;was&nbsp;difficult&nbsp;for&nbsp;some&nbsp;to&nbsp;grasp&nbsp;at&nbsp;our&nbsp;company.&nbsp; Aggregating&nbsp;logs&nbsp;and&nbsp;tracking&nbsp;specific&nbsp;log&nbsp;types&nbsp;(e.g.&nbsp;error&nbsp;watchdog)&nbsp;could&nbsp;be&nbsp;one&nbsp;example.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/li&gt;&lt;li&gt;Debugging:&nbsp;When&nbsp;things&nbsp;go&nbsp;wrong&nbsp;(and&nbsp;they&nbsp;always&nbsp;do)&nbsp;steps&nbsp;to&nbsp;figure&nbsp;out&nbsp;why&nbsp;RabbitMQ&nbsp;is&nbsp;not&nbsp;working,&nbsp;what&nbsp;happened,&nbsp;and&nbsp;how&nbsp;to&nbsp;fix.&lt;br&gt;For&nbsp;example:&nbsp;figuring&nbsp;out&nbsp;if&nbsp;Mnesia&nbsp;DB&nbsp;is&nbsp;corrupt&nbsp;and&nbsp;need&nbsp;to&nbsp;remove.&nbsp; This&nbsp;is&nbsp;all&nbsp;about&nbsp;the&nbsp;2am&nbsp;IT&nbsp;on-call&nbsp;person&nbsp;trying&nbsp;to&nbsp;solve&nbsp;a&nbsp;problem&nbsp;by&nbsp;following&nbsp;a&nbsp;&amp;quot;play&nbsp;book&amp;quot;&nbsp;of&nbsp;steps&nbsp;to&nbsp;get&nbsp;things&nbsp;running&nbsp;again.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;/li&gt;&lt;li&gt;Management&nbsp;of&nbsp;consumers:&nbsp;monitoring&nbsp;queue&nbsp;sizes,&nbsp;allocating&nbsp;resources&nbsp;to&nbsp;workers,&nbsp;tools&nbsp;available&nbsp;to&nbsp;monitor&nbsp;consumers&nbsp;across&nbsp;multiple&nbsp;machines,&nbsp;threaded&nbsp;consumers&nbsp;vs.&nbsp;forking&nbsp;model.&lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;li&gt;RPC&nbsp;in&nbsp;a&nbsp;web&nbsp;environment:&nbsp;This&nbsp;may&nbsp;be&nbsp;outside&nbsp;the&nbsp;scope&nbsp;for&nbsp;RabbitMQ,&nbsp;but&nbsp;our&nbsp;use&nbsp;cases&nbsp;have&nbsp;involved&nbsp;the&nbsp;need&nbsp;for&nbsp;RPC&nbsp;style&nbsp;of&nbsp;calls,&nbsp;but&nbsp;in&nbsp;a&nbsp;web-environment&nbsp;this&nbsp;is&nbsp;often&nbsp;meant&nbsp;polling&nbsp;by&nbsp;the&nbsp;web&nbsp;client&nbsp;(e.g.&nbsp;via&nbsp;AJAX)&nbsp;because&nbsp;it&nbsp;is&nbsp;not&nbsp;desirable&nbsp;to&nbsp;have&nbsp;a&nbsp;web&nbsp;process&nbsp;wait&nbsp;on&nbsp;a&nbsp;RPC&nbsp;response.&nbsp; But,&nbsp;in&nbsp;a&nbsp;polling&nbsp;web&nbsp;environment&nbsp;you&nbsp;cannot&nbsp;rely&nbsp;on&nbsp;the&nbsp;message&nbsp;ever&nbsp;being&nbsp;consumed.&nbsp; What&nbsp;I&amp;#39;ve&nbsp;done&nbsp;is&nbsp;passed&nbsp;the&nbsp;unique&nbsp;return-queue&nbsp;name&nbsp;in&nbsp;the&nbsp;AJAX&nbsp;request&nbsp;and&nbsp;used&nbsp;auto_delete&nbsp;and&nbsp;x-expires&nbsp;on&nbsp;the&nbsp;temporary&nbsp;queue&nbsp;to&nbsp;have&nbsp;it&nbsp;removed&nbsp;if&nbsp;the&nbsp;web&nbsp;client&nbsp;fails&nbsp;to&nbsp;fetch&nbsp;the&nbsp;response.&lt;br&gt;<br>
<br>
I&amp;#39;m&nbsp;not&nbsp;convinced&nbsp;that&nbsp;is&nbsp;the&nbsp;best&nbsp;approach.&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[1]&nbsp;Message&nbsp;durability&nbsp;was&nbsp;considered&nbsp;so&nbsp;important&nbsp;by&nbsp;some&nbsp;at&nbsp;our&nbsp;company&nbsp;that&nbsp;we&nbsp;now&nbsp;send&nbsp;all&nbsp;messages&nbsp;to&nbsp;a&nbsp;single&nbsp;consumer&nbsp;that&nbsp;stores&nbsp;them&nbsp;in&nbsp;Postgresql&nbsp;with&nbsp;Slony&nbsp;replication&nbsp;before&nbsp;being&nbsp;passed&nbsp;onto&nbsp;consumers.&nbsp; I&nbsp;would&nbsp;not&nbsp;recommend&nbsp;that&nbsp;approach&nbsp;--&nbsp;and&nbsp;indeed&nbsp;with&nbsp;experience&nbsp;we&amp;#39;ve&nbsp;seen&nbsp;messages&nbsp;that&nbsp;are&nbsp;that&nbsp;critical&nbsp;need&nbsp;to&nbsp;be&nbsp;tracked&nbsp;by&nbsp;the&nbsp;application&amp;#39;s&nbsp;database&nbsp;anyway&nbsp;so&nbsp;making&nbsp;the&nbsp;messages&nbsp;durable&nbsp;adds&nbsp;little&nbsp;benefit.&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;br&gt;--&nbsp;&lt;br&gt;Bill&nbsp;Moseley&lt;br&gt;&lt;a&nbsp;href=&quot;mailto:moseley@hank.org&quot;&nbsp;target=&quot;_blank&quot;&gt;moseley@hank.org&lt;/a&gt;&lt;br&gt;<br>

</tt>
