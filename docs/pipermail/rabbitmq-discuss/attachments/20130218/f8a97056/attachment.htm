<tt>
&lt;div&gt;Good&nbsp;morning,&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;a&nbsp;little&nbsp;bit&nbsp;curious&nbsp;about&nbsp;the&nbsp;setup&nbsp;strategy&nbsp;of&nbsp;a&nbsp;project.&nbsp;Maybe&nbsp;someone&nbsp;of&nbsp;you&nbsp;can&nbsp;make&nbsp;it&nbsp;clear.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Situation:&amp;nbsp;&lt;/div&gt;&lt;div&gt;Community&nbsp;Website,&nbsp;running&nbsp;on&nbsp;several&nbsp;php-nodes.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Destination:&lt;/div&gt;&lt;div&gt;Implementation&nbsp;of&nbsp;Websockets&nbsp;with&nbsp;nodejs.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Attempts:&lt;/div&gt;&lt;div&gt;One&nbsp;big&nbsp;Server&nbsp;(24&nbsp;Cores)&nbsp;running&nbsp;Rabbitmq,&nbsp;every&nbsp;websocket-worker&nbsp;connects&nbsp;to&nbsp;this&nbsp;one.&lt;/div&gt;&lt;div&gt;Every&nbsp;php-node&nbsp;is&nbsp;running&nbsp;an&nbsp;own&nbsp;Rabbitmq,&nbsp;php&nbsp;connects&nbsp;to&nbsp;localhost&nbsp;using&nbsp;Amqp.&nbsp;Every&nbsp;kind&nbsp;of&nbsp;notifications&nbsp;is&nbsp;being&nbsp;sent&nbsp;to&nbsp;it,&nbsp;but&nbsp;only&nbsp;if&nbsp;the&nbsp;target&nbsp;user&nbsp;is&nbsp;actually&nbsp;connected&nbsp;to&nbsp;one&nbsp;socket&nbsp;(Solved&nbsp;per&nbsp;memcache-entry)&lt;/div&gt;&lt;div&gt;3&nbsp;Websocket-Hosts,&nbsp;each&nbsp;running&nbsp;16&nbsp;Node-Worker.&nbsp;(16&nbsp;Cores/Server)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Every&nbsp;websocket-worker&nbsp;creates&nbsp;an&nbsp;own&nbsp;queue.&lt;/div&gt;&lt;div&gt;There&nbsp;are&nbsp;100&nbsp;exchanges,&nbsp;the&nbsp;users&nbsp;are&nbsp;being&nbsp;sorted&nbsp;in&nbsp;there&nbsp;by&nbsp;their&nbsp;UserID.&nbsp;Exchange-Type:&nbsp;direct.&lt;/div&gt;&lt;div&gt;(Using&nbsp;only&nbsp;one&nbsp;exchange&nbsp;crashes&nbsp;when&nbsp;reaching&nbsp;64k&nbsp;bindings)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Problem:&lt;/div&gt;&lt;div&gt;Queues&nbsp;are&nbsp;starting&nbsp;to&nbsp;fill&nbsp;up&nbsp;when&nbsp;reaching&nbsp;120k&nbsp;Bindings&nbsp;(130-140k&nbsp;unique&nbsp;Websocket-Connections).&nbsp;4-6k&nbsp;delivered&nbsp;Msg/s.&lt;/div&gt;&lt;div&gt;Load:&nbsp;&lt;/div&gt;&lt;div&gt;Big&nbsp;one&nbsp;(18-20&nbsp;/&nbsp;24)&lt;/div&gt;&lt;div&gt;php-nodes&nbsp;(6&nbsp;/&nbsp;16)&lt;/div&gt;&lt;div&gt;Nodejs-Hosts&nbsp;(5&nbsp;/&nbsp;16)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;want&nbsp;to&nbsp;know&nbsp;your&nbsp;opinion&nbsp;about&nbsp;this&nbsp;setup,&nbsp;or&nbsp;tips&nbsp;to&nbsp;build&nbsp;a&nbsp;better&nbsp;one.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;want&nbsp;to&nbsp;serve&nbsp;300-500k&nbsp;Connections&nbsp;at&nbsp;any&nbsp;time&nbsp;with&nbsp;at&nbsp;least&nbsp;hardware&nbsp;as&nbsp;possible.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Greetings,&lt;/div&gt;&lt;div&gt;Florian&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;
</tt>
