<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;Thanks&nbsp;for&nbsp;quick&nbsp;response&nbsp;Matthias.&lt;br&gt;&lt;br&gt;&lt;/div&gt;And&nbsp;just&nbsp;to&nbsp;ease&nbsp;any&nbsp;concern,&nbsp;I&nbsp;misspoke&nbsp;earlier.&nbsp;Almost&nbsp;all&nbsp;of&nbsp;our&nbsp;clusters&nbsp;are&nbsp;on&nbsp;3.0.2.&nbsp;However&nbsp;I&nbsp;personally&nbsp;run&nbsp;a&nbsp;newer&nbsp;version&nbsp;for&nbsp;testing&nbsp;and&nbsp;had&nbsp;forgotten&nbsp;that&nbsp;fact.&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;Matt&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Jul&nbsp;16,&nbsp;2013&nbsp;at&nbsp;7:42&nbsp;PM,&nbsp;Matthias&nbsp;Radestock&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Matt,&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;17/07/13&nbsp;00:26,&nbsp;Matt&nbsp;Pietrek&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
We&amp;#39;re&nbsp;seeing&nbsp;a&nbsp;bunch&nbsp;of&nbsp;failure&nbsp;messages&nbsp;from&nbsp;our&nbsp;Ruby&nbsp;clients&nbsp;to&lt;br&gt;<br>
RabbitMQ&nbsp;3.0.2.&nbsp;From&nbsp;the&nbsp;client&nbsp;side,&nbsp;we&nbsp;see&nbsp;541&nbsp;&amp;quot;Internal&nbsp;Error&amp;quot;&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;the&nbsp;server&nbsp;side&nbsp;logs,&nbsp;we&nbsp;see&nbsp;a&nbsp;bunch&nbsp;of&nbsp;errors.&nbsp;Normally&nbsp;I&nbsp;can&nbsp;at&lt;br&gt;<br>
least&nbsp;hazard&nbsp;a&nbsp;guess&nbsp;what&amp;#39;s&nbsp;wrong,&nbsp;but&nbsp;I&nbsp;have&nbsp;no&nbsp;idea&nbsp;with&nbsp;this:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
=ERROR&nbsp;REPORT====&nbsp;16-Jul-2013::22:43:15&nbsp;===&lt;br&gt;<br>
**&nbsp;Generic&nbsp;server&nbsp;&amp;lt;0.4358.0&amp;gt;&nbsp;terminating&lt;br&gt;<br>
**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{can_send,&amp;lt;0.4355.0&amp;gt;,true}&lt;br&gt;<br>
**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{lim,1,&amp;lt;0.4359.0&amp;gt;,false,[],1}&lt;br&gt;<br>
**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&lt;br&gt;<br>
**&nbsp;{function_clause,[{orddict,&lt;u&gt;&lt;/u&gt;update,&lt;br&gt;<br>
&lt;br&gt;<br>
[&amp;lt;0.4355.0&amp;gt;,#Fun&amp;lt;rabbit_&lt;u&gt;&lt;/u&gt;limiter.3.113433752&amp;gt;,[]],&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; [{file,&amp;quot;orddict.erl&amp;quot;},{line,&lt;u&gt;&lt;/u&gt;153}]},&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{rabbit_limiter,limit_queue,2,&lt;u&gt;&lt;/u&gt;[]},&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{rabbit_limiter,handle_call,3,&lt;u&gt;&lt;/u&gt;[]},&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{gen_server2,handle_msg,2,[]},&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{proc_lib,init_p_do_apply,3,&lt;br&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[{file,&amp;quot;proc_lib.erl&amp;quot;},{line,&lt;u&gt;&lt;/u&gt;227}]}]}&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
I&nbsp;think&nbsp;this&nbsp;is&nbsp;a&nbsp;duplicate&nbsp;of&nbsp;the&nbsp;problem&nbsp;reported&nbsp;at&nbsp;&lt;a&nbsp;href=&quot;http://rabbitmq.1065348.n5.nabble.com/Rabbit-3-1-1-crash-question-td27540.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://rabbitmq.1065348.n5.&lt;u&gt;&lt;/u&gt;nabble.com/Rabbit-3-1-1-crash-&lt;u&gt;&lt;/u&gt;question-td27540.html&lt;/a&gt;,&nbsp;the&nbsp;fix&nbsp;for&nbsp;which&nbsp;will&nbsp;appear&nbsp;in&nbsp;the&nbsp;next&nbsp;bugfix&nbsp;release.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
However,&nbsp;we&nbsp;were&nbsp;quite&nbsp;that&nbsp;the&nbsp;bug&nbsp;was&nbsp;only&nbsp;introduced&nbsp;in&nbsp;3.1.0,&nbsp;so&nbsp;it&amp;#39;s&nbsp;surprising&nbsp;to&nbsp;see&nbsp;this&nbsp;in&nbsp;3.0.2.&nbsp;The&nbsp;code&nbsp;has&nbsp;certainly&nbsp;changed&nbsp;a&nbsp;lot&nbsp;on&nbsp;that&nbsp;area,&nbsp;so&nbsp;I&amp;#39;d&nbsp;advise&nbsp;upgrading&nbsp;in&nbsp;any&nbsp;case.&lt;br&gt;<br>
&lt;br&gt;<br>
Regards,&lt;br&gt;<br>
&lt;br&gt;<br>
Matthias.&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
