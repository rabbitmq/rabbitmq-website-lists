<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2013/7/17&nbsp;3k4b251&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:314992959@qq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;314992959@qq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&nbsp;id=&quot;:1ue&quot;&nbsp;style=&quot;overflow:hidden&quot;&gt;But&nbsp; connection&nbsp; and&nbsp; channels&nbsp; still&nbsp; alive.&nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Are&nbsp;you&nbsp;sure&nbsp;that&nbsp;the&nbsp;channels&nbsp;are&nbsp;still&nbsp;open?&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&nbsp;id=&quot;:1ue&quot;&nbsp;style=&quot;overflow:hidden&quot;&gt; &nbsp;But&nbsp; &nbsp; RPC-style&nbsp;commands&lt;br&gt;<br>
doesn&amp;#39;t&nbsp; work&nbsp; such&nbsp;as&nbsp; &nbsp;amq_basic_consume()....&nbsp; &nbsp; &nbsp;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Can&nbsp;you&nbsp;be&nbsp;more&nbsp;specific&nbsp;than&nbsp;&amp;quot;does&nbsp;not&nbsp;work&amp;quot;?&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&nbsp;id=&quot;:1ue&quot;&nbsp;style=&quot;overflow:hidden&quot;&gt;So&nbsp;I&nbsp; guess&nbsp; servers&lt;br&gt;<br>
lock&nbsp; my&nbsp; connection&nbsp; or&nbsp; channel&nbsp; &nbsp;when&nbsp; got&nbsp; a&nbsp; exception&nbsp;.&nbsp; How&nbsp; to&lt;br&gt;<br>
unlock&nbsp; it?&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;If&nbsp;you&nbsp;get&nbsp;a&nbsp;channel&nbsp;exception,&nbsp;the&nbsp;channel&nbsp;is&nbsp;closed&nbsp;and&nbsp;can&nbsp;no&nbsp;longer&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;be&nbsp;used.&nbsp;Inspecting&nbsp;RabbitMQ&nbsp;log&nbsp;will&nbsp;make&nbsp;it&nbsp;easy&nbsp;to&nbsp;notice.&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;Another&nbsp;thing&nbsp;that&nbsp;may&nbsp;be&nbsp;happening&nbsp;is&nbsp;RabbitMQ&nbsp;throttling&nbsp;your&nbsp;connection.&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;It&nbsp;can&nbsp;be&nbsp;easily&nbsp;seen&nbsp;in&nbsp;the&nbsp;management&nbsp;UI&nbsp;and&nbsp;should&nbsp;not&nbsp;affect&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;<br>
<br>
channels&nbsp;that&nbsp;only&nbsp;consume&nbsp;messages.&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;I&nbsp;assume&nbsp;AMQP_RESPONSE_SERVER_EXCEPTION&nbsp;indicates&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;a&nbsp;channel&nbsp;exception.&nbsp;You&nbsp;need&nbsp;to&nbsp;investigate&nbsp;what&nbsp;exactly&nbsp;causes&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;it&nbsp;(see&nbsp;the&nbsp;log)&nbsp;or&nbsp;use&nbsp;a&nbsp;new&nbsp;channel.&lt;br&gt;--&nbsp;&lt;br&gt;MK&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://github.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://github.com/michaelklishin&lt;/a&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://twitter.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twitter.com/michaelklishin&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
