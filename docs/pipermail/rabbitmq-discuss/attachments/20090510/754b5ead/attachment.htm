<tt>
I&nbsp;still&nbsp;have&nbsp;an&nbsp;issue&nbsp;getting&nbsp;fanout&nbsp;to&nbsp;work.&lt;br&gt;<br>
&lt;br&gt;<br>
<br>
Take&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;code&nbsp;from&nbsp;my&nbsp;clojure&nbsp;repl.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
<br>
com.parsimony-group.rabbitcj&amp;gt;&nbsp;(def&nbsp;connection&nbsp;(let&nbsp;[params&nbsp;(doto&nbsp;(ConnectionParameters.)&lt;br&gt;<br>
<br>
                                       &nbsp;(.setVirtualHost&nbsp;&amp;quot;/&amp;quot;)&lt;br&gt;<br>
<br>
                                       &nbsp;(.setUsername&nbsp;&amp;quot;guest&amp;quot;)&lt;br&gt;<br>
<br>
                                       &nbsp;(.setPassword&nbsp;&amp;quot;guest&amp;quot;))&lt;br&gt;<br>
<br>
                              &nbsp;factory&nbsp;(ConnectionFactory.&nbsp;params)]&lt;br&gt;<br>
<br>
                          &nbsp;(.newConnection&nbsp;factory&nbsp;host))&lt;br&gt;<br>
<br>
   &nbsp;   &nbsp;   &nbsp;   &nbsp;  &nbsp;)&lt;br&gt;<br>
<br>
#&amp;#39;com.parsimony-group.rabbitcj/connection&lt;br&gt;<br>
<br>
com.parsimony-group.rabbitcj&amp;gt;&nbsp;(def&nbsp;channel&nbsp;(.createChannel&nbsp;connection))&lt;br&gt;<br>
<br>
#&amp;#39;com.parsimony-group.rabbitcj/channel&lt;br&gt;<br>
<br>
com.parsimony-group.rabbitcj&amp;gt; &nbsp;(.exchangeDeclare&nbsp;channel&nbsp;&amp;quot;foo&amp;quot;&nbsp;&amp;quot;direct&amp;quot;&nbsp;)&lt;br&gt;<br>
<br>
#&amp;lt;DeclareOk&nbsp;#method&amp;lt;exchange.declare-ok&amp;gt;()&amp;gt;&lt;br&gt;<br>
<br>
com.parsimony-group.rabbitcj&amp;gt; &nbsp;(.exchangeDeclare&nbsp;channel&nbsp;&amp;quot;foo&amp;quot;&nbsp;&amp;quot;amq.fanout&amp;quot;&nbsp;)&lt;br&gt;<br>
<br>
;&nbsp;Evaluation&nbsp;aborted.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
...very&nbsp;simple,&nbsp;exchangeDeclare&nbsp;is&nbsp;fine&nbsp;for&nbsp;direct,&nbsp;but&nbsp;clows&nbsp;up&nbsp;for&nbsp;fanout&nbsp;case...I&nbsp;get&nbsp;the&nbsp;error&nbsp;message:&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
No&nbsp;message.&lt;br&gt;<br>
 &nbsp;[Thrown&nbsp;class&nbsp;com.rabbitmq.client.ShutdownSignalException]&lt;br&gt;<br>
&lt;br&gt;<br>
Restarts:&lt;br&gt;<br>
 0:&nbsp;[ABORT]&nbsp;Return&nbsp;to&nbsp;SLIME&amp;#39;s&nbsp;top&nbsp;level.&lt;br&gt;<br>
&lt;br&gt;<br>
Backtrace:&lt;br&gt;<br>
 &nbsp;0:&nbsp;com.rabbitmq.client.impl.AMQConnection.shutdown(AMQConnection.java:606)&lt;br&gt;<br>
 &nbsp;1:&nbsp;com.rabbitmq.client.impl.AMQConnection.handleConnectionClose(AMQConnection.java:561)&lt;br&gt;<br>
 &nbsp;2:&nbsp;com.rabbitmq.client.impl.AMQConnection.processControlCommand(AMQConnection.java:541)&lt;br&gt;<br>
 &nbsp;3:&nbsp;com.rabbitmq.client.impl.AMQConnection$1.processAsync(AMQConnection.java:84)&lt;br&gt;<br>
 &nbsp;4:&nbsp;com.rabbitmq.client.impl.AMQChannel.handleCompleteInboundCommand(AMQChannel.java:159)&lt;br&gt;<br>
 &nbsp;5:&nbsp;com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:110)&lt;br&gt;<br>
 &nbsp;6:&nbsp;com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:446)&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>

</tt>
