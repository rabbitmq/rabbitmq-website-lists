<tt>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Wed,&nbsp;Jun&nbsp;29,&nbsp;2011&nbsp;at&nbsp;2:57&nbsp;PM,&nbsp;Alexander&nbsp;Kuleshov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:kuleshovmail@gmail.com&quot;&gt;kuleshovmail@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hello,&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;try&nbsp;to&nbsp;send&nbsp;messsage&nbsp;to&nbsp;rabbitmq-server:&lt;br&gt;<br>
&lt;br&gt;<br>
send_message(Channel,&nbsp;Host,&nbsp;Password,&nbsp;Message)&nbsp;-&amp;gt;&lt;br&gt;<br>
&nbsp; &nbsp; %&nbsp;TODO&nbsp;maybe&nbsp;change&nbsp;routing_key&nbsp;on&nbsp;sit_in_reply&lt;br&gt;<br>
&nbsp; &nbsp; amqp_channel:cast(Channel,&nbsp;#&amp;#39;basic.publish&amp;#39;{exchange&nbsp;=&nbsp;&amp;lt;&amp;lt;&amp;quot;&amp;quot;&amp;gt;&amp;gt;},&lt;br&gt;<br>
routing_key&nbsp;=&nbsp;&amp;lt;&amp;lt;&amp;quot;test&amp;quot;&amp;gt;&amp;gt;,&lt;br&gt;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #amqp_msg{payload&nbsp;=&nbsp;Message}).&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;get&nbsp;error:&lt;br&gt;<br>
&lt;br&gt;<br>
Error&nbsp;in&nbsp;process&nbsp;&amp;lt;0.431.0&amp;gt;&nbsp;with&nbsp;exit&nbsp;value:&lt;br&gt;<br>
{function_clause,[{gen_server,cast,&nbsp;[2,{cast,{&amp;#39;basic.publish&amp;#39;,0,&amp;lt;&amp;lt;0&lt;br&gt;<br>
bytes&amp;gt;&amp;gt;,&amp;lt;&amp;lt;7&nbsp;bytes&amp;gt;&amp;gt;,false,false},&lt;br&gt;<br>
{amqp_msg,{&amp;#39;P_basic&amp;#39;,undefined,undefined,undefined,undefined,undefined,undefined,&lt;br&gt;<br>
undefined,undefined,undefined,undefined,undefined...&lt;br&gt;<br>
&lt;br&gt;<br>
How&nbsp;can&nbsp;i&nbsp;fix&nbsp;it?&nbsp;How&nbsp;can&nbsp;i&nbsp;correctly&nbsp;send&nbsp;message&nbsp;to&nbsp;rabbitmq-server?&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;It&nbsp;looks&nbsp;like&nbsp;the&nbsp;closing&nbsp;curly&nbsp;brace&nbsp;is&nbsp;in&nbsp;the&nbsp;wrong&nbsp;place.&nbsp;The&nbsp;following&nbsp;should&nbsp;work&nbsp;(I&nbsp;tend&nbsp;to&nbsp;use&nbsp;call&nbsp;instead&nbsp;of&nbsp;cast,&nbsp;but&nbsp;I&nbsp;think&nbsp;they&amp;#39;re&nbsp;equivalent&nbsp;in&nbsp;this&nbsp;case):&lt;br&gt;&lt;br&gt;send_message(Channel,&nbsp;Host,&nbsp;Password,&nbsp;Message)&nbsp;-&amp;gt;&lt;br&gt;<br>
 &nbsp; &nbsp;amqp_channel:call(Channel,&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;#&amp;#39;basic.publish&amp;#39;{exchange&nbsp;=&nbsp;&amp;lt;&amp;lt;&amp;quot;&amp;quot;&amp;gt;&amp;gt;,&nbsp;routing_key&nbsp;=&nbsp;&amp;lt;&amp;lt;&amp;quot;test&amp;quot;&amp;gt;&amp;gt;},&lt;br&gt; &nbsp; &nbsp; &nbsp; &nbsp;#amqp_msg{payload&nbsp;=&nbsp;Message}&lt;br&gt; &nbsp; &nbsp;).&lt;br&gt;&lt;br&gt;&lt;br&gt;Robby&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
