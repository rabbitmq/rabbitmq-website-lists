<tt>
&lt;div&nbsp;class=&quot;im&quot;&gt;2011/8/4&nbsp;sid__&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:sid.ravichandran@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;sid.ravichandran@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
&lt;div&gt;I&nbsp;am&nbsp;unable&nbsp;to&nbsp;figure&nbsp;how&nbsp;one&nbsp;would&nbsp;go&nbsp;about&nbsp;doing&nbsp;this.&nbsp;Since&nbsp;they&lt;br&gt;<br>
run&nbsp;on&nbsp;separate&nbsp;ports&nbsp;there&nbsp;would&nbsp;be&nbsp;the&nbsp;issue&nbsp;of&nbsp;violating&nbsp;the&nbsp;same&lt;br&gt;<br>
origin&nbsp;policy.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;am&nbsp;familiar&nbsp;with&nbsp;how&nbsp;Orbited&nbsp;provides&nbsp;long&nbsp;polling&nbsp;support&nbsp;for&nbsp;XMPP&lt;br&gt;<br>
but&nbsp;I&nbsp;was&nbsp;unable&nbsp;to&nbsp;find&nbsp;something&nbsp;similar&nbsp;for&nbsp;AMQP.&nbsp;But&nbsp;how&nbsp;would&nbsp;the&lt;br&gt;<br>
AMQP&nbsp;server&nbsp;respond&nbsp;without&nbsp;and&nbsp;explicit&nbsp;HTTP&nbsp;Request&nbsp;handler.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;would&nbsp;really&nbsp;appreciate&nbsp;some&nbsp;help&nbsp;on&nbsp;how&nbsp;this&nbsp;should&nbsp;be&nbsp;implemented.&lt;br&gt;<br>
Some&nbsp;sample&nbsp;code&nbsp;would&nbsp;be&nbsp;great.&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;You&nbsp;can&nbsp;combined&nbsp;multiple&nbsp;<br>
EventMachine-based&nbsp;servers&nbsp;in&nbsp;the&nbsp;same&nbsp;process.&nbsp;You&nbsp;can&nbsp;combine&nbsp;<br>
em-websocket,&nbsp;amqp&nbsp;gem&nbsp;and&nbsp;something&nbsp;that&nbsp;helps&nbsp;you&nbsp;with&nbsp;long&nbsp;polling&nbsp;<br>
(it&nbsp;probably&nbsp;can&nbsp;be&nbsp;something&nbsp;Thin&nbsp;or&nbsp;Goliath-based).&lt;br&gt;<br>
 &lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;border-left:1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);padding-left:1ex&quot;&gt;&lt;div&gt;<br>
Also&nbsp;I&nbsp;would&nbsp;like&nbsp;to&nbsp;know&nbsp;if&nbsp;the&nbsp;general&nbsp;practice&nbsp;is&nbsp;to&nbsp;run&nbsp;the&nbsp;AMQP&lt;br&gt;<br>
server&nbsp;as&nbsp;daemon&nbsp;or&nbsp;as&nbsp;part&nbsp;of&nbsp;Rails&nbsp;app.&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;I&nbsp;typically&nbsp;recommend&nbsp;running&nbsp;amqp&nbsp;daemons&nbsp;as&nbsp;satellite&nbsp;applications&nbsp;but&nbsp;there&nbsp;are&nbsp;certainly&nbsp;cases&nbsp;when&nbsp;people&nbsp;run&nbsp;amqp&nbsp;daemons&lt;br&gt;basically<br>
&nbsp;embedded&nbsp;into&nbsp;Web&nbsp;applications.&nbsp;Just&nbsp;keep&nbsp;in&nbsp;mind&nbsp;Ruby&nbsp;<br>
1.8.7&nbsp;threading&nbsp;scheduler&nbsp;is&nbsp;not&nbsp;really&nbsp;fair&nbsp;(some&nbsp;threads&nbsp;may&nbsp;be&nbsp;given&nbsp;<br>
significantly&nbsp;more&nbsp;time&nbsp;to&nbsp;run&nbsp;than&nbsp;others)&nbsp;and&nbsp;while&nbsp;1.9.2&nbsp;uses&nbsp;kernel&nbsp;<br>
threads&nbsp;that&nbsp;are&nbsp;a&nbsp;lot&nbsp;better&nbsp;in&nbsp;this&nbsp;regard,&nbsp;I&nbsp;have&nbsp;seen&nbsp;obscure&nbsp;1.9.2&nbsp;VM&nbsp;crashes&nbsp;with &nbsp;multithreaded&nbsp;applications.&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;--&nbsp;&lt;br&gt;MK&lt;br&gt;&lt;br&gt;&lt;a&nbsp;href=&quot;http://github.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://github.com/michaelklishin&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;a&nbsp;href=&quot;http://twitter.com/michaelklishin&quot;&nbsp;target=&quot;_blank&quot;&gt;http://twitter.com/michaelklishin&lt;/a&gt;&lt;br&gt;&lt;br&gt;<br>

</tt>
