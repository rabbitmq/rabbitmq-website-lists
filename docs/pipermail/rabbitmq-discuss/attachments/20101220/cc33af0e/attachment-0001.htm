<tt>
<br>
<br>
&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;Hi&nbsp;Jon,&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;&lt;/p&gt;<br>
<br>
<br>
<br>
&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;That&amp;#39;s&nbsp;great!&lt;span&nbsp;style=&quot;&quot;&gt; <br>
&lt;/span&gt;Thanks&nbsp;for&nbsp;letting&nbsp;me&nbsp;know.&nbsp;&lt;br&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;Unfortunately,&nbsp;my&nbsp;broker&nbsp;is&nbsp;still&nbsp;crashing,&nbsp;but&nbsp;not&nbsp;due&nbsp;to&nbsp;a&nbsp;direct&nbsp;out&nbsp;of&nbsp;memory&nbsp;exception&nbsp;now. &nbsp;I&nbsp;seem&nbsp;to&nbsp;be&nbsp;having&nbsp;a&nbsp;sharing&nbsp;access&nbsp;violation&nbsp;with&nbsp;the&nbsp;msg_store_transient&nbsp;files.&lt;br&gt;&lt;/p&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;I&amp;#39;ve&nbsp;tried&nbsp;the&nbsp;2.2.0&nbsp;binaries&nbsp;as&nbsp;on&nbsp;the&nbsp;website&nbsp;and&nbsp;a<br>
build&nbsp;of&nbsp;the&nbsp;umbrella&nbsp;tag&nbsp;of&nbsp;2.2.0&nbsp;(I&amp;#39;ve&nbsp;changed&nbsp;the&nbsp;CORE_REPOS&nbsp;hg&nbsp;clone&nbsp;to<br>
also&nbsp;hg&nbsp;update&nbsp;to&nbsp;the&nbsp;tag).&lt;span&nbsp;style=&quot;&quot;&gt; &nbsp;&lt;/span&gt;Both&nbsp;of<br>
these&nbsp;still&nbsp;crash.&nbsp;&lt;br&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;I&nbsp;have&nbsp;removed&nbsp;all&nbsp;the&nbsp;plugins&nbsp;and&nbsp;the&nbsp;crash&nbsp;still&nbsp;occurs.&lt;/p&gt;<br>
<br>
<br>
<br>
<br>
<br>
&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;I&amp;#39;ve&nbsp;narrowed&nbsp;down&nbsp;the&nbsp;scenario&nbsp;when&nbsp;the&nbsp;crash<br>
occurs.&lt;span&nbsp;style=&quot;&quot;&gt; &nbsp;&lt;/span&gt;As&nbsp;the&nbsp;queue&nbsp;builds&nbsp;up&nbsp;the<br>
msg_store_transient\0.rdq&nbsp;file&nbsp;is&nbsp;populated.&lt;span&nbsp;style=&quot;&quot;&gt; <br>
&lt;/span&gt;If&nbsp;I&nbsp;start&nbsp;the&nbsp;consumer&nbsp;at&nbsp;this&nbsp;point&nbsp;everything&nbsp;is&nbsp;fine.&lt;span&nbsp;style=&quot;&quot;&gt; &nbsp;&lt;/span&gt;If&nbsp;the&nbsp;broker&nbsp;starts&nbsp;storing&nbsp;data&nbsp;in&nbsp;a&nbsp;second<br>
database&nbsp;file&nbsp;(msg_store_transient\1.rdq)&nbsp;and&nbsp;then&nbsp;I&nbsp;start&nbsp;my&nbsp;consumer&nbsp;then&nbsp;the<br>
crash&nbsp;occurs.&lt;span&nbsp;style=&quot;&quot;&gt; &nbsp;&lt;/span&gt;Procmon&nbsp;suggests&nbsp;a&nbsp;sharing<br>
violation&nbsp;with&nbsp;one&nbsp;handle&nbsp;attempting&nbsp;to&nbsp;delete&nbsp;the&nbsp;0.rdq&nbsp;file.&nbsp;&lt;br&gt;&lt;/p&gt;<br>
<br>
&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;Has&nbsp;anyone&nbsp;experienced&nbsp;this&nbsp;kind&nbsp;of&nbsp;problem&nbsp;before?&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;Thanks,&lt;/p&gt;&lt;p&nbsp;class=&quot;MsoPlainText&quot;&gt;Scott&lt;br&gt;&lt;/p&gt;<br>
<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;20&nbsp;December&nbsp;2010&nbsp;14:45,&nbsp;Jon&nbsp;Brisbin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:jon@jbrisbin.com&quot;&gt;jon@jbrisbin.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Dec&nbsp;20,&nbsp;2010,&nbsp;at&nbsp;7:35&nbsp;AM,&nbsp;Matthew&nbsp;Sackman&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;Mon,&nbsp;Dec&nbsp;20,&nbsp;2010&nbsp;at&nbsp;01:28:16PM&nbsp;+0000,&nbsp;Scott&nbsp;Dupoy&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;My&nbsp;broker&nbsp;is&nbsp;crashing&nbsp;in&nbsp;a&nbsp;reproducible&nbsp;way.&nbsp; I&amp;#39;m&nbsp;running&nbsp;RabbitMQ&nbsp;2.0&nbsp;on&nbsp;a&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;32-bit&nbsp;version&nbsp;of&nbsp;Erlang&nbsp;on&nbsp;a&nbsp;64-bit&nbsp;Windows&nbsp;Server&nbsp;2008&nbsp;R2&nbsp;installation.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;2.0.0&nbsp;had&nbsp;a&nbsp;number&nbsp;of&nbsp;bugs&nbsp;in&nbsp;it.&nbsp;Please&nbsp;upgrade&nbsp;to&nbsp;the&nbsp;latest&nbsp;2.2.0&lt;br&gt;<br>
&amp;gt;&nbsp;release.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;FYI-&nbsp;I&nbsp;also&nbsp;recently&nbsp;updated&nbsp;the&nbsp;webhooks&nbsp;plugin&nbsp;for&nbsp;2.2.0.&nbsp;You&amp;#39;ll&nbsp;need&nbsp;to&nbsp;download&nbsp;the&nbsp;latest&nbsp;from&nbsp;GitHub&nbsp;(0.11)&nbsp;to&nbsp;run&nbsp;in&nbsp;that&nbsp;version&nbsp;of&nbsp;the&nbsp;broker..&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://github.com/jbrisbin/rabbitmq-webhooks&quot;&nbsp;target=&quot;_blank&quot;&gt;https://github.com/jbrisbin/rabbitmq-webhooks&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Jon&nbsp;Brisbin&lt;br&gt;<br>
Portal&nbsp;Webmaster&lt;br&gt;<br>
NPC&nbsp;International,&nbsp;Inc.&lt;br&gt;<br>
&lt;br&gt;<br>
Twitter:&nbsp;@j_brisbin&lt;br&gt;<br>
Skype:&nbsp;jon.brisbin&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;I&amp;#39;ve&nbsp;seen&nbsp;the&nbsp;release&nbsp;notes&nbsp;for&nbsp;2.2&nbsp;and&nbsp;wondered&nbsp;if&nbsp;the&nbsp;&amp;quot;fix&nbsp;queue&nbsp;memory&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;leak&nbsp;when&nbsp;using&nbsp;the&nbsp;management&nbsp;plugin&nbsp;or&nbsp;other&nbsp;consumers&nbsp;of&nbsp;queue&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;statistics&amp;quot;&nbsp;might&nbsp;be&nbsp;a&nbsp;related&nbsp;issue?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Yup,&nbsp;that&amp;#39;s&nbsp;exactly&nbsp;the&nbsp;issue.&nbsp;You&nbsp;should&nbsp;find&nbsp;this&nbsp;problem&nbsp;solved&nbsp;with&lt;br&gt;<br>
&amp;gt;&nbsp;2.2.0.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Matthew&lt;br&gt;<br>
&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
