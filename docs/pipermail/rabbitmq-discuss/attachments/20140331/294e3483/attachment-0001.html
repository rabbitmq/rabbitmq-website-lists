<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;Dear&nbsp;all,&nbsp;&lt;br&gt;&lt;br&gt;&lt;/div&gt;As&nbsp;promised&nbsp;after&nbsp;some&nbsp;time,&nbsp;here&nbsp;my&nbsp;feedback:&nbsp;We&nbsp;changed&nbsp;the&nbsp;prefetch&nbsp;count&nbsp;on&nbsp;our&nbsp;shovels&nbsp;to&nbsp;1000.&nbsp;Since&nbsp;then&nbsp;we&nbsp;observe&nbsp;that&nbsp;our&nbsp;Shovels&nbsp;are&nbsp;running&nbsp;not&nbsp;nececesarrily&nbsp;faster&nbsp;(not&nbsp;expected)&nbsp;but&nbsp;for&nbsp;sure&nbsp;much&nbsp;more&nbsp;stable.&nbsp;&lt;br&gt;<br>
&lt;br&gt;Two&nbsp;observations&nbsp;we&nbsp;made:&nbsp;&lt;br&gt;&lt;/div&gt;-&nbsp;If&nbsp;no&nbsp;prefetch&nbsp;count&nbsp;is&nbsp;set,&nbsp;and&nbsp;we&nbsp;have&nbsp;a&nbsp;lot&nbsp;of&nbsp;&quot;unacked&quot;&nbsp;Messages,&nbsp;which&nbsp;are&nbsp;currently&nbsp;residing&nbsp;inside&nbsp;the&nbsp;shovel,&nbsp;a&nbsp;connection&nbsp;loss&nbsp;from&nbsp;the&nbsp;shovel&nbsp;to&nbsp;the&nbsp;destination&nbsp;broker,&nbsp;can&nbsp;cause&nbsp;the&nbsp;whole&nbsp;source&nbsp;broker&nbsp;to&nbsp;crash&nbsp;(and&nbsp;all&nbsp;messages&nbsp;are&nbsp;lost&nbsp;if&nbsp;not&nbsp;persisted)&lt;br&gt;<br>
&lt;/div&gt;-&nbsp;It&nbsp;seems&nbsp;that&nbsp;messages&nbsp;in&nbsp;&quot;unacked&quot;&nbsp;State&nbsp;in&nbsp;the&nbsp;Source&nbsp;queue&nbsp;cannot&nbsp;be&nbsp;paged&nbsp;to&nbsp;disk&nbsp;in&nbsp;case&nbsp;of&nbsp;high&nbsp;memory&nbsp;usage.&nbsp;&lt;br&gt;&lt;br&gt;&lt;/div&gt;Thanks&nbsp;again&nbsp;for&nbsp;your&nbsp;advice!&lt;br&gt;&lt;br&gt;Cheers,&nbsp;&lt;br&gt;Claire&lt;br&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2014-02-27&nbsp;16:25&nbsp;GMT+01:00&nbsp;Claire&nbsp;Fautsch&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:cfautsch@goodgamestudios.com&quot;&nbsp;target=&quot;_blank&quot;&gt;cfautsch@goodgamestudios.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;Great,&nbsp;Thanks&nbsp;for&nbsp;your&nbsp;valuable&nbsp;comments.&nbsp;&lt;br&gt;&lt;br&gt;&lt;/div&gt;We&nbsp;will&nbsp;for&nbsp;sure&nbsp;try&nbsp;this&nbsp;out,&nbsp;and&nbsp;I&nbsp;will&nbsp;provide&nbsp;some&nbsp;feedback&nbsp;on&nbsp;the&nbsp;outcome.&nbsp;&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;Cheers,&nbsp;&lt;br&gt;Claire&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;<br>
&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;2014-02-27&nbsp;14:21&nbsp;GMT+01:00&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&gt;&lt;/span&gt;:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
On&nbsp;27/02/14&nbsp;12:50,&nbsp;Jason&nbsp;McIntosh&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
SO&nbsp;I&nbsp;HIGHLY&nbsp;recommend&nbsp;setting&nbsp;a&nbsp;prefetch&nbsp;that&#39;s&nbsp;not&nbsp;unlimited&nbsp;if&lt;br&gt;<br>
you&#39;re&nbsp;doing&nbsp;WAN&nbsp;replication,&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
So&nbsp;do&nbsp;I.&nbsp;Maybe&nbsp;we&nbsp;should&nbsp;change&nbsp;the&nbsp;default.&nbsp;Hmm.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;span&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Simon&nbsp;MacMullen&lt;br&gt;<br>
RabbitMQ,&nbsp;Pivotal&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34)&quot;&gt;&lt;span&gt; &nbsp;&lt;span&gt;  &nbsp; &lt;/span&gt; &lt;span&gt;   &nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif&quot;&gt;<br>
&lt;font&nbsp;color=&quot;#222222&quot;&gt;  &nbsp; &lt;/font&gt;&lt;span&nbsp;style=&quot;color:rgb(34,34,34)&quot;&gt;  &nbsp; &lt;span&gt;  &lt;span&gt;  &nbsp; &lt;/span&gt;&nbsp; &lt;span&gt;   &nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;color:rgb(0,137,201)&quot;&gt;&lt;font&nbsp;color=&quot;#0000ff&quot;&gt;  &nbsp;   &nbsp;   &nbsp;&lt;span&gt;  &nbsp; &lt;/span&gt;    &nbsp;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
&lt;div&gt;&lt;font&nbsp;style=&quot;color:rgb(80,0,80)&quot;&nbsp;color=&quot;#0089c9&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;span&nbsp;style=&quot;font-size:x-small&quot;&gt;&lt;font&nbsp;color=&quot;#500050&quot;&gt;  &nbsp;   &nbsp;   &nbsp;   &nbsp;  &lt;/font&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80)&quot;&gt;  &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80)&quot;&gt; &nbsp; &lt;/span&gt;&lt;font&nbsp;color=&quot;#500050&quot;&gt;  &nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;&lt;br&gt;<br>
<br>
&lt;span&nbsp;style=&quot;font-size:x-small&quot;&gt;&lt;span&gt;  &nbsp; &lt;span&gt;  &nbsp; &lt;span&gt;  &nbsp; &lt;span&gt;  &lt;span&gt; &nbsp; &nbsp;  &lt;/span&gt;&nbsp;&lt;span&gt; &nbsp;  &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;font&nbsp;style=&quot;font-size:x-small&quot;&gt;&nbsp;&lt;/font&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-size:x-small&quot;&gt;  &nbsp; &lt;span&gt;  &nbsp; &lt;span&gt;  &nbsp; &lt;span&gt;  &lt;span&gt;  &nbsp; &lt;/span&gt; &nbsp; &lt;span&gt; &nbsp; &nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;<br>
<br>
&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif&quot;&gt;&lt;span&nbsp;style=&quot;color:rgb(0,137,201)&quot;&gt;&lt;font&nbsp;color=&quot;#0000ff&quot;&gt;  &nbsp;   &nbsp;   &nbsp;&lt;span&gt;  &nbsp; &lt;/span&gt;    &nbsp;&lt;/font&gt;&lt;/span&gt;&lt;br&gt;&lt;div&gt;&lt;font&nbsp;style=&quot;color:rgb(80,0,80)&quot;&nbsp;color=&quot;#0089c9&quot;&nbsp;face=&quot;arial,&nbsp;sans-serif&quot;&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;span&nbsp;style=&quot;font-size:x-small&quot;&gt;&lt;font&nbsp;color=&quot;#500050&quot;&gt;  &nbsp;   &nbsp;   &nbsp;   &nbsp;  &lt;/font&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80)&quot;&gt;  &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(80,0,80)&quot;&gt; &nbsp; &lt;/span&gt;&lt;font&nbsp;color=&quot;#500050&quot;&gt;  &nbsp;&lt;/font&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;font&nbsp;color=&quot;#000000&quot;&gt;&lt;br&gt;<br>
&lt;span&nbsp;style=&quot;font-size:x-small&quot;&gt;&lt;span&gt;  &nbsp; &lt;span&gt;  &nbsp; &lt;span&gt;  &nbsp; &lt;span&gt;  &lt;span&gt; &nbsp; &nbsp;  &lt;/span&gt;&nbsp;&lt;span&gt; &nbsp;  &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;font&nbsp;style=&quot;font-size:x-small&quot;&gt;&nbsp;&lt;/font&gt;&lt;br&gt;&lt;span&nbsp;style=&quot;font-size:x-small&quot;&gt;  &nbsp; &lt;span&gt;  &nbsp; &lt;span&gt;  &nbsp; &lt;span&gt;  &lt;span&gt;  &nbsp; &lt;/span&gt; &nbsp; &lt;span&gt; &nbsp; &nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;<br>
&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
