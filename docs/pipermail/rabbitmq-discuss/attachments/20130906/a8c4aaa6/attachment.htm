<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Sep&nbsp;5,&nbsp;2013&nbsp;at&nbsp;11:06&nbsp;PM,&nbsp;Haster&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:haster2004@yandex.ru&quot;&nbsp;target=&quot;_blank&quot;&gt;haster2004@yandex.ru&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;br&gt;<br>
I&nbsp;set&nbsp;no-ack&nbsp;to&nbsp;0&nbsp;in&nbsp;basic.consume,&nbsp;so&nbsp;I&nbsp;suggest&nbsp;that&nbsp;server&nbsp;will&nbsp;wait&nbsp;for&lt;br&gt;<br>
basic.ack&nbsp;from&nbsp;client&nbsp;on&nbsp;each&nbsp;message.&nbsp;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Yes,&nbsp;if&nbsp;no-ack&nbsp;is&nbsp;set&nbsp;to&nbsp;0,&nbsp;the&nbsp;broker&nbsp;won&amp;#39;t&nbsp;consider&nbsp;the&nbsp;message&nbsp;delivered&nbsp;until&nbsp;you&nbsp;acknowledge&nbsp;it.&nbsp;By&nbsp;default&nbsp;the&nbsp;broker&nbsp;does&nbsp;not&nbsp;pause&nbsp;sending&nbsp;messages&nbsp;if&nbsp;there&nbsp;are&nbsp;outstanding&nbsp;unacknowledged&nbsp;messages.&nbsp;You&nbsp;can&nbsp;tune&nbsp;this&nbsp;by&nbsp;using&nbsp;basic.qos&nbsp;to&nbsp;set&nbsp;a&nbsp;message&nbsp;prefetch&nbsp;on&nbsp;the&nbsp;channel,&nbsp;this&nbsp;will&nbsp;limit&nbsp;the&nbsp;number&nbsp;of&nbsp;unacknowledged&nbsp;messages&nbsp;on&nbsp;a&nbsp;channel&nbsp;before&nbsp;the&nbsp;broker&nbsp;will&nbsp;pause&nbsp;and&nbsp;wait&nbsp;for&nbsp;the&nbsp;client&nbsp;to&nbsp;acknowledge&nbsp;a&nbsp;message.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;no-ack&nbsp;is&nbsp;set&nbsp;to&nbsp;1,&nbsp;the&nbsp;broker&nbsp;considers&nbsp;the&nbsp;message&nbsp;acknowledged&nbsp;as&nbsp;soon&nbsp;as&nbsp;it&nbsp;leaves&nbsp;the&nbsp;broker,&nbsp;and&nbsp;basic.qos&nbsp;will&nbsp;have&nbsp;no&nbsp;effect&nbsp;consumers&nbsp;declared&nbsp;with&nbsp;this&nbsp;set.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;can&nbsp;acknowledge&nbsp;a&nbsp;single&nbsp;message&nbsp;with&nbsp;basic.ack&nbsp;(amqp_basic_ack()),&nbsp;or&nbsp;all&nbsp;messages&nbsp;up&nbsp;to&nbsp;a&nbsp;message&nbsp;by&nbsp;setting&nbsp;the&nbsp;multiple&nbsp;flag&nbsp;when&nbsp;doing&nbsp;a&nbsp;basic.ack.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;<br>
-Alan&lt;/div&gt;&lt;/div&gt;<br>

</tt>
