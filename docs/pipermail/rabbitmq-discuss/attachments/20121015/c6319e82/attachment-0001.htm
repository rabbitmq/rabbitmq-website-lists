<tt>
Hi&nbsp;List,&lt;br&gt;New&nbsp;user&nbsp;here,&nbsp;debugging&nbsp;some&nbsp;code&nbsp;I&nbsp;inherited&nbsp;so&nbsp;apologies&nbsp;if&nbsp;my&nbsp;questions&nbsp;below&nbsp;are&nbsp;irrelevant.&lt;br&gt;&lt;br&gt;I&amp;#39;m&nbsp;investigating&nbsp;an&nbsp;amqp&nbsp;crash&nbsp;that&nbsp;I&amp;#39;ve&nbsp;seen&nbsp;in&nbsp;my&nbsp;logs&nbsp;a&nbsp;few&nbsp;times&nbsp;and&nbsp;after&nbsp;a&nbsp;code&nbsp;review&nbsp;of&nbsp;the&nbsp;amqp&nbsp;component&nbsp;I&amp;#39;m&nbsp;a&nbsp;bit&nbsp;concerned&nbsp;that&nbsp;my&nbsp;connections&nbsp;may&nbsp;be&nbsp;dying&nbsp;&amp;amp;&nbsp;silently&nbsp;failing&nbsp;when&nbsp;this&nbsp;crash&nbsp;occurs.&lt;br&gt;<br>
&lt;br&gt;I&amp;#39;m&nbsp;using&nbsp;an&nbsp;older&nbsp;version&nbsp;that&nbsp;unlinked&nbsp;from&nbsp;the&nbsp;process&nbsp;that&nbsp;called&nbsp;&amp;quot;start_link&amp;quot;,&nbsp;anyone&nbsp;know&nbsp;why&nbsp;that&nbsp;was?&nbsp;I&amp;#39;m&nbsp;publishing&nbsp;through&nbsp;this&nbsp;channel&nbsp;by&nbsp;calling&nbsp;amqp_channel:cast,&nbsp;so&nbsp;now&nbsp;I&amp;#39;m&nbsp;worried&nbsp;that&nbsp;if&nbsp;the&nbsp;connection&nbsp;&amp;amp;&nbsp;channel&nbsp;were&nbsp;closed&nbsp;down&nbsp;everything&nbsp;that&nbsp;I&nbsp;thought&nbsp;I&nbsp;was&nbsp;publishing&nbsp;after&nbsp;this&nbsp;error&nbsp;just&nbsp;silently&nbsp;failed.&nbsp;And&nbsp;because&nbsp;of&nbsp;the&nbsp;unlink&nbsp;there&amp;#39;s&nbsp;no&nbsp;way&nbsp;the&nbsp;application&nbsp;would&nbsp;have&nbsp;known.&lt;br&gt;<br>
&lt;br&gt;I&nbsp;plan&nbsp;upgrading&nbsp;to&nbsp;the&nbsp;latest&nbsp;version&nbsp;but&nbsp;I&amp;#39;m&nbsp;not&nbsp;sure&nbsp;that&nbsp;it&nbsp;has&nbsp;all&nbsp;the&nbsp;features&nbsp;to&nbsp;help&nbsp;solve&nbsp;this&nbsp;problem.&nbsp;I&nbsp;see&nbsp;that&nbsp;the&nbsp;unlink&nbsp;is&nbsp;gone&nbsp;and&nbsp;the&nbsp;supervision&nbsp;policy&nbsp;is&nbsp;still:{one_for_all,&nbsp;0,&nbsp;1}&nbsp;So&nbsp;I&nbsp;guess&nbsp;this&nbsp;means&nbsp;I&nbsp;have&nbsp;to&nbsp;trap&nbsp;exits&nbsp;and&nbsp;I&nbsp;have&nbsp;responsibility&nbsp;for&nbsp;reopening&nbsp;the&nbsp;connection&nbsp;&amp;amp;&nbsp;channel&nbsp;if&nbsp;it&nbsp;dies?&lt;br&gt;<br>
But&nbsp;before&nbsp;I&nbsp;restart&nbsp;it,&nbsp;what&nbsp;happens&nbsp;to&nbsp;any&nbsp;attempts&nbsp;to&nbsp;publish&nbsp;messages?&nbsp;I&nbsp;see&nbsp;there&amp;#39;s&nbsp;new&nbsp;confirmation&nbsp;functionality&nbsp;that&nbsp;sounds&nbsp;like&nbsp;it&nbsp;might&nbsp;do&nbsp;what&amp;#39;s&nbsp;required&nbsp;but&nbsp;from&nbsp;my&nbsp;reading&nbsp;it&nbsp;seems&nbsp;that&nbsp;if&nbsp;amqp_channel&nbsp;is&nbsp;shut&nbsp;down&nbsp;after&nbsp;a&nbsp;crash&nbsp;on&nbsp;the&nbsp;connection&nbsp;then&nbsp;all&nbsp;the&nbsp;confirm&nbsp;info&nbsp;is&nbsp;discarded.&nbsp;Is&nbsp;there&nbsp;no&nbsp;way&nbsp;to&nbsp;keep&nbsp;this&nbsp;process&nbsp;alive&nbsp;and&nbsp;try&nbsp;to&nbsp;re-open&nbsp;the&nbsp;connection&nbsp;immediately&nbsp;on&nbsp;failure?&lt;br&gt;<br>
&lt;br&gt;I&amp;#39;m&nbsp;just&nbsp;about&nbsp;to&nbsp;plug&nbsp;in&nbsp;the&nbsp;new&nbsp;version&nbsp;and&nbsp;play&nbsp;with&nbsp;the&nbsp;confirmations&nbsp;but&nbsp;any&nbsp;explanations&nbsp;of&nbsp;the&nbsp;current&nbsp;design&nbsp;might&nbsp;help&nbsp;enormously,&lt;br&gt;Thanks,&lt;br&gt;//TTom.&lt;br&gt;&lt;br&gt;<br>

</tt>
