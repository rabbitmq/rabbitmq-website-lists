<tt>
Hi,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;ran&nbsp;into&nbsp;a&nbsp;situation&nbsp;where&nbsp;we&nbsp;hit&nbsp;a&nbsp;memory&nbsp;limit&nbsp;by&nbsp;queues&nbsp;being&nbsp;filled&nbsp;upt,&nbsp;causing&nbsp;all&nbsp;connections&nbsp;to&nbsp;be&nbsp;in&nbsp;a&nbsp;blocked&nbsp;or&nbsp;blocking&nbsp;state.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&amp;#39;re&nbsp;killed&nbsp;all&nbsp;connections&nbsp;from&nbsp;the&nbsp;client&nbsp;side&nbsp;and&nbsp;deleted&nbsp;the&nbsp;filled&nbsp;up&nbsp;queues. &lt;/div&gt;<br>
&lt;div&gt;While&nbsp;the&nbsp;broker&nbsp;is&nbsp;still&nbsp;cleaning&nbsp;up&nbsp;/msg_store_transient&nbsp;(which&nbsp;is&nbsp;horribly&nbsp;slow),&nbsp;it&nbsp;also&nbsp;still&nbsp;lists&nbsp;all&nbsp;the&nbsp;connections&nbsp;as&nbsp;alive,&nbsp;being&nbsp;still&nbsp;blocked.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Is&nbsp;it&nbsp;possible&nbsp;that&nbsp;when&nbsp;the&nbsp;broker&nbsp;is&nbsp;still&nbsp;in&nbsp;memory&nbsp;alarm&nbsp;mode,&nbsp;the&nbsp;connections&nbsp;(blocked)&nbsp;are&nbsp;not&nbsp;checked&nbsp;for&nbsp;their&nbsp;heartbeat&nbsp;and&nbsp;therefore&nbsp;are&nbsp;kept&nbsp;alive?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;And&nbsp;what&nbsp;is&nbsp;the&nbsp;cause&nbsp;of&nbsp;the&nbsp;slowness&nbsp;of&nbsp;the&nbsp;cleanup&nbsp;when&nbsp;deleting&nbsp;queues&nbsp;with&nbsp;only&nbsp;transient&nbsp;messages?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Irmo&lt;/div&gt;<br>

</tt>
