<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;It&nbsp;seems&nbsp;that&nbsp;Consumer&nbsp;will&nbsp;get&nbsp;blocked&nbsp;after&nbsp;all&nbsp;connections&nbsp;exhausted.&lt;br&gt;&lt;/div&gt;&lt;div&gt;Some&nbsp;rabbitmqctl&nbsp;commands&nbsp;such&nbsp;as&nbsp;`rabbitmqctl&nbsp;list_queues`&nbsp;and&nbsp;`rabbitmqctl&nbsp;list_consumers`&nbsp;will&nbsp;get&nbsp;stucked&nbsp;as&nbsp;well.&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Here&nbsp;is&nbsp;an&nbsp;example&nbsp;to&nbsp;demonstrate&nbsp;that:&nbsp;&lt;a&nbsp;href=&quot;https://gist.github.com/timonwong/238f2379d1acbbd4ef0a&quot;&gt;https://gist.github.com/timonwong/238f2379d1acbbd4ef0a&lt;/a&gt;&lt;/div&gt;&lt;div&gt;After&nbsp;all&nbsp;connections&nbsp;are&nbsp;exhausted,&nbsp;consumer&nbsp;will&nbsp;get&nbsp;blocked&nbsp;after&nbsp;several&nbsp;seconds,&nbsp;`rabbitmqadmin&nbsp;list&nbsp;queues`&nbsp;will&nbsp;indicate&nbsp;that&nbsp;there&nbsp;was&nbsp;unacknowledged&nbsp;messages&nbsp;in&nbsp;the&nbsp;queue:&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;+-------+-----------+-------------+----------------------+-----------+---------+------------------------+----------+----------+----------------+-------------------------+------------------+--------+---------+&lt;/div&gt;<br>
<br>
&lt;div&gt;|&nbsp;vhost&nbsp;|&nbsp; &nbsp;name&nbsp; &nbsp; |&nbsp;auto_delete&nbsp;|&nbsp;consumer_utilisation&nbsp;|&nbsp;consumers&nbsp;|&nbsp;durable&nbsp;|&nbsp;exclusive_consumer_tag&nbsp;|&nbsp; memory&nbsp; |&nbsp;messages&nbsp;|&nbsp;messages_ready&nbsp;|&nbsp;messages_unacknowledged&nbsp;|&nbsp; &nbsp; &nbsp; &nbsp;node&nbsp; &nbsp; &nbsp; &nbsp;|&nbsp;policy&nbsp;|&nbsp; state&nbsp; |&lt;/div&gt;&lt;div&gt;<br>
<br>
+-------+-----------+-------------+----------------------+-----------+---------+------------------------+----------+----------+----------------+-------------------------+------------------+--------+---------+&lt;/div&gt;&lt;div&gt;|&nbsp;/&nbsp; &nbsp; &nbsp;|&nbsp;test.msgs&nbsp;|&nbsp;False&nbsp; &nbsp; &nbsp; &nbsp;|&nbsp;0.105861902008&nbsp; &nbsp; &nbsp; &nbsp;|&nbsp;1&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;|&nbsp;True&nbsp; &nbsp; |&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;74966600&nbsp;|&nbsp;46906&nbsp; &nbsp; |&nbsp;45664&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;1242&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;rabbit@localhost&nbsp;|&nbsp; &nbsp; &nbsp; &nbsp; |&nbsp;running&nbsp;|&lt;/div&gt;<br>
<br>
&lt;div&gt;+-------+-----------+-------------+----------------------+-----------+---------+------------------------+----------+----------+----------------+-------------------------+------------------+--------+---------+&lt;/div&gt;&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&#39;ve&nbsp;tried&nbsp;Python&nbsp;kombu&nbsp;library&nbsp;with&nbsp;both&nbsp;pyamqp&nbsp;and&nbsp;librabbitmq&nbsp;as&nbsp;transport&nbsp;driver.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Am&nbsp;I&nbsp;doing&nbsp;something&nbsp;wrong?&nbsp;Or&nbsp;is&nbsp;it&nbsp;a&nbsp;expected&nbsp;behavior?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;My&nbsp;environment&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Server&nbsp;side:&lt;/div&gt;&lt;div&gt;CentOS&nbsp;6.3&nbsp;64bit&lt;/div&gt;&lt;div&gt;RabbitMQ:&nbsp;3.3.1&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Client&nbsp;side:&lt;/div&gt;&lt;div&gt;CentOS&nbsp;6.3&nbsp;64bit&lt;/div&gt;&lt;div&gt;Python&nbsp;2.7.6&lt;/div&gt;&lt;div&gt;Kombu&nbsp;3.0.16&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;in&nbsp;advance.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards,&lt;/div&gt;&lt;div&gt;Timon&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
