<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;13,&nbsp;2014&nbsp;at&nbsp;3:44&nbsp;PM,&nbsp;Michael&nbsp;Klishin &lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:mklishin@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mklishin@gopivotal.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&gt;On&nbsp;13&nbsp;May&nbsp;2014&nbsp;at&nbsp;17:28:06,&nbsp;mouad&nbsp;ben&nbsp;(&lt;a&nbsp;href=&quot;mailto:mouadino@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mouadino@gmail.com&lt;/a&gt;)&nbsp;wrote:&lt;br&gt;<br>
<br>
&gt;&nbsp;&gt;&nbsp;But&nbsp;i&nbsp;think&nbsp;that&nbsp;this&nbsp;also&nbsp;a&nbsp;problem&nbsp;in&nbsp;RabbitMQ&nbsp;side,&nbsp;basically&lt;br&gt;&gt;&nbsp;i&nbsp;believe&nbsp;a&nbsp;more&nbsp;sane&nbsp;behavior&nbsp;will&nbsp;be&nbsp;for&nbsp;RabbitMQ&nbsp;to&nbsp;ignore&nbsp;**old**&lt;br&gt;&gt;&nbsp;delete&nbsp;if&nbsp;a&nbsp;newest&nbsp;exchange&#39;s&nbsp;declare&nbsp;was&nbsp;sent,&nbsp;instead&nbsp;of&nbsp;threading&lt;br&gt;<br>
<br>
&gt;&nbsp;this&nbsp;later&nbsp;as&nbsp;a&nbsp;no&nbsp;op.&lt;br&gt;&gt;&lt;br&gt;&gt;&nbsp;Does&nbsp;my&nbsp;analyze&nbsp;above&nbsp;make&nbsp;sense&nbsp;!?&lt;br&gt;&lt;br&gt;&lt;/div&gt;I&nbsp;personally&nbsp;think&nbsp;that&nbsp;systems&nbsp;that&nbsp;cannot&nbsp;tolerate&nbsp;the&nbsp;current&nbsp;behaviour&lt;br&gt;should&nbsp;not&nbsp;use&nbsp;auto-delete&nbsp;exchanges.&lt;br&gt;&lt;br&gt;Is&nbsp;this&nbsp;realistic&nbsp;for&nbsp;OpenStack?&nbsp;Is&nbsp;it&nbsp;only&nbsp;auto-delete&nbsp;exchanges&nbsp;that&lt;br&gt;<br>
<br>
cause&nbsp;you&nbsp;practical&nbsp;issues&nbsp;or&nbsp;auto-delete&nbsp;queues,&nbsp;too?&nbsp;If&nbsp;the&nbsp;latter,&lt;br&gt;have&nbsp;you&nbsp;considered&nbsp;exclusive&nbsp;queues&nbsp;(note&nbsp;that&nbsp;they&nbsp;cannot&nbsp;be&nbsp;mirrored).&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;<br>
<br>
Yes&nbsp;it&#39;s&nbsp;realistic&nbsp;for&nbsp;OpenStack&nbsp;and&nbsp;i&nbsp;have&nbsp;already&nbsp;filled&nbsp;a&nbsp;bug&nbsp;report&nbsp;there&nbsp;(&lt;a&nbsp;href=&quot;https://bugs.launchpad.net/neutron/+bug/1318721&quot;&nbsp;target=&quot;_blank&quot;&gt;https://bugs.launchpad.net/neutron/+bug/1318721&lt;/a&gt;),&nbsp;The&nbsp;problem&nbsp;only&nbsp;happen&nbsp;with&nbsp;auto-delete&nbsp;exchanges&nbsp;not&nbsp;the&nbsp;queues&nbsp;and&nbsp;i&nbsp;believe&nbsp;this&nbsp;is&nbsp;b/c&nbsp;the&nbsp;queues&nbsp;wasn&#39;t&nbsp;mirrored&nbsp;b/c&nbsp;we&nbsp;were&nbsp;relaying&nbsp;on&nbsp;x-ha-policy&nbsp;argument&nbsp;that&nbsp;do&nbsp;nothing&nbsp;in&nbsp;RabbitMQ&nbsp;3.*,&nbsp;a&nbsp;misconfiguration&nbsp;from&nbsp;our&nbsp;side&nbsp;sadly,&nbsp;But&nbsp;i&nbsp;still&nbsp;don&#39;t&nbsp;understand&nbsp;why&nbsp;this&nbsp;is&nbsp;the&nbsp;case,&nbsp;why&nbsp;in&nbsp;case&nbsp;of&nbsp;mirrored&nbsp;queues&nbsp;the&nbsp;problem&nbsp;doesn&#39;t&nbsp;happen&nbsp;!&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;13,&nbsp;2014&nbsp;at&nbsp;3:44&nbsp;PM,&nbsp;Michael&nbsp;Klishin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:mklishin@gopivotal.com&quot;&nbsp;target=&quot;_blank&quot;&gt;mklishin@gopivotal.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;On&nbsp;13&nbsp;May&nbsp;2014&nbsp;at&nbsp;17:28:06,&nbsp;mouad&nbsp;ben&nbsp;(&lt;a&nbsp;href=&quot;mailto:mouadino@gmail.com&quot;&gt;mouadino@gmail.com&lt;/a&gt;)&nbsp;wrote:&lt;br&gt;<br>
<br>
<br>
&gt;&nbsp;&gt;&nbsp;But&nbsp;i&nbsp;think&nbsp;that&nbsp;this&nbsp;also&nbsp;a&nbsp;problem&nbsp;in&nbsp;RabbitMQ&nbsp;side,&nbsp;basically&lt;br&gt;<br>
&gt;&nbsp;i&nbsp;believe&nbsp;a&nbsp;more&nbsp;sane&nbsp;behavior&nbsp;will&nbsp;be&nbsp;for&nbsp;RabbitMQ&nbsp;to&nbsp;ignore&nbsp;**old**&lt;br&gt;<br>
&gt;&nbsp;delete&nbsp;if&nbsp;a&nbsp;newest&nbsp;exchange&#39;s&nbsp;declare&nbsp;was&nbsp;sent,&nbsp;instead&nbsp;of&nbsp;threading&lt;br&gt;<br>
&gt;&nbsp;this&nbsp;later&nbsp;as&nbsp;a&nbsp;no&nbsp;op.&lt;br&gt;<br>
&gt;&lt;br&gt;<br>
&gt;&nbsp;Does&nbsp;my&nbsp;analyze&nbsp;above&nbsp;make&nbsp;sense&nbsp;!?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;I&nbsp;personally&nbsp;think&nbsp;that&nbsp;systems&nbsp;that&nbsp;cannot&nbsp;tolerate&nbsp;the&nbsp;current&nbsp;behaviour&lt;br&gt;<br>
should&nbsp;not&nbsp;use&nbsp;auto-delete&nbsp;exchanges.&lt;br&gt;<br>
&lt;br&gt;<br>
Is&nbsp;this&nbsp;realistic&nbsp;for&nbsp;OpenStack?&nbsp;Is&nbsp;it&nbsp;only&nbsp;auto-delete&nbsp;exchanges&nbsp;that&lt;br&gt;<br>
cause&nbsp;you&nbsp;practical&nbsp;issues&nbsp;or&nbsp;auto-delete&nbsp;queues,&nbsp;too?&nbsp;If&nbsp;the&nbsp;latter,&lt;br&gt;<br>
have&nbsp;you&nbsp;considered&nbsp;exclusive&nbsp;queues&nbsp;(note&nbsp;that&nbsp;they&nbsp;cannot&nbsp;be&nbsp;mirrored). &lt;br&gt;<br>
--&lt;br&gt;<br>
MK&lt;br&gt;<br>
&lt;br&gt;<br>
Software&nbsp;Engineer,&nbsp;Pivotal/RabbitMQ&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
