<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;13,&nbsp;2014&nbsp;at&nbsp;3:59&nbsp;PM,&nbsp;Simon&nbsp;MacMullen &lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;<br>
<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;On&nbsp;13/05/2014&nbsp;14:25,&nbsp;mouad&nbsp;ben&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;RabbitMQ&nbsp;cluster&nbsp;(RabbitMQ&nbsp;3.1.5,Erlang&nbsp;R14B04)&lt;br&gt;&lt;/blockquote&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;(Queues&nbsp;are&nbsp;also&nbsp;created&nbsp;with&nbsp;x-ha-policy&nbsp;set&nbsp;to&nbsp;all).&lt;br&gt;<br>
<br>
&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;As&nbsp;an&nbsp;aside,&nbsp;note&nbsp;that&nbsp;x-ha-policy&nbsp;only&nbsp;controls&nbsp;queue&nbsp;mirroring&nbsp;in&nbsp;2.x!&nbsp;In&nbsp;3.x&nbsp;it&nbsp;does&nbsp;nothing&nbsp;at&nbsp;all.&nbsp;See&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/ha.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/ha.&lt;u&gt;&lt;/u&gt;html&lt;/a&gt; and &lt;a&nbsp;href=&quot;http://www.rabbitmq.com/blog/2012/11/19/breaking-things-with-rabbitmq-3-0/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/blog/&lt;u&gt;&lt;/u&gt;2012/11/19/breaking-things-&lt;u&gt;&lt;/u&gt;with-rabbitmq-3-0/&lt;/a&gt;&lt;/blockquote&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Ohh&nbsp;thanks&nbsp;for&nbsp;the&nbsp;info,&nbsp;shamelessly&nbsp;i&nbsp;didn&#39;t&nbsp;knew&nbsp;that.&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;br&gt;&lt;br&gt;Of&nbsp;course,&nbsp;autodelete&nbsp;RPC&nbsp;queues&nbsp;quite&nbsp;possibly&nbsp;do&nbsp;not&nbsp;need&nbsp;to&nbsp;be&nbsp;HA.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Well&nbsp;apparently&nbsp;my&nbsp;&quot;chaos&nbsp;monkey&quot;&nbsp;wasn&#39;t&nbsp;able&nbsp;to&nbsp;reproduce&nbsp;this&nbsp;problem&nbsp;when&nbsp;mirroring&nbsp;queue&nbsp;was&nbsp;enabled&nbsp;!?&nbsp;I&nbsp;am&nbsp;actually&nbsp;still&nbsp;not&nbsp;sure&nbsp;why&nbsp;is&nbsp;this&nbsp;the&nbsp;case&nbsp;!?&nbsp;I&nbsp;am&nbsp;probably&nbsp;missing&nbsp;something&nbsp;obvious&nbsp;!&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
But&nbsp;in&nbsp;the&nbsp;same&nbsp;time&nbsp;if&nbsp;a&nbsp;node&nbsp;of&nbsp;the&nbsp;cluster&nbsp;go&nbsp;down&nbsp;the&nbsp;Queue&nbsp;consumer&lt;br&gt;that&nbsp;are&nbsp;created&nbsp;in&nbsp;this&nbsp;node&nbsp;will&nbsp;be&nbsp;deleted,&nbsp;the&nbsp;Queues&nbsp;with&lt;br&gt;auto-delete&nbsp;will&nbsp;end&nbsp;up&nbsp;being&nbsp;deleted&nbsp;too&nbsp;and&nbsp;the&nbsp;same&nbsp;thing&nbsp;with&nbsp;the&lt;br&gt;exchanges&nbsp;bounded&nbsp;to&nbsp;them&nbsp;which&nbsp;also&nbsp;have&nbsp;auto-delete,&nbsp;all&nbsp;of&nbsp;this&nbsp;will&lt;br&gt;<br>
<br>
be&nbsp;done&nbsp;**eventually**&nbsp;in&nbsp;all&nbsp;RabbitMQ&nbsp;nodes&nbsp;that&nbsp;are&nbsp;still&nbsp;up.&lt;br&gt;&lt;br&gt;So&nbsp;in&nbsp;detail&nbsp;from&nbsp;neutron&nbsp;side&nbsp;we&nbsp;have:&lt;br&gt;&lt;br&gt;N1.&nbsp;Connect&nbsp;to&nbsp;node&nbsp;2.&lt;br&gt;N2.&nbsp;Create&nbsp;Exchange&nbsp;X.&lt;br&gt;N3.&nbsp;Create&nbsp;Queue&nbsp;Q.&lt;br&gt;N4.&nbsp;Create&nbsp;Binding&nbsp;from&nbsp;Q&nbsp;to&nbsp;X.&lt;br&gt;<br>
<br>
&lt;br&gt; From&nbsp;cluster&nbsp;side&nbsp;we&nbsp;have:&lt;br&gt;&lt;br&gt;R1.&nbsp;Delete&nbsp;consumer.&lt;br&gt;R2.&nbsp;Delete&nbsp;Queue&nbsp;Q&nbsp;(Binding&nbsp;is&nbsp;deleted&nbsp;explicitly).&lt;br&gt;R3.&nbsp;Delete&nbsp;Exchange&nbsp;X.&lt;br&gt;&lt;br&gt;This&nbsp;actually&nbsp;can&nbsp;lead&nbsp;to&nbsp;a&nbsp;race&nbsp;condition&nbsp;that&nbsp;will&nbsp;result&nbsp;of&nbsp;N4&lt;br&gt;failing&nbsp;with&nbsp;error&nbsp;stating&nbsp;that&nbsp;exchange&nbsp;doesn&#39;t&nbsp;exist&nbsp;because&lt;br&gt;<br>
<br>
apparently&nbsp;R3&nbsp;action&nbsp;was&nbsp;executed&nbsp;after&nbsp;N2&nbsp;and&nbsp;before&nbsp;N4.&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;That&nbsp;makes&nbsp;sense.&nbsp;But&nbsp;note&nbsp;that&nbsp;R2&nbsp;and&nbsp;R3&nbsp;are&nbsp;an&nbsp;atomic&nbsp;event.&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Just&nbsp;to&nbsp;be&nbsp;sure,&nbsp;you&nbsp;don&#39;t&nbsp;mean&nbsp;that&nbsp;(R2+R3)&nbsp;group&nbsp;is&nbsp;an&nbsp;atomic&nbsp;event&nbsp;!?&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
A&nbsp;workaround&nbsp;that&nbsp;we&nbsp;have&nbsp;created&nbsp;is&nbsp;to&nbsp;retry&nbsp;creation&nbsp;if&nbsp;it&nbsp;fail&nbsp;as&nbsp;you&lt;br&gt;can&nbsp;see&nbsp;in&nbsp;the&nbsp;bug&nbsp;report&nbsp;in&nbsp;OpenStack&nbsp;side&lt;br&gt;&lt;a&nbsp;href=&quot;https://bugs.launchpad.net/neutron/+bug/1318721&quot;&nbsp;target=&quot;_blank&quot;&gt;https://bugs.launchpad.net/&lt;u&gt;&lt;/u&gt;neutron/+bug/1318721&lt;/a&gt;.&lt;br&gt;<br>
<br>
&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;And&nbsp;that&nbsp;would&nbsp;work&nbsp;as&nbsp;a&nbsp;workaround.&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
But&nbsp;i&nbsp;think&nbsp;that&nbsp;this&nbsp;also&nbsp;a&nbsp;problem&nbsp;in&nbsp;RabbitMQ&nbsp;side,&nbsp;basically&nbsp;i&lt;br&gt;believe&nbsp;a&nbsp;more&nbsp;sane&nbsp;behavior&nbsp;will&nbsp;be&nbsp;for&nbsp;RabbitMQ&nbsp;to&nbsp;ignore&nbsp;**old**&lt;br&gt;delete&nbsp;if&nbsp;a&nbsp;newest&nbsp;exchange&#39;s&nbsp;declare&nbsp;was&nbsp;sent,&nbsp;instead&nbsp;of&nbsp;threading&lt;br&gt;this&nbsp;later&nbsp;as&nbsp;a&nbsp;no&nbsp;op.&lt;br&gt;<br>
<br>
&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;Hmm.&nbsp;Newer&nbsp;than&nbsp;what?&nbsp;The&nbsp;queue&nbsp;delete&nbsp;R2&nbsp;is&nbsp;not&nbsp;necessarily&nbsp;older&nbsp;than&nbsp;then&nbsp;most&nbsp;recent&nbsp;exchange&nbsp;declare&nbsp;N2&nbsp;in&nbsp;this&nbsp;scenario,&nbsp;is&nbsp;it?&nbsp;In&nbsp;fact,&nbsp;isn&#39;t&nbsp;R2&nbsp;always&nbsp;newer&nbsp;than&nbsp;N2?&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Not&nbsp;necessarily,&nbsp;I&nbsp;don&#39;t&nbsp;see&nbsp;why&nbsp;there&nbsp;should&nbsp;be&nbsp;any&nbsp;order&nbsp;between&nbsp;unrelated&nbsp;operation&nbsp;from&nbsp;client&nbsp;versus&nbsp;cluster&nbsp;side,&nbsp;when&nbsp;the&nbsp;connection&nbsp;is&nbsp;broken&nbsp;this&nbsp;will&nbsp;raise&nbsp;the&nbsp;sequence&nbsp;of&nbsp;events&nbsp;in&nbsp;both&nbsp;sides&nbsp;but&nbsp;who&nbsp;is&nbsp;faster&nbsp;!&nbsp;in&nbsp;the&nbsp;&quot;happy&nbsp;path&quot;&nbsp;the&nbsp;order&nbsp;will&nbsp;be&nbsp;R1&nbsp;-&gt;&nbsp;R2&nbsp;-&gt;&nbsp;R3&nbsp;-&gt;&nbsp;N1&nbsp;-&gt;&nbsp;N2&nbsp;-&gt;&nbsp;N3&nbsp;-&gt;&nbsp;N4,&nbsp;but&nbsp;in&nbsp;reality&nbsp;all&nbsp;orders&nbsp;are&nbsp;possible&nbsp;e.g.&nbsp;R1&nbsp;-&gt;&nbsp;N1&nbsp;-&gt;&nbsp;N2&nbsp;-&gt;&nbsp;R2&nbsp;-&gt;&nbsp;N3&nbsp;-&gt;&nbsp;R3&nbsp;-&gt;&nbsp;N4,&nbsp;right&nbsp;?&nbsp;BTW&nbsp;when&nbsp;i&nbsp;say&nbsp;order,&nbsp;i&nbsp;am&nbsp;taking&nbsp;as&nbsp;reference&nbsp;the&nbsp;RabbitMQ&nbsp;cluster&nbsp;b/c&nbsp;operation&nbsp;are&nbsp;atomics&nbsp;right&nbsp;?&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;div&gt; &lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;br&gt;(Also,&nbsp;doing&nbsp;this&nbsp;would&nbsp;require&nbsp;timestamps&nbsp;in&nbsp;queues,&nbsp;exchanges&nbsp;and&nbsp;bindings,&nbsp;updated&nbsp;cluster-wide&nbsp;every&nbsp;time&nbsp;they&nbsp;are&nbsp;re-declared.&nbsp;That&nbsp;would&nbsp;be&nbsp;a&nbsp;big&nbsp;problem&nbsp;for&nbsp;performance.)&lt;/blockquote&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Agree,&nbsp;timestamp&nbsp;are&nbsp;surely&nbsp;not&nbsp;that&nbsp;easy&nbsp;to&nbsp;manage&nbsp;in&nbsp;a&nbsp;distributed&nbsp;environment&nbsp;b/c&nbsp;they&nbsp;require&nbsp;the&nbsp;clocks&nbsp;in&nbsp;the&nbsp;different&nbsp;nodes&nbsp;to&nbsp;be&nbsp;in&nbsp;sync,&nbsp;vector&nbsp;clock&nbsp;may&nbsp;be&nbsp;another&nbsp;solution&nbsp;but&nbsp;well&nbsp;i&nbsp;am&nbsp;not&nbsp;well&nbsp;versed&nbsp;enough&nbsp;in&nbsp;distributed&nbsp;system&nbsp;to&nbsp;give&nbsp;any&nbsp;real&nbsp;feedback&nbsp;on&nbsp;this,&nbsp;that&nbsp;was&nbsp;just&nbsp;a&nbsp;dummy&nbsp;idea&nbsp;from&nbsp;my&nbsp;part&nbsp;anyway&nbsp;:) &lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;div&gt;  &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
Does&nbsp;my&nbsp;analyze&nbsp;above&nbsp;make&nbsp;sense&nbsp;!?&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;So&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;it&nbsp;does.&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;div&gt;When&nbsp;reading&nbsp;also&nbsp;the&nbsp;AMQP&nbsp;0-9-1&nbsp;reference&lt;br&gt;(&lt;a&nbsp;href=&quot;https://www.rabbitmq.com/amqp-0-9-1-reference.html&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.rabbitmq.com/&lt;u&gt;&lt;/u&gt;amqp-0-9-1-reference.html&lt;/a&gt;)&nbsp;i&nbsp;found&nbsp;that:&lt;br&gt;&lt;br&gt;&lt;/div&gt; &nbsp;*&nbsp;The&nbsp;server&nbsp;SHOULD&nbsp;allow&nbsp;for&nbsp;a&nbsp;reasonable&nbsp;delay&nbsp;between&nbsp;the&nbsp;point&lt;div&gt;<br>
<br>
&lt;br&gt; &nbsp; &nbsp;when&nbsp;it&nbsp;determines&nbsp;that&nbsp;an&nbsp;exchange&nbsp;is&nbsp;not&nbsp;being&nbsp;used&nbsp;(or&nbsp;no&nbsp;longer&lt;br&gt; &nbsp; &nbsp;used),&nbsp;and&nbsp;the&nbsp;point&nbsp;when&nbsp;it&nbsp;deletes&nbsp;the&nbsp;exchange.&nbsp;At&nbsp;the&nbsp;least&nbsp;it&lt;br&gt; &nbsp; &nbsp;must&nbsp;allow&nbsp;a&nbsp;client&nbsp;to&nbsp;create&nbsp;an&nbsp;exchange&nbsp;and&nbsp;then&nbsp;bind&nbsp;a&nbsp;queue&nbsp;to&lt;br&gt;<br>
<br>
 &nbsp; &nbsp;it,&nbsp;with&nbsp;a&nbsp;small&nbsp;but&nbsp;non-zero&nbsp;delay&nbsp;between&nbsp;these&nbsp;two&nbsp;actions.&lt;br&gt;&lt;br&gt;&lt;br&gt;Does&nbsp;my&nbsp;finding&nbsp;contradict&nbsp;this&nbsp;?&nbsp;And&nbsp;how&nbsp;big&nbsp;is&nbsp;the&nbsp;delay&nbsp;?&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;br&gt;It&nbsp;does;&nbsp;there&nbsp;is&nbsp;no&nbsp;delay&nbsp;in&nbsp;RabbitMQ.&lt;br&gt;&lt;br&gt;Note&nbsp;that&nbsp;if&nbsp;there&nbsp;were&nbsp;a&nbsp;delay&nbsp;then&nbsp;you&#39;d&nbsp;still&nbsp;have&nbsp;exactly&nbsp;the&nbsp;same&nbsp;race&nbsp;anyway,&nbsp;it&nbsp;wouldn&#39;t&nbsp;solve&nbsp;anything.&lt;br&gt;<br>
<br>
&lt;br&gt;You&nbsp;can&nbsp;get&nbsp;a&nbsp;similar&nbsp;delay&nbsp;for&nbsp;the&nbsp;queue&nbsp;deletion,&nbsp;by&nbsp;using&nbsp;x-expires&nbsp;instead&nbsp;of&nbsp;auto-delete.&nbsp;But&nbsp;once&nbsp;the&nbsp;queue&nbsp;goes,&nbsp;the&nbsp;bindings&nbsp;and&nbsp;exchange&nbsp;all&nbsp;go&nbsp;atomically.&lt;br&gt;&lt;br&gt;So&nbsp;how&nbsp;to&nbsp;solve&nbsp;your&nbsp;problem?&nbsp;It&nbsp;sounds&nbsp;like&nbsp;each&nbsp;thing&nbsp;that&nbsp;can&nbsp;receive&nbsp;RPC&nbsp;replies&nbsp;declares&nbsp;an&nbsp;exchange,&nbsp;queue&nbsp;and&nbsp;binding&nbsp;for&nbsp;that&nbsp;purpiose,&nbsp;with&nbsp;the&nbsp;exchange&nbsp;and&nbsp;queue&nbsp;not&nbsp;linked&nbsp;in&nbsp;to&nbsp;anything&nbsp;else.&nbsp;Is&nbsp;that&nbsp;correct?&lt;br&gt;<br>
<br>
&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;Yes&nbsp;that&#39;s&nbsp;the&nbsp;main&nbsp;idea&nbsp;of&nbsp;how&nbsp;OpenStack&nbsp;implement&nbsp;RPC.&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
&lt;br&gt;If&nbsp;that&nbsp;is&nbsp;so,&nbsp;why&nbsp;not&nbsp;only&nbsp;declare&nbsp;a&nbsp;queue,&nbsp;and&nbsp;have&nbsp;the&nbsp;RPC&nbsp;server&nbsp;publish&nbsp;to&nbsp;that&nbsp;queue&nbsp;directly?&nbsp;The&nbsp;queue&nbsp;could&nbsp;still&nbsp;be&nbsp;auto-delete,&nbsp;and&nbsp;everything&nbsp;would&nbsp;be&nbsp;simpler.&nbsp;Or&nbsp;is&nbsp;there&nbsp;some&nbsp;subtlety&nbsp;I&#39;m&nbsp;not&nbsp;getting?&lt;/blockquote&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;You&nbsp;mean&nbsp;by&nbsp;publishing&nbsp;to&nbsp;the&nbsp;&quot;nameless&nbsp;exchanger&quot;,&nbsp;that sounds&nbsp;much&nbsp;easier,&nbsp;but&nbsp;i&nbsp;am&nbsp;not&nbsp;why&nbsp;that&nbsp;is&nbsp;not&nbsp;the&nbsp;case&nbsp;i&nbsp;need&nbsp;probably&nbsp;to&nbsp;ask&nbsp;in&nbsp;the&nbsp;OpenStack&nbsp;mailing&nbsp;list&nbsp;first.&lt;/div&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
<br>
&lt;div&gt;  &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;0px&nbsp;0.8ex;border-left-width:1px;border-left-color:rgb(204,204,204);border-left-style:solid;padding-left:1ex&quot;&gt;<br>
<br>
One&nbsp;last&nbsp;thing&nbsp;is&nbsp;the&nbsp;auto-delete&nbsp;deprecation&nbsp;from&lt;br&gt;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/amqp-0-9-1-errata.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/amqp-&lt;u&gt;&lt;/u&gt;0-9-1-errata.html&lt;/a&gt;,&nbsp;point&nbsp;25:&lt;br&gt;&lt;br&gt;The&nbsp;&#39;auto-delete&#39;&nbsp;flag&nbsp;on&nbsp;&#39;exchange.declare&#39;&nbsp;got&nbsp;deprecated&nbsp;in&nbsp;0-9-1.&lt;br&gt;<br>
<br>
Auto-delete&nbsp;exchanges&nbsp;are&nbsp;actually&nbsp;quite&nbsp;useful,&nbsp;so&nbsp;this&nbsp;flag&nbsp;should&nbsp;be&lt;br&gt;restored.&lt;br&gt;&lt;br&gt;Does&nbsp;this&nbsp;mean&nbsp;the&nbsp;auto-delete&nbsp;flag&nbsp;will&nbsp;not&nbsp;be&nbsp;removed&nbsp;from&nbsp;RabbitMQ&nbsp;or&lt;br&gt;what&nbsp;?&lt;br&gt;&lt;/blockquote&gt;&lt;br&gt;&lt;/div&gt;It&nbsp;means&nbsp;we&nbsp;will&nbsp;continue&nbsp;to&nbsp;support&nbsp;it,&nbsp;yes.&lt;br&gt;<br>
<br>
&lt;br&gt;Cheers,&nbsp;Simon&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&nbsp;style=&quot;font-family:arial,sans-serif;font-size:13px&quot;&gt;Thanks&nbsp;for&nbsp;the&nbsp;quick&nbsp;answer&nbsp;too,&nbsp;and&nbsp;sorry&nbsp;for&nbsp;answering&nbsp;you&nbsp;directly&nbsp;instead&nbsp;of&nbsp;answering&nbsp;to&nbsp;the&nbsp;mailing&nbsp;list,&nbsp;dummy&nbsp;mistake&nbsp;from&nbsp;my&nbsp;part&nbsp;:(&lt;/div&gt;<br>
<br>
&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;May&nbsp;13,&nbsp;2014&nbsp;at&nbsp;3:59&nbsp;PM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;On&nbsp;13/05/2014&nbsp;14:25,&nbsp;mouad&nbsp;ben&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
RabbitMQ&nbsp;cluster&nbsp;(RabbitMQ&nbsp;3.1.5,Erlang&nbsp;R14B04)&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;div&nbsp;class=&quot;&quot;&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
(Queues&nbsp;are&nbsp;also&nbsp;created&nbsp;with&nbsp;x-ha-policy&nbsp;set&nbsp;to&nbsp;all).&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
As&nbsp;an&nbsp;aside,&nbsp;note&nbsp;that&nbsp;x-ha-policy&nbsp;only&nbsp;controls&nbsp;queue&nbsp;mirroring&nbsp;in&nbsp;2.x!&nbsp;In&nbsp;3.x&nbsp;it&nbsp;does&nbsp;nothing&nbsp;at&nbsp;all.&nbsp;See&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/ha.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/ha.&lt;u&gt;&lt;/u&gt;html&lt;/a&gt;&nbsp;and&nbsp;&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/blog/2012/11/19/breaking-things-with-rabbitmq-3-0/&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/blog/&lt;u&gt;&lt;/u&gt;2012/11/19/breaking-things-&lt;u&gt;&lt;/u&gt;with-rabbitmq-3-0/&lt;/a&gt;&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
Of&nbsp;course,&nbsp;autodelete&nbsp;RPC&nbsp;queues&nbsp;quite&nbsp;possibly&nbsp;do&nbsp;not&nbsp;need&nbsp;to&nbsp;be&nbsp;HA.&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
But&nbsp;in&nbsp;the&nbsp;same&nbsp;time&nbsp;if&nbsp;a&nbsp;node&nbsp;of&nbsp;the&nbsp;cluster&nbsp;go&nbsp;down&nbsp;the&nbsp;Queue&nbsp;consumer&lt;br&gt;<br>
that&nbsp;are&nbsp;created&nbsp;in&nbsp;this&nbsp;node&nbsp;will&nbsp;be&nbsp;deleted,&nbsp;the&nbsp;Queues&nbsp;with&lt;br&gt;<br>
auto-delete&nbsp;will&nbsp;end&nbsp;up&nbsp;being&nbsp;deleted&nbsp;too&nbsp;and&nbsp;the&nbsp;same&nbsp;thing&nbsp;with&nbsp;the&lt;br&gt;<br>
exchanges&nbsp;bounded&nbsp;to&nbsp;them&nbsp;which&nbsp;also&nbsp;have&nbsp;auto-delete,&nbsp;all&nbsp;of&nbsp;this&nbsp;will&lt;br&gt;<br>
be&nbsp;done&nbsp;**eventually**&nbsp;in&nbsp;all&nbsp;RabbitMQ&nbsp;nodes&nbsp;that&nbsp;are&nbsp;still&nbsp;up.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;in&nbsp;detail&nbsp;from&nbsp;neutron&nbsp;side&nbsp;we&nbsp;have:&lt;br&gt;<br>
&lt;br&gt;<br>
N1.&nbsp;Connect&nbsp;to&nbsp;node&nbsp;2.&lt;br&gt;<br>
N2.&nbsp;Create&nbsp;Exchange&nbsp;X.&lt;br&gt;<br>
N3.&nbsp;Create&nbsp;Queue&nbsp;Q.&lt;br&gt;<br>
N4.&nbsp;Create&nbsp;Binding&nbsp;from&nbsp;Q&nbsp;to&nbsp;X.&lt;br&gt;<br>
&lt;br&gt;<br>
 From&nbsp;cluster&nbsp;side&nbsp;we&nbsp;have:&lt;br&gt;<br>
&lt;br&gt;<br>
R1.&nbsp;Delete&nbsp;consumer.&lt;br&gt;<br>
R2.&nbsp;Delete&nbsp;Queue&nbsp;Q&nbsp;(Binding&nbsp;is&nbsp;deleted&nbsp;explicitly).&lt;br&gt;<br>
R3.&nbsp;Delete&nbsp;Exchange&nbsp;X.&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;actually&nbsp;can&nbsp;lead&nbsp;to&nbsp;a&nbsp;race&nbsp;condition&nbsp;that&nbsp;will&nbsp;result&nbsp;of&nbsp;N4&lt;br&gt;<br>
failing&nbsp;with&nbsp;error&nbsp;stating&nbsp;that&nbsp;exchange&nbsp;doesn&#39;t&nbsp;exist&nbsp;because&lt;br&gt;<br>
apparently&nbsp;R3&nbsp;action&nbsp;was&nbsp;executed&nbsp;after&nbsp;N2&nbsp;and&nbsp;before&nbsp;N4.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
That&nbsp;makes&nbsp;sense.&nbsp;But&nbsp;note&nbsp;that&nbsp;R2&nbsp;and&nbsp;R3&nbsp;are&nbsp;an&nbsp;atomic&nbsp;event.&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
A&nbsp;workaround&nbsp;that&nbsp;we&nbsp;have&nbsp;created&nbsp;is&nbsp;to&nbsp;retry&nbsp;creation&nbsp;if&nbsp;it&nbsp;fail&nbsp;as&nbsp;you&lt;br&gt;<br>
can&nbsp;see&nbsp;in&nbsp;the&nbsp;bug&nbsp;report&nbsp;in&nbsp;OpenStack&nbsp;side&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://bugs.launchpad.net/neutron/+bug/1318721&quot;&nbsp;target=&quot;_blank&quot;&gt;https://bugs.launchpad.net/&lt;u&gt;&lt;/u&gt;neutron/+bug/1318721&lt;/a&gt;.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
And&nbsp;that&nbsp;would&nbsp;work&nbsp;as&nbsp;a&nbsp;workaround.&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
But&nbsp;i&nbsp;think&nbsp;that&nbsp;this&nbsp;also&nbsp;a&nbsp;problem&nbsp;in&nbsp;RabbitMQ&nbsp;side,&nbsp;basically&nbsp;i&lt;br&gt;<br>
believe&nbsp;a&nbsp;more&nbsp;sane&nbsp;behavior&nbsp;will&nbsp;be&nbsp;for&nbsp;RabbitMQ&nbsp;to&nbsp;ignore&nbsp;**old**&lt;br&gt;<br>
delete&nbsp;if&nbsp;a&nbsp;newest&nbsp;exchange&#39;s&nbsp;declare&nbsp;was&nbsp;sent,&nbsp;instead&nbsp;of&nbsp;threading&lt;br&gt;<br>
this&nbsp;later&nbsp;as&nbsp;a&nbsp;no&nbsp;op.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Hmm.&nbsp;Newer&nbsp;than&nbsp;what?&nbsp;The&nbsp;queue&nbsp;delete&nbsp;R2&nbsp;is&nbsp;not&nbsp;necessarily&nbsp;older&nbsp;than&nbsp;then&nbsp;most&nbsp;recent&nbsp;exchange&nbsp;declare&nbsp;N2&nbsp;in&nbsp;this&nbsp;scenario,&nbsp;is&nbsp;it?&nbsp;In&nbsp;fact,&nbsp;isn&#39;t&nbsp;R2&nbsp;always&nbsp;newer&nbsp;than&nbsp;N2?&lt;br&gt;<br>
&lt;br&gt;<br>
(Also,&nbsp;doing&nbsp;this&nbsp;would&nbsp;require&nbsp;timestamps&nbsp;in&nbsp;queues,&nbsp;exchanges&nbsp;and&nbsp;bindings,&nbsp;updated&nbsp;cluster-wide&nbsp;every&nbsp;time&nbsp;they&nbsp;are&nbsp;re-declared.&nbsp;That&nbsp;would&nbsp;be&nbsp;a&nbsp;big&nbsp;problem&nbsp;for&nbsp;performance.)&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Does&nbsp;my&nbsp;analyze&nbsp;above&nbsp;make&nbsp;sense&nbsp;!?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
So&nbsp;I&#39;m&nbsp;not&nbsp;sure&nbsp;it&nbsp;does.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;&quot;&gt;<br>
When&nbsp;reading&nbsp;also&nbsp;the&nbsp;AMQP&nbsp;0-9-1&nbsp;reference&lt;br&gt;<br>
(&lt;a&nbsp;href=&quot;https://www.rabbitmq.com/amqp-0-9-1-reference.html&quot;&nbsp;target=&quot;_blank&quot;&gt;https://www.rabbitmq.com/&lt;u&gt;&lt;/u&gt;amqp-0-9-1-reference.html&lt;/a&gt;)&nbsp;i&nbsp;found&nbsp;that:&lt;br&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
 &nbsp;*&nbsp;The&nbsp;server&nbsp;SHOULD&nbsp;allow&nbsp;for&nbsp;a&nbsp;reasonable&nbsp;delay&nbsp;between&nbsp;the&nbsp;point&lt;div&nbsp;class=&quot;&quot;&gt;&lt;br&gt;<br>
 &nbsp; &nbsp;when&nbsp;it&nbsp;determines&nbsp;that&nbsp;an&nbsp;exchange&nbsp;is&nbsp;not&nbsp;being&nbsp;used&nbsp;(or&nbsp;no&nbsp;longer&lt;br&gt;<br>
 &nbsp; &nbsp;used),&nbsp;and&nbsp;the&nbsp;point&nbsp;when&nbsp;it&nbsp;deletes&nbsp;the&nbsp;exchange.&nbsp;At&nbsp;the&nbsp;least&nbsp;it&lt;br&gt;<br>
 &nbsp; &nbsp;must&nbsp;allow&nbsp;a&nbsp;client&nbsp;to&nbsp;create&nbsp;an&nbsp;exchange&nbsp;and&nbsp;then&nbsp;bind&nbsp;a&nbsp;queue&nbsp;to&lt;br&gt;<br>
 &nbsp; &nbsp;it,&nbsp;with&nbsp;a&nbsp;small&nbsp;but&nbsp;non-zero&nbsp;delay&nbsp;between&nbsp;these&nbsp;two&nbsp;actions.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Does&nbsp;my&nbsp;finding&nbsp;contradict&nbsp;this&nbsp;?&nbsp;And&nbsp;how&nbsp;big&nbsp;is&nbsp;the&nbsp;delay&nbsp;?&lt;br&gt;<br>
&lt;/div&gt;&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
It&nbsp;does;&nbsp;there&nbsp;is&nbsp;no&nbsp;delay&nbsp;in&nbsp;RabbitMQ.&lt;br&gt;<br>
&lt;br&gt;<br>
Note&nbsp;that&nbsp;if&nbsp;there&nbsp;were&nbsp;a&nbsp;delay&nbsp;then&nbsp;you&#39;d&nbsp;still&nbsp;have&nbsp;exactly&nbsp;the&nbsp;same&nbsp;race&nbsp;anyway,&nbsp;it&nbsp;wouldn&#39;t&nbsp;solve&nbsp;anything.&lt;br&gt;<br>
&lt;br&gt;<br>
You&nbsp;can&nbsp;get&nbsp;a&nbsp;similar&nbsp;delay&nbsp;for&nbsp;the&nbsp;queue&nbsp;deletion,&nbsp;by&nbsp;using&nbsp;x-expires&nbsp;instead&nbsp;of&nbsp;auto-delete.&nbsp;But&nbsp;once&nbsp;the&nbsp;queue&nbsp;goes,&nbsp;the&nbsp;bindings&nbsp;and&nbsp;exchange&nbsp;all&nbsp;go&nbsp;atomically.&lt;br&gt;<br>
&lt;br&gt;<br>
So&nbsp;how&nbsp;to&nbsp;solve&nbsp;your&nbsp;problem?&nbsp;It&nbsp;sounds&nbsp;like&nbsp;each&nbsp;thing&nbsp;that&nbsp;can&nbsp;receive&nbsp;RPC&nbsp;replies&nbsp;declares&nbsp;an&nbsp;exchange,&nbsp;queue&nbsp;and&nbsp;binding&nbsp;for&nbsp;that&nbsp;purpiose,&nbsp;with&nbsp;the&nbsp;exchange&nbsp;and&nbsp;queue&nbsp;not&nbsp;linked&nbsp;in&nbsp;to&nbsp;anything&nbsp;else.&nbsp;Is&nbsp;that&nbsp;correct?&lt;br&gt;<br>
<br>
<br>
&lt;br&gt;<br>
If&nbsp;that&nbsp;is&nbsp;so,&nbsp;why&nbsp;not&nbsp;only&nbsp;declare&nbsp;a&nbsp;queue,&nbsp;and&nbsp;have&nbsp;the&nbsp;RPC&nbsp;server&nbsp;publish&nbsp;to&nbsp;that&nbsp;queue&nbsp;directly?&nbsp;The&nbsp;queue&nbsp;could&nbsp;still&nbsp;be&nbsp;auto-delete,&nbsp;and&nbsp;everything&nbsp;would&nbsp;be&nbsp;simpler.&nbsp;Or&nbsp;is&nbsp;there&nbsp;some&nbsp;subtlety&nbsp;I&#39;m&nbsp;not&nbsp;getting?&lt;div&nbsp;class=&quot;&quot;&gt;<br>
<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
One&nbsp;last&nbsp;thing&nbsp;is&nbsp;the&nbsp;auto-delete&nbsp;deprecation&nbsp;from&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/amqp-0-9-1-errata.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/amqp-&lt;u&gt;&lt;/u&gt;0-9-1-errata.html&lt;/a&gt;,&nbsp;point&nbsp;25:&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;&#39;auto-delete&#39;&nbsp;flag&nbsp;on&nbsp;&#39;exchange.declare&#39;&nbsp;got&nbsp;deprecated&nbsp;in&nbsp;0-9-1.&lt;br&gt;<br>
Auto-delete&nbsp;exchanges&nbsp;are&nbsp;actually&nbsp;quite&nbsp;useful,&nbsp;so&nbsp;this&nbsp;flag&nbsp;should&nbsp;be&lt;br&gt;<br>
restored.&lt;br&gt;<br>
&lt;br&gt;<br>
Does&nbsp;this&nbsp;mean&nbsp;the&nbsp;auto-delete&nbsp;flag&nbsp;will&nbsp;not&nbsp;be&nbsp;removed&nbsp;from&nbsp;RabbitMQ&nbsp;or&lt;br&gt;<br>
what&nbsp;?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
It&nbsp;means&nbsp;we&nbsp;will&nbsp;continue&nbsp;to&nbsp;support&nbsp;it,&nbsp;yes.&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
