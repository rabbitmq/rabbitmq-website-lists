<tt>
&lt;html&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=gb2312&quot;&gt;<br>
&lt;style&nbsp;type=&quot;text/css&quot;&nbsp;id=&quot;owaParaStyle&quot;&gt;&lt;/style&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;fpstyle=&quot;1&quot;&nbsp;ocsi=&quot;0&quot;&gt;<br>
&lt;div&nbsp;style=&quot;direction:&nbsp;ltr;font-family:&nbsp;Tahoma;color:&nbsp;#000000;font-size:&nbsp;10pt;&quot;&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;3&quot;&gt;Hi,&nbsp;Marek:&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;I&nbsp;think&nbsp;you&nbsp;didn't&nbsp;catch&nbsp;my&nbsp;point.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;My&nbsp;question&nbsp;is&nbsp;:&nbsp;If&nbsp;a&nbsp;queue&nbsp;bind&nbsp;to&nbsp;a&nbsp;'x-presence'&nbsp;exchange&nbsp;with&nbsp;a&nbsp;&amp;quot;not_empty&amp;quot;&nbsp;key&nbsp;and<br>
&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#ff0000&quot;&gt;it&nbsp;hasn't&nbsp;bean&nbsp;subscribe&nbsp;by&nbsp;a&nbsp;process&lt;/font&gt;,&nbsp;when&nbsp;the&nbsp;vm&nbsp;of&nbsp;queue&nbsp;exit&nbsp;,&nbsp;the&nbsp;exchange&nbsp;can&nbsp;not&nbsp;receive&nbsp;a&nbsp;&amp;quot;unbind&amp;quot;&nbsp;message&nbsp;for&nbsp;the&nbsp;queue.&lt;/font&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;3&quot;&gt;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:pre&quot;&gt;&lt;/span&gt;But&nbsp;if&nbsp;the&nbsp;queue&nbsp;bind&nbsp;to&nbsp;'x-presence'&nbsp;exchange&nbsp;with&nbsp;a&amp;nbsp;&amp;quot;not_empty&amp;quot;&nbsp;key&nbsp;and<br>
&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;color=&quot;#ff0000&quot;&gt;it&nbsp;has&nbsp;subscribe&nbsp;by&nbsp;a&nbsp;process&lt;/font&gt;,&nbsp;when&nbsp;the&nbsp;vm&nbsp;of&nbsp;queue&nbsp;exit,&nbsp;the&nbsp;exchange&nbsp;can&nbsp;receive&nbsp;a&nbsp;&amp;quot;unbind&amp;quot;&nbsp;message&nbsp;for&nbsp;the&nbsp;queue.&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;3&quot;&gt;&lt;br&gt;<br>
&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;3&quot;&gt;Regards,&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;3&quot;&gt;&amp;nbsp;&nbsp;David&lt;/font&gt;&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;&lt;font&nbsp;class=&quot;Apple-style-span&quot;&nbsp;size=&quot;3&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
________________________________________&lt;br&gt;<br>
发件人:&nbsp;Marek&nbsp;Majkowski&nbsp;[majek04@gmail.com]&lt;br&gt;<br>
发送时间:&nbsp;2012年2月8日&nbsp;20:17&lt;br&gt;<br>
到:&nbsp;Liuzhuofu&lt;br&gt;<br>
Cc:&nbsp;tonyg@ccs.neu.edu;&nbsp;rabbitmq-discuss@lists.rabbitmq.com&lt;br&gt;<br>
主题:&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;A&nbsp;question&nbsp;about&nbsp;RabbitMQ&nbsp;&amp;quot;Presence&nbsp;Exchange&amp;quot;&nbsp;Plugin&lt;br&gt;<br>
&lt;br&gt;<br>
2012/2/8&nbsp;Liuzhuofu&nbsp;&amp;lt;liuzhuofu@huawei.com&amp;gt;:&lt;br&gt;<br>
&amp;gt;&nbsp;When&nbsp;I&nbsp;use&nbsp;RabbitMQ&nbsp;&amp;quot;Presence&nbsp;Exchange&amp;quot;&nbsp;Plugin,&nbsp;I&nbsp;found&nbsp;when&nbsp;a&nbsp;client&lt;br&gt;<br>
&amp;gt;&nbsp;(name:&amp;quot;Client_1&amp;quot;)&nbsp;bind&nbsp;to&nbsp;the&nbsp;x-presence&nbsp;exchange,&nbsp;the&nbsp;queue&lt;br&gt;<br>
&amp;gt;&nbsp;(name:&amp;quot;monitor_queue&amp;quot;)&nbsp;with&nbsp;&amp;quot;&amp;quot;&nbsp;route&nbsp;key&nbsp;can&nbsp;get&nbsp;a&nbsp;&amp;quot;bind&amp;quot;&nbsp;msg,&nbsp;but&nbsp;if&nbsp;I&lt;br&gt;<br>
&amp;gt;&nbsp;didn't&nbsp;subscribe&nbsp;the&nbsp;queue(&amp;quot;Client_1&amp;quot;)&nbsp;with&nbsp;a&nbsp;process,&nbsp;when&nbsp;the&nbsp;&amp;quot;client_1&amp;quot;&lt;br&gt;<br>
&amp;gt;&nbsp;coredown,&nbsp;the&nbsp;&amp;quot;monitor_queue&amp;quot;&nbsp;can&nbsp;not&nbsp;get&nbsp;a&nbsp;&amp;quot;unbind&amp;quot;&nbsp;msg.&nbsp;If&nbsp;I&nbsp;subcribe&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;queue(&amp;quot;client_1&amp;quot;),&nbsp;when&nbsp;&amp;quot;client_1&amp;quot;&nbsp;coredown&nbsp;or&nbsp;exit,&nbsp;the&nbsp;monitor_queue&nbsp;can&lt;br&gt;<br>
&amp;gt;&nbsp;got&nbsp;a&nbsp;&amp;quot;unbind&amp;quot;&nbsp;msg.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;My&nbsp;question&nbsp;is:&nbsp;I&nbsp;have&nbsp;bind&nbsp;the&nbsp;queue(&amp;quot;client_1&amp;quot;)&nbsp;to&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;exchange(&amp;quot;monitor&amp;quot;),&nbsp;why&nbsp;can&nbsp;not&nbsp;got&nbsp;the&nbsp;&amp;quot;unbind&amp;quot;&nbsp;msg&nbsp;when&nbsp;queue(&amp;quot;client_1&amp;quot;)&lt;br&gt;<br>
&amp;gt;&nbsp;not&nbsp;be&nbsp;subscribed,&nbsp;but&nbsp;can&nbsp;got&nbsp;the&nbsp;&amp;quot;unbind&amp;quot;&nbsp;msg&nbsp;when&nbsp;queue(&amp;quot;client_1&amp;quot;)&nbsp;be&lt;br&gt;<br>
&amp;gt;&nbsp;subscribed.&lt;br&gt;<br>
&lt;br&gt;<br>
Take&nbsp;a&nbsp;look&nbsp;at&nbsp;the&nbsp;readme:&lt;br&gt;<br>
https://github.com/tonyg/presence-exchange#readme&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;quot;bindings&nbsp;made&nbsp;with&nbsp;the&nbsp;empty&nbsp;string&nbsp;&amp;quot;&amp;quot;&nbsp;as&nbsp;their&nbsp;binding&lt;br&gt;<br>
key,&nbsp;which&nbsp;receive&nbsp;presence&nbsp;messages,&nbsp;but&nbsp;do&nbsp;not&lt;br&gt;<br>
produce&nbsp;them;&nbsp;and&nbsp;bindings&nbsp;made&nbsp;with&nbsp;any&nbsp;other&nbsp;binding&nbsp;key,&lt;br&gt;<br>
which&nbsp;produce&nbsp;presence&nbsp;messages&nbsp;but&nbsp;do&nbsp;not&nbsp;receive&nbsp;them.&amp;quot;&lt;br&gt;<br>
&lt;br&gt;<br>
Marek&lt;/font&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
