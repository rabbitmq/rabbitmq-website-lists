<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Tue,&nbsp;Jul&nbsp;16,&nbsp;2013&nbsp;at&nbsp;11:39&nbsp;PM,&nbsp;Michael&nbsp;Klishin&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:michael.s.klishin@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;michael.s.klishin@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;I&nbsp;assume&nbsp;AMQP_RESPONSE_SERVER_EXCEPTION&nbsp;indicates&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;a&nbsp;channel&nbsp;exception.&nbsp;You&nbsp;need&nbsp;to&nbsp;investigate&nbsp;what&nbsp;exactly&nbsp;causes&lt;/div&gt;<br>
<br>
&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;it&nbsp;(see&nbsp;the&nbsp;log)&nbsp;or&nbsp;use&nbsp;a&nbsp;new&nbsp;channel.&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Not&nbsp;quite.&nbsp;In&nbsp;rabbitmq-c&nbsp;when&nbsp;you&amp;#39;re&nbsp;looking&nbsp;at&nbsp;a&nbsp;amqp_rpc_reply_t&nbsp;structure,&nbsp;returned&nbsp;from&nbsp;a&nbsp;function&nbsp;like&nbsp;amqp_login,&nbsp;or&nbsp;when&nbsp;amqp_queue_declare()&nbsp;returns&nbsp;NULL&nbsp;and&nbsp;you&nbsp;use&nbsp;amqp_get_rpc_reply()&nbsp;to&nbsp;get&nbsp;the&nbsp;last&nbsp;error).&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;First&nbsp;examine&nbsp;the&nbsp;reply_type.&nbsp; &lt;/div&gt;&lt;div&gt; *&nbsp;AMQP_RESPONSE_NORMAL&nbsp;means&nbsp;the&nbsp;operation&nbsp;completed&nbsp;successfully&lt;/div&gt;&lt;div&gt; *&nbsp;AMQP_RESPONSE_SERVER_EXCEPTION&nbsp;means&nbsp;either&nbsp;a&nbsp;channel&nbsp;or&nbsp;a&nbsp;connection&nbsp;exception&nbsp;has&nbsp;occurred.&nbsp;You&nbsp;should&nbsp;then&nbsp;examine&nbsp;the&nbsp;&lt;a&nbsp;href=&quot;http://reply.id&quot;&gt;reply.id&lt;/a&gt;.&nbsp; &lt;/div&gt;<br>
&lt;div&gt; &nbsp; -&nbsp;A&nbsp;AMQP_CHANNEL_CLOSE_METHOD&nbsp;means&nbsp;a&nbsp;channel&nbsp;exception&nbsp;has&nbsp;occurred,&nbsp;you&nbsp;can&nbsp;cast&nbsp;the&nbsp;reply.decoded&nbsp;to&nbsp;amqp_channel_close_t*&nbsp;to&nbsp;get&nbsp;details&nbsp;on&nbsp;why&nbsp;the&nbsp;channel&nbsp;was&nbsp;closed.&nbsp; Once&nbsp;a&nbsp;channel&nbsp;has&nbsp;been&nbsp;closed,&nbsp;it&nbsp;should&nbsp;not&nbsp;be&nbsp;used&nbsp;without&nbsp;reopening&nbsp;the&nbsp;channel&nbsp;with&nbsp;amqp_channel_open().&lt;/div&gt;<br>
&lt;div&gt; &nbsp; -&nbsp;A&nbsp;AMQP_CONNECTION_CLOSE_METHOD&nbsp;means&nbsp;a&nbsp;connection&nbsp;exception&nbsp;has&nbsp;occurred.&nbsp;You&nbsp;can&nbsp;cast&nbsp;the&nbsp;reply.decoded&nbsp;to&nbsp;amqp_connection_close_t*&nbsp;to&nbsp;get&nbsp;details&nbsp;on&nbsp;why&nbsp;the&nbsp;broker&nbsp;closed&nbsp;the&nbsp;connection.&nbsp; Once&nbsp;the&nbsp;connection&nbsp;has&nbsp;been&nbsp;closed&nbsp;the&nbsp;entire&nbsp;connection&nbsp;should&nbsp;be&nbsp;destroyed&nbsp;and&nbsp;a&nbsp;new&nbsp;one&nbsp;created&nbsp;before&nbsp;continuing.&lt;/div&gt;<br>
&lt;div&gt; *&nbsp;AMQP_RESPONSE_LIBRARY_EXCEPTION&nbsp;means&nbsp;something&nbsp;occurred&nbsp;in&nbsp;the&nbsp;library&nbsp;(usually&nbsp;it&nbsp;means&nbsp;a&nbsp;socket&nbsp;error&nbsp;has&nbsp;occurred).&nbsp;You&nbsp;should&nbsp;examine&nbsp;library_error&nbsp;and&nbsp;compare&nbsp;it&nbsp;against&nbsp;the&nbsp;amqp_status_enum&nbsp;values.&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;HTH&lt;/div&gt;&lt;div&gt;-Alan&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
