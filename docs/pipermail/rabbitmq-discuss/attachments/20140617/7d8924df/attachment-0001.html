<tt>
&lt;html&gt;&lt;head&gt;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;&lt;/head&gt;&lt;body&nbsp;dir=&quot;auto&quot;&gt;&lt;div&nbsp;id=&quot;message36281&quot;&nbsp;class=&quot;message-text&nbsp;adbayes-content&quot;&nbsp;style=&quot;cursor:&nbsp;text;&nbsp;overflow-x:&nbsp;auto;&quot;&gt;&lt;span&nbsp;style=&quot;-webkit-text-size-adjust:&nbsp;auto;&nbsp;background-color:&nbsp;rgba(255,&nbsp;255,&nbsp;255,&nbsp;0);&quot;&gt;We&nbsp;have&nbsp;a&nbsp;12&nbsp;node&nbsp;cluster&nbsp;with&nbsp;dozens&nbsp;of&nbsp;mirrored&nbsp;queues&nbsp;(2&nbsp;slaves&nbsp;per&nbsp;queue).&nbsp;&lt;br&gt;Here's&nbsp;the&nbsp;scenario&nbsp;we're&nbsp;trying&nbsp;to&nbsp;understand&nbsp;how&nbsp;to&nbsp;recover&nbsp;from.&lt;br&gt;&lt;br&gt;Say&nbsp;we&nbsp;have&nbsp;a&nbsp;complete&nbsp;power&nbsp;failure&nbsp;and&nbsp;when&nbsp;power&nbsp;is&nbsp;restored&nbsp;one&nbsp;of&nbsp;the&nbsp;nodes&nbsp;is&nbsp;dead.&nbsp;&lt;br&gt;For&nbsp;at&nbsp;least&nbsp;one&nbsp;queue,&nbsp;that&nbsp;node&nbsp;used&nbsp;to&nbsp;be&nbsp;the&nbsp;master&nbsp;node.&nbsp;The&nbsp;queue&nbsp;is&nbsp;now&nbsp;unresponsive,&nbsp;which&nbsp;is&nbsp;somewhat&nbsp;expected&nbsp;(no&nbsp;failover&nbsp;happened&nbsp;before&nbsp;the&nbsp;crash&nbsp;so&nbsp;we&nbsp;now&nbsp;have&nbsp;2&nbsp;slaves).&nbsp;The&nbsp;queue&nbsp;data&nbsp;(messages)&nbsp;must&nbsp;be&nbsp;physically&nbsp;present&nbsp;on&nbsp;at&nbsp;least&nbsp;one&nbsp;slave&nbsp;(at&nbsp;least&nbsp;one&nbsp;of&nbsp;those&nbsp;is&nbsp;a&nbsp;disc&nbsp;node).&nbsp;However,&nbsp;we&nbsp;seem&nbsp;to&nbsp;have&nbsp;no&nbsp;way&nbsp;to&nbsp;recover&nbsp;the&nbsp;queue&nbsp;and&nbsp;keep&nbsp;that&nbsp;data.&nbsp;&lt;br&gt;If&nbsp;we&nbsp;bring&nbsp;a&nbsp;new&nbsp;node&nbsp;up&nbsp;to&nbsp;replace&nbsp;the&nbsp;old&nbsp;one&nbsp;(we&nbsp;reset&nbsp;the&nbsp;old&nbsp;one&nbsp;to&nbsp;simulate&nbsp;a&nbsp;fresh&nbsp;node),&nbsp;the&nbsp;queue&nbsp;becomes&nbsp;available&nbsp;but&nbsp;it's&nbsp;now&nbsp;empty&nbsp;(we&nbsp;assume&nbsp;this&nbsp;to&nbsp;be&nbsp;the&nbsp;result&nbsp;of&nbsp;the&nbsp;-&nbsp;now&nbsp;empty&nbsp;-&nbsp;master&nbsp;synchronizing&nbsp;with&nbsp;the&nbsp;slaves,&nbsp;sort&nbsp;of&nbsp;in&nbsp;the&nbsp;&quot;opposite&nbsp;direction&quot;&nbsp;of&nbsp;what&nbsp;we'd&nbsp;like).&nbsp;&lt;br&gt;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;either&nbsp;designate&nbsp;the&nbsp;slave&nbsp;that&nbsp;still&nbsp;has&nbsp;the&nbsp;data&nbsp;as&nbsp;a&nbsp;master&nbsp;for&nbsp;the&nbsp;troubled&nbsp;queue,&nbsp;or&nbsp;to&nbsp;push&nbsp;that&nbsp;queue&nbsp;data&nbsp;to&nbsp;the&nbsp;new&nbsp;(resurrected)&nbsp;node?&nbsp;&lt;br&gt;&lt;br&gt;Thanks&nbsp;is&nbsp;advance!&lt;/span&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;-webkit-text-size-adjust:&nbsp;auto;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;ad&nbsp;&quot;&nbsp;style=&quot;-webkit-text-size-adjust:&nbsp;auto;&nbsp;clear:&nbsp;both;&nbsp;margin:&nbsp;2em&nbsp;0px&nbsp;1em;&nbsp;font-family:&nbsp;Verdana,&nbsp;Geneva,&nbsp;Helvetica,&nbsp;Arial,&nbsp;sans-serif;&nbsp;font-size:&nbsp;13px;&nbsp;background-color:&nbsp;rgb(255,&nbsp;255,&nbsp;255);&nbsp;visibility:&nbsp;visible&nbsp;!important;&nbsp;height:&nbsp;auto&nbsp;!important;&nbsp;position:&nbsp;static&nbsp;!important;&nbsp;top:&nbsp;auto&nbsp;!important;&nbsp;left:&nbsp;auto&nbsp;!important;&nbsp;width:&nbsp;675px&nbsp;!important;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
