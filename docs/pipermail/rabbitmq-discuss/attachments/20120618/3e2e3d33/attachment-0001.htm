<tt>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We&nbsp;have&nbsp;encountered&nbsp;issues&nbsp;in&nbsp;RabbitMQ&nbsp;2.8.2&nbsp;and&nbsp;greater&nbsp;with&nbsp;the&nbsp;default&nbsp;'disk_free_limit'&nbsp;monitoring.&nbsp;If&nbsp;you&nbsp;are&nbsp;running&nbsp;on&nbsp;a&nbsp;system&nbsp;with&nbsp;more&nbsp;available&nbsp;RAM&nbsp;than&nbsp;disk&nbsp;space&nbsp;out&nbsp;of&nbsp;the&nbsp;box,&nbsp;RabbitMQ&nbsp;will&nbsp;block&nbsp;consumers&nbsp;in&nbsp;its&nbsp;default&nbsp;configuration.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;We&nbsp;worked&nbsp;around&nbsp;this&nbsp;by&nbsp;configuring&nbsp;the&nbsp;RabbitMQ&nbsp;disk_free_limit&nbsp;threshold&nbsp;to&nbsp;be&nbsp;less&nbsp;than&nbsp;the&nbsp;default&nbsp;of&nbsp;1.&nbsp;For&nbsp;example,&nbsp;to&nbsp;enforce&nbsp;the&nbsp;blocking&nbsp;of&nbsp;publishing&nbsp;only&nbsp;when&nbsp;the&nbsp;available&nbsp;disk&nbsp;is&nbsp;10%&nbsp;of&nbsp;the&nbsp;memory&nbsp;on&nbsp;the&nbsp;system,&nbsp;create&nbsp;the&nbsp;file&nbsp;/etc/rabbitmq/rabbitmq.config&nbsp;and&nbsp;add&nbsp;the&nbsp;following&nbsp;setting&nbsp;(don't&nbsp;forget&nbsp;the&nbsp;trailing&nbsp;period):&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{rabbit,&nbsp;&lt;span&nbsp;class=&quot;error&quot;&gt;[{disk_free_limit,&nbsp;{mem_relative,&nbsp;0.1}}]&lt;/span&gt;}&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;].&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;For&nbsp;more&nbsp;information,&nbsp;see&nbsp;'Disk-Based&nbsp;Flow&nbsp;Control'&nbsp;documentation&nbsp;here:&amp;nbsp;http://www.rabbitmq.com/memory.html#diskfreesup&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--&amp;nbsp;&lt;/div&gt;&lt;div&gt;Philip&nbsp;K.&nbsp;Warren&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&nbsp;style=&quot;color:&nbsp;#A0A0A8;&quot;&gt;On&nbsp;Monday,&nbsp;June&nbsp;18,&nbsp;2012&nbsp;at&nbsp;1:51&nbsp;PM,&nbsp;Keller,&nbsp;Steve&nbsp;wrote:&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&nbsp;style=&quot;border-left-style:solid;border-width:1px;margin-left:0px;padding-left:10px;&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&gt;&lt;div&gt;&lt;div&gt;&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;&lt;meta&nbsp;name=&quot;Generator&quot;&nbsp;content=&quot;Microsoft&nbsp;Word&nbsp;14&nbsp;(filtered&nbsp;medium)&quot;&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapedefaults&nbsp;v:ext=&quot;edit&quot;&nbsp;spidmax=&quot;1026&quot;&nbsp;/&gt;<br>
&lt;/xml&gt;&lt;![endif]--&gt;&lt;!--[if&nbsp;gte&nbsp;mso&nbsp;9]&gt;&lt;xml&gt;<br>
&lt;o:shapelayout&nbsp;v:ext=&quot;edit&quot;&gt;<br>
&lt;o:idmap&nbsp;v:ext=&quot;edit&quot;&nbsp;data=&quot;1&quot;&nbsp;/&gt;<br>
&lt;/o:shapelayout&gt;&lt;/xml&gt;&lt;![endif]--&gt;&lt;div&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;I&nbsp;have&nbsp;seen&nbsp;a&nbsp;couple&nbsp;of&nbsp;other&nbsp;threads&nbsp;about&nbsp;this,&nbsp;most&nbsp;notably&nbsp;“Beginner&nbsp;Issue&nbsp;with&nbsp;RabbitMQ”.&amp;nbsp;&nbsp;I&nbsp;am&nbsp;running&nbsp;Python&nbsp;2.7.3&nbsp;on&nbsp;RHEL&nbsp;5.8,&nbsp;64&nbsp;bit,&nbsp;and&nbsp;followed&nbsp;the&nbsp;instructions&nbsp;on&nbsp;the&nbsp;website&nbsp;to&nbsp;install&nbsp;RabbitMQ&nbsp;2.8.2-1.&amp;nbsp;&nbsp;I&nbsp;then&nbsp;did&nbsp;the&nbsp;first&nbsp;Python&nbsp;tutorial.&amp;nbsp;&nbsp;It&nbsp;didn’t&nbsp;work&nbsp;–&nbsp;the&nbsp;code&nbsp;ran,&nbsp;rabbitmqctl&nbsp;status&nbsp;reported&nbsp;OK,&nbsp;but&nbsp;no&nbsp;messages&nbsp;came&nbsp;through.&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;I&nbsp;also&nbsp;picked&nbsp;up&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;book,&nbsp;RabbitMQ&nbsp;in&nbsp;Action,&nbsp;and&nbsp;tried&nbsp;the&nbsp;first&nbsp;code&nbsp;in&nbsp;that&nbsp;book&nbsp;(Chapter&nbsp;2)&nbsp;with&nbsp;the&nbsp;same&nbsp;results.&amp;nbsp;&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;From&nbsp;a&nbsp;client&nbsp;standpoint,&nbsp;it&nbsp;looks&nbsp;like&nbsp;it&nbsp;works,&nbsp;but&nbsp;producer&nbsp;connections&nbsp;remain&nbsp;blocked&nbsp;(rabbitmqctl&nbsp;list_connections)&nbsp;after&nbsp;sending&nbsp;the&nbsp;message&nbsp;and&nbsp;exiting.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;Following&nbsp;the&nbsp;suggestion&nbsp;from&nbsp;Phillipp&nbsp;Wollermann,&nbsp;I&nbsp;removed&nbsp;RabbitMQ&nbsp;and&nbsp;installed&nbsp;version&nbsp;2.2.0-1.el5&nbsp;from&nbsp;EPEL.&amp;nbsp;&nbsp;The&nbsp;tutorial&nbsp;code&nbsp;now&nbsp;works&nbsp;fine.&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;I&nbsp;think&nbsp;that&nbsp;new&nbsp;versions&nbsp;of&nbsp;important&nbsp;software&nbsp;should&nbsp;be&nbsp;regression&nbsp;tested&nbsp;on&nbsp;multiple&nbsp;platforms&nbsp;before&nbsp;publishing…&nbsp;&lt;span&nbsp;style=&quot;font-family:Wingdings&quot;&gt;J&lt;/span&gt;&nbsp;&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;Thanks,&lt;o:p&gt;&lt;/o:p&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-family:&amp;quot;Cambria&amp;quot;,&amp;quot;serif&amp;quot;;color:#002060&quot;&gt;Steve&nbsp;Keller&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/b&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;span&nbsp;style=&quot;font-size:10.0pt;font-family:&amp;quot;Cambria&amp;quot;,&amp;quot;serif&amp;quot;;color:#595959&quot;&gt;Systems&nbsp;Architect,&nbsp;Monitoring&nbsp;|&nbsp;Email:&nbsp;&lt;a&nbsp;href=&quot;mailto:skeller@ea.com&quot;&gt;&lt;span&nbsp;style=&quot;color:#595959&quot;&gt;skeller@ea.com&lt;/span&gt;&lt;/a&gt;&nbsp;|&nbsp;Direct:&nbsp;(650)&nbsp;628-7056&nbsp;|&nbsp;Cell:&nbsp;(415)&nbsp;509-2385&lt;o:p&gt;&lt;/o:p&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&nbsp;style=&quot;margin-top:&nbsp;0px;&nbsp;margin-right:&nbsp;0px;&nbsp;margin-bottom:&nbsp;0px;&nbsp;margin-left:&nbsp;0px;&nbsp;&quot;&gt;&lt;o:p&gt;&amp;nbsp;&lt;/o:p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;_______________________________________________&lt;/div&gt;&lt;div&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/span&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</tt>
