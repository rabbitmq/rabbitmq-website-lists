<tt>
&lt;p&gt;This&nbsp;is&nbsp;the&nbsp;first&nbsp;time&nbsp;it&nbsp;happened,&nbsp;and&nbsp;the&nbsp;system&nbsp;had&nbsp;been&nbsp;in&nbsp;production&nbsp;for&nbsp;a&nbsp;few&nbsp;months.&nbsp;The&nbsp;load&nbsp;(in&nbsp;messages/sec)&nbsp;had&nbsp;maybe&nbsp;been&nbsp;up&nbsp;a&nbsp;bit&nbsp;recently,&nbsp;and&nbsp;become&nbsp;a&nbsp;little&nbsp;spikey,&nbsp;but&nbsp;still&nbsp;on&nbsp;the&nbsp;order&nbsp;of&nbsp;dozens&nbsp;to&nbsp;low&nbsp;hundreds&nbsp;per&nbsp;second.&lt;/p&gt;<br>
<br>
&lt;p&gt;If&nbsp;upgrading&nbsp;is&nbsp;likely&nbsp;to&nbsp;fix&nbsp;the&nbsp;situation&nbsp;we&nbsp;can&nbsp;try&nbsp;setting&nbsp;that&nbsp;up.&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;avoid&nbsp;that&nbsp;effort&nbsp;if&nbsp;its&nbsp;not&nbsp;going&nbsp;to&nbsp;solve&nbsp;this&nbsp;specific&nbsp;problem&nbsp;(not&nbsp;a&nbsp;huge&nbsp;fan&nbsp;of&nbsp;upgrading&nbsp;&amp;quot;just&nbsp;because&amp;quot;)&lt;/p&gt;<br>
&lt;p&gt;Also,&nbsp;it&amp;#39;s&nbsp;probably&nbsp;obvious&nbsp;from&nbsp;the&nbsp;report,&nbsp;we&nbsp;can&amp;#39;t&nbsp;reproduce&nbsp;the&nbsp;problem.&lt;/p&gt;<br>
&lt;p&gt;Thanks&nbsp;for&nbsp;taking&nbsp;a&nbsp;look&nbsp;at&nbsp;this.&nbsp;If&nbsp;there&nbsp;is&nbsp;anything&nbsp;else&nbsp;you&nbsp;need&nbsp;from&nbsp;me,&nbsp;let&nbsp;me&nbsp;know.&lt;/p&gt;<br>
&lt;p&gt;On&nbsp;Jul&nbsp;2,&nbsp;2011&nbsp;8:13&nbsp;AM,&nbsp;&amp;quot;Matthias&nbsp;Radestock&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Bryan,&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;02/07/11&nbsp;02:56,&nbsp;Bryan&nbsp;Alves&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;A&nbsp;production&nbsp;instance&nbsp;of&nbsp;RabbitMQ&nbsp;crashed&nbsp;on&nbsp;us&nbsp;yesterday,&nbsp;and&nbsp;we&nbsp;have&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;no&nbsp;idea&nbsp;why.&nbsp; RabbitMQ&nbsp;2.3.1&nbsp;&amp;amp;&nbsp;Erlang&nbsp;R14B01&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Is&nbsp;that&nbsp;the&nbsp;first&nbsp;time&nbsp;it&nbsp;happened?&nbsp;And&nbsp;for&nbsp;how&nbsp;long&nbsp;had&nbsp;that&nbsp;rabbit&nbsp;been&nbsp;running&nbsp;when&nbsp;it&nbsp;perished?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Attached&nbsp;is&nbsp;the&nbsp;SASL&nbsp;log&nbsp;and&nbsp;erl_crash.dump&nbsp;file.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Thanks.&nbsp;It&nbsp;looks&nbsp;like&nbsp;the&nbsp;crash&nbsp;might&nbsp;be&nbsp;triggered&nbsp;by&nbsp;a&nbsp;rare&nbsp;race&nbsp;condition.&nbsp;The&nbsp;message&nbsp;store&nbsp;gc&nbsp;is&nbsp;trying&nbsp;to&nbsp;combine&nbsp;two&nbsp;files,&nbsp;one&nbsp;of&nbsp;which&nbsp;appears&nbsp;to&nbsp;have&nbsp;vanished&nbsp;from&nbsp;its&nbsp;index.&nbsp;It&nbsp;should&nbsp;be&nbsp;impossible&nbsp;to&nbsp;end&nbsp;up&nbsp;in&nbsp;that&nbsp;situation.&nbsp;Nothing&nbsp;obvious&nbsp;jumps&nbsp;out&nbsp;at&nbsp;me&nbsp;from&nbsp;the&nbsp;code,&nbsp;so&nbsp;this&nbsp;may&nbsp;take&nbsp;a&nbsp;while&nbsp;to&nbsp;track&nbsp;down.&lt;br&gt;<br>
<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Any&nbsp;advice&nbsp;about&nbsp;what&nbsp;could&nbsp; have&nbsp;caused&nbsp;the&nbsp;crashed&nbsp;and&nbsp;how&nbsp;to&nbsp;avoid&nbsp;it&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;in&nbsp;the&nbsp;future&nbsp;would&nbsp;be&nbsp;appreciated.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;suggest&nbsp;you&nbsp;upgrade&nbsp;to&nbsp;2.5.1.&nbsp;There&nbsp;have&nbsp;been&nbsp;some&nbsp;changes&nbsp;in&nbsp;that&nbsp;area&nbsp;of&nbsp;the&nbsp;code,&nbsp;though&nbsp;nothing&nbsp;specifically&nbsp;related&nbsp;to&nbsp;the&nbsp;above.&nbsp;So&nbsp;I&nbsp;doubt&nbsp;the&nbsp;problem&nbsp;will&nbsp;go&nbsp;away&nbsp;with&nbsp;2.5.1,&nbsp;but&nbsp;it&nbsp;would&nbsp;help&nbsp;to&nbsp;find&nbsp;out&nbsp;for&nbsp;sure.&lt;br&gt;<br>
<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Thanks&nbsp;for&nbsp;bringing&nbsp;this&nbsp;problem&nbsp;to&nbsp;our&nbsp;attention.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Regards,&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Matthias.&lt;br&gt;<br>
&lt;/p&gt;<br>

</tt>
