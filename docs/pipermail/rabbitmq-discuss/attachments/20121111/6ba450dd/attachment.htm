<tt>
Hello,&lt;br&gt;&lt;br&gt;I've&nbsp;seen&nbsp;discussion&nbsp;of&nbsp;this&nbsp;question&nbsp;before&nbsp;but&nbsp;I&nbsp;have&nbsp;not&nbsp;been&nbsp;able&nbsp;to&nbsp;actually&nbsp;enable&nbsp;the&nbsp;keepalive&nbsp;setting&nbsp;in&nbsp;rabbitmq.conf.&nbsp;I've&nbsp;configured&nbsp;the&nbsp;setting&nbsp;and&amp;nbsp;&nbsp;modified&nbsp;the&nbsp;linux&nbsp;settings.&nbsp;Can&nbsp;someone&nbsp;look&nbsp;at&nbsp;these&nbsp;settings?&nbsp;What&nbsp;I&nbsp;am&nbsp;i&nbsp;doing&nbsp;wrong?&nbsp;I've&nbsp;also&nbsp;looked&nbsp;at&nbsp;http://www.erlang.org/doc/man/inet.html&nbsp;and&nbsp;attempted&nbsp;many&nbsp;variations&nbsp;on&nbsp;setting&nbsp;the&nbsp;keepalive&nbsp;setting&nbsp;via&nbsp;the&nbsp;raw&nbsp;call&nbsp;also.&lt;br&gt;&lt;br&gt;Regards,&lt;br&gt;Daniel&nbsp;&lt;br&gt;&lt;br&gt;rabbitmq-env.conf:&lt;br&gt;RABBITMQ_NODE_IP_ADDRESS=192.168.122.71&lt;br&gt;&lt;br&gt;rabbitmq.conf&lt;br&gt;[&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{rabbit,&nbsp;[{tcp_listen_options,&nbsp;[binary,&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{packet,&nbsp;raw},&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{reuseaddr,&nbsp;true},&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{backlog,&nbsp;128},&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{nodelay,&nbsp;true},&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{exit_on_close,&nbsp;false},&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;{keepalive,&nbsp;true}&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}]&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;].&lt;br&gt;&lt;br&gt;Linux&nbsp;Settings:&lt;br&gt;root@testu1:/root#&nbsp;cat&nbsp;/proc/sys/net/ipv4/tcp_keepalive_time&lt;br&gt;10&lt;br&gt;root@testu1:/root#&nbsp;cat&nbsp;/proc/sys/net/ipv4/tcp_keepalive_intvl&nbsp;&lt;br&gt;10&lt;br&gt;root@testu1:/root#&nbsp;cat&nbsp;/proc/sys/net/ipv4/tcp_keepalive_probes&nbsp;&lt;br&gt;2&lt;br&gt;&lt;br&gt;&lt;br&gt;script&nbsp;to&nbsp;stop&nbsp;traffic:&lt;br&gt;/sbin/iptables&nbsp;-F&lt;br&gt;/sbin/iptables&nbsp;-P&nbsp;INPUT&nbsp;DROP&lt;br&gt;/sbin/iptables&nbsp;-P&nbsp;OUTPUT&nbsp;DROP&lt;br&gt;/sbin/iptables&nbsp;-P&nbsp;FORWARD&nbsp;DROP&lt;br&gt;/sbin/iptables&nbsp;-A&nbsp;INPUT&nbsp;-i&nbsp;lo&nbsp;-j&nbsp;ACCEPT&lt;br&gt;/sbin/iptables&nbsp;-A&nbsp;OUTPUT&nbsp;-o&nbsp;lo&nbsp;-j&nbsp;ACCEPT&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
</tt>
