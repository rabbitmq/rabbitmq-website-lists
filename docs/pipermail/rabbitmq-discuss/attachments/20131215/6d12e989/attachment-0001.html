<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;style&gt;&lt;!--<br>
.hmmessage&nbsp;P<br>
{<br>
margin:0px;<br>
padding:0px<br>
}<br>
body.hmmessage<br>
{<br>
font-size:&nbsp;12pt;<br>
font-family:Calibri<br>
}<br>
--&gt;&lt;/style&gt;&lt;/head&gt;<br>
&lt;body&nbsp;class='hmmessage'&gt;&lt;div&nbsp;dir='ltr'&gt;&lt;div&gt;&lt;div&gt;Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;While&nbsp;testing&nbsp;my&nbsp;2&nbsp;nodes&nbsp;cluster&nbsp;(&nbsp;'rabbit@existing-machine'&nbsp;+&nbsp;&nbsp;'rabbit@new-machine'),&nbsp;I&nbsp;encountered&nbsp;a&nbsp;fatal&nbsp;situation&nbsp;in&nbsp;which&nbsp;the&nbsp;queue&nbsp;on&nbsp;one&nbsp;of&nbsp;the&nbsp;nodes&nbsp;(&nbsp;'rabbit@new-machine')&nbsp;was&nbsp;&quot;lost&quot;&nbsp;after&nbsp;I&nbsp;restarted&nbsp;that&nbsp;node.&nbsp;&nbsp;Before&nbsp;restarting,&nbsp;everything&nbsp;worked.&nbsp;&nbsp;Also,&nbsp;I&nbsp;was&nbsp;able&nbsp;to&nbsp;restart&nbsp;the&nbsp;nodes&nbsp;previously&nbsp;without&nbsp;any&nbsp;issue&nbsp;until&nbsp;that&nbsp;error&nbsp;appeared.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;1.&nbsp;I'm&nbsp;using&nbsp;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;RabbitMQ&nbsp;3.2.1&nbsp;on&nbsp;Erlang&nbsp;R16B02&nbsp;on&nbsp;Windows&nbsp;7&nbsp;for&nbsp;both&nbsp;machines.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;2.&nbsp;The&nbsp;config&nbsp;for&nbsp;both&nbsp;nodes&nbsp;uses:&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{cluster_nodes,&nbsp;{['rabbit@existing-machine'],&nbsp;disc}},&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;span&nbsp;class=&quot;Apple-tab-span&quot;&nbsp;style=&quot;white-space:&nbsp;pre;&quot;&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{cluster_partition_handling,&nbsp;autoheal}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;3.&nbsp;A&nbsp;Javascript&nbsp;JSOCK-STOMP&nbsp;consumer&nbsp;running&nbsp;on&nbsp;my&nbsp;Android&nbsp;phone&nbsp;was&nbsp;connected&nbsp;to&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;'rabbit@new-machine'&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&nbsp;and&nbsp;subscribed&nbsp;to&nbsp;queue&nbsp;&quot;queue01&quot;.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;4.&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;I&nbsp;used&nbsp;NCAT&nbsp;(command&nbsp;line)&nbsp;to&nbsp;connect&nbsp;to&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;'rabbit@existing-machine'&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&nbsp;to&nbsp;send&nbsp;messages&nbsp;to&nbsp;&quot;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;queue01&quot;&nbsp;which&nbsp;I'll&nbsp;read&nbsp;off&nbsp;my&nbsp;Android&nbsp;phone&nbsp;if&nbsp;cluster&nbsp;mirroring&nbsp;works.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;After&nbsp;restarting&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;'rabbit@new-machine'&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;,&nbsp;the&nbsp;following&nbsp;error&nbsp;appeared&nbsp;on&nbsp;the&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;'rabbit@new-machine'&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&nbsp;log.&nbsp;&nbsp;The&nbsp;Javascript&nbsp;consumer&nbsp;has&nbsp;code&nbsp;re-subscribe&nbsp;to&nbsp;the&nbsp;queue&nbsp;if&nbsp;it&nbsp;encounters&nbsp;an&nbsp;error&nbsp;or&nbsp;disconnects,&nbsp;but&nbsp;this&nbsp;didn't&nbsp;appear&nbsp;to&nbsp;work&nbsp;for&nbsp;this&nbsp;case.&nbsp;&nbsp;&quot;queue01&quot;&nbsp;was&nbsp;missing&nbsp;from&nbsp;the&nbsp;port&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;15672&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&nbsp;management&nbsp;web&nbsp;console.&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;15-Dec-2013::01:42:31&nbsp;===&lt;/div&gt;&lt;div&gt;Server&nbsp;startup&nbsp;complete;&nbsp;10&nbsp;plugins&nbsp;started.&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;amqp_client&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;cowboy&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;mochiweb&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_management&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_management_agent&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_stomp&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_web_dispatch&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_web_stomp&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;sockjs&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;webmachine&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;15-Dec-2013::01:48:47&nbsp;===&lt;/div&gt;&lt;div&gt;connection&nbsp;&lt;0.473.0&gt;,&nbsp;channel&nbsp;1&nbsp;-&nbsp;soft&nbsp;error:&lt;/div&gt;&lt;div&gt;{amqp_error,not_found,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;home&nbsp;node&nbsp;'rabbit@existing-machine'&nbsp;of&nbsp;durable&nbsp;queue&nbsp;'queue01'&nbsp;in&nbsp;vhost&nbsp;'/'&nbsp;is&nbsp;down&nbsp;or&nbsp;inaccessible&quot;,&lt;/div&gt;&lt;div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'queue.declare'}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;15-Dec-2013::01:48:47&nbsp;===&lt;/div&gt;&lt;div&gt;STOMP&nbsp;error&nbsp;frame&nbsp;sent:&lt;/div&gt;&lt;div&gt;Message:&nbsp;not_found&lt;/div&gt;&lt;div&gt;Detail:&nbsp;&quot;NOT_FOUND&nbsp;-&nbsp;home&nbsp;node&nbsp;'rabbit@existing-machine'&nbsp;of&nbsp;durable&nbsp;queue&nbsp;'queue01'&nbsp;in&nbsp;vhost&nbsp;'/'&nbsp;is&nbsp;down&nbsp;or&nbsp;inaccessible\n&quot;&lt;/div&gt;&lt;div&gt;Server&nbsp;private&nbsp;detail:&nbsp;none&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;On&nbsp;the&nbsp;other&nbsp;hand,&nbsp;the&nbsp;log&nbsp;on&nbsp;&nbsp;'rabbit@existing-machine'&nbsp;didn't&nbsp;show&nbsp;anything&nbsp;unusual,&nbsp;and&nbsp;I&nbsp;was&nbsp;able&nbsp;to&nbsp;still&nbsp;see&nbsp;&quot;queue01&quot;&nbsp;on&nbsp;the&nbsp;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;port&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;15672&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&nbsp;management&nbsp;web&nbsp;console&nbsp;for&nbsp;the&nbsp;existing-machine.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;15-Dec-2013::00:19:44&nbsp;===&lt;/div&gt;&lt;div&gt;Server&nbsp;startup&nbsp;complete;&nbsp;10&nbsp;plugins&nbsp;started.&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;amqp_client&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;cowboy&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;mochiweb&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_management&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_management_agent&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_stomp&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_web_dispatch&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;rabbitmq_web_stomp&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;sockjs&lt;/div&gt;&lt;div&gt;&nbsp;*&nbsp;webmachine&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;15-Dec-2013::00:29:57&nbsp;===&lt;/div&gt;&lt;div&gt;accepting&nbsp;STOMP&nbsp;connection&nbsp;&lt;0.491.0&gt;&nbsp;(127.0.0.1:1207&nbsp;-&gt;&nbsp;127.0.0.1:61613)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;15-Dec-2013::01:39:52&nbsp;===&lt;/div&gt;&lt;div&gt;Statistics&nbsp;database&nbsp;started.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;15-Dec-2013::01:39:54&nbsp;===&lt;/div&gt;&lt;div&gt;rabbit&nbsp;on&nbsp;node&nbsp;rabbit@new-machine&nbsp;down&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=INFO&nbsp;REPORT====&nbsp;15-Dec-2013::01:42:20&nbsp;===&lt;/div&gt;&lt;div&gt;rabbit&nbsp;on&nbsp;node&nbsp;rabbit@new-machine&nbsp;up&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Other&nbsp;than&nbsp;the&nbsp;queue&nbsp;problem,&nbsp;I&nbsp;was&nbsp;able&nbsp;to&nbsp;add&nbsp;and&nbsp;delete&nbsp;virtual&nbsp;hosts&nbsp;on&nbsp;'&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;rabbit@existing-machine'&nbsp;and&nbsp;this&nbsp;was&nbsp;reflected&nbsp;on&nbsp;'&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;rabbit@new-machine'&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;management&nbsp;web&nbsp;console.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;Finally,&nbsp;I&nbsp;was&nbsp;only&nbsp;able&nbsp;to&nbsp;recover&nbsp;the&nbsp;queue&nbsp;problem&nbsp;by&nbsp;restarting&nbsp;rabbitmq&nbsp;on&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;'&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;rabbit@existing-machine'.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;Rgds,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&nbsp;style=&quot;font-size:&nbsp;12pt;&quot;&gt;Joshua&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&nbsp;&lt;/div&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;&lt;/body&gt;<br>
&lt;/html&gt;
</tt>
