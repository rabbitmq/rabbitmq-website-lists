<tt>
&lt;html&gt;<br>
&lt;head&gt;<br>
&lt;meta&nbsp;http-equiv=&quot;Content-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=us-ascii&quot;&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;style=&quot;word-wrap:&nbsp;break-word;&nbsp;-webkit-nbsp-mode:&nbsp;space;&nbsp;-webkit-line-break:&nbsp;after-white-space;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-size:&nbsp;14px;&nbsp;font-family:&nbsp;Calibri,&nbsp;sans-serif;&nbsp;&quot;&gt;<br>
&lt;div&gt;Code&nbsp;from&nbsp;here:&lt;/div&gt;<br>
&lt;div&gt;&lt;a&nbsp;href=&quot;https://github.com/pika/pika/blob/master/docs/examples/asynchronous_consumer_example.rst&quot;&gt;https://github.com/pika/pika/blob/master/docs/examples/asynchronous_consumer_example.rst&lt;/a&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I've&nbsp;tried&nbsp;putting&nbsp;the&nbsp;qos&nbsp;call&nbsp;here:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;def&nbsp;on_channel_open(self,&nbsp;channel):&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;quot;&amp;quot;&amp;quot;This&nbsp;method&nbsp;is&nbsp;invoked&nbsp;by&nbsp;pika&nbsp;when&nbsp;the&nbsp;channel&nbsp;has&nbsp;been&nbsp;opened.&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;The&nbsp;channel&nbsp;object&nbsp;is&nbsp;passed&nbsp;in&nbsp;so&nbsp;we&nbsp;can&nbsp;make&nbsp;use&nbsp;of&nbsp;it.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Since&nbsp;the&nbsp;channel&nbsp;is&nbsp;now&nbsp;open,&nbsp;we'll&nbsp;declare&nbsp;the&nbsp;exchange&nbsp;to&nbsp;use.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;:param&nbsp;pika.channel.Channel&nbsp;channel:&nbsp;The&nbsp;channel&nbsp;object&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;quot;&amp;quot;&amp;quot;&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;LOGGER.debug('Channel&nbsp;opened')&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;channel.basic_qos(prefetch_count=1)&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;self._channel&nbsp;=&nbsp;channel&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;self.add_on_channel_close_callback()&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;self.setup_exchange(self.EXCHANGE)&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;It&nbsp;did&nbsp;not&nbsp;turn&nbsp;off&nbsp;prefetching.&nbsp;&amp;nbsp;Messages&nbsp;still&nbsp;show&nbsp;up&nbsp;in&nbsp;RabbitMQ&nbsp;as&nbsp;Unacknowledged&nbsp;rather&nbsp;than&nbsp;Ready&nbsp;when&nbsp;I&nbsp;send&nbsp;one&nbsp;and&nbsp;send&nbsp;a&nbsp;2nd&nbsp;before&nbsp;the&nbsp;1st&nbsp;is&nbsp;done&nbsp;processing.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;What&nbsp;am&nbsp;I&nbsp;missing?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;want&nbsp;to&nbsp;turn&nbsp;off&nbsp;prefetching.&lt;/div&gt;<br>
&lt;div&gt;I&nbsp;can't&nbsp;figure&nbsp;out&nbsp;how&nbsp;to&nbsp;turn&nbsp;it&nbsp;off&nbsp;on&nbsp;the&nbsp;Connection.&nbsp;That&nbsp;would&nbsp;be&nbsp;preferable,&nbsp;or&nbsp;turn&nbsp;it&nbsp;off&nbsp;globally.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Any&nbsp;clues&nbsp;GREATLY&nbsp;appreciated.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Thanks,&lt;/div&gt;<br>
&lt;div&gt;Scott&lt;/div&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
