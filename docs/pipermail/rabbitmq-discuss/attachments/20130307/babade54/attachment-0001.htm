<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;&lt;div&gt;rabbitmq&nbsp;version:&nbsp;3.0.2&lt;br&gt;&lt;/div&gt;cpu:&nbsp;24&nbsp;cores&lt;br&gt;&lt;/div&gt;memory:&nbsp;64G&lt;br&gt;&lt;/div&gt;i&nbsp;deploy&nbsp;a&nbsp;rabbitmq&nbsp;service&nbsp;on&nbsp;the&nbsp;server&nbsp;above&nbsp;and&nbsp;do&nbsp;a&nbsp;&lt;span&nbsp;class=&quot;&quot;&gt;stress&nbsp;testing&lt;/span&gt;&nbsp;,&nbsp;use&nbsp;150&nbsp;threads&nbsp;for&nbsp;send&nbsp;and&nbsp;300&nbsp;threads&nbsp;for&nbsp;recv&nbsp;on&nbsp;150&nbsp;queues&nbsp;on&nbsp;the&nbsp;service,&nbsp;per&nbsp;queue&nbsp;with&nbsp;1&nbsp;send/&nbsp;2&nbsp;recv.&nbsp;&lt;br&gt;<br>
&lt;/div&gt;the&nbsp;cpu&nbsp;useage&nbsp;is&nbsp;always&nbsp;below&nbsp;700%,&nbsp;no&nbsp;matter&nbsp;i&nbsp;increase&nbsp;queues&nbsp;and&nbsp;threads&nbsp;or&nbsp;not.&lt;br&gt;&lt;br&gt;&lt;/div&gt;how&nbsp;to&nbsp;use&nbsp;more&nbsp;than&nbsp;7&nbsp;cores&nbsp;in&nbsp;rabbitmq?&lt;br&gt;&lt;div&gt;&lt;br&gt;i&nbsp;find&nbsp;smp&nbsp;is&nbsp;set&nbsp;to&nbsp;24:24&lt;br&gt;[rabbitmq]$&nbsp;erl&lt;br&gt;Erlang&nbsp;R15B03&nbsp;(erts-5.9.3.1)&nbsp;[source]&nbsp;[64-bit]&nbsp;[smp:24:24]&nbsp;[async-threads:0]&nbsp;[hipe]&nbsp;[kernel-poll:false]&lt;br&gt;<br>
&lt;br&gt;Eshell&nbsp;V5.9.3.1 &nbsp;(abort&nbsp;with&nbsp;^G)&lt;br&gt;&lt;/div&gt;&lt;/div&gt;<br>

</tt>
