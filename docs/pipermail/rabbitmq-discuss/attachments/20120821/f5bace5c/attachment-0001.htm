<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-cite-prefix&quot;&gt;You&nbsp;could&nbsp;bind&nbsp;your&nbsp;reply&nbsp;queue&nbsp;to&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dead-letter&nbsp;exchange&nbsp;and&nbsp;you&nbsp;should&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;receive&nbsp;it&nbsp;back.&nbsp;Unfortunately,&nbsp;this&nbsp;approach&nbsp;does&nbsp;not&nbsp;distinguish<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;producers&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;as&nbsp;consequence&nbsp;of&nbsp;this&nbsp;sends&nbsp;also&nbsp;messages&nbsp;that&nbsp;did&nbsp;not&nbsp;refer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only&nbsp;to&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;particular&nbsp;senders.&nbsp;You&nbsp;could&nbsp;get&nbsp;around&nbsp;this&nbsp;by&nbsp;using&nbsp;parts&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;routing&nbsp;keys&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dependent&nbsp;on&nbsp;who&nbsp;sent&nbsp;the&nbsp;message&nbsp;in&nbsp;the&nbsp;first&nbsp;place.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Regards,&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ernest&nbsp;Staszuk&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;W&nbsp;dniu&nbsp;2012-08-16&nbsp;11:17,&nbsp;Paul&nbsp;pisze:&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cite=&quot;mid:f17aad39-8e78-4ce2-9409-b599917ba28e@googlegroups.com&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;Context-Type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=utf-8&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Hello,&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;I&nbsp;am&nbsp;hoping&nbsp;someone&nbsp;can&nbsp;help&nbsp;me&nbsp;out&nbsp;on&nbsp;this&nbsp;issue.&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;&lt;span&gt;I&nbsp;have&nbsp;got&nbsp;a&nbsp;typical&nbsp;setup&nbsp;of&nbsp;a&nbsp;async&nbsp;consumer,&nbsp;consuming<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from&nbsp;a&nbsp;Queue,&nbsp;and&nbsp;a&nbsp;async&nbsp;producer&nbsp;(with&nbsp;a&nbsp;reply_to&nbsp;queue&nbsp;set)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;producing&nbsp;to&nbsp;an&nbsp;exchange.&lt;/span&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;I&nbsp;am&nbsp;facing&nbsp;the&nbsp;challenge&nbsp;of&nbsp;working&nbsp;with&nbsp;Dead&nbsp;Letter&nbsp;Queues<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;TTL.&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;In&nbsp;a&nbsp;nutshell&nbsp;the&nbsp;producer&nbsp;needs&nbsp;a&nbsp;ways&nbsp;to&nbsp;determine&nbsp;if&nbsp;his/her<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;ended&nbsp;up&nbsp;dead&nbsp;(in&nbsp;the&nbsp;event&nbsp;the&nbsp;consumer&nbsp;is&nbsp;too&nbsp;slow&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not&nbsp;&quot;alive&quot;).&nbsp;So&nbsp;this&nbsp;is&nbsp;what&nbsp;I&nbsp;have&nbsp;come&nbsp;up&nbsp;with&nbsp;but&nbsp;am<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struggling&nbsp;to&nbsp;implement&nbsp;it&nbsp;(it&nbsp;might&nbsp;be&nbsp;impossible).&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Producer&nbsp;produces&nbsp;the&nbsp;message&nbsp;(with&nbsp;a&nbsp;reply_to&nbsp;property)&nbsp;-&amp;gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rabbit&nbsp;Expires&nbsp;the&nbsp;message&nbsp;based&nbsp;on&nbsp;the&nbsp;TTL&nbsp;-&amp;gt;&nbsp;sends&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;to&nbsp;a&nbsp;dead&nbsp;letter&nbsp;exchange&nbsp;-&amp;gt;&nbsp;the&nbsp;exchange&nbsp;routes&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;to&nbsp;the&nbsp;reply_to&nbsp;queue&nbsp;property&nbsp;on&nbsp;that&nbsp;message&nbsp;-&amp;gt;&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;producer&nbsp;now&nbsp;consumers&nbsp;from&nbsp;that&nbsp;queue&nbsp;(the&nbsp;reply_to&nbsp;queue).&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Question...&nbsp;&quot;the&nbsp;exchange&nbsp;routes&nbsp;the&nbsp;message&nbsp;to&nbsp;the&nbsp;reply_to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;queue&nbsp;property&nbsp;on&nbsp;that&nbsp;message&quot;...&nbsp;is&nbsp;this&nbsp;possible&nbsp;and&nbsp;how?&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Any&nbsp;other&nbsp;suggestions&nbsp;on&nbsp;implementation&nbsp;or&nbsp;design&nbsp;which&nbsp;would<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meet&nbsp;my&nbsp;criteria&nbsp;would&nbsp;be&nbsp;greatly&nbsp;appreciated.&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;Thanks!&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;fieldset&nbsp;class=&quot;mimeAttachmentHeader&quot;&gt;&lt;/fieldset&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;_______________________________________________<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
