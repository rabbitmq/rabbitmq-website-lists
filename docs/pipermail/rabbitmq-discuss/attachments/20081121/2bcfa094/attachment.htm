<tt>
&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&quot;&gt;<br>
&lt;html&gt;<br>
&lt;head&gt;<br>
&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;charset=ISO-8859-1&quot;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;title&gt;&lt;/title&gt;<br>
&lt;/head&gt;<br>
&lt;body&nbsp;bgcolor=&quot;#ffffff&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
Ben&nbsp;Hood&nbsp;wrote:<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid269388e30811210834o1f50e118n4474cf83ae95f9a0@mail.gmail.com&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Tsuraan,<br>
<br>
On&nbsp;Fri,&nbsp;Nov&nbsp;21,&nbsp;2008&nbsp;at&nbsp;3:27&nbsp;PM,&nbsp;tsuraan&nbsp;&lt;a&nbsp;class=&quot;moz-txt-link-rfc2396E&quot;&nbsp;href=&quot;mailto:tsuraan@gmail.com&quot;&gt;&amp;lt;tsuraan@gmail.com&amp;gt;&lt;/a&gt;&nbsp;wrote:<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Why&nbsp;are&nbsp;you&nbsp;using&nbsp;tx&nbsp;in&nbsp;the&nbsp;above?&nbsp;It&nbsp;won't&nbsp;do&nbsp;any&nbsp;harm,&nbsp;but&nbsp;it&nbsp;doesn't<br>
seem&nbsp;to&nbsp;serve&nbsp;any&nbsp;purpose.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;It's&nbsp;a&nbsp;stripped-down&nbsp;version&nbsp;of&nbsp;a&nbsp;larger&nbsp;program&nbsp;that&nbsp;does&nbsp;use&nbsp;a<br>
transaction&nbsp;in&nbsp;a&nbsp;less&nbsp;wasteful&nbsp;fashion.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
That&nbsp;still&nbsp;doesn't&nbsp;explain&nbsp;why&nbsp;you're&nbsp;using&nbsp;it&nbsp;though.&nbsp;It&nbsp;is&nbsp;for<br>
intents&nbsp;and&nbsp;purposes,&nbsp;a&nbsp;semantic&nbsp;NOOP.<br>
<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;blockquote&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;Yup,&nbsp;putting&nbsp;in&nbsp;chan.close()&nbsp;and&nbsp;conn.close()&nbsp;gets&nbsp;all&nbsp;the&nbsp;messages<br>
delivered.&nbsp;&nbsp;Is&nbsp;there&nbsp;a&nbsp;way&nbsp;to&nbsp;ensure&nbsp;message&nbsp;delivery&nbsp;without&nbsp;using&nbsp;a<br>
transaction&nbsp;or&nbsp;closing&nbsp;the&nbsp;channel?&nbsp;&nbsp;Some&nbsp;sort&nbsp;of&nbsp;flush&nbsp;method,&nbsp;or<br>
another&nbsp;flag&nbsp;on&nbsp;the&nbsp;basic_publish&nbsp;method&nbsp;that&nbsp;I&nbsp;didn't&nbsp;notice?&nbsp;&nbsp;I've<br>
noticed&nbsp;the&nbsp;wait()&nbsp;methods,&nbsp;but&nbsp;I'm&nbsp;not&nbsp;really&nbsp;clear&nbsp;on&nbsp;what&nbsp;they&nbsp;do,<br>
or&nbsp;how&nbsp;to&nbsp;use&nbsp;them.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;/pre&gt;<br>
&nbsp;&nbsp;&lt;/blockquote&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;&lt;!----&gt;<br>
I'm&nbsp;slightly&nbsp;confused.&nbsp;You're&nbsp;now&nbsp;talking&nbsp;about&nbsp;about&nbsp;the&nbsp;sending&nbsp;side<br>
but&nbsp;your&nbsp;code&nbsp;beforehand&nbsp;was&nbsp;an&nbsp;example&nbsp;of&nbsp;a&nbsp;consumer.<br>
<br>
As&nbsp;an&nbsp;aside,&nbsp;on&nbsp;the&nbsp;sending&nbsp;side,&nbsp;you&nbsp;could&nbsp;use&nbsp;the&nbsp;immediate&nbsp;or<br>
mandatory&nbsp;flags&nbsp;to&nbsp;get&nbsp;the&nbsp;broker&nbsp;to&nbsp;*indicate&nbsp;it's&nbsp;inability*&nbsp;to<br>
deliver&nbsp;a&nbsp;message&nbsp;without&nbsp;you&nbsp;having&nbsp;to&nbsp;use&nbsp;a&nbsp;transaction,&nbsp;but&nbsp;I'm&nbsp;not<br>
sure&nbsp;those&nbsp;are&nbsp;the&nbsp;semantics&nbsp;you&nbsp;want.<br>
<br>
Ben<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
my&nbsp;guess...&nbsp;&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;sounds&nbsp;like&nbsp;he&nbsp;just&nbsp;wants&nbsp;to&nbsp;know&nbsp;at&nbsp;some&nbsp;point&nbsp;whether&nbsp;all&nbsp;messages<br>
&lt;br&gt;<br>
sent&nbsp;were&nbsp;actually&nbsp;received.&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;The&nbsp;acknowledgements&nbsp;go&nbsp;on&nbsp;at&nbsp;the&nbsp;&lt;br&gt;<br>
protocol&nbsp;level,&nbsp;well&nbsp;and&nbsp;good.&amp;nbsp;&amp;nbsp;&nbsp;It&nbsp;isn&amp;acute;t&nbsp;clear&nbsp;how&nbsp;the&nbsp;client<br>
application&nbsp;will&nbsp;&amp;acute;know&amp;acute;&lt;br&gt;<br>
that&nbsp;the&nbsp;messages&nbsp;sent&nbsp;were&nbsp;acknowledged.&lt;br&gt;<br>
&lt;br&gt;<br>
is&nbsp;there&nbsp;a&nbsp;configuration&nbsp;where&nbsp;&amp;acute;wait&amp;acute;&nbsp;will&nbsp;block&nbsp;until&nbsp;all&nbsp;pending<br>
messages&nbsp;are&nbsp;acknowledged&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;blockquote<br>
&nbsp;cite=&quot;mid269388e30811210834o1f50e118n4474cf83ae95f9a0@mail.gmail.com&quot;<br>
&nbsp;type=&quot;cite&quot;&gt;<br>
&nbsp;&nbsp;&lt;pre&nbsp;wrap=&quot;&quot;&gt;<br>
_______________________________________________<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list<br>
&lt;a&nbsp;class=&quot;moz-txt-link-abbreviated&quot;&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;<br>
&lt;a&nbsp;class=&quot;moz-txt-link-freetext&quot;&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;<br>
&nbsp;&nbsp;&lt;/pre&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;<br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
