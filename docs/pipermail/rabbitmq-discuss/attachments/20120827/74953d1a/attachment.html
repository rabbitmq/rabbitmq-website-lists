<tt>
Thanks&nbsp;Tim,&lt;br&gt;&lt;br&gt;I&nbsp;read&nbsp;the&nbsp;API&nbsp;guide&nbsp;and&nbsp;still&nbsp;stuck&nbsp;to&nbsp;the&nbsp;QueuingConsumer,&nbsp;for&nbsp;each&nbsp;incoming&nbsp;message&nbsp;I&nbsp;create&nbsp;a&nbsp;new&nbsp;service&nbsp;thread&nbsp;(with&nbsp;common&nbsp;channel,&nbsp;without&nbsp;that&nbsp;the&nbsp;service&nbsp;won&amp;#39;t&nbsp;know&nbsp;which&nbsp;message&nbsp;to&nbsp;acknowledge).&nbsp;But&nbsp;in&nbsp;the&nbsp;guide,&nbsp;it&nbsp;is&nbsp;mentioned&nbsp;that&nbsp;the&nbsp;channel&nbsp;should&nbsp;be&nbsp;created&nbsp;for&nbsp;each&nbsp;thread.&nbsp;Now,&nbsp;my&nbsp;question&nbsp;is&nbsp;does&nbsp;this&nbsp;guide&nbsp;assumes&nbsp;that&nbsp;we&nbsp;run&nbsp;different&nbsp;consumer&nbsp;threads?&nbsp;&lt;b&gt;I&nbsp;can&amp;#39;t&nbsp;understand&nbsp;the&nbsp;concept&nbsp;of&nbsp;different&nbsp;consumer&nbsp;threads&lt;/b&gt;.&nbsp;I&nbsp;run&nbsp;a&nbsp;single&nbsp;consumer&nbsp;and&nbsp;use&nbsp;basicConsume()&nbsp;to&nbsp;listen&nbsp;to&nbsp;the&nbsp;messages&nbsp;and&nbsp;each&nbsp;message&nbsp;(nextDelivery())&nbsp;will&nbsp;give&nbsp;rise&nbsp;to&nbsp;a&nbsp;new&nbsp;service&nbsp;thread.&nbsp;Again,&nbsp;each&nbsp;message&nbsp;creating&nbsp;a&nbsp;thread&nbsp;is&nbsp;scary&nbsp;!&lt;div&gt;<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;If&nbsp;it&nbsp;helps,&nbsp;I&nbsp;am&nbsp;running&nbsp;the&nbsp;consumer&nbsp;as&nbsp;a&nbsp;java&nbsp;application&nbsp;and&nbsp;use&nbsp;basicConsume()&nbsp;and&nbsp;nextDelivery()&nbsp;in&nbsp;a&nbsp;while&nbsp;loop&nbsp;to&nbsp;process&nbsp;the&nbsp;messages.&nbsp;Our&nbsp;application&nbsp;sends&nbsp;messages&nbsp;to&nbsp;these&nbsp;non-stop.&nbsp;So,&nbsp;I&nbsp;am&nbsp;looking&nbsp;for&nbsp;a&nbsp;consumer&nbsp;which&nbsp;will&nbsp;not&nbsp;block&nbsp;the&nbsp;incoming&nbsp;messages&nbsp;when&nbsp;it&nbsp;is&nbsp;processing&nbsp;a&nbsp;large&nbsp;message.&lt;br&gt;<br>
<br>
&lt;br&gt;&lt;br&gt;&lt;br&gt;-Mahesh&lt;br&gt;&lt;br&gt;On&nbsp;Mon,&nbsp;Aug&nbsp;27,&nbsp;2012&nbsp;at&nbsp;2:47&nbsp;PM,&nbsp;Tim&nbsp;Watson&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:tim@rabbitmq.com&quot;&gt;tim@rabbitmq.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;Hi&nbsp;Mahesh,&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;On&nbsp;27&nbsp;Aug&nbsp;2012,&nbsp;at&nbsp;08:58,&nbsp;Mahesh&nbsp;Viraktamath&nbsp;wrote:&lt;br&gt;<br>
<br>
&amp;gt;&lt;br&gt;&amp;gt;&amp;gt;&nbsp;Hi,&lt;br&gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&amp;gt;&nbsp;We&nbsp;used&nbsp;RabbitMQ&nbsp;to&nbsp;implement&nbsp;a&nbsp;simple&nbsp;producer-consumer&nbsp;architecture.&lt;br&gt;&amp;gt;&amp;gt;&nbsp;It&nbsp;was&nbsp;fine&nbsp;until&nbsp;very&nbsp;recently,&nbsp;when&nbsp;we&nbsp;encountered&nbsp;the&nbsp;blocking&lt;br&gt;&amp;gt;&amp;gt;&nbsp;calls.&nbsp;I&nbsp;ran&nbsp;two&nbsp;nodes&nbsp;in&nbsp;a&nbsp;cluster;&nbsp;in&nbsp;cases&nbsp;where&nbsp;the&nbsp;consumer&nbsp;took&lt;br&gt;<br>
<br>
&amp;gt;&amp;gt;&nbsp;more&nbsp;than&nbsp;the&nbsp;usual&nbsp;time&nbsp;and&nbsp;all&nbsp;subsequent&nbsp;messages&nbsp;kept&nbsp;on&nbsp;waiting.&lt;br&gt;&amp;gt;&amp;gt;&nbsp;Then,&nbsp;I&nbsp;came&nbsp;to&nbsp;know&nbsp;that&nbsp;I&nbsp;used&nbsp;QueuingConsumer&nbsp;which&nbsp;is&nbsp;a&nbsp;blocking&lt;br&gt;&amp;gt;&amp;gt;&nbsp;architecture,&nbsp;now&nbsp;I&nbsp;know&nbsp;I&nbsp;have&nbsp;to&nbsp;use&nbsp;my&nbsp;own&nbsp;implementation&nbsp;of&nbsp;the&lt;br&gt;<br>
<br>
&amp;gt;&amp;gt;&nbsp;DefaultConsumer.&nbsp;But,&nbsp;I&nbsp;am&nbsp;clueless&nbsp;as&nbsp;to&nbsp;whether&nbsp;I&nbsp;should&nbsp;manage&nbsp;the&lt;br&gt;&amp;gt;&amp;gt;&nbsp;threading&nbsp;model&nbsp;or&nbsp;the&nbsp;RabbitMQ&nbsp;itself&nbsp;has&nbsp;any&nbsp;provision&nbsp;on&nbsp;that.&lt;br&gt;&amp;gt;&amp;gt;&nbsp;Another&nbsp;thing&nbsp;that&nbsp;is&nbsp;confusing&nbsp;is,&nbsp;whether&nbsp;we&nbsp;run&nbsp;different&nbsp;type&nbsp;of&lt;br&gt;<br>
<br>
&amp;gt;&amp;gt;&nbsp;consumers&nbsp;(with&nbsp;different&nbsp;duties)&nbsp;separately&nbsp;or&nbsp;we&nbsp;maintain&nbsp;a&nbsp;single&lt;br&gt;&amp;gt;&amp;gt;&nbsp;main&nbsp;class&nbsp;which&nbsp;will&nbsp;start&nbsp;consumers&nbsp;as&nbsp;the&nbsp;messages&nbsp;come&nbsp;in.&lt;br&gt;&amp;gt;&amp;gt;&lt;br&gt;&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Have&nbsp;you&nbsp;read&nbsp;the&nbsp;API&nbsp;guide&nbsp;(&lt;a&nbsp;href=&quot;http://www.rabbitmq.com/api-guide.html&quot;&gt;http://www.rabbitmq.com/api-guide.html&lt;/a&gt;)&nbsp;for&nbsp;details&nbsp;about&nbsp;threading&nbsp;and&nbsp;using&nbsp;your&nbsp;own&nbsp;executor&nbsp;service?&nbsp;That&amp;#39;s&nbsp;probably&nbsp;a&nbsp;good&nbsp;place&nbsp;to&nbsp;start.&nbsp;The&nbsp;latter&nbsp;question&nbsp;(about&nbsp;choosing&nbsp;how&nbsp;to&nbsp;structure&nbsp;your&nbsp;code)&nbsp;is&nbsp;really&nbsp;something&nbsp;you&amp;#39;ll&nbsp;have&nbsp;to&nbsp;decide&nbsp;yourself,&nbsp;based&nbsp;on&nbsp;the&nbsp;responsibilities&nbsp;of&nbsp;each&nbsp;class&nbsp;and&nbsp;whether&nbsp;or&nbsp;not&nbsp;and&nbsp;to&nbsp;what&nbsp;extent&nbsp;separation&nbsp;makes&nbsp;sense&nbsp;in&nbsp;the&nbsp;design.&lt;br&gt;<br>
<br>
&amp;gt;&lt;br&gt;&amp;gt;&nbsp;Cheers,&lt;br&gt;&amp;gt;&nbsp;Tim&lt;br&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
