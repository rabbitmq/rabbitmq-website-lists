<tt>
Hi&nbsp;there,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I'm&nbsp;having&nbsp;an&nbsp;issues&nbsp;where&nbsp;*sometimes*&nbsp;messages&nbsp;that&nbsp;appear&nbsp;to&nbsp;be&nbsp;successfully&nbsp;pushed&nbsp;to&nbsp;RabbitMQ&nbsp;are&nbsp;not&nbsp;delivered&nbsp;to&nbsp;any&nbsp;subscribers.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&amp;nbsp;using&amp;nbsp;RabbitMQ&nbsp;Server&nbsp;2.4&nbsp;and&nbsp;the&nbsp;.NET&nbsp;client&nbsp;2.8.7.0.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;am&nbsp;using&nbsp;the&nbsp;default&nbsp;exchange&nbsp;(&quot;&quot;),&nbsp;which&nbsp;sounds&nbsp;adequate&nbsp;for&nbsp;our&nbsp;needs&nbsp;right&nbsp;now,&nbsp;but&nbsp;thought&nbsp;I'd&nbsp;point&nbsp;it&nbsp;out&nbsp;incase&nbsp;I'm&nbsp;not&nbsp;using&nbsp;it&nbsp;the&nbsp;way&nbsp;it&nbsp;was&nbsp;intended.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;the&nbsp;server&nbsp;I&nbsp;can&nbsp;see&nbsp;the&amp;nbsp;SubmitDeploymentToQueue()&nbsp;method&nbsp;always&nbsp;completes&nbsp;successfully,&nbsp;so&nbsp;it&nbsp;appears&nbsp;messages&nbsp;are&nbsp;&lt;i&gt;always&lt;/i&gt;&amp;nbsp;being&nbsp;submitted&nbsp;to&nbsp;RabbitMQ,&nbsp;but&nbsp;in&nbsp;the&amp;nbsp;Consume()&nbsp;method&nbsp;of&nbsp;the&nbsp;consumer,&nbsp;the&amp;nbsp;consumer.Queue.Dequeue()&nbsp;method&nbsp;&lt;i&gt;sometimes&lt;/i&gt;&amp;nbsp;does&nbsp;not&nbsp;return&nbsp;a&nbsp;message,&nbsp;so&nbsp;the&nbsp;next&nbsp;line&nbsp;(the&nbsp;console.writeline)&nbsp;is&nbsp;never&nbsp;called&nbsp;etc.&nbsp;and&nbsp;it&nbsp;will&amp;nbsp;just&amp;nbsp;sit&nbsp;there&nbsp;blocking.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;this&nbsp;situation&nbsp;where&nbsp;messages&nbsp;appear&nbsp;to&nbsp;be&nbsp;lost,&nbsp;restarting&nbsp;the&nbsp;consumers&nbsp;doesn't&nbsp;fix&nbsp;it,&nbsp;the&nbsp;messages&nbsp;are&nbsp;simply&nbsp;never&nbsp;delivered&nbsp;and&nbsp;seem&nbsp;to&nbsp;be&nbsp;lost&nbsp;forever.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;have&nbsp;attached&nbsp;the&nbsp;code&nbsp;below,&nbsp;inline,&nbsp;I&nbsp;hope&nbsp;this&nbsp;is&nbsp;OK.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&nbsp;size=&quot;4&quot;&gt;Server:&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;blockquote&gt;//&lt;br&gt;//&nbsp;Copyright&nbsp;(c)&nbsp;Appsecute&nbsp;2011-2012&nbsp;-&nbsp;ALL&nbsp;RIGHTS&nbsp;RESERVED.&lt;br&gt;//&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;System;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;RabbitMQ.Client;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;System.Threading;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Logging;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteServerFramework.Database;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Documents.Deployments;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Operations.Deployment;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Operations.Applications;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Operations.Notifications;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;RabbitMQ.Client.Exceptions;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;namespace&lt;/span&gt;&nbsp;AppsecuteDeploymentScheduler&lt;br&gt;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Periodically&nbsp;inspects&nbsp;the&nbsp;database&nbsp;and&nbsp;submits&nbsp;deployments&nbsp;to&nbsp;the&nbsp;queue&nbsp;once&nbsp;they&nbsp;have&nbsp;met&nbsp;the&nbsp;appropriate&nbsp;criteria.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;class&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;DeploymentScheduler&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;:&nbsp;&lt;/span&gt;IDisposable&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Rabbit&nbsp;MQ&nbsp;properties.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;IModel&lt;/span&gt;&nbsp;_channel;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;IConnection&lt;/span&gt;&nbsp;_connection;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;A&nbsp;wait&nbsp;handle&nbsp;that&nbsp;other&nbsp;threads&nbsp;can&nbsp;use&nbsp;to&nbsp;wait&nbsp;on&nbsp;the&nbsp;scheduler&nbsp;to&nbsp;finish&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ManualResetEvent&lt;/span&gt;&nbsp;SchedulerWaitHandle&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ManualResetEvent&lt;/span&gt;(&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;);&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;A&nbsp;logger&nbsp;for&nbsp;the&nbsp;scheduler&nbsp;to&nbsp;use.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;PlatformLogger&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;Logger&nbsp;=&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;PlatformLogger&lt;span&nbsp;class=&quot;s2&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;typeof&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;(&lt;/span&gt;DeploymentScheduler&lt;span&nbsp;class=&quot;s2&quot;&gt;));&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;The&nbsp;time&nbsp;in&nbsp;milliseconds&nbsp;the&nbsp;scheduler&nbsp;should&nbsp;sleep&nbsp;for&nbsp;between&nbsp;finishing&nbsp;work&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;and&nbsp;waking&nbsp;up&nbsp;to&nbsp;check/process&nbsp;new&nbsp;work.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;const&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;int&lt;/span&gt;&nbsp;SLEEP_MILLISECONDS&nbsp;=&nbsp;5000;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;A&nbsp;timer&nbsp;used&nbsp;to&nbsp;peridoically&nbsp;wake&nbsp;up&nbsp;and&nbsp;poll&nbsp;for&nbsp;deployments&nbsp;to&nbsp;queue.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Timer&lt;/span&gt;&nbsp;_pollDeploymentsTimer;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Creates&nbsp;a&nbsp;new&nbsp;deployment&nbsp;scheduler.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&nbsp;DeploymentScheduler()&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Starting&nbsp;scheduler&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;OpenConnection();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Opens&nbsp;the&nbsp;connection&nbsp;to&nbsp;RabbitMQ.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;OpenConnection()&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;connectionFactory&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ConnectionFactory&lt;/span&gt;&nbsp;{&nbsp;uri&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.GetAmqpConnectionUri()&nbsp;};&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;/span&gt;&quot;Opening&nbsp;RabbitMQ&nbsp;connection...&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;);&lt;/span&gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_connection&nbsp;=&nbsp;connectionFactory.CreateConnection();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(_connection.IsOpen)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Connection&nbsp;opened.&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_connection&nbsp;=&nbsp;connectionFactory.CreateConnection();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel&nbsp;=&nbsp;_connection.CreateModel();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel.QueueDeclare(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.DEPLOYMENT_QUEUE_NAME,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;true&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ThreadPool&lt;/span&gt;.QueueUserWorkItem(ProcessDeployments);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Scheduler&nbsp;started.&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Scheduler&nbsp;failed&nbsp;to&nbsp;start.&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;message)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;:&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Thread&lt;/span&gt;.CurrentThread.ManagedThreadId,&nbsp;message);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Schedules&nbsp;the&nbsp;scheduler&nbsp;to&nbsp;wake&nbsp;up&nbsp;at&nbsp;a&nbsp;later&nbsp;time&nbsp;to&nbsp;poll&nbsp;the&nbsp;database.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;Reschedule()&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Rescheduling&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(_pollDeploymentsTimer&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_pollDeploymentsTimer.Dispose();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_pollDeploymentsTimer&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Timer&lt;/span&gt;(ProcessDeployments,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;object&lt;/span&gt;(),&nbsp;SLEEP_MILLISECONDS,&nbsp;0);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Evaluates&nbsp;deployments&nbsp;and&nbsp;queues&nbsp;them&nbsp;to&nbsp;be&nbsp;deployed&nbsp;if&nbsp;appropriate.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;ProcessDeployments(&lt;span&nbsp;class=&quot;s1&quot;&gt;object&lt;/span&gt;&nbsp;state)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Processing&nbsp;deployments&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;deployments&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentDatabaseOperations&lt;/span&gt;.GetApplicationDeploymentsToQueue();&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;//&nbsp;If&nbsp;there&nbsp;is&nbsp;any&nbsp;work&nbsp;to&nbsp;do&nbsp;then&nbsp;do&nbsp;it,&nbsp;otherwise&nbsp;reschedule&nbsp;this&nbsp;worker&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(deployments.Count&nbsp;&amp;gt;&nbsp;0)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;foreach&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;deploymentData&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;in&lt;/span&gt;&nbsp;deployments)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;ProcessDeployment(deploymentData);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Scheduling&nbsp;completed&quot;&lt;/span&gt;);&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;//&nbsp;&lt;/span&gt;&lt;b&gt;TODO:&nbsp;If&nbsp;these&nbsp;workers&nbsp;are&nbsp;kept&nbsp;busy&nbsp;(i.e&nbsp;They're&nbsp;continuously&nbsp;working&nbsp;instead&nbsp;of&nbsp;sleeping/waking)&nbsp;there&nbsp;is&nbsp;a&nbsp;chance&nbsp;this&nbsp;recursive&nbsp;calling&nbsp;could&nbsp;exceed&nbsp;the&nbsp;stack&nbsp;size&lt;br&gt;&lt;/b&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;ProcessDeployments(&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Reschedule();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;e)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Caught&nbsp;exception&nbsp;processing&nbsp;deployments:&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;&lt;/span&gt;,&nbsp;e.Message));&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;LogException(&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;,&nbsp;e);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Reschedule();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Processes&nbsp;a&nbsp;deployment,&nbsp;updating&nbsp;the&nbsp;status,&nbsp;raising&nbsp;notifications&nbsp;and&nbsp;submitting&nbsp;to&nbsp;the&nbsp;deployment&nbsp;queue&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;as&nbsp;appropriate.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;param&nbsp;name=&quot;deploymentData&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;ProcessDeployment(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;deploymentData)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;MySqlLocking&lt;/span&gt;.TryRun(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;MySqlWrapper&lt;/span&gt;.PLATFORM_DATABASE_NAME,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;deployment-scheduler-&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;&lt;/span&gt;,&nbsp;deploymentData.Id),&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;TimeSpan&lt;/span&gt;(0,&nbsp;0,&nbsp;0,&nbsp;5),&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;api&nbsp;=&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;//&nbsp;If&nbsp;the&nbsp;deployment&nbsp;should&nbsp;now&nbsp;wait&nbsp;for&nbsp;manual&nbsp;start&nbsp;update&nbsp;the&nbsp;status&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(deploymentData.DeploymentStatus.Equals(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.DEPLOYMENT_STATUS_WAITING_FOR_SCHEDULED_TIME)&nbsp;&amp;amp;&amp;amp;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;deploymentData.IsManualStart)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;//&nbsp;Run&nbsp;in&nbsp;a&nbsp;transaction&nbsp;so&nbsp;that&nbsp;if&nbsp;raising&nbsp;notifications&nbsp;fails,&nbsp;the&nbsp;status&nbsp;update&nbsp;will&nbsp;be&nbsp;rolled&nbsp;back&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;MySqlWrapper&lt;/span&gt;.RunInNewTransaction(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;MySqlWrapper&lt;/span&gt;.PLATFORM_DATABASE_NAME,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;database&nbsp;=&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;//&nbsp;Update&nbsp;the&nbsp;status&nbsp;first,&nbsp;to&nbsp;effectivley&nbsp;reserve&nbsp;this&nbsp;deployment&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.UpdateDeploymentStatusAtomic(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;deploymentData.Id,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;deploymentData.DeploymentStatus,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;DEPLOYMENT_STATUS_WAITING_FOR_MANUAL_START);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;RaiseDeploymentWaitingOnManualStartNotification(deploymentData);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;});&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deployment&nbsp;with&nbsp;id&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;&nbsp;is&nbsp;now&nbsp;waiting&nbsp;on&nbsp;manual&nbsp;start.&quot;&lt;/span&gt;,&nbsp;deploymentData.Id));&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Info(&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deployment&nbsp;with&nbsp;id&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;&nbsp;is&nbsp;now&nbsp;waiting&nbsp;on&nbsp;manual&nbsp;start.&quot;&lt;/span&gt;,&nbsp;deploymentData.Id));&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;//&nbsp;Run&nbsp;in&nbsp;a&nbsp;transaction&nbsp;so&nbsp;that&nbsp;if&nbsp;submitting&nbsp;to&nbsp;queue&nbsp;fails,&nbsp;the&nbsp;status&nbsp;update&nbsp;will&nbsp;be&nbsp;rolled&nbsp;back&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;MySqlWrapper&lt;/span&gt;.RunInNewTransaction(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;MySqlWrapper&lt;/span&gt;.PLATFORM_DATABASE_NAME,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;database&nbsp;=&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;//&nbsp;Update&nbsp;the&nbsp;status&nbsp;first,&nbsp;to&nbsp;effectivley&nbsp;reserve&nbsp;this&nbsp;deployment&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.UpdateDeploymentStatusAtomic(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;deploymentData.Id,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;deploymentData.DeploymentStatus,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.DEPLOYMENT_STATUS_QUEUED_FOR_DEPLOYMENT);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s3&quot;&gt;//&nbsp;Submit&nbsp;the&nbsp;deployment&nbsp;to&nbsp;the&nbsp;queue&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;SubmitDeploymentToQueue(deploymentData);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;);&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;WriteLine(&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deployment&nbsp;with&nbsp;id&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;&nbsp;has&nbsp;been&nbsp;submitted&nbsp;to&nbsp;the&nbsp;deployment&nbsp;queue.&quot;&lt;/span&gt;,&nbsp;deploymentData.Id));&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Info(&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deployment&nbsp;with&nbsp;id&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;&nbsp;has&nbsp;been&nbsp;submitted&nbsp;to&nbsp;the&nbsp;deployment&nbsp;queue.&quot;&lt;/span&gt;,&nbsp;deploymentData.Id));&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;});&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;e)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;LogException(deploymentData,&nbsp;e);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Submits&nbsp;a&nbsp;deployment&nbsp;to&nbsp;the&nbsp;RabbitMQ&nbsp;message&nbsp;queue&nbsp;so&nbsp;that&nbsp;it&nbsp;will&nbsp;be&nbsp;processed&nbsp;by&nbsp;a&nbsp;background&nbsp;worker.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;param&nbsp;name=&quot;deploymentData&quot;&amp;gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;The&nbsp;deployment&nbsp;to&nbsp;queue.&lt;/span&gt;&amp;lt;/param&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;SubmitDeploymentToQueue(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;deploymentData)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;basicProperties&nbsp;=&nbsp;_channel.CreateBasicProperties();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;basicProperties.SetPersistent(&lt;span&nbsp;class=&quot;s1&quot;&gt;true&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel.BasicPublish(&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Empty,&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.DEPLOYMENT_QUEUE_NAME,&nbsp;basicProperties,&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;BitConverter&lt;/span&gt;.GetBytes(deploymentData.Id));&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;.WriteLine(&lt;/span&gt;&quot;Detected&nbsp;broken&nbsp;connection&nbsp;to&nbsp;RabbitMQ,&nbsp;restablishing...&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;);&lt;/span&gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Dispose();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;OpenConnection();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;throw&lt;/span&gt;;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Raises&nbsp;a&nbsp;notification&nbsp;for&nbsp;a&nbsp;deployment&nbsp;that&nbsp;is&nbsp;waiting&nbsp;on&nbsp;manual&nbsp;start.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;param&nbsp;name=&quot;applicationDeploymentData&quot;&amp;gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;The&nbsp;deployment&nbsp;that&nbsp;is&nbsp;waiting&nbsp;on&nbsp;manual&nbsp;start.&lt;/span&gt;&amp;lt;/param&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;RaiseDeploymentWaitingOnManualStartNotification(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;applicationDeploymentData)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;applicationData&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationOperations&lt;/span&gt;.GetApplication(applicationDeploymentData.ApplicationId);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;NotificationOperations&lt;/span&gt;.RaiseNotification(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.SubmitterLegalEntityId,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;NotificationCode&lt;/span&gt;.ApplicationDeploymentWaitingForManualStart,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;NotificationSeverity&lt;/span&gt;.Warning,&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;Deployment&nbsp;waiting&nbsp;on&nbsp;manual&nbsp;start&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;.Format(&lt;/span&gt;&quot;Deployment&nbsp;to&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&nbsp;scheduled&nbsp;for&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;&nbsp;is&nbsp;now&nbsp;waiting&nbsp;to&nbsp;be&nbsp;manually&nbsp;started.&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationData.DisplayName,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.ScheduledStartDate),&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.Id,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;true&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;span&nbsp;class=&quot;s3&quot;&gt;/*&nbsp;eat&nbsp;it*/&lt;/span&gt;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Logs&nbsp;an&nbsp;exception,&nbsp;including&nbsp;inner&nbsp;exceptions.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;internal&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;LogException(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;deploymentData,&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;exception,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;bool&lt;/span&gt;&nbsp;inner&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;innerMessage&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;&quot;&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;errorMessage;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(!inner)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(deploymentData&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;errorMessage&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;Error&nbsp;caught&nbsp;executing&nbsp;deployment&nbsp;with&nbsp;id&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&nbsp;for&nbsp;application&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;:&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;+&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;exception&nbsp;was:\r\n\t&lt;span&nbsp;class=&quot;s7&quot;&gt;{2}&lt;/span&gt;&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;+&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;stacktrace&nbsp;was:\r\n&lt;span&nbsp;class=&quot;s7&quot;&gt;{3}&lt;/span&gt;\r\n&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;deploymentData.Id,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;deploymentData.ApplicationId,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.Message,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.StackTrace);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;errorMessage&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Error&nbsp;caught&quot;&lt;/span&gt;&nbsp;+&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;exception&nbsp;was:\r\n\t&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;+&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;stacktrace&nbsp;was:\r\n&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;\r\n&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.Message,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.StackTrace);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;errorMessage&nbsp;=&nbsp;innerMessage&nbsp;+&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\nThe&nbsp;inner&nbsp;exception&nbsp;was:\r\n\t&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;+&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;inner&nbsp;stacktrace&nbsp;was:\r\n&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;\r\n&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.Message,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.StackTrace);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(exception.InnerException&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;LogException(deploymentData,&nbsp;exception.InnerException,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;true&lt;/span&gt;,&nbsp;errorMessage);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Error(errorMessage);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;span&nbsp;class=&quot;s3&quot;&gt;/*&nbsp;eat&nbsp;it&nbsp;*/&lt;/span&gt;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Disposes&nbsp;of&nbsp;the&nbsp;scheduler&nbsp;and&nbsp;frees&nbsp;up&nbsp;resources.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;Dispose()&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(_channel&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel.Abort();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(_connection&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_connection.Close();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;(&lt;/span&gt;AlreadyClosedException&lt;span&nbsp;class=&quot;s2&quot;&gt;)&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s3&quot;&gt;/*&nbsp;Eat&nbsp;it&nbsp;*/&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;}&lt;/blockquote&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font&nbsp;size=&quot;4&quot;&gt;Consumer:&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;blockquote&gt;//&lt;br&gt;//&nbsp;Copyright&nbsp;(c)&nbsp;Appsecute&nbsp;2011-2012&nbsp;-&nbsp;ALL&nbsp;RIGHTS&nbsp;RESERVED.&lt;br&gt;//&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;System;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;System.IO;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;RabbitMQ.Client;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Logging;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteServerFramework.Exceptions;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Documents.Deployments;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Operations.Deployment;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Operations.Applications;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;AppsecuteKernel.Operations.Notifications;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;RabbitMQ.Client.Events;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;using&lt;/span&gt;&nbsp;RabbitMQ.Client.Exceptions;&lt;br&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;namespace&lt;/span&gt;&nbsp;AppsecuteDeploymentWorker&lt;br&gt;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;A&nbsp;deployment&nbsp;worker&nbsp;that&nbsp;receives&nbsp;deployment&nbsp;jobs&nbsp;from&nbsp;RabbitMQ.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;class&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;DeploymentWorker&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;:&nbsp;&lt;/span&gt;IDisposable&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Rabbit&nbsp;MQ&nbsp;properties&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;IModel&lt;/span&gt;&nbsp;_channel;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;IConnection&lt;/span&gt;&nbsp;_connection;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;A&nbsp;logger&nbsp;for&nbsp;the&nbsp;deployment&nbsp;worker&nbsp;to&nbsp;use.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;PlatformLogger&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;Logger&nbsp;=&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;PlatformLogger&lt;span&nbsp;class=&quot;s2&quot;&gt;(&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;typeof&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;(&lt;/span&gt;DeploymentWorker&lt;span&nbsp;class=&quot;s2&quot;&gt;));&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Creates&nbsp;a&nbsp;new&nbsp;deployment&nbsp;worker.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&nbsp;DeploymentWorker()&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Starting&nbsp;worker&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;OpenConnection();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Consume();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Opens&nbsp;the&nbsp;connection&nbsp;to&nbsp;RabbitMQ&nbsp;and&nbsp;sets&nbsp;up&nbsp;the&nbsp;channel.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;OpenConnection()&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;connectionFactory&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ConnectionFactory&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;uri&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.GetAmqpConnectionUri(),&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;RequestedHeartbeat&nbsp;=&nbsp;10&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;};&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;.WriteLine(&lt;/span&gt;&quot;Opening&nbsp;RabbitMQ&nbsp;connection...&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;);&lt;/span&gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_connection&nbsp;=&nbsp;connectionFactory.CreateConnection();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(_connection.IsOpen)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Connection&nbsp;opened.&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel&nbsp;=&nbsp;_connection.CreateModel();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel.BasicQos(0,&nbsp;1,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel.QueueDeclare(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.DEPLOYMENT_QUEUE_NAME,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;true&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deployment&nbsp;worker&nbsp;started.&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;.WriteLine(&lt;/span&gt;&quot;Deployment&nbsp;worker&nbsp;failed&nbsp;to&nbsp;start.&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;);&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Starts&nbsp;the&nbsp;synchronus&nbsp;consumption&nbsp;of&nbsp;queued&nbsp;deployments.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;This&nbsp;method&nbsp;will&nbsp;only&nbsp;return&nbsp;if&nbsp;a&nbsp;critical&nbsp;exception&nbsp;occurs.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;Consume()&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;consumer&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;QueueingBasicConsumer&lt;/span&gt;(_channel);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel.BasicConsume(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.DEPLOYMENT_QUEUE_NAME,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;,&nbsp;consumer);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;while&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s1&quot;&gt;true&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Waiting&nbsp;for&nbsp;next&nbsp;job...&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;messageEvent&nbsp;=&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;BasicDeliverEventArgs&lt;/span&gt;)consumer.Queue.Dequeue();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Processing&nbsp;new&nbsp;job...&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;applicationDeploymentId&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;BitConverter&lt;/span&gt;.ToInt64(messageEvent.Body,&nbsp;0);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;applicationDeployment&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentDatabaseOperations&lt;/span&gt;.GetApplicationDeployment(applicationDeploymentId);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;DoApplicationDeployment(applicationDeployment);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel.BasicAck(messageEvent.DeliveryTag,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;e)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel.BasicNack(messageEvent.DeliveryTag,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;LogException(&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;,&nbsp;e);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;EndOfStreamException&lt;/span&gt;&nbsp;e)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;.WriteLine(&lt;/span&gt;&quot;Detected&nbsp;broken&nbsp;connection&nbsp;to&nbsp;RabbitMQ,&nbsp;restablishing...&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;);&lt;/span&gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;LogException(&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;,&nbsp;e);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Dispose();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;OpenConnection();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Consume();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;e)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;LogException(&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;,&nbsp;e);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;break&lt;/span&gt;;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Executes&nbsp;an&nbsp;application&nbsp;deployment&nbsp;synchronusly.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;param&nbsp;name=&quot;applicationDeploymentData&quot;&amp;gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;The&nbsp;application&nbsp;deployment&nbsp;to&nbsp;execute.&lt;/span&gt;&amp;lt;/param&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;DoApplicationDeployment(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;applicationDeploymentData)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Running&nbsp;deployment&nbsp;with&nbsp;id&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;...&quot;&lt;/span&gt;,&nbsp;applicationDeploymentData.Id);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Info(&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Running&nbsp;deployment&nbsp;with&nbsp;id&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&lt;span&nbsp;class=&quot;s6&quot;&gt;...&quot;&lt;/span&gt;,&nbsp;applicationDeploymentData.Id));&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.SetActualDeploymentStartDate(applicationDeploymentData.Id,&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;DateTime&lt;/span&gt;.UtcNow);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;ConfirmDeploymentShouldStart(applicationDeploymentData);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.UpdateDeploymentStatusAtomic(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.Id,&amp;nbsp;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.DeploymentStatus,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.DEPLOYMENT_STATUS_DEPLOYING);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;packagePath&nbsp;=&nbsp;DownloadApplicationDeploymentPackage(applicationDeploymentData);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;stagingDirectory&nbsp;=&nbsp;StageApplicationDeploymentPackage(applicationDeploymentData,&nbsp;packagePath);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;PushApplicationDeploymentPackage(applicationDeploymentData,&nbsp;stagingDirectory);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;CleanUpApplicationDeploymentPackage(packagePath,&nbsp;stagingDirectory);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.UpdateDeploymentStatusAtomic(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.Id,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.DEPLOYMENT_STATUS_DEPLOYING,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.DEPLOYMENT_STATUS_DEPLOYMENT_SUCCESSFUL);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.SetActualDeploymentEndDate(applicationDeploymentData.Id,&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;DateTime&lt;/span&gt;.UtcNow);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;RaiseDeploymentSuceededNotification(applicationDeploymentData);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deployment&nbsp;succeeded.&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Info(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deployment&nbsp;succeeded.&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;e)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;LogException(applicationDeploymentData,&nbsp;e);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.MarkDeploymentAsFailed(applicationDeploymentData.Id,&nbsp;e.Message);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentOperations&lt;/span&gt;.SetActualDeploymentEndDate(applicationDeploymentData.Id,&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;DateTime&lt;/span&gt;.UtcNow);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;RaiseDeploymentFailedNotification(applicationDeploymentData,&nbsp;e.Message);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deployment&nbsp;failed.&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;throw&lt;/span&gt;;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Confirms&nbsp;that&nbsp;a&nbsp;deployment&nbsp;should&nbsp;start&nbsp;based&nbsp;on&nbsp;the&nbsp;current&nbsp;time&nbsp;and&nbsp;available&nbsp;deployment&nbsp;window.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;param&nbsp;name=&quot;deploymentData&quot;&amp;gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;The&nbsp;deployment&nbsp;to&nbsp;check.&lt;/span&gt;&amp;lt;/param&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;ConfirmDeploymentShouldStart(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;deploymentData)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;((&lt;span&nbsp;class=&quot;s5&quot;&gt;DateTime&lt;/span&gt;.UtcNow&nbsp;-&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;TimeSpan&lt;/span&gt;(0,&nbsp;5,&nbsp;0))&nbsp;&amp;gt;&nbsp;deploymentData.ScheduledEndDate)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;throw&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;AppSnapException&lt;/span&gt;(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;Unable&nbsp;to&nbsp;start&nbsp;as&nbsp;deployment&nbsp;window&nbsp;has&nbsp;passed&nbsp;or&nbsp;it&nbsp;was&nbsp;determined&nbsp;that&nbsp;deployment&nbsp;wouldn't&nbsp;complete&nbsp;within&nbsp;the&nbsp;window.&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;));&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Raises&nbsp;a&nbsp;notification&nbsp;for&nbsp;a&nbsp;failed&nbsp;deployment.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;param&nbsp;name=&quot;applicationDeploymentData&quot;&amp;gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;The&nbsp;deployment&nbsp;that&nbsp;failed.&lt;/span&gt;&amp;lt;/param&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;param&nbsp;name=&quot;failureReason&quot;&amp;gt;&lt;/span&gt;A&nbsp;human&nbsp;readable&nbsp;reason&nbsp;of&nbsp;why&nbsp;the&nbsp;deploy&nbsp;failed.&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;/param&amp;gt;&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;RaiseDeploymentFailedNotification(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;applicationDeploymentData,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;failureReason)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;applicationData&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationOperations&lt;/span&gt;.GetApplication(applicationDeploymentData.ApplicationId);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;NotificationOperations&lt;/span&gt;.RaiseNotification(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationData.OwnerLegalEntityId,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;NotificationCode&lt;/span&gt;.ApplicationDeploymentFailed,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;NotificationSeverity&lt;/span&gt;.Critical,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deploy&nbsp;failed&quot;&lt;/span&gt;,&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;.Format(&lt;/span&gt;&quot;Deployment&nbsp;to&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&nbsp;scheduled&nbsp;for&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;&nbsp;failed&nbsp;with&nbsp;error&nbsp;\&quot;&lt;span&nbsp;class=&quot;s7&quot;&gt;{2}&lt;/span&gt;\&quot;.&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationData.DisplayName,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.ScheduledStartDate,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;failureReason),&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.Id,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;true&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;span&nbsp;class=&quot;s3&quot;&gt;/*&nbsp;eat&nbsp;it&nbsp;*/&lt;/span&gt;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Raises&nbsp;a&nbsp;notification&nbsp;for&nbsp;a&nbsp;successful&nbsp;deployment.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;param&nbsp;name=&quot;applicationDeploymentData&quot;&amp;gt;&lt;span&nbsp;class=&quot;s3&quot;&gt;The&nbsp;deployment&nbsp;that&nbsp;succeeded.&lt;/span&gt;&amp;lt;/param&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;RaiseDeploymentSuceededNotification(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;applicationDeploymentData)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;applicationData&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationOperations&lt;/span&gt;.GetApplication(applicationDeploymentData.ApplicationId);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;NotificationOperations&lt;/span&gt;.RaiseNotification(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationData.OwnerLegalEntityId,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;NotificationCode&lt;/span&gt;.ApplicationDeploymentFailed,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;NotificationSeverity&lt;/span&gt;.Info,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Deploy&nbsp;succeeded&quot;&lt;/span&gt;,&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;.Format(&lt;/span&gt;&quot;Deployment&nbsp;to&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&nbsp;scheduled&nbsp;for&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;&nbsp;completed&nbsp;successfully.&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationData.DisplayName,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.ScheduledStartDate),&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;applicationDeploymentData.Id,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;true&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;span&nbsp;class=&quot;s3&quot;&gt;/*&nbsp;eat&nbsp;it&nbsp;*/&lt;/span&gt;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Downloads&nbsp;and&nbsp;verifies&nbsp;an&nbsp;application&nbsp;deployment&nbsp;package&nbsp;to&nbsp;a&nbsp;local&nbsp;directory.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;param&nbsp;name=&quot;applicationDeploymentData&quot;&amp;gt;&amp;lt;/param&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;returns&amp;gt;&lt;/span&gt;The&nbsp;full&nbsp;path&nbsp;to&nbsp;the&nbsp;local&nbsp;deployment&nbsp;package&nbsp;once&nbsp;downloaded.&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;/returns&amp;gt;&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;DownloadApplicationDeploymentPackage(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;applicationDeploymentData)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Downloading...&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;downloadedPackagePath&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;DeploymentPackageDownloadClient&lt;/span&gt;.DownloadDeploymentPackage(&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Uri&lt;/span&gt;(applicationDeploymentData.DeploymentPackageDownloadUrl));&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;computedHash&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;DeploymentFileUtils&lt;/span&gt;.ComputeDeploymentPackageHash(downloadedPackagePath);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;(applicationDeploymentData.DeploymentPackageHash&nbsp;==&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;&nbsp;||&nbsp;computedHash.Equals(applicationDeploymentData.DeploymentPackageHash))&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;return&lt;/span&gt;&nbsp;downloadedPackagePath;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;throw&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;AppSnapInvalidDataException&lt;span&nbsp;class=&quot;s2&quot;&gt;(&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;Integrity&nbsp;check&nbsp;of&nbsp;deployment&nbsp;package&nbsp;failed.&nbsp;MD5&nbsp;hashes&nbsp;do&nbsp;not&nbsp;match.&nbsp;Deployment&nbsp;package&nbsp;possibly&nbsp;corrupt&nbsp;or&nbsp;incomplete.&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;);&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;e)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;CleanUpApplicationDeploymentPackage(downloadedPackagePath,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;);&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;throw&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s5&quot;&gt;AppSnapException&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;(&lt;/span&gt;&quot;Failed&nbsp;to&nbsp;download&nbsp;deployment&nbsp;package.&nbsp;Fatal&nbsp;error.&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&nbsp;e);&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Extracts&nbsp;a&nbsp;local&nbsp;deployment&nbsp;package&nbsp;to&nbsp;a&nbsp;temp&nbsp;directory.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;returns&amp;gt;&lt;/span&gt;The&nbsp;full&nbsp;path&nbsp;to&nbsp;the&nbsp;directory&nbsp;the&nbsp;deployment&nbsp;package&nbsp;was&nbsp;extracted&nbsp;to.&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;/returns&amp;gt;&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;StageApplicationDeploymentPackage(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;applicationDeploymentData,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;downloadedPackagePath)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Staging...&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Info(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Staging...&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;return&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;DeploymentFileUtils&lt;/span&gt;.ExtractDeploymentPackage(downloadedPackagePath);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;e)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;CleanUpApplicationDeploymentPackage(downloadedPackagePath,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;);&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;throw&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;new&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s5&quot;&gt;AppSnapException&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;(&lt;/span&gt;&quot;Failed&nbsp;to&nbsp;stage&nbsp;deployment.&nbsp;Fatal&nbsp;error.&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&nbsp;e);&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Pushes&nbsp;an&nbsp;application&nbsp;deployment&nbsp;package&nbsp;to&nbsp;the&nbsp;cloud.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;PushApplicationDeploymentPackage(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;applicationDeploymentData,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;stagingPath)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Pushing...&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Info(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Pushing...&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;var&lt;/span&gt;&nbsp;applicationData&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationOperations&lt;/span&gt;.GetApplication(applicationDeploymentData.ApplicationId);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;DeploymentPusher&lt;/span&gt;.UploadApplication(applicationData.CloudLoginId,&nbsp;applicationData,&nbsp;stagingPath);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;CleanUpApplicationDeploymentPackage(&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;,&nbsp;stagingPath);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;throw&lt;/span&gt;;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Cleans&nbsp;up&nbsp;all&nbsp;temp&nbsp;files&nbsp;from&nbsp;an&nbsp;application&nbsp;deployment.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;param&nbsp;name=&quot;downloadPackagePath&quot;&amp;gt;&lt;/span&gt;The&nbsp;full&nbsp;path&nbsp;to&nbsp;the&nbsp;downloaded&nbsp;deployment&nbsp;package.&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;/param&amp;gt;&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;param&nbsp;name=&quot;stagingPath&quot;&amp;gt;&lt;/span&gt;The&nbsp;full&nbsp;path&nbsp;to&nbsp;the&nbsp;staging&nbsp;directory&nbsp;that&nbsp;contains&nbsp;the&nbsp;extracted&nbsp;deployment&nbsp;package.&lt;span&nbsp;class=&quot;s4&quot;&gt;&amp;lt;/param&amp;gt;&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;private&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;CleanUpApplicationDeploymentPackage(&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;downloadPackagePath,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;stagingPath)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Console&lt;/span&gt;.WriteLine(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Cleaning&nbsp;up...&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Info(&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Cleaning&nbsp;up...&quot;&lt;/span&gt;);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(!&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.IsNullOrWhiteSpace(downloadPackagePath))&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;DeploymentFileUtils&lt;/span&gt;.DeleteFile(downloadPackagePath);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(!&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.IsNullOrWhiteSpace(stagingPath))&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;DeploymentFileUtils&lt;/span&gt;.DeleteDirectory(stagingPath);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;e)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Error(&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;.Format(&lt;/span&gt;&quot;Failed&nbsp;to&nbsp;clean&nbsp;up&nbsp;deployment&nbsp;at&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&nbsp;and&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;.&nbsp;Error&nbsp;was:&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{2}&lt;/span&gt;&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;downloadPackagePath,&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;stagingPath,&lt;br&gt;&amp;nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;e.Message));&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Logs&nbsp;an&nbsp;exception,&nbsp;including&nbsp;inner&nbsp;exceptions.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;internal&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;LogException(&lt;span&nbsp;class=&quot;s5&quot;&gt;ApplicationDeploymentData&lt;/span&gt;&nbsp;deploymentData,&nbsp;&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;&nbsp;exception,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;bool&lt;/span&gt;&nbsp;inner&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;false&lt;/span&gt;,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;innerMessage&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;&quot;&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;&nbsp;errorMessage;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(!inner)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(deploymentData&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;errorMessage&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;Error&nbsp;caught&nbsp;executing&nbsp;deployment&nbsp;with&nbsp;id&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&nbsp;for&nbsp;application&nbsp;&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;:&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;+&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;exception&nbsp;was:\r\n\t&lt;span&nbsp;class=&quot;s7&quot;&gt;{2}&lt;/span&gt;&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;+&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;stacktrace&nbsp;was:\r\n&lt;span&nbsp;class=&quot;s7&quot;&gt;{3}&lt;/span&gt;\r\n&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;deploymentData.Id,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;deploymentData.ApplicationId,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.Message,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.StackTrace);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;errorMessage&nbsp;=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s6&quot;&gt;&quot;Error&nbsp;caught&quot;&lt;/span&gt;&nbsp;+&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;exception&nbsp;was:\r\n\t&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;+&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;stacktrace&nbsp;was:\r\n&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;\r\n&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.Message,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.StackTrace);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;errorMessage&nbsp;=&nbsp;innerMessage&nbsp;+&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;string&lt;/span&gt;.Format(&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\nThe&nbsp;inner&nbsp;exception&nbsp;was:\r\n\t&lt;span&nbsp;class=&quot;s7&quot;&gt;{0}&lt;/span&gt;&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;+&lt;br&gt;&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&quot;\r\n\r\nThe&nbsp;inner&nbsp;stacktrace&nbsp;was:\r\n&lt;span&nbsp;class=&quot;s7&quot;&gt;{1}&lt;/span&gt;\r\n&quot;&lt;span&nbsp;class=&quot;s2&quot;&gt;,&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.Message,&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;exception.StackTrace);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(exception.InnerException&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;LogException(deploymentData,&nbsp;exception.InnerException,&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;true&lt;/span&gt;,&nbsp;errorMessage);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;else&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;Logger.Error(errorMessage);&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&nbsp;(&lt;span&nbsp;class=&quot;s5&quot;&gt;Exception&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;span&nbsp;class=&quot;s3&quot;&gt;/*&nbsp;eat&nbsp;it&nbsp;*/&lt;/span&gt;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;summary&amp;gt;&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s4&quot;&gt;///&lt;/span&gt;&nbsp;Disposes&nbsp;of&nbsp;the&nbsp;deployment&nbsp;worker&nbsp;and&nbsp;frees&nbsp;up&nbsp;resources.&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;///&lt;span&nbsp;class=&quot;s3&quot;&gt;&nbsp;&lt;/span&gt;&amp;lt;/summary&amp;gt;&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;public&lt;/span&gt;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;void&lt;/span&gt;&nbsp;Dispose()&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(_channel&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_channel.Abort();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;if&lt;/span&gt;&nbsp;(_connection&nbsp;!=&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;null&lt;/span&gt;)&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s1&quot;&gt;try&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;_connection.Close();&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;/span&gt;&lt;span&nbsp;class=&quot;s1&quot;&gt;catch&lt;/span&gt;&lt;span&nbsp;class=&quot;s2&quot;&gt;&nbsp;(&lt;/span&gt;AlreadyClosedException&lt;span&nbsp;class=&quot;s2&quot;&gt;)&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&lt;span&nbsp;class=&quot;s3&quot;&gt;/*&nbsp;Eat&nbsp;it&nbsp;*/&lt;br&gt;&lt;/span&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;}&lt;br&gt;}&lt;/blockquote&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;/div&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

</tt>
