<tt>
&lt;font&nbsp;face=&quot;trebuchet&nbsp;ms,sans-serif&quot;&gt;David,&nbsp;I&nbsp;somewhat&nbsp;agree&nbsp;with&nbsp;you,&nbsp;lack&nbsp;of&nbsp;documentation&nbsp;about&nbsp;operational&nbsp;aspects&nbsp;of&nbsp;broker&nbsp;behavior&nbsp;is&nbsp;something&nbsp;I&nbsp;have&nbsp;been&nbsp;missing&nbsp;as&nbsp;well.&nbsp;That&nbsp;said&nbsp;it&amp;#39;s&nbsp;usually&nbsp;not&nbsp;so&nbsp;difficult&nbsp;to&nbsp;overcome&nbsp;as&nbsp;it&amp;#39;s&nbsp;fortunately&nbsp;quite&nbsp;easy&nbsp;to&nbsp;explore&nbsp;the&nbsp;behavior&nbsp;of&nbsp;the&nbsp;broker&nbsp;under&nbsp;certain&nbsp;circumstances,&nbsp;and&nbsp;it&nbsp;may&nbsp;take&nbsp;less&nbsp;than&nbsp;waiting&nbsp;for&nbsp;a&nbsp;reply&nbsp;on&nbsp;the&nbsp;mailing&nbsp;list!&lt;br&gt;<br>
<br>
&lt;/font&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sat,&nbsp;Feb&nbsp;25,&nbsp;2012&nbsp;at&nbsp;03:54,&nbsp;Liuzhuofu&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:liuzhuofu@huawei.com&quot;&gt;liuzhuofu@huawei.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
<br>
<br>
<br>
<br>
<br>
<br>
&lt;div&gt;<br>
&lt;div&nbsp;style=&quot;direction:ltr;font-size:10pt;font-family:Tahoma&quot;&gt;Hi&nbsp;all:<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;I&nbsp;have&nbsp;met&nbsp;the&nbsp;problem&nbsp;too.&nbsp;I&nbsp;know&nbsp;how&nbsp;to&nbsp;change&nbsp;my&nbsp;client&nbsp;code&nbsp;to&nbsp;fix&nbsp;it.&amp;nbsp;&lt;/div&gt;<br>
&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;And&nbsp;I&nbsp;have&nbsp;a&nbsp;question,&nbsp;problem&nbsp;or&nbsp;skill&nbsp;like&nbsp;this&nbsp;can&nbsp;only&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;mail-list,&nbsp;but&nbsp;there&nbsp;is&nbsp;no&nbsp;document&amp;nbsp;describe&nbsp;them&amp;nbsp;full-scale.&nbsp;In&nbsp;my&nbsp;opinion,&nbsp;this&nbsp;is&nbsp;a&nbsp;big&nbsp;&amp;nbsp;difficulty&nbsp;for&nbsp;all&nbsp;the&nbsp;developers&nbsp;on&nbsp;Rabbit-MQ.&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>
&lt;div&gt;Regards,&lt;/div&gt;<br>
&lt;div&gt;David&lt;br&gt;<br>
&lt;div&nbsp;style=&quot;font-size:16px;font-family:Times&nbsp;New&nbsp;Roman&quot;&gt;<br>
&lt;hr&gt;<br>
&lt;div&nbsp;style=&quot;direction:ltr&quot;&gt;&lt;font&nbsp;color=&quot;#000000&quot;&nbsp;face=&quot;Tahoma&quot;&gt;&lt;b&gt;发件人:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss-bounces@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss-bounces@lists.rabbitmq.com&lt;/a&gt;&nbsp;[&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss-bounces@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss-bounces@lists.rabbitmq.com&lt;/a&gt;]&nbsp;代表&nbsp;Simone&nbsp;Busoli&nbsp;[&lt;a&nbsp;href=&quot;mailto:simone.busoli@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simone.busoli@gmail.com&lt;/a&gt;]&lt;br&gt;<br>
<br>
<br>
&lt;b&gt;发送时间:&lt;/b&gt;&nbsp;2012年2月22日&nbsp;5:18&lt;br&gt;<br>
&lt;b&gt;到:&lt;/b&gt;&nbsp;Steve&nbsp;Powell&lt;br&gt;<br>
&lt;b&gt;Cc:&lt;/b&gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;b&gt;主题:&lt;/b&gt;&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;Passive&nbsp;queue&nbsp;declaration&nbsp;and&nbsp;channel&nbsp;closure&lt;br&gt;<br>
&lt;/font&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
&lt;div&gt;&lt;/div&gt;<br>
&lt;div&gt;<br>
&lt;p&gt;Thanks&nbsp;Steve,&nbsp;that&amp;#39;s&nbsp;pretty&nbsp;much&nbsp;what&nbsp;Simon&nbsp;had&nbsp;already&nbsp;clarified,&nbsp;and&nbsp;I&nbsp;agreed&nbsp;that&nbsp;changing&nbsp;this&nbsp;behavior&nbsp;is&nbsp;not&nbsp;practical.&lt;/p&gt;<br>
&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Feb&nbsp;21,&nbsp;2012&nbsp;2:24&nbsp;PM,&nbsp;&amp;quot;Steve&nbsp;Powell&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:steve@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;steve@rabbitmq.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&nbsp;type=&quot;attribution&quot;&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Simone,&lt;br&gt;<br>
&lt;br&gt;<br>
Replies&nbsp;in-line&nbsp;below..&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;don&amp;#39;t&nbsp;think&nbsp;this&nbsp;is&nbsp;likely&nbsp;to&nbsp;change&nbsp;in&nbsp;the&nbsp;near&nbsp;future,&nbsp;since&nbsp;it&lt;br&gt;<br>
would&nbsp;be&nbsp;disruptive&nbsp;to&nbsp;most&nbsp;clients&nbsp;that&nbsp;use&nbsp;this.&lt;br&gt;<br>
&lt;br&gt;<br>
Steve&nbsp;Powell&nbsp;&amp;nbsp;(a&nbsp;happy&nbsp;bunny)&lt;br&gt;<br>
----------some&nbsp;more&nbsp;definitions&nbsp;from&nbsp;the&nbsp;SPD----------&lt;br&gt;<br>
vermin&nbsp;(v.)&nbsp;Treating&nbsp;the&nbsp;dachshund&nbsp;for&nbsp;roundworm.&lt;br&gt;<br>
chinchilla&nbsp;(n.)&nbsp;Cooling&nbsp;device&nbsp;for&nbsp;the&nbsp;lower&nbsp;jaw.&lt;br&gt;<br>
socialcast&nbsp;(n.)&nbsp;Someone&nbsp;to&nbsp;whom&nbsp;everyone&nbsp;is&nbsp;speaking&nbsp;but&nbsp;nobody&nbsp;likes.&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;16&nbsp;Feb&nbsp;2012,&nbsp;at&nbsp;17:10,&nbsp;Busoli,&nbsp;Simone&nbsp;wrote:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;Without&nbsp;relying&nbsp;on&nbsp;the&nbsp;management&nbsp;plugin&nbsp;I&nbsp;think&nbsp;the&nbsp;only&nbsp;way&nbsp;to&nbsp;do&nbsp;that&nbsp;is&nbsp;to&lt;br&gt;<br>
&amp;gt;&nbsp;declare&nbsp;the&nbsp;queue&nbsp;as&nbsp;passive.&nbsp;At&nbsp;least&nbsp;with&nbsp;the&nbsp;.NET&nbsp;client&nbsp;and&nbsp;apparently&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;Java&nbsp;client&nbsp;too,&nbsp;when&nbsp;the&nbsp;queue&nbsp;does&nbsp;not&nbsp;exist,&nbsp;besides&nbsp;throwing&nbsp;an&nbsp;exception,&lt;br&gt;<br>
&amp;gt;&nbsp;the&nbsp;channel&nbsp;is&nbsp;closed&nbsp;as&nbsp;well.&nbsp;From&nbsp;the&nbsp;spec:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;If&nbsp;set,&nbsp;the&nbsp;server&nbsp;will&nbsp;reply&nbsp;with&nbsp;Declare-Ok&nbsp;if&nbsp;the&nbsp;queue&nbsp;already&nbsp;exists&nbsp;with&lt;br&gt;<br>
&amp;gt;&nbsp;the&nbsp;same&nbsp;name,&nbsp;and&nbsp;raise&nbsp;an&nbsp;error&nbsp;if&nbsp;not.&nbsp;The&nbsp;client&nbsp;can&nbsp;use&nbsp;this&nbsp;to&nbsp;check&lt;br&gt;<br>
&amp;gt;&nbsp;whether&nbsp;a&nbsp;queue&nbsp;exists&nbsp;without&nbsp;modifying&nbsp;the&nbsp;server&nbsp;state.&lt;br&gt;<br>
&lt;br&gt;<br>
The&nbsp;spec&nbsp;goes&nbsp;on&nbsp;to&nbsp;say:&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;nbsp;The&nbsp;client&nbsp;MAY&nbsp;ask&nbsp;the&nbsp;server&nbsp;to&nbsp;assert&nbsp;that&nbsp;a&nbsp;queue&nbsp;exists&nbsp;without&nbsp;creating&lt;br&gt;<br>
&amp;nbsp;the&nbsp;queue&nbsp;if&nbsp;not.&nbsp;If&nbsp;the&nbsp;queue&nbsp;does&nbsp;not&nbsp;exist,&nbsp;the&nbsp;server&nbsp;treats&nbsp;this&nbsp;as&nbsp;a&lt;br&gt;<br>
&amp;nbsp;failure.&nbsp;Error&nbsp;code:&nbsp;not-found&lt;br&gt;<br>
&lt;br&gt;<br>
&amp;gt;&nbsp;There&nbsp;is&nbsp;no&nbsp;mention&nbsp;of&nbsp;channel&nbsp;closure,&nbsp;while&nbsp;the&nbsp;last&nbsp;sentence&nbsp;implies&nbsp;that&lt;br&gt;<br>
&amp;gt;&nbsp;using&nbsp;the&nbsp;passive&nbsp;bit&nbsp;is&nbsp;indeed&nbsp;a&nbsp;way&nbsp;for&nbsp;a&nbsp;client&nbsp;to&nbsp;check&nbsp;queue&nbsp;existence,&nbsp;so&lt;br&gt;<br>
&amp;gt;&nbsp;closing&nbsp;the&nbsp;channel&nbsp;when&nbsp;it&nbsp;doesn&amp;rsquo;t&nbsp;is&nbsp;a&nbsp;bit&nbsp;unexpected.&nbsp;That&nbsp;said,&nbsp;it&amp;rsquo;s&nbsp;not&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;big&nbsp;deal&nbsp;to&nbsp;recreate&nbsp;the&nbsp;channel&nbsp;in&nbsp;such&nbsp;cases,&nbsp;but&nbsp;I&amp;rsquo;d&nbsp;appreciate&nbsp;your&nbsp;opinion.&lt;br&gt;<br>
&amp;gt;&nbsp;Any&nbsp;chance&nbsp;this&nbsp;behavior&nbsp;can&nbsp;be&nbsp;changed&nbsp;in&nbsp;the&nbsp;client&nbsp;libraries?&lt;br&gt;<br>
&lt;br&gt;<br>
This&nbsp;is&nbsp;the&nbsp;mention&nbsp;of&nbsp;channel-closure&nbsp;--&nbsp;an&nbsp;&amp;#39;error&amp;#39;&nbsp;raised&nbsp;on&nbsp;the&nbsp;channel&nbsp;will&lt;br&gt;<br>
close&nbsp;it.&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
&lt;/div&gt;<br>
<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
