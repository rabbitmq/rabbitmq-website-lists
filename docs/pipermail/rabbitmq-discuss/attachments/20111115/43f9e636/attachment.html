<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;http-equiv=&quot;content-type&quot;&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;pre&gt;&amp;gt;If&nbsp;you&nbsp;need&nbsp;to&nbsp;hear&nbsp;about&nbsp;previous&nbsp;messages,&nbsp;you&nbsp;should<br>
&amp;gt;create&nbsp;queue&nbsp;beforehand.<br>
<br>
Done&nbsp;but&nbsp;with&nbsp;issues&nbsp;as&nbsp;my&nbsp;problem&nbsp;lies&nbsp;there:<br>
&lt;i&gt;<br>
&lt;/i&gt;&amp;gt;A&nbsp;queue&nbsp;is&nbsp;identified&nbsp;by&nbsp;a&nbsp;name.&nbsp;The&nbsp;same&nbsp;name=&nbsp;the&nbsp;same<br>
&amp;gt;queue.&nbsp;You&nbsp;can&nbsp;bind&nbsp;multiple&nbsp;exchanges&nbsp;to&nbsp;a&nbsp;queue&nbsp;though,<br>
&amp;gt;and&nbsp;receive&nbsp;data&nbsp;from&nbsp;multiple&nbsp;exchanges&nbsp;on&nbsp;a&nbsp;single&nbsp;queue.<br>
<br>
I&nbsp;need&nbsp;to&nbsp;declare&nbsp;one&nbsp;queue&nbsp;for&nbsp;every&nbsp;receiver&nbsp;and&nbsp;bind&nbsp;it&nbsp;to&nbsp;the&nbsp;same&nbsp;exchange&nbsp;but&nbsp;I&nbsp;don't&nbsp;know&nbsp;how&nbsp;many&nbsp;there&nbsp;will&nbsp;be,&nbsp;furthermore&nbsp;everything&nbsp;has&nbsp;to&nbsp;be&nbsp;done&nbsp;at&nbsp;runtime.<br>
<br>
Say&nbsp;I&nbsp;have&nbsp;a&nbsp;client&nbsp;CLIENT0&nbsp;at&nbsp;t0&nbsp;which&nbsp;declares:<br>
-&nbsp;queue&nbsp;A<br>
-&nbsp;exchange&nbsp;EX<br>
<br>
&gt;From&nbsp;its&nbsp;code,&nbsp;I&nbsp;bind&nbsp;EX-A&nbsp;with&nbsp;routing&nbsp;&quot;client.something&quot;:<br>
<br>
ConnectionFactory&nbsp;factory&nbsp;=&nbsp;new&nbsp;ConnectionFactory();<br>
factory.setHost(&quot;localhost&quot;);<br>
connection&nbsp;=&nbsp;factory.newConnection();<br>
channel&nbsp;=&nbsp;connection.createChannel();<br>
channel.exchangeDeclare(&quot;EX&quot;,&nbsp;&quot;topic&quot;);<br>
channel.queueDeclare(&quot;A&quot;,&nbsp;false,&nbsp;false,&nbsp;false,&nbsp;null);<br>
channel.queueBind(&quot;A&quot;,&nbsp;&quot;EX&quot;,&nbsp;&quot;client.something&quot;);<br>
<br>
Now&nbsp;if&nbsp;I&nbsp;send&nbsp;a&nbsp;message:<br>
<br>
[...]<br>
channel.basicPublish(&quot;EX&quot;,&nbsp;&quot;client.*&quot;,&nbsp;null,&nbsp;message.getBytes());<br>
<br>
it&nbsp;gets&nbsp;queued&nbsp;in&nbsp;queue&nbsp;A&nbsp;and&nbsp;I&nbsp;can&nbsp;read&nbsp;it&nbsp;with:<br>
<br>
[...]<br>
QueueingConsumer&nbsp;consumer&nbsp;=&nbsp;new&nbsp;QueueingConsumer(channel);<br>
channel.basicConsume(&quot;A&quot;,&nbsp;true,&nbsp;consumer);<br>
<br>
Later&nbsp;at&nbsp;t1,&nbsp;two&nbsp;more&nbsp;clients&nbsp;CLIENT1,&nbsp;CLIENT2&nbsp;show&nbsp;up&nbsp;and&nbsp;declare:<br>
-&nbsp;queues&nbsp;B,&nbsp;C<br>
on&nbsp;the&nbsp;same&nbsp;exchange&nbsp;EX<br>
<br>
&gt;From&nbsp;their&nbsp;code,&nbsp;I&nbsp;bind&nbsp;EX-B&nbsp;with&nbsp;routing&nbsp;&quot;client.else&quot;&nbsp;and&nbsp;EX-C&nbsp;with&nbsp;routing&nbsp;&quot;another.something&quot;&nbsp;so&nbsp;that&nbsp;I&nbsp;can&nbsp;send&nbsp;messages&nbsp;to&nbsp;both&nbsp;CLIENT0&nbsp;and&nbsp;CLIENT1&nbsp;by&nbsp;using&nbsp;routing&nbsp;&quot;client.*&quot;,&nbsp;and&nbsp;to&nbsp;CLIENT0&nbsp;and&nbsp;CLIENT2&nbsp;using&nbsp;routing&nbsp;&quot;*.something&quot;.<br>
<br>
If&nbsp;I&nbsp;now&nbsp;send&nbsp;another&nbsp;message&nbsp;from&nbsp;CLIENT0,&nbsp;it&nbsp;only&nbsp;gets&nbsp;queued&nbsp;in&nbsp;queue&nbsp;A&nbsp;and&nbsp;never&nbsp;goes&nbsp;in&nbsp;queue&nbsp;B&nbsp;or&nbsp;C.&nbsp;Declaring&nbsp;and&nbsp;binding&nbsp;all&nbsp;three&nbsp;queues&nbsp;at&nbsp;time&nbsp;t0&nbsp;instead&nbsp;works&nbsp;and&nbsp;messages&nbsp;are&nbsp;delivered&nbsp;correctly&nbsp;to&nbsp;the&nbsp;right&nbsp;clients.<br>
<br>
My&nbsp;question&nbsp;is:<br>
<br>
How&nbsp;can&nbsp;I&nbsp;dynamically&nbsp;declare&nbsp;and&nbsp;bind&nbsp;queues&nbsp;to&nbsp;already&nbsp;existing&nbsp;exchanges&nbsp;so&nbsp;that&nbsp;already&nbsp;running&nbsp;senders&nbsp;can&nbsp;continue&nbsp;sending&nbsp;messages&nbsp;as&nbsp;they&nbsp;did&nbsp;before&nbsp;and&nbsp;have&nbsp;them&nbsp;delivered&nbsp;properly?<br>
Back&nbsp;to&nbsp;my&nbsp;example,&nbsp;I'd&nbsp;like&nbsp;CLIENT0&nbsp;to&nbsp;keep&nbsp;sending&nbsp;messages&nbsp;routing&nbsp;them&nbsp;with&nbsp;&quot;client.*&quot;&nbsp;and&nbsp;see&nbsp;those&nbsp;messages&nbsp;added&nbsp;in&nbsp;the&nbsp;newly&nbsp;created&nbsp;queue&nbsp;B&nbsp;too&nbsp;after&nbsp;CLIENT1&nbsp;has&nbsp;declared&nbsp;and&nbsp;binded&nbsp;it.&nbsp;Maybe&nbsp;I&nbsp;need&nbsp;some&nbsp;sort&nbsp;of&nbsp;refresh&nbsp;in&nbsp;CLIENT0?<br>
<br>
Any&nbsp;help&nbsp;is&nbsp;much&nbsp;appreciated,<br>
<br>
have&nbsp;a&nbsp;nice&nbsp;day<br>
<br>
&lt;/pre&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class=&quot;moz-signature&quot;&gt;--&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dr.&nbsp;Stefano&nbsp;Ghio&nbsp;-&nbsp;ENG&nbsp;Engineering&nbsp;Italy&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Website:&nbsp;&lt;a&nbsp;href=&quot;http://groglogs.blogspot.com/&quot;&gt;http://groglogs.blogspot.com/&lt;/a&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;If&nbsp;you&nbsp;received&nbsp;this&nbsp;message&nbsp;but&nbsp;you&nbsp;are&nbsp;not&nbsp;its&nbsp;recipient,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;please&nbsp;ignore&nbsp;it&nbsp;and&nbsp;warn&nbsp;me,&nbsp;thank&nbsp;you.&lt;/b&gt;&lt;/div&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
