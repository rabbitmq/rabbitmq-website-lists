<tt>
Hi&nbsp;Guys,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Every&nbsp;since&nbsp;upgrading&nbsp;to&nbsp;v2.7.1&nbsp;we&amp;#39;ve&nbsp;found&nbsp;that&nbsp;the&nbsp;RabbitMQ&nbsp;driver&nbsp;has&nbsp;been&nbsp;killing&nbsp;our&nbsp;applications&nbsp;by&nbsp;throwing&nbsp;unhandled&nbsp;exceptions&nbsp;in&nbsp;background&nbsp;threads.&nbsp; Here&nbsp;are&nbsp;two&nbsp;stack&nbsp;traces&nbsp;that&nbsp;brought&nbsp;down&nbsp;one&nbsp;of&nbsp;our&nbsp;test&nbsp;apps:&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;[2012-01-06&nbsp;21:13:36,193]&nbsp;[ERROR]&nbsp;Unhandled&nbsp;Exception&lt;/div&gt;&lt;div&gt;System.Net.Sockets.SocketException:&nbsp;The&nbsp;descriptor&nbsp;is&nbsp;not&nbsp;a&nbsp;socket&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;System.Net.Sockets.Socket.SetSocketOption&nbsp;(SocketOptionLevel&nbsp;optionLevel,&nbsp;SocketOptionName&nbsp;optionName,&nbsp;System.Object&nbsp;optionValue)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;<br>
&lt;div&gt; &nbsp;at&nbsp;System.Net.Sockets.TcpClient.set_LingerState&nbsp;(System.Net.Sockets.LingerOption&nbsp;value)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.SocketFrameHandler_0_9.Close&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;<br>
&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.FinishClose&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.HeartbeatReadLoop&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt;<br>
 &nbsp;at&nbsp;System.Threading.Thread.StartUnsafe&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;[2012-01-06&nbsp;21:13:20,706]&nbsp;[ERROR]&nbsp;Unhandled&nbsp;Exception&lt;/div&gt;&lt;div&gt;&lt;div&gt;System.ObjectDisposedException:&nbsp;The&nbsp;object&nbsp;was&nbsp;used&nbsp;after&nbsp;being&nbsp;disposed.&lt;/div&gt;<br>
&lt;div&gt; &nbsp;at&nbsp;System.Net.Sockets.Socket.SetSocketOption&nbsp;(SocketOptionLevel&nbsp;optionLevel,&nbsp;SocketOptionName&nbsp;optionName,&nbsp;System.Object&nbsp;optionValue)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;System.Net.Sockets.TcpClient.set_LingerState&nbsp;(System.Net.Sockets.LingerOption&nbsp;value)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;<br>
&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.SocketFrameHandler_0_9.Close&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.FinishClose&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.HeartbeatReadLoop&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;<br>
&lt;div&gt; &nbsp;at&nbsp;System.Threading.Thread.StartUnsafe&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;happens&nbsp;on&nbsp;both&nbsp;windows&nbsp;and&nbsp;mono&nbsp;2.10.1&nbsp;and&nbsp;never&nbsp;seems&nbsp;to&nbsp;originate&nbsp;in&nbsp;any&nbsp;of&nbsp;our&nbsp;code.&lt;/div&gt;&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Bryan&lt;/div&gt;<br>

</tt>
