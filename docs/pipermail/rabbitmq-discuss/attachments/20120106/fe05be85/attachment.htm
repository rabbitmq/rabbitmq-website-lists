<tt>
&lt;font&nbsp;face=&quot;trebuchet&nbsp;ms,sans-serif&quot;&gt;Hi&nbsp;Bryan,&nbsp;I&nbsp;think&nbsp;it&amp;#39;s&nbsp;a&nbsp;known&nbsp;bug&nbsp;which&nbsp;has&nbsp;popped&nbsp;up&nbsp;on&nbsp;the&nbsp;list&nbsp;some&nbsp;days&nbsp;ago,&nbsp;not&nbsp;sure&nbsp;it&nbsp;is&nbsp;fixed&nbsp;in&nbsp;the&nbsp;repository&nbsp;though,&nbsp;but&nbsp;a&nbsp;bug&nbsp;report&nbsp;has&nbsp;been&nbsp;filed&nbsp;already.&nbsp;It&amp;#39;s&nbsp;indeed&nbsp;related&nbsp;to&nbsp;heartbeat&nbsp;settings.&lt;/font&gt;&lt;div&gt;<br>
<br>
&lt;font&nbsp;face=&quot;&amp;#39;trebuchet&nbsp;ms&amp;#39;,&nbsp;sans-serif&quot;&gt;The&nbsp;thread&nbsp;was&nbsp;titled&nbsp;&amp;quot;&lt;/font&gt;&lt;span&nbsp;style&gt;Possible&nbsp;bug&nbsp;when&nbsp;disposing&nbsp;connection&lt;/span&gt;&lt;span&nbsp;style&gt;s&nbsp;in&nbsp;.NET&nbsp;client&nbsp;2.7.0/1&lt;/span&gt;&lt;span&nbsp;style=&quot;font-family:&amp;#39;trebuchet&nbsp;ms&amp;#39;,sans-serif&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/div&gt;<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Jan&nbsp;6,&nbsp;2012&nbsp;at&nbsp;22:17,&nbsp;Bryan&nbsp;Murphy&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:bmurphy1976@gmail.com&quot;&nbsp;target=&quot;_blank&quot;&gt;bmurphy1976@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi&nbsp;Guys,&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Every&nbsp;since&nbsp;upgrading&nbsp;to&nbsp;v2.7.1&nbsp;we&amp;#39;ve&nbsp;found&nbsp;that&nbsp;the&nbsp;RabbitMQ&nbsp;driver&nbsp;has&nbsp;been&nbsp;killing&nbsp;our&nbsp;applications&nbsp;by&nbsp;throwing&nbsp;unhandled&nbsp;exceptions&nbsp;in&nbsp;background&nbsp;threads.&nbsp; Here&nbsp;are&nbsp;two&nbsp;stack&nbsp;traces&nbsp;that&nbsp;brought&nbsp;down&nbsp;one&nbsp;of&nbsp;our&nbsp;test&nbsp;apps:&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;tel:%5B2012-01-06%2021&quot;&nbsp;value=&quot;+12012010621&quot;&nbsp;target=&quot;_blank&quot;&gt;[2012-01-06&nbsp;21&lt;/a&gt;:13:36,193]&nbsp;[ERROR]&nbsp;Unhandled&nbsp;Exception&lt;/div&gt;&lt;div&gt;System.Net.Sockets.SocketException:&nbsp;The&nbsp;descriptor&nbsp;is&nbsp;not&nbsp;a&nbsp;socket&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt; &nbsp;at&nbsp;System.Net.Sockets.Socket.SetSocketOption&nbsp;(SocketOptionLevel&nbsp;optionLevel,&nbsp;SocketOptionName&nbsp;optionName,&nbsp;System.Object&nbsp;optionValue)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;<br>
&lt;div&gt; &nbsp;at&nbsp;System.Net.Sockets.TcpClient.set_LingerState&nbsp;(System.Net.Sockets.LingerOption&nbsp;value)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.SocketFrameHandler_0_9.Close&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.FinishClose&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.HeartbeatReadLoop&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
 &nbsp;at&nbsp;System.Threading.Thread.StartUnsafe&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;a&nbsp;href=&quot;tel:%5B2012-01-06%2021&quot;&nbsp;value=&quot;+12012010621&quot;&nbsp;target=&quot;_blank&quot;&gt;[2012-01-06&nbsp;21&lt;/a&gt;:13:20,706]&nbsp;[ERROR]&nbsp;Unhandled&nbsp;Exception&lt;/div&gt;<br>
<br>
<br>
&lt;div&gt;&lt;div&gt;System.ObjectDisposedException:&nbsp;The&nbsp;object&nbsp;was&nbsp;used&nbsp;after&nbsp;being&nbsp;disposed.&lt;/div&gt;<br>
&lt;div&gt; &nbsp;at&nbsp;System.Net.Sockets.Socket.SetSocketOption&nbsp;(SocketOptionLevel&nbsp;optionLevel,&nbsp;SocketOptionName&nbsp;optionName,&nbsp;System.Object&nbsp;optionValue)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;System.Net.Sockets.TcpClient.set_LingerState&nbsp;(System.Net.Sockets.LingerOption&nbsp;value)&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.SocketFrameHandler_0_9.Close&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.FinishClose&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;div&gt; &nbsp;at&nbsp;RabbitMQ.Client.Impl.ConnectionBase.HeartbeatReadLoop&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;<br>
<br>
<br>
<br>
&lt;div&gt; &nbsp;at&nbsp;System.Threading.Thread.StartUnsafe&nbsp;()&nbsp;[0x00000]&nbsp;in&nbsp;&amp;lt;filename&nbsp;unknown&amp;gt;:0&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;This&nbsp;happens&nbsp;on&nbsp;both&nbsp;windows&nbsp;and&nbsp;mono&nbsp;2.10.1&nbsp;and&nbsp;never&nbsp;seems&nbsp;to&nbsp;originate&nbsp;in&nbsp;any&nbsp;of&nbsp;our&nbsp;code.&lt;/div&gt;&lt;div&gt;<br>
<br>
<br>
<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks,&lt;/div&gt;&lt;div&gt;Bryan&lt;/div&gt;<br>
&lt;br&gt;_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>
&lt;/div&gt;<br>

</tt>
