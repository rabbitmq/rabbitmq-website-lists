<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Thanks&nbsp;for&nbsp;reply,&nbsp;Emile.&lt;div&gt;I&nbsp;really&nbsp;need&nbsp;the&nbsp;requeue&nbsp;function,&nbsp;because&nbsp;on&nbsp;client&nbsp;side&nbsp;i&nbsp;want&nbsp;do&nbsp;some&nbsp;retry&nbsp;operation&nbsp;with&nbsp;spring-retry.&nbsp;if&nbsp;max-retry-count&nbsp;is&nbsp;exhausted&nbsp;&amp;amp;&nbsp;the&nbsp;message&nbsp;is&nbsp;still&nbsp;not&nbsp;be&nbsp;processing &lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:&amp;#39;Helvetica&nbsp;Neue&amp;#39;,Helvetica,Arial,sans-serif;font-size:12px&quot;&gt;appropriately,&nbsp;i&nbsp;will&nbsp;not&nbsp;requeue&nbsp;it&nbsp;(to&nbsp;the&nbsp;original&nbsp;queue)&nbsp;any&nbsp;more&nbsp;&amp;amp;&nbsp;put&nbsp;it&nbsp;to&nbsp;the&nbsp;dead-letter-exchange.&lt;/span&gt;&lt;/div&gt;<br>
&lt;div&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:&amp;#39;Helvetica&nbsp;Neue&amp;#39;,Helvetica,Arial,sans-serif;font-size:12px&quot;&gt;But&nbsp;before&nbsp;put&nbsp;it&nbsp;to&nbsp;the&nbsp;DLX,&nbsp;i&nbsp;really&nbsp;want&nbsp;add&nbsp;some&nbsp;error-d&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:&amp;#39;Helvetica&nbsp;Neue&amp;#39;,Helvetica,Arial,sans-serif;font-size:12px&quot;&gt;escription&nbsp;to&nbsp;this&nbsp;message,&nbsp;So&nbsp;another&nbsp;consumer&nbsp;that&nbsp;listening&nbsp;to&nbsp;the&nbsp;DLX&nbsp;can&nbsp;retrieve&nbsp;&amp;amp;&nbsp;analysis&nbsp;&amp;amp;&nbsp;process&nbsp;it&nbsp;according&nbsp;to&nbsp;the &lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:&amp;#39;Helvetica&nbsp;Neue&amp;#39;,Helvetica,Arial,sans-serif;font-size:12px&quot;&gt;error-d&lt;/span&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:&amp;#39;Helvetica&nbsp;Neue&amp;#39;,Helvetica,Arial,sans-serif;font-size:12px&quot;&gt;escription,&nbsp;that&amp;#39;s&nbsp;why&nbsp;i&nbsp;want&nbsp;modify&nbsp;message&nbsp;before&nbsp;reject&nbsp;it.&lt;/span&gt;&lt;br&gt;<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;&lt;em&nbsp;style=&quot;font-style:normal;font-family:arial,sans-serif;line-height:14.545454025268555px&quot;&gt;&lt;b&gt;M&lt;/b&gt;&lt;/em&gt;&lt;em&nbsp;style=&quot;font-weight:bold;font-style:normal;color:rgb(0,0,0);font-family:arial,sans-serif;line-height:14.545454025268555px&quot;&gt;y&nbsp;understanding&lt;/em&gt;:&nbsp;Queue&nbsp;in&nbsp;rabbitmq&nbsp;broker&nbsp;will&nbsp;never&nbsp;drop&nbsp;the&nbsp;unacknowledged&nbsp;message&nbsp;before&nbsp;client&nbsp;ack-or-reject&nbsp;it,&nbsp;ack-or-reject-operationing&nbsp;on&nbsp;the&nbsp;client&nbsp;side&nbsp;do&nbsp;not&nbsp;need&nbsp;resend&nbsp;the&nbsp;message&nbsp;to&nbsp;rabbitmq&nbsp;broker,&nbsp;that&amp;#39;s&nbsp;why&nbsp;client&nbsp;side&nbsp;cannot&nbsp;modify&nbsp;the&nbsp;message,&nbsp;is&nbsp;that&nbsp;true?&nbsp; &lt;/div&gt;<br>
&lt;div&nbsp;style&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Dec&nbsp;21,&nbsp;2012&nbsp;at&nbsp;12:37&nbsp;AM,&nbsp;Emile&nbsp;Joubert&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:emile@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;emile@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;Hi,&lt;br&gt;<br>
&lt;br&gt;<br>
On&nbsp;20/12/12&nbsp;11:14,&nbsp;Spring&nbsp;Amqp&nbsp;User&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;am&nbsp;use&nbsp;spring&nbsp;amqp,&nbsp;i&nbsp;have&nbsp;a&nbsp;question:&nbsp;is&nbsp;there&nbsp;a&nbsp;way&nbsp;for&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;client&nbsp;to&nbsp;modify&nbsp;&amp;amp;&nbsp;reject&nbsp;a&nbsp;received&nbsp;message&nbsp;to&nbsp;rabbit&nbsp;broker?&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;arguments&nbsp;requeue&nbsp;of&nbsp;basicReject()&nbsp;must&nbsp;set&nbsp;to&nbsp;true,&nbsp;right?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
No&nbsp;it&nbsp;is&nbsp;not&nbsp;possible&nbsp;to&nbsp;modify&nbsp;the&nbsp;message&nbsp;while&nbsp;rejecting&nbsp;with&lt;br&gt;<br>
requeue.&nbsp;The&nbsp;closest&nbsp;approximation&nbsp;would&nbsp;be&nbsp;to&nbsp;acknowledge&nbsp;and&nbsp;republish&lt;br&gt;<br>
with&nbsp;the&nbsp;modifications.&lt;br&gt;<br>
&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
-Emile&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/font&gt;&lt;/span&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
