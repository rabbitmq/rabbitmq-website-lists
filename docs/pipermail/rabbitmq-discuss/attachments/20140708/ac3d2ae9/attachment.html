<tt>
&lt;DIV&gt;I&nbsp;have&nbsp;any&nbsp;queue&nbsp;to&nbsp;consumer&nbsp;message,&nbsp;just&nbsp;publish,&nbsp;connection&nbsp;is&nbsp;in&nbsp;&quot;flow&quot;&nbsp;state,&nbsp;channel&nbsp;is&nbsp;in&nbsp;&quot;running&quot;&nbsp;state.&lt;/DIV&gt;<br>
&lt;DIV&gt;If&nbsp;i&nbsp;add&nbsp;a&nbsp;queue&nbsp;to&nbsp;consumer&nbsp;message,&nbsp;the&nbsp;connection&nbsp;and&nbsp;the&nbsp;channel&nbsp;is&nbsp;all&nbsp;in&nbsp;&quot;flow&quot;&nbsp;state.&lt;/DIV&gt;<br>
&lt;DIV&gt;&nbsp;&lt;/DIV&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;12px;font-family:&nbsp;Arial&nbsp;Narrow;padding:2px&nbsp;0&nbsp;2px&nbsp;0;&quot;&gt;------------------&nbsp;Original&nbsp;message&nbsp;------------------&lt;/div&gt;&lt;div&nbsp;style=&quot;font-size:&nbsp;12px;background:#efefef;padding:8px;&quot;&gt;&lt;div&gt;&lt;b&gt;From:&lt;/b&gt;&nbsp;&quot;Michael&nbsp;Klishin&quot;&lt;mklishin@gopivotal.com&gt;;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Sendtime:&lt;/b&gt;&nbsp;Tuesday,&nbsp;Jul&nbsp;8,&nbsp;2014&nbsp;4:33&nbsp;PM&lt;/div&gt;&lt;div&gt;&lt;b&gt;To:&lt;/b&gt;&nbsp;&quot;Lost&quot;&lt;w_pg@qq.com&gt;;&nbsp;&quot;rabbitmq-discuss&quot;&lt;rabbitmq-discuss@lists.rabbitmq.com&gt;;&nbsp;&lt;/div&gt;&lt;div&gt;&lt;b&gt;Subject:&lt;/b&gt;&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;Connection&nbsp;is&nbsp;always&nbsp;in&nbsp;&quot;flow&quot;&nbsp;State.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;BR&gt;&lt;BR&gt;On&nbsp;8&nbsp;July&nbsp;2014&nbsp;at&nbsp;07:49:26,&nbsp;Lost&nbsp;(&lt;A&nbsp;href=&quot;mailto:w_pg@qq.com&quot;&nbsp;target=_blank&gt;w_pg@qq.com&lt;/A&gt;)&nbsp;wrote:&lt;BR&gt;&gt;&nbsp;&gt;&nbsp;I&nbsp;have&nbsp;a&nbsp;client&nbsp;to&nbsp;publish&nbsp;message&nbsp;to&nbsp;rabbitmq(1&nbsp;connection&nbsp;&nbsp;&lt;BR&gt;&gt;&nbsp;and&nbsp;1&nbsp;channel,&nbsp;in&nbsp;same&nbsp;machine&nbsp;with&nbsp;rabbitmq),&nbsp;no&nbsp;consumer.&lt;BR&gt;&gt;&nbsp;Message&nbsp;rates&nbsp;is&nbsp;2000/s&nbsp;~&nbsp;3000/s&lt;BR&gt;&gt;&nbsp;Traffic&nbsp;is&nbsp;300Kb/s&nbsp;~&nbsp;750kB/s&lt;BR&gt;&gt;&nbsp;The&nbsp;channel&nbsp;state&nbsp;is&nbsp;&quot;running&quot;,&nbsp;but&nbsp;the&nbsp;connection&nbsp;state&nbsp;is&nbsp;always&nbsp;&nbsp;&lt;BR&gt;&gt;&nbsp;&quot;flow&quot;.&lt;BR&gt;&gt;&nbsp;I&nbsp;found&nbsp;erl.exe&nbsp;cpu&nbsp;is&nbsp;only&nbsp;5%&nbsp;~&nbsp;10%,&nbsp;but&nbsp;why&nbsp;connection&nbsp;is&nbsp;in&nbsp;&quot;flow&quot;&nbsp;&nbsp;&lt;BR&gt;&gt;&nbsp;state?&lt;BR&gt;&lt;BR&gt;Flow&nbsp;control&nbsp;does&nbsp;not&nbsp;depend&nbsp;on&nbsp;CPU&nbsp;usage&nbsp;but&nbsp;rather&nbsp;whether&nbsp;consumers&lt;BR&gt;can&nbsp;keep&nbsp;up&nbsp;with&nbsp;producers.&nbsp;Try&nbsp;adding&nbsp;a&nbsp;consumer.&nbsp;&lt;BR&gt;--&nbsp;&nbsp;&lt;BR&gt;MK&nbsp;&nbsp;&lt;BR&gt;&lt;BR&gt;Staff&nbsp;Software&nbsp;Engineer,&nbsp;Pivotal/RabbitMQ
</tt>
