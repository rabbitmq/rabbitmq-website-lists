<tt>
&lt;html&gt;<br>
&nbsp;&nbsp;&lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;meta&nbsp;content=&quot;text/html;&nbsp;charset=ISO-8859-1&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;http-equiv=&quot;Content-Type&quot;&gt;<br>
&nbsp;&nbsp;&lt;/head&gt;<br>
&nbsp;&nbsp;&lt;body&nbsp;bgcolor=&quot;#FFFFFF&quot;&nbsp;text=&quot;#000000&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;some&nbsp;questions&nbsp;concerning&nbsp;multithreading&nbsp;and&nbsp;using&nbsp;multiple<br>
&nbsp;&nbsp;&nbsp;&nbsp;channels&nbsp;within&nbsp;single&nbsp;connection.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Is&nbsp;structure&nbsp;amqp_connection_state_t&nbsp;is&nbsp;thread-safe?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Can&nbsp;I&nbsp;share&nbsp;connection&nbsp;between&nbsp;threads&nbsp;and&nbsp;at&nbsp;the&nbsp;same&nbsp;time&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;separate&nbsp;channel&nbsp;for&nbsp;each&nbsp;thread&nbsp;in&nbsp;producer&nbsp;app?&nbsp;and&nbsp;in<br>
&nbsp;&nbsp;&nbsp;&nbsp;consumer&nbsp;app?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;second&nbsp;part&nbsp;of&nbsp;the&nbsp;question(about&nbsp;consumer)&nbsp;is&nbsp;needed&nbsp;to&nbsp;be<br>
&nbsp;&nbsp;&nbsp;&nbsp;explained.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;I&nbsp;looked&nbsp;at&nbsp;API,&nbsp;I&nbsp;didn't&nbsp;find&nbsp;any&nbsp;difficulties&nbsp;to&nbsp;use&nbsp;many<br>
&nbsp;&nbsp;&nbsp;&nbsp;channels&nbsp;within&nbsp;single&nbsp;connection&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;producer&nbsp;app,&nbsp;because&nbsp;each&nbsp;method&nbsp;(declare&nbsp;queue\exchange,&nbsp;bind,<br>
&nbsp;&nbsp;&nbsp;&nbsp;publish&nbsp;&amp;amp;&nbsp;etc)&nbsp;has&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;channel&quot;&nbsp;parameter.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;But&nbsp;in&nbsp;consumer&nbsp;app,&nbsp;where&nbsp;it&nbsp;is&nbsp;needed&nbsp;to&nbsp;receive&nbsp;messages&nbsp;(or<br>
&nbsp;&nbsp;&nbsp;&nbsp;frames&nbsp;as&nbsp;shown&nbsp;in&nbsp;example&nbsp;.c-files),&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;we&nbsp;have&nbsp;to&nbsp;call&nbsp;wait_for_single_frame&nbsp;method,&nbsp;which&nbsp;is&nbsp;lack&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;channel&quot;&nbsp;method.&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;Could&nbsp;you&nbsp;give&nbsp;an&nbsp;advice&nbsp;how&nbsp;to&nbsp;organize&nbsp;&quot;multichannel&quot;&nbsp;message<br>
&nbsp;&nbsp;&nbsp;&nbsp;fetch&nbsp;from&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;one&nbsp;queue?&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;b&gt;OR&lt;/b&gt;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;It&nbsp;is&nbsp;better&nbsp;to&nbsp;use&nbsp;separate&nbsp;connection&nbsp;for&nbsp;each&nbsp;thread&nbsp;and&nbsp;have&nbsp;no<br>
&nbsp;&nbsp;&nbsp;&nbsp;problems?&nbsp;:)&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&lt;br&gt;<br>
&nbsp;&nbsp;&lt;/body&gt;<br>
&lt;/html&gt;<br>

</tt>
