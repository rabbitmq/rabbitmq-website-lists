<tt>
Man,&nbsp;I&nbsp;feel&nbsp;silly..&nbsp;I&nbsp;don&amp;#39;t&nbsp;know&nbsp;how&nbsp;I&nbsp;haven&amp;#39;t&nbsp;caught&nbsp;this&nbsp;before,&nbsp;but&nbsp;the&nbsp;box&nbsp;I&amp;#39;m&nbsp;running&nbsp;the&nbsp;tests&nbsp;on&nbsp;has&nbsp;no&nbsp;swap&nbsp;partition&nbsp;-&nbsp;completely&nbsp;disabled,&nbsp;I&nbsp;must&nbsp;have&nbsp;booted&nbsp;the&nbsp;wrong&nbsp;image!&nbsp;&lt;br&gt;&lt;br&gt;Long&nbsp;story&nbsp;short:&nbsp;&lt;br&gt;<br>
&lt;br&gt;/usr/sbin/rabbitmq-server:&nbsp;line&nbsp;76:&nbsp;28477&nbsp;Killed&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;erl&nbsp;-pa&nbsp;&amp;quot;`dirname&nbsp;$0`/../ebin&amp;quot;&nbsp;${START_RABBIT}&nbsp;-sname&nbsp;${NODENAME}&nbsp;-boot&nbsp;start_sasl&nbsp;+W&nbsp;w&nbsp;${ERL_ARGS}&nbsp;-rabbit&nbsp;tcp_listeners&nbsp;&amp;#39;[{&amp;quot;&amp;#39;${NODE_IP_ADDRESS}&amp;#39;&amp;quot;,&nbsp;&amp;#39;${NODE_PORT}&amp;#39;}]&amp;#39;&nbsp;-sasl&nbsp;errlog_type&nbsp;error&nbsp;-kernel&nbsp;error_logger&nbsp;&amp;#39;{file,&amp;quot;&amp;#39;${LOGS}&amp;#39;&amp;quot;}&amp;#39;&nbsp;-sasl&nbsp;sasl_error_logger&nbsp;&amp;#39;{file,&amp;quot;&amp;#39;${SASL_LOGS}&amp;#39;&amp;quot;}&amp;#39;&nbsp;-os_mon&nbsp;start_cpu_sup&nbsp;true&nbsp;-os_mon&nbsp;start_disksup&nbsp;false&nbsp;-os_mon&nbsp;start_memsup&nbsp;true&nbsp;-os_mon&nbsp;start_os_sup&nbsp;false&nbsp;-os_mon&nbsp;memsup_system_only&nbsp;true&nbsp;-os_mon&nbsp;system_memory_high_watermark&nbsp;0.90&nbsp;-mnesia&nbsp;dir&nbsp;&amp;quot;\&amp;quot;${MNESIA_DIR}\&amp;quot;&amp;quot;&nbsp;${CLUSTER_CONFIG}&nbsp;${RABBIT_ARGS}&nbsp;&amp;quot;$@&amp;quot;&lt;br&gt;<br>
&lt;br&gt;---&lt;br&gt;Nov&nbsp;16&nbsp;04:11:45&nbsp;ip-10-251-102-223&nbsp;kernel:&nbsp;Out&nbsp;of&nbsp;Memory:&nbsp;Kill&nbsp;process&nbsp;28470&nbsp;(rabbitmq-server)&nbsp;score&nbsp;1084241&nbsp;and&nbsp;children.&lt;br&gt;Nov&nbsp;16&nbsp;04:11:45&nbsp;ip-10-251-102-223&nbsp;kernel:&nbsp;Out&nbsp;of&nbsp;memory:&nbsp;Killed&nbsp;process&nbsp;28477&nbsp;(beam.smp).&lt;br&gt;<br>
Nov&nbsp;16&nbsp;04:11:45&nbsp;ip-10-251-102-223&nbsp;kernel:&nbsp;oom-killer:&nbsp;gfp_mask=0x201d2,&nbsp;order=0&lt;br&gt;---&lt;br&gt;&lt;br&gt;-rw-r--r--&nbsp;1&nbsp;root&nbsp;root&amp;nbsp;&amp;nbsp;&amp;nbsp;&nbsp;8&nbsp;Nov&nbsp;16&nbsp;04:11&nbsp;rabbit_persister.LOG&lt;br&gt;-rw-r--r--&nbsp;1&nbsp;root&nbsp;root&nbsp;368M&nbsp;Nov&nbsp;16&nbsp;04:11&nbsp;rabbit_persister.LOG.previous&lt;br&gt;<br>
&lt;br&gt;---&lt;br&gt;&lt;br&gt;Needless&nbsp;to&nbsp;say,&nbsp;nothing&nbsp;to&nbsp;recover&nbsp;in&nbsp;the&nbsp;first&nbsp;log&nbsp;file&nbsp;(the&nbsp;process&nbsp;must&nbsp;have&nbsp;been&nbsp;killed&nbsp;while&nbsp;dumping&nbsp;from&nbsp;memory).&nbsp;Renaming&nbsp;the&nbsp;.previous&nbsp;file&nbsp;brought&nbsp;rabbit&nbsp;back&nbsp;online&nbsp;in&nbsp;~30&nbsp;seconds.&nbsp;What&amp;#39;s&nbsp;interesting&nbsp;is&nbsp;that&nbsp;the&nbsp;persister&nbsp;size&nbsp;is&nbsp;really&nbsp;small,&nbsp;not&nbsp;sure&nbsp;how&nbsp;the&nbsp;process&nbsp;could&nbsp;have&nbsp;run&nbsp;out&nbsp;of&nbsp;memory?&nbsp;All&nbsp;messages&nbsp;sent&nbsp;to&nbsp;it&nbsp;very&nbsp;marked&nbsp;as&nbsp;persistent.&nbsp;(it&nbsp;was&nbsp;running&nbsp;overnight)&lt;br&gt;<br>
&lt;br&gt;I&amp;#39;ll&nbsp;do&nbsp;some&nbsp;testing&nbsp;with&nbsp;SWAP&nbsp;tomorrow.&lt;br&gt;&lt;br&gt;ig&lt;br&gt;<br>

</tt>
