<tt>
This&nbsp;is&nbsp;my&nbsp;biggest&nbsp;concern.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Look&nbsp;about&nbsp;this&nbsp;scenario&nbsp;I&nbsp;have&nbsp;one&nbsp;Exchange&nbsp;and&nbsp;one&nbsp;persistent&nbsp;queue.I&amp;#39;m&nbsp;posting&nbsp;transient&nbsp;messages&nbsp;to&nbsp;this&nbsp;Exchange&nbsp;(to&nbsp;get&nbsp;better&nbsp;performance)&nbsp;if&nbsp;my&nbsp;Exchanges&nbsp;messages&nbsp;are&nbsp;in&nbsp;buffer&nbsp;and&nbsp;server&nbsp;crash&nbsp;I&nbsp;will&nbsp;be&nbsp;loose&nbsp;all&nbsp;messages&nbsp;in&nbsp;buffer&nbsp;and&nbsp;it&nbsp;is&nbsp;a&nbsp;big&nbsp;problem....&nbsp;I&nbsp;cannot&nbsp;lose&nbsp;any&nbsp;messages,&nbsp;this&nbsp;messages&nbsp;are&nbsp;business&nbsp;it&nbsp;represent&nbsp;money,&nbsp;so&nbsp;if&nbsp;I&nbsp;loose&nbsp;one&nbsp;we&nbsp;loose&nbsp;money&nbsp;and&nbsp;It&nbsp;cannot&nbsp;happen,&nbsp;in&nbsp;other&nbsp;way&nbsp;I&nbsp;need&nbsp;to&nbsp;be&nbsp;the&nbsp;fastest&nbsp;we&nbsp;need overrides&nbsp;in&nbsp;nanoseconds&nbsp;or&nbsp;1 millisecond is&nbsp;the&nbsp;limit,&nbsp;so&nbsp;post&nbsp;messages&nbsp;in&nbsp;persistent&nbsp;queue&nbsp;is&nbsp;out&nbsp;of&nbsp;the&nbsp;scope,&nbsp;or&nbsp; have&nbsp;one&nbsp;way&nbsp;to&nbsp;be&nbsp;fast&nbsp;with&nbsp;persistent&nbsp;?&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;My&nbsp;questions&nbsp;is,&nbsp;looking&nbsp;for&nbsp;this&nbsp;requirements&nbsp;(don&amp;#39;t&nbsp;loose&nbsp;any&nbsp;message&nbsp;and&nbsp;be&nbsp;fastest)&nbsp;RabbitMQ&nbsp;attend&nbsp;this&nbsp;?&nbsp;Have&nbsp;a&nbsp;way&nbsp;to&nbsp;attend&nbsp;this&nbsp;requirements&nbsp;?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Regards.&lt;/div&gt;&lt;div&gt;&lt;br&gt;<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Mar&nbsp;12,&nbsp;2010&nbsp;at&nbsp;9:30&nbsp;AM,&nbsp;Matthew&nbsp;Sackman&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:matthew@lshift.net&quot;&gt;matthew@lshift.net&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex;&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;Fri,&nbsp;Mar&nbsp;12,&nbsp;2010&nbsp;at&nbsp;09:17:22AM&nbsp;-0300,&nbsp;Gustavo&nbsp;Aquino&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;If&nbsp;I&nbsp;have&nbsp;one&nbsp;persistent&nbsp;queue&nbsp;binding&nbsp;this&nbsp;Exchange&nbsp;where&nbsp;messages&nbsp;was&lt;br&gt;<br>
&amp;gt;&nbsp;posted&nbsp;and&nbsp;all&nbsp;of&nbsp;this&nbsp;messages&nbsp;are&nbsp;in&nbsp;buffer&nbsp;going&nbsp;to&nbsp;queue&nbsp;and&nbsp;server&lt;br&gt;<br>
&amp;gt;&nbsp;crash&nbsp;so&nbsp;I&nbsp;will&nbsp;lose&nbsp;all&nbsp;this&nbsp;buffered&nbsp;messages&nbsp;right&nbsp;?&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;Correct.&nbsp;Transactions&nbsp;exist&nbsp;for&nbsp;a&nbsp;reason.&nbsp;Publishing&nbsp;is&nbsp;an&nbsp;async&lt;br&gt;<br>
activity&nbsp;and&nbsp;you&nbsp;as&nbsp;the&nbsp;producer&nbsp;have&nbsp;(almost)&nbsp;no&nbsp;idea&nbsp;whether&nbsp;it&amp;#39;s&nbsp;even&lt;br&gt;<br>
hit&nbsp;a&nbsp;queue,&nbsp;let&nbsp;alone&nbsp;whether&nbsp;it&amp;#39;s&nbsp;gone&nbsp;to&nbsp;disk.&nbsp;Furthermore,&nbsp;even&nbsp;if&lt;br&gt;<br>
it&amp;#39;s&nbsp;gone&nbsp;to&nbsp;disk,&nbsp;you&nbsp;have&nbsp;no&nbsp;idea&nbsp;if&nbsp;it&amp;#39;s&nbsp;been&nbsp;flushed&nbsp;from&nbsp;the&nbsp;disk&lt;br&gt;<br>
caches&nbsp;and&nbsp;so&nbsp;can&nbsp;really&nbsp;survive&nbsp;a&nbsp;powerfailure&nbsp;to&nbsp;the&nbsp;server.&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&nbsp;use&nbsp;transactions,&nbsp;however,&nbsp;then&nbsp;by&nbsp;the&nbsp;time&nbsp;you&nbsp;get&nbsp;back&nbsp;the&lt;br&gt;<br>
commit_ok&nbsp;messages,&nbsp;you&nbsp;are&nbsp;*guaranteed*&nbsp;that&nbsp;the&nbsp;persistent&nbsp;messages&lt;br&gt;<br>
have&nbsp;been&nbsp;written&nbsp;to&nbsp;disk&nbsp;and&nbsp;flushed.&nbsp;Correspondingly,&nbsp;performance&nbsp;is&lt;br&gt;<br>
crippled,&nbsp;though&nbsp;the&nbsp;transaction&nbsp;handling&nbsp;in&nbsp;the&nbsp;new&nbsp;persister&nbsp;branch&lt;br&gt;<br>
(bug21673)&nbsp;is&nbsp;much&nbsp;better&nbsp;(anywhere&nbsp;up&nbsp;to&nbsp;2&nbsp;orders&nbsp;of&nbsp;magnitude,&lt;br&gt;<br>
depending&nbsp;on&nbsp;disks&nbsp;and&nbsp;filesystem&nbsp;tuning)&nbsp;than&nbsp;in&nbsp;the&nbsp;released&nbsp;versions&lt;br&gt;<br>
of&nbsp;Rabbit.&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
Matthew&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
