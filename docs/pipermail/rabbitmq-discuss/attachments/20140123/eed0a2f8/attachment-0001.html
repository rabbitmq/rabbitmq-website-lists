<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;For&nbsp;the&nbsp;meantime&nbsp;I&nbsp;have&nbsp;left&nbsp;the&nbsp;FD&nbsp;as&nbsp;they&nbsp;are.&nbsp; After&nbsp;renaming&nbsp;the&nbsp;mnesia&nbsp;database&nbsp;the&nbsp;server&nbsp;has&nbsp;been&nbsp;running&nbsp;for&nbsp;the&nbsp;last&nbsp;two&nbsp;hours&nbsp;with&nbsp;no&nbsp;issues,&nbsp;but&nbsp;that&nbsp;could&nbsp;also&nbsp;be&nbsp;that&nbsp;I&nbsp;rebooted&nbsp;the&nbsp;machine&nbsp;earlier&nbsp;as&nbsp;well,&nbsp;and&nbsp; there&nbsp;may&nbsp;be&nbsp;a&nbsp;FD&nbsp;leak&nbsp;somewhere.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&nbsp;also&nbsp;found&nbsp;the&nbsp;following&nbsp;error&nbsp;in&nbsp;the&nbsp;rabbit&nbsp;log&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;crashes;&nbsp;not&nbsp;sure&nbsp;if&nbsp;this&nbsp;relates&nbsp;to&nbsp;FDs:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;22-Jan-2014::14:54:02&nbsp;===&lt;/div&gt;&lt;div&gt;<br>
**&nbsp;Generic&nbsp;server&nbsp;&lt;0.197.0&gt;&nbsp;terminating&lt;/div&gt;&lt;div&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{&#39;$gen_cast&#39;,{combine,29089,29088}}&lt;/div&gt;&lt;div&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{state,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{dict,0,16,16,8,80,48,&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; []},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[],[]}}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[],&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{gc_state,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;/var/lib/rabbitmq/mnesia/rabbit@queue1/msg_store_persistent&quot;,&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rabbit_msg_store_ets_index,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{state,233541,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;/var/lib/rabbitmq/mnesia/rabbit@queue1/msg_store_persistent&quot;},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;229444,237638,&lt;0.194.0&gt;}}&lt;/div&gt;&lt;div&gt;**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&lt;/div&gt;&lt;div&gt;**&nbsp;{{badmatch,{error,system_limit}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp;[{rabbit_msg_store,combine_files,3},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; {rabbit_msg_store_gc,attempt_action,3},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; {rabbit_msg_store_gc,handle_cast,2},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; {gen_server2,handle_msg,2},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; {proc_lib,wake_up,3}]}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;=ERROR&nbsp;REPORT====&nbsp;22-Jan-2014::14:54:02&nbsp;===&lt;/div&gt;&lt;div&gt;**&nbsp;Generic&nbsp;server&nbsp;msg_store_persistent&nbsp;terminating&lt;/div&gt;<br>
&lt;div&gt;**&nbsp;Last&nbsp;message&nbsp;in&nbsp;was&nbsp;{&#39;EXIT&#39;,&lt;0.197.0&gt;,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {{badmatch,{error,system_limit}},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[{rabbit_msg_store,combine_files,3},&lt;/div&gt;&lt;div&gt;<br>
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit_msg_store_gc,attempt_action,3},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {rabbit_msg_store_gc,handle_cast,2},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {gen_server2,handle_msg,2},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {proc_lib,wake_up,3}]}}&lt;/div&gt;&lt;div&gt;**&nbsp;When&nbsp;Server&nbsp;state&nbsp;==&nbsp;{msstate,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&quot;/var/lib/rabbitmq/mnesia/rabbit@queue1/msg_store_persistent&quot;,&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;rabbit_msg_store_ets_index,&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Thu,&nbsp;Jan&nbsp;23,&nbsp;2014&nbsp;at&nbsp;10:54&nbsp;AM,&nbsp;Matthias&nbsp;Radestock&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&lt;&lt;a&nbsp;href=&quot;mailto:matthias@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;matthias@rabbitmq.com&lt;/a&gt;&gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;22/01/14&nbsp;21:38,&nbsp;Daniel&nbsp;Bason&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&nbsp;have&nbsp;raised&nbsp;the&nbsp;limits&nbsp;now&nbsp;to&nbsp;4096.&nbsp; I&#39;m&nbsp;not&nbsp;sure&nbsp;why&nbsp;this&nbsp;started&lt;br&gt;<br>
becoming&nbsp;an&nbsp;issue&nbsp;now&nbsp;after&nbsp;6&nbsp;months&nbsp;of&nbsp;stability,&nbsp;but&nbsp;we&#39;ll&nbsp;try&nbsp;it&nbsp;out.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
It&nbsp;would&nbsp;be&nbsp;good&nbsp;to&nbsp;get&nbsp;a&nbsp;status&nbsp;report&nbsp;after&nbsp;90&nbsp;minutes,&nbsp;to&nbsp;see&nbsp;what&nbsp;the&nbsp;file&nbsp;descriptor&nbsp;situation&nbsp;looks&nbsp;like&nbsp;then.&lt;br&gt;<br>
&lt;br&gt;<br>
It&nbsp;is&nbsp;quite&nbsp;unusual&nbsp;for&nbsp;rabbit&nbsp;to&nbsp;actually&nbsp;die&nbsp;due&nbsp;to&nbsp;insufficient&nbsp;FDs;&nbsp;normally&nbsp;it&nbsp;will&nbsp;just&nbsp;refuse&nbsp;to&nbsp;accept&nbsp;more&nbsp;connections.&lt;br&gt;<br>
&lt;br&gt;<br>
I&nbsp;do&nbsp;notice&nbsp;that&nbsp;you&nbsp;are&nbsp;running&nbsp;quite&nbsp;an&nbsp;old&nbsp;Erlang.&nbsp;Definitely&nbsp;worth&nbsp;upgrading.&lt;span&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Matthias.&lt;/font&gt;&lt;/span&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;br&nbsp;clear=&quot;all&quot;&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;div&nbsp;style=&quot;font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:16px;text-align:left;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;b&gt;Dan&nbsp;Bason &lt;/b&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:16px;text-align:left;background-color:rgb(255,255,255)&quot;&gt;Infrastructure&nbsp;Engineer&nbsp;–&nbsp;Telogis &lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:Verdana,Helvetica,Arial,sans-serif;font-size:13px;line-height:16px;text-align:left;background-color:rgb(255,255,255)&quot;&gt;<br>
&lt;div&nbsp;style=&quot;font-family:&#39;Open&nbsp;Sans&#39;,sans-serif&quot;&gt;&lt;a&nbsp;href=&quot;http://www.telogis.com&quot;&nbsp;target=&quot;_blank&quot;&gt;www.telogis.com&lt;/a&gt;&nbsp; &lt;a&nbsp;href=&quot;http://www.telogis.co.nz&quot;&nbsp;target=&quot;_blank&quot;&gt;www.telogis.co.nz&lt;/a&gt; &lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&#39;Open&nbsp;Sans&#39;,sans-serif&quot;&gt;<br>
+1&nbsp;201&nbsp;477-1448&nbsp;(USA)&nbsp; +64&nbsp;3&nbsp;281-8065&nbsp;(NZ) &lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&#39;Open&nbsp;Sans&#39;,sans-serif&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&#39;Open&nbsp;Sans&#39;,sans-serif&quot;&gt;&lt;p&nbsp;style=&quot;font-family:arial,sans-serif;font-size:12.727272033691406px;line-height:normal&quot;&gt;<br>
&lt;/p&gt;&lt;p&nbsp;style=&quot;margin:0px&quot;&gt;&lt;a&nbsp;href=&quot;http://www.google.com/url?q=http%3A%2F%2Fwww.telogis.com%2F&amp;sa=D&amp;sntz=1&amp;usg=AFrqEze6z4qIWKcAMjgXqM25xkuw9JMysQ&quot;&nbsp;style=&quot;font-family:arial;font-size:small;color:rgb(74,146,193)!important&quot;&nbsp;target=&quot;_blank&quot;&gt;&lt;img&nbsp;src=&quot;http://www.telogis.com/images/telogis-logo-black-sm.png&quot;&nbsp;style=&quot;border:none;padding:0px&quot;&gt;&lt;/a&gt;&lt;/p&gt;<br>
&lt;br&nbsp;style=&quot;color:rgb(0,0,0);font-family:arial;font-size:small&quot;&gt;&lt;i&nbsp;style=&quot;color:rgb(0,0,0);font-family:arial;font-size:small&quot;&gt;One&nbsp;Platform&nbsp;for&nbsp;Location&nbsp;Intelligence&lt;/i&gt;&lt;span&nbsp;style=&quot;color:rgb(0,0,0);font-family:arial;font-size:small&quot;&gt; &lt;/span&gt;&lt;br&gt;<br>
&lt;p&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;<br>
&lt;/div&gt;<br>
<br>
&lt;br&gt;<br>
&lt;p&gt;&lt;span&nbsp;style=&quot;color:gray&quot;&gt;&lt;font&nbsp;size=&quot;1&quot;&gt;This&nbsp;e-mail,<br>
and&nbsp;any&nbsp;attachments,&nbsp;is&nbsp;intended&nbsp;only&nbsp;for&nbsp;use&nbsp;by&nbsp;the&nbsp;addressee(s)&nbsp;named&nbsp;herein<br>
and&nbsp;may&nbsp;contain&nbsp;legally&nbsp;privileged&nbsp;and/or&nbsp;confidential&nbsp;information. &nbsp;It&nbsp;is<br>
the&nbsp;property&nbsp;of&nbsp;Telogis. &nbsp;If&nbsp;you&nbsp;are&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient&nbsp;of&nbsp;this<br>
e-mail,&nbsp;you&nbsp;are&nbsp;hereby&nbsp;notified&nbsp;that&nbsp;any&nbsp;dissemination,&nbsp;distribution&nbsp;or&nbsp;copying<br>
of&nbsp;this&nbsp;e-mail,&nbsp;any&nbsp;attachments&nbsp;thereto,&nbsp;and&nbsp;use&nbsp;of&nbsp;the&nbsp;information&nbsp;contained,<br>
is&nbsp;strictly&nbsp;prohibited. &nbsp;If&nbsp;you&nbsp;have&nbsp;received&nbsp;this&nbsp;e-mail&nbsp;in&nbsp;error,&nbsp;please<br>
notify&nbsp;the&nbsp;sender&nbsp;and&nbsp;permanently&nbsp;delete&nbsp;the&nbsp;original&nbsp;and&nbsp;any&nbsp;copy&nbsp;thereof.&lt;/font&gt;&lt;/span&gt;&lt;span&nbsp;style=&quot;font-size:1.3em;font-size:1.3em&quot;&gt;&lt;/span&gt;&lt;/p&gt;
</tt>
