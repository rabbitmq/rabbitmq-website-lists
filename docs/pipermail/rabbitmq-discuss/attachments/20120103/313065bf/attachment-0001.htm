<tt>
&lt;p&gt;Inline&lt;/p&gt;<br>
&lt;p&gt;On&nbsp;Jan&nbsp;3,&nbsp;2012&nbsp;4:52&nbsp;PM,&nbsp;&amp;quot;Letourneau,&nbsp;John&nbsp;P&nbsp;(John)&amp;quot;&nbsp;&amp;lt;&lt;a&nbsp;href=&quot;mailto:john.letourneau@alcatel-lucent.com&quot;&gt;john.letourneau@alcatel-lucent.com&lt;/a&gt;&amp;gt;&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Well,&nbsp;perhaps&nbsp;a&nbsp;bit&nbsp;more&nbsp;about&nbsp;my&nbsp;configuration&nbsp;8-)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;3&nbsp;nodes…call&nbsp;them&nbsp;N1,&nbsp;N2,&nbsp;N3.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;On&nbsp;each&nbsp;I&nbsp;have&nbsp;federation&nbsp;configured.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;N2&nbsp;–&nbsp;exchange&nbsp;log,&nbsp;connects&nbsp;to&nbsp;N1/log&nbsp;and&nbsp;N3/log&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;N3&nbsp;–&nbsp;exchange&nbsp;log,&nbsp;connects&nbsp;to&nbsp;N2/log&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Right&nbsp;now&nbsp;I&nbsp;cannot&nbsp;seem&nbsp;to&nbsp;have&nbsp;the&nbsp;N1&nbsp;exchange&nbsp;log&nbsp;connect&nbsp;to&nbsp;N2/log;&nbsp;will&nbsp;need&nbsp;to&nbsp;find&nbsp;out&nbsp;why&nbsp;sometime.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;do&nbsp;it&nbsp;this&nbsp;way&nbsp;so&nbsp;that&nbsp;regardless&nbsp;of&nbsp;where&nbsp;the&nbsp;producer&nbsp;of&nbsp;the&nbsp;log&nbsp;message&nbsp;is,&nbsp;everyone&nbsp;everywhere&nbsp;will&nbsp;see&nbsp;it.&lt;/p&gt;<br>
&lt;p&gt;If&nbsp;this&nbsp;is&nbsp;your&nbsp;aim,&nbsp;can&amp;#39;t&nbsp;you&nbsp;simply&nbsp;federate&nbsp;the&nbsp;log&nbsp;exchange&nbsp;on&nbsp;each&nbsp;broker&nbsp;with&nbsp;the&nbsp;other&nbsp;two&nbsp;and&nbsp;set&nbsp;max&nbsp;hops&nbsp;to&nbsp;1?&lt;/p&gt;<br>
&lt;p&gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Each&nbsp;layer&nbsp;in&nbsp;the&nbsp;hierarchy&nbsp;only&nbsp;knows&nbsp;about&nbsp;nodes&nbsp;in&nbsp;adjacent&nbsp;layers…N2&nbsp;being&nbsp;the&nbsp;busy&nbsp;one&nbsp;with&nbsp;a&nbsp;layer&nbsp;above&nbsp;and&nbsp;below.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;If&nbsp;everyone&nbsp;has&nbsp;hops=1,&nbsp;sending&nbsp;a&nbsp;log&nbsp;message&nbsp;to&nbsp;N1/log&nbsp;will&nbsp;only&nbsp;go&nbsp;to&nbsp;N2&nbsp;and&nbsp;not&nbsp;N3&nbsp;[this&nbsp;is&nbsp;correct].&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Setting&nbsp;hops=4,&nbsp;sending&nbsp;a&nbsp;log&nbsp;to&nbsp;N1/log&nbsp;will&nbsp;go&nbsp;to&nbsp;N2&nbsp;and&nbsp;N3…it&nbsp;will&nbsp;also&nbsp;be&nbsp;returned&nbsp;to&nbsp;N2&nbsp;thus&nbsp;a&nbsp;consumer&nbsp;on&nbsp;N2&nbsp;will&nbsp;see&nbsp;the&nbsp;original&nbsp;msg&nbsp;AND&nbsp;the&nbsp;one&nbsp;sent&nbsp;via&nbsp;N2/N3&nbsp;federation&nbsp;link.&nbsp;Also&nbsp;N3&nbsp;sees&nbsp;it&nbsp;twice&nbsp;also&nbsp;for&nbsp;a&nbsp;total&nbsp;of&nbsp;once&nbsp;on&nbsp;N1,&nbsp;twice&nbsp;on&nbsp;N2,&nbsp;and&nbsp;twice&nbsp;on&nbsp;N3…the&nbsp;message&nbsp;took&nbsp;a&nbsp;total&nbsp;of&nbsp;4&nbsp;hops.&lt;br&gt;<br>
<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;So,&nbsp;this&nbsp;is&nbsp;what&nbsp;I&nbsp;mean&nbsp;by&nbsp;‘one&nbsp;might&nbsp;expect’&nbsp;8-)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;-John&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;From:&nbsp;Busoli,&nbsp;Simone&nbsp;[mailto:&lt;a&nbsp;href=&quot;mailto:Simone.Busoli@ferrari.com&quot;&gt;Simone.Busoli@ferrari.com&lt;/a&gt;]&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;Sent:&nbsp;Tuesday,&nbsp;January&nbsp;03,&nbsp;2012&nbsp;10:23&nbsp;AM&lt;br&gt;<br>
&amp;gt;&nbsp;To:&nbsp;Letourneau,&nbsp;John&nbsp;P&nbsp;(John);&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Subject:&nbsp;RE:&nbsp;Federation&nbsp;Configuration&nbsp;and&nbsp;Duplicate&nbsp;Messages&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Hi&nbsp;John,&nbsp;I’m&nbsp;not&nbsp;sure&nbsp;about&nbsp;this:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;As&nbsp;one&nbsp;might&nbsp;expect,&nbsp;this&nbsp;sometimes&nbsp;results&nbsp;in&nbsp;the&nbsp;message&nbsp;being&nbsp;seen&nbsp;&amp;gt;1&nbsp;time&nbsp;at&nbsp;some&nbsp;clients.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp; &lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;It&nbsp;shouldn’t&nbsp;be&nbsp;the&nbsp;expected&nbsp;behavior&nbsp;except&nbsp;for&nbsp;certain&nbsp;scenarios&nbsp;(i.e.&nbsp;disconnection&nbsp;of&nbsp;the&nbsp;brokers).&nbsp;Am&nbsp;I&nbsp;missing&nbsp;something&nbsp;perhaps?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;_________________________________________________________________________________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;Questo&nbsp;messaggio&nbsp;e&nbsp;da&nbsp;intendersi&nbsp;esclusivamente&nbsp;ad&nbsp;uso&nbsp;del&nbsp;destinatario&nbsp;e&nbsp;puo&nbsp;contenere&nbsp;informazioni&nbsp;che&nbsp;sono&nbsp;di&nbsp;natura&nbsp;privilegiata,&nbsp;confidenziale&lt;br&gt;<br>
&amp;gt;&nbsp;o&nbsp;non&nbsp;divulgabile&nbsp;secondo&nbsp;le&nbsp;leggi&nbsp;vigenti.&nbsp;Se&nbsp;il&nbsp;lettore&nbsp;del&nbsp;presente&nbsp;messaggio&nbsp;non&nbsp;e&nbsp;il&nbsp;destinatario&nbsp;designato,&nbsp;o&nbsp;il&nbsp;dipendente/agente&nbsp;responsabile&lt;br&gt;<br>
&amp;gt;&nbsp;per&nbsp;la&nbsp;consegna&nbsp;del&nbsp;messaggio&nbsp;al&nbsp;destinatario&nbsp;designato,&nbsp;si&nbsp;informa&nbsp;che&nbsp;ogni&nbsp;disseminazione,&nbsp;distribuzione&nbsp;o&nbsp;copiatura&nbsp;di&nbsp;questa&nbsp;comunicazione&nbsp;e&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;strettamente&nbsp;proibita&nbsp;anche&nbsp;ai&nbsp;sensi&nbsp;del&nbsp;decreto&nbsp;legislativo&nbsp;196/03&nbsp;.&nbsp;Se&nbsp;avete&nbsp;ricevuto&nbsp;questo&nbsp;messaggio&nbsp;per&nbsp;errore,&nbsp;vi&nbsp;preghiamo&nbsp;di&nbsp;notificarcelo&lt;br&gt;<br>
&amp;gt;&nbsp;immediatamente&nbsp;a&nbsp;mezzo&nbsp;e-mail&nbsp;di&nbsp;risposta&nbsp;e&nbsp;successivamente&nbsp;di&nbsp;procedere&nbsp;alla&nbsp;cancellazione&nbsp;di&nbsp;questa&nbsp;e-mail&nbsp;e&nbsp;relativi&nbsp;allegati&nbsp;dal&nbsp;vostro&nbsp;sistema.&lt;br&gt;<br>
&amp;gt;&nbsp;_________________________________________________________________________________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;This&nbsp;message&nbsp;is&nbsp;intended&nbsp;only&nbsp;for&nbsp;the&nbsp;use&nbsp;of&nbsp;the&nbsp;addressee&nbsp;and&nbsp;may&nbsp;contain&nbsp;information&nbsp;that&nbsp;is&nbsp;privileged,&nbsp;confidential&nbsp;and&nbsp;exempt&nbsp;from&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;disclosure&nbsp;under&nbsp;applicable&nbsp;law.&nbsp;If&nbsp;the&nbsp;reader&nbsp;of&nbsp;this&nbsp;message&nbsp;is&nbsp;not&nbsp;the&nbsp;intended&nbsp;recipient,&nbsp;or&nbsp;the&nbsp;employee&nbsp;or&nbsp;agent&nbsp;responsible&nbsp;for&nbsp;delivering&nbsp;the&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;message&nbsp;to&nbsp;the&nbsp;intended&nbsp;recipient,&nbsp;you&nbsp;are&nbsp;hereby&nbsp;notified&nbsp;that&nbsp;any&nbsp;dissemination,&nbsp;distribution&nbsp;or&nbsp;copying&nbsp;of&nbsp;this&nbsp;communication&nbsp;is&nbsp;strictly&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;prohibited.&nbsp;If&nbsp;you&nbsp;have&nbsp;received&nbsp;this&nbsp;e-mail&nbsp;in&nbsp;error,&nbsp;please&nbsp;notify&nbsp;us&nbsp;immediately&nbsp;by&nbsp;return&nbsp;e-mail&nbsp;and&nbsp;delete&nbsp;this&nbsp;e-mail&nbsp;and&nbsp;all&nbsp;attachments&nbsp;from&nbsp;&lt;br&gt;<br>
&amp;gt;&nbsp;your&nbsp;system.&lt;br&gt;<br>
&amp;gt;&nbsp;_________________________________________________________________________________________________________________&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;/p&gt;<br>

</tt>
