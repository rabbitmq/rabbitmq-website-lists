<tt>
Hi&nbsp;Alex,&lt;br&gt;I&nbsp;ran&nbsp;the&nbsp;multicast&nbsp;client&nbsp;and&nbsp;am&nbsp;getting&nbsp;speeds&nbsp;like:&nbsp;&lt;br&gt;&lt;br&gt;sending&nbsp;rate:&nbsp;3550&nbsp;msg/s,&nbsp;basic&nbsp;returns:&nbsp;0&nbsp;ret/s&lt;br&gt;recving&nbsp;rate:&nbsp;3461&nbsp;msg/s,&nbsp;min/avg/max&nbsp;latency:&nbsp;11931197/12253891/12477030&nbsp;microseconds&lt;br&gt;&lt;br&gt;If&nbsp;I&nbsp;let&nbsp;it&nbsp;run&nbsp;for&nbsp;a&nbsp;bit&nbsp;then&nbsp;sometimes&nbsp;both&nbsp;the&nbsp;sending&nbsp;and&nbsp;receiving&nbsp;rate&nbsp;drop&nbsp;significantly&nbsp;e.g.:&lt;br&gt;<br>
&lt;br&gt;sending&nbsp;rate:&nbsp;638&nbsp;msg/s,&nbsp;basic&nbsp;returns:&nbsp;0&nbsp;ret/s&lt;br&gt;recving&nbsp;rate:&nbsp;628&nbsp;msg/s,&nbsp;min/avg/max&nbsp;latency:&nbsp;11788406/12363242/12735553&nbsp;microseconds&lt;br&gt;&lt;br&gt;Not&nbsp;sure&nbsp;if&nbsp;this&nbsp;drop&nbsp;is&nbsp;indicative&nbsp;of&nbsp;anything?&lt;br&gt;&lt;br&gt;We&amp;#39;re&nbsp;using&nbsp;the&nbsp;java&nbsp;client&nbsp;1.8.1,&nbsp;the&nbsp;broker&nbsp;is&nbsp;rabbitmq_server-1.8.1&lt;br&gt;<br>
&lt;br&gt;Thanks&lt;br&gt;Michael&lt;br&gt;&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Sep&nbsp;3,&nbsp;2010&nbsp;at&nbsp;9:29&nbsp;AM,&nbsp;Alexandru&nbsp;Scvorţov&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:alexandru@rabbitmq.com&quot;&gt;alexandru@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
Hi&nbsp;Michael,&lt;br&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;We&nbsp;are&nbsp;putting&nbsp;a&nbsp;very&nbsp;low&nbsp;volume&nbsp;of&nbsp;messages&nbsp;through&nbsp;and&nbsp;have&nbsp;sometimes&nbsp;had&lt;br&gt;<br>
&amp;gt;&nbsp;to&nbsp;wait&nbsp;up&nbsp;to&nbsp;15&nbsp;minutes&nbsp;for&nbsp;a&nbsp;single&nbsp;message&nbsp;to&nbsp;be&nbsp;delivered&nbsp;(at&nbsp;the&nbsp;time&lt;br&gt;<br>
&amp;gt;&nbsp;this&nbsp;was&nbsp;the&nbsp;only&nbsp;message&nbsp;in&nbsp;the&nbsp;system).&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;That&nbsp;sounds&nbsp;strage.&nbsp; Are&nbsp;you&nbsp;up&nbsp;for&nbsp;a&nbsp;bit&nbsp;of&nbsp;debugging?&lt;br&gt;<br>
&lt;br&gt;<br>
Download&nbsp;the&nbsp;java&nbsp;client,&lt;br&gt;<br>
 &lt;a&nbsp;href=&quot;http://www.rabbitmq.com/java-client.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.rabbitmq.com/java-client.html&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
Unpack&nbsp;it,&nbsp;and&nbsp;run&lt;br&gt;<br>
&nbsp; sh&nbsp;runjava.sh&nbsp;com.rabbitmq.examples.MulticastMain&nbsp;-x&nbsp;1&nbsp;-y&nbsp;1&lt;br&gt;<br>
&lt;br&gt;<br>
That&nbsp;command&nbsp;will&nbsp;run&nbsp;one&nbsp;of&nbsp;our&nbsp;example&nbsp;programmes&nbsp;in&nbsp;a&nbsp;way&nbsp;that&lt;br&gt;<br>
matches&nbsp;your&nbsp;setup:&nbsp;1&nbsp;producer&nbsp;(-x&nbsp;1)&nbsp;and&nbsp;1&nbsp;consumer&nbsp;(-y&nbsp;1).&lt;br&gt;<br>
&lt;br&gt;<br>
When&nbsp;I&nbsp;run&nbsp;it,&nbsp;I&nbsp;get&nbsp;speeds&nbsp;like:&lt;br&gt;<br>
&nbsp; recving&nbsp;rate:&nbsp;6052&nbsp;msg/s,&nbsp;min/avg/max&nbsp;latency:&nbsp;1063522/1118048/1164637&nbsp;microseconds&lt;br&gt;<br>
&nbsp; sending&nbsp;rate:&nbsp;6419&nbsp;msg/s,&nbsp;basic&nbsp;returns:&nbsp;0&nbsp;ret/s&lt;br&gt;<br>
&lt;br&gt;<br>
If&nbsp;you&amp;#39;re&nbsp;getting&nbsp;similar&nbsp;speeds,&nbsp;there&amp;#39;s&nbsp;probably&nbsp;something&nbsp;wrong&nbsp;with&lt;br&gt;<br>
the&nbsp;consumers/producers.&nbsp; If&nbsp;not,&nbsp;it&nbsp;might&nbsp;be&nbsp;something&nbsp;to&nbsp;do&nbsp;with&nbsp;the&lt;br&gt;<br>
server.&lt;br&gt;<br>
&lt;br&gt;<br>
Could&nbsp;you&nbsp;please&nbsp;try&nbsp;it?&lt;br&gt;<br>
&lt;br&gt;<br>
Also,&nbsp;which&nbsp;version&nbsp;the&nbsp;broker&nbsp;and&nbsp;which&nbsp;client&nbsp;are&nbsp;you&nbsp;using?&lt;br&gt;<br>
&lt;br&gt;<br>
Cheers,&lt;br&gt;<br>
Alex&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
On&nbsp;Fri,&nbsp;Sep&nbsp;03,&nbsp;2010&nbsp;at&nbsp;09:03:25AM&nbsp;+0100,&nbsp;Michael&nbsp;Burns&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&nbsp;Hi,&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;We&amp;#39;re&nbsp;just&nbsp;starting&nbsp;out&nbsp;with&nbsp;RabbitMQ&nbsp;and&nbsp;have&nbsp;a&nbsp;very&nbsp;simple&nbsp;setup:&nbsp;one&lt;br&gt;<br>
&amp;gt;&nbsp;queue,&nbsp;one&nbsp;producer&nbsp;doing&nbsp;a&nbsp;basicPublish&nbsp;and&nbsp;one&nbsp;consumer&nbsp;doing&nbsp;a&lt;br&gt;<br>
&amp;gt;&nbsp;basicConsume&nbsp;using&nbsp;QueueingConsumer.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;For&nbsp;the&nbsp;most&nbsp;part&nbsp;it&nbsp;works&nbsp;fine&nbsp;however&nbsp;at&nbsp;fairly&nbsp;regular&nbsp;intervals&nbsp;we&nbsp;are&lt;br&gt;<br>
&amp;gt;&nbsp;finding&nbsp;that&nbsp;messages&nbsp;remain&nbsp;on&nbsp;the&nbsp;queue&nbsp;for&nbsp;a&nbsp;considerable&nbsp;period&nbsp;before&lt;br&gt;<br>
&amp;gt;&nbsp;being&nbsp;delivered&nbsp;to&nbsp;the&nbsp;consumer.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;We&nbsp;are&nbsp;putting&nbsp;a&nbsp;very&nbsp;low&nbsp;volume&nbsp;of&nbsp;messages&nbsp;through&nbsp;and&nbsp;have&nbsp;sometimes&nbsp;had&lt;br&gt;<br>
&amp;gt;&nbsp;to&nbsp;wait&nbsp;up&nbsp;to&nbsp;15&nbsp;minutes&nbsp;for&nbsp;a&nbsp;single&nbsp;message&nbsp;to&nbsp;be&nbsp;delivered&nbsp;(at&nbsp;the&nbsp;time&lt;br&gt;<br>
&amp;gt;&nbsp;this&nbsp;was&nbsp;the&nbsp;only&nbsp;message&nbsp;in&nbsp;the&nbsp;system).&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;In&nbsp;all&nbsp;cases&nbsp;the&nbsp;messages&nbsp;are&nbsp;eventually&nbsp;delivered.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;dont&nbsp;know&nbsp;where&nbsp;to&nbsp;start&nbsp;debugging&nbsp;this&nbsp;as&nbsp;there&nbsp;is&nbsp;nothing&nbsp;in&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;RabbitMQ&nbsp;logs&nbsp;thats&nbsp;suggests&nbsp;something&nbsp;is&nbsp;going&nbsp;wrong&nbsp;-&nbsp;could&nbsp;anyone&nbsp;point&lt;br&gt;<br>
&amp;gt;&nbsp;me&nbsp;in&nbsp;the&nbsp;right&nbsp;direction&nbsp;as&nbsp;to&nbsp;what&nbsp;may&nbsp;be&nbsp;causing&nbsp;this?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Many&nbsp;Thanks,&lt;br&gt;<br>
&amp;gt;&nbsp;Michael&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
