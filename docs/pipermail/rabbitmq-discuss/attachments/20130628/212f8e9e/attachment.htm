<tt>
&lt;span&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;Dear&nbsp;AMQPers,&lt;/span&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;I&nbsp;am&nbsp;setting&nbsp;two&nbsp;AMQP&nbsp;message&nbsp;brokers&nbsp;on&nbsp;a&nbsp;LAN&nbsp;running&nbsp;the&nbsp;latest&nbsp;RabbitMQ&nbsp;Server&nbsp;3.1.3.&nbsp;&amp;nbsp;They&nbsp;will&nbsp;be&nbsp;part&nbsp;of&nbsp;a&nbsp;high-availability&nbsp;cluster&nbsp;with&nbsp;full&nbsp;mirroring.&nbsp;&amp;nbsp;The&nbsp;cluster&nbsp;will&nbsp;receive&nbsp;about&nbsp;430&nbsp;messages&nbsp;per&nbsp;second&nbsp;(or&nbsp;280KB/s&nbsp;incoming&nbsp;data&nbsp;as&nbsp;shown&nbsp;by&nbsp;VM&nbsp;statistics).&nbsp;&amp;nbsp;Each&nbsp;server&nbsp;process&nbsp;will&nbsp;run&nbsp;on&nbsp;its&nbsp;own&nbsp;dedicated&nbsp;VM&nbsp;with&nbsp;4&nbsp;CPUs&nbsp;and&nbsp;8GB&nbsp;of&nbsp;RAM.&nbsp;&amp;nbsp;Some&nbsp;of&nbsp;the&nbsp;publishers&nbsp;are&nbsp;on&nbsp;high-latency&nbsp;WAN&nbsp;connections,&nbsp;while&nbsp;the&nbsp;consumers&nbsp;are&nbsp;primarily&nbsp;located&nbsp;on&nbsp;the&nbsp;LAN.&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;I&nbsp;am&nbsp;considering&nbsp;the&nbsp;following&nbsp;changes:&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;pre&nbsp;style=&quot;margin:&nbsp;1em&nbsp;1em&nbsp;1em&nbsp;1.6em;&nbsp;padding-top:&nbsp;2px;&nbsp;padding-right:&nbsp;2px;&nbsp;padding-bottom:&nbsp;2px;&nbsp;background-color:&nbsp;rgb(250,&nbsp;250,&nbsp;250);&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;rgb(218,&nbsp;218,&nbsp;218);&nbsp;width:&nbsp;auto;&nbsp;overflow-x:&nbsp;auto;&nbsp;overflow-y:&nbsp;hidden;&nbsp;color:&nbsp;rgb(72,&nbsp;72,&nbsp;72);&nbsp;font-size:&nbsp;12px;&quot;&gt;echo&nbsp;'net.core.wmem_max=1048576'&nbsp;&amp;gt;&amp;gt;&nbsp;/etc/sysctl.conf<br>
echo&nbsp;'net.core.rmem_max=1048576'&nbsp;&amp;gt;&amp;gt;&nbsp;/etc/sysctl.conf<br>
echo&nbsp;'net.ipv4.tcp_rmem=&nbsp;10240&nbsp;87380&nbsp;1048576'&nbsp;&amp;gt;&amp;gt;&nbsp;/etc/sysctl.conf<br>
echo&nbsp;'net.ipv4.tcp_wmem=&nbsp;10240&nbsp;87380&nbsp;1048576'&nbsp;&amp;gt;&amp;gt;&nbsp;/etc/sysctl.conf<br>
echo&nbsp;'net.ipv4.tcp_window_scaling&nbsp;=&nbsp;1'&nbsp;&amp;gt;&amp;gt;&nbsp;/etc/sysctl.conf<br>
echo&nbsp;'net.ipv4.tcp_timestamps&nbsp;=&nbsp;1'&nbsp;&amp;gt;&amp;gt;&nbsp;/etc/sysctl.conf<br>
echo&nbsp;'net.ipv4.tcp_sack&nbsp;=&nbsp;1'&nbsp;&amp;gt;&amp;gt;&nbsp;/etc/sysctl.conf<br>
echo&nbsp;'net.ipv4.tcp_no_metrics_save&nbsp;=&nbsp;1'&nbsp;&amp;gt;&amp;gt;&nbsp;/etc/sysctl.conf<br>
echo&nbsp;'net.core.netdev_max_backlog&nbsp;=&nbsp;5000'&nbsp;&amp;gt;&amp;gt;&nbsp;/etc/sysctl.conf&lt;/pre&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;Please&nbsp;let&nbsp;me&nbsp;know&nbsp;your&nbsp;thoughts&nbsp;on&nbsp;whether&nbsp;I&nbsp;should&nbsp;apply&nbsp;these&nbsp;or&nbsp;other&nbsp;Linux&nbsp;network&nbsp;tweaks,&nbsp;or&nbsp;if&nbsp;it's&nbsp;recommended&nbsp;to&nbsp;go&nbsp;with&nbsp;the&nbsp;OS&nbsp;defaults?&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;Thanks,&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;Donovan&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;arial,&nbsp;sans-serif;&quot;&gt;&lt;br&gt;&lt;/div&gt;
</tt>
