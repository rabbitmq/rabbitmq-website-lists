<tt>
&lt;p&nbsp;style=&quot;font-size:&nbsp;14px;&nbsp;clear:&nbsp;both;&nbsp;word-wrap:&nbsp;break-word;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Arial,&nbsp;'Liberation&nbsp;Sans',&nbsp;'DejaVu&nbsp;Sans',&nbsp;sans-serif;&quot;&gt;We&nbsp;have&nbsp;been&nbsp;experimenting&nbsp;with&nbsp;RabbitMQ.&nbsp;During&nbsp;those&nbsp;experiments&nbsp;we&nbsp;have&nbsp;seen&nbsp;some&nbsp;strange&nbsp;behavior&nbsp;with&nbsp;respect&nbsp;to&nbsp;a&nbsp;worker&nbsp;queue.&lt;/p&gt;&lt;p&nbsp;style=&quot;font-size:&nbsp;14px;&nbsp;clear:&nbsp;both;&nbsp;word-wrap:&nbsp;break-word;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Arial,&nbsp;'Liberation&nbsp;Sans',&nbsp;'DejaVu&nbsp;Sans',&nbsp;sans-serif;&quot;&gt;One&nbsp;of&nbsp;the&nbsp;observations&nbsp;is&nbsp;that&nbsp;the&nbsp;read&nbsp;performance&nbsp;of&nbsp;a&nbsp;queue&nbsp;does&nbsp;not&nbsp;change&nbsp;when&nbsp;we&nbsp;add&nbsp;or&nbsp;remove&nbsp;processes&nbsp;that&nbsp;read&nbsp;from&nbsp;that&nbsp;queue.&nbsp;For&nbsp;example:&nbsp;when&nbsp;a&nbsp;single&nbsp;process&nbsp;handles&nbsp;messages&nbsp;at&nbsp;a&nbsp;rate&nbsp;of&nbsp;800&nbsp;msg/sec.&nbsp;Adding&nbsp;a&nbsp;second&nbsp;(similar)&nbsp;process&nbsp;has&nbsp;the&nbsp;result&nbsp;of&nbsp;both&nbsp;processes&nbsp;handling&nbsp;messages&nbsp;at&nbsp;a&nbsp;rate&nbsp;of&nbsp;400&nbsp;msg/sec&nbsp;each,&nbsp;with&nbsp;again&nbsp;800&nbsp;msg/sec&nbsp;as&nbsp;total.&nbsp;When&nbsp;we&nbsp;shutdown&nbsp;one&nbsp;of&nbsp;the&nbsp;processes,&nbsp;the&nbsp;msg&nbsp;rate&nbsp;of&nbsp;the&nbsp;other&nbsp;process&nbsp;increases&nbsp;to&nbsp;(you&nbsp;guessed)&nbsp;800&nbsp;msg/sec.&lt;/p&gt;&lt;p&nbsp;style=&quot;font-size:&nbsp;14px;&nbsp;clear:&nbsp;both;&nbsp;word-wrap:&nbsp;break-word;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Arial,&nbsp;'Liberation&nbsp;Sans',&nbsp;'DejaVu&nbsp;Sans',&nbsp;sans-serif;&quot;&gt;This&nbsp;is&nbsp;not&nbsp;what&nbsp;we&nbsp;expected.&nbsp;Why&nbsp;does&nbsp;the&nbsp;throughput&nbsp;not&nbsp;double&nbsp;when&nbsp;we&nbsp;add&nbsp;a&nbsp;second&nbsp;reader&nbsp;to&nbsp;a&nbsp;queue?&lt;/p&gt;&lt;p&nbsp;style=&quot;font-size:&nbsp;14px;&nbsp;clear:&nbsp;both;&nbsp;word-wrap:&nbsp;break-word;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Arial,&nbsp;'Liberation&nbsp;Sans',&nbsp;'DejaVu&nbsp;Sans',&nbsp;sans-serif;&quot;&gt;We&nbsp;are&nbsp;using&nbsp;the&nbsp;RabbitMQ&nbsp;.NET&nbsp;client&nbsp;(in&nbsp;combination&nbsp;with&nbsp;EasyNetQ&nbsp;Advanced&nbsp;API).&nbsp;We&nbsp;have&nbsp;the&nbsp;publisher&nbsp;confirms&nbsp;switched&nbsp;on,&nbsp;use&nbsp;a&nbsp;prefetch_count&nbsp;(Qos)&nbsp;of&nbsp;50,&nbsp;Ack&nbsp;messages&nbsp;when&nbsp;they&nbsp;have&nbsp;been&nbsp;processed,&nbsp;and&nbsp;use&nbsp;durable&nbsp;exchanges,&nbsp;queues&nbsp;and&nbsp;messages.&lt;/p&gt;&lt;p&nbsp;style=&quot;font-size:&nbsp;14px;&nbsp;clear:&nbsp;both;&nbsp;word-wrap:&nbsp;break-word;&nbsp;color:&nbsp;rgb(0,&nbsp;0,&nbsp;0);&nbsp;font-family:&nbsp;Arial,&nbsp;'Liberation&nbsp;Sans',&nbsp;'DejaVu&nbsp;Sans',&nbsp;sans-serif;&quot;&gt;We&nbsp;must&nbsp;be&nbsp;doing&nbsp;something&nbsp;wrong,&nbsp;any&nbsp;pointer&nbsp;in&nbsp;the&nbsp;right&nbsp;direction&nbsp;is&nbsp;very&nbsp;welcome...&lt;/p&gt;
</tt>
