<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;I&amp;#39;m&nbsp;trying&nbsp;to&nbsp;understand&nbsp;memory&nbsp;usage&nbsp;in&nbsp;rabbitmq.&nbsp;Pointers&nbsp;to&nbsp;relevant&nbsp;docs,&nbsp;salient&nbsp;comments&nbsp;etc&nbsp;greatly&nbsp;welcomed.&nbsp;We&nbsp;have&nbsp;a&nbsp;number&nbsp;of&nbsp;batch&nbsp;jobs&nbsp;that&nbsp;are&nbsp;handled&nbsp;by&nbsp;one&nbsp;process&nbsp;putting&nbsp;information&nbsp;on&nbsp;a&nbsp;queue&nbsp;and&nbsp;then&nbsp;storm&nbsp;spouts&nbsp;read&nbsp;the&nbsp;info&nbsp;off&nbsp;and&nbsp;process.&nbsp;In&nbsp;the&nbsp;case&nbsp;of&nbsp;one&nbsp;job,&nbsp;we&nbsp;put&nbsp;about&nbsp;5.9&nbsp;million&nbsp;integers&nbsp;on&nbsp;a&nbsp;queue&nbsp;as&nbsp;individual&nbsp;messages&nbsp;and&nbsp;process.&nbsp;When&nbsp;those&nbsp;5.9&nbsp;go&nbsp;on,&nbsp;rabbitmq&nbsp;usage&nbsp;jumps&nbsp;up&nbsp;by&nbsp;about&nbsp;a&nbsp;gig.&lt;div&gt;<br>
&lt;br&gt;&lt;/div&gt;&lt;div&gt;Currently&nbsp;with&nbsp;5.6&nbsp;million&nbsp;still&nbsp;in&nbsp;the&nbsp;queue,&nbsp;we&nbsp;have&nbsp;the&nbsp;following&nbsp;memory&nbsp;usage&nbsp;on&nbsp;the&nbsp;node&nbsp;as&nbsp;determind&nbsp;by&nbsp;rabbitmqctl&nbsp;status:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt; {memory,&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; [{total,1178020816},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp;{processes,131791280},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;{processes_used,130916744},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;{system,1046229536},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;{atom,1338193},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;{atom_used,1314590},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;{binary,12936792},&lt;/div&gt;<br>
&lt;div&gt; &nbsp; &nbsp; &nbsp;{code,15696033},&lt;/div&gt;&lt;div&gt; &nbsp; &nbsp; &nbsp;{ets,975434504}]},&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&nbsp;style&gt;Can&nbsp;anyone&nbsp;shed&nbsp;light&nbsp;on&nbsp;the&nbsp;high&nbsp;level&nbsp;of&nbsp;memory&nbsp;usage&nbsp;and&nbsp;what&nbsp;we&nbsp;could&nbsp;do&nbsp;to&nbsp;cut&nbsp;down&nbsp;on&nbsp;it?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;--&nbsp;&lt;br&gt;&lt;div&nbsp;dir=&quot;ltr&quot;&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;Ce&nbsp;n&amp;#39;est&nbsp;pas&nbsp;une&nbsp;signature&lt;br&gt;&lt;/div&gt;<br>
&lt;/div&gt;&lt;/div&gt;<br>

</tt>
