<tt>
On&nbsp;Tue,&nbsp;Nov&nbsp;13,&nbsp;2012&nbsp;at&nbsp;12:24&nbsp;PM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_extra&quot;&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;13/11/12&nbsp;10:35,&nbsp;Irmo&nbsp;Manie&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&amp;#39;m&nbsp;still&nbsp;seeing&nbsp;this&nbsp;behavior&nbsp;and&nbsp;it&nbsp;seems&nbsp;to&nbsp;get&nbsp;worse.&lt;br&gt;<br>
Every&nbsp;hour&nbsp;there&nbsp;is&nbsp;a&nbsp;drop&nbsp;in&nbsp;delivery&nbsp;rate&nbsp;to&nbsp;0&nbsp;and&nbsp;now&nbsp;also&nbsp;the&lt;br&gt;<br>
publish&nbsp;rate&nbsp;drops&nbsp;to&nbsp;0.&lt;br&gt;<br>
Sometimes&nbsp;even&nbsp;for&nbsp;a&nbsp;period&nbsp;of&nbsp;5&nbsp;minutes&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;really&nbsp;sure&nbsp;that&nbsp;messaging&nbsp;continues&nbsp;and&nbsp;the&nbsp;statistics&nbsp;are&nbsp;a&nbsp;lie.&lt;br&gt;<br>
We&nbsp;use&nbsp;rabbitmq&nbsp;as&nbsp;our&nbsp;main&nbsp;communication&nbsp;hub&nbsp;and&nbsp;certainly&nbsp;a&nbsp;drop&nbsp;in&lt;br&gt;<br>
real-time&nbsp;market&nbsp;data&nbsp;going&nbsp;from&nbsp;~500&nbsp;msg/s&nbsp;to&nbsp;0&nbsp;for&nbsp;about&nbsp;5&nbsp;minutes&lt;br&gt;<br>
must&nbsp;be&nbsp;noticed&nbsp;somewhere&nbsp;if&nbsp;this&nbsp;is&nbsp;true.&lt;br&gt;<br>
&lt;br&gt;<br>
I&amp;#39;m&nbsp;wondering&nbsp;if&nbsp;it&nbsp;might&nbsp;be&nbsp;the&nbsp;writing&nbsp;part&nbsp;of&nbsp;the&nbsp;statistics&nbsp;to&nbsp;the&lt;br&gt;<br>
database.&nbsp;Could&nbsp;that&nbsp;timeout?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
No.&lt;br&gt;<br>
&lt;br&gt;<br>
But&nbsp;if&nbsp;the&nbsp;database&nbsp;is&nbsp;busy&nbsp;with&nbsp;something&nbsp;else&nbsp;then&nbsp;it&nbsp;could&nbsp;take&nbsp;a&nbsp;while&nbsp;to&nbsp;process&nbsp;the&nbsp;updates&nbsp;it&amp;#39;s&nbsp;received.&nbsp;I&nbsp;find&nbsp;it&nbsp;hard&nbsp;to&nbsp;believe&nbsp;that&nbsp;it&nbsp;could&nbsp;be&nbsp;busy&nbsp;for&nbsp;5&nbsp;minutes&nbsp;though.&lt;br&gt;<br>
&lt;br&gt;<br>
There&nbsp;is&nbsp;nothing&nbsp;scheduled&nbsp;once&nbsp;an&nbsp;hour&nbsp;in&nbsp;RabbitMQ&nbsp;though&nbsp;-&nbsp;so&nbsp;whatever&nbsp;is&nbsp;happening&nbsp;once&nbsp;an&nbsp;hour&nbsp;must&nbsp;be&nbsp;outside&nbsp;the&nbsp;broker.&nbsp;Figuring&nbsp;out&nbsp;what&nbsp;that&nbsp;is&nbsp;would&nbsp;help&nbsp;a&nbsp;lot.&lt;div&nbsp;class=&quot;im&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;<br>
&lt;div&gt;Clear&nbsp;:-)&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;im&quot;&gt;<br>
&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&nbsp;don&amp;#39;t&nbsp;really&nbsp;want&nbsp;to&nbsp;restart&nbsp;to&nbsp;see&nbsp;if&nbsp;that&nbsp;fixes&nbsp;the&nbsp;problem.&lt;br&gt;<br>
It&amp;#39;s&nbsp;been&nbsp;running&nbsp;for&nbsp;177&nbsp;days&nbsp;now&nbsp;and&nbsp;apart&nbsp;from&nbsp;the&nbsp;weird&nbsp;statistics&lt;br&gt;<br>
we&nbsp;don&amp;#39;t&nbsp;have&nbsp;any&nbsp;problems.&lt;br&gt;<br>
&lt;br&gt;<br>
Is&nbsp;there&nbsp;anything&nbsp;I&nbsp;could&nbsp;do&nbsp;as&nbsp;additional&nbsp;checks&nbsp;to&nbsp;figure&nbsp;out&nbsp;where&lt;br&gt;<br>
the&nbsp;problem&nbsp;might&nbsp;be?&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
Just&nbsp;to&nbsp;be&nbsp;clear:&nbsp;is&nbsp;this&nbsp;just&nbsp;the&nbsp;rates&nbsp;in&nbsp;/api/overview&nbsp;or&nbsp;the&nbsp;ones&nbsp;in&nbsp;/api/queues&nbsp;as&nbsp;well?&lt;br&gt;<br>
&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Both&nbsp;show&nbsp;0&nbsp;as&nbsp;the&nbsp;rates&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
I&amp;#39;d&nbsp;also&nbsp;be&nbsp;interested&nbsp;to&nbsp;see&nbsp;the&nbsp;output&nbsp;of:&lt;br&gt;<br>
&lt;br&gt;<br>
rabbitmqctl&nbsp;eval&nbsp;&amp;#39;process_info(global:whereis_&lt;u&gt;&lt;/u&gt;name(rabbit_mgmt_db),&nbsp;[message_queue_len,status,&nbsp;current_stacktrace]).&amp;#39;&lt;br&gt;<br>
&lt;br&gt;<br>
when&nbsp;the&nbsp;statistics&nbsp;drop&nbsp;to&nbsp;0.&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ll&nbsp;try&nbsp;to&nbsp;check&nbsp;this&nbsp;and&nbsp;let&nbsp;you&nbsp;know&nbsp;if&nbsp;I&nbsp;find&nbsp;anything&nbsp;weird&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;so&nbsp;far&nbsp;for&nbsp;the&nbsp;information&nbsp;and&nbsp;help.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-&nbsp;Irmo&lt;/div&gt;&lt;div&gt; &lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;br&gt;<br>
&lt;br&gt;<br>
--&nbsp;&lt;br&gt;<br>
Simon&nbsp;MacMullen&lt;br&gt;<br>
RabbitMQ,&nbsp;VMware&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
