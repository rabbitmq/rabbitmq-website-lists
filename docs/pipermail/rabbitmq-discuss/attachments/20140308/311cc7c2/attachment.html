<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;&lt;p&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em;padding:0px;border:0px;font-size:14px;vertical-align:baseline;clear:both;color:rgb(0,0,0);font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif;line-height:17.804800033569336px&quot;&gt;<br>
I&nbsp;have&nbsp;two&nbsp;Ubuntu&nbsp;instances&nbsp;in&nbsp;the&nbsp;EC2&nbsp;and&nbsp;I&nbsp;want&nbsp;to&nbsp;cluster&nbsp;them.&lt;/p&gt;&lt;p&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em;padding:0px;border:0px;font-size:14px;vertical-align:baseline;clear:both;color:rgb(0,0,0);font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif;line-height:17.804800033569336px&quot;&gt;<br>
One&nbsp;ip&nbsp;will&nbsp;be&nbsp;refered&nbsp;as&nbsp;-&nbsp;X&nbsp;(the&nbsp;&quot;net&nbsp;addr&quot;&nbsp;ifconfig&nbsp;displayed&nbsp;IP)&nbsp;and&nbsp;its&nbsp;public&nbsp;ip&nbsp;will&nbsp;be&nbsp;reffered&nbsp;as&nbsp;PX.&lt;br&gt;the&nbsp;other&nbsp;ip&nbsp;is&nbsp;Y&nbsp;and&nbsp;its&nbsp;public&nbsp;is&nbsp;Y.&lt;/p&gt;&lt;p&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em;padding:0px;border:0px;font-size:14px;vertical-align:baseline;clear:both;color:rgb(0,0,0);font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif;line-height:17.804800033569336px&quot;&gt;<br>
So&nbsp;now&nbsp;I&nbsp;did&nbsp;the&nbsp;following&nbsp;on&nbsp;both&nbsp;machines.&lt;/p&gt;&lt;ol&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em&nbsp;30px;padding:0px;border:0px;font-size:14px;vertical-align:baseline;list-style-position:initial;color:rgb(0,0,0);font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif;line-height:17.804800033569336px&quot;&gt;<br>
&lt;li&nbsp;style=&quot;margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent&quot;&gt;installed&nbsp;the&nbsp;latest&nbsp;rabbbitmq.&lt;/li&gt;&lt;li&nbsp;style=&quot;margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent&quot;&gt;<br>
installed&nbsp;the&nbsp;management&nbsp;plugin.&lt;/li&gt;&lt;li&nbsp;style=&quot;margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent&quot;&gt;opened&nbsp;the&nbsp;port&nbsp;for&nbsp;5672&nbsp;(rabbit)&nbsp;and&nbsp;15672(management&nbsp;plugin)&lt;/li&gt;&lt;li&nbsp;style=&quot;margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent&quot;&gt;<br>
connected&nbsp;to&nbsp;rabbit&nbsp;with&nbsp;my&nbsp;test&nbsp;app.&lt;/li&gt;&lt;li&nbsp;style=&quot;margin:0px;padding:0px;border:0px;vertical-align:baseline;background-color:transparent&quot;&gt;connected&nbsp;to&nbsp;the&nbsp;ui.&lt;/li&gt;&lt;/ol&gt;&lt;p&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em;padding:0px;border:0px;font-size:14px;vertical-align:baseline;clear:both;color:rgb(0,0,0);font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif;line-height:17.804800033569336px&quot;&gt;<br>
So&nbsp;now&nbsp;for&nbsp;the&nbsp;cluster.&nbsp;I&nbsp;did&nbsp;the&nbsp;following&nbsp;commands&lt;/p&gt;&lt;p&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em;padding:0px;border:0px;font-size:14px;vertical-align:baseline;clear:both;color:rgb(0,0,0);font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif;line-height:17.804800033569336px&quot;&gt;<br>
on&nbsp;X&lt;/p&gt;&lt;pre&nbsp;style=&quot;margin-top:0px;margin-bottom:10px;padding:5px;border:0px;font-size:14px;vertical-align:baseline;background-color:rgb(238,238,238);font-family:Consolas,Menlo,Monaco,&#39;Lucida&nbsp;Console&#39;,&#39;Liberation&nbsp;Mono&#39;,&#39;DejaVu&nbsp;Sans&nbsp;Mono&#39;,&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,&#39;Courier&nbsp;New&#39;,monospace,serif;overflow:auto;width:auto;max-height:600px;word-wrap:normal;color:rgb(0,0,0);line-height:17.804800033569336px&quot;&gt;<br>
&lt;code&nbsp;style=&quot;margin:0px;padding:0px;border:0px;vertical-align:baseline;font-family:Consolas,Menlo,Monaco,&#39;Lucida&nbsp;Console&#39;,&#39;Liberation&nbsp;Mono&#39;,&#39;DejaVu&nbsp;Sans&nbsp;Mono&#39;,&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,&#39;Courier&nbsp;New&#39;,monospace,serif;white-space:inherit&quot;&gt;rabbitmqctl&nbsp;cluster_status<br>
&lt;/code&gt;&lt;/pre&gt;&lt;p&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em;padding:0px;border:0px;font-size:14px;vertical-align:baseline;clear:both;color:rgb(0,0,0);font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif;line-height:17.804800033569336px&quot;&gt;<br>
got&nbsp;the&nbsp;node&nbsp;name&nbsp;which&nbsp;was&nbsp;&#39;rabbit@ip-X&#39;&nbsp;(where&nbsp;X&nbsp;is&nbsp;the&nbsp;inner&nbsp;IP)&nbsp;on&nbsp;Y&lt;/p&gt;&lt;pre&nbsp;style=&quot;margin-top:0px;margin-bottom:10px;padding:5px;border:0px;font-size:14px;vertical-align:baseline;background-color:rgb(238,238,238);font-family:Consolas,Menlo,Monaco,&#39;Lucida&nbsp;Console&#39;,&#39;Liberation&nbsp;Mono&#39;,&#39;DejaVu&nbsp;Sans&nbsp;Mono&#39;,&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,&#39;Courier&nbsp;New&#39;,monospace,serif;overflow:auto;width:auto;max-height:600px;word-wrap:normal;color:rgb(0,0,0);line-height:17.804800033569336px&quot;&gt;<br>
&lt;code&nbsp;style=&quot;margin:0px;padding:0px;border:0px;vertical-align:baseline;font-family:Consolas,Menlo,Monaco,&#39;Lucida&nbsp;Console&#39;,&#39;Liberation&nbsp;Mono&#39;,&#39;DejaVu&nbsp;Sans&nbsp;Mono&#39;,&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,&#39;Courier&nbsp;New&#39;,monospace,serif;white-space:inherit&quot;&gt;rabbitmqctl&nbsp;stop_app<br>
rabbitmqctl&nbsp;join_cluster&nbsp;--ram&nbsp;rabbit@ip-X<br>
&lt;/code&gt;&lt;/pre&gt;&lt;p&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em;padding:0px;border:0px;font-size:14px;vertical-align:baseline;clear:both;color:rgb(0,0,0);font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif;line-height:17.804800033569336px&quot;&gt;<br>
I&nbsp;got&lt;/p&gt;&lt;pre&nbsp;style=&quot;margin-top:0px;margin-bottom:10px;padding:5px;border:0px;font-size:14px;vertical-align:baseline;background-color:rgb(238,238,238);font-family:Consolas,Menlo,Monaco,&#39;Lucida&nbsp;Console&#39;,&#39;Liberation&nbsp;Mono&#39;,&#39;DejaVu&nbsp;Sans&nbsp;Mono&#39;,&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,&#39;Courier&nbsp;New&#39;,monospace,serif;overflow:auto;width:auto;max-height:600px;word-wrap:normal;color:rgb(0,0,0);line-height:17.804800033569336px&quot;&gt;<br>
&lt;code&nbsp;style=&quot;margin:0px;padding:0px;border:0px;vertical-align:baseline;font-family:Consolas,Menlo,Monaco,&#39;Lucida&nbsp;Console&#39;,&#39;Liberation&nbsp;Mono&#39;,&#39;DejaVu&nbsp;Sans&nbsp;Mono&#39;,&#39;Bitstream&nbsp;Vera&nbsp;Sans&nbsp;Mono&#39;,&#39;Courier&nbsp;New&#39;,monospace,serif;white-space:inherit&quot;&gt;&quot;The&nbsp;nodes&nbsp;provided&nbsp;are&nbsp;either&nbsp;offline&nbsp;or&nbsp;not&nbsp;running&quot;<br>
&lt;/code&gt;&lt;/pre&gt;&lt;p&nbsp;style=&quot;margin:0px&nbsp;0px&nbsp;1em;padding:0px;border:0px;font-size:14px;vertical-align:baseline;clear:both;color:rgb(0,0,0);font-family:Arial,&#39;Liberation&nbsp;Sans&#39;,&#39;DejaVu&nbsp;Sans&#39;,sans-serif;line-height:17.804800033569336px&quot;&gt;<br>
Obviously&nbsp;this&nbsp;is&nbsp;the&nbsp;private&nbsp;ip,&nbsp;so&nbsp;the&nbsp;other&nbsp;instance&nbsp;cant&nbsp;connect.&nbsp;How&nbsp;do&nbsp;I&nbsp;tell&nbsp;the&nbsp;second&nbsp;instance&nbsp;where&nbsp;the&nbsp;first&nbsp;is&nbsp;located?&lt;/p&gt;&lt;/div&gt;<br>

</tt>
