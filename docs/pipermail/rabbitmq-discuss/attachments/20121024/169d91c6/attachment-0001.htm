<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;4.0&nbsp;Transitional//EN&quot;&gt;<br>
&lt;HTML&nbsp;xmlns:o&nbsp;=&nbsp;&quot;urn:schemas-microsoft-com:office:office&quot;&gt;&lt;HEAD&gt;<br>
&lt;META&nbsp;content=&quot;text/html;&nbsp;charset=gb2312&quot;&nbsp;http-equiv=Content-Type&gt;<br>
&lt;STYLE&gt;<br>
BLOCKQUOTE&nbsp;{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px;&nbsp;MARGIN-LEFT:&nbsp;2em<br>
}<br>
OL&nbsp;{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px<br>
}<br>
UL&nbsp;{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px<br>
}<br>
P&nbsp;{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspMARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px<br>
}<br>
BODY&nbsp;{<br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbspLINE-HEIGHT:&nbsp;1.5;&nbsp;FONT-FAMILY:&nbsp;&amp;#23435;&amp;#20307;;&nbsp;COLOR:&nbsp;#000000;&nbsp;FONT-SIZE:&nbsp;10.5pt<br>
}<br>
&lt;/STYLE&gt;<br>
<br>
&lt;META&nbsp;name=GENERATOR&nbsp;content=&quot;MSHTML&nbsp;8.00.7601.17940&quot;&gt;&lt;/HEAD&gt;<br>
&lt;BODY&nbsp;style=&quot;MARGIN:&nbsp;10px&quot;&gt;<br>
&lt;DIV&gt;Hi&nbsp;all,&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;I&nbsp;wrote&nbsp;a&nbsp;sample&nbsp;code&nbsp;to&nbsp;use&nbsp;Rabbitmq&nbsp;management&nbsp;HTTP&nbsp;API.&nbsp;For&nbsp;&quot;Create&nbsp;a&nbsp;<br>
new&nbsp;vhost&quot;,&nbsp;it&nbsp;works&nbsp;fine.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;HttpPut&amp;nbsp;httpput&amp;nbsp;httpput&amp;nbsp;=&amp;nbsp;new&amp;nbsp;HttpPut();&lt;/DIV&gt;<br>
&lt;DIV&nbsp;<br>
style=&quot;TEXT-INDENT:&nbsp;2em&quot;&gt;httpput.setHeader(&quot;content-type&quot;,&amp;nbsp;&quot;application/json&quot;);&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;httpput.setURI(new&amp;nbsp;URI(&quot;&lt;A&nbsp;<br>
href=&quot;http://192.168.2.129:55672/api/vhosts/my-vhost&quot;&gt;http://192.168.2.129:55672/api/vhosts/my-vhost&lt;/A&gt;&quot;));&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;DefaultHttpClient&amp;nbsp;httpclient&amp;nbsp;=&amp;nbsp;new&amp;nbsp;DefaultHttpClient();&amp;nbsp;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;httpclient.getCredentialsProvider().setCredentials(new&amp;nbsp;AuthScope(&quot;192.168.2.129&quot;,&amp;nbsp;55672),&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;new&amp;nbsp;UsernamePasswordCredentials(&quot;guest&quot;,&amp;nbsp;&quot;guest&quot;));&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;HttpResponse&amp;nbsp;response&amp;nbsp;=&amp;nbsp;httpclient.execute(httpput);&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;But&nbsp;if&nbsp;I&nbsp;want&nbsp;to&nbsp;create&nbsp;a&nbsp;new&nbsp;Exchange&nbsp;or&nbsp;Queue&nbsp;using&nbsp;the&nbsp;same&nbsp;code,&nbsp;it&nbsp;<br>
always&nbsp;returns&nbsp;NoHTTPResponseException.&nbsp;It&nbsp;seems&nbsp;that&nbsp;once&nbsp;I&nbsp;setEntity&nbsp;for&nbsp;<br>
httpput,&nbsp;the&nbsp;exception&nbsp;occurs.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;HttpPut&amp;nbsp;httpput&nbsp;<br>
=&amp;nbsp;new&amp;nbsp;HttpPut();&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;httpput.setHeader(&quot;content-type&quot;,&amp;nbsp;&quot;application/json&quot;);&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;JSONObject&amp;nbsp;param&amp;nbsp;=&amp;nbsp;new&amp;nbsp;JSONObject();&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;param.put(&quot;type&quot;,&amp;nbsp;&quot;direct&quot;);&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;StringEntity&amp;nbsp;&amp;nbsp;entity&amp;nbsp;=&amp;nbsp;new&amp;nbsp;StringEntity(param.toString());&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;httpput.setEntity(entity);&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;httpput.setURI(new&amp;nbsp;URI(&quot;&lt;A&nbsp;<br>
href=&quot;http://192.168.2.129:55672/api/exchanges/%2f/my-new-exchange&quot;&gt;http://192.168.2.129:55672/api/exchanges/%2f/my-new-exchange&lt;/A&gt;&quot;));&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;DefaultHttpClient&amp;nbsp;httpclient&amp;nbsp;=&amp;nbsp;new&amp;nbsp;DefaultHttpClient();&amp;nbsp;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;httpclient.getCredentialsProvider().setCredentials(new&amp;nbsp;AuthScope(&quot;192.168.2.129&quot;,&amp;nbsp;55672),&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;new&amp;nbsp;UsernamePasswordCredentials(&quot;guest&quot;,&amp;nbsp;&quot;guest&quot;));&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;HttpResponse&amp;nbsp;response&amp;nbsp;=&amp;nbsp;httpclient.execute(httpput);&lt;/DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Could&nbsp;anyone&nbsp;give&nbsp;me&nbsp;some&nbsp;example&nbsp;how&nbsp;to&nbsp;use&nbsp;HTTP&nbsp;API?&nbsp;Thanks.&lt;/DIV&gt;<br>
&lt;DIV&gt;&amp;nbsp;&lt;/DIV&gt;<br>
&lt;DIV&gt;Johnson&lt;/DIV&gt;<br>
&lt;HR&nbsp;style=&quot;WIDTH:&nbsp;210px;&nbsp;HEIGHT:&nbsp;1px&quot;&nbsp;align=left&nbsp;color=#b5c4df&nbsp;SIZE=1&gt;<br>
<br>
&lt;DIV&gt;&lt;SPAN&gt;<br>
&lt;P&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&nbsp;class=MsoNormal&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;'Baskerville&nbsp;Old&nbsp;Face','serif';&nbsp;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;Best&nbsp;regards,&lt;o:p&nbsp;<br>
style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&nbsp;class=MsoNormal&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;'Baskerville&nbsp;Old&nbsp;Face','serif';&nbsp;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;&lt;FONT&nbsp;style=&quot;BACKGROUND-COLOR:&nbsp;#ffff00&quot;&nbsp;<br>
color=#000000&gt;&lt;/FONT&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&nbsp;class=MsoNormal&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;'Baskerville&nbsp;Old&nbsp;Face','serif';&nbsp;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;Johnson&nbsp;刘峰&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&nbsp;class=MsoNormal&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;'Baskerville&nbsp;Old&nbsp;Face','serif';&nbsp;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;MOBILE:13776621689&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;o:p&nbsp;<br>
style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&nbsp;class=MsoNormal&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;'Baskerville&nbsp;Old&nbsp;Face','serif';&nbsp;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;TEL:&nbsp;025-83191712&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&nbsp;class=MsoNormal&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;'Baskerville&nbsp;Old&nbsp;Face','serif';&nbsp;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;FAX:&nbsp;025-58783331&lt;o:p&nbsp;<br>
style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&nbsp;class=MsoNormal&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;宋体;&nbsp;FONT-SIZE:&nbsp;12pt&quot;&gt;地址：&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;12pt&quot;&gt;&nbsp;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;宋体;&nbsp;FONT-SIZE:&nbsp;12pt&quot;&gt;南京市雨花区软件大道&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;12pt&quot;&nbsp;lang=EN-US&gt;48&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;宋体;&nbsp;FONT-SIZE:&nbsp;12pt&quot;&gt;号苏豪国际广场&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;12pt&quot;&nbsp;lang=EN-US&gt;A&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;宋体;&nbsp;FONT-SIZE:&nbsp;12pt&quot;&gt;幢一楼&lt;/SPAN&gt;&lt;SPAN&nbsp;style=&quot;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;A&lt;/SPAN&gt;&lt;SPAN&nbsp;style=&quot;FONT-FAMILY:&nbsp;宋体;&nbsp;FONT-SIZE:&nbsp;12pt&quot;&gt;区&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;12pt&quot;&nbsp;lang=EN-US&gt;&lt;o:p&nbsp;<br>
style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&nbsp;class=MsoNormal&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;宋体;&nbsp;FONT-SIZE:&nbsp;12pt&quot;&gt;邮编：&lt;/SPAN&gt;&lt;SPAN&nbsp;style=&quot;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;&nbsp;210012&lt;/SPAN&gt;&lt;SPAN&nbsp;style=&quot;FONT-FAMILY:&nbsp;宋体;&nbsp;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;&lt;o:p&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;P&nbsp;style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&nbsp;class=MsoNormal&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-SIZE:&nbsp;12pt&quot;&nbsp;lang=EN-US&gt;&lt;IMG&nbsp;id=图片_x0020_1&nbsp;alt=logo00&nbsp;<br>
src=&quot;cid:_Foxmail.0@068F4977-EB05-4117-92BC-875EAC414F50&quot;&nbsp;width=60&nbsp;<br>
height=25&gt;&lt;/SPAN&gt;&lt;SPAN&nbsp;<br>
style=&quot;FONT-FAMILY:&nbsp;'Baskerville&nbsp;Old&nbsp;Face','serif';&nbsp;FONT-SIZE:&nbsp;12pt&quot;&nbsp;<br>
lang=EN-US&gt;&amp;nbsp;Information&nbsp;System&nbsp;Co.&nbsp;Ltd.&lt;o:p&nbsp;<br>
style=&quot;MARGIN-TOP:&nbsp;0px;&nbsp;MARGIN-BOTTOM:&nbsp;0px&quot;&gt;&lt;/o:p&gt;&lt;/SPAN&gt;&lt;/P&gt;<br>
&lt;DIV&gt;<br>
&lt;DIV&gt;&lt;/DIV&gt;&lt;/DIV&gt;&lt;/SPAN&gt;&lt;/DIV&gt;&lt;/BODY&gt;&lt;/HTML&gt;<br>

</tt>
