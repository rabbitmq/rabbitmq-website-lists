<tt>
&lt;!DOCTYPE&nbsp;HTML&nbsp;PUBLIC&nbsp;&quot;-//W3C//DTD&nbsp;HTML&nbsp;3.2//EN&quot;&gt;<br>
&lt;HTML&gt;<br>
&lt;HEAD&gt;<br>
&lt;META&nbsp;HTTP-EQUIV=&quot;Content-Type&quot;&nbsp;CONTENT=&quot;text/html;&nbsp;charset=iso-8859-1&quot;&gt;<br>
&lt;META&nbsp;NAME=&quot;Generator&quot;&nbsp;CONTENT=&quot;MS&nbsp;Exchange&nbsp;Server&nbsp;version&nbsp;6.5.7652.24&quot;&gt;<br>
&lt;TITLE&gt;RE:&nbsp;[rabbitmq-discuss]&nbsp;High&nbsp;cpu&nbsp;usage&nbsp;for&nbsp;Java&nbsp;RabbitMQ&nbsp;client?&nbsp;(solved,&nbsp;my&nbsp;fault)&lt;/TITLE&gt;<br>
&lt;/HEAD&gt;<br>
&lt;BODY&gt;<br>
&lt;!--&nbsp;Converted&nbsp;from&nbsp;text/plain&nbsp;format&nbsp;--&gt;<br>
<br>
&lt;P&gt;&lt;FONT&nbsp;SIZE=2&gt;Matthias,&lt;BR&gt;<br>
&lt;BR&gt;<br>
Good&nbsp;news,&nbsp;as&nbsp;you&nbsp;expected,&nbsp;it&nbsp;was&nbsp;something&nbsp;I&nbsp;was&nbsp;doing.&amp;nbsp;&nbsp;There&nbsp;was&nbsp;a&nbsp;Thread.yield()&nbsp;in&nbsp;a&nbsp;loop,&nbsp;which&nbsp;would&nbsp;have&nbsp;caused&nbsp;the&nbsp;extra&nbsp;system&nbsp;time.&amp;nbsp;&nbsp;All&nbsp;is&nbsp;well&nbsp;with&nbsp;RabbitMQ,&nbsp;as&nbsp;you&nbsp;assumed.&amp;nbsp;&nbsp;Sometimes&nbsp;it&nbsp;takes&nbsp;a&nbsp;second&nbsp;opinion,&nbsp;I&nbsp;just&nbsp;hate&nbsp;to&nbsp;waste&nbsp;your&nbsp;time&nbsp;being&nbsp;that.&nbsp;:)&lt;BR&gt;<br>
&lt;BR&gt;<br>
&gt;From&nbsp;my&nbsp;previous&nbsp;email,&nbsp;does&nbsp;the&nbsp;Qos&nbsp;work&nbsp;like&nbsp;I&nbsp;describe?&amp;nbsp;&nbsp;If&nbsp;messages&nbsp;are&nbsp;marked&nbsp;immediate&nbsp;but&nbsp;the&nbsp;client's&nbsp;queue&nbsp;is&nbsp;over&nbsp;Basic.Qos&nbsp;setting,&nbsp;the&nbsp;server&nbsp;will&nbsp;silently&nbsp;drop&nbsp;the&nbsp;delivery?&lt;BR&gt;<br>
&lt;BR&gt;<br>
Also,&nbsp;I&nbsp;have&nbsp;looked&nbsp;through&nbsp;the&nbsp;AMQP&nbsp;lists&nbsp;a&nbsp;little&nbsp;bit&nbsp;and&nbsp;saw&nbsp;some&nbsp;discussion&nbsp;of&nbsp;a&nbsp;compressed&nbsp;or&nbsp;binary&nbsp;wire&nbsp;format,&nbsp;specifically&nbsp;relating&nbsp;to&nbsp;market&nbsp;quotes.&amp;nbsp;&nbsp;It&nbsp;looks&nbsp;like&nbsp;this&nbsp;is&nbsp;slated&nbsp;for&nbsp;1.0,&nbsp;but&nbsp;that&nbsp;would&nbsp;be&nbsp;ideal&nbsp;for&nbsp;me&nbsp;(since&nbsp;AMQP&nbsp;overhead&nbsp;is&nbsp;~30-50%&nbsp;of&nbsp;my&nbsp;message&nbsp;size&nbsp;now).&amp;nbsp;&nbsp;Is&nbsp;there&nbsp;a&nbsp;roadmap&nbsp;to&nbsp;adoption?&lt;BR&gt;<br>
&lt;BR&gt;<br>
Thank&nbsp;you,&lt;BR&gt;<br>
Rob&lt;BR&gt;<br>
&lt;BR&gt;<br>
&amp;gt;&nbsp;Looks&nbsp;fairly&nbsp;sane.&nbsp;The&nbsp;connection&nbsp;thread&nbsp;sits&nbsp;exactly&nbsp;where&nbsp;you'd&nbsp;expect&lt;BR&gt;<br>
&amp;gt;&nbsp;it&nbsp;to&nbsp;be&nbsp;when&nbsp;not&nbsp;much&nbsp;is&nbsp;happening&nbsp;on&nbsp;the&nbsp;connection,&nbsp;namely&nbsp;in&nbsp;a&lt;BR&gt;<br>
&amp;gt;&nbsp;socketRead0.&nbsp;There&nbsp;are&nbsp;a&nbsp;whole&nbsp;bunch&nbsp;of&nbsp;non-rabbit&nbsp;threads&nbsp;though,&lt;BR&gt;<br>
&amp;gt;&nbsp;including&nbsp;UI&nbsp;threads.&nbsp;It&nbsp;would&nbsp;be&nbsp;good&nbsp;to&nbsp;eliminate&nbsp;those&nbsp;from&nbsp;our&lt;BR&gt;<br>
&amp;gt;&nbsp;enquiries.&lt;BR&gt;<br>
&lt;BR&gt;<br>
&lt;/FONT&gt;<br>
&lt;/P&gt;<br>
<br>
&lt;/BODY&gt;<br>
&lt;/HTML&gt;
</tt>
