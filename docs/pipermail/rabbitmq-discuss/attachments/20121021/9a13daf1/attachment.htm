<tt>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Sun,&nbsp;Oct&nbsp;21,&nbsp;2012&nbsp;at&nbsp;7:06&nbsp;PM,&nbsp;Simon&nbsp;MacMullen&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:simon@rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;simon@rabbitmq.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;div&nbsp;class=&quot;im&quot;&gt;On&nbsp;20/10/2012&nbsp;12:27PM,&nbsp;Matthias&nbsp;Radestock&nbsp;wrote:&lt;br&gt;<br>
&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
Why&nbsp;are&nbsp;we&nbsp;concerned&nbsp;about&nbsp;the&nbsp;performance&nbsp;of&nbsp;http&nbsp;/&nbsp;json?&nbsp;Neither&lt;br&gt;<br>
appear&nbsp;in&nbsp;the&nbsp;AMQP&nbsp;message&nbsp;path.&nbsp;So&nbsp;what&nbsp;are&nbsp;we&nbsp;trying&nbsp;to&nbsp;improve&nbsp;here?&lt;br&gt;<br>
The&nbsp;management&nbsp;API/UI?&nbsp;Web-STOMP?&nbsp;I&nbsp;am&nbsp;not&nbsp;aware&nbsp;of&nbsp;many&nbsp;complaints&lt;br&gt;<br>
about&nbsp;the&nbsp;performance&nbsp;of&nbsp;these,&nbsp;and&nbsp;certainly&nbsp;not&nbsp;any&nbsp;that&nbsp;would&nbsp;point&lt;br&gt;<br>
to&nbsp;the&nbsp;json&nbsp;codec&nbsp;or&nbsp;http&nbsp;handling&nbsp;as&nbsp;the&nbsp;bottleneck.&lt;br&gt;<br>
&lt;/blockquote&gt;<br>
&lt;br&gt;&lt;/div&gt;<br>
When&nbsp;I&nbsp;did&nbsp;performance&nbsp;testing&nbsp;of&nbsp;mgmt&nbsp;a&nbsp;year&nbsp;or&nbsp;so&nbsp;ago,&nbsp;I&nbsp;found&nbsp;that&nbsp;JSON&nbsp;encoding&nbsp;really&nbsp;*is*&nbsp;the&nbsp;bottleneck&nbsp;in&nbsp;many&nbsp;cases&nbsp;-&nbsp;this&nbsp;is&nbsp;the&nbsp;reason&nbsp;why&nbsp;the&nbsp;?columns=&nbsp;parameter&nbsp;exists,&nbsp;and&nbsp;also&nbsp;why&nbsp;it&amp;#39;s&nbsp;implemented&nbsp;in&nbsp;terms&nbsp;of&nbsp;throwing&nbsp;away&nbsp;information&nbsp;just&nbsp;before&nbsp;we&nbsp;encode&nbsp;it.&lt;br&gt;<br>
<br>
&lt;br&gt;<br>
But&nbsp;no,&nbsp;unless&nbsp;someone&nbsp;has&nbsp;a&nbsp;good&nbsp;reason&nbsp;for&nbsp;why&nbsp;HTTP&nbsp;API&nbsp;performance&nbsp;is&nbsp;a&nbsp;big&nbsp;deal&nbsp;for&nbsp;them,&nbsp;faster&nbsp;JSON&nbsp;is&nbsp;pretty&nbsp;low&nbsp;down&nbsp;the&nbsp;list&nbsp;of&nbsp;priorities.&lt;br&gt;&lt;/blockquote&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;In&nbsp;my&nbsp;case,&nbsp;it&amp;#39;s&nbsp;simply&nbsp;to&nbsp;lower&nbsp;the&nbsp;overhead&nbsp;of&nbsp;making&nbsp;repeated&nbsp;calls&nbsp;to&nbsp;the&nbsp;HTTP&nbsp;API&nbsp;for&nbsp;monitoring&nbsp;and&nbsp;statistics&nbsp;services.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;A&nbsp;current&nbsp;example&nbsp;where&nbsp;we&nbsp;see&nbsp;poor&nbsp;performance&nbsp;is&nbsp;when&nbsp;attempting&nbsp;to&nbsp;get&nbsp;connection&nbsp;metrics&nbsp;from&nbsp;a&nbsp;single&nbsp;node,&nbsp;with&nbsp;in&nbsp;excess&nbsp;of&nbsp;10K&nbsp;connections.&nbsp;The&nbsp;Web&nbsp;UI&nbsp;or&nbsp;some&nbsp;other&nbsp;HTTP&nbsp;GET&nbsp;to&nbsp;the&nbsp;/connections&nbsp;endpoint&nbsp;takes&nbsp;multiple&nbsp;seconds&nbsp;on&nbsp;an&nbsp;averagely&nbsp;utilised&nbsp;machine,&nbsp;even&nbsp;when&nbsp;using&nbsp;?columns=&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Obviously&nbsp;I&amp;#39;d&nbsp;like&nbsp;to&nbsp;a)&nbsp;have&nbsp;granular&nbsp;and&nbsp;informative&nbsp;monitoring&nbsp;and&nbsp;statistics,&nbsp;but&nbsp;b)&nbsp;avoid&nbsp;monitoring&nbsp;software&nbsp;causing&nbsp;undue&nbsp;load&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;It&nbsp;would&nbsp;classify&nbsp;it&nbsp;as&nbsp;a&nbsp;nice&nbsp;to&nbsp;have,&nbsp;and&nbsp;I&nbsp;brought&nbsp;it&nbsp;up&nbsp;since&nbsp;the&nbsp;current&nbsp;bundling&nbsp;of&nbsp;cowboy&nbsp;+&nbsp;mochiweb&nbsp;was&nbsp;mentioned.&lt;/div&gt;<br>
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;margin:0&nbsp;0&nbsp;0&nbsp;.8ex;border-left:1px&nbsp;#ccc&nbsp;solid;padding-left:1ex&quot;&gt;<br>
&lt;br&gt;<br>
Cheers,&nbsp;Simon&lt;div&nbsp;class=&quot;HOEnZb&quot;&gt;&lt;div&nbsp;class=&quot;h5&quot;&gt;&lt;br&gt;<br>
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;br&gt;<br>
rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&nbsp;target=&quot;_blank&quot;&gt;rabbitmq-discuss@lists.&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;https://lists.rabbitmq.com/&lt;u&gt;&lt;/u&gt;cgi-bin/mailman/listinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;<br>

</tt>
