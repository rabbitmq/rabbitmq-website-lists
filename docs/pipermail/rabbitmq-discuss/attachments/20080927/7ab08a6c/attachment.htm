<tt>
&lt;div&nbsp;dir=&quot;ltr&quot;&gt;Will&nbsp;you&nbsp;post&nbsp;your&nbsp;erl&nbsp;command&nbsp;line&nbsp;for&nbsp;the&nbsp;Erlang&nbsp;node&nbsp;running&nbsp;the&nbsp;Rabbit&nbsp;Erlang&nbsp;client,&nbsp;on&nbsp;MacOS&nbsp;and&nbsp;Linux?&nbsp;I&nbsp;am&nbsp;curious&nbsp;to&nbsp;see&nbsp;the&nbsp;options&nbsp;you&nbsp;are&nbsp;using.&lt;br&gt;If&nbsp;you&nbsp;were&nbsp;able&nbsp;to&nbsp;post&nbsp;the&nbsp;code&nbsp;too,&nbsp;that&nbsp;would&nbsp;be&nbsp;interesting.&lt;br&gt;<br>
&lt;br&gt;&lt;div&nbsp;class=&quot;gmail_quote&quot;&gt;On&nbsp;Fri,&nbsp;Sep&nbsp;26,&nbsp;2008&nbsp;at&nbsp;2:37&nbsp;PM,&nbsp;Bogon&nbsp;Choi&nbsp;&lt;span&nbsp;dir=&quot;ltr&quot;&gt;&amp;lt;&lt;a&nbsp;href=&quot;mailto:bogon.choi@gmail.com&quot;&gt;bogon.choi@gmail.com&lt;/a&gt;&amp;gt;&lt;/span&gt;&nbsp;wrote:&lt;br&gt;&lt;blockquote&nbsp;class=&quot;gmail_quote&quot;&nbsp;style=&quot;border-left:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;margin:&nbsp;0pt&nbsp;0pt&nbsp;0pt&nbsp;0.8ex;&nbsp;padding-left:&nbsp;1ex;&quot;&gt;<br>
&lt;br&gt;<br>
That&nbsp;was&nbsp;my&nbsp;mistake,&nbsp;though.&nbsp;The&nbsp;result&nbsp;is&nbsp;same.&lt;br&gt;<br>
I&nbsp;am&nbsp;figuring&nbsp;out&nbsp;why&nbsp;two&nbsp;systems&nbsp;have&nbsp;huge&nbsp;latency&nbsp;gap.&nbsp;Thanks.&lt;br&gt;<br>
&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
Martin&nbsp;Sustrik&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;I&nbsp;would&nbsp;say&nbsp;you&nbsp;are&nbsp;actually&nbsp;measuring&nbsp;how&nbsp;long&nbsp;printing&nbsp;of&nbsp;timestamp&lt;br&gt;<br>
&amp;gt;&nbsp;takes&nbsp;rather&nbsp;than&nbsp;latency&nbsp;of&nbsp;RabbitMQ&nbsp;itself&nbsp;:)&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Try&nbsp;to&nbsp;acquire&nbsp;timestamp&nbsp;first,&nbsp;then&nbsp;send&nbsp;the&nbsp;message&nbsp;then&nbsp;print&nbsp;the&lt;br&gt;<br>
&amp;gt;&nbsp;timestamp.&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Martin&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;Bogon&nbsp;Choi&nbsp;wrote:&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;I&nbsp;tested&nbsp;very&nbsp;basic&nbsp;end-to-end&nbsp;latency&nbsp;of&nbsp;RabbitMQ&nbsp;1.4.0&nbsp;on&nbsp;Mac&nbsp;OS&nbsp;X&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Leopard&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;and&nbsp;RHET&nbsp;Linux.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;A&nbsp;publisher&nbsp;prints&nbsp;out&nbsp;a&nbsp;timestamp&nbsp;right&nbsp;before&nbsp;it&nbsp;publishes&nbsp;a&nbsp;message,&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;and&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;a&nbsp;subscriber&nbsp;receives&nbsp;the&nbsp;messages&nbsp;and&nbsp;prints&nbsp;out&nbsp;a&nbsp;timestamp.&nbsp;Every&nbsp;3&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;second&nbsp;one&nbsp;process&nbsp;published&nbsp;a&nbsp;1KB&nbsp;message.&nbsp;This&nbsp;is&nbsp;the&nbsp;very&nbsp;basic&nbsp;and&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;easy&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;latency&nbsp;test&nbsp;I&nbsp;am&nbsp;always&nbsp;doing&nbsp;before&nbsp;I&nbsp;deploy&nbsp;systems.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;But,&nbsp;the&nbsp;result&nbsp;was&nbsp;surprisingly&nbsp;comic.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Mac&nbsp;OS&nbsp;X&nbsp;Leopard:&nbsp;4&nbsp;milliseconds&nbsp;average&nbsp;latency&nbsp;from&nbsp;a&nbsp;publisher&nbsp;to&nbsp;a&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;subscriber&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;RHET5&nbsp;Linux:&nbsp;40.55&nbsp;milliseconds&nbsp;average&nbsp;latency&nbsp;from&nbsp;a&nbsp;publisher&nbsp;to&nbsp;a&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;subscriber&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;I&nbsp;am&nbsp;using&nbsp;Erlang&nbsp;R12B-4,&nbsp;and&nbsp;compiled&nbsp;it&nbsp;from&nbsp;&amp;quot;./configure&amp;quot;&nbsp;and&nbsp;&amp;quot;make&amp;quot;.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;There&nbsp;was&nbsp;an&nbsp;error&nbsp;like&nbsp;a&nbsp;&amp;quot;JInterface&amp;quot;&nbsp;and&nbsp;&amp;quot;ODBC&amp;quot;&nbsp;stuffs&nbsp;at&nbsp;configuring&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;from&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;Linux.&nbsp;I&nbsp;just&nbsp;ignored&nbsp;it.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;All&nbsp;publisher,&nbsp;server,&nbsp;and&nbsp;subscriber&nbsp;were&nbsp;running&nbsp;at&nbsp;the&nbsp;same&nbsp;machine.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;So,&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;we&nbsp;can&nbsp;ignore&nbsp;the&nbsp;network&nbsp;delay&nbsp;on&nbsp;this&nbsp;test.&lt;br&gt;<br>
&amp;gt;&amp;gt;&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;I&nbsp;tried&nbsp;also&nbsp;from&nbsp;Ubuntu&nbsp;8.1&nbsp;and&nbsp;its&nbsp;latency&nbsp;was&nbsp;also&nbsp;40.55&nbsp;milliseconds.&lt;br&gt;<br>
&amp;gt;&amp;gt;&nbsp;What&nbsp;is&nbsp;wrong&nbsp;with&nbsp;between&nbsp;Linux&nbsp;and&nbsp;Erlang?&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&nbsp;_______________________________________________&lt;br&gt;<br>
&amp;gt;&nbsp;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&nbsp;&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&amp;gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;font&nbsp;color=&quot;#888888&quot;&gt;--&lt;br&gt;<br>
View&nbsp;this&nbsp;message&nbsp;in&nbsp;context:&nbsp;&lt;a&nbsp;href=&quot;http://www.nabble.com/Re%3A-Huge-latency-in-Linux%2C-compared-with-Leopard-tp19693265p19694142.html&quot;&nbsp;target=&quot;_blank&quot;&gt;http://www.nabble.com/Re%3A-Huge-latency-in-Linux%2C-compared-with-Leopard-tp19693265p19694142.html&lt;/a&gt;&lt;br&gt;<br>
<br>
&lt;/font&gt;&lt;div&nbsp;class=&quot;Ih2E3d&quot;&gt;Sent&nbsp;from&nbsp;the&nbsp;RabbitMQ&nbsp;mailing&nbsp;list&nbsp;archive&nbsp;at&nbsp;Nabble.com.&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;br&gt;<br>
_______________________________________________&lt;br&gt;<br>
&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div&nbsp;class=&quot;Wj3C7c&quot;&gt;rabbitmq-discuss&nbsp;mailing&nbsp;list&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;mailto:rabbitmq-discuss@lists.rabbitmq.com&quot;&gt;rabbitmq-discuss@lists.rabbitmq.com&lt;/a&gt;&lt;br&gt;<br>
&lt;a&nbsp;href=&quot;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&quot;&nbsp;target=&quot;_blank&quot;&gt;http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;<br>
&lt;br&gt;<br>
&lt;/div&gt;&lt;/div&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;<br>

</tt>
