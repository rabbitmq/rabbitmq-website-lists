<tt>
I&nbsp;know&nbsp;I'm&nbsp;working&nbsp;on&nbsp;a&nbsp;version&nbsp;that's&nbsp;pretty&nbsp;old&nbsp;by&nbsp;now.&nbsp;I&nbsp;looked&nbsp;at&nbsp;the&nbsp;log&nbsp;contents&nbsp;and&nbsp;was&nbsp;completely&nbsp;mystified.&nbsp;I'd&nbsp;like&nbsp;to&nbsp;understand&nbsp;what&nbsp;went&nbsp;wrong&nbsp;here.&nbsp;&amp;nbsp;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The&nbsp;Story:&nbsp;RabbitMQ&nbsp;crashes&nbsp;and&nbsp;when&nbsp;I&nbsp;bring&nbsp;it&nbsp;back&nbsp;up,&nbsp;all&nbsp;queue&nbsp;contents&nbsp;from&nbsp;all&nbsp;my&nbsp;persistent&nbsp;queues&nbsp;are&nbsp;no&nbsp;longer&nbsp;there.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;-If&nbsp;it&nbsp;was&nbsp;my&nbsp;fault,&nbsp;what&nbsp;can&nbsp;I&nbsp;do&nbsp;to&nbsp;fix&nbsp;it?&lt;/div&gt;&lt;div&gt;-If&nbsp;it&nbsp;is&nbsp;Rabbit's&nbsp;fault,&nbsp;has&nbsp;the&nbsp;issue&nbsp;been&nbsp;fixed?&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Attached&nbsp;are&nbsp;the&nbsp;'rabbitmqctl&nbsp;report'&nbsp;and&nbsp;the&nbsp;appropriate&nbsp;log&nbsp;from&nbsp;/var/log/rabbitmq/&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks&nbsp;so&nbsp;much!&lt;/div&gt;&lt;div&gt;Joseph&nbsp;Marlin&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--------------------------------&lt;/div&gt;&lt;div&gt;Highlights&nbsp;(in&nbsp;case&nbsp;it&nbsp;is&nbsp;easy&nbsp;enough&nbsp;to&nbsp;diagnose&nbsp;without&nbsp;even&nbsp;needing&nbsp;to&nbsp;download&nbsp;anything:&lt;/div&gt;&lt;div&gt;--------------------------------&lt;/div&gt;&lt;div&gt;****Report****:&lt;/div&gt;&lt;div&gt;&lt;div&gt;Status&nbsp;of&nbsp;node&nbsp;'rabbit@tile-render'&nbsp;...&lt;/div&gt;&lt;div&gt;[{pid,29076},&lt;/div&gt;&lt;div&gt;&amp;nbsp;{running_applications,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[{rabbitmq_management,&quot;RabbitMQ&nbsp;Management&nbsp;Console&quot;,&quot;2.5.1&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{webmachine,&quot;webmachine&quot;,&quot;1.7.0-rmq2.5.1-hg0c4b60a&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbitmq_management_agent,&quot;RabbitMQ&nbsp;Management&nbsp;Agent&quot;,&quot;2.5.1&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{amqp_client,&quot;RabbitMQ&nbsp;AMQP&nbsp;Client&quot;,&quot;2.5.1&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit,&quot;RabbitMQ&quot;,&quot;2.5.1&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{os_mon,&quot;CPO&nbsp;&amp;nbsp;CXC&nbsp;138&nbsp;46&quot;,&quot;2.2.4&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{sasl,&quot;SASL&nbsp;&amp;nbsp;CXC&nbsp;138&nbsp;11&quot;,&quot;2.1.8&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbitmq_mochiweb,&quot;RabbitMQ&nbsp;Mochiweb&nbsp;Embedding&quot;,&quot;2.5.1&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{mochiweb,&quot;MochiMedia&nbsp;Web&nbsp;Server&quot;,&quot;1.3-rmq2.5.1-git9a53dbd&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{inets,&quot;INETS&nbsp;&amp;nbsp;CXC&nbsp;138&nbsp;49&quot;,&quot;5.2&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{mnesia,&quot;MNESIA&nbsp;&amp;nbsp;CXC&nbsp;138&nbsp;12&quot;,&quot;4.4.12&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{stdlib,&quot;ERTS&nbsp;&amp;nbsp;CXC&nbsp;138&nbsp;10&quot;,&quot;1.16.4&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{kernel,&quot;ERTS&nbsp;&amp;nbsp;CXC&nbsp;138&nbsp;10&quot;,&quot;2.13.4&quot;}]},&lt;/div&gt;&lt;div&gt;&amp;nbsp;{os,{unix,linux}},&lt;/div&gt;&lt;div&gt;&amp;nbsp;{erlang_version,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&quot;Erlang&nbsp;R13B03&nbsp;(erts-5.7.4)&nbsp;[source]&nbsp;[64-bit]&nbsp;[smp:8:8]&nbsp;[rq:8]&nbsp;[async-threads:30]&nbsp;[hipe]&nbsp;[kernel-poll:true]\n&quot;},&lt;/div&gt;&lt;div&gt;&amp;nbsp;{memory,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[{total,31325888},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{processes,11455384},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{processes_used,11434488},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{system,19870504},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{atom,1269865},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{atom_used,1263088},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{binary,76048},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{code,14856883},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{ets,1091928}]}]&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;****Log****:&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&amp;nbsp;&lt;/div&gt;&lt;div&gt;**&nbsp;{{case_clause,undefined},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;[{file_handle_cache,'-partition_handles/1-fun-0-',2},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{file_handle_cache,get_or_reopen,1},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{file_handle_cache,with_handles,2},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{rabbit_msg_store,internal_sync,1},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{rabbit_msg_store,terminate,2},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{gen_server2,terminate,3},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{proc_lib,wake_up,3}]}&lt;/div&gt;&lt;div&gt;**&nbsp;In&nbsp;'terminate'&nbsp;callback&nbsp;with&nbsp;reason&nbsp;==&lt;/div&gt;&lt;div&gt;**&nbsp;{{badmatch,{error,enospc}},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;[{rabbit_msg_store,maybe_roll_to_new_file,2},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{file_handle_cache,open,3},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{rabbit_msg_store,handle_cast,2},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{gen_server2,handle_msg,2},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;{proc_lib,wake_up,3}]}&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;--truncated--&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;**&nbsp;Reason&nbsp;for&nbsp;termination&nbsp;==&amp;nbsp;&lt;/div&gt;&lt;div&gt;**&nbsp;{badarg,[{ets,delete,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[245834,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{&amp;lt;&amp;lt;52,76,19,5,248,12,21,12,214,129,172,73,116,247,183,106&amp;gt;&amp;gt;,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;14797}]},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_msg_store,'-close_all_handles/1-fun-0-',5},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{dict,fold_bucket,3},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{dict,fold_seg,4},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{dict,fold_segs,4},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_msg_store,close_all_handles,1},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_msg_store,client_delete_and_terminate,1},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_variable_queue,delete_and_terminate,2}]}&lt;/div&gt;&lt;div&gt;**&nbsp;In&nbsp;'terminate'&nbsp;callback&nbsp;with&nbsp;reason&nbsp;==&lt;/div&gt;&lt;div&gt;**&nbsp;{badarg,[{ets,lookup,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;[249931,&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;lt;&amp;lt;167,42,100,148,97,183,72,206,176,227,110,240,207,15,2,93&amp;gt;&amp;gt;]},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_msg_store,read,2},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_variable_queue,with_msg_store_state,3},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_variable_queue,read_msg,2},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_variable_queue,'-fetch/2-fun-0-',3},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_amqqueue_process,fetch,2},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_amqqueue_process,deliver_from_queue_deliver,3},&lt;/div&gt;&lt;div&gt;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;&amp;nbsp;&nbsp;{rabbit_amqqueue_process,deliver_msgs_to_consumers,3}]}&lt;/div&gt;&lt;/div&gt;
</tt>
