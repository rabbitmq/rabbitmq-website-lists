<tt>
&lt;html&gt;&lt;body&gt;&lt;div&nbsp;style=&quot;color:#000;&nbsp;background-color:#fff;&nbsp;font-family:times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;font-size:12pt&quot;&gt;&lt;div&gt;&lt;span&gt;Hi&nbsp;Emile,&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&amp;nbsp;&nbsp;Thanks&nbsp;for&nbsp;the&nbsp;info,&nbsp;I&nbsp;actually&nbsp;had&nbsp;extended&nbsp;SimpleRpcServer.&nbsp;I&nbsp;had&nbsp;a&nbsp;simple&nbsp;override&nbsp;for&nbsp;byte[]&nbsp;HandleSimpleCall(...)&amp;nbsp;&nbsp;that's&nbsp;where&nbsp;I&nbsp;started&nbsp;to&nbsp;experience&nbsp;the&nbsp;issue&nbsp;of&nbsp;the&nbsp;client&nbsp;not&nbsp;behaving&nbsp;synchronously.&nbsp;That's&nbsp;why&nbsp;I&nbsp;started&nbsp;down&nbsp;the&nbsp;path&nbsp;of&nbsp;using&nbsp;BasicGet&nbsp;on&nbsp;the&nbsp;server.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;/span&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span&gt;Thanks&nbsp;to&nbsp;you&nbsp;clarifying&nbsp;that&nbsp;HandleSimpleCall()&nbsp;is&nbsp;what&nbsp;I&nbsp;should&nbsp;be&nbsp;using&nbsp;I&nbsp;found&nbsp;the&nbsp;bug&nbsp;in&nbsp;how&nbsp;I&nbsp;was&nbsp;modifying&nbsp;the&nbsp;out&nbsp;param&nbsp;'replyProperties'&nbsp;incorrectly&nbsp;which&nbsp;is&nbsp;why&nbsp;the&nbsp;message&nbsp;was&nbsp;not&nbsp;being&nbsp;delivered.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;/span&gt;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;span&gt;Thanks,&nbsp;what&nbsp;I&nbsp;wanted&nbsp;to&nbsp;achieve&nbsp;here&nbsp;looks&nbsp;to&nbsp;be&nbsp;working&nbsp;now.&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span&gt;&lt;/span&gt;&lt;br&gt;-mp&lt;/div&gt;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;<br>
&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;div&nbsp;style=&quot;font-family:&nbsp;times&nbsp;new&nbsp;roman,&nbsp;new&nbsp;york,&nbsp;times,&nbsp;serif;&nbsp;font-size:&nbsp;12pt;&quot;&gt;&lt;font&nbsp;size=&quot;2&quot;&nbsp;face=&quot;Arial&quot;&gt;&lt;div&nbsp;style=&quot;margin:&nbsp;5px&nbsp;0px;&nbsp;padding:&nbsp;0px;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;rgb(204,&nbsp;204,&nbsp;204);&nbsp;line-height:&nbsp;0;&nbsp;font-size:&nbsp;0px;&quot;&nbsp;class=&quot;hr&quot;&nbsp;contentEditable=&quot;false&quot;&nbsp;readonly=&quot;true&quot;&gt;&lt;/div&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;From:&lt;/span&gt;&lt;/b&gt;&nbsp;Emile&nbsp;Joubert&nbsp;&amp;lt;emile@rabbitmq.com&amp;gt;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;To:&lt;/span&gt;&lt;/b&gt;&nbsp;mp&nbsp;&amp;lt;mpxr@yahoo.com.au&amp;gt;&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Cc:&lt;/span&gt;&lt;/b&gt;&nbsp;rabbitmq-discuss@lists.rabbitmq.com&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Sent:&lt;/span&gt;&lt;/b&gt;&nbsp;Tuesday,&nbsp;10&nbsp;May&nbsp;2011&nbsp;9:40&nbsp;PM&lt;br&gt;&lt;b&gt;&lt;span&nbsp;style=&quot;font-weight:&nbsp;bold;&quot;&gt;Subject:&lt;/span&gt;&lt;/b&gt;&nbsp;Re:&nbsp;[rabbitmq-discuss]&nbsp;Synchronous&nbsp;Message&nbsp;Response&lt;br&gt;&lt;/font&gt;&lt;br&gt;Hi,&lt;br&gt;&lt;br&gt;On&nbsp;10/05/11&nbsp;02:40,&nbsp;mp&nbsp;wrote:&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;var&amp;nbsp;&nbsp;client&amp;nbsp;&nbsp;=&amp;nbsp;&nbsp;new&amp;nbsp;&nbsp;SimpleRpcClient(model,&nbsp;queueName)&lt;br&gt;&lt;br&gt;The&nbsp;first&nbsp;thing&nbsp;to&nbsp;check&nbsp;is&nbsp;whether&nbsp;you&nbsp;need&nbsp;RPC.<br>
&nbsp;It&nbsp;is&nbsp;often&nbsp;possible&nbsp;and&nbsp;better&nbsp;to&nbsp;design&nbsp;your&nbsp;system&nbsp;in&nbsp;a&nbsp;way&nbsp;that&nbsp;the&nbsp;same&nbsp;client&nbsp;does&nbsp;not&nbsp;need&nbsp;the&nbsp;server&nbsp;response&nbsp;immediately.&lt;br&gt;&lt;br&gt;If&nbsp;you&nbsp;do&nbsp;need&nbsp;RPC&nbsp;then&nbsp;the&nbsp;comments&nbsp;in&nbsp;the&nbsp;SimpleRpcClient&nbsp;and&nbsp;SimpleRpcServer&nbsp;classes&nbsp;provide&nbsp;guidance&nbsp;for&nbsp;their&nbsp;use.&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;byte[]&nbsp;response;//...&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;//how&nbsp;do&nbsp;I&nbsp;send&nbsp;a&nbsp;response?&lt;br&gt;&lt;br&gt;In&nbsp;the&nbsp;server,&nbsp;if&nbsp;the&nbsp;request&nbsp;requires&nbsp;a&nbsp;response&nbsp;then&nbsp;this&nbsp;is&nbsp;provided&nbsp;by&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;the&nbsp;HandleSimpleCall()&nbsp;method.&nbsp;If&nbsp;the&nbsp;message&nbsp;requires&nbsp;no&nbsp;response&nbsp;then&nbsp;HandleSimpleCast()&nbsp;is&nbsp;called&nbsp;instead&nbsp;and&nbsp;no&nbsp;response&nbsp;is&nbsp;sent.&lt;br&gt;&lt;br&gt;&amp;gt;&nbsp;client&nbsp;side:&lt;br&gt;&amp;gt;&nbsp;&lt;br&gt;&amp;gt;&nbsp;//what&nbsp;does&nbsp;the&nbsp;client&nbsp;do&nbsp;to&nbsp;retrieve&nbsp;the&nbsp;ACK&nbsp;and&nbsp;RESPONSE.&lt;br&gt;&lt;br&gt;Messages&nbsp;from&nbsp;the&nbsp;server&nbsp;are&nbsp;acknowledged&nbsp;internally&nbsp;in&nbsp;the&nbsp;SimpleRpcClient&nbsp;implementation.&nbsp;The&nbsp;server&nbsp;response&nbsp;is&nbsp;available&nbsp;as&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;the&nbsp;Call()&nbsp;method.&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;-Emile&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;
</tt>
