<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] After upgrade to 3.3.3 rabbitmq-server failing to start
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20After%20upgrade%20to%203.3.3%20rabbitmq-server%0A%20failing%20to%20start&In-Reply-To=%3CCAKmc4PZRn7DaKvcLzsaB3bzd4Vf-zDxtRsSxTgrcPunPKFKGXw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036772.html">
   <LINK REL="Next"  HREF="037023.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] After upgrade to 3.3.3 rabbitmq-server failing to start</H1>
    <B>Karl Jackson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20After%20upgrade%20to%203.3.3%20rabbitmq-server%0A%20failing%20to%20start&In-Reply-To=%3CCAKmc4PZRn7DaKvcLzsaB3bzd4Vf-zDxtRsSxTgrcPunPKFKGXw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] After upgrade to 3.3.3 rabbitmq-server failing to start">isskjj at gmail.com
       </A><BR>
    <I>Fri Jun 20 18:15:32 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036772.html">[rabbitmq-discuss] After upgrade to 3.3.3 rabbitmq-server failing to start
</A></li>
        <LI>Next message: <A HREF="037023.html">[rabbitmq-discuss] After upgrade to 3.3.3 rabbitmq-server failing to start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36807">[ date ]</a>
              <a href="thread.html#36807">[ thread ]</a>
              <a href="subject.html#36807">[ subject ]</a>
              <a href="author.html#36807">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>After upgrading to erlang R17 I am still getting the same error. This is
the process I followed.

I tired to upgrade to R17, but I was getting the following file conflict
errors:

Transaction Check Error:

  file /usr/bin/epmd from install of esl-erlang-17.0-1.x86_64 conflicts
with file from package erlang-erts-R14B-04.3.el6.x86_64

  file /usr/bin/erl from install of esl-erlang-17.0-1.x86_64 conflicts with
file from package erlang-erts-R14B-04.3.el6.x86_64

  file /usr/bin/erlc from install of esl-erlang-17.0-1.x86_64 conflicts
with file from package erlang-erts-R14B-04.3.el6.x86_64

  file /usr/bin/escript from install of esl-erlang-17.0-1.x86_64 conflicts
with file from package erlang-erts-R14B-04.3.el6.x86_64

  file /usr/bin/run_erl from install of esl-erlang-17.0-1.x86_64 conflicts
with file from package erlang-erts-R14B-04.3.el6.x86_64

  file /usr/bin/run_test from install of esl-erlang-17.0-1.x86_64 conflicts
with file from package erlang-erts-R14B-04.3.el6.x86_64

  file /usr/bin/to_erl from install of esl-erlang-17.0-1.x86_64 conflicts
with file from package erlang-erts-R14B-04.3.el6.x86_64

  file /usr/bin/dialyzer from install of esl-erlang-17.0-1.x86_64 conflicts
with file from package erlang-dialyzer-R14B-04.3.el6.x86_64

  file /usr/bin/typer from install of esl-erlang-17.0-1.x86_64 conflicts
with file from package erlang-typer-R14B-04.3.el6.x86_64


I installed R17 using the --replacefiles option of rpm.

rpm -i --replacefiles esl-erlang_17.0-1~centos~6_amd64.rpm

Erlang OTP 17.0 installed


I then verified I was using the new version or erlang

-bash-4.1$ erl

Erlang/OTP 17 [erts-6.0] [source-07b8f44] [64-bit] [smp:2:2]
[async-threads:10] [hipe] [kernel-poll:false]


Eshell V6.0  (abort with ^G)

1&gt;

When I tried to start rabbitmq, I got the same error.

su - rabbitmq

Last password change : Aug 22, 2013

Password expires : never

Password inactive : never

Account expires : never

Minimum number of days between password change : -1

Maximum number of days between password change : -1

Number of days of warning before password expires : -1

-bash-4.1$ rabbitmq-server start

{&quot;init terminating in do_boot&quot;,badarg}


Crash dump was written to: erl_crash.dump

init terminating in do_boot (badarg)


Thank you,

Karl Jackson



On Thu, Jun 19, 2014 at 2:43 PM, Michael Klishin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt;
wrote:

&gt;<i> + rabbitmq-discuss
</I>&gt;<i>
</I>&gt;<i> On 20 June 2014 at 00:39:14, Karl Jackson (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">isskjj at gmail.com</A>) wrote:
</I>&gt;<i> &gt; &gt; I added set the environment variable in
</I>&gt;<i> /etc/rabbitmq/rabbitmq-env.conf.
</I>&gt;<i> &gt; The file now looks like
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; #example rabbitmq-env.con file entries
</I>&gt;<i> &gt; #set the port address
</I>&gt;<i> &gt; NODE_PORT=55672
</I>&gt;<i> &gt; RABBITMQ_SERVER_ERL_ARGS=&quot;+K true +A30 +P 1048576(<A HREF="tel://1048576">tel://1048576</A>)
</I>&gt;<i> &gt; -kernel inet_default_connect_options [{nodelay,true}]&quot;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I then tried starting rabbitmq-server, but I got the same error.
</I>&gt;<i>
</I>&gt;<i> Some research suggests it may be a version-specific problem
</I>&gt;<i> where VM needs to report an issue early on start:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://erlang.org/pipermail/erlang-questions/2010-July/052540.html">http://erlang.org/pipermail/erlang-questions/2010-July/052540.html</A>
</I>&gt;<i>
</I>&gt;<i> Please try with R17 or R16B03. Sorry.
</I>&gt;<i> --
</I>&gt;<i> MK
</I>&gt;<i>
</I>&gt;<i> Software Engineer, Pivotal/RabbitMQ
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140620/111a917a/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140620/111a917a/attachment.html</A>&gt;
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036772.html">[rabbitmq-discuss] After upgrade to 3.3.3 rabbitmq-server failing to start
</A></li>
	<LI>Next message: <A HREF="037023.html">[rabbitmq-discuss] After upgrade to 3.3.3 rabbitmq-server failing to start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36807">[ date ]</a>
              <a href="thread.html#36807">[ thread ]</a>
              <a href="subject.html#36807">[ subject ]</a>
              <a href="author.html#36807">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
