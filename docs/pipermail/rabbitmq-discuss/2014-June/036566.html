<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue creation error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20creation%20error&In-Reply-To=%3C53980201.1050108%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036557.html">
   <LINK REL="Next"  HREF="036569.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue creation error</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20creation%20error&In-Reply-To=%3C53980201.1050108%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Queue creation error">matthias at rabbitmq.com
       </A><BR>
    <I>Wed Jun 11 08:15:13 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036557.html">[rabbitmq-discuss] Queue creation error
</A></li>
        <LI>Next message: <A HREF="036569.html">[rabbitmq-discuss] Queue creation error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36566">[ date ]</a>
              <a href="thread.html#36566">[ thread ]</a>
              <a href="subject.html#36566">[ subject ]</a>
              <a href="author.html#36566">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/06/14 20:50, David Sinclair wrote:
&gt;<i> I am currently running a 2 node cluster with Rabbit 3.1.5. [...]
</I>&gt;<i> Operations was configuring a new cluster and put the hipe_compile flag
</I>&gt;<i> to true (normally set to false). When they did this, queue creation was
</I>&gt;<i> failing for queues that needed to be mirrored. The error is
</I>&gt;<i> [...]
</I>&gt;<i>      exception exit: {badarith,
</I>&gt;<i>                          [{rabbit_variable_queue,ram_duration,1},
</I>&gt;<i>                           {rabbit_mnesia,node_info,0},
</I>&gt;<i>                           {rabbit_amqqueue_process,handle_pre_hibernate,1},
</I>&gt;<i>                           {gen_server2,pre_hibernate,1},
</I>&gt;<i>                           {rabbit_mnesia,node_info,0}]}
</I>
The code that is failing has changed in more recent versions of rabbit, 
avoiding a floating point arithmetic rounding issue that could possibly 
trigger the above error. Please upgrade.

Also, please make sure you are using the latest Erlang version, since 
hipe compilation is an active area of development (and bug fixing).

Matthias.
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036557.html">[rabbitmq-discuss] Queue creation error
</A></li>
	<LI>Next message: <A HREF="036569.html">[rabbitmq-discuss] Queue creation error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36566">[ date ]</a>
              <a href="thread.html#36566">[ thread ]</a>
              <a href="subject.html#36566">[ subject ]</a>
              <a href="author.html#36566">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
