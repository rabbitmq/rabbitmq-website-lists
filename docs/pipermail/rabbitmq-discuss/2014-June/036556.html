<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Would like to start merging .NET client for WinRT (Windows 8 Store App) with mainline code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Would%20like%20to%20start%20merging%20.NET%20client%20for%0A%20WinRT%20%28Windows%208%20Store%20App%29%20with%20mainline%20code&In-Reply-To=%3CCAFCmQSpQ-GGptTpFeqg1XTURx3aKWsQ91MMWEJgiUtwN%2B%3DhTRQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036540.html">
   <LINK REL="Next"  HREF="036541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Would like to start merging .NET client for WinRT (Windows 8 Store App) with mainline code</H1>
    <B>Nathan Brown</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Would%20like%20to%20start%20merging%20.NET%20client%20for%0A%20WinRT%20%28Windows%208%20Store%20App%29%20with%20mainline%20code&In-Reply-To=%3CCAFCmQSpQ-GGptTpFeqg1XTURx3aKWsQ91MMWEJgiUtwN%2B%3DhTRQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Would like to start merging .NET client for WinRT (Windows 8 Store App) with mainline code">nathan at nkbrown.us
       </A><BR>
    <I>Tue Jun 10 20:42:29 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036540.html">[rabbitmq-discuss] Would like to start merging .NET client for WinRT (Windows 8 Store App) with mainline code
</A></li>
        <LI>Next message: <A HREF="036541.html">[rabbitmq-discuss] in_group not functioning with ldap bind?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36556">[ date ]</a>
              <a href="thread.html#36556">[ thread ]</a>
              <a href="subject.html#36556">[ subject ]</a>
              <a href="author.html#36556">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> NUnit was able to test it without the configuration part. I can
</I>&gt;<i> remove that and remove all the MSTest changes. The test runner
</I>&gt;<i> then works as a desktop process (on Windows 8/Server 2012).
</I>
I merged with the most recent default branch to eliminate the protocol
configuration stuff and moved to a NUnit project for testing the WinStore
library.  I also backed out the MSTest changes.  This is all pushed to
Bitbucket.

There is a gotcha in that accessing the &quot;Application.Current.Suspending&quot;
event in ConnectionBase throws an exception when not in a full screen XAML
context.  This is equivalent to the AppDomain DomainUnload event, also used
in ConnectionBase.  My solution was to catch and ignore the exception for
the unit test.  An alternative could be to have an &quot;ApplicationEventSource&quot;
class that is implemented/overridden per platform and/or context.

Let me know when you have a chance to test it and if you have any
additional feedback for me.

Thanks,
Nathan Brown



On Mon, Jun 9, 2014 at 3:18 PM, Michael Klishin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt;
wrote:

&gt;<i> On 10 June 2014 at 01:48:41, Nathan Brown (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">nathan at nkbrown.us</A>) wrote:
</I>&gt;<i> &gt; &gt; &gt; Good question. If WinRT is an incompatible target, does it
</I>&gt;<i> &gt; mean
</I>&gt;<i> &gt; &gt; there should be 2 packages, X and X-winrt, for example?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Different platform DLLs go in a named folders inside of the NuGet
</I>&gt;<i> &gt; package. Everything is delivered together and Visual Studio
</I>&gt;<i> &gt; links to the correct DLL. If it was possible to build the NuGet
</I>&gt;<i> &gt; package as part of the CI process, that would be the best. Currently
</I>&gt;<i> &gt; the NuGet creation lives elsewhere and is manually populated
</I>&gt;<i> &gt; with the release binaries.
</I>&gt;<i>
</I>&gt;<i> I'll ask our NuGet package maintainer to chime in. I suspect it's time to
</I>&gt;<i> open source the code used for NuGet packaging ;)
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; Is it technically possible to run the current NUnit test suite
</I>&gt;<i> &gt; &gt; on WinRT? Protocol configuration is removed in default and
</I>&gt;<i> &gt; 3.4 will only
</I>&gt;<i> &gt; &gt; support one protocol (0-9-1). Do we still need to worry about
</I>&gt;<i> &gt; using MSTest
</I>&gt;<i> &gt; &gt; then?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; NUnit was able to test it without the configuration part. I can
</I>&gt;<i> &gt; remove that and remove all the MSTest changes. The test runner
</I>&gt;<i> &gt; then works as a desktop process (on Windows 8/Server 2012).
</I>&gt;<i>
</I>&gt;<i> Excellent!
</I>&gt;<i>
</I>&gt;<i> &gt; &gt; If your branch is in Mercurial or Git somewhere, we can work on
</I>&gt;<i> &gt; it until it's
</I>&gt;<i> &gt; &gt; mostly done, then create a bug and pull it into the mainline.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Anyone can pull it from Bitbucket(
</I>&gt;<i> <A HREF="https://bitbucket.org/nathanbrown/rabbitmq-dotnet-client">https://bitbucket.org/nathanbrown/rabbitmq-dotnet-client</A>)
</I>&gt;<i> &gt; right now. I can continue to work there.
</I>&gt;<i>
</I>&gt;<i> Lets do that. A public Mercurial repo is all we care about when it's time
</I>&gt;<i> to merge.
</I>&gt;<i> --
</I>&gt;<i> MK
</I>&gt;<i>
</I>&gt;<i> Software Engineer, Pivotal/RabbitMQ
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140610/44ae0668/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140610/44ae0668/attachment.html</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036540.html">[rabbitmq-discuss] Would like to start merging .NET client for WinRT (Windows 8 Store App) with mainline code
</A></li>
	<LI>Next message: <A HREF="036541.html">[rabbitmq-discuss] in_group not functioning with ldap bind?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36556">[ date ]</a>
              <a href="thread.html#36556">[ thread ]</a>
              <a href="subject.html#36556">[ subject ]</a>
              <a href="author.html#36556">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
