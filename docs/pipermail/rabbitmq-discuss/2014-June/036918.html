<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Unable to establish MQTT plugin in rabbitmq version : 3.1.3.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20establish%20MQTT%20plugin%20in%20rabbitmq%0A%20version%20%3A%203.1.3.&In-Reply-To=%3COF622DC644.284A7395-ON65257D03.0030ADF3-65257D03.00312457%40tcs.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036894.html">
   <LINK REL="Next"  HREF="036919.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Unable to establish MQTT plugin in rabbitmq version : 3.1.3.</H1>
    <B>Ankur5 C</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20establish%20MQTT%20plugin%20in%20rabbitmq%0A%20version%20%3A%203.1.3.&In-Reply-To=%3COF622DC644.284A7395-ON65257D03.0030ADF3-65257D03.00312457%40tcs.com%3E"
       TITLE="[rabbitmq-discuss] Unable to establish MQTT plugin in rabbitmq version : 3.1.3.">ankur5.c at tcs.com
       </A><BR>
    <I>Thu Jun 26 09:56:43 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036894.html">[rabbitmq-discuss] Unable to establish MQTT plugin in rabbitmq version : 3.1.3.
</A></li>
        <LI>Next message: <A HREF="036919.html">[rabbitmq-discuss] Unable to establish MQTT plugin in rabbitmq version : 3.1.3.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36918">[ date ]</a>
              <a href="thread.html#36918">[ thread ]</a>
              <a href="subject.html#36918">[ subject ]</a>
              <a href="author.html#36918">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi ,

I am trying connect rabbit mq over ssl and using rabbit mq as an mqtt 
broker.

I am using PAHO client. I have configured ssl at the rabbitmq side as per 
<A HREF="http://www.rabbitmq.com/ssl.html.">http://www.rabbitmq.com/ssl.html.</A>

Bu when I am trying to connect to the broker I am getting the following 
exception
.MqttException (0) - javax.net.ssl.SSLHandshakeException: Remote host 
closed connection during handshake
        at 
org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(
ExceptionHelper.java:34)
        at 
org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(
ClientComms.java:553)
        at java.lang.Thread.run(Thread.java:722)
Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed 
connection during handshake
        at sun.security.ssl.SSLSocketImpl.readRecord(
SSLSocketImpl.java:946)
        at sun.security.ssl.SSLSocketImpl.performInitialHandshake(
SSLSocketImpl.java:1328)
        at sun.security.ssl.SSLSocketImpl.startHandshake(
SSLSocketImpl.java:1355)
        at sun.security.ssl.SSLSocketImpl.startHandshake(
SSLSocketImpl.java:1339)
        at org.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(
SSLNetworkModule.java:84)
        at 
org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(
ClientComms.java:538)
        ... 1 more
Caused by: java.io.EOFException: SSL peer shut down incorrectly
        at sun.security.ssl.InputRecord.read(InputRecord.java:352)
        at sun.security.ssl.SSLSocketImpl.readRecord(
SSLSocketImpl.java:927)
        ... 6 more

Any help is appreciated.

Thanks and Regards,
Ankur Chakraborty


From:   Michael Klishin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt;
To:     Ankur5 C &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ankur5.c at tcs.com</A>&gt;, Discussions about RabbitMQ 
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
Date:   25-06-2014 15:28
Subject:        Re: [rabbitmq-discuss] Unable to establish MQTT plugin in 
rabbitmq version : 3.1.3.



 On 25 June 2014 at 13:53:28, Ankur5 C (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ankur5.c at tcs.com</A>) wrote:
&gt;<i> &gt; =INFO REPORT==== 25-Jun-2014(
</I><A HREF="http://airmail.calendar/2014-06-25%2012:00:00%20GMT+4">http://airmail.calendar/2014-06-25%2012:00:00%20GMT+4</A>)::12:57:48 
&gt;<i> ===
</I>&gt;<i> Error description:
</I>&gt;<i> {could_not_start,rabbitmq_mqtt,{badmatch,{error,shutdown}}} 
</I>&gt;<i> 
</I>&gt;<i> Please comment on this . I followed the same steps as mentioned 
</I>&gt;<i> in <A HREF="http://www.rabbitmq.com/blog/2012/09/12/mqtt-adapter/.">http://www.rabbitmq.com/blog/2012/09/12/mqtt-adapter/.</A> 
</I>&gt;<i> 
</I>&gt;<i> The only difference is the rabbitmq version . In the above link 
</I>&gt;<i> it is mentioned version rabbitmq-server 2.8.6(
</I><A HREF="http://www.rabbitmq.com/download.html">http://www.rabbitmq.com/download.html</A>) 
&gt;<i> but I am using rabbitmq_server-3.1.3.
</I>
I suspect you tried installing the 2.8.6 plugin into 3.1.3 version. That 
won't work. 
There is no need to download the .ez file any more, simply enable the 
plugin 
and restart RabbitMQ. 

If you did download the 2.8.6 .ez file, remove it first. Then follow the 
docs: 
<A HREF="http://www.rabbitmq.com/mqtt.html">http://www.rabbitmq.com/mqtt.html</A> 

Also, moving to 3.3.4 is not a bad idea ;) 
-- 
MK 

Staff Software Engineer, Pivotal/RabbitMQ

=====-----=====-----=====
Notice: The information contained in this e-mail
message and/or attachments to it may contain 
confidential or privileged information. If you are 
not the intended recipient, any dissemination, use, 
review, distribution, printing or copying of the 
information contained in this e-mail message 
and/or attachments to it are strictly prohibited. If 
you have received this communication in error, 
please notify us by reply e-mail or telephone and 
immediately and permanently delete the message 
and any attachments. Thank you


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140626/cf637a40/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140626/cf637a40/attachment.html</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036894.html">[rabbitmq-discuss] Unable to establish MQTT plugin in rabbitmq version : 3.1.3.
</A></li>
	<LI>Next message: <A HREF="036919.html">[rabbitmq-discuss] Unable to establish MQTT plugin in rabbitmq version : 3.1.3.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36918">[ date ]</a>
              <a href="thread.html#36918">[ thread ]</a>
              <a href="subject.html#36918">[ subject ]</a>
              <a href="author.html#36918">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
