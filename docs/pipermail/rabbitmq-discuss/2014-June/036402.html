<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Redundant Cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Redundant%20Cluster&In-Reply-To=%3CetPan.538ca851.6b8b4567.151%40mercurio.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036401.html">
   <LINK REL="Next"  HREF="036403.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Redundant Cluster</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Redundant%20Cluster&In-Reply-To=%3CetPan.538ca851.6b8b4567.151%40mercurio.local%3E"
       TITLE="[rabbitmq-discuss] Redundant Cluster">mklishin at gopivotal.com
       </A><BR>
    <I>Mon Jun  2 17:37:12 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036401.html">[rabbitmq-discuss] Redundant Cluster
</A></li>
        <LI>Next message: <A HREF="036403.html">[rabbitmq-discuss] Redundant Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36402">[ date ]</a>
              <a href="thread.html#36402">[ thread ]</a>
              <a href="subject.html#36402">[ subject ]</a>
              <a href="author.html#36402">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&#160;On 2 June 2014 at 20:26:13, guardion (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">guardion at sapo.pt</A>) wrote:
&gt;<i> &gt; I have a producer sending messages to a rabbitmq cluster composed  
</I>&gt;<i> by two
</I>&gt;<i> machines (A and B)
</I>&gt;<i>  
</I>&gt;<i> I can use mirrored queues to achieve availability in case of crash.  
</I>&gt;<i> A and B
</I>&gt;<i> have the same state (exchanges, queues, messages) right ?
</I>
Queue mirroring replicate queue state. It does not affect exchanges.

See&#160;<A HREF="http://www.rabbitmq.com/ha.html">http://www.rabbitmq.com/ha.html</A> and&#160;<A HREF="http://www.rabbitmq.com/partitions.html">http://www.rabbitmq.com/partitions.html</A>
for more information.

&gt;<i> What i need is that messages delivered to the cluster are replicated  
</I>&gt;<i> and
</I>&gt;<i> consumed individually, meaning, Message Y arrives at the cluster,  
</I>&gt;<i> then it's
</I>&gt;<i> replicated to A and B, and consumed by a consumer working in A and  
</I>&gt;<i> another
</I>&gt;<i> consumer working in B.
</I>&gt;<i>  
</I>&gt;<i> The same message should be consumed separatly in each node.
</I>&gt;<i>  
</I>&gt;<i> How can i make this? Do i need to turn off mirored queues and create  
</I>&gt;<i> different exchanges ?
</I>
You need to use fanout or topic exchange and make sure that messages
are routed to multiple queues. First part of your question suggests
you want those queues to be mirrored.

However, you may want to replicate data between two clusters. See
Shovel and Federation plugins:

<A HREF="http://www.rabbitmq.com/shovel.html">http://www.rabbitmq.com/shovel.html</A>
<A HREF="http://www.rabbitmq.com/federation.html">http://www.rabbitmq.com/federation.html</A>
--  
MK  

Software Engineer, Pivotal/RabbitMQ
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036401.html">[rabbitmq-discuss] Redundant Cluster
</A></li>
	<LI>Next message: <A HREF="036403.html">[rabbitmq-discuss] Redundant Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36402">[ date ]</a>
              <a href="thread.html#36402">[ thread ]</a>
              <a href="subject.html#36402">[ subject ]</a>
              <a href="author.html#36402">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
