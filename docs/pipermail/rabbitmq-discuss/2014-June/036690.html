<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] client_timeout errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%3D%3Futf-8%3Fq%3Fclient%3D5Ftimeout_errors%3F%3D&In-Reply-To=%3C201406180950296971069%40sina.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036653.html">
   <LINK REL="Next"  HREF="036691.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] client_timeout errors</H1>
    <B>youpingl</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%3D%3Futf-8%3Fq%3Fclient%3D5Ftimeout_errors%3F%3D&In-Reply-To=%3C201406180950296971069%40sina.com%3E"
       TITLE="[rabbitmq-discuss] client_timeout errors">youpingl at sina.com
       </A><BR>
    <I>Wed Jun 18 02:50:30 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036653.html">[rabbitmq-discuss] client_timeout errors
</A></li>
        <LI>Next message: <A HREF="036691.html">[rabbitmq-discuss] client_timeout errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36690">[ date ]</a>
              <a href="thread.html#36690">[ thread ]</a>
              <a href="subject.html#36690">[ subject ]</a>
              <a href="author.html#36690">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>1,The architecture of my application is: stomp clients(more than one thousand) + Java amqp servers(several)---haproxy---rabbitmq(cluster of two nodes)

2,The performace of rabbitmq dropped a lot when the client_timeout crash errors report frequently 

3,The stomp client creates a connection to rabbitmq long term at boot time, and it sends hearbeat frame per 10 seconds when no task of rpc, and it does not closing the connection explicitly when abort or exit. 

4,The client timeout param of haproxy set to 120 seconds, and the heartbeat param of rabbitmq set  to 580 seconds. 

How can I solve this problem?      

2014-06-18 09:11:28



youpingl




&#21457;&#20214;&#20154;&#65306; Michael Klishin 
&#21457;&#36865;&#26102;&#38388;&#65306; 2014-06-17  17:28:29 
&#25910;&#20214;&#20154;&#65306; youpingl; Discussions about RabbitMQ 
&#25220;&#36865;&#65306; 
&#20027;&#39064;&#65306; Re: [rabbitmq-discuss] client_timeout errors 
On 17 June 2014 at 13:14:01, youpingl (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">youpingl at sina.com</A>) wrote:
&gt;<i> &gt; I used the delphi stomp client(v1.7) to connect the Rabbitmq  
</I>&gt;<i> server(v3.3.2) for RPC. But the Rabbitmq server appears errors  
</I>&gt;<i> report list below occasionally, what happens?
</I>This means a STOMP client missed a heartbeat. Mind you, we should log
something more sensible here but ultimately it is a network connectivity
issue between your client and RabbitMQ node it connects to. 
--  
MK  
Software Engineer, Pivotal/RabbitMQ
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140618/cd436d9f/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140618/cd436d9f/attachment.html</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036653.html">[rabbitmq-discuss] client_timeout errors
</A></li>
	<LI>Next message: <A HREF="036691.html">[rabbitmq-discuss] client_timeout errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36690">[ date ]</a>
              <a href="thread.html#36690">[ thread ]</a>
              <a href="subject.html#36690">[ subject ]</a>
              <a href="author.html#36690">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
