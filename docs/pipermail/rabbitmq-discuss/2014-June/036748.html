<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] mazy behavior of rabbitmq-c in same ip case
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20mazy%20behavior%20of%20rabbitmq-c%20in%20same%20ip%20case&In-Reply-To=%3C27E054594442884E9A46DBCF9AE74081688F04%40BSDMSATMBX001.mahindrasatyam.ad%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036695.html">
   <LINK REL="Next"  HREF="036749.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] mazy behavior of rabbitmq-c in same ip case</H1>
    <B>Rohit Patle</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20mazy%20behavior%20of%20rabbitmq-c%20in%20same%20ip%20case&In-Reply-To=%3C27E054594442884E9A46DBCF9AE74081688F04%40BSDMSATMBX001.mahindrasatyam.ad%3E"
       TITLE="[rabbitmq-discuss] mazy behavior of rabbitmq-c in same ip case">Rohit.Patle at techmahindra.com
       </A><BR>
    <I>Thu Jun 19 13:29:50 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036695.html">[rabbitmq-discuss] mazy behavior of rabbitmq-c in same ip case
</A></li>
        <LI>Next message: <A HREF="036749.html">[rabbitmq-discuss] mazy behavior of rabbitmq-c in same ip case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36748">[ date ]</a>
              <a href="thread.html#36748">[ thread ]</a>
              <a href="subject.html#36748">[ subject ]</a>
              <a href="author.html#36748">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael,

Is there any clue on below issue.

Thanks,
Rohit

________________________________________
From: Rohit Patle
Sent: Wednesday, June 18, 2014 11:58 AM
To: Michael Klishin
Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: RE: [rabbitmq-discuss] mazy behavior of rabbitmq-c in same ip case

Hi Michael,

The outcome of openssl tool is different in different scenarios, when I assign the the client dynamic ip the outcome of : &quot;openssl s_client -host ms501.xxxxx.com -port 5671 -quiet -state&quot;  is as follows

SSL_connect:before/connect initialization
SSL_connect:unknown state
SSL_connect:SSLv3 read server hello A
depth=1 CN = xxxxxxxx
verify error:num=19:self signed certificate in certificate chain
verify return:0
SSL_connect:SSLv3 read server certificate A
SSL_connect:SSLv3 read server certificate request A
SSL_connect:SSLv3 read server done A
SSL_connect:SSLv3 write client certificate A
SSL_connect:SSLv3 write client key exchange A
SSL_connect:SSLv3 write change cipher spec A
SSL_connect:SSLv3 write finished A
SSL_connect:SSLv3 flush data
SSL3 alert read:fatal:handshake failure
SSL_connect:failed in SSLv3 read finished A
3074099400:error:14094410:SSL routines:SSL3_READ_BYTES:sslv3 alert handshake failure:s3_pkt.c:1260:SSL alert number 40
3074099400:error:140790E5:SSL routines:SSL23_WRITE:ssl handshake failure:s23_lib.c:177:

And when I assigned static ip the outcome of openssl tool  for the command :&quot;openssl s_client -host ms501.xxxxx.com -port 5671 -quiet -state&quot; is as:

gethostbyname failure
connect : errno=11

In both cases communication happens as expected. But the issue comes when I use the single static ip for two consumers.

Please advise.

Thanks &amp; Regards,
Rohit

________________________________________
From: Michael Klishin [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>]
Sent: Tuesday, June 17, 2014 3:20 PM
To: Rohit Patle
Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: RE: [rabbitmq-discuss] mazy behavior of rabbitmq-c in same ip case

 On 17 June 2014 at 13:47:26, Rohit Patle (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rohit.patle at techmahindra.com</A>) wrote:
&gt;<i> &gt; I believe it is not SSL handshake issue, because the connection
</I>&gt;<i> is getting establish successfully, for both the connection
</I>&gt;<i> I am getting comments in Rabbitmq log as &quot;accepting AMQP connection&quot;
</I>&gt;<i> for the same ip's, but after some time like in a minute I am getting
</I>&gt;<i> &quot;AMQP_STATUS_SSL_ERROR&quot; in my clients.
</I>
AMQP_STATUS_SSL_ERROR is very generic and without getting
more info from OpenSSL it's not really possible to tell what the problem is:

<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2013-September/030459.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2013-September/030459.html</A>

Try openssl s_client, it usually produces better error messages
and displays more info than almost any other tool out there.
--
MK

Software Engineer, Pivotal/RabbitMQ

________________________________

DISCLAIMER:
This email (including any attachments) is intended for the sole use of the intended recipient/s and may contain material that is CONFIDENTIAL AND PRIVATE COMPANY INFORMATION. Any review or reliance by others or copying or distribution or forwarding of any or all of the contents in this message is STRICTLY PROHIBITED. If you are not the intended recipient, please contact the sender by email and delete all copies; your cooperation in this regard is appreciated.
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036695.html">[rabbitmq-discuss] mazy behavior of rabbitmq-c in same ip case
</A></li>
	<LI>Next message: <A HREF="036749.html">[rabbitmq-discuss] mazy behavior of rabbitmq-c in same ip case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36748">[ date ]</a>
              <a href="thread.html#36748">[ thread ]</a>
              <a href="subject.html#36748">[ subject ]</a>
              <a href="author.html#36748">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
