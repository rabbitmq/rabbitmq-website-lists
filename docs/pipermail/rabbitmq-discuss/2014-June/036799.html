<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] custom exchange checking auth user
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20custom%20exchange%20checking%20auth%20user&In-Reply-To=%3C53A4436E.4090407%40alertme.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036791.html">
   <LINK REL="Next"  HREF="036800.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] custom exchange checking auth user</H1>
    <B>Dmitry Andrianov</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20custom%20exchange%20checking%20auth%20user&In-Reply-To=%3C53A4436E.4090407%40alertme.com%3E"
       TITLE="[rabbitmq-discuss] custom exchange checking auth user">dmitry.andrianov at alertme.com
       </A><BR>
    <I>Fri Jun 20 15:21:34 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036791.html">[rabbitmq-discuss] message filter for Rabbit MQ
</A></li>
        <LI>Next message: <A HREF="036800.html">[rabbitmq-discuss] custom exchange checking auth user
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36799">[ date ]</a>
              <a href="thread.html#36799">[ thread ]</a>
              <a href="subject.html#36799">[ subject ]</a>
              <a href="author.html#36799">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.
can a custom exchange plugin access record of the user that sent the 
message?
when I am dumping (with io::format) what came into exchange's route 
function,
I do not see anything that auth backend check_login put into user it 
returned.
There is a user id (CN=xxxyyy, because we are using SSL), but not the 
extra fields auth backend put into impl:

           {ok, #user{username     = Username,
                      tags         = [],
                      auth_backend = ?MODULE,
                      impl         = #impl{first_name  = 
list_to_binary(FirstName)}}}

I would like to access that first_name of the user who posted the 
message if possible...

Thanks

This email is for the use of the intended recipient(s) only.
If you have received this email in error, please notify the sender immediately and then delete it.
If you are not the intended recipient, you must not use, disclose or distribute this email without the
author's prior permission. AlertMe.com Ltd. is not responsible for any personal views expressed
in this message or any attachments that are those of the individual sender.

AlertMe.com Ltd, 30 Station Road, Cambridge, CB1 2RE, UK.
Registered in England, Company number 578 2908, VAT registration number GB 895 9914 42.


</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036791.html">[rabbitmq-discuss] message filter for Rabbit MQ
</A></li>
	<LI>Next message: <A HREF="036800.html">[rabbitmq-discuss] custom exchange checking auth user
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36799">[ date ]</a>
              <a href="thread.html#36799">[ thread ]</a>
              <a href="subject.html#36799">[ subject ]</a>
              <a href="author.html#36799">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
