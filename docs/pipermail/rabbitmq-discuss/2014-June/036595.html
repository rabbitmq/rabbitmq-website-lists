<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] {disk_free_limit, {mem_relative, 1.0}}
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%7Bdisk_free_limit%2C%20%7Bmem_relative%2C%201.0%7D%7D&In-Reply-To=%3C6733EB823A13479CAB626758B8F46621%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036594.html">
   <LINK REL="Next"  HREF="036598.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] {disk_free_limit, {mem_relative, 1.0}}</H1>
    <B>carlhoerberg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%7Bdisk_free_limit%2C%20%7Bmem_relative%2C%201.0%7D%7D&In-Reply-To=%3C6733EB823A13479CAB626758B8F46621%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] {disk_free_limit, {mem_relative, 1.0}}">carl.hoerberg at gmail.com
       </A><BR>
    <I>Fri Jun 13 03:51:02 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036594.html">[rabbitmq-discuss] {disk_free_limit, {mem_relative, 1.0}}
</A></li>
        <LI>Next message: <A HREF="036598.html">[rabbitmq-discuss] {disk_free_limit, {mem_relative, 1.0}}
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36595">[ date ]</a>
              <a href="thread.html#36595">[ thread ]</a>
              <a href="subject.html#36595">[ subject ]</a>
              <a href="author.html#36595">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>yes, we do. setting an absolut number works. 
yes i know. 

rabbitmq 3.3.2, erlang 17 


On Friday 13 June 2014 at 09:00, Arun Rao [via RabbitMQ] wrote:

&gt;<i> The location of the parameter also matters, is your rabbitmq.config file similar to this?
</I>&gt;<i> 
</I>&gt;<i> [
</I>&gt;<i> {rabbit, [
</I>&gt;<i> ...
</I>&gt;<i> {disk_free_limit, {mem_relative,1.0}}
</I>&gt;<i> ...
</I>&gt;<i> ]}
</I>&gt;<i> ].
</I>&gt;<i> 
</I>&gt;<i> Also setting this relative to memory sets really &quot;low watermark&quot;. For example, If you have 16G RAM and 100G Hard disk. Setting this relative to RAM makes low watermark set at 16GB. This means that Publishers are blocked when your available disk space approaches 84GB (100-16). So I set this value to 0.1 and now publishers are not blocking in case of backup until 98.4 (100-1.6). HTH 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Thu, Jun 12, 2014 at 4:37 PM, carlhoerberg &lt;[hidden email] (/user/SendEmail.jtp?type=node&amp;node=36189&amp;i=0)&gt; wrote:
</I>&gt;<i> &gt; It doesn't seems like we're able to configure disk_free_limit with
</I>&gt;<i> &gt; {mem_relative, 1.0} (as described here:
</I>&gt;<i> &gt; <A HREF="http://www.rabbitmq.com/configure.html">http://www.rabbitmq.com/configure.html</A>). The mgmt interface reports &quot;(not
</I>&gt;<i> &gt; available)&quot; and the sasl log reports:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; =CRASH REPORT==== 9-Jun-2014::15:17:09 ===
</I>&gt;<i> &gt; crasher:
</I>&gt;<i> &gt; initial call: rabbit_disk_monitor:init/1
</I>&gt;<i> &gt; pid: &lt;0.251.0&gt;
</I>&gt;<i> &gt; registered_name: []
</I>&gt;<i> &gt; exception exit: {badarith,
</I>&gt;<i> &gt; [{rabbit_disk_monitor,interval,1,[]},
</I>&gt;<i> &gt; {rabbit_disk_monitor,start_timer,1,[]},
</I>&gt;<i> &gt; {rabbit_disk_monitor,init,1,[]},
</I>&gt;<i> &gt; {gen_server,init_it,6,
</I>&gt;<i> &gt; [{file,&quot;gen_server.erl&quot;},{line,306}]},
</I>&gt;<i> &gt; {proc_lib,init_p_do_apply,3,
</I>&gt;<i> &gt; [{file,&quot;proc_lib.erl&quot;},{line,239}]}]}
</I>&gt;<i> &gt; in function gen_server:init_it/6 (gen_server.erl, line 330)
</I>&gt;<i> &gt; ancestors: [rabbit_disk_monitor_sup,rabbit_sup,&lt;0.96.0&gt;]
</I>&gt;<i> &gt; messages: []
</I>&gt;<i> &gt; links: [&lt;0.250.0&gt;]
</I>&gt;<i> &gt; dictionary: []
</I>&gt;<i> &gt; trap_exit: false
</I>&gt;<i> &gt; status: running
</I>&gt;<i> &gt; heap_size: 6772
</I>&gt;<i> &gt; stack_size: 27
</I>&gt;<i> &gt; reductions: 40670
</I>&gt;<i> &gt; neighbours:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; =SUPERVISOR REPORT==== 9-Jun-2014::15:17:09 ===
</I>&gt;<i> &gt; Supervisor: {local,rabbit_disk_monitor_sup}
</I>&gt;<i> &gt; Context: start_error
</I>&gt;<i> &gt; Reason: {badarith,
</I>&gt;<i> &gt; [{rabbit_disk_monitor,interval,1,[]},
</I>&gt;<i> &gt; {rabbit_disk_monitor,start_timer,1,[]},
</I>&gt;<i> &gt; {rabbit_disk_monitor,init,1,[]},
</I>&gt;<i> &gt; {gen_server,init_it,6,
</I>&gt;<i> &gt; [{file,&quot;gen_server.erl&quot;},{line,306}]},
</I>&gt;<i> &gt; {proc_lib,init_p_do_apply,3,
</I>&gt;<i> &gt; [{file,&quot;proc_lib.erl&quot;},{line,239}]}]}
</I>&gt;<i> &gt; Offender: [{pid,undefined},
</I>&gt;<i> &gt; {name,rabbit_disk_monitor},
</I>&gt;<i> &gt; {mfargs,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; {rabbit_disk_monitor,start_link,[{mem_relative,1.0}]}},
</I>&gt;<i> &gt; {restart_type,{transient,1}},
</I>&gt;<i> &gt; {shutdown,4294967295},
</I>&gt;<i> &gt; {child_type,worker}]
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/disk-free-limit-mem-relative-1-0-tp36187.html">http://rabbitmq.1065348.n5.nabble.com/disk-free-limit-mem-relative-1-0-tp36187.html</A>
</I>&gt;<i> &gt; Sent from the RabbitMQ mailing list archive at Nabble.com (<A HREF="http://Nabble.com">http://Nabble.com</A>).
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; [hidden email] (/user/SendEmail.jtp?type=node&amp;node=36189&amp;i=1)
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________ 
</I>&gt;<i> rabbitmq-discuss mailing list 
</I>&gt;<i> [hidden email] (/user/SendEmail.jtp?type=node&amp;node=36189&amp;i=2) 
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> If you reply to this email, your message will be added to the discussion below: <A HREF="http://rabbitmq.1065348.n5.nabble.com/disk-free-limit-mem-relative-1-0-tp36187p36189.html">http://rabbitmq.1065348.n5.nabble.com/disk-free-limit-mem-relative-1-0-tp36187p36189.html</A> 
</I>&gt;<i> To unsubscribe from {disk_free_limit, {mem_relative, 1.0}}, click here (<A HREF="http://rabbitmq.1065348.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&amp;node=36187&amp;code=Y2FybC5ob2VyYmVyZ0BnbWFpbC5jb218MzYxODd8LTEyNDcxMDc4NjM=">http://rabbitmq.1065348.n5.nabble.com/template/NamlServlet.jtp?macro=unsubscribe_by_code&amp;node=36187&amp;code=Y2FybC5ob2VyYmVyZ0BnbWFpbC5jb218MzYxODd8LTEyNDcxMDc4NjM=</A>).
</I>&gt;<i> NAML (<A HREF="http://rabbitmq.1065348.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&amp;id=instant_html%21nabble%3Aemail.naml&amp;base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&amp;breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml">http://rabbitmq.1065348.n5.nabble.com/template/NamlServlet.jtp?macro=macro_viewer&amp;id=instant_html%21nabble%3Aemail.naml&amp;base=nabble.naml.namespaces.BasicNamespace-nabble.view.web.template.NabbleNamespace-nabble.view.web.template.NodeNamespace&amp;breadcrumbs=notify_subscribers%21nabble%3Aemail.naml-instant_emails%21nabble%3Aemail.naml-send_instant_email%21nabble%3Aemail.naml</A>) 
</I>






--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/disk-free-limit-mem-relative-1-0-tp36187p36190.html">http://rabbitmq.1065348.n5.nabble.com/disk-free-limit-mem-relative-1-0-tp36187p36190.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140612/4e3aacf8/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140612/4e3aacf8/attachment.html</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036594.html">[rabbitmq-discuss] {disk_free_limit, {mem_relative, 1.0}}
</A></li>
	<LI>Next message: <A HREF="036598.html">[rabbitmq-discuss] {disk_free_limit, {mem_relative, 1.0}}
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36595">[ date ]</a>
              <a href="thread.html#36595">[ thread ]</a>
              <a href="subject.html#36595">[ subject ]</a>
              <a href="author.html#36595">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
