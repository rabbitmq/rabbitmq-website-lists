<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Installation Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Installation%20Question&In-Reply-To=%3C538DEBF6.6020107%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036418.html">
   <LINK REL="Next"  HREF="036429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Installation Question</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Installation%20Question&In-Reply-To=%3C538DEBF6.6020107%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Installation Question">simon at rabbitmq.com
       </A><BR>
    <I>Tue Jun  3 16:38:30 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036418.html">[rabbitmq-discuss] RabbitMQ Installation Question
</A></li>
        <LI>Next message: <A HREF="036429.html">[rabbitmq-discuss] Management plugin guest account login issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36419">[ date ]</a>
              <a href="thread.html#36419">[ thread ]</a>
              <a href="subject.html#36419">[ subject ]</a>
              <a href="author.html#36419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/06/14 15:30, Wesley Cutting wrote:
&gt;<i> The plugin batch file does not enable the management tools, instead it
</I>&gt;<i> states that the Erlang Home is not set correctly, which doesn&#8217;t make
</I>&gt;<i> sense to me because I thought that the RabbitMQ installation consumed
</I>&gt;<i> that same environment variable.
</I>
No. It doesn't consume it - it sets it. And if you end up setting 
environment variables while installing then they are not available to 
your installer or subprocesses launched from it until you broadcast a 
WM_WININICHANGE message. See here:

<A HREF="http://hg.rabbitmq.com/rabbitmq-server/file/rabbitmq_v3_3_1/packaging/windows-exe/rabbitmq_nsi.in#l238">http://hg.rabbitmq.com/rabbitmq-server/file/rabbitmq_v3_3_1/packaging/windows-exe/rabbitmq_nsi.in#l238</A>

for how we do it.

&gt;<i> I have also encountered this problem
</I>&gt;<i> when working with WIX as our installer technology so I know it is not a
</I>&gt;<i> problem with Advanced Installer. The best I can surmise is that RabbitMQ
</I>&gt;<i> and the plugin batch file cannot be run in the same process for whatever
</I>&gt;<i> reason. Can you either confirm my suspicions or point in the direction
</I>&gt;<i> of a potential work around?
</I>
The rabbitmq-plugins.bat tool just edits the enabled_plugins file. This 
is a plain text file containing an Erlang term which is a list of 
explicitly enabled plugins. So you could deploy your own file containing 
exactly &quot;[rabbitmq_management].&quot; (without the quote marks) and not have 
to invoke the batch file at all.

If you are embedding RabbitMQ inside another product, you might find 
that you want to skip using the installer and just install the various 
components within your own installer. See

<A HREF="http://www.rabbitmq.com/install-windows-manual.html">http://www.rabbitmq.com/install-windows-manual.html</A>

for some information on how you might do that.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036418.html">[rabbitmq-discuss] RabbitMQ Installation Question
</A></li>
	<LI>Next message: <A HREF="036429.html">[rabbitmq-discuss] Management plugin guest account login issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36419">[ date ]</a>
              <a href="thread.html#36419">[ thread ]</a>
              <a href="subject.html#36419">[ subject ]</a>
              <a href="author.html#36419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
