<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] High Scalability and High Availability...How	to?!!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20Scalability%20and%20High%20Availability...How%0A%09to%3F%21%21&In-Reply-To=%3CCADsp-PWsKoL%2B6it4pO4-rR0M7COC%3DcvFJri%2Bn0V8EfH4BSoo3g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036590.html">
   <LINK REL="Next"  HREF="036620.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] High Scalability and High Availability...How	to?!!</H1>
    <B>Shadi Mari</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20Scalability%20and%20High%20Availability...How%0A%09to%3F%21%21&In-Reply-To=%3CCADsp-PWsKoL%2B6it4pO4-rR0M7COC%3DcvFJri%2Bn0V8EfH4BSoo3g%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] High Scalability and High Availability...How	to?!!">shadimari at gmail.com
       </A><BR>
    <I>Sun Jun 15 09:13:28 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036590.html">[rabbitmq-discuss] High Scalability and High Availability...How to?!!
</A></li>
        <LI>Next message: <A HREF="036620.html">[rabbitmq-discuss] High Scalability and High Availability...How to?!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36619">[ date ]</a>
              <a href="thread.html#36619">[ thread ]</a>
              <a href="subject.html#36619">[ subject ]</a>
              <a href="author.html#36619">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for clarifying this Michael. I am trying to reflect what you have
said on my scenario...

Let's say i have two nodes N1 and N2, and one Queue that is mirrored, the
master and slave reside on N1 and N2 respectively; in such a case and as
based on what you have advised, there is no way to distribute consumers and
publishers load across two nodes because the same work will be done by the
two nodes; thus to rectify, load distribution manifests itself when we have
two or more mirrored queues distributes across 3 or more machines...

Is my assumption correct?

Thank you


On Thu, Jun 12, 2014 at 9:21 PM, Michael Klishin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt;
wrote:

&gt;<i>  On 12 June 2014 at 22:18:27, Shadi Mari (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">shadimari at gmail.com</A>) wrote:
</I>&gt;<i> &gt; &gt; Does that mean that if i have two publishers declare the same
</I>&gt;<i> &gt; queue on different nodes of the cluster, i will end up having two
</I>&gt;<i> &gt; master queues and two slaves?
</I>&gt;<i>
</I>&gt;<i> queue.declare is idempotent. If you declare a queue that already exists
</I>&gt;<i> with the same attributes, nothing happens. If the attributes differ, you
</I>&gt;<i> get
</I>&gt;<i> an error.
</I>&gt;<i>
</I>&gt;<i> &gt; What is the right way and best practice to mix load balancing with
</I>&gt;<i> &gt; HA on RabbitMQ?
</I>&gt;<i>
</I>&gt;<i> &quot;the right way&quot; depends on what you do. Having a load balancer in front of
</I>&gt;<i> a cluster to distribute queue masters is one technique. Not mirroring to
</I>&gt;<i> all
</I>&gt;<i> nodes in the cluster is another (2-3 nodes is often sufficient). Having
</I>&gt;<i> your consumers connect to queue masters to avoid intra-cluster traffic
</I>&gt;<i> (you can infer queue masters from queue info over HTTP API) will
</I>&gt;<i> increase throughput.
</I>&gt;<i>
</I>&gt;<i> The goal is to spread queue masters between nodes and improve data
</I>&gt;<i> locality.
</I>&gt;<i> --
</I>&gt;<i> MK
</I>&gt;<i>
</I>&gt;<i> Software Engineer, Pivotal/RabbitMQ
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140615/ab4533c7/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140615/ab4533c7/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036590.html">[rabbitmq-discuss] High Scalability and High Availability...How to?!!
</A></li>
	<LI>Next message: <A HREF="036620.html">[rabbitmq-discuss] High Scalability and High Availability...How to?!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36619">[ date ]</a>
              <a href="thread.html#36619">[ thread ]</a>
              <a href="subject.html#36619">[ subject ]</a>
              <a href="author.html#36619">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
