<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Scalable multithreaded consumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Scalable%20multithreaded%20consumer&In-Reply-To=47A1E522.8020100%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000464.html">
   <LINK REL="Next"  HREF="000445.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Scalable multithreaded consumer</H1>
    <B>Karel Alfonso</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Scalable%20multithreaded%20consumer&In-Reply-To=47A1E522.8020100%40lshift.net"
       TITLE="[rabbitmq-discuss] Scalable multithreaded consumer">karel.alfonso at inventri.com
       </A><BR>
    <I>Thu Jan 31 23:21:56 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000464.html">[rabbitmq-discuss] Scalable multithreaded consumer
</A></li>
        <LI>Next message: <A HREF="000445.html">[rabbitmq-discuss] C or C++ client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#465">[ date ]</a>
              <a href="thread.html#465">[ thread ]</a>
              <a href="subject.html#465">[ subject ]</a>
              <a href="author.html#465">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

  First, thanks so much for the support and quick replies.

  The problem I have at hand is to &quot;periodically poll the POP3 accounts of 5
thousand users or more and download the mails that match certain criteria&quot;.

  As the user base will increase in the future, I'm thinking of having a
clustered solution for scalability purpose.

  Right now I'm using ActiveMQ with clustered queue consumers. The master
distributes the messages in a round-robin manner to each of the consumers.
The consumers handle the message through Jencks, an MDB solution which has a
thread pool. To scale this architecture I have to add more consumer nodes
(with Jenck).

  I thought about Erlang cause in only one box I can have thousands of
processes running, provided that I have enough file descriptors in the OS.
Then if on top of that I can have a clustered solution with RabbitMQ, that
would be the perfect solution for me.

  Using RabbitMQ's Java libraries to consume the messages using a thread
pool does not offer any advantage to me, given that that is the solution I
have at the moment.

  The other question might be out of the subject of this list, but once you
have a RabbitMQ cluster, which technologies would you suggest to share the
file system amongst the cluster?

 Thanks in advance for all your help.

Regards,
 
Karel Alfonso
Tech Lead
Inventri
Level 4, 365 Little Collin St.
Melbourne, VIC 3000
 
Phone: 61 3 86760374
Mobile: 0402663985

-----Original Message-----
From: Tony Garnock-Jones [mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>] 
Sent: Friday, 1 February 2008 2:12 AM
To: Karel Alfonso
Cc: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] Scalable multithreaded consumer

Hi Karel,

Karel Alfonso wrote:
&gt;<i> In my solution each message means &quot;poll the pop3 account of user XYZ for
</I>new
&gt;<i> mails&quot;, that's right. So this is a solution where I need thousands of
</I>&gt;<i> clients/consumers to poll a POP3 account for a specific user.
</I>
RabbitMQ's Java library and Erlang broker should have no trouble with
that kind of solution - unless there was some showstopper you've found
that I haven't thought of?

Can you tell us more about the surrounding environment - for instance,
is Spring an important part of your total application?

Regards,
  Tony
-- 
 [][][] Tony Garnock-Jones     | Mob: +44 (0)7905 974 211
   [][] LShift Ltd             | Tel: +44 (0)20 7729 7060
 []  [] <A HREF="http://www.lshift.net/">http://www.lshift.net/</A> | Email: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000464.html">[rabbitmq-discuss] Scalable multithreaded consumer
</A></li>
	<LI>Next message: <A HREF="000445.html">[rabbitmq-discuss] C or C++ client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#465">[ date ]</a>
              <a href="thread.html#465">[ thread ]</a>
              <a href="subject.html#465">[ subject ]</a>
              <a href="author.html#465">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
