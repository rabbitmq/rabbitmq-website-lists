<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] lager vs sasl error log
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log&In-Reply-To=%3CF9E85480F62349458DF67CE8BA000D8D2D2D2368%40FR44EX3005.global.ds.honeywell.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026241.html">
   <LINK REL="Next"  HREF="026253.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] lager vs sasl error log</H1>
    <B>Gotthard, Petr</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log&In-Reply-To=%3CF9E85480F62349458DF67CE8BA000D8D2D2D2368%40FR44EX3005.global.ds.honeywell.com%3E"
       TITLE="[rabbitmq-discuss] lager vs sasl error log">Petr.Gotthard at Honeywell.com
       </A><BR>
    <I>Fri Mar 29 08:12:50 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026241.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
        <LI>Next message: <A HREF="026253.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26259">[ date ]</a>
              <a href="thread.html#26259">[ thread ]</a>
              <a href="subject.html#26259">[ subject ]</a>
              <a href="author.html#26259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tim,
Don't worry about this issue. I have probably misused the VERSION number.

The problem is we have custom plug-ins (another product) on top of RabbitMQ, which means the RabbitMQ VERSION is different from our plug-in VERSION.
Then, if RabbitMQ is 3.0.2 and our plug-in is 0.0.4 the lager will be compiled twice: as lager-2.0.0-rmq3.0.2 and then as lager-2.0.0-rmq3.0.2. The rabbitmq_lager/dist directory will however store only one .ez file-- the one that will be compiled later. This creates a problem for packaging, because the name of the .ez file in rabbitmq_lager/dist depends on the build sequence, which is not very nice.

Lesson learned: The VERSION number shall indicate the RabbitMQ version for all plug-ins.


Petr

-----Original Message-----
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Tim Watson
Sent: 28. b&#345;ezna 2013 14:44
To: Discussions about RabbitMQ
Subject: Re: [rabbitmq-discuss] lager vs sasl error log


On 28 Mar 2013, at 13:18, Gotthard, Petr wrote:

&gt;<i> Thanks Tim,
</I>&gt;<i> 
</I>&gt;<i> It compiles, runs and works, but--- there's a trouble (at least here) with the &quot;rmq&quot; suffix (the name is something like lager-2.0.0-rmq0.0.0-git9719370.ez)
</I>&gt;<i> 
</I>&gt;<i> The RMQ numbers seem to be taken from the VERSION parameter. Which means that if multiple plug-ins have different version, different version of the lager is created for each of the plugins (rmq0.0.0, rmq0.0.1, rmq0.0.4) and these versions overwrite each other, which creates a mess.
</I>&gt;<i> 
</I>
I'm not really sure why this would happen?

&gt;<i> Can various plug-ins can have different version, but still be compiled against the same rabbit?
</I>&gt;<i> 
</I>
I don't think so - when you build from source, all the plugins (and the broker) should pick up the same VERSION as each other. If you're not building from source, I'm not sure which constraint you're running into. What are the symptoms (i.e., what goes wrong)?
</PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026241.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
	<LI>Next message: <A HREF="026253.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26259">[ date ]</a>
              <a href="thread.html#26259">[ thread ]</a>
              <a href="subject.html#26259">[ subject ]</a>
              <a href="author.html#26259">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
