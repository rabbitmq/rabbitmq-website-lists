<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Randomized Round-Robin?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Randomized%20Round-Robin%3F&In-Reply-To=%3C5154656E.3070709%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026248.html">
   <LINK REL="Next"  HREF="026255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Randomized Round-Robin?</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Randomized%20Round-Robin%3F&In-Reply-To=%3C5154656E.3070709%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Randomized Round-Robin?">emile at rabbitmq.com
       </A><BR>
    <I>Thu Mar 28 15:44:46 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026248.html">[rabbitmq-discuss] Randomized Round-Robin?
</A></li>
        <LI>Next message: <A HREF="026255.html">[rabbitmq-discuss] Randomized Round-Robin?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26249">[ date ]</a>
              <a href="thread.html#26249">[ thread ]</a>
              <a href="subject.html#26249">[ subject ]</a>
              <a href="author.html#26249">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Martin,

On 27/03/13 13:26, Martin Koch wrote:
&gt;<i> I have a setup with many workers on several hosts; each worker consumes
</I>&gt;<i> tasks from a work queue. 
</I>
&gt;<i> What I would like to achieve is that a random worker is chosen instead
</I>&gt;<i> of the deterministic round-robin.
</I>It is not clear what this achieves - why does it matter if consumers are
initially selected in the same order that they joined?

If the number workers per host exceeds the capacity of the host to
perform work in parallel, and work arrives very slowly, and workers are
selected in sequence then you may see suboptimal throughput. The
solution then is to reduce the number of workers per host. The number of
consumers per host should not exceed the capacity of the host to perform
tasks in parallel. This is often approximated by the number of cores.





-Emile





</PRE>



















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026248.html">[rabbitmq-discuss] Randomized Round-Robin?
</A></li>
	<LI>Next message: <A HREF="026255.html">[rabbitmq-discuss] Randomized Round-Robin?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26249">[ date ]</a>
              <a href="thread.html#26249">[ thread ]</a>
              <a href="subject.html#26249">[ subject ]</a>
              <a href="author.html#26249">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
