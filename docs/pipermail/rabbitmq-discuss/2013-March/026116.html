<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] lager vs sasl error log
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log&In-Reply-To=%3CCAKwdTWdH580%3DAQm45m3jJL9%2B4tvv_J8iCO8Nmz%2BB97uHXL_Fvw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026107.html">
   <LINK REL="Next"  HREF="026123.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] lager vs sasl error log</H1>
    <B>Gavin M. Roy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log&In-Reply-To=%3CCAKwdTWdH580%3DAQm45m3jJL9%2B4tvv_J8iCO8Nmz%2BB97uHXL_Fvw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] lager vs sasl error log">gmr at meetme.com
       </A><BR>
    <I>Thu Mar 21 21:02:30 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026107.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
        <LI>Next message: <A HREF="026123.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26116">[ date ]</a>
              <a href="thread.html#26116">[ thread ]</a>
              <a href="subject.html#26116">[ subject ]</a>
              <a href="author.html#26116">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Fwiw in some advocacy discussions, the logging output was a reason some
people have discounted or not moved forward with Rabbit. From conversations
I have had recently with people, logging and config file syntax are the
bigger approachachability issues with Rabbit.

My goal is to be able to do log aggregation for our largish count of
RabbitMQ nodes, which afaik is not possible with Rabbit out of the box.
This makes it nearly impossible to stay on top of logs for anything but
troubleshooting individual nodes when problems occur.

On Thursday, March 21, 2013, Ben Hood &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt; wrote:

&gt;<i>  Hey Tim,
</I>&gt;<i>
</I>&gt;<i> Thanks for the heads up.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Ben
</I>&gt;<i>
</I>&gt;<i> On Thursday, 21 March 2013 at 12:36, Tim Watson wrote:
</I>&gt;<i>
</I>&gt;<i> Hi Ben,
</I>&gt;<i>
</I>&gt;<i> On 21 Mar 2013, at 12:13, Ben Hood wrote:
</I>&gt;<i>
</I>&gt;<i> I think a good start would be to implement Gavin's suggestion about having
</I>&gt;<i> a more UNIXy output, since you could do this without having to change the
</I>&gt;<i> transport.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That's an understand-able requirement, however...
</I>&gt;<i>
</I>&gt;<i> If you are aggregating lots of Rabbit logs, this results in lots of double
</I>&gt;<i> entries such as
</I>&gt;<i>
</I>&gt;<i> Mar 21 12:05:30 a logger: : =INFO REPORT==== 21-Mar-2013::12:05:29 ===
</I>&gt;<i> Mar 21 12:05:30 a logger: : started TCP Listener on [::]:5672
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Sure - that multi-line output is what Erlang's built in error_logger
</I>&gt;<i> generates.
</I>&gt;<i>
</I>&gt;<i> If I understand Gavin correctly, you could improve the SNR by putting this
</I>&gt;<i> on one line.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> To do that, we'd have to change from the built-in error_logger to
</I>&gt;<i> something else, such as lager. That idea's been up for discussion before
</I>&gt;<i> and as I said, I'll raise it again.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Tim
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Ben
</I>&gt;<i>
</I>&gt;<i> On Thursday, 21 March 2013 at 12:03, Tim Watson wrote:
</I>&gt;<i>
</I>&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> We've discussed moving to a different (non-standard) logging provider
</I>&gt;<i> before, and I'll raise the issue again. Afaik we've not run into the issues
</I>&gt;<i> with error_logger very often (i.e., the reasons why lager was invented, viz
</I>&gt;<i> massive memory consumption due to serialisation of large terms in logging
</I>&gt;<i> output). The 'filtering possibilities' with lager don't necessarily require
</I>&gt;<i> the parse_transforms to be used iirc - you can submit a logging request
</I>&gt;<i> direct to lager and specify the log level at the call site. Again, I'll
</I>&gt;<i> raise the discussion with the rest of the team and let's see what comes of
</I>&gt;<i> that.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Tim
</I>&gt;<i>
</I>&gt;<i> On 19 Mar 2013, at 08:48, Gotthard, Petr wrote:
</I>&gt;<i>
</I>&gt;<i> Correct me if I&#8217;m wrong, but I don&#8217;t think that moving to lager requires
</I>&gt;<i> any changes inside rabbitmq. Since rabbitmq (as far as I know) uses
</I>&gt;<i> standard Erlang&#8217;s logging and since standard logs are redirected to lager,
</I>&gt;<i> all rabbitmq related logs are processed by lager. Wihout many filtering
</I>&gt;<i> possibilities though.
</I>&gt;<i> Petr
</I>&gt;<i> From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [
</I>&gt;<i> mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Gavin M.
</I>&gt;<i> Roy
</I>&gt;<i> Sent: 18. b&#345;ezna 2013 17:36
</I>&gt;<i> To: Discussions about RabbitMQ
</I>&gt;<i> Subject: [rabbitmq-discuss] lager vs sasl error log
</I>&gt;<i> Any plans to move rabbitmq.log to lager (and allow for lager-syslog) while
</I>&gt;<i> keeping rabbit-sasl.log for crash dumps?
</I>&gt;<i> Would be nice to be able to get the plugable loggers and improvements to
</I>&gt;<i> logging performance lager purports to provide, as well as a more modern,
</I>&gt;<i> *NIXy logging output.
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Gavin
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>
-- 

Gavin M. Roy
Chief Technology Officer

&lt;<A HREF="http://www.meetme.com/">http://www.meetme.com/</A>&gt;
100 Union Square Drive
New Hope, PA 18938
p. +1.215.862.1162 x263
f. +1.215.862.0465

&lt;<A HREF="https://www.facebook.com/pages/MeetMe/21931227129">https://www.facebook.com/pages/MeetMe/21931227129</A>&gt;
&lt;<A HREF="https://twitter.com/meetme">https://twitter.com/meetme</A>&gt;
    &lt;<A HREF="http://www.youtube.com/user/MeetMeVideos">http://www.youtube.com/user/MeetMeVideos</A>&gt;

The public market leader in social discovery. (NYSE MKT: MEET)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130321/107bc122/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130321/107bc122/attachment.htm</A>&gt;
</PRE>


















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026107.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
	<LI>Next message: <A HREF="026123.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26116">[ date ]</a>
              <a href="thread.html#26116">[ thread ]</a>
              <a href="subject.html#26116">[ subject ]</a>
              <a href="author.html#26116">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
