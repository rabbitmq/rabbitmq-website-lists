<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] lager vs sasl error log / badarg?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log%20/%20badarg%3F&In-Reply-To=%3C72DD14D5-967F-4108-9E37-D9E7843B1AB8%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026220.html">
   <LINK REL="Next"  HREF="026224.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] lager vs sasl error log / badarg?</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log%20/%20badarg%3F&In-Reply-To=%3C72DD14D5-967F-4108-9E37-D9E7843B1AB8%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] lager vs sasl error log / badarg?">watson.timothy at gmail.com
       </A><BR>
    <I>Wed Mar 27 23:27:02 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026220.html">[rabbitmq-discuss] lager vs sasl error log / badarg?
</A></li>
        <LI>Next message: <A HREF="026224.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26223">[ date ]</a>
              <a href="thread.html#26223">[ thread ]</a>
              <a href="subject.html#26223">[ subject ]</a>
              <a href="author.html#26223">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Petr,

That's probably a bug and you're probably right about the cause. I'll take a look at fixing that somehow. Other than puking on printing the plugin info, does the logging out behave as you'd expect though?

Cheers
Tim

On 27 Mar 2013, at 19:23, &quot;Gotthard, Petr&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Petr.Gotthard at Honeywell.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i> We used a custom lager plugin before without any troubles, but after switching to your plugin I'm getting 'badarg' when rabbit prints the name of the plugin. I disabled all plugins, except lager.
</I>&gt;<i> 
</I>&gt;<i> Stack trace:
</I>&gt;<i>   [{rabbit,'-print_plugin_info/1-lc$^0/1-0-',1,[]},
</I>&gt;<i>    {rabbit,'-print_plugin_info/1-fun-0-',1,[]},
</I>&gt;<i>    {rabbit_misc,with_local_io,1,[]},
</I>&gt;<i>    {rabbit,'-boot/0-fun-1-',0,[]},
</I>&gt;<i>    {rabbit,start_it,1,[]},
</I>&gt;<i>    {init,start_it,1,[]},
</I>&gt;<i>    {init,start_em,1,[]}]
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Does it ring a bell to you?
</I>&gt;<i> 
</I>&gt;<i> Could it be caused by the unusual naming? The plugin is named &quot;lager&quot;, while the directory is &quot;rabbitmq_lager&quot; and the .ez is called &quot;rabbitmq_lager-2.0.0-rmq0.0.1-git9719370&quot;.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Petr
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Tim Watson
</I>&gt;<i> Sent: 27. b&#345;ezna 2013 15:04
</I>&gt;<i> To: Discussions about RabbitMQ
</I>&gt;<i> Subject: Re: [rabbitmq-discuss] lager vs sasl error log
</I>&gt;<i> 
</I>&gt;<i> If anyone wants to try this plugin out, there are instructions in the README file on github now. You'll need at least R14B03 to use lager afaict. Please shout if you run into any difficulties.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Tim
</I>&gt;<i> 
</I>&gt;<i> On 27 Mar 2013, at 00:19, Ben Hood wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> On Tuesday, 26 March 2013 at 15:53, Tim Watson wrote:
</I>&gt;&gt;&gt;<i> I have set up an experimental repository at <A HREF="https://github.com/hyperthunk/rabbitmq-lager">https://github.com/hyperthunk/rabbitmq-lager</A> that supports logging to lager via its built in error_logger redirection. You enable via `rabbitmq-plugins enable lager` and configure it in the RabbitMQ config file just like any other plugin, under the key 'lager'. In the morning I'll chat with the guys about integrating this as experimental plugin for the time being, so people can play around and see if it offers the required functionality.
</I>&gt;&gt;<i> Very cool - nice one Tim!
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>

















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026220.html">[rabbitmq-discuss] lager vs sasl error log / badarg?
</A></li>
	<LI>Next message: <A HREF="026224.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26223">[ date ]</a>
              <a href="thread.html#26223">[ thread ]</a>
              <a href="subject.html#26223">[ subject ]</a>
              <a href="author.html#26223">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
