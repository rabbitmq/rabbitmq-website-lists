<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] basic.qos prefetch across multiple queues -	useful?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20basic.qos%20prefetch%20across%20multiple%20queues%20-%0A%09useful%3F&In-Reply-To=%3CCAMcAHLVkA79e4TumKRZv3S7jPhmD67Q5Ri09AQXCbMn_Veej0g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025989.html">
   <LINK REL="Next"  HREF="025991.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] basic.qos prefetch across multiple queues -	useful?</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20basic.qos%20prefetch%20across%20multiple%20queues%20-%0A%09useful%3F&In-Reply-To=%3CCAMcAHLVkA79e4TumKRZv3S7jPhmD67Q5Ri09AQXCbMn_Veej0g%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] basic.qos prefetch across multiple queues -	useful?">videlalvaro at gmail.com
       </A><BR>
    <I>Mon Mar 18 18:36:10 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025989.html">[rabbitmq-discuss] basic.qos prefetch across multiple queues -	useful?
</A></li>
        <LI>Next message: <A HREF="025991.html">[rabbitmq-discuss] basic.qos prefetch across multiple queues - useful?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25990">[ date ]</a>
              <a href="thread.html#25990">[ thread ]</a>
              <a href="subject.html#25990">[ subject ]</a>
              <a href="author.html#25990">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I think per-queue would be better, at least for the PHP people. Since PHP
doesn't support threads is not common to have multiple channels in one
process. So basic.qos as is today limits every queue in the channel for
most PHP scripts.

I guess other languages like Python are in the same area.

Regards,

Alvaro


On Mon, Mar 18, 2013 at 7:30 PM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;wrote:

&gt;<i> Is anybody setting a basic.qos prefetch limit on channels with consumers
</I>&gt;<i> on multiple queues?
</I>&gt;<i>
</I>&gt;<i> If so, are you relying on the fact that the prefetch limit applies
</I>&gt;<i> *across* queues rather than *per* queue?
</I>&gt;<i>
</I>&gt;<i> That feature entails considerable implementation complexity and has a
</I>&gt;<i> substantial performance impact on consuming from basic.qos-limited channels
</I>&gt;<i> in general. And I've just found a bug in that area of the code, fixing of
</I>&gt;<i> which will make the implementation even more complex and hurt performance
</I>&gt;<i> even more.
</I>&gt;<i>
</I>&gt;<i> Hence I am trying to gauge people's opinion on whether we could make the
</I>&gt;<i> prefetch limit apply per-queue instead.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130318/1a57ba0d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130318/1a57ba0d/attachment.htm</A>&gt;
</PRE>



































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025989.html">[rabbitmq-discuss] basic.qos prefetch across multiple queues -	useful?
</A></li>
	<LI>Next message: <A HREF="025991.html">[rabbitmq-discuss] basic.qos prefetch across multiple queues - useful?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25990">[ date ]</a>
              <a href="thread.html#25990">[ thread ]</a>
              <a href="subject.html#25990">[ subject ]</a>
              <a href="author.html#25990">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
