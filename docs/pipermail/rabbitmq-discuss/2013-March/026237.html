<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] too many connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20too%20many%20connections&In-Reply-To=%3C51541576.8030702%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026236.html">
   <LINK REL="Next"  HREF="026227.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] too many connections</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20too%20many%20connections&In-Reply-To=%3C51541576.8030702%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] too many connections">emile at rabbitmq.com
       </A><BR>
    <I>Thu Mar 28 10:03:34 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026236.html">[rabbitmq-discuss] too many connections
</A></li>
        <LI>Next message: <A HREF="026227.html">[rabbitmq-discuss] Can load-balancer work around consumer reconnect	problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26237">[ date ]</a>
              <a href="thread.html#26237">[ thread ]</a>
              <a href="subject.html#26237">[ subject ]</a>
              <a href="author.html#26237">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Mike,

On 27/03/13 22:36, Mike Chai wrote:
&gt;<i> I'm using CloudRabbit on Heroku and under their $20 plan with max of 6
</I>&gt;<i> connections, I'm constantly hitting the connection limit. I have 1 app,
</I>&gt;<i> and all I'm doing is making the connection, putting something into a
</I>&gt;<i> queue, and then closing the connection.
</I>
If you are fully and synchronously closing one connection before opening
another then you shouldn't be hitting the limit. What is the rate of
connection creation when you hit the limit? Do you still see the problem
if you lower the rate?

Does the Heroku dashboard list the 6 connections? Can you correlate that
with connections from your app? Is your app multithreaded or somehow
creating connections with overlapping lifetimes? Have you tried
maintaining a single connection and using multiple channels instead?

If none of that helps then maybe <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">support at cloudamqp.com</A> knows the answer.



-Emile





</PRE>


























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026236.html">[rabbitmq-discuss] too many connections
</A></li>
	<LI>Next message: <A HREF="026227.html">[rabbitmq-discuss] Can load-balancer work around consumer reconnect	problem?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26237">[ date ]</a>
              <a href="thread.html#26237">[ thread ]</a>
              <a href="subject.html#26237">[ subject ]</a>
              <a href="author.html#26237">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
