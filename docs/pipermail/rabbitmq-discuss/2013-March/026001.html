<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Missing ^ on access control doc page regex example?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Missing%20%5E%20on%20access%20control%20doc%20page%20regex%0A%20example%3F&In-Reply-To=%3C51478F0D.9080301%40noaa.gov%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025984.html">
   <LINK REL="Next"  HREF="026016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Missing ^ on access control doc page regex example?</H1>
    <B>James Gardner</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Missing%20%5E%20on%20access%20control%20doc%20page%20regex%0A%20example%3F&In-Reply-To=%3C51478F0D.9080301%40noaa.gov%3E"
       TITLE="[rabbitmq-discuss] Missing ^ on access control doc page regex example?">james.gardner at noaa.gov
       </A><BR>
    <I>Mon Mar 18 22:02:53 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025984.html">[rabbitmq-discuss] Missing ^ on access control doc page regex example?
</A></li>
        <LI>Next message: <A HREF="026016.html">[rabbitmq-discuss] Missing ^ on access control doc page regex example?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26001">[ date ]</a>
              <a href="thread.html#26001">[ thread ]</a>
              <a href="subject.html#26001">[ subject ]</a>
              <a href="author.html#26001">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Thanks, but...I just tested this and if you set, say, the config 
permission using the regex in the example:

^amq\.gen.*|amq\.default$

it will allow me to create a queue, for example, with the name:

testamq.default

so it is clearly not equivalent to
'^(amq\.gen.*|amq\.default)$'

which does /not/ allow me to create the above queue.

Again, although granting someone permission as in that particular doc 
example is unlikely to accidentally grant permission since the entity 
would have to be named &lt;something&gt;amq.default, it is still a misleading 
example to give to people who might use that pattern to form other more 
dangerously permissive regex's, under the false assumption that later 
alternations are anchored at the beginning.



On 03/18/2013 12:04 PM, Emile Joubert wrote:
&gt;<i> Hi James,
</I>&gt;<i>
</I>&gt;<i> On 18/03/13 16:22, James Gardner wrote:
</I>&gt;&gt;<i> In the RabbitMQ.com documentation, under Access Control, paragraph six,
</I>&gt;&gt;<i> it gives this as an example of a regex:
</I>&gt;&gt;<i> '^amq\.gen.*|amq\.default$'
</I>&gt;<i> The regular expression syntax and semantics available in RabbitMQ
</I>&gt;<i> resemble those of Perl and is based on PCRE. In that flavour of RE the
</I>&gt;<i> example is correct - the alternate options are all subject to the
</I>&gt;<i> anchors while matching.
</I>&gt;<i>
</I>&gt;&gt;<i> Shouldn't it be
</I>&gt;&gt;<i> '^(amq\.gen.*|amq\.default)$'
</I>&gt;<i> The expression is already equivalent to this one.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Emile
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130318/341c0a41/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130318/341c0a41/attachment.htm</A>&gt;
</PRE>































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025984.html">[rabbitmq-discuss] Missing ^ on access control doc page regex example?
</A></li>
	<LI>Next message: <A HREF="026016.html">[rabbitmq-discuss] Missing ^ on access control doc page regex example?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26001">[ date ]</a>
              <a href="thread.html#26001">[ thread ]</a>
              <a href="subject.html#26001">[ subject ]</a>
              <a href="author.html#26001">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
