<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Timeout blocking or blocked connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Timeout%20blocking%20or%20blocked%20connections&In-Reply-To=%3C1363964600553-25665.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026134.html">
   <LINK REL="Next"  HREF="026141.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Timeout blocking or blocked connections</H1>
    <B>Mark Ward</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Timeout%20blocking%20or%20blocked%20connections&In-Reply-To=%3C1363964600553-25665.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] Timeout blocking or blocked connections">ward.mark at gmail.com
       </A><BR>
    <I>Fri Mar 22 15:03:20 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026134.html">[rabbitmq-discuss] Increasing sending/receiving speed
</A></li>
        <LI>Next message: <A HREF="026141.html">[rabbitmq-discuss] Timeout blocking or blocked connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26138">[ date ]</a>
              <a href="thread.html#26138">[ thread ]</a>
              <a href="subject.html#26138">[ subject ]</a>
              <a href="author.html#26138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am running RabbitMQ 3.0.4, Erlang R16B on Ubuntu 12.04. 

Will RabbitMQ close/timeout a connection in a blocked or blocking state if
the client is no longer connected to the server?  

It appears a connection with a timeout and not properly closed does not get
cleaned up by the RabbitMQ server after the specified timeout has elapsed if
the connection is in a blocked and blocking state.  The RabbitMQ server is
still currently in a flow control state if this impacts its ability to clean
these connections.  The unacknowledged messages sent to the currently
blocked connections are also still locked up in the flow control.

I am working to improve my framework when a server invokes flow control.  I
am purposefully pushing the rabbitMQ server into a flow control state.  I
have seen this before and it appears to be repeatable.

I am concerned that during production if a client connection is closed
incorrectly while under a blocked or blocking state any unacknowledged
messages will continue to be held by these connections and would require
administration intervention to resolve the issue.  

-Mark



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Timeout-blocking-or-blocked-connections-tp25665.html">http://rabbitmq.1065348.n5.nabble.com/Timeout-blocking-or-blocked-connections-tp25665.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>

















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026134.html">[rabbitmq-discuss] Increasing sending/receiving speed
</A></li>
	<LI>Next message: <A HREF="026141.html">[rabbitmq-discuss] Timeout blocking or blocked connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26138">[ date ]</a>
              <a href="thread.html#26138">[ thread ]</a>
              <a href="subject.html#26138">[ subject ]</a>
              <a href="author.html#26138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
