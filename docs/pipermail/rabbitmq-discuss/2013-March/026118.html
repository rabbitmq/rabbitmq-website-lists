<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit client works from one machine but not	another
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20client%20works%20from%20one%20machine%20but%20not%0A%09another&In-Reply-To=%3C452feced-fd44-4653-a8a0-9d176b9b96a6%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026117.html">
   <LINK REL="Next"  HREF="026124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit client works from one machine but not	another</H1>
    <B>Steve Leibman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20client%20works%20from%20one%20machine%20but%20not%0A%09another&In-Reply-To=%3C452feced-fd44-4653-a8a0-9d176b9b96a6%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit client works from one machine but not	another">sleibman at gmail.com
       </A><BR>
    <I>Thu Mar 21 17:28:54 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026117.html">[rabbitmq-discuss] Rabbit client works from one machine but not	another
</A></li>
        <LI>Next message: <A HREF="026124.html">[rabbitmq-discuss] Rabbit client works from one machine but not	another
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26118">[ date ]</a>
              <a href="thread.html#26118">[ thread ]</a>
              <a href="subject.html#26118">[ subject ]</a>
              <a href="author.html#26118">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update: these same observations are true even if I point my clients to 
dev.rabbitmq.com.
I can connect to 5672 on dev.rabbitmq.com from either machine (e.g. using 
telnet), but my rabbit client fails from one of the two machines with the 
exception shown previously.

On Thursday, March 21, 2013 1:17:43 PM UTC-4, Steve Leibman wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I have RabbitMQ client code (I've reproduced the issue with just the 
</I>&gt;<i> sample consumer code from 
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/tutorials/tutorial-one-java.html">http://www.rabbitmq.com/tutorials/tutorial-one-java.html</A> ) that works 
</I>&gt;<i> fine from one machine, but not from another (both attempting to connect to 
</I>&gt;<i> the same broker/server). The machine that fails to run this successfully is 
</I>&gt;<i> in a completely different location, with its own firewall rules, so the 
</I>&gt;<i> first obvious thing to check is connectivity to tcp port 5672 on the server 
</I>&gt;<i> machine, and I have confirmed (via both &quot;telnet &lt;hostname&gt; 5672&quot; and via a 
</I>&gt;<i> simple java program that runs new Socket(&quot;&lt;hostname&gt;&quot;, 5672) ) that basic 
</I>&gt;<i> connectivity works fine.
</I>&gt;<i>
</I>&gt;<i> My exception stack trace is shown below.
</I>&gt;<i>
</I>&gt;<i> Any suggestions for next steps?
</I>&gt;<i>
</I>&gt;<i> Exception in thread &quot;main&quot; java.io.IOException
</I>&gt;<i> at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:106)
</I>&gt;<i> at com.rabbitmq.client.impl.AMQChannel.wrap(AMQChannel.java:102)
</I>&gt;<i> at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:360)
</I>&gt;<i> at 
</I>&gt;<i> com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:516)
</I>&gt;<i> at 
</I>&gt;<i> com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:533)
</I>&gt;<i> at Recv.main(Recv.java:15)
</I>&gt;<i> Caused by: com.rabbitmq.client.ShutdownSignalException: connection error; 
</I>&gt;<i> reason: java.net.SocketException: Connection reset
</I>&gt;<i> at com.rabbitmq.utility.ValueOrException.getValue(ValueOrException.java:67)
</I>&gt;<i> at 
</I>&gt;<i> com.rabbitmq.utility.BlockingValueOrException.uninterruptibleGetValue(BlockingValueOrException.java:33)
</I>&gt;<i> at 
</I>&gt;<i> com.rabbitmq.client.impl.AMQChannel$BlockingRpcContinuation.getReply(AMQChannel.java:343)
</I>&gt;<i> at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:313)
</I>&gt;<i> ... 3 more
</I>&gt;<i> Caused by: java.net.SocketException: Connection reset
</I>&gt;<i> at java.net.SocketInputStream.read(SocketInputStream.java:189)
</I>&gt;<i> at java.net.SocketInputStream.read(SocketInputStream.java:121)
</I>&gt;<i> at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)
</I>&gt;<i> at java.io.BufferedInputStream.read(BufferedInputStream.java:254)
</I>&gt;<i> at java.io.DataInputStream.readUnsignedByte(DataInputStream.java:288)
</I>&gt;<i> at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:95)
</I>&gt;<i> at 
</I>&gt;<i> com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.java:131)
</I>&gt;<i> at 
</I>&gt;<i> com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:515)
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Steve Leibman
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130321/74da999b/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130321/74da999b/attachment.htm</A>&gt;
</PRE>






















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026117.html">[rabbitmq-discuss] Rabbit client works from one machine but not	another
</A></li>
	<LI>Next message: <A HREF="026124.html">[rabbitmq-discuss] Rabbit client works from one machine but not	another
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26118">[ date ]</a>
              <a href="thread.html#26118">[ thread ]</a>
              <a href="subject.html#26118">[ subject ]</a>
              <a href="author.html#26118">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
