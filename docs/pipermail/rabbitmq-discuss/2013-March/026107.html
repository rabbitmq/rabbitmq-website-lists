<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] lager vs sasl error log
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log&In-Reply-To=%3C8DA946A6DD634687888CF50A0FE84263%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026106.html">
   <LINK REL="Next"  HREF="026116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] lager vs sasl error log</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log&In-Reply-To=%3C8DA946A6DD634687888CF50A0FE84263%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] lager vs sasl error log">0x6e6562 at gmail.com
       </A><BR>
    <I>Thu Mar 21 12:40:21 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026106.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
        <LI>Next message: <A HREF="026116.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26107">[ date ]</a>
              <a href="thread.html#26107">[ thread ]</a>
              <a href="subject.html#26107">[ subject ]</a>
              <a href="author.html#26107">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Tim,  

Thanks for the heads up.

Cheers,

Ben  


On Thursday, 21 March 2013 at 12:36, Tim Watson wrote:

&gt;<i> Hi Ben,
</I>&gt;<i>  
</I>&gt;<i> On 21 Mar 2013, at 12:13, Ben Hood wrote:
</I>&gt;<i> &gt; I think a good start would be to implement Gavin's suggestion about having a more UNIXy output, since you could do this without having to change the transport.
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> That's an understand-able requirement, however...
</I>&gt;<i>  
</I>&gt;<i> &gt; If you are aggregating lots of Rabbit logs, this results in lots of double entries such as
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt; Mar 21 12:05:30 a logger: : =INFO REPORT==== 21-Mar-2013::12:05:29 ===  
</I>&gt;<i> &gt; Mar 21 12:05:30 a logger: : started TCP Listener on [::]:5672
</I>&gt;<i> &gt;  
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> Sure - that multi-line output is what Erlang's built in error_logger generates.  
</I>&gt;<i>  
</I>&gt;<i> &gt; If I understand Gavin correctly, you could improve the SNR by putting this on one line.
</I>&gt;<i>  
</I>&gt;<i> To do that, we'd have to change from the built-in error_logger to something else, such as lager. That idea's been up for discussion before and as I said, I'll raise it again.
</I>&gt;<i>  
</I>&gt;<i> Cheers,
</I>&gt;<i> Tim
</I>&gt;<i>  
</I>&gt;<i> &gt; Cheers,
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt; Ben
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt; On Thursday, 21 March 2013 at 12:03, Tim Watson wrote:
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt; &gt; Hi all,
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; We've discussed moving to a different (non-standard) logging provider before, and I'll raise the issue again. Afaik we've not run into the issues with error_logger very often (i.e., the reasons why lager was invented, viz massive memory consumption due to serialisation of large terms in logging output). The 'filtering possibilities' with lager don't necessarily require the parse_transforms to be used iirc - you can submit a logging request direct to lager and specify the log level at the call site. Again, I'll raise the discussion with the rest of the team and let's see what comes of that.
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; Cheers,
</I>&gt;<i> &gt; &gt; Tim
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; On 19 Mar 2013, at 08:48, Gotthard, Petr wrote:
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; Correct me if I&#8217;m wrong, but I don&#8217;t think that moving to lager requires any changes inside rabbitmq. Since rabbitmq (as far as I know) uses standard Erlang&#8217;s logging and since standard logs are redirected to lager, all rabbitmq related logs are processed by lager. Wihout many filtering possibilities though.
</I>&gt;<i> &gt; &gt; &gt; Petr
</I>&gt;<i> &gt; &gt; &gt; From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Gavin M. Roy
</I>&gt;<i> &gt; &gt; &gt; Sent: 18. b&#345;ezna 2013 17:36
</I>&gt;<i> &gt; &gt; &gt; To: Discussions about RabbitMQ
</I>&gt;<i> &gt; &gt; &gt; Subject: [rabbitmq-discuss] lager vs sasl error log
</I>&gt;<i> &gt; &gt; &gt; Any plans to move rabbitmq.log to lager (and allow for lager-syslog) while keeping rabbit-sasl.log for crash dumps?
</I>&gt;<i> &gt; &gt; &gt; Would be nice to be able to get the plugable loggers and improvements to logging performance lager purports to provide, as well as a more modern, *NIXy logging output.
</I>&gt;<i> &gt; &gt; &gt; Cheers,
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt; &gt; Gavin
</I>&gt;<i> &gt; &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> (mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>)
</I>&gt;<i> &gt; &gt; &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt; &gt; &gt;  
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> (mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>)
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt; &gt;  
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt;  
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> (mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>)
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt;  
</I>&gt;<i>  
</I>&gt;<i>  
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> (mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>)
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>  
</I>&gt;<i>  
</I>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130321/2458283e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130321/2458283e/attachment.htm</A>&gt;
</PRE>


















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026106.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
	<LI>Next message: <A HREF="026116.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26107">[ date ]</a>
              <a href="thread.html#26107">[ thread ]</a>
              <a href="subject.html#26107">[ subject ]</a>
              <a href="author.html#26107">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
