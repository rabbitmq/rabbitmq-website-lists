<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Confirm consistent hash exchange behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Confirm%20consistent%20hash%20exchange%20behavior&In-Reply-To=%3C51431CD7.2040500%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025935.html">
   <LINK REL="Next"  HREF="025943.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Confirm consistent hash exchange behavior</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Confirm%20consistent%20hash%20exchange%20behavior&In-Reply-To=%3C51431CD7.2040500%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Confirm consistent hash exchange behavior">simon at rabbitmq.com
       </A><BR>
    <I>Fri Mar 15 13:06:31 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025935.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
        <LI>Next message: <A HREF="025943.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25942">[ date ]</a>
              <a href="thread.html#25942">[ thread ]</a>
              <a href="subject.html#25942">[ subject ]</a>
              <a href="author.html#25942">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If we were to build the CHX this way, wouldn't that mean that as soon as 
you bound the first queue to it, all messages would have to get routed 
to that queue - and therefore subsequent bindings would have no effect 
since we can't change any routing?

Cheers, Simon

On 14/03/13 20:42, SteveO wrote:
&gt;<i> &quot;You expected that once a routing key was routed to a queue, it continued
</I>&gt;<i> routing to that specific queue until the queue is unbound? &quot;
</I>&gt;<i>
</I>&gt;<i> Yeah, not sure why I - but that is what I expected. I probably started
</I>&gt;<i> thinking that because that's what I wanted it to do :)
</I>&gt;<i>
</I>&gt;<i> We wanted to guarantee that at any given time, messages would only be
</I>&gt;<i> delivered to one queue even if the bindings to other queues changed - like
</I>&gt;<i> other queues being added. Processing messages in order is important for us
</I>&gt;<i> and if we create a condition where messages exist in multiple queues, we
</I>&gt;<i> can't guarantee that order. Over time, if we create and bind more queues to
</I>&gt;<i> the same CHX, then we could create that condition - so we don't want to do
</I>&gt;<i> that.
</I>&gt;<i>
</I>&gt;<i> If we run into an issue where we need to add more queues, it sounds like
</I>&gt;<i> with a slightly more sophisticated producer and routing scheme, we could
</I>&gt;<i> just add another CHX. Something like this...
</I>&gt;<i>
</I>&gt;<i>                               |---&gt;CHX1---&gt;Q1, Q2
</I>&gt;<i> P ---&gt; TopicExchange
</I>&gt;<i>                               |---&gt;CHX2---&gt;Q1, Q2
</I>&gt;<i>
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i> s
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Confirm-consistent-hash-exchange-behavior-tp25458p25462.html">http://rabbitmq.1065348.n5.nabble.com/Confirm-consistent-hash-exchange-behavior-tp25458p25462.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>





























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025935.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
	<LI>Next message: <A HREF="025943.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25942">[ date ]</a>
              <a href="thread.html#25942">[ thread ]</a>
              <a href="subject.html#25942">[ subject ]</a>
              <a href="author.html#25942">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
