<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Performance tests and a warning on HIPE
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20tests%20and%20a%20warning%20on%20HIPE&In-Reply-To=%3C79C33499-637D-402C-9F48-99B7E2BA0B37%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025812.html">
   <LINK REL="Next"  HREF="025814.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Performance tests and a warning on HIPE</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20tests%20and%20a%20warning%20on%20HIPE&In-Reply-To=%3C79C33499-637D-402C-9F48-99B7E2BA0B37%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Performance tests and a warning on HIPE">tim at rabbitmq.com
       </A><BR>
    <I>Fri Mar  8 15:58:08 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025812.html">[rabbitmq-discuss] Performance tests and a warning on HIPE
</A></li>
        <LI>Next message: <A HREF="025814.html">[rabbitmq-discuss] Performance tests and a warning on HIPE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25813">[ date ]</a>
              <a href="thread.html#25813">[ thread ]</a>
              <a href="subject.html#25813">[ subject ]</a>
              <a href="author.html#25813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Can anyone assist with either reproducing this, or providing either an erlang crash_dump or (if the emulator dies 'badly' enough) a core dump? I would be very good to pass this on to the hipe team so they can figure out what's wrong and fix it for future releases. Using hipe can potentially improve performance a lot, so not being able to trust it when using rabbit under load is a real shame, but this won't get fixed unless we provide the hipe team with some tangible evidence they can use to investigate.

Cheers,
Tim

On 8 Mar 2013, at 15:53, Gavin M. Roy wrote:

&gt;<i> 
</I>&gt;<i> On Friday, March 8, 2013 at 8:40 AM, Simon MacMullen wrote:
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i> Now for the warnings: 1) TURN OFF HIPE. This was testing with
</I>&gt;&gt;&gt;<i> Erlang R15B03 - the latest release and RabbitMQ 3.0.2. With HIPE and
</I>&gt;&gt;&gt;<i> the load we were putting on the system, Rabbit crashes bad, no
</I>&gt;&gt;&gt;<i> errors, no warning, it's just suddenly dead. It seems to happen a
</I>&gt;&gt;&gt;<i> few minutes into the load. I've not enabled any kind of debugging to
</I>&gt;&gt;&gt;<i> trace this down, but this was scary enough that we immediately turned
</I>&gt;&gt;&gt;<i> off HIPE everywhere.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> That certainly is scary, and unlike our experiences - we've generally
</I>&gt;&gt;<i> seen HiPE crash immediately or work fine. I suspect the platform is an
</I>&gt;&gt;<i> issue here. But yes, you should be cautious turning on HiPE in production...
</I>&gt;<i> This is my experience as well on both CentOS 5.3 and 6.3 with R15B0 (and previous versions) with all versions of RabbitMQ we run (Everything from 2.7.1 -&gt; 3.0.2)
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Gavin
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025812.html">[rabbitmq-discuss] Performance tests and a warning on HIPE
</A></li>
	<LI>Next message: <A HREF="025814.html">[rabbitmq-discuss] Performance tests and a warning on HIPE
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25813">[ date ]</a>
              <a href="thread.html#25813">[ thread ]</a>
              <a href="subject.html#25813">[ subject ]</a>
              <a href="author.html#25813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
