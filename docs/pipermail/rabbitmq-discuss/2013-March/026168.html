<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [SOS] About MQ server connection reset issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5BSOS%5D%20About%20MQ%20server%20connection%20reset%20issues&In-Reply-To=%3C008401ce2965%24034c4990%2409e4dcb0%24%40li%40quanshi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026196.html">
   <LINK REL="Next"  HREF="026172.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [SOS] About MQ server connection reset issues</H1>
    <B>Li, Chenglin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5BSOS%5D%20About%20MQ%20server%20connection%20reset%20issues&In-Reply-To=%3C008401ce2965%24034c4990%2409e4dcb0%24%40li%40quanshi.com%3E"
       TITLE="[rabbitmq-discuss] [SOS] About MQ server connection reset issues">chenglin.li at quanshi.com
       </A><BR>
    <I>Mon Mar 25 14:28:25 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026196.html">[rabbitmq-discuss] CORS in the mgmt http api
</A></li>
        <LI>Next message: <A HREF="026172.html">[rabbitmq-discuss] [SOS] About MQ server connection reset issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26168">[ date ]</a>
              <a href="thread.html#26168">[ thread ]</a>
              <a href="subject.html#26168">[ subject ]</a>
              <a href="author.html#26168">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All

 

We use rabbitmq as message delivery channel to mobile client. And in our DEV
environment, all works fine, but in our QA environment, we deploy LVS as
load balance and cluster, and after server run for some time(about 2-3
hours), the server will throw below error log, can someone give us some
ideas for this issue? Thanks in advance. 

 

/***************************************************************************
****/

[Thread-9] 23 Mar 2013 19:23:17,154 ERROR
com.gnet.ms.util.MsLog.error(MsLog.java:61) - --- [MS][5][WORK_THREAD:
[id:WT_0, state:RUN]] error execute [task:mmm_up_exchange].
[error:connection error; reason: java.net.SocketException: Connection reset

com.rabbitmq.client.ShutdownSignalException: connection error; reason:
java.net.SocketException: Connection reset

         at
com.rabbitmq.client.QueueingConsumer.handle(QueueingConsumer.java:198)

         at
com.rabbitmq.client.QueueingConsumer.nextDelivery(QueueingConsumer.java:214)

         at
com.gnet.ms.util.thread.task.impl.ActionExchangeTask.execute(ActionExchangeT
ask.java:65)

         at com.gnet.ms.util.thread.WorkThread.run(WorkThread.java:43)

Caused by: java.net.SocketException: Connection reset

         at java.net.SocketInputStream.read(SocketInputStream.java:185)

         at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)

         at java.io.BufferedInputStream.read(BufferedInputStream.java:254)

         at
java.io.DataInputStream.readUnsignedByte(DataInputStream.java:288)

         at com.rabbitmq.client.impl.Frame.readFrom(Frame.java:95)

         at
com.rabbitmq.client.impl.SocketFrameHandler.readFrame(SocketFrameHandler.jav
a:131)

         at
com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:501)

/***************************************************************************
******/

 

 

Thanks,

Jack

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130325/6fa8570d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130325/6fa8570d/attachment.htm</A>&gt;
</PRE>




















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026196.html">[rabbitmq-discuss] CORS in the mgmt http api
</A></li>
	<LI>Next message: <A HREF="026172.html">[rabbitmq-discuss] [SOS] About MQ server connection reset issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26168">[ date ]</a>
              <a href="thread.html#26168">[ thread ]</a>
              <a href="subject.html#26168">[ subject ]</a>
              <a href="author.html#26168">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
