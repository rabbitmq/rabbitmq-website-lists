<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Running RabbitMQ server as embedded	application
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Running%20RabbitMQ%20server%20as%20embedded%0A%09application&In-Reply-To=%3CCAMcAHLWveW7yCG54netn7_HW3HtQH%3Dgvkd46rsvF9jO-LQq%3Dxg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026219.html">
   <LINK REL="Next"  HREF="026206.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Running RabbitMQ server as embedded	application</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Running%20RabbitMQ%20server%20as%20embedded%0A%09application&In-Reply-To=%3CCAMcAHLWveW7yCG54netn7_HW3HtQH%3Dgvkd46rsvF9jO-LQq%3Dxg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Running RabbitMQ server as embedded	application">videlalvaro at gmail.com
       </A><BR>
    <I>Wed Mar 27 20:16:38 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026219.html">[rabbitmq-discuss] Running RabbitMQ server as embedded	application
</A></li>
        <LI>Next message: <A HREF="026206.html">[rabbitmq-discuss] How to implement consumer's sequential work	correctly?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26221">[ date ]</a>
              <a href="thread.html#26221">[ thread ]</a>
              <a href="subject.html#26221">[ subject ]</a>
              <a href="author.html#26221">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That's great to hear. AFAIK there's nothing Mac specific in the OTP
packaging, the thing is for now we only integrated the build for Mac, that
is Erlang and so on is built on the Mac. So it's great to know that it also
works on RHEL


On Wed, Mar 27, 2013 at 7:23 PM, Jorge Diz Pico
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jorge.diz at nomasystems.com</A>&gt;wrote:

&gt;<i> I tried my luck at the OTP packaging in RHEL6 and it seems to work as
</I>&gt;<i> fine as it did on my MacBook, so I'll take my chances with it.
</I>&gt;<i>
</I>&gt;<i> Thank y'all for your replies.
</I>&gt;<i>
</I>&gt;<i> On Tue, Mar 26, 2013 at 2:30 PM, Alvaro Videla &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">videlalvaro at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The OTP packaging has been merged into default, at the moment it works
</I>&gt;<i> for
</I>&gt;<i> &gt; Mac only. Some of the files involved in making the release are here:
</I>&gt;<i> &gt;
</I>&gt;<i> <A HREF="http://hg.rabbitmq.com/rabbitmq-server/file/0271f21bd596/packaging/standalone">http://hg.rabbitmq.com/rabbitmq-server/file/0271f21bd596/packaging/standalone</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Then the sbin scripts have been modified to support different erlang boot
</I>&gt;<i> &gt; files and so on.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; The related bug branch is bug25271.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Regards,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Alvaro
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Tue, Mar 26, 2013 at 2:19 PM, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Another thing to consider is that you're starting the vm via a script,
</I>&gt;<i> you
</I>&gt;<i> &gt;&gt; might be able to get away with setting SYS_PREFIX in rabbitmq-defaults
</I>&gt;<i> (as
</I>&gt;<i> &gt;&gt; the generic unix packaging does). We're also working on OTP packaging
</I>&gt;<i> (i.e.,
</I>&gt;<i> &gt;&gt; delivering rabbit as a self contained package/release), though I'm not
</I>&gt;<i> sure
</I>&gt;<i> &gt;&gt; what kind of timescales are involved in that.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt; Tim
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On 26 Mar 2013, at 13:11, Tim Watson wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt; Take a good look at the startup scripts. There are environment
</I>&gt;<i> variables
</I>&gt;<i> &gt;&gt; &gt; aplenty and various things that get passed the beam as arguments -
</I>&gt;<i> you'll
</I>&gt;<i> &gt;&gt; &gt; need to filter through those and make sure everything is set up
</I>&gt;<i> properly in
</I>&gt;<i> &gt;&gt; &gt; order for the startup sequence to work.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Cheers,
</I>&gt;<i> &gt;&gt; &gt; Tim
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; On 26 Mar 2013, at 12:18, Jorge Diz Pico wrote:
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Hi folks, I'm trying to run a RabbitMQ server the OTP way, but it's
</I>&gt;<i> &gt;&gt; &gt;&gt; becoming harder than I thought. I added all dependencies to my
</I>&gt;<i> &gt;&gt; &gt;&gt; release, but when I run application:start(rabbit), I get the
</I>&gt;<i> following
</I>&gt;<i> &gt;&gt; &gt;&gt; error:
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; [...]
</I>&gt;<i> &gt;&gt; &gt;&gt; -- rabbit boot start
</I>&gt;<i> &gt;&gt; &gt;&gt; starting file handle cache server
</I>&gt;<i> &gt;&gt; &gt;&gt; ...done
</I>&gt;<i> &gt;&gt; &gt;&gt; starting worker pool
</I>&gt;<i> &gt;&gt; &gt;&gt; ...done
</I>&gt;<i> &gt;&gt; &gt;&gt; starting database
</I>&gt;<i> &gt;&gt; &gt;&gt; ...
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; BOOT FAILED
</I>&gt;<i> &gt;&gt; &gt;&gt; ===========
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Error description:
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> {error,{corrupt_or_missing_cluster_files,{error,enoent},{error,enoent}}}
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Log files (may contain more information):
</I>&gt;<i> &gt;&gt; &gt;&gt;  undefined
</I>&gt;<i> &gt;&gt; &gt;&gt;  undefined
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Stack trace:
</I>&gt;<i> &gt;&gt; &gt;&gt;  [{rabbit_node_monitor,read_cluster_status,0,
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; [{file,&quot;src/rabbit_node_monitor.erl&quot;},{line,139}]},
</I>&gt;<i> &gt;&gt; &gt;&gt;   {rabbit_mnesia,cluster_status,1,
</I>&gt;<i> &gt;&gt; &gt;&gt;                  [{file,&quot;src/rabbit_mnesia.erl&quot;},{line,391}]},
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> {rabbit_mnesia,node_type,0,[{file,&quot;src/rabbit_mnesia.erl&quot;},{line,410}]},
</I>&gt;<i> &gt;&gt; &gt;&gt;   {rabbit_mnesia,init,0,[{file,&quot;src/rabbit_mnesia.erl&quot;},{line,97}]},
</I>&gt;<i> &gt;&gt; &gt;&gt;   {rabbit,'-run_boot_step/1-lc$^1/1-1-',1,
</I>&gt;<i> &gt;&gt; &gt;&gt;           [{file,&quot;src/rabbit.erl&quot;},{line,481}]},
</I>&gt;<i> &gt;&gt; &gt;&gt;   {rabbit,run_boot_step,1,[{file,&quot;src/rabbit.erl&quot;},{line,480}]},
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> {rabbit,'-start/2-lc$^0/1-0-',1,[{file,&quot;src/rabbit.erl&quot;},{line,440}]},
</I>&gt;<i> &gt;&gt; &gt;&gt;   {rabbit,start,2,[{file,&quot;src/rabbit.erl&quot;},{line,440}]}]
</I>&gt;<i> &gt;&gt; &gt;&gt; [...]
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; But of course there are no clusters and there had never been (fresh
</I>&gt;<i> &gt;&gt; &gt;&gt; run).
</I>&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt;&gt; Has anybody managed to do this? There has to be a way to embed the
</I>&gt;<i> &gt;&gt; &gt;&gt; RabbitMQ server in your own applications.
</I>&gt;<i> &gt;&gt; &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; &gt;&gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt;&gt; &gt;&gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt;&gt; &gt;&gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt;&gt; &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt;&gt; &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt;&gt; &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; _______________________________________________
</I>&gt;<i> &gt;&gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt;&gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130327/a35b2866/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130327/a35b2866/attachment.htm</A>&gt;
</PRE>


































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026219.html">[rabbitmq-discuss] Running RabbitMQ server as embedded	application
</A></li>
	<LI>Next message: <A HREF="026206.html">[rabbitmq-discuss] How to implement consumer's sequential work	correctly?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26221">[ date ]</a>
              <a href="thread.html#26221">[ thread ]</a>
              <a href="subject.html#26221">[ subject ]</a>
              <a href="author.html#26221">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
