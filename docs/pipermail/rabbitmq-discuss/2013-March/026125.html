<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Network Partition Diagnostics
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Network%20Partition%20Diagnostics&In-Reply-To=%3CB07D5351-6EB8-4EE4-B0B0-6EA6910EE339%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026119.html">
   <LINK REL="Next"  HREF="026113.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Network Partition Diagnostics</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Network%20Partition%20Diagnostics&In-Reply-To=%3CB07D5351-6EB8-4EE4-B0B0-6EA6910EE339%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Network Partition Diagnostics">watson.timothy at gmail.com
       </A><BR>
    <I>Fri Mar 22 08:03:19 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026119.html">[rabbitmq-discuss] RabbitMQ Network Partition Diagnostics
</A></li>
        <LI>Next message: <A HREF="026113.html">[rabbitmq-discuss] AMQP, RabbitMQ and message integrity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26125">[ date ]</a>
              <a href="thread.html#26125">[ thread ]</a>
              <a href="subject.html#26125">[ subject ]</a>
              <a href="author.html#26125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi 

On 21 Mar 2013, at 19:31, &quot;Croy, Steve&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">SCROY at eprod.com</A>&gt; wrote:
&gt;<i> 
</I>&gt;<i> We installed some software on the box that needed a restart and it triggered this failure.  We are starting to think it is related to RestartManager.  We had a look at the logs on the boxes and the occurrence seems to coincide with RestartManager running.  What do you think?
</I>
That sounds very likely to me.

&gt;<i> 
</I>&gt;<i> Are you asking for the Rabbit logs?
</I>&gt;<i> 
</I>
If you're still struggling to identify the culprit then the logs may contain more useful information. If you'd like my help in tracking down the aide then seeing the logs would speed things up. You can send/paste them somewhere and contact me privately if that helps an if they contain private data then we might be able to sign a confidentiality agreement although that might take a bit of time to arrange.

Cheers
Tim

&gt;<i> Thank you,
</I>&gt;<i> Steve
</I>&gt;<i> 
</I>&gt;<i> -----Original Message-----
</I>&gt;<i> From: Tim Watson [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">watson.timothy at gmail.com</A>]
</I>&gt;<i> Sent: Thursday, March 21, 2013 11:42 AM
</I>&gt;<i> To: Discussions about RabbitMQ
</I>&gt;<i> Cc: Croy, Steve; Discussions about RabbitMQ; Vaughn, Mark
</I>&gt;<i> Subject: Re: [rabbitmq-discuss] RabbitMQ Network Partition Diagnostics
</I>&gt;<i> 
</I>&gt;<i> Oh and if you can provide me with the logs then I might be able to pin down the cause a bit more specifically.
</I>&gt;<i> 
</I>&gt;<i> Cheers
</I>&gt;<i> Tim
</I>&gt;<i> 
</I>&gt;<i> On 21 Mar 2013, at 16:24, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">watson.timothy at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi Steve,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On 21 Mar 2013, at 15:42, &quot;Croy, Steve&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">SCROY at eprod.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I have a couple more questions:
</I>&gt;&gt;&gt;<i>      1.  Would you recommend that the node(s) be on the same VLAN?
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> If you're using clustering then the guidance is 'use a reliable network' - which is a bit fuzzy admittedly. If being on the same vlan decreases the risk of comms disruption (of any sort) then yes, though I can't comment on whether or not that's really the case.
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>      2.  We are running the nodes on VM(s), would physical be better?  (Since RabbitMQ is VMWare I think I know the answer, but have to ask :)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> In theory that shouldn't matter, but obviously you'll need to make sure your virtualisation setup is 'just right' - again that's not something I'm an expert with I'm afraid.
</I>&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>      3.  Would running a three node cluster with the correct mnesia setting be more reliable?  Majority cluster wins vs. two node both majority?
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Actually it won't make any difference. If any comms breakdown occurs, it can potentially force you to restart nodes. We're planning on releasing some features to help deal with minority islands in the next release (ish).
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Cheers
</I>&gt;&gt;<i> Tim
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> ________________________________
</I>&gt;<i> 
</I>&gt;<i> This message (including any attachments) is confidential and intended for a specific individual and purpose. If you are not the intended recipient, please notify the sender immediately and delete this message.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>
















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026119.html">[rabbitmq-discuss] RabbitMQ Network Partition Diagnostics
</A></li>
	<LI>Next message: <A HREF="026113.html">[rabbitmq-discuss] AMQP, RabbitMQ and message integrity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26125">[ date ]</a>
              <a href="thread.html#26125">[ thread ]</a>
              <a href="subject.html#26125">[ subject ]</a>
              <a href="author.html#26125">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
