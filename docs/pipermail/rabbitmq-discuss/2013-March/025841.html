<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Low impact statistics gathering for queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Low%20impact%20statistics%20gathering%20for%20queues&In-Reply-To=%3C513DB745.3070307%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025840.html">
   <LINK REL="Next"  HREF="025831.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Low impact statistics gathering for queues</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Low%20impact%20statistics%20gathering%20for%20queues&In-Reply-To=%3C513DB745.3070307%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Low impact statistics gathering for queues">simon at rabbitmq.com
       </A><BR>
    <I>Mon Mar 11 10:51:49 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025840.html">[rabbitmq-discuss] Low impact statistics gathering for queues
</A></li>
        <LI>Next message: <A HREF="025831.html">[rabbitmq-discuss] Huge queues - memory alarm going off
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25841">[ date ]</a>
              <a href="thread.html#25841">[ thread ]</a>
              <a href="subject.html#25841">[ subject ]</a>
              <a href="author.html#25841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/03/13 10:43, Emile Joubert wrote:
&gt;<i> The management plugin can also be used to obtain this information using
</I>&gt;<i> the HTTP API. For details see <A HREF="http://www.rabbitmq.com/management.html">http://www.rabbitmq.com/management.html</A>
</I>&gt;<i> and the HTTP API documentation linked from there.
</I>
This is perhaps the key point. Whereas rabbitmqctl list_queues will go 
and synchronously communicate with each queue in the list, the 
management API maintains its own database of queue information based on 
events that queues emit, so querying the management API is cheaper.

There are still costs associated; generating a large JSON document is 
surprisingly expensive, so limiting the number of columns you request 
when listing all queues can help quite a bit.

Furthermore the management API lets you query details for individual queues.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025840.html">[rabbitmq-discuss] Low impact statistics gathering for queues
</A></li>
	<LI>Next message: <A HREF="025831.html">[rabbitmq-discuss] Huge queues - memory alarm going off
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25841">[ date ]</a>
              <a href="thread.html#25841">[ thread ]</a>
              <a href="subject.html#25841">[ subject ]</a>
              <a href="author.html#25841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
