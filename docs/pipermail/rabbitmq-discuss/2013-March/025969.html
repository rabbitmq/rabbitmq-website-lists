<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Confirm consistent hash exchange behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Confirm%20consistent%20hash%20exchange%20behavior&In-Reply-To=%3CCAMcAHLVteHePrhWyfC0jDhBr0Mb%3DEJ%3Dwejp6xX_J_sFPn1D2bA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025968.html">
   <LINK REL="Next"  HREF="025970.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Confirm consistent hash exchange behavior</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Confirm%20consistent%20hash%20exchange%20behavior&In-Reply-To=%3CCAMcAHLVteHePrhWyfC0jDhBr0Mb%3DEJ%3Dwejp6xX_J_sFPn1D2bA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Confirm consistent hash exchange behavior">videlalvaro at gmail.com
       </A><BR>
    <I>Mon Mar 18 10:42:15 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025968.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
        <LI>Next message: <A HREF="025970.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25969">[ date ]</a>
              <a href="thread.html#25969">[ thread ]</a>
              <a href="subject.html#25969">[ subject ]</a>
              <a href="author.html#25969">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Why then not just have one queue per GUID and use the anon exchange to do
the routing? Then remove the queue when the GUID is not needed anymore.

Or here are we talking about of mapping several GUIDs to the same queue?

BTW, for a use case similar to this one is why I proposed the interval
exchange.

Regards,

Alvaro



On Mon, Mar 18, 2013 at 11:20 AM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;wrote:

&gt;<i> Thanks for explaining your use case!
</I>&gt;<i>
</I>&gt;<i> Of course, the whole point of the hashing part of the CHX is to ensure
</I>&gt;<i> that the broker does not need to maintain a routing key -&gt; queue mapping.
</I>&gt;<i> It sounds like your case would require that. Which is not an inconceivable
</I>&gt;<i> thing to do, but it would mean we would need to think about how that
</I>&gt;<i> mapping can be prevented from constituting a memory leak.
</I>&gt;<i>
</I>&gt;<i> I assume that you see new GUIDs quite frequently; is there a point at
</I>&gt;<i> which you know you won't see a certain GUID again? Or can you say something
</I>&gt;<i> like &quot;if I haven't seen a certain GUID for 5 min, we can forget about it?&quot;
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 16/03/2013 12:17AM, SteveO wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Thanks all for the feedback.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm not certain how to handle my basic &quot;elastic scale up&quot; scenario. That
</I>&gt;&gt;<i> would be where I have 4 queues bound to the CHX, and my consumers aren't
</I>&gt;&gt;<i> keeping up. I add a 5th without removing any of the other 4. I think that
</I>&gt;&gt;<i> is
</I>&gt;&gt;<i> a condition where I could wind up with messages with the same routing key
</I>&gt;&gt;<i> in
</I>&gt;&gt;<i> multiple queues.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Our application will have producers sending messages with new GUIDs in the
</I>&gt;&gt;<i> routing key throughout the course of any given day. The frequency of just
</I>&gt;&gt;<i> how many new GUIDs over a set duration of time will vary throughout the
</I>&gt;&gt;<i> course of the day. Business hours would have more new GUIDs than
</I>&gt;&gt;<i> off-business hours, for example. That's why I thought it would be in my
</I>&gt;&gt;<i> best
</I>&gt;&gt;<i> interest to have a mechanism for scaling up and down. That just gets
</I>&gt;&gt;<i> really
</I>&gt;&gt;<i> tricky when I have that &quot;must process everything in order&quot; requirement.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> s
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> View this message in context: <A HREF="http://rabbitmq.1065348.n5.**">http://rabbitmq.1065348.n5.**</A>
</I>&gt;&gt;<i> nabble.com/Confirm-consistent-**hash-exchange-behavior-**
</I>&gt;&gt;<i> tp25458p25478.html&lt;<A HREF="http://rabbitmq.1065348.n5.nabble.com/Confirm-consistent-hash-exchange-behavior-tp25458p25478.html">http://rabbitmq.1065348.n5.nabble.com/Confirm-consistent-hash-exchange-behavior-tp25458p25478.html</A>&gt;
</I>&gt;&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;&gt;<i> ______________________________**_________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  ______________________________**_________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130318/eaa27068/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130318/eaa27068/attachment.htm</A>&gt;
</PRE>



























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025968.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
	<LI>Next message: <A HREF="025970.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25969">[ date ]</a>
              <a href="thread.html#25969">[ thread ]</a>
              <a href="subject.html#25969">[ subject ]</a>
              <a href="author.html#25969">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
