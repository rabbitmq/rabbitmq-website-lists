<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] lager vs sasl error log
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log&In-Reply-To=%3CCAB-G1jgnF49LEHg3B0bfGekLFwrY%2BQb4nx1YUKrgmOwAK0EaYg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026223.html">
   <LINK REL="Next"  HREF="026225.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] lager vs sasl error log</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20lager%20vs%20sasl%20error%20log&In-Reply-To=%3CCAB-G1jgnF49LEHg3B0bfGekLFwrY%2BQb4nx1YUKrgmOwAK0EaYg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] lager vs sasl error log">0x6e6562 at gmail.com
       </A><BR>
    <I>Thu Mar 28 02:03:41 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026223.html">[rabbitmq-discuss] lager vs sasl error log / badarg?
</A></li>
        <LI>Next message: <A HREF="026225.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26224">[ date ]</a>
              <a href="thread.html#26224">[ thread ]</a>
              <a href="subject.html#26224">[ subject ]</a>
              <a href="author.html#26224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey Tim,

I'm just kicking the tyres of your lager plugin with my rabbit umbrella.

Admittedly, I'm not an umbrella makefile jedi, so I just cloned your repo
into a subdir of my umbrella (maybe this was the mistake). Running make
results in the following issue:

[elided] generate deps
[elided] fix test deps
sed -e 's|build/deps.mk|$(DEPS_FILE)|' build/deps.mk &gt; build/deps.mk.tmp &amp;&amp;
mv build/deps.mk.tmp build/deps.mk
rm -rf ./rabbitmq-lager-git
git clone <A HREF="http://github.com/basho/lager.git">http://github.com/basho/lager.git</A> ./rabbitmq-lager-git
Cloning into './rabbitmq-lager-git'...
remote: Counting objects: 1822, done.
remote: Compressing objects: 100% (576/576), done.
remote: Total 1822 (delta 1330), reused 1709 (delta 1224)
Receiving objects: 100% (1822/1822), 713.54 KiB | 137 KiB/s, done.
Resolving deltas: 100% (1330/1330), done.
# Work around weird github breakage (bug 25264)
cd ./rabbitmq-lager-git &amp;&amp; git pull
Already up-to-date.
cd ./rabbitmq-lager-git &amp;&amp; git checkout
9719370eeaf8b64c1c3e79fb7052cb1ca29f16c8
Note: checking out '9719370eeaf8b64c1c3e79fb7052cb1ca29f16c8'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b new_branch_name

HEAD is now at 9719370... Merge pull request #120 from
basho/adt-msg-has-datetime
touch rabbitmq-lager-git/.done
echo UPSTREAM_SHORT_HASH:=`git --git-dir=./rabbitmq-lager-git/.git log -n 1
HEAD | grep commit | cut -b 8-14` &gt;hash.mk
sed -n -e 's|^.*{vsn, *&quot;\([^&quot;]*\)&quot;.*$|ORIGINAL_VERSION:=\1|p'
&lt;rabbitmq-lager-git/src/lager.app.src &gt;build/version.mk
[elided] generate deps
/bin/sh: escript: command not found
rm -rf build/dep-ezs
mkdir -p build/dep-ezs
[elided] copy dependent ezs
touch build/dep-ezs/.done
rm -rf build/dep-apps
mkdir -p build/dep-apps
[elided] unzip ezs
touch build/dep-apps/.done
make: *** No rule to make target `build/deps.mk', needed by
`ebin/error_logger_lager_h.beam'.  Stop.

Should I maybe have created a my own subdir that points to your repo by
setting the UPSTREAM_GIT variable?

Cheers,

Ben



On Wed, Mar 27, 2013 at 10:03 AM, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>&gt; wrote:

&gt;<i> If anyone wants to try this plugin out, there are instructions in the
</I>&gt;<i> README file on github now. You'll need at least R14B03 to use lager afaict.
</I>&gt;<i> Please shout if you run into any difficulties.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Tim
</I>&gt;<i>
</I>&gt;<i> On 27 Mar 2013, at 00:19, Ben Hood wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; On Tuesday, 26 March 2013 at 15:53, Tim Watson wrote:
</I>&gt;<i> &gt;&gt; I have set up an experimental repository at
</I>&gt;<i> <A HREF="https://github.com/hyperthunk/rabbitmq-lager">https://github.com/hyperthunk/rabbitmq-lager</A> that supports logging to
</I>&gt;<i> lager via its built in error_logger redirection. You enable via
</I>&gt;<i> `rabbitmq-plugins enable lager` and configure it in the RabbitMQ config
</I>&gt;<i> file just like any other plugin, under the key 'lager'. In the morning I'll
</I>&gt;<i> chat with the guys about integrating this as experimental plugin for the
</I>&gt;<i> time being, so people can play around and see if it offers the required
</I>&gt;<i> functionality.
</I>&gt;<i> &gt; Very cool - nice one Tim!
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130327/da7d6bbf/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130327/da7d6bbf/attachment.htm</A>&gt;
</PRE>

















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026223.html">[rabbitmq-discuss] lager vs sasl error log / badarg?
</A></li>
	<LI>Next message: <A HREF="026225.html">[rabbitmq-discuss] lager vs sasl error log
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26224">[ date ]</a>
              <a href="thread.html#26224">[ thread ]</a>
              <a href="subject.html#26224">[ subject ]</a>
              <a href="author.html#26224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
