<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] &quot;Other process memory&quot; growth
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22Other%20process%20memory%22%20growth&In-Reply-To=%3C51545824.8020201%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026233.html">
   <LINK REL="Next"  HREF="026150.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] &quot;Other process memory&quot; growth</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22Other%20process%20memory%22%20growth&In-Reply-To=%3C51545824.8020201%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] &quot;Other process memory&quot; growth">emile at rabbitmq.com
       </A><BR>
    <I>Thu Mar 28 14:48:04 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026233.html">[rabbitmq-discuss] &quot;Other process memory&quot; growth
</A></li>
        <LI>Next message: <A HREF="026150.html">[rabbitmq-discuss] RabbitMQ in Ubuntu 13.04
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26243">[ date ]</a>
              <a href="thread.html#26243">[ thread ]</a>
              <a href="subject.html#26243">[ subject ]</a>
              <a href="author.html#26243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Carl,

On 28/03/13 09:06, carlhoerberg wrote:
&gt;<i> Ok :) <A HREF="https://www.dropbox.com/sc/mb7zw9gqsrxg7to/H0x1QYwfau">https://www.dropbox.com/sc/mb7zw9gqsrxg7to/H0x1QYwfau</A>
</I>
Would you be able to provide some more details for us to investigate
this further? We will need to logfiles and the sasl logfiles from all 3
nodes. Please provide entries from at least a while before the memory
use on the one node started to increase.

Then we'd like you to execute a command on the node with abnormal memory
(tiger01), but take some precautions first. If you are able to bring
more swapspace online then please do so. If there are any other
non-critical processes on the machine then please stop them, as this
command has the potential to impose heavy load. Please be aware that
this command could cause the node to crash. If you have HA redundancy in
place then it shouldn't matter, but if you are not comfortable with this
prospect then don't proceed.

Otherwise please run this command:

rabbitmqctl eval 'io:put_chars(standard_error, &quot;this should appear in
startup_err\n&quot;).'

and check that the expected text appeared in startup_err (normally in
/var/log/rabbitmq). If the text did not appear then do not proceed.

Otherwise please run this command:

rabbitmqctl eval 'erlang:process_display(element(2,
hd(lists:reverse(lists:sort([{process_info(P, memory), P} ||  P &lt;-
erlang:processes()])))), backtrace).'

The command will return and the startup_err file should start growing
soon afterwards. It could take a long time until it stops growing. When
it does stop growing please send it to <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">support at rabbitmq.com</A> along with
the logfiles, preferably compressed.




-Emile







</PRE>

















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026233.html">[rabbitmq-discuss] &quot;Other process memory&quot; growth
</A></li>
	<LI>Next message: <A HREF="026150.html">[rabbitmq-discuss] RabbitMQ in Ubuntu 13.04
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26243">[ date ]</a>
              <a href="thread.html#26243">[ thread ]</a>
              <a href="subject.html#26243">[ subject ]</a>
              <a href="author.html#26243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
