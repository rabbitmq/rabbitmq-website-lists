<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Feature request - automatic recovery from network partitions in simple case
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20request%20-%20automatic%20recovery%20from%0A%20network%20partitions%20in%20simple%20case&In-Reply-To=%3C866a324c-27cf-4164-bf19-7d173fb15f6d%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026077.html">
   <LINK REL="Next"  HREF="025923.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Feature request - automatic recovery from network partitions in simple case</H1>
    <B>Jesse Young</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20request%20-%20automatic%20recovery%20from%0A%20network%20partitions%20in%20simple%20case&In-Reply-To=%3C866a324c-27cf-4164-bf19-7d173fb15f6d%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Feature request - automatic recovery from network partitions in simple case">adunar at gmail.com
       </A><BR>
    <I>Thu Mar 14 02:16:57 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026077.html">[rabbitmq-discuss] Windows vs Linux
</A></li>
        <LI>Next message: <A HREF="025923.html">[rabbitmq-discuss] Feature request - automatic recovery from network partitions in simple case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25920">[ date ]</a>
              <a href="thread.html#25920">[ thread ]</a>
              <a href="subject.html#25920">[ subject ]</a>
              <a href="author.html#25920">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I run a simple cluster of two RabbitMQ 3.0.x nodes with mirrored 
high-availability queues. Only one of the two nodes is actively used at any 
given time; the other node is a &quot;hot spare&quot; that can be ready in case the 
first node goes offline.

Occasionally, my cloud hosting provider has network interruptions within 
their internal network. RabbitMQ then detects a network partition, and 
stops mirroring queues until I manually restart the nodes. In order to 
avoid losing all queued messages, I have to manually stop the spare node, 
then restart the active node, then start the spare node again. 

I understand the reasoning given in <A HREF="http://www.rabbitmq.com/partitions.html">http://www.rabbitmq.com/partitions.html</A> 
for why recovery doesn't happen automatically in the general case.

However, in my simple case, only one of the nodes has any activity during 
the network partition, so there isn't any ambiguity about what should 
happen when the network starts working again: The &quot;spare&quot; node should 
simply restore its state from the &quot;active&quot; node without me having to 
manually restart them in the correct order. 

I don't know how feasible this request is, but it would be great if 
RabbitMQ's partition recovery could be slightly more intelligent so that 
having a spare RabbitMQ node doesn't require as much handholding.

Apologies in advance if this has already been discussed or if this is the 
wrong forum. I'd also like to thank the developers for such a great product!

-Jesse
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130313/1546c3b2/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130313/1546c3b2/attachment.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026077.html">[rabbitmq-discuss] Windows vs Linux
</A></li>
	<LI>Next message: <A HREF="025923.html">[rabbitmq-discuss] Feature request - automatic recovery from network partitions in simple case
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25920">[ date ]</a>
              <a href="thread.html#25920">[ thread ]</a>
              <a href="subject.html#25920">[ subject ]</a>
              <a href="author.html#25920">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
