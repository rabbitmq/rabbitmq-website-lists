<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit MQ: Improve queue flushing speed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20MQ%3A%20Improve%20queue%20flushing%20speed&In-Reply-To=%3CCAO43vHC4KBAAPbsVYH4DavFqJ1R2si_TAuCLAVzq%3Dn8%2BsNJgbA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026246.html">
   <LINK REL="Next"  HREF="026244.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit MQ: Improve queue flushing speed</H1>
    <B>Priyank Patil</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20MQ%3A%20Improve%20queue%20flushing%20speed&In-Reply-To=%3CCAO43vHC4KBAAPbsVYH4DavFqJ1R2si_TAuCLAVzq%3Dn8%2BsNJgbA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit MQ: Improve queue flushing speed">priyank.patil at gmail.com
       </A><BR>
    <I>Thu Mar 28 12:33:25 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026246.html">[rabbitmq-discuss] Can load-balancer work around consumer	reconnect problem?
</A></li>
        <LI>Next message: <A HREF="026244.html">[rabbitmq-discuss] Rabbit MQ: Improve queue flushing speed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26242">[ date ]</a>
              <a href="thread.html#26242">[ thread ]</a>
              <a href="subject.html#26242">[ subject ]</a>
              <a href="author.html#26242">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a durable queue which holds persistent messages. The messages arrive
into the queue at a rate of about 10 messages per second.

The client is unable to fetch those messages at that rate. As a result the
queue on the server keeps growing.

Each message is less than 1 KB and I have a healthy 2 Mbps line between the
server and my machine. Using a network monitoring utility, I found that it
is hardly using any of that bandwidth.

The client is doing nothing with the messages as of now, just printing them
to console so processing time on client is almost 0.

Some other details: I am using a java client. I have set the client to
prefetch 10000 messages. (also tried with default values) The round trip
time is about 290 - 350 ms. Messages are individually acknowledged.

The available resources are being underutilized and 10 messages per second
is hardly any load in my opinion. How do I speed up things so that messages
held up in queue are transferred faster to the client. Possibly using some
sort of batching.


Thanks,

Priyank
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130328/c45c153c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130328/c45c153c/attachment.htm</A>&gt;
</PRE>
























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026246.html">[rabbitmq-discuss] Can load-balancer work around consumer	reconnect problem?
</A></li>
	<LI>Next message: <A HREF="026244.html">[rabbitmq-discuss] Rabbit MQ: Improve queue flushing speed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26242">[ date ]</a>
              <a href="thread.html#26242">[ thread ]</a>
              <a href="subject.html#26242">[ subject ]</a>
              <a href="author.html#26242">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
