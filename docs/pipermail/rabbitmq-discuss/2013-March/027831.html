<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.14.1370986156.3387.rabbitmq-discuss%40lists.rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027829.html">
   <LINK REL="Next"  HREF="027901.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.14.1370986156.3387.rabbitmq-discuss%40lists.rabbitmq.com%3E"
       TITLE="No subject">
       </A><BR>
    <I>Thu Mar 14 15:04:54 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027829.html">No subject
</A></li>
        <LI>Next message: <A HREF="027901.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27831">[ date ]</a>
              <a href="thread.html#27831">[ thread ]</a>
              <a href="subject.html#27831">[ subject ]</a>
              <a href="author.html#27831">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>running that delegate all of their work to one or more worker dynos. The 
REST server dynos must be stateless. 

I have two basic patterns to support.


   1. REST RPC. Basically, the client makes a call like GET /user/{id}. I 
   delegate this call to a worker dyno that does a database lookup in the USER 
   table for the specified ID and returns it. The REST interface then returns 
   this. This to me seems like basic RPC. 
   2. REST ASYNC. In this model the client may call my REST server with a 
   POST or a GET. Let's use the classic case of a long running task to format 
   a graphic. I will create a JOB ID, return it to the client in an URI. The 
   client calls the URI to poll the job until it is done and then eventually 
   gets redirected to a URI that has the result. In this case, when I get the 
   initial REST call I will generate a UID for it, submit it to the worker. 
   There are several ways I can do the polling and returning of the result. A 
   lot of that depends on how I decide to interact with the worker.  Is it 
   RPC? AKKA? AMQP?  Because there may be more than one REST service dyno, the 
   request to post the job may happen on one REST server and the polling 
   request may be routed to another. So it must be stateless.


So here's my question. First, should I be using RabbitMQ for this or is 
there a better solution? If I am using RabbitMQ must I implement the RPC 
and ASYNC patterns myself directly on top of RabbitMQ or are there 
libraries out there that create a layer of abstraction on top of RabbitMQ 
so I can do both of these simply? If I'm going to use RabbitMQ I'm hoping 
to use CloudAMQP on Heroku.

Thanks!

Robert

------=_Part_1973_10294539.1370977579935
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

I am writing a REST server in Java and am trying to come up with the best a=
pproach for scalability. The server is deployed on Heroku. I am new to Rabb=
itMQ/AMQ so I need some advice.&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From an architectural po=
int of view I want to have one or more REST dynos running that delegate all=
 of their work to one or more worker dynos. The REST server dynos must be s=
tateless.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I have two basic patterns to suppo=
rt.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=3D&quot;line-height: normal;&quot;&gt;R=
EST RPC. Basically, the client makes a call like GET /user/{id}. I delegate=
 this call to a worker dyno that does a database lookup in the USER table f=
or the specified ID and returns it. The REST interface then returns this. T=
his to me seems like basic RPC.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=3D&quot;line-he=
ight: normal;&quot;&gt;REST ASYNC. In this model the client may call my REST server=
 with a POST or a GET. Let's use the classic case of a long running task to=
 format a graphic. I will create a JOB ID, return it to the client in an UR=
I. The client calls the URI to poll the job until it is done and then event=
ually gets redirected to a URI that has the result. In this case, when I ge=
t the initial REST call I will generate a UID for it, submit it to the work=
er. There are several ways I can do the polling and returning of the result=
. A lot of that depends on how I decide to interact with the worker. &amp;nbsp;=
Is it RPC? AKKA? AMQP? &amp;nbsp;Because there may be more than one REST servic=
e dyno, the request to post the job may happen on one REST server and the p=
olling request may be routed to another. So it must be stateless.&lt;/span&gt;&lt;/l=
i&gt;&lt;/ol&gt;&lt;div&gt;&lt;br&gt;So here's my question. First, should I be using RabbitMQ fo=
r this or is there a better solution? If I am using RabbitMQ must I impleme=
nt the RPC and ASYNC patterns myself directly on top of RabbitMQ or are the=
re libraries out there that create a layer of abstraction on top of RabbitM=
Q so I can do both of these simply? If I'm going to use RabbitMQ I'm hoping=
 to use CloudAMQP on Heroku.&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Thanks!&lt;/div&gt;&lt;d=
iv&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Robert&lt;/div&gt;
------=_Part_1973_10294539.1370977579935--

------=_Part_1972_32952114.1370977579935--
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027829.html">No subject
</A></li>
	<LI>Next message: <A HREF="027901.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27831">[ date ]</a>
              <a href="thread.html#27831">[ thread ]</a>
              <a href="subject.html#27831">[ subject ]</a>
              <a href="author.html#27831">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
