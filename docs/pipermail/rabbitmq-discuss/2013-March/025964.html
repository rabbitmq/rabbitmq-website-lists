<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 3.0, SSL and rc4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%203.0%2C%20SSL%20and%20rc4&In-Reply-To=%3C51458A62.3080802%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025962.html">
   <LINK REL="Next"  HREF="025973.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 3.0, SSL and rc4</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%203.0%2C%20SSL%20and%20rc4&In-Reply-To=%3C51458A62.3080802%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 3.0, SSL and rc4">matthias at rabbitmq.com
       </A><BR>
    <I>Sun Mar 17 09:18:26 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025962.html">[rabbitmq-discuss] RabbitMQ 3.0, SSL and rc4
</A></li>
        <LI>Next message: <A HREF="025973.html">[rabbitmq-discuss] RabbitMQ 3.0, SSL and rc4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25964">[ date ]</a>
              <a href="thread.html#25964">[ thread ]</a>
              <a href="subject.html#25964">[ subject ]</a>
              <a href="author.html#25964">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17/03/13 03:05, carlhoerberg wrote:
&gt;<i> The users says he's just consuming, but the mgmt interface shows that's
</I>&gt;<i> he's both sending and receiving traffic in ~20kb/s, but only receiving
</I>&gt;<i> 0.5msg/sec and not delivering any messages.
</I>
Are you saying there's 20kb/s traffic each way on the connection, but 
the publishing rate is 0 msg/s and the consuming rate is 0.5 msg/s?

Perhaps there is some weird ssl chatter going on. Could you ask the user 
to connect without SSL?

It would be good to see a screen shot of the connection details for the 
connection(s) by that user, so we can see both the data rates on the 
connection and message rates on that connection's channels all on one 
screen.

Also, you said before that &quot;memory usage will grow indefinitely until 
[rabbit] crashes&quot;. Please post the output of 'rabbitmqctl status' when 
you see the high memory usage, which should give us some idea where the 
memory is going.

&gt;<i> When the connection if force closed this is returned:
</I>&gt;<i>
</I>&gt;<i> {exit, {channel_termination_timeout, {gen_server,call,
</I>&gt;<i> [&lt;0.27132.1&gt;,{shutdown,&quot;Closed via management plugin&quot;},infinity]}},
</I>&gt;<i> [{gen_server,call,3}, {rabbit_mgmt_wm_connection,delete_resource,2},
</I>&gt;<i> {webmachine_resource,resource_call,3}, {webmachine_resource,do,3},
</I>&gt;<i> {webmachine_decision_core,resource_call,1},
</I>&gt;<i> {webmachine_decision_core,decision,1},
</I>&gt;<i> {webmachine_decision_core,handle_request,2},
</I>&gt;<i> {rabbit_webmachine,'-makeloop/1-fun-0-',2}]}
</I>
Is that on a really busy server? There is a grace period of 3 seconds x 
number_of_channels during which rabbit tries to terminate connection 
gracefully. If that time threshold is exceeded then the connection is 
terminated regardless. The above message is a symptom of that. I have 
filed a a bug to clean up the error reporting in the management UI for that.

Regards,

Matthias.
</PRE>

































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025962.html">[rabbitmq-discuss] RabbitMQ 3.0, SSL and rc4
</A></li>
	<LI>Next message: <A HREF="025973.html">[rabbitmq-discuss] RabbitMQ 3.0, SSL and rc4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25964">[ date ]</a>
              <a href="thread.html#25964">[ thread ]</a>
              <a href="subject.html#25964">[ subject ]</a>
              <a href="author.html#25964">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
