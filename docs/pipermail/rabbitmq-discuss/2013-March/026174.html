<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] SIGTERM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20SIGTERM&In-Reply-To=%3C515069A9.5000308%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026173.html">
   <LINK REL="Next"  HREF="026184.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] SIGTERM</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20SIGTERM&In-Reply-To=%3C515069A9.5000308%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] SIGTERM">simon at rabbitmq.com
       </A><BR>
    <I>Mon Mar 25 15:13:45 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026173.html">[rabbitmq-discuss] SIGTERM
</A></li>
        <LI>Next message: <A HREF="026184.html">[rabbitmq-discuss] SIGTERM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26174">[ date ]</a>
              <a href="thread.html#26174">[ thread ]</a>
              <a href="subject.html#26174">[ subject ]</a>
              <a href="author.html#26174">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/03/13 15:06, Tim Watson wrote:
&gt;&gt;<i> &gt;Would like to replace the init.d
</I>&gt;&gt;<i> &gt;script with a upstart script but not sure if rabbitmq will gracefully stop
</I>&gt;&gt;<i> &gt;with a SIGTERM to the rabbitmq-server script? Or should I put &quot;rabbitmqctl
</I>&gt;&gt;<i> &gt;stop&quot; as a &quot;pre-stop&quot; exec?
</I>&gt;&gt;<i> &gt;
</I>&gt;<i> I would strongly advise using `rabbitmqctl stop` instead of using SIGTERM.
</I>&gt;<i>
</I>
Note in particular that &quot;rabbitmqctl stop &lt;pidfile&gt;&quot; will ensure that by 
the time the rabbitmqctl invocation exits then the RabbitMQ server will 
have shut down and the VM will have closed. SIGTERM would not give you 
that even if we trapped it (and it's not obvious Erlang lets you do that...)

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>




















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026173.html">[rabbitmq-discuss] SIGTERM
</A></li>
	<LI>Next message: <A HREF="026184.html">[rabbitmq-discuss] SIGTERM
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26174">[ date ]</a>
              <a href="thread.html#26174">[ thread ]</a>
              <a href="subject.html#26174">[ subject ]</a>
              <a href="author.html#26174">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
