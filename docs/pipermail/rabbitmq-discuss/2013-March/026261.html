<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Blocking connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Blocking%20connections&In-Reply-To=%3C1364560602974-25788.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026260.html">
   <LINK REL="Next"  HREF="026262.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Blocking connections</H1>
    <B>rabbit15</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Blocking%20connections&In-Reply-To=%3C1364560602974-25788.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] Blocking connections">bison_art at o2.pl
       </A><BR>
    <I>Fri Mar 29 12:36:42 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026260.html">[rabbitmq-discuss] RabbitMQ server connections close issue
</A></li>
        <LI>Next message: <A HREF="026262.html">[rabbitmq-discuss] rabbitmq-java-messagepatterns
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26261">[ date ]</a>
              <a href="thread.html#26261">[ thread ]</a>
              <a href="subject.html#26261">[ subject ]</a>
              <a href="author.html#26261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I have problem with blocking connections. I have 45 queues and 23
exchanges. Main traffic is on 32 queues (3 parts of the system are connected
with 16 queues form them), which have separate connections and channels.
Producer A is connected with node B with 1 exchange and 16 queues bound to
it. B forwards data to consumer C, which is also connected with 1 exchange
and 16 queues bound to it. On the begginning there were about 40 000
messages /s
After about 15 minutes rabbit is not able to deliver nor to receive
messages, because all connections seem to be blocked.. 
Memory and disk usage were under watermarks. There was about 6 milions
stored messages.

Here the rabbitctl outoput
rabbitmqctl list_connections last_blocked_by last_blocked_age

flow    195.281173
flow    195.283588
flow    195.288559
flow    195.289516
flow    195.291581
flow    195.29297
flow    195.33622
flow    195.34424
flow    195.347141
flow    195.353336
flow    195.357779
flow    195.370545
flow    195.379896
flow    195.396611
flow    195.411805
flow    195.412806
flow    195.417144
flow    195.425048
flow    195.431083
flow    195.436961
flow    195.440714
flow    195.4458
flow    195.464814
flow    195.484873
flow    195.505444
flow    195.533318
flow    195.562232
flow    195.567712
flow    356.156679
flow    372.703345
flow    373.315765
flow    377.614557
flow    385.315363
flow    479.393574
flow    483.674278
flow    483.696068
flow    483.773512
flow    483.784834
flow    483.79031
flow    483.803412
flow    483.8756
flow    483.915878
flow    483.928576
flow    484.447225
...done.



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Blocking-connections-tp25788.html">http://rabbitmq.1065348.n5.nabble.com/Blocking-connections-tp25788.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>
















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026260.html">[rabbitmq-discuss] RabbitMQ server connections close issue
</A></li>
	<LI>Next message: <A HREF="026262.html">[rabbitmq-discuss] rabbitmq-java-messagepatterns
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#26261">[ date ]</a>
              <a href="thread.html#26261">[ thread ]</a>
              <a href="subject.html#26261">[ subject ]</a>
              <a href="author.html#26261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
