<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Overriding rabbit_auth_mechanism_plain
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Overriding%20rabbit_auth_mechanism_plain&In-Reply-To=%3CD3B7D2D3828146A3940CB8FFB848FCD1%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025903.html">
   <LINK REL="Next"  HREF="025908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Overriding rabbit_auth_mechanism_plain</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Overriding%20rabbit_auth_mechanism_plain&In-Reply-To=%3CD3B7D2D3828146A3940CB8FFB848FCD1%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] Overriding rabbit_auth_mechanism_plain">0x6e6562 at gmail.com
       </A><BR>
    <I>Wed Mar 13 12:37:30 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025903.html">[rabbitmq-discuss] High-availability: Unsynchronised mirrors questions (3.0.2)
</A></li>
        <LI>Next message: <A HREF="025908.html">[rabbitmq-discuss] Overriding rabbit_auth_mechanism_plain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25905">[ date ]</a>
              <a href="thread.html#25905">[ thread ]</a>
              <a href="subject.html#25905">[ subject ]</a>
              <a href="author.html#25905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey, 

I've been overriding the vanilla rabbit_auth_mechanism_plain with a plugin that implements SASL/PLAIN.

It seems that if I shadow the registry of the rabbit_auth_mechanism_plain with my custom mechanism with the same key, because the plugin loader boots my stuff after the core stuff, my definition overrides the previous definition.

Though this behaviour is cool, I was wondering how stable it would remain over time, and whether this particular boot sequence was just happenstance.

So what I've done is to define a boot step that first unregisters the vanilla rabbit_auth_mechanism_plain. If I add this step as a dependency for a second step that registers my custom mechanism this seems to work well.

But I'm wondering if I'm going about this in the wrong way.

Also, I've added a third boot step to kick off some custom initialization for my plugin - so I was also wondering whether this is idiomatic or not.

Cheers,

Ben 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130313/75f493a0/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130313/75f493a0/attachment.htm</A>&gt;
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025903.html">[rabbitmq-discuss] High-availability: Unsynchronised mirrors questions (3.0.2)
</A></li>
	<LI>Next message: <A HREF="025908.html">[rabbitmq-discuss] Overriding rabbit_auth_mechanism_plain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25905">[ date ]</a>
              <a href="thread.html#25905">[ thread ]</a>
              <a href="subject.html#25905">[ subject ]</a>
              <a href="author.html#25905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
