<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] corrupt or missing cluster file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20corrupt%20or%20missing%20cluster%20file&In-Reply-To=%3CE94F626F5C43D14F8B8479C5EBD79038F4E46A4B%40vmexchange02.seegrid.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025761.html">
   <LINK REL="Next"  HREF="025766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] corrupt or missing cluster file</H1>
    <B>Elizabeth Liao</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20corrupt%20or%20missing%20cluster%20file&In-Reply-To=%3CE94F626F5C43D14F8B8479C5EBD79038F4E46A4B%40vmexchange02.seegrid.local%3E"
       TITLE="[rabbitmq-discuss] corrupt or missing cluster file">eliao at seegrid.com
       </A><BR>
    <I>Tue Mar  5 22:30:48 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025761.html">[rabbitmq-discuss] corrupt or missing cluster file
</A></li>
        <LI>Next message: <A HREF="025766.html">[rabbitmq-discuss] corrupt or missing cluster file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25764">[ date ]</a>
              <a href="thread.html#25764">[ thread ]</a>
              <a href="subject.html#25764">[ subject ]</a>
              <a href="author.html#25764">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tim,

That was very helpful!   We had an instance where the rabbitmq server needed to be restarted instead of just started following the deletion of the mnesia directory.

Thanks.

Liz
________________________________________
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] on behalf of Tim Watson [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>]
Sent: Tuesday, March 05, 2013 3:35 PM
To: Discussions about RabbitMQ
Subject: Re: [rabbitmq-discuss] corrupt or missing cluster file

Hi Liz,

On 5 Mar 2013, at 16:52, Elizabeth Liao wrote:
&gt;<i> On RabbitMQ 3.0.2, when I use the command rabbitmqctl reset, I occasionally get this error message:
</I>&gt;<i>
</I>&gt;<i> Error: {corrupt_or_missing_cluster_files,{error,enoent},{error,enoent}}
</I>&gt;<i>
</I>&gt;<i> I do not have a cluster set up so I'm not sure why I'm getting the message.  Also, I haven't been able to reproduce the error consistently so any help would be appreciated.
</I>&gt;<i>
</I>
That sounds like a bug, though I'm not able to reproduce it locally. Is this a restarted RAM node by any chance? The reset command does query mnesia for the cluster status and if the mnesia table's aren't present it does try to read from this 'cluster status file' - even if you're not clustered. But I can't see how that would happen unless the rabbit mnesia tables were missing.

Cheers,
Tim
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
Email Confidentiality Notice

The information contained in this transmission is confidential, proprietary or privileged and may be subject to protection under the law. This message is intended for the sole use of the individual or entity to whom it's addressed. If you are not the intended recipient, you are notified that any use, distribution or copying of the message is strictly prohibited and may subject you to criminal or civil penalties. If you received this transmission in error, please contact the sender immediately by replying to this email and delete the material from any computer.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025761.html">[rabbitmq-discuss] corrupt or missing cluster file
</A></li>
	<LI>Next message: <A HREF="025766.html">[rabbitmq-discuss] corrupt or missing cluster file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25764">[ date ]</a>
              <a href="thread.html#25764">[ thread ]</a>
              <a href="subject.html#25764">[ subject ]</a>
              <a href="author.html#25764">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
