<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] corrupt or missing cluster file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20corrupt%20or%20missing%20cluster%20file&In-Reply-To=%3C5E909AE2-37CA-401C-8EE2-CFB1DC93C5CE%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025764.html">
   <LINK REL="Next"  HREF="025762.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] corrupt or missing cluster file</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20corrupt%20or%20missing%20cluster%20file&In-Reply-To=%3C5E909AE2-37CA-401C-8EE2-CFB1DC93C5CE%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] corrupt or missing cluster file">watson.timothy at gmail.com
       </A><BR>
    <I>Wed Mar  6 07:57:47 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025764.html">[rabbitmq-discuss] corrupt or missing cluster file
</A></li>
        <LI>Next message: <A HREF="025762.html">[rabbitmq-discuss] Disabling Default Exchange Creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25766">[ date ]</a>
              <a href="thread.html#25766">[ thread ]</a>
              <a href="subject.html#25766">[ subject ]</a>
              <a href="author.html#25766">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Liz,

On 5 Mar 2013, at 22:30, Elizabeth Liao &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">eliao at seegrid.com</A>&gt; wrote:
&gt;<i> We had an instance where the rabbitmq server needed to be restarted instead of just started following the deletion of the mnesia directory.
</I>&gt;<i> 
</I>
So you (accidentally?) deleted the mnesia directory whilst the broker was running? 

&gt;<i> Thanks.
</I>&gt;<i> 
</I>&gt;<i> Liz
</I>&gt;<i> ________________________________________
</I>&gt;<i> From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] on behalf of Tim Watson [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>]
</I>&gt;<i> Sent: Tuesday, March 05, 2013 3:35 PM
</I>&gt;<i> To: Discussions about RabbitMQ
</I>&gt;<i> Subject: Re: [rabbitmq-discuss] corrupt or missing cluster file
</I>&gt;<i> 
</I>&gt;<i> Hi Liz,
</I>&gt;<i> 
</I>&gt;<i> On 5 Mar 2013, at 16:52, Elizabeth Liao wrote:
</I>&gt;&gt;<i> On RabbitMQ 3.0.2, when I use the command rabbitmqctl reset, I occasionally get this error message:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Error: {corrupt_or_missing_cluster_files,{error,enoent},{error,enoent}}
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I do not have a cluster set up so I'm not sure why I'm getting the message.  Also, I haven't been able to reproduce the error consistently so any help would be appreciated.
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> That sounds like a bug, though I'm not able to reproduce it locally. Is this a restarted RAM node by any chance? The reset command does query mnesia for the cluster status and if the mnesia table's aren't present it does try to read from this 'cluster status file' - even if you're not clustered. But I can't see how that would happen unless the rabbit mnesia tables were missing.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> Tim
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> Email Confidentiality Notice
</I>&gt;<i> 
</I>&gt;<i> The information contained in this transmission is confidential, proprietary or privileged and may be subject to protection under the law. This message is intended for the sole use of the individual or entity to whom it's addressed. If you are not the intended recipient, you are notified that any use, distribution or copying of the message is strictly prohibited and may subject you to criminal or civil penalties. If you received this transmission in error, please contact the sender immediately by replying to this email and delete the material from any computer.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025764.html">[rabbitmq-discuss] corrupt or missing cluster file
</A></li>
	<LI>Next message: <A HREF="025762.html">[rabbitmq-discuss] Disabling Default Exchange Creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25766">[ date ]</a>
              <a href="thread.html#25766">[ thread ]</a>
              <a href="subject.html#25766">[ subject ]</a>
              <a href="author.html#25766">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
