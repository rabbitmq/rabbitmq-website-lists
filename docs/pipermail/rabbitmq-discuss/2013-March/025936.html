<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Pika connection negotiation behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pika%20connection%20negotiation%20behavior&In-Reply-To=%3CCAKwdTWdMGdL7QwKrRDApWubQxcKbm0CNH6k6T%3DAr7TmGth8PcA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="026181.html">
   <LINK REL="Next"  HREF="025940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Pika connection negotiation behavior</H1>
    <B>Gavin M. Roy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pika%20connection%20negotiation%20behavior&In-Reply-To=%3CCAKwdTWdMGdL7QwKrRDApWubQxcKbm0CNH6k6T%3DAr7TmGth8PcA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Pika connection negotiation behavior">gmr at meetme.com
       </A><BR>
    <I>Fri Mar 15 06:03:28 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="026181.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
        <LI>Next message: <A HREF="025940.html">[rabbitmq-discuss] Pika connection negotiation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25936">[ date ]</a>
              <a href="thread.html#25936">[ thread ]</a>
              <a href="subject.html#25936">[ subject ]</a>
              <a href="author.html#25936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In Pika, currently and pre-dating my involvement, when tuning the
connection, it uses the *minimum* value above 0 that either the server or
client provides for the heartbeat interval:

<A HREF="https://github.com/pika/pika/blob/v0.5/pika/connection.py#L359">https://github.com/pika/pika/blob/v0.5/pika/connection.py#L359</A>
<A HREF="https://github.com/pika/pika/blob/v0.5/pika/connection.py#L411">https://github.com/pika/pika/blob/v0.5/pika/connection.py#L411</A>

Since introducing a heartbeat interval sent by the server of 600, this has
set a *maximum* heartbeat interval of 600 regardless of what the client
sets upon creation.

In reading the 0.9.1 spec, I did not see anything dictating any behavior of
this sort for heartbeat interval negotiation.

I'm inclined to allow the client to always overwrite the server, but since
this behavior both pre-dates my involvement and is clearly intentional, I
wanted to get some feedback before making the change.

I currently have an open ticket tied to this that I would like to resolve
before releasing 0.9.10: <A HREF="https://github.com/pika/pika/issues/303">https://github.com/pika/pika/issues/303</A>

So, any thoughts?

Gavin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130314/885b7865/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130314/885b7865/attachment.htm</A>&gt;
</PRE>














































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="026181.html">[rabbitmq-discuss] Confirm consistent hash exchange behavior
</A></li>
	<LI>Next message: <A HREF="025940.html">[rabbitmq-discuss] Pika connection negotiation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25936">[ date ]</a>
              <a href="thread.html#25936">[ thread ]</a>
              <a href="subject.html#25936">[ subject ]</a>
              <a href="author.html#25936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
