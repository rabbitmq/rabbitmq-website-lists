<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ memory management
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20memory%20management&In-Reply-To=6c2563b20809111546s20197294ude38ba9fbbfa95b1%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001458.html">
   <LINK REL="Next"  HREF="001461.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ memory management</H1>
    <B>Edwin Fine</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20memory%20management&In-Reply-To=6c2563b20809111546s20197294ude38ba9fbbfa95b1%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] RabbitMQ memory management">rabbitmq-discuss_efine at usa.net
       </A><BR>
    <I>Thu Sep 11 23:48:35 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001458.html">[rabbitmq-discuss] Newer version of the erlang emulator and	RabbitMQ
</A></li>
        <LI>Next message: <A HREF="001461.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1460">[ date ]</a>
              <a href="thread.html#1460">[ thread ]</a>
              <a href="subject.html#1460">[ subject ]</a>
              <a href="author.html#1460">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben,

I don't know if I am reading this discussion correctly, but I am using
RabbitMQ specifically in a store-and-forward context. It should be able to
store persistent messages until the disk fills up even if no consumer is
draining the queue. If it is going to die because memory fills up before
forwarding gets done, that's a show-stopper for me. I don't mean to beat you
over the head by comparing RabbitMQ to WebSphere MQ, but it doesn't fall
over in this scenario unless the disk fills up (or the max queue depth is
reached), and even then, it just refuses to take more messages. IMHO, this
is how any messaging and queuing system that supports persistent messages
should work.

Please tell me I am misunderstanding.

Regards,
Edwin


On Thu, Sep 11, 2008 at 10:11 AM, Ben Hood &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt; wrote:

&gt;<i> Eran,
</I>&gt;<i>
</I>&gt;<i> On Thu, Sep 11, 2008 at 2:34 PM, Eran Sandler &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">eran.sandler at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Just to be sure on the clustering side of things, when I cluster RabbitMQ
</I>&gt;<i> &gt; nodes they messages gets replicated to both servers, right?
</I>&gt;<i>
</I>&gt;<i> Nope.
</I>&gt;<i>
</I>&gt;<i> [This is now in the clustering section of the FAQs:
</I>&gt;<i> <A HREF="https://dev.rabbitmq.com/wiki/FrequentlyAskedQuestions#section_8]">https://dev.rabbitmq.com/wiki/FrequentlyAskedQuestions#section_8]</A>
</I>&gt;<i>
</I>&gt;<i> Although we *could* do this, we don't, because it's too expensive.
</I>&gt;<i> This would mean replicating every message across the the network in a
</I>&gt;<i> synchronous fashion. And not too many *really* need it, in the event
</I>&gt;<i> of a Rabbit node crashing, they just replay the log for that node.
</I>&gt;<i>
</I>&gt;<i> BBHoss started a discussion about this on IRC (look for the discusion
</I>&gt;<i> about HA and DR between BBHoss and hal):
</I>&gt;<i> <A HREF="http://dev.rabbitmq.com/irclog/index.php?date=2008-08-27">http://dev.rabbitmq.com/irclog/index.php?date=2008-08-27</A>
</I>&gt;<i>
</I>&gt;<i> Having said that, this may be a use case for pluggable queues, for the
</I>&gt;<i> avail-o-nados out there :-)
</I>&gt;<i>
</I>&gt;<i> Ben
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080911/ada4b33f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080911/ada4b33f/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001458.html">[rabbitmq-discuss] Newer version of the erlang emulator and	RabbitMQ
</A></li>
	<LI>Next message: <A HREF="001461.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1460">[ date ]</a>
              <a href="thread.html#1460">[ thread ]</a>
              <a href="subject.html#1460">[ subject ]</a>
              <a href="author.html#1460">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
