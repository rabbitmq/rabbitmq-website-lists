<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Durable queues persister file size
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Durable%20queues%20persister%20file%20size&In-Reply-To=48C7C251.3050807%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001421.html">
   <LINK REL="Next"  HREF="001410.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Durable queues persister file size</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Durable%20queues%20persister%20file%20size&In-Reply-To=48C7C251.3050807%40gmail.com"
       TITLE="[rabbitmq-discuss] Durable queues persister file size">tonyg at lshift.net
       </A><BR>
    <I>Wed Sep 10 16:28:19 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001421.html">[rabbitmq-discuss] Durable queues persister file size
</A></li>
        <LI>Next message: <A HREF="001410.html">[rabbitmq-discuss] Durable queue disappears
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1409">[ date ]</a>
              <a href="thread.html#1409">[ thread ]</a>
              <a href="subject.html#1409">[ subject ]</a>
              <a href="author.html#1409">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eran Sandler wrote:
&gt;<i> When I send an Ack message, the message should be deleted from the
</I>&gt;<i> rabbit_persister.log file, right?
</I>
Yes, but the way it's done is a bit tricky: the log file is append-only,
so what the system does is write a record to it noting the fact of the
arrival of the ack. When the file grows beyond a certain point, the
persister will &quot;garbage-collect&quot; the log and start a new log file, which
will contain only the remaining unacknowledged messages.

&gt;<i> Is there a required delete operation that I need to do?
</I>
Not unless you have a very limited amount of space, that is smaller than
the default limits on the persister log file size. In that case, you'll
have to tweak the source code to make the &quot;garbage-collector&quot; run more
often.

Regards,
  Tony
-- 
 [][][] Tony Garnock-Jones     | Mob: +44 (0)7905 974 211
   [][] LShift Ltd             | Tel: +44 (0)20 7729 7060
 []  [] <A HREF="http://www.lshift.net/">http://www.lshift.net/</A> | Email: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001421.html">[rabbitmq-discuss] Durable queues persister file size
</A></li>
	<LI>Next message: <A HREF="001410.html">[rabbitmq-discuss] Durable queue disappears
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1409">[ date ]</a>
              <a href="thread.html#1409">[ thread ]</a>
              <a href="subject.html#1409">[ subject ]</a>
              <a href="author.html#1409">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
