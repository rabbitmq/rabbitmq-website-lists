<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Stomp frame not terminated with null	character
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Stomp%20frame%20not%20terminated%20with%20null%0A%09character&In-Reply-To=48D2A3C4.1040605%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001529.html">
   <LINK REL="Next"  HREF="001532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Stomp frame not terminated with null	character</H1>
    <B>Jonatan Kallus</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Stomp%20frame%20not%20terminated%20with%20null%0A%09character&In-Reply-To=48D2A3C4.1040605%40lshift.net"
       TITLE="[rabbitmq-discuss] Stomp frame not terminated with null	character">jonatan at heysan.com
       </A><BR>
    <I>Thu Sep 18 20:32:46 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001529.html">[rabbitmq-discuss] Stomp frame not terminated with null	character
</A></li>
        <LI>Next message: <A HREF="001532.html">[rabbitmq-discuss] Stomp frame not terminated with null	character
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1531">[ date ]</a>
              <a href="thread.html#1531">[ thread ]</a>
              <a href="subject.html#1531">[ subject ]</a>
              <a href="author.html#1531">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Sep 18, 2008 at 11:53 AM, Tony Garnock-Jones &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>&gt;wrote:

&gt;<i> Aha!
</I>&gt;<i>
</I>&gt;<i> Jonatan Kallus wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>         $read = fgets($this-&gt;_socket, $rb);
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> fgets() reads lines. Maybe try a plain old read? You'll need to buffer
</I>&gt;<i> things between calls to readFrame, I guess.
</I>&gt;<i>
</I>
The difference between fgets and fread in this case is how it decides how
big chunks to read at a time. fgets does not drop the characters that makes
it stop reading, afaik. Newlines and alike is returned as well. Also, the
nulls from other MQs seem to work with fgets. Thanks for your answers
though! I will try to make it work once again later. For now I'll just use
my own implementation that only connects and sends, and fails on any
unexpected answers. That's all I'll need.

&gt;<i>
</I>&gt;<i> Tony
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080918/3283fc4c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080918/3283fc4c/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001529.html">[rabbitmq-discuss] Stomp frame not terminated with null	character
</A></li>
	<LI>Next message: <A HREF="001532.html">[rabbitmq-discuss] Stomp frame not terminated with null	character
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1531">[ date ]</a>
              <a href="thread.html#1531">[ thread ]</a>
              <a href="subject.html#1531">[ subject ]</a>
              <a href="author.html#1531">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
