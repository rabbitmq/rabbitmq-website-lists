<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20performance&In-Reply-To=48BBF87A.4060102%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001291.html">
   <LINK REL="Next"  HREF="001307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] performance</H1>
    <B>Martin Sustrik</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20performance&In-Reply-To=48BBF87A.4060102%40lshift.net"
       TITLE="[rabbitmq-discuss] performance">sustrik at imatix.com
       </A><BR>
    <I>Mon Sep  1 21:09:47 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001291.html">[rabbitmq-discuss] performance
</A></li>
        <LI>Next message: <A HREF="001307.html">[rabbitmq-discuss] performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1298">[ date ]</a>
              <a href="thread.html#1298">[ thread ]</a>
              <a href="subject.html#1298">[ subject ]</a>
              <a href="author.html#1298">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Just few hints:

1. Measuring maximal throughput is tricky for various reasons, queueing 
being only one of them. There are statistical and methodological 
problems like hidden average, non-stability of the metric etc. However, 
simple way to get *some* results is to run the tests with publisher 
publishing messages at various rates. Maximal rate where latency doesn't 
increase ad infinitum can be considered &quot;maximal throughput&quot;.

2. 380,000 256-byte messages a second is a nice result, however, it 
doesn't tell much about the messaging system. It simply means that the 
system is able to exhaust 1GbE with messages 256 bytes long. To get more 
interesting results, test should be run with smaller messages 
(preferably 0 or 1 bytes long) where processing power will be the 
bottleneck rather than the networking infrastructure.

HTH.
Martin

Matthias Radestock wrote:
&gt;<i> Michael,
</I>&gt;<i> 
</I>&gt;<i> Mayne, Michael wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Red has produced a paper recently (June 2008) explaining its performance
</I>&gt;&gt;<i> testing lab that it did recently to show how optimised Red Hat on Intel
</I>&gt;&gt;<i> Xeon hardware can process very high message rates:
</I>&gt;&gt;<i> <A HREF="http://www.redhat.com/f/pdf/mrg/Reference_Architecture_MRG_Messaging_Thr">http://www.redhat.com/f/pdf/mrg/Reference_Architecture_MRG_Messaging_Thr</A>
</I>&gt;&gt;<i> oughput.pdf 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This paper was presented at an Intel FasterCITY - fasterMESSAGING event
</I>&gt;&gt;<i> in London on 23 June.
</I>&gt;&gt;<i> <A HREF="http://www.intelfasterfs.com/fastermessaging/">http://www.intelfasterfs.com/fastermessaging/</A> 
</I>&gt;&gt;<i> It contains a description of the test bench it used to generate its
</I>&gt;&gt;<i> figures - which were a repeatable ingress rate of 380,000 (256 byte)
</I>&gt;&gt;<i> messages per second. There is obviously a lot more to it - see the paper
</I>&gt;&gt;<i> for details.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That could be a starter for ten.
</I>&gt;<i> 
</I>&gt;<i> I am familiar with that report. The tests conducted are pretty similar 
</I>&gt;<i> to the ones we did with Intel last year and earlier this year (see 
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/resources/AMQP_Solution_Brief_final.pdf">http://www.rabbitmq.com/resources/AMQP_Solution_Brief_final.pdf</A>).
</I>&gt;<i> 
</I>&gt;<i> Unfortunately the test setup - &quot;producers reliably en-queues messages 
</I>&gt;<i> onto the broker as fast as they can, consumers reliably de-queue 
</I>&gt;<i> messages from the broker as fast as they can&quot; - isn't addressing the key 
</I>&gt;<i> problem I described, namely controlling and adapting the ingress rate in 
</I>&gt;<i> order to maximise throughput.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Matthias.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001291.html">[rabbitmq-discuss] performance
</A></li>
	<LI>Next message: <A HREF="001307.html">[rabbitmq-discuss] performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1298">[ date ]</a>
              <a href="thread.html#1298">[ thread ]</a>
              <a href="subject.html#1298">[ subject ]</a>
              <a href="author.html#1298">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
