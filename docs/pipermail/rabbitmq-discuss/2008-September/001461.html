<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ memory management
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20memory%20management&In-Reply-To=6c2563b20809111546s20197294ude38ba9fbbfa95b1%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001460.html">
   <LINK REL="Next"  HREF="001462.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ memory management</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20memory%20management&In-Reply-To=6c2563b20809111546s20197294ude38ba9fbbfa95b1%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] RabbitMQ memory management">0x6e6562 at gmail.com
       </A><BR>
    <I>Fri Sep 12 00:59:27 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001460.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
        <LI>Next message: <A HREF="001462.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1461">[ date ]</a>
              <a href="thread.html#1461">[ thread ]</a>
              <a href="subject.html#1461">[ subject ]</a>
              <a href="author.html#1461">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Edwin,

On Thu, Sep 11, 2008 at 11:46 PM, Edwin Fine &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emofine at gmail.com</A>&gt; wrote:
&gt;<i> I don't know if I am reading this discussion correctly, but I am using
</I>&gt;<i> RabbitMQ specifically in a store-and-forward context. It should be able to
</I>&gt;<i> store persistent messages until the disk fills up even if no consumer is
</I>&gt;<i> draining the queue. If it is going to die because memory fills up before
</I>&gt;<i> forwarding gets done, that's a show-stopper for me. I don't mean to beat you
</I>&gt;<i> over the head by comparing RabbitMQ to WebSphere MQ, but it doesn't fall
</I>&gt;<i> over in this scenario unless the disk fills up (or the max queue depth is
</I>&gt;<i> reached), and even then, it just refuses to take more messages. IMHO, this
</I>&gt;<i> is how any messaging and queuing system that supports persistent messages
</I>&gt;<i> should work.
</I>&gt;<i>
</I>&gt;<i> Please tell me I am misunderstanding.
</I>
No, you've understood it correctly. If you send enough non-persistent
messages, eventually the queues will fill up, the broker will crash
and you will lose all of the messages that you sent to that node. ATM
Rabbit does not actively refuse to accept a message based on any
system resource usage. The most it will do is to not acknowledge the
receipt of a message that it cannot accept the responsibility of
requeueing should a crash occur.

It is perfectly legitimate to compare Rabbit to MQ Series - maybe you
can elaborate on the conditions and constraints under which MQ Series
implements the behaviour you expect. Are you talking about
non-transactional transient messages, transactional transient
messages, non-transactional persistent messages or transactional
persistent messages?

Furthermore, I would recommend due diligence to anybody evaluating
Rabbit - or any piece of software for that matter - make sure you test
the real hard requirements your application has.

Remember, we're not trying to sell you something, so if Rabbit doesn't
meet your needs, ask us, and we will give you an honest opinion of the
limitations of the system, even if it means you using something else.

Then you have the option of leaving it for something else, or
improving it to suit your requirements.

HTH,

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001460.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
	<LI>Next message: <A HREF="001462.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1461">[ date ]</a>
              <a href="thread.html#1461">[ thread ]</a>
              <a href="subject.html#1461">[ subject ]</a>
              <a href="author.html#1461">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
