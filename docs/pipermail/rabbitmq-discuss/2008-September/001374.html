<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [BUG] Erlang RabbitMQ client requires	installed server code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BBUG%5D%20Erlang%20RabbitMQ%20client%20requires%0A%09installed%20server%20code&In-Reply-To=269388e30809071624l18c8e87fk41f0dcc24fe34116%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001372.html">
   <LINK REL="Next"  HREF="001365.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [BUG] Erlang RabbitMQ client requires	installed server code</H1>
    <B>Edwin Fine</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BBUG%5D%20Erlang%20RabbitMQ%20client%20requires%0A%09installed%20server%20code&In-Reply-To=269388e30809071624l18c8e87fk41f0dcc24fe34116%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] [BUG] Erlang RabbitMQ client requires	installed server code">rabbitmq-discuss_efine at usa.net
       </A><BR>
    <I>Mon Sep  8 00:43:30 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001372.html">[rabbitmq-discuss] [BUG] Erlang RabbitMQ client requires	installed server code
</A></li>
        <LI>Next message: <A HREF="001365.html">[rabbitmq-discuss] [BUG] Erlang RabbitMQ client requires	installed server code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1374">[ date ]</a>
              <a href="thread.html#1374">[ thread ]</a>
              <a href="subject.html#1374">[ subject ]</a>
              <a href="author.html#1374">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Sep 7, 2008 at 7:24 PM, Ben Hood &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt; wrote:

&gt;<i> Edwin,
</I>&gt;<i>
</I>&gt;<i> On Sun, Sep 7, 2008 at 11:07 PM, Edwin Fine
</I>&gt;<i> &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss_efine at usa.net</A>&gt; wrote:
</I>&gt;<i> &gt; Maybe we can meet halfway. I didn't really want to get into
</I>&gt;<i> rearchitecting
</I>&gt;<i> &gt; the RabbitMQ module structure (well, I wish I could, but I don't have
</I>&gt;<i> time.
</I>&gt;<i> &gt; The mortgage payment beckons and all that incidental stuff).
</I>&gt;<i>
</I>&gt;<i> Sure. I don't think myself or Matthias thought that you would be able
</I>&gt;<i> to go this far, because it is difficult enough for ourselves to do
</I>&gt;<i> this.
</I>&gt;<i>
</I>
Ok.


&gt;<i>
</I>&gt;<i> The main thing for us is that there is some active participation in
</I>&gt;<i> the community which provides feedback about what is needed.
</I>&gt;<i>
</I>
Well, since you asked ;-) ...  My understanding is that OTP standards are
for the .app file to have the same name as the application behaviour
callback and the directory in which it is situated. For example, the OTP
compiler application is in the compiler directory, and under ebin, there is
compiler.app, and under src there is compiler.erl.

With RabbitMQ, the app config file is named rabbit.app, the app itself is
rabbit.erl, but the directory is named rabbitmq_server. This is
inconsistent. Now before you call me nitpicky, there is a practical issue
behind this. The client that is written uses things like
-include_lib(&quot;rabbitmq_server/include/rabbit.hrl&quot;). This forces the server
code to stay in a directory named rabbitmq_server, because this is what
allows the includes to work via code:lib_dir(). The problem is that because
the app is named rabbit, automated dependency tools like Sinan have trouble
with the inconsistency.

Could you either rename the app to rabbitmq_server, or change all references
(and the dir name) to rabbit?


&gt;<i> Let us know if you need any help in reaching your short term goal.
</I>&gt;<i>
</I>
Well, right now I have fudged what's needed to get going, but I the above
changes would be most appreciated if at all possible.


&gt;<i> Ben
</I>

Regards,
Ed
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080907/e25c816c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080907/e25c816c/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001372.html">[rabbitmq-discuss] [BUG] Erlang RabbitMQ client requires	installed server code
</A></li>
	<LI>Next message: <A HREF="001365.html">[rabbitmq-discuss] [BUG] Erlang RabbitMQ client requires	installed server code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1374">[ date ]</a>
              <a href="thread.html#1374">[ thread ]</a>
              <a href="subject.html#1374">[ subject ]</a>
              <a href="author.html#1374">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
