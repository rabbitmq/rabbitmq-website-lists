<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] durable exclusive queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20durable%20exclusive%20queues&In-Reply-To=48C35130.4080906%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001357.html">
   <LINK REL="Next"  HREF="001350.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] durable exclusive queues</H1>
    <B>Gordon Sim</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20durable%20exclusive%20queues&In-Reply-To=48C35130.4080906%40lshift.net"
       TITLE="[rabbitmq-discuss] durable exclusive queues">gsim at redhat.com
       </A><BR>
    <I>Mon Sep  8 07:18:28 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001357.html">[rabbitmq-discuss] durable exclusive queues
</A></li>
        <LI>Next message: <A HREF="001350.html">[rabbitmq-discuss] Creating Queues and Exchanges on the Fly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1384">[ date ]</a>
              <a href="thread.html#1384">[ thread ]</a>
              <a href="subject.html#1384">[ subject ]</a>
              <a href="author.html#1384">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias Radestock wrote:
&gt;<i> Aman Gupta wrote:
</I>&gt;&gt;<i> Is it possible to simulate this exclusive behavior?  I can do a passive
</I>&gt;&gt;<i> declare and look at the consumer count in the declare-ok, but that will 
</I>&gt;&gt;<i> introduce race conditions without a central lock.
</I>&gt;<i> 
</I>&gt;<i> It is not clear from the above what exactly you are trying to simulate. 
</I>&gt;<i> Durable exclusive queues? As I explained, that doesn't make sense.
</I>&gt;<i> 
</I>&gt;<i>  From your description though it appears that perhaps you want queues 
</I>&gt;<i> that are exclusive to one connection *at a time*, i.e. they can be 
</I>&gt;<i> &quot;acquired&quot; by different connections over their lifetime. And such queues 
</I>&gt;<i> could of course then sensibly be made durable.
</I>&gt;<i> 
</I>&gt;<i> If so, then one way to implement that is to have a secondary queue that 
</I>&gt;<i> holds a token. Connections that want to use the &quot;shared exclusive queue&quot; 
</I>&gt;<i> subscribe to the token queue. When they receive the token they know they 
</I>&gt;<i> have exclusive access. To relinquish access they publish the token back 
</I>&gt;<i> to the token queue, where it can be consumed by another connection.
</I>
The 'exclusive' field on the 'basic.consume' method allows consumers to 
request exclusive access to a queue; if someone else is already 
accessing it they are informed through an error condition. This at least 
allows the application to detect and rely on the fact that only one 
client can consume at a time.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001357.html">[rabbitmq-discuss] durable exclusive queues
</A></li>
	<LI>Next message: <A HREF="001350.html">[rabbitmq-discuss] Creating Queues and Exchanges on the Fly
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1384">[ date ]</a>
              <a href="thread.html#1384">[ thread ]</a>
              <a href="subject.html#1384">[ subject ]</a>
              <a href="author.html#1384">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
