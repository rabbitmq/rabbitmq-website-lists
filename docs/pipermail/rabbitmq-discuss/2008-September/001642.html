<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Too many processes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Too%20many%20processes&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001633.html">
   <LINK REL="Next"  HREF="001644.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Too many processes</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Too%20many%20processes&In-Reply-To="
       TITLE="[rabbitmq-discuss] Too many processes">0x6e6562 at gmail.com
       </A><BR>
    <I>Sat Sep 27 23:23:18 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001633.html">[rabbitmq-discuss] User Access Control
</A></li>
        <LI>Next message: <A HREF="001644.html">[rabbitmq-discuss] Too many processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1642">[ date ]</a>
              <a href="thread.html#1642">[ thread ]</a>
              <a href="subject.html#1642">[ subject ]</a>
              <a href="author.html#1642">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello list,

Recently, a user reported to me personally a problem of having more
Rabbit than Sainsbury's (see point 104 in
<A HREF="http://linuxmafia.com/pub/humour/uk-us-translations">http://linuxmafia.com/pub/humour/uk-us-translations</A>).

The issue was that the system default maximum number of Erlang
processes was execeeded (see error log below).

By default, this is set to 32767, which, when you start many channels
in Rabbit, will eventually be exceeded.

The solution is to set the maximum with the +P flag to the Erlang runtime.

I've turned this into a FAQ here:
<A HREF="https://dev.rabbitmq.com/wiki/FrequentlyAskedQuestions#section_10">https://dev.rabbitmq.com/wiki/FrequentlyAskedQuestions#section_10</A>

HTH,

Ben

---------- Forwarded message ----------
From: Roger Rabbit &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dev_null at rabbitmq.com</A>&gt;
Date: Fri, Sep 26, 2008 at 1:10 AM
Subject: errors
To: Ben Hood &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt;


Started seeing a few errors since we switched to using one channel per consumer:

=ERROR REPORT==== 25-Sep-2008::18:31:43 ===
Too many processes

=ERROR REPORT==== 25-Sep-2008::18:31:44 ===
Error in process &lt;0.6075.24&gt; on node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at XXX</A>' with exit
value: {system_limit,[{erlang,spawn_link,[erlang,apply,[#Fun&lt;buffe
ring_proxy.0.93458386&gt;,[]]]},{erlang,spawn_link,1},{rabbit_framing_channel,'-start_link/2-fun-0-',2}]}

=ERROR REPORT==== 25-Sep-2008::18:31:45 ===
connection &lt;0.6414.22&gt; (running), channel 1129 - error:
{system_limit,[{erlang,spawn_link,
                      [erlang,apply,[#Fun&lt;buffering_proxy.0.93458386&gt;,[]]]},
              {erlang,spawn_link,1},
              {rabbit_framing_channel,'-start_link/2-fun-0-',2}]}

=WARNING REPORT==== 25-Sep-2008::18:31:46 ===
Non-AMQP exit reason '{system_limit,
                         [{erlang,spawn_link,
                              [erlang,apply,
                               [#Fun&lt;buffering_proxy.0.93458386&gt;,[]]]},
                          {erlang,spawn_link,1},
                          {rabbit_framing_channel,'-start_link/2-fun-0-',2}]}'


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001633.html">[rabbitmq-discuss] User Access Control
</A></li>
	<LI>Next message: <A HREF="001644.html">[rabbitmq-discuss] Too many processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1642">[ date ]</a>
              <a href="thread.html#1642">[ thread ]</a>
              <a href="subject.html#1642">[ subject ]</a>
              <a href="author.html#1642">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
