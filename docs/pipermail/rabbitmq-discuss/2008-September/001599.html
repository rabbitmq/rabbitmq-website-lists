<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Publish won't work without transaction?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Publish%20won%27t%20work%20without%20transaction%3F&In-Reply-To=269388e30809231718x3bf0ed2cp852b0e3fee120f93%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001612.html">
   <LINK REL="Next"  HREF="001573.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Publish won't work without transaction?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Publish%20won%27t%20work%20without%20transaction%3F&In-Reply-To=269388e30809231718x3bf0ed2cp852b0e3fee120f93%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Publish won't work without transaction?">matthias at lshift.net
       </A><BR>
    <I>Wed Sep 24 05:29:45 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001612.html">[rabbitmq-discuss] Publish won't work without transaction?
</A></li>
        <LI>Next message: <A HREF="001573.html">[rabbitmq-discuss] [Minimum Air Induction] Introducing Shovel:	An AMQP Relay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1599">[ date ]</a>
              <a href="thread.html#1599">[ thread ]</a>
              <a href="subject.html#1599">[ subject ]</a>
              <a href="author.html#1599">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben Hood wrote:
&gt;<i> We want pluggable queues for a variety of use cases, and one
</I>&gt;<i> particular one is to be able to cleanly implement disk overflow
</I>&gt;<i> without hacking too much on the core of Rabbit. We try to reduce the
</I>&gt;<i> server codebase to a minimum.
</I>
Our queue implementation constitutes a substantial part of the current 
code base, which is not surprising really, given that we are 
implementing the Advanced Message *Queueing* Protocol.

There is quite a lot of functionality a fully-functioning AMQP queue 
needs to implement, and a lot of fiddly details to get right.

So while pluggable queues will allow one to implement different queue 
behaviours without having to hack on the server code base, they by no 
means make that task easy.

And for most of the &quot;pluggable queues will fix this&quot; items we have 
discussed so far, pluggable queues are actually only a small part of the 
answer. That's because in most cases we are talking about tweaks to some 
aspects of queue behaviour, with the rest remaining the same. How would 
one accomplish this with pluggability alone? Write all the current 
behaviour from scratch? Not good. Copy&amp;paste the current implementation 
(after it's been changed to conform to the plugin interface), and then 
modify it? That's bad too.

The proper way to do this would be to refactor the queue implementation 
such that it becomes more modular *internally*. The end result would be 
a set of building blocks allowing one to construct a queue plugin. 
That's a lot of work though.


Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001612.html">[rabbitmq-discuss] Publish won't work without transaction?
</A></li>
	<LI>Next message: <A HREF="001573.html">[rabbitmq-discuss] [Minimum Air Induction] Introducing Shovel:	An AMQP Relay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1599">[ date ]</a>
              <a href="thread.html#1599">[ thread ]</a>
              <a href="subject.html#1599">[ subject ]</a>
              <a href="author.html#1599">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
