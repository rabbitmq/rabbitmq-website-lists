<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Gracefully shutting down rabbitmq
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Gracefully%20shutting%20down%20rabbitmq&In-Reply-To=FDF2B892-D051-4F22-A211-BA041021A062%40synergy-solutions.biz">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001353.html">
   <LINK REL="Next"  HREF="001310.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Gracefully shutting down rabbitmq</H1>
    <B>Aman Gupta</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Gracefully%20shutting%20down%20rabbitmq&In-Reply-To=FDF2B892-D051-4F22-A211-BA041021A062%40synergy-solutions.biz"
       TITLE="[rabbitmq-discuss] Gracefully shutting down rabbitmq">rabbitmq at tmm1.net
       </A><BR>
    <I>Mon Sep  1 22:44:04 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001353.html">[rabbitmq-discuss] Gracefully shutting down rabbitmq
</A></li>
        <LI>Next message: <A HREF="001310.html">[rabbitmq-discuss] Gracefully shutting down rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1306">[ date ]</a>
              <a href="thread.html#1306">[ thread ]</a>
              <a href="subject.html#1306">[ subject ]</a>
              <a href="author.html#1306">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The error was being thrown by the original rabbitmq daemon, not the
controller erlang process. The controller process exited cleanly.. the
rabbitmq daemon received the halt signal and then proceeded to throw that
duplicate name error.
  Aman

On Mon, Sep 1, 2008 at 1:34 PM, Preston Marshall &lt;
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">preston at synergy-solutions.biz</A>&gt; wrote:

&gt;<i> Aman, the error you were originally recieving was thrown because you were
</I>&gt;<i> starting the &quot;controller&quot; as the same name as something that was running.
</I>&gt;<i>  You either need to connect to the remote shell and run
</I>&gt;<i> application:stop(rabbit). or run the command that Ben just posted.  You can
</I>&gt;<i> also use toolbar:start(). to start a toolbar using X11 that will allow you
</I>&gt;<i> to monitor and control nodes.  Good luck!
</I>&gt;<i> On Sep 1, 2008, at 3:29 PM, Aman Gupta wrote:
</I>&gt;<i>
</I>&gt;<i> $ uname -a
</I>&gt;<i> Linux cf 2.6.26.3 #1 SMP Wed Aug 27 00:44:10 PDT 2008 x86_64 Intel(R)
</I>&gt;<i> Xeon(R) CPU X3220 @ 2.40GHz GenuineIntel GNU/Linux
</I>&gt;<i>
</I>&gt;<i> $ erl -v
</I>&gt;<i> Erlang (BEAM) emulator version 5.6.3 [source] [64-bit] [smp:4]
</I>&gt;<i> [async-threads:0] [hipe] [kernel-poll:false]
</I>&gt;<i>
</I>&gt;<i>   Aman
</I>&gt;<i> On Mon, Sep 1, 2008 at 1:25 PM, Ben Hood &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Aman,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Mon, Sep 1, 2008 at 9:07 PM, Ben Hood &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; I'll try to replicate your problem running the same command as you did.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've just tried to reproduce this error using the following:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> $ erl -sname rabbitmq_controller -noinput -s rabbit_control -extra -n
</I>&gt;&gt;<i> rabbit stop
</I>&gt;&gt;<i> Stopping and halting node <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at xlr8</A> ...done.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> and it works perfectly :-(
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So, I'm wondering what could be going on in your setup.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can you tell us more about the OTP version your kernel, distro, etc?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ben
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080901/83f2ffc5/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080901/83f2ffc5/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001353.html">[rabbitmq-discuss] Gracefully shutting down rabbitmq
</A></li>
	<LI>Next message: <A HREF="001310.html">[rabbitmq-discuss] Gracefully shutting down rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1306">[ date ]</a>
              <a href="thread.html#1306">[ thread ]</a>
              <a href="subject.html#1306">[ subject ]</a>
              <a href="author.html#1306">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
