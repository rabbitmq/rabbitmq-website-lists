<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ memory management
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20memory%20management&In-Reply-To=48C914C4.7050004%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001437.html">
   <LINK REL="Next"  HREF="001435.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ memory management</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20memory%20management&In-Reply-To=48C914C4.7050004%40gmail.com"
       TITLE="[rabbitmq-discuss] RabbitMQ memory management">0x6e6562 at gmail.com
       </A><BR>
    <I>Thu Sep 11 14:02:53 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001437.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
        <LI>Next message: <A HREF="001435.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1442">[ date ]</a>
              <a href="thread.html#1442">[ thread ]</a>
              <a href="subject.html#1442">[ subject ]</a>
              <a href="author.html#1442">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eran,

On Thu, Sep 11, 2008 at 1:53 PM, Eran Sandler &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">eran.sandler at gmail.com</A>&gt; wrote:
&gt;<i> I prefer not to lose these messages, hence the durable queue, but I can
</I>&gt;<i> recover from not getting them.
</I>
OK, then you have a choice :-) You can use Rabbit in resource hungry
way, which is fine or you can manage by exception and recover from
where ever the data came from. The choice is an architecture decision,
so there is no right or wrong way.

&gt;<i> The behavior I would expect, such as flowing back to the disk is to flush
</I>&gt;<i> them to the disk and only keep a small portion in-memory, when &quot;the cows
</I>&gt;<i> come home&quot; (or more exactly, the cowboy comes back and pushes the cows to
</I>&gt;<i> their rightful place) it will start reading from the disk chunk by chunk
</I>&gt;<i> until it reaches a point where all the backlog finished and from there it
</I>&gt;<i> will go back to work as it was before.
</I>&gt;<i>
</I>&gt;<i> Having that combined with a key that says when we should start throwing
</I>&gt;<i> things directly to the disk without keeping them in memory (or without
</I>&gt;<i> keeping them in memory too much) as well as a max queue length (depth,
</I>&gt;<i> depends on where you look at it) would be really great.
</I>
Sounds reasonable, so let's hope your disk doesn't fill up :-)

&gt;<i> Having the ability to write a queue plugin would be really great. There is
</I>&gt;<i> always that 20% that requires a certain behavior that is not off the shelf
</I>
Sure, and if we had pluggable queues, this kind of requirement could
be tackled without having to hack on the server.

Code and/or design suggestions are welcome :-)

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001437.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
	<LI>Next message: <A HREF="001435.html">[rabbitmq-discuss] RabbitMQ memory management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1442">[ date ]</a>
              <a href="thread.html#1442">[ thread ]</a>
              <a href="subject.html#1442">[ subject ]</a>
              <a href="author.html#1442">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
