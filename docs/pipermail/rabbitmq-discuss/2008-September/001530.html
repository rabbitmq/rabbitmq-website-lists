<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Question about initial cluster connect	&amp;	client-side cluster awareness
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Question%20about%20initial%20cluster%0A%20connect%09%26%09client-side%20cluster%20awareness&In-Reply-To=48D286F1.7010400%40cohesiveft.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001520.html">
   <LINK REL="Next"  HREF="001534.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Question about initial cluster connect	&amp;	client-side cluster awareness</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Question%20about%20initial%20cluster%0A%20connect%09%26%09client-side%20cluster%20awareness&In-Reply-To=48D286F1.7010400%40cohesiveft.com"
       TITLE="[rabbitmq-discuss] Question about initial cluster connect	&amp;	client-side cluster awareness">matthias at lshift.net
       </A><BR>
    <I>Thu Sep 18 20:08:30 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001520.html">[rabbitmq-discuss] Question about initial cluster connect &amp;	client-side cluster awareness
</A></li>
        <LI>Next message: <A HREF="001534.html">[rabbitmq-discuss] txAMQP Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1530">[ date ]</a>
              <a href="thread.html#1530">[ thread ]</a>
              <a href="subject.html#1530">[ subject ]</a>
              <a href="author.html#1530">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dmitriy,

Dmitriy Samovskiy wrote:
&gt;<i> All in all, I personally found the best approach is not to rely on known_hosts at all, and 
</I>&gt;<i> tell each client (individually or as a group) IP addresses how they can connect to rabbit. 
</I>&gt;<i> I also found connection.redirect response to be useless in this scenario, so I always set 
</I>&gt;<i> insist to true when opening a connection. For load balancing, I use tcp level things like 
</I>&gt;<i> haproxy instead of AMQP-level techniques. My clients each implement reconnect logic 
</I>&gt;<i> individually.
</I>
Makes sense.

&gt;<i> Please note that known_hosts issues I described above are not specific to RabbitMQ. This 
</I>&gt;<i> is just the way AMQP (0-8 at least) is - it provides means for cluster node discovery 
</I>&gt;<i> after initial bootstrap only if all your clients are in the same network address space and 
</I>&gt;<i> have access to the same name resolution services. AMQP experts - I would love to hear your 
</I>&gt;<i> opinion on this one.
</I>
The clustering support that is part of the AMQP 0-8/9 protocol is really 
rudimentary and underspecified. And the draft 0.91 spec removes it 
completely. RabbitMQ will continue to cluster, and, as you suggest 
above, the existing techniques and techniques to make that transparent 
to the client should work well.

Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001520.html">[rabbitmq-discuss] Question about initial cluster connect &amp;	client-side cluster awareness
</A></li>
	<LI>Next message: <A HREF="001534.html">[rabbitmq-discuss] txAMQP Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1530">[ date ]</a>
              <a href="thread.html#1530">[ thread ]</a>
              <a href="subject.html#1530">[ subject ]</a>
              <a href="author.html#1530">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
