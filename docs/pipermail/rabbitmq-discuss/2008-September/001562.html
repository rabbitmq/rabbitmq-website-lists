<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [Minimum Air Induction] Introducing Shovel:	An AMQP Relay
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BMinimum%20Air%20Induction%5D%20Introducing%20Shovel%3A%0A%09An%20AMQP%20Relay&In-Reply-To=48D552F5.1000505%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001561.html">
   <LINK REL="Next"  HREF="001563.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [Minimum Air Induction] Introducing Shovel:	An AMQP Relay</H1>
    <B>Valentino Volonghi</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BMinimum%20Air%20Induction%5D%20Introducing%20Shovel%3A%0A%09An%20AMQP%20Relay&In-Reply-To=48D552F5.1000505%40lshift.net"
       TITLE="[rabbitmq-discuss] [Minimum Air Induction] Introducing Shovel:	An AMQP Relay">dialtone at gmail.com
       </A><BR>
    <I>Sat Sep 20 21:41:29 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001561.html">[rabbitmq-discuss] [Minimum Air Induction] Introducing Shovel: An AMQP Relay
</A></li>
        <LI>Next message: <A HREF="001563.html">[rabbitmq-discuss] [Minimum Air Induction] Introducing Shovel: An	AMQP Relay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1562">[ date ]</a>
              <a href="thread.html#1562">[ thread ]</a>
              <a href="subject.html#1562">[ subject ]</a>
              <a href="author.html#1562">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1


On Sep 20, 2008, at 12:45 PM, Matthias Radestock wrote:

&gt;<i> Valentino Volonghi wrote:
</I>&gt;&gt;<i> Well, a transaction each 100-500 messages is basically as fast as  
</I>&gt;&gt;<i> no  transaction at
</I>&gt;&gt;<i> all with the difference that the connection is used in bursts  
</I>&gt;&gt;<i> rather  than continuously.
</I>&gt;<i>
</I>&gt;<i> Why would the connection be used in bursts?
</I>
This is what I saw on a test. I suppose that's because until the  
transaction is
committed shovel doesn't see messages coming and if the time between 2  
commits
is long enough to transmit the messages to the remote server then  
there we go and
the bandwidth usage drops until the next commit is done. In this case  
though you are
probably right and the internet wouldn't be fast enough so the usage  
shouldn't burst.

&gt;&gt;<i> 2. shovel reads up to 500 messages and starts a transaction with  
</I>&gt;&gt;<i> the  remote
</I>&gt;&gt;<i>     node sending all of them and committing the transaction.
</I>&gt;<i>
</I>&gt;<i> Why would you read 500 messages and *then* start a transaction? Just  
</I>&gt;<i> start the tx first, pass the messages through, and send a tx.commit  
</I>&gt;<i> every ~500.
</I>

Yes, the 'and' is a logic AND in that sentence, both those things are  
done at the
same time, while the transaction is open shovel reads and forwards.

- --
Valentino Volonghi aka Dialtone
Now running MacOS X 10.5
Home Page: <A HREF="http://www.twisted.it">http://www.twisted.it</A>
<A HREF="http://www.adroll.com">http://www.adroll.com</A>

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (Darwin)

iEYEARECAAYFAkjVX/kACgkQ9Llz28widGXrgQCfT8/2tV4z/tMgnWW8fgGesVOl
LAcAnR2O0YpjKbUO1yJ1+vpumtPS3pqO
=gL7m
-----END PGP SIGNATURE-----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001561.html">[rabbitmq-discuss] [Minimum Air Induction] Introducing Shovel: An AMQP Relay
</A></li>
	<LI>Next message: <A HREF="001563.html">[rabbitmq-discuss] [Minimum Air Induction] Introducing Shovel: An	AMQP Relay
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1562">[ date ]</a>
              <a href="thread.html#1562">[ thread ]</a>
              <a href="subject.html#1562">[ subject ]</a>
              <a href="author.html#1562">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
