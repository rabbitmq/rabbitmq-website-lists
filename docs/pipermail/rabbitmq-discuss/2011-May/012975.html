<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message to disk?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20to%20disk%3F&In-Reply-To=%3C20110524101842.GA10897%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012974.html">
   <LINK REL="Next"  HREF="012981.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message to disk?</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20to%20disk%3F&In-Reply-To=%3C20110524101842.GA10897%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Message to disk?">matthew at rabbitmq.com
       </A><BR>
    <I>Tue May 24 11:18:42 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012974.html">[rabbitmq-discuss] Message to disk?
</A></li>
        <LI>Next message: <A HREF="012981.html">[rabbitmq-discuss] On-Premise / Public RabbitMQ Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12975">[ date ]</a>
              <a href="thread.html#12975">[ thread ]</a>
              <a href="subject.html#12975">[ subject ]</a>
              <a href="author.html#12975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, May 24, 2011 at 05:57:51PM +0800, yaohui wrote:
&gt;<i> I found that there are files .rdq in dir msg_store_transient  even if below memory pressure.
</I>&gt;<i>  Do messages already be written to disk?
</I>&gt;<i>  These files means what&#65311;
</I>
If Rabbit only started to write messages to disk when it ran out of
memory then you'd promptly find Rabbit sitting there for some time
thrashing the disk, whilst nothing else could occur.

Consequently, Rabbit can decide to write messages out to disk fairly
early on to ensure that when, some time in the future, there is no RAM
left, Rabbit has already written to disk most of its messages to disk,
thus there is little to no interruption of service.

Of course, as discussed on this list recently, clients can easily
publish at such a rate as to rapidly overwhelm Rabbit: ultimately, if a
queue has no or few consumers that can operate at the rate at which
messages are being published then you will end up being bound by disk
bandwidth.

Anyway, the rdq files are some of the files in which Rabbit can store
messages.

Matthew
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012974.html">[rabbitmq-discuss] Message to disk?
</A></li>
	<LI>Next message: <A HREF="012981.html">[rabbitmq-discuss] On-Premise / Public RabbitMQ Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12975">[ date ]</a>
              <a href="thread.html#12975">[ thread ]</a>
              <a href="subject.html#12975">[ subject ]</a>
              <a href="author.html#12975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
