<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] mnesia tables
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20mnesia%20tables&In-Reply-To=%3CBANLkTink_LY0S1MzwZ-EqejyD%3DNFhfM2TA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012808.html">
   <LINK REL="Next"  HREF="012834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] mnesia tables</H1>
    <B>Alain Dazzi</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20mnesia%20tables&In-Reply-To=%3CBANLkTink_LY0S1MzwZ-EqejyD%3DNFhfM2TA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] mnesia tables">alain.dazzi at gmail.com
       </A><BR>
    <I>Wed May 11 16:08:14 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012808.html">[rabbitmq-discuss] mnesia tables
</A></li>
        <LI>Next message: <A HREF="012834.html">[rabbitmq-discuss] mnesia tables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12812">[ date ]</a>
              <a href="thread.html#12812">[ thread ]</a>
              <a href="subject.html#12812">[ subject ]</a>
              <a href="author.html#12812">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, May 11, 2011 at 5:15 AM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:

&gt;<i> Hi Alain,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 11/05/11 00:44, Alain Dazzi wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I was wondering if anyone had a procedure to connect to running
</I>&gt;&gt;<i> rabbitmq node and read/extract mnesia records using erlang. For the
</I>&gt;&gt;<i> lack of such tool, I use grep to try to find stuck messages in the
</I>&gt;&gt;<i> various queues (cd /var/lib/rabbitmq/mnesia/...node.../ and grep one
</I>&gt;&gt;<i> of the queues).
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The mnesia table layout could change in the future, so it would be
</I>&gt;<i> dangerous to rely on that. &quot;rabbitmqctl list_queues&quot; or the management &amp;
</I>&gt;<i> monitoring plugin is a better way of inspecting queues. Do you need
</I>&gt;<i> additional information not displayed by these tools?
</I>&gt;<i>
</I>&gt;<i> -Emile
</I>&gt;<i>
</I>
The monitoring plugin and rabbitmqctl utility are great tools! However those
tools only tell me that for instance n messages are in the queue (in a
certain state).  I am debugging a case where we have 4 messages (financial
transactions) that are stuck in the queue in un-Acked state. Without some
type of messageId or transactionID, I have to look directly at mnesia file
system and try to find my data. It would be nice to be able to dump the
records to analyse the data in the various queues (kind of a mysqldump that
would be legible).

Thanks!

-Alain
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110511/5a9665cd/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110511/5a9665cd/attachment-0001.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012808.html">[rabbitmq-discuss] mnesia tables
</A></li>
	<LI>Next message: <A HREF="012834.html">[rabbitmq-discuss] mnesia tables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12812">[ date ]</a>
              <a href="thread.html#12812">[ thread ]</a>
              <a href="subject.html#12812">[ subject ]</a>
              <a href="author.html#12812">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
