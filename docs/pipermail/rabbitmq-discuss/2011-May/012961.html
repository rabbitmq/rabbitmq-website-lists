<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] WCF Bindings do not honor config settings
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20WCF%20Bindings%20do%20not%20honor%20config%20settings&In-Reply-To=%3C91d22ca1-37e4-4057-acf2-b59580b606fb%40f9g2000vbz.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012985.html">
   <LINK REL="Next"  HREF="012963.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] WCF Bindings do not honor config settings</H1>
    <B>Dan B</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20WCF%20Bindings%20do%20not%20honor%20config%20settings&In-Reply-To=%3C91d22ca1-37e4-4057-acf2-b59580b606fb%40f9g2000vbz.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] WCF Bindings do not honor config settings">danbarua at gmail.com
       </A><BR>
    <I>Mon May 23 16:25:39 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012985.html">[rabbitmq-discuss] Dead Letter Channel?
</A></li>
        <LI>Next message: <A HREF="012963.html">[rabbitmq-discuss] WCF Bindings do not honor config settings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12961">[ date ]</a>
              <a href="thread.html#12961">[ thread ]</a>
              <a href="subject.html#12961">[ subject ]</a>
              <a href="author.html#12961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I've been playing around with the .Net client solution with a view to
using RabbitMQ with WCF.
I have changed my RabbitMQ username and password, so the WCF examples
explode because the ConnectionFactories are being initialized with the
default values.

To get the binding configuration values honoured, I changed lines
113-115 in RabbitMQBindingConfigurationElement.cs from

            rabbind.Transport.ConnectionFactory.Password =
this.Password;
            rabbind.Transport.ConnectionFactory.UserName =
this.Username;
            rabbind.Transport.ConnectionFactory.VirtualHost =
this.VirtualHost;

to
            rabbind.Transport.Password = this.Password;
            rabbind.Transport.Username = this.Username;
            rabbind.Transport.VirtualHost = this.VirtualHost;

So this now works where we have configured the endpoint to use non-
default settings for virtual host, username and password.

Moving onto trying to run the RabbitMQ.ServiceModel.Test project, to
see if we can set the config in code... similarly, setting the
hostname, port and protocol from app.config on the RabbitMQBinding has
no effect on the settings of the RabbitMQTransportBindingElement.
Username, password and virtual host properties on the
RabbitMQTransportBindingElementhave been marked as internal so can not
be modified from code.

Getting this to work requires a little more effort than modifying a
few lines - shall I just report this as a bug or may I submit a pull
request?

Regards,

Dan


</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012985.html">[rabbitmq-discuss] Dead Letter Channel?
</A></li>
	<LI>Next message: <A HREF="012963.html">[rabbitmq-discuss] WCF Bindings do not honor config settings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12961">[ date ]</a>
              <a href="thread.html#12961">[ thread ]</a>
              <a href="subject.html#12961">[ subject ]</a>
              <a href="author.html#12961">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
