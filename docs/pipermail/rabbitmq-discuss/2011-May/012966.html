<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ cluster w/ .Net client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20cluster%20w/%20.Net%20client&In-Reply-To=%3C8882CFE4FFAF3F4E8814F0E61F2919A309107833%40l360xch01.office.leads360.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012980.html">
   <LINK REL="Next"  HREF="012987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ cluster w/ .Net client</H1>
    <B>Yann Luppo</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20cluster%20w/%20.Net%20client&In-Reply-To=%3C8882CFE4FFAF3F4E8814F0E61F2919A309107833%40l360xch01.office.leads360.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ cluster w/ .Net client">yluppo at leads360.com
       </A><BR>
    <I>Mon May 23 20:15:35 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012980.html">[rabbitmq-discuss] WCF Bindings do not honor config settings
</A></li>
        <LI>Next message: <A HREF="012987.html">[rabbitmq-discuss] RabbitMQ cluster w/ .Net client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12966">[ date ]</a>
              <a href="thread.html#12966">[ thread ]</a>
              <a href="subject.html#12966">[ subject ]</a>
              <a href="author.html#12966">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I've read many posts and blogs at this point and I'm still not sure
about how to cluster correctly my 2 RabbitMQ nodes.

I've read the RabbitMQ clustering guide:
<A HREF="http://www.rabbitmq.com/clustering.html">http://www.rabbitmq.com/clustering.html</A>
&lt;<A HREF="http://www.rabbitmq.com/clustering.html">http://www.rabbitmq.com/clustering.html</A>&gt; 

I found out about a mysterious ClusterId in the API guide, with no
explanation on how to get that Id in the first place:
<A HREF="http://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v2.4.1/rabbitmq-">http://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v2.4.1/rabbitmq-</A>
dotnet-client-2.4.1-api-guide.pdf
&lt;<A HREF="http://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v2.4.1/rabbitmq">http://www.rabbitmq.com/releases/rabbitmq-dotnet-client/v2.4.1/rabbitmq</A>
-dotnet-client-2.4.1-api-guide.pdf&gt; 

Learned in that StackOverflow post that basically I'd need my clients to
be aware of each node in the cluster and code for failover scenario:
rabbitmq HA cluster
&lt;<A HREF="http://stackoverflow.com/questions/4140653/rabbitmq-ha-cluster">http://stackoverflow.com/questions/4140653/rabbitmq-ha-cluster</A>&gt; 

Now... The behavior I'd like to have is something a little more
transparent if possible. Where I would potentially use that &quot;ClusterId&quot;
on the client to make the consumer cluster aware and then hopefully the
library knows to randomly connect to either node to grab messages.

Granted I know a message can only be on one server at a time, so I'm
hoping for some round robin magic from the DotNet client library that
would also handle fail over situations.

What I was hoping also from a publisher perspective is that the exchange
would round robin distribute messages to the various nodes in the
cluster. The exchange would also be cluster aware and handle fail over
situations gracefully.

Basically I was hoping for the whole thing to scale without changing any
code or configuration on the publisher or consumer apps.

Now based on my readings it doesn't quite work like that... unless I
missed something. If my knowledge is up to date and I have to code all
that cluster aware business, then... why does RabbitMQ have a cluster
feature in the first place? How is it used?

Is there a way to have that kind of behavior out of RabbitMQ without
coding that much?

Thanks

Yann

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110523/c063afec/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110523/c063afec/attachment-0001.htm</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012980.html">[rabbitmq-discuss] WCF Bindings do not honor config settings
</A></li>
	<LI>Next message: <A HREF="012987.html">[rabbitmq-discuss] RabbitMQ cluster w/ .Net client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12966">[ date ]</a>
              <a href="thread.html#12966">[ thread ]</a>
              <a href="subject.html#12966">[ subject ]</a>
              <a href="author.html#12966">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
