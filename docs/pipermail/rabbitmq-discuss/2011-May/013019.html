<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Journaling for RabbitMQ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Journaling%20for%20RabbitMQ%3F&In-Reply-To=%3C4fce86cc-925e-4aa4-81f9-3fb5a4f31bb7%40jbrisbin.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013010.html">
   <LINK REL="Next"  HREF="013013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Journaling for RabbitMQ?</H1>
    <B>Jon Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Journaling%20for%20RabbitMQ%3F&In-Reply-To=%3C4fce86cc-925e-4aa4-81f9-3fb5a4f31bb7%40jbrisbin.local%3E"
       TITLE="[rabbitmq-discuss] Journaling for RabbitMQ?">jon at jbrisbin.com
       </A><BR>
    <I>Fri May 27 14:15:35 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013010.html">[rabbitmq-discuss] Journaling for RabbitMQ?
</A></li>
        <LI>Next message: <A HREF="013013.html">[rabbitmq-discuss] Journaling for RabbitMQ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13019">[ date ]</a>
              <a href="thread.html#13019">[ thread ]</a>
              <a href="subject.html#13019">[ subject ]</a>
              <a href="author.html#13019">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If by &quot;read&quot; you mean &quot;delivered to a client&quot;, then no, because exchanges don't do that sort of thing. Messages to consumers come from queues. 

But that sounds like something the client should be concerned with because, regardless of the state of messages in a queue in the broker, the client knows whether it's receiving messages or not. 

The admin client can happily report on any messages currently delivered to a queue. :) 

Thanks! 

Jon Brisbin 
http//jbrisbin.com 

----- Original Message -----

&gt;<i> From: &quot;Meredith Gregory&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lgreg.meredith at gmail.com</A>&gt;
</I>&gt;<i> To: &quot;Jon Brisbin&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jon at jbrisbin.com</A>&gt;
</I>&gt;<i> Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> Sent: Thursday, May 26, 2011 3:09:26 PM
</I>&gt;<i> Subject: Re: [rabbitmq-discuss] Journaling for RabbitMQ?
</I>
&gt;<i> Dear Jon,
</I>
&gt;<i> Thanks! Would that also log when a message was read?
</I>
&gt;<i> Best wishes,
</I>
&gt;<i> --greg
</I>
&gt;<i> On Thu, May 26, 2011 at 12:26 PM, Jon Brisbin &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jon at jbrisbin.com</A> &gt;
</I>&gt;<i> wrote:
</I>
&gt;<i> &gt; I suspect it would take about 30 minutes to create a special
</I>&gt;<i> &gt; journaled exchange type that simply logged every message that came
</I>&gt;<i> &gt; through to a log file. You'd need to use a custom exchange rather
</I>&gt;<i> &gt; than a built-in version. That being said, it would act just like a
</I>&gt;<i> &gt; built-in exchange type. But you probably wouldn't want to run
</I>&gt;<i> &gt; something like this in production anyway, right?
</I>&gt;<i> 
</I>
&gt;<i> &gt; Thanks!
</I>&gt;<i> 
</I>
&gt;<i> &gt; Jon Brisbin
</I>&gt;<i> 
</I>&gt;<i> &gt; http// jbrisbin.com
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; From: &quot;Meredith Gregory&quot; &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lgreg.meredith at gmail.com</A> &gt;
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; Sent: Thursday, May 26, 2011 1:55:20 PM
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; Subject: [rabbitmq-discuss] Journaling for RabbitMQ?
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; Dear Rabbitters,
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; i was working with a client recently and they asked whether
</I>&gt;<i> &gt; &gt; RabbitMQ
</I>&gt;<i> &gt; &gt; had a journaling feature. The client was used to working with
</I>&gt;<i> &gt; &gt; MSMQ
</I>&gt;<i> &gt; &gt; which has such a feature and allows them to get a view of queue
</I>&gt;<i> &gt; &gt; usage history, such as message deposited to queue, message read
</I>&gt;<i> &gt; &gt; from
</I>&gt;<i> &gt; &gt; queue, etc. The question came up in the context of debugging a
</I>&gt;<i> &gt; &gt; message processing code path where we couldn't readily tell
</I>&gt;<i> &gt; &gt; whether
</I>&gt;<i> &gt; &gt; the message had been deposited to the queue and was being nabbed
</I>&gt;<i> &gt; &gt; by
</I>&gt;<i> &gt; &gt; a dispatcher faster than we could see or whether the message was
</I>&gt;<i> &gt; &gt; never arriving at the queue at all. The client observed that with
</I>&gt;<i> &gt; &gt; a
</I>&gt;<i> &gt; &gt; journaling feature there would be no need to introduce more
</I>&gt;<i> &gt; &gt; debugging statements into application code. So, i'm passing their
</I>&gt;<i> &gt; &gt; question along to you.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; In this connection i will raise a point i've made before to this
</I>&gt;<i> &gt; &gt; community. With such a journaling log i can take off-the-shelf
</I>&gt;<i> &gt; &gt; tools
</I>&gt;<i> &gt; &gt; and probe message traces for correctness properties.
</I>&gt;<i> &gt; &gt; Specifically,
</I>&gt;<i> &gt; &gt; i
</I>&gt;<i> &gt; &gt; have already demonstrated with a little project called XTrace
</I>&gt;<i> &gt; &gt; that
</I>&gt;<i> &gt; &gt; with an xml-based message history format we can use schema
</I>&gt;<i> &gt; &gt; conformance to probe message trace for properties. The basic idea
</I>&gt;<i> &gt; &gt; is
</I>&gt;<i> &gt; &gt; to encode a property as a schema. The beauty of this approach is
</I>&gt;<i> &gt; &gt; that it is post facto and does not require a specific schema to
</I>&gt;<i> &gt; &gt; govern message trace history. Rather, an application programmer
</I>&gt;<i> &gt; &gt; devises schema to investigate the message trace history to look
</I>&gt;<i> &gt; &gt; for
</I>&gt;<i> &gt; &gt; conformance to protocol or validate a guess about where/how
</I>&gt;<i> &gt; &gt; things
</I>&gt;<i> &gt; &gt; might be going awry.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; i mention this latter point in connection with the client's
</I>&gt;<i> &gt; &gt; question
</I>&gt;<i> &gt; &gt; to amplify the argument for the feature. Their sense of the
</I>&gt;<i> &gt; &gt; separation of concerns and independent value for RabbitMQ is
</I>&gt;<i> &gt; &gt; right
</I>&gt;<i> &gt; &gt; on track and only the tip of the iceberg of what can be done.
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; Best wishes,
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; --greg
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; --
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; L.G. Meredith
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; Managing Partner
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; Biosimilarity LLC
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; 7329 39th Ave SW
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; Seattle, WA 98136
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; +1 206.650.3740
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; <A HREF="http://biosimilarity.blogspot.com">http://biosimilarity.blogspot.com</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> &gt; &gt; _______________________________________________
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> &gt; &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>
&gt;<i> --
</I>&gt;<i> L.G. Meredith
</I>&gt;<i> Managing Partner
</I>&gt;<i> Biosimilarity LLC
</I>&gt;<i> 7329 39th Ave SW
</I>&gt;<i> Seattle, WA 98136
</I>
&gt;<i> +1 206.650.3740
</I>
&gt;<i> <A HREF="http://biosimilarity.blogspot.com">http://biosimilarity.blogspot.com</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110527/0046e177/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110527/0046e177/attachment.htm</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013010.html">[rabbitmq-discuss] Journaling for RabbitMQ?
</A></li>
	<LI>Next message: <A HREF="013013.html">[rabbitmq-discuss] Journaling for RabbitMQ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13019">[ date ]</a>
              <a href="thread.html#13019">[ thread ]</a>
              <a href="subject.html#13019">[ subject ]</a>
              <a href="author.html#13019">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
