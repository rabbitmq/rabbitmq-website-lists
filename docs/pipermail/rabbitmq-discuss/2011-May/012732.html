<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cluster, shovel, how to accomplish this scenario?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%2C%20shovel%2C%0A%20how%20to%20accomplish%20this%20scenario%3F&In-Reply-To=%3C20023058.8137.1304893764093.JavaMail.geo-discussion-forums%40vbvc21%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012682.html">
   <LINK REL="Next"  HREF="012742.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cluster, shovel, how to accomplish this scenario?</H1>
    <B>Simone</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%2C%20shovel%2C%0A%20how%20to%20accomplish%20this%20scenario%3F&In-Reply-To=%3C20023058.8137.1304893764093.JavaMail.geo-discussion-forums%40vbvc21%3E"
       TITLE="[rabbitmq-discuss] Cluster, shovel, how to accomplish this scenario?">simone.busoli at gmail.com
       </A><BR>
    <I>Sun May  8 23:29:24 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012682.html">[rabbitmq-discuss] Cluster, shovel, how to accomplish this scenario?
</A></li>
        <LI>Next message: <A HREF="012742.html">[rabbitmq-discuss] Cluster, shovel,	how to accomplish this scenario?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12732">[ date ]</a>
              <a href="thread.html#12732">[ thread ]</a>
              <a href="subject.html#12732">[ subject ]</a>
              <a href="author.html#12732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, I managed to set up a shovel correctly. I have some doubts about the 
usage scenarios of this feature. Ideally I would like the shovel to be 
transparent to my application, but I realized that since you have to create 
a queue on one side and an exchange on the other side then these two make 
the applications built to use Rabbit somewhat aware of the shovel. 
With that I refer to the input queue of the shovel needding to be bound to 
an exchange, therefore the exchange has to exist and someone has to publish 
messages to it. The same holds true on the other side of the shovel, where 
clients need to bind to the shovel exchange.
All this makes sense and works great, but makes my application aware of the 
exchanges used by the shovel. 

Here's a scenario. My application has some publishers publishing to a topic 
exchange named X and some subscribers with their queues bound to that 
exchange. Setting up a shovel to have the same subscriber clients running on 
both sides of the shovel with no client code changes and no configuration 
changes except for the node url requires that the shovel needs to bind its 
input queue to exchange X and that an equal exchange X is created to the 
other end of the shovel so that clients on either side bind their queues 
their node's X exchange.

This makes the shovel mechanism somewhat aware of my application internals 
(the exchanges it uses) and requires that the same exchanges exist as soon 
as the nodes are started, thus moving (or worse, duplicating) their 
definition in the shovel configuration file. In addition it limits the 
flexibility as a new exchange creation which needs to be &quot;mirrored&quot; on the 
other node requires a change in the configuration of the shovel addin.

As said this works fine, but ideally I would like this mechanism to be 
transparent to the application. I read about the federation addin, which 
from a brief read seems to do exactly this. Any ideas or suggestions?

Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110508/b7e8660f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110508/b7e8660f/attachment.htm</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012682.html">[rabbitmq-discuss] Cluster, shovel, how to accomplish this scenario?
</A></li>
	<LI>Next message: <A HREF="012742.html">[rabbitmq-discuss] Cluster, shovel,	how to accomplish this scenario?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12732">[ date ]</a>
              <a href="thread.html#12732">[ thread ]</a>
              <a href="subject.html#12732">[ subject ]</a>
              <a href="author.html#12732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
