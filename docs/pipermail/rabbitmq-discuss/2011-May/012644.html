<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Pika and XML-RPC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pika%20and%20XML-RPC&In-Reply-To=%3C7D966D7E12D74C84B65C585035922261%40myyearbook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012634.html">
   <LINK REL="Next"  HREF="012635.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Pika and XML-RPC</H1>
    <B>Gavin M. Roy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pika%20and%20XML-RPC&In-Reply-To=%3C7D966D7E12D74C84B65C585035922261%40myyearbook.com%3E"
       TITLE="[rabbitmq-discuss] Pika and XML-RPC">gmr at myyearbook.com
       </A><BR>
    <I>Tue May  3 04:28:58 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012634.html">[rabbitmq-discuss] Pika and XML-RPC
</A></li>
        <LI>Next message: <A HREF="012635.html">[rabbitmq-discuss] difficulties with prefetch count
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12644">[ date ]</a>
              <a href="thread.html#12644">[ thread ]</a>
              <a href="subject.html#12644">[ subject ]</a>
              <a href="author.html#12644">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>That's a pretty odd error, in essence it is getting a frame it does not understand, which is missing the AMQP Class for the frame sent.

You can try and catch this in your app by handling the NotImplementedError exception for &quot;normal operation,&quot; as it appears that this is just a confirmation frame for something you're trying to do, declaring an exchange or queue.

Ideally, if you could get me more information, that'd be great. Please feel free to reply off list. What would help if you can edit line 220 of /home/denis/Tmp/Local/Python/pika-0.9.5/pika/frame.py and change it to raise NotImplementedError(frame), catching the exception and printing the repr of the frame. I could then use that data to try and figure out why you're not getting a valid AMQP Class when the frame is being decoded.

I've not used it with XML-RPC at all. If you want to send test code, I can see about putting it through its paces with that.

Gavin

On Monday, May 2, 2011 at 2:31 AM, Denis Conan wrote: 
&gt;<i> 
</I>&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> using Pika with XML-RPC (in separate threads) leads sometimes to the following 
</I>&gt;<i> exception when starting the process and the two threads. Is there a known issue 
</I>&gt;<i> for when mixing Pika and XML-RPC?
</I>&gt;<i> 
</I>&gt;<i> Process Process-1:
</I>&gt;<i> Traceback (most recent call last):
</I>&gt;<i>  File &quot;/usr/lib/python2.6/multiprocessing/process.py&quot;, line 232, in _bootstrap
</I>&gt;<i>  self.run()
</I>&gt;<i> File &quot;/home/denis/Tmp/Local/Python/pika-0.9.5/pika/channel.py&quot;, line 64, in 
</I>&gt;<i> deliver
</I>&gt;<i>  self.frame_dispatcher.process(frame)
</I>&gt;<i>  File &quot;/home/denis/Tmp/Local/Python/pika-0.9.5/pika/frame.py&quot;, line 202, in 
</I>&gt;<i> process
</I>&gt;<i>  self._handler(frame)
</I>&gt;<i>  File &quot;/home/denis/Tmp/Local/Python/pika-0.9.5/pika/frame.py&quot;, line 220, in 
</I>&gt;<i> _handle_method_frame
</I>&gt;<i>  raise NotImplementedError(frame.method.__class__)
</I>&gt;<i> NotImplementedError: &lt;class 'pika.spec.DeclareOk'&gt;
</I>&gt;<i> 
</I>&gt;<i> Denis
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110502/ee0d308f/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110502/ee0d308f/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012634.html">[rabbitmq-discuss] Pika and XML-RPC
</A></li>
	<LI>Next message: <A HREF="012635.html">[rabbitmq-discuss] difficulties with prefetch count
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12644">[ date ]</a>
              <a href="thread.html#12644">[ thread ]</a>
              <a href="subject.html#12644">[ subject ]</a>
              <a href="author.html#12644">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
