<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ shovel with SSL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20shovel%20with%20SSL&In-Reply-To=%3C4DDB8848.90106%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012968.html">
   <LINK REL="Next"  HREF="012969.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ shovel with SSL</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20shovel%20with%20SSL&In-Reply-To=%3C4DDB8848.90106%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ shovel with SSL">simon at rabbitmq.com
       </A><BR>
    <I>Tue May 24 11:28:24 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012968.html">[rabbitmq-discuss] RabbitMQ shovel with SSL
</A></li>
        <LI>Next message: <A HREF="012969.html">[rabbitmq-discuss] rabbitmq crash?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12976">[ date ]</a>
              <a href="thread.html#12976">[ thread ]</a>
              <a href="subject.html#12976">[ subject ]</a>
              <a href="author.html#12976">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 24/05/11 07:11, Mihir Mone wrote:
&gt;<i> I have a problem with configuring RabbitMQ shovel over SSL.
</I>&gt;<i>
</I>&gt;<i> On our internal network the exact same configuration works. But when I
</I>&gt;<i> try to connect from outside the office, I get &#8220;insufficient security&#8221;
</I>&gt;<i> errors !
</I>
Hi Mihir.

We haven't seen this error before. However, looking at the OTP source 
this appears to mean that client and server were unable to negotiate an 
acceptable cipher suite to use. The fact that it works from inside the 
office makes me wonder if you have some dubious proxy that is 
intercepting SSL connections and re-establishing them (with worse 
security?). I think you could provoke this error without a proxy by 
changing the 'ciphers' option in ssl_options to incomaptible settings at 
both ends, but I assume you're not doing that.

I'm afraid you need to get WireShark out to see what cipher suites are 
being offered by the client - we don't get to see what happens during 
negotiation. For reference, you can check the agreed suite after 
successful negotiation by adding the ssl_* columns to rabbitmqctl 
list_connections or looking at the management plugin connection details 
page.

Cheers, Simon

-- 
Simon MacMullen
Staff Engineer, RabbitMQ
SpringSource, a division of VMware

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012968.html">[rabbitmq-discuss] RabbitMQ shovel with SSL
</A></li>
	<LI>Next message: <A HREF="012969.html">[rabbitmq-discuss] rabbitmq crash?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12976">[ date ]</a>
              <a href="thread.html#12976">[ thread ]</a>
              <a href="subject.html#12976">[ subject ]</a>
              <a href="author.html#12976">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
