<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq crash?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20crash%3F&In-Reply-To=%3C4DDB5DC4.5060401%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012970.html">
   <LINK REL="Next"  HREF="012972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq crash?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20crash%3F&In-Reply-To=%3C4DDB5DC4.5060401%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq crash?">matthias at rabbitmq.com
       </A><BR>
    <I>Tue May 24 08:27:00 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012970.html">[rabbitmq-discuss] rabbitmq crash?
</A></li>
        <LI>Next message: <A HREF="012972.html">[rabbitmq-discuss] |Spam| Re:  rabbitmq crash?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12971">[ date ]</a>
              <a href="thread.html#12971">[ thread ]</a>
              <a href="subject.html#12971">[ subject ]</a>
              <a href="author.html#12971">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>yaohui wrote:
&gt;<i> RabbitMQ 2.4.0 / erlang  R14B
</I>&gt;<i> Java client rabbitmq-java-client-bin-2.4.0
</I>
Are these all running on the same machine? How much physical and virtual 
memory have you got configured on that machine? What memory limit does 
rabbit think it has? (check the rabbit.log near the beginning).

It looks like the broker owns about 1G of memory and is trying to 
allocate another gig. Could it be that some other applications 
(including the test client) are consuming the bulk of virtual memory? If 
so you need to configure rabbit with a lower memory threshold (see 
<A HREF="http://www.rabbitmq.com/extensions.html#memsup">http://www.rabbitmq.com/extensions.html#memsup</A>), setting it to about 
half of what is available for the broker to use after all the other 
applications running on the machine have been taken into account.

Regards,

Matthias
PS: please keep the list cc'ed.
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012970.html">[rabbitmq-discuss] rabbitmq crash?
</A></li>
	<LI>Next message: <A HREF="012972.html">[rabbitmq-discuss] |Spam| Re:  rabbitmq crash?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12971">[ date ]</a>
              <a href="thread.html#12971">[ thread ]</a>
              <a href="subject.html#12971">[ subject ]</a>
              <a href="author.html#12971">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
