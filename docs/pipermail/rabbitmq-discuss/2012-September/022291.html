<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Delivering to one and only one queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Delivering%20to%20one%20and%20only%20one%20queue&In-Reply-To=%3CB0AF2E82-F575-42F6-A40C-D528E5ACAA2B%40teksol.info%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022286.html">
   <LINK REL="Next"  HREF="022299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Delivering to one and only one queue</H1>
    <B>Fran&#231;ois Beausoleil</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Delivering%20to%20one%20and%20only%20one%20queue&In-Reply-To=%3CB0AF2E82-F575-42F6-A40C-D528E5ACAA2B%40teksol.info%3E"
       TITLE="[rabbitmq-discuss] Delivering to one and only one queue">francois at teksol.info
       </A><BR>
    <I>Wed Sep  5 14:40:03 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022286.html">[rabbitmq-discuss] Ordering guarantees for multiple publishers,	one queue and one consumer?
</A></li>
        <LI>Next message: <A HREF="022299.html">[rabbitmq-discuss] Delivering to one and only one queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22291">[ date ]</a>
              <a href="thread.html#22291">[ thread ]</a>
              <a href="subject.html#22291">[ subject ]</a>
              <a href="author.html#22291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all!

I asked this question on StackOverflow yesterday, and I was looking to broaden the audience: <A HREF="http://stackoverflow.com/questions/12266488/routing-messages-to-one-and-only-one-queue">http://stackoverflow.com/questions/12266488/routing-messages-to-one-and-only-one-queue</A>

Here's a copy of the question:

&quot;&quot;&quot;
I have a Topic exchange from which I'd like to distribute messages to two queues on two servers part of a cluster, in order to reduce memory pressure on any particular server. My consumers are periodically slow, and I sometimes run into the high memory watermark.

The way I tried to resolve this is by routing messages using an intermediate direct exchange, with two queues bound to the exchange:

a (topic) -&gt; a1 (direct) -&gt; q1/q2 (bound to routing key &quot;a&quot;)

But the messages were routed to both queues, as AMQP intends. Anyone has ideas? What I need is an exchange that routes to one and only one queue, even if the routing key matches many queues. I'd prefer not to change my routing keys, but that could be arranged.

I found Selective routing with RabbitMQ, which may mean I'll need to implement my own routing logic. Hopefully, this already exists somewhere else.
&quot;&quot;&quot;

Any ideas?

Thank you very much!
Fran&#231;ois Beausoleil
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022286.html">[rabbitmq-discuss] Ordering guarantees for multiple publishers,	one queue and one consumer?
</A></li>
	<LI>Next message: <A HREF="022299.html">[rabbitmq-discuss] Delivering to one and only one queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22291">[ date ]</a>
              <a href="thread.html#22291">[ thread ]</a>
              <a href="subject.html#22291">[ subject ]</a>
              <a href="author.html#22291">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
