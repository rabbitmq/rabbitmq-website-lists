<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20very%20slow%20%28or%20never%29%20shuts%20down&In-Reply-To=%3CCACLE7ixuiiz6MNuLXHYdLoSnu%2Bp5Drp7%2B%2B3wvo8umQFCn2%3D2KQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022463.html">
   <LINK REL="Next"  HREF="022479.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down</H1>
    <B>Matt Pietrek</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20very%20slow%20%28or%20never%29%20shuts%20down&In-Reply-To=%3CCACLE7ixuiiz6MNuLXHYdLoSnu%2Bp5Drp7%2B%2B3wvo8umQFCn2%3D2KQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down">mpietrek at skytap.com
       </A><BR>
    <I>Thu Sep 13 18:06:56 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022463.html">[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
</A></li>
        <LI>Next message: <A HREF="022479.html">[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22476">[ date ]</a>
              <a href="thread.html#22476">[ thread ]</a>
              <a href="subject.html#22476">[ subject ]</a>
              <a href="author.html#22476">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Is it a possibility that firewall/network configuration between the two
</I>nodes is causing packets to get dropped?

It seems unlikely. The two nodes are on opposite sides of the US, so
there's some normal latency between them. However, the connections are
generally reliable and I'm pumping many messages/second through the
federation before shutting the brokers down. (Xref my other thread about
extraneous federation exchange traffic.)


On Thu, Sep 13, 2012 at 4:44 AM, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>&gt; wrote:

&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i> On 13 Sep 2012, at 12:02, Simon MacMullen wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; On 13/09/12 01:00, Matt Pietrek wrote:
</I>&gt;<i> &gt;&gt; {socket_error,etimedout}
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; So I think this is the interesting bit.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Clearly we should not be hanging around waiting for sockets to time out
</I>&gt;<i> during shutdown (these are client sockets BTW, i.e. for federation links).
</I>&gt;<i> But is there some sort of firewall or network weirdness that could be
</I>&gt;<i> causing these timeouts?
</I>&gt;<i>
</I>&gt;<i> Is it a possibility that firewall/network configuration between the two
</I>&gt;<i> nodes is causing packets to get dropped?
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120913/50af31b4/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120913/50af31b4/attachment.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022463.html">[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
</A></li>
	<LI>Next message: <A HREF="022479.html">[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22476">[ date ]</a>
              <a href="thread.html#22476">[ thread ]</a>
              <a href="subject.html#22476">[ subject ]</a>
              <a href="author.html#22476">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
