<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20very%20slow%20%28or%20never%29%20shuts%20down&In-Reply-To=%3C49F9DCE2-2ED2-4791-94FC-1FB57D237A8C%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022476.html">
   <LINK REL="Next"  HREF="022481.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20very%20slow%20%28or%20never%29%20shuts%20down&In-Reply-To=%3C49F9DCE2-2ED2-4791-94FC-1FB57D237A8C%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down">tim at rabbitmq.com
       </A><BR>
    <I>Thu Sep 13 19:32:09 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022476.html">[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
</A></li>
        <LI>Next message: <A HREF="022481.html">[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22479">[ date ]</a>
              <a href="thread.html#22479">[ thread ]</a>
              <a href="subject.html#22479">[ subject ]</a>
              <a href="author.html#22479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13 Sep 2012, at 18:06, Matt Pietrek wrote:

&gt;<i> &gt; Is it a possibility that firewall/network configuration between the two nodes is causing packets to get dropped?
</I>&gt;<i> 
</I>&gt;<i> It seems unlikely. The two nodes are on opposite sides of the US, so there's some normal latency between them. However, the connections are generally reliable and I'm pumping many messages/second through the federation before shutting the brokers down. (Xref my other thread about extraneous federation exchange traffic.)
</I>&gt;<i> 
</I>
Hmn, I wonder if this is somehow linked to the 'leaky bindings' mentioned in that thread - I doubt it somehow. Are you in control of the network - can we be sure that packets aren't being dropped for some reason or another? As Simon intimated, the behaviour you're seeing appears to be client sockets hanging around during shutdown until a timeout is triggered. Perhaps we're not seeing the expected FIN - I'm attempting to reproduce this at the moment. 
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022476.html">[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
</A></li>
	<LI>Next message: <A HREF="022481.html">[rabbitmq-discuss] RabbitMQ very slow (or never) shuts down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22479">[ date ]</a>
              <a href="thread.html#22479">[ thread ]</a>
              <a href="subject.html#22479">[ subject ]</a>
              <a href="author.html#22479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
