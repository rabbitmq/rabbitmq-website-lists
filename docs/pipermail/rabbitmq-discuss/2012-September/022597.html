<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] IModel Dispose locks if called during ConnectionShutdown event
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20IModel%20Dispose%20locks%20if%20called%20during%0A%20ConnectionShutdown%20event&In-Reply-To=%3C505C3E45.2070807%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022583.html">
   <LINK REL="Next"  HREF="022587.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] IModel Dispose locks if called during ConnectionShutdown event</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20IModel%20Dispose%20locks%20if%20called%20during%0A%20ConnectionShutdown%20event&In-Reply-To=%3C505C3E45.2070807%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] IModel Dispose locks if called during ConnectionShutdown event">emile at rabbitmq.com
       </A><BR>
    <I>Fri Sep 21 11:15:33 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022583.html">[rabbitmq-discuss] IModel Dispose locks if called during	ConnectionShutdown event
</A></li>
        <LI>Next message: <A HREF="022587.html">[rabbitmq-discuss] HA queue disappears when a node rejoins	the	cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22597">[ date ]</a>
              <a href="thread.html#22597">[ thread ]</a>
              <a href="subject.html#22597">[ subject ]</a>
              <a href="author.html#22597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Mark,

On 20/09/12 19:40, Mark Ward wrote:
&gt;<i> I may have found the area of the deadlock.
</I>&gt;<i> 
</I>&gt;<i> RabbitMQ.Util.BlockingCell
</I>&gt;<i> 
</I>&gt;<i> In the Value get on the Monitor.wait(this);
</I>
This question is similar to a previous one from Derek Greer which you
may want to take a look at:
<A HREF="http://markmail.org/message/3f64mebpams5icv5">http://markmail.org/message/3f64mebpams5icv5</A>

The channel/IModel will be cleaned up by the library. There is no need
to do this from within the ConnectionShutdown event handler, and
attempting to do so will lead to the problems you describe.

(Btw, what is the framework you mentioned that is exhibiting this
behaviour?)

-Emile

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022583.html">[rabbitmq-discuss] IModel Dispose locks if called during	ConnectionShutdown event
</A></li>
	<LI>Next message: <A HREF="022587.html">[rabbitmq-discuss] HA queue disappears when a node rejoins	the	cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22597">[ date ]</a>
              <a href="thread.html#22597">[ thread ]</a>
              <a href="subject.html#22597">[ subject ]</a>
              <a href="author.html#22597">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
