<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] FYI: RabbitMQ default installation broken on Ubuntu (potential all Debian-likes)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20FYI%3A%20RabbitMQ%20default%20installation%20broken%20on%0A%20Ubuntu%20%28potential%20all%20Debian-likes%29&In-Reply-To=%3C6ee12e22-5be5-403a-9b64-cb24fcb43f0c%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022362.html">
   <LINK REL="Next"  HREF="022365.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] FYI: RabbitMQ default installation broken on Ubuntu (potential all Debian-likes)</H1>
    <B>Rene Gallati</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20FYI%3A%20RabbitMQ%20default%20installation%20broken%20on%0A%20Ubuntu%20%28potential%20all%20Debian-likes%29&In-Reply-To=%3C6ee12e22-5be5-403a-9b64-cb24fcb43f0c%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] FYI: RabbitMQ default installation broken on Ubuntu (potential all Debian-likes)">regal at nine.ch
       </A><BR>
    <I>Fri Sep  7 14:49:45 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022362.html">[rabbitmq-discuss] Bologna (Italy) &amp; RabbitMQ
</A></li>
        <LI>Next message: <A HREF="022365.html">[rabbitmq-discuss] FYI: RabbitMQ default installation broken on Ubuntu (potential all Debian-likes)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22364">[ date ]</a>
              <a href="thread.html#22364">[ thread ]</a>
              <a href="subject.html#22364">[ subject ]</a>
              <a href="author.html#22364">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello list,

as a service provider I was tasked to install RabbitMQ for a customer 
system. No problem, it's in Ubuntu's default repository, right?

Too bad it's broken and the installation via package manager fails. And 
while that may be a Ubuntu maintainer's problem the very same thing happens 
if one uses the official apt-repository provided at 
<A HREF="http://www.rabbitmq.com/install-debian.html">http://www.rabbitmq.com/install-debian.html</A>

What breaks? Well the package installs correctly but then tries to start 
the rabbitmq-server service. And this doesn't work, the service is not 
startable because it has a very odd requirement: rabbitmq-server cannot be 
started on current Ubuntu 12.04 LTS systems because it claims that the 
&quot;hostname is unresolvable&quot;. This is however a wrong error message, because 
the hostname can be perfectly resolvable when rabbitmq-server claims this. 
What is really happening is, that rabbitmq-server absolutely requires that 
the hostname-part be defined as entry in /etc/hosts as name for 127.0.0.1 !

So if your system is named &quot;foo&quot; you have to have
127.0.0.1 localhost foo

in your /etc/hosts and then it will magically be &quot;resolvable&quot; and starts. 
Unfortunately, the default for all modern unix systems is that the hostname 
is assigned to the real IP address and not to 127.0.0.1 and this is why the 
standard installation package is broken by default.

As an alternative, you can also add &quot;NODENAME=<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A>&quot; to 
rabbitmq-server's configuration file because - look it's magic: localhost 
does actually resolve to 127.0.0.1 which is what rabbitmq-server seems to 
require to function. The problem with that approach is of course that the 
configuration file does not exist prior to attempting to install the 
package via package-manager on your system, so you have to install the 
faulty installation, then add the line in the configuration file, then fix 
the package-installation by rerunning in order to get to a clean state.

Since I have no experience with RabbitMQ itself, I have no idea why this is 
so or what exactly is wrong on my (100% clean and default) system 
configuration for this to appear. If RabbitMQ really really requires the 
hostname to be mapped to 127.0.0.1 by default then this is the first 
networking program with this requirement I've encountered in over 15 years 
of administrating linux systems. I think it's a bug and this is why I 
document this here so that it can be fixed.

Kind regards

Ren&#233;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120907/14a68169/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120907/14a68169/attachment.htm</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022362.html">[rabbitmq-discuss] Bologna (Italy) &amp; RabbitMQ
</A></li>
	<LI>Next message: <A HREF="022365.html">[rabbitmq-discuss] FYI: RabbitMQ default installation broken on Ubuntu (potential all Debian-likes)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22364">[ date ]</a>
              <a href="thread.html#22364">[ thread ]</a>
              <a href="subject.html#22364">[ subject ]</a>
              <a href="author.html#22364">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
