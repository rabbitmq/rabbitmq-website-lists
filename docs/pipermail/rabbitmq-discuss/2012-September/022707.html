<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Startup problems after network issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Startup%20problems%20after%20network%20issues&In-Reply-To=%3CAD8BDDA3D61AC241BA02DED7063643BA5D4D6D30%40osl02-exc-001%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022697.html">
   <LINK REL="Next"  HREF="022710.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Startup problems after network issues</H1>
    <B>Jon Bergli Heier</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Startup%20problems%20after%20network%20issues&In-Reply-To=%3CAD8BDDA3D61AC241BA02DED7063643BA5D4D6D30%40osl02-exc-001%3E"
       TITLE="[rabbitmq-discuss] Startup problems after network issues">jon.bergli.heier at zisson.no
       </A><BR>
    <I>Wed Sep 26 17:04:37 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022697.html">[rabbitmq-discuss] Startup problems after network issues
</A></li>
        <LI>Next message: <A HREF="022710.html">[rabbitmq-discuss] Startup problems after network issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22707">[ date ]</a>
              <a href="thread.html#22707">[ thread ]</a>
              <a href="subject.html#22707">[ subject ]</a>
              <a href="author.html#22707">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, thanks for the reply. There shouldn't be any reasons for interruptions between the nodes, so hopefully that won't turn into a problem.

I'm still having some trouble bringing the node up however, even after resetting the database (I assume you mean the /var/lib/rabbitmq/mnesia directory).
Even after moving the directory I keep getting the exact same message as you can see at the end of the log file I attached on the last email (from the rabbitmq_management plugin).
I've also tried commenting out cluster_nodes in rabbitmq.config and followed the clustering guide (<A HREF="http://www.rabbitmq.com/clustering.html">http://www.rabbitmq.com/clustering.html</A>) but still no luck.
(Note that I haven't done any changes to rmq-002, which is still running)

Jon

________________________________________
From: Emile Joubert [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>]
Sent: Wednesday, September 26, 2012 16:33
To: Discussions about RabbitMQ
Cc: Jon Bergli Heier
Subject: Re: [rabbitmq-discuss] Startup problems after network issues

Hi Jon,

On 24/09/12 13:17, Jon Bergli Heier wrote:
&gt;<i> During the weekend we had some minor network issues, after which one
</I>&gt;<i> of the cluster nodes crashed and won't start up again.
</I>
The error in the logfile {mnesia_locker, ... ,granted} appears as the
result of a netsplit (nodes being unable to communicate). This is not a
situation the broker makes any attempt to deal with. If your cluster
will be subject to network interruptions on a regular basis then
consider some of the other distribution strategies:
<A HREF="http://www.rabbitmq.com/distributed.html">http://www.rabbitmq.com/distributed.html</A>

The simplest way of starting the failed node is to reset its database
and rejoin the cluster. The database can be reset by moving the database
directory out of the way. Mirrored queues should not be affected by the
loss of one node (as long as the remaining nodes were synchronised), but
any non-mirrored queues (together with their contents) that were defined
on the failing node will be lost.


-Emile
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022697.html">[rabbitmq-discuss] Startup problems after network issues
</A></li>
	<LI>Next message: <A HREF="022710.html">[rabbitmq-discuss] Startup problems after network issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22707">[ date ]</a>
              <a href="thread.html#22707">[ thread ]</a>
              <a href="subject.html#22707">[ subject ]</a>
              <a href="author.html#22707">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
