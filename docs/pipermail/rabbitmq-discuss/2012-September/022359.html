<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq won't start after upgrading Ubuntu 10.04 to 12.04
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20won%27t%20start%20after%20upgrading%20Ubuntu%0A%2010.04%20to%2012.04&In-Reply-To=%3C5049E55A.3000205%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022356.html">
   <LINK REL="Next"  HREF="022360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq won't start after upgrading Ubuntu 10.04 to 12.04</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20won%27t%20start%20after%20upgrading%20Ubuntu%0A%2010.04%20to%2012.04&In-Reply-To=%3C5049E55A.3000205%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq won't start after upgrading Ubuntu 10.04 to 12.04">emile at rabbitmq.com
       </A><BR>
    <I>Fri Sep  7 13:15:22 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022356.html">[rabbitmq-discuss] rabbitmq won't start after upgrading Ubuntu	10.04 to 12.04
</A></li>
        <LI>Next message: <A HREF="022360.html">[rabbitmq-discuss] rabbitmq won't start after upgrading Ubuntu	10.04 to 12.04
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22359">[ date ]</a>
              <a href="thread.html#22359">[ thread ]</a>
              <a href="subject.html#22359">[ subject ]</a>
              <a href="author.html#22359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Frederik,

On 07/09/12 11:48, Fredrik Stark wrote:
&gt;<i> erts 5.7.4 was running on the old 10.04
</I>&gt;<i> After the upgrade erts has the version number 5.8.5
</I>
There were changes in R14B relating to epmd name registration messages
from localhost which may be relevant to this error.

&gt;<i> Here's the output of `erl -sname test`
</I>&gt;<i> <A HREF="http://dpaste.com/797732/">http://dpaste.com/797732/</A>
</I>
Can you try the same test, but with epmd debug output?

    $ epmd -kill
    $ epmd -d

Then in a different shell:

    $ erl -sname test

I would expect debug output similar to this in the first shell on a
working setup:

    epmd running - daemon = 0
    ** got ALIVE2_REQ
    registering 'test:3', port 49101
    type 77 proto 0 highvsn 5 lowvsn 5
    ** sent ALIVE2_RESP for &quot;test&quot;

If this doesn't work then you will have difficulties with any
distributed Erlang software, not only RabbitMQ.

The problem you describe may be caused by FreeBSD jails, which treats
localhost specially. Is that what you are using? If so then I'm not sure
there is a good solution other than reverting to R13B03 (or any version
of Erlang prior to R14B). There may also be patches to Erlang that work
around the problem, but a FreeBSD mailing list would be the right place
to ask.


-Emile


</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022356.html">[rabbitmq-discuss] rabbitmq won't start after upgrading Ubuntu	10.04 to 12.04
</A></li>
	<LI>Next message: <A HREF="022360.html">[rabbitmq-discuss] rabbitmq won't start after upgrading Ubuntu	10.04 to 12.04
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22359">[ date ]</a>
              <a href="thread.html#22359">[ thread ]</a>
              <a href="subject.html#22359">[ subject ]</a>
              <a href="author.html#22359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
