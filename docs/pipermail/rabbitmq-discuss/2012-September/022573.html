<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] TTL on Messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20TTL%20on%20Messages&In-Reply-To=%3C40aedefc-8b23-40f9-90df-2270b4f686bd%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022562.html">
   <LINK REL="Next"  HREF="022586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] TTL on Messages</H1>
    <B>Stephen Young</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20TTL%20on%20Messages&In-Reply-To=%3C40aedefc-8b23-40f9-90df-2270b4f686bd%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] TTL on Messages">stephen.t.young at gmail.com
       </A><BR>
    <I>Thu Sep 20 14:29:12 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022562.html">[rabbitmq-discuss] TTL on Messages
</A></li>
        <LI>Next message: <A HREF="022586.html">[rabbitmq-discuss] TTL on Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22573">[ date ]</a>
              <a href="thread.html#22573">[ thread ]</a>
              <a href="subject.html#22573">[ subject ]</a>
              <a href="author.html#22573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>TTL is set on a queue basis, so publishing to queue *ttl_queue_1s* that has 
been initialized {x-message-ttl: 1000} the message will be dropped by 
rabbitmq after one second. Messages themselves cannot set their own TTL, as 
far as I'm aware.
The best approach I've found to tracking what gets dropped is using dead 
letter exchanges (<A HREF="http://www.rabbitmq.com/dlx.html">http://www.rabbitmq.com/dlx.html</A>) - so you'd configure 
your TTL queue with {x-dead-letter-exchange: other_exchange} and then route 
the requests through there and track on the client side what has been 
dropped.

On Thursday, September 20, 2012 3:40:34 AM UTC-4, Jordan wrote:
&gt;<i>
</I>&gt;<i> Hey guys,
</I>&gt;<i>
</I>&gt;<i> I'm currently using node-amqp &lt;<A HREF="https://github.com/postwait/node-amqp">https://github.com/postwait/node-amqp</A>&gt;, 
</I>&gt;<i> and would like to set an expiration on my messages.
</I>&gt;<i>
</I>&gt;<i> I recently learned about the 'x-message-ttl' flag, but I'm not quite sure 
</I>&gt;<i> how to properly use it.  In particular, if a message expires, do I have any 
</I>&gt;<i> way of knowing *which* message it was?  Perhaps a correlation id?
</I>&gt;<i>
</I>&gt;<i> Thanks for the help!
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120920/83193eb3/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120920/83193eb3/attachment.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022562.html">[rabbitmq-discuss] TTL on Messages
</A></li>
	<LI>Next message: <A HREF="022586.html">[rabbitmq-discuss] TTL on Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22573">[ date ]</a>
              <a href="thread.html#22573">[ thread ]</a>
              <a href="subject.html#22573">[ subject ]</a>
              <a href="author.html#22573">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
