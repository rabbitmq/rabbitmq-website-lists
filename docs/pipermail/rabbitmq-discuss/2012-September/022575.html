<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] c# how to get ConfirmSelect errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20c%23%20how%20to%20get%20ConfirmSelect%20errors&In-Reply-To=%3C0163c372-1f8a-4979-a265-3409da22980d%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022569.html">
   <LINK REL="Next"  HREF="022593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] c# how to get ConfirmSelect errors</H1>
    <B>Mark Ward</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20c%23%20how%20to%20get%20ConfirmSelect%20errors&In-Reply-To=%3C0163c372-1f8a-4979-a265-3409da22980d%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] c# how to get ConfirmSelect errors">ward.mark at gmail.com
       </A><BR>
    <I>Thu Sep 20 14:45:56 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022569.html">[rabbitmq-discuss] c# how to get ConfirmSelect errors
</A></li>
        <LI>Next message: <A HREF="022593.html">[rabbitmq-discuss] c# how to get ConfirmSelect errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22575">[ date ]</a>
              <a href="thread.html#22575">[ thread ]</a>
              <a href="subject.html#22575">[ subject ]</a>
              <a href="author.html#22575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Emile,

Thanks for the response.  I had come across the post 
<A HREF="http://www.rabbitmq.com/blog/2011/02/10/introducing-publisher-confirms/">http://www.rabbitmq.com/blog/2011/02/10/introducing-publisher-confirms/</A> and 
after looking at it again I noticed the example contained 
&quot;setconfirmListener&quot; which has now been renamed to &quot;addConfirmListener&quot;. 
 It appears the .NET version of the rabbitMQ client does not have this 
method or ability.  It would appear this is what I am looking for but I 
have not found it in the .NET version.  Is this a lacking feature in the 
.NET version or am I not looking in the right place?

I have the ability to identify the batch of message the fault occurred in 
but I am seeking if I can identify specifically the messages in the batch. 
 I am still working through the idea if it will work if the system knows 
that a message did fail but does not know which ones.  Then working through 
if the system will work with the possibility of 1 or more publications of 
the same messages will not negatively impact the implementation.  I may 
have to implement tracking unique message ids to prevent duplicate message 
processing.

-Mark



Hi Mark, 

On 19/09/12 22:02, Mark Ward wrote: 
&gt;<i> How would I setup my program to be notified of each message that failed 
</I>&gt;<i> when using ConfirmSelect?  I have tried CallbackException but I am not 
</I>&gt;<i> getting events on permission errors. 
</I>
The publisher needs to remember all messages that are published, and it 
can forget about those that are confirmed. Messages that are yet to be 
forgotten about at the time of the crash will need to be redelivered as 
they might have been lost. 

-Emile  

On Wednesday, September 19, 2012 4:02:10 PM UTC-5, Mark Ward wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am not sure where or how to get an error generated from having 
</I>&gt;<i> ConfirmSelect() active on a model.  When I use BasicPublish I do not get an 
</I>&gt;<i> exception when sending but when I call WaitForConfirmsOrDie I do get an 
</I>&gt;<i> exception RabbitMQ.Client.Exceptions.AlreadyClosedException.  I assume that 
</I>&gt;<i> is because the BasicPublish + ConfirmSelect closed the model upon the error 
</I>&gt;<i> but I don't seem to be able to receive the event of the error before 
</I>&gt;<i> calling the WaitForConfirmsOrDie.
</I>&gt;<i>
</I>&gt;<i> How would I setup my program to be notified of each message that failed 
</I>&gt;<i> when using ConfirmSelect?  I have tried CallbackException but I am not 
</I>&gt;<i> getting events on permission errors.
</I>&gt;<i>
</I>&gt;<i> -Mark
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120920/d2fd38d2/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120920/d2fd38d2/attachment.htm</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022569.html">[rabbitmq-discuss] c# how to get ConfirmSelect errors
</A></li>
	<LI>Next message: <A HREF="022593.html">[rabbitmq-discuss] c# how to get ConfirmSelect errors
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22575">[ date ]</a>
              <a href="thread.html#22575">[ thread ]</a>
              <a href="subject.html#22575">[ subject ]</a>
              <a href="author.html#22575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
