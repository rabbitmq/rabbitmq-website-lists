<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Confusing disk free space limit warning
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Confusing%20disk%20free%20space%20limit%20warning&In-Reply-To=%3C5057DAF9.3070601%40vardr.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022522.html">
   <LINK REL="Next"  HREF="022532.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Confusing disk free space limit warning</H1>
    <B>Mark Hingston</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Confusing%20disk%20free%20space%20limit%20warning&In-Reply-To=%3C5057DAF9.3070601%40vardr.com%3E"
       TITLE="[rabbitmq-discuss] Confusing disk free space limit warning">mark.hingston at vardr.com
       </A><BR>
    <I>Tue Sep 18 03:22:49 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022522.html">[rabbitmq-discuss] Confusing disk free space limit warning
</A></li>
        <LI>Next message: <A HREF="022532.html">[rabbitmq-discuss] Confusing disk free space limit warning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22531">[ date ]</a>
              <a href="thread.html#22531">[ thread ]</a>
              <a href="subject.html#22531">[ subject ]</a>
              <a href="author.html#22531">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17/09/12 7:41 PM, Matthias Radestock wrote:
&gt;<i> Ah. That's a bug in the stomp plug-in. It's been around since 2.8.3. 
</I>&gt;<i> Will fix.
</I>&gt;<i>
</I>&gt;<i> The upshot is that from then onwards alarm handling is broken, which 
</I>&gt;<i> explains why the subsequent clearing of the disk alarm wasn't 
</I>&gt;<i> unblocking producers for you.
</I>
Ok, thanks for the explanation. So is my best option to disable the 
stomp plugin until this is fixed?


&gt;<i> The fact that the server is &quot;slow&quot; because it encountered an alarm 
</I>&gt;<i> condition is neither here or there - as far as the client is concerned 
</I>&gt;<i> it's just talking to a slow server.
</I>&gt;<i>
</I>&gt;<i> So your question really comes down to how would you expect a client to 
</I>&gt;<i> detect and deal with a slow server / congested network.
</I>&gt;<i>
</I>
Thanks for the explanation. I guess now I'm trying to figure out what 
the best way is to defend against this situation so that my messages 
don't get lost. To make this happen I was thinking that the client 
should not report the message successfully sent to our upstream 
components until it gets some confirmation from rabbit that the message 
has been actually added to a queue. Wrt, it looks like a while back 
Simon MacMullen gave this answer in the topic: &quot;Guaranteed delivery&quot;:

&quot; At the moment the only way you can guarantee that a publish has gone
through is to publish inside a transaction - when the transaction commit
completes the message is on disk (assuming durable queue / persistent
message). This is a little heavyweight though. In the future we intend
to introduce streaming publisher acks to do the same job in a more async
way.&quot;

Is there any chance a more lightweight alternative to accomplish this 
has emerged in the past couple of years?
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120918/1f9ab845/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120918/1f9ab845/attachment.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022522.html">[rabbitmq-discuss] Confusing disk free space limit warning
</A></li>
	<LI>Next message: <A HREF="022532.html">[rabbitmq-discuss] Confusing disk free space limit warning
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22531">[ date ]</a>
              <a href="thread.html#22531">[ thread ]</a>
              <a href="subject.html#22531">[ subject ]</a>
              <a href="author.html#22531">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
