<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Delivering to one and only one queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Delivering%20to%20one%20and%20only%20one%20queue&In-Reply-To=%3C5048638F.6050104%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022291.html">
   <LINK REL="Next"  HREF="022321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Delivering to one and only one queue</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Delivering%20to%20one%20and%20only%20one%20queue&In-Reply-To=%3C5048638F.6050104%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Delivering to one and only one queue">simon at rabbitmq.com
       </A><BR>
    <I>Thu Sep  6 09:49:19 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022291.html">[rabbitmq-discuss] Delivering to one and only one queue
</A></li>
        <LI>Next message: <A HREF="022321.html">[rabbitmq-discuss] Delivering to one and only one queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22299">[ date ]</a>
              <a href="thread.html#22299">[ thread ]</a>
              <a href="subject.html#22299">[ subject ]</a>
              <a href="author.html#22299">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sounds like the consistent hash exchange will do what you want?

<A HREF="http://hg.rabbitmq.com/rabbitmq-consistent-hash-exchange/raw-file/default/README.md">http://hg.rabbitmq.com/rabbitmq-consistent-hash-exchange/raw-file/default/README.md</A>

This ships with RabbitMQ as a plugin, but is disabled by default.

Cheers, Simon

On 05/09/2012 2:40PM, Fran&#231;ois Beausoleil wrote:
&gt;<i> Hi all!
</I>&gt;<i>
</I>&gt;<i> I asked this question on StackOverflow yesterday, and I was looking to broaden the audience: <A HREF="http://stackoverflow.com/questions/12266488/routing-messages-to-one-and-only-one-queue">http://stackoverflow.com/questions/12266488/routing-messages-to-one-and-only-one-queue</A>
</I>&gt;<i>
</I>&gt;<i> Here's a copy of the question:
</I>&gt;<i>
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> I have a Topic exchange from which I'd like to distribute messages to two queues on two servers part of a cluster, in order to reduce memory pressure on any particular server. My consumers are periodically slow, and I sometimes run into the high memory watermark.
</I>&gt;<i>
</I>&gt;<i> The way I tried to resolve this is by routing messages using an intermediate direct exchange, with two queues bound to the exchange:
</I>&gt;<i>
</I>&gt;<i> a (topic) -&gt; a1 (direct) -&gt; q1/q2 (bound to routing key &quot;a&quot;)
</I>&gt;<i>
</I>&gt;<i> But the messages were routed to both queues, as AMQP intends. Anyone has ideas? What I need is an exchange that routes to one and only one queue, even if the routing key matches many queues. I'd prefer not to change my routing keys, but that could be arranged.
</I>&gt;<i>
</I>&gt;<i> I found Selective routing with RabbitMQ, which may mean I'll need to implement my own routing logic. Hopefully, this already exists somewhere else.
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i>
</I>&gt;<i> Any ideas?
</I>&gt;<i>
</I>&gt;<i> Thank you very much!
</I>&gt;<i> Fran&#231;ois Beausoleil
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I></PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022291.html">[rabbitmq-discuss] Delivering to one and only one queue
</A></li>
	<LI>Next message: <A HREF="022321.html">[rabbitmq-discuss] Delivering to one and only one queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22299">[ date ]</a>
              <a href="thread.html#22299">[ thread ]</a>
              <a href="subject.html#22299">[ subject ]</a>
              <a href="author.html#22299">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
