<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [Q] fanout exchange same as direct with blank routing key?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BQ%5D%20fanout%20exchange%20same%20as%20direct%20with%0A%20blank%20routing%20key%3F&In-Reply-To=DD8BA593-585F-43E4-9714-8E51C3562B3C%40mac.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005599.html">
   <LINK REL="Next"  HREF="005672.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [Q] fanout exchange same as direct with blank routing key?</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BQ%5D%20fanout%20exchange%20same%20as%20direct%20with%0A%20blank%20routing%20key%3F&In-Reply-To=DD8BA593-585F-43E4-9714-8E51C3562B3C%40mac.com"
       TITLE="[rabbitmq-discuss] [Q] fanout exchange same as direct with blank routing key?">matthew at lshift.net
       </A><BR>
    <I>Wed Dec  9 12:14:22 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005599.html">[rabbitmq-discuss] [Q] fanout exchange same as direct with blank	routing key?
</A></li>
        <LI>Next message: <A HREF="005672.html">[rabbitmq-discuss] [Q] fanout exchange same as direct with blank routing key?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5615">[ date ]</a>
              <a href="thread.html#5615">[ thread ]</a>
              <a href="subject.html#5615">[ subject ]</a>
              <a href="author.html#5615">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Dec 03, 2009 at 01:01:50PM -0600, Chuck Remes wrote:
&gt;<i> My question is in the subject.
</I>
The answer is no. ;)

They are the same only if every binding to the direct exchange uses an
empty binding key, and, as you say, all the publishes are with a
blank routing key.

In many ways, you can think of a direct exchange as a cluster of fanout
exchanges where there is implicitly a fanout for every routing key and
binding key.

&gt;<i> The only difference I can  
</I>&gt;<i> think of would be that there might be some matching done against the  
</I>&gt;<i> empty string routing key for delivery through the direct exchange that  
</I>&gt;<i> is skipped for the fanout exchange. Therefore, a fanout exchange would  
</I>&gt;<i> have *slightly* better performance versus a direct exchange with an  
</I>&gt;<i> empty routing key.
</I>
Correct, and the greater the number of different binding keys the direct
exchange has, the slower it will be. So if performance is important to
you, and you can get away with using a fanout, do so.

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005599.html">[rabbitmq-discuss] [Q] fanout exchange same as direct with blank	routing key?
</A></li>
	<LI>Next message: <A HREF="005672.html">[rabbitmq-discuss] [Q] fanout exchange same as direct with blank routing key?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5615">[ date ]</a>
              <a href="thread.html#5615">[ thread ]</a>
              <a href="subject.html#5615">[ subject ]</a>
              <a href="author.html#5615">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
