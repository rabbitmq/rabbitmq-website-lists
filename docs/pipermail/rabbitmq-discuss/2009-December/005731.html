<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Deploying RabitMQ for my Application -	Questions and Doubts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Deploying%20RabitMQ%20for%20my%20Application%20-%0A%09Questions%20and%20Doubts&In-Reply-To=96f68a7a0912300239k31724876o8467644a10c7c2bf%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005729.html">
   <LINK REL="Next"  HREF="005732.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Deploying RabitMQ for my Application -	Questions and Doubts</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Deploying%20RabitMQ%20for%20my%20Application%20-%0A%09Questions%20and%20Doubts&In-Reply-To=96f68a7a0912300239k31724876o8467644a10c7c2bf%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Deploying RabitMQ for my Application -	Questions and Doubts">alexis.richardson at gmail.com
       </A><BR>
    <I>Wed Dec 30 11:02:12 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005729.html">[rabbitmq-discuss] Deploying RabitMQ for my Application -	Questions and Doubts
</A></li>
        <LI>Next message: <A HREF="005732.html">[rabbitmq-discuss] Deploying RabitMQ for my Application -	Questions and Doubts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5731">[ date ]</a>
              <a href="thread.html#5731">[ thread ]</a>
              <a href="subject.html#5731">[ subject ]</a>
              <a href="author.html#5731">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Karthik

Yes that is feasible.  If you were simply talking about a 'chat'
system then I would suggest XMPP would be great for your case.  But,
the mixture of pubsub, fanout and queueing (&quot;pushing .. as and when
the need arises&quot;) suggests that you should consider AMQP.

Re use cases:  I cannot talk about *everyone* doing exactly the same
as you, since many of our customers don't like to (or cannot) discuss
their cases in public.   However, here is a reasonably well known
'multi-location multi-datacenter multi-cloud' use case that is
similar:

<A HREF="http://www.oceanobservatories.org/spaces/display/CIDev/Messaging+Service+Specification+V1">http://www.oceanobservatories.org/spaces/display/CIDev/Messaging+Service+Specification+V1</A>
<A HREF="http://io9.com/5410036/fleets-of-autonomous-robots-coming-to-an-ocean-near-you">http://io9.com/5410036/fleets-of-autonomous-robots-coming-to-an-ocean-near-you</A>
<A HREF="http://www.calit2.net/newsroom/article.php?id=1505">http://www.calit2.net/newsroom/article.php?id=1505</A>

Here is a case that has several data centers, similar to what you are
asking about: <A HREF="http://qconsf.com/sf2009/presentation/Open+Source+at+Unibet.com+-+10x+Scalability+at+Half+the+Cost">http://qconsf.com/sf2009/presentation/Open+Source+at+Unibet.com+-+10x+Scalability+at+Half+the+Cost</A>

Here are some more 'cloud' use cases:
<A HREF="http://delicious.com/alexisrichardson/rabbitmq+cloud+usecase">http://delicious.com/alexisrichardson/rabbitmq+cloud+usecase</A>

 More below...


On Wed, Dec 30, 2009 at 10:39 AM, Karthik &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">coolkarthik88 at gmail.com</A>&gt; wrote:
&gt;<i> Hi Alex,
</I>&gt;<i> Thanks for writing in. Here is the scenario.. I need to be running a single
</I>&gt;<i> cluster of Servers housed in a single Data Center. The problem I am trying
</I>&gt;<i> to solve involves pushing out information to clients spread across the globe
</I>&gt;<i> asynchronously aka push the data to them as and when the need arises.
</I>
OK.  I assume that 'as and when the need arises' means that
connections will be somewhat unpredictable, and some data will need to
be queued for offline consumers?  Will it also need to be stored?


&gt;<i> The
</I>&gt;<i> data to be pushed in will be pumped by a Web Based front end..
</I>
Would you want to use one of the RabbitMQ web clients for this?



&gt;<i> The communication will primarily be Private communication, that is server
</I>&gt;<i> directly talks to the client.. In my problem none of the clients can talk to
</I>&gt;<i> each other.. Information can only be exchanged between the client and server
</I>&gt;<i> in both the directions. PubSub or fanout communications will be involved
</I>&gt;<i> too, but most communication will be private (connections need to be
</I>&gt;<i> encrypted).
</I>
OK.



&gt;<i> To scale my system, I was thinking that splitting the system on a country
</I>&gt;<i> wise basis, will allow me to scale easily.
</I>
Would each country server be isolated?  Or could two clients in
different countries exchange messages via the servers, like this:

Client -&gt; Server -&gt; Server -&gt; Client


&gt;<i> I am planning to use Amazon EC2,
</I>&gt;<i> so during night times or off peak hours, I'd want the power of different
</I>&gt;<i> instances responsible for different countries to be reduced, to save
</I>&gt;<i> expenses.
</I>
That makes sense.  Of course currently EC2 is in three location (2 in
US, 1 in EU).




&gt;<i> Can you point me to real implementations of this kind that have used
</I>&gt;<i> RabbitMQ in the past?
</I>
See above.


&gt;<i> Also I'm expecting anywhere between &#160;10-5 M0 Million
</I>&gt;<i> clients, so do you think its feasible?
</I>
Yes.


&gt;<i> Also what would be latencies involved
</I>&gt;<i> on an approximate measure...
</I>
The main contributor to your latency will be the time taken for data
to travel across the wide area between servers and clients or vice
versa.

alexis




&gt;<i> Regards,
</I>&gt;<i> Karthik Kastury
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://dailyapps.net/">http://dailyapps.net/</A> | +91 9739864254
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, Dec 30, 2009 at 3:52 PM, Alexis Richardson
</I>&gt;<i> &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Karthik
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Some questions:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What is the nature of this communication? &#160;Is it pubsub? &#160;Must queues
</I>&gt;&gt;<i> be involved? &#160;What kind of recovery and failover do you need?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Are you saying that the server(s) must be in one physical location?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Or, are you saying there must be one server &quot;bot&quot; per country? &#160;If so
</I>&gt;&gt;<i> then can there be communication 'between server bots'?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> alexis
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Dec 30, 2009 at 2:26 AM, Karthik &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">coolkarthik88 at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; Hi,
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I am looking for a solution for the problem that am currently looking
</I>&gt;&gt;<i> &gt; to solve... I am trying to build a scalable AMQP Messaging system,
</I>&gt;&gt;<i> &gt; where multiple bots(in the range of 1 for each country in the world)
</I>&gt;&gt;<i> &gt; push out messages to clients spread all over the world. The
</I>&gt;&gt;<i> &gt; communication will be truly one to one, that is one server bot will
</I>&gt;&gt;<i> &gt; communicate with bots, and each client is assigned one server bot.
</I>&gt;&gt;<i> &gt; Messages are mostly private, i.e. only from the server to client and
</I>&gt;&gt;<i> &gt; vice versa.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; There can be anywhere between 10-50 Million Concurrent Clients,
</I>&gt;&gt;<i> &gt; Messages are in the size of 2-3KB(Well formed XML), that can be
</I>&gt;&gt;<i> &gt; transmitted in the both the directions i.e. Client-&gt;Server(bots) and
</I>&gt;&gt;<i> &gt; vice versa.... My estimates put at the messages to be going outwards
</I>&gt;&gt;<i> &gt; in either directions somewhere in the range of 50-100 messages/second.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; The Clients will need to send/receive all the information as encrypted
</I>&gt;&gt;<i> &gt; data using SSL+TLS and any other scheme..
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Will RabbitMQ be a good choice for the kind of the problem I'm trying
</I>&gt;&gt;<i> &gt; to solve..
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Any help will be appreciated.. Also how much better is using AMQP
</I>&gt;&gt;<i> &gt; based RabbitMQ in comparison to XMPP based Ejabberd/Openfire etc?
</I>&gt;&gt;<i> &gt; Regards,
</I>&gt;&gt;<i> &gt; Karthik Kastury
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; <A HREF="http://dailyapps.net/">http://dailyapps.net/</A> | +91 9739864254
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;&gt;<i> &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005729.html">[rabbitmq-discuss] Deploying RabitMQ for my Application -	Questions and Doubts
</A></li>
	<LI>Next message: <A HREF="005732.html">[rabbitmq-discuss] Deploying RabitMQ for my Application -	Questions and Doubts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5731">[ date ]</a>
              <a href="thread.html#5731">[ thread ]</a>
              <a href="subject.html#5731">[ subject ]</a>
              <a href="author.html#5731">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
