<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] adjusting timeout for non-acked messages to	be requeued
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20adjusting%20timeout%20for%20non-acked%20messages%20to%0A%09be%20requeued&In-Reply-To=167204d20912290706n23d5b13frb1cd02b0802d3b7e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005719.html">
   <LINK REL="Next"  HREF="005722.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] adjusting timeout for non-acked messages to	be requeued</H1>
    <B>vishnu</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20adjusting%20timeout%20for%20non-acked%20messages%20to%0A%09be%20requeued&In-Reply-To=167204d20912290706n23d5b13frb1cd02b0802d3b7e%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] adjusting timeout for non-acked messages to	be requeued">pathsny at gmail.com
       </A><BR>
    <I>Tue Dec 29 20:34:52 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005719.html">[rabbitmq-discuss] adjusting timeout for non-acked messages to	be requeued
</A></li>
        <LI>Next message: <A HREF="005722.html">[rabbitmq-discuss] adjusting timeout for non-acked messages to	be requeued
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5721">[ date ]</a>
              <a href="thread.html#5721">[ thread ]</a>
              <a href="subject.html#5721">[ subject ]</a>
              <a href="author.html#5721">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Adding back to the list, sorry stupid email client.

would anyone know how this decision is made? When unacked messages get
requeued to be sent? I know it happens if the client disconnects, but does
it also happen on rollback?

Im trying to setup a system whereby if my subscriber picks up an item from
the queue and for some reason is unable to handle it, the item gets readded
to the queue


On Tue, Dec 29, 2009 at 8:36 PM, Alexis Richardson &lt;
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:

&gt;<i> Vishnu
</I>&gt;<i>
</I>&gt;<i> On Tue, Dec 29, 2009 at 2:57 PM, vishnu &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pathsny at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; hi, sorry Im a bit confused. But the behavior of moving the message from
</I>&gt;<i> the
</I>&gt;<i> &gt; unacknowledge queue to the ready queue is already a part of rabbitmq.
</I>&gt;<i>
</I>&gt;<i> In what way?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; There
</I>&gt;<i> &gt; must be some magic constant somewhere which governs this musn't there?
</I>&gt;<i>
</I>&gt;<i> If there were then it need not be time-based.
</I>&gt;<i>
</I>&gt;<i> alexis
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; On Tue, Dec 29, 2009 at 7:18 PM, Alexis Richardson
</I>&gt;<i> &gt; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Vishnu
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On Tue, Dec 29, 2009 at 4:37 AM, vishnu &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pathsny at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; &gt; Hi
</I>&gt;<i> &gt;&gt; &gt;     I'm trying to use rabbitmq for an web application thats close to
</I>&gt;<i> &gt;&gt; &gt; synchronous. The main reason I'm looking at rabbitmq is for the
</I>&gt;<i> &gt;&gt; &gt; reliability
</I>&gt;<i> &gt;&gt; &gt; and transactionality. The idea is for the webapplication to pump
</I>&gt;<i> &gt;&gt; &gt; messages
</I>&gt;<i> &gt;&gt; &gt; into the queue and for a down stream application to subscribe in
</I>&gt;<i> &gt;&gt; &gt; acknowledgement mode and for each message start a transaction, attempt
</I>&gt;<i> &gt;&gt; &gt; to
</I>&gt;<i> &gt;&gt; &gt; process the message and if it fails for technical reasons, to rollback
</I>&gt;<i> &gt;&gt; &gt; the
</I>&gt;<i> &gt;&gt; &gt; transaction.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; OK.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt; However, I would like to be able to configure the time for non-acked
</I>&gt;<i> &gt;&gt; &gt; messages to get requeued to be picked up. Where can this be done?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; This and other 'time based' behaviours are frequently requested, but
</I>&gt;<i> &gt;&gt; *alas* are not yet built-in to RabbitMQ.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; However, don't give up.  You could create a consumer (in any language)
</I>&gt;<i> &gt;&gt; which managed this for you, eg enforcing a disconnect after some time
</I>&gt;<i> &gt;&gt; has passed.  Or, if you are feeling brave you could create a plugin to
</I>&gt;<i> &gt;&gt; do this 'inside the broker'.  Plugins have to be written in erlang.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; I hope that helps.  Perhaps the list will have more immediately useful
</I>&gt;<i> &gt;&gt; suggestions.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; alexis
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; &gt; thanks
</I>&gt;<i> &gt;&gt; &gt; Vishnu
</I>&gt;<i> &gt;&gt; &gt; _______________________________________________
</I>&gt;<i> &gt;&gt; &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt;&gt; &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt;&gt; &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091230/f8da8816/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091230/f8da8816/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005719.html">[rabbitmq-discuss] adjusting timeout for non-acked messages to	be requeued
</A></li>
	<LI>Next message: <A HREF="005722.html">[rabbitmq-discuss] adjusting timeout for non-acked messages to	be requeued
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5721">[ date ]</a>
              <a href="thread.html#5721">[ thread ]</a>
              <a href="subject.html#5721">[ subject ]</a>
              <a href="author.html#5721">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
