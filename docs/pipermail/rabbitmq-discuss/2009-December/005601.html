<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ erlang client documentation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20erlang%20client%20documentation&In-Reply-To=4B181661.4070001%40defuze.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005600.html">
   <LINK REL="Next"  HREF="005602.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ erlang client documentation</H1>
    <B>Vlad Alexandru Ionescu</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20erlang%20client%20documentation&In-Reply-To=4B181661.4070001%40defuze.org"
       TITLE="[rabbitmq-discuss] RabbitMQ erlang client documentation">vlad at lshift.net
       </A><BR>
    <I>Thu Dec  3 21:24:06 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005600.html">[rabbitmq-discuss] RabbitMQ erlang client documentation
</A></li>
        <LI>Next message: <A HREF="005602.html">[rabbitmq-discuss] RabbitMQ erlang client documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5601">[ date ]</a>
              <a href="thread.html#5601">[ thread ]</a>
              <a href="subject.html#5601">[ subject ]</a>
              <a href="author.html#5601">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sylvain,

&gt;<i> I think there is one of the test module which might need some updates 
</I>&gt;<i> then. 
</I>The tests work for us. They should work for you too. Type the following 
while in the rabbitmq-erlang-client folder:

  $ make all_tests

(you should keep rabbitmq-server, rabbitmq-erlang-client and 
rabbitmq-codegen in the same folder for this to work; do not start the 
server for this, it is started by the tests).
If the tests fail there's probably a problem with your copy. If you post 
the output we may be able to help.

&gt;<i> Should channels be on per process basis? Say I create a channel, can I 
</I>&gt;<i> publish more than once without having to wait for each ack? Or is 
</I>&gt;<i> there a sequential constraint so that the channel knows where to 
</I>&gt;<i> propagate the potential ack from the server
</I>You can use a channel from more than one process. The channel process 
queues up the calls and sends them to the server one by one (sends one, 
waits for reply, sends the next, waits for reply etc). While a call is 
in the queue to be sent to the server, the (user) process which 
initiated the call is blocked while the methods in front in the queue 
are processed plus the time for our actual call.
So the channel takes care of serializing the methods and remembers which 
process sent which method so it can reply (return value) to user 
processes accordingly.
However, due to the synchronous nature of this mechanism, just one 
channel will not utilize the entire bandwidth available (e.g. while the 
channel is waiting for the reply, it does not send the next call). For 
this reason, it is advisable to split tasks that have no relation to 
each other (the order of the events does not matter between tasks) so 
that they use separate channels.

All the above applies to synchronous methods (like basic.get for example).
Asynchronous methods (like basic.publish) are not queued up. They are 
sent immediately no matter what is in the queue (a call may end up after 
a cast at the server even though the call was made before the cast, if 
the call has to wait in line).

You can use amqp_channel:call/{2,3} for both sync and async methods 
(async methods return 'ok' immediately) and amqp_channel:cast/{2,3} only 
for async methods.


Vlad.


-- 

 [][][] Vlad Alexandru Ionescu | Developer
   [][] LShift Ltd             | Tel: +44 (0)20 7729 7060
 []  [] www.lshift.net         | Email: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">vlad at lshift.net</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005600.html">[rabbitmq-discuss] RabbitMQ erlang client documentation
</A></li>
	<LI>Next message: <A HREF="005602.html">[rabbitmq-discuss] RabbitMQ erlang client documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5601">[ date ]</a>
              <a href="thread.html#5601">[ thread ]</a>
              <a href="subject.html#5601">[ subject ]</a>
              <a href="author.html#5601">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
