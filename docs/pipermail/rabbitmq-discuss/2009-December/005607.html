<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ erlang client documentation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20erlang%20client%20documentation&In-Reply-To=53808.193.253.216.132.1259914123.squirrel%40mail1.webfaction.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005604.html">
   <LINK REL="Next"  HREF="005608.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ erlang client documentation</H1>
    <B>Vlad Alexandru Ionescu</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20erlang%20client%20documentation&In-Reply-To=53808.193.253.216.132.1259914123.squirrel%40mail1.webfaction.com"
       TITLE="[rabbitmq-discuss] RabbitMQ erlang client documentation">vlad at lshift.net
       </A><BR>
    <I>Fri Dec  4 17:49:13 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005604.html">[rabbitmq-discuss] RabbitMQ erlang client documentation
</A></li>
        <LI>Next message: <A HREF="005608.html">[rabbitmq-discuss] RabbitMQ erlang client documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5607">[ date ]</a>
              <a href="thread.html#5607">[ thread ]</a>
              <a href="subject.html#5607">[ subject ]</a>
              <a href="author.html#5607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sylvain,

&gt;<i> Anyway, currently I have one single connection and I'm opening a channel
</I>&gt;<i> for each HTTP request, publishing and immediatly closing that channel. Is
</I>&gt;<i> that the most efficient usage of the erlang lib? If not, any hints to
</I>&gt;<i> improve it if you don't mind?
</I>
I think you're better off keeping the channel open as well, and using it 
(just one channel) for all your requests, since you're sending only 
basic.publish (which is an async method). This way you can avoid the 
delay of sending channel.open and then waiting for channel.open_ok for 
every request.
Nagle is turned off in the Erlang client so the methods are sent promptly.
Also, I suggest you use amqp_channel:cast/3 rather than 
amqp_channel:call/3. The cast function returns a bit quicker than the 
call function (lets your process continue quicker).


Vlad.


-- 

 [][][] Vlad Alexandru Ionescu | Developer
   [][] LShift Ltd             | Tel: +44 (0)20 7729 7060
 []  [] www.lshift.net         | Email: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">vlad at lshift.net</A>




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005604.html">[rabbitmq-discuss] RabbitMQ erlang client documentation
</A></li>
	<LI>Next message: <A HREF="005608.html">[rabbitmq-discuss] RabbitMQ erlang client documentation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5607">[ date ]</a>
              <a href="thread.html#5607">[ thread ]</a>
              <a href="subject.html#5607">[ subject ]</a>
              <a href="author.html#5607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
