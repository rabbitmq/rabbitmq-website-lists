<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cluster failover behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Cluster%20failover%20behaviour&In-Reply-To=8644f17a0912141457g54b2bbedi3b7ae52627fbe667%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005656.html">
   <LINK REL="Next"  HREF="005658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cluster failover behaviour</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Cluster%20failover%20behaviour&In-Reply-To=8644f17a0912141457g54b2bbedi3b7ae52627fbe667%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Cluster failover behaviour">matthias at lshift.net
       </A><BR>
    <I>Mon Dec 14 23:29:51 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005656.html">[rabbitmq-discuss] Cluster failover behaviour
</A></li>
        <LI>Next message: <A HREF="005658.html">[rabbitmq-discuss] Cluster failover behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5657">[ date ]</a>
              <a href="thread.html#5657">[ thread ]</a>
              <a href="subject.html#5657">[ subject ]</a>
              <a href="author.html#5657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert Borkowski wrote:
&gt;<i> Agreed, and that's why I'm testing failure scenarios.
</I>&gt;<i> 
</I>&gt;<i> It would be nice to not to have to re-invent the wheel :-)
</I>&gt;<i> 
</I>&gt;<i> Isn't this a somewhat common use-case? A work queue filled with
</I>&gt;<i> tasks that can only be run once, running on real hardware which
</I>&gt;<i> means that at some point parts of the system WILL fail.
</I>
&quot;at-least once&quot; and &quot;at-most once&quot; execution are quite easy to do. 
&quot;exactly once&quot; is generally impossible. In case that is not obvious, 
think about what precisely it is that you want to happen exactly once. 
Then try to figure out how you'd perform that action *and record the 
fact that it has happened* in one atomic action.

By far the easiest way to get around that is to make the desired action 
idempotent. Then it is sufficient to guarantee &quot;at-least once&quot; 
execution, which is easy to do in AMQP by ack'ing messages after the 
actions that they trigger have been completed.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005656.html">[rabbitmq-discuss] Cluster failover behaviour
</A></li>
	<LI>Next message: <A HREF="005658.html">[rabbitmq-discuss] Cluster failover behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5657">[ date ]</a>
              <a href="thread.html#5657">[ thread ]</a>
              <a href="subject.html#5657">[ subject ]</a>
              <a href="author.html#5657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
