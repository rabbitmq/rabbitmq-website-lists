<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cluster failover behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Cluster%20failover%20behaviour&In-Reply-To=8644f17a0912141533w3d0a4c93tedcfdd69617f095a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005658.html">
   <LINK REL="Next"  HREF="005663.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cluster failover behaviour</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Cluster%20failover%20behaviour&In-Reply-To=8644f17a0912141533w3d0a4c93tedcfdd69617f095a%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Cluster failover behaviour">matthias at lshift.net
       </A><BR>
    <I>Tue Dec 15 00:23:00 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005658.html">[rabbitmq-discuss] Cluster failover behaviour
</A></li>
        <LI>Next message: <A HREF="005663.html">[rabbitmq-discuss] TCP/SSL Listeners stuck, not responding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5659">[ date ]</a>
              <a href="thread.html#5659">[ thread ]</a>
              <a href="subject.html#5659">[ subject ]</a>
              <a href="author.html#5659">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Robert,

Robert Borkowski wrote:
&gt;<i> So what is going on in my test case?
</I>&gt;<i> 
</I>&gt;<i> I restart rabbitmq and I suddenly have a bunch of old messages in the 
</I>&gt;<i> queue. Surely that's not expected
</I>
Things actually went wrong way before then, namely when the client 
created a queue with the same name on mq2. Rabbit is a bit schizophrenic 
as to whether it considers that queue to be the same queue or a 
different queue.

That is something we've known about for a while. See, for example, Jason 
William's post and my follow-up at 
<A HREF="http://old.nabble.com/Clustering-Question-td23888965.html#a23932367">http://old.nabble.com/Clustering-Question-td23888965.html#a23932367</A>

What I didn't realise then is that the acknowledgements for the messages 
from the queue on the first node will go astray, which is why those 
message pop up again when that node is restarted. That clearly is 
perplexing, so I have raised the priority of this bug in our issue tracker.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005658.html">[rabbitmq-discuss] Cluster failover behaviour
</A></li>
	<LI>Next message: <A HREF="005663.html">[rabbitmq-discuss] TCP/SSL Listeners stuck, not responding
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5659">[ date ]</a>
              <a href="thread.html#5659">[ thread ]</a>
              <a href="subject.html#5659">[ subject ]</a>
              <a href="author.html#5659">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
