<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Blocking connections - during load tests
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Blocking%20connections%20-%20during%20load%20tests&In-Reply-To=%3C4a5d77e4-4796-46e4-b837-9d0a8dee8179%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032629.html">
   <LINK REL="Next"  HREF="032637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Blocking connections - during load tests</H1>
    <B>Billy Stack</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Blocking%20connections%20-%20during%20load%20tests&In-Reply-To=%3C4a5d77e4-4796-46e4-b837-9d0a8dee8179%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Blocking connections - during load tests">bs.stack at gmail.com
       </A><BR>
    <I>Tue Dec 17 09:41:25 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032629.html">[rabbitmq-discuss] Error in the Java testing client for ssl.
</A></li>
        <LI>Next message: <A HREF="032637.html">[rabbitmq-discuss] Blocking connections - during load tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32635">[ date ]</a>
              <a href="thread.html#32635">[ thread ]</a>
              <a href="subject.html#32635">[ subject ]</a>
              <a href="author.html#32635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>All,

We are experiencing difficulty when performing load tests on one of our 
applications that uses RabbitMQ (via the .NET client).

Using JMeter with 30 concurrent threads we started to hammer our 
application.
The memory high-water mark was reached after a couple of hours.

Once this was reached the applications rabbitmq connection changed to 
status &quot;blocked&quot;.
Also, subsequent new connections go to status &quot;blocking&quot;
For some reason, two other connections seem to be &quot;running&quot;

The question I have is we then stop the load tests, the server does not 
recover, is this as expected?
Is the problem the number of channels that we seem to have open for the 
load tests (i.e. 734)?

Any help greatly appreciated

Thanks,
Billy Stack


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131217/44d5b38d/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131217/44d5b38d/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rabbit_connections.PNG
Type: image/png
Size: 38795 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131217/44d5b38d/attachment.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131217/44d5b38d/attachment.png</A>&gt;
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032629.html">[rabbitmq-discuss] Error in the Java testing client for ssl.
</A></li>
	<LI>Next message: <A HREF="032637.html">[rabbitmq-discuss] Blocking connections - during load tests
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32635">[ date ]</a>
              <a href="thread.html#32635">[ thread ]</a>
              <a href="subject.html#32635">[ subject ]</a>
              <a href="author.html#32635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
