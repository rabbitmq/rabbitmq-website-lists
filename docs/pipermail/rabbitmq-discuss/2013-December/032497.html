<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Send durable messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Send%20durable%20messages&In-Reply-To=%3CCAMcAHLUDcN_UOmvzZbJK_ZOuKAYr2zV0Cr3V3KG6ZGf1o%3DcxhQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032493.html">
   <LINK REL="Next"  HREF="032488.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Send durable messages</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Send%20durable%20messages&In-Reply-To=%3CCAMcAHLUDcN_UOmvzZbJK_ZOuKAYr2zV0Cr3V3KG6ZGf1o%3DcxhQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Send durable messages">videlalvaro at gmail.com
       </A><BR>
    <I>Thu Dec 12 09:17:34 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032493.html">[rabbitmq-discuss] Send durable messages
</A></li>
        <LI>Next message: <A HREF="032488.html">[rabbitmq-discuss] Error starting rabbitmq in IPv6 environment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32497">[ date ]</a>
              <a href="thread.html#32497">[ thread ]</a>
              <a href="subject.html#32497">[ subject ]</a>
              <a href="author.html#32497">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You can find all the tutorials ported to Erlang in that URL.

While not ideal, most RabbitMQ plugins, like shovel or federation, use the
Erlang client.

Regards,

Alvaro

On Thursday, December 12, 2013, Kaveh Shahbazian wrote:

&gt;<i> Many thanks to you! That worked! Of-course it's strange why there is so
</I>&gt;<i> little Erlang samples for RabbitMQ! :)
</I>&gt;<i>
</I>&gt;<i> Kaveh Shahbazian
</I>&gt;<i> &quot;Walking on water and developing software from a specification are easy if
</I>&gt;<i> both are frozen.&quot;
</I>&gt;<i> -- Edward Berard
</I>&gt;<i> &lt;<A HREF="http://goo.gl/ZZ2TMu">http://goo.gl/ZZ2TMu</A>&gt;
</I>&gt;<i> &lt;<A HREF="http://stackoverflow.com/users/54467/kaveh-shahbazian">http://stackoverflow.com/users/54467/kaveh-shahbazian</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Dec 12, 2013 at 1:51 AM, Alvaro Videla &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">videlalvaro at gmail.com</A>&lt;javascript:_e({}, 'cvml', '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">videlalvaro at gmail.com</A>');&gt;
</I>&gt;<i> &gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You need to set the delivery_mode = 2
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> See
</I>&gt;&gt;<i> <A HREF="https://github.com/rabbitmq/rabbitmq-tutorials/blob/master/erlang/new_task.erl#L22">https://github.com/rabbitmq/rabbitmq-tutorials/blob/master/erlang/new_task.erl#L22</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Alvaro
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Dec 11, 2013 at 8:54 PM, Kaveh Shahbazian
</I>&gt;&gt;<i> &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">kaveh.shahbazian at gmail.com</A> &lt;javascript:_e({}, 'cvml',
</I>&gt;&gt;<i> '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">kaveh.shahbazian at gmail.com</A>');&gt;&gt; wrote:
</I>&gt;&gt;<i> &gt; Hi, I want to send durable messages. But when I add 'durable = true' in
</I>&gt;&gt;<i> &gt; publish or message it complains that there is no such field in that
</I>&gt;&gt;<i> record.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; here is my code:
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; send() -&gt;
</I>&gt;&gt;<i> &gt;     {ok, Connection} = amqp_connection:start(#amqp_params_network{ host
</I>&gt;&gt;<i> =
</I>&gt;&gt;<i> &gt; &quot;localhost&quot; }),
</I>&gt;&gt;<i> &gt;     {ok, Channel} = amqp_connection:open_channel(Connection),
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;     amqp_channel:call(Channel, #'queue.declare'{queue = &lt;&lt;&quot;q1_queue&quot;&gt;&gt;,
</I>&gt;&gt;<i> &gt; durable = true}),
</I>&gt;&gt;<i> &gt;     amqp_channel:cast(Channel,
</I>&gt;&gt;<i> &gt;                       #'basic.publish'{
</I>&gt;&gt;<i> &gt; exchange = &lt;&lt;&quot;&quot;&gt;&gt;,
</I>&gt;&gt;<i> &gt; routing_key = &lt;&lt;&quot;q1_queue&quot;&gt;&gt;
</I>&gt;&gt;<i> &gt; },
</I>&gt;&gt;<i> &gt;                       #amqp_msg{
</I>&gt;&gt;<i> &gt; payload = &lt;&lt;&quot;Hello World!&quot;&gt;&gt;
</I>&gt;&gt;<i> &gt; }),
</I>&gt;&gt;<i> &gt;     io:format(&quot; [x] Sent 'Hello World!'~n&quot;),
</I>&gt;&gt;<i> &gt;     ok = amqp_channel:close(Channel),
</I>&gt;&gt;<i> &gt;     ok = amqp_connection:close(Connection),
</I>&gt;&gt;<i> &gt;     ok.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Thanks;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> &lt;javascript:_e({}, 'cvml',
</I>&gt;&gt;<i> '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>');&gt;
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> &lt;javascript:_e({}, 'cvml',
</I>&gt;&gt;<i> '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>');&gt;
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131212/b7714cb8/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131212/b7714cb8/attachment.html</A>&gt;
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032493.html">[rabbitmq-discuss] Send durable messages
</A></li>
	<LI>Next message: <A HREF="032488.html">[rabbitmq-discuss] Error starting rabbitmq in IPv6 environment
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32497">[ date ]</a>
              <a href="thread.html#32497">[ thread ]</a>
              <a href="subject.html#32497">[ subject ]</a>
              <a href="author.html#32497">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
