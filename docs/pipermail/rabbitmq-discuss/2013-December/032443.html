<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] When rabbitmq is clustered with one other	node we see a very slow dequeue of messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20When%20rabbitmq%20is%20clustered%20with%20one%20other%0A%09node%20we%20see%20a%20very%20slow%20dequeue%20of%20messages&In-Reply-To=%3Cloom.20131211T013716-730%40post.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032429.html">
   <LINK REL="Next"  HREF="032788.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] When rabbitmq is clustered with one other	node we see a very slow dequeue of messages</H1>
    <B>James</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20When%20rabbitmq%20is%20clustered%20with%20one%20other%0A%09node%20we%20see%20a%20very%20slow%20dequeue%20of%20messages&In-Reply-To=%3Cloom.20131211T013716-730%40post.gmane.org%3E"
       TITLE="[rabbitmq-discuss] When rabbitmq is clustered with one other	node we see a very slow dequeue of messages">james.eddy at us.thalesgroup.com
       </A><BR>
    <I>Wed Dec 11 00:43:53 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032429.html">[rabbitmq-discuss] When rabbitmq is clustered with one other node we see a very slow dequeue of messages
</A></li>
        <LI>Next message: <A HREF="032788.html">[rabbitmq-discuss] When rabbitmq is clustered with one other	node we see a very slow dequeue of messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32443">[ date ]</a>
              <a href="thread.html#32443">[ thread ]</a>
              <a href="subject.html#32443">[ subject ]</a>
              <a href="author.html#32443">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at ...</A>&gt; writes:

&gt;<i> 
</I>&gt;<i> On 06/12/13 21:29, James wrote:
</I>&gt;<i> &gt; Result: CLIENT_A0 continues to publish at 1MSG/sec, after net_ticktime
</I>&gt;<i> &gt; CLIENT_A1 is dequeueing much less then 1MSG/sec and falls behind.
</I>&gt;<i> 
</I>&gt;<i> Thanks for a detailed description of the issue. Just to let you know 
</I>&gt;<i> that I've reproduced this.
</I>&gt;<i> 
</I>&gt;<i> Cheers, Simon
</I>&gt;<i> 
</I>
Hi Simon. Thanks for the update.

Where you also able to observe the other issues that occur in this state? 
Such as:
* rabbitmqctl cluster_status/list_queues/list_connections/list_exchanges all 
hang, rabbitmq status does not hang
* declareQueue, declarePassiveQueue, declareExchange, declareExchangePassive 
all hang


One last thing I wanted to add to this. When I run this on average hardware 
(4 core 2GHZ, x86, 8GB ram) the issue is still seen, but not as noticeable. 
When I run this on much more modest hardware (PPC 2core 1GHZ 1GB RAM) The 
issue is several of orders of magnitude worse, but otherwise this lower end 
hardware is sufficient for the message load.

Thanks,
James



</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032429.html">[rabbitmq-discuss] When rabbitmq is clustered with one other node we see a very slow dequeue of messages
</A></li>
	<LI>Next message: <A HREF="032788.html">[rabbitmq-discuss] When rabbitmq is clustered with one other	node we see a very slow dequeue of messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32443">[ date ]</a>
              <a href="thread.html#32443">[ thread ]</a>
              <a href="subject.html#32443">[ subject ]</a>
              <a href="author.html#32443">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
