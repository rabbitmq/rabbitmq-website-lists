<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Connection alwalys is blocked!
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Connection%20alwalys%20is%20blocked%21&In-Reply-To=%3C529F1345.2060603%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032300.html">
   <LINK REL="Next"  HREF="032320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Connection alwalys is blocked!</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Connection%20alwalys%20is%20blocked%21&In-Reply-To=%3C529F1345.2060603%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Connection alwalys is blocked!">simon at rabbitmq.com
       </A><BR>
    <I>Wed Dec  4 11:34:29 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032300.html">[rabbitmq-discuss] Connection alwalys is blocked!
</A></li>
        <LI>Next message: <A HREF="032320.html">[rabbitmq-discuss] Connection alwalys is blocked!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32316">[ date ]</a>
              <a href="thread.html#32316">[ thread ]</a>
              <a href="subject.html#32316">[ subject ]</a>
              <a href="author.html#32316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ultimately, if flow control is restricting you to 600 messages/s then 
that's the maximum rate that something (probably the disk - these are 
persistent messages?) can handle.

The reason you can't turn flow control off is that it wouldn't lead to a 
good outcome - you'd be able to publish messages to the server faster 
for a short while, but these messages would queue up internally 
(probably waiting to get on disk) and memory use would go through the 
roof. It's possible for memory to run out quite quickly in this sort of 
scenario, and you'd not be aware anything was wrong since the messages 
wouldn't count as in the queues yet.

Flow control is the messenger. Don't shoot it.

Cheers, Simon

On 04/12/13 04:00, pierre wrote:
&gt;<i> Hi:
</I>&gt;<i>     Forgive my poor english.
</I>&gt;<i>     When publishing rate is up to 600(one connection, one channel),
</I>&gt;<i> connection state will be flow(publish rate recently restrict by server).
</I>&gt;<i>      In cluster and ha environment, publishing rate is slower...
</I>&gt;<i>
</I>&gt;<i>       / &lt;<A HREF="http://www.rabbitmq.com/memory.html">http://www.rabbitmq.com/memory.html</A>&gt; A per-connection mechanism that
</I>&gt;<i> prevents messages being published faster than they can be routed to queues.
</I>&gt;<i>      A global mechanism that prevents any messages from being published when
</I>&gt;<i> the memory usage exceeds a configured threshold or free disk space drops
</I>&gt;<i> below a configured threshold./
</I>&gt;<i>
</I>&gt;<i>      It looks like that a per-connection mechanism can not be configured or
</I>&gt;<i> disabled.
</I>&gt;<i>
</I>&gt;<i>      Is there any better solution to imporve throughtput? How do id disable
</I>&gt;<i> the flow-control?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Connection-alwalys-is-blocked-tp31807.html">http://rabbitmq.1065348.n5.nabble.com/Connection-alwalys-is-blocked-tp31807.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032300.html">[rabbitmq-discuss] Connection alwalys is blocked!
</A></li>
	<LI>Next message: <A HREF="032320.html">[rabbitmq-discuss] Connection alwalys is blocked!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32316">[ date ]</a>
              <a href="thread.html#32316">[ thread ]</a>
              <a href="subject.html#32316">[ subject ]</a>
              <a href="author.html#32316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
