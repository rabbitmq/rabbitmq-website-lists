<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] SSL Client using spring
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20SSL%20Client%20using%20spring&In-Reply-To=%3CCADtU9_vNCGnZCPZpLQyNYO%3D8DW2kJhL17PnLSC64U1WwuHhadg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032431.html">
   <LINK REL="Next"  HREF="032405.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] SSL Client using spring</H1>
    <B>Gary Russell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20SSL%20Client%20using%20spring&In-Reply-To=%3CCADtU9_vNCGnZCPZpLQyNYO%3D8DW2kJhL17PnLSC64U1WwuHhadg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] SSL Client using spring">grussell at gopivotal.com
       </A><BR>
    <I>Tue Dec 10 17:04:59 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032431.html">[rabbitmq-discuss] SSL Client using spring
</A></li>
        <LI>Next message: <A HREF="032405.html">[rabbitmq-discuss] Setting message-expiry on a queue using	rabbitmqadmin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32433">[ date ]</a>
              <a href="thread.html#32433">[ thread ]</a>
              <a href="subject.html#32433">[ subject ]</a>
              <a href="author.html#32433">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You didn't show your wiring, but clearly you can see from the stack trace
that the Spring factory is delegating to the rabbit client factory, and
it's using SSL...

Caused by: java.net.ConnectException: Connection refused: connect
at java.net.PlainSocketImpl.socketConnect(Native Method)
at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
at java.net.Socket.connect(Socket.java:529)
at com.sun.net.ssl.internal.ssl.SSLSocketImpl
.connect(SSLSocketImpl.java:564)
at
com.rabbitmq.client.ConnectionFactory.createFrameHandler(ConnectionFactory.java:445)
at
com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:504)
at
com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:545)
at
org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:181)

... so there must be something wrong with your configuration.



On Tue, Dec 10, 2013 at 11:41 AM, PATAR, SAGAR &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sp345s at att.com</A>&gt; wrote:

&gt;<i>  Thanks Gary ..
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I tried as you suggested below by wiring my CF to the spring &#8230;It still
</I>&gt;<i> doesn&#8217;t work ..
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I was able to get it working with a simple java but not through spring &#8230;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Pl. find the log and the context file attached ..
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Appreciate all the help..
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Sagar
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *From:* rabbitmq-discuss [mailto:
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] *On Behalf Of *Gary Russell
</I>&gt;<i> *Sent:* Friday, December 06, 2013 1:30 PM
</I>&gt;<i> *To:* Discussions about RabbitMQ
</I>&gt;<i> *Subject:* Re: [rabbitmq-discuss] SSL Client using spring
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Wire up your rabbit connection factory as you wish, and then provide a
</I>&gt;<i> reference to it to the spring connection factory...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &lt;rabbit:connection-factory id=&quot;connectionFactory&quot;
</I>&gt;<i> connection-factory=&quot;rabbitFactory&quot; ... /&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Fri, Dec 6, 2013 at 1:22 PM, PATAR, SAGAR &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sp345s at att.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> I don&#8217;t see any option to use SSL and pass the cert / keystore using
</I>&gt;<i> spring amqp &#8230; Can you pl. help me with some examples &#8230;
</I>&gt;<i>
</I>&gt;<i> I was able to get it working using a simple java class ..but cant see
</I>&gt;<i> options with spring amqp
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Sagar
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131210/5b63d110/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131210/5b63d110/attachment.html</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032431.html">[rabbitmq-discuss] SSL Client using spring
</A></li>
	<LI>Next message: <A HREF="032405.html">[rabbitmq-discuss] Setting message-expiry on a queue using	rabbitmqadmin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32433">[ date ]</a>
              <a href="thread.html#32433">[ thread ]</a>
              <a href="subject.html#32433">[ subject ]</a>
              <a href="author.html#32433">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
