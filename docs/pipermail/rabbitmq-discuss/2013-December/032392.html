<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] consumption of messages of a HA clustered disc queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20consumption%20of%20messages%20of%20a%20HA%20clustered%0A%20disc%20queue&In-Reply-To=%3C52A195FD.303%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032391.html">
   <LINK REL="Next"  HREF="032388.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] consumption of messages of a HA clustered disc queue</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20consumption%20of%20messages%20of%20a%20HA%20clustered%0A%20disc%20queue&In-Reply-To=%3C52A195FD.303%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] consumption of messages of a HA clustered disc queue">simon at rabbitmq.com
       </A><BR>
    <I>Fri Dec  6 09:16:45 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032391.html">[rabbitmq-discuss] consumption of messages of a HA clustered disc	queue
</A></li>
        <LI>Next message: <A HREF="032388.html">[rabbitmq-discuss] SSL between cluster hosts supported ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32392">[ date ]</a>
              <a href="thread.html#32392">[ thread ]</a>
              <a href="subject.html#32392">[ subject ]</a>
              <a href="author.html#32392">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;In normal operation, for each mirrored-queue, there is one master and 
several slaves, each on a different node. The slaves apply the 
operations that occur to the master in exactly the same order as the 
master and thus maintain the same state. All actions other than 
publishes go only to the master, and the master then broadcasts the 
effect of the actions to the slaves. Thus clients consuming from a 
mirrored queue are in fact consuming from the master.&quot;
   -- <A HREF="http://www.rabbitmq.com/ha.html">http://www.rabbitmq.com/ha.html</A>

So no, clients cannot accidentally consume the same message from 
different nodes.

Cheers, Simon

On 06/12/2013 2:07AM, Brent Ryan wrote:
&gt;<i> If I have a 2 node HA rabbitmq disc node cluster that we're using
</I>&gt;<i> confirms/acks that live behind a load balancer...  What happens when I
</I>&gt;<i> consume messages from this cluster from multiple consumers and/or
</I>&gt;<i> threads?  Is it possible for multiple threads to consume the same
</I>&gt;<i> message since it's sitting behind a load balancer?  In other words, does
</I>&gt;<i> the consumption of a message from an HA queue mark a message on all
</I>&gt;<i> nodes in the cluster as &quot;consumed in processing&quot; before returning or
</I>&gt;<i> will we hit issues with multiple threads possibly consuming the same
</I>&gt;<i> message through the load balancer?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Brent
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>
-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032391.html">[rabbitmq-discuss] consumption of messages of a HA clustered disc	queue
</A></li>
	<LI>Next message: <A HREF="032388.html">[rabbitmq-discuss] SSL between cluster hosts supported ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32392">[ date ]</a>
              <a href="thread.html#32392">[ thread ]</a>
              <a href="subject.html#32392">[ subject ]</a>
              <a href="author.html#32392">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
