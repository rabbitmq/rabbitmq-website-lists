<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Noticed way too many open connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Noticed%20way%20too%20many%20open%20connections&In-Reply-To=%3C8784ACF7-7710-47ED-B982-542EC29B66BF%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032262.html">
   <LINK REL="Next"  HREF="032267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Noticed way too many open connections</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Noticed%20way%20too%20many%20open%20connections&In-Reply-To=%3C8784ACF7-7710-47ED-B982-542EC29B66BF%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Noticed way too many open connections">mklishin at gopivotal.com
       </A><BR>
    <I>Mon Dec  2 21:59:38 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032262.html">[rabbitmq-discuss] Noticed way too many open connections
</A></li>
        <LI>Next message: <A HREF="032267.html">[rabbitmq-discuss] Noticed way too many open connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32265">[ date ]</a>
              <a href="thread.html#32265">[ thread ]</a>
              <a href="subject.html#32265">[ subject ]</a>
              <a href="author.html#32265">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 3 Dec 2013, at 01:10, cw storm &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">cwstorm at gmail.com</A>&gt; wrote:

&gt;<i> So if I set heartbeat timeout, if the specific conn/channel hasn't been closed for a specified time, then the rabbit server will close that connection/channel, right?  Is there any harm in putting this in the code?  I want to make sure that this is good practice and such.
</I>
Hearbeats allow RabbitMQ and compliant clients detect peer disappearance quicker
(than via TCP connection closure). It only affects connections.

There is no harm in using heartbeats, just make sure that the value is not too high
or two low. Lower values means quicker connection loss detection but increase network traffic
and slightly increase server load per connection.
Heartbeat frames will be sent at roughly half the interval (so, if the timeout is set to
100 seconds, a little bit of data will be sent every ~50 seconds from both ends). After
two missed heartbeats (full interval duration), RabbitMQ will consider the connection closed.

Unless you have hundreds of connections, any value between 60 and 180 should be fine.

MK

Software Engineer, Pivotal/RabbitMQ


</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032262.html">[rabbitmq-discuss] Noticed way too many open connections
</A></li>
	<LI>Next message: <A HREF="032267.html">[rabbitmq-discuss] Noticed way too many open connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32265">[ date ]</a>
              <a href="thread.html#32265">[ thread ]</a>
              <a href="subject.html#32265">[ subject ]</a>
              <a href="author.html#32265">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
