<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Running RabbitMQ with little RAM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Running%20RabbitMQ%20with%20little%20RAM&In-Reply-To=%3C52B2CEE9.9020502%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032689.html">
   <LINK REL="Next"  HREF="032700.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Running RabbitMQ with little RAM</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Running%20RabbitMQ%20with%20little%20RAM&In-Reply-To=%3C52B2CEE9.9020502%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Running RabbitMQ with little RAM">simon at rabbitmq.com
       </A><BR>
    <I>Thu Dec 19 10:48:09 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032689.html">[rabbitmq-discuss] Running RabbitMQ with little RAM
</A></li>
        <LI>Next message: <A HREF="032700.html">[rabbitmq-discuss] How to pause and resume consumption gracefully	in rabbitmq?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32694">[ date ]</a>
              <a href="thread.html#32694">[ thread ]</a>
              <a href="subject.html#32694">[ subject ]</a>
              <a href="author.html#32694">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/12/13 08:05, Gotthard, Petr wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> Did anyone try to run RabbitMQ in an embedded / very memory constrained
</I>&gt;<i> environment? Currently we run Rabbit nicely at a  512MB machine, but we
</I>&gt;<i> would like to downgrade to far less RAM. What is the world record for
</I>&gt;<i> smallest RabbitMQ installation? Did anyone tried e.g. 64MB?
</I>&gt;<i>
</I>&gt;<i> I&#8217;ve seen Erlang-mini that claims to fit into 20MB. If we reduce the
</I>&gt;<i> prefetch and use very small messages, could 48-64MB RAM be a realistic
</I>&gt;<i> number?
</I>
The Erlang mini claim is for disk space BTW.

I don't have any real world experience trying to make RabbitMQ fit into 
a small memory footprint, but here are some observations:

You can certainly get an idle rabbit to fit into &lt; 32MB memory. To 
squeeze out the last few MB you should disable all plugins, reduce the 
maximum number of Erlang processes by modifying SERVER_ERL_ARGS to take 
out the '+P 1048576' attribute, and reduce the ulimit to a reasonably 
small number.

A lightly loaded rabbit will use little more than that. But heavily 
loading the server will lead to memory usage reaching for the sky fairly 
quickly.

Hopefully others have more real world experience...

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032689.html">[rabbitmq-discuss] Running RabbitMQ with little RAM
</A></li>
	<LI>Next message: <A HREF="032700.html">[rabbitmq-discuss] How to pause and resume consumption gracefully	in rabbitmq?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32694">[ date ]</a>
              <a href="thread.html#32694">[ thread ]</a>
              <a href="subject.html#32694">[ subject ]</a>
              <a href="author.html#32694">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
