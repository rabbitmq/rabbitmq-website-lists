<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] A few questions about custom	rabbit_msg_store_index implementations
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20A%20few%20questions%20about%20custom%0A%09rabbit_msg_store_index%20implementations&In-Reply-To=%3CCAE3HoVSpxNvrHVDY39OB0NAxat0-c%3D1kt%2BLt2x%2Bk1wCx1dURiw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014317.html">
   <LINK REL="Next"  HREF="014323.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] A few questions about custom	rabbit_msg_store_index implementations</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20A%20few%20questions%20about%20custom%0A%09rabbit_msg_store_index%20implementations&In-Reply-To=%3CCAE3HoVSpxNvrHVDY39OB0NAxat0-c%3D1kt%2BLt2x%2Bk1wCx1dURiw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] A few questions about custom	rabbit_msg_store_index implementations">michael.s.klishin at gmail.com
       </A><BR>
    <I>Wed Aug  3 15:43:41 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014317.html">[rabbitmq-discuss] Unable to join cluster: &quot;Bad cookie in table definition rabbit_queue&quot;
</A></li>
        <LI>Next message: <A HREF="014323.html">[rabbitmq-discuss] A few questions about custom	rabbit_msg_store_index implementations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14318">[ date ]</a>
              <a href="thread.html#14318">[ thread ]</a>
              <a href="subject.html#14318">[ subject ]</a>
              <a href="author.html#14318">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am looking at implementing my own rabbit_msg_store_index that would use
Redis (probably with JSON serialization
of Erlang data types, I need basic queue inspection capabilities and don't
care much about performance degradation compared to
raw ETS).

My first question is, could someone from the rabbitmq team briefly explain
when each of the functions is used? insert and delete
are pretty self-explanatory but some others are not. This is what I am
referring to:

behaviour_info(callbacks) -&gt;
    [{new,            1},
     {recover,        1},
     {lookup,         2},
     {insert,         2},
     {update,         2},
     {update_fields,  3},
     {delete,         2},
     {delete_by_file, 2},
     {terminate,      1}];


My 2nd question is: I see that rabbit_app.in instructs rabbit to use ETS
implementation. Does it mean that in order to use Redis backend I'd have
to build rabbit from source and build my own .deb packages? or is there a
way to do this from a &quot;regular&quot; dynamically loaded plugin?

Thank you.

-- 
MK

<A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
<A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110803/33dc15d4/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110803/33dc15d4/attachment.htm</A>&gt;
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014317.html">[rabbitmq-discuss] Unable to join cluster: &quot;Bad cookie in table definition rabbit_queue&quot;
</A></li>
	<LI>Next message: <A HREF="014323.html">[rabbitmq-discuss] A few questions about custom	rabbit_msg_store_index implementations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14318">[ date ]</a>
              <a href="thread.html#14318">[ thread ]</a>
              <a href="subject.html#14318">[ subject ]</a>
              <a href="author.html#14318">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
