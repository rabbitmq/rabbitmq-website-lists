<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Temporary queue being made when task fails
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Temporary%20queue%20being%20made%20when%20task%20fails&In-Reply-To=%3C05EC938E-FB1E-45BB-B612-DABECC0B6395%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014686.html">
   <LINK REL="Next"  HREF="014692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Temporary queue being made when task fails</H1>
    <B>Ask Solem</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Temporary%20queue%20being%20made%20when%20task%20fails&In-Reply-To=%3C05EC938E-FB1E-45BB-B612-DABECC0B6395%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Temporary queue being made when task fails">ask at rabbitmq.com
       </A><BR>
    <I>Mon Aug 22 16:52:57 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014686.html">[rabbitmq-discuss] Temporary queue being made when task fails
</A></li>
        <LI>Next message: <A HREF="014692.html">[rabbitmq-discuss] Temporary queue being made when task fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14688">[ date ]</a>
              <a href="thread.html#14688">[ thread ]</a>
              <a href="subject.html#14688">[ subject ]</a>
              <a href="author.html#14688">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 22 Aug 2011, at 16:36, Matthias Radestock wrote:

&gt;<i> Mark,
</I>&gt;<i> 
</I>&gt;<i> On 22/08/11 15:42, Mark Steele wrote:
</I>&gt;&gt;<i> Incidentally, I have also seen this behavior (where autodelete queues
</I>&gt;&gt;<i> don't get deleted). I'm assuming it's a bug.
</I>&gt;<i> 
</I>&gt;<i> Have you seen this in the context of celery or in general?
</I>&gt;<i> 
</I>&gt;<i> I am not aware of any problems with auto-delete queues in Rabbit.
</I>&gt;<i> 
</I>

Note that auto_delete queues are not deleted until the last consumer
stops consuming from it, and an auto_delete queue is *not*
deleted if there have never been any consumers consuming from it.

This is what the x-expires argument to queue_declare was meant to solve:
<A HREF="http://www.rabbitmq.com/extensions.html#queue-leases">http://www.rabbitmq.com/extensions.html#queue-leases</A>

x-expires is supported by Celery, but not disabled by default as it
was first introduced in RabbitMQ 2.1.0 (which considering that it is
quite some time ago now, it can probably be enabled by default soon).
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014686.html">[rabbitmq-discuss] Temporary queue being made when task fails
</A></li>
	<LI>Next message: <A HREF="014692.html">[rabbitmq-discuss] Temporary queue being made when task fails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14688">[ date ]</a>
              <a href="thread.html#14688">[ thread ]</a>
              <a href="subject.html#14688">[ subject ]</a>
              <a href="author.html#14688">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
