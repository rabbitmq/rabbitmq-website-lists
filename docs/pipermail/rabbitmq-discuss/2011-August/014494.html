<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] facing issues with the SSL implementations with RabbitMQ + Windows + .Net
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20facing%20issues%20with%20the%20SSL%20implementations%0A%20with%20RabbitMQ%20%2B%20Windows%20%2B%20.Net&In-Reply-To=%3C20110811120644.GD3139%40dakota.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014489.html">
   <LINK REL="Next"  HREF="014495.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] facing issues with the SSL implementations with RabbitMQ + Windows + .Net</H1>
    <B>Alexandru Scvor&#355;ov</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20facing%20issues%20with%20the%20SSL%20implementations%0A%20with%20RabbitMQ%20%2B%20Windows%20%2B%20.Net&In-Reply-To=%3C20110811120644.GD3139%40dakota.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] facing issues with the SSL implementations with RabbitMQ + Windows + .Net">alexandru at rabbitmq.com
       </A><BR>
    <I>Thu Aug 11 13:06:44 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014489.html">[rabbitmq-discuss] facing issues with the SSL implementations with RabbitMQ + Windows + .Net
</A></li>
        <LI>Next message: <A HREF="014495.html">[rabbitmq-discuss] facing issues with the SSL implementations with RabbitMQ + Windows + .Net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14494">[ date ]</a>
              <a href="thread.html#14494">[ thread ]</a>
              <a href="subject.html#14494">[ subject ]</a>
              <a href="author.html#14494">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I don't see anything wrong with how you're generating certificate, but I
do see a problem with your certificates:
  the keycert.p12 contains the SERVER certificates, rather than the
  client certificates.

Using your certificates, I get &quot;The message received was unexpected or
badly formatted&quot; on the .NET side and {ssl_upgrade_error,esslaccept} on
the server side.  This is what's expected when you use the server
certificates for the client.  Is that also what you get?

If so, could you please make sure, when generating CLIENT, certificates,
you do

# cd ../client
# openssl pkcs12 -export -out keycert.p12 -in cert.pem -inkey key.pem
# passout pass:password

and not

# cd ../server
# openssl pkcs12 -export -out keycert.p12 -in cert.pem -inkey key.pem
# passout pass:password

or something similar.

Cheers,
Alex


On Thu, Aug 11, 2011 at 12:54:00PM +0530, Abhijit wrote:
&gt;<i> Hi Sir,
</I>&gt;<i> 
</I>&gt;<i> Am sending you the new set of certificates i made today morning which 
</I>&gt;<i> were still giving same errors. Can you please inspect them and let me 
</I>&gt;<i> know what are the errors.
</I>&gt;<i> 
</I>&gt;<i> Thanks and Regards,
</I>&gt;<i> Abhijit
</I>&gt;<i> 
</I>&gt;<i> On 8/10/2011 8:15 PM, Alexandru Scvor&#355;ov wrote:
</I>&gt;<i> &gt;&gt; can you tell me did you create your certificates on windows?
</I>&gt;<i> &gt;&gt; or on linux machine?
</I>&gt;<i> &gt;&gt;      
</I>&gt;<i> &gt; I generated the certificates on Windows Server 2008.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;    
</I>&gt;<i> &gt;&gt; openssl req -x509 -config openssl.cnf -newkey rsa:2048 -days 365 \
</I>&gt;<i> &gt;&gt;       -out cacert.pem -outform PEM -subj /CN=MyTestCA/ -nodes
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; i executed above as
</I>&gt;<i> &gt;&gt; openssl req -x509 -config openssl.cnf -newkey rsa:2048 -days 365 -out cacert.pem -outform PEM -subj /CN=MyTestCA/ -nodes
</I>&gt;<i> &gt;&gt;      
</I>&gt;<i> &gt; I did the same thing.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Could you send the certificates you're using? (same files I sent
</I>&gt;<i> &gt; earlier)  I'll see if I can find anything wrong with them.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Alex
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; On Wed, Aug 10, 2011 at 07:56:51PM +0530, Abhijit wrote:
</I>&gt;<i> &gt;    
</I>&gt;<i> &gt;&gt; OK Sir
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; can you tell me did you create your certificates on windows?
</I>&gt;<i> &gt;&gt; or on linux machine?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; openssl req -x509 -config openssl.cnf -newkey rsa:2048 -days 365 \
</I>&gt;<i> &gt;&gt;       -out cacert.pem -outform PEM -subj /CN=MyTestCA/ -nodes
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; i executed above as
</I>&gt;<i> &gt;&gt; openssl req -x509 -config openssl.cnf -newkey rsa:2048 -days 365 -out cacert.pem -outform PEM -subj /CN=MyTestCA/ -nodes
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; because as you told me that i need to do it similarly as in the website i skipped the '\' since it wasn't a valid element in openssl.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; does that caused the error?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Thanks and Regards,
</I>&gt;<i> &gt;&gt; Abhijit
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; On 8/10/2011 7:38 PM, Alexandru Scvor&#355;ov wrote:
</I>&gt;<i> &gt;&gt;      
</I>&gt;<i> &gt;&gt;&gt;&gt; but with no luck, do i need something more.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;          
</I>&gt;<i> &gt;&gt;&gt; Not that I can think of, no.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; If you're using OpenSSL 1.0.0, could you try with OpenSSL 0.9.8?
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt;&gt; Alex
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; On Wed, Aug 10, 2011 at 07:24:54PM +0530, Abhijit wrote:
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;        
</I>&gt;<i> &gt;&gt;&gt;&gt; Hi sir,
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; i went through all the steps again to make certificates in this link:
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;          
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; <A HREF="http://www.rabbitmq.com/ssl.html#keys-and-certs">http://www.rabbitmq.com/ssl.html#keys-and-certs</A>
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;            
</I>&gt;<i> &gt;&gt;&gt;&gt; but with no luck, do i need something more.
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Thanking you,
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; Regards,
</I>&gt;<i> &gt;&gt;&gt;&gt; Abhijit
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt; On 8/10/2011 5:48 PM, Alexandru Scvor&#355;ov wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;          
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; The code worked now. the certificate you provided did work
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;              
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Great to hear that.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;            
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;     wondering why
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; my certificates are not working??
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;              
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; I suspect you got some step in the certificate generation wrong (I
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; generated the certificates following the instructions on the website).
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; It's ridiculously easy to get something wrong.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; I'd delete all the certificates, and CA you generated and try again.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; The website instructions are right.  You might want to try without
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; changing anything (the CA's name, for instance) just to see that it
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; works.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; You could also try a different version of OpenSSL, but I'd be quite
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; surprised if that were the problem.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Let us how it goes.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Alex
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; On Wed, Aug 10, 2011 at 05:30:42PM +0530, Abhijit wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;            
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Hi sir,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; The code worked now. the certificate you provided did work wondering why
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; my certificates are not working??
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Thanks and Regards,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; Abhijit
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt; On 8/10/2011 5:20 PM, Alexandru Scvor&#355;ov wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;              
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt; :(  That seems perfectly fine.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt; Other ways to get an &quot;unknown ca&quot; error:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;       - forget to add the CA certificate to the Trust store;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;       - have the client use a certificate signed by a different authority
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;         than the one given to the server.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt; I'm out of ideas.  I'm attaching:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;       - cacert.pem and cacert.cer;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;       - keycert.p12 (password is &quot;test&quot;);
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;       - server's cert.pem, key.pem.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt; You'll also need to set RemoteCertificateNameMismatch before starting the connection:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;       cf.Ssl.AcceptablePolicyErrors =
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;         SslPolicyErrors.RemoteCertificateNameMismatch;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt; Could you please try with these and see if it works (or if you get a
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt; different error)?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt; Alex
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt; On Wed, Aug 10, 2011 at 04:16:18PM +0530, Abhijit wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;                
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Ok sir thanks,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; this is the post for the former command s_client:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                  
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; C:\&gt;openssl s_client -connect localhost:5671 -CAfile testca/cacert.pem
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -cert cli
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ent/cert.pem -key client/key.pem -showcerts
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Loading 'screen' into random state - done
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; CONNECTED(00000160)
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; depth=1 CN = Kiprosh7
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; verify return:1
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; depth=0 CN = Kiprosh7, O = server
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; verify return:1
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ---
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Certificate chain
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      0 s:/CN=Kiprosh7/O=server
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;        i:/CN=Kiprosh7
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -----BEGIN CERTIFICATE-----
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; MIIC4TCCAcmgAwIBAgIBATANBgkqhkiG9w0BAQUFADATMREwDwYDVQQDEwhLaXBy
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; b3NoNzAeFw0xMTA4MTAwODA1NTBaFw0xMjA4MDkwODA1NTBaMCQxETAPBgNVBAMM
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; CEtpcHJvc2g3MQ8wDQYDVQQKDAZzZXJ2ZXIwggEiMA0GCSqGSIb3DQEBAQUAA4IB
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; DwAwggEKAoIBAQDTDgQ3/vSBPvy0PAZYwk4H2qlFckaA75YfCYZ+HhIb+JUSrZ4r
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; NcBEhvrH+7p1yft9IC4pgrgEbjmfQVTi8LGwtMRZmwpbmjqEfOALpra5x7Plb+7y
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; CTT/iDc8uUwHLn2brXxNRn58IrEeD1X+rBxLNyek0pQu/hH31+REI5Sn1JZfi7gc
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 3PJEuaRzVJY4sE0neNWT+K+aD0n382qnziLEGOusXWNpggpoHVFKZR3Yojxj6Bfk
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 9lUvfUtIqz2zQ2dF0q6A0QVVlIenKzUK+rjHxQAUSb8P9CmCuRXUih3f61ahquQP
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; CgSrkNnUV44D/wHfnxNm9QjxlQEGyr0DsTcFAgMBAAGjLzAtMAkGA1UdEwQCMAAw
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; CwYDVR0PBAQDAgUgMBMGA1UdJQQMMAoGCCsGAQUFBwMBMA0GCSqGSIb3DQEBBQUA
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; A4IBAQDE+cXjx6uNL/Kf/HmE7FeQ238iN7Gfb+I1QHmbRaR0qbTqcFzp7NCJ62uq
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; nJ6Anj0+h1IFNMlQrCISSS0fnSj+mXMKDodZzV+cXFjdtoEXyqdDO0zphDMTRd8H
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; oI79XSm5IK6vcPR+g2UTkhgrX1xfgeqZ8hmw0L0mMMGHXclwwaAF9HRNomFt32gr
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 1sVhFkhH/5epmgcl+8yI1E7UaQc91bYkUEuQFNu7irgc+/tvcXa4O4+dIfhnzrog
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 8piYUk4dxGME8LknQ213Gow9cgEKzcYadJ4DIr6gChkvAnYpHHHafWj/Ksvxyii6
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 8FxuTfgsrOYwkqEcSXeCGUS25nU9
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -----END CERTIFICATE-----
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;      1 s:/CN=Kiprosh7
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;        i:/CN=Kiprosh7
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -----BEGIN CERTIFICATE-----
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; MIICxjCCAa6gAwIBAgIJANsNRAs/ueOoMA0GCSqGSIb3DQEBBQUAMBMxETAPBgNV
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; BAMTCEtpcHJvc2g3MB4XDTExMDgxMDA4MDEzMloXDTEyMDgwOTA4MDEzMlowEzER
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; MA8GA1UEAxMIS2lwcm9zaDcwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; AQDorxS4o/H/w7f+VYWkQk3gS7g7gWFd3S4eCVV35a3GEcyP2OS4pUhhZXyB0lN7
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; xmUHqeixx7aNRnrc130SQ4kke1fuxtdLjKxu+oeASMLCSkF356m8X5FhuTnPkf2W
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; x64i6nk9SOO+jdQo/kMChy0H7psKS5I2M0nb5WLxN/JOACNnxJOhFy8cGw7l32q6
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; rEfqLkdnZJR09fiuf0hEbb/UodOt2tXXGN0Pp3X2x4cXnD6E2Va9QSBYIvPAnWEn
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; FN2Te+Qwg+AxwHIkCjH9bfQ7fOeuGHAoanSnlqS5rW/T5sKKlkBl95WeJoTFjrCt
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; CVDLilsnLrfmZkg3ICQtPbgNAgMBAAGjHTAbMAwGA1UdEwQFMAMBAf8wCwYDVR0P
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; BAQDAgEGMA0GCSqGSIb3DQEBBQUAA4IBAQBGtbJQyQ1pWVo+7snqxCOn/KVN++Jo
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 8YEB4/MGKgHyoTWRAa3IXOSPtpunW/6yDziwcLZeO09MATeKCCAJf64LXZr7aM6J
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ZX6hFFNUyqa5w9AaZ4sAe70QwDYPS6dPqcyTab/DVVRGhJAKhUc2lX+UfcBhHYaz
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; egKDKyIybHMmcQQm//SO0jo3Ak0565ZAMCdaaO/9RNJpJSxJf+HSVUg4sPLe/sAK
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; QlXcdt8XlKsEKBzUHzfRvpbU/8gn1HO5G+CTvEW2kO6nssuKX41g5hMfRqu248TT
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; jbGWMkYFMPDY1m2QWPqzLvaETGOWHwqpVWXuMhu7/T5sduDf2n084ok7
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; -----END CERTIFICATE-----
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ---
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Server certificate
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; subject=/CN=Kiprosh7/O=server
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; issuer=/CN=Kiprosh7
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ---
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Acceptable client certificate CA names
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; /CN=Kiprosh7
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ---
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; SSL handshake has read 1663 bytes and written 2276 bytes
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ---
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; New, TLSv1/SSLv3, Cipher is AES256-SHA
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Server public key is 2048 bit
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Secure Renegotiation IS supported
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Compression: NONE
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Expansion: NONE
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; SSL-Session:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         Protocol  : TLSv1
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         Cipher    : AES256-SHA
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         Session-ID:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 8703D018C270CC932648333F61FE3C986CB336B7C8074ACF3560E415934E26F2
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         Session-ID-ctx:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         Master-Key:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; F5B8C5666355EE6C78910EBB649A65740104537ACEBB28E4A23DF51EA5DE9E6A
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; FE3AC2C95B1929985DAFC09CDC6BDEAE
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         Key-Arg   : None
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         PSK identity: None
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         PSK identity hint: None
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         Start Time: 1312972974
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         Timeout   : 300 (sec)
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         Verify return code: 0 (ok)
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ---
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                    
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks and Regards,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Abhijit
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On 8/10/2011 4:10 PM, Alexandru Scvor&#355;ov wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                  
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; AMQP server protocol negotiation failure: server version
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; unknown-unknown, client version 0-9
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                        
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; That means the client connected successfully but closed the connection
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; later because it wasn't talking to an AMQP server.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; That means that the client and certificates are fine, so the problem is
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; configuring the server.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; When you try the other command (the openssl s_client) on the server,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; what output do you get?  Could you please post it?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Alex
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Wed, Aug 10, 2011 at 04:00:26PM +0530, Abhijit wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                    
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; yes sir
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; no problem i thought so after looking at client cmd lines i did put
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; slash instead of dot, and now am getting this errors:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                      
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; AMQP server protocol negotiation failure: server version
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; unknown-unknown, client version 0-9
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                        
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Can you tell me what are next steps?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks and Regards,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Abhijit
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On 8/10/2011 3:57 PM, Alexandru Scvor&#355;ov wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                      
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Am still getting the same error am using the same config file.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                          
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Ok, but are you sure it's actually the file used by the server? (we had
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; some problems earlier about which file the server was using when started
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; from the command prompt or as a service)
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                        
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; openssl s_server -accept 5671 -CAfile testca/cacert.pem -cert
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; server/cert.pem -key server.key.pem -state
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                            
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; My mistake.  That should be:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         openssl s_server -accept 5671 -CAfile testca/cacert.pem -cert
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;         server/cert.pem -key server/key.pem -state
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; (dot instead of slash in server.key.pem)
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; BTW, if they're disposable, could you send the certificates and keys?
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; We've had problems before with the certificates generated by OpenSSL,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; which were usually solved by using a different version.  Maybe this is
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; happening here.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Alex
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; On Wed, Aug 10, 2011 at 03:46:39PM +0530, Abhijit wrote:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                        
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; hi sir,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Am still getting the same error am using the same config file.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; But i was not able to run this command you sent me:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                          
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; openssl s_server -accept 5671 -CAfile testca/cacert.pem -cert
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; server/cert.pem -key server.key.pem -state
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                            
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; was getting an error: unable to load server certificate private key file.
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks and Regards,
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Abhijit
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                          
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                      
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;                  
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;&gt;              
</I>&gt;<i> &gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;          
</I>&gt;<i> &gt;&gt;      
</I>&gt;<i> 
</I>
&gt;<i> -----BEGIN RSA PRIVATE KEY-----
</I>&gt;<i> MIIEpAIBAAKCAQEAxt0TpBEhXsGZpQ5Uo5G/BJIgEAvHJti7g/zcsIZXYLv7dwj2
</I>&gt;<i> pgvFcDBDC2UDRxFu8ZRBu2oPqhr/kXA/2KoW1g9Y5fG9LYFVNjKvw7Vr61d9zbNp
</I>&gt;<i> 8kIF5zyGBxhZGL7AXpltIGaf7VRy/pwz8hhe0Nq4h12jQi7tfJusiUt9wz3a0f3H
</I>&gt;<i> 98KtXkEmhydKgFrHkunBEOeSGzajOPnubRSyIpi9CCvS79by8UXZk5FVVQee+Rcu
</I>&gt;<i> B0L8HjO+cFkcuFAH3si3wWymouaEDpWY1n0x2QZA0//FypsY1uBFr84cF6sUHIMI
</I>&gt;<i> jdUgD7Bo2phqTcvlsttRuHiSr5C2+GRQo2EelQIDAQABAoIBAC+RGe2Ym17K+DFe
</I>&gt;<i> 6Cfn6MTzHvA3oP9NwCymAzPGLohY7qFeZ4D4N9XJ9X94Pfx10w+94qsth2ms44yq
</I>&gt;<i> SNtOc//n09/Mnu+PjA5WuWwarSGx38mgLKth13+kHnr7+/PLTMBT+qJRadee55K3
</I>&gt;<i> UkWKRsO2TYUzhKWEDBJOOkrs37wfVx4mDs2X3UxjGSUgdvxw/xAfRZ+cn6Svf42t
</I>&gt;<i> L1+4a7DOinAIlUh/NdRF2XVkf7skjCJu7vOO6i5ky++xxo5LK36kjb/PMDMEOA8d
</I>&gt;<i> d36nGStSON8ltvZO90Y/WvF09hw3cI/qZ2wugdxYaAIkVbN5Aw6UHGTikPn8qcn+
</I>&gt;<i> DF3I29ECgYEA92L1hUOY5ziU9clDhHbpLrlIyNREYrsFO0yMqE2t4OaAnURszjUD
</I>&gt;<i> 1tqP7nNoq8qRxkfjtqxTsACjEj9WfqP0lQWEb8Emt9jg6Z2Uf6MGTXh+ijeMGPMR
</I>&gt;<i> LidpCwP39F6bv7DEm3h+EwJVK0Rhb+mKgvhReM4nr28X892v26gP9jcCgYEAzcmd
</I>&gt;<i> o2Mejnzv+G4J/E4p4XiFX/zYgCieCKnqi73xgdj2j31o1hJZYBkh/9hnBvVS6RrX
</I>&gt;<i> 3G8ngwfUTxk0bAqH1sNRRiqFjpkWmjDl0PO7e+LsokX80Y2P1dPfdwQnje8Od8Vi
</I>&gt;<i> M33j6zvURyXJ5EAWbWIKKHZR1k8TxtmD8u1Aq5MCgYEAttDDnbLBmQWgVy5fndF+
</I>&gt;<i> KtAz8G2lB80rZZIBVBLrjwroOtApFA3rg2hK+y0ASgvNxFi19/XLdoJSABccZUPm
</I>&gt;<i> aAYGw8taQHyeYSXZaqVf7/o+kQfRmVJu/MuU/dX18/nCYVtRP49Ao+2SYQIMe3Z7
</I>&gt;<i> rKOzGXJHs4aGjeninpHJEesCgYBzwcKzwrDQlATkqPli/JDgbMwRt4gNZ0umMfZm
</I>&gt;<i> jv0H/oSLKI9NQ9sUjG6snQ0vQ9ZUm63rKHeAZGoP6Gytjarlqs7P+mFQWlr1dyX/
</I>&gt;<i> SOsggAB+M4JIWiobrOfZ6fNaCqwHwXdA4cLQcsIxF1ee1lIHS4vNQOk99RN52qc3
</I>&gt;<i> gi/LkwKBgQCxwgAeINI2r1EFDC+k+hJ7Od4TkrZk7TvsgvwpnxQHkJpkYqAFjT4Z
</I>&gt;<i> DXswdo+4gN70oN2fkrXGypIo/r+G20AI8VlBy91eIV1YI5GFGOs2q5by0+7UHV8h
</I>&gt;<i> RVQeKHXsz5/hpSeF4wdJox1kqgySeluCA/mMt9i+jAyPz1xwK8U+aw==
</I>&gt;<i> -----END RSA PRIVATE KEY-----
</I>


&gt;<i> -----BEGIN CERTIFICATE-----
</I>&gt;<i> MIICxjCCAa6gAwIBAgIJALgBaefnAA8iMA0GCSqGSIb3DQEBBQUAMBMxETAPBgNV
</I>&gt;<i> BAMTCE15VGVzdENBMB4XDTExMDgxMTA3MTEyMFoXDTEyMDgxMDA3MTEyMFowEzER
</I>&gt;<i> MA8GA1UEAxMITXlUZXN0Q0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB
</I>&gt;<i> AQDjrWFlQ6QBss2DVe6xiCmzyYbSm1zAu9gVwDWvrvkK3cSQ2Y9iA+IKQUXhmmq2
</I>&gt;<i> EJHwLpapjG/6ZucWrIWEX+53vkSpGdia9hTsbxxOFueP8SaYM96/K3/cEV/JtSIO
</I>&gt;<i> ylEwVTlwuuNvAfrnG8srgDtFuXYoFRKWMoLsd68kNAyTCJWWoYqe71V5poY+c2Zv
</I>&gt;<i> rLofRwWcz7wRnEcvw5bj3eIl9jURMmGTHtSQMVEskokvuAm2xfNBXrgsdw04SDH6
</I>&gt;<i> m8x5rXgvEu8wHUNCPx/4a8qcYGFLnTov5d8O0Bs3GLfhR7sYeTZt4L2BrTLuPUZ9
</I>&gt;<i> cXCAQ+PmJUgYgytmjIbwDDAXAgMBAAGjHTAbMAwGA1UdEwQFMAMBAf8wCwYDVR0P
</I>&gt;<i> BAQDAgEGMA0GCSqGSIb3DQEBBQUAA4IBAQBJL8UchryKVyoKtpkkVJd7O2PJO6Yh
</I>&gt;<i> 21kq75Y+gvJ5iCxF9fVqOpNYerFFt+KR1uxAuHglse7DBJDmfplpvQ/FlmJonztP
</I>&gt;<i> qeXfFKSiN4CRIHzCvrZOxX/CHTtnzjJ5ArmrTk71f9gkmeKhoZ1mhgHIqFMPjxhT
</I>&gt;<i> u+5vK6S0TjcqyEeYnt6o794rz/sVLWOaDrGWxe2mZBq7wGajQq6xauyXWUovPWg8
</I>&gt;<i> 1QNBDcpJb6BNrupK2AFONYI6BPpdMnl6m+PqwYXD3oZakMnNLoQLSYE8wD3ZQkTO
</I>&gt;<i> V2upmgchnKN+qpfHHUGmilikc6FIUhcfSRGvTx63r1CvOFYPwGvJVoOL
</I>&gt;<i> -----END CERTIFICATE-----
</I>
&gt;<i> -----BEGIN CERTIFICATE-----
</I>&gt;<i> MIIC4DCCAcigAwIBAgIBATANBgkqhkiG9w0BAQUFADATMREwDwYDVQQDEwhNeVRl
</I>&gt;<i> c3RDQTAeFw0xMTA4MTEwNzEzNTBaFw0xMjA4MTAwNzEzNTBaMCMxEDAOBgNVBAMT
</I>&gt;<i> B2FiaGlqaXQxDzANBgNVBAoTBnNlcnZlcjCCASIwDQYJKoZIhvcNAQEBBQADggEP
</I>&gt;<i> ADCCAQoCggEBAMbdE6QRIV7BmaUOVKORvwSSIBALxybYu4P83LCGV2C7+3cI9qYL
</I>&gt;<i> xXAwQwtlA0cRbvGUQbtqD6oa/5FwP9iqFtYPWOXxvS2BVTYyr8O1a+tXfc2zafJC
</I>&gt;<i> Bec8hgcYWRi+wF6ZbSBmn+1Ucv6cM/IYXtDauIddo0Iu7XybrIlLfcM92tH9x/fC
</I>&gt;<i> rV5BJocnSoBax5LpwRDnkhs2ozj57m0UsiKYvQgr0u/W8vFF2ZORVVUHnvkXLgdC
</I>&gt;<i> /B4zvnBZHLhQB97It8FspqLmhA6VmNZ9MdkGQNP/xcqbGNbgRa/OHBerFByDCI3V
</I>&gt;<i> IA+waNqYak3L5bLbUbh4kq+QtvhkUKNhHpUCAwEAAaMvMC0wCQYDVR0TBAIwADAL
</I>&gt;<i> BgNVHQ8EBAMCBSAwEwYDVR0lBAwwCgYIKwYBBQUHAwEwDQYJKoZIhvcNAQEFBQAD
</I>&gt;<i> ggEBALl7ostKoOKqa8ytOX8qsf7kxvW7Mw66NdRS7sBlM+jVaZHjCwxIAGe/QaGL
</I>&gt;<i> c5P+aQx7lCFBSXPDD6sWsI59R8MSQTS0TJ8Ek4dB6Y8R6wRLtVCLGXLIeaNqP8BX
</I>&gt;<i> lGb2Za42VV5O0iaDcyh+DGhZ77lJKOMZS/y6UzyqR8Q5oSNM/J8BvMr6eDHae31P
</I>&gt;<i> Of2lRJAT2O3DdRqZjpVSrsNFLKM7GAeOctjVoPhNJuUTSCmW6lEtkC1ixDseoZIe
</I>&gt;<i> o2Pz4kzSf66pgxM0IGKl5OeqGMht7SonhDS8Fda2fRITvgf+ZunD4Yw8ueoZnxQO
</I>&gt;<i> rum0HrvwARjNTMA3lzrmagZntxk=
</I>&gt;<i> -----END CERTIFICATE-----
</I>
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014489.html">[rabbitmq-discuss] facing issues with the SSL implementations with RabbitMQ + Windows + .Net
</A></li>
	<LI>Next message: <A HREF="014495.html">[rabbitmq-discuss] facing issues with the SSL implementations with RabbitMQ + Windows + .Net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14494">[ date ]</a>
              <a href="thread.html#14494">[ thread ]</a>
              <a href="subject.html#14494">[ subject ]</a>
              <a href="author.html#14494">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
