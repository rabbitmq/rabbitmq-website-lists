<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 2.6.0 is released
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.6.0%20is%20released&In-Reply-To=%3C20110831214824.GA30087%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014803.html">
   <LINK REL="Next"  HREF="014807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 2.6.0 is released</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.6.0%20is%20released&In-Reply-To=%3C20110831214824.GA30087%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 2.6.0 is released">matthew at rabbitmq.com
       </A><BR>
    <I>Wed Aug 31 22:48:25 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014803.html">[rabbitmq-discuss] RabbitMQ 2.6.0 is released
</A></li>
        <LI>Next message: <A HREF="014807.html">[rabbitmq-discuss] RabbitMQ 2.6.0 is released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14804">[ date ]</a>
              <a href="thread.html#14804">[ thread ]</a>
              <a href="subject.html#14804">[ subject ]</a>
              <a href="author.html#14804">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jason,

Thanks for your input.

On Wed, Aug 31, 2011 at 03:34:16PM -0600, Jason J. W. Williams wrote:
&gt;<i> Personally what I'd like to see is the ability to create &quot;cluster
</I>&gt;<i> groups&quot; to which nodes could be assigned when they are joined to a
</I>&gt;<i> cluster. These groups would then be the basis of &quot;rack-aware&quot; or
</I>&gt;<i> &quot;datacenter-aware&quot; decisions. It would make a lot more sense in our
</I>&gt;<i> environment to tell queue.declare, set the replication-factor to 4
</I>&gt;<i> (example) and spread the copies across the nodes in rack1_group and
</I>&gt;<i> rack2_group (letting RabbitMQ figure out the best way to do that given
</I>&gt;<i> current loading and node-presence).
</I>
The problem there is where do you stop? You're programming into your
group definition the fact that you know that these nodes are in
different racks, behind different switches, on different machines,
possibly on different UPSs. One problem is that Rabbit knows none of
this. If you were doing this in a cloud, or on EC2, you have no such
knowledged. The last thing you want to end with is all your queue
replicated between nodes that turn out to be different guests on the
same physical machine! Where do you think Rabbit should draw the line in
terms of load balancing - what should it try to monitor and what is
considered unreasonable? Even monitoring CPU usage is rabbit looking
around at its host, but should it go further and try to detect
hypervisors? From TTLs on network packets try to detect whether other
nodes are under the same switch etc?

It all gets very very messy rather quickly. One of the things we've not
really looked into is what do other bits of software that can cluster
like Rabbit do in these scenarios? What's actually useful? What do
admins expect to have to control themselves, and what do they trust the
software to be able to figure out?

Matthew
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014803.html">[rabbitmq-discuss] RabbitMQ 2.6.0 is released
</A></li>
	<LI>Next message: <A HREF="014807.html">[rabbitmq-discuss] RabbitMQ 2.6.0 is released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14804">[ date ]</a>
              <a href="thread.html#14804">[ thread ]</a>
              <a href="subject.html#14804">[ subject ]</a>
              <a href="author.html#14804">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
