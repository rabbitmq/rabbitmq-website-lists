<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Java client Channel.Close blocking	indefinitely
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20client%20Channel.Close%20blocking%0A%09indefinitely&In-Reply-To=%3C4E5E5666.1030204%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014789.html">
   <LINK REL="Next"  HREF="014771.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Java client Channel.Close blocking	indefinitely</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20client%20Channel.Close%20blocking%0A%09indefinitely&In-Reply-To=%3C4E5E5666.1030204%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Java client Channel.Close blocking	indefinitely">matthias at rabbitmq.com
       </A><BR>
    <I>Wed Aug 31 16:42:30 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014789.html">[rabbitmq-discuss] Java client Channel.Close blocking	indefinitely
</A></li>
        <LI>Next message: <A HREF="014771.html">[rabbitmq-discuss] Shovel plugin: queue.declare appears to do	nothing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14790">[ date ]</a>
              <a href="thread.html#14790">[ thread ]</a>
              <a href="subject.html#14790">[ subject ]</a>
              <a href="author.html#14790">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Iain,

On 31/08/11 10:46, Iain Hull wrote:
&gt;<i> During one of my tests a call to Channel.Close blocked and never
</I>&gt;<i> returned.
</I>&gt;<i> [...]
</I>&gt;<i> I am not sure if this is relevant but I noticed some information in the
</I>&gt;<i> logs indicating that the memory high_watermark was hit around the time
</I>&gt;<i> the test stopped.
</I>
When the high watermark is hit all connections on which a publish is 
received get blocked. So no data will make it through from these 
connections, and that includes Channel.Close.

The server should eventually recover from this, by paging messages to 
disk or delivering them to consumers. Did that happen in your case, i.e. 
did the logs show the alarm getting cleared?

Regards,

Matthias.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014789.html">[rabbitmq-discuss] Java client Channel.Close blocking	indefinitely
</A></li>
	<LI>Next message: <A HREF="014771.html">[rabbitmq-discuss] Shovel plugin: queue.declare appears to do	nothing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14790">[ date ]</a>
              <a href="thread.html#14790">[ thread ]</a>
              <a href="subject.html#14790">[ subject ]</a>
              <a href="author.html#14790">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
