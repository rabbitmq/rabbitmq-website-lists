<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Issues%20-%3E%20Losing%20confidence%20in%20it.&In-Reply-To=%3C4E39362E.1040409%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014311.html">
   <LINK REL="Next"  HREF="014321.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Issues%20-%3E%20Losing%20confidence%20in%20it.&In-Reply-To=%3C4E39362E.1040409%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.">emile at rabbitmq.com
       </A><BR>
    <I>Wed Aug  3 12:51:10 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014311.html">[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
</A></li>
        <LI>Next message: <A HREF="014321.html">[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14315">[ date ]</a>
              <a href="thread.html#14315">[ thread ]</a>
              <a href="subject.html#14315">[ subject ]</a>
              <a href="author.html#14315">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Abhishek,

On 03/08/11 11:15, Abhishek K wrote:
&gt;<i> I am running RabbitMQ 2.20 on Debian Lenny (2.6.26).
</I>&gt;<i> There was no changes in the code using RabbitMQ, only the usage rate
</I>&gt;<i> increased by 20%.
</I>
You don't mention the version of Erlang you use. It is worth bearing in
mind that later versions of Erlang do better garbage collection. Also,
how much RAM is installed on the server? You should generally expect
that Erlang / RabbitMQ will use as much RAM as it can.

You said that the broker uses 11GB RAM and that the queue size was 7MB -
how were these figures determined? If that 7MB is distributed across a
large number of queues then that is a possible explanation for the high
memory usage. If the startup after a clean  shutdown takes an inordinate
amount of time then you might have more than 7MB worth of messages on
the broker.

You should also inspect the results from running all the &quot;rabbitmqctl
list_*&quot; commands to make sure your application isn't using up too many
resources (e.g. queues or exchanges) on the broker.

RabbitMQ version 2.5.1 adds more memory reporting features to the
&quot;rabbitmqctl status&quot; command, with a breakdown of where memory is being
used. This is not available on version 2.2.0, but it is another possible
reason to upgrade.



Regards

Emile
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014311.html">[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
</A></li>
	<LI>Next message: <A HREF="014321.html">[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14315">[ date ]</a>
              <a href="thread.html#14315">[ thread ]</a>
              <a href="subject.html#14315">[ subject ]</a>
              <a href="author.html#14315">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
