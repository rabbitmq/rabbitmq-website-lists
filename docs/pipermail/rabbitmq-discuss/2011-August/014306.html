<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Issues%20-%3E%20Losing%20confidence%20in%20it.&In-Reply-To=%3CCAF3N6oTgy_BLOKwhe_pDHzPt6tvNRFdo1w8w8kQPLNx4s6Loow%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014297.html">
   <LINK REL="Next"  HREF="014311.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.</H1>
    <B>Allan Kamau</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Issues%20-%3E%20Losing%20confidence%20in%20it.&In-Reply-To=%3CCAF3N6oTgy_BLOKwhe_pDHzPt6tvNRFdo1w8w8kQPLNx4s6Loow%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.">kamauallan at gmail.com
       </A><BR>
    <I>Wed Aug  3 08:09:05 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014297.html">[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
</A></li>
        <LI>Next message: <A HREF="014311.html">[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14306">[ date ]</a>
              <a href="thread.html#14306">[ thread ]</a>
              <a href="subject.html#14306">[ subject ]</a>
              <a href="author.html#14306">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Aug 2, 2011 at 5:00 PM, Abhishek K &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">abhishek.kona at gmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i> We have been running a single RabbitMQ instance for 6 months now (RabbitMQ
</I>&gt;<i> 2.2).
</I>&gt;<i> Off late we observed RabbitMQ was consuming 11G of Memory when the entire
</I>&gt;<i> queue-size was about 7MB.
</I>&gt;<i> We decided to do a restart of RabbitMQ (thinking this was a memory leak).
</I>&gt;<i> On doing a restart of the APP we kept getting restart TIME-OUT without any
</I>&gt;<i> messages in the startup_{err,log).
</I>&gt;<i> We kept on retrying the restart and after 10minutes RabbitMQ restarted on
</I>&gt;<i> its own, without any message or log of what went wrong.
</I>&gt;<i> What was an expected down time of &lt;1min ended up being a down time of 10
</I>&gt;<i> min.
</I>&gt;<i> Also it forced our team to frantically set up RabbittMQ on a new machine
</I>&gt;<i> with all the queues and Exchanges (the original Rabbit came back up in the
</I>&gt;<i> meanwhile).
</I>&gt;<i> We are trying to analyze why this happened to us. Specifically answer the
</I>&gt;<i> following questions
</I>&gt;<i>
</I>&gt;<i> Why was rabbitmq consuming high amounts of memory? Was it a memory leak? Is
</I>&gt;<i> the memory leak fixed in the later version.
</I>&gt;<i> Why did rabbitMQ not restart immediately? Why was no message present in the
</I>&gt;<i> log.
</I>&gt;<i> In situations like these how do we start a new rabbitmq instance
</I>&gt;<i> automatically with all the queues and preferably data.
</I>&gt;<i> How do we upgrade to latest Rabbit without any data loss?
</I>&gt;<i>
</I>&gt;<i> Any opinions and thoughts on this are welcome.
</I>&gt;<i> -Abhishek Kona
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
You may want to include specify the OS and version you are running and
perhaps detail changes you may have made recently that may shed some
light to the cause of behaviour you are observing.

Allan.
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014297.html">[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
</A></li>
	<LI>Next message: <A HREF="014311.html">[rabbitmq-discuss] RabbitMQ Issues -&gt; Losing confidence in it.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14306">[ date ]</a>
              <a href="thread.html#14306">[ thread ]</a>
              <a href="subject.html#14306">[ subject ]</a>
              <a href="author.html#14306">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
