<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] major failure when clearing large queue backlog
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20major%20failure%20when%20clearing%20large%20queue%0A%20backlog&In-Reply-To=%3C20110816103530.GA5810%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014556.html">
   <LINK REL="Next"  HREF="014565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] major failure when clearing large queue backlog</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20major%20failure%20when%20clearing%20large%20queue%0A%20backlog&In-Reply-To=%3C20110816103530.GA5810%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] major failure when clearing large queue backlog">matthew at rabbitmq.com
       </A><BR>
    <I>Tue Aug 16 11:35:30 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014556.html">[rabbitmq-discuss] major failure when clearing large queue	backlog
</A></li>
        <LI>Next message: <A HREF="014565.html">[rabbitmq-discuss] major failure when clearing large queue	backlog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14562">[ date ]</a>
              <a href="thread.html#14562">[ thread ]</a>
              <a href="subject.html#14562">[ subject ]</a>
              <a href="author.html#14562">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Aug 15, 2011 at 01:29:23PM -0400, Aaron Westendorf wrote:
&gt;<i> I can email you logs, but they're really not exciting. It's all just noise
</I>&gt;<i> as messages were published and consumers had yet to initialize and declare
</I>&gt;<i> exchanges, queues and bindings.
</I>
Hmm, that's a pity.

&gt;<i> I assume you have tests for spooling to disk when rabbit is low on memory.
</I>&gt;<i> Has this been tested in a cluster situation such as I described?
</I>
Part of our test suite certainly does simulate low memory conditions.

&gt;<i> I checked our configurations, and I wonder if this is what caused the
</I>&gt;<i> problem:
</I>&gt;<i> [{rabbit, [{vm_memory_high_watermark, 0}, {cluster_nodes,
</I>&gt;<i> ['artemis','hermes']}]}].
</I>
Erm, setting that to 0 disables the memory monitor, which then forces
Rabbit to default to thinking that there's probably about 1GB RAM
installed. This is very certainly not what you want. I'd set that back
to the default of 0.4 and see how you get on with that.

Matthew
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014556.html">[rabbitmq-discuss] major failure when clearing large queue	backlog
</A></li>
	<LI>Next message: <A HREF="014565.html">[rabbitmq-discuss] major failure when clearing large queue	backlog
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14562">[ date ]</a>
              <a href="thread.html#14562">[ thread ]</a>
              <a href="subject.html#14562">[ subject ]</a>
              <a href="author.html#14562">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
