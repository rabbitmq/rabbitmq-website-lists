<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Slow startup/recovery time
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Slow%20startup/recovery%20time&In-Reply-To=%3C4E37F450.1050302%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014291.html">
   <LINK REL="Next"  HREF="014408.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Slow startup/recovery time</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Slow%20startup/recovery%20time&In-Reply-To=%3C4E37F450.1050302%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Slow startup/recovery time">emile at rabbitmq.com
       </A><BR>
    <I>Tue Aug  2 13:57:52 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014291.html">[rabbitmq-discuss] Slow startup/recovery time
</A></li>
        <LI>Next message: <A HREF="014408.html">[rabbitmq-discuss] Slow startup/recovery time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14294">[ date ]</a>
              <a href="thread.html#14294">[ thread ]</a>
              <a href="subject.html#14294">[ subject ]</a>
              <a href="author.html#14294">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Pablo,

On 02/08/11 12:37, Pablo Ruiz wrote:
&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Since upgraded to 2.5.1 from 2.1.1, one of our rabbit servers refuses to
</I>&gt;<i> finish startup procedures.. starup_log shows:
</I>
&gt;<i> =ERROR REPORT==== 2-Aug-2011::13:27:55 ===
</I>&gt;<i> ** Generic server &lt;0.127.0&gt; terminating
</I>&gt;<i> ** Last message in was {'$gen_cast',
</I>&gt;<i>                            {submit_async,
</I>&gt;<i>                                #Fun&lt;rabbit_queue_index.24.55115249&gt;}}
</I>&gt;<i> ** When Server state == 2
</I>&gt;<i> ** Reason for termination ==
</I>&gt;<i> ** {function_clause,
</I>&gt;<i>        [{rabbit_queue_index,journal_minus_segment1,
</I>&gt;<i>             [{no_pub,no_del,ack},
</I>&gt;<i>              {{&lt;&lt;144,186,140,223,68,195,225,104,84,142,97,239,10,35,24,96&gt;&gt;,
</I>&gt;<i>                {message_properties,undefined,false},
</I>&gt;<i>                true},
</I>&gt;<i>               no_del,no_ack}]},
</I>&gt;<i>         {rabbit_queue_index,'-journal_minus_segment/2-fun-0-',4},
</I>&gt;<i>         {array,sparse_foldl_3,7},
</I>&gt;<i>         {array,sparse_foldl_2,9},
</I>&gt;<i>         {rabbit_queue_index,'-recover_journal/1-fun-0-',1},
</I>&gt;<i>         {dict,map_bucket,2},
</I>&gt;<i>         {dict,map_bkt_list,2},
</I>&gt;<i>         {dict,map_bkt_list,2}]}
</I>&gt;<i> 
</I>&gt;<i> Should I ignore such error??
</I>&gt;<i> 
</I>&gt;<i> Greets
</I>&gt;<i> Pablo
</I>&gt;<i> 
</I>&gt;<i> PD: I can zip &amp; send our mnesia files just in case they are needed to
</I>&gt;<i> debug the issue.
</I>
We'd be interested in receiving those files, if you can make them
available offlist. The error points to an unexpected logical
inconsistency during the upgrade procedure. Can you also confirm whether
the v2.1.1 broker was shut down cleanly?


Regards

Emile
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014291.html">[rabbitmq-discuss] Slow startup/recovery time
</A></li>
	<LI>Next message: <A HREF="014408.html">[rabbitmq-discuss] Slow startup/recovery time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14294">[ date ]</a>
              <a href="thread.html#14294">[ thread ]</a>
              <a href="subject.html#14294">[ subject ]</a>
              <a href="author.html#14294">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
