<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to use Long Polling with RabbitMQ and	Rails
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20use%20Long%20Polling%20with%20RabbitMQ%20and%0A%09Rails&In-Reply-To=%3CCAE3HoVTfDw5daJQ%3DaR0HOb2aioKiU0OTw%3DhbNRY-mi_1J%3D2%2Bxg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014354.html">
   <LINK REL="Next"  HREF="014356.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to use Long Polling with RabbitMQ and	Rails</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20use%20Long%20Polling%20with%20RabbitMQ%20and%0A%09Rails&In-Reply-To=%3CCAE3HoVTfDw5daJQ%3DaR0HOb2aioKiU0OTw%3DhbNRY-mi_1J%3D2%2Bxg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] How to use Long Polling with RabbitMQ and	Rails">michael.s.klishin at gmail.com
       </A><BR>
    <I>Thu Aug  4 21:03:57 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014354.html">[rabbitmq-discuss] How to use Long Polling with RabbitMQ and Rails
</A></li>
        <LI>Next message: <A HREF="014356.html">[rabbitmq-discuss] problem for a cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14355">[ date ]</a>
              <a href="thread.html#14355">[ thread ]</a>
              <a href="subject.html#14355">[ subject ]</a>
              <a href="author.html#14355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2011/8/4 sid__ &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sid.ravichandran at gmail.com</A>&gt;

&gt;<i> I am unable to figure how one would go about doing this. Since they
</I>&gt;<i> run on separate ports there would be the issue of violating the same
</I>&gt;<i> origin policy.
</I>&gt;<i>
</I>&gt;<i> I am familiar with how Orbited provides long polling support for XMPP
</I>&gt;<i> but I was unable to find something similar for AMQP. But how would the
</I>&gt;<i> AMQP server respond without and explicit HTTP Request handler.
</I>&gt;<i>
</I>&gt;<i> I would really appreciate some help on how this should be implemented.
</I>&gt;<i> Some sample code would be great.
</I>&gt;<i>
</I>&gt;<i>
</I>You can combined multiple EventMachine-based servers in the same process.
You can combine em-websocket, amqp gem and something that helps you with
long polling (it probably can be something Thin or Goliath-based).


&gt;<i> Also I would like to know if the general practice is to run the AMQP
</I>&gt;<i> server as daemon or as part of Rails app.
</I>&gt;<i>
</I>
I typically recommend running amqp daemons as satellite applications but
there are certainly cases when people run amqp daemons
basically embedded into Web applications. Just keep in mind Ruby 1.8.7
threading scheduler is not really fair (some threads may be given
significantly more time to run than others) and while 1.9.2 uses kernel
threads that are a lot better in this regard, I have seen obscure 1.9.2 VM
crashes with  multithreaded applications.

-- 
MK

<A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
<A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110805/867c1be5/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110805/867c1be5/attachment.htm</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014354.html">[rabbitmq-discuss] How to use Long Polling with RabbitMQ and Rails
</A></li>
	<LI>Next message: <A HREF="014356.html">[rabbitmq-discuss] problem for a cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14355">[ date ]</a>
              <a href="thread.html#14355">[ thread ]</a>
              <a href="subject.html#14355">[ subject ]</a>
              <a href="author.html#14355">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
