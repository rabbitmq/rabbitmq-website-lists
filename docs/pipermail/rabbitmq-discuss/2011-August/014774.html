<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] shovel plugin installation problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20shovel%20plugin%20installation%20problem&In-Reply-To=%3C4E5E26C0.7030104%40thebestisp.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014773.html">
   <LINK REL="Next"  HREF="014776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] shovel plugin installation problem</H1>
    <B>Cezary Siwek</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20shovel%20plugin%20installation%20problem&In-Reply-To=%3C4E5E26C0.7030104%40thebestisp.co.uk%3E"
       TITLE="[rabbitmq-discuss] shovel plugin installation problem">czarek at thebestisp.co.uk
       </A><BR>
    <I>Wed Aug 31 13:19:12 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014773.html">[rabbitmq-discuss] STOMP &amp; wildcard subscriptions
</A></li>
        <LI>Next message: <A HREF="014776.html">[rabbitmq-discuss] shovel plugin installation problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14774">[ date ]</a>
              <a href="thread.html#14774">[ thread ]</a>
              <a href="subject.html#14774">[ subject ]</a>
              <a href="author.html#14774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello list

I'm trying install the shovel plugin. Rabbit 2.5.1 installed from rpm 
package and is running fine on centos machine.
I have downloaded amqp_client-2.5.1.ez and rabbitmq_shovel-2.5.1.ez  to 
/usr/lib/rabbitmq/lib/rabbitmq_server-2.5.1/plugins

looks like both plugins are running:
(<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at node1</A>)2&gt;  rabbit:status().
[{pid,32668},
  {running_applications,[{rabbitmq_shovel,&quot;Data Shovel for RabbitMQ&quot;,
                                          &quot;2.5.1&quot;},
                         {amqp_client,&quot;RabbitMQ AMQP Client&quot;,&quot;2.5.1&quot;},
                         {rabbit,&quot;RabbitMQ&quot;,&quot;2.5.1&quot;},
                         {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.5&quot;},
                         {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.9.3&quot;},
                         {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.17&quot;},
                         {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.17.3&quot;},
                         {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.14.3&quot;}]},
  {os,{unix,linux}},
  {erlang_version,&quot;Erlang R14B02 (erts-5.8.3) [source] [64-bit] 
[smp:2:2] [rq:2] [async-threads:30] [kernel-poll:true]\n&quot;},
  {memory,[{total,24796104},
           {processes,9976400},
           {processes_used,9965192},
           {system,14819704},
           {atom,1118785},
           {atom_used,1112290},
           {binary,7720},
           {code,11154640},
           {ets,769080}]}]


however, rabbit_shovel_status does not return anything:
(<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ndb-in-blr-1-01a</A>)1&gt;  rabbit_shovel_status:status().
[]



here is my rabbitmq.config:
[
     {mnesia, [{dump_log_write_threshold, 100}
              ]},
     {rabbit, [{vm_memory_high_watermark, 0.4}
              ]},
     {rabbit_shovel,
        [{shovels,
          [{sample_shovel,
            [{sources, [{broker, &quot;<A HREF="amqp://user1:pass@node1:5675/vhost1&quot;},">amqp://user1:pass@node1:5675/vhost1&quot;},</A>
                             {declarations,
                                ['queue.declare',
                                 {'queue.bind',
                                     [{exchange, &lt;&lt;&quot;router&quot;&gt;&gt;},
                                      {queue, &lt;&lt;&quot;msgs&quot;&gt;&gt;}]}
                                ]}]},
             {destinations, [{broker, 
&quot;<A HREF="amqp://user2:pass2@node2:5675/vhost2&quot;},">amqp://user2:pass2@node2:5675/vhost2&quot;},</A>
                             {declarations,
                                 [{'exchange.declare',
                                        [{exchange, &lt;&lt;&quot;router&quot;&gt;&gt;},
                                         {type, &lt;&lt;&quot;direct&quot;&gt;&gt;},
                                         durable]}
                                ]}]},
             {queue, &lt;&lt;&quot;msgs&quot;&gt;&gt;},
             {prefetch_count, 10},
             {auto_ack, false},
             {tx_size, 0},
             {publish_properties, [{delivery_mode, 2}]},
             {publish_fields, [{exchange, &lt;&lt;&quot;router&quot;&gt;&gt;}]},
             {reconnect_delay, 5}
            ]}
           ]
         }]
      }
].

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014773.html">[rabbitmq-discuss] STOMP &amp; wildcard subscriptions
</A></li>
	<LI>Next message: <A HREF="014776.html">[rabbitmq-discuss] shovel plugin installation problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14774">[ date ]</a>
              <a href="thread.html#14774">[ thread ]</a>
              <a href="subject.html#14774">[ subject ]</a>
              <a href="author.html#14774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
