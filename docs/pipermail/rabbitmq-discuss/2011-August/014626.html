<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] missing header frame
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20missing%20header%20frame&In-Reply-To=%3CCAE3HoVR7iqthSvUi49b-GS%3Dy5%2Bm_JyuKDdLKrL8DTZ1oRL_eVQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014625.html">
   <LINK REL="Next"  HREF="014755.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] missing header frame</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20missing%20header%20frame&In-Reply-To=%3CCAE3HoVR7iqthSvUi49b-GS%3Dy5%2Bm_JyuKDdLKrL8DTZ1oRL_eVQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] missing header frame">michael.s.klishin at gmail.com
       </A><BR>
    <I>Fri Aug 19 05:39:18 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014625.html">[rabbitmq-discuss] missing header frame
</A></li>
        <LI>Next message: <A HREF="014755.html">[rabbitmq-discuss] missing header frame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14626">[ date ]</a>
              <a href="thread.html#14626">[ thread ]</a>
              <a href="subject.html#14626">[ subject ]</a>
              <a href="author.html#14626">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2011/8/19 Dominic Metzger &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dominic at rightscale.com</A>&gt;

&gt;<i> Is there a valid case when I wouldn't receive a header frame? Does it have
</I>&gt;<i> something to do with the redelivery of the message? I am seeing this on
</I>&gt;<i> RabbitMQ version (v1.7.2).
</I>&gt;<i>
</I>&gt;<i> Example:
</I>&gt;<i>
</I>&gt;<i> [&quot;receive&quot;,
</I>&gt;<i>  #&lt;AMQP::Frame::Method:0x11d58b24
</I>&gt;<i>   @channel=1,
</I>&gt;<i>   @payload=
</I>&gt;<i>    #&lt;AMQP::Protocol::Basic::Deliver:0x11d58660
</I>&gt;<i>     @consumer_tag=&quot;example.com-events--588378867313&quot;,
</I>&gt;<i>     @debug=1,
</I>&gt;<i>     @delivery_tag=7700,
</I>&gt;<i>     @exchange=&quot;events&quot;,
</I>&gt;<i>     @redelivered=true,
</I>&gt;<i>     @routing_key=&quot;&quot;&gt;&gt;]
</I>&gt;<i>
</I>&gt;<i> [&quot;receive&quot;,
</I>&gt;<i>  #&lt;AMQP::Frame::Body:0x11aa54f4
</I>&gt;<i>   @channel=1,
</I>&gt;<i>   @payload=
</I>&gt;<i>    &quot;{\&quot;timestamp\&quot;:1313535484445309}&quot;&gt;]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> thanks &amp; best regards
</I>&gt;<i>
</I>
I haven't read AMQP 0.8 spec (which is what amqp gem before 0.8.0.RCs
implements) in a while but I cannot think of a case when the header may be
missing. My only suggestion is to not rely on &quot;logging&quot; of various clients
because they use different frame class names, framing strategies and so on.
Use Wireshark, it will tell you what is really going up and down the wire.
And, maybe upgrade to RabbitMQ 2.5.1 that still supports AMQP 0.8 as well as
AMQP 0.9.1.

-- 
MK

<A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
<A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110819/d052f9d6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110819/d052f9d6/attachment.htm</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014625.html">[rabbitmq-discuss] missing header frame
</A></li>
	<LI>Next message: <A HREF="014755.html">[rabbitmq-discuss] missing header frame
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14626">[ date ]</a>
              <a href="thread.html#14626">[ thread ]</a>
              <a href="subject.html#14626">[ subject ]</a>
              <a href="author.html#14626">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
