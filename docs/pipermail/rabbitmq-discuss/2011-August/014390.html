<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ and Stomp topic behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20and%20Stomp%20topic%20behavior&In-Reply-To=%3C4E3FFB77.5060903%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014380.html">
   <LINK REL="Next"  HREF="014393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ and Stomp topic behavior</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20and%20Stomp%20topic%20behavior&In-Reply-To=%3C4E3FFB77.5060903%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ and Stomp topic behavior">matthias at rabbitmq.com
       </A><BR>
    <I>Mon Aug  8 16:06:31 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014380.html">[rabbitmq-discuss] RabbitMQ and Stomp topic behavior
</A></li>
        <LI>Next message: <A HREF="014393.html">[rabbitmq-discuss] RabbitMQ and Stomp topic behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14390">[ date ]</a>
              <a href="thread.html#14390">[ thread ]</a>
              <a href="subject.html#14390">[ subject ]</a>
              <a href="author.html#14390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Massimo,

On 07/08/11 20:52, Massimo Paladin wrote:
&gt;<i> Why does the memory goes up if there are no consumers attached to the topic?
</I>
Messages are processed in a fully asynchronous pipeline, and the 
decision on whether to discard a message is made at a later stage.

Having this pipeline allows rabbit to absorb spikes in message load, 
i.e. it can read messages off the socket quickly and pass them to the 
next stage of the pipeline.

However, if the load is not a spike and instead is consistently high 
then obviously rabbit will run out of memory eventually. To prevent 
that, memory usage is monitored and producers are temporarily blocked to 
relieve memory pressure. So...

&gt;<i> The scenario provided makes memory increasing and if you let it run for
</I>&gt;<i> some time at some point rabbitmq crashes because it can not allocate memory.
</I>
That shouldn't happen. Do you get any memory alarms in the rabbit logs? 
Also, does Rabbit run out of memory with the default threshold of 0.4?

Regards,

Matthias.
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014380.html">[rabbitmq-discuss] RabbitMQ and Stomp topic behavior
</A></li>
	<LI>Next message: <A HREF="014393.html">[rabbitmq-discuss] RabbitMQ and Stomp topic behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14390">[ date ]</a>
              <a href="thread.html#14390">[ thread ]</a>
              <a href="subject.html#14390">[ subject ]</a>
              <a href="author.html#14390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
