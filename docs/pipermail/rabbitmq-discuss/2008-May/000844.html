<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] TCP timeout is also happening for C# clients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20TCP%20timeout%20is%20also%20happening%20for%20C%23%20clients&In-Reply-To=406590.35608.qm%40web30006.mail.mud.yahoo.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000840.html">
   <LINK REL="Next"  HREF="000841.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] TCP timeout is also happening for C# clients</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20TCP%20timeout%20is%20also%20happening%20for%20C%23%20clients&In-Reply-To=406590.35608.qm%40web30006.mail.mud.yahoo.com"
       TITLE="[rabbitmq-discuss] TCP timeout is also happening for C# clients">tonyg at lshift.net
       </A><BR>
    <I>Wed May 14 11:58:20 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000840.html">[rabbitmq-discuss] TCP timeout is also happening for C# clients
</A></li>
        <LI>Next message: <A HREF="000841.html">[rabbitmq-discuss] RequestedHeartbeat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#844">[ date ]</a>
              <a href="thread.html#844">[ thread ]</a>
              <a href="subject.html#844">[ subject ]</a>
              <a href="author.html#844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Geoffrey,

Geoffrey Anderson wrote:
&gt;<i> FYI: I have found that a Hearbeat adjustment solves a BasicPublish() timeout problem
</I>&gt;<i> in dotnet clients.
</I>
I think you may have happened across a bug others have seen before; are
you running .NET on a Microsoft operating system? If so, it is likely
that the Heartbeat feature will not work well for you, and you should
disable heartbeats by setting the heartbeat interval to zero.

See
<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2008-April/001043.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2008-April/001043.html</A>
<A HREF="http://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=94149">http://connect.microsoft.com/VisualStudio/feedback/ViewFeedback.aspx?FeedbackID=94149</A>

A future release of the RabbitMQ .NET client will employ an alternative
strategy for detecting idle sockets that does not fall foul of
Microsoft's broken read-timeout behaviour.

&gt;<i> OK guys thanks for guidance with diagnosing the connection problems.  It is solved
</I>&gt;<i> after I created an environment variable.
</I>
Great! Pleased to hear it.

&gt;<i> I now suspect there is a threading bug in the RabbitMQ stack and it is common to
</I>&gt;<i> both C# and java clients either by repetition of a mistaken code pattern, or by some
</I>&gt;<i> code layer in the RabbitMQ system which is shared in common by clients of both
</I>&gt;<i> languages.  Solutions applied in the application layer are probably not the best
</I>&gt;<i> way.
</I>
I'd be surprised if you were seeing anything other than the
heartbeat-timeout problem.

Regards,
  Tony
-- 
 [][][] Tony Garnock-Jones     | Mob: +44 (0)7905 974 211
   [][] LShift Ltd             | Tel: +44 (0)20 7729 7060
 []  [] <A HREF="http://www.lshift.net/">http://www.lshift.net/</A> | Email: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000840.html">[rabbitmq-discuss] TCP timeout is also happening for C# clients
</A></li>
	<LI>Next message: <A HREF="000841.html">[rabbitmq-discuss] RequestedHeartbeat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#844">[ date ]</a>
              <a href="thread.html#844">[ thread ]</a>
              <a href="subject.html#844">[ subject ]</a>
              <a href="author.html#844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
