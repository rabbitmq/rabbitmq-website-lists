<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] persistence
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20persistence&In-Reply-To=483432AB.502%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000879.html">
   <LINK REL="Next"  HREF="000881.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] persistence</H1>
    <B>Lars Bachmann</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20persistence&In-Reply-To=483432AB.502%40lshift.net"
       TITLE="[rabbitmq-discuss] persistence">lars.bachmann at s2002.tu-chemnitz.de
       </A><BR>
    <I>Wed May 21 16:10:50 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000879.html">[rabbitmq-discuss] persistence
</A></li>
        <LI>Next message: <A HREF="000881.html">[rabbitmq-discuss] persistence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mathias,

here a short description of what i did and what exactly happened:

1. i stoped the broker, removed all stored messages and the logfiles  
and restarted the broker
2. my client is set up to wait 50 seconds after sending all messages  
before the channel will be closed
3. Im sending 500000 messages to the broker. 50 seconds seem to be to  
short thats why only 120000 messages are received by the broker =&gt; no  
client exception
4. Im sending again 500000 messages, some (of coz not all) messages  
are sent and then an exceptions occurs  
(java.lang.IllegalStateException: Attempt to use closed channel)
5. when i try to send one more time 500000 messages i get the  
socketexception immediatly and the broker is not reachable anymore and  
i have to kill the process

the log file is attached (in the sasl log file are no entries and  
there are no bak log files because i removed all on startup)

Lars



-------------- next part --------------
A non-text attachment was scrubbed...
Name: broker4.log
Type: text/x-log
Size: 133 bytes
Desc: not available
Url : <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080521/e64df5dd/attachment.bin">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080521/e64df5dd/attachment.bin</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000879.html">[rabbitmq-discuss] persistence
</A></li>
	<LI>Next message: <A HREF="000881.html">[rabbitmq-discuss] persistence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#880">[ date ]</a>
              <a href="thread.html#880">[ thread ]</a>
              <a href="subject.html#880">[ subject ]</a>
              <a href="author.html#880">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
