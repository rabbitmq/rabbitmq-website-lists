<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] persistence
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20persistence&In-Reply-To=48356BE6.2020302%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000885.html">
   <LINK REL="Next"  HREF="000892.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] persistence</H1>
    <B>Lars Bachmann</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20persistence&In-Reply-To=48356BE6.2020302%40lshift.net"
       TITLE="[rabbitmq-discuss] persistence">lars.bachmann at s2002.tu-chemnitz.de
       </A><BR>
    <I>Thu May 22 17:05:29 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000885.html">[rabbitmq-discuss] persistence
</A></li>
        <LI>Next message: <A HREF="000892.html">[rabbitmq-discuss] persistence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#888">[ date ]</a>
              <a href="thread.html#888">[ thread ]</a>
              <a href="subject.html#888">[ subject ]</a>
              <a href="author.html#888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mathias,

thank you for your help and all the information you gave me. Now my  
task is to check some other mq brokers and in the end we ll see which  
system fits our requirements the best. The work with rabbitmq was all  
in all very satisfying except this channel bug. I hope it ll be fixed  
soon, but let's first have a look on the problems of the other brokers  
;-).

One more question. In the roadmap the jms integration is mentioned.  
Will this be also realized in the next release of rabbitmq ?

Lars

&gt;<i> Lars,
</I>&gt;<i>
</I>&gt;<i> Matthias Radestock wrote:
</I>&gt;&gt;<i> Lars Bachmann wrote:
</I>&gt;&gt;&gt;<i> In our company we comparing different messaging solutions and   
</I>&gt;&gt;&gt;<i> rabbitmq seemed to be a good one, but the problems with the   
</I>&gt;&gt;&gt;<i> presistent messages are unfortunatelly a big minus.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The problem actually isn't with persistent messaging, but with   
</I>&gt;&gt;<i> sending lots of messages at a rate greater than the broker can   
</I>&gt;&gt;<i> process, and building up backlogs of 10th of thousands of messages   
</I>&gt;&gt;<i> in doing do. Persistence increases the workload and thus lowers the  
</I>&gt;&gt;<i>  processing rate, which makes the problem more noticeable when   
</I>&gt;&gt;<i> persistence is enabled.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The bug is not causing any difficulties in practice unless *all* of  
</I>&gt;&gt;<i>  the following are true of your clients:
</I>&gt;&gt;<i> - they publish messages to the broker at a rate that significantly   
</I>&gt;&gt;<i> exceeds the brokers processing capacity
</I>&gt;&gt;<i> - they sustain such a rate for a significant period of time (i.e.   
</I>&gt;&gt;<i> not just a few second blip)
</I>&gt;&gt;<i> - they disconnect shortly after sending all these messages
</I>&gt;<i>
</I>&gt;<i> I forgot to mention that this is actually a grey area in the AMQP spec.
</I>&gt;<i> What RabbitMQ is doing is perfectly compliant. We have initiated a
</I>&gt;<i> discussion in the the AMQP working group to get the spec clarified.
</I>&gt;<i> Independently of that, as I mentioned, we will fix the the problem in
</I>&gt;<i> the next release.
</I>&gt;<i>
</I>&gt;<i> I should also point out that AMQP's basic.publish is fundamentally
</I>&gt;<i> asynchronous and thus limited in the guarantees it provides. You get
</I>&gt;<i> stronger guarantees when wrapping your publish requests in transactions
</I>&gt;<i> (see channel.tx{Select,Commit,Rollback}() in the Java API). The server
</I>&gt;<i> guarantees that persistent messages have been written to disk by the
</I>&gt;<i> time it returns tx.commit-ok, though obviously this carries a
</I>&gt;<i> performance penalty.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000885.html">[rabbitmq-discuss] persistence
</A></li>
	<LI>Next message: <A HREF="000892.html">[rabbitmq-discuss] persistence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#888">[ date ]</a>
              <a href="thread.html#888">[ thread ]</a>
              <a href="subject.html#888">[ subject ]</a>
              <a href="author.html#888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
