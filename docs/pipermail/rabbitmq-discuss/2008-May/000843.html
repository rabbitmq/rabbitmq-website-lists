<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] persistence
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20persistence&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000845.html">
   <LINK REL="Next"  HREF="000846.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] persistence</H1>
    <B>Lars Bachmann</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20persistence&In-Reply-To="
       TITLE="[rabbitmq-discuss] persistence">lars.bachmann at s2002.tu-chemnitz.de
       </A><BR>
    <I>Wed May 14 09:41:49 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000845.html">[rabbitmq-discuss] RequestedHeartbeat
</A></li>
        <LI>Next message: <A HREF="000846.html">[rabbitmq-discuss] persistence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#843">[ date ]</a>
              <a href="thread.html#843">[ thread ]</a>
              <a href="subject.html#843">[ subject ]</a>
              <a href="author.html#843">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hello,

since some days Im trying to learn and understand rabbitmq. I think  
the decoupling between routing information and stored data very nice  
and flexible. I was able to configure the typical pub/sub scenario  
with one publisher and many subsriber. The publisher sends the  
messages to the exchange and the exchanges routes the messages to  
several queues. On each queue one subscriber is listening. If i send  
the messages transient without storing them to memory or harddisk  
everything works how it supposed to be. (each subsriber receives all  
messages). If i switch to persistent messages some problems occur and  
i dont know why.

1. if my producer sends only a small amount of messages (lets say  
5000), then all queues receive all messages persistent and everything  
is ok
2. if my producer sends a larger amount of messages (lets say 100000),  
then some strange behaviour appears. All queues receive only some of  
this messages. Sometimes 80% sometimes 50% sometimes even only 10% =&gt;  
i couldnt discover any pattern, it seemed to be just random

So Im wondering why this happens. Could it be that there are too many  
messages to persist and the broker cant handle it because of i dont  
know too less memory or some like this ?

Another question: Lets say we have 5 subscriber (each listen to his  
&quot;own&quot; queue) in the pub / sub scenario and we want persistent message  
storing. Does this mean that each messages is stored 5 times ? (and  
for n subscribers n times which would cause a big overhead)

Or maybe Im doing something completly wrong in realising a durable  
pub/sub scenario where every subsriber must receive all messages.

Thank you

best regards

Lars





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000845.html">[rabbitmq-discuss] RequestedHeartbeat
</A></li>
	<LI>Next message: <A HREF="000846.html">[rabbitmq-discuss] persistence
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#843">[ date ]</a>
              <a href="thread.html#843">[ thread ]</a>
              <a href="subject.html#843">[ subject ]</a>
              <a href="author.html#843">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
