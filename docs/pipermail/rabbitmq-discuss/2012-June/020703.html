<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Crashes - init terminating?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Crashes%20-%20init%20terminating%3F&In-Reply-To=%3C60F6A6AF-045F-46CE-ADDE-91DF27A61AF3%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020692.html">
   <LINK REL="Next"  HREF="020696.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Crashes - init terminating?</H1>
    <B>Steve Powell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Crashes%20-%20init%20terminating%3F&In-Reply-To=%3C60F6A6AF-045F-46CE-ADDE-91DF27A61AF3%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Crashes - init terminating?">steve at rabbitmq.com
       </A><BR>
    <I>Tue Jun 19 14:04:40 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020692.html">[rabbitmq-discuss] Crashes - init terminating?
</A></li>
        <LI>Next message: <A HREF="020696.html">[rabbitmq-discuss] Question Regarding making plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20703">[ date ]</a>
              <a href="thread.html#20703">[ thread ]</a>
              <a href="subject.html#20703">[ subject ]</a>
              <a href="author.html#20703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Dan,

The Erlang crash dumps for rabbitmq-server and rabbitmqctl are because
of failures to run these Erlang programs (actually a prelaunch program
in the former case). They should not affect the rabbitmq-server service
if it is already running (which it appears to be since you say sending
and receiving messages are fine).

I assume that by the latest version of rabbitmq you are running
rabbitmq-server 2.8.2, and Erlang R15B, which is what I get from my
macports (on OS X 10.6.8, macports 2.1.1). You should check that any
earlier version(s) is(are) uninstalled.

Did you run `sudo port load rabbitmq-server` which starts the service in
the background?

Now accessing the rabbitmqctl and rabbitmq-server scripts from the
command line requires that you issue them as root, done with sudo:

    sudo rabbitmqctl status

This should give a reasonable response.

To see if the server has problems you should look in the log directory
(/opt/local/var/log/rabbitmq/*) where you should have two logs for each
rabbitmq node you run. (By default this is rabbit@&lt;hostname&gt;.log and
-sasl.log.) I suspect there will be nothing untoward there.

I cannot reproduce your symptoms unless I disable the -pa option on the
(eventual) erl command, so it looks as though you have an environment
problem. Please check the following directory:

    /opt/local/lib/rabbitmq/lib/rabbitmq_server-2.8.2/

and see if the scripts are in sbin/, and there are a lot of beam files
in ebin/.

PS: 
[You might be using a non-standard prefix for macport install
files -- if so, the /opt/local in this directory path might be something
different for you -- and we may have a bug, since we are supposed to
cope with that.]

Steve Powell  (a happy bunny)
----------yet more definitions from the SPD----------
corrugate (n.) T.V. soap scandal.
olympic (n.) A camp road-digger.
jamboree (n.) A conserve made from French cheese.

On 19 Jun 2012, at 10:44, Dan Dart wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I'm having a problem in that sending and receiving messages is fine,
</I>&gt;<i> but doing either of these commands:
</I>&gt;<i> 
</I>&gt;<i> rabbitmqctl list_exchanges
</I>&gt;<i> rabbitmqctl list_queues
</I>&gt;<i> rabbitmqctl list_bindings
</I>&gt;<i> rabbitmqctl delete_user
</I>&gt;<i> rabbitmqctl add_user
</I>&gt;<i> rabbitmqctl delete_vhost
</I>&gt;<i> rabbitmqctl add_vhost
</I>&gt;<i> rabbitmqctl set_permissions
</I>&gt;<i> rabbitmqctl stop
</I>&gt;<i> 
</I>&gt;<i> echoes the following to stderr:
</I>&gt;<i> 
</I>&gt;<i> {&quot;init terminating in
</I>&gt;<i> do_boot&quot;,{undef,[{rabbit_control,start,[]},{init,start_it,1},{init,start_em,1}]}}
</I>&gt;<i> 
</I>&gt;<i> Crash dump was written to: erl_crash.dump
</I>&gt;<i> init terminating in do_boot ()
</I>&gt;<i> 
</I>&gt;<i> and rabbitmq-server results in:
</I>&gt;<i> 
</I>&gt;<i> {&quot;init terminating in
</I>&gt;<i> do_boot&quot;,{undef,[{rabbit_prelaunch,start,[]},{init,start_it,1},{init,start_em,1}]}}
</I>&gt;<i> 
</I>&gt;<i> Crash dump was written to: erl_crash.dump
</I>&gt;<i> init terminating in do_boot ()
</I>&gt;<i> 
</I>&gt;<i> My Rabbit version is the latest from MacPorts on OSX 10.6 (and will
</I>&gt;<i> not tell me itself).
</I>&gt;<i> 
</I>&gt;<i> My erl_crash.dump:
</I>&gt;<i> <A HREF="https://gist.github.com/2953290">https://gist.github.com/2953290</A>
</I>&gt;<i> 
</I>&gt;<i> Cheers
</I>&gt;<i> Dan
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>









































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020692.html">[rabbitmq-discuss] Crashes - init terminating?
</A></li>
	<LI>Next message: <A HREF="020696.html">[rabbitmq-discuss] Question Regarding making plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20703">[ date ]</a>
              <a href="thread.html#20703">[ thread ]</a>
              <a href="subject.html#20703">[ subject ]</a>
              <a href="author.html#20703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
