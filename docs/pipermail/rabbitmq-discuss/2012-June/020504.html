<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbmitMQ consuming CPU and Memory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbmitMQ%20consuming%20CPU%20and%20Memory&In-Reply-To=%3C4FCF70D2.7010208%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020502.html">
   <LINK REL="Next"  HREF="020430.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbmitMQ consuming CPU and Memory</H1>
    <B>Paul Gross</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbmitMQ%20consuming%20CPU%20and%20Memory&In-Reply-To=%3C4FCF70D2.7010208%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbmitMQ consuming CPU and Memory">pgross at gmail.com
       </A><BR>
    <I>Wed Jun  6 16:01:38 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020502.html">[rabbitmq-discuss] RabbmitMQ consuming CPU and Memory
</A></li>
        <LI>Next message: <A HREF="020430.html">[rabbitmq-discuss] Posting messages from Cloud to Local
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20504">[ date ]</a>
              <a href="thread.html#20504">[ thread ]</a>
              <a href="subject.html#20504">[ subject ]</a>
              <a href="author.html#20504">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i>
</I>&gt;<i> The problem you are seeing turns out to be a process leak in HA queues 
</I>&gt;<i> - when such queues are deleted not all associated Erlang processes are 
</I>&gt;<i> terminated and they eat up increasing amounts of memory and processing 
</I>&gt;<i> resources.
</I>&gt;<i>
</I>&gt;<i> A fix should appear in the next release. Meanwhile, if you tweak your 
</I>&gt;<i> tests s.t. they do not create HA queues that would allow us to confirm 
</I>&gt;<i> whether we are on the right track here.
</I>&gt;<i>
</I>That makes sense. We use these same queue configurations in both our 
production and manual testing environments. We hardly ever delete and 
recreate the queues there, and these servers have been running for 
months with no problems.

Thanks for getting to the bottom of the problem. We will upgrade when 
the next version comes out.

Paul
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020502.html">[rabbitmq-discuss] RabbmitMQ consuming CPU and Memory
</A></li>
	<LI>Next message: <A HREF="020430.html">[rabbitmq-discuss] Posting messages from Cloud to Local
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20504">[ date ]</a>
              <a href="thread.html#20504">[ thread ]</a>
              <a href="subject.html#20504">[ subject ]</a>
              <a href="author.html#20504">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
