<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.19.1348303354.8494.rabbitmq-discuss%40lists.rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022612.html">
   <LINK REL="Next"  HREF="020720.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.19.1348303354.8494.rabbitmq-discuss%40lists.rabbitmq.com%3E"
       TITLE="No subject">
       </A><BR>
    <I>Sun Jun 17 23:12:48 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022612.html">No subject
</A></li>
        <LI>Next message: <A HREF="020720.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22616">[ date ]</a>
              <a href="thread.html#22616">[ thread ]</a>
              <a href="subject.html#22616">[ subject ]</a>
              <a href="author.html#22616">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
But if we do not set any user permissions, simply use rabbitmq system 
default guest user, and create 5000 unique connections/queues to the 
server, our client side message rate is 12000 messages per second. 


My question is: what contributes to the 30% performance degradation?

------=_Part_346_9598291.1348268065627
Content-Type: text/html; charset=utf-8
Content-Transfer-Encoding: quoted-printable

&lt;font face=3D&quot;arial, sans-serif&quot; size=3D&quot;2&quot;&gt;Based on descriptions on Rabbit=
MQ access control,&amp;nbsp;
&lt;a href=3D&quot;<A HREF="http://www.rabbitmq.com/access-control.html&quot;">http://www.rabbitmq.com/access-control.html&quot;</A>&gt;<A HREF="http://www.rabbitmq=">http://www.rabbitmq=</A>
.com/access-control.html&lt;/a&gt;&amp;nbsp;:&amp;nbsp;&quot;&lt;span style=3D&quot;color: rgb(85, 85,=
 85); line-height: 18px; &quot;&gt;RabbitMQ may cache the results of access control=
 checks on a per-connection or per-channel basis.&quot; Based on this statement,=
 rabbitmq access control operations should not impose too much load on the =
server performance.&amp;nbsp;&lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;span style=3D&quot;color: rgb(85, 8=
5, 85); line-height: 18px; &quot;&gt;&lt;font face=3D&quot;arial, sans-serif&quot; size=3D&quot;2&quot;&gt;&lt;b=
r&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=3D&quot;#555555&quot; face=3D&quot;arial, sans-seri=
f&quot; size=3D&quot;2&quot;&gt;&lt;span style=3D&quot;line-height: 18px;&quot;&gt;But in our test, we have 5=
000 client connections over SSL, each client is set with a configure/write/=
read&amp;nbsp;permissions&amp;nbsp;like this:&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=
=3D&quot;color: rgb(85, 85, 85); line-height: 18px; &quot;&gt;&lt;font face=3D&quot;arial, sans-=
serif&quot; size=3D&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;p class=3D&quot;MsoNormal&quot; style=
=3D&quot;margin: 0in 0in 0.0001pt; color: rgb(0, 0, 0); line-height: normal; &quot;&gt;&lt;=
font face=3D&quot;arial, sans-serif&quot; size=3D&quot;2&quot;&gt;Configure: {client_name}.*|^amq\=
.gen.*|^amq\.default|^&lt;span id=3D&quot;DWT367&quot; class=3D&quot;ZmSearchResult&quot; style=3D=
&quot;background-color: rgb(255, 254, 196); &quot;&gt;vsm&lt;/span&gt;.*&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbs=
p;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p class=3D&quot;MsoNormal&quot; sty=
le=3D&quot;margin: 0in 0in 0.0001pt; color: rgb(0, 0, 0); line-height: normal; &quot;=
&gt;<i>&lt;font face=3D&quot;arial, sans-serif&quot; size=3D&quot;2&quot;&gt;Write: {client_name}.*|^amq\.g=
</I>en.*|^amq\.default&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p class=3D&quot;MsoNormal&quot;=
 style=3D&quot;margin: 0in 0in 0.0001pt; color: rgb(0, 0, 0); line-height: norma=
l; &quot;&gt;&lt;font face=3D&quot;arial, sans-serif&quot; size=3D&quot;2&quot;&gt;Read: {client_name}.*|^amq=
\.gen.*|^amq\.default|^&lt;span id=3D&quot;DWT369&quot; class=3D&quot;ZmSearchResult&quot; style=
=3D&quot;background-color: rgb(255, 254, 196); &quot;&gt;vsm&lt;/span&gt;.*&lt;/font&gt;&lt;/p&gt;&lt;p class=
=3D&quot;MsoNormal&quot; style=3D&quot;margin: 0in 0in 0.0001pt; color: rgb(0, 0, 0); line=
-height: normal; &quot;&gt;&lt;font face=3D&quot;arial, sans-serif&quot; size=3D&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;=
/p&gt;&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;margin: 0in 0in 0.0001pt; color: rgb(0, =
0, 0); line-height: normal; &quot;&gt;&lt;font face=3D&quot;arial, sans-serif&quot; size=3D&quot;2&quot;&gt;O=
ne publisher publishes 10 message per second to an exchange, message size i=
s 1KB, &amp;nbsp;each client/consumer creates a queue and bind to this exchange=
, and we have a total of 5000 unique clients with its own queues.&amp;nbsp;&lt;/fo=
nt&gt;&lt;/p&gt;&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;margin: 0in 0in 0.0001pt; color: rgb=
(0, 0, 0); line-height: normal; &quot;&gt;&lt;font face=3D&quot;arial, sans-serif&quot; size=3D&quot;=
2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;margin: 0in 0in 0.0001pt;=
 color: rgb(0, 0, 0); line-height: normal; &quot;&gt;&lt;font face=3D&quot;arial, sans-seri=
f&quot; size=3D&quot;2&quot;&gt;From the client side, we can receive about 8000 messages per =
second.&lt;/font&gt;&lt;/p&gt;&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;margin: 0in 0in 0.0001pt;=
 color: rgb(0, 0, 0); line-height: normal; &quot;&gt;&lt;font face=3D&quot;arial, sans-seri=
f&quot; size=3D&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;margin: 0in 0i=
n 0.0001pt; color: rgb(0, 0, 0); line-height: normal; &quot;&gt;&lt;font face=3D&quot;arial=
, sans-serif&quot; size=3D&quot;2&quot;&gt;But if we do not set any user permissions, simply =
use rabbitmq system default guest user, and create 5000 unique connections/=
queues to the server, our client side message rate is 12000 messages per se=
cond.&amp;nbsp;&lt;/font&gt;&lt;/p&gt;&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;margin: 0in 0in 0.000=
1pt; color: rgb(0, 0, 0); line-height: normal; &quot;&gt;&lt;font face=3D&quot;arial, sans-=
serif&quot; size=3D&quot;2&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/p&gt;&lt;p class=3D&quot;MsoNormal&quot; style=3D&quot;margin: 0i=
n 0in 0.0001pt; color: rgb(0, 0, 0); line-height: normal; &quot;&gt;&lt;font face=3D&quot;a=
rial, sans-serif&quot; size=3D&quot;2&quot;&gt;My question is: what contributes to the 30% pe=
rformance degradation?&lt;/font&gt;&lt;/p&gt;&lt;/div&gt;
------=_Part_346_9598291.1348268065627--

------=_Part_345_18526745.1348268065620--
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022612.html">No subject
</A></li>
	<LI>Next message: <A HREF="020720.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22616">[ date ]</a>
              <a href="thread.html#22616">[ thread ]</a>
              <a href="subject.html#22616">[ subject ]</a>
              <a href="author.html#22616">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
