<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Help with the SSL tutorial on Windows Server 2008
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20with%20the%20SSL%20tutorial%20on%20Windows%20Server%0A%202008&In-Reply-To=%3C261B7FE1ECF3ED4C997D432F8018855E0117C7E476%40DEFTHW99E85MSX.ww902.siemens.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020590.html">
   <LINK REL="Next"  HREF="020598.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Help with the SSL tutorial on Windows Server 2008</H1>
    <B>Wiessler, Wolfgang</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20with%20the%20SSL%20tutorial%20on%20Windows%20Server%0A%202008&In-Reply-To=%3C261B7FE1ECF3ED4C997D432F8018855E0117C7E476%40DEFTHW99E85MSX.ww902.siemens.net%3E"
       TITLE="[rabbitmq-discuss] Help with the SSL tutorial on Windows Server 2008">wolfgang.wiessler at siemens.com
       </A><BR>
    <I>Wed Jun 13 11:00:22 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020590.html">[rabbitmq-discuss] Help with the SSL tutorial on Windows Server 2008
</A></li>
        <LI>Next message: <A HREF="020598.html">[rabbitmq-discuss] Help with the SSL tutorial on Windows Server 2008
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20596">[ date ]</a>
              <a href="thread.html#20596">[ thread ]</a>
              <a href="subject.html#20596">[ subject ]</a>
              <a href="author.html#20596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Emile and Michael for you help. I installed OpenSSL (the 32 Bit version on the 64 Bit Windows as stated in the tutorial). I successfully generated the certificates according to the tutorial. But now I am running into a problem when starting the RabbitMQ Service. It terminates right away without any specific error. In the event viewer &quot;System&quot; log, I get the following error:

--------
RabbitMQ: Erlang machine stopped instantly (distribution name conflict?). The service is not restarted as OnFail is set to ignore.
--------

My config file looks like this (the paths are correct):
[
  {rabbit, [
     {ssl_listeners, [5671]},
     {ssl_options, [{cacertfile,C:/Messaging/testca/cacert.pem},
                    {certfile,C:/Messaging/server/cert.pem},
                    {keyfile,C:/Messaging/server/key.pem},
                    {verify,verify_peer},
                    {fail_if_no_peer_cert,false}]}
   ]}
].

I cannot find any more details on this error. The log file is empty. Any idea what might cause this? Are the generated certificates incorrect? Surprisingly, the service starts fine if I replace the values with invalid dummy entries.

-Wolfgang



-----Original Message-----
From: Emile Joubert [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>] 
Sent: Mittwoch, 13. Juni 2012 10:55
To: Wiessler, Wolfgang
Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] Help with the SSL tutorial on Windows Server 2008

Hi Wolfgang,

On 12/06/12 17:15, Wiessler, Wolfgang wrote:
&gt;<i> Now I would like to create my own Certificate Authority and create 
</I>&gt;<i> certificates. The example in the tutorial seems to be using UNIX and 
</I>&gt;<i> does not show where to expect certain executables (e.g. openssl). I 
</I>&gt;<i> cannot find the file when I am searching for it on my server. Also 
</I>&gt;<i> certain UNIX commands are not available in Windows and I am not sure 
</I>&gt;<i> if they are required under windows or what the equivalent is (chmod, touch).
</I>
If you wish to follow the steps verbatim on Windows then install Cygwin.
The examples assume that you have the OpenSSL binaries and utilities on your PATH. You can do the same on WINDOWS.

&gt;<i> Could somebody please shed some light on what is missing? Do I need to 
</I>&gt;<i> install anything else? The tutorial is mentioning certain extra steps 
</I>&gt;<i> for Erlang R13B, but I am using R15B so I can ignore these steps?
</I>
You don't have to use OpenSSL. If you have your own PKI then feel free to use that. You will need to refer to the documentation of your PKI provider and ensure that certificates and keys are in the correct format.

If you choose to use OpenSSL for creating and signing certificates then you will need to install it first. See <A HREF="http://www.openssl.org/related/binaries.html">http://www.openssl.org/related/binaries.html</A>

On average later versions of Erlang have fewer SSL bugs than earlier versions. Using R15B (or later) should be fine.



-Emile


</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020590.html">[rabbitmq-discuss] Help with the SSL tutorial on Windows Server 2008
</A></li>
	<LI>Next message: <A HREF="020598.html">[rabbitmq-discuss] Help with the SSL tutorial on Windows Server 2008
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20596">[ date ]</a>
              <a href="thread.html#20596">[ thread ]</a>
              <a href="subject.html#20596">[ subject ]</a>
              <a href="author.html#20596">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
