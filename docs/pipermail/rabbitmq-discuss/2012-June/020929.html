<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Preserving Order Across Multiple Consumers on a	Single Queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Preserving%20Order%20Across%20Multiple%20Consumers%20on%20a%0A%09Single%20Queue&In-Reply-To=%3CCABPX_bdTXFn__ijmmF4ycSe-RS93OucQY_n6HrsXcr8w8ANrRA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020928.html">
   <LINK REL="Next"  HREF="020930.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Preserving Order Across Multiple Consumers on a	Single Queue</H1>
    <B>Charles Law</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Preserving%20Order%20Across%20Multiple%20Consumers%20on%20a%0A%09Single%20Queue&In-Reply-To=%3CCABPX_bdTXFn__ijmmF4ycSe-RS93OucQY_n6HrsXcr8w8ANrRA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Preserving Order Across Multiple Consumers on a	Single Queue">charles.law at openx.com
       </A><BR>
    <I>Sat Jun 30 02:52:43 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020928.html">[rabbitmq-discuss] HA Queues lost when a node dies
</A></li>
        <LI>Next message: <A HREF="020930.html">[rabbitmq-discuss] RabbitMQ Subscriber Timeout When Waiting for Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20929">[ date ]</a>
              <a href="thread.html#20929">[ thread ]</a>
              <a href="subject.html#20929">[ subject ]</a>
              <a href="author.html#20929">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We are setting up RabbitMQ to accept CRUD messages and talk to consumers
that will interact with our databases.  We have multiple accounts (each one
made up of many other child accounts) that have a dedicated database
instance, and their own dedicated queue.  For a particular queue/database
we would like to prevent collisions on items in the database.  Unless we
parse our messages out, that would mean that RabbitMQ would need to
preserve message order on a queue.

Ideally we want multiple consumers, with each consumer subscribed to
multiple queues.  And if possible, at any point in time, each queue would
only have 1 message being processed by our set of consumers.  We'd only
send another message from a queue out to our consumers after getting an
acknowledgement back that the current one is done.  We'll have multiple
queues, so across the different queues message order doesn't matter.

We did consider using an exclusive queues, but we want to balance our loads
so if 1 account/queue is very active, it is spread across all our
consumers.  Can we set this up fairly easily with RabbitMQ?

-- 
Charles Law   Software Developer
Watch how we make online advertising simple: <A HREF="http://bit.ly/Ent_vid">http://bit.ly/Ent_vid</A>
www.openx.com &lt;<A HREF="http://www.openx.org/">http://www.openx.org/</A>&gt;   |   follow us on:
Twitter&lt;<A HREF="http://twitter.com/openx">http://twitter.com/openx</A>&gt;
   Facebook &lt;<A HREF="http://www.facebook.com/OpenX">http://www.facebook.com/OpenX</A>&gt;
LinkedIn&lt;<A HREF="http://www.linkedin.com/company/openx/products">http://www.linkedin.com/company/openx/products</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120629/543e77b0/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120629/543e77b0/attachment.htm</A>&gt;
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020928.html">[rabbitmq-discuss] HA Queues lost when a node dies
</A></li>
	<LI>Next message: <A HREF="020930.html">[rabbitmq-discuss] RabbitMQ Subscriber Timeout When Waiting for Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20929">[ date ]</a>
              <a href="thread.html#20929">[ thread ]</a>
              <a href="subject.html#20929">[ subject ]</a>
              <a href="author.html#20929">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
