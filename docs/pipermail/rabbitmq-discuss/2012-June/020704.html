<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Newbie Q: Bugs in 2.8.2-1?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Newbie%20Q%3A%20Bugs%20in%202.8.2-1%3F&In-Reply-To=%3CCAG2p9D%2Bs_ZQ8yPbUN1WDCzc7upTxKQ8dobLLsfPrFW5umnsK5g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020682.html">
   <LINK REL="Next"  HREF="020705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Newbie Q: Bugs in 2.8.2-1?</H1>
    <B>Eric Bravick</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Newbie%20Q%3A%20Bugs%20in%202.8.2-1%3F&In-Reply-To=%3CCAG2p9D%2Bs_ZQ8yPbUN1WDCzc7upTxKQ8dobLLsfPrFW5umnsK5g%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Newbie Q: Bugs in 2.8.2-1?">ebravick at springsemantics.com
       </A><BR>
    <I>Tue Jun 19 15:16:41 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020682.html">[rabbitmq-discuss] Newbie Q: Bugs in 2.8.2-1?
</A></li>
        <LI>Next message: <A HREF="020705.html">[rabbitmq-discuss] Newbie Q: Bugs in 2.8.2-1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20704">[ date ]</a>
              <a href="thread.html#20704">[ thread ]</a>
              <a href="subject.html#20704">[ subject ]</a>
              <a href="author.html#20704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias,

When 2.8.2 rolled, we also got snagged by this.  It was actually a bit of a
mess for us.  Like a lot of companies, we are lean on administrators (500+
servers per administrator) and fast moving.  Rabbit is newer in our
infrastructure but its been really stable, so we had classified it as
&quot;production safe&quot; for both the application and its packaging.  In our case,
we've re-classified the packaging as &quot;development&quot; meaning that when a new
version rolls, it has to be manually upgraded (sent through the QA process
to test for this sort of breakage.)

Its getting more and more common for our machines to have large memory
spaces, and more and more common that applications run almost entirely out
of memory.  My guess is that others see the same trend upwards in memory
size... so this is probably something you'll continue to have more issues
with rather than less.  Given that trend, I'd recommend that the packaging
check for this state (if upgrading from &lt;2.8.2) and fail the upgrade if the
appropriate values aren't set (i.e. you'll end up with a failed Rabbit at
the end of the upgrade.)   For people starting with 2.8.2+, you might
consider re-visiting the hard failure and making this a warning state
instead...  seems to me there's a valid argument to throw a warning here
rather than blocking (however, I could be entirely incorrect about that.)

On Mon, Jun 18, 2012 at 4:08 PM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;wrote:

&gt;<i> On 18/06/12 20:22, Philip K. Warren wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> We have encountered issues in RabbitMQ 2.8.2 and greater with the
</I>&gt;&gt;<i> default 'disk_free_limit' monitoring. If you are running on a system
</I>&gt;&gt;<i> with more available RAM than disk space out of the box, RabbitMQ will
</I>&gt;&gt;<i> block consumers in its default configuration.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We are surprised by how many people get caught out by that.
</I>&gt;<i>
</I>&gt;<i> Are there perhaps some popular Amazon EC2 images that are configured with
</I>&gt;<i> very little disk space in /var/lib?
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i> _______________________________________________
</I>&gt;<i>
</I>
-- 
Regards,
--
-- Eric Bravick, CTO
-- Spring Semantics, Inc.
-- 588 Sutter St. #232
-- San Francisco, CA 94102
-- Office = 415.906.3853
-- Email = <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ebravick at springsemantics.com</A>
-- ebravick on Google+ and just about all Social Media
--
-- All Communications Legally Bound by this Agreement:
-- springsemantics.com/confidential.html
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120619/33c257cd/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120619/33c257cd/attachment.htm</A>&gt;
</PRE>






































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020682.html">[rabbitmq-discuss] Newbie Q: Bugs in 2.8.2-1?
</A></li>
	<LI>Next message: <A HREF="020705.html">[rabbitmq-discuss] Newbie Q: Bugs in 2.8.2-1?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20704">[ date ]</a>
              <a href="thread.html#20704">[ thread ]</a>
              <a href="subject.html#20704">[ subject ]</a>
              <a href="author.html#20704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
