<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Vanishing of persistent messages on durable, auto-deleting queue with dead-lettering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Vanishing%20of%20persistent%20messages%20on%20durable%2C%0A%20auto-deleting%20queue%20with%20dead-lettering&In-Reply-To=%3C4FEDD75D.1030808%40comarch.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020932.html">
   <LINK REL="Next"  HREF="020914.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Vanishing of persistent messages on durable, auto-deleting queue with dead-lettering</H1>
    <B>Ernest Staszuk</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Vanishing%20of%20persistent%20messages%20on%20durable%2C%0A%20auto-deleting%20queue%20with%20dead-lettering&In-Reply-To=%3C4FEDD75D.1030808%40comarch.pl%3E"
       TITLE="[rabbitmq-discuss] Vanishing of persistent messages on durable, auto-deleting queue with dead-lettering">ernest.staszuk at comarch.pl
       </A><BR>
    <I>Fri Jun 29 17:27:09 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020932.html">[rabbitmq-discuss] Shovel configuration for a clustered broker with mirrored high-availability queues
</A></li>
        <LI>Next message: <A HREF="020914.html">[rabbitmq-discuss] Failure starting up after power pulled from	machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20936">[ date ]</a>
              <a href="thread.html#20936">[ thread ]</a>
              <a href="subject.html#20936">[ subject ]</a>
              <a href="author.html#20936">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>When I was testing RabbitMQ I encountered a strange (in my opinion) 
behavior. After disconnecting
a client from durable, auto-deleting queue with dead-lettering-exchange 
I would expect passing all
messages to dead letter exchange and then deleting queue. But 
surprisingly for me queue was deleted
and messages just vanished into limbo.

Is this behavior desirable? Why?

How should I get around this problem?
I thought about declare queue as non auto deleting and making own 
monitoring daemon,
which could handle cleaning queues without consumers. Is there any 
simpler way of achieve my goal?

Best regards,
Ernest Staszuk
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020932.html">[rabbitmq-discuss] Shovel configuration for a clustered broker with mirrored high-availability queues
</A></li>
	<LI>Next message: <A HREF="020914.html">[rabbitmq-discuss] Failure starting up after power pulled from	machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20936">[ date ]</a>
              <a href="thread.html#20936">[ thread ]</a>
              <a href="subject.html#20936">[ subject ]</a>
              <a href="author.html#20936">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
