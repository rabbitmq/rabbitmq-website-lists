<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Distributed RabbitMQ Nodes don't recognize each	other
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Distributed%20RabbitMQ%20Nodes%20don%27t%20recognize%20each%0A%09other&In-Reply-To=%3Cde7e72d4-243b-49dc-a768-4bb1eb15d8bc%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020664.html">
   <LINK REL="Next"  HREF="020668.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Distributed RabbitMQ Nodes don't recognize each	other</H1>
    <B>ittai zeidman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Distributed%20RabbitMQ%20Nodes%20don%27t%20recognize%20each%0A%09other&In-Reply-To=%3Cde7e72d4-243b-49dc-a768-4bb1eb15d8bc%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Distributed RabbitMQ Nodes don't recognize each	other">ittaiz at gmail.com
       </A><BR>
    <I>Thu Jun 14 20:38:29 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020664.html">[rabbitmq-discuss] Subscription and basic nack
</A></li>
        <LI>Next message: <A HREF="020668.html">[rabbitmq-discuss] Distributed RabbitMQ Nodes don't recognize each other
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20624">[ date ]</a>
              <a href="thread.html#20624">[ thread ]</a>
              <a href="subject.html#20624">[ subject ]</a>
              <a href="author.html#20624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

I'm working on a RabbitMQ distributed POC and I'm stuck at the basics of 
clustering the nodes.
I'm trying to follow the rabbit's tutorial&lt;<A HREF="http://www.rabbitmq.com/clustering.html">http://www.rabbitmq.com/clustering.html</A>&gt; on 
clustering so this is my reference.
After installing erlang (R14B04) and rabbit (2.8.2-1) I've copied the 
.erlang.cookie file contents from one node to the other two.
I wasn't sure about how to get erlang to notice this change to I had to 
restart the machines themselves (pretty brute force but I don't know erlang 
at all).
In addtion I opened in iptables 4369 and 5 additional ports for 
communications and placed under/usr/lib64/erlang/bin/sys.config the 
following config:

{kernel,[{inet_dist_listen_min, XX00},{inet_dist_listen_max,XX05}]}]

Then another restart (dumb I know) to verify erlang takes these into 
consideration but still when I run:

rabbitmqctl cluster <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at HostName1</A>

I get:

Clustering node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at HostName2</A> with [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at HostName1</A>] ...
Error: {no_running_cluster_nodes,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at HostName1</A>],
                                 [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at HostName1</A>]}

There is a chance my fiddling with the erlang.cookie or with the ports did 
not succeed but I don't know how to check them. I tried typing erl in the 
cmd and then erl_epmd:names() or other commands to get more information but 
I'm probably way off in erlang land.

Would truly appreciate any help
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120614/75106330/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120614/75106330/attachment.htm</A>&gt;
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020664.html">[rabbitmq-discuss] Subscription and basic nack
</A></li>
	<LI>Next message: <A HREF="020668.html">[rabbitmq-discuss] Distributed RabbitMQ Nodes don't recognize each other
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20624">[ date ]</a>
              <a href="thread.html#20624">[ thread ]</a>
              <a href="subject.html#20624">[ subject ]</a>
              <a href="author.html#20624">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
