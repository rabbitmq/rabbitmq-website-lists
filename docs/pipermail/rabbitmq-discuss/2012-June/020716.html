<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ connections blocked and not receiving simple messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20connections%20blocked%20and%20not%0A%20receiving%20simple%20messages&In-Reply-To=%3CA23CE3B9A6B78A4BBBC6A1AE3C306DCD9B71BF604C%40NA-MAIL-1-3.rws.ad.ea.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020722.html">
   <LINK REL="Next"  HREF="020717.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ connections blocked and not receiving simple messages</H1>
    <B>Keller, Steve</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20connections%20blocked%20and%20not%0A%20receiving%20simple%20messages&In-Reply-To=%3CA23CE3B9A6B78A4BBBC6A1AE3C306DCD9B71BF604C%40NA-MAIL-1-3.rws.ad.ea.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ connections blocked and not receiving simple messages">SKeller at ea.com
       </A><BR>
    <I>Wed Jun 20 02:17:55 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020722.html">[rabbitmq-discuss] Basic.Reject(requeue=true) is no longer working after updating to 2.8.2
</A></li>
        <LI>Next message: <A HREF="020717.html">[rabbitmq-discuss] Question Regarding Writing Plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20716">[ date ]</a>
              <a href="thread.html#20716">[ thread ]</a>
              <a href="subject.html#20716">[ subject ]</a>
              <a href="author.html#20716">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I reinstalled 2.8.2-1 and set the MNESIA_BASE configuration variable to /opt/rabbitmq/mnesia

Since there is sufficient space in this volume to match memory size, it just works.  Yay!  High Paw!

Now on to serious development; I am sure you all will be hearing more questions from me.  Thanks to Steve Powell and Tim Watson for steering me in the right direction, though I still think the installation docs should mention this issue.

-Steve

From: Keller, Steve
Sent: Tuesday, June 19, 2012 12:11 PM
To: '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>'
Subject: Re: [rabbitmq-discuss] RabbitMQ connections blocked and not receiving simple messages

Steve Powell asked for my system particulars.  This is a standalone system (Dell 1950) with 16 GB RAM.

Redhat Release:
Red Hat Enterprise Linux Server release 5.8 (Tikanga)

Linux Kernel:
Linux 2.6.18-308.el5 #1 SMP Fri Jan 27 17:17:51 EST 2012 x86_64 x86_64 x86_64 GNU/Linux

Disk space:

Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/Sys-root  992M  248M  694M  27% /
/dev/mapper/Sys-opt    60G  805M   56G   2% /opt
/dev/mapper/Sys-usr   4.9G  1.3G  3.4G  27% /usr
/dev/mapper/Sys-tmp   2.0G   68M  1.8G   4% /tmp
/dev/mapper/Sys-var   3.9G  254M  3.5G   7% /var
/dev/mapper/Sys-vtmp  992M   34M  908M   4% /var/tmp
/dev/mapper/Sys-crash
                       20G  173M   19G   1% /var/crash
/dev/mapper/Sys-log   5.9G  152M  5.4G   3% /var/log
/dev/mapper/Sys-audit
                      2.0G   75M  1.8G   4% /var/log/audit
/dev/mapper/Sys-home  4.9G  139M  4.5G   3% /home
/dev/sda1             487M  9.4M  452M   3% /boot
tmpfs                 7.9G     0  7.9G   0% /dev/shm


Since the assumption for the issue is that there is not enough disk space for RabbitMQ, or rather, that RabbitMQ requires 16GB of free disk space.  Obviously, it would be best if we could use a directory under /opt for disk space.  Looks like I do this with the environment variable RABBITMQ_MNESIA_BASE?

I'll reinstall and try that.

FWIW, I think the install docs should mention this issue, the above disk layout is pretty standard in our shop (we generally install application stuff in /opt).    But the main install page does not mention the default directories where stuff goes, nor how to change where you install or keep files.  In fact, to find the above environment variable I had to look at the man pages...  seems to me newbies should know this stuff first.

Thanks,
Steve Keller
Systems Architect, Monitoring | Email: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">skeller at ea.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">skeller at ea.com</A>&gt;

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120619/57f42c55/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120619/57f42c55/attachment.htm</A>&gt;
</PRE>




































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020722.html">[rabbitmq-discuss] Basic.Reject(requeue=true) is no longer working after updating to 2.8.2
</A></li>
	<LI>Next message: <A HREF="020717.html">[rabbitmq-discuss] Question Regarding Writing Plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20716">[ date ]</a>
              <a href="thread.html#20716">[ thread ]</a>
              <a href="subject.html#20716">[ subject ]</a>
              <a href="author.html#20716">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
