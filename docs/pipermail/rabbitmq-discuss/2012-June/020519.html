<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Clustering question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20question&In-Reply-To=%3C376ACC65-A436-4A27-9921-BA151DAE3245%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020554.html">
   <LINK REL="Next"  HREF="020556.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Clustering question</H1>
    <B>Mahesh Viraktamath</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20question&In-Reply-To=%3C376ACC65-A436-4A27-9921-BA151DAE3245%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] Clustering question">yuva670 at gmail.com
       </A><BR>
    <I>Thu Jun  7 20:51:19 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020554.html">[rabbitmq-discuss] rabbitmq_jsonrpc_channel reconnect ability?
</A></li>
        <LI>Next message: <A HREF="020556.html">[rabbitmq-discuss] Clustering question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20519">[ date ]</a>
              <a href="thread.html#20519">[ thread ]</a>
              <a href="subject.html#20519">[ subject ]</a>
              <a href="author.html#20519">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I need some help in clustering three nodes and I am stuck. I hope, you will help.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I have clustered three rabbitMQ nodes.
</I>&gt;<i> 
</I>&gt;<i> On ORION :
</I>&gt;<i> 
</I>&gt;<i> C:\Program Files\RabbitMQ Server\rabbitmq_server-2.8.1\sbin&gt;rabbitmqctl.bat cluster_status
</I>&gt;<i> Cluster status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ORION</A> ...
</I>&gt;<i> [{nodes,[{disc,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ALLEGRO</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at RIYAZ</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at ORION</A>]}]},
</I>&gt;<i>  {running_nodes,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ALLEGRO</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at ORION</A>]}]
</I>&gt;<i> ...done.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On ALLEGRO :
</I>&gt;<i> 
</I>&gt;<i> C:\Program Files\RabbitMQ Server\rabbitmq_server-2.8.1\sbin&gt;rabbitmqctl.bat cluster_status
</I>&gt;<i> Cluster status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ALLEGRO</A> ...
</I>&gt;<i> [{nodes,[{disc,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ALLEGRO</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at RIYAZ</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at ORION</A>]}]},
</I>&gt;<i>  {running_nodes,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ORION</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at ALLEGRO</A>]}]
</I>&gt;<i> ...done.
</I>&gt;<i> 
</I>&gt;<i> The node called <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at RIYAZ</A> is down. Now, according to the clustering documentation on rabbitMQ (&quot;A client can connect as normal to any node within a cluster. If that node should fail, and the rest of the cluster survives, then the client should notice the closed connection, and should be able to reconnect to some surviving member of the cluster.&quot;), the producer that I run on my local machine should connect to either ORION or ALLEGRO. But it doesn't, the producer throws an exception as follws:
</I>&gt;<i> 
</I>&gt;<i> java.net.NoRouteToHostException: No route to host
</I>&gt;<i> at java.net.PlainSocketImpl.socketConnect(Native Method)
</I>&gt;<i> at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339)
</I>&gt;<i> at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200)
</I>&gt;<i> at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182)
</I>&gt;<i> at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:391)
</I>&gt;<i> at java.net.Socket.connect(Socket.java:579)
</I>&gt;<i> at com.rabbitmq.client.ConnectionFactory.createFrameHandler(ConnectionFactory.java:445)
</I>&gt;<i> at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:504)
</I>&gt;<i> at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:533)
</I>&gt;<i> at producer.RPCClient1.&lt;init&gt;(RPCClient1.java:22)
</I>&gt;<i> at producer.RPCClient.main(RPCClient.java:68)
</I>&gt;<i> 
</I>&gt;<i> My producer connects to RIYAZ.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Please shed some light.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Mahesh
</I></PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020554.html">[rabbitmq-discuss] rabbitmq_jsonrpc_channel reconnect ability?
</A></li>
	<LI>Next message: <A HREF="020556.html">[rabbitmq-discuss] Clustering question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20519">[ date ]</a>
              <a href="thread.html#20519">[ thread ]</a>
              <a href="subject.html#20519">[ subject ]</a>
              <a href="author.html#20519">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
