<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.30.1355476454.8494.rabbitmq-discuss%40lists.rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020772.html">
   <LINK REL="Next"  HREF="024527.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.30.1355476454.8494.rabbitmq-discuss%40lists.rabbitmq.com%3E"
       TITLE="No subject">
       </A><BR>
    <I>Sun Jun 17 23:12:48 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="020772.html">No subject
</A></li>
        <LI>Next message: <A HREF="024527.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24498">[ date ]</a>
              <a href="thread.html#24498">[ thread ]</a>
              <a href="subject.html#24498">[ subject ]</a>
              <a href="author.html#24498">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>=CRASH REPORT==== 14-Dec-2012::09:48:57 ===
  crasher:
    initial call: mochiweb_acceptor:init/3
    pid: &lt;0.9433.1&gt;
    registered_name: []
    exception exit: {error,accept_failed}
      in function  mochiweb_acceptor:init/3
    ancestors: [rabbit_mochiweb_web_mgmt,rabbit_mochiweb_sup,&lt;0.140.0&gt;]
    messages: []
    links: [&lt;0.283.0&gt;]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 24
    reductions: 728
  neighbours:

When using curl (on the loadbalancer) with the same cipher list
(verified with tcpdump) it succeeds.

This is the TLSv1 communication:
&gt;<i> Client Hello
</I>&lt; Server Hello
&gt;<i> Finished
</I>&gt;<i> Alert (Level: Fatal, Description: Unexpected Message)
</I>
This is the rabbitmq.config:

  {rabbitmq_mochiweb, [
      {listeners, [
          {mgmt, [
              {port, 443},
              {ssl, true},
              {ssl_opts, [
                  {cacertfile,&quot;/local/secret/ssl/comodo-chain-2009.pem&quot;},
                  {certfile,&quot;/local/secret/ssl/esb-test.it.su.se.pem&quot;},
                  {keyfile,&quot;/local/secret/ssl/esb-test.it.su.se.key&quot;},
                  {verify,verify_none}
                ]
              }
            ]
          }
        ]
      }
    ]
  },

I've added ssl_opts just to make sure that it was using it, before we
didn't have it since it will automatically inherit those settings from
our rabbit config.

We currently use the LB to Apache-servers so we know it should work.

If you need, you can get pcaps on demand.

The RabbitMQ machine runs on Ubuntu 10.04.4 LTS and uses Erlang R13B03
(ancient, I know).

Thanks and have a great weekend!
- Simon

---

Simon Lundstr&#246;m
IT Services
Stockholm University
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020772.html">No subject
</A></li>
	<LI>Next message: <A HREF="024527.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24498">[ date ]</a>
              <a href="thread.html#24498">[ thread ]</a>
              <a href="subject.html#24498">[ subject ]</a>
              <a href="author.html#24498">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
