<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Issue in Java client while fetching channel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Issue%20in%20Java%20client%20while%20fetching%20channel&In-Reply-To=269388e30908041531ub231c8fg584b8bb1c26074d8%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004351.html">
   <LINK REL="Next"  HREF="004358.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Issue in Java client while fetching channel</H1>
    <B>Anand Ved</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Issue%20in%20Java%20client%20while%20fetching%20channel&In-Reply-To=269388e30908041531ub231c8fg584b8bb1c26074d8%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Issue in Java client while fetching channel">anand.ved at Xoriant.Com
       </A><BR>
    <I>Wed Aug  5 02:24:44 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004351.html">[rabbitmq-discuss] Issue in Java client while fetching channel
</A></li>
        <LI>Next message: <A HREF="004358.html">[rabbitmq-discuss] Issue in Java client while fetching channel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4355">[ date ]</a>
              <a href="thread.html#4355">[ thread ]</a>
              <a href="subject.html#4355">[ subject ]</a>
              <a href="author.html#4355">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben,

As per the java client documentation, channel is not thread safe and I have multiple threads that would publish messages to the Q. For each publish, I create a new channel and publish the message. 

Earlier I was not closing the channel and this lead to connection.createChannel() returning null object. Now as per java client document again, it is stated that if there are no channels available or if the current channel number is currently in use, then it would return null. Hence now I have closed the channel after each publish.

If you are aware of any other case where we may end up getting a null channel, then please let me know.

Regards,
Anand Ved | Xoriant Solutions Pvt. Ltd.&#160; 
Modern technology, Owes ecology, An apology. ~Alan M. Eddison - Go Green!!

-----Original Message-----
From: Ben Hood [mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>] 
Sent: Wednesday, August 05, 2009 4:01 AM
To: Anand Ved
Cc: rabbitmq
Subject: Re: [rabbitmq-discuss] Issue in Java client while fetching channel

Anand,

On Tue, Aug 4, 2009 at 7:44 PM, Anand Ved&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">anand.ved at xoriant.com</A>&gt; wrote:
&gt;<i> Investigation lead to my not closing the channel after publishing a message.
</I>&gt;<i> And I have now closed the channel as soon as I publish.
</I>
Why do have to close the channel after you publish each message?

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004351.html">[rabbitmq-discuss] Issue in Java client while fetching channel
</A></li>
	<LI>Next message: <A HREF="004358.html">[rabbitmq-discuss] Issue in Java client while fetching channel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4355">[ date ]</a>
              <a href="thread.html#4355">[ thread ]</a>
              <a href="subject.html#4355">[ subject ]</a>
              <a href="author.html#4355">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
