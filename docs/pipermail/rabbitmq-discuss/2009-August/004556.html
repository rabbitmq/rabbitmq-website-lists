<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] questions about distributed queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20questions%20about%20distributed%20queue&In-Reply-To=c0a615890908170706w31e43bc6m4a4302b83d0f36e7%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004554.html">
   <LINK REL="Next"  HREF="004557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] questions about distributed queue</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20questions%20about%20distributed%20queue&In-Reply-To=c0a615890908170706w31e43bc6m4a4302b83d0f36e7%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] questions about distributed queue">alexis.richardson at gmail.com
       </A><BR>
    <I>Mon Aug 17 15:23:48 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004554.html">[rabbitmq-discuss] questions about distributed queue
</A></li>
        <LI>Next message: <A HREF="004557.html">[rabbitmq-discuss] questions about distributed queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4556">[ date ]</a>
              <a href="thread.html#4556">[ thread ]</a>
              <a href="subject.html#4556">[ subject ]</a>
              <a href="author.html#4556">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Paul

Can you explain what your scalability metric is please?

If you mean 'able to be more available' then RabbitMQ has been able to
cluster for some time.  Want more capacity?  Add more nodes.

If you mean the slow consumer problem, i.e. you have N queues, don't
want to add more, and don't want to buy more boxes, then the 'page to
disk' feature is currently in QA for RabbitMQ 1.7 which is due quite
soon.

alexis


On Mon, Aug 17, 2009 at 3:06 PM, Paul Dix&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">paul at pauldix.net</A>&gt; wrote:
&gt;<i> I guess Linux-HA takes care of the failover requirement. The 1s or
</I>&gt;<i> more of downtime isn't really a big concern for me. The truth is that
</I>&gt;<i> my bigger concern is scalability. I'm glad to hear that it's what your
</I>&gt;<i> priority is right now. Do you have a roadmap for when a scalable queue
</I>&gt;<i> will be available?
</I>&gt;<i>
</I>&gt;<i> Just to give you a little more information on what I'm doing, I'm
</I>&gt;<i> building a live search/aggregation system. I'm hoping to push updates
</I>&gt;<i> of a constant internet crawl through the messaging system so workers
</I>&gt;<i> can analyze the content and build indexes as everything comes in.
</I>&gt;<i> That's why 1s or so of downtime isn't that big of a concern while
</I>&gt;<i> scalability is.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Paul
</I>&gt;<i>
</I>&gt;<i> On Mon, Aug 17, 2009 at 9:32 AM, Tony Garnock-Jones&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>&gt; wrote:
</I>&gt;&gt;<i> Hi Paul,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Paul Dix wrote:
</I>&gt;&gt;&gt;<i> I've heard that there are workable solutions to these problems, but I
</I>&gt;&gt;&gt;<i> wasn't able to dig up anything that made sense. Also, it's noted in
</I>&gt;&gt;&gt;<i> the FAQ and a few discussions that work is being done on distributed
</I>&gt;&gt;&gt;<i> queues. How close is this?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The main solution is to separate the problem into two pieces: service
</I>&gt;&gt;<i> availability and data availability. Then, for data availability (i.e.
</I>&gt;&gt;<i> effectively replicating the contents of queues) use normal
</I>&gt;&gt;<i> high-availability network file systems to share the data directories
</I>&gt;&gt;<i> between nodes. For service availability, Linux-HA or similar can handle
</I>&gt;&gt;<i> failover and locking.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;- the network filesystem ensures the data is replicated appropriately
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;- Linux-HA takes care of locking
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160;- Linux-HA takes care of starting the standby service when the
</I>&gt;&gt;<i> &#160; primary goes down
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This assumes that you can deal with a nonzero (but arbitrarily small)
</I>&gt;&gt;<i> failover window. If you absolutely must have 100% uptime (!) then there
</I>&gt;&gt;<i> are a bunch of other solutions that can be explored, involving redundant
</I>&gt;&gt;<i> data-paths, replication of message streams, and deduplication at the
</I>&gt;&gt;<i> client. We find that very few applications really need this.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We do have some plans for simplifying that &quot;100%&quot; uptime solution and
</I>&gt;&gt;<i> embedding it into the server without need for as much client-side
</I>&gt;&gt;<i> support, but we're concentrating right now on the new scalable persister
</I>&gt;&gt;<i> QA. We're likely to address issues of HA once that's done.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i> &#160;Tony
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> &#160;[][][] Tony Garnock-Jones &#160; &#160; | Mob: +44 (0)7905 974 211
</I>&gt;&gt;<i> &#160; [][] LShift Ltd &#160; &#160; &#160; &#160; &#160; &#160; | Tel: +44 (0)20 7729 7060
</I>&gt;&gt;<i> &#160;[] &#160;[] <A HREF="http://www.lshift.net/">http://www.lshift.net/</A> | Email: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004554.html">[rabbitmq-discuss] questions about distributed queue
</A></li>
	<LI>Next message: <A HREF="004557.html">[rabbitmq-discuss] questions about distributed queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4556">[ date ]</a>
              <a href="thread.html#4556">[ thread ]</a>
              <a href="subject.html#4556">[ subject ]</a>
              <a href="author.html#4556">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
