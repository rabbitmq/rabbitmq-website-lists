<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Weird Crash (1M to 10M messages over STOMP?)	- Recovery logic for durable messages/queues/exchanges?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Weird%20Crash%20%281M%20to%2010M%20messages%20over%20STOMP%3F%29%0A%09-%20Recovery%20logic%20for%20durable%20messages/queues/exchanges%3F&In-Reply-To=4A7C9F02.80305%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004433.html">
   <LINK REL="Next"  HREF="004435.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Weird Crash (1M to 10M messages over STOMP?)	- Recovery logic for durable messages/queues/exchanges?</H1>
    <B>Darien Kindlund</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Weird%20Crash%20%281M%20to%2010M%20messages%20over%20STOMP%3F%29%0A%09-%20Recovery%20logic%20for%20durable%20messages/queues/exchanges%3F&In-Reply-To=4A7C9F02.80305%40lshift.net"
       TITLE="[rabbitmq-discuss] Weird Crash (1M to 10M messages over STOMP?)	- Recovery logic for durable messages/queues/exchanges?">darien at kindlund.com
       </A><BR>
    <I>Fri Aug  7 23:01:13 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004433.html">[rabbitmq-discuss] Weird Crash (1M to 10M messages over STOMP?) -	Recovery logic for durable messages/queues/exchanges?
</A></li>
        <LI>Next message: <A HREF="004435.html">[rabbitmq-discuss] Weird Crash (1M to 10M messages over STOMP?) -	Recovery logic for durable messages/queues/exchanges?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4434">[ date ]</a>
              <a href="thread.html#4434">[ thread ]</a>
              <a href="subject.html#4434">[ subject ]</a>
              <a href="author.html#4434">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> Back to the main crash issue. &#160;It happened again. &#160;The short version:
</I>&gt;&gt;<i> This crash may have to do with sending large messages over STOMP --
</I>&gt;&gt;<i> I'm not sure. &#160;I've proposed a couple of unit test cases below and am
</I>&gt;&gt;<i> curious if you're able to replicate the issue, based upon those tests.
</I>&gt;<i>
</I>&gt;<i> I forgot you were one of the STOMPers ;)
</I>
Yes, I am.  I'd like to move to the AMQP perl code, but it's still
undergoing testing.
I'll try to wear my &quot;I'm a STOMPer&quot; T-shirt in the future. ;)

&gt;<i> That opens up a new direction of investigation.
</I>
I figured as much.

&gt;<i> ok. Looks like the rabbit had indeed perished.
</I>
Yup.  What's more annoying is the fact that rabbit died without making
a peep (at least from what I can tell).

&gt;<i> Can you send me a copy of the rabbit.log?
</I>
Yup, will do in a separate email to you.

&gt;&gt;<i> Is there some sort of (implicit) upper limit on the allowable message
</I>&gt;&gt;<i> size when sending over STOMP?
</I>&gt;<i>
</I>&gt;<i> Not that I am aware of.
</I>
Have you guys done any sort of unit testing with various message
sizes?  I'm guessing for AMQP, you have, but I'm wondering if you've
done the same for all the different protocols you guys support with
extensions (e.g., HTTP, STOMP ...).

&gt;&gt;<i> I'm sending you a copy of the mnesia directory in a separate
</I>&gt;&gt;<i> email directly to you.
</I>&gt;<i>
</I>&gt;<i> When I recover that into my local rabbit instance I get a whole bunch of
</I>&gt;<i> exchanges, queues and bindings, but no messages - unacknowledged or
</I>&gt;<i> otherwise. Do you see something different?
</I>
Hrm.  I was hoping the second crash generated the same unack'd
messages... I guess I was wrong.  Okay, if it happens again -- and I
can verify it upon restart -- then I'll send you the mnesia directory.

In any event, it gives you an idea about the types of exchanges,
queues, bindings, I'm currently using.

-- Darien


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004433.html">[rabbitmq-discuss] Weird Crash (1M to 10M messages over STOMP?) -	Recovery logic for durable messages/queues/exchanges?
</A></li>
	<LI>Next message: <A HREF="004435.html">[rabbitmq-discuss] Weird Crash (1M to 10M messages over STOMP?) -	Recovery logic for durable messages/queues/exchanges?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4434">[ date ]</a>
              <a href="thread.html#4434">[ thread ]</a>
              <a href="subject.html#4434">[ subject ]</a>
              <a href="author.html#4434">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
