<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Clustering Issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Clustering%20Issue&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004723.html">
   <LINK REL="Next"  HREF="004693.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Clustering Issue</H1>
    <B>Jorge Varona</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Clustering%20Issue&In-Reply-To="
       TITLE="[rabbitmq-discuss] Clustering Issue">jvarona at attinteractive.com
       </A><BR>
    <I>Fri Aug 28 22:22:07 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004723.html">[rabbitmq-discuss] Priorities support in RabbitMQ
</A></li>
        <LI>Next message: <A HREF="004693.html">[rabbitmq-discuss] Clustering Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4692">[ date ]</a>
              <a href="thread.html#4692">[ thread ]</a>
              <a href="subject.html#4692">[ subject ]</a>
              <a href="author.html#4692">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've noticed some issues with clustered boxes that are weird. For
example, in a two-box cluster I have Client A sending messages to Server
A and Client B pulling messages from Server B. We already know that if
we shut down Server A (it was first to declare a queue) messages stop
being delivered to Server B and in turn Client B. The strange behavior
I've noticed is that if I bring Server A back up and send messages to it
they are not relayed to Server B, which has Client B attached. Only
after I restart Server B do messages begin to be relayed to Client B.

 

Here are my assumptions:

1. Queues exist only on the server on which they were first declared.

2. Nodes within a cluster relay requests to the server on which the
queue exists instead of messages being relayed to the server after first
received. 

3. If one node is down (I only tested the one on which the queue was
created) all nodes must be restarted to re-commence replication-like
behavior in the cluster.

 

 

Has anyone experienced the same behavior? Could this be due to bad
configuration? If not, are there efforts to address these
issues/scenarios? Thanks.

 

Jorge

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090828/70ec83a2/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090828/70ec83a2/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004723.html">[rabbitmq-discuss] Priorities support in RabbitMQ
</A></li>
	<LI>Next message: <A HREF="004693.html">[rabbitmq-discuss] Clustering Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4692">[ date ]</a>
              <a href="thread.html#4692">[ thread ]</a>
              <a href="subject.html#4692">[ subject ]</a>
              <a href="author.html#4692">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
