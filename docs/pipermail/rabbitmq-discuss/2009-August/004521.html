<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Trying to do a simple subscription returns	message too long error... (RabbitMq.Net)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Trying%20to%20do%20a%20simple%20subscription%20returns%0A%09message%20too%20long%20error...%20%28RabbitMq.Net%29&In-Reply-To=4A847F3B.1080103%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004520.html">
   <LINK REL="Next"  HREF="004522.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Trying to do a simple subscription returns	message too long error... (RabbitMq.Net)</H1>
    <B>Patrick Kenney</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Trying%20to%20do%20a%20simple%20subscription%20returns%0A%09message%20too%20long%20error...%20%28RabbitMq.Net%29&In-Reply-To=4A847F3B.1080103%40lshift.net"
       TITLE="[rabbitmq-discuss] Trying to do a simple subscription returns	message too long error... (RabbitMq.Net)">pekenney at gmail.com
       </A><BR>
    <I>Thu Aug 13 22:21:03 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004520.html">[rabbitmq-discuss] Trying to do a simple subscription returns message too long error... (RabbitMq.Net)
</A></li>
        <LI>Next message: <A HREF="004522.html">[rabbitmq-discuss] Trying to do a simple subscription returns message too long error... (RabbitMq.Net)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4521">[ date ]</a>
              <a href="thread.html#4521">[ thread ]</a>
              <a href="subject.html#4521">[ subject ]</a>
              <a href="author.html#4521">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>although I am not familiar with the java amqp tracer tool you mentioned and
have not used it thus far...

yes, my results are consistent with yours...

and have disabled anything that i know of that could be blocking sockets
etc...

i do not see anything showing up in any of the windows event logs either...

I am also running the wireshark packet sniffer and have the following filter
applied...

(ip.dst == 192.168.100.36) || (amqp)

and am not seeing anything anomalous thus far...

I am also, looking at the locals, output, threads and call stack windows
pretty close as well...
nothing jumping out there either...

i have also enabled .NET Framework source stepping and have not found
anything additional that route either yet...

the socket trace connection aborts seem to be some kind of timeouts, and
while i have been adding configurable ridiculously long timeouts everywhere
i can find just to get it to work once, these timeout errors seem to be a
secondary issue, from what i can tell at the moment...

thanks in advance.

re:
On Thu, Aug 13, 2009 at 2:01 PM, Matthias Radestock &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at lshift.net</A>&gt;wrote:

&gt;<i> Patrick,
</I>&gt;<i>
</I>&gt;<i> Patrick Kenney wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> try this one again with the attached...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> from vs2005/2008 IDE...
</I>&gt;&gt;<i> open solution...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> F5/debug...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> set no break points...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> frmMain comes up...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> enter &quot;<A HREF="amqp:///dispatcher&quot;">amqp:///dispatcher&quot;</A> in text box above btnHostDispatcher...
</I>&gt;&gt;<i> click &quot;Host Dis&quot; ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> enter &quot;<A HREF="amqp:///subscriber&quot;">amqp:///subscriber&quot;</A> in text box above btnHostSubscriber...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Click &quot;Host Sub&quot;...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> enter &quot;<A HREF="amqp:///subscriber&quot;">amqp:///subscriber&quot;</A> in text box above
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Click &quot;Subscribe&quot;...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> after about a minute or so code breaks at &quot;Trace.Fail(&quot;Illegal
</I>&gt;&gt;<i> EitherAlternative &quot; + either.Alternative);&quot; in
</I>&gt;&gt;<i> SimpleBlockingRpcContinuation.GetReply()...
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> We don't see that, but ...
</I>&gt;<i>
</I>&gt;<i>  after you hit f5 it breaks in a few other places and ultimately ends up in
</I>&gt;&gt;<i> the catch in btnSubscribe_Click...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> if you check your output window you will see the message too long error at
</I>&gt;&gt;<i> this time...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> kill the ide via the vcr button...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> go to &quot;C:\System.Net.TraceRabbitMq.log&quot;...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> open it up and execute ctrl+F...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> enter &quot;long&quot;...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> you will come to the message too long error...
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> we do see that error.
</I>&gt;<i>
</I>&gt;<i> So, finally, we can reproduce the problem you reported.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Vlad and I have started some experimenting to narrow down the list of
</I>&gt;<i> possible causes. Here's where we got to so far:
</I>&gt;<i>
</I>&gt;<i> 1) We ran the program through our java AMQP Tracer tool. This didn't show
</I>&gt;<i> anything unusual, except for the connections getting dropped by the client.
</I>&gt;<i>
</I>&gt;<i> 2) If we only go as far as the &quot;Host Dis&quot; step above, and let the program
</I>&gt;<i> run for a few minutes, then the .Net socket trace eventually shows the &quot;An
</I>&gt;<i> established connection was aborted by the software in your host machine&quot;
</I>&gt;<i> error.
</I>&gt;<i>
</I>&gt;<i> 3) We then disabled the Windows Firewall, and, probably more importantly,
</I>&gt;<i> the &quot;Windows Defender&quot;. Then we tried &quot;Host Dis&quot; (and no further) again. We
</I>&gt;<i> waited for quite a while without seeing an error.
</I>&gt;<i>
</I>&gt;<i> If you could check whether you get the same results for 2 &amp; 3 in your setup
</I>&gt;<i> that would be great.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090813/571d4041/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090813/571d4041/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004520.html">[rabbitmq-discuss] Trying to do a simple subscription returns message too long error... (RabbitMq.Net)
</A></li>
	<LI>Next message: <A HREF="004522.html">[rabbitmq-discuss] Trying to do a simple subscription returns message too long error... (RabbitMq.Net)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4521">[ date ]</a>
              <a href="thread.html#4521">[ thread ]</a>
              <a href="subject.html#4521">[ subject ]</a>
              <a href="author.html#4521">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
