<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq failing to start
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20failing%20to%20start&In-Reply-To=376f3e6f0908150939x7f0affa7re4878321ae7dd13c%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004548.html">
   <LINK REL="Next"  HREF="004551.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq failing to start</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20failing%20to%20start&In-Reply-To=376f3e6f0908150939x7f0affa7re4878321ae7dd13c%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Rabbitmq failing to start">matthias at lshift.net
       </A><BR>
    <I>Sun Aug 16 10:17:07 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004548.html">[rabbitmq-discuss] Rabbitmq failing to start
</A></li>
        <LI>Next message: <A HREF="004551.html">[rabbitmq-discuss] txAMQP 0.3 released, better late than never
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4550">[ date ]</a>
              <a href="thread.html#4550">[ thread ]</a>
              <a href="subject.html#4550">[ subject ]</a>
              <a href="author.html#4550">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Suhail,

Suhail Doshi wrote:
&gt;<i> I moved the corrupted persister somewhere and then restarted rabbitmq
</I>&gt;<i>  but all the messages seemed to have disappeared, any idea if i can 
</I>&gt;<i> recover them or where they might be?
</I>
As mentioned in the thread that Matt referenced, if there is a 
rabbit_persister.LOG.previous file in the same dir then replacing the 
corrupted file with the .previous file would probably allow you to 
recover the messages.

Unfortunately, if there was a .previous file but you didn't rename it /
move it out of the way before restarting rabbit then it will have been
overwritten by now.

&gt;<i> also is there any reason why rabbitmq would consume 98% mem when the
</I>&gt;<i> queue gets very large? I thought this was all written to disk, seems
</I>&gt;<i> like it's all sitting in memory even when durable/persistent
</I>
The current persister keeps all messages in RAM as well as on disk. That 
limitation has been discussed on the list on numerous occasions and will 
be addressed by the new persister in the next RabbitMQ release.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004548.html">[rabbitmq-discuss] Rabbitmq failing to start
</A></li>
	<LI>Next message: <A HREF="004551.html">[rabbitmq-discuss] txAMQP 0.3 released, better late than never
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4550">[ date ]</a>
              <a href="thread.html#4550">[ thread ]</a>
              <a href="subject.html#4550">[ subject ]</a>
              <a href="author.html#4550">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
