<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] method-like calls
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20method-like%20calls&In-Reply-To=3b6ef0790908201446n5f925af4t82905351ad894aa0%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004618.html">
   <LINK REL="Next"  HREF="004651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] method-like calls</H1>
    <B>Michael Greene</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20method-like%20calls&In-Reply-To=3b6ef0790908201446n5f925af4t82905351ad894aa0%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] method-like calls">michael.greene at gmail.com
       </A><BR>
    <I>Thu Aug 20 22:55:11 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004618.html">[rabbitmq-discuss] method-like calls
</A></li>
        <LI>Next message: <A HREF="004651.html">[rabbitmq-discuss] method-like calls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4619">[ date ]</a>
              <a href="thread.html#4619">[ thread ]</a>
              <a href="subject.html#4619">[ subject ]</a>
              <a href="author.html#4619">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If you're using Thrift with RabbitMQ, you don't need to use the
transport at all necessarily -- you can just use Thrift and its
protocols for serialization, and send the messages over AMQP queues.

That said, Thrift RPC does have a 'oneway' service method keyword.
This is used for asynchronous calls.  You might want to look into
txAmqp and txThrift for some ideas if you really want to abstract all
of your calls into Thrift objects + AMQP messaging.  Esteve has done
an excellent job with both tools.

Michael

On Thu, Aug 20, 2009 at 4:46 PM, Jim Irrer&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">irrer at umich.edu</A>&gt; wrote:
&gt;<i> Thrift looks pretty good, but it does not seem to support one-way messages.
</I>&gt;<i> All are implemented as if they were using a server-client model, and we will
</I>&gt;<i> have some relationships that are one way (fire off a message and forget
</I>&gt;<i> about it).
</I>&gt;<i>
</I>&gt;<i> I was able to fake out Thrift by creating my own null protocol and
</I>&gt;<i> transport, and
</I>&gt;<i> that would be ok, but it requires writing code for each platform, and if
</I>&gt;<i> there is
</I>&gt;<i> a niftier way to do this I would like to know.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> - Jim
</I>&gt;<i>
</I>&gt;<i> Jim Irrer &#160; &#160; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">irrer at umich.edu</A> &#160; &#160; &#160; (734) 647-4409
</I>&gt;<i> University of Michigan Hospital Radiation Oncology
</I>&gt;<i> 519 W. William St. &#160; &#160; &#160; &#160; &#160; &#160; Ann Arbor, MI 48103
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Aug 18, 2009 at 11:13 AM, Garrett Smith &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">g at rre.tt</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Tue, Aug 18, 2009 at 9:10 AM, Michael Greene&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">michael.greene at gmail.com</A>&gt;
</I>&gt;&gt;<i> wrote:
</I>&gt;&gt;<i> &gt; We currently use Apache Thrift for this, and have had success with it
</I>&gt;&gt;<i> &gt; over
</I>&gt;&gt;<i> &gt; the past year of use.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd second this.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There is some release management overhead in using Thrift or Protobuf,
</I>&gt;&gt;<i> so I'd also consider using JSON for the message payload. If your
</I>&gt;&gt;<i> schema changes a lot and you don't have massive throughput
</I>&gt;&gt;<i> requirements, I'd lean toward JSON just for its flexibility and solid
</I>&gt;&gt;<i> language support.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> IIRC, we showed that JSON in Python was over 20x slower than Thrift at
</I>&gt;&gt;<i> encoding/decoding for messages that were basically hash maps (~10
</I>&gt;&gt;<i> fields, 512K total size). But unless your performance requirements are
</I>&gt;&gt;<i> unusually demanding, I wouldn't worry too much about this.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Garrett
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004618.html">[rabbitmq-discuss] method-like calls
</A></li>
	<LI>Next message: <A HREF="004651.html">[rabbitmq-discuss] method-like calls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4619">[ date ]</a>
              <a href="thread.html#4619">[ thread ]</a>
              <a href="subject.html#4619">[ subject ]</a>
              <a href="author.html#4619">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
