<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Phantom consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Phantom%20consumers&In-Reply-To=%3C6ee977e6-5383-45a5-a67e-a986cce0fcd9%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035964.html">
   <LINK REL="Next"  HREF="035991.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Phantom consumers</H1>
    <B>Sam Morrison</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Phantom%20consumers&In-Reply-To=%3C6ee977e6-5383-45a5-a67e-a986cce0fcd9%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Phantom consumers">sorrison at gmail.com
       </A><BR>
    <I>Wed May 14 13:53:55 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035964.html">[rabbitmq-discuss] RabbitMQ + TLS + default Erlang with Ubuntu 14.04
</A></li>
        <LI>Next message: <A HREF="035991.html">[rabbitmq-discuss] Phantom consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35967">[ date ]</a>
              <a href="thread.html#35967">[ thread ]</a>
              <a href="subject.html#35967">[ subject ]</a>
              <a href="author.html#35967">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We've got 2 3 node rabbit clusters, one using 3.1.3 and one using 3.3.0. We 
mirror all queues.

Every so often we get queues filling up in the unacked counters. When we 
investigate we see the queue has 2 consumers both from the same client 
address.
One consumer links back to a connection that doesn't exist on the client or 
the server.

If we stop the client one of the consumers goes away but we are still left 
with a phantom one.

The only way we have been able to fix this is by deleting the queue and 
restarting the client.

While it is in this state the client doesn't get any messages.

This happens with both our clusters.

Anyone else seeing this or know what the issue is?

Thanks,
Sam

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140514/a1632dce/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140514/a1632dce/attachment.html</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035964.html">[rabbitmq-discuss] RabbitMQ + TLS + default Erlang with Ubuntu 14.04
</A></li>
	<LI>Next message: <A HREF="035991.html">[rabbitmq-discuss] Phantom consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35967">[ date ]</a>
              <a href="thread.html#35967">[ thread ]</a>
              <a href="subject.html#35967">[ subject ]</a>
              <a href="author.html#35967">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
