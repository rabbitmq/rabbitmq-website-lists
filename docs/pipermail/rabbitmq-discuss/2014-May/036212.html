<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Error with SSL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Error%20with%20SSL&In-Reply-To=%3CADE38E95806BA84AB03AC5674E976FE012E3DA2D%40phmailp02.JMSOnline.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036198.html">
   <LINK REL="Next"  HREF="036294.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Error with SSL</H1>
    <B>Becker, Jeffrey</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Error%20with%20SSL&In-Reply-To=%3CADE38E95806BA84AB03AC5674E976FE012E3DA2D%40phmailp02.JMSOnline.com%3E"
       TITLE="[rabbitmq-discuss] Error with SSL">jeffreyabecker at janney.com
       </A><BR>
    <I>Thu May 22 14:00:05 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036198.html">[rabbitmq-discuss] Error with SSL
</A></li>
        <LI>Next message: <A HREF="036294.html">[rabbitmq-discuss] Error with SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36212">[ date ]</a>
              <a href="thread.html#36212">[ thread ]</a>
              <a href="subject.html#36212">[ subject ]</a>
              <a href="author.html#36212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It seems as if I missed escaping a backslash on one of my paths.  I&#8217;ve changed them all over to forward slashes per your recommendation.  This doesn&#8217;t fix the issue but at least my error messages are different.
When I run the C# client I see the following exceptions:

None of the specified endpoints were reachable
    Inner Exception:
    A call to SSPI failed, see inner exception.
        Inner Exception:
        The message received was unexpected or badly formatted

When I run openssl s_client I see:

    CONNECTED(00000003)
    depth=1 /CN=JanneyDevCA
    verify return:1
    depth=0 /CN=svcbus-app03-dv.dev.jmsonline.com/ST=PA/C=US/O=Janney, Montgomery, Scott LLC
    verify return:1
    3020:error:14094410:SSL routines:SSL3_READ_BYTES:sslv3 alert handshake failure:s3_pkt.c:1053:SSL alert number 40
    3020:error:140790E5:SSL routines:SSL23_WRITE:ssl handshake failure:s23_lib.c:188:

Either way the server log gets a message:
    =INFO REPORT==== 22-May-2014::08:42:20 ===
    accepting AMQP connection &lt;0.327.0&gt; (172.23.68.48:50220 -&gt; 172.31.2.46:5671)

    =ERROR REPORT==== 22-May-2014::08:42:20 ===
    SSL: certify: ssl_handshake.erl:1358:Fatal error: handshake failure

    =ERROR REPORT==== 22-May-2014::08:42:25 ===
    error on AMQP connection &lt;0.327.0&gt;: {ssl_upgrade_error,{tls_alert,[104,97,110,100,115,104,97,107,101,32,102,97,105,108,117,114,101]}}...


From: Jeffrey Becker [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jeffrey.a.becker at gmail.com</A>]
Sent: Thursday, May 22, 2014 8:47 AM
To: Becker, Jeffrey
Subject: Fwd: Re: [rabbitmq-discuss] Error with SSL

---------- Forwarded message ----------
From: &quot;Michael Klishin&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt;&gt;
Date: May 22, 2014 4:44 AM
Subject: Re: [rabbitmq-discuss] Error with SSL
To: &quot;Jeffrey Becker&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jeffrey.a.becker at gmail.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jeffrey.a.becker at gmail.com</A>&gt;&gt;
Cc: &quot;Discussions about RabbitMQ&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;&gt;

On 22 May 2014 at 12:33:14, Jeffrey Becker (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jeffrey.a.becker at gmail.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jeffrey.a.becker at gmail.com</A>&gt;) wrote:
&gt;<i> &gt; Configuration is as such:
</I>
Also, in this tutorial that configures Rabbit with SSL on Windows, slashes are
used in paths instead of double backslashes:
<A HREF="http://blog.johnruiz.com/2011/12/establishing-ssl-connection-to-rabbitmq.html">http://blog.johnruiz.com/2011/12/establishing-ssl-connection-to-rabbitmq.html</A>

I'm not a  Windows user, so maybe this sounds silly but can you try using slashes
as in the post above?
--
MK

Software Engineer, Pivotal/RabbitMQ


Janney: The Highest Standard of Success in Financial Relationships.


Janney Montgomery Scott LLC (Janney) will not accept orders and/or instructions for the purchase or sale of a security or other product via an e-mail transmission. This electronic communication is intended only for the person or entity to which it is addressed and may contain confidential, proprietary or privileged material. Any review, re-transmission, dissemination or other use of this information by persons or entities other than the intended recipient is prohibited. No confidentiality or privilege is waived by any accidental or unintentional transmission. If you received this electronic communication in error, please contact the sender immediately and delete the material from your computer. Janney cannot guarantee the confidentiality of the material transmitted and reserves the right to monitor all e-mail communications through its networks. Please go to <A HREF="http://www.janney.com">http://www.janney.com</A> for additional terms and disclosures relating to this electronic communication.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140522/0a8f0f47/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140522/0a8f0f47/attachment.html</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036198.html">[rabbitmq-discuss] Error with SSL
</A></li>
	<LI>Next message: <A HREF="036294.html">[rabbitmq-discuss] Error with SSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36212">[ date ]</a>
              <a href="thread.html#36212">[ thread ]</a>
              <a href="subject.html#36212">[ subject ]</a>
              <a href="author.html#36212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
