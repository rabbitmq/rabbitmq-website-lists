<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Direct vs Topic Exchange (1:1 and 1:M Chat)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Direct%20vs%20Topic%20Exchange%20%281%3A1%20and%201%3AM%20Chat%29&In-Reply-To=%3CetPan.537f3cb2.2ae8944a.13062%40mercurio.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036241.html">
   <LINK REL="Next"  HREF="036234.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Direct vs Topic Exchange (1:1 and 1:M Chat)</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Direct%20vs%20Topic%20Exchange%20%281%3A1%20and%201%3AM%20Chat%29&In-Reply-To=%3CetPan.537f3cb2.2ae8944a.13062%40mercurio.local%3E"
       TITLE="[rabbitmq-discuss] Direct vs Topic Exchange (1:1 and 1:M Chat)">mklishin at gopivotal.com
       </A><BR>
    <I>Fri May 23 13:18:29 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036241.html">[rabbitmq-discuss] Direct vs Topic Exchange (1:1 and 1:M Chat)
</A></li>
        <LI>Next message: <A HREF="036234.html">[rabbitmq-discuss] Direct vs Topic Exchange (1:1 and 1:M Chat)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36240">[ date ]</a>
              <a href="thread.html#36240">[ thread ]</a>
              <a href="subject.html#36240">[ subject ]</a>
              <a href="author.html#36240">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&#160;On 23 May 2014 at 15:20:36, Sunny Dyal (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sunny.dyal at gmail.com</A>) wrote:
&gt;<i> &gt; There are two users A and B and two nodes N1 and N2. There are two  
</I>&gt;<i> chat apps 1) chat1 connected with N1 2) chat2 connected with N2  
</I>&gt;<i>  
</I>&gt;<i> User A login in chat1, User B login in chat1 and user A login in chat2  
</I>&gt;<i> again
</I>&gt;<i>  
</I>&gt;<i> If I use amq.topic and start communication I can see messages  
</I>&gt;<i> on all the places but the same scenario does not work with amq.direct.  
</I>&gt;<i>  
</I>&gt;<i> @Question: can we use direct exchange for this scenario?
</I>
Every location would use its own queue and bind
it to a direct exchange using username as routing key.
Then a message published with routing key = &quot;joe&quot; will be routed
to 1 or more queues, one for every location.

It does not matter what RabbitMQ node clients connect to, besides
data locality (a queue has a master node and all operations go through it).

I'd recommend using topic exchanges if you feel they make more sense to you.
It's very likely that if you need to optimise things, routing won't be the
main cause.
--  
MK  

Software Engineer, Pivotal/RabbitMQ
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036241.html">[rabbitmq-discuss] Direct vs Topic Exchange (1:1 and 1:M Chat)
</A></li>
	<LI>Next message: <A HREF="036234.html">[rabbitmq-discuss] Direct vs Topic Exchange (1:1 and 1:M Chat)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36240">[ date ]</a>
              <a href="thread.html#36240">[ thread ]</a>
              <a href="subject.html#36240">[ subject ]</a>
              <a href="author.html#36240">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
