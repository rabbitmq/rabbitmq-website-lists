<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq_web_stomp plugin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq_web_stomp%20plugin&In-Reply-To=%3C5375E408.2060305%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="036028.html">
   <LINK REL="Next"  HREF="036035.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq_web_stomp plugin</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq_web_stomp%20plugin&In-Reply-To=%3C5375E408.2060305%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq_web_stomp plugin">simon at rabbitmq.com
       </A><BR>
    <I>Fri May 16 11:10:16 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="036028.html">[rabbitmq-discuss] rabbitmq_web_stomp plugin
</A></li>
        <LI>Next message: <A HREF="036035.html">[rabbitmq-discuss] rabbitmq_web_stomp plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36034">[ date ]</a>
              <a href="thread.html#36034">[ thread ]</a>
              <a href="subject.html#36034">[ subject ]</a>
              <a href="author.html#36034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/05/14 15:44, Ben Watson wrote:
&gt;<i> &quot;New&quot; system config:
</I>&gt;<i>
</I>&gt;<i>   * Ubuntu 14.04 LTS
</I>&gt;<i>   * Erlang 16B03
</I>&gt;<i>   * RabbitMQ 3.3.1
</I>&gt;<i>
</I>&gt;<i> Overall installation is a breeze.  The rabbitmq-server comes up fine and
</I>&gt;<i> I can &quot;use&quot; it with familiar tools (e.g. the Python pika module).
</I>&gt;<i>   However, when I use rabbitmq-plugins to enable rabbitmq_web_stomp, the
</I>&gt;<i> rabbitmq-server fails to come back from a required restart.  That is, I
</I>&gt;<i> see a message saying &quot;starting server...&quot; with a status of &quot;FAIL&quot;.  The
</I>&gt;<i> server logs have very little information, stating that there may be more
</I>&gt;<i> information within the logs (&quot;duh&quot;), and that an erl crash dump was
</I>&gt;<i> created (I've never been able to find this dump).  The only nugget of
</I>&gt;<i> information I've gleaned from the logs is something cryptic:
</I>&gt;<i>
</I>&gt;<i>   * &quot;no such file or directory ranch.app&quot;
</I>
That's... interesting. rabbitmq_web_stomp depends on a web server called 
cowboy. Cowboy in turn depends on a library called ranch - but only in 
more recent versions of cowboy than the version we ship.

So somehow you are picking up the wrong version of Cowboy.

Assuming you have not patched and built RabbitMQ yourself (which I hope 
you would have mentioned) then the most likely reason is that something 
else has installed a different version of cowboy in a system-wide 
location (probably /usr/lib/erlang/lib on Ubuntu). Is that what's happened?

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="036028.html">[rabbitmq-discuss] rabbitmq_web_stomp plugin
</A></li>
	<LI>Next message: <A HREF="036035.html">[rabbitmq-discuss] rabbitmq_web_stomp plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#36034">[ date ]</a>
              <a href="thread.html#36034">[ thread ]</a>
              <a href="subject.html#36034">[ subject ]</a>
              <a href="author.html#36034">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
