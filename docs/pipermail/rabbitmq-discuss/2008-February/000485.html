<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] dealing with a closing connection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20dealing%20with%20a%20closing%20connection&In-Reply-To=81d74c280802041329h383fe463kad22b2d64a479620%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000475.html">
   <LINK REL="Next"  HREF="000486.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] dealing with a closing connection</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20dealing%20with%20a%20closing%20connection&In-Reply-To=81d74c280802041329h383fe463kad22b2d64a479620%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] dealing with a closing connection">matthias at lshift.net
       </A><BR>
    <I>Wed Feb  6 06:28:52 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000475.html">[rabbitmq-discuss] dealing with a closing connection
</A></li>
        <LI>Next message: <A HREF="000486.html">[rabbitmq-discuss] dealing with a closing connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#485">[ date ]</a>
              <a href="thread.html#485">[ thread ]</a>
              <a href="subject.html#485">[ subject ]</a>
              <a href="author.html#485">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Steve,

Steve Jenson wrote:
&gt;<i> How can I use the rabbitmq java library to determine that the
</I>&gt;<i> Connection has been closed so I can reestablish?
</I>
You could call isOpen() on the connection/channel, either periodically 
or before attempting an operation, to check whether the connection is 
still open, and attempt reconnection if not. This does of course leave a 
time window where an operation may be attempted when the connection is 
closed, which may or may not be a problem for your application.

In the .net client you can install event handlers on connection/channel 
objects that get notified of shutdowns, which is neater but still 
suffers from the same problem.

The better approach is to catch the IOException resulting from any 
operation the client attempts, check that the cause is a 
ShutdownSignalException, and then perform the necessary reconnection 
actions.


Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000475.html">[rabbitmq-discuss] dealing with a closing connection
</A></li>
	<LI>Next message: <A HREF="000486.html">[rabbitmq-discuss] dealing with a closing connection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#485">[ date ]</a>
              <a href="thread.html#485">[ thread ]</a>
              <a href="subject.html#485">[ subject ]</a>
              <a href="author.html#485">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
