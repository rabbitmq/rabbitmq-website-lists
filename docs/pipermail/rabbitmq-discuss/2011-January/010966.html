<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Ordering of redelivered messages?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Ordering%20of%20redelivered%20messages%3F&In-Reply-To=%3C4D42E448.4030501%40localdomain.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010965.html">
   <LINK REL="Next"  HREF="010967.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Ordering of redelivered messages?</H1>
    <B>Grzegorz Nosek</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Ordering%20of%20redelivered%20messages%3F&In-Reply-To=%3C4D42E448.4030501%40localdomain.pl%3E"
       TITLE="[rabbitmq-discuss] Ordering of redelivered messages?">root at localdomain.pl
       </A><BR>
    <I>Fri Jan 28 15:44:08 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010965.html">[rabbitmq-discuss] Ordering of redelivered messages?
</A></li>
        <LI>Next message: <A HREF="010967.html">[rabbitmq-discuss] Ordering of redelivered messages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10966">[ date ]</a>
              <a href="thread.html#10966">[ thread ]</a>
              <a href="subject.html#10966">[ subject ]</a>
              <a href="author.html#10966">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>W dniu 28.01.2011 16:32, Marek Majkowski pisze:
&gt;<i> Rather a). I guess you forgot to call &quot;basic_ack&quot; after a message.
</I>
I do call chan.basic_ack() after processing the message, otherwise the 
messages would accumulate in the broker forever (or the messages would 
be auto acked so shouldn't ever trigger redelivery). Or am I severely 
mistaken here?

 &gt; Check out the &quot;forgotten acknowledgement&quot; box here:
 &gt;    <A HREF="http://www.rabbitmq.com/tutorial-two-python.html">http://www.rabbitmq.com/tutorial-two-python.html</A>

Nope, no unacknowledged messages here.

&gt;<i> When first consumer &quot;subscribes&quot; to a queue (using basic_consume),
</I>&gt;<i> messages will be just delivered to it. Without 'basic_qos(prefetch_count)'
</I>&gt;<i> *all* the messages will be immediately delivered to that consumer.
</I>&gt;<i> (note: that's not exactly true).
</I>&gt;<i>
</I>&gt;<i> Nothing else happens on subscription.
</I>&gt;<i>
</I>&gt;<i> The &quot;redelivery of unacked messages back to the queue&quot; happens when
</I>&gt;<i> consumer gets *disconnected*.
</I>
OK but that still does not explain what I have observed. The messages in 
the queue have never been delivered (successfully or otherwise) to 
anybody before, because they were published after the original consumer 
was gone (and before the new one that eventually got them connected).

Best regards,
  Grzegorz Nosek
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010965.html">[rabbitmq-discuss] Ordering of redelivered messages?
</A></li>
	<LI>Next message: <A HREF="010967.html">[rabbitmq-discuss] Ordering of redelivered messages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10966">[ date ]</a>
              <a href="thread.html#10966">[ thread ]</a>
              <a href="subject.html#10966">[ subject ]</a>
              <a href="author.html#10966">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
