<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 2.0 broker crashes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.0%20broker%20crashes&In-Reply-To=%3C31233523.155.1294790862047.JavaMail.geo-discussion-forums%40vbrk36%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010630.html">
   <LINK REL="Next"  HREF="010638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 2.0 broker crashes</H1>
    <B>gus27</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.0%20broker%20crashes&In-Reply-To=%3C31233523.155.1294790862047.JavaMail.geo-discussion-forums%40vbrk36%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 2.0 broker crashes">gustavo.bouzas at gmail.com
       </A><BR>
    <I>Wed Jan 12 00:07:42 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010630.html">[rabbitmq-discuss] Erlang version for Rabbit MQ 2.2.0 on Redhat Enterprise 5.5
</A></li>
        <LI>Next message: <A HREF="010638.html">[rabbitmq-discuss] RabbitMQ 2.0 broker crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10637">[ date ]</a>
              <a href="thread.html#10637">[ thread ]</a>
              <a href="subject.html#10637">[ subject ]</a>
              <a href="author.html#10637">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthew,

We are using RabbitMQ 2.2.0 on Windows 2008 Server (64-bits) with Erlang 
R13B03.

Today our broker crashed with the following error:
&quot;Kernel pid terminated (application controller) 
({application_terminated,rabbit,shutdown})&quot;

The broker's log file shows the following annotations at the time of the 
crash:

=ERROR REPORT==== 11-Jan-2011::11:41:41 ===
** Generic server &lt;0.178.0&gt; terminating
** Last message in was {'$gen_cast',{delete,9}}
** When Server state == {state,
                            {dict,0,16,16,8,80,48,
                               
 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {gc_state,
                               
 &quot;c:/Users/Administrator/AppData/Roaming/RabbitMQ/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-BQANP1S30VP-mnesia</A>/msg_store_persistent&quot;,
                                rabbit_msg_store_ets_index,
                                {state,159801,
                                   
 &quot;c:/Users/Administrator/AppData/Roaming/RabbitMQ/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-BQANP1S30VP-mnesia</A>/msg_store_persistent&quot;},
                                155704,&lt;0.172.0&gt;}}
** Reason for termination == 
** {{badmatch,{error,eacces}},
    [{rabbit_msg_store,delete_file,2},
     {rabbit_msg_store_gc,attempt_action,3},
     {rabbit_msg_store_gc,handle_cast,2},
     {gen_server2,handle_msg,2},
     {proc_lib,wake_up,3}]}

At the time of the crash, one of our modules was quickly consuming 50.000 
messages aprox from one of the broker's queues. Does this mean we are 
experimenting the same problem reported above?

(We have the &quot;erl_crash.dump&quot; file available, in case it helps to determine 
the cause of the crash).

Thanks in advance for your help.

Best regards,
- Gustavo.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110111/c34559f5/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110111/c34559f5/attachment-0001.htm</A>&gt;
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010630.html">[rabbitmq-discuss] Erlang version for Rabbit MQ 2.2.0 on Redhat Enterprise 5.5
</A></li>
	<LI>Next message: <A HREF="010638.html">[rabbitmq-discuss] RabbitMQ 2.0 broker crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10637">[ date ]</a>
              <a href="thread.html#10637">[ thread ]</a>
              <a href="subject.html#10637">[ subject ]</a>
              <a href="author.html#10637">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
