<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Ordering of redelivered messages?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Ordering%20of%20redelivered%20messages%3F&In-Reply-To=%3C4D41FA5E.8030602%40localdomain.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010954.html">
   <LINK REL="Next"  HREF="010957.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Ordering of redelivered messages?</H1>
    <B>Grzegorz Nosek</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Ordering%20of%20redelivered%20messages%3F&In-Reply-To=%3C4D41FA5E.8030602%40localdomain.pl%3E"
       TITLE="[rabbitmq-discuss] Ordering of redelivered messages?">root at localdomain.pl
       </A><BR>
    <I>Thu Jan 27 23:06:06 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010954.html">[rabbitmq-discuss] pika.channel.basic_consume
</A></li>
        <LI>Next message: <A HREF="010957.html">[rabbitmq-discuss] Ordering of redelivered messages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10951">[ date ]</a>
              <a href="thread.html#10951">[ thread ]</a>
              <a href="subject.html#10951">[ subject ]</a>
              <a href="author.html#10951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

While googling for &quot;rabbitmq redelivery order&quot; I found this gem:

<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2009-October/005078.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2009-October/005078.html</A>

&gt;<i> Those who rely on the broker preserving perfect [...] ordering are kind of doomed.
</I>
so I'm not keeping my hopes too high, but still, it shouldn't hurt too 
much to ask ;)

Is there a setup (of exchanges, queues etc.) that tries to preserve 
ordering of messages when faced with consumer failure? I have a very 
simple setup consisting of a bunch of producers feeding data via a 
single queue to a consumer that stuffs it into RRD files (which must be 
updated in order or require deeper surgery involving dump/restore). At 
one time the consumer happened to fail and RabbitMQ started to buffer 
the messages, which then got redelivered in (apparently) totally random 
order, so RRD dropped most of them anyway.

So, is there anything I can do to at least increase the chance of 
messages being delivered in order? I don't need a 100% guarantee and the 
data isn't mission-critical so the solution need not be absolutely 
bulletproof (nor extremely scalable as the load is basically nil).

I'm currently on 1.7.x (1.7.2 IIRC) but I can upgrade if that helps 
anything.

Best regards,
  Grzegorz Nosek
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010954.html">[rabbitmq-discuss] pika.channel.basic_consume
</A></li>
	<LI>Next message: <A HREF="010957.html">[rabbitmq-discuss] Ordering of redelivered messages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10951">[ date ]</a>
              <a href="thread.html#10951">[ thread ]</a>
              <a href="subject.html#10951">[ subject ]</a>
              <a href="author.html#10951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
