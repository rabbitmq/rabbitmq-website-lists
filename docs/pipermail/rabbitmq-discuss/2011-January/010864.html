<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Alternate Exchange Configuration Issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Alternate%20Exchange%20Configuration%20Issue&In-Reply-To=%3C11EC96EC521B304EA05595E6F2987FC202A46124%40EXCHBAN.machcorp.lan%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010983.html">
   <LINK REL="Next"  HREF="010865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Alternate Exchange Configuration Issue</H1>
    <B>Prashant Yadav</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Alternate%20Exchange%20Configuration%20Issue&In-Reply-To=%3C11EC96EC521B304EA05595E6F2987FC202A46124%40EXCHBAN.machcorp.lan%3E"
       TITLE="[rabbitmq-discuss] Alternate Exchange Configuration Issue">PRYD at mach.com
       </A><BR>
    <I>Mon Jan 24 19:33:16 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010983.html">[rabbitmq-discuss] Responsibility Transfer using RabbitMQ .NET API: How it works?
</A></li>
        <LI>Next message: <A HREF="010865.html">[rabbitmq-discuss] Alternate Exchange Configuration Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10864">[ date ]</a>
              <a href="thread.html#10864">[ thread ]</a>
              <a href="subject.html#10864">[ subject ]</a>
              <a href="author.html#10864">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi ,

 

Am experiencing trouble when configuring alternate exchange for my
broker. I am following the docs present in rabbitmq site. The error am
getting is



Caused by: com.rabbitmq.client.ShutdownSignalException: channel error;
reason:
{#method&lt;channel.close&gt;(reply-code=406,reply-text=PRECONDITION_FAILED -
inequivalent arg 'alternate-exchange' for exchange 'exchange' in vhost
'/':  required {longstr,&lt;&lt;97,101&gt;&gt;}, received
undefined,class-id=40,method-id=10),null,&quot;&quot;}

                             at
com.rabbitmq.client.impl.ChannelN.processAsync(ChannelN.java:230)

                             at
com.rabbitmq.client.impl.AMQChannel.handleCompleteInboundCommand(AMQChan
nel.java:165)

                             at
com.rabbitmq.client.impl.AMQChannel.handleFrame(AMQChannel.java:110)

                             at
com.rabbitmq.client.impl.AMQConnection$MainLoop.run(AMQConnection.java:4
37)

Caught: com.rabbitmq.client.AlreadyClosedException: clean connection
shutdown; reason: Attempt to use closed channel

 

As you can see in the Stack Trace, am defining alternate exchange and
looks like it does not like it. This is my rfrence from RabbitMQ Site

Map&lt;String, Object&gt; args = new HashMap&lt;String, Object&gt;();

args.put(&quot;alternate-exchange&quot;, &quot;my-ae&quot;);

channel.exchangeDeclare(&quot;my-direct&quot;, &quot;direct&quot;, false, false, args);

channel.exchangeDeclare(&quot;my-ae&quot;, &quot;fanout&quot;);

channel.queueDeclare(&quot;routed&quot;);

channel.queueBind(&quot;routed&quot;, &quot;my-direct&quot;, &quot;key1&quot;);

channel.queueDeclare(&quot;unrouted&quot;);

channel.queueBind(&quot;unrouted&quot;, &quot;my-ae&quot;, &quot;&quot;);

 

Regds

Prashant  

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110125/26c6c8ad/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110125/26c6c8ad/attachment-0001.htm</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010983.html">[rabbitmq-discuss] Responsibility Transfer using RabbitMQ .NET API: How it works?
</A></li>
	<LI>Next message: <A HREF="010865.html">[rabbitmq-discuss] Alternate Exchange Configuration Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10864">[ date ]</a>
              <a href="thread.html#10864">[ thread ]</a>
              <a href="subject.html#10864">[ subject ]</a>
              <a href="author.html#10864">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
