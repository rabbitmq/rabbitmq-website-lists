<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Question on internal guid or hashing msg content
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Question%20on%20internal%20guid%20or%20hashing%20msg%20content&In-Reply-To=%3CE6B47DDE-6C42-4FE3-B888-8837EF224FBC%40jbrisbin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010848.html">
   <LINK REL="Next"  HREF="010845.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Question on internal guid or hashing msg content</H1>
    <B>Jon Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Question%20on%20internal%20guid%20or%20hashing%20msg%20content&In-Reply-To=%3CE6B47DDE-6C42-4FE3-B888-8837EF224FBC%40jbrisbin.com%3E"
       TITLE="[rabbitmq-discuss] Question on internal guid or hashing msg content">jon at jbrisbin.com
       </A><BR>
    <I>Sat Jan 22 22:45:28 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010848.html">[rabbitmq-discuss] pika and node.amqp interop
</A></li>
        <LI>Next message: <A HREF="010845.html">[rabbitmq-discuss] Question on internal guid or hashing msg content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10844">[ date ]</a>
              <a href="thread.html#10844">[ thread ]</a>
              <a href="subject.html#10844">[ subject ]</a>
              <a href="author.html#10844">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been hacking on a rabbit_riak_queue.erl implementation today and I'm starting to get into storing messages in Riak.

I think in the recent blog post (that was excellent info, BTW) you mentioned some things to keep in mind, namely that the message body shouldn't be stored more than once, given it could go to multiple queues.

Can I use the guid property of #basic_message{} for this or would I still get unnecessary duplication (I guess I'm wondering if the same message content can have different guids for sending to multiple queues)?

Or should I hash the message content and use that as the key?

Or should I use some other method?

Thanks!

Jon Brisbin

        Web: <A HREF="http://jbrisbin.com/">http://jbrisbin.com/</A>
    Twitter: @j_brisbin
      Skype: jon.brisbin

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110122/24bdccd6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110122/24bdccd6/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010848.html">[rabbitmq-discuss] pika and node.amqp interop
</A></li>
	<LI>Next message: <A HREF="010845.html">[rabbitmq-discuss] Question on internal guid or hashing msg content
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10844">[ date ]</a>
              <a href="thread.html#10844">[ thread ]</a>
              <a href="subject.html#10844">[ subject ]</a>
              <a href="author.html#10844">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
