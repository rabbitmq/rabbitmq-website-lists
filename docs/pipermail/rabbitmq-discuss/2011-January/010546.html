<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Web use scenarios
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Web%20use%20scenarios&In-Reply-To=%3CAANLkTi%3DHV0%3DPsDpQ2%3D8fWufryNViL7SKtizuGbMYb7de%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010540.html">
   <LINK REL="Next"  HREF="010531.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Web use scenarios</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Web%20use%20scenarios&In-Reply-To=%3CAANLkTi%3DHV0%3DPsDpQ2%3D8fWufryNViL7SKtizuGbMYb7de%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Web use scenarios">alexis at rabbitmq.com
       </A><BR>
    <I>Wed Jan  5 12:14:58 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010540.html">[rabbitmq-discuss] Web use scenarios
</A></li>
        <LI>Next message: <A HREF="010531.html">[rabbitmq-discuss] how to send a message including a array via	.net client?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10546">[ date ]</a>
              <a href="thread.html#10546">[ thread ]</a>
              <a href="subject.html#10546">[ subject ]</a>
              <a href="author.html#10546">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Andrew

We agree that databases and queues are different in that queues can be
seen as data for FIFO, streamed, delivery, whereas databases support
more general queries.

Rabbit is currently FIFO which means that other models have to be
supported at the application layer, eg by using clever routing
patterns, clients with timers, and so on.

Projects like Celery are worth understanding here.

alexis


On Tue, Jan 4, 2011 at 10:12 PM, andrew chase &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">andrew at glyde.com</A>&gt; wrote:
&gt;<i> Most of your bullet points are outside the realm (IMO) of what a
</I>&gt;<i> message system should be concerned with. In particular, it looks like
</I>&gt;<i> most of the features you're after are more in line with what a
</I>&gt;<i> background job processing system would handle. Those types of systems
</I>&gt;<i> often use messaging under the covers but often also use some type of
</I>&gt;<i> persistent data store in addition (or instead of) a messaging system.
</I>&gt;<i> I'd suggest taking a look at a couple of these systems to see if they
</I>&gt;<i> may be more what you're after (I know a couple ruby-based ones of the
</I>&gt;<i> top of my head like Resque, DelayedJob, etc
</I>&gt;<i> <A HREF="https://github.com/defunkt/resque">https://github.com/defunkt/resque</A>).
</I>&gt;<i>
</I>&gt;<i> When it comes to guaranteeing job completion, request cancellation,
</I>&gt;<i> etc, it's nice to use a persistent data store and if speed is your
</I>&gt;<i> concern there are a host of new non-RDBMS solutions out there that
</I>&gt;<i> would probably serve your needs well.
</I>&gt;<i>
</I>&gt;<i> Maybe other rabbitmq folks disagree?
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Andrew
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Jan 4, 2011 at 1:39 PM, Bill Moseley &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">moseley at hank.org</A>&gt; wrote:
</I>&gt;&gt;<i> Anyone have time to take a few of these on?
</I>&gt;&gt;<i> I know they are not specifically on-topic (and a bit open-ended) but we are
</I>&gt;&gt;<i> evaluating messaging solutions (and even discussing writing our own) so it
</I>&gt;&gt;<i> would be a huge help to get some feedback. &#160;I'd be happy to provide more
</I>&gt;&gt;<i> specifics if needed.
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Mon, Jan 3, 2011 at 3:13 PM, Bill Moseley &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">moseley at hank.org</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi,
</I>&gt;&gt;&gt;<i> I'm just starting out with RabbitMQ and trying to wrap my head around a
</I>&gt;&gt;&gt;<i> few concepts. &#160;I apologize if I ask something that should be obvious or I
</I>&gt;&gt;&gt;<i> missed in the docs and faq. &#160;I'm hoping someone can help with a few
</I>&gt;&gt;&gt;<i> scenarios, and please point me to further reading as needed.
</I>&gt;&gt;&gt;<i> I'm curious about use-cases that are not directly related to RabbitMQ, but
</I>&gt;&gt;&gt;<i> how to best use RabbitMQ in an web application's&#160;architecture. &#160;Thes are
</I>&gt;&gt;&gt;<i> probably very common situations.
</I>&gt;&gt;&gt;<i> 1) Notification of job status and completion: &#160;If the web app produces a
</I>&gt;&gt;&gt;<i> request to generate an expensive PDF is there a common approach to detecting
</I>&gt;&gt;&gt;<i> when the consumer is completed and the pdf is ready for downloading? &#160;Should
</I>&gt;&gt;&gt;<i> I create a single-use return queue with x-expires and/or x-message-ttl on
</I>&gt;&gt;&gt;<i> the queue? &#160; In a web app the web user may never come back to pick up the
</I>&gt;&gt;&gt;<i> PDF.
</I>&gt;&gt;&gt;<i> 2) Job sequencing: &#160;What's a common approach to multiple step processing
</I>&gt;&gt;&gt;<i> that must be done serially? &#160;I.e. queue job &quot;A&quot; and when it's complete queue
</I>&gt;&gt;&gt;<i> job &quot;B&quot;. &#160;Doesn't really seem like consumer &quot;A&quot; should be responsible for
</I>&gt;&gt;&gt;<i> submitting job &quot;B&quot;. &#160;Is it better to create a consumer &quot;AB&quot; that submits &quot;A&quot;
</I>&gt;&gt;&gt;<i> and waits for a message that &quot;A&quot; is complete and then submits job &quot;B&quot;?
</I>&gt;&gt;&gt;<i> 3) Scheduling: I assume there's no facility for scheduling jobs to be
</I>&gt;&gt;&gt;<i> delivered to consumers at some future time. &#160;Is there a better approach than
</I>&gt;&gt;&gt;<i> using cron to check the database for jobs that should be queued based on
</I>&gt;&gt;&gt;<i> time?
</I>&gt;&gt;&gt;<i> 4) Cancel a request: &#160;We have some situations when a subsequent request
</I>&gt;&gt;&gt;<i> should cancel processing of an earlier request. &#160;(Frankly, I think this is a
</I>&gt;&gt;&gt;<i> design problem on our end.)
</I>&gt;&gt;&gt;<i> 5) Prevent duplicate job requests: In a web environment when things break
</I>&gt;&gt;&gt;<i> problems often compound by users reloading requests that caused the problem
</I>&gt;&gt;&gt;<i> in the first place. &#160;I'm not sure RabbitMQ would be involved at all in this
</I>&gt;&gt;&gt;<i> scenario, but I'm asking just in case. ;)
</I>&gt;&gt;&gt;<i> Finally, it's great that RabbitMQ will send a message again if is is not
</I>&gt;&gt;&gt;<i> ACK'd and a consumer closes its connection. &#160;But, is there any kind of max
</I>&gt;&gt;&gt;<i> retry count available? &#160;That is, what's a good approach to prevent an errant
</I>&gt;&gt;&gt;<i> job from killing all consumers one-by-one?
</I>&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;<i> --
</I>&gt;&gt;&gt;<i> Bill Moseley
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">moseley at hank.org</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Bill Moseley
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">moseley at hank.org</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010540.html">[rabbitmq-discuss] Web use scenarios
</A></li>
	<LI>Next message: <A HREF="010531.html">[rabbitmq-discuss] how to send a message including a array via	.net client?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10546">[ date ]</a>
              <a href="thread.html#10546">[ thread ]</a>
              <a href="subject.html#10546">[ subject ]</a>
              <a href="author.html#10546">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
