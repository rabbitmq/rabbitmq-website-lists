<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Errors on latest mgmt plug-in
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Errors%20on%20latest%20mgmt%20plug-in&In-Reply-To=%3C5C3F8D74DE0D8344AF4E68E53DAB10DD05EE8E43EF%40IS-EXCHANGEC101.wsod.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010836.html">
   <LINK REL="Next"  HREF="010813.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Errors on latest mgmt plug-in</H1>
    <B>Paul Pearcy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Errors%20on%20latest%20mgmt%20plug-in&In-Reply-To=%3C5C3F8D74DE0D8344AF4E68E53DAB10DD05EE8E43EF%40IS-EXCHANGEC101.wsod.local%3E"
       TITLE="[rabbitmq-discuss] Errors on latest mgmt plug-in">paul.pearcy at wallst.com
       </A><BR>
    <I>Thu Jan 20 23:49:38 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010836.html">[rabbitmq-discuss] failure on startup
</A></li>
        <LI>Next message: <A HREF="010813.html">[rabbitmq-discuss] Errors on latest mgmt plug-in
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10810">[ date ]</a>
              <a href="thread.html#10810">[ thread ]</a>
              <a href="subject.html#10810">[ subject ]</a>
              <a href="author.html#10810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
  I am attempting to get by the bug mentioned in this thread that is causing me some pain:
<A HREF="http://old.nabble.com/Management-plugin-issues-td30705395.html">http://old.nabble.com/Management-plugin-issues-td30705395.html</A>

In order to do this, I have rebuilt the management plugin from source based on these directions:
<A HREF="http://hg.rabbitmq.com/rabbitmq-management/file/132edbdcaaa9/BUILDING">http://hg.rabbitmq.com/rabbitmq-management/file/132edbdcaaa9/BUILDING</A>

This was all clear and straight forward. In order to update, I stop rabbitmq, remove the old plugins files and place the ones built by me (except rabbit_common.ez) in the plugins directory.

RabbitMQ starts up fine, but I am getting the error below when attempting to use the mgmt interface. Any ideas where I have gone wrong?

Thanks,
Paul


Here is the error:
{error,
    {error,function_clause,
        [{rabbit_mgmt_wm_overview,to_json,
             [{wm_reqdata,'GET',
                  {1,1},
                  &quot;10.2.123.16&quot;,
                  {wm_reqstate,#Port&lt;0.4131&gt;,
                      {dict,3,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],[],[],[],[],
                            [[resource_module|rabbit_mgmt_wm_overview],
                             ['content-type',97,112,112,108,105,99,97,116,105,
                              111,110,47,106,115,111,110]],
                            [],
                            [['content-encoding',105,100,101,110,116,105,116,
                              121]],
                            [],[],[],[],[],[],[],[]}}},
                      undefined,&quot;10.2.123.16&quot;,'REQDATA',undefined,undefined,
                      {wm_log_data,undefined,
                          {1295,566931,800397},
                          'GET',
                          {10,
                           {&quot;host&quot;,
                            {'Host',&quot;dm-essearchd101:55672&quot;},
                            {&quot;connection&quot;,
                             {'Connection',&quot;keep-alive&quot;},
                             {&quot;authorization&quot;,
                              {'Authorization',&quot;Basic Z3Vlc3Q6Z3Vlc3Q=&quot;},
                              {&quot;accept&quot;,
                               {'Accept',&quot;*/*&quot;},
                               nil,
                               {&quot;accept-encoding&quot;,
                                {'Accept-Encoding',&quot;gzip,deflate,sdch&quot;},
                                {&quot;accept-charset&quot;,
                                 {'Accept-Charset',
                                     &quot;ISO-8859-1,utf-8;q=0.7,*;q=0.3&quot;},
                                 nil,nil},
                                {&quot;accept-language&quot;,
                                 {'Accept-Language',&quot;en-US,en;q=0.8&quot;},
                                 nil,nil}}},
                              nil},
                             {&quot;content-type&quot;,
                              {'Content-Type',&quot;application/json&quot;},
                              nil,nil}},
                            {&quot;referer&quot;,
                             {'Referer',&quot;<A HREF="http://dm-essearchd101:55672/mgmt/&quot;},">http://dm-essearchd101:55672/mgmt/&quot;},</A>
                             nil,
                             {&quot;user-agent&quot;,
                              {'User-Agent',
                                  &quot;Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.67 Safari/534.13&quot;},
                              nil,nil}}}},
                          &quot;10.2.123.16&quot;,&quot;/api/overview&quot;,
                          {1,1},
                          404,0,undefined,undefined}},
                  [],&quot;/api/overview&quot;,&quot;/api/overview&quot;,
                  {dict,0,16,16,8,80,48,
                      {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                      {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                  [],&quot;../..&quot;,500,1073741824,67108864,[],[],
                  {10,
                   {&quot;host&quot;,
                    {'Host',&quot;dm-essearchd101:55672&quot;},
                    {&quot;connection&quot;,
                     {'Connection',&quot;keep-alive&quot;},
                     {&quot;authorization&quot;,
                      {'Authorization',&quot;Basic Z3Vlc3Q6Z3Vlc3Q=&quot;},
                      {&quot;accept&quot;,
                       {'Accept',&quot;*/*&quot;},
                       nil,
                      {&quot;accept-encoding&quot;,
                        {'Accept-Encoding',&quot;gzip,deflate,sdch&quot;},
                        {&quot;accept-charset&quot;,
                         {'Accept-Charset',&quot;ISO-8859-1,utf-8;q=0.7,*;q=0.3&quot;},
                         nil,nil},
                        {&quot;accept-language&quot;,
                         {'Accept-Language',&quot;en-US,en;q=0.8&quot;},
                         nil,nil}}},
                      nil},
                     {&quot;content-type&quot;,
                      {'Content-Type',&quot;application/json&quot;},
                      nil,nil}},
                    {&quot;referer&quot;,
                     {'Referer',&quot;<A HREF="http://dm-essearchd101:55672/mgmt/&quot;},">http://dm-essearchd101:55672/mgmt/&quot;},</A>
                     nil,
                     {&quot;user-agent&quot;,
                      {'User-Agent',
                         &quot;Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US) AppleWebKit/534.13 (KHTML, like Gecko) Chrome/9.0.597.67 Safari/534.13&quot;},
                      nil,nil}}}},
                  not_fetched_yet,false,
                  {1,
                   {&quot;content-type&quot;,
                    {&quot;Content-Type&quot;,&quot;application/json&quot;},
                    nil,nil}},
                  &lt;&lt;&gt;&gt;,
                  [&quot;dm-essearchd101&quot;],
                  55672},
              {context,
                  {user,&lt;&lt;&quot;guest&quot;&gt;&gt;,
                      &lt;&lt;234,121,247,186,255,0,101,109,78,202,155,11,253,146,
                        176,230,62,9,99,64&gt;&gt;,
                      true},
                  &lt;&lt;&quot;guest&quot;&gt;&gt;}]},
         {webmachine_resource,resource_call,3},
         {webmachine_resource,do,3},
         {webmachine_decision_core,resource_call,1},
         {webmachine_decision_core,decision,1},
         {webmachine_decision_core,handle_request,2},
         {webmachine_mochiweb,loop,1},
         {mochiweb_http,headers,5}]}}

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110120/614ae135/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110120/614ae135/attachment-0001.htm</A>&gt;
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010836.html">[rabbitmq-discuss] failure on startup
</A></li>
	<LI>Next message: <A HREF="010813.html">[rabbitmq-discuss] Errors on latest mgmt plug-in
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10810">[ date ]</a>
              <a href="thread.html#10810">[ thread ]</a>
              <a href="subject.html#10810">[ subject ]</a>
              <a href="author.html#10810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
