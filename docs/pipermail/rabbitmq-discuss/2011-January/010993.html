<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Consumer management
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consumer%20management&In-Reply-To=%3CAANLkTikAo-Gic97bst2oz1t%3DJQW3DORRoS9DFJzFH3RG%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010990.html">
   <LINK REL="Next"  HREF="010996.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Consumer management</H1>
    <B>Bill Moseley</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consumer%20management&In-Reply-To=%3CAANLkTikAo-Gic97bst2oz1t%3DJQW3DORRoS9DFJzFH3RG%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Consumer management">moseley at hank.org
       </A><BR>
    <I>Mon Jan 31 15:01:13 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010990.html">[rabbitmq-discuss] errors with new rabbit_riak_queue
</A></li>
        <LI>Next message: <A HREF="010996.html">[rabbitmq-discuss] Consumer management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10993">[ date ]</a>
              <a href="thread.html#10993">[ thread ]</a>
              <a href="subject.html#10993">[ subject ]</a>
              <a href="author.html#10993">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>How do you manage your consumer/worker processes?  Does anyone look at the
queue lengths and automatically adjust the number of consumers?

Is anyone using <A HREF="http://supervisord.org/">http://supervisord.org/</A> for managing consumer processes?



I have a pool of servers to run a small collection of consumers that do
different tasks.  As load dictates (by looking at messages waiting in
queues) I'd like to be able to dynamically re-balance the mixture of
consumers.  For example, if a lot of requests come in for report generation
and I have a lot of idle consumers that do image manipulation I'd like to
reduce the number of image processing consumers and add more report
generation consumers.

(Many of my consumers are pretty simple in that they just run some command
line tool.)

What's your approach?


And do you tend to write consumers that are small stand-alone programs
(something easy for Supervisor to manage) or write larger (perhaps more
complex) stand-alone apps that listen to a queue and fork (or threads)
workers do handle incoming messages?



-- 
Bill Moseley
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">moseley at hank.org</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110131/db248cb6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110131/db248cb6/attachment.htm</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010990.html">[rabbitmq-discuss] errors with new rabbit_riak_queue
</A></li>
	<LI>Next message: <A HREF="010996.html">[rabbitmq-discuss] Consumer management
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10993">[ date ]</a>
              <a href="thread.html#10993">[ thread ]</a>
              <a href="subject.html#10993">[ subject ]</a>
              <a href="author.html#10993">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
