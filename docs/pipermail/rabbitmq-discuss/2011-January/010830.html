<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] php talking to ruby
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20php%20talking%20to%20ruby&In-Reply-To=%3CC95F0864.1649D%25pdezwart%40rubiconproject.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010825.html">
   <LINK REL="Next"  HREF="010834.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] php talking to ruby</H1>
    <B>Pieter de Zwart</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20php%20talking%20to%20ruby&In-Reply-To=%3CC95F0864.1649D%25pdezwart%40rubiconproject.com%3E"
       TITLE="[rabbitmq-discuss] php talking to ruby">pdezwart at rubiconproject.com
       </A><BR>
    <I>Fri Jan 21 17:54:44 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010825.html">[rabbitmq-discuss] php talking to ruby
</A></li>
        <LI>Next message: <A HREF="010834.html">[rabbitmq-discuss] php talking to ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10830">[ date ]</a>
              <a href="thread.html#10830">[ thread ]</a>
              <a href="subject.html#10830">[ subject ]</a>
              <a href="author.html#10830">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Your problem isnt the two talking together. It is getting them to agree on a
queue definition. I still don't understand why you are trying to declare the
queue in PHP. If PHP is the publisher, then remove the queue definition
portion and see how it runs. If you need the queue definition, I would
suggest deleting the queue entirely, and then let PHP define the queue
first, and run Ruby afterwards.

Pieter


On 1/21/11 8:07 AM, &quot;Robin Wood&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">robin at digininja.org</A>&gt; wrote:

&gt;<i> I've just tried with your Ruby and my php from gist and get the following
</I>PHP
&gt;<i> Fatal error:  Uncaught exception 'AMQPQueueException' with message
</I>'Server
&gt;<i> channel error: 406, message: PRECONDITION_FAILED - parameters
</I>for queue
&gt;<i> 'queue1' in vhost '/' not equivalent' in
</I>/home/robin/comms/gist.php:13
Stack
&gt;<i> trace:
</I>#0 /home/robin/comms/gist.php(13): AMQPQueue-&gt;declare('queue1')
#1
&gt;<i> {main}
</I>  thrown in /home/robin/comms/gist.php on line 13

which means the
&gt;<i> default connection settings in php are different to
</I>the ones in Ruby. Are you
&gt;<i> able to get the two talking and if so how
</I>hard is it to get it working in the
&gt;<i> other direction?
</I>
Robin


2011/1/21 Jakub &#352;&#357;astn&#253; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stastny at 101ideas.cz</A>&gt;:
&gt;<i>
</I>&gt;<i> Robin,
</I>&gt;<i> It's easy to make Ruby publish in text/plain:
</I>&gt;<i> <A HREF="https://gist.github.com/789576">https://gist.github.com/789576</A>
</I>&gt;<i> Also, as you can see from the example, Ruby
</I>&gt;<i> doesn't have any problems with
</I>&gt;<i> receiving messages in text/plain whatsoever.
</I>&gt;<i> I'm going to add this
</I>&gt;<i> functionality to the client, because this sounds like
</I>&gt;<i> a useful thing to
</I>&gt;<i> have. If you'll have any problems which should be fixed on
</I>&gt;<i> the Ruby part,
</I>&gt;<i> I'll be more than happy to do so.
</I>&gt;<i> Jakub
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.flickr.com/photos/jakub-stastny">http://www.flickr.com/photos/jakub-stastny</A>
</I>&gt;<i> <A HREF="http://twitter.com/botanicus">http://twitter.com/botanicus</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing
</I>&gt;<i> list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>_____
&gt;<i> __________________________________________
</I>rabbitmq-discuss mailing
&gt;<i> list
</I><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/ma">https://lists.rabbitmq.com/cgi-bin/ma</A>
&gt;<i> ilman/listinfo/rabbitmq-discuss
</I>

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010825.html">[rabbitmq-discuss] php talking to ruby
</A></li>
	<LI>Next message: <A HREF="010834.html">[rabbitmq-discuss] php talking to ruby
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10830">[ date ]</a>
              <a href="thread.html#10830">[ thread ]</a>
              <a href="subject.html#10830">[ subject ]</a>
              <a href="author.html#10830">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
