<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Consumers stops to pick up messages after long inactivity
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consumers%20stops%20to%20pick%20up%20messages%20after%0A%20long%20inactivity&In-Reply-To=%3C4D2C7BA0.9010508%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010612.html">
   <LINK REL="Next"  HREF="010668.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Consumers stops to pick up messages after long inactivity</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consumers%20stops%20to%20pick%20up%20messages%20after%0A%20long%20inactivity&In-Reply-To=%3C4D2C7BA0.9010508%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Consumers stops to pick up messages after long inactivity">emile at rabbitmq.com
       </A><BR>
    <I>Tue Jan 11 15:47:44 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010612.html">[rabbitmq-discuss] Consumers stops to pick up messages after long	inactivity
</A></li>
        <LI>Next message: <A HREF="010668.html">[rabbitmq-discuss] Consumers stops to pick up messages after	long inactivity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10626">[ date ]</a>
              <a href="thread.html#10626">[ thread ]</a>
              <a href="subject.html#10626">[ subject ]</a>
              <a href="author.html#10626">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Neha,

On 10/01/11 21:57, Neha wrote:
&gt;<i> I have an application which uses rabbitmq. It has messages being sent
</I>&gt;<i> from Monday to Friday and on the weekend there are no messages sent.
</I>&gt;<i>
</I>&gt;<i> The application works fine on regular days, i.e producers puts the
</I>&gt;<i> message on the queue and the consumer receives the message. But every
</I>&gt;<i> Monday, after the weekend the consumer starts behaving strangely. It
</I>&gt;<i> stops receiving messages even though the queue has messages present.
</I>&gt;<i> The heartbeat of the consumer all this time is working fine but it
</I>&gt;<i> still doesn't receive all these messages on the queue. To overcome
</I>&gt;<i> this problem I have to restart the consumers every Monday, and as soon
</I>&gt;<i> as I do that, all the messages that are present in the queue starts
</I>&gt;<i> getting consumed.
</I>&gt;<i>
</I>&gt;<i> Looking at a problem, I feel it might be due to inactivity during the
</I>&gt;<i> weekend. I wanted to know if anyone else has faced this problem
</I>&gt;<i> wherein the consumer stops consuming after a long duration of
</I>&gt;<i> inactivity? Is there a setting to be tweaked to increase this period?
</I>
Long periods of inactivity should have no effect. The problem is almost 
certainly network-related. Here are some things to check.

Is there anything of interest in the broker logfile?

As there any device along the network path that might have caused the 
connections to be reset?

Does the broker consider the clients to be connected on Monday mornings? 
&quot;rabbitmqctl list_connections&quot; and &quot;rabbitmqctl list_consumers&quot; can help 
determine this. The logfile will show when any connections were 
terminated. Also verify the connection timeout (rabbitmqctl 
list_connections timeout).

You may want to try using a different connection heartbeat value and 
check whether the message consumers are able to recover from network 
interruptions automatically.


Regards

Emile

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010612.html">[rabbitmq-discuss] Consumers stops to pick up messages after long	inactivity
</A></li>
	<LI>Next message: <A HREF="010668.html">[rabbitmq-discuss] Consumers stops to pick up messages after	long inactivity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10626">[ date ]</a>
              <a href="thread.html#10626">[ thread ]</a>
              <a href="subject.html#10626">[ subject ]</a>
              <a href="author.html#10626">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
