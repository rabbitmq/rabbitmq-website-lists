<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Custom storage backends for queues (MySQL)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Custom%20storage%20backends%20for%20queues%20%28MySQL%29&In-Reply-To=%3C6AF334DB-48FA-4B2C-A4B5-E9DD49A7E942%40jbrisbin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010726.html">
   <LINK REL="Next"  HREF="010747.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Custom storage backends for queues (MySQL)</H1>
    <B>Jon Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Custom%20storage%20backends%20for%20queues%20%28MySQL%29&In-Reply-To=%3C6AF334DB-48FA-4B2C-A4B5-E9DD49A7E942%40jbrisbin.com%3E"
       TITLE="[rabbitmq-discuss] Custom storage backends for queues (MySQL)">jon at jbrisbin.com
       </A><BR>
    <I>Tue Jan 18 14:29:57 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010726.html">[rabbitmq-discuss] Custom storage backends for queues (MySQL)
</A></li>
        <LI>Next message: <A HREF="010747.html">[rabbitmq-discuss] Custom storage backends for queues (MySQL)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10734">[ date ]</a>
              <a href="thread.html#10734">[ thread ]</a>
              <a href="subject.html#10734">[ subject ]</a>
              <a href="author.html#10734">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jan 15, 2011, at 11:14 AM, Jerry Kuch wrote:

&gt;<i> If a plugin for your store of choice doesn't exist, then one writes a storage plugin, in Erlang, by implementing the rabbit_backing_queue behaviour, which effectively makes up the storage API, and talks to the storage system of your choice.
</I>
A couple quick questions about this:

Should a replacement rabbit_backing_queue be packaged as a regular plugin?

How would I configure the broker to use my own storage module?

Should one start with rabbit_variable_queue.erl and replace only the bits that talk to the message store (leaving the memory management logic intact) as a first step?

It would probably be a good idea to look at the content type of the message to figure out how to store it in the backing store, right (which would open the possibility of working with message data independently of the broker by interrogating its contents)?

Would it be a bad idea to have store-side code as part of the storage system? In particular, I'm thinking about having Erlang-language M/R code or event triggers which would need to be installed into the server (Riak in this case) to manage indexes and metadata. In general, I don't like the idea of having to install things in more than one place. It would probably make some things considerably easier (and more performant), though.


Thanks!

Jon Brisbin

        Web: <A HREF="http://jbrisbin.com/">http://jbrisbin.com/</A>
    Twitter: @j_brisbin
      Skype: jon.brisbin

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110118/688f4b57/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110118/688f4b57/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010726.html">[rabbitmq-discuss] Custom storage backends for queues (MySQL)
</A></li>
	<LI>Next message: <A HREF="010747.html">[rabbitmq-discuss] Custom storage backends for queues (MySQL)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10734">[ date ]</a>
              <a href="thread.html#10734">[ thread ]</a>
              <a href="subject.html#10734">[ subject ]</a>
              <a href="author.html#10734">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
