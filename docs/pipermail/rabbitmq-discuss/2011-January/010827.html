<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cleaning up unhandled messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cleaning%20up%20unhandled%20messages&In-Reply-To=%3CAANLkTimbD1nFK%2BSKzxSv2PDodMA64mhBDeK7EPm1OL11%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010824.html">
   <LINK REL="Next"  HREF="010829.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cleaning up unhandled messages</H1>
    <B>Peter Ledbrook</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cleaning%20up%20unhandled%20messages&In-Reply-To=%3CAANLkTimbD1nFK%2BSKzxSv2PDodMA64mhBDeK7EPm1OL11%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Cleaning up unhandled messages">peter at cacoethes.co.uk
       </A><BR>
    <I>Fri Jan 21 17:48:53 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010824.html">[rabbitmq-discuss] Reordering messages
</A></li>
        <LI>Next message: <A HREF="010829.html">[rabbitmq-discuss] Cleaning up unhandled messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10827">[ date ]</a>
              <a href="thread.html#10827">[ thread ]</a>
              <a href="subject.html#10827">[ subject ]</a>
              <a href="author.html#10827">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

What techniques do people use in dealing with messages that remain
unhandled on a queue, for example if no consumer can process them
successfully (perhaps because there's something wrong with the
message)?

The specific situation that this question derives from is this:

    * A message causes an exception in the message handler;
    * the message is hence not acked;
    * the message never gets picked up again.

Now, the last item is really a result of a bug in the consumer, but
there is still a problem of messages that get left on the queue.

One suggestion that springs to mind is that the consumer should catch
the exception, ack the message and report it as bad in some way (if
that is in fact the case). I was also thinking of having a scavenger
consumer that deals with messages that get left like this, but that
would probably pick up messages that should be processed by the normal
consumer (and won't cause an exception).

Anyone have any other ideas?

Thanks,

Peter
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010824.html">[rabbitmq-discuss] Reordering messages
</A></li>
	<LI>Next message: <A HREF="010829.html">[rabbitmq-discuss] Cleaning up unhandled messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10827">[ date ]</a>
              <a href="thread.html#10827">[ thread ]</a>
              <a href="subject.html#10827">[ subject ]</a>
              <a href="author.html#10827">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
