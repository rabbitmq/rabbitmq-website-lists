<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Exchange and queue naming conventions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exchange%20and%20queue%20naming%20conventions&In-Reply-To=%3Cyrv4cbp36np8l.fsf%40dwragg.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010855.html">
   <LINK REL="Next"  HREF="010871.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Exchange and queue naming conventions</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exchange%20and%20queue%20naming%20conventions&In-Reply-To=%3Cyrv4cbp36np8l.fsf%40dwragg.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] Exchange and queue naming conventions">david at rabbitmq.com
       </A><BR>
    <I>Mon Jan 24 18:14:18 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010855.html">[rabbitmq-discuss] Exchange and queue naming conventions
</A></li>
        <LI>Next message: <A HREF="010871.html">[rabbitmq-discuss] Exchange and queue naming conventions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10863">[ date ]</a>
              <a href="thread.html#10863">[ thread ]</a>
              <a href="subject.html#10863">[ subject ]</a>
              <a href="author.html#10863">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Bill,

Bill Moseley &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">moseley at hank.org</A>&gt; writes:
&gt;<i> Are there any good conventions to follow when naming queues, exchanges, and
</I>&gt;<i> bindings?  As I'm adding more queues I'm starting to think some type of
</I>&gt;<i> naming convention would be very smart.  Just curious what other's do.
</I>
I don't think there is any one right way.  When choosing names for
queues, exchanges, and keys, the use of dotted paths is widespread.  But
your questions are more about usage than naming.

&gt;<i> For now I'm only using a direct exchange type.  When should I be declaring
</I>&gt;<i> additional exchanges vs. using the same (or even the default)
</I>&gt;<i> exchange?
</I>
It depends on your message exchange patterns.

Generally, you should arrange your application to take full advantage of
the facilities AMQP presents.  If your application ends up dispatching
or filtering messages in a way that could be delegated to RabbitMQ, then
you should do.

Also, consider where you might later want to add new producers and
consumers - even if just for debugging purposes.  The ability to easily
add additional parties into message exchanges is one of the major
advantages of a messaging-based approach as opposed to point-to-point
mechanisms such as web services.

&gt;<i> A pattern I'm seeing is I have an app-specific producer than sends a message
</I>&gt;<i> to a generic consumer (used by multiple apps) but then that consumer sends a
</I>&gt;<i> message to another app-specific consumer.  What I'm doing is passing the
</I>&gt;<i> return queue name in the reply_to attribute.  I'm not passing in the
</I>&gt;<i> exchange name -- so I'm just using the same exchange for every
</I>&gt;<i> binding.
</I>
For a request-response pattern, this seems fine.

One variation is to make the exchange a topic exchange rather than a
direct exchange.  This allows you to intercept all replies with a
wildcard binding (e.g. for debugging).

&gt;<i> I also declare the exchange, queue, and binding in every component (the
</I>&gt;<i> producer and both consumers).  I assume that's typical as it allows starting
</I>&gt;<i> the components in any order.  Is that appropriate?
</I>
Yes, this kind of thing is perfectly normal with AMQP.

Typically, both the producers and consumers will declare the exchanges
of interest.  But only consumers will declare and bind the queues,
because they know which messages they wish to receive.

&gt;<i> Finally, I have been naming queue and bindings with the same name.  Is there
</I>&gt;<i> a reason that should not be done?
</I>
By naming bindings, I assume you are referring to the binding key.
There's nothing wrong with what you describe, except that this sounds
very close to what the AMQP nameless exchange does implicitly.  So
perhaps you could take advantage of that, and so avoid the need to
declare an exchange and explicitly bind your queues.


David

-- 
David Wragg
Staff Engineer, RabbitMQ
SpringSource, a division of VMware
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010855.html">[rabbitmq-discuss] Exchange and queue naming conventions
</A></li>
	<LI>Next message: <A HREF="010871.html">[rabbitmq-discuss] Exchange and queue naming conventions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10863">[ date ]</a>
              <a href="thread.html#10863">[ thread ]</a>
              <a href="subject.html#10863">[ subject ]</a>
              <a href="author.html#10863">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
