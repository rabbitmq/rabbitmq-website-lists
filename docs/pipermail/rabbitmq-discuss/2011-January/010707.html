<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] New open source PHP Amqp implementation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20open%20source%20PHP%20Amqp%20implementation&In-Reply-To=%3CAANLkTin2UJun%2BcRRohoD1CYf6POcQBQUwKu2cd2PhYWf%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010627.html">
   <LINK REL="Next"  HREF="010597.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] New open source PHP Amqp implementation</H1>
    <B>Robin Harvey</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20open%20source%20PHP%20Amqp%20implementation&In-Reply-To=%3CAANLkTin2UJun%2BcRRohoD1CYf6POcQBQUwKu2cd2PhYWf%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] New open source PHP Amqp implementation">harvey.robin at gmail.com
       </A><BR>
    <I>Sat Jan 15 19:46:00 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010627.html">[rabbitmq-discuss] New open source PHP Amqp implementation
</A></li>
        <LI>Next message: <A HREF="010597.html">[rabbitmq-discuss] New open source PHP Amqp implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10707">[ date ]</a>
              <a href="thread.html#10707">[ thread ]</a>
              <a href="subject.html#10707">[ subject ]</a>
              <a href="author.html#10707">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mark,

I've just finished implementing SSL support, if you grab the latest code
from code from github (<A HREF="https://github.com/BraveSirRobin/amqphp">https://github.com/BraveSirRobin/amqphp</A>) and twiddle
with the tests/forker.xml configs a bit it should work.  From my tests,
client certificates and peer verification work fine, there's instructions in
the amqp.php file on PHP specific setup.  The SSL implementation does use
the Stream context API, as you suggested, however the plain sockets
implementation is still there (you can switch these in the forker.xml config
file).

Thanks,
--Robin



On Tue, Jan 11, 2011 at 4:32 PM, Mark Steele &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">msteele at beringmedia.com</A>&gt;wrote:

&gt;<i> Hi Robin,
</I>&gt;<i>
</I>&gt;<i> A few questions:
</I>&gt;<i>
</I>&gt;<i>    - Is it possible to make your class work with SSL connections? (Use
</I>&gt;<i>    php's stream context api instead of creating plain sockets?).
</I>&gt;<i>    - Will it behave properly in an app that uses signals/alarms?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Nice work, looking forward to testing it.
</I>&gt;<i>
</I>&gt;<i> Mark Steele
</I>&gt;<i> Bering Media Inc.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sat, Jan 8, 2011 at 8:46 AM, Robin Harvey &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">harvey.robin at gmail.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hello Rabbiteers!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I hope I'm not being importune by posting this message to let you know
</I>&gt;&gt;<i> about an LGPL Amqp implementation I've recently written for PHP 5.3:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  <A HREF="https://github.com/BraveSirRobin/amqphp">https://github.com/BraveSirRobin/amqphp</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've implemented the 0.9.1 Amqp spec using a code-generation approach.  If
</I>&gt;&gt;<i> any of the more experienced Amqp people were able to take a quick look at my
</I>&gt;&gt;<i> code in order to provide feedback, or have any other advice I'd be very
</I>&gt;&gt;<i> grateful.  There's a UML class diagram showing the implementation classes
</I>&gt;&gt;<i> here: <A HREF="https://github.com/BraveSirRobin/amqphp/raw/master/diag/amqp.png">https://github.com/BraveSirRobin/amqphp/raw/master/diag/amqp.png</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Secondly, I have a question regarding using basic.consume on multiple
</I>&gt;&gt;<i> channels.  Is it possible for message frames to be mixed up for
</I>&gt;&gt;<i> basic.consume?  Section 4.2.6 of the spec says this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *Content frames on a specific channel are strictly sequential. That is,
</I>&gt;&gt;<i> they may be mixed with frames for*
</I>&gt;&gt;<i> *other channels, but no two content frames from the same channel may be
</I>&gt;&gt;<i> mixed or overlapped, nor may*
</I>&gt;&gt;<i> *content frames for a single content be mixed with method frames on the
</I>&gt;&gt;<i> same channel.*
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What I find confusing is that a single &quot;message&quot; consists of a frame
</I>&gt;&gt;<i> header, a content header and one or more content frames, for large messages
</I>&gt;&gt;<i> there can be many content frames; a single message contains many frames.
</I>&gt;&gt;<i>  For example, is it possible to get a content header frame on channel A,
</I>&gt;&gt;<i> then a content header frame on channel B, then the message content for
</I>&gt;&gt;<i> channel A, then the message content for channel B?  The testing I've done so
</I>&gt;&gt;<i> far indicates that RMQ always sends basic.deliver messages sequentially - it
</I>&gt;&gt;<i> sends the content header then all content frames for a single message on a
</I>&gt;&gt;<i> single channel in a non-interleaved fashion.  Is this always the case?  Is
</I>&gt;&gt;<i> this what the spec guarantees?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Many thanks,
</I>&gt;&gt;<i> --Robin
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110115/0478cc51/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110115/0478cc51/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010627.html">[rabbitmq-discuss] New open source PHP Amqp implementation
</A></li>
	<LI>Next message: <A HREF="010597.html">[rabbitmq-discuss] New open source PHP Amqp implementation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10707">[ date ]</a>
              <a href="thread.html#10707">[ thread ]</a>
              <a href="subject.html#10707">[ subject ]</a>
              <a href="author.html#10707">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
