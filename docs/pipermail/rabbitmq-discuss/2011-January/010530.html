<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Web use scenarios
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Web%20use%20scenarios&In-Reply-To=%3CAANLkTikkKOLWgFnRPmg%3DCkBzBfu%3D6uyMG4doYqfi0zX_%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010529.html">
   <LINK REL="Next"  HREF="010538.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Web use scenarios</H1>
    <B>Bill Moseley</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Web%20use%20scenarios&In-Reply-To=%3CAANLkTikkKOLWgFnRPmg%3DCkBzBfu%3D6uyMG4doYqfi0zX_%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Web use scenarios">moseley at hank.org
       </A><BR>
    <I>Mon Jan  3 23:13:30 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010529.html">[rabbitmq-discuss] Rabbitmq Java Client Memory Leak?
</A></li>
        <LI>Next message: <A HREF="010538.html">[rabbitmq-discuss] Web use scenarios
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10530">[ date ]</a>
              <a href="thread.html#10530">[ thread ]</a>
              <a href="subject.html#10530">[ subject ]</a>
              <a href="author.html#10530">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm just starting out with RabbitMQ and trying to wrap my head around a few
concepts.  I apologize if I ask something that should be obvious or I missed
in the docs and faq.  I'm hoping someone can help with a few scenarios, and
please point me to further reading as needed.

I'm curious about use-cases that are not directly related to RabbitMQ, but
how to best use RabbitMQ in an web application's architecture.  Thes are
probably very common situations.

1) Notification of job status and completion:  If the web app produces a
request to generate an expensive PDF is there a common approach to detecting
when the consumer is completed and the pdf is ready for downloading?  Should
I create a single-use return queue with x-expires and/or x-message-ttl on
the queue?   In a web app the web user may never come back to pick up the
PDF.

2) Job sequencing:  What's a common approach to multiple step processing
that must be done serially?  I.e. queue job &quot;A&quot; and when it's complete queue
job &quot;B&quot;.  Doesn't really seem like consumer &quot;A&quot; should be responsible for
submitting job &quot;B&quot;.  Is it better to create a consumer &quot;AB&quot; that submits &quot;A&quot;
and waits for a message that &quot;A&quot; is complete and then submits job &quot;B&quot;?

3) Scheduling: I assume there's no facility for scheduling jobs to be
delivered to consumers at some future time.  Is there a better approach than
using cron to check the database for jobs that should be queued based on
time?

4) Cancel a request:  We have some situations when a subsequent request
should cancel processing of an earlier request.  (Frankly, I think this is a
design problem on our end.)

5) Prevent duplicate job requests: In a web environment when things break
problems often compound by users reloading requests that caused the problem
in the first place.  I'm not sure RabbitMQ would be involved at all in this
scenario, but I'm asking just in case. ;)

Finally, it's great that RabbitMQ will send a message again if is is not
ACK'd and a consumer closes its connection.  But, is there any kind of max
retry count available?  That is, what's a good approach to prevent an errant
job from killing all consumers one-by-one?

Thanks,

-- 
Bill Moseley
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">moseley at hank.org</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110103/1e5c9cf4/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110103/1e5c9cf4/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010529.html">[rabbitmq-discuss] Rabbitmq Java Client Memory Leak?
</A></li>
	<LI>Next message: <A HREF="010538.html">[rabbitmq-discuss] Web use scenarios
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10530">[ date ]</a>
              <a href="thread.html#10530">[ thread ]</a>
              <a href="subject.html#10530">[ subject ]</a>
              <a href="author.html#10530">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
