<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Consumers stops to pick up messages after	long inactivity
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consumers%20stops%20to%20pick%20up%20messages%20after%0A%09long%20inactivity&In-Reply-To=%3Cadd8ddd0-50cb-449e-b6f5-e2f04d93b83a%40k30g2000vbn.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010626.html">
   <LINK REL="Next"  HREF="010762.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Consumers stops to pick up messages after	long inactivity</H1>
    <B>Neha</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consumers%20stops%20to%20pick%20up%20messages%20after%0A%09long%20inactivity&In-Reply-To=%3Cadd8ddd0-50cb-449e-b6f5-e2f04d93b83a%40k30g2000vbn.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Consumers stops to pick up messages after	long inactivity">nehakothari86 at gmail.com
       </A><BR>
    <I>Thu Jan 13 19:46:56 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="010626.html">[rabbitmq-discuss] Consumers stops to pick up messages after long inactivity
</A></li>
        <LI>Next message: <A HREF="010762.html">[rabbitmq-discuss] Consumers stops to pick up messages after long inactivity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10668">[ date ]</a>
              <a href="thread.html#10668">[ thread ]</a>
              <a href="subject.html#10668">[ subject ]</a>
              <a href="author.html#10668">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Emile

Thanks for the reply.
I checked the broker logfiles and it has a few
&quot;AutoFailoverConnectionFactory&quot; messages. But it again connects
successfully.
I checked the timeout and that is listed as 0.
To check the clients connected to the broker I'll have to wait for
Monday and see if the brokers considers the consumers to be connected.

Will keep this post updated with the cause of the problem.

Thanks
Neha

On Jan 11, 10:47&#160;am, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">em... at rabbitmq.com</A>&gt; wrote:
&gt;<i> Hi Neha,
</I>&gt;<i>
</I>&gt;<i> On 10/01/11 21:57, Neha wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; I have an application which uses rabbitmq. It has messages being sent
</I>&gt;<i> &gt; from Monday to Friday and on the weekend there are no messages sent.
</I>&gt;<i>
</I>&gt;<i> &gt; The application works fine on regular days, i.e producers puts the
</I>&gt;<i> &gt; message on the queue and the consumer receives the message. But every
</I>&gt;<i> &gt; Monday, after the weekend the consumer starts behaving strangely. It
</I>&gt;<i> &gt; stops receiving messages even though the queue has messages present.
</I>&gt;<i> &gt; The heartbeat of the consumer all this time is working fine but it
</I>&gt;<i> &gt; still doesn't receive all these messages on the queue. To overcome
</I>&gt;<i> &gt; this problem I have to restart the consumers every Monday, and as soon
</I>&gt;<i> &gt; as I do that, all the messages that are present in the queue starts
</I>&gt;<i> &gt; getting consumed.
</I>&gt;<i>
</I>&gt;<i> &gt; Looking at a problem, I feel it might be due to inactivity during the
</I>&gt;<i> &gt; weekend. I wanted to know if anyone else has faced this problem
</I>&gt;<i> &gt; wherein the consumer stops consuming after a long duration of
</I>&gt;<i> &gt; inactivity? Is there a setting to be tweaked to increase this period?
</I>&gt;<i>
</I>&gt;<i> Long periods of inactivity should have no effect. The problem is almost
</I>&gt;<i> certainly network-related. Here are some things to check.
</I>&gt;<i>
</I>&gt;<i> Is there anything of interest in the broker logfile?
</I>&gt;<i>
</I>&gt;<i> As there any device along the network path that might have caused the
</I>&gt;<i> connections to be reset?
</I>&gt;<i>
</I>&gt;<i> Does the broker consider the clients to be connected on Monday mornings?
</I>&gt;<i> &quot;rabbitmqctl list_connections&quot; and &quot;rabbitmqctl list_consumers&quot; can help
</I>&gt;<i> determine this. The logfile will show when any connections were
</I>&gt;<i> terminated. Also verify the connection timeout (rabbitmqctl
</I>&gt;<i> list_connections timeout).
</I>&gt;<i>
</I>&gt;<i> You may want to try using a different connection heartbeat value and
</I>&gt;<i> check whether the message consumers are able to recover from network
</I>&gt;<i> interruptions automatically.
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i>
</I>&gt;<i> Emile
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-disc... at lists.rabbitmq.comhttps</A>://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010626.html">[rabbitmq-discuss] Consumers stops to pick up messages after long inactivity
</A></li>
	<LI>Next message: <A HREF="010762.html">[rabbitmq-discuss] Consumers stops to pick up messages after long inactivity
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10668">[ date ]</a>
              <a href="thread.html#10668">[ thread ]</a>
              <a href="subject.html#10668">[ subject ]</a>
              <a href="author.html#10668">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
