<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Subscription Pattern in .net
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Subscription%20Pattern%20in%20.net&In-Reply-To=%3C4D7F64E0.8060505%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011773.html">
   <LINK REL="Next"  HREF="011842.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Subscription Pattern in .net</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Subscription%20Pattern%20in%20.net&In-Reply-To=%3C4D7F64E0.8060505%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Subscription Pattern in .net">emile at rabbitmq.com
       </A><BR>
    <I>Tue Mar 15 13:08:48 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011773.html">[rabbitmq-discuss] Subscription Pattern in .net
</A></li>
        <LI>Next message: <A HREF="011842.html">[rabbitmq-discuss] Subscription Pattern in .net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11830">[ date ]</a>
              <a href="thread.html#11830">[ thread ]</a>
              <a href="subject.html#11830">[ subject ]</a>
              <a href="author.html#11830">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Steven,

Thanks for your message about the Subscription class in the .net client.


On 12/03/11 08:06, Steven Taylor wrote:
&gt;<i> Hi,
</I>&gt;<i> I like the Consumer pattern, but I wanted a timed version of it.  FYI:
</I>&gt;<i> the Consumer pattern is basically a message enumerator/iterator that you
</I>&gt;<i> can use in a foreach statement.  i.e. when a message turns up, you get
</I>&gt;<i> another pass through the loop during which your code can decide what to
</I>&gt;<i> do with the message.  Consumer lives in the
</I>&gt;<i> RabbitMQ.Client.MessagePatterns namespace.
</I>&gt;<i> For me, Foreach is neat approach as It hides uneccessesary detail.
</I>
IEnumerator.MoveNext() currently waits an indefinite amount of time 
until a message arrives. If I understand correctly, you want a version 
of with a timeout, supplied in the constructor.

Would the enumeration need to be restartable? You may need a different 
implementation of Reset() in that case and this substantially changes 
the semantics of Subscription. I'm not sure how well this fits with 
IEnumerator. Your use-case appears to be reading messages until a large 
gap appears between message. At first glance that looks insufficiently 
general to justify changing the IEnumerator implementation.

The Next(TimeOut,out Msg) method was intended to meet your needs if you 
want a timeout. The example you provided using this looks fine.

&gt;<i> So what is the policy on updating the Mercurial repository?
</I>
You could also fork our github repository here:
<A HREF="https://github.com/rabbitmq/rabbitmq-dotnet-client">https://github.com/rabbitmq/rabbitmq-dotnet-client</A>
This would be a way of building consensus for your proposal.

Code that you contribute that does get accepted in the main mercurial 
repository will need a signed contributor agreement.


Regards

Emile
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011773.html">[rabbitmq-discuss] Subscription Pattern in .net
</A></li>
	<LI>Next message: <A HREF="011842.html">[rabbitmq-discuss] Subscription Pattern in .net
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11830">[ date ]</a>
              <a href="thread.html#11830">[ thread ]</a>
              <a href="subject.html#11830">[ subject ]</a>
              <a href="author.html#11830">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
