<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Scaling Rabbit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Scaling%20Rabbit&In-Reply-To=%3CAANLkTik3WUs5q80BLDp%3DTqb0OJOUTf3vhEtRFFbDh8Xa%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011998.html">
   <LINK REL="Next"  HREF="012002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Scaling Rabbit</H1>
    <B>Jim Irrer</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Scaling%20Rabbit&In-Reply-To=%3CAANLkTik3WUs5q80BLDp%3DTqb0OJOUTf3vhEtRFFbDh8Xa%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Scaling Rabbit">irrer at umich.edu
       </A><BR>
    <I>Wed Mar 23 22:10:16 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011998.html">[rabbitmq-discuss] Scaling Rabbit
</A></li>
        <LI>Next message: <A HREF="012002.html">[rabbitmq-discuss] Scaling Rabbit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11999">[ date ]</a>
              <a href="thread.html#11999">[ thread ]</a>
              <a href="subject.html#11999">[ subject ]</a>
              <a href="author.html#11999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>To better understand - The 10 billion messages each need to be processed
with the same
sort of processing?  The reason for having 10 direct exchanges would be that
there are 10 different kinds of
messages, is that true, or was your intent to have the message producers
have a
role in choosing a consumer?

Thanks,

- Jim

Jim Irrer     <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">irrer at umich.edu</A>       (734) 647-4409
University of Michigan Hospital Radiation Oncology
519 W. William St.             Ann Arbor, MI 48103


On Wed, Mar 23, 2011 at 4:29 PM, Mark Steele &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">msteele at beringmedia.com</A>&gt;wrote:

&gt;<i> Hi folks,
</I>&gt;<i>
</I>&gt;<i> I've been noodling a scale problem for a while, and wanted some input.
</I>&gt;<i>
</I>&gt;<i> Here's my scenario:
</I>&gt;<i>
</I>&gt;<i> I have a relatively small number of publishers (1000), who I expect will
</I>&gt;<i> want to publish a very large number of messages (let's say 10 billion
</I>&gt;<i> messages a day) to a about 10 exchanges.
</I>&gt;<i>
</I>&gt;<i> My naive first stab at trying to get this to scale using rabbit would be
</I>&gt;<i>
</I>&gt;<i>    - Create 10 direct exchanges
</I>&gt;<i>    - Create 100 queues to each of the exchanges (randomly distributed onto
</I>&gt;<i>    several nodes in a rabbit cluster).
</I>&gt;<i>    - Bind each of the queues to a topic (random number from 1-100)
</I>&gt;<i>    - Attach consumers to each of these queues (insert load balancer here)
</I>&gt;<i>    - Have publishers randomly pick a number from 1-100 and use that as the
</I>&gt;<i>    routing key
</I>&gt;<i>
</I>&gt;<i> Does this approach make sense for getting scale?
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i>
</I>&gt;<i> Mark Steele
</I>&gt;<i> Bering Media Inc.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110323/f4fd6a9b/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110323/f4fd6a9b/attachment-0001.htm</A>&gt;
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011998.html">[rabbitmq-discuss] Scaling Rabbit
</A></li>
	<LI>Next message: <A HREF="012002.html">[rabbitmq-discuss] Scaling Rabbit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11999">[ date ]</a>
              <a href="thread.html#11999">[ thread ]</a>
              <a href="subject.html#11999">[ subject ]</a>
              <a href="author.html#11999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
