<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Client connect/disconnect events on the	server side
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20connect/disconnect%20events%20on%20the%0A%09server%20side&In-Reply-To=%3CAANLkTi%3D3tj1wmEx0XH0viLugRAAGzYF4sinv79uBVZ8N%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011840.html">
   <LINK REL="Next"  HREF="011785.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Client connect/disconnect events on the	server side</H1>
    <B>Benjamin Renaud</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20connect/disconnect%20events%20on%20the%0A%09server%20side&In-Reply-To=%3CAANLkTi%3D3tj1wmEx0XH0viLugRAAGzYF4sinv79uBVZ8N%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Client connect/disconnect events on the	server side">br at versly.com
       </A><BR>
    <I>Tue Mar 15 20:05:10 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011840.html">[rabbitmq-discuss] Client connect/disconnect events on the	server side
</A></li>
        <LI>Next message: <A HREF="011785.html">[rabbitmq-discuss] RabbitMQ client running behind a firewall
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11841">[ date ]</a>
              <a href="thread.html#11841">[ thread ]</a>
              <a href="subject.html#11841">[ subject ]</a>
              <a href="author.html#11841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthias,

Yes presence is a very application-specific bit of information.

Being notified of when a client connects or disconnect (even if rabbit
tries to auto-reconnect or other nice features under the covers) would
help application developers develop their own notion of presence.

In other words, rabbit is the one persistent connection we have to our
clients. When the rabbit connection disconnects or reconnects, Rabbit
is the only bit of software with that information.

Without having Rabbit interpret that information (let me do the
interpreting) it would be great to just know the information.

Benjamin

On Tue, Mar 15, 2011 at 12:02 PM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt; wrote:
&gt;<i> On 15/03/11 04:31, Deepak Vijayvergiy wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Miguel,
</I>&gt;&gt;<i> Even I have the same scenario, and I have my clients
</I>&gt;&gt;<i> announcing(publishing) their connect and disconnect at the time of
</I>&gt;&gt;<i> log-in and log-off resp. I have a deamon process running which is a pure
</I>&gt;&gt;<i> consumer listening on 'register.*'.
</I>&gt;&gt;<i> Would be interested to know if some better way exists.
</I>&gt;<i>
</I>&gt;<i> 'presence' is a highly application dependent concept. Support for it in the
</I>&gt;<i> messaging system itself could only accommodate a very restricted set of use
</I>&gt;<i> cases. So it's best handled by applications.
</I>&gt;<i>
</I>&gt;<i> One fairly generic and flexible way is to get clients to publish a presence
</I>&gt;<i> message every so often to some dedicated exchange. That message can contain
</I>&gt;<i> all kinds of application specific information, e.g. to identify the user,
</I>&gt;<i> what their status is, etc. An app can then consume these messages, update
</I>&gt;<i> some db with status information, send status change messages to clients
</I>&gt;<i> interested and authorised to see them (e.g. 'friends'). The app can also
</I>&gt;<i> detect the absence of the messages and mark the user as absent.
</I>&gt;<i>
</I>&gt;<i> In this scheme
</I>&gt;<i>
</I>&gt;<i> - the notion of presence is not tied to the lifetime of connections, or
</I>&gt;<i> queues, or bindings
</I>&gt;<i>
</I>&gt;<i> - the notion of users (or, more generally, 'the things of which we want to
</I>&gt;<i> know the presence') is not tied to that of AMQP users
</I>&gt;<i>
</I>&gt;<i> - presence can be more than just a flag, i.e. all kinds of complex status
</I>&gt;<i> information can be transmitted
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>


-- 
ben renaud
versly.com
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">br at versly.com</A>
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011840.html">[rabbitmq-discuss] Client connect/disconnect events on the	server side
</A></li>
	<LI>Next message: <A HREF="011785.html">[rabbitmq-discuss] RabbitMQ client running behind a firewall
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11841">[ date ]</a>
              <a href="thread.html#11841">[ thread ]</a>
              <a href="subject.html#11841">[ subject ]</a>
              <a href="author.html#11841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
