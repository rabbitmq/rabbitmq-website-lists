<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Unexpected server crash and .NET API: disconnect	is not detected?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unexpected%20server%20crash%20and%20.NET%20API%3A%20disconnect%0A%09is%20not%20detected%3F&In-Reply-To=%3C232ed03b-a76c-412a-958c-12292ca56636%4032g2000vbe.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012152.html">
   <LINK REL="Next"  HREF="012147.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Unexpected server crash and .NET API: disconnect	is not detected?</H1>
    <B>Alfonso</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unexpected%20server%20crash%20and%20.NET%20API%3A%20disconnect%0A%09is%20not%20detected%3F&In-Reply-To=%3C232ed03b-a76c-412a-958c-12292ca56636%4032g2000vbe.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Unexpected server crash and .NET API: disconnect	is not detected?">alfonso.pantoja at gmail.com
       </A><BR>
    <I>Wed Mar 30 15:43:37 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012152.html">[rabbitmq-discuss] Server error during queue.declare call
</A></li>
        <LI>Next message: <A HREF="012147.html">[rabbitmq-discuss] Unexpected server crash and .NET API: disconnect is not detected?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12144">[ date ]</a>
              <a href="thread.html#12144">[ thread ]</a>
              <a href="subject.html#12144">[ subject ]</a>
              <a href="author.html#12144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This is a difficult one: I've observed a couple of times that my
consumer (.NET API 2.2.0) doesn't notice when the server that is
running RabbitMQ (2.2.0) crashes.
Please note that I mean server crash -unexpected shutdown, OS crash,
etc.- not RabbitMQ crash.

My application is consuming from a queue using &quot;foreach&quot; to get the
messages and I has an event handler attached to the onShutdown event.
Time ago disconnection tests consisting of disconnecting the consumer
from the web admin console were made and the event handler was fired
always. So disconnections are caught and logged properly.

The problem is that the consumer got stuck when the server crashed and
it didn't notice that the connection was gone (due to a server crash)
so it was impossible to log a disconnection error.
In the code there is a while loop for reconnecting when the connection
fails but didn't loop because my guess is that the code were stuck in
the &quot;foreach&quot;.

Am I missing something or this could be and issue?


Alfonso








</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012152.html">[rabbitmq-discuss] Server error during queue.declare call
</A></li>
	<LI>Next message: <A HREF="012147.html">[rabbitmq-discuss] Unexpected server crash and .NET API: disconnect is not detected?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12144">[ date ]</a>
              <a href="thread.html#12144">[ thread ]</a>
              <a href="subject.html#12144">[ subject ]</a>
              <a href="author.html#12144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
