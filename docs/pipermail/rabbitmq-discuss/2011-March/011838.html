<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq-Shovel Timer-Based Publishing Possible?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq-Shovel%20Timer-Based%20Publishing%0A%20Possible%3F&In-Reply-To=%3CC9A4FBF5.34C5%25allen.kim%40epicadvertising.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011823.html">
   <LINK REL="Next"  HREF="011864.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq-Shovel Timer-Based Publishing Possible?</H1>
    <B>Allen Kim</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq-Shovel%20Timer-Based%20Publishing%0A%20Possible%3F&In-Reply-To=%3CC9A4FBF5.34C5%25allen.kim%40epicadvertising.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq-Shovel Timer-Based Publishing Possible?">allen.kim at epicadvertising.com
       </A><BR>
    <I>Tue Mar 15 15:33:03 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011823.html">[rabbitmq-discuss] Rabbitmq-Shovel Timer-Based Publishing	Possible?
</A></li>
        <LI>Next message: <A HREF="011864.html">[rabbitmq-discuss] Rabbitmq-Shovel Timer-Based Publishing	Possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11838">[ date ]</a>
              <a href="thread.html#11838">[ thread ]</a>
              <a href="subject.html#11838">[ subject ]</a>
              <a href="author.html#11838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Timer-based publish(shovel) means publishing on every seconds or minute
regardless of number of queue stacked.
In our case, if we publish only on based on number of queues, it will
publish very busy during day time and slowly at night.

The worst case that I see is it does not shovel when there is no queue
increasing.
I want queues shovelled every few seconds, guaranteed, so that other
cluser receive messages not too late.

Here I attached the custom shovel that we have used, which does
timer-based publish and queue-based publish both.

Hope you can see the attachment and also, hope I explains well.

Allen Kim


On 11-03-15 5:32 AM, &quot;Matthias Radestock&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt; wrote:

&gt;<i>Allen,
</I>&gt;<i>
</I>&gt;<i>On 11/03/11 15:40, Allen Kim wrote:
</I>&gt;&gt;<i> We are planning to switch to new shovel plugin comes with 2.3.1, and
</I>&gt;&gt;<i> currently testing on it.
</I>&gt;&gt;<i> It works great, but I miss timer-based publish, which is very useful in
</I>&gt;&gt;<i> the midnight with low number of message.
</I>&gt;<i>
</I>&gt;<i>Can you explain what you mean by &quot;timer-based publish&quot; in the context of
</I>&gt;<i>the shovel?
</I>&gt;<i>
</I>&gt;<i>Regards,
</I>&gt;<i>
</I>&gt;<i>Matthias.
</I>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rabbit_shovel_queue_watcher.erl
Type: application/octet-stream
Size: 6653 bytes
Desc: rabbit_shovel_queue_watcher.erl
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110315/d89fee54/attachment.obj">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110315/d89fee54/attachment.obj</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011823.html">[rabbitmq-discuss] Rabbitmq-Shovel Timer-Based Publishing	Possible?
</A></li>
	<LI>Next message: <A HREF="011864.html">[rabbitmq-discuss] Rabbitmq-Shovel Timer-Based Publishing	Possible?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11838">[ date ]</a>
              <a href="thread.html#11838">[ thread ]</a>
              <a href="subject.html#11838">[ subject ]</a>
              <a href="author.html#11838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
