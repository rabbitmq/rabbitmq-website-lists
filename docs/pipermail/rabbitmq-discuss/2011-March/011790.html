<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] 2.0: The Future of Pika
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%202.0%3A%20The%20Future%20of%20Pika&In-Reply-To=%3CAANLkTika5QsVvOaEOvJvX6A%3DeFrTOE5Hk9PSSZi_MsEa%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011787.html">
   <LINK REL="Next"  HREF="011780.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] 2.0: The Future of Pika</H1>
    <B>Jakub &#352;&#357;astn&#253;</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%202.0%3A%20The%20Future%20of%20Pika&In-Reply-To=%3CAANLkTika5QsVvOaEOvJvX6A%3DeFrTOE5Hk9PSSZi_MsEa%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] 2.0: The Future of Pika">stastny at 101ideas.cz
       </A><BR>
    <I>Mon Mar 14 11:43:10 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011787.html">[rabbitmq-discuss] 2.0: The Future of Pika
</A></li>
        <LI>Next message: <A HREF="011780.html">[rabbitmq-discuss] queue supervisor and recovery takes 10 mins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11790">[ date ]</a>
              <a href="thread.html#11790">[ thread ]</a>
              <a href="subject.html#11790">[ subject ]</a>
              <a href="author.html#11790">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just a technical note about Ruby and EventMachine, I would not say
it's treated as a core part of the ruby framework. There are some libraries
(not many though) which are EventMachine-only, like current AMQP gem, but
it's just because it's hard to write library which can run asynchronously
with EventMachine a well as synchronously without it. So it's probably the
same as in Python with Twisted, I guess.

Jakub

<A HREF="http://www.flickr.com/photos/jakub-stastny">http://www.flickr.com/photos/jakub-stastny</A>
<A HREF="http://twitter.com/botanicus">http://twitter.com/botanicus</A>



On 14 March 2011 10:27, Marek Majkowski &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">majek04 at gmail.com</A>&gt; wrote:

&gt;<i> On Sat, Mar 12, 2011 at 23:12, Gavin M. Roy &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">gmr at myyearbook.com</A>&gt; wrote:
</I>&gt;<i> [...]
</I>&gt;<i> &gt; The basic sentiment I've picked up on is that
</I>&gt;<i> &gt; Callback Passing Style (CPS) is not currently in favor in the Python
</I>&gt;<i> &gt; community.
</I>&gt;<i>
</I>&gt;<i> It never has been. That's why Twisted is still perceived as a separate
</I>&gt;<i> library (as opposed to, for example EventMachine for ruby, which
</I>&gt;<i> often is treated as a core part of the ruby framework).
</I>&gt;<i>
</I>&gt;<i> &gt; The roadmap for changes to Pika 2.0:
</I>&gt;<i> [...]
</I>&gt;<i> &gt; - Remove existing connection adapter system
</I>&gt;<i> &gt; - Implement new pattern for use, behavior based use focused on
</I>&gt;<i> &gt; both Asynchronous callback passing style and &quot;Pythonic&quot; development.
</I>&gt;<i> &gt;   - Both behaviors available from the same API calling same classes and
</I>&gt;<i> &gt; methods
</I>&gt;<i> &gt;   - Async:
</I>&gt;<i> &gt;     - Merge existing connections into one connection system with IOLoop
</I>&gt;<i> &gt; override
</I>&gt;<i> &gt;       - Supporting internal IOLoop, tornado, twisted
</I>&gt;<i> &gt;   - Pythonic:
</I>&gt;<i> &gt;     - high-level blocking on synchronous AMQP commands
</I>&gt;<i> &gt;     - Generator for receiving messages from Basic.Publish
</I>&gt;<i>
</I>&gt;<i> That's a quite interesting approach. But non-trivial python
</I>&gt;<i> generators are hard to compose. Beware.
</I>&gt;<i>
</I>&gt;<i> &gt; - API notation closer to AMQP spec for implementation.
</I>&gt;<i>
</I>&gt;<i> Sounds good.
</I>&gt;<i>
</I>&gt;<i> &gt; - *.*Ok frames will only be passed back in CPS use.
</I>&gt;<i>
</I>&gt;<i> That means using 'no-wait' whenever possible.
</I>&gt;<i> But what if the thing will crash a channel
</I>&gt;<i> (trigger an amqp channel-error). How would you notify
</I>&gt;<i> a user that the channel can't be used any more?
</I>&gt;<i>
</I>&gt;<i> For example: queue.unbind() with bad parameters may
</I>&gt;<i> trigger a channel-wide NotFound error.
</I>&gt;<i>
</I>&gt;<i> [...]
</I>&gt;<i> &gt; I am looking for feedback on this direction. Do these changes and the
</I>&gt;<i> &gt; example make sense to existing Pika and RabbitMQ uses?  Would you change
</I>&gt;<i> &gt; anything about this direction? What would you improve?
</I>&gt;<i>
</I>&gt;<i> You may find this inspiring:
</I>&gt;<i> <A HREF="https://github.com/ask/kombu/blob/master/examples/complete_receive.py#L39">https://github.com/ask/kombu/blob/master/examples/complete_receive.py#L39</A>
</I>&gt;<i> <A HREF="https://github.com/majek/puka/blob/master/examples/stress_amqp.py#L60-62">https://github.com/majek/puka/blob/master/examples/stress_amqp.py#L60-62</A>
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>  Marek
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110314/87d33bca/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110314/87d33bca/attachment.htm</A>&gt;
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011787.html">[rabbitmq-discuss] 2.0: The Future of Pika
</A></li>
	<LI>Next message: <A HREF="011780.html">[rabbitmq-discuss] queue supervisor and recovery takes 10 mins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11790">[ date ]</a>
              <a href="thread.html#11790">[ thread ]</a>
              <a href="subject.html#11790">[ subject ]</a>
              <a href="author.html#11790">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
