<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Performance and scalability measurement with my publisher-subscriber clients testing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20and%20scalability%20measurement%20with%0A%20my%20publisher-subscriber%20clients%20testing&In-Reply-To=%3CD74E9E6B-16C5-4E5B-88AC-F7751273F397%40yahoo-inc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011852.html">
   <LINK REL="Next"  HREF="011855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Performance and scalability measurement with my publisher-subscriber clients testing</H1>
    <B>Deepak Vijayvergiy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20and%20scalability%20measurement%20with%0A%20my%20publisher-subscriber%20clients%20testing&In-Reply-To=%3CD74E9E6B-16C5-4E5B-88AC-F7751273F397%40yahoo-inc.com%3E"
       TITLE="[rabbitmq-discuss] Performance and scalability measurement with my publisher-subscriber clients testing">vdeepak at yahoo-inc.com
       </A><BR>
    <I>Wed Mar 16 12:06:28 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011852.html">[rabbitmq-discuss] Performance and scalability measurement with my publisher-subscriber clients testing
</A></li>
        <LI>Next message: <A HREF="011855.html">[rabbitmq-discuss] Performance and scalability measurement with my publisher-subscriber clients testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11853">[ date ]</a>
              <a href="thread.html#11853">[ thread ]</a>
              <a href="subject.html#11853">[ subject ]</a>
              <a href="author.html#11853">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Marek for the good points.
I am thinking of having 1 publisher and a few consumers consuming from the same queue, so that I don't get queue full (as publisher will be faster than subscriber).
In that scenario, I will try to publish messages continuously and see the rate of publisher as well as consumer, and while mentioning the performance numbers, will give the setup details as well.

Also, another question regarding the rabbitmq queue space, I see that its limited to 1.58 GB, is that the size on the  disk by default or its the RAM size?
How shall I configure it if I want to increase it?

Thanks
Regards
Deepak

On Mar 16, 2011, at 5:26 PM, Marek Majkowski wrote:

&gt;<i> On Wed, Mar 9, 2011 at 10:26, Deepak Vijayvergiy &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">vdeepak at yahoo-inc.com</A>&gt; wrote:
</I>&gt;&gt;<i> I have created the framework for publisher-subscriber and created publisher and consumer clients for basic testing as well. Now, I also want to test the performance as well, as in, I want to give the numbers like -
</I>&gt;&gt;<i> (1) How many messages, my publisher client will be able to publish per second or rate?
</I>&gt;&gt;<i> (2) How many messages my consumer will be able to consume (per second) .. rate? (a) with messages already in the queue (b) parallely publishing as well
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Earlier I have tried doing same by some time functions before and after 1 and last mess respectively, but I don't think that was a proper way. Please let me know if you have done the same measurement?
</I>&gt;<i> 
</I>&gt;<i> We do have a tool for doing simple measurements, see MulticastMain
</I>&gt;<i> in our java client.  Sample usage:
</I>&gt;<i>   <A HREF="http://www.rabbitmq.com/ec2.html#testing">http://www.rabbitmq.com/ec2.html#testing</A>
</I>&gt;<i> (dig the mailing list archives for more examples)
</I>&gt;<i> 
</I>&gt;<i> Doing benchmarks properly, even as simple as you described, is pretty hard.
</I>&gt;<i> 
</I>&gt;<i> With 1) you will measure performance of the client. Unless you're using
</I>&gt;<i> publisher-acks.
</I>&gt;<i> 
</I>&gt;<i> 2) It all depends, if data in-memory or on the disk, is it cached by the OS,
</I>&gt;<i> how big is the queue, how many queues are handled by rabbit and so on.
</I>&gt;<i> 
</I>&gt;<i> 2b) That one is quite interesting, but you have to be very careful to keep
</I>&gt;<i> the queue balanced. Publishing is usually faster than consuming.
</I>&gt;<i> 
</I>&gt;<i> Rabbit is not a rocket science and there are some significant bottlenecks.
</I>&gt;<i> If you start swapping to disk or if you use persistent messages -
</I>&gt;<i> things will be much slower.
</I>&gt;<i> 
</I>&gt;<i> Usually the best approach is to test the whole solution end-to-end
</I>&gt;<i> rather than focusing on dry RabbitMQ benchmarks. That way you can
</I>&gt;<i> be sure that the numbers actually mean something you're interested
</I>&gt;<i> in. Raw benchmarks like publishes/sec or consumes/sec doesn't
</I>&gt;<i> say anything useful.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i>  Marek
</I>
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011852.html">[rabbitmq-discuss] Performance and scalability measurement with my publisher-subscriber clients testing
</A></li>
	<LI>Next message: <A HREF="011855.html">[rabbitmq-discuss] Performance and scalability measurement with my publisher-subscriber clients testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11853">[ date ]</a>
              <a href="thread.html#11853">[ thread ]</a>
              <a href="subject.html#11853">[ subject ]</a>
              <a href="author.html#11853">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
