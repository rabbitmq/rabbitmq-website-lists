<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Good way to pause a consumer?  (java)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Good%20way%20to%20pause%20a%20consumer%3F%20%20%28java%29&In-Reply-To=%3C20110307173330.GJ32306%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011675.html">
   <LINK REL="Next"  HREF="011647.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Good way to pause a consumer?  (java)</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Good%20way%20to%20pause%20a%20consumer%3F%20%20%28java%29&In-Reply-To=%3C20110307173330.GJ32306%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Good way to pause a consumer?  (java)">matthew at rabbitmq.com
       </A><BR>
    <I>Mon Mar  7 17:33:30 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011675.html">[rabbitmq-discuss] Good way to pause a consumer?  (java)
</A></li>
        <LI>Next message: <A HREF="011647.html">[rabbitmq-discuss] RabbitMQ insights
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11677">[ date ]</a>
              <a href="thread.html#11677">[ thread ]</a>
              <a href="subject.html#11677">[ subject ]</a>
              <a href="author.html#11677">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Mar 07, 2011 at 09:16:05AM -0800, Fox, Brian wrote:
&gt;<i> Is there a way to pause a consumer in the Java 2.3.1 client?  
</I>
Yes, but that's not really what you want...

&gt;<i> The idea is to evenly consume messages from a queue using a distributed system of many consumers.  As it stands, I think the consumer with the best network connection will consume the most messages, which is bad if that system is CPU bound.
</I>&gt;<i> 
</I>&gt;<i> Any ideas on preventing this?  I tried autoAck false without any apparent effect. 
</I>
Use a lowish basic.qos value (e.g. 10 or less), then consume, and don't
set noAck (i.e. ack manually, after processing each message). That'll
ensure that messages are evenly distributed to consumers as they work
through their backlog, and no consumer gets flooded with work to do,
regardless of their network.

Matthew
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011675.html">[rabbitmq-discuss] Good way to pause a consumer?  (java)
</A></li>
	<LI>Next message: <A HREF="011647.html">[rabbitmq-discuss] RabbitMQ insights
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11677">[ date ]</a>
              <a href="thread.html#11677">[ thread ]</a>
              <a href="subject.html#11677">[ subject ]</a>
              <a href="author.html#11677">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
