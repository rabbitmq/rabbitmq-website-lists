<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Client IP based user login permissions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20IP%20based%20user%20login%20permissions&In-Reply-To=%3C12162749.351.1299861805836.JavaMail.geo-discussion-forums%40vbbfl13%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011761.html">
   <LINK REL="Next"  HREF="011807.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Client IP based user login permissions</H1>
    <B>Oren Shomron</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20IP%20based%20user%20login%20permissions&In-Reply-To=%3C12162749.351.1299861805836.JavaMail.geo-discussion-forums%40vbbfl13%3E"
       TITLE="[rabbitmq-discuss] Client IP based user login permissions">shomron at gmail.com
       </A><BR>
    <I>Fri Mar 11 16:43:25 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011761.html">[rabbitmq-discuss] Client IP based user login permissions
</A></li>
        <LI>Next message: <A HREF="011807.html">[rabbitmq-discuss] Client IP based user login permissions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11766">[ date ]</a>
              <a href="thread.html#11766">[ thread ]</a>
              <a href="subject.html#11766">[ subject ]</a>
              <a href="author.html#11766">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Simon,

My use case is something like this:

I'm working on a distributed system, which consists of externally facing 
HTTP servers that can kick off events through RabbitMQ, as well as 
internally facing components which need to react to those external events 
but also send internal privileged events to each other.

I am trying to protect against a situation where a compromised external HTTP 
server could send privileged events  to our internal components.

Right now I have created two users and two exchanges, one for internal and 
one external.

The external user can only post to the external exchange. I have an internal 
component bound to the external exchange which performs validation on those 
incoming events before forwarding them on to the internal exchange. The rest 
of the internal components only bind to the internal exchange and know that 
the events they receive have been validated.

I would like another line of defense - if the external machine were 
compromised and the internal rabbit user's credentials were stolen somehow, 
there's nothing stopping that external machine from using those internal 
credentials and compromising the whole system. The firewall allows that 
machine to talk to RabbitMQ, but no one is enforcing that only the correct, 
limited user can log in over that channel.

The only way I see of doing it right now would be to have completely 
separate RabbitMQ instances, and have that validation component talk to both 
instances and forward between them, but this would increase complexity.

Let me know if that makes any sense.

Thanks in advance!
  - Oren
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110311/3456f98c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110311/3456f98c/attachment.htm</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011761.html">[rabbitmq-discuss] Client IP based user login permissions
</A></li>
	<LI>Next message: <A HREF="011807.html">[rabbitmq-discuss] Client IP based user login permissions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11766">[ date ]</a>
              <a href="thread.html#11766">[ thread ]</a>
              <a href="subject.html#11766">[ subject ]</a>
              <a href="author.html#11766">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
