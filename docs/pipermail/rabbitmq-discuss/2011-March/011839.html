<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Client connect/disconnect events on the	server side
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20connect/disconnect%20events%20on%0A%20the%09server%20side&In-Reply-To=%3C4D7FB7C9.8010205%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011817.html">
   <LINK REL="Next"  HREF="011840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Client connect/disconnect events on the	server side</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20connect/disconnect%20events%20on%0A%20the%09server%20side&In-Reply-To=%3C4D7FB7C9.8010205%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Client connect/disconnect events on the	server side">matthias at rabbitmq.com
       </A><BR>
    <I>Tue Mar 15 19:02:33 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011817.html">[rabbitmq-discuss] Client connect/disconnect events on	the	server side
</A></li>
        <LI>Next message: <A HREF="011840.html">[rabbitmq-discuss] Client connect/disconnect events on the	server side
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11839">[ date ]</a>
              <a href="thread.html#11839">[ thread ]</a>
              <a href="subject.html#11839">[ subject ]</a>
              <a href="author.html#11839">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 15/03/11 04:31, Deepak Vijayvergiy wrote:
&gt;<i> Hi Miguel,
</I>&gt;<i> Even I have the same scenario, and I have my clients
</I>&gt;<i> announcing(publishing) their connect and disconnect at the time of
</I>&gt;<i> log-in and log-off resp. I have a deamon process running which is a pure
</I>&gt;<i> consumer listening on 'register.*'.
</I>&gt;<i> Would be interested to know if some better way exists.
</I>
'presence' is a highly application dependent concept. Support for it in 
the messaging system itself could only accommodate a very restricted set 
of use cases. So it's best handled by applications.

One fairly generic and flexible way is to get clients to publish a 
presence message every so often to some dedicated exchange. That message 
can contain all kinds of application specific information, e.g. to 
identify the user, what their status is, etc. An app can then consume 
these messages, update some db with status information, send status 
change messages to clients interested and authorised to see them (e.g. 
'friends'). The app can also detect the absence of the messages and mark 
the user as absent.

In this scheme

- the notion of presence is not tied to the lifetime of connections, or 
queues, or bindings

- the notion of users (or, more generally, 'the things of which we want 
to know the presence') is not tied to that of AMQP users

- presence can be more than just a flag, i.e. all kinds of complex 
status information can be transmitted


Regards,

Matthias.
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011817.html">[rabbitmq-discuss] Client connect/disconnect events on	the	server side
</A></li>
	<LI>Next message: <A HREF="011840.html">[rabbitmq-discuss] Client connect/disconnect events on the	server side
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11839">[ date ]</a>
              <a href="thread.html#11839">[ thread ]</a>
              <a href="subject.html#11839">[ subject ]</a>
              <a href="author.html#11839">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
