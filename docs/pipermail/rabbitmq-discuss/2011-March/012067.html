<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] server crashes with very fast consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20server%20crashes%20with%20very%20fast%20consumers&In-Reply-To=%3C66F360D5-AB78-4FEC-9874-592CF12F602B%40vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011966.html">
   <LINK REL="Next"  HREF="012069.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] server crashes with very fast consumers</H1>
    <B>John DeTreville</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20server%20crashes%20with%20very%20fast%20consumers&In-Reply-To=%3C66F360D5-AB78-4FEC-9874-592CF12F602B%40vmware.com%3E"
       TITLE="[rabbitmq-discuss] server crashes with very fast consumers">jdetreville at vmware.com
       </A><BR>
    <I>Sun Mar 27 19:46:19 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011966.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
        <LI>Next message: <A HREF="012069.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12067">[ date ]</a>
              <a href="thread.html#12067">[ thread ]</a>
              <a href="subject.html#12067">[ subject ]</a>
              <a href="author.html#12067">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alex,

I apologize for the delay in getting back to you.

I'm running your updated tests. I had to make small changes to your declare.sh, publish.sh and consume.sh to make them work when run from a directory other than $AMQP_UTIL_DIR. (I've attached the changes.) I also had to do an initial &quot;sudo make install&quot; from rabbitmq-c.

When I run run.sh, it fails to fork some of the producers and some of the consumers because of Unix kernel limitations, which also cause some of the commands in common.sh to fail. I'm assuming for the moment that these failures are not affecting the tests.

That said, the tests are not failing. This is not too surprising since the machine I'm running them on is rather slow. (Each of the producers and consumers is managing a little under 2 msgs/second.)

My more modern computer on which I usually run tests is out for repairs. Once I get it back, I'll rerun these tests and see if I can reproduce your problem.

Cheers,
John

-------------- next part --------------
A non-text attachment was scrubbed...
Name: consume.sh
Type: application/octet-stream
Size: 225 bytes
Desc: consume.sh
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment.obj">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment.obj</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: declare.sh
Type: application/octet-stream
Size: 227 bytes
Desc: declare.sh
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment-0001.obj">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment-0001.obj</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment-0001.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: publish.sh
Type: application/octet-stream
Size: 318 bytes
Desc: publish.sh
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment-0002.obj">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment-0002.obj</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment-0002.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110327/5c3f427e/attachment-0002.htm</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011966.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
	<LI>Next message: <A HREF="012069.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12067">[ date ]</a>
              <a href="thread.html#12067">[ thread ]</a>
              <a href="subject.html#12067">[ subject ]</a>
              <a href="author.html#12067">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
