<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22local%20queue%22%20....%22remote%20queue%22&In-Reply-To=%3CAANLkTi%3DKG4x9MLRXpkNrbDXOQbU5oRusPHT79kphbNgp%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012083.html">
   <LINK REL="Next"  HREF="012037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;</H1>
    <B>bruce bushby</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22local%20queue%22%20....%22remote%20queue%22&In-Reply-To=%3CAANLkTi%3DKG4x9MLRXpkNrbDXOQbU5oRusPHT79kphbNgp%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;">bruce.bushby at gmail.com
       </A><BR>
    <I>Tue Mar 29 15:26:10 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012083.html">[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;
</A></li>
        <LI>Next message: <A HREF="012037.html">[rabbitmq-discuss] AMQP 1.0 implementation release plans
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12111">[ date ]</a>
              <a href="thread.html#12111">[ thread ]</a>
              <a href="subject.html#12111">[ subject ]</a>
              <a href="author.html#12111">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthew

&quot;....shovel plugin&quot; sounds very interesting and from what you've
described....exactly what I'm after, thank you!

I'll look into it tonight and update the discussion with any success!

Bruce





On Mon, Mar 28, 2011 at 5:50 PM, Matthew Sackman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at rabbitmq.com</A>&gt;wrote:

&gt;<i> Hi Bruce,
</I>&gt;<i>
</I>&gt;<i> On Fri, Mar 25, 2011 at 12:05:46PM +0000, bruce bushby wrote:
</I>&gt;<i> &gt; I was wondering what others are doing with regards to &quot;queuing&quot; local
</I>&gt;<i> &gt; messages for deliver when the network is available.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; From my limited experience playing to &quot;rabbitmq-c client&quot; and Python
</I>&gt;<i> &quot;pika&quot;,
</I>&gt;<i> &gt; their focus is the ability to deliver a message immediately and report an
</I>&gt;<i> &gt; error if they cannot contact the server.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Implementing messaging from a M2M platform, there will be times when
</I>&gt;<i> there
</I>&gt;<i> &gt; is no communication between the client and the server...but the
</I>&gt;<i> application
</I>&gt;<i> &gt; may still want to submit messages which should be queued until such time
</I>&gt;<i> as
</I>&gt;<i> &gt; the &quot;local queue&quot; so to speak can contact the server and delivery the
</I>&gt;<i> &gt; messages.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In summary, leaving the &quot;retry/retransmission&quot; of message to the
</I>&gt;<i> &gt; messaging infrastructure...rather then have the application monitor/poll
</I>&gt;<i> &gt; connectivity to the server.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is something like this possible?
</I>&gt;<i>
</I>&gt;<i> Yes. What we recommend is that you have Rabbit installed locally, and
</I>&gt;<i> then configure it with the shovel plugin which will periodically try to
</I>&gt;<i> connect to the &quot;downstream&quot; Rabbit and send the messages out. One nice
</I>&gt;<i> way to configure this is to have the same exchange name on the local and
</I>&gt;<i> remote broker, but on the local, it's a fanout. On the remote it can be
</I>&gt;<i> whatever you need it to be. Then, the shovel, local, can just create a
</I>&gt;<i> single queue and catch everything sent to the local exchange. When it
</I>&gt;<i> connects to the downstream remote broker, it'll republish the msgs to
</I>&gt;<i> the same exchange name, but because the type of the exchange there can
</I>&gt;<i> be different, all sorts of other routing decisions can take place as
</I>&gt;<i> needed. I.e. it ensures that the local broker topology can be as simple
</I>&gt;<i> as possible (one exchange, one queue, one shovel).
</I>&gt;<i>
</I>&gt;<i> Matthew
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110329/1986fac6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110329/1986fac6/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012083.html">[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;
</A></li>
	<LI>Next message: <A HREF="012037.html">[rabbitmq-discuss] AMQP 1.0 implementation release plans
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12111">[ date ]</a>
              <a href="thread.html#12111">[ thread ]</a>
              <a href="subject.html#12111">[ subject ]</a>
              <a href="author.html#12111">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
