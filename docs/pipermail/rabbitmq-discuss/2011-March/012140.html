<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to define a timeout on jsonRpcClient	calls
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20define%20a%20timeout%20on%20jsonRpcClient%0A%09calls&In-Reply-To=%3C4D93363D.7070403%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012139.html">
   <LINK REL="Next"  HREF="012142.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to define a timeout on jsonRpcClient	calls</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20define%20a%20timeout%20on%20jsonRpcClient%0A%09calls&In-Reply-To=%3C4D93363D.7070403%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] How to define a timeout on jsonRpcClient	calls">emile at rabbitmq.com
       </A><BR>
    <I>Wed Mar 30 14:55:09 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012139.html">[rabbitmq-discuss] How to define a timeout on jsonRpcClient	calls
</A></li>
        <LI>Next message: <A HREF="012142.html">[rabbitmq-discuss] How to define a timeout on jsonRpcClient	calls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12140">[ date ]</a>
              <a href="thread.html#12140">[ thread ]</a>
              <a href="subject.html#12140">[ subject ]</a>
              <a href="author.html#12140">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 30/03/11 14:28, mysurf mail wrote:
&gt;<i> Hi All,
</I>&gt;<i> Still regarding the JsonRpc
</I>&gt;<i> 1. I would also love to control the  json rpc channel properties -
</I>&gt;<i> mainly autodelete.
</I>
The RpcClient already creates autodelete queues. See the 
RpcClient.setupReplyQueue() method.

&gt;<i> You see, the queues of JSONRpcClient are not deleted when the client go of.
</I>&gt;<i> and since they clients queue name is randomly given, the queues are
</I>&gt;<i> packed each restart.
</I>
The queues contain RPC replies are autodelete queues and should 
disappear when no longer required. If they are not being deleted then 
the associated consumer is probably still connected. You can use the 
&quot;rabbitmqctl list_consumers&quot; command to confirm.

&gt;<i> 2. in the example = client server constructor
</I>&gt;<i> HelloJSonClient - jsonrpc client gets Hello in the routing key
</I>&gt;<i> HelloJsonServer - jsonrpc server gets Hello in the queuename
</I>&gt;<i>
</I>&gt;<i> Why should the routing key in the client be assigned? where is the
</I>&gt;<i> connection between the two?
</I>&gt;<i> Shouldn't it be autogenereated like the queue name in the client side?
</I>&gt;<i> thanks.
</I>
In the example, the &quot;Hello&quot; queue is created by the server. The server 
listens for requests in this queue. It is possible to use a 
server-generated queue name, but that would demand that the server 
communicates the random name to the client by some other means before 
they can exchange information. It is more convenient for the client and 
server to agree on a name beforehand and use that.

Regards

Emile
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012139.html">[rabbitmq-discuss] How to define a timeout on jsonRpcClient	calls
</A></li>
	<LI>Next message: <A HREF="012142.html">[rabbitmq-discuss] How to define a timeout on jsonRpcClient	calls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12140">[ date ]</a>
              <a href="thread.html#12140">[ thread ]</a>
              <a href="subject.html#12140">[ subject ]</a>
              <a href="author.html#12140">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
