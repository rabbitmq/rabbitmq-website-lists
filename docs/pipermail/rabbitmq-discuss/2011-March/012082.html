<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22local%20queue%22%20....%22remote%20queue%22&In-Reply-To=%3C20110328165050.GG18713%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012050.html">
   <LINK REL="Next"  HREF="012083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22local%20queue%22%20....%22remote%20queue%22&In-Reply-To=%3C20110328165050.GG18713%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;">matthew at rabbitmq.com
       </A><BR>
    <I>Mon Mar 28 17:50:50 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012050.html">[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;
</A></li>
        <LI>Next message: <A HREF="012083.html">[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12082">[ date ]</a>
              <a href="thread.html#12082">[ thread ]</a>
              <a href="subject.html#12082">[ subject ]</a>
              <a href="author.html#12082">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Bruce,

On Fri, Mar 25, 2011 at 12:05:46PM +0000, bruce bushby wrote:
&gt;<i> I was wondering what others are doing with regards to &quot;queuing&quot; local
</I>&gt;<i> messages for deliver when the network is available.
</I>&gt;<i> 
</I>&gt;<i> From my limited experience playing to &quot;rabbitmq-c client&quot; and Python &quot;pika&quot;,
</I>&gt;<i> their focus is the ability to deliver a message immediately and report an
</I>&gt;<i> error if they cannot contact the server.
</I>&gt;<i> 
</I>&gt;<i> Implementing messaging from a M2M platform, there will be times when there
</I>&gt;<i> is no communication between the client and the server...but the application
</I>&gt;<i> may still want to submit messages which should be queued until such time as
</I>&gt;<i> the &quot;local queue&quot; so to speak can contact the server and delivery the
</I>&gt;<i> messages.
</I>&gt;<i> 
</I>&gt;<i> In summary, leaving the &quot;retry/retransmission&quot; of message to the
</I>&gt;<i> messaging infrastructure...rather then have the application monitor/poll
</I>&gt;<i> connectivity to the server.
</I>&gt;<i> 
</I>&gt;<i> Is something like this possible?
</I>
Yes. What we recommend is that you have Rabbit installed locally, and
then configure it with the shovel plugin which will periodically try to
connect to the &quot;downstream&quot; Rabbit and send the messages out. One nice
way to configure this is to have the same exchange name on the local and
remote broker, but on the local, it's a fanout. On the remote it can be
whatever you need it to be. Then, the shovel, local, can just create a
single queue and catch everything sent to the local exchange. When it
connects to the downstream remote broker, it'll republish the msgs to
the same exchange name, but because the type of the exchange there can
be different, all sorts of other routing decisions can take place as
needed. I.e. it ensures that the local broker topology can be as simple
as possible (one exchange, one queue, one shovel).

Matthew
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012050.html">[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;
</A></li>
	<LI>Next message: <A HREF="012083.html">[rabbitmq-discuss] &quot;local queue&quot; ....&quot;remote queue&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12082">[ date ]</a>
              <a href="thread.html#12082">[ thread ]</a>
              <a href="subject.html#12082">[ subject ]</a>
              <a href="author.html#12082">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
