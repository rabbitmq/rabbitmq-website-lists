<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Losing messages, why?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Losing%20messages%2C%20why%3F&In-Reply-To=%3C4D6DFB7D.9060401%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011565.html">
   <LINK REL="Next"  HREF="011577.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Losing messages, why?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Losing%20messages%2C%20why%3F&In-Reply-To=%3C4D6DFB7D.9060401%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Losing messages, why?">matthias at rabbitmq.com
       </A><BR>
    <I>Wed Mar  2 08:10:37 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011565.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
        <LI>Next message: <A HREF="011577.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11572">[ date ]</a>
              <a href="thread.html#11572">[ thread ]</a>
              <a href="subject.html#11572">[ subject ]</a>
              <a href="author.html#11572">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias Radestock wrote:
&gt;<i> Anyway, next step is to look at some traces.
</I>
Actually, you could try something simpler first. Run

rabbitmqctl list_connections peer_address peer_port state send_oct 
send_cnt send_pend

Identify the worker connections (shouldn't be hard since you said they 
are all local) and check on the send_* counts. Keep running that command 
every few seconds. You should see the send_oct and send_cnt going up, 
indicating that the server is sending messages to the worker. And 
send_pend should generally be 0, with the occasional blip.

When the system gets into the problematic state where you think workers 
are no longer receiving messages, repeat the above and check whether any 
of the counts have stopped moving.

Regards,

Matthias.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011565.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
	<LI>Next message: <A HREF="011577.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11572">[ date ]</a>
              <a href="thread.html#11572">[ thread ]</a>
              <a href="subject.html#11572">[ subject ]</a>
              <a href="author.html#11572">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
