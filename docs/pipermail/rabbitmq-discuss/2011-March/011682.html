<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmqctl list_queues explanation needed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmqctl%20list_queues%20explanation%20needed&In-Reply-To=%3CFF4FA520-0221-4DEB-9C68-2B62C42EF252%40shopsocially.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011688.html">
   <LINK REL="Next"  HREF="011683.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmqctl list_queues explanation needed</H1>
    <B>Sunil Arora</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmqctl%20list_queues%20explanation%20needed&In-Reply-To=%3CFF4FA520-0221-4DEB-9C68-2B62C42EF252%40shopsocially.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmqctl list_queues explanation needed">sunil at shopsocially.com
       </A><BR>
    <I>Tue Mar  8 07:02:38 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011688.html">[rabbitmq-discuss] helloworld java and .net
</A></li>
        <LI>Next message: <A HREF="011683.html">[rabbitmq-discuss] rabbitmqctl list_queues explanation needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11682">[ date ]</a>
              <a href="thread.html#11682">[ thread ]</a>
              <a href="subject.html#11682">[ subject ]</a>
              <a href="author.html#11682">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi folks,

We are trying to determine what is going under the hood in our rabbitmq server because It because unresponsive last night and we have to restart it. When I say unresponsive, it means it was no longer accepting AMQP connections from our webservers.

When we run following command:

/usr/sbin/rabbitmqctl list_queues name memory messages messages_unacknowledged consumers

We see a stream of output given as follows which has around 10K entries.

.......
.......
b9e5e34bcb6c46229baf5bfdfc0deb81	21688	1	0	0
bf52747edf2a4b1dbe919a0439bc03fa	21688	1	0	0
39254dd407374dba9dd9f67fc7157613	21688	1	0	0
7bc47977255e4414a975bbdfc9fbc7d3	21688	1	0	0


Now, I do not understand why memory is being consumed if  messages are acknowledged already. Our expectation is once the message has been delivered and consumed, ack'd, it should not consume any memory in the system.

Are we reading this correctly ??

Is there any configuration to flush these messages?

We are using 2.3.1 version of rabbitmq on ubuntu server.

Thanks
Sunil
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011688.html">[rabbitmq-discuss] helloworld java and .net
</A></li>
	<LI>Next message: <A HREF="011683.html">[rabbitmq-discuss] rabbitmqctl list_queues explanation needed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11682">[ date ]</a>
              <a href="thread.html#11682">[ thread ]</a>
              <a href="subject.html#11682">[ subject ]</a>
              <a href="author.html#11682">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
