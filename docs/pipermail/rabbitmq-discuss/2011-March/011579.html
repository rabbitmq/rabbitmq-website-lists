<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Maximum Frame Setting Not Working
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Maximum%20Frame%20Setting%20Not%20Working&In-Reply-To=%3C4D6E1FD8.6010306%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011567.html">
   <LINK REL="Next"  HREF="011537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Maximum Frame Setting Not Working</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Maximum%20Frame%20Setting%20Not%20Working&In-Reply-To=%3C4D6E1FD8.6010306%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Maximum Frame Setting Not Working">emile at rabbitmq.com
       </A><BR>
    <I>Wed Mar  2 10:45:44 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011567.html">[rabbitmq-discuss] Maximum Frame Setting Not Working
</A></li>
        <LI>Next message: <A HREF="011537.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11579">[ date ]</a>
              <a href="thread.html#11579">[ thread ]</a>
              <a href="subject.html#11579">[ subject ]</a>
              <a href="author.html#11579">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Rom,

On 02/03/11 02:14, Rom wrote:
&gt;<i> Hi Emile,
</I>&gt;<i>
</I>&gt;<i> Thank you for the clarification. I did see this error in the log file.
</I>&gt;<i> I'm exploring rabbitmq to be our messaging platform that handles heavy
</I>&gt;<i> and very light payloads. There might be a node that will be dedicated
</I>&gt;<i> to processing mobile data which is very light and so I was thinking
</I>&gt;<i> that it might be a good idea to reduce the default frame size. Just a
</I>&gt;<i> thought.
</I>
The setRequestedFrameMax() method negotiates the *maximum* frame size, 
not the default. AMQP peers may exchange tiny frames containing tiny 
payloads, even at the default framemax of 128Kb.

Setting the framemax to the lowest allowed value (4Kb) will reduce 
throughput if this causes fragmentation for a significant proportion of 
messages. Latency might be slightly better though. Benchmarking is 
suggested.

&gt;<i> Seems like the way to achieve that customized default behavior on the
</I>&gt;<i> frame size is to make changes to the rabbitmq.config file but I'm not
</I>&gt;<i> well familiar with the erl style configuration and the available
</I>&gt;<i> properties. Do you know of any references I could take a look at?
</I>
There are no broker config variables that control frame size. AMQP is 
already a very slim protocol. You don't need any further configuration 
to take advantage of this!


Regards

Emile
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011567.html">[rabbitmq-discuss] Maximum Frame Setting Not Working
</A></li>
	<LI>Next message: <A HREF="011537.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11579">[ date ]</a>
              <a href="thread.html#11579">[ thread ]</a>
              <a href="subject.html#11579">[ subject ]</a>
              <a href="author.html#11579">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
