<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Re  try and Throttling
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Re%20%20try%20and%20Throttling&In-Reply-To=%3C31107114.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011717.html">
   <LINK REL="Next"  HREF="011733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Re  try and Throttling</H1>
    <B>butterdave2</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Re%20%20try%20and%20Throttling&In-Reply-To=%3C31107114.post%40talk.nabble.com%3E"
       TITLE="[rabbitmq-discuss] Re  try and Throttling">mark.pork at gmail.com
       </A><BR>
    <I>Wed Mar  9 15:00:33 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011717.html">[rabbitmq-discuss] Re try and Throttling
</A></li>
        <LI>Next message: <A HREF="011733.html">[rabbitmq-discuss] Re try and Throttling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11726">[ date ]</a>
              <a href="thread.html#11726">[ thread ]</a>
              <a href="subject.html#11726">[ subject ]</a>
              <a href="author.html#11726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
What about simulating a delay by not republishing a message back (via
channel.basicReject) onto the queue by the Consumer code? If I'm not
mistaken, as long as the Channel is kept alive, that message can be held out
of the queue indefinitely.

On another note, could a new plugin provide the global delay settings on
Rabbit?

DP



Marek Majkowski wrote:
&gt;<i> 
</I>&gt;<i> On Tue, Mar 8, 2011 at 16:08, butterdave2 &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mark.pork at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is there anything in Rabbit that can control the amount of times a
</I>&gt;&gt;<i> consumer
</I>&gt;&gt;<i> may &quot;retry&quot; a message?
</I>&gt;<i> 
</I>&gt;<i> No, but if the message is redelivered you should see &quot;redelivered&quot;
</I>&gt;<i> field being set
</I>&gt;<i> to &quot;True&quot;.
</I>&gt;<i> 
</I>&gt;&gt;<i> There may be instances when a message has something about it that will
</I>&gt;&gt;<i> cause
</I>&gt;&gt;<i> it to &quot;fail&quot; downstream in the Consumer code. I wouldn't want to continue
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> hammer away...
</I>&gt;<i> 
</I>&gt;<i> Correct. But rabbit can't know if your consumer died due to the message
</I>&gt;<i> or due to something else, power failure or something.
</I>&gt;<i> 
</I>&gt;<i> It's the programmers responsibility to handle dying-consumer case.
</I>&gt;<i> 
</I>&gt;&gt;<i> I can programmatically include the number of retry attempts with the
</I>&gt;&gt;<i> message
</I>&gt;&gt;<i> (a kind of metadata) and then design the Consumer to query this field.
</I>&gt;&gt;<i> (then
</I>&gt;&gt;<i> once we hit our MAX_RETRY, we will do something else to it...)
</I>&gt;<i> 
</I>&gt;<i> Sounds good.
</I>&gt;<i> 
</I>&gt;&gt;<i> Also in similar fashion, is there any control around &quot;throttling&quot; or
</I>&gt;&gt;<i> slowing
</I>&gt;&gt;<i> down the consumption of messages from a queue?
</I>&gt;<i> 
</I>&gt;<i> You can't control that, Rabbit is designed to deliver messages when it
</I>&gt;<i> can.
</I>&gt;<i> But you can use basic.qos to do something similar. Or, if you're desperate
</I>&gt;<i> you may just run basic.get with regular intervals.
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i>   Marek
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
-- 
View this message in context: <A HREF="http://old.nabble.com/Retry-and-Throttling-tp31098579p31107114.html">http://old.nabble.com/Retry-and-Throttling-tp31098579p31107114.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.

</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011717.html">[rabbitmq-discuss] Re try and Throttling
</A></li>
	<LI>Next message: <A HREF="011733.html">[rabbitmq-discuss] Re try and Throttling
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11726">[ date ]</a>
              <a href="thread.html#11726">[ thread ]</a>
              <a href="subject.html#11726">[ subject ]</a>
              <a href="author.html#11726">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
