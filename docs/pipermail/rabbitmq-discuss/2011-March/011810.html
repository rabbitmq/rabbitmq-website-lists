<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Client connect/disconnect events on the	server side
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20connect/disconnect%20events%20on%20the%0A%09server%20side&In-Reply-To=%3CAANLkTimPGYp-G9WD5Hn-wWqpud2oQoqx8Xw_vy5HiyDA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011809.html">
   <LINK REL="Next"  HREF="011811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Client connect/disconnect events on the	server side</H1>
    <B>Miguel Morales</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20connect/disconnect%20events%20on%20the%0A%09server%20side&In-Reply-To=%3CAANLkTimPGYp-G9WD5Hn-wWqpud2oQoqx8Xw_vy5HiyDA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Client connect/disconnect events on the	server side">therevoltingx at gmail.com
       </A><BR>
    <I>Mon Mar 14 19:53:03 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011809.html">[rabbitmq-discuss] Client connect/disconnect events on the	server side
</A></li>
        <LI>Next message: <A HREF="011811.html">[rabbitmq-discuss] Client connect/disconnect events on the server side
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11810">[ date ]</a>
              <a href="thread.html#11810">[ thread ]</a>
              <a href="subject.html#11810">[ subject ]</a>
              <a href="author.html#11810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mathias,

Well I haven't researched this, but it's something that I need to implement
in the near future.
Basically, I have a public broker which clients (android devices in my case)
connect and disconnect.  When they log-in it would be considered that they
are 'active' if they log-out it would be considered that they are
'inactive.'

This is important because other clients need to know information about
'active' clients.

I haven't done much research into it because I'm avoiding it until I get
closer to release it to the real world.

I am indeed interested in network connects/disconnects, but I would also
need to know the username of the client that just logged in.
(for example, if the client suddenly disconnects I need to set their status
to 'inactive' in my global database.)

Other than that, I think my best choice would be to bind to the
amq.rabbitmq.log exchange (didn't know about it before) and parse the log
messages.
However, that seems a bit brittle for me (might change between versions),
but it would work well.

Thanks for your suggestions, it might help the original poster as well.

On Mon, Mar 14, 2011 at 12:43 PM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;wrote:

&gt;<i> Miguel,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 14/03/11 19:27, Miguel Morales wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I too would be interested in this.  Not sure if anything like this
</I>&gt;&gt;<i> exists but basically it could be some sort of callback mechanism where
</I>&gt;&gt;<i> we are notified of when a client has connected/disconnected to the broker.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What do you need this for?
</I>&gt;<i>
</I>&gt;<i> And what information would have to be passed to such a callback?
</I>&gt;<i>
</I>&gt;<i> If you are just interested in network-level connect/disconnect events then
</I>&gt;<i> a simple TCP proxy could give you that information.
</I>&gt;<i>
</I>&gt;<i> Or you could do some live processing of rabbit's log files, which, amongst
</I>&gt;<i> other things, contain all connect/disconnect events. Or you could get the
</I>&gt;<i> log events over AMQP by binding to the amq.rabbitmq.log topic exchange.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>


-- 
~ Jeremiah:9:23-24
Android 2D MMORPG: <A HREF="http://solrpg.com/">http://solrpg.com/</A> <A HREF="http://www.youtube.com/user/revoltingx">http://www.youtube.com/user/revoltingx</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110314/982b41ad/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110314/982b41ad/attachment.htm</A>&gt;
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011809.html">[rabbitmq-discuss] Client connect/disconnect events on the	server side
</A></li>
	<LI>Next message: <A HREF="011811.html">[rabbitmq-discuss] Client connect/disconnect events on the server side
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11810">[ date ]</a>
              <a href="thread.html#11810">[ thread ]</a>
              <a href="subject.html#11810">[ subject ]</a>
              <a href="author.html#11810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
