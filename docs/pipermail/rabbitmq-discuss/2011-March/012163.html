<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Pathological dead queue behavior in a	cluster.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pathological%20dead%20queue%20behavior%20in%20a%0A%09cluster.&In-Reply-To=%3C20110330212806.GD1577%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012169.html">
   <LINK REL="Next"  HREF="012177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Pathological dead queue behavior in a	cluster.</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pathological%20dead%20queue%20behavior%20in%20a%0A%09cluster.&In-Reply-To=%3C20110330212806.GD1577%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] Pathological dead queue behavior in a	cluster.">matthew at rabbitmq.com
       </A><BR>
    <I>Wed Mar 30 22:28:07 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012169.html">[rabbitmq-discuss] Pathological dead queue behavior in a	cluster.
</A></li>
        <LI>Next message: <A HREF="012177.html">[rabbitmq-discuss] Erlang installation not detected
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12163">[ date ]</a>
              <a href="thread.html#12163">[ thread ]</a>
              <a href="subject.html#12163">[ subject ]</a>
              <a href="author.html#12163">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Mar 30, 2011 at 10:23:51PM +0100, Matthew Sackman wrote:
&gt;<i> Actually, if you did a basic.cancel and then a basic.consume then you
</I>&gt;<i> should find you can start consuming from the queue again. That is the
</I>&gt;<i> expected strategy in light of the above notification extension.
</I>
Err, the basic.cancel is unnecessary: the client and server both tidy up
any state associated with the subscription when they receive the
notification. You should just need the new basic.consume. However, this
behaviour is certainly specific to 2.4.0 clients and broker: prior to
this, if you have reason to suspect the queue had silently gone away,
you'd have to cancel and then reconsume otherwise at the very least,
you'd have a (very very slow) memory leak.

Matthew
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012169.html">[rabbitmq-discuss] Pathological dead queue behavior in a	cluster.
</A></li>
	<LI>Next message: <A HREF="012177.html">[rabbitmq-discuss] Erlang installation not detected
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12163">[ date ]</a>
              <a href="thread.html#12163">[ thread ]</a>
              <a href="subject.html#12163">[ subject ]</a>
              <a href="author.html#12163">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
