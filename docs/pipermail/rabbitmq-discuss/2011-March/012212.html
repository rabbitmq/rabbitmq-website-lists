<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Unexpected server crash and .NET API: disconnect is not detected?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unexpected%20server%20crash%20and%20.NET%20API%3A%0A%20disconnect%20is%20not%20detected%3F&In-Reply-To=%3CAANLkTikk-wxEt7u7Y%2Bo1XCFCWydz%2BUCSX93CotxLjarH%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012206.html">
   <LINK REL="Next"  HREF="012153.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Unexpected server crash and .NET API: disconnect is not detected?</H1>
    <B>Alfonso Pantoja</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unexpected%20server%20crash%20and%20.NET%20API%3A%0A%20disconnect%20is%20not%20detected%3F&In-Reply-To=%3CAANLkTikk-wxEt7u7Y%2Bo1XCFCWydz%2BUCSX93CotxLjarH%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Unexpected server crash and .NET API: disconnect is not detected?">alfonso.pantoja at gmail.com
       </A><BR>
    <I>Thu Mar 31 23:26:19 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012206.html">[rabbitmq-discuss] Unexpected server crash and .NET API: disconnect is not detected?
</A></li>
        <LI>Next message: <A HREF="012153.html">[rabbitmq-discuss] 2.4.0 channel and connection close behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12212">[ date ]</a>
              <a href="thread.html#12212">[ thread ]</a>
              <a href="subject.html#12212">[ subject ]</a>
              <a href="author.html#12212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias,

If requiring heartbeats is not usual then something is wrong with our
development RabbitMQ server? As I said it seems not detect unexpected client
disconnections.
Server and client machine (machine from the consumer is launched) are on the
same IP range.
What may be the cause of not detecting clients unexpected disconnections?
(by the way, the server in fact are 2 clustered servers running under ubuntu
10 server and client machine is Windows Vista)

Regards,


Alfonso



2011/3/31 Matthias Radestock &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;

&gt;<i> Alfonso,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Alfonso Pantoja wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> That's is interesting.
</I>&gt;&gt;<i> We won't have many consumer/publisher applications but there will be quite
</I>&gt;&gt;<i> frequent (intensive) incoming messages. Also in this scenario it is critical
</I>&gt;&gt;<i> to detect unexpected disconnections.
</I>&gt;&gt;<i> So I'd better add support for customize this value in order to gain fine
</I>&gt;&gt;<i> control on production.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Requiring heartbeats is by no means normal. They are usually only necessary
</I>&gt;<i> when something weird is going on in the network infrastructure or
</I>&gt;<i> client/server machine setup. Unfortunately that is all too common.
</I>&gt;<i>
</I>&gt;<i> Btw, another downside to short heartbeats is that if a client machine gets
</I>&gt;<i> heavily loaded then connections may get dropped due to missed heartbeats.
</I>&gt;<i>
</I>&gt;<i> So, as a general rule, configure the heartbeat interval to be as long as
</I>&gt;<i> possible.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110401/9ef386be/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110401/9ef386be/attachment-0001.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012206.html">[rabbitmq-discuss] Unexpected server crash and .NET API: disconnect is not detected?
</A></li>
	<LI>Next message: <A HREF="012153.html">[rabbitmq-discuss] 2.4.0 channel and connection close behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12212">[ date ]</a>
              <a href="thread.html#12212">[ thread ]</a>
              <a href="subject.html#12212">[ subject ]</a>
              <a href="author.html#12212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
