<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit MQ crashes on startup?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20MQ%20crashes%20on%20startup%3F&In-Reply-To=%3CAANLkTim0_PwY1gg-hG1QLcFTf8abMayqpy9FHvwkmELe%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012113.html">
   <LINK REL="Next"  HREF="012115.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit MQ crashes on startup?</H1>
    <B>Luke McCollum</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20MQ%20crashes%20on%20startup%3F&In-Reply-To=%3CAANLkTim0_PwY1gg-hG1QLcFTf8abMayqpy9FHvwkmELe%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit MQ crashes on startup?">lakemalcom at gmail.com
       </A><BR>
    <I>Tue Mar 29 18:26:59 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012113.html">[rabbitmq-discuss] Rabbit MQ crashes on startup?
</A></li>
        <LI>Next message: <A HREF="012115.html">[rabbitmq-discuss] Rabbit MQ crashes on startup?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12114">[ date ]</a>
              <a href="thread.html#12114">[ thread ]</a>
              <a href="subject.html#12114">[ subject ]</a>
              <a href="author.html#12114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think I found my own answer! It looks like the tiny disk on this
virtual machine is full. Whoops!

On Tue, Mar 29, 2011 at 10:19 AM, Luke McCollum &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lakemalcom at gmail.com</A>&gt; wrote:
&gt;<i> I get this:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Starting rabbitmq-server: TIMEOUT - check /var/log/rabbitmq/startup_{log,err}
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The startup log/err files are both empty, but in the main log, I see this:
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:40 ===
</I>&gt;<i> Limiting to approx 924 file handles
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:40 ===
</I>&gt;<i> Memory limit set to 196MB.
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:40 ===
</I>&gt;<i> Rolling persister log to
</I>&gt;<i> &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at vm-lb-01</A>/rabbit_persister.LOG.previous&quot;
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:40 ===
</I>&gt;<i> started TCP Listener on 0.0.0.0:5672
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:43 ===
</I>&gt;<i> accepted TCP connection on 0.0.0.0:5672 from 127.0.0.1:59103
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:43 ===
</I>&gt;<i> starting TCP connection &lt;0.197.0&gt; from 127.0.0.1:59103
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:44 ===
</I>&gt;<i> accepted TCP connection on 0.0.0.0:5672 from 127.0.0.1:59118
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:44 ===
</I>&gt;<i> starting TCP connection &lt;0.206.0&gt; from 127.0.0.1:59118
</I>&gt;<i>
</I>&gt;<i> =WARNING REPORT==== 29-Mar-2011::09:55:46 ===
</I>&gt;<i> exception on TCP connection &lt;0.197.0&gt; from 127.0.0.1:59103
</I>&gt;<i> connection_closed_abruptly
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:46 ===
</I>&gt;<i> closing TCP connection &lt;0.197.0&gt; from 127.0.0.1:59103
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:50 ===
</I>&gt;<i> Rolling persister log to
</I>&gt;<i> &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at vm-lb-01</A>/rabbit_persister.LOG.previous&quot;
</I>&gt;<i>
</I>&gt;<i> =ERROR REPORT==== 29-Mar-2011::09:55:50 ===
</I>&gt;<i> ** Generic server rabbit_persister terminating
</I>&gt;<i> ** Last message in was timeout
</I>&gt;<i> ** When Server state == {pstate,rabbit_persister,0,infinity,[],[],
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{psnapshot,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{dict,0,16,16,8,80,48,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; [],[],[]},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{{[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;[],[],[]}}},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;135217,139314,0}}
</I>&gt;<i> ** Reason for termination ==
</I>&gt;<i> ** {{badmatch,{error,{file_error,&quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at vm-lb-01</A>/rabbit_persister.LOG&quot;,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; enospc}}},
</I>&gt;<i> &#160; &#160;[{rabbit_persister,take_snapshot,3},
</I>&gt;<i> &#160; &#160; {rabbit_persister,take_snapshot,2},
</I>&gt;<i> &#160; &#160; {rabbit_persister,maybe_take_snapshot,2},
</I>&gt;<i> &#160; &#160; {rabbit_persister,flush,2},
</I>&gt;<i> &#160; &#160; {rabbit_persister,handle_info,2},
</I>&gt;<i> &#160; &#160; {gen_server,handle_msg,5},
</I>&gt;<i> &#160; &#160; {proc_lib,init_p_do_apply,3}]}
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 29-Mar-2011::09:55:50 ===
</I>&gt;<i> stopped TCP Listener on 0.0.0.0:5672
</I>&gt;<i>
</I>&gt;<i> =ERROR REPORT==== 29-Mar-2011::09:55:50 ===
</I>&gt;<i> ** gen_event handler rabbit_sasl_report_file_h crashed.
</I>&gt;<i> ** Was installed in error_logger
</I>&gt;<i> ** Last event was: {error_report,&lt;0.9.0&gt;,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{&lt;0.180.0&gt;,crash_report,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; [[{initial_call,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{disk_log,init,['Argument__1','Argument__2']}},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {pid,&lt;0.180.0&gt;},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {registered_name,[]},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {error_info,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{exit,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {{failed,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {error,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{file_error,
</I>&gt;<i>
</I>&gt;<i> &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at vm-lb-01</A>/rabbit_persister.LOG&quot;,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; enospc}}},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;[{disk_log,reopen,3}]},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; [{disk_log,do_exit,4},{proc_lib,init_p_do_apply,3}]}},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {ancestors,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;[disk_log_sup,kernel_safe_sup,kernel_sup,&lt;0.10.0&gt;]},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {messages,[]},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {links,[&lt;0.78.0&gt;]},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {dictionary,[]},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {trap_exit,true},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {status,running},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {heap_size,610},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {stack_size,24},
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {reductions,4523}],
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;[]]}}
</I>&gt;<i> ** When handler state == {&lt;0.48.0&gt;,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&quot;/var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at vm-lb-01-sasl.log</A>&quot;,error}
</I>&gt;<i> ** Reason == {badarg,[{io,format,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;[&lt;0.48.0&gt;,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; [&quot;\n&quot;,61,&quot;CRASH REPORT&quot;,61,61,61,61,32,&quot;29&quot;,45,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&quot;Mar&quot;,45,&quot;2011&quot;,58,58,&quot;09&quot;,58,&quot;55&quot;,58,&quot;50&quot;,32,61,
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;61,61,&quot;\n&quot;,126,115],
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; [&quot; &#160;crasher:\n &#160; &#160;initial call:
</I>&gt;<i> disk_log:init/2\n &#160; &#160;pid: &lt;0.180.0&gt;\n &#160; &#160;registered_name: [
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What is wrong?
</I>&gt;<i>
</I></PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012113.html">[rabbitmq-discuss] Rabbit MQ crashes on startup?
</A></li>
	<LI>Next message: <A HREF="012115.html">[rabbitmq-discuss] Rabbit MQ crashes on startup?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12114">[ date ]</a>
              <a href="thread.html#12114">[ thread ]</a>
              <a href="subject.html#12114">[ subject ]</a>
              <a href="author.html#12114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
