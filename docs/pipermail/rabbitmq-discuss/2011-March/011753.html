<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] server crashes with very fast consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20server%20crashes%20with%20very%20fast%20consumers&In-Reply-To=%3C486630.9133.qm%40web31810.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011861.html">
   <LINK REL="Next"  HREF="011756.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] server crashes with very fast consumers</H1>
    <B>alex chen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20server%20crashes%20with%20very%20fast%20consumers&In-Reply-To=%3C486630.9133.qm%40web31810.mail.mud.yahoo.com%3E"
       TITLE="[rabbitmq-discuss] server crashes with very fast consumers">chen650 at yahoo.com
       </A><BR>
    <I>Fri Mar 11 05:48:08 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011861.html">[rabbitmq-discuss] Failure during shutdown with v2.3.1
</A></li>
        <LI>Next message: <A HREF="011756.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11753">[ date ]</a>
              <a href="thread.html#11753">[ thread ]</a>
              <a href="subject.html#11753">[ subject ]</a>
              <a href="author.html#11753">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am testing rabbit server with SSD.  The broker process would crash when many 
consumers start to consume backed up messages.  Because SSD if very fast, the 
consuming rate reached more than 200 MB/sec.  After several minutes, the broker 
process would use all cpu resources (800% on 8 cores) and crash.

The setup is almost exactly the same as before:
<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2010-August/008420.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2010-August/008420.html</A>
The only difference is I am using SSD instead of regular hard disk this time.  
with regular hard disk, the consuming rate was around 30 MB/sec, so broker's cpu 
usage was not maxed out.

I tested both server 2.0.0 and 2.3.1, both crashed with SSD, but did not crash 
with regular hd.
I am wondering if anyone has done similar test with SSD?
thanks.

-alex



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110310/0e8dcea0/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110310/0e8dcea0/attachment.htm</A>&gt;
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011861.html">[rabbitmq-discuss] Failure during shutdown with v2.3.1
</A></li>
	<LI>Next message: <A HREF="011756.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11753">[ date ]</a>
              <a href="thread.html#11753">[ thread ]</a>
              <a href="subject.html#11753">[ subject ]</a>
              <a href="author.html#11753">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
