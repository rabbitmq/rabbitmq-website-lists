<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cannot connect to rabbitmq from all computers -	including wireshark logs.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cannot%20connect%20to%20rabbitmq%20from%20all%20computers%20-%0A%09including%20wireshark%20logs.&In-Reply-To=%3CAANLkTim0zgrzrn0DV0oQWWy4r%3DiAHDYzF2wF8-_%3D0Tnd%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011580.html">
   <LINK REL="Next"  HREF="011545.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cannot connect to rabbitmq from all computers -	including wireshark logs.</H1>
    <B>mysurf mail</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cannot%20connect%20to%20rabbitmq%20from%20all%20computers%20-%0A%09including%20wireshark%20logs.&In-Reply-To=%3CAANLkTim0zgrzrn0DV0oQWWy4r%3DiAHDYzF2wF8-_%3D0Tnd%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Cannot connect to rabbitmq from all computers -	including wireshark logs.">stammailbox at gmail.com
       </A><BR>
    <I>Tue Mar  1 09:15:17 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011580.html">[rabbitmq-discuss] socket error while using rabbitmq and a NAT (Network address translation)
</A></li>
        <LI>Next message: <A HREF="011545.html">[rabbitmq-discuss] Clustering over a WAN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11540">[ date ]</a>
              <a href="thread.html#11540">[ thread ]</a>
              <a href="subject.html#11540">[ subject ]</a>
              <a href="author.html#11540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I can't connect from all the computers in my production environment.
Some computers connect, and some do not.
(In a previous version of rabbit (1.7.0.), they all connected.)

on the non-connecting computers when I call factory.newConnection I wait for
a few seconds and then receive the following exception

Caused by: com.rabbitmq.client.PossibleAuthenticationFailureException:
Possibly caused by authentication failure
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:289)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:383)
	at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:403)
	at com.programa17.mmm.modules.stopwatch.util.BasicChannel.&lt;init&gt;(BasicChannel.java:37)
	... 28 more
Caused by: com.rabbitmq.client.AlreadyClosedException: clean
connection shutdown; reason: Attempt to use closed channel
	at com.rabbitmq.client.impl.AMQChannel.ensureIsOpen(AMQChannel.java:181)
	at com.rabbitmq.client.impl.AMQChannel.rpc(AMQChannel.java:208)
	at com.rabbitmq.client.impl.AMQChannel.rpc(AMQChannel.java:194)
	at com.rabbitmq.client.impl.AMQConnection.start(AMQConnection.java:281)
	... 31 more

in the wire shark a complete transaction look like this  (I  get the
purple only in the successful transaction )

AMQP............

.......copyrightS...$Copyright (C) 2007-2011 VMware,
Inc..informationS...5Licensed under the MPL.  See
<A HREF="http://www.rabbitmq.com/.platformS...">http://www.rabbitmq.com/.platformS...</A>

Erlang/OTP.productS....RabbitMQ.versionS....2.3.1....PLAIN AMQPLAIN....en_US.

........

.......productS....RabbitMQ.platformS....Java.informationS...4Licensed
under the MPL. See <A HREF="http://www.rabbitmq.com/.copyrightS...$Copyright">http://www.rabbitmq.com/.copyrightS...$Copyright</A>
(C) 2007-2011 VMware,
Inc..versionS....2.3.1.PLAIN.....guest.guest.en_US.

...............................................(./............)....................................
.(...

toClientsEran.direct..............(...........2.

...toClientsEran.5......

........2...toClientsEran.5.........

......9.2.....toClientsEran.5

toClientsEran.toClientsEran.5......

........2...

........&lt;.....toClientsEran.5.......

......&amp;.&lt;..!amq.ctag-AKZfeyr+9JOkczDfrq49pw==.

......M.&lt;.&lt;!amq.ctag-AKZfeyr+9JOkczDfrq49pw==.........

toClientsEran.toClientsEran.5.........&lt;....................{&quot;type&quot;:&quot;com.programa17.mmm.modules.stopwatch.util.RabbitMQTest$Start&quot;,&quot;content&quot;:&quot;{\&quot;time\&quot;:3449321709892756,\&quot;destinationId\&quot;:\&quot;toClientsEran.5\&quot;}&quot;}.

........&lt;.(...toManager.rtk..

........&lt;.............

.......{&quot;type&quot;:&quot;com.programa17.mmm.modules.stopwatch.util.RabbitMQTest$Report&quot;,&quot;content&quot;:&quot;{\&quot;time\&quot;:999114088,\&quot;destinationId\&quot;:\&quot;toClientsEran.5\&quot;}&quot;}.

......

.&lt;.P..........


Thanks
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110301/8e2ee13e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110301/8e2ee13e/attachment.htm</A>&gt;
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011580.html">[rabbitmq-discuss] socket error while using rabbitmq and a NAT (Network address translation)
</A></li>
	<LI>Next message: <A HREF="011545.html">[rabbitmq-discuss] Clustering over a WAN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11540">[ date ]</a>
              <a href="thread.html#11540">[ thread ]</a>
              <a href="subject.html#11540">[ subject ]</a>
              <a href="author.html#11540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
