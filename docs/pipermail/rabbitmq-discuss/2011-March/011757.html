<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] server crashes with very fast consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20server%20crashes%20with%20very%20fast%20consumers&In-Reply-To=%3C111862.43754.qm%40web31808.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011756.html">
   <LINK REL="Next"  HREF="011758.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] server crashes with very fast consumers</H1>
    <B>alex chen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20server%20crashes%20with%20very%20fast%20consumers&In-Reply-To=%3C111862.43754.qm%40web31808.mail.mud.yahoo.com%3E"
       TITLE="[rabbitmq-discuss] server crashes with very fast consumers">chen650 at yahoo.com
       </A><BR>
    <I>Fri Mar 11 08:28:31 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011756.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
        <LI>Next message: <A HREF="011758.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11757">[ date ]</a>
              <a href="thread.html#11757">[ thread ]</a>
              <a href="subject.html#11757">[ subject ]</a>
              <a href="author.html#11757">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>



&gt;<i> I'm not surprised that 2.0.0 runs into problems, but 2.3.1 should really handle 
</I>&gt;<i>this just fine. Is there anything of interest in any of the logs? Did you get a 
</I>&gt;<i>crash dump?
</I>
nothing interesting in the logs.  did not get a crash dump.

&gt;<i> Yes, we have run tests against SSD.
</I>&gt;<i> Can you post your test code?
</I>

it is the same rabbitmq-c consumer code that i attached in previous thread:
<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2010-August/008585.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2010-August/008585.html</A>
The problem can be reproduced by first publishing 20 GB of messages (each 
message is 20 KB) into 1000 queues, then start 1000 consumers at the same time 
to consume those messages.  within 1 minute the broker would crash.

Thanks for looking into this.

-alex



      
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110311/c31562a5/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110311/c31562a5/attachment-0001.htm</A>&gt;
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011756.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
	<LI>Next message: <A HREF="011758.html">[rabbitmq-discuss] server crashes with very fast consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11757">[ date ]</a>
              <a href="thread.html#11757">[ thread ]</a>
              <a href="subject.html#11757">[ subject ]</a>
              <a href="author.html#11757">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
