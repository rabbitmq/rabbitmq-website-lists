<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ throughput
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20throughput&In-Reply-To=376f3e6f0910011603m256d8ce6o8b1db4a369d658c9%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005012.html">
   <LINK REL="Next"  HREF="004994.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ throughput</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20throughput&In-Reply-To=376f3e6f0910011603m256d8ce6o8b1db4a369d658c9%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] RabbitMQ throughput">matthias at lshift.net
       </A><BR>
    <I>Fri Oct  2 08:27:08 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005012.html">[rabbitmq-discuss] RabbitMQ Statistic API
</A></li>
        <LI>Next message: <A HREF="004994.html">[rabbitmq-discuss] rabbitmq clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5004">[ date ]</a>
              <a href="thread.html#5004">[ thread ]</a>
              <a href="subject.html#5004">[ subject ]</a>
              <a href="author.html#5004">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Suhail,

Suhail Doshi wrote:
&gt;<i> 200 items per second isn't a lot? 
</I>
I misread your original post. I thought you said there were 200 items in 
the queue that the 50 consumers are then draining in 30ms, whereas 
actually you were saying that messages get published to the queue at a 
rate of 200Hz (which still isn't a lot) and you have 50 consumers which 
take &lt;30ms to process each item. Right?

&gt;<i> My expectation is that rabbit should push a new item to my consumer once 
</I>&gt;<i> that consumer has ACKed a message in less than 100ms
</I>
Are you using qos? Only with qos will rabbit wait for the acks before 
sending more messages; otherwise it will just keep sending them.

Also, are you using tx mode on either the publishing or consuming side? 
Depending on the size of the transactions that can slow things down 
significantly since a tx commit is forced to wait for a disk fsync.

Also, how long does the queue get?

As others have said, if you have things set up correctly you should be 
able to see a throughput of thousands of Hz.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005012.html">[rabbitmq-discuss] RabbitMQ Statistic API
</A></li>
	<LI>Next message: <A HREF="004994.html">[rabbitmq-discuss] rabbitmq clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5004">[ date ]</a>
              <a href="thread.html#5004">[ thread ]</a>
              <a href="subject.html#5004">[ subject ]</a>
              <a href="author.html#5004">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
