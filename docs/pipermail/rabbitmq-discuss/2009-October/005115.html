<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Frame Errors
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Frame%20Errors&In-Reply-To=476587320910121318o740bf354ia84feab09f1134f6%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005114.html">
   <LINK REL="Next"  HREF="005116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Frame Errors</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Frame%20Errors&In-Reply-To=476587320910121318o740bf354ia84feab09f1134f6%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Frame Errors">matthias at lshift.net
       </A><BR>
    <I>Mon Oct 12 23:24:25 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005114.html">[rabbitmq-discuss] Frame Errors
</A></li>
        <LI>Next message: <A HREF="005116.html">[rabbitmq-discuss]  Having trouble connecting via jInterface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5115">[ date ]</a>
              <a href="thread.html#5115">[ thread ]</a>
              <a href="subject.html#5115">[ subject ]</a>
              <a href="author.html#5115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark,

Mark Nutter wrote:
&gt;<i> I'm using the Java client. I have an 
</I>&gt;<i> app that basically takes the Twitter firehose, throws every link it gets 
</I>&gt;<i> into an exchange, and that exchange throws the links to different bins 
</I>&gt;<i> depending on what the links are and who they're from. So the routing 
</I>&gt;<i> keys are typically [twitter_user_id].[link] (e.g. 
</I>&gt;<i> 1022101.<A HREF="http://google.com">http://google.com</A>). Everything has been running wonderfully, but 
</I>&gt;<i> I recently noticed that rabbitMQ has been throwing frame errors every 
</I>&gt;<i> now and then. I have a sneaking suspicion that this is related to 
</I>&gt;<i> unicode characters in certain tweets (usually foreign language tweets). 
</I>&gt;<i> Would the fact that it's trying to run a binding check on an extremely 
</I>&gt;<i> long key be the cause for these errors? If not, what else might be the 
</I>&gt;<i> issue? Here's the error report for one of the crashes: =CRASH REPORT==== 
</I>&gt;<i> 6-Oct-2009::02:13:25 === crasher: pid: &lt;0.1309.0&gt; registered_name: [] 
</I>&gt;<i> error_info: {amqp,frame_error, &quot;cannot decode 
</I>&gt;<i> &lt;&lt;0,1,9,109,97,105,110,116,114,....(this goes on forever, truncated for 
</I>&gt;<i> sanity's sake)&gt;&gt;&quot;, 'basic.publish'}
</I>
The server knows nothing about unicode; it just matches routing keys as 
bitstrings.

How long do the routing keys get? The protocol limits them to 255 bytes. 
That's not enforced by the Java client codec though, so if you supply a 
routing key longer than that it will produce a malformed frame. I will 
raise a bug to add some checks.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005114.html">[rabbitmq-discuss] Frame Errors
</A></li>
	<LI>Next message: <A HREF="005116.html">[rabbitmq-discuss]  Having trouble connecting via jInterface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5115">[ date ]</a>
              <a href="thread.html#5115">[ thread ]</a>
              <a href="subject.html#5115">[ subject ]</a>
              <a href="author.html#5115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
