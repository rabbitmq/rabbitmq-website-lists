<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ throughput
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20throughput&In-Reply-To=376f3e6f0910011303n5efb11a2lf35803bbca00d326%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004991.html">
   <LINK REL="Next"  HREF="004993.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ throughput</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20throughput&In-Reply-To=376f3e6f0910011303n5efb11a2lf35803bbca00d326%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] RabbitMQ throughput">matthias at lshift.net
       </A><BR>
    <I>Thu Oct  1 21:32:43 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004991.html">[rabbitmq-discuss] RabbitMQ throughput
</A></li>
        <LI>Next message: <A HREF="004993.html">[rabbitmq-discuss] RabbitMQ throughput
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4992">[ date ]</a>
              <a href="thread.html#4992">[ thread ]</a>
              <a href="subject.html#4992">[ subject ]</a>
              <a href="author.html#4992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Suhail,

Suhail Doshi wrote:
&gt;<i> Does anyone know what rabbitmq throughput is from items sitting in the 
</I>&gt;<i> queue to sending them to a consumer?
</I>&gt;<i> 
</I>&gt;<i> Lets say we're doing 200 items in the queue a second with 50 consumers 
</I>&gt;<i> waiting to process the item, usually they do in &lt; 30ms.
</I>
So that's ~7kHz, which doesn't look unreasonable, but there are many 
factors at play here which we'd need to know about in order to make a 
better assessment:

- are these messages persistent or transient?
- how big are the messages?
- do the consumer consume in no-ack mode, or ack mode?
- are the consumers sharing a connection (or even channel) or do they 
all have their separate connection/channel?
- where are the consumers in the network topology in relation to the server?
- what's the hardware spec of the server machine?
- what version of Erlang are you running?
- what AMQP client are you using?

Also, ...

&gt;<i> Watching our consumer logs, it feels like they don't get items fast
</I>&gt;<i> enough from rabbitmq, is that possible or is it me?
</I>
Can you instrument the consumers to measure how long they are blocked 
waiting for messages from RabbitMQ?

Also, with 200 messages shared across 50 consumers each consumer will 
only get four items, which is a rather small figure to do any meaningful 
statistical analysis with.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004991.html">[rabbitmq-discuss] RabbitMQ throughput
</A></li>
	<LI>Next message: <A HREF="004993.html">[rabbitmq-discuss] RabbitMQ throughput
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4992">[ date ]</a>
              <a href="thread.html#4992">[ thread ]</a>
              <a href="subject.html#4992">[ subject ]</a>
              <a href="author.html#4992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
