<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Round-robin queue failover
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Round-robin%20queue%20failover&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005162.html">
   <LINK REL="Next"  HREF="005180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Round-robin queue failover</H1>
    <B>Sebastian</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Round-robin%20queue%20failover&In-Reply-To="
       TITLE="[rabbitmq-discuss] Round-robin queue failover">mail at sebastian-latza.de
       </A><BR>
    <I>Mon Oct 19 11:41:06 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005162.html">[rabbitmq-discuss] mochiweb plugin
</A></li>
        <LI>Next message: <A HREF="005180.html">[rabbitmq-discuss] Round-robin queue failover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5163">[ date ]</a>
              <a href="thread.html#5163">[ thread ]</a>
              <a href="subject.html#5163">[ subject ]</a>
              <a href="author.html#5163">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everybody,

I'm looking into a way how to implement a HA setup for persistent  
queues. Since the rabbitmq cluster doesn't replicate queues across  
multiple nodes my initial idea was to implement this on the client:  
connect publisher and consumers to multiple independent servers,  
create identical exchanges and queues, then send the messages round  
robin to the nodes. While this has the additional benefit of proper  
scalability it requires some effort on the client, I basically have to  
override all methods and encapsulate the &quot;replication&quot; logic there.  
While this isn't a true HA setup (messages in the broken node can't be  
delivered until restart and correct order of messages isn't guaranteed  
anymore) it solves 90% of the problem by providing a way to allow  
continuous message publishing.

Now I have come across this [1] blog-post by Ilya Grigorik which  
says:  &quot;Assign two identically named queues to an exchange and the  
broker will automatically round-robin the messages&quot;. So my  
understanding is that I could just create identical queues on every  
node, and the broker will take care of the rest: if one node goes  
down, messages will just be spread over the other queues/nodes.
Is this supported by rabbitmq? I've looked around in the amqp specs  
and documentation, but couldn't find anything related.

Regards
Sebastian

[1] <A HREF="http://www.igvita.com/2009/10/08/advanced-messaging-routing-with-amqp/">http://www.igvita.com/2009/10/08/advanced-messaging-routing-with-amqp/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005162.html">[rabbitmq-discuss] mochiweb plugin
</A></li>
	<LI>Next message: <A HREF="005180.html">[rabbitmq-discuss] Round-robin queue failover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5163">[ date ]</a>
              <a href="thread.html#5163">[ thread ]</a>
              <a href="subject.html#5163">[ subject ]</a>
              <a href="author.html#5163">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
