<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Job Server Resource Allocation Help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Job%20Server%20Resource%20Allocation%20Help&In-Reply-To=7fd310d10910071418k366b1df6ia655583e7c27d71f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005078.html">
   <LINK REL="Next"  HREF="005070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Job Server Resource Allocation Help</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Job%20Server%20Resource%20Allocation%20Help&In-Reply-To=7fd310d10910071418k366b1df6ia655583e7c27d71f%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Job Server Resource Allocation Help">tonyg at lshift.net
       </A><BR>
    <I>Thu Oct  8 15:08:27 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005078.html">[rabbitmq-discuss] AMQP's message ordering guarantees are stupid (was Re: Job Server Resource Allocation Help)
</A></li>
        <LI>Next message: <A HREF="005070.html">[rabbitmq-discuss] Erlang client for RabbitMQ 1.7.0?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5079">[ date ]</a>
              <a href="thread.html#5079">[ thread ]</a>
              <a href="subject.html#5079">[ subject ]</a>
              <a href="author.html#5079">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>But to answer your question, Bryan:

Bryan Murphy wrote:
&gt;<i> I have a related question... BasicConsume has a &quot;filter&quot; parameter. 
</I>&gt;<i> It's been a few months since I read the AMQP spec.  I took a quick look
</I>&gt;<i> online, but couldn't find any good documentation.  What does that do (if
</I>&gt;<i> anything) and how do you use it? 
</I>
It is unspecified. QPid, I believe, uses it to implement JMS-style
message selectors. We don't currently do anything with it (mostly
because of the question &quot;how on earth should one interpret what's put in
there anyway&quot;). I think people were headed in the direction of
specifying some kind of SQL92-like predicate language for use there. Ick.

&gt;<i> Ideally, what I was originally fishing for was something like this:
</I>&gt;<i> 
</I>&gt;<i> Client:
</I>&gt;<i>   headers[&quot;paying&quot;] = &quot;true&quot;;
</I>&gt;<i>   bus.Send(message, headers);
</I>&gt;<i> Server A:
</I>&gt;<i>   bus.Receive(queue=&quot;jobs&quot;, filter=&quot;paying == 'true'&quot;);
</I>&gt;<i> Server B:
</I>&gt;<i>   bus.Receive(queue=&quot;jobs&quot; /* no filter */);
</I>
Yes I think that was the original intent. For now, consider it for
experimental use only, I suppose.

(For your use case, what's to stop people falsely advertising that they
are paying customers when they submit jobs? Hmm that reminds me of the
idea of getting the broker to securely annotate messages with some
unforgeable ID stamp that was discussed on this list some time ago...)

Tony


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005078.html">[rabbitmq-discuss] AMQP's message ordering guarantees are stupid (was Re: Job Server Resource Allocation Help)
</A></li>
	<LI>Next message: <A HREF="005070.html">[rabbitmq-discuss] Erlang client for RabbitMQ 1.7.0?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5079">[ date ]</a>
              <a href="thread.html#5079">[ thread ]</a>
              <a href="subject.html#5079">[ subject ]</a>
              <a href="author.html#5079">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
