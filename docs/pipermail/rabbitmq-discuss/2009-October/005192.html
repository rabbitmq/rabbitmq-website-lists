<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Simple benchmark and results
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Simple%20benchmark%20and%20results&In-Reply-To=D1AC29FC5C9E644C91BE7C9294BF701B027A76E8%40gmg-maynard-mai.greenmonstergames.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005191.html">
   <LINK REL="Next"  HREF="005194.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Simple benchmark and results</H1>
    <B>David Glaubman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Simple%20benchmark%20and%20results&In-Reply-To=D1AC29FC5C9E644C91BE7C9294BF701B027A76E8%40gmg-maynard-mai.greenmonstergames.net"
       TITLE="[rabbitmq-discuss] Simple benchmark and results">dglaubman at acm.org
       </A><BR>
    <I>Wed Oct 21 19:14:31 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005191.html">[rabbitmq-discuss] Simple benchmark and results
</A></li>
        <LI>Next message: <A HREF="005194.html">[rabbitmq-discuss] Simple benchmark and results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5192">[ date ]</a>
              <a href="thread.html#5192">[ thread ]</a>
              <a href="subject.html#5192">[ subject ]</a>
              <a href="author.html#5192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Philippe Kirsanov wrote:
&gt;<i> 
</I>&gt;&gt;<i> What exactly &quot;noAck&quot; parameter in basicConsume mean? Is it auto-ack
</I>&gt;&gt;<i> on message or something else? API guide sais it is &quot;handshake ack&quot;.
</I>&gt;<i> 
</I>I think it means auto-ack -- when I set it true in BasicConsume 
and remove the call to BasicAck my receive performance more than tripled.

Here&#8217;s a quote on noAck: 
(<A HREF="http://www.trapexit.org/forum/viewtopic.php?p=48116">http://www.trapexit.org/forum/viewtopic.php?p=48116</A>)
    AMQP says that a broker shouldn't forget about a msg until it's been 
    ack'd. Now this can either happen by an explicit ack coming from the 
    consumer, or from an implicit ack, by setting noAck to true when 
    subscribing to the queue. Yes, the unfortunate naming of &quot;noAck&quot; is, um, 
    unfortunate. Internally, we tend to invert this and then call it 
    AckRequired.

Hope this helps.

David


-----Original Message-----
From: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>
[mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of David
Glaubman
Sent: Wednesday, October 21, 2009 13:45
To: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] Simple benchmark and results


Matthias,

You write:
[...]
&gt;<i> Note that there is one obvious difference to the .net tests: 
</I>&gt;<i> By setting the &quot;-a&quot; flag the consumers will operate 
</I>&gt;<i> in auto-ack mode, whereas in the .net code you posted you do an
</I>explicit
&gt;<i> ack. 
</I>&gt;<i> The former is quite a bit more efficient and may well account 
</I>&gt;<i> for the bulk of the difference between the .net and java consumer
</I>&gt;<i> performance. 
</I>
Bingo! Setting 'noAck' = true on basicConsume increases messages
received to
about 33K per sec.

[...]
-- 
View this message in context: <A HREF="http://www.nabble.com/Simple-benchmark-and-results-tp25968960p25997547.html">http://www.nabble.com/Simple-benchmark-and-results-tp25968960p25997547.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005191.html">[rabbitmq-discuss] Simple benchmark and results
</A></li>
	<LI>Next message: <A HREF="005194.html">[rabbitmq-discuss] Simple benchmark and results
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5192">[ date ]</a>
              <a href="thread.html#5192">[ thread ]</a>
              <a href="subject.html#5192">[ subject ]</a>
              <a href="author.html#5192">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
