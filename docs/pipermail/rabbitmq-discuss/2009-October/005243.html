<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] General approaches for tracking unreclaimed	memory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20General%20approaches%20for%20tracking%20unreclaimed%0A%09memory&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005245.html">
   <LINK REL="Next"  HREF="005246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] General approaches for tracking unreclaimed	memory</H1>
    <B>Garrett Smith</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20General%20approaches%20for%20tracking%20unreclaimed%0A%09memory&In-Reply-To="
       TITLE="[rabbitmq-discuss] General approaches for tracking unreclaimed	memory">g at rre.tt
       </A><BR>
    <I>Mon Oct 26 18:41:44 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005245.html">[rabbitmq-discuss] Messages left in queue
</A></li>
        <LI>Next message: <A HREF="005246.html">[rabbitmq-discuss] General approaches for tracking unreclaimed memory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5243">[ date ]</a>
              <a href="thread.html#5243">[ thread ]</a>
              <a href="subject.html#5243">[ subject ]</a>
              <a href="author.html#5243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Apart from using rabbitmqctrl to check some of the more obvious
sources for lost memory (e.g. connections, queues, etc.) are there
other techniques for tracking down where the broker might be
allocating resources that aren't cleaned up?

As this is Erlang, I'd assume one point of focus is process creation
and using whatever techniques are used in Erlang -- e.g. tracing, etc.

One thing I see routinely in the rabbit logs that I'd like to cleanup is:

exception on TCP connection &lt;0.31875.6&gt; from XXX.XXX.XXX.XXX:XXXXX
connection_closed_abruptly

However, using pidstat, I see memory allocation in the beam process
occurring independently of those log messages.

Garrett


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005245.html">[rabbitmq-discuss] Messages left in queue
</A></li>
	<LI>Next message: <A HREF="005246.html">[rabbitmq-discuss] General approaches for tracking unreclaimed memory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5243">[ date ]</a>
              <a href="thread.html#5243">[ thread ]</a>
              <a href="subject.html#5243">[ subject ]</a>
              <a href="author.html#5243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
