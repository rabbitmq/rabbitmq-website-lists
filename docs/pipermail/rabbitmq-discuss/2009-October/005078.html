<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] AMQP's message ordering guarantees are stupid (was Re: Job Server Resource Allocation Help)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20AMQP%27s%20message%20ordering%20guarantees%20are%20stupid%0A%20%28was%20Re%3A%20Job%20Server%20Resource%20Allocation%20Help%29&In-Reply-To=7fd310d10910071418k366b1df6ia655583e7c27d71f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005072.html">
   <LINK REL="Next"  HREF="005079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] AMQP's message ordering guarantees are stupid (was Re: Job Server Resource Allocation Help)</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20AMQP%27s%20message%20ordering%20guarantees%20are%20stupid%0A%20%28was%20Re%3A%20Job%20Server%20Resource%20Allocation%20Help%29&In-Reply-To=7fd310d10910071418k366b1df6ia655583e7c27d71f%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] AMQP's message ordering guarantees are stupid (was Re: Job Server Resource Allocation Help)">tonyg at lshift.net
       </A><BR>
    <I>Thu Oct  8 15:05:02 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005072.html">[rabbitmq-discuss] Job Server Resource Allocation Help
</A></li>
        <LI>Next message: <A HREF="005079.html">[rabbitmq-discuss] Job Server Resource Allocation Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5078">[ date ]</a>
              <a href="thread.html#5078">[ thread ]</a>
              <a href="subject.html#5078">[ subject ]</a>
              <a href="author.html#5078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bryan Murphy wrote:
&gt;<i> Total order isn't necessary, we just want to make a good faith effort to
</I>&gt;<i> serve those who's requests came first.
</I>
Many, many, many people are in this situation. To me, it's the situation
AMQP should be designed to accommodate.

I get more and more annoyed with the AMQP spec's insistence on
preserving perfect ordering (given some heavily caveated list of
preconditions, of course!). My preference would be for the sum total of
the spec's input on the ordering question to read something along the
lines of &quot;brokers SHOULD preserve relative message ordering where possible.&quot;

Requiring any kind of strict order preservation leads to complexity,
inefficiency, and scaling bottlenecks in the broker, not to mention
nasty surprises for application developers down the line when they
discover the (common but underadvertised!) corner cases where AMQP
*cannot* preserve message ordering. Explicit is better than implicit,
after all! Those who rely on the broker preserving perfect (rather than
rough/best-effort!) ordering are kind of doomed.

I should totally blog about this rather than ranting in the mailing list :-)

Tony



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005072.html">[rabbitmq-discuss] Job Server Resource Allocation Help
</A></li>
	<LI>Next message: <A HREF="005079.html">[rabbitmq-discuss] Job Server Resource Allocation Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5078">[ date ]</a>
              <a href="thread.html#5078">[ thread ]</a>
              <a href="subject.html#5078">[ subject ]</a>
              <a href="author.html#5078">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
