<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] 100% CPU usage and system crawls to a halt
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20100%25%20CPU%20usage%20and%20system%20crawls%20to%20a%20halt&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005188.html">
   <LINK REL="Next"  HREF="005201.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] 100% CPU usage and system crawls to a halt</H1>
    <B>Mark Nutter</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20100%25%20CPU%20usage%20and%20system%20crawls%20to%20a%20halt&In-Reply-To="
       TITLE="[rabbitmq-discuss] 100% CPU usage and system crawls to a halt">marknutter at gmail.com
       </A><BR>
    <I>Thu Oct 22 02:57:02 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005188.html">[rabbitmq-discuss] Effects of closing a rabbitmq connection
</A></li>
        <LI>Next message: <A HREF="005201.html">[rabbitmq-discuss] 100% CPU usage and system crawls to a halt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5197">[ date ]</a>
              <a href="thread.html#5197">[ thread ]</a>
              <a href="subject.html#5197">[ subject ]</a>
              <a href="author.html#5197">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have rabbitMQ 1.6 on Hardy, and I'm running into an issue where the
rabbitMQ process randomly will ramp up to 100% CPU usage and stay there.
Once this happens, all message routing crawls to a near halt and the server
has to be restarted.
A quick overview of what I have it doing: I'm taking a firehose of Twitter
statuses and throwing every single one of them into a main queue from which
they are thrown into a mySQL database. These statuses also get routed to
other smaller queues based on different routing keys like twitter user ids
and URLs. These messages come in fast, about 1000 per 10 seconds, and we
pull the messages off the queue about as fast as they come in.

I've seen a few threads discussing the 100% CPU usage problem, but no real
solutions.  Am I going about this the wrong way?  What might be causing this
problem.  Is 1.7 a better option and is there a stable package out there
that works on Hardy?  Thanks in advance for your input.

-- 
Mark Nutter
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">marknutter at gmail.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091021/cff03a5b/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091021/cff03a5b/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005188.html">[rabbitmq-discuss] Effects of closing a rabbitmq connection
</A></li>
	<LI>Next message: <A HREF="005201.html">[rabbitmq-discuss] 100% CPU usage and system crawls to a halt
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5197">[ date ]</a>
              <a href="thread.html#5197">[ thread ]</a>
              <a href="subject.html#5197">[ subject ]</a>
              <a href="author.html#5197">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
