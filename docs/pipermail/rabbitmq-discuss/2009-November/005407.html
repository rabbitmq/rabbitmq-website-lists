<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Weird Issue when cluster member restarts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Weird%20Issue%20when%20cluster%20member%20restarts&In-Reply-To=9f4a617f0911100720g1268d665gddce5a79ae120370%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005406.html">
   <LINK REL="Next"  HREF="005409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Weird Issue when cluster member restarts</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Weird%20Issue%20when%20cluster%20member%20restarts&In-Reply-To=9f4a617f0911100720g1268d665gddce5a79ae120370%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Weird Issue when cluster member restarts">matthew at lshift.net
       </A><BR>
    <I>Tue Nov 10 15:26:47 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005406.html">[rabbitmq-discuss] Weird Issue when cluster member restarts
</A></li>
        <LI>Next message: <A HREF="005409.html">[rabbitmq-discuss] Weird Issue when cluster member restarts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5407">[ date ]</a>
              <a href="thread.html#5407">[ thread ]</a>
              <a href="subject.html#5407">[ subject ]</a>
              <a href="author.html#5407">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Arun,

On Tue, Nov 10, 2009 at 08:50:12PM +0530, Arun Suresh wrote:
&gt;<i> &gt; Well, you could simply check to see if the socket is still open. If the
</I>&gt;<i> &gt; broker goes down then your network socket from the client will also go
</I>&gt;<i> &gt; down.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> :) thing is.. I have clients connected to the RabbitMQ instance that DIDNT
</I>&gt;<i> go down.. but have subscriptions to Queues persisted on the instance that
</I>&gt;<i> did..
</I>&gt;<i> These clients wont know if queue is gone or not...
</I>
Ahh, I see, yes indeed you are right. One way round may be to have
connections open to each node in the cluster, and watch for when those
connections go down. However, that would require that you know which
node each queue is on. Alternatively, your clients could publish with
the mandatory flag set and then you'll get an exception should the
message not be able to be routed to a queue. Unfortunately, no, the kind
of notification you're looking for isn't available in AMQP.

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005406.html">[rabbitmq-discuss] Weird Issue when cluster member restarts
</A></li>
	<LI>Next message: <A HREF="005409.html">[rabbitmq-discuss] Weird Issue when cluster member restarts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5407">[ date ]</a>
              <a href="thread.html#5407">[ thread ]</a>
              <a href="subject.html#5407">[ subject ]</a>
              <a href="author.html#5407">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
