<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq-server restart also restarts epmd
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq-server%20restart%20also%20restarts%20epmd&In-Reply-To=4AEF4E8A.3040107%40canonical.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005286.html">
   <LINK REL="Next"  HREF="005289.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq-server restart also restarts epmd</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq-server%20restart%20also%20restarts%20epmd&In-Reply-To=4AEF4E8A.3040107%40canonical.com"
       TITLE="[rabbitmq-discuss] rabbitmq-server restart also restarts epmd">david.wragg at lshift.net
       </A><BR>
    <I>Tue Nov  3 21:02:33 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005286.html">[rabbitmq-discuss] rabbitmq-server restart also restarts epmd
</A></li>
        <LI>Next message: <A HREF="005289.html">[rabbitmq-discuss] rabbitmq-server restart also restarts epmd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5290">[ date ]</a>
              <a href="thread.html#5290">[ thread ]</a>
              <a href="subject.html#5290">[ subject ]</a>
              <a href="author.html#5290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Elliot,

Elliot Murphy &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">elliot at canonical.com</A>&gt; writes:
&gt;<i> On 11/02/2009 03:47 PM, Garrett Smith wrote:
</I>&gt;<i>  &gt; - Removing the rabbitmq-server package necessitates removal of the
</I>&gt;&gt;<i> rabbit user, which necessitates stopping all of its processes. This is
</I>&gt;&gt;<i> also pretty obvious.
</I>&gt;<i>
</I>&gt;<i> CouchDB has faced similar issues.
</I>&gt;<i>
</I>&gt;<i> My understanding of Debian and Ubuntu policy/best practice is that
</I>&gt;<i> packages should not remove system users that they have created.
</I>&gt;<i>
</I>&gt;<i> I didn't find where this is specified in debian policy, but here is a
</I>&gt;<i> wiki page that describes some of the problems with removing system
</I>&gt;<i> users: <A HREF="http://wiki.debian.org/AccountHandlingInMaintainerScripts">http://wiki.debian.org/AccountHandlingInMaintainerScripts</A>
</I>
Thanks for the link.  That page contains an interesting collection of
both pros and cons of removing accounts, though it doesn't seem to
reach a definitive conclusion on the matter.

&gt;<i> What we have done for CouchDB in Ubuntu (at the insistence/encouragement
</I>&gt;<i> of the core Ubuntu developers) is simply changed the package to not
</I>&gt;<i> remove the CouchDB user, and I'd recommend the same change for RabbitMQ.
</I>
I still tend to think that removing the rabbitmq user account when
purging is the right thing to do.  Given that debian packages have
distinct 'remove' and 'purge' operations, it seems sensible to me that
'purge' should remove all traces of the package, and rabbitmq-server's
postrm script adheres to this (for example, when purging it deletes
all files that the package might have created, including log files
etc.).  If the administrator wants a less thorough removal of the
package, then that is exactly what the 'remove' operation is for.
Though I accept that my view might be influenced by our frequent need
to test the rabbitmq-server packages, which makes having 'purge'
return a system to a pristine state rabbit-wise particularly useful.

But naturally, if the Debian community reaches a consensus that
deleting users is never the right thing, then we will make our package
conform.  But it would be good to see a clear signal first, such as a
change to the debian-policy manual.

David

-- 
 [][][] David Wragg       | mail: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">david.wragg at lshift.net</A>
   [][] Senior Developer  | tel: +44 (0)20 7729 7060
 []  [] LShift Ltd        | web: www.lshift.net


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005286.html">[rabbitmq-discuss] rabbitmq-server restart also restarts epmd
</A></li>
	<LI>Next message: <A HREF="005289.html">[rabbitmq-discuss] rabbitmq-server restart also restarts epmd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5290">[ date ]</a>
              <a href="thread.html#5290">[ thread ]</a>
              <a href="subject.html#5290">[ subject ]</a>
              <a href="author.html#5290">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
