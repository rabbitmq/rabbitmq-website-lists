<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] DNS Issues / Error: cannot_get_pid
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20DNS%20Issues%20/%20Error%3A%20cannot_get_pid&In-Reply-To=4AFAAEEF.7010304%40elsdoerfer.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005426.html">
   <LINK REL="Next"  HREF="005428.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] DNS Issues / Error: cannot_get_pid</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20DNS%20Issues%20/%20Error%3A%20cannot_get_pid&In-Reply-To=4AFAAEEF.7010304%40elsdoerfer.com"
       TITLE="[rabbitmq-discuss] DNS Issues / Error: cannot_get_pid">matthew at lshift.net
       </A><BR>
    <I>Wed Nov 11 12:58:26 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005426.html">[rabbitmq-discuss] DNS Issues / Error: cannot_get_pid
</A></li>
        <LI>Next message: <A HREF="005428.html">[rabbitmq-discuss] DNS Issues / Error: cannot_get_pid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5427">[ date ]</a>
              <a href="thread.html#5427">[ thread ]</a>
              <a href="subject.html#5427">[ subject ]</a>
              <a href="author.html#5427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael,

On Wed, Nov 11, 2009 at 01:32:47PM +0100, Michael Elsd&#246;rfer wrote:
&gt;<i> I actually managed to gather those settings on my own and had tried them
</I>&gt;<i> in the meantime - they don't seem to work (not in fixing the DNS-related
</I>&gt;<i> issue, anyway):
</I>&gt;<i> 
</I>&gt;<i> * With &quot;NODENAME=<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A>&quot; startup_log says &quot;Starting node
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A>@myhostname...&quot;&quot;&quot;
</I>&gt;<i> 
</I>&gt;<i> * Strangely, &quot;rabbitmq-multi status&quot; still references
</I>&gt;<i> &quot;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at myhostname</A>&quot;, despite the NODENAME setting.
</I>
That's weird. What happens if you just do &quot;erl -sname <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">foo at localhost</A>&quot; ?
Also, can you start up rabbit like this, and then do a ps ax | grep
rabbit - and check the sname param - for me (installing from a package),
I get &quot;... -sname <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A> ...&quot; and it does all work correctly.

&gt;<i> I'm using the Debian package from <A HREF="http://www.rabbitmq.com/debian/">http://www.rabbitmq.com/debian/</A>
</I>&gt;<i> (version 1.7.0-1).
</I>
Which version of Erlang are you using?

I have a vague recollection that -sname only used to allow the node part
of the node name, which tallies with what you're seeing, but I've tried
going back as far as R11B5 and it still works there. I've just had a
quick trawl through the Erlang release notes and can't find anything
there either. In fact, with R11B5, R12B3 and R13B02, if I try
erl -sname <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">foo at bar</A>@baz then it blows up with invalid hostname, whereas
erl -sname <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">foo at bar</A> works fine.

&gt;<i> I should say that I've since worked around the issue by configuring
</I>&gt;<i> iptables to pass all connections from the local interface through
</I>&gt;<i> (using: iptables -A INPUT -i lo -j ACCEPT), so it's not a showstopper
</I>&gt;<i> for me.
</I>
Ahh yes, I remember having to use that rule in the past, though not for
Rabbit. Glad you've found a work around, but I'd quite like to dig into
why it's not working for you as I think it should.

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005426.html">[rabbitmq-discuss] DNS Issues / Error: cannot_get_pid
</A></li>
	<LI>Next message: <A HREF="005428.html">[rabbitmq-discuss] DNS Issues / Error: cannot_get_pid
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5427">[ date ]</a>
              <a href="thread.html#5427">[ thread ]</a>
              <a href="subject.html#5427">[ subject ]</a>
              <a href="author.html#5427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
