<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] auto_delete queues not going away
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20auto_delete%20queues%20not%20going%20away&In-Reply-To=1257522263.3831.396.camel%40bede">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005376.html">
   <LINK REL="Next"  HREF="005346.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] auto_delete queues not going away</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20auto_delete%20queues%20not%20going%20away&In-Reply-To=1257522263.3831.396.camel%40bede"
       TITLE="[rabbitmq-discuss] auto_delete queues not going away">matthias at lshift.net
       </A><BR>
    <I>Fri Nov  6 17:00:35 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005376.html">[rabbitmq-discuss] auto_delete queues not going away
</A></li>
        <LI>Next message: <A HREF="005346.html">[rabbitmq-discuss] Weird Issue when cluster member restarts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5377">[ date ]</a>
              <a href="thread.html#5377">[ thread ]</a>
              <a href="subject.html#5377">[ subject ]</a>
              <a href="author.html#5377">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tim,

Tim Cole wrote:
&gt;<i> The server wasn't restarted, but the clients were shut down and
</I>&gt;<i> replaced by new machines.  Perhaps it's also an issue if the 
</I>&gt;<i> connection wasn't shut down cleanly?
</I>
An &quot;abrupt&quot; termination of a client connection will cause the associated
exclusive queues to be deleted. There are no known problems with that
functionality, and it is used widely.

So if the queues stayed around then either they weren't declared as
'exclusive' after all, or the server thought the connections were still
alive.

&gt;<i> Anyway, it sounds like what we want in this particular case is
</I>&gt;<i> durable=False, exclusive=True, and auto_delete=False.  Ideally, we don't
</I>&gt;<i> actually want the queue to go away when the channel/consumer dies, but
</I>&gt;<i> only if the connection does.  Does that sound right?
</I>
Spot on.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005376.html">[rabbitmq-discuss] auto_delete queues not going away
</A></li>
	<LI>Next message: <A HREF="005346.html">[rabbitmq-discuss] Weird Issue when cluster member restarts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5377">[ date ]</a>
              <a href="thread.html#5377">[ thread ]</a>
              <a href="subject.html#5377">[ subject ]</a>
              <a href="author.html#5377">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
