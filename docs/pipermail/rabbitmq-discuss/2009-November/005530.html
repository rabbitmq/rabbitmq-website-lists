<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Re-declaring named exchange with passive	argument set to true
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Re-declaring%20named%20exchange%20with%20passive%0A%09argument%20set%20to%20true&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005529.html">
   <LINK REL="Next"  HREF="005537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Re-declaring named exchange with passive	argument set to true</H1>
    <B>Chris Duncan</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Re-declaring%20named%20exchange%20with%20passive%0A%09argument%20set%20to%20true&In-Reply-To="
       TITLE="[rabbitmq-discuss] Re-declaring named exchange with passive	argument set to true">celldee at gmail.com
       </A><BR>
    <I>Thu Nov 26 01:02:47 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005529.html">[rabbitmq-discuss] Announcing Siphon
</A></li>
        <LI>Next message: <A HREF="005537.html">[rabbitmq-discuss] Re-declaring named exchange with passive	argument set to true
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5530">[ date ]</a>
              <a href="thread.html#5530">[ thread ]</a>
              <a href="subject.html#5530">[ subject ]</a>
              <a href="author.html#5530">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Someone recently asked me a question about finding a named exchange  
without specifying the type in the declare method call. I've done  
some testing against RabbitMQ v1.7.0 and it seems that you cannot re- 
declare an existing exchange without supplying a type argument, even  
if the passive argument is used and set to true. I consistently get a  
503 error.

The 0-9-1 AMQP XML spec suggests that if you set the passive argument  
to true in the exchange declare method call, then type should be  
ignored.

====  Start of excerpt from 0-9-1 spec ====
&lt;field name = &quot;passive&quot; domain = &quot;bit&quot; label = &quot;do not create exchange&quot;&gt;
         &lt;doc&gt;
           If set, the server will reply with Declare-Ok if the  
exchange already
           exists with the same name, and raise an error if not.  The  
client can
           use this to check whether an exchange exists without  
modifying the
           server state. When set, all other method fields except  
name and no-wait
           are ignored.  A declare with both passive and no-wait has  
no effect.
           Arguments are compared for semantic equivalence.
         &lt;/doc&gt;

====  End of excerpt from 0-9-1 spec ====

Firstly, can anyone confirm that the behaviour I am observing  
regarding arguments passed in the exchange declare method is correct.  
There could be a problem with my client library that I haven't found.

Secondly, if the type argument is mandatory even when the passive  
argument is used and set to true, is this a bug in RabbitMQ?

Regards,

Chris

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091126/7167f057/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091126/7167f057/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005529.html">[rabbitmq-discuss] Announcing Siphon
</A></li>
	<LI>Next message: <A HREF="005537.html">[rabbitmq-discuss] Re-declaring named exchange with passive	argument set to true
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5530">[ date ]</a>
              <a href="thread.html#5530">[ thread ]</a>
              <a href="subject.html#5530">[ subject ]</a>
              <a href="author.html#5530">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
