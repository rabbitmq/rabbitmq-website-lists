<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] auto_delete queues not going away
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20auto_delete%20queues%20not%20going%20away&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005424.html">
   <LINK REL="Next"  HREF="005344.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] auto_delete queues not going away</H1>
    <B>Tim Cole</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20auto_delete%20queues%20not%20going%20away&In-Reply-To="
       TITLE="[rabbitmq-discuss] auto_delete queues not going away">tim.cole at canonical.com
       </A><BR>
    <I>Thu Nov  5 21:57:47 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005424.html">[rabbitmq-discuss] RabbitMQ crashes hard when it runs out of memory
</A></li>
        <LI>Next message: <A HREF="005344.html">[rabbitmq-discuss] auto_delete queues not going away
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5343">[ date ]</a>
              <a href="thread.html#5343">[ thread ]</a>
              <a href="subject.html#5343">[ subject ]</a>
              <a href="author.html#5343">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm having some difficulty with queues not going away even after their
last consumer has gone.  The orphaned queues stick around and fill up
with messages until the RabbitMQ server has to be restarted or the
queues manually deleted.

For example, `rabbitmqctl name messages consumers` shows lots of entries
like:

 notify.a388d3c7-c501-4fef-92bb-516710950f4a	7198	0

(With the 'messages' column quickly growing in size...)

These queues were created with durable=True, exclusive=True, and
auto_delete=True.  It had been my understanding that the last option
bit, auto_delete, would ensure that the queue would be deleted once
there were no more consumers, but that doesn't appear to actually be the
case.

Help?

Thanks,
Tim
-------------- next part --------------
A non-text attachment was scrubbed...
Name: not available
Type: application/pgp-signature
Size: 197 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091105/9da9ddd2/attachment.pgp">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091105/9da9ddd2/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005424.html">[rabbitmq-discuss] RabbitMQ crashes hard when it runs out of memory
</A></li>
	<LI>Next message: <A HREF="005344.html">[rabbitmq-discuss] auto_delete queues not going away
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5343">[ date ]</a>
              <a href="thread.html#5343">[ thread ]</a>
              <a href="subject.html#5343">[ subject ]</a>
              <a href="author.html#5343">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
