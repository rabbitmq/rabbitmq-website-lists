<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] list_connections failing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20list_connections%20failing&In-Reply-To=k51vk7y9r5.fsf%40mrbraver.lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005390.html">
   <LINK REL="Next"  HREF="005393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] list_connections failing</H1>
    <B>Tim Rosenblatt</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20list_connections%20failing&In-Reply-To=k51vk7y9r5.fsf%40mrbraver.lshift.net"
       TITLE="[rabbitmq-discuss] list_connections failing">tim at cloudspace.com
       </A><BR>
    <I>Mon Nov  9 16:15:36 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005390.html">[rabbitmq-discuss] list_connections failing
</A></li>
        <LI>Next message: <A HREF="005393.html">[rabbitmq-discuss] list_connections failing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5391">[ date ]</a>
              <a href="thread.html#5391">[ thread ]</a>
              <a href="subject.html#5391">[ subject ]</a>
              <a href="author.html#5391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the fast response, David.

I don't think upgrading is possible right now. We've got a deadline to show
this project in the next few weeks, and I'm using the Bunny gem in Ruby,
which isn't yet compatible with 1.7.0. Changing versions of Rabbit as well
as changing the library being feels unwise at this point.

For the future, in case Bunny isn't upgraded, do you have a recommended
library for Ruby? I need the ability to publish to named queues, and
subscribe to them.

You say that it sounds like the &quot;prevent timeouts when server is busy&quot;. What
defines &quot;busy&quot; here? Is that when the server is in the middle of something
at the moment I run the command, and if I just run it a few more times, I'll
eventually get through? Or is there something deeper here?

Thanks.

On Mon, Nov 9, 2009 at 10:54 AM, David Wragg &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">david.wragg at lshift.net</A>&gt; wrote:

&gt;<i> Hi Tim,
</I>&gt;<i>
</I>&gt;<i> Tim Rosenblatt &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at cloudspace.com</A>&gt; writes:
</I>&gt;<i> &gt; I'm running RabbitMQ 1.5.4 on Ubuntu, and when I run `rabbitmqctl
</I>&gt;<i> &gt; list_connections`, I usually get the following output
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [...]
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Obviously it looks like a timeout, but it comes back after only ~5
</I>&gt;<i> seconds,
</I>&gt;<i> &gt; which seems very short for a timeout. Sometimes this does list the
</I>&gt;<i> &gt; connections -- there's only ever 10, which is the correct number -- but
</I>&gt;<i> it
</I>&gt;<i> &gt; often fails. This was working fine until a few days ago, when for no
</I>&gt;<i> obvious
</I>&gt;<i> &gt; reason, it started returning this. I am logged in as root when running
</I>&gt;<i> this.
</I>&gt;<i>
</I>&gt;<i> This sounds similar to an issue that was fixed in 1.7.0 (&quot;prevent
</I>&gt;<i> timeouts of rabbitmqctl when the server is busy&quot;).  Could you migrate
</I>&gt;<i> to 1.7.0 and see if it solves your problem?
</I>&gt;<i>
</I>&gt;<i> (Note that migrating from 1.5.4 to 1.7.0 involves a database schema
</I>&gt;<i> change - see the &quot;Upgrading&quot; section of the release notes at
</I>&gt;<i> &lt;
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091007/3aaed239/attachment.txt">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091007/3aaed239/attachment.txt</A>
</I>&gt;<i> &gt;)
</I>&gt;<i>
</I>&gt;<i> David
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>  [][][] David Wragg       | mail: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">david.wragg at lshift.net</A>
</I>&gt;<i>   [][] Senior Developer  | tel: +44 (0)20 7729 7060
</I>&gt;<i>  []  [] LShift Ltd        | web: www.lshift.net
</I>&gt;<i>
</I>


-- 
Tim Rosenblatt
Cloudspace
Office: 407-823-8808
Cell: 407-719-2777

10244 E Colonial Dr, Suite 106
Orlando, FL 32817
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091109/f5157dc2/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091109/f5157dc2/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005390.html">[rabbitmq-discuss] list_connections failing
</A></li>
	<LI>Next message: <A HREF="005393.html">[rabbitmq-discuss] list_connections failing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5391">[ date ]</a>
              <a href="thread.html#5391">[ thread ]</a>
              <a href="subject.html#5391">[ subject ]</a>
              <a href="author.html#5391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
