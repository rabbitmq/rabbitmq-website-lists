<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbit chokes?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbit%20chokes%3F&In-Reply-To=29598b610911050747qf43fafan1d7e1fac9164d6ca%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005320.html">
   <LINK REL="Next"  HREF="005322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbit chokes?</H1>
    <B>Paul Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbit%20chokes%3F&In-Reply-To=29598b610911050747qf43fafan1d7e1fac9164d6ca%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] rabbit chokes?">pauljones23 at gmail.com
       </A><BR>
    <I>Thu Nov  5 15:54:06 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005320.html">[rabbitmq-discuss] rabbit chokes?
</A></li>
        <LI>Next message: <A HREF="005322.html">[rabbitmq-discuss] rabbit chokes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5321">[ date ]</a>
              <a href="thread.html#5321">[ thread ]</a>
              <a href="subject.html#5321">[ subject ]</a>
              <a href="author.html#5321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Unfortunately, its just been pointed out to me that you are using a
non-default vhost which the BQL tool currently can't do. So perhaps it won't
be useful in your situation at this point in time. Sorry about that.

On Thu, Nov 5, 2009 at 3:47 PM, Paul Jones &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pauljones23 at gmail.com</A>&gt; wrote:

&gt;<i> Hi Owen,
</I>&gt;<i>
</I>&gt;<i> You've got two options for this. Either you can write a client app to do a
</I>&gt;<i> queue purge, or you can install the BQL plugin which provides a console that
</I>&gt;<i> you can execute commands on.
</I>&gt;<i>
</I>&gt;<i> The page at <A HREF="http://www.rabbitmq.com/rabbitmq-bql.html#installationdiscusses">http://www.rabbitmq.com/rabbitmq-bql.html#installationdiscusses</A> installation of this plugin - once you've done that, you should be
</I>&gt;<i> able to execute a command such as:
</I>&gt;<i>   BQL&gt; purge queue celerygraph;
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Paul.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Nov 5, 2009 at 2:22 PM, Owen Nelson &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">onelson at ringling.edu</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Perhaps this is the culprit?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> rabbitmqctl list_queues -p gmate_test
</I>&gt;&gt;<i> Listing queues ...
</I>&gt;&gt;<i> celerygraph     277558
</I>&gt;&gt;<i> celery  0
</I>&gt;&gt;<i> ...done.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What's the best way to clear that out?  Looking at the man page for
</I>&gt;&gt;<i> rabbitmqctl, the only thing I see that would potentially do it would be
</I>&gt;&gt;<i> to reset the node, then rebuild the vhosts/users.  Is that the only way?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Matthias Radestock wrote:
</I>&gt;&gt;<i> &gt; Owen,
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Owen Nelson wrote:
</I>&gt;&gt;<i> &gt;&gt; =INFO REPORT==== 1-Nov-2009::09:13:43 ===
</I>&gt;&gt;<i> &gt;&gt;     alarm_handler: {set,{system_memory_high_watermark,[]}}
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; =INFO REPORT==== 1-Nov-2009::09:13:44 ===
</I>&gt;&gt;<i> &gt;&gt;     alarm_handler: {clear,system_memory_high_watermark}
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; These messages indicate that rabbit is running low on memory and is
</I>&gt;&gt;<i> &gt; attempting to throttle producers.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; I recommend checking the status of your rabbit using the 'rabbitmqctl
</I>&gt;&gt;<i> &gt; list_* ...' commands. Chances are you have lots of messages in queues,
</I>&gt;&gt;<i> &gt; or perhaps lots of queues, exchanges or bindings.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Regards,
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Matthias.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091105/1627f774/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20091105/1627f774/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005320.html">[rabbitmq-discuss] rabbit chokes?
</A></li>
	<LI>Next message: <A HREF="005322.html">[rabbitmq-discuss] rabbit chokes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5321">[ date ]</a>
              <a href="thread.html#5321">[ thread ]</a>
              <a href="subject.html#5321">[ subject ]</a>
              <a href="author.html#5321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
