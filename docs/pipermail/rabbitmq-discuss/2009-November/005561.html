<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [Fwd: Bug#558462: rabbitmq-server logs in as	rabbitmq and hangs on pam_mount password prompt]
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BFwd%3A%20Bug%23558462%3A%20rabbitmq-server%20logs%20in%20as%0A%09rabbitmq%20and%20hangs%20on%20pam_mount%20password%20prompt%5D&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005560.html">
   <LINK REL="Next"  HREF="005567.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [Fwd: Bug#558462: rabbitmq-server logs in as	rabbitmq and hangs on pam_mount password prompt]</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BFwd%3A%20Bug%23558462%3A%20rabbitmq-server%20logs%20in%20as%0A%09rabbitmq%20and%20hangs%20on%20pam_mount%20password%20prompt%5D&In-Reply-To="
       TITLE="[rabbitmq-discuss] [Fwd: Bug#558462: rabbitmq-server logs in as	rabbitmq and hangs on pam_mount password prompt]">david.wragg at lshift.net
       </A><BR>
    <I>Sun Nov 29 09:58:07 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005560.html">[rabbitmq-discuss] [Fwd: Bug#558462: rabbitmq-server logs in as rabbitmq and hangs on pam_mount password prompt]
</A></li>
        <LI>Next message: <A HREF="005567.html">[rabbitmq-discuss] Amazon EC2 image with Stomp support available?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5561">[ date ]</a>
              <a href="thread.html#5561">[ thread ]</a>
              <a href="subject.html#5561">[ subject ]</a>
              <a href="author.html#5561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi John,

Thanks for forwarding this bug report.

John Leuner &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jewel at subvert-the-dominant-paradigm.net</A>&gt; writes:
&gt;<i> [...]
</I>&gt;<i> zeus:~# cd /var/log/rabbitmq/
</I>&gt;<i> zeus:/var/log/rabbitmq# ls -la
</I>&gt;<i> total 8
</I>&gt;<i> drwxr-xr-x  2 rabbitmq rabbitmq   42 2009-11-28 22:16 .
</I>&gt;<i> drwxr-xr-x 15 root     root     4096 2009-11-28 22:16 ..
</I>&gt;<i> -rw-r--r--  1 root     root       31 2009-11-28 22:16 startup_err
</I>&gt;<i> -rw-r--r--  1 root     root        0 2009-11-28 22:16 startup_log
</I>&gt;<i> zeus:/var/log/rabbitmq# cat startup_err 
</I>&gt;<i> reenter password for pam_mount:zeus:/var/log/rabbitmq# 
</I>&gt;<i>
</I>&gt;<i> The home directories on this box are mounted over CIFS, so I'm using
</I>&gt;<i> pam-mount and the option is &quot;required&quot;.
</I>&gt;<i>
</I>&gt;<i> Is there something that can be done so rabbitmq doesn't go through PAM
</I>&gt;<i> and doesn't get hung up on trying to mount some remote filesystems?
</I>
I don't think the rabbitmq packages are doing anything unusual, and I
wonder whether this affects any packages with init scripts that use
su, directly or indirectly, to start a daemon.  So it might be a case
of &quot;well don't do that&quot;.  I find it strange that pam_mount doesn't
exclude system accounts (the rabbitmq user is created as a system
account).

One likely fix on Florin's side would be to edit /etc/pam.d/su to
remove the pam_mount lines.

David

-- 
 [][][] David Wragg       | mail: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">david.wragg at lshift.net</A>
   [][] Senior Developer  | tel: +44 (0)20 7729 7060
 []  [] LShift Ltd        | web: www.lshift.net


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005560.html">[rabbitmq-discuss] [Fwd: Bug#558462: rabbitmq-server logs in as rabbitmq and hangs on pam_mount password prompt]
</A></li>
	<LI>Next message: <A HREF="005567.html">[rabbitmq-discuss] Amazon EC2 image with Stomp support available?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5561">[ date ]</a>
              <a href="thread.html#5561">[ thread ]</a>
              <a href="subject.html#5561">[ subject ]</a>
              <a href="author.html#5561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
