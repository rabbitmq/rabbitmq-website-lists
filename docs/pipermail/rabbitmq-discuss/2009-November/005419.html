<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Extending the protocol is straightforward enough (was Re: a possibility of AMQP/RabbitMQ extension?)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Extending%20the%20protocol%20is%20straightforward%20enough%0A%20%28was%20Re%3A%20a%20possibility%20of%20AMQP/RabbitMQ%20extension%3F%29&In-Reply-To=87pr7x9gzb.fsf%40goryachev.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005364.html">
   <LINK REL="Next"  HREF="005319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Extending the protocol is straightforward enough (was Re: a possibility of AMQP/RabbitMQ extension?)</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Extending%20the%20protocol%20is%20straightforward%20enough%0A%20%28was%20Re%3A%20a%20possibility%20of%20AMQP/RabbitMQ%20extension%3F%29&In-Reply-To=87pr7x9gzb.fsf%40goryachev.org"
       TITLE="[rabbitmq-discuss] Extending the protocol is straightforward enough (was Re: a possibility of AMQP/RabbitMQ extension?)">tonyg at lshift.net
       </A><BR>
    <I>Tue Nov 10 18:26:18 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005364.html">[rabbitmq-discuss] a possibility of AMQP/RabbitMQ extension?
</A></li>
        <LI>Next message: <A HREF="005319.html">[rabbitmq-discuss] rabbit-erlang-client/ebin/amqp_client.app.in	refers to non existant files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5419">[ date ]</a>
              <a href="thread.html#5419">[ thread ]</a>
              <a href="subject.html#5419">[ subject ]</a>
              <a href="author.html#5419">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Igor,

Igor Goryachev wrote:
&gt;<i> 0. is it safe to extend AMQP for customer needs (in such way as XMPP
</I>&gt;<i> permits to do)?
</I>
Interesting question. It's certainly *possible* -- you'd start by adding
the method to the specification document (in the rabbitmq-codegen
downloadable), and then cleaning and regenerating the client and server
(which generates the necessary stubs and skeletons, roughly), and then
extending rabbit_channel.erl to handle invocations of the various new
methods, and adding corresponding features to the client library.

All a bit awkward, but certainly possible, and in fact explicitly part
of the way AMQP was set up.

Sadly, you have to just *choose* a classID/methodID, because there are
none reserved for experimental or private use, and there's no registry.
But so long as you control both endpoints, you'll be fine...

... which brings me to the &quot;safe&quot; question. Your extension will be just
that, an extension, meaning that clients that don't understand the
classIDs/methodIDs you add will be at a loss. Again, if you have control
over both sides, you'll be fine.

I'm curious: what kind of extension would you like to add? Please tell
us more :-)

Regards,
  Tony

PS: there's an experimental branch of rabbitmq-codegen and
rabbitmq-server that has support for adding additional protocol
definitions without having to modify the central spec doc: it's
&quot;bug21763&quot;. It's undocumented, which is why it hasn't been QA'd and
merged into default yet. I'm working on it (on a back-back-back-burner).


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005364.html">[rabbitmq-discuss] a possibility of AMQP/RabbitMQ extension?
</A></li>
	<LI>Next message: <A HREF="005319.html">[rabbitmq-discuss] rabbit-erlang-client/ebin/amqp_client.app.in	refers to non existant files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5419">[ date ]</a>
              <a href="thread.html#5419">[ thread ]</a>
              <a href="subject.html#5419">[ subject ]</a>
              <a href="author.html#5419">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
