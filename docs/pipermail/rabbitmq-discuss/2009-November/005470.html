<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Processing error in stomp plugin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Processing%20error%20in%20stomp%20plugin&In-Reply-To=20091117164710.GE21190%40wellquite.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005466.html">
   <LINK REL="Next"  HREF="005471.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Processing error in stomp plugin</H1>
    <B>Rajkumar S</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Processing%20error%20in%20stomp%20plugin&In-Reply-To=20091117164710.GE21190%40wellquite.org"
       TITLE="[rabbitmq-discuss] Processing error in stomp plugin">rajkumars at gmail.com
       </A><BR>
    <I>Wed Nov 18 13:31:19 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005466.html">[rabbitmq-discuss] Processing error in stomp plugin
</A></li>
        <LI>Next message: <A HREF="005471.html">[rabbitmq-discuss] Processing error in stomp plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5470">[ date ]</a>
              <a href="thread.html#5470">[ thread ]</a>
              <a href="subject.html#5470">[ subject ]</a>
              <a href="author.html#5470">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Nov 17, 2009 at 10:17 PM, Matthew Sackman &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at lshift.net</A>&gt; wrote:
&gt;<i> Hi Raj,
</I>&gt;<i>
</I>&gt;<i> I don't really know the Stomp adapter - hopefully if I get anything
</I>&gt;<i> wrong someone else will correct me.
</I>&gt;<i>
</I>&gt;<i> On Tue, Nov 17, 2009 at 08:41:07PM +0530, Rajkumar S wrote:
</I>&gt;&gt;<i> Server private detail: {{badmatch,
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{ok,
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {'channel.flow',false},
</I>&gt;<i>
</I>&gt;<i> I suspect you've run out of memory and so the channel flow feature has
</I>&gt;<i> been activated to stop you publishing anything further. Are there any
</I>&gt;<i> entries in the log suggesting you've hit the memory high watermark, or
</I>&gt;<i> does &quot;rabbitmqctl list_queues names messages messages_unacknowledged&quot;
</I>&gt;<i> show lots of messages?
</I>
Thanks Matthew for your kind answer,

I run this command under watch to refresh the output every 2 seconds.

 ./scripts/rabbitmqctl list_queues name messages consumers
messages_ready messages_unacknowledged messages_uncommitted
Listing queues ...
greyruby        0       0       0       0       0
postfix 2       0       0       2       0
amavis  0       0       0       0       0

Usually there are about 4 - 5 messages in queue. But when error
happens the number of messages become zero because all messages are
consumed and no new messages are being added to queues. All consumers
(I am consuming using python/amqplib) are running and live but just
waiting for messages in queue.

rabbitmq currently uses about 125m (Virtual Image), though I do not
have exact number while rabbitmq is showing error, I have not noticed
any thing unusual.

One thing I remembered when you mentioned channel flow feature is that
there are lot's of connections coming to this rabbitmq via stomp. Each
message is an individual tcp connection. I had problems with tcp syn
cookies before because of number of tcp connections and I have
disabled it now. Not sure if this is a factor but thought it would be
useful.

with regards,

raj


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005466.html">[rabbitmq-discuss] Processing error in stomp plugin
</A></li>
	<LI>Next message: <A HREF="005471.html">[rabbitmq-discuss] Processing error in stomp plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5470">[ date ]</a>
              <a href="thread.html#5470">[ thread ]</a>
              <a href="subject.html#5470">[ subject ]</a>
              <a href="author.html#5470">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
