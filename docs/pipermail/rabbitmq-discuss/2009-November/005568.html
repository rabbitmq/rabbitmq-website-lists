<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Bleeding edge persister and Erlang R13B03
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Bleeding%20edge%20persister%20and%20Erlang%20R13B03&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005567.html">
   <LINK REL="Next"  HREF="005571.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Bleeding edge persister and Erlang R13B03</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Bleeding%20edge%20persister%20and%20Erlang%20R13B03&In-Reply-To="
       TITLE="[rabbitmq-discuss] Bleeding edge persister and Erlang R13B03">matthew at lshift.net
       </A><BR>
    <I>Mon Nov 30 17:42:47 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005567.html">[rabbitmq-discuss] Amazon EC2 image with Stomp support available?
</A></li>
        <LI>Next message: <A HREF="005571.html">[rabbitmq-discuss] RabbitMQ SNMP Plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5568">[ date ]</a>
              <a href="thread.html#5568">[ thread ]</a>
              <a href="subject.html#5568">[ subject ]</a>
              <a href="author.html#5568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

For those of you testing the new persister (branch bug21673), you are
well advised to use Erlang R13B03, and not any version prior to this.
The reason is that in R13B02 and earlier, the garbage collector doesn't
seem to do much. This has a very bad effect on the new persister. R13B03
behaves quite wonderfully in comparison.

Typically, for a process state of about 20MB in size, in R13B02, we see
around 500MB allocated, and manually calling garbage_collect doesn't
shrink it much. In R13B03, for the same amount of process state, we see
about 40MB allocated - i.e. about twice as much as strictly necessary
(which seems to be sensible given garbage collection), as opposed to
more than 20 times as much.

In fact, for those of you using v1.7.0 or any other version of Rabbit,
it's quite likely the improvements to garbage collection in R13B03 are
going to be beneficial.

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005567.html">[rabbitmq-discuss] Amazon EC2 image with Stomp support available?
</A></li>
	<LI>Next message: <A HREF="005571.html">[rabbitmq-discuss] RabbitMQ SNMP Plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5568">[ date ]</a>
              <a href="thread.html#5568">[ thread ]</a>
              <a href="subject.html#5568">[ subject ]</a>
              <a href="author.html#5568">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
