<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Broker Query Language (BQL) crashing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Broker%20Query%20Language%20%28BQL%29%20crashing&In-Reply-To=20091120143453.GA1118%40mrnibble.lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005509.html">
   <LINK REL="Next"  HREF="005513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Broker Query Language (BQL) crashing</H1>
    <B>Lynton Grice</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Broker%20Query%20Language%20%28BQL%29%20crashing&In-Reply-To=20091120143453.GA1118%40mrnibble.lshift.net"
       TITLE="[rabbitmq-discuss] Broker Query Language (BQL) crashing">lynton.grice at logosworld.com
       </A><BR>
    <I>Fri Nov 20 15:17:40 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005509.html">[rabbitmq-discuss] Broker Query Language (BQL) crashing
</A></li>
        <LI>Next message: <A HREF="005513.html">[rabbitmq-discuss] Broker Query Language (BQL) crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5511">[ date ]</a>
              <a href="thread.html#5511">[ thread ]</a>
              <a href="subject.html#5511">[ subject ]</a>
              <a href="author.html#5511">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthew,

I just tried you exact recommendations below using the latest default branch
of the server and the version of the BQL you specified, then I created the
EZ files etc (actually put the new versions of the server and BQL you
specified over the one in e FRESH &quot;rabbit umbrella&quot; download).....so that
was my exact config on Windows.

I followed the exact instructions again to install the BQL stuff, activated
the plugins and restarted the server and I still get an error ;-(

C:\soabox\erlang\rabbitmq-public-umbrella\rabbitmq-server\priv\plugins\rabbi
tmq-bql\scripts&gt;bql.bat
BQL&gt; select * from exchanges
{&quot;init terminating in do_boot&quot;,{badarg,[{io,format,[&lt;0.29.0&gt;,&quot;BQL execution
failed:~n
~s~n&quot;,[{undef,[{rabbit_misc,localnode,[rabbit]},{bql_applicator,appl
y_commands,2},{bql_server,handle_message,1},{bql_server,handle_call,3},{gen_
server,handle_msg,5},{proc_lib,init_p_do_apply,3}]}]]},{bql_client,run_comma
nd,
0},{bql_client,execute_shell,0},{bql_client,start,0},{init,start_it,1},{init
,start_em,1}]}}

Any ideas?

Lynton



-----Original Message-----
From: Matthew Sackman [mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at lshift.net</A>] 
Sent: 20 November 2009 04:35 PM
To: Lynton Grice
Cc: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] Broker Query Language (BQL) crashing

Hi Lynton,

Sorry for the delay in getting back to you.

On Sun, Nov 15, 2009 at 05:01:46PM +0200, Lynton Grice wrote:
&gt;<i> 
</I>&gt;<i> I have tried exactly what you suggested below and I still get this error:
</I>&gt;<i> 
</I>&gt;<i>
</I>C:\soabox\erlang\rabbitmq-public-umbrella_just_compiled\rabbitmq-server\scri
&gt;<i> pts&gt;rabbitmq-server.bat
</I>&gt;<i> Using Custom Boot File
</I>&gt;<i>
</I>&quot;C:\soabox\erlang\rabbitmq-public-umbrella_just_compiled\rabbitmq-server\scr
&gt;<i> ipts\..\ebin\rabbit.boot&quot;
</I>&gt;<i> and was unexpected at this time.
</I>
Right, that, it turns out, was an issue with quoting paths under Windows
which exists in 1.7.0 and has since been fixed. Thus rabbitmq-server
default branch no longer has this bug.

&gt;<i> This version incompatibility is very frustrating ;-( It makes me wonder
</I>how
&gt;<i> many people out there have actually got BQL even running?
</I>
Under Windows? I suspect you may be the first!

&gt;<i> Any other possibilities? All I want is to get BQL running ;-)
</I>
Right, I have fixed the bug on the BQL plugin. Unfortunately it has yet
to be QA'd and so it's not on the default branch. At this point, because
of the above bug, the only possible solution under Windows is to run the
default branch of rabbitmq-server and the bab71e658da2 revision of BQL.
I believe that *should* work under Windows. I'm afraid that for reasons
of sanity, none of us develop here under Windows which explains,
although does not excuse, how these problems arose.

Please let us know how you get on.

Matthew



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005509.html">[rabbitmq-discuss] Broker Query Language (BQL) crashing
</A></li>
	<LI>Next message: <A HREF="005513.html">[rabbitmq-discuss] Broker Query Language (BQL) crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5511">[ date ]</a>
              <a href="thread.html#5511">[ thread ]</a>
              <a href="subject.html#5511">[ subject ]</a>
              <a href="author.html#5511">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
