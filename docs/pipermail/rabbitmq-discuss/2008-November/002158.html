<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Connection problems with Rabbitmq 1.4.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Connection%20problems%20with%20Rabbitmq%201.4.0&In-Reply-To=ff4cfc80811270315v6fe1d498lbe157c4d4a2ce04f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002161.html">
   <LINK REL="Next"  HREF="002159.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Connection problems with Rabbitmq 1.4.0</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Connection%20problems%20with%20Rabbitmq%201.4.0&In-Reply-To=ff4cfc80811270315v6fe1d498lbe157c4d4a2ce04f%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Connection problems with Rabbitmq 1.4.0">matthias at lshift.net
       </A><BR>
    <I>Thu Nov 27 11:49:43 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002161.html">[rabbitmq-discuss] RabbitMQ on Windows XP - Failed to create	cookie	file
</A></li>
        <LI>Next message: <A HREF="002159.html">[rabbitmq-discuss] Connection problems with Rabbitmq 1.4.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2158">[ date ]</a>
              <a href="thread.html#2158">[ thread ]</a>
              <a href="subject.html#2158">[ subject ]</a>
              <a href="author.html#2158">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Maarten,

Maarten Engelen wrote:
&gt;<i> I do a rabbitmqctl stop_app, followed by a reset and start_app command.
</I>
ok. That's fine.

&gt;&gt;<i> What does &quot;rabbitmqctl status&quot; return?
</I>&gt;<i> 
</I>&gt;<i> It returns the following:
</I>&gt;<i> 
</I>&gt;<i> Starting...Status of node <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at Workstation</A> ...
</I>&gt;<i> [{running_applications,[{rabbit,&quot;RabbitMQ&quot;,&quot;1.4.0&quot;},
</I>&gt;<i>                         {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.5&quot;},
</I>&gt;<i>                         {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.1.7&quot;},
</I>&gt;<i>                         {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.5.3&quot;},
</I>&gt;<i>                         {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.15.4&quot;},
</I>&gt;<i>                         {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.12.4&quot;}]},
</I>&gt;<i>  {nodes,[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at Workstation</A>]},
</I>&gt;<i>  {running_nodes,[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at Workstation</A>]}]
</I>
That all looks fine.

&gt;<i> Also connecting directly to port 5672 allows me to connect.
</I>&gt;<i> 
</I>&gt;<i> I just saw the following error in the logs which I didn't notive
</I>&gt;<i> before when running TestMain:
</I>&gt;<i> [...]
</I>&gt;<i> =ERROR REPORT==== 27-Nov-2008::12:11:55 ===
</I>&gt;<i> error on TCP connection &lt;0.1837.0&gt; from 127.0.0.1:63516
</I>&gt;<i> {bad_version,0,1}
</I>
That is normal. TestMain runs various tests, including some that are 
designed to provoke error cases, such as protocol version mismatches.

&gt;<i> When running ProducerMain or ConsumerMain I get the same Java error,
</I>
That's strange. The fact that you can connect to the port means rabbit 
is listening. Furthermore, the log messages show that TestMain was able 
to connect, but only once.

Please run the test through the tracer, i.e. start the tracer with
   sh runjava.sh com.rabbitmq.tools.Tracer
and then run TestMain with
   sh runjava.sh com.rabbitmq.examples.TestMain localhost 5673
and send me the output from the tracer.


Regards,

Matthias.
PS: please keep the list cc'ed.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002161.html">[rabbitmq-discuss] RabbitMQ on Windows XP - Failed to create	cookie	file
</A></li>
	<LI>Next message: <A HREF="002159.html">[rabbitmq-discuss] Connection problems with Rabbitmq 1.4.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2158">[ date ]</a>
              <a href="thread.html#2158">[ thread ]</a>
              <a href="subject.html#2158">[ subject ]</a>
              <a href="author.html#2158">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
