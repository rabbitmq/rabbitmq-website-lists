<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] until clients support Channel.Flow in	1.5.0+...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20until%20clients%20support%20Channel.Flow%20in%0A%091.5.0%2B...&In-Reply-To=5964582F-D17F-4104-87FE-08BBF80605D7%40lindenlab.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002098.html">
   <LINK REL="Next"  HREF="002099.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] until clients support Channel.Flow in	1.5.0+...</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20until%20clients%20support%20Channel.Flow%20in%0A%091.5.0%2B...&In-Reply-To=5964582F-D17F-4104-87FE-08BBF80605D7%40lindenlab.com"
       TITLE="[rabbitmq-discuss] until clients support Channel.Flow in	1.5.0+...">matthias at lshift.net
       </A><BR>
    <I>Fri Nov 21 08:03:28 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002098.html">[rabbitmq-discuss] until clients support Channel.Flow in	1.5.0+...
</A></li>
        <LI>Next message: <A HREF="002099.html">[rabbitmq-discuss] RabbitMQ ejabberd gateway
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2101">[ date ]</a>
              <a href="thread.html#2101">[ thread ]</a>
              <a href="subject.html#2101">[ subject ]</a>
              <a href="author.html#2101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Brian,

Ben wrote:
&gt;<i> If the client ignores the server initiated command, then the server
</I>&gt;<i> will just accept this until it dies.
</I>&gt;<i> We could fix this, I suppose.
</I>
and then Brian Sullivan wrote:

&gt;<i> Is there any reason we *wouldn't* want that behavior?  I might be  
</I>&gt;<i> coming from a paranoid place where I fear my ProducersOfDeath, but it  
</I>&gt;<i> really seems like a better idea to protect the server from crashing in  
</I>&gt;<i> these cases...
</I>&gt;<i> 
</I>&gt;<i> This fix is small enough to include in 1.5.0, I hope?
</I>
The main difficulty is figuring out that the client really is ignoring 
the request from the server, rather than just being a bit slow in 
dealing with it.

We do know a client is not respecting the request if it either 
explicitly rejects the channel.flow request or accepts it and then 
continues to send messages.

But when a client does not respond to channel.flow at all and just keeps 
sending messages then we simply have no idea whether that is because it 
is ignoring the server's request or because it just has not gotten round 
to dealing with it yet.

We could introduce some sort of timeout to handle this case. There may 
be other approaches too.

Implementation-wise that is all far more complex to deal with than what 
we currently have. So for 1.5.0 the channel.flow implementation will 
depend on compliant clients. All the clients we ship will be compliant. 
Furthermore, in our experience it is not very difficult to incorporate 
channel.flow handling in an existing client.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002098.html">[rabbitmq-discuss] until clients support Channel.Flow in	1.5.0+...
</A></li>
	<LI>Next message: <A HREF="002099.html">[rabbitmq-discuss] RabbitMQ ejabberd gateway
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2101">[ date ]</a>
              <a href="thread.html#2101">[ thread ]</a>
              <a href="subject.html#2101">[ subject ]</a>
              <a href="author.html#2101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
