<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq falling over &amp; losing messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20falling%20over%20%26%20losing%20messages&In-Reply-To=0CCF395F-1E6A-4F7F-A167-E41F824F9076%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002166.html">
   <LINK REL="Next"  HREF="002167.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq falling over &amp; losing messages</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20falling%20over%20%26%20losing%20messages&In-Reply-To=0CCF395F-1E6A-4F7F-A167-E41F824F9076%40gmail.com"
       TITLE="[rabbitmq-discuss] Rabbitmq falling over &amp; losing messages">0x6e6562 at gmail.com
       </A><BR>
    <I>Thu Nov 27 16:33:20 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002166.html">[rabbitmq-discuss] Rabbitmq falling over &amp; losing messages
</A></li>
        <LI>Next message: <A HREF="002167.html">[rabbitmq-discuss] some questions about rabbitmq clustering,	answered
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2168">[ date ]</a>
              <a href="thread.html#2168">[ thread ]</a>
              <a href="subject.html#2168">[ subject ]</a>
              <a href="author.html#2168">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Toby,

On Thu, Nov 27, 2008 at 3:41 PM, Toby White
&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">toby.o.h.white at googlemail.com</A>&gt; wrote:
&gt;<i> However, after anywhere between 50,000 and 100,000 messages have been
</I>&gt;<i> published, the client gets an exception, RabbitMQ crashes, and the
</I>&gt;<i> queue vanishes from the server, along with all unconsumed messages.
</I>&gt;<i> Recreating the queue shows it empty; restarting the server entirely is
</I>&gt;<i> a hit-and-miss affair; sometimes it works fine (though the messages
</I>&gt;<i> are still missing); sometimes it fails due to a timeout on the
</I>&gt;<i> persister process, and the only way to restart seems to be to delete /
</I>&gt;<i> var/lib/rabbitmq/mnesia.
</I>
I won't get time to look at this properly until next week (but
somebody else might), but as a quick thought, have you tried the
lastest version from the reporsitory (which is very close to be
released)?

Also, can you tell us what queues and bindings you have set up?

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002166.html">[rabbitmq-discuss] Rabbitmq falling over &amp; losing messages
</A></li>
	<LI>Next message: <A HREF="002167.html">[rabbitmq-discuss] some questions about rabbitmq clustering,	answered
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2168">[ date ]</a>
              <a href="thread.html#2168">[ thread ]</a>
              <a href="subject.html#2168">[ subject ]</a>
              <a href="author.html#2168">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
