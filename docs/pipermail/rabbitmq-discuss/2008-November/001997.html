<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Persister crashes Rabbit
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Persister%20crashes%20Rabbit&In-Reply-To=57cfcbc70811151043y3fdfaec9ieb2c580ee27d043e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001996.html">
   <LINK REL="Next"  HREF="002000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Persister crashes Rabbit</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Persister%20crashes%20Rabbit&In-Reply-To=57cfcbc70811151043y3fdfaec9ieb2c580ee27d043e%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Persister crashes Rabbit">0x6e6562 at gmail.com
       </A><BR>
    <I>Sat Nov 15 19:18:40 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001996.html">[rabbitmq-discuss] Persister crashes Rabbit
</A></li>
        <LI>Next message: <A HREF="002000.html">[rabbitmq-discuss] Persister crashes Rabbit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1997">[ date ]</a>
              <a href="thread.html#1997">[ thread ]</a>
              <a href="subject.html#1997">[ subject ]</a>
              <a href="author.html#1997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ilya,

On Sat, Nov 15, 2008 at 6:43 PM, Ilya Grigorik &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ilya at aiderss.com</A>&gt; wrote:
&gt;<i> - If we connect multiple nodes together (without persistence), and then
</I>&gt;<i> create an exchange, the in-memory queues will be replicated across all
</I>&gt;<i> nodes?
</I>
No, only broker entities are replicated (exchanges, queues and
bindings), but not the actual messages as indicated in the clustering
guide: <A HREF="http://www.rabbitmq.com/clustering.html">http://www.rabbitmq.com/clustering.html</A>

The reason for this is primarily the cost of inter-node message replication.

&gt;<i> - Assuming the cluster is running, is it up to the client to determine which
</I>&gt;<i> node it wants to connect to (either explicitly, or through some load
</I>&gt;<i> balancer in between)?
</I>
Yes.

&gt;<i> - Now, if we add persistence to the queue, will a copy of the queue be
</I>&gt;<i> stored on each node in the cluster?
</I>
You a queue only exists on one node in the cluster. Persistent
messages that are routed to a queue are written to disk on the node
where the queue exists. Also you need to differentiate between
persistent messages (a property that the publisher sets) and
persistent queue (a property that is set when creating a queue). The
implication is that you can send persistent messages to a transient
queue and vice versa.

HTH,

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001996.html">[rabbitmq-discuss] Persister crashes Rabbit
</A></li>
	<LI>Next message: <A HREF="002000.html">[rabbitmq-discuss] Persister crashes Rabbit
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1997">[ date ]</a>
              <a href="thread.html#1997">[ thread ]</a>
              <a href="subject.html#1997">[ subject ]</a>
              <a href="author.html#1997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
