<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq-discuss%20Digest%2C%20Vol%2018%2C%20Issue%2034&In-Reply-To=57cfcbc70811160726jc0de7a9n18daa72dad5448ef%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002015.html">
   <LINK REL="Next"  HREF="002018.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq-discuss%20Digest%2C%20Vol%2018%2C%20Issue%2034&In-Reply-To=57cfcbc70811160726jc0de7a9n18daa72dad5448ef%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34">alexis.richardson at cohesiveft.com
       </A><BR>
    <I>Sun Nov 16 18:26:52 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002015.html">[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
</A></li>
        <LI>Next message: <A HREF="002018.html">[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2016">[ date ]</a>
              <a href="thread.html#2016">[ thread ]</a>
              <a href="subject.html#2016">[ subject ]</a>
              <a href="author.html#2016">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ilya

I recommend persisting with this.  (sorry, I could not resist that)

Can you say a bit more on the list about the case in which you need to
buffer a day's worth of messages please?

* I am assuming flow control does not solve your problem - I think you
have made that clear, but can I just check?
* How often do you expect the 250Gb case to happen - do you consider
it exceptional or normal?
* What about 2Gb, 8Gb, ...?
* Do you have ordering constraints, and/or must all the messages be on one queue
* In the case where you need to page to disk due to a lack of machine
memory, and because your queues are not being drained by consumers,
does it matter what the latency of message delivery is once the
consumers come back?

The point being that there may be some workaround that you can try,
depending on the answer to the above.  You may be able to see where I
am going by the last question... ;-)

alexis


On Sun, Nov 16, 2008 at 3:26 PM, Ilya Grigorik &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ilya at aiderss.com</A>&gt; wrote:
&gt;<i> Ben, I may be running out of patience on the recovery of the queue (after
</I>&gt;<i> the crash), I'll try overloading it once more later tonight and report on my
</I>&gt;<i> findings.
</I>&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://dev.rabbitmq.com/wiki/DiskOverflow">https://dev.rabbitmq.com/wiki/DiskOverflow</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Comment and add suggestions if any.
</I>&gt;<i>
</I>&gt;<i> Lots of great ideas in there, a few things that stood out to me:
</I>&gt;<i>
</I>&gt;<i> 1. I would love to have control of overflow conditions at at queue level.
</I>&gt;<i> Having said that it's a double edged sword. Once you're that granular it
</I>&gt;<i> also becomes painful do resource planning (woops, forgot a queue) and server
</I>&gt;<i> has gone to hell - though I think it's a fair tradeoff.
</I>&gt;<i>
</I>&gt;<i> 2. I really like the idea of being able to fix the maximum size on a queue,
</I>&gt;<i> as that would allow me to plan for the amount of available memory + disk and
</I>&gt;<i> guarantee some QoS thresholds. Drop, Trip, Warn would be perfect for a hard
</I>&gt;<i> limit, and I imagine TTL could be an interesting solution to anyone working
</I>&gt;<i> with time-sensitive data.
</I>&gt;<i>
</I>&gt;&gt;<i> Filling up a SAN though can be considered an exceptional and absolutely
</I>&gt;&gt;<i> unavoidable last barrier, after all if you manage to fill up to
</I>&gt;&gt;<i> 500GB of space of an average consumer disk probably you forgot that the
</I>&gt;&gt;<i> server even exists.
</I>&gt;<i>
</I>&gt;<i> Not entirely true, based on my calculations we (AideRSS) would need ~250GB
</I>&gt;<i> of space to buffer a day's worth of messages, and that is something we're
</I>&gt;<i> aiming for. (Though we may be an edge case)
</I>&gt;<i>
</I>&gt;<i> ig
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002015.html">[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
</A></li>
	<LI>Next message: <A HREF="002018.html">[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2016">[ date ]</a>
              <a href="thread.html#2016">[ thread ]</a>
              <a href="subject.html#2016">[ subject ]</a>
              <a href="author.html#2016">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
