<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ on Windows XP - Failed to create	cookie	file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20on%20Windows%20XP%20-%20Failed%20to%20create%0A%09cookie%09file&In-Reply-To=492E94F0.3030601%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002160.html">
   <LINK REL="Next"  HREF="002158.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ on Windows XP - Failed to create	cookie	file</H1>
    <B>Butler John (KIRX 19)</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20on%20Windows%20XP%20-%20Failed%20to%20create%0A%09cookie%09file&In-Reply-To=492E94F0.3030601%40lshift.net"
       TITLE="[rabbitmq-discuss] RabbitMQ on Windows XP - Failed to create	cookie	file">john.f.butler at credit-suisse.com
       </A><BR>
    <I>Thu Nov 27 13:08:55 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002160.html">[rabbitmq-discuss] RabbitMQ on Windows XP - Failed to create cookie	file
</A></li>
        <LI>Next message: <A HREF="002158.html">[rabbitmq-discuss] Connection problems with Rabbitmq 1.4.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2161">[ date ]</a>
              <a href="thread.html#2161">[ thread ]</a>
              <a href="subject.html#2161">[ subject ]</a>
              <a href="author.html#2161">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Hubert,

Got it solved - thanks for the help - but maybe something others might
come across....

Firstly the system details are : 

Erlang OTP version 5.5.5
Windows XP Professional 5.1 Service Pack 2
Rabbit MQ 1.4.0

ERLANG picks up the standard value of the PC environment variables

Eshell V5.5.5  (abort with ^G)
1&gt; init:get_argument(home).
{ok,[[&quot;Y:\\Data\\Profiles\\John&quot;]]}

But this directory does not exist !!! (the correct directory would be
C:\Data\Profiles\John

I then check the standard system settings and see

HOMEDRIVE=Y:
HOMEPATH=\Data\Profiles\John

Clearly ERLANG puts these two together to form the HOME directory. This
is a work PC and its the first time I have ever come across this
situation - no other application would appear to marge these two values
to create HOME.

By changing the HOMEDRIVE to C:, the HOME for ERLANG is then corect all
starts ok

When trying to find this solution via google yesterday some other users
hinted at this problem but did not give specifics - but clearly others
have run into when when using a network drive for HOMEDRIVE and ERLANG 

Thanks

John

-----Original Message-----
From: Hubert Plociniczak [mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">hubert at lshift.net</A>] 
Sent: Thursday, November 27, 2008 1:39 PM
To: Butler John (KIRX 19)
Cc: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] RabbitMQ on Windows XP - Failed to
create cookie file

Hi John,

I am not able to replicate the problem on my test machine so we would 
need some more information about your system.
Are you running XP or Vista? Which version of erlang/otp do you run?

In erlang shell (started by bin\erl.exe) what do you get when running:
 &gt; init:get_argument(home).

Does this agree with what you have set as environmental variable?
I assume you have write permissions to this directory, but I want to 
make sure.

Thanks,
Hubert

Butler John (KIRX 19) wrote:
&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> Im trying to get started with RabbitMQ and have Erlang RTP set up 
</I>&gt;<i> without problem.
</I>&gt;<i>
</I>&gt;<i> Any attempt to start rabbitmq always ends up with a &quot;Failed to create 
</I>&gt;<i> cookie file&quot; message
</I>&gt;<i>
</I>&gt;<i> Y:\rabbitmq_server-1.4.0\sbin&gt;rabbitmq-server.bat
</I>&gt;<i> {error_logger,{{2008,11,27},{9,21,45}},&quot;Failed to create cookie
</I>file&quot;,[]}
&gt;<i>
</I>{error_logger,{{2008,11,27},{9,21,45}},crash_report,[[{pid,&lt;0.20.0&gt;},{re
gistered 
&gt;<i>
</I>&gt;<i> _name,auth},{error_info,{&quot;Failed to create cookie 
</I>&gt;<i> file&quot;,[{auth,init_cookie,0},{a
</I>&gt;<i>
</I>uth,init,1},{gen_server,init_it,6},{proc_lib,init_p,5}]}},{initial_call,
{gen,ini 
&gt;<i>
</I>&gt;<i>
</I>t_it,[gen_server,&lt;0.18.0&gt;,&lt;0.18.0&gt;,{local,auth},auth,[],[]]}},{ancestors
,[net_su 
&gt;<i>
</I>&gt;<i>
</I>p,kernel_sup,&lt;0.9.0&gt;]},{messages,[]},{links,[&lt;0.18.0&gt;]},{dictionary,[]},
{trap_ex 
&gt;<i>
</I>&gt;<i>
</I>it,true},{status,running},{heap_size,987},{stack_size,21},{reductions,69
9}],[]]} 
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Looking around on the google pages gave some hints that the 
</I>&gt;<i> environment settings for HOME or HOMEDRIVE or HOMEPATH might be 
</I>&gt;<i> important so these have all been set to Y:\rabbitmq_server-1.4.0.
</I>&gt;<i>
</I>&gt;<i> Any other hints would be great
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>------------------------------------------------------------------------
&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>   
</I>

-- 
 [][][] Hubert Plociniczak
   [][] LShift Ltd
 []  [] www.lshift.net



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002160.html">[rabbitmq-discuss] RabbitMQ on Windows XP - Failed to create cookie	file
</A></li>
	<LI>Next message: <A HREF="002158.html">[rabbitmq-discuss] Connection problems with Rabbitmq 1.4.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2161">[ date ]</a>
              <a href="thread.html#2161">[ thread ]</a>
              <a href="subject.html#2161">[ subject ]</a>
              <a href="author.html#2161">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
