<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq erlang client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20erlang%20client&In-Reply-To=415a0600811061319y46677e12lb241c078d057ef22%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001869.html">
   <LINK REL="Next"  HREF="001872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq erlang client</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20erlang%20client&In-Reply-To=415a0600811061319y46677e12lb241c078d057ef22%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] rabbitmq erlang client">0x6e6562 at gmail.com
       </A><BR>
    <I>Thu Nov  6 23:13:36 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001869.html">[rabbitmq-discuss] rabbitmq erlang client
</A></li>
        <LI>Next message: <A HREF="001872.html">[rabbitmq-discuss] rabbitmq erlang client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1870">[ date ]</a>
              <a href="thread.html#1870">[ thread ]</a>
              <a href="subject.html#1870">[ subject ]</a>
              <a href="author.html#1870">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>[Orion|Henry],

On Thu, Nov 6, 2008 at 9:19 PM, Orion Henry &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">orion.henry at gmail.com</A>&gt; wrote:
&gt;<i> My test code looks like this:
</I>&gt;<i>
</I>&gt;<i> test_client() -&gt;
</I>&gt;<i>    io:format(&quot;--- begin~n&quot;),
</I>&gt;<i>    Connection =
</I>&gt;<i> amqp_connection:start_link(&quot;mylogin&quot;,&quot;mypass&quot;,&quot;127.0.0.1&quot;,&lt;&lt;&quot;/myvhost&quot;&gt;&gt;),
</I>&gt;<i>    io:format(&quot;--- got Connection = ~p.~n&quot;,[Connection]),
</I>&gt;<i>    Channel = amqp_connection:open_channel(Connection),
</I>&gt;<i>    io:format(&quot;--- got Channel = ~p.~n&quot;,[Channel]).
</I>&gt;<i>
</I>&gt;<i> this seems to work ok but I get a &quot;Have a look into this one: closed&quot;
</I>&gt;<i> message a split second later.   If I add anymore code, such as a
</I>&gt;<i>
</I>&gt;<i>    X2 = lib_amqp:declare_exchange(Channel, &lt;&lt;&quot;abc&quot;&gt;&gt;),
</I>
I've run your test code with the client version you specified and it
seems fine :-(

The error log you are seeing &quot;Have a look into this one: closed&quot;
indicates that the TCP connection between the client and the broker
has been closed for some reason.

Maybe you can elaborate on your setup, like how you installed Rabbit,
the client and look into the server logs.


&gt;<i> I'm currently using erlang client 3a9ce636e283 and rabbitmq_server
</I>&gt;<i> 200803291005.  That said I have not been able to get the erlang make
</I>&gt;<i> all_tests work against the rabbitmq server.
</I>
What do you get when you run network_client_test:test/0 ?

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001869.html">[rabbitmq-discuss] rabbitmq erlang client
</A></li>
	<LI>Next message: <A HREF="001872.html">[rabbitmq-discuss] rabbitmq erlang client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1870">[ date ]</a>
              <a href="thread.html#1870">[ thread ]</a>
              <a href="subject.html#1870">[ subject ]</a>
              <a href="author.html#1870">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
