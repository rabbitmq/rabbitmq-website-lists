<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq erlang client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20erlang%20client&In-Reply-To=415a0600811062309n7cec7d6bi405e2d784dc561f3%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001872.html">
   <LINK REL="Next"  HREF="001916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq erlang client</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20erlang%20client&In-Reply-To=415a0600811062309n7cec7d6bi405e2d784dc561f3%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] rabbitmq erlang client">0x6e6562 at gmail.com
       </A><BR>
    <I>Sat Nov  8 01:20:04 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001872.html">[rabbitmq-discuss] rabbitmq erlang client
</A></li>
        <LI>Next message: <A HREF="001916.html">[rabbitmq-discuss] rabbitmq erlang client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1886">[ date ]</a>
              <a href="thread.html#1886">[ thread ]</a>
              <a href="subject.html#1886">[ subject ]</a>
              <a href="author.html#1886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Orion | Henry,

On Fri, Nov 7, 2008 at 7:09 AM, Orion Henry &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">orion.henry at gmail.com</A>&gt; wrote:

&gt;<i> I decided to start over and wrote a shell script that did the whole
</I>&gt;<i> install and test....  here it is.
</I>&gt;<i>
</I>&gt;<i> ----------------------------------------
</I>&gt;<i> #!/bin/sh
</I>&gt;<i>
</I>&gt;<i> tar xzvf rabbitmq-server-1.4.0.tar.gz
</I>&gt;<i> cd rabbitmq-server-1.4.0 ; make ; cd ..
</I>&gt;<i> sudo mv rabbitmq-server-1.4.0 /opt/local/lib/erlang/lib/rabbitmq_server-1.4.0
</I>&gt;<i> LOG_BASE=/tmp SKIP_HEART=true SKIP_LOG_ARGS=true
</I>&gt;<i> MNESIA_DIR=/tmp/rabbitmq_rabbit_test_direct_mnesia
</I>&gt;<i> RABBIT_ARGS=&quot;-detached -pa ./ebin&quot; NODENAME=rabbit_test_direct
</I>&gt;<i> /opt/local/lib/erlang/lib/rabbitmq_server-1.4.0/scripts/rabbitmq-server
</I>&gt;<i>
</I>&gt;<i> tar xzvf rabbitmq-erlang-client-3a9ce636e283.tar.gz
</I>&gt;<i> cd rabbitmq-erlang-client-3a9ce636e283; make; cd ..
</I>&gt;<i> sudo mv rabbitmq-erlang-client-3a9ce636e283
</I>&gt;<i> /opt/local/lib/erlang/lib/rabbitmq_client-3a9ce636e283
</I>&gt;<i>
</I>&gt;<i> erl -noshell -eval 'network_client_test:test(),halt().'
</I>&gt;<i> ----------------------------------------
</I>&gt;<i>
</I>&gt;<i> I've attached its output to this email (its very long as a text file).
</I>&gt;<i>  It contains the 6 failed tests from network_client_test:test/0
</I>
I've been able to reproduce your error: the problem is that the client
version you are using depends on a version of the broker later than
1.4.0. To reproduce this, I updated the broker back to the 1.4.0
release, rebuilt the client (rev 3a9ce636e283) and got exactly the
same error as you were getting.

So the solution is simple - upgrade to the latest version of the
server from the repo.

The reason why this is because the client reuses modules from the
broker in order to create a mirror image of a server side channel.

So the client is more intimately tied into the broker than the other
language clients are, which use the wire protocol and share no common
code base.

Until recently, the Erlang client has had an experimental status, but
due to increased interest, we have decided to promote this to a
properly support client. But there a number of issues that need to be
addressed before this goes 1.0.

In terms of ETA, this will only happen after the next release of the
server. Until then, you will just have to use the latest version from
the source tree.

HTH,

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001872.html">[rabbitmq-discuss] rabbitmq erlang client
</A></li>
	<LI>Next message: <A HREF="001916.html">[rabbitmq-discuss] rabbitmq erlang client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1886">[ date ]</a>
              <a href="thread.html#1886">[ thread ]</a>
              <a href="subject.html#1886">[ subject ]</a>
              <a href="author.html#1886">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
