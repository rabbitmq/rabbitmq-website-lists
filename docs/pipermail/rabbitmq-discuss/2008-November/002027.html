<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq-discuss%20Digest%2C%20Vol%2018%2C%20Issue%2034&In-Reply-To=167204d20811170411p5840edecx93709e39afd15b14%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002026.html">
   <LINK REL="Next"  HREF="002028.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34</H1>
    <B>Ilya Grigorik</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq-discuss%20Digest%2C%20Vol%2018%2C%20Issue%2034&In-Reply-To=167204d20811170411p5840edecx93709e39afd15b14%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34">ilya at aiderss.com
       </A><BR>
    <I>Mon Nov 17 22:53:09 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002026.html">[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
</A></li>
        <LI>Next message: <A HREF="002028.html">[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2027">[ date ]</a>
              <a href="thread.html#2027">[ thread ]</a>
              <a href="subject.html#2027">[ subject ]</a>
              <a href="author.html#2027">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've been running more benchmarks on Rabbit today, few more questions popped
up:

Any rules of thumb for memory requirements on Rabbit? I've setup a simple
consumer which pushes ~10kb/s into a Rabbit queue, and the persister file is
growing at an expected rate, but the memory appears to be fluctuating all
over the map. My persister got up to 386MB, but resident side of rabbit shot
up to 3.5GB.

Also, I've added a liberal swap partition to the box, but I'm still seeing
same behavior as before: rabbit died at around 2.2GB in the perister.log.
Kernel logs are not showing anything suspicious, and the node doesn't spit
out anything useful either:

=INFO REPORT==== 17-Nov-2008::17:46:00 ===
    alarm_handler: {clear,system_memory_high_watermark}

=INFO REPORT==== 17-Nov-2008::17:46:26 ===
Rolling persister log to
&quot;/var/lib/rabbitmq/mnesia/rabbit/rabbit_persister.LOG.previous&quot;

---

Erlang has closed
/usr/local/lib/erlang/lib/os_mon-2.1.8/priv/bin/memsup: Erlang has closed.

Is there a debug mode I could enable?

ig

P.S. I'm in for pitching in to fix this stuff. ;-)
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20081117/cf5ea860/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20081117/cf5ea860/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002026.html">[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
</A></li>
	<LI>Next message: <A HREF="002028.html">[rabbitmq-discuss] rabbitmq-discuss Digest, Vol 18, Issue 34
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2027">[ date ]</a>
              <a href="thread.html#2027">[ thread ]</a>
              <a href="subject.html#2027">[ subject ]</a>
              <a href="author.html#2027">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
