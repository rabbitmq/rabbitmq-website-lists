<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Proper protocol for dealing with crash dumps?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Proper%20protocol%20for%20dealing%20with%20crash%20dumps%3F&In-Reply-To=%3C507129B2.4080106%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022878.html">
   <LINK REL="Next"  HREF="022897.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Proper protocol for dealing with crash dumps?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Proper%20protocol%20for%20dealing%20with%20crash%20dumps%3F&In-Reply-To=%3C507129B2.4080106%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Proper protocol for dealing with crash dumps?">matthias at rabbitmq.com
       </A><BR>
    <I>Sun Oct  7 08:05:22 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022878.html">[rabbitmq-discuss] Proper protocol for dealing with crash dumps?
</A></li>
        <LI>Next message: <A HREF="022897.html">[rabbitmq-discuss] Proper protocol for dealing with crash dumps?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22879">[ date ]</a>
              <a href="thread.html#22879">[ thread ]</a>
              <a href="subject.html#22879">[ subject ]</a>
              <a href="author.html#22879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alex,

On 07/10/12 06:18, Alex Zepeda wrote:
&gt;<i> These machines have under 2GB of RAM so allocating in excess of 700MB
</I>&gt;<i> seems a bit odd.
</I>
The total memory and high watermark are shown in the rabbit logs, e.g.
s.t. like

=INFO REPORT==== 3-Oct-2012::20:31:08 ===
Memory limit set to 4814MB of 12036MB total.

So check that these figures make sense for your setup.

&gt;<i> In an ideal world we'd see around 48,000 messages per day *at the
</I>&gt;<i> very most*.  In practice, we're running into problems where an order
</I>&gt;<i> of magnitude more messages are being queued up under some
</I>&gt;<i> circumstances... but I'd expect that rabbit should handle that
</I>&gt;<i> gracefully and block the connection, no?
</I>
When under memory pressure rabbit will page the messages to disk, and
block producers to control the rate of message influx so it can keep up. 
Hence high message volumes should not cause rabbit to run out of memory.

As suggested previously, when rabbit is using more memory than you
expect the output of 'rabbitmqctl report' should shed some light on
where it's going.

Regards,

Matthias.
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022878.html">[rabbitmq-discuss] Proper protocol for dealing with crash dumps?
</A></li>
	<LI>Next message: <A HREF="022897.html">[rabbitmq-discuss] Proper protocol for dealing with crash dumps?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22879">[ date ]</a>
              <a href="thread.html#22879">[ thread ]</a>
              <a href="subject.html#22879">[ subject ]</a>
              <a href="author.html#22879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
