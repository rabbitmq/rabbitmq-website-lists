<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] the cost of creating a queue?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20the%20cost%20of%20creating%20a%20queue%3F&In-Reply-To=%3C87zk3lcsjz.wl%25francesco%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023096.html">
   <LINK REL="Next"  HREF="023111.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] the cost of creating a queue?</H1>
    <B>Francesco Mazzoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20the%20cost%20of%20creating%20a%20queue%3F&In-Reply-To=%3C87zk3lcsjz.wl%25francesco%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] the cost of creating a queue?">francesco at rabbitmq.com
       </A><BR>
    <I>Wed Oct 17 11:16:16 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023096.html">[rabbitmq-discuss] the cost of creating a queue?
</A></li>
        <LI>Next message: <A HREF="023111.html">[rabbitmq-discuss] the cost of creating a queue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23110">[ date ]</a>
              <a href="thread.html#23110">[ thread ]</a>
              <a href="subject.html#23110">[ subject ]</a>
              <a href="author.html#23110">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At Wed, 17 Oct 2012 11:02:51 +0200,
Alex Shneyderman wrote:
&gt;<i> I am curious if there are any numbers available on what amount of
</I>&gt;<i> resources does it take to create a queue? It is a clustered env. Most
</I>&gt;<i> of the queues are mirrored (durable and non).
</I>&gt;<i> 
</I>&gt;<i> The design of the system I have in mind is that I create one (maybe
</I>&gt;<i> two) queue per instance (each instance has 5 consumers and one
</I>&gt;<i> publisher and they all live on two connections to rabbit one for
</I>&gt;<i> publisher and one for consumers) that is part of the system. There are
</I>&gt;<i> up-to 100 instances ATM and that number might grow in the future. So,
</I>&gt;<i> there are about 100-200 queues that get created and need to be kept up
</I>&gt;<i> by Rabbit. I am curious if there is any estimate on how much RAM per
</I>&gt;<i> queue is required? Disk space? Any gotchas in the design you see right
</I>&gt;<i> from its description :-) ?
</I>
100-200 queues won't be a problem, at all.  I cannot give you exact numbers, but
creating a queue basically amounts to creating a record in the mnesia database,
and the record is quite tiny:
&lt;<A HREF="http://hg.rabbitmq.com/rabbitmq-server/file/c6fbb723f718/include/rabbit.hrl#l49">http://hg.rabbitmq.com/rabbitmq-server/file/c6fbb723f718/include/rabbit.hrl#l49</A>&gt;.

There will be an overhead when creating a queue in a clustered rabbit (since the
mnesia transaction has to be synchronised across the nodes) but there won't be
much creating an HA queue (the slaves are contacted asynchronously when creating
the queue).

---
Francesco.
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023096.html">[rabbitmq-discuss] the cost of creating a queue?
</A></li>
	<LI>Next message: <A HREF="023111.html">[rabbitmq-discuss] the cost of creating a queue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23110">[ date ]</a>
              <a href="thread.html#23110">[ thread ]</a>
              <a href="subject.html#23110">[ subject ]</a>
              <a href="author.html#23110">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
