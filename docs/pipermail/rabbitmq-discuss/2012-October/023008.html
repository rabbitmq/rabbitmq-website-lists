<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Disable Per-Connection Flow Control
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disable%20Per-Connection%20Flow%20Control&In-Reply-To=%3C5077FB88.6060208%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022987.html">
   <LINK REL="Next"  HREF="023019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Disable Per-Connection Flow Control</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disable%20Per-Connection%20Flow%20Control&In-Reply-To=%3C5077FB88.6060208%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Disable Per-Connection Flow Control">simon at rabbitmq.com
       </A><BR>
    <I>Fri Oct 12 12:14:16 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022987.html">[rabbitmq-discuss] Disable Per-Connection Flow Control
</A></li>
        <LI>Next message: <A HREF="023019.html">[rabbitmq-discuss] Disable Per-Connection Flow Control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23008">[ date ]</a>
              <a href="thread.html#23008">[ thread ]</a>
              <a href="subject.html#23008">[ subject ]</a>
              <a href="author.html#23008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/10/12 13:14, Dwayne Campbell wrote:
&gt;<i> Hi Guys,
</I>&gt;<i>
</I>&gt;<i> RabbitMQ now turns on flow control often even at 1.5 MB/s.  I have read
</I>&gt;<i> before to increase the TCP buffer size, however I do not have access to
</I>&gt;<i> increase the TCP buffer size o the machines.
</I>&gt;<i>
</I>&gt;<i> How can i disable Per-Connection Flow Control ?   Memory based  and Disk
</I>&gt;<i> based control is enough for me.
</I>
Hi. You should be aware that the flow control is indicating that some 
part of the message pipeline is overloaded. If you were to turn off flow 
control it would just lead to messages backing up ahead of that part of 
the pipeline - leading to memory use ballooning very rapidly and no 
increase in throughput.

If you are sending lots of tiny messages then the routing part of the 
pipeline can be the most expensive - my workstation manages only about 
2.5MB/s with zero-length messages.

The advice about increasing the buffer size is to allow your machine to 
handle short bursts of messages, at higher rates than it can manage in a 
steady state. It won't get you a higher steady state rate.

To process messages faster on a single machine you might enable HiPE 
compilation: see <A HREF="http://www.rabbitmq.com/configure.html">http://www.rabbitmq.com/configure.html</A>

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022987.html">[rabbitmq-discuss] Disable Per-Connection Flow Control
</A></li>
	<LI>Next message: <A HREF="023019.html">[rabbitmq-discuss] Disable Per-Connection Flow Control
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23008">[ date ]</a>
              <a href="thread.html#23008">[ thread ]</a>
              <a href="subject.html#23008">[ subject ]</a>
              <a href="author.html#23008">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
