<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Clustering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering&In-Reply-To=%3C140F445C-D95D-45F5-874C-F62DB4D695B3%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023279.html">
   <LINK REL="Next"  HREF="023246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Clustering</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering&In-Reply-To=%3C140F445C-D95D-45F5-874C-F62DB4D695B3%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Clustering">watson.timothy at gmail.com
       </A><BR>
    <I>Tue Oct 23 09:12:01 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023279.html">[rabbitmq-discuss] Clustering
</A></li>
        <LI>Next message: <A HREF="023246.html">[rabbitmq-discuss] Adding slave for mirrored queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23264">[ date ]</a>
              <a href="thread.html#23264">[ thread ]</a>
              <a href="subject.html#23264">[ subject ]</a>
              <a href="author.html#23264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please provide me with full details of your environments (os, version, etc) and can you please post a full transcript of all the commands and their output.

Thanks



On 22 Oct 2012, at 20:28, chetan dev &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dev440 at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Yes i clustered them as given on rabbitmq clustering documentation for e.g
</I>&gt;<i> on the first place both nodes are running 
</I>&gt;<i> now i stopped app using rabbitmqctl stop_app then i reset that node than i clusterd that node with another using rabbitmqctl cluster <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SHIKHARM</A>
</I>&gt;<i> then i started the node using rabbitmqctl start_app
</I>&gt;<i> when i checked the cluster status it was showing fine then i did as i mentioned earlier 
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> 
</I>&gt;<i> On Mon, Oct 22, 2012 at 7:51 PM, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">watson.timothy at gmail.com</A>&gt; wrote:
</I>&gt;<i> Yes but how did you cluster them on the first place? You do realise that rabbit nodes are not clustered automatically?
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On 22 Oct 2012, at 14:17, chetan dev &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dev440 at gmail.com</A>&gt; wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thanks for your reply i am using 2.8.6
</I>&gt;&gt;<i> here is what i am doing 
</I>&gt;&gt;<i> 1. two nodes <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SHIKHARM</A> and <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CHETANDEV</A> are clustered 
</I>&gt;&gt;<i> 2. now i stop node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SHIKHARM</A> using  rabbitmqctl stop commnad
</I>&gt;&gt;<i> 3. now i start the node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SHIKHARM</A> using rabbitmq-server start commnad
</I>&gt;&gt;<i> 4. and then i check cluster status it shows only one running node  
</I>&gt;&gt;<i> Cluster status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CHETANDEV</A> ...
</I>&gt;&gt;<i> [{nodes,[{disc,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SHIKHARM</A>]},{ram,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CHETANDEV</A>]}]},
</I>&gt;&gt;<i>  {running_nodes,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at CHETANDEV</A>]}]
</I>&gt;&gt;<i> ...done.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On Mon, Oct 22, 2012 at 6:39 PM, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>&gt; wrote:
</I>&gt;&gt;<i> Works for me! ;)
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> What version(s) of rabbit are you running and can you please post the exact commands you're using to start each node, to stop one of the applications (not the node) and cluster it with the other one and then finally the command you're using to start again.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Cheers
</I>&gt;&gt;<i> Tim
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On 22 Oct 2012, at 14:04, chetan dev wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> &gt; Hi,
</I>&gt;&gt;<i> &gt; I have two nodes clustered together , but when i stop a node using rabbbitmqctl stop command and start the broker with rabbitmq-server detached commnad
</I>&gt;&gt;<i> &gt; now when  i see the cluster status it shows only one broker running while both of the brokers are running fine.
</I>&gt;&gt;<i> &gt; can anybody explain this or tell me what mistake i am making?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Thanks
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; --
</I>&gt;&gt;<i> &gt; Cheten  Dev
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; B.Tech Final Year
</I>&gt;&gt;<i> &gt; Dept. of Electrical Engg.
</I>&gt;&gt;<i> &gt; IIT Delhi, New Delhi
</I>&gt;&gt;<i> &gt; ph 8527333215
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; _______________________________________________
</I>&gt;&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i> Cheten  Dev 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> B.Tech Final Year
</I>&gt;&gt;<i> Dept. of Electrical Engg.
</I>&gt;&gt;<i> IIT Delhi, New Delhi
</I>&gt;&gt;<i> ph 8527333215
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> Cheten  Dev 
</I>&gt;<i> 
</I>&gt;<i> B.Tech Final Year
</I>&gt;<i> Dept. of Electrical Engg.
</I>&gt;<i> IIT Delhi, New Delhi
</I>&gt;<i> ph 8527333215
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121023/01aa6e11/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121023/01aa6e11/attachment.htm</A>&gt;
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023279.html">[rabbitmq-discuss] Clustering
</A></li>
	<LI>Next message: <A HREF="023246.html">[rabbitmq-discuss] Adding slave for mirrored queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23264">[ date ]</a>
              <a href="thread.html#23264">[ thread ]</a>
              <a href="subject.html#23264">[ subject ]</a>
              <a href="author.html#23264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
