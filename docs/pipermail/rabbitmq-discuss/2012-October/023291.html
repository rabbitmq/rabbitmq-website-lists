<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] the meaning of  prefetch ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20the%20meaning%20of%20%20prefetch%20%3F&In-Reply-To=%3C5086C952.6040903%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023287.html">
   <LINK REL="Next"  HREF="023306.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] the meaning of  prefetch ?</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20the%20meaning%20of%20%20prefetch%20%3F&In-Reply-To=%3C5086C952.6040903%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] the meaning of  prefetch ?">emile at rabbitmq.com
       </A><BR>
    <I>Tue Oct 23 17:44:02 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023287.html">[rabbitmq-discuss] the meaning of  prefetch ?
</A></li>
        <LI>Next message: <A HREF="023306.html">[rabbitmq-discuss] the meaning of prefetch ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23291">[ date ]</a>
              <a href="thread.html#23291">[ thread ]</a>
              <a href="subject.html#23291">[ subject ]</a>
              <a href="author.html#23291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Andy,

On 23/10/12 00:43, D&#35843;&#30340;#&#26262;&#20908; wrote:
&gt;<i>  1. In offical website ,it describe that :&quot; it is useful to be able to
</I>&gt;<i> specify how many messages each consumer can be sent at once before
</I>&gt;<i> sending the next acknowledgement&quot; . when we first request the server, we
</I>&gt;<i> can get the amount which  defined by prefetch of messages  into my
</I>&gt;<i> client buffere pool,then my application will process it,if it can be
</I>&gt;<i> successfully processed ,the client need send a ACK back to the server,
</I>&gt;<i> to notice server that the message can be delete.Next,I doubt that
</I>&gt;<i> whether the server will re-send  some new messages to client?  and  the
</I>&gt;<i> amount  equals the  value of the prefetch or not  ?
</I>
That is correct. As soon as the client send an ACK to the server, the
server will send more messages. The multiple flag was set then many
messages may be sent (up to prefetch messages). If the multiple flag was
not set then only one message will be sent:
<A HREF="http://www.rabbitmq.com/amqp-0-9-1-reference.html#basic.ack.multiple">http://www.rabbitmq.com/amqp-0-9-1-reference.html#basic.ack.multiple</A>
If there are no messages in the queue, then the client must wait until
more messages arrive.

&gt;<i> 2.when the prefetch  define  will has  effect on my application?
</I>
If your application is driven by a queue subscription then it may well
have an effect.


-Emile

</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023287.html">[rabbitmq-discuss] the meaning of  prefetch ?
</A></li>
	<LI>Next message: <A HREF="023306.html">[rabbitmq-discuss] the meaning of prefetch ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23291">[ date ]</a>
              <a href="thread.html#23291">[ thread ]</a>
              <a href="subject.html#23291">[ subject ]</a>
              <a href="author.html#23291">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
