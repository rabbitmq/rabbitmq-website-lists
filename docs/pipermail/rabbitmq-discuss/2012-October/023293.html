<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Memory leak caused by error_logger in 2.8.6?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Memory%20leak%20caused%20by%20error_logger%20in%202.8.6%3F&In-Reply-To=%3C5086CF89.30403%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023292.html">
   <LINK REL="Next"  HREF="023295.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Memory leak caused by error_logger in 2.8.6?</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Memory%20leak%20caused%20by%20error_logger%20in%202.8.6%3F&In-Reply-To=%3C5086CF89.30403%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Memory leak caused by error_logger in 2.8.6?">simon at rabbitmq.com
       </A><BR>
    <I>Tue Oct 23 18:10:33 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023292.html">[rabbitmq-discuss] Memory leak caused by error_logger in 2.8.6?
</A></li>
        <LI>Next message: <A HREF="023295.html">[rabbitmq-discuss] Memory leak caused by error_logger in 2.8.6?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23293">[ date ]</a>
              <a href="thread.html#23293">[ thread ]</a>
              <a href="subject.html#23293">[ subject ]</a>
              <a href="author.html#23293">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/10/12 17:39, Travis wrote:
&gt;<i> On Tue, Oct 23, 2012 at 4:18 AM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hmm.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Looks like it is progressing too slowly towards GC; what happens if you GC
</I>&gt;&gt;<i> it manually?
</I>&gt;<i>
</I>&gt;<i> I'm not sure how to force a manual GC.  I'd be happy to test it out if
</I>&gt;<i> you can tell me how.
</I>
Ah right, I saw an Erlang term in your mail and assumed you were an 
Erlang developer :-) Try:

rabbitmqctl eval 'erlang:garbage_collect(whereis(error_logger)).'

And from another mail:

&gt;<i> Our best guess is that when the shovels undergo a period where they
</I>&gt;<i> have network issues while talking to the cluster, they start spamming
</I>&gt;<i> the logs with output and the memory usage rises.  Once the network
</I>&gt;<i> connectivity issues resolve themselves, the memory usage seems to
</I>&gt;<i> stabilize and remain moderately flat.
</I>
That makes sense - during the outage the error logger does a lot of work 
but doesn't get quite as far as GCing, then after the outage is over it 
does so much less work that it never goes through enough reductions to GC.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023292.html">[rabbitmq-discuss] Memory leak caused by error_logger in 2.8.6?
</A></li>
	<LI>Next message: <A HREF="023295.html">[rabbitmq-discuss] Memory leak caused by error_logger in 2.8.6?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23293">[ date ]</a>
              <a href="thread.html#23293">[ thread ]</a>
              <a href="subject.html#23293">[ subject ]</a>
              <a href="author.html#23293">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
