<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] consumer cancel notify support in pika
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20consumer%20cancel%20notify%20support%20in%20pika&In-Reply-To=%3CCAKwdTWcB8do1Uyffaza2SuzAMTJ2Oz-HAL2-9FMuFjQLQfHc2w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023498.html">
   <LINK REL="Next"  HREF="023506.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] consumer cancel notify support in pika</H1>
    <B>Gavin M. Roy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20consumer%20cancel%20notify%20support%20in%20pika&In-Reply-To=%3CCAKwdTWcB8do1Uyffaza2SuzAMTJ2Oz-HAL2-9FMuFjQLQfHc2w%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] consumer cancel notify support in pika">gmr at meetme.com
       </A><BR>
    <I>Wed Oct 31 22:08:59 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023498.html">[rabbitmq-discuss] consumer cancel notify support in pika
</A></li>
        <LI>Next message: <A HREF="023506.html">[rabbitmq-discuss] consumer cancel notify support in pika
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23502">[ date ]</a>
              <a href="thread.html#23502">[ thread ]</a>
              <a href="subject.html#23502">[ subject ]</a>
              <a href="author.html#23502">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Oct 31, 2012 at 5:03 PM, Peter Friend &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pfriend at gehrytech.com</A>&gt; wrote:

&gt;<i> Here are the issues I've had so far with 0.9.6:****
</I>&gt;<i>
</I>&gt;<i> ** 1. exchange_declare() type arg is now exchange_type
</I>&gt;<i>
</I>
Gotcha, I had moved way from the auto-assignment of reserved keywords.
type, in this case is a reserved word in Python, using it would reassign
the type function to the value passed in. While this does break with 0.9.5,
it does seem like it's the right behavior. Thoughts?

&gt;<i> ****
</I>&gt;<i>
</I>&gt;<i> 2. Ran into problems with RPC type calls. In 0.9.5 the docs for channel
</I>&gt;<i> has:****
</I>&gt;<i>
</I>&gt;<i>                queue_declare(self, callback=None, ticket=0, queue='',
</I>&gt;<i> passive=False, durable=False, exclusive=False, auto_delete=False,
</I>&gt;<i> nowait=False, arguments={})
</I>&gt;<i>
</I>
ticket has been removed from all the calls since it is deprecated in the
protocol and not used by anything. I can see how the behavioral change can
cause an issue if you were putting it in by default.


&gt;<i> ****
</I>&gt;<i>
</I>&gt;<i>    and in 0.9.6:****
</I>&gt;<i>
</I>&gt;<i>                queue_declare(self, callback, queue, passive=False,
</I>&gt;<i> durable=False, exclusive=False, auto_delete=False, nowait=False,
</I>&gt;<i> arguments=None)
</I>&gt;<i>
</I>****
&gt;<i>
</I>&gt;<i>    The callback and queue args are required now so a line that used to be:
</I>&gt;<i>
</I>&gt;<i>                result = channel.queue_declare(exclusive=True,
</I>&gt;<i> auto_delete=True) should presumably now be:****
</I>&gt;<i>
</I>&gt;<i>                result = channel.queue_declare(callback=None, queue='',
</I>&gt;<i> exclusive=True, auto_delete=True)****
</I>&gt;<i>
</I>&gt;<i>    However that results in this error:****
</I>&gt;<i>
</I>&gt;<i>                TypeError: queue_declare() got an unexpected keyword
</I>&gt;<i> argument 'callback'
</I>&gt;<i>
</I>Yeah callbacks in BlockingConnection were removed for synchronous commands.

&gt;<i>    This is confusing if you are reading the docs for channel, and is a
</I>&gt;<i> behavior change from 0.9.5.
</I>&gt;<i>
</I>Fair enough, in the async, I see the callback should be None, but queue
should not. Any suggestions for the right behavior here?  I could throw an
exception for passing in an empty queue name.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121031/94dc7235/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121031/94dc7235/attachment.htm</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023498.html">[rabbitmq-discuss] consumer cancel notify support in pika
</A></li>
	<LI>Next message: <A HREF="023506.html">[rabbitmq-discuss] consumer cancel notify support in pika
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23502">[ date ]</a>
              <a href="thread.html#23502">[ thread ]</a>
              <a href="subject.html#23502">[ subject ]</a>
              <a href="author.html#23502">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
