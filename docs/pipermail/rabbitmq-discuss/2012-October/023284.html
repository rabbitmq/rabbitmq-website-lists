<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to structure Master with many slaves?	RPC??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20structure%20Master%20with%20many%20slaves%3F%0A%09RPC%3F%3F&In-Reply-To=%3C1350996106593-22804.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023274.html">
   <LINK REL="Next"  HREF="023289.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to structure Master with many slaves?	RPC??</H1>
    <B>theBuckWheat</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20structure%20Master%20with%20many%20slaves%3F%0A%09RPC%3F%3F&In-Reply-To=%3C1350996106593-22804.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] How to structure Master with many slaves?	RPC??">tbw at rg6.org
       </A><BR>
    <I>Tue Oct 23 13:41:46 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023274.html">[rabbitmq-discuss] How to structure Master with many slaves? RPC??
</A></li>
        <LI>Next message: <A HREF="023289.html">[rabbitmq-discuss] How to structure Master with many slaves? RPC??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23284">[ date ]</a>
              <a href="thread.html#23284">[ thread ]</a>
              <a href="subject.html#23284">[ subject ]</a>
              <a href="author.html#23284">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a list of discrete tasks sitting on the master server and a (dynamic)
list of remote slaves, and I want to pick a slave from the list and send it
one of these tasks and then do the same for the remaining tasks until all
available slaves are busy.  

After some (variable) time, a slave will be finished and can send the result
file back to the master, after which it will be available to accept the next
task.  
 
So, the architecture issues with respect to using RabbitMQ are:

1) How best to structure pushing work to slaves;  At present, on the master
I keep a table of all slaves and a status flag.  If I set the status to
available, the master (based on a priority selection scheme) can pick one
off the list and push work to it.  The status is then set to 'busy'.  I can
set the status to unavailable at any time and that only removes the slave
from the list of slaves the master can push work to.  

2) How to structure fetching the finished work file?  Push or pull?  At
present, when a slave is finished, it calls the master and only sets a flag. 
Based on a priority scheme, the master will eventually pull the finished
work file from that slave, after which it marks that slave as being
available for work.

The load-balance model seems to apply, but only if I can control which slave
gets the message.  I don't want to broadcast to all slaves due to bandwidth
constraints.  As I read the various queue configurations, I understand how
each can be used, but I don't see a published one that applies to this
particular master-slave configuration because of its dynamic nature.   This
leads me to ponder the RPC model.  Am I missing something?

--tBW








--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/How-to-structure-Master-with-many-slaves-RPC-tp22782p22804.html">http://rabbitmq.1065348.n5.nabble.com/How-to-structure-Master-with-many-slaves-RPC-tp22782p22804.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023274.html">[rabbitmq-discuss] How to structure Master with many slaves? RPC??
</A></li>
	<LI>Next message: <A HREF="023289.html">[rabbitmq-discuss] How to structure Master with many slaves? RPC??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23284">[ date ]</a>
              <a href="thread.html#23284">[ thread ]</a>
              <a href="subject.html#23284">[ subject ]</a>
              <a href="author.html#23284">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
