<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Memory watermark alert not resetting.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Memory%20watermark%20alert%20not%20resetting.&In-Reply-To=%3C506DB68D.3080502%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022850.html">
   <LINK REL="Next"  HREF="022886.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Memory watermark alert not resetting.</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Memory%20watermark%20alert%20not%20resetting.&In-Reply-To=%3C506DB68D.3080502%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Memory watermark alert not resetting.">simon at rabbitmq.com
       </A><BR>
    <I>Thu Oct  4 17:17:17 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022850.html">[rabbitmq-discuss] Memory watermark alert not resetting.
</A></li>
        <LI>Next message: <A HREF="022886.html">[rabbitmq-discuss] Memory watermark alert not resetting.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22851">[ date ]</a>
              <a href="thread.html#22851">[ thread ]</a>
              <a href="subject.html#22851">[ subject ]</a>
              <a href="author.html#22851">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/10/12 16:57, Raviv Pavel wrote:
&gt;<i> Back to the original problem:
</I>&gt;<i> 1. I set the watermark very low so I can reach it, effectively  78MB
</I>
Ah. Was this what you had done in the first place?

&gt;<i> 2. server starts with empty queues and memory usage is 66MB
</I>&gt;<i> 3. I start publishing messages and reach the watermark
</I>&gt;<i> 4. publisher gets blocked
</I>&gt;<i> 5. I purge the queue but memory stays the same
</I>
When you set the watermark very low, close to the &quot;empty&quot; memory use, it 
is very possible that the memory level will go over and never go under 
again. Caches, lazy instantiation and so on. RabbitMQ is not designed 
for highly constrained memory environments.

Cheers. Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022850.html">[rabbitmq-discuss] Memory watermark alert not resetting.
</A></li>
	<LI>Next message: <A HREF="022886.html">[rabbitmq-discuss] Memory watermark alert not resetting.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22851">[ date ]</a>
              <a href="thread.html#22851">[ thread ]</a>
              <a href="subject.html#22851">[ subject ]</a>
              <a href="author.html#22851">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
