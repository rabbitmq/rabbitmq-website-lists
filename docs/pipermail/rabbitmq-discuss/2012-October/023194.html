<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] nodename variable and mnesia directory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20nodename%20variable%20and%20mnesia%20directory&In-Reply-To=%3CE94F626F5C43D14F8B8479C5EBD79038A85DD645%40vmexchange02.seegrid.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023435.html">
   <LINK REL="Next"  HREF="023199.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] nodename variable and mnesia directory</H1>
    <B>Elizabeth Liao</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20nodename%20variable%20and%20mnesia%20directory&In-Reply-To=%3CE94F626F5C43D14F8B8479C5EBD79038A85DD645%40vmexchange02.seegrid.local%3E"
       TITLE="[rabbitmq-discuss] nodename variable and mnesia directory">eliao at seegrid.com
       </A><BR>
    <I>Fri Oct 19 15:41:19 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023435.html">[rabbitmq-discuss] backup and fail-over to remote disaster recovery site
</A></li>
        <LI>Next message: <A HREF="023199.html">[rabbitmq-discuss] nodename variable and mnesia directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23194">[ date ]</a>
              <a href="thread.html#23194">[ thread ]</a>
              <a href="subject.html#23194">[ subject ]</a>
              <a href="author.html#23194">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We are currently running rabbitmq on a system where there is a need to change the hostname occasionally.  Right now, when the hostname is changed, we also update the NODENAME variable in the rabbitmq-env.conf file.

The problem we're having right now is that due to a bug when setting up the rabbitmq-env.conf file, sometimes the NODENAME variable exists but is not set to anything ( NODENAME=) so rabbit never successfully starts up.  Even after setting the NODENAME variable to the hostname, rabbit still doesn't start up properly.

The only way that I could find to recover from this situation without killing the erlang process, was to also set a MNESIA_DIR variable. After I did that, once the NODENAME was set to the correct hostname, rabbit started up properly.

A couple of questions:
Is this the proper way to fix the situation?
Will this have unintended consequences?

We are running rabbitmq-server-2.8.6 and erlang-R15B.

Thanks!

Liz
Email Confidentiality Notice

The information contained in this transmission is confidential, proprietary or privileged and may be subject to protection under the law. This message is intended for the sole use of the individual or entity to whom it's addressed. If you are not the intended recipient, you are notified that any use, distribution or copying of the message is strictly prohibited and may subject you to criminal or civil penalties. If you received this transmission in error, please contact the sender immediately by replying to this email and delete the material from any computer.
</PRE>













































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023435.html">[rabbitmq-discuss] backup and fail-over to remote disaster recovery site
</A></li>
	<LI>Next message: <A HREF="023199.html">[rabbitmq-discuss] nodename variable and mnesia directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23194">[ date ]</a>
              <a href="thread.html#23194">[ thread ]</a>
              <a href="subject.html#23194">[ subject ]</a>
              <a href="author.html#23194">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
