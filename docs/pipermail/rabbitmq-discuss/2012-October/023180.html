<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] requeue to HA mirrored queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20requeue%20to%20HA%20mirrored%20queue&In-Reply-To=%3C87objybyin.wl%25francesco%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023176.html">
   <LINK REL="Next"  HREF="023181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] requeue to HA mirrored queue</H1>
    <B>Francesco Mazzoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20requeue%20to%20HA%20mirrored%20queue&In-Reply-To=%3C87objybyin.wl%25francesco%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] requeue to HA mirrored queue">francesco at rabbitmq.com
       </A><BR>
    <I>Fri Oct 19 10:29:36 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023176.html">[rabbitmq-discuss] requeue to HA mirrored queue
</A></li>
        <LI>Next message: <A HREF="023181.html">[rabbitmq-discuss] requeue to HA mirrored queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23180">[ date ]</a>
              <a href="thread.html#23180">[ thread ]</a>
              <a href="subject.html#23180">[ subject ]</a>
              <a href="author.html#23180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At Fri, 19 Oct 2012 01:27:09 -0700 (PDT),
Jan Schumacher wrote:
&gt;<i> Hi everybody!
</I>&gt;<i> I'm trying to reject a message on a clustered rabbitmq with the queue property
</I>&gt;<i> requeue=true. The queue has set the argument requeue to true.
</I>&gt;<i> And the problem is, it just doesn't work. 
</I>&gt;<i> After sending the message to the queue the message is set to unacknowledged
</I>&gt;<i> and after rejecting the message it won't be rejected to the queue and is gone
</I>&gt;<i> to nowhere.
</I>
I'm not sure I understand your description, that's my interpretation:

*   Publish a message to an exchange and it gets routed to an HA queue
*   Consume the message from the queue
*   Reject the message with `requeue=true'
*   The queue disappears

We'd need the logs to understand what's going on, but we fixed a bug in the
slave synchronisation code in 2.8.7, and requeuing messages was one of the ways
to trigger it, so I'd suggest to try to upgrade.

If that doesn't work, describe what you're doing more precisely and post the
logs.

--
Francesco
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023176.html">[rabbitmq-discuss] requeue to HA mirrored queue
</A></li>
	<LI>Next message: <A HREF="023181.html">[rabbitmq-discuss] requeue to HA mirrored queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23180">[ date ]</a>
              <a href="thread.html#23180">[ thread ]</a>
              <a href="subject.html#23180">[ subject ]</a>
              <a href="author.html#23180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
