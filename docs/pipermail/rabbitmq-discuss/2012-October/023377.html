<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Per Connection Flow Control Issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Per%20Connection%20Flow%20Control%20Issue&In-Reply-To=%3CCAHZsVQZ4t7tJByvjVQ%3DOL1XCe2Ujq%3Dg65BgCeOR5waG%3Dvy%3DoUw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023346.html">
   <LINK REL="Next"  HREF="023383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Per Connection Flow Control Issue</H1>
    <B>Brendan Hay</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Per%20Connection%20Flow%20Control%20Issue&In-Reply-To=%3CCAHZsVQZ4t7tJByvjVQ%3DOL1XCe2Ujq%3Dg65BgCeOR5waG%3Dvy%3DoUw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Per Connection Flow Control Issue">brendan at soundcloud.com
       </A><BR>
    <I>Fri Oct 26 11:23:12 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023346.html">[rabbitmq-discuss] Per Connection Flow Control Issue
</A></li>
        <LI>Next message: <A HREF="023383.html">[rabbitmq-discuss] Per Connection Flow Control Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23377">[ date ]</a>
              <a href="thread.html#23377">[ thread ]</a>
              <a href="subject.html#23377">[ subject ]</a>
              <a href="author.html#23377">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, so what should the expected observation be - the client code carries
on publishing into a black hole,
which means the send queue on the client/peer socket should keep growing,
and when the rabbit reader is
issued new credits, it will lap it all up?

It just seems the 'flow' status in the UI stays on permanently, it doesn't
seem to be toggling at high speed, just locked.

Currently trying to create a small harness to reproduce this locally.

Thanks,
Brendan


On Thu, Oct 25, 2012 at 4:52 PM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:

&gt;<i> On 25/10/12 15:27, Michael Klishin wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Because amqp gem does not do any implicit or automatic flow control, I'd
</I>&gt;&gt;<i> expect the root cause
</I>&gt;&gt;<i> to be in EventMachine. Do you have a way to reproduce this issue?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The flow control at the server side is implemented by just not reading
</I>&gt;<i> from the socket. So clients do not need to do anything; publishing will
</I>&gt;<i> just block.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Simon MacMullen
</I>&gt;<i> RabbitMQ, VMware
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121026/404112b8/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121026/404112b8/attachment.htm</A>&gt;
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023346.html">[rabbitmq-discuss] Per Connection Flow Control Issue
</A></li>
	<LI>Next message: <A HREF="023383.html">[rabbitmq-discuss] Per Connection Flow Control Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23377">[ date ]</a>
              <a href="thread.html#23377">[ thread ]</a>
              <a href="subject.html#23377">[ subject ]</a>
              <a href="author.html#23377">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
