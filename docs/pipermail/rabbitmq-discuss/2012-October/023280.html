<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] STOMP 1.0 adapter escapes colon as \c (STOMP 1.1 style)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20STOMP%201.0%20adapter%20escapes%20colon%20as%20%5Cc%20%28STOMP%0A%201.1%20style%29&In-Reply-To=%3C50866BFE.9060605%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023273.html">
   <LINK REL="Next"  HREF="023285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] STOMP 1.0 adapter escapes colon as \c (STOMP 1.1 style)</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20STOMP%201.0%20adapter%20escapes%20colon%20as%20%5Cc%20%28STOMP%0A%201.1%20style%29&In-Reply-To=%3C50866BFE.9060605%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] STOMP 1.0 adapter escapes colon as \c (STOMP 1.1 style)">emile at rabbitmq.com
       </A><BR>
    <I>Tue Oct 23 11:05:50 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023273.html">[rabbitmq-discuss] STOMP 1.0 adapter escapes colon as \c (STOMP 1.1	style)
</A></li>
        <LI>Next message: <A HREF="023285.html">[rabbitmq-discuss] Issues about RabbitMQ Management HTTP API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23280">[ date ]</a>
              <a href="thread.html#23280">[ thread ]</a>
              <a href="subject.html#23280">[ subject ]</a>
              <a href="author.html#23280">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Michael,

On 23/10/12 09:48, Michael Justin wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> a test showed that a colon in a SEND frame will be escaped STOMP 
</I>&gt;<i> 1.1-style as \c, so this
</I>&gt;<i> 
</I>&gt;<i> SEND
</I>&gt;<i> destination:/queue/ExampleQueue
</I>&gt;<i> testcolon1:a:test
</I>&gt;<i> 
</I>&gt;<i> will be received as:
</I>&gt;<i> 
</I>&gt;<i> MESSAGE
</I>&gt;<i> destination:/queue/ExampleQueue
</I>&gt;<i> testcolon1:a\ctest
</I>&gt;<i> 
</I>&gt;<i> Is this as designed? The STOMP plugin page does not cover this escape 
</I>&gt;<i> mechanism, which was introduced with STOMP 1.1
</I>
The only difference in framing between 1.0 and 1.1 in the RabbitMQ STOMP
implementation at present is trimming. If the negotiated version is 1.0
then headers are trimmed. Only 1.1 frame parsing is implemented, under
the assumption that this is backwards-compatible.

Are you relying on the STOMP 1.0 behaviour w.r.t colons in header values?

&gt;<i> I also noticed that messages with header line which contains a backslash 
</I>&gt;<i> seem to be dropped on the broker side:
</I>&gt;<i> 
</I>&gt;<i> SEND
</I>&gt;<i> destination:/queue/ExampleQueue
</I>&gt;<i> testbackslash:\x
</I>&gt;<i> 
</I>&gt;<i> -&gt; the message does not appear in the Management console
</I>
This is compatible with 1.1, which says that undefined escape sequences
must be treated as a fatal protocol error.

We'd be interested in your opinion of how important strict STOMP 1.0
framing support is to help us decide whether to invest in that effort or
focus on 1.2 instead.


-Emile


</PRE>












































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023273.html">[rabbitmq-discuss] STOMP 1.0 adapter escapes colon as \c (STOMP 1.1	style)
</A></li>
	<LI>Next message: <A HREF="023285.html">[rabbitmq-discuss] Issues about RabbitMQ Management HTTP API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23280">[ date ]</a>
              <a href="thread.html#23280">[ thread ]</a>
              <a href="subject.html#23280">[ subject ]</a>
              <a href="author.html#23280">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
