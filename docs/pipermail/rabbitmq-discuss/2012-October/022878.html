<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Proper protocol for dealing with crash dumps?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Proper%20protocol%20for%20dealing%20with%20crash%20dumps%3F&In-Reply-To=%3C50711095.4010104%40inferiorhumanorgans.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022810.html">
   <LINK REL="Next"  HREF="022879.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Proper protocol for dealing with crash dumps?</H1>
    <B>Alex Zepeda</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Proper%20protocol%20for%20dealing%20with%20crash%20dumps%3F&In-Reply-To=%3C50711095.4010104%40inferiorhumanorgans.com%3E"
       TITLE="[rabbitmq-discuss] Proper protocol for dealing with crash dumps?">alex at inferiorhumanorgans.com
       </A><BR>
    <I>Sun Oct  7 06:18:13 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022810.html">[rabbitmq-discuss] Proper protocol for dealing with crash dumps?
</A></li>
        <LI>Next message: <A HREF="022879.html">[rabbitmq-discuss] Proper protocol for dealing with crash dumps?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22878">[ date ]</a>
              <a href="thread.html#22878">[ thread ]</a>
              <a href="subject.html#22878">[ subject ]</a>
              <a href="author.html#22878">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/3/12 2:24 PM, Matthias Radestock wrote:

&gt;<i> R13B03 is ancient, and countless bugs have been fixed since then,
</I>&gt;<i> including memory leaks. Though, tbh, it's not the first place I'd look.
</I>&gt;<i> Rabbit 2.8.7 plugs some leaks, but they were confined to HA queues (see
</I>&gt;<i> the release notes for more details), so unless you are using those then
</I>&gt;<i> upgrading won't help.
</I>&gt;<i> 
</I>&gt;<i> Have you changed the memory watermark settings of rabbit at all? If not
</I>&gt;<i> then rabbit really shouldn't run out of memory unless another program is
</I>&gt;<i> stealing the memory, or your app is creating lots of exchanges, queues
</I>&gt;<i> or bindings. Or lots of connections. Or you are using some exotic
</I>&gt;<i> plug-ins with hitherto undiscovered bugs. In all those cases, grabbing
</I>&gt;<i> the output of 'rabbitmqctl report' before rabbit dies should offer some
</I>&gt;<i> clues.
</I>
The config changes are, I think, limited to shovel related items,
logging, disk space, and TCP bits.  These machines have under 2GB of RAM
so allocating in excess of 700MB seems a bit odd.

In an ideal world we'd see around 48,000 messages per day *at the very
most*.  In practice, we're running into problems where an order of
magnitude more messages are being queued up under some circumstances...
but I'd expect that rabbit should handle that gracefully and block the
connection, no?

- alex

</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022810.html">[rabbitmq-discuss] Proper protocol for dealing with crash dumps?
</A></li>
	<LI>Next message: <A HREF="022879.html">[rabbitmq-discuss] Proper protocol for dealing with crash dumps?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22878">[ date ]</a>
              <a href="thread.html#22878">[ thread ]</a>
              <a href="subject.html#22878">[ subject ]</a>
              <a href="author.html#22878">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
