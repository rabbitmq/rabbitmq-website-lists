<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Apache Camel + RabbitMQ Configuration.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Apache%20Camel%20%2B%20RabbitMQ%20Configuration.&In-Reply-To=%3C1350846467427-22739.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="023227.html">
   <LINK REL="Next"  HREF="023231.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Apache Camel + RabbitMQ Configuration.</H1>
    <B>Syed</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Apache%20Camel%20%2B%20RabbitMQ%20Configuration.&In-Reply-To=%3C1350846467427-22739.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] Apache Camel + RabbitMQ Configuration.">ssigabudeen at qatarairways.com.qa
       </A><BR>
    <I>Sun Oct 21 20:07:47 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="023227.html">[rabbitmq-discuss] (no subject)
</A></li>
        <LI>Next message: <A HREF="023231.html">[rabbitmq-discuss] Apache Camel + RabbitMQ Configuration.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23224">[ date ]</a>
              <a href="thread.html#23224">[ thread ]</a>
              <a href="subject.html#23224">[ subject ]</a>
              <a href="author.html#23224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am using the below specification, I am not able to establish connection
with RabbitMQ using the below configuration. 

Set the VM arguments -Dqpid.dest_syntax=BURL -Dqpid.amqp.version=0-91

RabbitMQ 2.8.5
Camel - 2.10.0
QPID Client - 0.16

Camel Configuration
-------------------------

	&lt;bean id=&quot;amqp&quot; class=&quot;org.apache.camel.component.amqp.AMQPComponent&quot;&gt;
	&lt;property name=&quot;connectionFactory&quot;&gt;
		&lt;bean class=&quot;org.apache.qpid.client.AMQConnectionFactory&quot;&gt;
		&lt;constructor-arg index=&quot;0&quot; type=&quot;java.lang.String&quot;
			value=&quot;<A HREF="amqp://guest:guest@host/?brokerlist='tcp://localhost:5672'&quot;">amqp://guest:guest@host/?brokerlist='tcp://localhost:5672'&quot;</A> /&gt;
		&lt;/bean&gt;
	&lt;/property&gt;
	&lt;/bean&gt;

&lt;camelContext xmlns=&quot;<A HREF="http://camel.apache.org/schema/spring&quot;">http://camel.apache.org/schema/spring&quot;</A>&gt;
		&lt;route&gt;
			&lt;from uri=&quot;amqp:queue:Master&quot; /&gt;
			&lt;to
uri=&quot;file:D:/delete/?fileName=mydata-${date:now:yyyyMMddhhmmssSSS}.txt&quot; /&gt;
		&lt;/route&gt;
	&lt;/camelContext&gt;

Camel Console Log
------------------------

12/10/21 21:32:27 INFO client.AMQConnection:
Connection:<A HREF="amqp://guest:********@host/?brokerlist='tcp://localhost:5672'">amqp://guest:********@host/?brokerlist='tcp://localhost:5672'</A>
12/10/21 21:32:27 INFO protocol.AMQProtocolSession: Using ProtocolVersion
for Session:0-91
12/10/21 21:32:27 INFO handler.ClientMethodDispatcherImpl: New Method
Dispatcher:AMQProtocolSession[null]
12/10/21 21:32:27 INFO client.AMQConnection: Connecting with ProtocolHandler
Version:0-91
12/10/21 21:32:27 INFO state.StateWaiter: New StateWaiter :AMQState: id = 1
name: CONNECTION_NOT_STARTED:[AMQState: id = 4 name: CONNECTION_OPEN,
AMQState: id = 6 name: CONNECTION_CLOSED]
12/10/21 21:32:27 INFO protocol.AMQProtocolSession: Setting ProtocolVersion
to :0-91
12/10/21 21:32:27 INFO handler.ClientMethodDispatcherImpl: New Method
Dispatcher:AMQProtocolSession[AMQConnection:
Host: localhost
Port: 5672
Virtual Host: 
Client ID: host
Active session count: 0]
12/10/21 21:32:27 INFO security.DynamicSaslRegistrar: Additional SASL
providers successfully registered.
12/10/21 21:32:27 INFO security.CallbackHandlerRegistry: Callback handlers
available for SASL mechanisms: [EXTERNAL, GSSAPI, CRAM-MD5-HASHED, CRAM-MD5,
AMQPLAIN, PLAIN, ANONYMOUS]
12/10/21 21:32:27 INFO client.AMQConnection: Connected with ProtocolHandler
Version:0-91
12/10/21 21:32:27 INFO spring.SpringCamelContext: Route: route1 started and
consuming from: Endpoint[<A HREF="amqp://queue:Master]">amqp://queue:Master]</A>
12/10/21 21:32:27 INFO spring.SpringCamelContext: Total 1 routes, of which 1
is started.
12/10/21 21:32:27 INFO spring.SpringCamelContext: Apache Camel 2.10.0
(CamelContext: camel-1) started in 1.000 seconds
12/10/21 21:32:27 INFO client.AMQSession: Created
session:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">org.apache.qpid.client.AMQSession_0_8 at 13e9934</A>

Rabbit MQ Log
------------------
=INFO REPORT==== 21-Oct-2012::21:32:27 ===
accepting AMQP connection &lt;0.783.0&gt; (127.0.0.1:3917 -&gt; 127.0.0.1:5672)

=WARNING REPORT==== 21-Oct-2012::21:32:28 ===
closing AMQP connection &lt;0.783.0&gt; (127.0.0.1:3917 -&gt; 127.0.0.1:5672):
connection_closed_abruptly

Kindly let me know what needs to be done..

Thanks &amp; REgards
Jawahar



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Apache-Camel-RabbitMQ-Configuration-tp22739.html">http://rabbitmq.1065348.n5.nabble.com/Apache-Camel-RabbitMQ-Configuration-tp22739.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>












































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="023227.html">[rabbitmq-discuss] (no subject)
</A></li>
	<LI>Next message: <A HREF="023231.html">[rabbitmq-discuss] Apache Camel + RabbitMQ Configuration.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23224">[ date ]</a>
              <a href="thread.html#23224">[ thread ]</a>
              <a href="subject.html#23224">[ subject ]</a>
              <a href="author.html#23224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
