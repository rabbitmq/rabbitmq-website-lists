<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] share a pre-built queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20share%20a%20pre-built%20queue&In-Reply-To=%3CF95E5E62-4083-450A-B1C9-F6AE80AB071D%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022842.html">
   <LINK REL="Next"  HREF="022857.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] share a pre-built queue</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20share%20a%20pre-built%20queue&In-Reply-To=%3CF95E5E62-4083-450A-B1C9-F6AE80AB071D%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] share a pre-built queue">watson.timothy at gmail.com
       </A><BR>
    <I>Fri Oct  5 08:05:07 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022842.html">[rabbitmq-discuss] share a pre-built queue
</A></li>
        <LI>Next message: <A HREF="022857.html">[rabbitmq-discuss] share a pre-built queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22855">[ date ]</a>
              <a href="thread.html#22855">[ thread ]</a>
              <a href="subject.html#22855">[ subject ]</a>
              <a href="author.html#22855">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Prabodh,

On 4 Oct 2012, at 14:22, Prabodh Upreti &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">prabodh.upreti at vce.com</A>&gt; wrote:

&gt;<i> Perfect.  Hope this is my last question.
</I>&gt;<i> 
</I>&gt;<i> I will have many clients interacting with the broker.  I need to really
</I>&gt;<i> control what they can do with the system.  I am planning to publish filters
</I>&gt;<i> they can subscribe to via REST interfaces.
</I>&gt;<i> 
</I>&gt;<i> 1.  How can I give them permissions so they can only create exclusive = true 
</I>&gt;<i> queues.
</I>&gt;<i> 
</I>
Afaik that is not currently possible, so you'll have to enforce this in your application(s). Ironically if the queues were not exclusive then you could delegate the queue.declare to a utility layer in the rest service and simply return the queue name, but of course you'd then have to deal with monitoring the client(s) and deal with disconnects yourself. There are probably several variations on this theme too, with intermediary clients or brokers handling the upstream connectivity and so on, not to mention the potential to use federation and/or shovel  to achieve some of this middle man's role. Ultimately though, I suspect that the complexity outweighs the benefits every time.

Personally I would take the reduced complexity of exclusive queues bound to the topic exchange and live with the potential loophole, especially if I'm in control of the client code base(es). If it is important to try hard to avoid letting clients create queues with the wrong parameters, then the best approach IMO would be to write a simplified high level API that sits on top of the AMQP client and (have consumers) code the clients against that, hiding the details of the connection and to some extend the underlying technology from them.

&gt;<i> 2.  The reason I was going with the pre-built queue was so that I could have
</I>&gt;<i> 5 keys bound to the FIXED named queue and they would not need to worry about
</I>&gt;<i> binding all the keys to their temp queue.  If they can't do that then I just 
</I>&gt;<i> have to inform them about the keys so they can use the right ones.  Please
</I>&gt;<i> let me know if there is a better way to manage this.
</I>&gt;<i> 
</I>
That sounds like a workable Domitian to me. Getting the keys from a service call or via an additional application wide control channel are both pretty common approaches in the integration space.

&gt;<i> Once again thank you both for you feedback.
</I>&gt;<i> 
</I>&gt;<i> regards
</I>&gt;<i> 
</I>&gt;<i> prabodh
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/share-a-pre-built-queue-tp22319p22362.html">http://rabbitmq.1065348.n5.nabble.com/share-a-pre-built-queue-tp22319p22362.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022842.html">[rabbitmq-discuss] share a pre-built queue
</A></li>
	<LI>Next message: <A HREF="022857.html">[rabbitmq-discuss] share a pre-built queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22855">[ date ]</a>
              <a href="thread.html#22855">[ thread ]</a>
              <a href="subject.html#22855">[ subject ]</a>
              <a href="author.html#22855">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
