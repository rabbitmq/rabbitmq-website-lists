<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] FW:  Multiple consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20FW%3A%20%20Multiple%20consumers&In-Reply-To=269388e30707201931r7796e87eq9260bc8b6cf9a3e7%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000050.html">
   <LINK REL="Next"  HREF="000052.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] FW:  Multiple consumers</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20FW%3A%20%20Multiple%20consumers&In-Reply-To=269388e30707201931r7796e87eq9260bc8b6cf9a3e7%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] FW:  Multiple consumers">0x6e6562 at gmail.com
       </A><BR>
    <I>Sat Jul 21 20:30:23 BST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000050.html">[rabbitmq-discuss] FW: Multiple consumers
</A></li>
        <LI>Next message: <A HREF="000052.html">[rabbitmq-discuss] FW:  Multiple consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51">[ date ]</a>
              <a href="thread.html#51">[ thread ]</a>
              <a href="subject.html#51">[ subject ]</a>
              <a href="author.html#51">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias,

&gt;<i> &gt;  &gt;&gt;* The channel processes appear to be pointing to the same
</I>&gt;<i> &gt;  &gt;&gt;process for both reader and writer. That is useful for the
</I>&gt;<i> &gt;  &gt;&gt;common case of RPC-style interactions but you also need to
</I>&gt;<i> &gt;  &gt;&gt;support a subscription model along the lines of the Consumer
</I>&gt;<i> &gt;  &gt;&gt;classes in the Java client.
</I>
Whilst trying to get the channel to send messages to a callback
handler for the subscription model, I've found that I need to set the
writer pid in the channel to the pid of the client to do the protocol
handling (the RPC-style interaction), but in order to get subscription
working I'm going to have to either

a) pass the Pid of a subscriber into the channel
b) have subscription events get sent back to the client process, which
then in turn can forward them on to a subscriber.

As far as I can tell, option (b) will be less intrusive into the
current server implementation at a cost of turning the client into a
pure data shovel for subscription events. If this overhead were
negligible, I would run with it, because it means that the channel
code can remain the same. Also, this is inline with what the java
client does, because it handles data from the socket, deframes it and
hands it off to a worker thread. Furthermore, I feel it is also more
inline with the protocol flow. What do think about taking approach
(b)?

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000050.html">[rabbitmq-discuss] FW: Multiple consumers
</A></li>
	<LI>Next message: <A HREF="000052.html">[rabbitmq-discuss] FW:  Multiple consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#51">[ date ]</a>
              <a href="thread.html#51">[ thread ]</a>
              <a href="subject.html#51">[ subject ]</a>
              <a href="author.html#51">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
