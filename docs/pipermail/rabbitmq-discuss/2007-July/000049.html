<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] FW: Multiple consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20FW%3A%20Multiple%20consumers&In-Reply-To=lyfy3ixp0m.fsf%40tanto.lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000048.html">
   <LINK REL="Next"  HREF="000050.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] FW: Multiple consumers</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20FW%3A%20Multiple%20consumers&In-Reply-To=lyfy3ixp0m.fsf%40tanto.lshift.net"
       TITLE="[rabbitmq-discuss] FW: Multiple consumers">0x6e6562 at gmail.com
       </A><BR>
    <I>Sat Jul 21 17:10:55 BST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000048.html">[rabbitmq-discuss] FW:  Multiple consumers
</A></li>
        <LI>Next message: <A HREF="000050.html">[rabbitmq-discuss] FW: Multiple consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49">[ date ]</a>
              <a href="thread.html#49">[ thread ]</a>
              <a href="subject.html#49">[ subject ]</a>
              <a href="author.html#49">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> A custom behaviour is probably overkill at this stage. The standard
</I>&gt;<i> gen_server or gen_event behaviour ought to be sufficient for now.
</I>
Yes, you're right, I'll take look to see if the gen_event behaviour
will do the trick.

&gt;<i>
</I>&gt;<i> &gt; BTW, why is it that a reader seems to write data and a writer seems to
</I>&gt;<i> &gt; read data?
</I>&gt;<i>
</I>&gt;<i> The reader reads data from the connection and writers write data to the
</I>&gt;<i> connection. If you were implementing a network client you'd have the
</I>&gt;<i> same roles/processes there and they'd be logically cross-wired, i.e. the
</I>&gt;<i> client reader would receive data from the server writers, and the client
</I>&gt;<i> writers would send data to the server reader. But since you are
</I>&gt;<i> bypassing the network and instead implement and interact with
</I>&gt;<i> server-side processes directly the roles appear reversed. This may get
</I>&gt;<i> tricky if you later want to bolt-on a networked mode.
</I>&gt;<i>
</I>
OK, that makes sense, I'll bear this in mind. Going back to the
orginal problem of setting the correct writer pid, I think I can add a
writer_pid field the the connection record, so that the client can
start a process to handle the subscription (e.g. by passing the Pid of
a gen_event event manager) and pass the Pid to the channel loop.

In general though (i.e. including the socket case), when the channel
loop sends messages to the writer pid, what happens when the writer
dies?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000048.html">[rabbitmq-discuss] FW:  Multiple consumers
</A></li>
	<LI>Next message: <A HREF="000050.html">[rabbitmq-discuss] FW: Multiple consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#49">[ date ]</a>
              <a href="thread.html#49">[ thread ]</a>
              <a href="subject.html#49">[ subject ]</a>
              <a href="author.html#49">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
