<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] FW: Multiple consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20FW%3A%20Multiple%20consumers&In-Reply-To=269388e30707211623h4ff6b6e7wd28c92fa8f8c77da%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000053.html">
   <LINK REL="Next"  HREF="000055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] FW: Multiple consumers</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20FW%3A%20Multiple%20consumers&In-Reply-To=269388e30707211623h4ff6b6e7wd28c92fa8f8c77da%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] FW: Multiple consumers">matthias at lshift.net
       </A><BR>
    <I>Sun Jul 22 08:04:03 BST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000053.html">[rabbitmq-discuss] FW: Multiple consumers
</A></li>
        <LI>Next message: <A HREF="000055.html">[rabbitmq-discuss] FW: Multiple consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54">[ date ]</a>
              <a href="thread.html#54">[ thread ]</a>
              <a href="subject.html#54">[ subject ]</a>
              <a href="author.html#54">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben,

&quot;Ben Hood&quot; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt; writes:

&gt;<i> Option (a) could make use of the fact that as an erlang process, the
</I>&gt;<i> server channel could directly send an event to a consumer process,
</I>&gt;<i> thus bypassing the client process as follows:
</I>&gt;<i>
</I>&gt;<i> client                       server
</I>&gt;<i>
</I>&gt;<i> reader 1..n  &lt;-----  writer 1..n
</I>
The most direct route actually looks more like this:

rpc:
caller --&gt; channel
caller &lt;-- channel

message to subscriber:
consumer &lt;-- channel &lt;-- queue

Here the channel plays the role of the client channel, server channel,
and server writer.

That is reasonably challenging to implement. OTOH it will probably force
the kind of abstractions that would be good to have in any case.

&gt;<i> So the question I was trying to ask was: Does this direct dispatch
</I>&gt;<i> gain you anything?
</I>
In the networked case we need to add quite a few actors:

rpc:
caller --&gt; c_channel --&gt; c_writer --&gt; s_reader --&gt; s_channel
caller &lt;-- c_channel &lt;-- c_reader &lt;-- s_writer &lt;-- s_channel

message to subscriber:
consumer &lt;-- c_channel &lt;-- c_reader &lt;-- s_writer &lt;-- queue

I reckon the short-circuit route is worthwhile since it simplifies (and
as a result speeds up) things considerably -- If we are going to have a
direct client at all, we might as well go the most direct route.


Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000053.html">[rabbitmq-discuss] FW: Multiple consumers
</A></li>
	<LI>Next message: <A HREF="000055.html">[rabbitmq-discuss] FW: Multiple consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#54">[ date ]</a>
              <a href="thread.html#54">[ thread ]</a>
              <a href="subject.html#54">[ subject ]</a>
              <a href="author.html#54">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
