<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Implementing an RPC backend
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Implementing%20an%20RPC%20backend&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000037.html">
   <LINK REL="Next"  HREF="000012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Implementing an RPC backend</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Implementing%20an%20RPC%20backend&In-Reply-To="
       TITLE="[rabbitmq-discuss] Implementing an RPC backend">0x6e6562 at gmail.com
       </A><BR>
    <I>Sat Jul  7 21:09:32 BST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000037.html">[rabbitmq-discuss] Calls to management functions
</A></li>
        <LI>Next message: <A HREF="000012.html">[rabbitmq-discuss] Fwd: Implementing an RPC backend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11">[ date ]</a>
              <a href="thread.html#11">[ thread ]</a>
              <a href="subject.html#11">[ subject ]</a>
              <a href="author.html#11">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to implement a RPC backend to handle client calls. So I
thought I could create a consumer that consumes from the RPC queue and
sends the reply back to the replyTo address. This is the delivery
callback of my consumer:

@Override
public void handleDelivery(AMQP.Basic.Deliver method,
AMQP.BasicProperties properties, byte[] body) throws IOException {

            channel.basicPublish(ticket, &quot;foo&quot;, properties.replyTo,
ChannelN.BASIC_PROPERTIES, &quot;bar&quot;.getBytes());

}

However, the RPC client still blocks on it's own consumption of the
reply, indicating that the reply wasn't published correctly.

Are there any examples of how this is done using the java API?

Thanks,

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000037.html">[rabbitmq-discuss] Calls to management functions
</A></li>
	<LI>Next message: <A HREF="000012.html">[rabbitmq-discuss] Fwd: Implementing an RPC backend
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11">[ date ]</a>
              <a href="thread.html#11">[ thread ]</a>
              <a href="subject.html#11">[ subject ]</a>
              <a href="author.html#11">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
