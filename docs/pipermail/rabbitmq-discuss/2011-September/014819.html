<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Java client Channel.Close	blocking	indefinitely
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20client%20Channel.Close%0A%09blocking%09indefinitely&In-Reply-To=%3C4E5F6CFB.9060205%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014817.html">
   <LINK REL="Next"  HREF="014820.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Java client Channel.Close	blocking	indefinitely</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20client%20Channel.Close%0A%09blocking%09indefinitely&In-Reply-To=%3C4E5F6CFB.9060205%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Java client Channel.Close	blocking	indefinitely">emile at rabbitmq.com
       </A><BR>
    <I>Thu Sep  1 12:31:07 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014817.html">[rabbitmq-discuss] Java client Channel.Close blocking	indefinitely
</A></li>
        <LI>Next message: <A HREF="014820.html">[rabbitmq-discuss] Java client Channel.Close blocking	indefinitely
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14819">[ date ]</a>
              <a href="thread.html#14819">[ thread ]</a>
              <a href="subject.html#14819">[ subject ]</a>
              <a href="author.html#14819">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Iain,

On 01/09/11 12:04, Iain Hull wrote:
&gt;<i> On 01/09/11 09:06, Matthias Radestock wrote:
</I>&gt;&gt;<i> [as an aside, it is curious that the limit for the erlang processes is
</I>&gt;&gt;<i> reported as 32k - the default rabbit config sets it to 1M; have you 
</I>&gt;&gt;<i> changed the config / start up scripts?]
</I>&gt;<i> That is strange I am currently running 2.6.0 on windows without a config
</I>&gt;<i> file.  I also have 8 Gb of ram but I am running 32 bit erlang, so maybe
</I>&gt;<i> that explains the low 819.2MB high watermark.  Production will running
</I>&gt;<i> on CentOS with 24 Gb or 32 Gb of ram and I expect to increase the
</I>&gt;<i> vm_memory_high_watermark to use most of this.
</I>
It turns out that when running as a windows service we don't raise the
process limit from the default of 32k to 1M. I will file a bug to fix
that. In the meantime you can either run rabbit as an application or add
the &quot;+P 1048576&quot; erl argument to rabbitmq-service.bat manually until
that fix gets released.

You should be aware that there are some differences between the Windows
and Unix Erlang VMs. The Windows VM is 32bit and limited to 2GB RAM.


-Emile
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014817.html">[rabbitmq-discuss] Java client Channel.Close blocking	indefinitely
</A></li>
	<LI>Next message: <A HREF="014820.html">[rabbitmq-discuss] Java client Channel.Close blocking	indefinitely
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14819">[ date ]</a>
              <a href="thread.html#14819">[ thread ]</a>
              <a href="subject.html#14819">[ subject ]</a>
              <a href="author.html#14819">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
