<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 2.6.1 and memory consumption
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.6.1%20and%20memory%20consumption&In-Reply-To=%3C4E7ADD88.2090309%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015266.html">
   <LINK REL="Next"  HREF="015225.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 2.6.1 and memory consumption</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.6.1%20and%20memory%20consumption&In-Reply-To=%3C4E7ADD88.2090309%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 2.6.1 and memory consumption">matthias at rabbitmq.com
       </A><BR>
    <I>Thu Sep 22 08:02:32 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015266.html">[rabbitmq-discuss] RabbitMQ Shovel Connections
</A></li>
        <LI>Next message: <A HREF="015225.html">[rabbitmq-discuss] acks from temporary queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15223">[ date ]</a>
              <a href="thread.html#15223">[ thread ]</a>
              <a href="subject.html#15223">[ subject ]</a>
              <a href="author.html#15223">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 22/09/11 06:40, DOBRO Sergei wrote:
&gt;<i> No problem, file is attached
</I>
Cheers. Putting the list back on cc...

The report shows that you have over 9 million messages, spread across 
~50 queues. Most of these are paged to disk, but rabbit still needs to 
maintain in memory index data for them. How much memory is required for 
that depends on the fanout degree, i.e. 1 million messages shared across 
an average of 9 queues will take up 9 times less memory than 9 million 
messages shared across an average of one queue.

Moreover, rabbit will happily use as much memory as you allow it to if 
it thinks that doing so will speed up the processing &amp; delivery of messages.

So, I am not seeing anything unusual here.


Matthias.
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015266.html">[rabbitmq-discuss] RabbitMQ Shovel Connections
</A></li>
	<LI>Next message: <A HREF="015225.html">[rabbitmq-discuss] acks from temporary queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15223">[ date ]</a>
              <a href="thread.html#15223">[ thread ]</a>
              <a href="subject.html#15223">[ subject ]</a>
              <a href="author.html#15223">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
