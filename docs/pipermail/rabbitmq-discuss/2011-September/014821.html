<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Recycling messages that have been consumed but	not acked
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Recycling%20messages%20that%20have%20been%20consumed%20but%0A%09not%20acked&In-Reply-To=%3CCANH2pzsqDfSQQSiHxFCKqTkQ16voQSgUawmr7i51xxZi2WKKCg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014883.html">
   <LINK REL="Next"  HREF="014822.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Recycling messages that have been consumed but	not acked</H1>
    <B>Dmitry Demeshchuk</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Recycling%20messages%20that%20have%20been%20consumed%20but%0A%09not%20acked&In-Reply-To=%3CCANH2pzsqDfSQQSiHxFCKqTkQ16voQSgUawmr7i51xxZi2WKKCg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Recycling messages that have been consumed but	not acked">demeshchuk at gmail.com
       </A><BR>
    <I>Thu Sep  1 06:24:17 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014883.html">[rabbitmq-discuss] HA policies [was: RabbitMQ 2.6.0 is released]
</A></li>
        <LI>Next message: <A HREF="014822.html">[rabbitmq-discuss] Recycling messages that have been consumed	but not acked
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14821">[ date ]</a>
              <a href="thread.html#14821">[ thread ]</a>
              <a href="subject.html#14821">[ subject ]</a>
              <a href="author.html#14821">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

We have an Erlang application that uses multiple nodes each with
several rabbitmq consumers connected to different queues. When a node
goes down, its consumers are rebalanced among the rest running nodes.

However, there's a problem. It may take minutes between message
consumption and acking, so most likely when a node goes down, there
are some messages that have been consumed but haven't been acked. And
seems like in that case the newly spawned consumers that are
rebalanced to the other nodes don't get those unacked messages, since
they are already considered to be consumed.

So, my question is, is there a way to make all unacked messages in a
queue become ready for consumption again?

Thank you.

-- 
Best regards,
Dmitry Demeshchuk
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014883.html">[rabbitmq-discuss] HA policies [was: RabbitMQ 2.6.0 is released]
</A></li>
	<LI>Next message: <A HREF="014822.html">[rabbitmq-discuss] Recycling messages that have been consumed	but not acked
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14821">[ date ]</a>
              <a href="thread.html#14821">[ thread ]</a>
              <a href="subject.html#14821">[ subject ]</a>
              <a href="author.html#14821">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
