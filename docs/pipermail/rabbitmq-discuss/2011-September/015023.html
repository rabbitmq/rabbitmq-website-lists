<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Issues%20with%20RabbitMQ%2C%20SSL%20and%20.NET&In-Reply-To=%3C20110912101853.GD3803%40southbank.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015015.html">
   <LINK REL="Next"  HREF="015024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET</H1>
    <B>Alexandru Scvor&#355;ov</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Issues%20with%20RabbitMQ%2C%20SSL%20and%20.NET&In-Reply-To=%3C20110912101853.GD3803%40southbank.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET">alexandru at rabbitmq.com
       </A><BR>
    <I>Mon Sep 12 11:18:53 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015015.html">[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
</A></li>
        <LI>Next message: <A HREF="015024.html">[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15023">[ date ]</a>
              <a href="thread.html#15023">[ thread ]</a>
              <a href="subject.html#15023">[ subject ]</a>
              <a href="author.html#15023">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> =ERROR REPORT==== 9-Sep-2011::16:12:49 ===
</I>&gt;<i> error on TCP connection &lt;0.605.0&gt;:{ssl_upgrade_error,timeout}
</I>
I've looked into this and, as far as I can tell, the only way to get
that error is if the client connects successfully, but takes too long to
complete the SSL handshake.

Just to confirm, you've tried to connect the .NET client to an s_server
running on the same machine as the broker and it worked?

Cheers,
Alex

On Fri, Sep 09, 2011 at 03:22:43PM +0200, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">umut.sahin at vigasis.com</A> wrote:
&gt;<i> &gt;We haven't had any reported issues with that configuration, so it
</I>&gt;<i> &gt;should probably work.  Is there anything in the broker logs about this?
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 9-Sep-2011::16:12:44 ===
</I>&gt;<i> accepted TCP connection on [::]:5671 from 10.35.110.131:4712
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 9-Sep-2011::16:12:44 ===
</I>&gt;<i> starting TCP connection &lt;0.605.0&gt; from 10.35.110.131:4712
</I>&gt;<i> 
</I>&gt;<i> =ERROR REPORT==== 9-Sep-2011::16:12:49 ===
</I>&gt;<i> error on TCP connection &lt;0.605.0&gt;:{ssl_upgrade_error,timeout}
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 9-Sep-2011::16:12:49 ===
</I>&gt;<i> closing TCP connection &lt;0.605.0&gt;
</I>&gt;<i> 
</I>&gt;<i> Broker logs are above...
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; endpoint=amqp-0-<A HREF="9://10.35.110.167:5671,">9://10.35.110.167:5671,</A> attempts=1
</I>&gt;<i> &gt;&gt; System.IO.IOException: Uzak taraf tama akn kapattndan
</I>&gt;<i> &gt;&gt; kimlik dorulamas
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;I don't suppose you could get an English version of the error, could
</I>&gt;<i> &gt;you?  The Google Translation doesn't sound familiar.
</I>&gt;<i> 
</I>&gt;<i> &quot;Authentication failed as remote party has closed the transport stream&quot; is the translation
</I>&gt;<i> 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;Also, 1) is the CA's certificate in the Trusted Root Certificate
</I>&gt;<i> &gt;Authorities store? 2) does the server's hostname match the common name
</I>&gt;<i> &gt;on the certificate?
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> 1) Yes, it is
</I>&gt;<i> 2) Yes it does match CN=hostname O=server (like <A HREF="http://www.rabbitmq.com/ssl.html">http://www.rabbitmq.com/ssl.html</A> examples..)
</I>&gt;<i> 
</I>&gt;<i> Thnx in advance,
</I>&gt;<i> Umut
</I>&gt;<i> 
</I></PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015015.html">[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
</A></li>
	<LI>Next message: <A HREF="015024.html">[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15023">[ date ]</a>
              <a href="thread.html#15023">[ thread ]</a>
              <a href="subject.html#15023">[ subject ]</a>
              <a href="author.html#15023">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
