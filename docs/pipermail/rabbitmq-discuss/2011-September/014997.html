<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Issues%20with%20RabbitMQ%2C%20SSL%20and%20.NET&In-Reply-To=%3C20110909123355.GB10002%40southbank.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014996.html">
   <LINK REL="Next"  HREF="015031.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET</H1>
    <B>Alexandru Scvor&#355;ov</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Issues%20with%20RabbitMQ%2C%20SSL%20and%20.NET&In-Reply-To=%3C20110909123355.GB10002%40southbank.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET">alexandru at rabbitmq.com
       </A><BR>
    <I>Fri Sep  9 13:33:55 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014996.html">[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
</A></li>
        <LI>Next message: <A HREF="015031.html">[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14997">[ date ]</a>
              <a href="thread.html#14997">[ thread ]</a>
              <a href="subject.html#14997">[ subject ]</a>
              <a href="author.html#14997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We haven't had any reported issues with that configuration, so it
should probably work.  Is there anything in the broker logs about this?

&gt;<i> endpoint=amqp-0-<A HREF="9://10.35.110.167:5671,">9://10.35.110.167:5671,</A> attempts=1
</I>&gt;<i> System.IO.IOException: Uzak taraf tama akn kapattndan
</I>&gt;<i> kimlik dorulamas
</I>
I don't suppose you could get an English version of the error, could
you?  The Google Translation doesn't sound familiar.

Also, 1) is the CA's certificate in the Trusted Root Certificate
Authorities store? 2) does the server's hostname match the common name
on the certificate?

&gt;<i> We have already tried cert.pem, cert.cer, cert.p12 files on our windows
</I>&gt;<i> client but no success.
</I>
Unless you somehow modified the .NET client, the p12 is the only one
that's usable.

Cheers,
Alex

On Fri, Sep 09, 2011 at 01:45:58PM +0200, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">umut.sahin at vigasis.com</A> wrote:
&gt;<i> Hi,
</I>&gt;<i> We are developing a project that uses rabbitmq with ssl. But we are facing
</I>&gt;<i> a problem with .Net Client of our project which cannot connect to our
</I>&gt;<i> server. But with Java, with the same configurations we have succeeded.
</I>&gt;<i> We are getting an error which says &quot;none of the specified end points were
</I>&gt;<i> reachable&quot;.
</I>&gt;<i> Our firewall is off on both server and client so its not a firewall issue.
</I>&gt;<i> 
</I>&gt;<i> We are using Windows 7 x64 and .Net Framework 4.0 on our problematic
</I>&gt;<i> client.
</I>&gt;<i> As i said before our Java publisher and consumer works flawlessly but our
</I>&gt;<i> publisher must be on .Net Framework for the sake of our projects.
</I>&gt;<i> We were suspecting a certificate problem and tried openssl s_client and
</I>&gt;<i> openssl s_server but no problems.
</I>&gt;<i> We have already tried cert.pem, cert.cer, cert.p12 files on our windows
</I>&gt;<i> client but no success.
</I>&gt;<i> Waiting for your help.
</I>&gt;<i> Detailed exception outputs are below.
</I>&gt;<i> Thanks and regards...
</I>&gt;<i> 
</I>&gt;<i> Error : None of the specified endpoints were reachable
</I>&gt;<i> Endpoints attempted:
</I>&gt;<i> ------------------------------------------------
</I>&gt;<i> endpoint=amqp-0-<A HREF="9://10.35.110.167:5671,">9://10.35.110.167:5671,</A> attempts=1
</I>&gt;<i> System.IO.IOException: Uzak taraf tama akn kapattndan
</I>&gt;<i> kimlik dorulamas
</I>&gt;<i>  baarsz oldu.
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReadFrame(Byte[] buffer, Int32
</I>&gt;<i> readB
</I>&gt;<i> ytes, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer,
</I>&gt;<i> AsyncProt
</I>&gt;<i> ocolRequest asyncRequest)
</I>&gt;<i>    konum:
</I>&gt;<i> System.Net.Security.SslState.CheckCompletionBeforeNextReceive(Protocol
</I>&gt;<i> Token message, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartSendBlob(Byte[] incoming,
</I>&gt;<i> Int32 coun
</I>&gt;<i> t, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer,
</I>&gt;<i> Int32
</I>&gt;<i> count, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReadFrame(Byte[] buffer, Int32
</I>&gt;<i> readB
</I>&gt;<i> ytes, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer,
</I>&gt;<i> AsyncProt
</I>&gt;<i> ocolRequest asyncRequest)
</I>&gt;<i>    konum:
</I>&gt;<i> System.Net.Security.SslState.CheckCompletionBeforeNextReceive(Protocol
</I>&gt;<i> Token message, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartSendBlob(Byte[] incoming,
</I>&gt;<i> Int32 coun
</I>&gt;<i> t, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer,
</I>&gt;<i> Int32
</I>&gt;<i> count, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReadFrame(Byte[] buffer, Int32
</I>&gt;<i> readB
</I>&gt;<i> ytes, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer,
</I>&gt;<i> AsyncProt
</I>&gt;<i> ocolRequest asyncRequest)
</I>&gt;<i>    konum:
</I>&gt;<i> System.Net.Security.SslState.CheckCompletionBeforeNextReceive(Protocol
</I>&gt;<i> Token message, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartSendBlob(Byte[] incoming,
</I>&gt;<i> Int32 coun
</I>&gt;<i> t, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer,
</I>&gt;<i> Int32
</I>&gt;<i> count, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReadFrame(Byte[] buffer, Int32
</I>&gt;<i> readB
</I>&gt;<i> ytes, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer,
</I>&gt;<i> AsyncProt
</I>&gt;<i> ocolRequest asyncRequest)
</I>&gt;<i>    konum:
</I>&gt;<i> System.Net.Security.SslState.CheckCompletionBeforeNextReceive(Protocol
</I>&gt;<i> Token message, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartSendBlob(Byte[] incoming,
</I>&gt;<i> Int32 coun
</I>&gt;<i> t, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.ProcessReceivedBlob(Byte[] buffer,
</I>&gt;<i> Int32
</I>&gt;<i> count, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReadFrame(Byte[] buffer, Int32
</I>&gt;<i> readB
</I>&gt;<i> ytes, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartReceiveBlob(Byte[] buffer,
</I>&gt;<i> AsyncProt
</I>&gt;<i> ocolRequest asyncRequest)
</I>&gt;<i>    konum:
</I>&gt;<i> System.Net.Security.SslState.CheckCompletionBeforeNextReceive(Protocol
</I>&gt;<i> Token message, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.StartSendBlob(Byte[] incoming,
</I>&gt;<i> Int32 coun
</I>&gt;<i> t, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum: System.Net.Security.SslState.ForceAuthentication(Boolean
</I>&gt;<i> receiveFirst,
</I>&gt;<i>  Byte[] buffer, AsyncProtocolRequest asyncRequest)
</I>&gt;<i>    konum:
</I>&gt;<i> System.Net.Security.SslState.ProcessAuthentication(LazyAsyncResult laz
</I>&gt;<i> yResult)
</I>&gt;<i>    konum: System.Net.Security.SslStream.AuthenticateAsClient(String
</I>&gt;<i> targetHost,
</I>&gt;<i> X509CertificateCollection clientCertificates, SslProtocols
</I>&gt;<i> enabledSslProtocols,
</I>&gt;<i> Boolean checkCertificateRevocation)
</I>&gt;<i>    konum: RabbitMQ.Client.SslHelper.TcpUpgrade(Stream tcpStream, SslOption
</I>&gt;<i> sslOp
</I>&gt;<i> tion)
</I>&gt;<i>    konum:
</I>&gt;<i> RabbitMQ.Client.Impl.SocketFrameHandler_0_9..ctor(AmqpTcpEndpoint endp
</I>&gt;<i> oint)
</I>&gt;<i>    konum:
</I>&gt;<i> RabbitMQ.Client.Framing.Impl.v0_9_1.ProtocolBase.CreateFrameHandler(Am
</I>&gt;<i> qpTcpEndpoint endpoint)
</I>&gt;<i>    konum: RabbitMQ.Client.ConnectionFactory.FollowRedirectChain(Int32
</I>&gt;<i> maxRedirec
</I>&gt;<i> ts, IDictionary connectionAttempts, IDictionary connectionErrors,
</I>&gt;<i> AmqpTcpEndpoin
</I>&gt;<i> t[]&amp; mostRecentKnownHosts, AmqpTcpEndpoint endpoint)
</I>&gt;<i> ================================================
</I>&gt;<i> Stack trace:
</I>&gt;<i>    konum: RabbitMQ.Client.ConnectionFactory.CreateConnection(Int32
</I>&gt;<i> maxRedirects)
</I>&gt;<i> 
</I>&gt;<i>    konum: RabbitMQ.Client.ConnectionFactory.CreateConnection()
</I>&gt;<i>    konum: RConsole.SendString.CreateStructure()
</I>&gt;<i> C:Usershasanfidandocumentsvi
</I>&gt;<i> sual studio 2010ProjectsRConsoleRConsoleSendPacket.cs i&#231;inde: satr 64
</I>&gt;<i> 
</I>
&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014996.html">[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
</A></li>
	<LI>Next message: <A HREF="015031.html">[rabbitmq-discuss] Issues with RabbitMQ, SSL and .NET
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14997">[ date ]</a>
              <a href="thread.html#14997">[ thread ]</a>
              <a href="subject.html#14997">[ subject ]</a>
              <a href="author.html#14997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
