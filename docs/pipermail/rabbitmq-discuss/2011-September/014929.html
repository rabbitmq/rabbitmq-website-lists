<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] pika error - need a help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20pika%20error%20-%20need%20a%20help&In-Reply-To=%3C37B9BF2C7CE941F28290900029438FD6%40myyearbook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014927.html">
   <LINK REL="Next"  HREF="015002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] pika error - need a help</H1>
    <B>Gavin M. Roy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20pika%20error%20-%20need%20a%20help&In-Reply-To=%3C37B9BF2C7CE941F28290900029438FD6%40myyearbook.com%3E"
       TITLE="[rabbitmq-discuss] pika error - need a help">gmr at myyearbook.com
       </A><BR>
    <I>Wed Sep  7 14:04:07 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014927.html">[rabbitmq-discuss] pika error - need a help
</A></li>
        <LI>Next message: <A HREF="015002.html">[rabbitmq-discuss] pika error - need a help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14929">[ date ]</a>
              <a href="thread.html#14929">[ thread ]</a>
              <a href="subject.html#14929">[ subject ]</a>
              <a href="author.html#14929">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On Wednesday, September 7, 2011 at 7:21 AM, Ann Witbrock (c) wrote:

&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> From: &quot;Sergey Almazov&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sergey.almazoff at gmail.com</A> (mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sergey.almazoff at gmail.com</A>)&gt;
</I>&gt;<i> To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> (mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>)
</I>&gt;<i> Sent: Wednesday, 7 September, 2011 6:39:59 AM
</I>&gt;<i> Subject: [rabbitmq-discuss] pika error - need a help
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> When I start this code -&gt; have an error: error: uncaptured python exception, closing channel &lt;pika.asyncore_adapter.RabbitDispatcher connected at 0x12ad6c0&gt;
</I>So one of the difficulties with async programming in python is catching exceptions, add in some interesting aspects of AMQP and knowing what has happened where can be difficult. If you could provide a traceback beyond the exception it would be helpful.

You may be getting a remote close from RabbitMQ. You can check your rabbitmq logs to see and you can handle it in your code.

I would suggest adding an on channel close callback (this is rough untested code):

from pika import spec

def my_callback_function(frame):
 print frame.method.reply_code
 print frame.method.reply_text

callback_manager = connection.callbacks.add(channel.channel_number, spec.Channel.Close, my_callback_function)





-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110907/5666c47e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110907/5666c47e/attachment.htm</A>&gt;
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014927.html">[rabbitmq-discuss] pika error - need a help
</A></li>
	<LI>Next message: <A HREF="015002.html">[rabbitmq-discuss] pika error - need a help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14929">[ date ]</a>
              <a href="thread.html#14929">[ thread ]</a>
              <a href="subject.html#14929">[ subject ]</a>
              <a href="author.html#14929">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
