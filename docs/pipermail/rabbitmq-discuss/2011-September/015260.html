<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Not receiving notifications about queue deletions from the server.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Not%20receiving%20notifications%20about%20queue%0A%20deletions%20from%20the%20server.&In-Reply-To=%3C20110924151720.GB24946%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015259.html">
   <LINK REL="Next"  HREF="015261.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Not receiving notifications about queue deletions from the server.</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Not%20receiving%20notifications%20about%20queue%0A%20deletions%20from%20the%20server.&In-Reply-To=%3C20110924151720.GB24946%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] Not receiving notifications about queue deletions from the server.">matthew at rabbitmq.com
       </A><BR>
    <I>Sat Sep 24 16:17:20 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015259.html">[rabbitmq-discuss] Not receiving notifications about queue	deletions from the server.
</A></li>
        <LI>Next message: <A HREF="015261.html">[rabbitmq-discuss] Not receiving notifications about queue deletions from the server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15260">[ date ]</a>
              <a href="thread.html#15260">[ thread ]</a>
              <a href="subject.html#15260">[ subject ]</a>
              <a href="author.html#15260">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Njal,

On Sat, Sep 24, 2011 at 05:18:11AM -0700, Njal Karevoll wrote:
&gt;<i> I don't seem to receive any notifications from the server when a queue I am 
</I>&gt;<i> consuming is deleted. Both the server and the client is stating they support 
</I>&gt;<i> consumer_cancel_notify. 
</I>&gt;<i> 
</I>&gt;<i> 2011-09-24 14:15:25+0200 SENDING &lt;ProtocolHeader(['frame_type=-1', 
</I>&gt;<i> 'major=0', 'minor=9', 'revision=1'])&gt;
</I>&gt;<i> 2011-09-24 14:15:25+0200 RECEIVED: &lt;Method(['frame_type=1', 
</I>&gt;<i> 'channel_number=0', 
</I>&gt;<i> 'method=&lt;Connection.Start([&quot;server_properties={\'information\': \'Licensed 
</I>&gt;<i> under the MPL.  See <A HREF="http://www.rabbitmq.com/\',">http://www.rabbitmq.com/\',</A> \'product\': \'RabbitMQ\', 
</I>&gt;<i> \'copyright\': \'Copyright (C) 2007-2011 VMware, Inc.\', \'capabilities\': 
</I>&gt;<i> {\'exchange_exchange_bindings\': True, \'consumer_cancel_notify\': True, 
</I>&gt;<i> \'publisher_confirms\': True, \'basic.nack\': True}, \'platform\': 
</I>&gt;<i> \'Erlang/OTP\', \'version\': \'2.6.1\'}&quot;, \'version_minor=9\', 
</I>&gt;<i> \'mechanisms=PLAIN AMQPLAIN\', \'locales=en_US\', \'version_major=0\'])&gt;'])&gt;
</I>
&gt;<i> 2011-09-24 14:15:25+0200 SENDING &lt;Method(['frame_type=1', 
</I>&gt;<i> 'channel_number=0', 'method=&lt;Connection.StartOk([\'locale=en_US\', 
</I>&gt;<i> \'mechanism=PLAIN\', &quot;client_properties={\'client-properties\': 
</I>&gt;<i> {\'consumer_cancel_notify\': True, \'publisher_confirms\': True, 
</I>&gt;<i> \'basic.nack\': True}, \'platform\': \'Python 2.7.1\', \'product\': \'Pika 
</I>&gt;<i> Python Client Library\', \'version\': \'0.9.6-pre0\', \'information\': \'See 
</I>&gt;<i> <A HREF="http://pika.github.com\'}&quot;,">http://pika.github.com\'}&quot;,</A> \'response=\\x00guest\\x00guest\'])&gt;'])&gt;
</I>
This is wrong. Connection.Start-OK's client_properties needs to contain
the key &quot;capabilities&quot; which is then the table as described in
<A HREF="http://www.rabbitmq.com/extensions.html#capabilities,">http://www.rabbitmq.com/extensions.html#capabilities,</A> whereas what's
being sent here is a key of &quot;client-properties&quot;.

Matthew
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015259.html">[rabbitmq-discuss] Not receiving notifications about queue	deletions from the server.
</A></li>
	<LI>Next message: <A HREF="015261.html">[rabbitmq-discuss] Not receiving notifications about queue deletions from the server.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15260">[ date ]</a>
              <a href="thread.html#15260">[ thread ]</a>
              <a href="subject.html#15260">[ subject ]</a>
              <a href="author.html#15260">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
