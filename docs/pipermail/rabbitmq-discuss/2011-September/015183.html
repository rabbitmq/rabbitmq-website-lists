<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd:  Work on plugins
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fwd%3A%20%20Work%20on%20plugins&In-Reply-To=%3CCAM8fPiQ7BMUB-q0XhEAtqtfQ3vxUAOAeTvPx%2Bh%3DEp5O6WxgcbA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015180.html">
   <LINK REL="Next"  HREF="015184.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd:  Work on plugins</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fwd%3A%20%20Work%20on%20plugins&In-Reply-To=%3CCAM8fPiQ7BMUB-q0XhEAtqtfQ3vxUAOAeTvPx%2Bh%3DEp5O6WxgcbA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Fwd:  Work on plugins">tonygarnockjones+rabbitmq at gmail.com
       </A><BR>
    <I>Tue Sep 20 11:09:28 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015180.html">[rabbitmq-discuss] Work on plugins
</A></li>
        <LI>Next message: <A HREF="015184.html">[rabbitmq-discuss] Fwd:  Work on plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15183">[ date ]</a>
              <a href="thread.html#15183">[ thread ]</a>
              <a href="subject.html#15183">[ subject ]</a>
              <a href="author.html#15183">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Damn it, fooled by gmail's UI again and forgot to CC the list.

---------- Forwarded message ----------
From: Tony Garnock-Jones &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonygarnockjones+rabbitmq at gmail.com</A>&gt;
Date: 20 September 2011 06:08
Subject: Re: [rabbitmq-discuss] Work on plugins
To: Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;


On 20 September 2011 05:52, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:

&gt;<i> could delete exchanges and bindings seems pretty alarming to me.
</I>&gt;<i>
</I>
Agreed.


&gt;<i> It seems that this is primarily an issue around exchange type plugins. I
</I>&gt;<i> wonder if we could just not recover exchanges that have an unrecognised
</I>&gt;<i> type? The trouble is, then you have a &quot;hidden&quot; exchange that will pop back
</I>&gt;<i> as soon as you reinstall the plugin, but without the plugin you can't get
</I>&gt;<i> rid of it, and attempts to redeclare it with a different type will always
</I>&gt;<i> fail. Hmm.
</I>&gt;<i>
</I>
What about not deleting them, but if during recovery an exchange is found
with an unknown type, warning about it in the log and starting it with an
&quot;inert exchange type&quot; driver that simply drops all messages routed through
it? (It might also log each time it does.)

Then if later Rabbit is restarted with the appropriate exchange type added
again, everything is back to normal, but people are warned about
possibly-unexpected behaviour and no information is lost without explicit
action. Also, exchange.delete would work to get rid of any unwanted
exchanges after plugin removal.

Tony
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110920/69585d18/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110920/69585d18/attachment.htm</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015180.html">[rabbitmq-discuss] Work on plugins
</A></li>
	<LI>Next message: <A HREF="015184.html">[rabbitmq-discuss] Fwd:  Work on plugins
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15183">[ date ]</a>
              <a href="thread.html#15183">[ thread ]</a>
              <a href="subject.html#15183">[ subject ]</a>
              <a href="author.html#15183">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
