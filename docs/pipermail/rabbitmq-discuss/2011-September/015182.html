<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] JSON-RPC channel plugin crash	on	tuple_to_list(Props)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20JSON-RPC%20channel%20plugin%20crash%0A%09on%09tuple_to_list%28Props%29&In-Reply-To=%3C4E78658B.6020705%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015163.html">
   <LINK REL="Next"  HREF="015165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] JSON-RPC channel plugin crash	on	tuple_to_list(Props)</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20JSON-RPC%20channel%20plugin%20crash%0A%09on%09tuple_to_list%28Props%29&In-Reply-To=%3C4E78658B.6020705%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] JSON-RPC channel plugin crash	on	tuple_to_list(Props)">simon at rabbitmq.com
       </A><BR>
    <I>Tue Sep 20 11:06:03 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015163.html">[rabbitmq-discuss] JSON-RPC channel plugin crash on	tuple_to_list(Props)
</A></li>
        <LI>Next message: <A HREF="015165.html">[rabbitmq-discuss] .NET Client - IModel.Close completes but the model is never actually shut down.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15182">[ date ]</a>
              <a href="thread.html#15182">[ thread ]</a>
              <a href="subject.html#15182">[ subject ]</a>
              <a href="author.html#15182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/09/11 17:15, Nick Marino wrote:
&gt;<i> Based on my limited knowledge of the Rabbit code though, it doesn't seem
</I>&gt;<i> like we're doing anything wrong in our exchange type plugin, and it
</I>&gt;<i> seems like it would make sense for the json plugin to call
</I>&gt;<i> ensure_content_decoded before it assumes the content is actually
</I>&gt;<i> decoded. Could this be considered a bug in the json plugin?
</I>
It probably is, however in 2.1.0 the JSON-RPC plugin talked directly to 
internal rabbit objects like queues, and was thus susceptible to this 
bug. At some point (I don't remember exactly when) it was rewritten to 
talk to rabbit via the direct Erlang client (effectively 
AMQP-over-Erlang) and thus things should be rather more sanitised by the 
time JSON-RPC sees them. These days it should not need to call 
ensure_content_decoded() any more than a Java app would.

So I think the bug you're seeing is fixed by coincidence now. I 
recommend you upgrade.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015163.html">[rabbitmq-discuss] JSON-RPC channel plugin crash on	tuple_to_list(Props)
</A></li>
	<LI>Next message: <A HREF="015165.html">[rabbitmq-discuss] .NET Client - IModel.Close completes but the model is never actually shut down.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15182">[ date ]</a>
              <a href="thread.html#15182">[ thread ]</a>
              <a href="subject.html#15182">[ subject ]</a>
              <a href="author.html#15182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
