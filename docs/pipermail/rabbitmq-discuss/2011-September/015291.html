<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Anything special on dev.rabbitmq.com wrt. x-expire?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Anything%20special%20on%20dev.rabbitmq.com%20wrt.%0A%20x-expire%3F&In-Reply-To=%3C4E81688A.1090602%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015286.html">
   <LINK REL="Next"  HREF="015299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Anything special on dev.rabbitmq.com wrt. x-expire?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Anything%20special%20on%20dev.rabbitmq.com%20wrt.%0A%20x-expire%3F&In-Reply-To=%3C4E81688A.1090602%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Anything special on dev.rabbitmq.com wrt. x-expire?">matthias at rabbitmq.com
       </A><BR>
    <I>Tue Sep 27 07:09:14 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015286.html">[rabbitmq-discuss] Anything special on dev.rabbitmq.com wrt.	x-expire?
</A></li>
        <LI>Next message: <A HREF="015299.html">[rabbitmq-discuss] Anything special on dev.rabbitmq.com wrt. x-expire?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15291">[ date ]</a>
              <a href="thread.html#15291">[ thread ]</a>
              <a href="subject.html#15291">[ subject ]</a>
              <a href="author.html#15291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bernhard,

On 27/09/11 01:29, Bernhard Weisshuhn wrote:
&gt;<i> while adding support for queue arguments to a node.js amqp library, we
</I>&gt;<i> noticed a puzzling behaviour on dev.rabbitmq.com: Redeclaring an existing
</I>&gt;<i> queue with differing x-expire values is accepted, even over the same
</I>&gt;<i> connection. Discusson here: <A HREF="https://github.com/postwait/node-amqp/pull/25">https://github.com/postwait/node-amqp/pull/25</A>
</I>
I suspect the queue is expiring before the second queue.declare. The 
expiry value in the test is just 300 milliseconds. Depending on network 
conditions and load on dev.rabbitmq.com, that could easily get exceeded.

So a) choose a higher value, and b) consider using 'nowait=true' in the 
queue.declare and pipeline the two requests (I have no idea whether 
node.amqp can do that, but it should ;) in order to minimise the effects 
of network latency.

Regards,

Matthias.
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015286.html">[rabbitmq-discuss] Anything special on dev.rabbitmq.com wrt.	x-expire?
</A></li>
	<LI>Next message: <A HREF="015299.html">[rabbitmq-discuss] Anything special on dev.rabbitmq.com wrt. x-expire?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15291">[ date ]</a>
              <a href="thread.html#15291">[ thread ]</a>
              <a href="subject.html#15291">[ subject ]</a>
              <a href="author.html#15291">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
