<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq out of memory
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20out%20of%20memory&In-Reply-To=48766C11.6030507%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001021.html">
   <LINK REL="Next"  HREF="001024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq out of memory</H1>
    <B>David.Corcoran at edftrading.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20out%20of%20memory&In-Reply-To=48766C11.6030507%40lshift.net"
       TITLE="[rabbitmq-discuss] rabbitmq out of memory">David.Corcoran at edftrading.com
       </A><BR>
    <I>Fri Jul 11 08:47:55 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001021.html">[rabbitmq-discuss] rabbitmq out of memory
</A></li>
        <LI>Next message: <A HREF="001024.html">[rabbitmq-discuss] rabbitmq out of memory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1023">[ date ]</a>
              <a href="thread.html#1023">[ thread ]</a>
              <a href="subject.html#1023">[ subject ]</a>
              <a href="author.html#1023">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> wrote on 10/07/2008 21:07:45:

&gt;<i>
</I>&gt;<i> Ah, good - in the sense that it's a relief it's nothing more sinister :-)
</I>&gt;<i>
</I>&gt;<i> (Do let us know if the queue-leak diagnosis turns out to be accurate or
</I>&gt;<i> in-.)
</I>
I've done some quick tests and it seems to work. At least the queue size
isn't growing too much and it shrinks back after we're finished. Today will
be a real test as we run massive amounts of jobs and I'll let you know how
it goes.


&gt;<i> lists:foreach(fun (Q) -&gt; io:format(&quot;~p~n&quot;, [Q]) end,
</I>&gt;<i>                rabbit_amqqueue:stat_all()).
</I>&gt;<i>
</I>
That works perfectly, thanks. With the broken code most of the queues are
in the format &quot;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">amq.q.gen688_rabbit at vsdlbblue01_20080710164314_</A>&quot; which I
guess are anonymous reply queues. Which would definitely point to a leak.
In the new version of the code there are very few queues and they all have
nice normal names ;)

Thanks,

Dave


*********************************************************************
This communication contains confidential information, some or all of which may be privileged. It is for the intended recipient only and others must not disclose, distribute, copy, print or rely on this communication. If an addressing or transmission error has misdirected this communication, please notify the sender by replying to this e-mail and then delete the e-mail. E-mail sent to EDF Trading may be monitored by the company. Thank you. 
EDF Trading Limited
80 Victoria Street, 3rd Floor, Cardinal Place, London, SW1E 5JL
A Company registered in England No. 4255974. 
Switchboard: 020 7061 4000
EDF Trading Markets Limited is a member of the EDF Trading Limited Group and is authorised and regulated by the Financial Services Authority.
VAT number: GB 735 5479 07
*********************************************************************


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001021.html">[rabbitmq-discuss] rabbitmq out of memory
</A></li>
	<LI>Next message: <A HREF="001024.html">[rabbitmq-discuss] rabbitmq out of memory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1023">[ date ]</a>
              <a href="thread.html#1023">[ thread ]</a>
              <a href="subject.html#1023">[ subject ]</a>
              <a href="author.html#1023">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
