<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Process N messages / VM concurrently
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Process%20N%20messages%20/%20VM%20concurrently&In-Reply-To=9e009ad0807041153x675b0725te6a63a14066ab145%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000996.html">
   <LINK REL="Next"  HREF="001003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Process N messages / VM concurrently</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Process%20N%20messages%20/%20VM%20concurrently&In-Reply-To=9e009ad0807041153x675b0725te6a63a14066ab145%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Process N messages / VM concurrently">0x6e6562 at gmail.com
       </A><BR>
    <I>Sat Jul  5 01:31:40 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000996.html">[rabbitmq-discuss] Process N messages / VM concurrently
</A></li>
        <LI>Next message: <A HREF="001003.html">[rabbitmq-discuss] Process N messages / VM concurrently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#997">[ date ]</a>
              <a href="thread.html#997">[ thread ]</a>
              <a href="subject.html#997">[ subject ]</a>
              <a href="author.html#997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Joern,

On Fri, Jul 4, 2008 at 7:53 PM, Joern &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">opendev at gmail.com</A>&gt; wrote:
&gt;<i> Hi Ben,
</I>&gt;<i>
</I>&gt;<i> 2008/7/4 Ben Hood &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt;:
</I>&gt;<i>
</I>&gt;&gt;<i> That *may* not be such a good idea because the interaction within a
</I>&gt;&gt;<i> channel is conversational. You may run into trouble when executing
</I>&gt;&gt;<i> synchronous calls within the channel (queue declaration and binding
</I>&gt;&gt;<i> for example).
</I>&gt;<i>
</I>&gt;<i> I wasn't aware of that - this complicates things obviously. I'll come
</I>&gt;<i> back to the list as soon as things are running (using Spring).
</I>
I don't see how this complicates things - after all, you have a simple
1:1 mapping between a thread and a channel. Such is the intention of
the AMQP model. Furthermore, since the thread mapping is so simple and
straight forward, you never have do any locking on any channel object,
since you have eliminated race conditions but have maintained
concurrency.

A crude way of mapping a channel to a thread (in Java) is to stick the
channel reference in the thread local and make sure that you perform
any synchronous operations eagerly in a single threaded fashion or
lazily in a thread safe fashion. I'm sure you can think of more
elegant ways to use a channel in a single threaded fashion.

HTH,

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000996.html">[rabbitmq-discuss] Process N messages / VM concurrently
</A></li>
	<LI>Next message: <A HREF="001003.html">[rabbitmq-discuss] Process N messages / VM concurrently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#997">[ date ]</a>
              <a href="thread.html#997">[ thread ]</a>
              <a href="subject.html#997">[ subject ]</a>
              <a href="author.html#997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
