<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] ACK modes in the STOMP adapter
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20ACK%20modes%20in%20the%20STOMP%20adapter&In-Reply-To=e1c05edd0807291709v3fa91bc7s1799de465858fc48%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001094.html">
   <LINK REL="Next"  HREF="001096.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] ACK modes in the STOMP adapter</H1>
    <B>Aman Gupta</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20ACK%20modes%20in%20the%20STOMP%20adapter&In-Reply-To=e1c05edd0807291709v3fa91bc7s1799de465858fc48%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] ACK modes in the STOMP adapter">rabbitmq at tmm1.net
       </A><BR>
    <I>Wed Jul 30 01:10:29 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001094.html">[rabbitmq-discuss] Integrating Ruby and Flash using AMQP
</A></li>
        <LI>Next message: <A HREF="001096.html">[rabbitmq-discuss] Load balancing with multiple consumers on a	single queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1095">[ date ]</a>
              <a href="thread.html#1095">[ thread ]</a>
              <a href="subject.html#1095">[ subject ]</a>
              <a href="author.html#1095">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> At present, no, there's no explicit flow control mechanism.
</I>&gt;<i>
</I>&gt;<i> One option might be to extend the STOMP adapter with an equivalent of
</I>&gt;<i> AMQP's &quot;basic.get&quot; method, which retrieves a single message at a time from a
</I>&gt;<i> queue, without using a subscription.
</I>&gt;<i>
</I>&gt;<i> However, it's worth pointing out that messages are *not* lost if you choose
</I>&gt;<i> &quot;ack: client&quot; mode. Instead, if the connection is dropped with unACKed
</I>&gt;<i> messages outstanding on it, the unACKed messages are requeued and
</I>&gt;<i> redelivered to the next consumer that comes along.
</I>&gt;<i>
</I>&gt;<i> This redelivery behaviour, in conjunction with TCP's built-in window
</I>&gt;<i> management, means that a crude form of flow control is simply to stop
</I>&gt;<i> reading from the socket. When the buffers fill up at each end, the RabbitMQ
</I>&gt;<i> server will notice, and will stop feeding the busy connection.
</I>&gt;<i>
</I>
What flow control mechanisms are available when using AMQP directly (not via
the STOMP adapter)? When working with many small messages, depending on the
TCP buffer does not seem ideal, as many hundreds or thousands of messages
can get queued up before RabbitMQ realizes the consumer is busy.

With no_ack=false, will RabbitMQ send a consumer new messages before
previous messages are acknowledged?

  Aman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080729/fb2ecaec/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080729/fb2ecaec/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001094.html">[rabbitmq-discuss] Integrating Ruby and Flash using AMQP
</A></li>
	<LI>Next message: <A HREF="001096.html">[rabbitmq-discuss] Load balancing with multiple consumers on a	single queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1095">[ date ]</a>
              <a href="thread.html#1095">[ thread ]</a>
              <a href="subject.html#1095">[ subject ]</a>
              <a href="author.html#1095">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
