<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] queue discovery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20queue%20discovery&In-Reply-To=%3C3576a5aa-6abc-44e2-8304-62651cfe0d3a%40strongmad.batnest.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017813.html">
   <LINK REL="Next"  HREF="017786.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] queue discovery</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20queue%20discovery&In-Reply-To=%3C3576a5aa-6abc-44e2-8304-62651cfe0d3a%40strongmad.batnest.org%3E"
       TITLE="[rabbitmq-discuss] queue discovery">jerryk at vmware.com
       </A><BR>
    <I>Tue Jan 31 19:26:05 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017813.html">[rabbitmq-discuss] queue discovery
</A></li>
        <LI>Next message: <A HREF="017786.html">[rabbitmq-discuss] Federation and QoS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17812">[ date ]</a>
              <a href="thread.html#17812">[ thread ]</a>
              <a href="subject.html#17812">[ subject ]</a>
              <a href="author.html#17812">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Steven...

If you publish using the 'mandatory' flag (or the 'immediate' flag for
that matter) and the message can't be delivered (for the notion of 
'delivered' enforced by the respective flag), the Rabbit broker will
hand the message back to the sending client using the basic.return
AMQP command.

You'd catch this by subscribing to the IModel.BasicReturn event with
something like:

channel.BasicReturn += new RabbitMQ.Client.Events.BasicReturnEventHandler( whatever_args );

If you've not go any listeners attached to that event, the failed
delivery of your message will pass by unnoticed...

(NOTE:  Please double check the real docs when I give .NET advice; I'm far from 
an expert on that client and not regularly immersed in the .NET world with
sufficient intensity :-) )

Best regards,
Jerry

----- Original Message -----
From: &quot;Steven Taylor&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">taylste at gmail.com</A>&gt;
To: &quot;Jerry Kuch&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt;
Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Sent: Monday, January 30, 2012 10:25:38 PM
Subject: Re: [rabbitmq-discuss] queue discovery


Hi Jerry, 

under the .net client, would that come through on the below? event BasicAckEventHandler BasicAcks; 
thanks, 
-Steven 




On 31 January 2012 05:49, Jerry Kuch &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A> &gt; wrote: 


Hi, Steven 

Asserting the queue existence probably may not be heavyweight enough for you 
to worry about. That said, you could consider setting the 'mandatory' flag 
when you publish, in which case you'll get an asynchronous notification if the 
message cannot be routed to any queue (e.g. if no queues are bound to the 
exchange you published too, or your routing key didn't match one that was, etc.) 

Best regards, 
Jerry 




----- Original Message ----- 
From: &quot;Steven Taylor&quot; &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">taylste at gmail.com</A> &gt; 
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> 
Sent: Monday, January 30, 2012 9:21:46 PM 
Subject: [rabbitmq-discuss] queue discovery 



Hi, 

chicken and egg situation here. 

Sender expects that receiver will have created a queue, only, the sender is in this case the first to exist, and so sends a message to a non-existant queue. 

Result: rabbit throws away the message. Is the only way forward to always assert queue existance, or is there a lighter weight alternative? i.e. it'd be nice to get a status or exception back stating if the message got routed or not. 

Same situation could occur if queue is defined with non durable and autodelete. i.e. rabbit goes down and then comes back up. 

thanks, 
-Steven 
_______________________________________________ 
rabbitmq-discuss mailing list 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A> 

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017813.html">[rabbitmq-discuss] queue discovery
</A></li>
	<LI>Next message: <A HREF="017786.html">[rabbitmq-discuss] Federation and QoS
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17812">[ date ]</a>
              <a href="thread.html#17812">[ thread ]</a>
              <a href="subject.html#17812">[ subject ]</a>
              <a href="author.html#17812">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
