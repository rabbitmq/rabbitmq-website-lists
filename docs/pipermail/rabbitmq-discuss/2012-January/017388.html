<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq-server 2.7.1 src rpm for	Fedora/Redhat	fails to build.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-server%202.7.1%20src%20rpm%20for%0A%09Fedora/Redhat%09fails%20to%20build.&In-Reply-To=%3C9fb681e0-6f1e-44db-90f7-dd1501f80148%40CoachZ.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017380.html">
   <LINK REL="Next"  HREF="017409.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq-server 2.7.1 src rpm for	Fedora/Redhat	fails to build.</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-server%202.7.1%20src%20rpm%20for%0A%09Fedora/Redhat%09fails%20to%20build.&In-Reply-To=%3C9fb681e0-6f1e-44db-90f7-dd1501f80148%40CoachZ.local%3E"
       TITLE="[rabbitmq-discuss] rabbitmq-server 2.7.1 src rpm for	Fedora/Redhat	fails to build.">jerryk at vmware.com
       </A><BR>
    <I>Fri Jan 13 23:30:56 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017380.html">[rabbitmq-discuss] rabbitmq-server 2.7.1 src rpm for Fedora/Redhat	fails to build.
</A></li>
        <LI>Next message: <A HREF="017409.html">[rabbitmq-discuss] rabbitmq-server 2.7.1 src rpm for Fedora/Redhat fails to build.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17388">[ date ]</a>
              <a href="thread.html#17388">[ thread ]</a>
              <a href="subject.html#17388">[ subject ]</a>
              <a href="author.html#17388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Travis:

I may be misremembering the situation for CentOS, but is it
possible for you to set up the fedorapeople repository and use
it to get a newer Erlang?  That's what I generally do on RHEL
systems which otherwise suffer from variants of this (quite
admittedly gross) situation....

If you follow the correct initial segments of these instructions:

<A HREF="http://www.rabbitmq.com/install-rpm.html">http://www.rabbitmq.com/install-rpm.html</A>

You can get yourself an Erlang that's new enough to work with
our RPM distribution and that should also be able to handle
your build-from-source needs.

Best regards,
Jerry

----- Original Message -----
From: &quot;Travis&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">hcoyote at ghostar.org</A>&gt;
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Sent: Friday, January 13, 2012 9:57:17 AM
Subject: [rabbitmq-discuss] rabbitmq-server 2.7.1 src rpm for Fedora/Redhat	fails to build.

I'm attempting to rebuild the source rpm to remove the Requires for
erlang to get around a problem during install on Centos 5.6 (for some
reason, yum wants to keep trying to install R12B despite us having
R14B installed already).

The rpmbuild is failing with what appears to be a git error associated
with mochiweb and a few other plugins.  At first, I thought it was
choking on not finding git, but we certainly have it installed.

What's going on here?  Also, if we could figure out this dependency
issue, I wouldn't need to be rebuilding this and could use the rpm
straight off of rabbitmq.com's download page.


:<i>;  which git
</I>/usr/bin/git
:<i>;  git --version
</I>git version 1.7.4.1


:<i>;  sudo rpmbuild -bb rabbitmq-server.spec
</I>Executing(%prep): /bin/sh -e /var/tmp/rpm-tmp.1374
+ umask 022
+ cd /home/tcampbell/src/rpm/BUILD
+ cd /home/tcampbell/src/rpm/BUILD
+ rm -rf rabbitmq-server-2.7.1
+ /bin/gzip -dc /home/tcampbell/src/rpm/SOURCES/rabbitmq-server-2.7.1.tar.gz
+ tar -xf -
+ STATUS=0
+ '[' 0 -ne 0 ']'
+ cd rabbitmq-server-2.7.1
++ /usr/bin/id -u
+ '[' 0 = 0 ']'
+ /bin/chown -Rhf root .
++ /usr/bin/id -u
+ '[' 0 = 0 ']'
+ /bin/chgrp -Rhf root .
+ /bin/chmod -Rf a+rX,u+w,g-w,o-w .
+ exit 0
Executing(%build): /bin/sh -e /var/tmp/rpm-tmp.1374
+ umask 022
+ cd /home/tcampbell/src/rpm/BUILD
+ cd rabbitmq-server-2.7.1
++ basename /home/tcampbell/src/rpm/SOURCES/rabbitmq-script-wrapper
+ cp /home/tcampbell/src/rpm/SOURCES/rabbitmq-script-wrapper
/home/tcampbell/src/rpm/BUILD/rabbitmq-script-wrapper
++ basename /home/tcampbell/src/rpm/SOURCES/rabbitmq-server.ocf
+ cp /home/tcampbell/src/rpm/SOURCES/rabbitmq-server.ocf
/home/tcampbell/src/rpm/BUILD/rabbitmq-server.ocf
+ make -j8
python codegen.py body ../rabbitmq-codegen//amqp-rabbitmq-0.9.1.json
src/rabbit_framing_amqp_0_9_1.erl
python codegen.py body ../rabbitmq-codegen//amqp-rabbitmq-0.8.json
src/rabbit_framing_amqp_0_8.erl
xsltproc --novalid --stringparam modulename &quot;`basename
src/rabbit_ctl_usage.erl .erl`&quot; \
		docs/usage.xsl docs/rabbitmqctl.1.xml &gt; src/rabbit_ctl_usage.erl.tmp
xsltproc --novalid --stringparam modulename &quot;`basename
src/rabbit_plugins_usage.erl .erl`&quot; \
		docs/usage.xsl docs/rabbitmq-plugins.1.xml &gt; src/rabbit_plugins_usage.erl.tmp
python codegen.py --ignore-conflicts header
../rabbitmq-codegen//amqp-rabbitmq-0.9.1.json
../rabbitmq-codegen//amqp-rabbitmq-0.8.json include/rabbit_framing.hrl
sed -e 's/&quot;/\\&quot;/g' -e 's/%QUOTE%/&quot;/g' src/rabbit_plugins_usage.erl.tmp
&gt;<i> src/rabbit_plugins_usage.erl.tmp2
</I>fold -s src/rabbit_plugins_usage.erl.tmp2 &gt; src/rabbit_plugins_usage.erl.tmp3
mv src/rabbit_plugins_usage.erl.tmp3 src/rabbit_plugins_usage.erl
sed -e 's/&quot;/\\&quot;/g' -e 's/%QUOTE%/&quot;/g' src/rabbit_ctl_usage.erl.tmp &gt;
src/rabbit_ctl_usage.erl.tmp2
rm src/rabbit_plugins_usage.erl.tmp src/rabbit_plugins_usage.erl.tmp2
fold -s src/rabbit_ctl_usage.erl.tmp2 &gt; src/rabbit_ctl_usage.erl.tmp3
mv src/rabbit_ctl_usage.erl.tmp3 src/rabbit_ctl_usage.erl
rm src/rabbit_ctl_usage.erl.tmp src/rabbit_ctl_usage.erl.tmp2
rm -f deps.mk
echo src/delegate.erl:src/delegate_sup.erl:src/file_handle_cache.erl:src/gatherer.erl:src/gen_server2.erl:src/gm.erl:src/gm_soak_test.erl:src/gm_speed_test.erl:src/gm_tests.erl:src/lqueue.erl:src/mirrored_supervisor.erl:src/mirrored_supervisor_tests.erl:src/pg2_fixed.erl:src/pg_local.erl:src/priority_queue.erl:src/rabbit.erl:src/rabbit_access_control.erl:src/rabbit_alarm.erl:src/rabbit_amqqueue.erl:src/rabbit_amqqueue_process.erl:src/rabbit_amqqueue_sup.erl:src/rabbit_auth_backend.erl:src/rabbit_auth_backend_internal.erl:src/rabbit_auth_mechanism.erl:src/rabbit_auth_mechanism_amqplain.erl:src/rabbit_auth_mechanism_cr_demo.erl:src/rabbit_auth_mechanism_plain.erl:src/rabbit_backing_queue.erl:src/rabbit_backing_queue_qc.erl:src/rabbit_basic.erl:src/rabbit_binary_generator.erl:src/rabbit_binary_parser.erl:src/rabbit_binding.erl:src/rabbit_channel.erl:src/rabbit_channel_sup.erl:src/rabbit_channel_sup_sup.erl:src/rabbit_client_sup.erl:src/rabbit_command_assembler.erl:src/rabbit_con
 nection_sup.erl:src/rabbit_control.erl:src/rabbit_direct.erl:src/rabbit_error_logger.erl:src/rabbit_error_logger_file_h.erl:src/rabbit_event.erl:src/rabbit_exchange.erl:src/rabbit_exchange_type.erl:src/rabbit_exchange_type_direct.erl:src/rabbit_exchange_type_fanout.erl:src/rabbit_exchange_type_headers.erl:src/rabbit_exchange_type_topic.erl:src/rabbit_file.erl:src/rabbit_framing.erl:src/rabbit_guid.erl:src/rabbit_heartbeat.erl:src/rabbit_limiter.erl:src/rabbit_log.erl:src/rabbit_memory_monitor.erl:src/rabbit_mirror_queue_coordinator.erl:src/rabbit_mirror_queue_master.erl:src/rabbit_mirror_queue_misc.erl:src/rabbit_mirror_queue_slave.erl:src/rabbit_mirror_queue_slave_sup.erl:src/rabbit_misc.erl:src/rabbit_mnesia.erl:src/rabbit_msg_file.erl:src/rabbit_msg_store.erl:src/rabbit_msg_store_ets_index.erl:src/rabbit_msg_store_gc.erl:src/rabbit_msg_store_index.erl:src/rabbit_net.erl:src/rabbit_networking.erl:src/rabbit_node_monitor.erl:src/rabbit_plugins.erl:src/rabbit_prelaunch.erl:s
 rc/rabbit_queue_collector.erl:src/rabbit_queue_index.erl:src/rabbit_reader.erl:src/rabbit_registry.erl:src/rabbit_restartable_sup.erl:src/rabbit_router.erl:src/rabbit_sasl_report_file_h.erl:src/rabbit_ssl.erl:src/rabbit_sup.erl:src/rabbit_tests.erl:src/rabbit_tests_event_receiver.erl:src/rabbit_trace.erl:src/rabbit_types.erl:src/rabbit_upgrade.erl:src/rabbit_upgrade_functions.erl:src/rabbit_variable_queue.erl:src/rabbit_version.erl:src/rabbit_vhost.erl:src/rabbit_writer.erl:src/supervisor2.erl:src/tcp_acceptor.erl:src/tcp_acceptor_sup.erl:src/tcp_listener.erl:src/tcp_listener_sup.erl:src/test_sup.erl:src/vm_memory_monitor.erl:src/worker_pool.erl:src/worker_pool_sup.erl:src/worker_pool_worker.erl:src/rabbit_framing_amqp_0_9_1.erl:src/rabbit_framing_amqp_0_8.erl:src/rabbit_ctl_usage.erl:src/rabbit_plugins_usage.erl:include/gm_specs.hrl:include/rabbit.hrl:include/rabbit_auth_backend_spec.hrl:include/rabbit_auth_mechanism_spec.hrl:include/rabbit_backing_queue_spec.hrl:include/ra
 bbit_exchange_type_spec.hrl:include/rabbit_msg_store.hrl:include/rabbit_msg_store_index.hrl:include/rabbit_framing.hrl:
|<i> escript generate_deps deps.mk ebin
</I>escript generate_app ebin/rabbit_app.in ebin/rabbit.app src
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/gen_server2.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/delegate_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/lqueue.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/supervisor2.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/pg2_fixed.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/pg_local.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/priority_queue.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_access_control.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_alarm.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_amqqueue.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_amqqueue_process.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_amqqueue_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_auth_backend.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_auth_mechanism.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_backing_queue.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_backing_queue_qc.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_basic.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_binary_generator.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_binary_parser.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_binding.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_channel.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_channel_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_channel_sup_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_client_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_command_assembler.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_connection_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_control.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_ctl_usage.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_direct.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_error_logger.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_error_logger_file_h.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_event.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_exchange.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_exchange_type.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_file.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_framing.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_framing_amqp_0_8.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_framing_amqp_0_9_1.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_guid.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_heartbeat.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_limiter.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_log.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_memory_monitor.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_mirror_queue_master.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_mirror_queue_misc.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_mirror_queue_slave_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_misc.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_mnesia.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_msg_file.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_msg_store.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_msg_store_index.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_msg_store_gc.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_net.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_networking.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_node_monitor.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_plugins.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_plugins_usage.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_prelaunch.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_queue_collector.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_queue_index.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_reader.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_registry.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_restartable_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_router.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_sasl_report_file_h.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_ssl.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_tests.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_tests_event_receiver.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_trace.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_types.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_upgrade.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_upgrade_functions.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_variable_queue.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_version.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_vhost.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_writer.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/tcp_acceptor.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/tcp_acceptor_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/tcp_listener.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/tcp_listener_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/test_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/vm_memory_monitor.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/worker_pool.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/worker_pool_sup.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/worker_pool_worker.erl
[ -d &quot;plugins-src/rabbitmq-server&quot; ] || ln -s
&quot;/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1&quot;
&quot;plugins-src/rabbitmq-server&quot;
mkdir -p plugins
PLUGINS_SRC_DIR=&quot;&quot; make -C &quot;plugins-src&quot; plugins-dist
PLUGINS_DIST_DIR=&quot;/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins&quot;
VERSION=0.0.0
make[1]: Entering directory
`/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src'
make -f all-packages.mk all-releasable VERSION=0.0.0
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/delegate.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/file_handle_cache.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/gatherer.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin src/gm.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/mirrored_supervisor.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_auth_backend_internal.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_auth_mechanism_amqplain.erl
make[2]: Entering directory
`/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src'
[elided] generate deps
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_auth_mechanism_cr_demo.erl
[elided] generate deps
[elided] fix test deps
sed -i -e 's|rabbitmq-tracing/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-tracing/build/deps.mk
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_auth_mechanism_plain.erl
src/mirrored_supervisor.erl:126: Warning: conflicting behaviours -
callback init/1 required by both 'supervisor2' and 'gen_server2' (line
125)
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_exchange_type_direct.erl
[elided] generate deps
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_exchange_type_fanout.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_exchange_type_headers.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_exchange_type_topic.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_msg_store_ets_index.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/gm_soak_test.erl
[elided] fix test deps
sed -i -e 's|rabbitmq-stomp/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-stomp/build/deps.mk
[elided] generate deps
[elided] fix test deps
sed -i -e 's|rabbitmq-shovel/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-shovel/build/deps.mk
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/gm_speed_test.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/gm_tests.erl
[elided] generate deps
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/mirrored_supervisor_tests.erl
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_mirror_queue_coordinator.erl
[elided] generate deps
[elided] generate deps
[elided] generate deps
src/rabbit_mirror_queue_coordinator.erl:27: Warning: conflicting
behaviours - callback terminate/2 required by both 'gm' and
'gen_server2' (line 26)
[elided] fix test deps
sed -i -e 's|rabbitmq-management-visualiser/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-management-visualiser/build/deps.mk
erlc -I include -o ebin -Wall -v +debug_info -Duse_specs  -pa ebin
src/rabbit_mirror_queue_slave.erl
[elided] generate deps
[elided] fix test deps
sed -i -e 's|rabbitmq-management/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-management/build/deps.mk
echo UPSTREAM_SHORT_HASH:=`hg id -R ./webmachine-wrapper/webmachine-hg
-i | cut -c -7` &gt;webmachine-wrapper/build/hash.mk
[elided] fix test deps
sed -i -e 's|rabbitmq-jsonrpc/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-jsonrpc/build/deps.mk
sed -n -e 's|^.*{vsn, *&quot;\([^&quot;]*\)&quot;.*$|ORIGINAL_VERSION:=\1|p'
&lt;webmachine-wrapper/webmachine-hg/ebin/webmachine.app
&gt;<i>webmachine-wrapper/build/version.mk
</I>[elided] generate deps
[elided] fix test deps
sed -i -e 's|rabbitmq-shovel-management/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-shovel-management/build/deps.mk
[elided] generate deps
abort: There is no Mercurial repository here (.hg not found)
[elided] generate deps
src/mirrored_supervisor_tests.erl:25: Warning: conflicting behaviours
- callback init/1 required by both 'mirrored_supervisor' and
'gen_server' (line 24)
[elided] generate deps
[elided] generate deps
src/rabbit_mirror_queue_slave.erl:45: Warning: conflicting behaviours
- callback terminate/2 required by both 'gm' and 'gen_server2' (line
44)
[elided] generate deps
[elided] fix test deps
[elided] fix test deps
sed -i -e 's|webmachine-wrapper/build/deps.mk|$(DEPS_FILE)|'
webmachine-wrapper/build/deps.mk
sed -i -e 's|rabbitmq-mochiweb/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-mochiweb/build/deps.mk
[elided] generate deps
[elided] generate deps
[elided] fix test deps
sed -i -e 's|rabbitmq-jsonrpc-channel-examples/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-jsonrpc-channel-examples/build/deps.mk
echo UPSTREAM_SHORT_HASH:=`git
--git-dir=./mochiweb-wrapper/mochiweb-git/.git log -n 1 HEAD | grep
commit | cut -b 8-14` &gt;mochiweb-wrapper/build/hash.mk
fatal: Not a git repository: './mochiweb-wrapper/mochiweb-git/.git'
./mochiweb-wrapper/mochiweb-git/support/make_app.escript
mochiweb-wrapper/mochiweb-git/src/mochiweb.app.src
mochiweb-wrapper/mochiweb-git/mochiweb.app &quot;&quot; &quot;`cd
./mochiweb-wrapper/mochiweb-git/src &amp;&amp; echo *.erl | sed 's|\.erl||g'`&quot;
[elided] fix test deps
sed -i -e 's|rabbitmq-jsonrpc-channel/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-jsonrpc-channel/build/deps.mk
[elided] generate deps
[elided] fix test deps
sed -i -e 's|rabbitmq-management-agent/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-management-agent/build/deps.mk
[elided] fix test deps
[elided] fix test deps
sed -i -e 's|rabbitmq-consistent-hash-exchange/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-consistent-hash-exchange/build/deps.mk
echo UPSTREAM_SHORT_HASH:=`git
--git-dir=erlang-rfc4627-wrapper/erlang-rfc4627-git/.git log -n 1 HEAD
|<i> grep commit | cut -b 8-14` &gt;erlang-rfc4627-wrapper/build/hash.mk
</I>fatal: Not a git repository: 'erlang-rfc4627-wrapper/erlang-rfc4627-git/.git'
sed -i -e 's|rabbitmq-federation/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-federation/build/deps.mk
[elided] generate deps
erlc -Wall +debug_info -I eldap-wrapper/eldap-git/generated -o
eldap-wrapper/eldap-git/generated
eldap-wrapper/eldap-git/src/ELDAPv3.asn
echo UPSTREAM_SHORT_HASH:=`git --git-dir=eldap-wrapper/eldap-git/.git
log -n 1 HEAD | grep commit | cut -b 8-14`
&gt;<i>eldap-wrapper/build/hash.mk
</I>fatal: Not a git repository: 'eldap-wrapper/eldap-git/.git'
[elided] fix test deps
sed -i -e 's|rabbitmq-auth-mechanism-ssl/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-auth-mechanism-ssl/build/deps.mk
Compiler function asn1ct:compile_asn/3 failed:
{undef,[{asn1ct,compile_asn,

[&quot;/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src/eldap-wrapper/eldap-git/src/ELDAPv3&quot;,

&quot;/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src/eldap-wrapper/eldap-git/generated/ELDAPv3&quot;,

{options,[&quot;/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src/eldap-wrapper/eldap-git/generated&quot;],

&quot;/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src/eldap-wrapper/eldap-git/generated&quot;,
                          undefined,[],999,false,999,
                          [debug_info],
                          [],

&quot;/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src&quot;}]},
        {erl_compile,compile_file,4},
        {erl_compile,compile3,3},
        {erl_compile,compiler_runner,1}]}
./mochiweb-wrapper/mochiweb-git/support/make_app.escript:24: Warning:
ambiguous call of overridden auto-imported BIF error/1
 - use erlang:error/1 or &quot;-compile({no_auto_import,[error/1]}).&quot; to
resolve name clash
./mochiweb-wrapper/mochiweb-git/support/make_app.escript:42: Warning:
ambiguous call of overridden auto-imported BIF error/1
 - use erlang:error/1 or &quot;-compile({no_auto_import,[error/1]}).&quot; to
resolve name clash
./mochiweb-wrapper/mochiweb-git/support/make_app.escript:45: Warning:
ambiguous call of overridden auto-imported BIF error/1
 - use erlang:error/1 or &quot;-compile({no_auto_import,[error/1]}).&quot; to
resolve name clash
./mochiweb-wrapper/mochiweb-git/support/make_app.escript:48: Warning:
ambiguous call of overridden auto-imported BIF error/1
 - use erlang:error/1 or &quot;-compile({no_auto_import,[error/1]}).&quot; to
resolve name clash
./mochiweb-wrapper/mochiweb-git/support/make_app.escript:66: Warning:
variable 'Attrs' is unused
./mochiweb-wrapper/mochiweb-git/support/make_app.escript:71: Warning:
variable 'Attrs' is unused
[elided] fix test deps
sed -i -e 's|mochiweb-wrapper/build/deps.mk|$(DEPS_FILE)|'
mochiweb-wrapper/build/deps.mk
[elided] fix test deps
[elided] fix test deps
sed -i -e 's|erlang-rfc4627-wrapper/build/deps.mk|$(DEPS_FILE)|'
erlang-rfc4627-wrapper/build/deps.mk
sed -i -e 's|rabbitmq-auth-backend-ldap/build/deps.mk|$(DEPS_FILE)|'
rabbitmq-auth-backend-ldap/build/deps.mk
[elided] fix test deps
sed -i -e 's|erlando/build/deps.mk|$(DEPS_FILE)|' erlando/build/deps.mk
sed -n -e 's|^.*{vsn, *&quot;\([^&quot;]*\)&quot;.*$|ORIGINAL_VERSION:=\1|p'
&lt;mochiweb-wrapper/mochiweb-git/mochiweb.app
&gt;<i>mochiweb-wrapper/build/version.mk
</I>make[2]: Leaving directory
`/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src'
make[2]: Entering directory
`/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src'
do-package.mk:507: *** Failed to produce eldap-wrapper/build/deps.mk.  Stop.
make[2]: Leaving directory
`/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src'
make[1]: *** [release] Error 2
make[1]: Leaving directory
`/home/tcampbell/src/rpm/BUILD/rabbitmq-server-2.7.1/plugins-src'
make: *** [plugins] Error 2
error: Bad exit status from /var/tmp/rpm-tmp.1374 (%build)


RPM build errors:
    Bad exit status from /var/tmp/rpm-tmp.1374 (%build)
--
Travis Campbell
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">travis at ghostar.org</A>
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017380.html">[rabbitmq-discuss] rabbitmq-server 2.7.1 src rpm for Fedora/Redhat	fails to build.
</A></li>
	<LI>Next message: <A HREF="017409.html">[rabbitmq-discuss] rabbitmq-server 2.7.1 src rpm for Fedora/Redhat fails to build.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17388">[ date ]</a>
              <a href="thread.html#17388">[ thread ]</a>
              <a href="subject.html#17388">[ subject ]</a>
              <a href="author.html#17388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
