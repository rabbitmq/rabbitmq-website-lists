<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federation Configuration and Duplicate Messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20Configuration%20and%20Duplicate%20Messages&In-Reply-To=%3C5D476051A786C040BF0D9CB87BCBE3AA0597525464%40USNAVSXCHMBSB3.ndc.alcatel-lucent.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017131.html">
   <LINK REL="Next"  HREF="017103.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federation Configuration and Duplicate Messages</H1>
    <B>Letourneau, John P (John)</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20Configuration%20and%20Duplicate%20Messages&In-Reply-To=%3C5D476051A786C040BF0D9CB87BCBE3AA0597525464%40USNAVSXCHMBSB3.ndc.alcatel-lucent.com%3E"
       TITLE="[rabbitmq-discuss] Federation Configuration and Duplicate Messages">john.letourneau at alcatel-lucent.com
       </A><BR>
    <I>Tue Jan  3 15:01:04 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017131.html">[rabbitmq-discuss] active-active implementation in php
</A></li>
        <LI>Next message: <A HREF="017103.html">[rabbitmq-discuss] Federation Configuration and Duplicate	Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17101">[ date ]</a>
              <a href="thread.html#17101">[ thread ]</a>
              <a href="subject.html#17101">[ subject ]</a>
              <a href="author.html#17101">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello group,
First a compliment - this software is great how it just works out of the box! I know it has taken you all a while to get it there, but it is much appreciated by newbies like myself.

In my research I have a need for federating several brokers together. So I have some experiments I have been doing to learn the ins and outs of how it all works. For now I have 3 systems each with 1 broker. The idea is this represents a hierarchy that is 3 deep [not very broad at the moment 8-) ]. In my experiments I am wanting a &quot;shared bus&quot; for logging. This means that for clients on any machine, messages to the federated log exchange will be seen on all other machines, including itself. As one might expect, this sometimes results in the message being seen &gt;1 time at some clients.

I played around with the hop count, but that did not really solve any problems other than eventually stopping the forwarding of a given message...as it should. So I am starting to think of alternative configurations that can give me the behavior of 1 msg to a client, distributing the message to all nodes in the network, be efficient of course, and also minimize the knowledge required at each of the nodes/clients so as to allow easy administration as the network grows. I would hate to have to be reconfiguring existing clients and brokers each time a new node is added to grow the overall network.

I have thought of introducing 'flow-up' exchanges and other means of directing the flow up/down the tree...these mental gynastics lead me to duplicate messages or too much topology information being needed. I also considered routing rules where perhaps the node name is used as the first word in the route [node2.log.critical]...to work I would define an exchange/queue binding that did a match on everything EXCEPT my node. Alas I could not find anything that allowed 'not' matching part of a route. It is also likely that we may not settle on a tree hierarchy but may allow a graph so as to allow path duplication; but that decision is still open.

I've looked through all posts since June 22 to see what others are encountering with federation...sadly not too many people seem to be using it. So, is there any hope for me?

Thanks in advance...

John Letourneau,  DMTS   <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">topgun at bell-labs.com</A>

<A HREF="http://ect-bell-labs.com/who/topgun/">http://ect-bell-labs.com/who/topgun/</A>
Applications Research Domain
Bell Labs

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120103/27e1eeff/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120103/27e1eeff/attachment.htm</A>&gt;
</PRE>




































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017131.html">[rabbitmq-discuss] active-active implementation in php
</A></li>
	<LI>Next message: <A HREF="017103.html">[rabbitmq-discuss] Federation Configuration and Duplicate	Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17101">[ date ]</a>
              <a href="thread.html#17101">[ thread ]</a>
              <a href="subject.html#17101">[ subject ]</a>
              <a href="author.html#17101">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
