<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Java client blocked when opening channel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20client%20blocked%20when%20opening%20channel&In-Reply-To=%3C11048E61-CF6C-4D97-B745-12E774C4CD1A%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017608.html">
   <LINK REL="Next"  HREF="017656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Java client blocked when opening channel</H1>
    <B>Steve Powell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20client%20blocked%20when%20opening%20channel&In-Reply-To=%3C11048E61-CF6C-4D97-B745-12E774C4CD1A%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Java client blocked when opening channel">steve at rabbitmq.com
       </A><BR>
    <I>Wed Jan 25 14:49:33 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017608.html">[rabbitmq-discuss] Java client blocked when opening channel
</A></li>
        <LI>Next message: <A HREF="017656.html">[rabbitmq-discuss] Java client blocked when opening channel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17654">[ date ]</a>
              <a href="thread.html#17654">[ thread ]</a>
              <a href="subject.html#17654">[ subject ]</a>
              <a href="author.html#17654">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Guillaume,

Starting in 2.7.0, the threading model (for channels and Consumers) changed, so
I would expect the behaviour to be quite different now.

Have you tried upgrading to 2.7.1?

If you still experience the problem, some more information would be useful --
like a 'rabbitmqctl report' after the hang has taken place, and a thread stack
trace of the java app which is blocked, and so on.

Steve Powell  (a happy bunny)
----------some more definitions from the SPD----------
vermin (v.) Treating the dachshund for roundworm.
chinchilla (n.) Cooling device for the lower jaw.
socialcast (n.) Someone to whom everyone is speaking but nobody likes.

On 24 Jan 2012, at 10:13, Guillaume Perrot wrote:

&gt;<i> Matthias Radestock &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at ...</A>&gt; writes:
</I>&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Jiri,
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> On 23/02/11 09:56, Jiri Krutil wrote:
</I>&gt;&gt;&gt;<i> One of our threads got stuck inside AMQConnection.createChannel() and
</I>&gt;&gt;&gt;<i> would not return.
</I>&gt;&gt;&gt;<i> [...]
</I>&gt;&gt;&gt;<i> We are running RabbitMQ 2.1.0 (both server and Java client).
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> A fix for a bug with similar symptoms appeared in the 2.3.x Java client, 
</I>&gt;&gt;<i> so I suggest you upgrade the client to 2.3.1. Might as well upgrade the 
</I>&gt;&gt;<i> server at the same time, though that's not strictly necessary.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Matthias.
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I have the same problem with v2.5.1
</I>&gt;<i> createChannel does not have a timeout ?
</I>&gt;<i> When the problem happens, consuming stops on already running 
</I>&gt;<i> channels for this connection.
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120125/125ab8d7/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120125/125ab8d7/attachment.htm</A>&gt;
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017608.html">[rabbitmq-discuss] Java client blocked when opening channel
</A></li>
	<LI>Next message: <A HREF="017656.html">[rabbitmq-discuss] Java client blocked when opening channel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17654">[ date ]</a>
              <a href="thread.html#17654">[ thread ]</a>
              <a href="subject.html#17654">[ subject ]</a>
              <a href="author.html#17654">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
