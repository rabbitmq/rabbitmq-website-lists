<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] slave_pids and synchronised_slave_pids not available from the HTTP api?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20slave_pids%20and%20synchronised_slave_pids%20not%0A%20available%20from%20the%20HTTP%20api%3F&In-Reply-To=%3CCB274A48.25D75%25mpietrek%40skytap.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017579.html">
   <LINK REL="Next"  HREF="017146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] slave_pids and synchronised_slave_pids not available from the HTTP api?</H1>
    <B>Matt Pietrek</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20slave_pids%20and%20synchronised_slave_pids%20not%0A%20available%20from%20the%20HTTP%20api%3F&In-Reply-To=%3CCB274A48.25D75%25mpietrek%40skytap.com%3E"
       TITLE="[rabbitmq-discuss] slave_pids and synchronised_slave_pids not available from the HTTP api?">mpietrek at skytap.com
       </A><BR>
    <I>Mon Jan  2 19:49:28 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017579.html">[rabbitmq-discuss] Performance on ec2
</A></li>
        <LI>Next message: <A HREF="017146.html">[rabbitmq-discuss] slave_pids and synchronised_slave_pids not available from the HTTP api?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17087">[ date ]</a>
              <a href="thread.html#17087">[ thread ]</a>
              <a href="subject.html#17087">[ subject ]</a>
              <a href="author.html#17087">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm crafting some custom tooling that needs to know about the sync status of
mirrored queues. Up to this point I've been successfully using the HTTP API
via the rabbitmqadmin module and been able to get everything I need .
However, I'm stymied on slave_pids and  synchronised_slave_pids, which don't
seem to come through.

Per the rabbitmqctl cmd-line help, slave_pid and synchronised_slave_pids are
valid queueinfoitems. Up to this point, queueinfoitem names have worked
equally well with &quot;rabbitmqadmin list queues&quot;

I've simplified the repro case down to the following; Rabbitmqctl displays
these fields as expected:

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mpietrek at play</A>:~/work/$rabbitmqctl list_queues consumers messages name
slave_pids synchronised_slave_pids
Listing queues ...
0 0 fake_munger_queue [&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at play2.1.248.0</A>&gt;] [&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at play2.1.248.0</A>&gt;]
0 0 fake_service_2 [&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at play2.1.250.0</A>&gt;] [&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at play2.1.250.0</A>&gt;]
...done.


However, rabbitmqadmin doesn't:

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mpietrek at play</A>:~/work/$rabbitmqadmin.py list queues consumers messages name
slave_pids synchronised_slave_pids
+-----------+----------+----------------------+------------+----------------
---------+
|<i> consumers | messages |         name         | slave_pids |
</I>synchronised_slave_pids |
+-----------+----------+----------------------+------------+----------------
---------+
|<i> 0         | 0        | fake_munger_queue    |            |
</I>|<i>
</I>|<i> 0         | 0        | fake_service_2       |            |
</I>|<i>
</I>+-----------+----------+----------------------+------------+----------------
---------+

Is this normal/expected? Am I not understanding something?

FWIW, this is using RabbitMQ 2.71 on Ubuntu 10.04.

Thanks,

Matt


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120102/5e6cc733/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120102/5e6cc733/attachment.htm</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017579.html">[rabbitmq-discuss] Performance on ec2
</A></li>
	<LI>Next message: <A HREF="017146.html">[rabbitmq-discuss] slave_pids and synchronised_slave_pids not available from the HTTP api?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17087">[ date ]</a>
              <a href="thread.html#17087">[ thread ]</a>
              <a href="subject.html#17087">[ subject ]</a>
              <a href="author.html#17087">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
