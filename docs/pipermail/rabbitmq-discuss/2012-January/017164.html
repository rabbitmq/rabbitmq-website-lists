<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Unable to build Debian package since 2.7.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20build%20Debian%20package%20since%202.7.0&In-Reply-To=%3CCAHoS6UbkYDxvdjZg3ri8Ss5Lm61uzL-ASQCoKzapdDLLcCcOQg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017163.html">
   <LINK REL="Next"  HREF="017176.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Unable to build Debian package since 2.7.0</H1>
    <B>Jared Biel</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20build%20Debian%20package%20since%202.7.0&In-Reply-To=%3CCAHoS6UbkYDxvdjZg3ri8Ss5Lm61uzL-ASQCoKzapdDLLcCcOQg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Unable to build Debian package since 2.7.0">jared.biel at bolderthinking.com
       </A><BR>
    <I>Wed Jan  4 19:32:44 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017163.html">[rabbitmq-discuss] Unable to build Debian package since 2.7.0
</A></li>
        <LI>Next message: <A HREF="017176.html">[rabbitmq-discuss] Unable to build Debian package since 2.7.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17164">[ date ]</a>
              <a href="thread.html#17164">[ thread ]</a>
              <a href="subject.html#17164">[ subject ]</a>
              <a href="author.html#17164">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'd like to take this opportunity to add some things to my debian
package wishlist:

1. An /etc/default/rabbitmq file that contains something like START=no
2. Modification to rabbitmq-server.init to make use of that file so
rabbitmq won't start unless START is equal to a true value.

This construct is a part of many other debian daemons and is generally
well understood/accepted. In fact the rabbitmq postrm script currently
takes this file into account already. We make this modification to the
package and put it in our repo because if rabbitmq starts before we
drop our cookie into place (for cluster membership) Bad Things happen.

Thanks,
Jared

On Wed, Jan 4, 2012 at 13:18, Jared Biel &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jared.biel at bolderthinking.com</A>&gt; wrote:
&gt;<i> Excellent - this did get me quite a bit farther. It looks like
</I>&gt;<i> erlang-nox should indeed be a build dependency. I ran up against
</I>&gt;<i> another error during the build process:
</I>&gt;<i> &quot;erlang-rfc4627-wrapper/erlang-rfc4627-git/src/rfc4627_jsonrpc_inets.erl:97:
</I>&gt;<i> can't find include lib &quot;inets/src/httpd.hrl&quot;&quot;
</I>&gt;<i>
</I>&gt;<i> The file httpd.hrl is part of the erlang-src package. After installing
</I>&gt;<i> this as well I was able to successfully build. If you want to be
</I>&gt;<i> complete in satisfying build dependencies, I also needed to install
</I>&gt;<i> zip, unzip and nmap.
</I>&gt;<i>
</I>&gt;<i> So, here's the complete list of missing build dependencies:
</I>&gt;<i> erlang-nox, erlang-src, nmap, unzip, zip.
</I>&gt;<i>
</I>&gt;<i> Thanks for all of your help!
</I>&gt;<i>
</I>&gt;<i> -Jared
</I>&gt;<i>
</I>&gt;<i> On Wed, Jan 4, 2012 at 07:33, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:
</I>&gt;&gt;<i> On 03/01/12 19:40, Jared Biel wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It seems that some of the plugins have erlc issues while building.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hmm. It';s possible that our Debian control file is wrong - we list
</I>&gt;&gt;<i> erlang-nox under &quot;Depends&quot; (which is correct) but erlang-dev under
</I>&gt;&gt;<i> &quot;Build-Depends&quot;. erlang-dev doesn't drag in all the libraries implied by
</I>&gt;&gt;<i> erlang-nox, which was definitely what caused your problem with eldap and
</I>&gt;&gt;<i> probably the other problems you saw. I'll file a bug.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Can you build from the Debian source if you install erlang-nox?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers, Simon
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Simon MacMullen
</I>&gt;&gt;<i> RabbitMQ, VMware
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017163.html">[rabbitmq-discuss] Unable to build Debian package since 2.7.0
</A></li>
	<LI>Next message: <A HREF="017176.html">[rabbitmq-discuss] Unable to build Debian package since 2.7.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17164">[ date ]</a>
              <a href="thread.html#17164">[ thread ]</a>
              <a href="subject.html#17164">[ subject ]</a>
              <a href="author.html#17164">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
