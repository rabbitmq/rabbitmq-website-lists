<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Specifying channel_max
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Specifying%20channel_max&In-Reply-To=%3C4F268935.9040707%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017733.html">
   <LINK REL="Next"  HREF="017735.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Specifying channel_max</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Specifying%20channel_max&In-Reply-To=%3C4F268935.9040707%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Specifying channel_max">simon at rabbitmq.com
       </A><BR>
    <I>Mon Jan 30 12:12:37 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017733.html">[rabbitmq-discuss] Specifying channel_max
</A></li>
        <LI>Next message: <A HREF="017735.html">[rabbitmq-discuss] Problem in high availability setup together with	corosync
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17762">[ date ]</a>
              <a href="thread.html#17762">[ thread ]</a>
              <a href="subject.html#17762">[ subject ]</a>
              <a href="author.html#17762">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27/01/12 17:12, Dan Dart wrote:
&gt;&gt;<i> But this is a very rare limit to run into.
</I>&gt;<i>
</I>&gt;<i> Do you know why we might be hitting it?
</I>
I was talking about the limit on the number of channels per connection 
(channel_max) - you'd only run into that if you tried to open 65536 
channels in one connection, which I doubt you are doing.

&gt;&gt;<i> Are you running into a limit on the number of *connections* you can open?
</I>&gt;<i> Maybe so - we are just hitting it a lot - we have one IP sending stuff
</I>&gt;<i> constantly - but we don't have anything like &quot;keepalive&quot; so it's
</I>&gt;<i> trying to make a new connection each time.
</I>
OK, you will have to be clearer about what exact problem you are seeing. 
Would you expect there to be lots of connections open simultaneously? Or 
is your client app leaving connections open when it shouldn't? Do you 
see all these connections in mgmt / rabbitmqctl?

&gt;<i> Is this what's killing it? Can we just raise ulimit and you think it'll fix it?
</I>
If you need to have large numbers of connections open at the same time, 
yes. If you are leaking connections, this would only delay the problem.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017733.html">[rabbitmq-discuss] Specifying channel_max
</A></li>
	<LI>Next message: <A HREF="017735.html">[rabbitmq-discuss] Problem in high availability setup together with	corosync
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17762">[ date ]</a>
              <a href="thread.html#17762">[ thread ]</a>
              <a href="subject.html#17762">[ subject ]</a>
              <a href="author.html#17762">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
