<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] FW: One Producer, Many Consumers,	Manyphysical nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20FW%3A%20One%20Producer%2C%20Many%20Consumers%2C%0A%09Manyphysical%20nodes&In-Reply-To=%3Ccf8c1078-dc07-4c05-b687-fd6d2027d904%40strongmad.batnest.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017496.html">
   <LINK REL="Next"  HREF="017510.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] FW: One Producer, Many Consumers,	Manyphysical nodes</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20FW%3A%20One%20Producer%2C%20Many%20Consumers%2C%0A%09Manyphysical%20nodes&In-Reply-To=%3Ccf8c1078-dc07-4c05-b687-fd6d2027d904%40strongmad.batnest.org%3E"
       TITLE="[rabbitmq-discuss] FW: One Producer, Many Consumers,	Manyphysical nodes">jerryk at vmware.com
       </A><BR>
    <I>Thu Jan 19 18:46:29 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017496.html">[rabbitmq-discuss] FW: One Producer, Many Consumers, Manyphysical nodes
</A></li>
        <LI>Next message: <A HREF="017510.html">[rabbitmq-discuss] FW: One Producer, Many Consumers,	Manyphysical nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17509">[ date ]</a>
              <a href="thread.html#17509">[ thread ]</a>
              <a href="subject.html#17509">[ subject ]</a>
              <a href="author.html#17509">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Paul...

A tiny typo in Alvaro's mail me be throwing you off.  He 
meant:

&quot;When the message is delivered to a consumer and then that message
 is *ACKed* back to the server, then the message is automatically 
 deleted by RabbitMQ.&quot;

The reason that Rabbit doesn't consign the delivered message to
oblivion until a client has ACKed it is to guard against the lost
message you'd experience if Rabbit delivered a message to a client,
destroyed its local copies (regardless of whether it's current living
in RAM, on disk, or both), and then the client crashed before
completing whatever meaningful action it intended to perform with
the received message.  The disappearance of the client connection
lets Rabbit know that the message needs to be re-queued for
re-delivery.

If I'm reading you correctly that covers scenario 2 in your mail
below.  In scenario 1, are you wanting to have some permanent record
somewhere of messages that have passed through Rabbit for some
application specific reason?  If so, there are a couple of options
for doing that.

Best regards,
Jerry

----- Original Message -----
From: &quot;Paul M. Bell&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pbell at syncsort.com</A>&gt;
To: &quot;Alvaro Videla&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">videlalvaro at gmail.com</A>&gt;
Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Sent: Thursday, January 19, 2012 8:46:18 AM
Subject: Re: [rabbitmq-discuss] FW: One Producer, Many Consumers, Manyphysical nodes





Thank you, Alvaro. 



I had assumed (but Michael corrected me) that once a consumer retrieved a message, that message would disappear from the queue. Can you point me to examples/docs that show how to 1) cause a message to persist despite its retrieval by a consumer; 2) how explicitly to delete such a persisted message from a queue? 



-Paul 



PS: looking forward to your book. Any chance Amazon will have it before March? 








From: Alvaro Videla [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">videlalvaro at gmail.com</A>] 
Sent: Thursday, January 19, 2012 11:24 AM 
To: Bell, Paul M. 
Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> 
Subject: Re: [rabbitmq-discuss] FW: One Producer, Many Consumers, Manyphysical nodes 



Hi, 





RE - Keeping messages: 





RabbitMQ takes care of queueing messages, that is, of keeping them in queues. The only thing you have to do as a user is publishing them. 





RE - Deleting messages: 





When the message is delivered to a consumer and then that messages is asked back to the server, then the message is automatically deleted by RabbitMQ (this is an oversimplification BTW, there are many options that might modify message durability). 





Regards, 





Alvaro 





On Thu, Jan 19, 2012 at 5:17 PM, Bell, Paul M. &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pbell at syncsort.com</A> &gt; wrote: 

Michael, 

Thanks for the reply. 

I have finished working through a few of the tutorials you referenced. Either I missed something or haven't yet gotten to the right tutorial. 

You've told me that it's possible to leave a message in a queue, i.e., that a message can persist in its queue even after it has been received by a consumer. Can you tell me how this is done? 

Also, such an approach suggests the need to explicitly delete the message from the queue. Is there a way to do this? 

Cordially, 

Paul 

&gt;<i>Paul, 
</I>
&gt;<i>Looking through the tutorials will obviate many further questions. 
</I>
&gt;<i>On this specifically, 
</I>
&gt;&gt;<i> When a consumer pulls a message from the queue, is there a way to 
</I>&gt;&gt;<i> leave that message in queue? If so, can queue elements be updated 
</I>&gt;&gt;<i> in-place, e.g., with &quot;status&quot; info about the state of the work that 
</I>&gt;&gt;<i> the message (task) represents? 
</I>
&gt;<i>No. You can leave it in the queue, but you can't change it. You'd have to post another message. 
</I>
&gt;<i>-Michael 
</I>



ATTENTION: ----- 

The information contained in this message (including any files transmitted with this message) may contain proprietary, trade secret or other confidential and/or legally privileged information. Any pricing information contained in this message or in any files transmitted with this message is always confidential and cannot be shared with any third parties without prior written approval from Syncsort. This message is intended to be read only by the individual or entity to whom it is addressed or by their designee. If the reader of this message is not the intended recipient, you are on notice that any use, disclosure, copying or distribution of this message, in any form, is strictly prohibited. If you have received this message in error, please immediately notify the sender and/or Syncsort and destroy all copies of this message in your possession, custody or control. 
_______________________________________________ 
rabbitmq-discuss mailing list 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A> 


_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017496.html">[rabbitmq-discuss] FW: One Producer, Many Consumers, Manyphysical nodes
</A></li>
	<LI>Next message: <A HREF="017510.html">[rabbitmq-discuss] FW: One Producer, Many Consumers,	Manyphysical nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17509">[ date ]</a>
              <a href="thread.html#17509">[ thread ]</a>
              <a href="subject.html#17509">[ subject ]</a>
              <a href="author.html#17509">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
