<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Shovel questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20questions&In-Reply-To=%3CCAOn7oW_az9BeOcSxkW25uUrepyz57Y19XgrsmxVSOP9xDuGHHg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017544.html">
   <LINK REL="Next"  HREF="017593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Shovel questions</H1>
    <B>Simone Busoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20questions&In-Reply-To=%3CCAOn7oW_az9BeOcSxkW25uUrepyz57Y19XgrsmxVSOP9xDuGHHg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Shovel questions">simone.busoli at gmail.com
       </A><BR>
    <I>Sun Jan 22 12:46:15 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017544.html">[rabbitmq-discuss] Shovel questions
</A></li>
        <LI>Next message: <A HREF="017593.html">[rabbitmq-discuss] Shovel questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17546">[ date ]</a>
              <a href="thread.html#17546">[ thread ]</a>
              <a href="subject.html#17546">[ subject ]</a>
              <a href="author.html#17546">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Jan 21, 2012 at 23:58, Elias Levy &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">fearsome.lucidity at gmail.com</A>&gt;wrote:

&gt;<i> We are thinking of exposing a portion of our message bus to customers.  To
</I>&gt;<i> do we we will be creating a new cluster that can be exposed and will be
</I>&gt;<i> linking it to our existing cluster.
</I>&gt;<i>
</I>&gt;<i> I've looked a the Federation plug-in, but it has a feature disqualifies it
</I>&gt;<i> for our purposes.   We'd like to keep communications from our existing
</I>&gt;<i> cluster to the new exposed cluster unidirectional.  That means now allowing
</I>&gt;<i> incoming connections into the existing cluster, in case there is ever a
</I>&gt;<i> RabbitMQ vulnerability (or say, an Erlang or OpenSSL vulnerability) that
</I>&gt;<i> would allow the external cluster to be compromised.  Since both cluster are
</I>&gt;<i> running RabbitMQ, we don't want an attacker to be able to jump from the
</I>&gt;<i> external cluster to the internal one.  From what I've gathered, the AMQP
</I>&gt;<i> client that the Federation plug-in uses executed within the downstream
</I>&gt;<i> broker, and thus it has to be able to make an AMQP connection to the
</I>&gt;<i> upstream broker.
</I>&gt;<i>
</I>&gt;<i> Is that correct?  Any plans to allow for the opposite behavior (upstream
</I>&gt;<i> connects to the downstream broker)?
</I>&gt;<i>
</I>
I don't know the internals of the federation plugin well enough to be able
to answer this question. I know that it uses exchange-exchange bindings and
I'm not sure if it's even feasible to have it work in the way you describe.


&gt;<i>
</I>&gt;<i> That leaves us with the Shovel plug-in, which can be configured to run on
</I>&gt;<i> either the upstream or downstream broker.
</I>&gt;<i>
</I>&gt;<i> One problem with the Shovel plug-in is that it appears you can only manage
</I>&gt;<i> the shovels within the configuration file.  Is there no way to manage
</I>&gt;<i> shovels online, either through AMQP or a management plug-in?
</I>&gt;<i>
</I>
No, there is no way to do that except in the configuration file.


&gt;<i>
</I>&gt;<i> If neither of those are possible, can RabbitMQ reload its configuration
</I>&gt;<i> without restarting?
</I>&gt;<i>
</I>
No, you cannot do that. Nonetheless be aware that shovel is not hard to set
up manually as an external component from the broker, although with some
gotchas. We've been doing that for some time before the federation plugin
was published.


&gt;<i>
</I>&gt;<i> Finally, its unclear whether you should only define a shovel in a single
</I>&gt;<i> node in a cluster or in multiple ones?  If you define it in multiple ones,
</I>&gt;<i> does it create multiple shovel clients competing for messages?  If not,
</I>&gt;<i> will a shovel fail over if the node with the existing client fails?
</I>&gt;<i>
</I>
Shovel is a low level mechanis, so whatever you configure it, it will do
what you told it to, i.e. pick messages from one queue and publish them to
some exchange. How you set it up is then up to you according to what you
want to accomplish.


&gt;<i>
</I>&gt;<i> Elias
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120122/7b6da4b9/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120122/7b6da4b9/attachment.htm</A>&gt;
</PRE>

















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017544.html">[rabbitmq-discuss] Shovel questions
</A></li>
	<LI>Next message: <A HREF="017593.html">[rabbitmq-discuss] Shovel questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17546">[ date ]</a>
              <a href="thread.html#17546">[ thread ]</a>
              <a href="subject.html#17546">[ subject ]</a>
              <a href="author.html#17546">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
