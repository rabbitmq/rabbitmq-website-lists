<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Ruby Gem with Unicorn server
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Ruby%20Gem%20with%20Unicorn%20server&In-Reply-To=%3C7361ABA0-9A6A-420C-B0FD-713E5000381E%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017442.html">
   <LINK REL="Next"  HREF="017449.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Ruby Gem with Unicorn server</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Ruby%20Gem%20with%20Unicorn%20server&In-Reply-To=%3C7361ABA0-9A6A-420C-B0FD-713E5000381E%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] Ruby Gem with Unicorn server">michael.s.klishin at gmail.com
       </A><BR>
    <I>Tue Jan 17 19:42:10 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017442.html">[rabbitmq-discuss] Ruby Gem with Unicorn server
</A></li>
        <LI>Next message: <A HREF="017449.html">[rabbitmq-discuss] Ruby Gem with Unicorn server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17443">[ date ]</a>
              <a href="thread.html#17443">[ thread ]</a>
              <a href="subject.html#17443">[ subject ]</a>
              <a href="author.html#17443">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark:

&gt;<i> Question... typically only 1 channel is needed per application right?
</I>
For Web apps that just publish messages and never consume them, yes.

For consumer applications, you almost always end up with multiple channels because
channels should not be shared between threads and error handling in AMQP 0.9.1 is per-channel (connection-level exceptions usually
indicate misconfiguration or serious client bugs). Another common reason for separation is to be able to see separate message flows
in the RabbitMQ Web UI.

You can always start with 1 channel (this is why AMQP.channel accessor is there, so you don't have to decide where to assign it) and add more,
often moving to this technique: 

<A HREF="http://rubyamqp.info/articles/getting_started/#integration_with_objects">http://rubyamqp.info/articles/getting_started/#integration_with_objects</A>

but It is not uncommon to see publishing being done as

AMQP.channel.default_exchange.publish(payload, &#8230;)

initially. This is not discouraged.

Channels on the wire are just integers every message carries so they are very cheap to create and maintain in terms of resources,
both for clients and RabbitMQ itself.

MK

<A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
<A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>

</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017442.html">[rabbitmq-discuss] Ruby Gem with Unicorn server
</A></li>
	<LI>Next message: <A HREF="017449.html">[rabbitmq-discuss] Ruby Gem with Unicorn server
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17443">[ date ]</a>
              <a href="thread.html#17443">[ thread ]</a>
              <a href="subject.html#17443">[ subject ]</a>
              <a href="author.html#17443">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
