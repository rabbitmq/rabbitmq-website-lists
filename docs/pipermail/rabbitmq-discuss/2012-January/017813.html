<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] queue discovery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20queue%20discovery&In-Reply-To=%3Cf25f3fd6-6b13-47ec-89a8-5e68063e3fb0%40strongmad.batnest.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017788.html">
   <LINK REL="Next"  HREF="017812.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] queue discovery</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20queue%20discovery&In-Reply-To=%3Cf25f3fd6-6b13-47ec-89a8-5e68063e3fb0%40strongmad.batnest.org%3E"
       TITLE="[rabbitmq-discuss] queue discovery">jerryk at vmware.com
       </A><BR>
    <I>Tue Jan 31 19:29:30 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017788.html">[rabbitmq-discuss] queue discovery
</A></li>
        <LI>Next message: <A HREF="017812.html">[rabbitmq-discuss] queue discovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17813">[ date ]</a>
              <a href="thread.html#17813">[ thread ]</a>
              <a href="subject.html#17813">[ subject ]</a>
              <a href="author.html#17813">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Steven...

Usually this is a mishap at the publication end, but a good way to get
insight during debugging is to use the firehose tracer feature of Rabbit.
See here for details:

<A HREF="http://www.rabbitmq.com/firehose.html">http://www.rabbitmq.com/firehose.html</A>

Using firehose you'll be able to see every message published and every
message delivered at a &quot;close to the wire&quot; level of detail that will enable
you to catch things like messages that weren't published to where you thought
they were going, messages that weren't properly ACKed at the consumer side,
etc.

Give it a try as it may yield insight.  Also, double check your bindings,
and the details of how you're publishing somewhat meticulously...

Best regards,
Jerry

----- Original Message -----
From: &quot;Steven Taylor&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">taylste at gmail.com</A>&gt;
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Cc: &quot;Jerry Kuch&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt;
Sent: Monday, January 30, 2012 10:40:55 PM
Subject: Re: [rabbitmq-discuss] queue discovery


decided to assert that the queue exists for now. Got a weird publish issue. I am publishing to a queue that exists and the message isn't turning up. 

I confirmed this by looking at &quot;rabbitmqctl.bat list_queues&quot; and also, via the management plugin. 

Have you seen this before? What's a good way to troubleshoot? 

thanks, 
-Steven 


On 31 January 2012 06:25, Steven Taylor &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">taylste at gmail.com</A> &gt; wrote: 



Hi Jerry, 

under the .net client, would that come through on the below? event BasicAckEventHandler BasicAcks; 
thanks, 
-Steven 






On 31 January 2012 05:49, Jerry Kuch &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A> &gt; wrote: 


Hi, Steven 

Asserting the queue existence probably may not be heavyweight enough for you 
to worry about. That said, you could consider setting the 'mandatory' flag 
when you publish, in which case you'll get an asynchronous notification if the 
message cannot be routed to any queue (e.g. if no queues are bound to the 
exchange you published too, or your routing key didn't match one that was, etc.) 

Best regards, 
Jerry 




----- Original Message ----- 
From: &quot;Steven Taylor&quot; &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">taylste at gmail.com</A> &gt; 
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> 
Sent: Monday, January 30, 2012 9:21:46 PM 
Subject: [rabbitmq-discuss] queue discovery 



Hi, 

chicken and egg situation here. 

Sender expects that receiver will have created a queue, only, the sender is in this case the first to exist, and so sends a message to a non-existant queue. 

Result: rabbit throws away the message. Is the only way forward to always assert queue existance, or is there a lighter weight alternative? i.e. it'd be nice to get a status or exception back stating if the message got routed or not. 

Same situation could occur if queue is defined with non durable and autodelete. i.e. rabbit goes down and then comes back up. 

thanks, 
-Steven 
_______________________________________________ 
rabbitmq-discuss mailing list 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A> 


</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017788.html">[rabbitmq-discuss] queue discovery
</A></li>
	<LI>Next message: <A HREF="017812.html">[rabbitmq-discuss] queue discovery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17813">[ date ]</a>
              <a href="thread.html#17813">[ thread ]</a>
              <a href="subject.html#17813">[ subject ]</a>
              <a href="author.html#17813">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
