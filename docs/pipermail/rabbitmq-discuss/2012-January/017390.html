<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Getting Rid of a Faulty message
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Getting%20Rid%20of%20a%20Faulty%20message&In-Reply-To=%3CCAJtNgzw5od_s1-jc6zFAJddr_k6KvVFm6LHSS5Y%2BOZG4Q8CeRQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017389.html">
   <LINK REL="Next"  HREF="017391.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Getting Rid of a Faulty message</H1>
    <B>Oren Shochat</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Getting%20Rid%20of%20a%20Faulty%20message&In-Reply-To=%3CCAJtNgzw5od_s1-jc6zFAJddr_k6KvVFm6LHSS5Y%2BOZG4Q8CeRQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Getting Rid of a Faulty message">orenshome at gmail.com
       </A><BR>
    <I>Sun Jan 15 09:16:45 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017389.html">[rabbitmq-discuss] Important change in amqp gem master
</A></li>
        <LI>Next message: <A HREF="017391.html">[rabbitmq-discuss] Getting Rid of a Faulty message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17390">[ date ]</a>
              <a href="thread.html#17390">[ thread ]</a>
              <a href="subject.html#17390">[ subject ]</a>
              <a href="author.html#17390">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a RabbitMQ on Amazon load balancing between N processors that do
heavy image processing algorithms (running 1-8 min on an 8 core computer) .
I'm using RabbitMQ fair dispatch and message acknowledgement to make sure
the Algorithm requests are distributed fairly amongst the processors.

However once in a while I get a message that causes the processor to crash.
RabbitMQ of course (since no ack received and connection terminated) makes
sure the message goes to the next processor which also crashes because
processors share the same code.  Soon all the processors are down. They go
up again, but the faulty message stays in the system until I get the alarms
and purges the RabbitMQ queue.

The processors have a 10 years old legacy code written by multiple
mathematicians and is almost impossible to protect against all faulty data.



Is there any mechanism in RabbitMQ that can still give me load balancing
but kick out a message that cannot be processed by consumers?


Thanks

Oren
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120115/72fe6582/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120115/72fe6582/attachment.htm</A>&gt;
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017389.html">[rabbitmq-discuss] Important change in amqp gem master
</A></li>
	<LI>Next message: <A HREF="017391.html">[rabbitmq-discuss] Getting Rid of a Faulty message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17390">[ date ]</a>
              <a href="thread.html#17390">[ thread ]</a>
              <a href="subject.html#17390">[ subject ]</a>
              <a href="author.html#17390">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
