<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] beam.smp memory consumption keeps growing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20beam.smp%20memory%20consumption%20keeps%20growing&In-Reply-To=%3C24758975.860.1327358063919.JavaMail.geo-discussion-forums%40vbue14%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017584.html">
   <LINK REL="Next"  HREF="017616.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] beam.smp memory consumption keeps growing</H1>
    <B>Dennis Jacobfeuerborn</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20beam.smp%20memory%20consumption%20keeps%20growing&In-Reply-To=%3C24758975.860.1327358063919.JavaMail.geo-discussion-forums%40vbue14%3E"
       TITLE="[rabbitmq-discuss] beam.smp memory consumption keeps growing">djacobfeuerborn at gmail.com
       </A><BR>
    <I>Mon Jan 23 22:34:23 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017584.html">[rabbitmq-discuss] beam.smp memory consumption keeps growing
</A></li>
        <LI>Next message: <A HREF="017616.html">[rabbitmq-discuss] beam.smp memory consumption keeps growing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17598">[ date ]</a>
              <a href="thread.html#17598">[ thread ]</a>
              <a href="subject.html#17598">[ subject ]</a>
              <a href="author.html#17598">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here is the new output (2.5mb):
<A HREF="http://www.conversis.de/exac/memory.txt.bz2">http://www.conversis.de/exac/memory.txt.bz2</A>

It seems the memory issue has something to to with the clustering. When 
doing another test I saw in the management interface that the second node 
wasn't online (probably shut down by a co-worker). I ran the script with 
just the one node and after the message where consumed all the memory was 
returned properly. So I started the second node and tried again. This time 
the memory wasn't returned at the end on the first node but on the second 
one it was. Then I shut down the second node again and shortly after that 
the first node went back to almost the initial memory consumption level.
The new dump shows the state when both cluster nodes are online and the 
second node has returned its memory but the first one hasn't. The command 
was run on the first node.

Regards,
  Dennis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120123/02e034a5/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120123/02e034a5/attachment.htm</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017584.html">[rabbitmq-discuss] beam.smp memory consumption keeps growing
</A></li>
	<LI>Next message: <A HREF="017616.html">[rabbitmq-discuss] beam.smp memory consumption keeps growing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17598">[ date ]</a>
              <a href="thread.html#17598">[ thread ]</a>
              <a href="subject.html#17598">[ subject ]</a>
              <a href="author.html#17598">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
