<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [rabbitmq-consistent-hash-exchange] Question	related to workload distribution
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5Brabbitmq-consistent-hash-exchange%5D%20Question%0A%09related%20to%20workload%20distribution&In-Reply-To=%3C77349218-cfb4-4182-907d-60818d21daa5%4018g2000yqe.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017670.html">
   <LINK REL="Next"  HREF="017667.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [rabbitmq-consistent-hash-exchange] Question	related to workload distribution</H1>
    <B>Josh Stone</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5Brabbitmq-consistent-hash-exchange%5D%20Question%0A%09related%20to%20workload%20distribution&In-Reply-To=%3C77349218-cfb4-4182-907d-60818d21daa5%4018g2000yqe.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] [rabbitmq-consistent-hash-exchange] Question	related to workload distribution">pacesysjosh at gmail.com
       </A><BR>
    <I>Tue Jan 24 23:39:11 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017670.html">[rabbitmq-discuss] Determining if two clustered brokers are in sync
</A></li>
        <LI>Next message: <A HREF="017667.html">[rabbitmq-discuss] [rabbitmq-consistent-hash-exchange] Question related to workload distribution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17633">[ date ]</a>
              <a href="thread.html#17633">[ thread ]</a>
              <a href="subject.html#17633">[ subject ]</a>
              <a href="author.html#17633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We're looking at using rabbitmq with the consistent hash exchange to
distribute workload to a set of workers with each worker subscribing
to one or more topics. It looks like this will work well, until a
worker along with its topics either comes or leaves, which will
disrupt the hashing.

Particularly, if a new worker enters and creates some topics on the
exchange, messages that previously would have been delivered to
another topic will be directed to the new topic. And if an existing
worker was operating on some data from a previous message and a new
message to operate on that data is sent to a new topic, we could have
a race condition.

I'm wondering how other users are handling this? With other systems
that use consistent hashing such as Dynamo, when the hashing changes
data that would have previously been stored on one node is sent to
another node. When using consistent hashing to distribute workload
though, we can't very easily suspend processing on one worker and send
it to another. Any input on how other users are dealing with this
would be appreciated.

Cheers,
Josh
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017670.html">[rabbitmq-discuss] Determining if two clustered brokers are in sync
</A></li>
	<LI>Next message: <A HREF="017667.html">[rabbitmq-discuss] [rabbitmq-consistent-hash-exchange] Question related to workload distribution
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17633">[ date ]</a>
              <a href="thread.html#17633">[ thread ]</a>
              <a href="subject.html#17633">[ subject ]</a>
              <a href="author.html#17633">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
