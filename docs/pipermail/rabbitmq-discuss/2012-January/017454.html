<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to check the ack for a particular message	that's sent using Pika?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20check%20the%20ack%20for%20a%20particular%20message%0A%09that%27s%20sent%20using%20Pika%3F&In-Reply-To=%3CCALD4NQb-_p1TqsAP1-a_eH6QF2%3DKN%2BUAaGVZ-aLX1jnkUToSiQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017485.html">
   <LINK REL="Next"  HREF="017456.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to check the ack for a particular message	that's sent using Pika?</H1>
    <B>Brian Jing</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20check%20the%20ack%20for%20a%20particular%20message%0A%09that%27s%20sent%20using%20Pika%3F&In-Reply-To=%3CCALD4NQb-_p1TqsAP1-a_eH6QF2%3DKN%2BUAaGVZ-aLX1jnkUToSiQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] How to check the ack for a particular message	that's sent using Pika?">brian.newsgroup at gmail.com
       </A><BR>
    <I>Wed Jan 18 06:53:05 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="017485.html">[rabbitmq-discuss] Questions on consumerTags and basicConsume
</A></li>
        <LI>Next message: <A HREF="017456.html">[rabbitmq-discuss] ReplyTo / ReplyToAddress fail to be transferred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17454">[ date ]</a>
              <a href="thread.html#17454">[ thread ]</a>
              <a href="subject.html#17454">[ subject ]</a>
              <a href="author.html#17454">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there,

I'd like to be able to check whether I've received an ack for a particular
message when using publisher delivery confirm mode. Was wondering if it's
possible to do this using Pika.

Reason why I'd like to do this: my RabbitMQ client receives messages from a
local daemon (using rpc) and sends those messages asynchronously to a
RabbitMQ server. Since the messages received from the daemon are stored in
memory, if the client crashes, it will lose them. Hence I'd like to improve
robustness of the client by making the client store messages to disk. If
the client fails to receive an ack for a message, it resends the message,
otherwise it removes the message from the local disk store.

So basically how it works is:
1. daemon sends a message to local client
2. client stores the message to disk
3. client sends the message to server
4. client resends the message periodically until it receives the ack, then
it removes the message from the disk.

By doing it this way, I will have to know whether I've received an ack.
However, from some experiments done by a colleague recently, it appears
that the server may send an ack for multiple messages (if it's correct).
I've looked around and only saw a Java example trying to retrieve sequence
number for a message from a frame. I would like to know whether it's
possible to check whether I've got an ack for a particular message using
Pika, and the way how to do it.

Cheers,

Brian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120118/3797eb2c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120118/3797eb2c/attachment.htm</A>&gt;
</PRE>















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017485.html">[rabbitmq-discuss] Questions on consumerTags and basicConsume
</A></li>
	<LI>Next message: <A HREF="017456.html">[rabbitmq-discuss] ReplyTo / ReplyToAddress fail to be transferred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17454">[ date ]</a>
              <a href="thread.html#17454">[ thread ]</a>
              <a href="subject.html#17454">[ subject ]</a>
              <a href="author.html#17454">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
