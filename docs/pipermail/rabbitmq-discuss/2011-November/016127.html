<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Breaking API changes in JAva API 2.7.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Breaking%20API%20changes%20in%20JAva%20API%202.7.0&In-Reply-To=%3CCAAcXTOaNsa_wLLArna9gUruXTE2D4EFc1Z1BTKBgFGJ%2B1ZU%3DTw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016170.html">
   <LINK REL="Next"  HREF="016133.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Breaking API changes in JAva API 2.7.0</H1>
    <B>Irmo Manie</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Breaking%20API%20changes%20in%20JAva%20API%202.7.0&In-Reply-To=%3CCAAcXTOaNsa_wLLArna9gUruXTE2D4EFc1Z1BTKBgFGJ%2B1ZU%3DTw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Breaking API changes in JAva API 2.7.0">irmo.manie at gmail.com
       </A><BR>
    <I>Thu Nov 10 15:16:50 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016170.html">[rabbitmq-discuss] Priority Queue Implementation
</A></li>
        <LI>Next message: <A HREF="016133.html">[rabbitmq-discuss] Breaking API changes in JAva API 2.7.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16127">[ date ]</a>
              <a href="thread.html#16127">[ thread ]</a>
              <a href="subject.html#16127">[ subject ]</a>
              <a href="author.html#16127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi guys,

I was eager to update to the 2.7.0 java client, but when I dropped the
new jar in I ran into some braking changes (again I must really say
here).

I see that i.e. the connection factory now takes an optional executor
service as parameter for the channel threads (which is very nice
actually!).
With that change, the method for creating a new connection taking an
array of addresses is now gone and moved into a private method
together with he executor service parameter:

private Connection newConnection(ExecutorService executor, Address[] addrs)

This must be a mistake, because the public api now has no way of
passing in an array of addresses anymore for the connection, but the
implementation still uses this in the private method. This is now all
the public api offers:

public Connection newConnection()
public Connection newConnection(ExecutorService executor)

I am missing:
public Connection newConnection(Adress[] addrs)

And actually the private one could be publis too I reckon?
public Connection newConnection(Adress[] addrs, ExecutorService executor)


Also: why are the connection factory defaults private all of a sudden?
They are useful if you build an api around the java client and it
doesn't harm to keep this kind of static info into the public right?

These are the things I ran into and switched back again to 2.6.1,
because I 'need' the connection to multiple addresses to connect to a
cluster.

- Irmo
</PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016170.html">[rabbitmq-discuss] Priority Queue Implementation
</A></li>
	<LI>Next message: <A HREF="016133.html">[rabbitmq-discuss] Breaking API changes in JAva API 2.7.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16127">[ date ]</a>
              <a href="thread.html#16127">[ thread ]</a>
              <a href="subject.html#16127">[ subject ]</a>
              <a href="author.html#16127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
