<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Clustering problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20problem&In-Reply-To=%3C4EC373AD.4050408%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016259.html">
   <LINK REL="Next"  HREF="016261.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Clustering problem</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20problem&In-Reply-To=%3C4EC373AD.4050408%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Clustering problem">matthias at rabbitmq.com
       </A><BR>
    <I>Wed Nov 16 08:26:21 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016259.html">[rabbitmq-discuss] Clustering problem
</A></li>
        <LI>Next message: <A HREF="016261.html">[rabbitmq-discuss] Clustering problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16260">[ date ]</a>
              <a href="thread.html#16260">[ thread ]</a>
              <a href="subject.html#16260">[ subject ]</a>
              <a href="author.html#16260">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dmitry,

On 16/11/11 08:07, Pursanov Dmitry wrote:
&gt;<i> hope these are not problems, because of versioning
</I>&gt;<i> conflicts(r1-2.7, r2-2.6)?
</I>
You certainly shouldn't mix rabbit versions in a cluster. I don't think 
that's the problem here, but I suggest you run 2.7.0 on both.

&gt;<i> C:\Program Files (x86)\RabbitMQ
</I>&gt;<i> Server\rabbitmq_server-2.7.0\sbin&gt;rabbitmqctl cl
</I>&gt;<i> uster <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at r2</A>
</I>&gt;<i> Clustering node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at R1</A> with [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at r2</A>] ...
</I>&gt;<i> Error: {no_running_cluster_nodes,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at r2</A>],[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at r2</A>]}
</I>
Forget about clustering for the moment. First try to get both nodes up 
and running independently, and rabbitmqctl on both nodes to talk to the 
other nodes.

So please, on both nodes

1) remove the service with 'rabbitmq-service remove'
2) set the RABBITMQ_CONSOLE_LOG env var to 'new'.
3) install the service with 'rabbitmq-service install'
4) start the service with 'rabbitmq-service start'

Then, on R1 run

- rabbitmqctl status
- rabbitmqctl -n <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at R2</A> status

and on R2

- rabbitmqctl status
- rabbitmqctl -n <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at R2</A> status

If these all work then we can move on to clustering. If they don't then 
please post their output and the contents of the server console log 
(which after the above steps should hopefully be present now).

Regards,

Matthias.
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016259.html">[rabbitmq-discuss] Clustering problem
</A></li>
	<LI>Next message: <A HREF="016261.html">[rabbitmq-discuss] Clustering problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16260">[ date ]</a>
              <a href="thread.html#16260">[ thread ]</a>
              <a href="subject.html#16260">[ subject ]</a>
              <a href="author.html#16260">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
