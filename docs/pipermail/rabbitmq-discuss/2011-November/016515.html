<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Performence issue with clustering setup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performence%20issue%20with%20clustering%20setup&In-Reply-To=%3C4ECE17B6.40105%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016514.html">
   <LINK REL="Next"  HREF="016516.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Performence issue with clustering setup</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performence%20issue%20with%20clustering%20setup&In-Reply-To=%3C4ECE17B6.40105%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Performence issue with clustering setup">matthias at rabbitmq.com
       </A><BR>
    <I>Thu Nov 24 10:08:54 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016514.html">[rabbitmq-discuss] Performence issue with clustering setup
</A></li>
        <LI>Next message: <A HREF="016516.html">[rabbitmq-discuss] Performence issue with clustering setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16515">[ date ]</a>
              <a href="thread.html#16515">[ thread ]</a>
              <a href="subject.html#16515">[ subject ]</a>
              <a href="author.html#16515">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jeffrey,

On 23/11/11 21:40, Jeffrey Chen wrote:
&gt;<i> I am testing performance on rabbitmq clustering setup. I have 2 nodes
</I>&gt;<i> with active/active setup, both nodes write to disk, and they both are in
</I>&gt;<i> a local area network. When I start my publisher and consumer, the
</I>&gt;<i> publisher is very fast, is it able to send 100000 in few seconds. The
</I>&gt;<i> problem is the consumer. My consumer is only able to consume around 500
</I>&gt;<i> messages per second.
</I>
Publishing in AMQP is asynchronous. So when a test is measuring the rate 
at the publisher, one has no idea of the status of those published 
messages - they could all be sitting in local buffers in the client 
libraries, or in various network buffers, etc.

Furthermore, rabbit is designed to cope with producer spikes, but that 
comes at the cost of reduced consumer rates. So if in your test the 
producer is simply bombarding rabbit with messages, the consumer rate 
will be much lower than it would be otherwise.

For meaningful benchmark results one needs to rate limit the producer.


Regards,

Matthias.
</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016514.html">[rabbitmq-discuss] Performence issue with clustering setup
</A></li>
	<LI>Next message: <A HREF="016516.html">[rabbitmq-discuss] Performence issue with clustering setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16515">[ date ]</a>
              <a href="thread.html#16515">[ thread ]</a>
              <a href="subject.html#16515">[ subject ]</a>
              <a href="author.html#16515">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
