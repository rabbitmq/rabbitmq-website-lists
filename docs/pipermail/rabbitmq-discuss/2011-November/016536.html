<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Problem with the example_consume from the c++	wrapper amqpccp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Problem%20with%20the%20example_consume%20from%20the%20c%2B%2B%0A%09wrapper%20amqpccp&In-Reply-To=%3Cce551ba9-8b40-475e-aa1e-28b969168f7a%40cc2g2000vbb.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016524.html">
   <LINK REL="Next"  HREF="016537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Problem with the example_consume from the c++	wrapper amqpccp</H1>
    <B>TZHA</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Problem%20with%20the%20example_consume%20from%20the%20c%2B%2B%0A%09wrapper%20amqpccp&In-Reply-To=%3Cce551ba9-8b40-475e-aa1e-28b969168f7a%40cc2g2000vbb.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Problem with the example_consume from the c++	wrapper amqpccp">sophiewenxizhang at googlemail.com
       </A><BR>
    <I>Thu Nov 24 15:54:28 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016524.html">[rabbitmq-discuss] Hacking on RabbitMQ?
</A></li>
        <LI>Next message: <A HREF="016537.html">[rabbitmq-discuss] Problem with the example_consume from the	c++ wrapper amqpccp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16536">[ date ]</a>
              <a href="thread.html#16536">[ thread ]</a>
              <a href="subject.html#16536">[ subject ]</a>
              <a href="author.html#16536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am using the c++ wrapper for librabbitmq (C client) - with windows
client and linux server. The example with get and different
configurations is ok.  The example_consume.cpp does work.

It seems to me that the consumer was registered at the server (I could
see it the web admin for the rabbitmq server).  However, the client
didn't get any result from  the queue.

It seems to me that in AMQPQueue::sendConsumeCommand()

while(1) {
		amqp_maybe_release_buffers(*cnn);
		int result = amqp_simple_wait_frame(*cnn, &amp;frame);
		if (result &lt;= 0) return;

The &quot;result&quot; is always 0.   It seems to me that the &quot;delivery&quot; was not
called.

The queue was not empty.

Am i missing something?
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016524.html">[rabbitmq-discuss] Hacking on RabbitMQ?
</A></li>
	<LI>Next message: <A HREF="016537.html">[rabbitmq-discuss] Problem with the example_consume from the	c++ wrapper amqpccp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16536">[ date ]</a>
              <a href="thread.html#16536">[ thread ]</a>
              <a href="subject.html#16536">[ subject ]</a>
              <a href="author.html#16536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
