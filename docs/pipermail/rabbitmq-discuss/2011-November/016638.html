<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Shovel messages get lost or stay	unacknowledged.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20messages%20get%20lost%20or%20stay%0A%09unacknowledged.&In-Reply-To=%3CCAH24rBPOSnpS3b9whD04ccTZvBmYL2CFbPBcYXJvvZKbTT%3DyzQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016628.html">
   <LINK REL="Next"  HREF="016640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Shovel messages get lost or stay	unacknowledged.</H1>
    <B>Mark Steele</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20messages%20get%20lost%20or%20stay%0A%09unacknowledged.&In-Reply-To=%3CCAH24rBPOSnpS3b9whD04ccTZvBmYL2CFbPBcYXJvvZKbTT%3DyzQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Shovel messages get lost or stay	unacknowledged.">msteele at beringmedia.com
       </A><BR>
    <I>Tue Nov 29 14:40:15 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016628.html">[rabbitmq-discuss] Shovel messages get lost or stay	unacknowledged.
</A></li>
        <LI>Next message: <A HREF="016640.html">[rabbitmq-discuss] Shovel messages get lost or	stay	unacknowledged.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16638">[ date ]</a>
              <a href="thread.html#16638">[ thread ]</a>
              <a href="subject.html#16638">[ subject ]</a>
              <a href="author.html#16638">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We've seen similar issues with long lived connections being killed by
firewalls. I'd recommend Rabbit add TCP_KEEPALIVE to the socket options.
We've worked around it by using libkeepalive (
<A HREF="http://libkeepalive.sourceforge.net/">http://libkeepalive.sourceforge.net/</A>) to force the rabbit server to do
this, but it'd be nice if it was an option that was baked in.

Mark Steele, CISSP, CSM
Bering Media Inc.


On Tue, Nov 29, 2011 at 5:55 AM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:

&gt;<i> On 29/11/11 08:37, Jelle Smet wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I have defined a heartbeat for each configured connection Shovel
</I>&gt;&gt;<i> creates. (?heartbeat=5)
</I>&gt;&gt;<i> I haven't run into the same issue ever since, ...
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Well, that's good news at least. It's possible some networking thing
</I>&gt;<i> somewhere in between might be failing to route packets for TCP connections
</I>&gt;<i> that have been idle for a while. We've seen intimations of such things
</I>&gt;<i> before I think.
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Simon MacMullen
</I>&gt;<i> RabbitMQ, VMware
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111129/a45aae34/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111129/a45aae34/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016628.html">[rabbitmq-discuss] Shovel messages get lost or stay	unacknowledged.
</A></li>
	<LI>Next message: <A HREF="016640.html">[rabbitmq-discuss] Shovel messages get lost or	stay	unacknowledged.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16638">[ date ]</a>
              <a href="thread.html#16638">[ thread ]</a>
              <a href="subject.html#16638">[ subject ]</a>
              <a href="author.html#16638">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
