<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq clustering using mirrored queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20clustering%20using%20mirrored%20queues&In-Reply-To=%3C5432a937-112a-40e2-b805-010ac291a067%40g7g2000vbd.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016438.html">
   <LINK REL="Next"  HREF="016416.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq clustering using mirrored queues</H1>
    <B>Venkat</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20clustering%20using%20mirrored%20queues&In-Reply-To=%3C5432a937-112a-40e2-b805-010ac291a067%40g7g2000vbd.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq clustering using mirrored queues">vveludan at gmail.com
       </A><BR>
    <I>Sun Nov 20 22:49:30 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016438.html">[rabbitmq-discuss] rabbitmq clustering using mirrored queues
</A></li>
        <LI>Next message: <A HREF="016416.html">[rabbitmq-discuss] Wrong result retrieving messages from 1 queue	bound to 2 exchanges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16415">[ date ]</a>
              <a href="thread.html#16415">[ thread ]</a>
              <a href="subject.html#16415">[ subject ]</a>
              <a href="author.html#16415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Good evening.
We are testing out mirrored queues using RabbitMQ 2.6.1 and spring-
amqp 1.0 on Cent OS in cloud environment.
Assuming that we create a cluster with the following criteria:
- Create cluster with two RabbitMQ nodes Node1 and Node2 (Node2 is
clustered with Node1).
- Queues are created with x-ha-policy = all

Once the cluster is set up and everything is up and running, Node1 is
down (hard failure for the purpose of testing). In cloud environment I
may not be able to bring back Node1 instead a brand new Node is joined
to the cluster. In other words the Master node Node1 is not there
anymore. Could you please let me know what could be consequences in
this situation.

Referring to <A HREF="http://www.rabbitmq.com/ha.html:">http://www.rabbitmq.com/ha.html:</A>
All actions other than publishes go only to the master, and the master
then broadcasts the effect of the actions to the slaves. Thus clients
consuming from a mirrored queue are in fact consuming from the master.

I am concerned about the above said, would there be any damage done to
the slave node Node2 in case Node1 (master) is not retained and a
brand new node is joined to the cluster. Could you please suggest
better approach in a situation where a Master Node cannot be brought
back at all.

Thanks
Venkat
</PRE>





























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016438.html">[rabbitmq-discuss] rabbitmq clustering using mirrored queues
</A></li>
	<LI>Next message: <A HREF="016416.html">[rabbitmq-discuss] Wrong result retrieving messages from 1 queue	bound to 2 exchanges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16415">[ date ]</a>
              <a href="thread.html#16415">[ thread ]</a>
              <a href="subject.html#16415">[ subject ]</a>
              <a href="author.html#16415">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
