<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] msg_store_transient usage question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20msg_store_transient%20usage%20question&In-Reply-To=%3CCAHYBi3DbV3bkqjF60mJW51xpWkEK4o9jHUxKd6j8dJGJge8Leg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030419.html">
   <LINK REL="Next"  HREF="030420.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] msg_store_transient usage question</H1>
    <B>Peter Wright</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20msg_store_transient%20usage%20question&In-Reply-To=%3CCAHYBi3DbV3bkqjF60mJW51xpWkEK4o9jHUxKd6j8dJGJge8Leg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] msg_store_transient usage question">pwright at rubiconproject.com
       </A><BR>
    <I>Thu Sep 26 04:37:03 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030419.html">[rabbitmq-discuss] RabbitMQ - strange synchronization behavior
</A></li>
        <LI>Next message: <A HREF="030420.html">[rabbitmq-discuss] msg_store_transient usage question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30415">[ date ]</a>
              <a href="thread.html#30415">[ thread ]</a>
              <a href="subject.html#30415">[ subject ]</a>
              <a href="author.html#30415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hello,
i was hoping someone could help explain to me under what circumstances
messages are written to the msg_store_transient directory.  i have been
witnessing this directory grow to 10's of GB - infact it spun out of
control at one point consuming almost 100G of space.  i do have a queue
with quite a few messages ready for consumption, yet when i monitor memory
utilization for this queue it rarely spikes above 20MB.

my understading from reading the documentation is that transient messages
are only written to disk when memory has been exhausted or put under
pressure, yet beam.smp is only consuming a fraction of available resident
memory.

our configuration for reference is:
erlang = R16B
rabbitMQ = 2.8.7
os = centos-5.8-x64

thanks in advance!
-pete

-- 
Pete Wright
Senior Infrastructure Engineer
the Rubicon Project
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pwright at rubiconproject.com</A>
310.309.9298
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130925/47e99be4/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130925/47e99be4/attachment.htm</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030419.html">[rabbitmq-discuss] RabbitMQ - strange synchronization behavior
</A></li>
	<LI>Next message: <A HREF="030420.html">[rabbitmq-discuss] msg_store_transient usage question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30415">[ date ]</a>
              <a href="thread.html#30415">[ thread ]</a>
              <a href="subject.html#30415">[ subject ]</a>
              <a href="author.html#30415">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
