<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%27t%20Bind%20After%20Upgrading%20from%203.1.1%20to%0A%093.1.5&In-Reply-To=%3CCAHEpgBCGmHqrXguXiXXsnyrmNNs438XRLKv8JzKxkqyBEGqDiQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030302.html">
   <LINK REL="Next"  HREF="030304.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5</H1>
    <B>Chris</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%27t%20Bind%20After%20Upgrading%20from%203.1.1%20to%0A%093.1.5&In-Reply-To=%3CCAHEpgBCGmHqrXguXiXXsnyrmNNs438XRLKv8JzKxkqyBEGqDiQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5">stuff at moesel.net
       </A><BR>
    <I>Fri Sep 20 22:00:40 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030302.html">[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
</A></li>
        <LI>Next message: <A HREF="030304.html">[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30303">[ date ]</a>
              <a href="thread.html#30303">[ thread ]</a>
              <a href="subject.html#30303">[ subject ]</a>
              <a href="author.html#30303">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthias,

I can try to get the logs.  Of course, during the upgrade nodes went up and
down...  So there could have been a time when the nodes the queue was on
were both down.  But this continued even after all nodes were back up and
the queue was recreated.

It is very reproducible now on this specific customer system (we haven't
yet resolved it there since I was hoping for an option that doesn't include
clearing mnesia or resetting the nodes).  So, yes, I can make the binding
fail all I want on that system.  I cannot, however, get the bug to
reproduce on any other systems.

Thanks again,
Chris


On Fri, Sep 20, 2013 at 4:27 PM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;wrote:

&gt;<i> Chris,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 20/09/13 21:01, Chris wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> According to &quot;rabbitmqctl cluster_status&quot; and the management web
</I>&gt;&gt;<i> console, all 5 nodes were up in the cluster (with no partitions).
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> But was that *always* the case? Would be good to see the logs all the way
</I>&gt;<i> from the time of the upgrade.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Still, I would think that successfully deleting and creating the
</I>&gt;&gt;<i> queue in the management console would indicate the queue should be
</I>&gt;&gt;<i> alive and on an online node.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes, that should be the case.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  If this is in fact a bug, is there anything you can recommend to get
</I>&gt;&gt;<i> it into a better state?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hard to know without understanding what the problem is. Is this
</I>&gt;<i> reproducible at all? e.g. do you have a queue *now* that is suffering
</I>&gt;<i> from this behaviour?
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130920/a3214c9d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130920/a3214c9d/attachment.htm</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030302.html">[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
</A></li>
	<LI>Next message: <A HREF="030304.html">[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30303">[ date ]</a>
              <a href="thread.html#30303">[ thread ]</a>
              <a href="subject.html#30303">[ subject ]</a>
              <a href="author.html#30303">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
