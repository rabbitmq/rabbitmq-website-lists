<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] installation problem - service stops automatically, web management console missing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20installation%20problem%20-%20service%20stops%0A%20automatically%2C%20web%20management%20console%20missing&In-Reply-To=%3C522458AC.6030400%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029771.html">
   <LINK REL="Next"  HREF="029774.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] installation problem - service stops automatically, web management console missing</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20installation%20problem%20-%20service%20stops%0A%20automatically%2C%20web%20management%20console%20missing&In-Reply-To=%3C522458AC.6030400%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] installation problem - service stops automatically, web management console missing">simon at rabbitmq.com
       </A><BR>
    <I>Mon Sep  2 10:21:48 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029771.html">[rabbitmq-discuss] installation problem - service stops automatically, web management console missing
</A></li>
        <LI>Next message: <A HREF="029774.html">[rabbitmq-discuss] installation problem - service stops automatically, web management console missing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29772">[ date ]</a>
              <a href="thread.html#29772">[ thread ]</a>
              <a href="subject.html#29772">[ subject ]</a>
              <a href="author.html#29772">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ah, right. It's complaining because the 3.1.5 schema has moved on from 
the 3.0.1 one.

RabbitMQ doesn't support seamless downgrades. You'll need to stop the 
service, delete the Mnesia directory, and start it up again.

Cheers, Simon

On 02/09/2013 10:15, tushmish wrote:
&gt;<i> Hi Matthias,
</I>&gt;<i>
</I>&gt;<i> Yes, the management pluging is enabled.
</I>&gt;<i> ran rabbitmq-plugins enable rabbitmq_management and restarted rabbitMQ
</I>&gt;<i> service.
</I>&gt;<i>
</I>&gt;<i> The problem is with service startup, these are the logs generated just after
</I>&gt;<i> starting RabbitMQ as windows service.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> =CRASH REPORT==== 2-Sep-2013::14:40:44 ===
</I>&gt;<i>    crasher:
</I>&gt;<i>      initial call: application_master:init/4
</I>&gt;<i>      pid: &lt;0.140.0&gt;
</I>&gt;<i>      registered_name: []
</I>&gt;<i>      exception exit: {bad_return,
</I>&gt;<i>                       {{rabbit,start,[normal,[]]},
</I>&gt;<i>                        {'EXIT',
</I>&gt;<i>                         {rabbit,failure_during_boot,
</I>&gt;<i>                          {error,
</I>&gt;<i>                           {schema_integrity_check_failed,
</I>&gt;<i>                            [{table_attributes_mismatch,
</I>&gt;<i>                              rabbit_durable_exchange,
</I>&gt;<i>
</I>&gt;<i> [name,type,durable,auto_delete,internal,arguments,
</I>&gt;<i>                               scratches,policy],
</I>&gt;<i>
</I>&gt;<i> [name,type,durable,auto_delete,internal,arguments,
</I>&gt;<i>                               scratches,policy,decorators]},
</I>&gt;<i>                             {table_attributes_mismatch,rabbit_exchange,
</I>&gt;<i>
</I>&gt;<i> [name,type,durable,auto_delete,internal,arguments,
</I>&gt;<i>                               scratches,policy],
</I>&gt;<i>
</I>&gt;<i> [name,type,durable,auto_delete,internal,arguments,
</I>&gt;<i>                               scratches,policy,decorators]}]}}}}}}
</I>&gt;<i>        in function  application_master:init/4 (application_master.erl, line
</I>&gt;<i> 133)
</I>&gt;<i>      ancestors: [&lt;0.139.0&gt;]
</I>&gt;<i>      messages: [{'EXIT',&lt;0.141.0&gt;,normal}]
</I>&gt;<i>      links: [&lt;0.139.0&gt;,&lt;0.7.0&gt;]
</I>&gt;<i>      dictionary: []
</I>&gt;<i>      trap_exit: true
</I>&gt;<i>      status: running
</I>&gt;<i>      heap_size: 2586
</I>&gt;<i>      stack_size: 27
</I>&gt;<i>      reductions: 246
</I>&gt;<i>    neighbours:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:42 ===
</I>&gt;<i> Starting RabbitMQ 3.0.1 on Erlang R16B01
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:43 ===
</I>&gt;<i> Limiting to approx 8092 file handles (7280 sockets)
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:43 ===
</I>&gt;<i> Error description:
</I>&gt;<i>     {error,
</I>&gt;<i>         {schema_integrity_check_failed,
</I>&gt;<i>             [{table_attributes_mismatch,rabbit_durable_exchange,
</I>&gt;<i>                  [name,type,durable,auto_delete,internal,arguments,scratches,
</I>&gt;<i>                   policy],
</I>&gt;<i>                  [name,type,durable,auto_delete,internal,arguments,scratches,
</I>&gt;<i>                   policy,decorators]},
</I>&gt;<i>              {table_attributes_mismatch,rabbit_exchange,
</I>&gt;<i>                  [name,type,durable,auto_delete,internal,arguments,scratches,
</I>&gt;<i>                   policy],
</I>&gt;<i>                  [name,type,durable,auto_delete,internal,arguments,scratches,
</I>&gt;<i>                   policy,decorators]}]}}
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Stack trace:
</I>&gt;<i>     [{rabbit_mnesia,ensure_schema_integrity,0,[]},
</I>&gt;<i>      {rabbit_mnesia,init_db,3,[]},
</I>&gt;<i>      {rabbit_mnesia,init_db_and_upgrade,3,[]},
</I>&gt;<i>      {rabbit_mnesia,init,0,[]},
</I>&gt;<i>      {rabbit,'-run_boot_step/1-lc$^1/1-1-',1,[]},
</I>&gt;<i>      {rabbit,run_boot_step,1,[]},
</I>&gt;<i>      {rabbit,'-start/2-lc$^0/1-0-',1,[]},
</I>&gt;<i>      {rabbit,start,2,[]}]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:44 ===
</I>&gt;<i>      application: rabbit
</I>&gt;<i>      exited: {bad_return,
</I>&gt;<i>                  {{rabbit,start,[normal,[]]},
</I>&gt;<i>                   {'EXIT',
</I>&gt;<i>                       {rabbit,failure_during_boot,
</I>&gt;<i>                           {error,
</I>&gt;<i>                               {schema_integrity_check_failed,
</I>&gt;<i>                                   [{table_attributes_mismatch,
</I>&gt;<i>                                        rabbit_durable_exchange,
</I>&gt;<i>
</I>&gt;<i> [name,type,durable,auto_delete,internal,
</I>&gt;<i>                                         arguments,scratches,policy],
</I>&gt;<i>
</I>&gt;<i> [name,type,durable,auto_delete,internal,
</I>&gt;<i>
</I>&gt;<i> arguments,scratches,policy,decorators]},
</I>&gt;<i>
</I>&gt;<i> {table_attributes_mismatch,rabbit_exchange,
</I>&gt;<i>
</I>&gt;<i> [name,type,durable,auto_delete,internal,
</I>&gt;<i>                                         arguments,scratches,policy],
</I>&gt;<i>
</I>&gt;<i> [name,type,durable,auto_delete,internal,
</I>&gt;<i>                                         arguments,scratches,policy,
</I>&gt;<i>                                         decorators]}]}}}}}}
</I>&gt;<i>      type: temporary
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:44 ===
</I>&gt;<i>      application: os_mon
</I>&gt;<i>      exited: stopped
</I>&gt;<i>      type: temporary
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:44 ===
</I>&gt;<i>      application: inets
</I>&gt;<i>      exited: stopped
</I>&gt;<i>      type: temporary
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:44 ===
</I>&gt;<i>      application: mnesia
</I>&gt;<i>      exited: stopped
</I>&gt;<i>      type: temporary
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:44 ===
</I>&gt;<i>      application: amqp_client
</I>&gt;<i>      exited: stopped
</I>&gt;<i>      type: temporary
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:44 ===
</I>&gt;<i>      application: xmerl
</I>&gt;<i>      exited: stopped
</I>&gt;<i>      type: temporary
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 2-Sep-2013::14:40:44 ===
</I>&gt;<i> Error description:
</I>&gt;<i>     {could_not_start,rabbit,
</I>&gt;<i>         {bad_return,
</I>&gt;<i>             {{rabbit,start,[normal,[]]},
</I>&gt;<i>              {'EXIT',
</I>&gt;<i>                  {rabbit,failure_during_boot,
</I>&gt;<i>                      {error,
</I>&gt;<i>                          {schema_integrity_check_failed,
</I>&gt;<i>                              [{table_attributes_mismatch,
</I>&gt;<i>                                   rabbit_durable_exchange,
</I>&gt;<i>                                   [name,type,durable,auto_delete,internal,
</I>&gt;<i>                                    arguments,scratches,policy],
</I>&gt;<i>                                   [name,type,durable,auto_delete,internal,
</I>&gt;<i>                                    arguments,scratches,policy,decorators]},
</I>&gt;<i>                               {table_attributes_mismatch,rabbit_exchange,
</I>&gt;<i>                                   [name,type,durable,auto_delete,internal,
</I>&gt;<i>                                    arguments,scratches,policy],
</I>&gt;<i>                                   [name,type,durable,auto_delete,internal,
</I>&gt;<i>                                    arguments,scratches,policy,
</I>&gt;<i>                                    decorators]}]}}}}}}}
</I>&gt;<i>
</I>&gt;<i> Log files (may contain more information):
</I>&gt;<i>     C:/Users/&lt;user&gt;/AppData/Roaming/RabbitMQ/log/rabbit@&lt;serverName&gt;.log
</I>&gt;<i>     C:/Users/&lt;user&gt;/AppData/Roaming/RabbitMQ/log/rabbit@&lt;serverName&gt;-sasl.log
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Tushar
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/installation-problem-service-stops-automatically-web-management-console-missing-tp29229p29268.html">http://rabbitmq.1065348.n5.nabble.com/installation-problem-service-stops-automatically-web-management-console-missing-tp29229p29268.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029771.html">[rabbitmq-discuss] installation problem - service stops automatically, web management console missing
</A></li>
	<LI>Next message: <A HREF="029774.html">[rabbitmq-discuss] installation problem - service stops automatically, web management console missing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29772">[ date ]</a>
              <a href="thread.html#29772">[ thread ]</a>
              <a href="subject.html#29772">[ subject ]</a>
              <a href="author.html#29772">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
