<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%27t%20Bind%20After%20Upgrading%20from%203.1.1%20to%0A%093.1.5&In-Reply-To=%3CCAHEpgBAgiwMWkrttPw%3DG-fzzGeySMp1K1PeeTmC9VGZef%3DcUag%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030379.html">
   <LINK REL="Next"  HREF="030381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5</H1>
    <B>Chris</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%27t%20Bind%20After%20Upgrading%20from%203.1.1%20to%0A%093.1.5&In-Reply-To=%3CCAHEpgBAgiwMWkrttPw%3DG-fzzGeySMp1K1PeeTmC9VGZef%3DcUag%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5">stuff at moesel.net
       </A><BR>
    <I>Tue Sep 24 13:54:50 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030379.html">[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
</A></li>
        <LI>Next message: <A HREF="030381.html">[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30380">[ date ]</a>
              <a href="thread.html#30380">[ thread ]</a>
              <a href="subject.html#30380">[ subject ]</a>
              <a href="author.html#30380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias and Team,

Many, many thanks for your help in this matter.  We'll proceed with your
recommended approach.  We will also probably stop doing upgrades on running
clusters.  It seems it might be safer to do the full procedure (bringing
down the whole cluster for the upgrade).

If you happen to find the cause of this bug at some point, of course I
would be interested to know (especially if you fix it).

Thanks again,
Chris


On Tue, Sep 24, 2013 at 8:00 AM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;wrote:

&gt;<i> Chris,
</I>&gt;<i>
</I>&gt;<i> (putting list back on cc)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 23/09/13 21:42, Chris wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Thank you very much for taking a look at these logs.  It is a strange
</I>&gt;&gt;<i> bug for sure!  I guess I have two goals, really:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>   * To get the customer back up and running in the least disruptive way
</I>&gt;&gt;<i>   * To help you guys understand what happened since I know it's no fun
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     to have mystery bugs in your product. ;-)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regarding #1, if there is not a minimally disruptive way, I am assuming
</I>&gt;&gt;<i> I will need to reset all nodes and rebuild the cluster.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You should be able to recover the 'not found' bindings by a) recreating
</I>&gt;<i> the queues (as you already have) and then b) stopping the entire cluster
</I>&gt;<i> (i.e. no node must be left running) and restarting it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Regarding #2, if you need anything else from me, please let me know!
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> There is no smoking gun in the logs, so the likely source of the problem
</I>&gt;<i> is some edge case error in the mirroring and/or recovery logic. That may
</I>&gt;<i> take us a while to track down. I don't think there's any other info we need
</I>&gt;<i> from your running cluster. Thanks for reporting this issue.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130924/0f3d1bf9/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130924/0f3d1bf9/attachment.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030379.html">[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
</A></li>
	<LI>Next message: <A HREF="030381.html">[rabbitmq-discuss] Can't Bind After Upgrading from 3.1.1 to	3.1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30380">[ date ]</a>
              <a href="thread.html#30380">[ thread ]</a>
              <a href="subject.html#30380">[ subject ]</a>
              <a href="author.html#30380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
