<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Incompatible Erlang bytecode found on nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Incompatible%20Erlang%20bytecode%20found%20on%20nodes&In-Reply-To=%3CE1B604B66AB5CC4D9BBB8B54008790AE0DECEE1A%40SIDESWIPE.HostelBookers.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030256.html">
   <LINK REL="Next"  HREF="030261.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Incompatible Erlang bytecode found on nodes</H1>
    <B>Robin Lawrie - HostelBookers</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Incompatible%20Erlang%20bytecode%20found%20on%20nodes&In-Reply-To=%3CE1B604B66AB5CC4D9BBB8B54008790AE0DECEE1A%40SIDESWIPE.HostelBookers.net%3E"
       TITLE="[rabbitmq-discuss] Incompatible Erlang bytecode found on nodes">Robin.Lawrie at Hostelbookers.com
       </A><BR>
    <I>Wed Sep 18 12:09:59 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030256.html">[rabbitmq-discuss] SSL_TIMEOUT
</A></li>
        <LI>Next message: <A HREF="030261.html">[rabbitmq-discuss] Incompatible Erlang bytecode found on nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30258">[ date ]</a>
              <a href="thread.html#30258">[ thread ]</a>
              <a href="subject.html#30258">[ subject ]</a>
              <a href="author.html#30258">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I've got a problem with a 2 node RabbitMQ cluster I hope someone here can shed some light one.

The cluster is a 2 node cluster and today, one of the nodes was patched and had the following updates installed:

bind-libs.9.8.2.0.17.rc1.el6_4.6.x86_64
bind-utils.9.8.2.0.17.rc1.el6_4.6.x86_64
glibc.2.12.1.107.el6_4.4.i686
glibc.2.12.1.107.el6_4.4.x86_64
glibc-common.2.12.1.107.el6_4.4.x86_64
glibc-devel.2.12.1.107.el6_4.4.x86_64
glibc-headers.2.12.1.107.el6_4.4.x86_64
glibc-utils.2.12.1.107.el6_4.4.x86_64
kernel.2.6.32.358.18.1.el6.x86_64
kernel-devel.2.6.32.358.18.1.el6.x86_64
kernel-firmware.2.6.32.358.18.1.el6.noarch
kernel-headers.2.6.32.358.18.1.el6.x86_64
kpartx.0.4.9.64.el6_4.2.x86_64
prelink.0.4.6.3.1.el6_4.x86_64
rs-tools.0.1.17.2.el6.noarch
sos.2.2.38.el6_4.2.noarch

Upon restarting the patched server, RabbitMQ does not start.

The command &quot;rabbitmqctl status&quot; outputs this:

Status of node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 496407-Cache1</A>' ...
Error: unable to connect to node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 496407-Cache1</A>': nodedown

DIAGNOSTICS
===========

nodes in question: ['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 496407-Cache1</A>']

hosts, their running nodes and ports:
- 496407-Cache1: [{rabbitmqctl6831,60496}]

current node details:
- node name: '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmqctl6831 at 496407-Cache1</A>'
- home dir: /var/lib/rabbitmq
- cookie hash: AZGKHAwBPk+imgw09xDBow==

The command &quot;service rabbitmq-server start&quot; shows this:

Starting rabbitmq-server: FAILED - check /var/log/rabbitmq/startup_{log, _err}
rabbitmq-server.

Looking at /var/log/rabbitmq/startup_log I see this:

init terminating in do_boot&quot;,{rabbit,failure_during_boot,{error,{incompatible_bytecode,&quot;Incompatible Erlang bytecode found on nodes

The version of elang is the same on both nodes however (This was verified with the command &quot;erl&quot;).

I'm absolutely stumped now as I can't find anything about &quot; Incompatible Erlang bytecode found on nodes&quot;

Can anyone help?

Thanks

Robin
________________________________

This email is from Hostelbookers.com Limited. Registered office: 52-54 High Holborn, London, WC1V 6RL, UK. Registered in England under Company No.: 2841908. This email and any files transmitted with it are confidential and may be privileged and are intended solely for the use of the individual or entity to whom they are addressed. As email can be subject to operational or technical difficulties and time delays, communications that are subject to deadlines should also be sent by post. Any unauthorised direct or indirect dissemination, distribution or copying of this message and any attachments is strictly prohibited. If you have received the email in error, please notify <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">postmaster at hostelbookers.com</A>

________________________________
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030256.html">[rabbitmq-discuss] SSL_TIMEOUT
</A></li>
	<LI>Next message: <A HREF="030261.html">[rabbitmq-discuss] Incompatible Erlang bytecode found on nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30258">[ date ]</a>
              <a href="thread.html#30258">[ thread ]</a>
              <a href="subject.html#30258">[ subject ]</a>
              <a href="author.html#30258">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
