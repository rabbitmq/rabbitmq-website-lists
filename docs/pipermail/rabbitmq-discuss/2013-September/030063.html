<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 'hang' when trying to access HA queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20%27hang%27%20when%20trying%20to%20access%20HA%0A%20queues&In-Reply-To=%3C8D76E9325134094DA4CFA89A132A4D640270D511EF%40SPR3V9.office.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030060.html">
   <LINK REL="Next"  HREF="030064.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 'hang' when trying to access HA queues</H1>
    <B>Andrew Rendell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20%27hang%27%20when%20trying%20to%20access%20HA%0A%20queues&In-Reply-To=%3C8D76E9325134094DA4CFA89A132A4D640270D511EF%40SPR3V9.office.local%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 'hang' when trying to access HA queues">Andrew.Rendell at vocalink.com
       </A><BR>
    <I>Thu Sep 12 11:41:25 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030060.html">[rabbitmq-discuss] RabbitMQ 'hang' when trying to access HA	queues
</A></li>
        <LI>Next message: <A HREF="030064.html">[rabbitmq-discuss] RabbitMQ 'hang' when trying to access HA	queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30063">[ date ]</a>
              <a href="thread.html#30063">[ thread ]</a>
              <a href="subject.html#30063">[ subject ]</a>
              <a href="author.html#30063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

You asked:

&gt;<i> Was there anything unusual in the logs?
</I>
No. This was what was most disconcerting about this issue. We have done many many hours of testing under very high loads with multiple failure scenarios and whenever there has been an issue there has always been something in the log files which gave some indication of the problem. In this case the only entries we could see in the log files were the aborted connection reports from rabbitmqctl (I assume when it was cancelled by the operator).

&gt;<i>&quot;queues hang&quot; is not the signature of any bug we've fixed since 2.7.1. 
</I>&gt;<i> However, it is unlikely that you have stumbled on a new problem. Odds are that whatever causes the hang is no longer present in the most recent rabbit releases.
</I>
It's a shame that this issue was not explicitly resolved since 2.7.1 as it would have eased the minds of the various parties involved in the investigation. Would it be correct to say that since 2.7.1 there has been major rewrites of the HA queue implementation and given the strong advice for users to upgrade to 2.8 and beyond, it is probable there were very few people using 2.7.1 in HA mode so a defect might have remain undiscovered? I appreciate this sort of question is impossible to answer without a significant amount of conjecture so any answer would be based on 'gut feeling'. 

Regards, Andrew.

-----Original Message-----
From: Matthias Radestock [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>] 
Sent: 12 September 2013 11:14
To: Discussions about RabbitMQ
Cc: Andrew Rendell
Subject: Re: [rabbitmq-discuss] RabbitMQ 'hang' when trying to access HA queues

Andrew,

On 11/09/13 15:56, Andrew Rendell wrote:
&gt;<i> Last week, during a very important test, under very low load 
</I>&gt;<i> conditions, suddenly, two queues 'hung'.
</I>
Was there anything unusual in the logs?


&gt;<i> What we are hoping is that somebody could give us any indication of 
</I>&gt;<i> what could cause this issue. In an ideal world, somebody would report 
</I>&gt;<i> that this is a known issue with 2.7.1 and that the issue is resolved 
</I>&gt;<i> at a later release.
</I>
&quot;queues hang&quot; is not the signature of any bug we've fixed since 2.7.1. 
However, it is unlikely that you have stumbled on a new problem. Odds are that whatever causes the hang is no longer present in the most recent rabbit releases.

Matthias.



*****************************************************
This email is issued by a VocaLink group company. It is confidential and intended for the exclusive use of the addressee only. You should not disclose its contents to any other person. If you are not the addressee (or responsible for delivery of the message to the addressee), please notify the originator immediately by return message and destroy the original message. The contents of this email will have no contractual effect unless it is otherwise agreed between a specific VocaLink group company and the recipient.

The VocaLink group companies include, among others: VocaLink Limited (Company No 06119048, VAT No. 907 9619 87) which is registered in England and Wales at registered office Drake House, Homestead Road, Rickmansworth, WD3 1FX. United Kingdom, Voca Limited (Company no 1023742, VAT No. 907 9619 87) which is registered in England and Wales at registered office Drake House, Three Rivers Court, Homestead Road, Rickmansworth, Hertfordshire. WD3 1FX. United Kingdom, LINK Interchange Network Limited (Company No 3565766, VAT No. 907 9619 87) which is registered in England and Wales at registered office Drake House, Homestead Road, Rickmansworth, WD3 1FX and VocaLink Holdings Limited (Company No 06119036, VAT No. 907 9619 87) which is registered in England and Wales at registered office Drake House, Homestead Road, Rickmansworth, WD3 1FX. United Kingdom.

The views and opinions expressed in this email may not reflect those of any member of the VocaLink group. This message and any attachments have been scanned for viruses prior to leaving the VocaLink group network; however, VocaLink does not guarantee the security of this message and will not be responsible for any damages arising as a result of any virus being passed on or arising from any alteration of this message by a third party. The VocaLink group may monitor emails sent to and from the VocaLink group network.

*************************************************************
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030060.html">[rabbitmq-discuss] RabbitMQ 'hang' when trying to access HA	queues
</A></li>
	<LI>Next message: <A HREF="030064.html">[rabbitmq-discuss] RabbitMQ 'hang' when trying to access HA	queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30063">[ date ]</a>
              <a href="thread.html#30063">[ thread ]</a>
              <a href="subject.html#30063">[ subject ]</a>
              <a href="author.html#30063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
