<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [rabbitmq-c] amqp_queue_unbind eat a lot of memory in some usecases
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5Brabbitmq-c%5D%20amqp_queue_unbind%20eat%20a%20lot%20of%0A%20memory%20in%20some%20usecases&In-Reply-To=%3CCAAt2poK_4SaROcDX_zfPGh7tW19HaChzCuZiN_V23oi_FUL_yA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029896.html">
   <LINK REL="Next"  HREF="029900.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [rabbitmq-c] amqp_queue_unbind eat a lot of memory in some usecases</H1>
    <B>Alan Antonuk</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5Brabbitmq-c%5D%20amqp_queue_unbind%20eat%20a%20lot%20of%0A%20memory%20in%20some%20usecases&In-Reply-To=%3CCAAt2poK_4SaROcDX_zfPGh7tW19HaChzCuZiN_V23oi_FUL_yA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] [rabbitmq-c] amqp_queue_unbind eat a lot of memory in some usecases">alan.antonuk at gmail.com
       </A><BR>
    <I>Fri Sep  6 08:03:41 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029896.html">[rabbitmq-discuss] [rabbitmq-c] amqp_queue_unbind eat a lot of memory in some usecases
</A></li>
        <LI>Next message: <A HREF="029900.html">[rabbitmq-discuss] [rabbitmq-c] amqp_queue_unbind eat a lot of memory in some usecases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29899">[ date ]</a>
              <a href="thread.html#29899">[ thread ]</a>
              <a href="subject.html#29899">[ subject ]</a>
              <a href="author.html#29899">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Sep 5, 2013 at 11:06 PM, Haster &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">haster2004 at yandex.ru</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I set no-ack to 0 in basic.consume, so I suggest that server will wait for
</I>&gt;<i> basic.ack from client on each message.
</I>

Yes, if no-ack is set to 0, the broker won't consider the message delivered
until you acknowledge it. By default the broker does not pause sending
messages if there are outstanding unacknowledged messages. You can tune
this by using basic.qos to set a message prefetch on the channel, this will
limit the number of unacknowledged messages on a channel before the broker
will pause and wait for the client to acknowledge a message.

If no-ack is set to 1, the broker considers the message acknowledged as
soon as it leaves the broker, and basic.qos will have no effect consumers
declared with this set.

You can acknowledge a single message with basic.ack (amqp_basic_ack()), or
all messages up to a message by setting the multiple flag when doing a
basic.ack.


-Alan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/a8c4aaa6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/a8c4aaa6/attachment.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029896.html">[rabbitmq-discuss] [rabbitmq-c] amqp_queue_unbind eat a lot of memory in some usecases
</A></li>
	<LI>Next message: <A HREF="029900.html">[rabbitmq-discuss] [rabbitmq-c] amqp_queue_unbind eat a lot of memory in some usecases
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29899">[ date ]</a>
              <a href="thread.html#29899">[ thread ]</a>
              <a href="subject.html#29899">[ subject ]</a>
              <a href="author.html#29899">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
