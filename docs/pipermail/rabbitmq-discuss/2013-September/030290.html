<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federation and network split detection
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20and%20network%20split%20detection&In-Reply-To=%3C20130920113319.33efa96c%40pitrou.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030289.html">
   <LINK REL="Next"  HREF="030288.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federation and network split detection</H1>
    <B>Antoine Pitrou</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20and%20network%20split%20detection&In-Reply-To=%3C20130920113319.33efa96c%40pitrou.net%3E"
       TITLE="[rabbitmq-discuss] Federation and network split detection">solipsis at pitrou.net
       </A><BR>
    <I>Fri Sep 20 10:33:19 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030289.html">[rabbitmq-discuss] Federation and network split detection
</A></li>
        <LI>Next message: <A HREF="030288.html">[rabbitmq-discuss] Performance and load testing of RMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30290">[ date ]</a>
              <a href="thread.html#30290">[ thread ]</a>
              <a href="subject.html#30290">[ subject ]</a>
              <a href="author.html#30290">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Le Fri, 20 Sep 2013 10:26:36 +0100,
Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; a
&#233;crit :
&gt;<i> On 20/09/2013 9:58AM, Antoine Pitrou wrote:
</I>&gt;<i> &gt; Apologies if this has been asked already, I can't find anything in
</I>&gt;<i> &gt; the archives.
</I>&gt;<i> &gt; If I'm federating RabbitMQ exchanges together (in e.g. a reciprocal
</I>&gt;<i> &gt; fashion), is there any way to get notified when the federation
</I>&gt;<i> &gt; links go up or down?
</I>&gt;<i> 
</I>&gt;<i> You can view the current link status via rabbitmqctl or the 
</I>&gt;<i> rabbitmq_federation_management plugin. See 
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/federation.html#status">http://www.rabbitmq.com/federation.html#status</A>
</I>&gt;<i> 
</I>&gt;<i> The federation plugin also logs when links go up or down, so you
</I>&gt;<i> could check the logs.
</I>&gt;<i> 
</I>&gt;<i> You can't currently get a push notification about this though.
</I>&gt;<i> 
</I>&gt;<i> It's also worth bearing in mind that federation is designed to deal
</I>&gt;<i> with split networks anyway though - messages will just get queued up
</I>&gt;<i> and be delivered when the link comes back.
</I>
Yes, but when the federation link is up, messages will be duplicated
accross exchanges. My application then has to know about this and take
measures to avoid duplicate handling (duplicate handling is still
better than no handling, though).

It sounds like I should perhaps investigate mirrored queues with
autoheal instead.

(the intended setup is two nodes with varying network conditions -
not always datacenter-quality - and fully automated operation)

Regards

Antoine.


</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030289.html">[rabbitmq-discuss] Federation and network split detection
</A></li>
	<LI>Next message: <A HREF="030288.html">[rabbitmq-discuss] Performance and load testing of RMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30290">[ date ]</a>
              <a href="thread.html#30290">[ thread ]</a>
              <a href="subject.html#30290">[ subject ]</a>
              <a href="author.html#30290">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
