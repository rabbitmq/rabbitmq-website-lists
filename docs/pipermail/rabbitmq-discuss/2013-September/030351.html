<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fine-grained LDAP access to resources
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fine-grained%20LDAP%20access%20to%20resources&In-Reply-To=%3C524064B3.4040208%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030345.html">
   <LINK REL="Next"  HREF="030352.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fine-grained LDAP access to resources</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fine-grained%20LDAP%20access%20to%20resources&In-Reply-To=%3C524064B3.4040208%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Fine-grained LDAP access to resources">simon at rabbitmq.com
       </A><BR>
    <I>Mon Sep 23 16:56:35 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030345.html">[rabbitmq-discuss] Fine-grained LDAP access to resources
</A></li>
        <LI>Next message: <A HREF="030352.html">[rabbitmq-discuss] Fine-grained LDAP access to resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30351">[ date ]</a>
              <a href="thread.html#30351">[ thread ]</a>
              <a href="subject.html#30351">[ subject ]</a>
              <a href="author.html#30351">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 23/09/13 15:18, James M. wrote:
&gt;<i> I took a shot at modifying and compiling the ldap plugin and came up
</I>&gt;<i> with a seemingly working solution. I'm just getting my feet wet with
</I>&gt;<i> Erlang but does this have any glaring issues at first glance? I'm
</I>&gt;<i> basically adding a new derived value to the Args list so that when it's
</I>&gt;<i> sent to fill() ${prefix} is properly expanded.
</I>
Based on a quick look at the code, nothing is too wrong from a low level 
point of view. However, this is wrong:

case Predicate of
     true  -&gt; Var = Something;
     false -&gt; Var = SomethingElse
end,

since although Var happens to escape the inner scope in all cases, it's 
not very clear and modern Erlang compilers will complain. Instead you want:

Var = case Predicate of
           true  -&gt; Something;
           false -&gt; SomethingElse
       end,

&gt;<i> My follow up question would be, what are the chances of getting
</I>&gt;<i> something similar to this added to the official code base?
</I>
However, I'd be reluctant to merge this; conceptually it's very specific 
to your use case - what if you want to match something other than up to 
the first '.'? What if you want to do that on something other than the 
resource name?

Really you want to be able to write something like ${name.prefix('.')}. 
That is (obviously) much more complicated though.

It's possible some half-way house could exist between these two 
extremes; if so I can't immediately think of it.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030345.html">[rabbitmq-discuss] Fine-grained LDAP access to resources
</A></li>
	<LI>Next message: <A HREF="030352.html">[rabbitmq-discuss] Fine-grained LDAP access to resources
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30351">[ date ]</a>
              <a href="thread.html#30351">[ thread ]</a>
              <a href="subject.html#30351">[ subject ]</a>
              <a href="author.html#30351">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
