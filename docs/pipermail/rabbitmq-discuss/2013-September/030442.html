<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] memory leak rabbitmq 3.1.5
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20memory%20leak%20rabbitmq%203.1.5&In-Reply-To=%3C52442F32.5030103%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030441.html">
   <LINK REL="Next"  HREF="030443.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] memory leak rabbitmq 3.1.5</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20memory%20leak%20rabbitmq%203.1.5&In-Reply-To=%3C52442F32.5030103%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] memory leak rabbitmq 3.1.5">simon at rabbitmq.com
       </A><BR>
    <I>Thu Sep 26 13:57:22 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030441.html">[rabbitmq-discuss] memory leak rabbitmq 3.1.5
</A></li>
        <LI>Next message: <A HREF="030443.html">[rabbitmq-discuss] memory leak rabbitmq 3.1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30442">[ date ]</a>
              <a href="thread.html#30442">[ thread ]</a>
              <a href="subject.html#30442">[ subject ]</a>
              <a href="author.html#30442">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26/09/2013 1:51PM, Santi Nu&#241;ez-Cacho wrote:
&gt;<i> I expect 0 stomp connetions. The unique one connection on 61613 should
</I>&gt;<i> be the cluster one.
</I>
Port 61613 is not used for clustering, it's just stomp.

&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at rabbit03.bcn</A> ~]#  rabbitmqctl eval
</I>&gt;<i> 'length(supervisor:which_children(rabbit_stomp_client_sup_sup)).'
</I>&gt;<i> 3802
</I>&gt;<i> ...done.
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at rabbit03.bcn</A> ~]# lsof -i :61613
</I>&gt;<i> COMMAND    PID     USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME
</I>&gt;<i> ruby      5638     root    6u  IPv4   25097      0t0  TCP
</I>&gt;<i> rabbit03.bcn.softonic.lan:59851-&gt;rabbit:61613 (ESTABLISHED)
</I>&gt;<i> beam.smp 27183 rabbitmq   21u  IPv6 4521334      0t0  TCP *:61613 (LISTEN)
</I>
Ah.

So you have one connection, from some ruby script. But 3802 connection 
processes. So something is somehow leaking. Thank you for reporting this 
bug.

But to help get to the bottom of it - what is that ruby script doing?

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030441.html">[rabbitmq-discuss] memory leak rabbitmq 3.1.5
</A></li>
	<LI>Next message: <A HREF="030443.html">[rabbitmq-discuss] memory leak rabbitmq 3.1.5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30442">[ date ]</a>
              <a href="thread.html#30442">[ thread ]</a>
              <a href="subject.html#30442">[ subject ]</a>
              <a href="author.html#30442">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
