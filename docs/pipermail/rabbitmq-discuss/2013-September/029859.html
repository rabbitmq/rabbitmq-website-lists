<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] amqpcpp | Temp Queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20amqpcpp%20%7C%20Temp%20Queue&In-Reply-To=%3CCAAt2po%2B9Q_d8r4x3M%3DQ0rYE2375RYm2dLJmBX21j0nSEtfKf%3DQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029857.html">
   <LINK REL="Next"  HREF="029865.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] amqpcpp | Temp Queue</H1>
    <B>Alan Antonuk</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20amqpcpp%20%7C%20Temp%20Queue&In-Reply-To=%3CCAAt2po%2B9Q_d8r4x3M%3DQ0rYE2375RYm2dLJmBX21j0nSEtfKf%3DQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] amqpcpp | Temp Queue">alan.antonuk at gmail.com
       </A><BR>
    <I>Thu Sep  5 07:34:22 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029857.html">[rabbitmq-discuss] amqpcpp | Temp Queue
</A></li>
        <LI>Next message: <A HREF="029865.html">[rabbitmq-discuss] amqpcpp | Temp Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29859">[ date ]</a>
              <a href="thread.html#29859">[ thread ]</a>
              <a href="subject.html#29859">[ subject ]</a>
              <a href="author.html#29859">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Looking at your problem from a high-level: if you have a single message in
a queue, and multiple consumers attached to that queue, that message will
only ever be delivered to one consumer. A possible alternative topology
would be to have each consumer have its own temp queue, then for each temp
queue bind it to the exchange so that the message(s) in question get
delivered to all the necessary queues, the upon successfully consuming the
desired message the consuming entities could delete the queue in question.

I haven't used amqpcpp extensively so I don't know the in's and out's of
that library enough to give you a solid example.  I'd recommend checking
out the examples and starting from there to see if you can do what you need
to do.

-Alan

PS: sending me an off-list email asking me to respond to this message a
minute after you post it to the discussion list will not make me respond
you any faster. Please understand that I have other responsibilities and my
contributions here are done whenever I have a free moment, having to sort
through extra emails wastes my time I'd rather be putting into giving good
answers. (See netiquette rule 4: <A HREF="http://www.albion.com/netiquette/rule4.html">http://www.albion.com/netiquette/rule4.html</A>
)


On Wed, Sep 4, 2013 at 10:11 AM, antony &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">antony.pulicken at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> This is my scenario:
</I>&gt;<i>
</I>&gt;<i> We have a scneario where in the consumer will create a temperory queue and
</I>&gt;<i> wait on that queue till it gets a message from the publisher. Each
</I>&gt;<i> temperory
</I>&gt;<i> queue can have more than one consumer and there can be multiple temperory
</I>&gt;<i> queues like this. The consumer will disconnect from the queue after
</I>&gt;<i> consuming one message.
</I>&gt;<i>
</I>&gt;<i> I'm using a 'Topic' exchange as there are specific messages that needs to
</I>&gt;<i> get published to these queues based on a routing key.
</I>&gt;<i>
</I>&gt;<i> How can I make sure that all the consumers listening on a queue will get
</I>&gt;<i> the
</I>&gt;<i> message published and the temp queue should get deleted after that? Any
</I>&gt;<i> tips
</I>&gt;<i> or sample code snippet will be of great help.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Antony.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context:
</I>&gt;<i> <A HREF="http://rabbitmq.1065348.n5.nabble.com/amqpcpp-Temp-Queue-tp29342.html">http://rabbitmq.1065348.n5.nabble.com/amqpcpp-Temp-Queue-tp29342.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130904/6360fd16/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130904/6360fd16/attachment.htm</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029857.html">[rabbitmq-discuss] amqpcpp | Temp Queue
</A></li>
	<LI>Next message: <A HREF="029865.html">[rabbitmq-discuss] amqpcpp | Temp Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29859">[ date ]</a>
              <a href="thread.html#29859">[ thread ]</a>
              <a href="subject.html#29859">[ subject ]</a>
              <a href="author.html#29859">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
