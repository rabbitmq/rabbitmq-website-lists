<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How list exchanges managed by a given node ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20list%20exchanges%20managed%20by%20a%20given%20node%20%3F&In-Reply-To=%3C5229DA22.7090701%40capptain.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029918.html">
   <LINK REL="Next"  HREF="029923.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How list exchanges managed by a given node ?</H1>
    <B>Vincent Barat</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20list%20exchanges%20managed%20by%20a%20given%20node%20%3F&In-Reply-To=%3C5229DA22.7090701%40capptain.com%3E"
       TITLE="[rabbitmq-discuss] How list exchanges managed by a given node ?">vbarat at capptain.com
       </A><BR>
    <I>Fri Sep  6 14:35:30 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029918.html">[rabbitmq-discuss] How list exchanges managed by a given node ?
</A></li>
        <LI>Next message: <A HREF="029923.html">[rabbitmq-discuss] How list exchanges managed by a given node ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29922">[ date ]</a>
              <a href="thread.html#29922">[ thread ]</a>
              <a href="subject.html#29922">[ subject ]</a>
              <a href="author.html#29922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>OK, thanks for the reply. I understand your point: I'll do more 
investigations to figure out why my traffix is routed this way. 
Maybe I did something wrong.

Le 06/09/13 12:39, Simon MacMullen a &#233;crit :
&gt;<i> On 06/09/2013 11:28AM, Vincent Barat wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Let say an exchange was created by a client connection made on 
</I>&gt;&gt;<i> node 1 at
</I>&gt;&gt;<i> a time. Then, a producer is connected on node 2 and a consumer is
</I>&gt;&gt;<i> connected also on node 2 (with the  consumer's queue also on node 2)
</I>&gt;&gt;<i> then all the network traffic will follow this path:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> producer -&gt; node 2 -&gt; node 1 -&gt; node2 -&gt; consumer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> instead of
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> producer -&gt; node 2 -&gt; consumer
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> this have a big impact on network and CPU
</I>&gt;<i>
</I>&gt;<i> I really don't think that's the case. Exchanges are routing logic 
</I>&gt;<i> that runs in the publishing channel process. The exchange, 
</I>&gt;<i> bindings and queues are looked up in Mnesia beforehand, but Mnesia 
</I>&gt;<i> distributes copies to all nodes so it's just a memory lookup. Then 
</I>&gt;<i> the exchange does some routing logic locally. That's it. Honest :-)
</I>&gt;<i>
</I>&gt;<i> [NB: the above is true for the built-in exchange types, it's not 
</I>&gt;<i> impossible to write an exchange type where routing logic gets made 
</I>&gt;<i> in a single process somewhere. But we haven't done that.]
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>
-- 
Vincent BARAT
/CTO,/ /Capptain/ 	

*p.* +33 299 656 913
*m.* +33 615 411 518
*e.* <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">vbarat at capptain.com</A> &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">vbarat at capptain.com</A>&gt;
*w.* <A HREF="http://www.capptain.com/">http://www.capptain.com/</A>
*a.* 18 rue Tronchet, 75008 Paris, France
	&lt;<A HREF="https://www.facebook.com/capptain">https://www.facebook.com/capptain</A>&gt; 
&lt;<A HREF="https://twitter.com/capptain_hq">https://twitter.com/capptain_hq</A>&gt; &lt;<A HREF="http://www.capptain.com/feed/">http://www.capptain.com/feed/</A>&gt;

&lt;<A HREF="http://www.capptain.com/contact/">http://www.capptain.com/contact/</A>&gt;
IMPORTANT: The contents of this email and any attachments are 
confidential. They are intended for the named recipient(s) only. If 
you have received this email by mistake, please notify the sender 
immediately and do not disclose the contents to anyone or make 
copies thereof.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 1360992061.png
Type: image/png
Size: 12107 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: facebook.png
Type: image/png
Size: 533 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment-0001.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment-0001.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: twitter.png
Type: image/png
Size: 425 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment-0002.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment-0002.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: blogRSS.png
Type: image/png
Size: 691 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment-0003.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment-0003.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sig-banner2.png
Type: image/png
Size: 19490 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment-0004.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130906/8d367333/attachment-0004.png</A>&gt;
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029918.html">[rabbitmq-discuss] How list exchanges managed by a given node ?
</A></li>
	<LI>Next message: <A HREF="029923.html">[rabbitmq-discuss] How list exchanges managed by a given node ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29922">[ date ]</a>
              <a href="thread.html#29922">[ thread ]</a>
              <a href="subject.html#29922">[ subject ]</a>
              <a href="author.html#29922">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
