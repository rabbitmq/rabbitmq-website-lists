<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message Reliability
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20Reliability&In-Reply-To=%3CDB14E94115BBC84E8960C12C176D06760127ECA9F0%40MX25A.corp.emc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030217.html">
   <LINK REL="Next"  HREF="030225.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message Reliability</H1>
    <B>Jain, Punit</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20Reliability&In-Reply-To=%3CDB14E94115BBC84E8960C12C176D06760127ECA9F0%40MX25A.corp.emc.com%3E"
       TITLE="[rabbitmq-discuss] Message Reliability">Punit.Jain at emc.com
       </A><BR>
    <I>Tue Sep 17 16:04:02 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030217.html">[rabbitmq-discuss] Send message and wait for ACK for X seconds
</A></li>
        <LI>Next message: <A HREF="030225.html">[rabbitmq-discuss] Message Reliability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30224">[ date ]</a>
              <a href="thread.html#30224">[ thread ]</a>
              <a href="subject.html#30224">[ subject ]</a>
              <a href="author.html#30224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
We are using RabbitMQ (version: 3.1.3) in federation mode on two different machines. We are using &quot;rabbitmq-c&quot; client library to publish messages to upstream broker, and right now we are not using confirm method or message persistence. But we want to achieve message reliability i.e. we don't want to lose any messages. To achieve this, I am planning to use confirm method on publisher. I have following questions regarding the same:

*         If I get the confirmation acknowledgement, what does it mean? Is it message successfully delivered to &quot;upstream queue&quot; or &quot;downstream exchange&quot;?

*         If it guarantees delivery to &quot;downstream exchange&quot;, then do we need to use message persistence?

*         If confirmation means delivery to upstream queue, then, I think, it makes sense to use message persistence, right? If the upstream broker crashes, then without message persistence, messages in upstream queue will be lost, right?

*         How does message persistence work? How long messages are persisted on disk? Are they removed from disk when the consumer sends the acknowledgement?

*         Or is there any other way to achieve message reliability? Any improvements or suggestions?

Thanks in Advance,
Punit
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130917/35ad0dec/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130917/35ad0dec/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030217.html">[rabbitmq-discuss] Send message and wait for ACK for X seconds
</A></li>
	<LI>Next message: <A HREF="030225.html">[rabbitmq-discuss] Message Reliability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30224">[ date ]</a>
              <a href="thread.html#30224">[ thread ]</a>
              <a href="subject.html#30224">[ subject ]</a>
              <a href="author.html#30224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
