<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cluster Node Crashes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%20Node%20Crashes&In-Reply-To=%3C0B8CD6850421B745BE39BC5C76019232720160AE%40DDCEP50016.na.corp.mckesson.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030257.html">
   <LINK REL="Next"  HREF="030259.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cluster Node Crashes</H1>
    <B>Cordell, Ron</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%20Node%20Crashes&In-Reply-To=%3C0B8CD6850421B745BE39BC5C76019232720160AE%40DDCEP50016.na.corp.mckesson.com%3E"
       TITLE="[rabbitmq-discuss] Cluster Node Crashes">Ron.Cordell at RelayHealth.com
       </A><BR>
    <I>Tue Sep 17 23:48:24 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030257.html">[rabbitmq-discuss] When using rabbitmq-jms	javax.jms.Message.getJMSDestination does not return the	actual destination when it is received from a consumer	listening on a Topic with a wild card
</A></li>
        <LI>Next message: <A HREF="030259.html">[rabbitmq-discuss] Cluster Node Crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30242">[ date ]</a>
              <a href="thread.html#30242">[ thread ]</a>
              <a href="subject.html#30242">[ subject ]</a>
              <a href="author.html#30242">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We are running RabbitMQ 3.1.5 and Erlang 16B01 x64 on Windows Server 2008R2 in a clustered configuration.

We are seeing nodes crash at random and don't understand what's going on. However, there is a common theme in the logs, of which a sample is here:

Does anyone have any insight into what might be happening? We see this in several different environments with similar cluster configurations and all running the same RabbitMQ/Erlang versions&#8230;

=INFO REPORT==== 13-Sep-2013::15:10:10 ===
accepting AMQP connection &lt;0.5121.11&gt; (10.100.183.10:63072 -&gt; 10.100.183.75:5672)

=INFO REPORT==== 13-Sep-2013::15:10:10 ===
accepting AMQP connection &lt;0.5149.11&gt; (10.100.183.10:63075 -&gt; 10.100.183.75:5672)

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-execute_sendtopracticefusionactivity' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.416.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.409.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-message_tracking_control_sjpeweb01' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.532.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.529.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-execute_lookupproviderinregistryactivity' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.352.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.349.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-compensate_sendtocloverleafactivity' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.356.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.357.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-subscriber_activity_service_control_sjpeweb02' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.376.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.373.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-execute_fakefaultedactivity' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.348.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.345.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-inbound_activity_service_control_sjpeweb04' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.388.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.385.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-execute_mongopersisteractivity' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.320.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.317.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-compensate_sendtorouteractivity' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.344.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.341.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-compensate_preparedocumentforroutingactivity' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.384.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.381.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-execute_unrecognizedmessageactivity' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.316.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.313.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-execute_sendtocloverleafactivity' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.360.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.353.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-inbound_activity_service_control_sjpeweb02' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.372.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.369.0</A>&gt;

=INFO REPORT==== 15-Sep-2013::06:34:15 ===
Mirrored-queue (queue 'ha-exchange_infrastructure_control_sjpeweb02' in vhost 'vortex'): Slave &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ05.2.304.0</A>&gt; saw deaths of mirrors &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.3.301.0</A>&gt;

=ERROR REPORT==== 15-Sep-2013::06:34:16 ===
** Generic server &lt;0.336.0&gt; terminating
** Last message in was {gm_deaths,[&lt;5111.330.0&gt;]}
** When Server state == {state,
                         {amqqueue,
                          {resource,&lt;&lt;&quot;vortex&quot;&gt;&gt;,queue,
                           &lt;&lt;&quot;ha-execute_sendtorouteractivity&quot;&gt;&gt;},
                          true,false,none,
                          [{&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                          &lt;5111.329.0&gt;,
                          [&lt;5111.329.0&gt;,&lt;7010.329.0&gt;,&lt;7011.333.0&gt;],
                          [&lt;7011.333.0&gt;,&lt;7010.329.0&gt;,&lt;5111.329.0&gt;],
                          [{vhost,&lt;&lt;&quot;vortex&quot;&gt;&gt;},
                           {name,&lt;&lt;&quot;ha-policy&quot;&gt;&gt;},
                           {pattern,&lt;&lt;&quot;^ha-.*&quot;&gt;&gt;},
                           {definition,
                            [{&lt;&lt;&quot;ha-mode&quot;&gt;&gt;,&lt;&lt;&quot;all&quot;&gt;&gt;},
                             {&lt;&lt;&quot;ha-sync-mode&quot;&gt;&gt;,&lt;&lt;&quot;automatic&quot;&gt;&gt;}]},
                           {priority,0}],
                          [{&lt;7011.334.0&gt;,&lt;7011.333.0&gt;},
                           {&lt;7010.330.0&gt;,&lt;7010.329.0&gt;},
                           {&lt;5111.330.0&gt;,&lt;5111.329.0&gt;},
                           {&lt;7009.328.0&gt;,&lt;7009.327.0&gt;}]},
                         &lt;0.337.0&gt;,rabbit_variable_queue,
                         {vqstate,
                          {0,{[],[]}},
                          {0,{[],[]}},
                          {delta,undefined,0,undefined},
                          {0,{[],[]}},
                          {0,{[],[]}},
                          0,
                          {0,nil},
                          {0,nil},
                          {qistate,
                           &quot;e:/RabbitMQ/db/rabbit-mnesia/queues/CZDXJN5ZJBZN98DWOHU2MZHL&quot;,
                           {{dict,0,16,16,8,80,48,
                             {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                             {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []}}},
                            []},
                           undefined,0,65536,
                           #Fun&lt;rabbit_variable_queue.2.81334491&gt;,
                           {0,nil}},
                          {{client_msstate,msg_store_persistent,
                            &lt;&lt;127,33,92,106,192,40,110,10,76,157,95,226,1,93,
                              82,226&gt;&gt;,
                            {dict,0,16,16,8,80,48,
                             {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                             {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []}}},
                            {state,348236,
                             &quot;e:/RabbitMQ/db/rabbit-mnesia/msg_store_persistent&quot;},
                            rabbit_msg_store_ets_index,
                            &quot;e:/RabbitMQ/db/rabbit-mnesia/msg_store_persistent&quot;,
                            &lt;0.269.0&gt;,352333,344139,356430,360527},
                           {client_msstate,msg_store_transient,
                            &lt;&lt;95,20,53,215,211,161,4,63,158,97,9,63,159,60,91,
                              221&gt;&gt;,
                            {dict,0,16,16,8,80,48,
                             {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                             {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []}}},
                            {state,327751,
                             &quot;e:/RabbitMQ/db/rabbit-mnesia/msg_store_transient&quot;},
                            rabbit_msg_store_ets_index,
                            &quot;e:/RabbitMQ/db/rabbit-mnesia/msg_store_transient&quot;,
                            &lt;0.264.0&gt;,331848,323654,335945,340042}},
                          true,0,0,0,infinity,0,0,0,0,0,
                          {rates,
                           {{1379,109357,6220},0},
                           {{1379,109357,6220},0},
                           0.0,0.0,
                           {1379,109829,181271}},
                          {0,nil},
                          {0,nil},
                          {0,nil},
                          {0,nil},
                          0,0,
                          {rates,
                           {{1379,109357,6220},0},
                           {{1379,109357,6220},0},
                           0.0,0.0,
                           {1379,109829,181271}}},
                         undefined,#Ref&lt;0.0.55.58770&gt;,
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         0}
** Reason for termination ==
** {{badmatch,{error,not_found}},
    [{rabbit_amqqueue_process,i,2,[]},
     {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
     {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
     {rabbit_amqqueue_process,emit_stats,2,[]},
     {rabbit_event,if_enabled,3,[]},
     {rabbit_amqqueue_process,'-terminate_delete/3-fun-1-',6,[]},
     {rabbit_amqqueue_process,terminate_shutdown,2,[]},
     {gen_server2,terminate,3,[]}]}
** In 'terminate' callback with reason ==
** normal

=INFO REPORT==== 15-Sep-2013::06:34:16 ===
closing AMQP connection &lt;0.4955.11&gt; (10.100.183.10:62972 -&gt; 10.100.183.75:5672)

=INFO REPORT==== 15-Sep-2013::06:34:16 ===
closing AMQP connection &lt;0.3177.11&gt; (10.100.183.10:49728 -&gt; 10.100.183.75:5672)

=INFO REPORT==== 15-Sep-2013::06:34:25 ===
accepting AMQP connection &lt;0.24239.16&gt; (10.100.183.10:56699 -&gt; 10.100.183.75:5672)

=INFO REPORT==== 15-Sep-2013::06:34:25 ===
accepting AMQP connection &lt;0.24248.16&gt; (10.100.183.10:55592 -&gt; 10


And a little later in the same log, here:

=INFO REPORT==== 15-Sep-2013::06:34:25 ===
Synchronising queue 'ha-compensate_fakecompensationfaultedactivity' in vhost 'vortex': all slaves already synced

=INFO REPORT==== 15-Sep-2013::06:34:25 ===
Synchronising queue 'ha-compensate_fakecompensationfaultedactivity' in vhost 'vortex': 0 messages to synchronise

=INFO REPORT==== 15-Sep-2013::06:34:25 ===
Synchronising queue 'ha-compensate_fakecompensationfaultedactivity' in vhost 'vortex': all slaves already synced

=INFO REPORT==== 15-Sep-2013::06:34:25 ===
Synchronising queue 'ha-compensate_fakecompensationfaultedactivity' in vhost 'vortex': 0 messages to synchronise

=INFO REPORT==== 15-Sep-2013::06:34:25 ===
Synchronising queue 'ha-compensate_fakecompensationfaultedactivity' in vhost 'vortex': all slaves already synced

=INFO REPORT==== 15-Sep-2013::06:34:45 ===
accepting AMQP connection &lt;0.24463.16&gt; (10.100.183.10:55948 -&gt; 10.100.183.75:5672)

=ERROR REPORT==== 15-Sep-2013::06:34:45 ===
** Generic server &lt;0.353.0&gt; terminating
** Last message in was {'DOWN',#Ref&lt;0.0.0.3812&gt;,process,&lt;5111.350.0&gt;,
                           {function_clause,
                               [{orddict,fetch,
                                    [{9,&lt;5111.350.0&gt;},[]],
                                    [{file,&quot;orddict.erl&quot;},{line,72}]},
                                {gm,check_neighbours,1,[]},
                                {gm,handle_cast,2,[]},
                                {gen_server2,handle_msg,2,[]},
                                {proc_lib,wake_up,3,
                                    [{file,&quot;proc_lib.erl&quot;},{line,249}]}]}}
** When Server state == {state,
                            {18,&lt;0.353.0&gt;},
                            {{22,&lt;0.24486.16&gt;},#Ref&lt;0.0.55.61004&gt;},
                            {{9,&lt;5111.350.0&gt;},#Ref&lt;0.0.0.3812&gt;},
                            {resource,&lt;&lt;&quot;vortex&quot;&gt;&gt;,queue,
                                &lt;&lt;&quot;ha-execute_lookupproviderinregistryactivity&quot;&gt;&gt;},
                            rabbit_mirror_queue_slave,
                            {24,
                             [{{9,&lt;5111.350.0&gt;},
                               {view_member,
                                   {9,&lt;5111.350.0&gt;},
                                   [],
                                   {18,&lt;0.353.0&gt;},
                                   {12,&lt;7010.350.0&gt;}}},
                              {{12,&lt;7010.350.0&gt;},
                               {view_member,
                                   {12,&lt;7010.350.0&gt;},
                                   [],
                                   {9,&lt;5111.350.0&gt;},
                                   {22,&lt;0.24486.16&gt;}}},
                              {{18,&lt;0.353.0&gt;},
                               {view_member,
                                   {18,&lt;0.353.0&gt;},
                                   [],
                                   {22,&lt;0.24486.16&gt;},
                                   {9,&lt;5111.350.0&gt;}}},
                              {{22,&lt;0.24486.16&gt;},
                               {view_member,
                                   {22,&lt;0.24486.16&gt;},
                                   [],
                                   {12,&lt;7010.350.0&gt;},
                                   {18,&lt;0.353.0&gt;}}}]},
                            0,
                            [{{9,&lt;5111.350.0&gt;},
                              {member,{[{2,process_death}],[]},2,1}},
                             {{12,&lt;7010.350.0&gt;},
                              {member,{[{2,process_death}],[]},2,1}},
                             {{18,&lt;0.353.0&gt;},{member,{[],[]},0,0}},
                             {{22,&lt;0.24486.16&gt;},{member,{[],[]},-1,-1}}],
                            [&lt;0.352.0&gt;],
                            {[],[]},
                            [],undefined,
                            #Fun&lt;rabbit_misc.execute_mnesia_transaction.1&gt;}
** Reason for termination ==
** {function_clause,[{orddict,fetch,
                              [{18,&lt;0.353.0&gt;},[]],
                              [{file,&quot;orddict.erl&quot;},{line,72}]},
                     {gm,check_neighbours,1,[]},
                     {gm,handle_info,2,[]},
                     {gen_server2,handle_msg,2,[]},
                     {proc_lib,wake_up,3,[{file,&quot;proc_lib.erl&quot;},{line,249}]}]}

=ERROR REPORT==== 15-Sep-2013::06:34:45 ===
** Generic server &lt;0.24486.16&gt; terminating
** Last message in was {'DOWN',#Ref&lt;0.0.55.60998&gt;,process,&lt;0.353.0&gt;,
                           {function_clause,
                               [{orddict,fetch,
                                    [{18,&lt;0.353.0&gt;},[]],
                                    [{file,&quot;orddict.erl&quot;},{line,72}]},
                                {gm,check_neighbours,1,[]},
                                {gm,handle_info,2,[]},
                                {gen_server2,handle_msg,2,[]},
                                {proc_lib,wake_up,3,
                                    [{file,&quot;proc_lib.erl&quot;},{line,249}]}]}}
** When Server state == {state,
                            {22,&lt;0.24486.16&gt;},
                            {{12,&lt;7010.350.0&gt;},#Ref&lt;0.0.55.60997&gt;},
                            {{18,&lt;0.353.0&gt;},#Ref&lt;0.0.55.60998&gt;},
                            {resource,&lt;&lt;&quot;vortex&quot;&gt;&gt;,queue,
                                &lt;&lt;&quot;ha-execute_lookupproviderinregistryactivity&quot;&gt;&gt;},
                            rabbit_mirror_queue_coordinator,
                            {23,
                             [{{9,&lt;5111.350.0&gt;},
                               {view_member,
                                   {9,&lt;5111.350.0&gt;},
                                   [],
                                   {18,&lt;0.353.0&gt;},
                                   {12,&lt;7010.350.0&gt;}}},
                              {{12,&lt;7010.350.0&gt;},
                               {view_member,
                                   {12,&lt;7010.350.0&gt;},
                                   [],
                                   {9,&lt;5111.350.0&gt;},
                                   {22,&lt;0.24486.16&gt;}}},
                              {{18,&lt;0.353.0&gt;},
                               {view_member,
                                   {18,&lt;0.353.0&gt;},
                                   [{6,&lt;7009.348.0&gt;}],
                                   {22,&lt;0.24486.16&gt;},
                                   {9,&lt;5111.350.0&gt;}}},
                              {{22,&lt;0.24486.16&gt;},
                               {view_member,
                                   {22,&lt;0.24486.16&gt;},
                                   [],
                                   {12,&lt;7010.350.0&gt;},
                                   {18,&lt;0.353.0&gt;}}}]},
                            -1,
                            [{{6,&lt;7009.348.0&gt;},{member,{[],[]},15,15}},
                             {{9,&lt;5111.350.0&gt;},
                              {member,{[{2,process_death}],[]},2,1}},
                             {{12,&lt;7010.350.0&gt;},
                              {member,{[{2,process_death}],[]},2,1}},
                             {{18,&lt;0.353.0&gt;},{member,{[],[]},0,0}},
                             {{22,&lt;0.24486.16&gt;},{member,{[],[]},-1,-1}}],
                            [&lt;0.24485.16&gt;],
                            {[],[]},
                            [],undefined,
                            #Fun&lt;rabbit_misc.execute_mnesia_transaction.1&gt;}
** Reason for termination ==
** {function_clause,[{orddict,fetch,
                              [{22,&lt;0.24486.16&gt;},[]],
                              [{file,&quot;orddict.erl&quot;},{line,72}]},
                     {gm,check_neighbours,1,[]},
                     {gm,handle_info,2,[]},
                     {gen_server2,handle_msg,2,[]},
                     {proc_lib,init_p_do_apply,3,
                               [{file,&quot;proc_lib.erl&quot;},{line,239}]}]}

=ERROR REPORT==== 15-Sep-2013::06:34:45 ===
** Generic server &lt;0.352.0&gt; terminating
** Last message in was {gm_deaths,[&lt;0.24486.16&gt;,&lt;0.353.0&gt;,&lt;7010.350.0&gt;,
                                   &lt;5111.350.0&gt;]}
** When Server state == {state,
                         {amqqueue,
                          {resource,&lt;&lt;&quot;vortex&quot;&gt;&gt;,queue,
                           &lt;&lt;&quot;ha-execute_lookupproviderinregistryactivity&quot;&gt;&gt;},
                          true,false,none,
                          [{&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                          &lt;0.24484.16&gt;,
                          [&lt;5111.349.0&gt;,&lt;7010.349.0&gt;,&lt;7011.349.0&gt;],
                          [&lt;7011.349.0&gt;,&lt;7010.349.0&gt;,&lt;5111.349.0&gt;],
                          [{vhost,&lt;&lt;&quot;vortex&quot;&gt;&gt;},
                           {name,&lt;&lt;&quot;ha-policy&quot;&gt;&gt;},
                           {pattern,&lt;&lt;&quot;^ha-.*&quot;&gt;&gt;},
                           {definition,
                            [{&lt;&lt;&quot;ha-mode&quot;&gt;&gt;,&lt;&lt;&quot;all&quot;&gt;&gt;},
                             {&lt;&lt;&quot;ha-sync-mode&quot;&gt;&gt;,&lt;&lt;&quot;automatic&quot;&gt;&gt;}]},
                           {priority,0}],
                          [{&lt;7011.350.0&gt;,&lt;7011.349.0&gt;},
                           {&lt;7010.350.0&gt;,&lt;7010.349.0&gt;},
                           {&lt;5111.350.0&gt;,&lt;5111.349.0&gt;},
                           {&lt;7009.348.0&gt;,&lt;7009.347.0&gt;}]},
                         &lt;0.353.0&gt;,rabbit_variable_queue,
                         {vqstate,
                          {0,{[],[]}},
                          {0,{[],[]}},
                          {delta,undefined,0,undefined},
                          {0,{[],[]}},
                          {0,{[],[]}},
                          0,
                          {0,nil},
                          {0,nil},
                          {qistate,
                           &quot;e:/RabbitMQ/db/rabbit-mnesia/queues/5MD5HQ7PCUA3C2UP3Z9HUANOV&quot;,
                           {{dict,0,16,16,8,80,48,
                             {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                             {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []}}},
                            []},
                           undefined,0,65536,
                           #Fun&lt;rabbit_variable_queue.2.81334491&gt;,
                           {0,nil}},
                          {{client_msstate,msg_store_persistent,
                            &lt;&lt;139,43,92,149,89,56,222,175,208,46,119,138,91,
                              209,199,19&gt;&gt;,
                            {dict,0,16,16,8,80,48,
                             {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                             {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []}}},
                            {state,348236,
                             &quot;e:/RabbitMQ/db/rabbit-mnesia/msg_store_persistent&quot;},
                            rabbit_msg_store_ets_index,
                            &quot;e:/RabbitMQ/db/rabbit-mnesia/msg_store_persistent&quot;,
                            &lt;0.269.0&gt;,352333,344139,356430,360527},
                           {client_msstate,msg_store_transient,
                            &lt;&lt;241,205,183,204,120,219,30,233,243,36,174,112,
                              168,245,105,99&gt;&gt;,
                            {dict,0,16,16,8,80,48,
                             {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                             {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                               []}}},
                            {state,327751,
                             &quot;e:/RabbitMQ/db/rabbit-mnesia/msg_store_transient&quot;},
                            rabbit_msg_store_ets_index,
                            &quot;e:/RabbitMQ/db/rabbit-mnesia/msg_store_transient&quot;,
                            &lt;0.264.0&gt;,331848,323654,335945,340042}},
                          true,0,0,0,infinity,0,0,0,0,0,
                          {rates,
                           {{1379,109827,41270},0},
                           {{1379,109827,41270},0},
                           0.0,0.0,
                           {1379,252056,729281}},
                          {0,nil},
                          {0,nil},
                          {0,nil},
                          {0,nil},
                          0,0,
                          {rates,
                           {{1379,109827,41270},0},
                           {{1379,109827,41270},0},
                           0.0,0.0,
                           {1379,252056,729281}}},
                         undefined,#Ref&lt;0.0.55.61023&gt;,
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         {dict,0,16,16,8,80,48,
                          {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
                          {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},
                         0}
** Reason for termination ==
** {{badmatch,{error,not_found}},
    [{rabbit_amqqueue_process,i,2,[]},
     {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
     {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
     {rabbit_amqqueue_process,emit_stats,2,[]},
     {rabbit_event,if_enabled,3,[]},
     {rabbit_amqqueue_process,'-terminate_delete/3-fun-1-',6,[]},
     {rabbit_amqqueue_process,terminate_shutdown,2,[]},
     {gen_server2,terminate,3,[]}]}
** In 'terminate' callback with reason ==
** normal

=ERROR REPORT==== 15-Sep-2013::06:34:45 ===
** Generic server &lt;0.24484.16&gt; terminating
** Last message in was {init,new}
** When Server state == {q,{amqqueue,
                               {resource,&lt;&lt;&quot;vortex&quot;&gt;&gt;,queue,
                                   &lt;&lt;&quot;ha-execute_lookupproviderinregistryactivity&quot;&gt;&gt;},
                               true,false,none,
                               [{&lt;&lt;&quot;x-ha-policy&quot;&gt;&gt;,longstr,&lt;&lt;&quot;all&quot;&gt;&gt;}],
                               &lt;0.24484.16&gt;,[],[],
                               [{vhost,&lt;&lt;&quot;vortex&quot;&gt;&gt;},
                                {name,&lt;&lt;&quot;ha-policy&quot;&gt;&gt;},
                                {pattern,&lt;&lt;&quot;^ha-.*&quot;&gt;&gt;},
                                {definition,
                                    [{&lt;&lt;&quot;ha-mode&quot;&gt;&gt;,&lt;&lt;&quot;all&quot;&gt;&gt;},
                                     {&lt;&lt;&quot;ha-sync-mode&quot;&gt;&gt;,&lt;&lt;&quot;automatic&quot;&gt;&gt;}]},
                                {priority,0}],
                               []},
                           none,false,undefined,undefined,
                           {[],[]},
                           undefined,undefined,undefined,undefined,
                           {state,fine,5000,undefined},
                           {0,nil},
                           undefined,undefined,undefined,
                           {dict,0,16,16,8,80,48,
                               {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                []},
                               {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []}}},
                           undefined,undefined,undefined,running}
** Reason for termination ==
** {{badmatch,{error,not_found}},
    [{rabbit_amqqueue_process,i,2,[]},
     {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
     {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
     {rabbit_amqqueue_process,emit_stats,2,[]},
     {rabbit_event,if_enabled,3,[]},
     {rabbit_amqqueue_process,declare,3,[]},
     {gen_server2,handle_msg,2,[]},
     {proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,239}]}]}

=ERROR REPORT==== 15-Sep-2013::06:34:45 ===
** Generic server &lt;0.24482.16&gt; terminating
** Last message in was {'$gen_cast',
                           {method,
                               {'basic.consume',0,
                                   &lt;&lt;&quot;ha-execute_lookupproviderinregistryactivity&quot;&gt;&gt;,
                                   &lt;&lt;&gt;&gt;,false,false,false,false,[]},
                               none,noflow}}
** When Server state == {ch,running,rabbit_framing_amqp_0_9_1,2,&lt;0.24463.16&gt;,
                            &lt;0.24480.16&gt;,&lt;0.24463.16&gt;,
                            &lt;&lt;&quot;10.100.183.10:55948 -&gt; 10.100.183.75:5672&quot;&gt;&gt;,
                            {lstate,&lt;0.24481.16&gt;,true,false},
                            none,1,
                            {[],[]},
                            {user,&lt;&lt;&quot;SJPERMQVORTEXWRITE&quot;&gt;&gt;,[],
                                rabbit_auth_backend_ldap,
                                {impl,
                                    &quot;CN=SJPERMQ VORTEXWRITE,OU=PERMQ,OU=PERFORMANCE,OU=Environments,OU=Servers,DC=RHB,DC=AD&quot;,
                                    &lt;&lt;&quot;5k!Kz_T86Xa.W~&quot;&gt;&gt;}},
                            &lt;&lt;&quot;vortex&quot;&gt;&gt;,
                            &lt;&lt;&quot;ha-execute_lookupproviderinregistryactivity&quot;&gt;&gt;,
                            {dict,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {dict,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {dict,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {set,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {dict,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            {set,0,16,16,8,80,48,
                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                 []},
                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                  [],[]}}},
                            &lt;0.24461.16&gt;,
                            {state,fine,5000,#Ref&lt;0.0.55.60968&gt;},
                            false,1,
                            {{0,nil},{0,nil}},
                            [],
                            [{&lt;&lt;&quot;publisher_confirms&quot;&gt;&gt;,bool,true},
                             {&lt;&lt;&quot;exchange_exchange_bindings&quot;&gt;&gt;,bool,true},
                             {&lt;&lt;&quot;consumer_cancel_notify&quot;&gt;&gt;,bool,true},
                             {&lt;&lt;&quot;basic.nack&quot;&gt;&gt;,bool,true}],
                            none}
** Reason for termination ==
** {{{{badmatch,{error,not_found}},
      [{rabbit_amqqueue_process,i,2,[]},
       {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
       {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
       {rabbit_amqqueue_process,emit_stats,2,[]},
       {rabbit_event,if_enabled,3,[]},
       {rabbit_amqqueue_process,declare,3,[]},
       {gen_server2,handle_msg,2,[]},
       {proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,239}]}]},
     {gen_server2,call,
         [&lt;0.24484.16&gt;,
          {basic_consume,false,&lt;0.24482.16&gt;,&lt;0.24481.16&gt;,true,
              &lt;&lt;&quot;amq.ctag-sPY5Ih3rfTx5gxibnPoXkw&quot;&gt;&gt;,false,none,
              {'basic.consume_ok',&lt;&lt;&quot;amq.ctag-sPY5Ih3rfTx5gxibnPoXkw&quot;&gt;&gt;}},
          infinity]}},
    [{gen_server2,call,3,[]},
     {rabbit_channel,'-handle_method/3-fun-1-',7,[]},
     {rabbit_misc,with_exit_handler,2,[]},
     {rabbit_channel,handle_method,3,[]},
     {rabbit_channel,handle_cast,2,[]},
     {gen_server2,handle_msg,2,[]},
     {proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,239}]}]}

=ERROR REPORT==== 15-Sep-2013::06:34:45 ===
AMQP connection &lt;0.24463.16&gt; (running), channel 2 - error:
{{{{badmatch,{error,not_found}},
   [{rabbit_amqqueue_process,i,2,[]},
    {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
    {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
    {rabbit_amqqueue_process,emit_stats,2,[]},
    {rabbit_event,if_enabled,3,[]},
    {rabbit_amqqueue_process,declare,3,[]},
    {gen_server2,handle_msg,2,[]},
    {proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,239}]}]},
  {gen_server2,call,
      [&lt;0.24484.16&gt;,
       {basic_consume,false,&lt;0.24482.16&gt;,&lt;0.24481.16&gt;,true,
           &lt;&lt;&quot;amq.ctag-sPY5Ih3rfTx5gxibnPoXkw&quot;&gt;&gt;,false,none,
           {'basic.consume_ok',&lt;&lt;&quot;amq.ctag-sPY5Ih3rfTx5gxibnPoXkw&quot;&gt;&gt;}},
       infinity]}},
 [{gen_server2,call,3,[]},
  {rabbit_channel,'-handle_method/3-fun-1-',7,[]},
  {rabbit_misc,with_exit_handler,2,[]},
  {rabbit_channel,handle_method,3,[]},
  {rabbit_channel,handle_cast,2,[]},
  {gen_server2,handle_msg,2,[]},
  {proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,239}]}]}

=WARNING REPORT==== 15-Sep-2013::06:34:45 ===
Non-AMQP exit reason '{{{{badmatch,{error,not_found}},
                         [{rabbit_amqqueue_process,i,2,[]},
                          {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
                          {rabbit_amqqueue_process,'-infos/2-lc$^0/1-0-',2,[]},
                          {rabbit_amqqueue_process,emit_stats,2,[]},
                          {rabbit_event,if_enabled,3,[]},
                          {rabbit_amqqueue_process,declare,3,[]},
                          {gen_server2,handle_msg,2,[]},
                          {proc_lib,init_p_do_apply,3,
                              [{file,&quot;proc_lib.erl&quot;},{line,239}]}]},
                        {gen_server2,call,
                            [&lt;0.24484.16&gt;,
                             {basic_consume,false,&lt;0.24482.16&gt;,&lt;0.24481.16&gt;,
                                 true,&lt;&lt;&quot;amq.ctag-sPY5Ih3rfTx5gxibnPoXkw&quot;&gt;&gt;,
                                 false,none,
                                 {'basic.consume_ok',
                                     &lt;&lt;&quot;amq.ctag-sPY5Ih3rfTx5gxibnPoXkw&quot;&gt;&gt;}},
                             infinity]}},
                       [{gen_server2,call,3,[]},
                        {rabbit_channel,'-handle_method/3-fun-1-',7,[]},
                        {rabbit_misc,with_exit_handler,2,[]},
                        {rabbit_channel,handle_method,3,[]},
                        {rabbit_channel,handle_cast,2,[]},
                        {gen_server2,handle_msg,2,[]},
                        {proc_lib,init_p_do_apply,3,
                            [{file,&quot;proc_lib.erl&quot;},{line,239}]}]}'

=INFO REPORT==== 15-Sep-2013::06:34:45 ===
closing AMQP connection &lt;0.24463.16&gt; (10.100.183.10:55948 -&gt; 10.100.183.75:5672)

=WARNING REPORT==== 15-Sep-2013::06:34:47 ===
memory resource limit alarm set on node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SJPERMQ04.</A>

**********************************************************
*** Publishers will be blocked until this alarm clears ***
**********************************************************








-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130917/145eeaca/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130917/145eeaca/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030257.html">[rabbitmq-discuss] When using rabbitmq-jms	javax.jms.Message.getJMSDestination does not return the	actual destination when it is received from a consumer	listening on a Topic with a wild card
</A></li>
	<LI>Next message: <A HREF="030259.html">[rabbitmq-discuss] Cluster Node Crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30242">[ date ]</a>
              <a href="thread.html#30242">[ thread ]</a>
              <a href="subject.html#30242">[ subject ]</a>
              <a href="author.html#30242">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
