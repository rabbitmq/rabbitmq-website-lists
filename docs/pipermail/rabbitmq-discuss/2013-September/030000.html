<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Questions about running .NET	binaries	SendString.exe, SingleGet.exe, rabbitmqclt.bat
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Questions%20about%20running%20.NET%0A%09binaries%09SendString.exe%2C%20SingleGet.exe%2C%20rabbitmqclt.bat&In-Reply-To=%3C922A2A9451A38A49A39D9B2B2C41465C39397EF6%40KWAWNEXMBP001.corp.root.nasd.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029995.html">
   <LINK REL="Next"  HREF="030009.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Questions about running .NET	binaries	SendString.exe, SingleGet.exe, rabbitmqclt.bat</H1>
    <B>Li, Mike</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Questions%20about%20running%20.NET%0A%09binaries%09SendString.exe%2C%20SingleGet.exe%2C%20rabbitmqclt.bat&In-Reply-To=%3C922A2A9451A38A49A39D9B2B2C41465C39397EF6%40KWAWNEXMBP001.corp.root.nasd.com%3E"
       TITLE="[rabbitmq-discuss] Questions about running .NET	binaries	SendString.exe, SingleGet.exe, rabbitmqclt.bat">Mike.Li at finra.org
       </A><BR>
    <I>Tue Sep 10 16:15:53 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029995.html">[rabbitmq-discuss] Questions about running .NET binaries	SendString.exe, SingleGet.exe, rabbitmqclt.bat
</A></li>
        <LI>Next message: <A HREF="030009.html">[rabbitmq-discuss] Questions about running .NET	binaries	SendString.exe, SingleGet.exe, rabbitmqclt.bat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30000">[ date ]</a>
              <a href="thread.html#30000">[ thread ]</a>
              <a href="subject.html#30000">[ subject ]</a>
              <a href="author.html#30000">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Tim for the guidance on sendstring and singleget.

Next question is:

C:\Program Files (x86)\RabbitMQ Server\rabbitmq_server-3.1.5\sbin&gt;rabbitmqctl list_queues
Listing queues ...
Error: unable to connect to node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmqctl1765387 at 2UA0480ZK0</A>: nodedown

DIAGNOSTICS
===========

nodes in question: [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmqctl1765387 at 2UA0480ZK0</A>]

hosts, their running nodes and ports:
- 2UA0480ZK0: [{rabbit,65201},{rabbitmqctl572059,56762}]

current node details:
- node name: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmqctl572059 at 2UA0480ZK0</A>
- home dir: F:\
- cookie hash: WS55vwJzesUiy9buyfOeTw==

Please advise.

From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Tim Watson
Sent: Tuesday, September 10, 2013 4:54 AM
To: Discussions about RabbitMQ
Subject: Re: [rabbitmq-discuss] Questions about running .NET binaries SendString.exe, SingleGet.exe, rabbitmqclt.bat

Hi,

On 9 Sep 2013, at 19:29, Li, Mike wrote:
I was able to complete <A HREF="http://www.rabbitmq.com/tutorials/tutorial-one-python.html">http://www.rabbitmq.com/tutorials/tutorial-one-python.html</A> to tutorial-three-phython.html

When I tried using SendString and SingleGet .NET binaries, and rabbitmqctl.bat I net getting much luck.

Have you tried writing code similar to the python tutorial using the .NET client? Looking at <A HREF="https://github.com/rabbitmq/rabbitmq-tutorials/tree/master/dotnet">https://github.com/rabbitmq/rabbitmq-tutorials/tree/master/dotnet</A> might help, though that's probably very out of date.

But no message in the hello queue found.

Well indeed - queues are not magically created for you, you've got to declare them either in your code or using one of the various management tools.



Manually added message via Queue &gt; hello &gt; Publish message (and added messages using steps in tutorial-one-python.html)


That's one way to do it.


Tried getting the message failed also:
c:\RabbitMQ.NetClient\bin&gt;singleget &quot;<A HREF="amqp://guest:guest@127.0.0.1:5672/&quot;">amqp://guest:guest@127.0.0.1:5672/&quot;</A> hello


The reason for the the failure is tucked away in the exception message here:


text=&quot;PRECONDITION_FAILED - parameters for queue 'hello' in vhost '/' not equivalent&quot;

Before singleget attempts to issue a basic.get, it declares the target queue - using queue.declare - to ensure it's present. This is fine, since queue.declare is idempotent - if the queue already exists, the declaration acts like an assertion, otherwise it creates the queue. As you can see below, the code in SingleGet that declares the queue makes very specific assumptions about parameters:

            using (IModel ch = conn.CreateModel()) {
                conn.AutoClose = true;

                ch.QueueDeclare(queueName, false, false, false, null);
                BasicGetResult result = ch.BasicGet(queueName, false);
                if (result == null) {
                    Console.WriteLine(&quot;No message available.&quot;);
                } else {
                    ch.BasicAck(result.DeliveryTag, false);
                    Console.WriteLine(&quot;Message:&quot;);
                    DebugUtil.DumpProperties(result, Console.Out, 0);
                }

                return 0;
            }

So at the time that queue.declare method is issued to the server, if the queue that you manually created on the server was configured with *different* parameters, the queue.declare method will fail and a channel error will be raised, invalidating the channel and throwing an exception in the client.



Please advise.

Make sure that the queue you're consuming via SingleGet was declared with exactly these same parameters. Alternatively, write you own code to consume messages from the queue, and ensure that when calling the channel's QueueDeclare method, you provide the same parameters that the queue was originally declared/created with.

Cheers,
Tim



Confidentiality Notice:  This email, including attachments, may include non-public, proprietary, confidential or legally privileged information.  If you are not an intended recipient or an authorized agent of an intended recipient, you are hereby notified that any dissemination, distribution or copying of the information contained in or transmitted with this e-mail is unauthorized and strictly prohibited.  If you have received this email in error, please notify the sender by replying to this message and permanently delete this e-mail, its attachments, and any copies of it immediately.  You should not retain, copy or use this e-mail or any attachment for any purpose, nor disclose all or any part of the contents to any other person. Thank you

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130910/8fba8fd7/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130910/8fba8fd7/attachment.htm</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029995.html">[rabbitmq-discuss] Questions about running .NET binaries	SendString.exe, SingleGet.exe, rabbitmqclt.bat
</A></li>
	<LI>Next message: <A HREF="030009.html">[rabbitmq-discuss] Questions about running .NET	binaries	SendString.exe, SingleGet.exe, rabbitmqclt.bat
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30000">[ date ]</a>
              <a href="thread.html#30000">[ thread ]</a>
              <a href="subject.html#30000">[ subject ]</a>
              <a href="author.html#30000">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
