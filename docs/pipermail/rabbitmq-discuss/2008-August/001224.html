<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] anyone using Twisted?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20anyone%20using%20Twisted%3F&In-Reply-To=48AFC8F3.1030304%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001215.html">
   <LINK REL="Next"  HREF="001225.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] anyone using Twisted?</H1>
    <B>Holger Hoffst&#228;tte</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20anyone%20using%20Twisted%3F&In-Reply-To=48AFC8F3.1030304%40lshift.net"
       TITLE="[rabbitmq-discuss] anyone using Twisted?">holger at wizards.de
       </A><BR>
    <I>Sun Aug 24 18:29:32 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001215.html">[rabbitmq-discuss] anyone using Twisted?
</A></li>
        <LI>Next message: <A HREF="001225.html">[rabbitmq-discuss] anyone using Twisted?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1224">[ date ]</a>
              <a href="thread.html#1224">[ thread ]</a>
              <a href="subject.html#1224">[ subject ]</a>
              <a href="author.html#1224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias Radestock wrote:
&gt;<i> Holger Hoffst&#228;tte wrote:
</I>&gt;&gt;<i> As an aside, does anybody know whether the AMQP spec mandates the m:1
</I>&gt;&gt;<i> channel:connection relationship, or is that just what's implemented right
</I>&gt;&gt;<i> now in Rabbit?
</I>&gt;<i> 
</I>&gt;<i> The spec allows for multiple channels per connection, and multiple
</I>&gt;<i> connections per client.
</I>
I'm afraid your answer is completely correct and yet not what I wanted to
know. ;-)
I'll admit the question was ambiguous.

&gt;&gt;<i> IMHO clients in general could also benefit greatly from
</I>&gt;&gt;<i> bonding multiple connections together; the Java client might be able to
</I>&gt;&gt;<i> use NIO for that. This could cut down connection contention with many
</I>&gt;&gt;<i> channels and allow for better network utilization, though it would
</I>&gt;&gt;<i> need to
</I>&gt;&gt;<i> be handled by the broker as well. Just curious.
</I>&gt;<i> 
</I>&gt;<i> Are you referring to ethernet bonding? Please elaborate.
</I>
More like &quot;socket bonding&quot; if that makes sense - the question (and
half-baked idea) was whether a logical connection could be implemented in
terms of multiple sockets (when using TCP), without the client app doing
this manually/explicitly. Allowing multiple sockets could prevent channel
starvation and therefore also better QoS schemes, but on second thought it
is not clear whether just delegating to the OS is such a good idea after all.

A typical scenario would be a couple of channels that send/receive mostly
small messages at varying rates but with low latency requirement, yet the
one oddball sends huge messages but doesn't care about the transfer speed.
Without some kind of fairness on the framing level (e.g. by dividing up
the one shared socket among all channels with some kind of quota, channel
priority or deadline), the one big sender could starve the other small
messages.

I'm not sure if this is important at this point, or even whether doing
this kind of QoS on the frame level (ala a packet scheduler) or on a
per-socket level would be better. I dind't find any useful QoS information
in the spec except for the note on the Channel class and the per-message
credit-based &quot;flow control&quot; concept, but to me that seems of little use
for starvation control on the transport level. From what I can tell that
(and session ordering) is what the frame &quot;Tracks&quot; in 0.10 are about, I
didn't see that in 0.8/0.9.

Enough elaborated, I guess. :)

regards
Holger


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001215.html">[rabbitmq-discuss] anyone using Twisted?
</A></li>
	<LI>Next message: <A HREF="001225.html">[rabbitmq-discuss] anyone using Twisted?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1224">[ date ]</a>
              <a href="thread.html#1224">[ thread ]</a>
              <a href="subject.html#1224">[ subject ]</a>
              <a href="author.html#1224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
