<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ logs, ticket check
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20logs%2C%20ticket%20check&In-Reply-To=6c2563b20808050933x537c29b2j50b0a774218ec66e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001140.html">
   <LINK REL="Next"  HREF="001142.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ logs, ticket check</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20logs%2C%20ticket%20check&In-Reply-To=6c2563b20808050933x537c29b2j50b0a774218ec66e%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] RabbitMQ logs, ticket check">matthias at lshift.net
       </A><BR>
    <I>Tue Aug  5 18:20:22 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001140.html">[rabbitmq-discuss] RabbitMQ logs, ticket check
</A></li>
        <LI>Next message: <A HREF="001142.html">[rabbitmq-discuss] RabbitMQ logs, ticket check
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1141">[ date ]</a>
              <a href="thread.html#1141">[ thread ]</a>
              <a href="subject.html#1141">[ subject ]</a>
              <a href="author.html#1141">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Edwin,

Edwin Fine wrote:
&gt;<i> setup_channel(Connection, Realm) -&gt;
</I>&gt;<i>     Channel = amqp_connection:open_channel(Connection),
</I>&gt;<i>     Access = #'access.request'{realm = Realm,
</I>&gt;<i>                                exclusive = false,
</I>&gt;<i>                                passive = true,
</I>&gt;<i>                                active = true,
</I>&gt;<i>                                write = true,
</I>&gt;<i>                                read = true},
</I>&gt;<i>     #'access.request_ok'{ticket = Ticket} = amqp_channel:call(Channel, 
</I>&gt;<i> Access),
</I>&gt;<i>     {Channel, Ticket}.
</I>&gt;<i> 
</I>&gt;<i> This is used in a few places, which pass Realm around, so they will have 
</I>&gt;<i> to be changed.
</I>
The above will continue to work until realms &amp; tickets are removed from 
the protocol.

We are going to be removing realms &amp; tickets in the following stages:

1) Removal from the server internals and admin interface. Application 
code using the APIs of the various clients, and code that uses the AMQ 
protocol directly, will largely be unaffected since the protocol methods 
haven't changed and the server continues to respond to access.request 
method. Only code that that actively relies on the access control 
provided by realms will break with this change. I don't think there is 
much of that about.

2) Removal from the high-level client APIs. This will require some 
changes to application code, but these should all be very 
straightforward. Also note that there is nothing forcing you to upgrade 
to the new versions of the client; the old clients will continue to 
function. And code that uses the AMQP protocol more directly, such as 
the code above, will remain unaffected.

3) Removal from the protocol. At this point all application code must 
use the new client APIs and code that uses the AMQP protocol more 
directly will need to be changed. Again, the changes should be 
straightforward.


We are about to carry out step 1. Step 2 is still a few weeks off. And 
step 3 won't happen until after the AMQP Working Group has published a 
spec which removes realms &amp; tickets.


Hope the above is ok with everybody; if, otoh, you are really fond of 
tickets and realms and don't want to live without them then please let 
us know :)


Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001140.html">[rabbitmq-discuss] RabbitMQ logs, ticket check
</A></li>
	<LI>Next message: <A HREF="001142.html">[rabbitmq-discuss] RabbitMQ logs, ticket check
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1141">[ date ]</a>
              <a href="thread.html#1141">[ thread ]</a>
              <a href="subject.html#1141">[ subject ]</a>
              <a href="author.html#1141">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
