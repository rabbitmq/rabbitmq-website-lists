<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ logs, ticket check
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20logs%2C%20ticket%20check&In-Reply-To=269388e30808050756g58177fc4wc8257085c8f98650%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001137.html">
   <LINK REL="Next"  HREF="001139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ logs, ticket check</H1>
    <B>Edwin Fine</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20logs%2C%20ticket%20check&In-Reply-To=269388e30808050756g58177fc4wc8257085c8f98650%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] RabbitMQ logs, ticket check">rabbitmq-discuss_efine at usa.net
       </A><BR>
    <I>Tue Aug  5 16:12:55 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001137.html">[rabbitmq-discuss] RabbitMQ logs, ticket check
</A></li>
        <LI>Next message: <A HREF="001139.html">[rabbitmq-discuss] RabbitMQ logs, ticket check
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1138">[ date ]</a>
              <a href="thread.html#1138">[ thread ]</a>
              <a href="subject.html#1138">[ subject ]</a>
              <a href="author.html#1138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben,

Um, does this mean that:

In rabbitmqctl,

  add_realm    &lt;VHostPath&gt; &lt;RealmName&gt;
  delete_realm &lt;VHostPath&gt; &lt;RealmName&gt;
  list_realms  &lt;VHostPath&gt;
  set_permissions  &lt;UserName&gt; &lt;VHostPath&gt; &lt;RealmName&gt; [&lt;Permission&gt; ...]

will disappear?

Furthermore, does this mean that our code will have to remove all references
to realms? Or are you leaving all that syntax in place but just making it a
NOOP?

Regards,
Edwin

On Tue, Aug 5, 2008 at 10:56 AM, Ben Hood &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt; wrote:

&gt;<i> Edwin, David,
</I>&gt;<i>
</I>&gt;<i> On Tue, Aug 5, 2008 at 3:20 PM, Edwin Fine
</I>&gt;<i> &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss_efine at usa.net</A>&gt; wrote:
</I>&gt;<i> &gt; I get the same issue (for the same reason) using the Erlang client,
</I>&gt;<i> namely
</I>&gt;<i> &gt; &quot;Lax ticket check mode: ignoring cross-realm access for ticket 101&quot;
</I>&gt;<i> &gt;  I'd appreciate an explanation as to what changed between 1.3.0 and 1.4.0
</I>&gt;<i> to
</I>&gt;<i> &gt; make this happen, and a suggestion on what I need to do to get rid of the
</I>&gt;<i> &gt; warning.
</I>&gt;<i>
</I>&gt;<i> By default, strict ticket checking is turned off, which means that
</I>&gt;<i> Rabbit will not enforce strict realm based ACL.
</I>&gt;<i>
</I>&gt;<i> When this is turned off, and a client sends down an invalid ticket,
</I>&gt;<i> this will be treated as a NOOP and merely logged.
</I>&gt;<i>
</I>&gt;<i> This is useful for development scenarios.
</I>&gt;<i>
</I>&gt;<i> Usually you would turn this on in production, in which you actually
</I>&gt;<i> cared about this type of ACL.
</I>&gt;<i>
</I>&gt;<i> Having said all of this, the whole topic of realm based access control
</I>&gt;<i> is going to disappear very soon.
</I>&gt;<i>
</I>&gt;<i> We have decided that because although realms are in the spec, no other
</I>&gt;<i> AMQP broker has bothered to implement them, and hence we should follow
</I>&gt;<i> suit.
</I>&gt;<i>
</I>&gt;<i> Furthermore, realms are confusing, too fine grained as an ACL concept
</I>&gt;<i> and the cost of their maintenance is not really justified by the
</I>&gt;<i> minimal benefits they offer.
</I>&gt;<i>
</I>&gt;<i> For example, in Rabbit 1.3.0, 12% of the entire code base was
</I>&gt;<i> dedicated to realm handling.
</I>&gt;<i>
</I>&gt;<i> Having said all of this, and for the record, what has changed between
</I>&gt;<i> 1.3 and 1.4 is that a bug has been introduced, which we have already
</I>&gt;<i> noted in our internal bug system.
</I>&gt;<i>
</I>&gt;<i> But instead of fixing this bug, because we are deleting realms anyway,
</I>&gt;<i> we have decided to push through the realm deletion patch first
</I>&gt;<i> (bug18994 in hg refers).
</I>&gt;<i>
</I>&gt;<i> We are in the late stages of QA'ing this, it will be merged into the
</I>&gt;<i> default branch soon and upon which a new release will be made.
</I>&gt;<i>
</I>&gt;<i> HTH,
</I>&gt;<i>
</I>&gt;<i> Ben
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
For every expert there is an equal and opposite expert - Arthur C. Clarke
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080805/3ad37602/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080805/3ad37602/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001137.html">[rabbitmq-discuss] RabbitMQ logs, ticket check
</A></li>
	<LI>Next message: <A HREF="001139.html">[rabbitmq-discuss] RabbitMQ logs, ticket check
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1138">[ date ]</a>
              <a href="thread.html#1138">[ thread ]</a>
              <a href="subject.html#1138">[ subject ]</a>
              <a href="author.html#1138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
