<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Round Robin, again
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Round%20Robin%2C%20again&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001123.html">
   <LINK REL="Next"  HREF="001122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Round Robin, again</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Round%20Robin%2C%20again&In-Reply-To="
       TITLE="[rabbitmq-discuss] Round Robin, again">0x6e6562 at gmail.com
       </A><BR>
    <I>Fri Aug  1 10:12:59 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001123.html">[rabbitmq-discuss] introductory slides for RabbitMQ and AMQP
</A></li>
        <LI>Next message: <A HREF="001122.html">[rabbitmq-discuss] Routing algorithm in RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1121">[ date ]</a>
              <a href="thread.html#1121">[ thread ]</a>
              <a href="subject.html#1121">[ subject ]</a>
              <a href="author.html#1121">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Paul,

First of all, sorry about the delay in answering this, because it
didn't go through the list it fell into the wrong message queue in my
mail account.

On Wed, Jul 23, 2008 at 8:41 AM, Paul Jones &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pauljones23 at gmail.com</A>&gt; wrote:

&gt;<i> One question we had was whether there was any way to get around the bit
</I>&gt;<i> where the specification states that messages are delivered to multiple
</I>&gt;<i> consumers in a round-robin fashion. The scenario I'm thinking of is
</I>&gt;<i> something like:
</I>&gt;<i>
</I>&gt;<i> Message 1 goes to Consumer A, and takes a long time.
</I>&gt;<i> Message 2 goes to Consumer B, and is done very quickly.
</I>&gt;<i> Message 3 goes to Consumer A (round-robin), and is delayed because it is
</I>&gt;<i> waiting for Consumer A to be ready (even though Consumer B is idle).
</I>&gt;<i>
</I>&gt;<i> I assume the behaviour happens because the consumer part of the amqp library
</I>&gt;<i> is buffering messages. Apparently people have asked similar sorts of
</I>&gt;<i> questions on the mailing lists, and have ended up implementing queues within
</I>&gt;<i> their own applications - which works fine up until you want to scale across
</I>&gt;<i> multiple machines.
</I>&gt;<i>
</I>&gt;<i> I was wondering if it would be possible to reduce the buffer length to 0 or
</I>&gt;<i> something like that? Obviously that would impact the time it takes a message
</I>&gt;<i> to be delivered, but it would certainly result in the time spent in queue
</I>&gt;<i> going down for messages in the above scenario.
</I>&gt;<i>
</I>
I don't know if you have been following the discussion on this list
lately about round robin deliveries.

This is an issue for a number of people and we think we have a
straight forward solution for this.

Tony has been discussing various options surrounding the qos command
which would allow the user to set the pre-fetch window size of a
consumer.

Please stay tuned for the resolution.

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001123.html">[rabbitmq-discuss] introductory slides for RabbitMQ and AMQP
</A></li>
	<LI>Next message: <A HREF="001122.html">[rabbitmq-discuss] Routing algorithm in RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1121">[ date ]</a>
              <a href="thread.html#1121">[ thread ]</a>
              <a href="subject.html#1121">[ subject ]</a>
              <a href="author.html#1121">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
