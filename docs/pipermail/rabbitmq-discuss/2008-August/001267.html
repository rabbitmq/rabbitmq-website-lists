<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20performance&In-Reply-To=48B90F23.8060609%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001265.html">
   <LINK REL="Next"  HREF="001268.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] performance</H1>
    <B>Edwin Fine</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20performance&In-Reply-To=48B90F23.8060609%40lshift.net"
       TITLE="[rabbitmq-discuss] performance">rabbitmq-discuss_efine at usa.net
       </A><BR>
    <I>Sat Aug 30 22:31:39 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001265.html">[rabbitmq-discuss] performance
</A></li>
        <LI>Next message: <A HREF="001268.html">[rabbitmq-discuss] Linux processor affinity and C code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1267">[ date ]</a>
              <a href="thread.html#1267">[ thread ]</a>
              <a href="subject.html#1267">[ subject ]</a>
              <a href="author.html#1267">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Some testing we did in the past indicates that generally a clustered
</I>&gt;<i> broker - with one node per core and smp disabled for the Erlang VM -
</I>&gt;<i> performs significantly better than a single smp-enabled node.
</I>&gt;<i>
</I>
Now *that* is very interesting. I have seen the same kind of thing in some
ad-hoc (non-RabbitMQ related) experiments I did some time back (better
performance from multiple VMs, each in single-cpu configuration, on a
multi-core system) and thought it was my imagination because SMP was
supposed to be the way to go. I haven't seen much discussion on this on the
erlang-questions mailing lists, and quite frankly, I'm not going to start
one without some solid, repeatable evidence. If you have seen this behavior,
have you brought it up with the Erlang gurus, and if so, have they said
anything enlightening about it?

Some products, like Informix, allow the pinning of virtual processors to
individual CPUs (processor affinity) for fine-grained performance control.
Informix supports this on Linux. I don't believe Erlang supports this on any
platform. It may be advantageous to add this feature to Erlang's VM. What's
your take on this?

BTW, this link made for interesting reading:

<A HREF="http://www.erlang.org/pipermail/erlang-questions/2008-January/032273.html">http://www.erlang.org/pipermail/erlang-questions/2008-January/032273.html</A>

Regards,
Edwin Fine
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080830/83e5c7fa/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20080830/83e5c7fa/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001265.html">[rabbitmq-discuss] performance
</A></li>
	<LI>Next message: <A HREF="001268.html">[rabbitmq-discuss] Linux processor affinity and C code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1267">[ date ]</a>
              <a href="thread.html#1267">[ thread ]</a>
              <a href="subject.html#1267">[ subject ]</a>
              <a href="author.html#1267">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
