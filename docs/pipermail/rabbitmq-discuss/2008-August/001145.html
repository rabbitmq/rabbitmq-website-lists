<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] access to vhost '/'?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20access%20to%20vhost%20%27/%27%3F&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001158.html">
   <LINK REL="Next"  HREF="001146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] access to vhost '/'?</H1>
    <B>Benjamin Black</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20access%20to%20vhost%20%27/%27%3F&In-Reply-To="
       TITLE="[rabbitmq-discuss] access to vhost '/'?">bb at joyent.com
       </A><BR>
    <I>Fri Aug  8 22:48:15 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001158.html">[rabbitmq-discuss] Our fight against scammers
</A></li>
        <LI>Next message: <A HREF="001146.html">[rabbitmq-discuss] access to vhost '/'?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1145">[ date ]</a>
              <a href="thread.html#1145">[ thread ]</a>
              <a href="subject.html#1145">[ subject ]</a>
              <a href="author.html#1145">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>i'm rather new to rabbitmq, having previously only used activemq.  i'm  
running into a problem with the permissions system and i'm hoping  
someone on the list can point out my obvious error.  i'm using 1.4.0  
with the latest stomp adapter on osx 10.5 and the client is in ruby  
using the stomp gem.

i've created a vhost called /metrics and a realm in /metrics called  
collection.  i've created a user called collector, mapped it to / 
metrics, and granted all permissions on /metrics/collection.  when i  
attempt to send messages i get the following error:

=INFO REPORT==== 8-Aug-2008::14:39:35 ===
starting STOMP connection &lt;0.1195.0&gt; from 127.0.0.1:61605

=ERROR REPORT==== 8-Aug-2008::14:39:35 ===
STOMP error frame sent:
Message: &quot;Processing error&quot;
Detail: &quot;{amqp,access_refused,\n      \&quot;access to vhost '/' refused  
for user 'collector'\&quot;,none}\n&quot;

=INFO REPORT==== 8-Aug-2008::14:39:35 ===
ending STOMP connection &lt;0.1195.0&gt; from 127.0.0.1:61605

granting all permissions to collector on / allows the messages to go  
through correctly, but gives this error:

=WARNING REPORT==== 8-Aug-2008::12:25:52 ===
Lax ticket check mode: ignoring cross-realm access for ticket 101

any ideas?



thanks,
bb




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001158.html">[rabbitmq-discuss] Our fight against scammers
</A></li>
	<LI>Next message: <A HREF="001146.html">[rabbitmq-discuss] access to vhost '/'?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1145">[ date ]</a>
              <a href="thread.html#1145">[ thread ]</a>
              <a href="subject.html#1145">[ subject ]</a>
              <a href="author.html#1145">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
