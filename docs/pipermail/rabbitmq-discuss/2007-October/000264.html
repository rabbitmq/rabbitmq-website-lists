<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Implementation / Specification Stability?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Implementation%20/%20Specification%20Stability%3F&In-Reply-To=167204d20710190837k17e1501bg363b128bfbd801b3%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000261.html">
   <LINK REL="Next"  HREF="000265.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Implementation / Specification Stability?</H1>
    <B>Landon Fuller</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Implementation%20/%20Specification%20Stability%3F&In-Reply-To=167204d20710190837k17e1501bg363b128bfbd801b3%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Implementation / Specification Stability?">landonf at threerings.net
       </A><BR>
    <I>Sat Oct 20 00:52:34 BST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000261.html">[rabbitmq-discuss] Implementation / Specification Stability?
</A></li>
        <LI>Next message: <A HREF="000265.html">[rabbitmq-discuss] Implementation / Specification Stability?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#264">[ date ]</a>
              <a href="thread.html#264">[ thread ]</a>
              <a href="subject.html#264">[ subject ]</a>
              <a href="author.html#264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Oct 19, 2007, at 8:37 AM, Alexis Richardson wrote:

&gt;<i> Hi Landon
</I>&gt;<i>
</I>&gt;<i> Welcome to the list.  Thanks for your questions and sorry for being
</I>&gt;<i> slow to reply.
</I>
Thanks! That was pretty quick =)

&gt;<i> On 10/19/07, Landon Fuller &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">landonf at threerings.net</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm investigating using AMQP and RabbitMQ as our service
</I>&gt;&gt;<i> infrastructure backbone.
</I>&gt;<i>
</I>&gt;<i> Great!  Please tell us more - several other people have reported
</I>&gt;<i> similar use cases and getting them discussed on this list is an
</I>&gt;<i> excellent way for community members to benefit from each other's ideas
</I>&gt;<i> and work.
</I>
Sure. Hope this isn't too verbose -- I'll throw this out there, with  
the caveat that
this is a rough explanation of my current thinking, I'm sure it's  
both incomplete
and imperfect, and I'd appreciate input.

First, an introduction to our problem space. We write reasonably  
large online
multiplayer games, using Java. All our games implement some variation  
of the &quot;place&quot; model:

	Within the game, there is the notion of a 'place', and your client  
is in it.
	A place could be a room, or a pirate ship, or a 10x10 grid of a larger
	virtual world. Each place is responsible for maintaining its own  
state, and
	allowing clients to permute the state of that place.

	A client may be in several places at once: you could be playing a
	puzzle (place A) while you're also aboard a pirate ship (place B).

In my ideal universe, I view places as a service, instances of which  
can be started on any server
in a cluster. I'd like implementing these services to be as easy as  
possible, with most of the
complexity hidden from the game developer. In some instances, the end- 
user may be a game
developer, and we'll run their code in a javascript sandbox on  
dedicated machines.

I see the following two abstractions as being most valuable for this  
sort of service building:

	- RPC:
		RPC services use a request queue, and per-client response queues.  
Any number of providers
		can attach to the request queue and respond to requests -- that's  
an application level detail.
		Service providers can detach from a queue, and requests simply  
queue up until they can be
		handled again.

		We can dispatch RPC requests to Java (possibly via a reflective  
dispatcher), JavaScript
		(via Rhino), or another server/language entirely.

		Incoming requests can arrive via AMPQ, or external RPC brokers,  
such as services implementing
		XML-RPC, JSON-RPC, Hessian -- etc.

	- Data queue:
		Very simple queue API for providing events/data to the RPC clients.  
An RPC service can place
		data in the queue for client consumption. This can be used to  
provide data to simple polling clients,
		without requiring long-blocking server-side RPC threads. This is  
also a prime candidate for wrapping
		with a HTTP REST interface.

&quot;Place&quot; is only the first step. We also need banking, currency  
exchanges, chat &amp; presence (eg, jabber),
event logging services (for tracking server &amp; user behavior); I'm  
hoping these abstractions are a good
foundation towards building those services out.

The above is actually what I've started working on now. In addition  
to the groundwork , I also expect to
solve issues like handling service lookups / request routing.

&gt;<i> No you are not shooting yourself in the foot at all :-)
</I>&gt;<i>
</I>&gt;<i> We have production users today who (as I understand it) are happy with
</I>&gt;<i> 0-8, and are happy with the upgrade path should they need to follow
</I>&gt;<i> it.
</I>
Thanks for your reply, that provides me with quite a bit more  
confidence.

-landonf
-------------- next part --------------
A non-text attachment was scrubbed...
Name: PGP.sig
Type: application/pgp-signature
Size: 186 bytes
Desc: This is a digitally signed message part
Url : <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20071019/73aef262/attachment.pgp">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20071019/73aef262/attachment.pgp</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000261.html">[rabbitmq-discuss] Implementation / Specification Stability?
</A></li>
	<LI>Next message: <A HREF="000265.html">[rabbitmq-discuss] Implementation / Specification Stability?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#264">[ date ]</a>
              <a href="thread.html#264">[ thread ]</a>
              <a href="subject.html#264">[ subject ]</a>
              <a href="author.html#264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
