<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Shovel stuck?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20stuck%3F&In-Reply-To=%3C502BC0EE.70102%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021893.html">
   <LINK REL="Next"  HREF="021901.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Shovel stuck?</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20stuck%3F&In-Reply-To=%3C502BC0EE.70102%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Shovel stuck?">emile at rabbitmq.com
       </A><BR>
    <I>Wed Aug 15 16:31:58 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021893.html">[rabbitmq-discuss] Shovel stuck?
</A></li>
        <LI>Next message: <A HREF="021901.html">[rabbitmq-discuss] Shovel stuck?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21896">[ date ]</a>
              <a href="thread.html#21896">[ thread ]</a>
              <a href="subject.html#21896">[ subject ]</a>
              <a href="author.html#21896">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Benjamin,


Thanks for this information. Would it be possible for you to run some
commands the next time you detect this condition? Your assistance and
the output from this will help alot to track down the problem.

rabbitmqctl eval 'supervisor2:which_children(rabbit_shovel_sup).'

In the output of this command you will see process identifiers formatted
like &lt;x.y.z&gt; where x, y and z are integers. For each process identifier
&lt;x.y.z&gt; can you also run

rabbitmqctl eval 'erlang:process_info(shell_default:pid(x,y,z)).'

Thanks!


On 15/08/12 15:06, Benjamin Ballard wrote:
&gt;<i> missing to have rabbit shovels to attempt to reconnect even if there
</I>&gt;<i> is a failure during the starting phase of a rabbit shovel. Could i
</I>&gt;<i> just detect the shovel failure and then create a new shovel when the
</I>&gt;<i> first crashes out without restarting all of rabbit?
</I>
You may be able to restart shovel independently by issuing
rabbitmqctl eval 'application:stop(rabbitmq_shovel).'
rabbitmqctl eval 'application:start(rabbitmq_shovel).'



-Emile


</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021893.html">[rabbitmq-discuss] Shovel stuck?
</A></li>
	<LI>Next message: <A HREF="021901.html">[rabbitmq-discuss] Shovel stuck?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21896">[ date ]</a>
              <a href="thread.html#21896">[ thread ]</a>
              <a href="subject.html#21896">[ subject ]</a>
              <a href="author.html#21896">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
