<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Help pinpointing an error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20pinpointing%20an%20error&In-Reply-To=%3C5040A0DE.4020303%40beverlydata.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022201.html">
   <LINK REL="Next"  HREF="022210.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Help pinpointing an error</H1>
    <B>Jaime Herazo B.</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20pinpointing%20an%20error&In-Reply-To=%3C5040A0DE.4020303%40beverlydata.com%3E"
       TITLE="[rabbitmq-discuss] Help pinpointing an error">jherazo at beverlydata.com
       </A><BR>
    <I>Fri Aug 31 12:32:46 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022201.html">[rabbitmq-discuss] Help pinpointing an error
</A></li>
        <LI>Next message: <A HREF="022210.html">[rabbitmq-discuss] Help pinpointing an error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22206">[ date ]</a>
              <a href="thread.html#22206">[ thread ]</a>
              <a href="subject.html#22206">[ subject ]</a>
              <a href="author.html#22206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I just checked on the machine with &quot;rabbitmqctl list_queues name
durable&quot;, and all show &quot;false&quot;. Seems like someone here made a mistake
and forgot to make the queues durable, which was something we all had
assumed. Sorry for the alarm.

Is it possible to change the parameters of the queues and make them
durable without having to make a new one with a different name as
suggested in the Python tutorial?

Also the broker still crashed, so i'm posting the info asked anyway:

* rabbitmq-server 2.8.4-1 on Debian Stable (6.0.3)
* The service crashed, so i did a &quot;service rabbitmq-server restart&quot;.
Naturally, since now we know that the queues are not durable as we
expected, all was lost.
* No HA, no clustering, 2 machines sending information to each other,
and a couple dozen clients consuming the messages put on the queues by
the one that crashed.

And for the logs, here's the pastebin:
<A HREF="http://pastebin.com/FTHGQVPQ">http://pastebin.com/FTHGQVPQ</A>
The sasl log has far more information, but it was almost 1Mb of
information on that crash alone, so initially i'm just pasting this and
if needed i'll just add the other one.

On 31/08/12 12:13, Matthias Radestock wrote:
&gt;<i> On 31/08/12 10:56, Tim Watson wrote:
</I>&gt;&gt;<i> 1. how did your rabbit go down (crashed, accidentally restarted, etc)?
</I>&gt;&gt;<i> 2. exactly what steps did you take to restart it
</I>&gt;&gt;<i> 3. what kind of configuration do you have (is it clustered, any HA
</I>&gt;&gt;<i> queues, etc)
</I>&gt;<i>
</I>&gt;<i> The most important question of all is &quot;What version of rabbit are you
</I>&gt;<i> running?&quot;
</I>&gt;<i>
</I>&gt;<i> We fixed numerous bugs in the persister, but that was a long time ago
</I>&gt;<i> and we have not seen any problem reports since.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022201.html">[rabbitmq-discuss] Help pinpointing an error
</A></li>
	<LI>Next message: <A HREF="022210.html">[rabbitmq-discuss] Help pinpointing an error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22206">[ date ]</a>
              <a href="thread.html#22206">[ thread ]</a>
              <a href="subject.html#22206">[ subject ]</a>
              <a href="author.html#22206">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
