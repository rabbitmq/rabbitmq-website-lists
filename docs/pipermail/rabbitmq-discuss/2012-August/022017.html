<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How many queues can one broker support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20many%20queues%20can%20one%20broker%20support&In-Reply-To=%3C1345559275707-21539.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022011.html">
   <LINK REL="Next"  HREF="022022.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How many queues can one broker support</H1>
    <B>sharonbn</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20many%20queues%20can%20one%20broker%20support&In-Reply-To=%3C1345559275707-21539.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] How many queues can one broker support">Sharon.Ben-Asher at AVG.com
       </A><BR>
    <I>Tue Aug 21 15:27:55 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022011.html">[rabbitmq-discuss] Per-Connection Flow Control -- The Verdict
</A></li>
        <LI>Next message: <A HREF="022022.html">[rabbitmq-discuss] How many queues can one broker support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22017">[ date ]</a>
              <a href="thread.html#22017">[ thread ]</a>
              <a href="subject.html#22017">[ subject ]</a>
              <a href="author.html#22017">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I am investigating using RabbitMQ and AMQP to push notifications from our
web app to client apps on Android devices.

In our case, we have few publishers and many consumers (millions, perhaps
~10M), all connected to the broker and ready to consume messages.
every now and then, the publisher needs to send one message to one and only
one consumer.
each consumer will receive few dozens of messages daily. Message
acknowledgements is not mandatory.
btw, the broker (or cluster?) will be hosted on AWS EC2 instances.

I was wondering if there are any limitations on number of connected
consumers and what's the best strategy to implement such a scenario.  From
the documentation, it seems to me there are two ways to do this:

first of all, each client app already reports a unique identifier to the web
app (this is done prior to any message sending).  this unique id, known on
both sides, can be used to ensure routing of the message to the specific
client.

1) The most obvious way is to have one direct-exchange and create an
exclusive queue per consumer with the unique id as the queue name.  this
means there will be millions of queues that are most of the time empty or
nearly empty.

2) Have one topic-exchange with (how many?) queues.  the unique id will be
used as topic name.  Here we have millions of topic names.

which is the best solutions (or perhaps a third option)?  any other
considerations in this use case?  any special configuration/settings? any
help is appreciated :)

thanks,

Sharon.



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/How-many-queues-can-one-broker-support-tp21539.html">http://rabbitmq.1065348.n5.nabble.com/How-many-queues-can-one-broker-support-tp21539.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022011.html">[rabbitmq-discuss] Per-Connection Flow Control -- The Verdict
</A></li>
	<LI>Next message: <A HREF="022022.html">[rabbitmq-discuss] How many queues can one broker support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22017">[ date ]</a>
              <a href="thread.html#22017">[ thread ]</a>
              <a href="subject.html#22017">[ subject ]</a>
              <a href="author.html#22017">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
