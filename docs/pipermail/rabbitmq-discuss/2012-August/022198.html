<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Help pinpointing an error
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20pinpointing%20an%20error&In-Reply-To=%3C50408550.8070801%40beverlydata.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022193.html">
   <LINK REL="Next"  HREF="022200.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Help pinpointing an error</H1>
    <B>Jaime Herazo B.</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20pinpointing%20an%20error&In-Reply-To=%3C50408550.8070801%40beverlydata.com%3E"
       TITLE="[rabbitmq-discuss] Help pinpointing an error">jherazo at beverlydata.com
       </A><BR>
    <I>Fri Aug 31 10:35:12 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022193.html">[rabbitmq-discuss] RabbitMQ clustering woes
</A></li>
        <LI>Next message: <A HREF="022200.html">[rabbitmq-discuss] Help pinpointing an error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22198">[ date ]</a>
              <a href="thread.html#22198">[ thread ]</a>
              <a href="subject.html#22198">[ subject ]</a>
              <a href="author.html#22198">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.

I'm new to RabbitMQ and the whole messaging platforms world in general.
I'm working with this Rabbit setup already in place as part of my
sysadmin duties. There's other people who are the ones that really know
about it, but in general i have to take care of the servers.

Today a rabbit instance went down. I restarted the service only to be
greeted by screams as apparently many messages were lost in the process
(as far as i understood, once queues were marked as &quot;Durable&quot; this
couldn't happen, but it happened).

The &quot;Reason for termination&quot; was:

{{badmatch,[{file_summary,2064936,4810835,2064935,2064937,16780759,true,1}]},                                                                                                             
 [
  {rabbit_msg_store,combine_files,3},
  {rabbit_msg_store_gc,attempt_action,3},
  {rabbit_msg_store_gc,handle_cast,2},
  {gen_server2,handle_msg,2},
  {proc_lib,wake_up,3}
 ]
}

I'm having trouble even identifying what does this mean, let alone
preventing it from happening again. It started just fine, so it was
probably a transient error, but the fact that it took with it all the
messages in the queue is troubling.

Can you please point me towards more resources to handle these kinds of
problems in the future that don't involve loss of data? What did i do
wrong?

Also, do you see a hint of what went wrong there, or do i need to give
more info for this?

Thanks for any help or hints.

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022193.html">[rabbitmq-discuss] RabbitMQ clustering woes
</A></li>
	<LI>Next message: <A HREF="022200.html">[rabbitmq-discuss] Help pinpointing an error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22198">[ date ]</a>
              <a href="thread.html#22198">[ thread ]</a>
              <a href="subject.html#22198">[ subject ]</a>
              <a href="author.html#22198">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
