<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Topic exchange erlang client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Topic%20exchange%20erlang%20client&In-Reply-To=%3Cd1f077ec-e9cd-48c1-9e75-4c63e26e6bec%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022151.html">
   <LINK REL="Next"  HREF="022182.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Topic exchange erlang client</H1>
    <B>Andrey Kolchanov</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Topic%20exchange%20erlang%20client&In-Reply-To=%3Cd1f077ec-e9cd-48c1-9e75-4c63e26e6bec%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Topic exchange erlang client">kolchanov at gmail.com
       </A><BR>
    <I>Tue Aug 28 11:57:40 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022151.html">[rabbitmq-discuss] Shovel restart command hanging
</A></li>
        <LI>Next message: <A HREF="022182.html">[rabbitmq-discuss] Topic exchange erlang client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22181">[ date ]</a>
              <a href="thread.html#22181">[ thread ]</a>
              <a href="subject.html#22181">[ subject ]</a>
              <a href="author.html#22181">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I have a topic exchange in my test environment.
I've add some binding to this exchange in web management console.When I 
publish a test message with proper routing key via web management console 
this message successfully delivered to desired queue.
I'm trying to publish message through erlang client, but message is not 
delivering to queue. 
What is wrong with my code:

ExchangeName = &lt;&lt;&quot;custom.topic&quot;&gt;&gt;,   
ExchangeType = &lt;&lt;&quot;topic&quot;&gt;&gt;,  
Key = &lt;&lt;&quot;K&quot;&gt;&gt;,
Msg = &lt;&lt;&quot;123&quot;&gt;&gt;,
{ok, Connection} = amqp_connection:start
    (#amqp_params_network{username = &lt;&lt;&quot;guest&quot;&gt;&gt;, password = &lt;&lt;&quot;guest&quot;&gt;&gt;, host = &quot;192.168.1.1&quot;}),
{ok, Channel} = amqp_connection:open_channel(Connection),
#'exchange.declare_ok'{} = 
    amqp_channel:call(Channel, #'exchange.declare'{exchange=ExchangeName, durable=true, type = ExchangeType}), 

ok = amqp_channel:call(Channel, #'basic.publish'{routing_key = Key}, 
#amqp_msg{props = #'P_basic'{delivery_mode=2}, payload = Msg}) .
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120828/b9a74e5e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120828/b9a74e5e/attachment.htm</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022151.html">[rabbitmq-discuss] Shovel restart command hanging
</A></li>
	<LI>Next message: <A HREF="022182.html">[rabbitmq-discuss] Topic exchange erlang client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22181">[ date ]</a>
              <a href="thread.html#22181">[ thread ]</a>
              <a href="subject.html#22181">[ subject ]</a>
              <a href="author.html#22181">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
