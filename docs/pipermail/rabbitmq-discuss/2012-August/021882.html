<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Monitoring
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Monitoring&In-Reply-To=%3C502B8986.5040800%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021823.html">
   <LINK REL="Next"  HREF="021827.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Monitoring</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Monitoring&In-Reply-To=%3C502B8986.5040800%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Monitoring">simon at rabbitmq.com
       </A><BR>
    <I>Wed Aug 15 12:35:34 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021823.html">[rabbitmq-discuss] RabbitMQ Monitoring
</A></li>
        <LI>Next message: <A HREF="021827.html">[rabbitmq-discuss] Timeout for hung connection on rabbitmq server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21882">[ date ]</a>
              <a href="thread.html#21882">[ thread ]</a>
              <a href="subject.html#21882">[ subject ]</a>
              <a href="author.html#21882">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/08/12 12:29, Lionel Cons wrote:
&gt;<i> David Gillies&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dgillies at brandscreen.com</A>&gt;  writes:
</I>&gt;&gt;<i> I've used this script to monitor the number of messages in a queue in nagios just last week:
</I>&gt;&gt;<i> <A HREF="http://bitkickers.blogspot.com.au/2011/07/checking-rabbitmq-queue-sizeage-with.html">http://bitkickers.blogspot.com.au/2011/07/checking-rabbitmq-queue-sizeage-with.html</A>
</I>&gt;<i>
</I>&gt;<i> Thanks for the pointer.
</I>&gt;<i>
</I>&gt;<i> The monitoring information being mostly present, the main questions are:
</I>&gt;<i>
</I>&gt;<i> Would it be possible to get an absolute counter rather than a rate and
</I>&gt;<i> let the monitoring application (Nagios, Graphite...) decide on how
</I>&gt;<i> frequently to probe the broker?
</I>
You can sort of do this today, the HTTP API returns an absolute count - 
but only for the sum of all channels that are still open. Fixing this is 
a TODO for the next time I look seriously at management stats 
(seriously, mgmt has existed for two years now and we still don't have 
little animated charts?)

It's worth pointing out though that probing the broker is cheap; it 
maintains all these stats in memory anyway.

&gt;<i> Would it be possible to get the number of received/sent messages by the
</I>&gt;<i> broker without enabling fine grain statistics that, according to the
</I>&gt;<i> doc, have a significant performance impact? After all, total numbers per
</I>&gt;<i> broker are not really fine grain ;-)
</I>
Well they are, if they are obtained by summing per channel ;-)

Maybe the docs are a bit misleading though, while there is a cost to 
fine grained stats, you'll only see it if you're routing-bound anyway 
(i.e. lots of small transient messages).

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021823.html">[rabbitmq-discuss] RabbitMQ Monitoring
</A></li>
	<LI>Next message: <A HREF="021827.html">[rabbitmq-discuss] Timeout for hung connection on rabbitmq server?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21882">[ date ]</a>
              <a href="thread.html#21882">[ thread ]</a>
              <a href="subject.html#21882">[ subject ]</a>
              <a href="author.html#21882">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
