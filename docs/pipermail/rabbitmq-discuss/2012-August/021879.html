<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Optimizing RabbitMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Optimizing%20RabbitMQ&In-Reply-To=%3C502B82E4.8010607%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021873.html">
   <LINK REL="Next"  HREF="021880.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Optimizing RabbitMQ</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Optimizing%20RabbitMQ&In-Reply-To=%3C502B82E4.8010607%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Optimizing RabbitMQ">emile at rabbitmq.com
       </A><BR>
    <I>Wed Aug 15 12:07:16 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021873.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
        <LI>Next message: <A HREF="021880.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21879">[ date ]</a>
              <a href="thread.html#21879">[ thread ]</a>
              <a href="subject.html#21879">[ subject ]</a>
              <a href="author.html#21879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

On 14/08/12 21:32, Tom Wrigg wrote:
&gt;<i> Is there a way to turn off acknowledgements? would this make things faster?
</I>
Yes, you can consume in auto-ack mode. Or you can impact performance
much less and get the advantages of acknowledgements if you acknowledge
messages in batches.

&gt;<i> Are there any other methods I could use to increase speed/ reduce latency?
</I>
Here are some suggestions, which you should benchmark with your own
workload.


Use a larger prefetch count. Small values hurt performance.

A topic exchange is slower than a direct or a fanout exchange.

Make sure queues stay short. Longer queues impose more processing overhead.

If you care about latency and message rates then use smaller messages.
Use an efficient format (e.g. avoid XML) or compress the payload.

Experiment with HiPE, which helps performance.

Avoid transactions and persistence. Also avoid publishing in immediate
or mandatory mode. Avoid HA. Clustering can also impact performance.

You will achieve better throughput on a multi-core system if you have
multiple queues and consumers.

Use at least v2.8.1, which introduces flow control. Make sure the memory
and disk space alarms never trigger.

Virtualisation can impose a small performance penalty.

Tune your OS and network stack. Make sure you provide more than enough
RAM. Provide fast cores and RAM.

---

You may also want to look at the blog entries that pertain to performance:

<A HREF="http://www.rabbitmq.com/blog/tag/performance/">http://www.rabbitmq.com/blog/tag/performance/</A>




-Emile


</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021873.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
	<LI>Next message: <A HREF="021880.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21879">[ date ]</a>
              <a href="thread.html#21879">[ thread ]</a>
              <a href="subject.html#21879">[ subject ]</a>
              <a href="author.html#21879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
