<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Optimizing RabbitMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Optimizing%20RabbitMQ&In-Reply-To=%3C502B8588.8010300%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021879.html">
   <LINK REL="Next"  HREF="021889.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Optimizing RabbitMQ</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Optimizing%20RabbitMQ&In-Reply-To=%3C502B8588.8010300%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Optimizing RabbitMQ">matthias at rabbitmq.com
       </A><BR>
    <I>Wed Aug 15 12:18:32 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021879.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
        <LI>Next message: <A HREF="021889.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21880">[ date ]</a>
              <a href="thread.html#21880">[ thread ]</a>
              <a href="subject.html#21880">[ subject ]</a>
              <a href="author.html#21880">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>To,

On 15/08/12 12:07, Emile Joubert wrote:
&gt;<i> On 14/08/12 21:32, Tom Wrigg wrote:
</I>&gt;&gt;<i> Is there a way to turn off acknowledgements? would this make things faster?
</I>&gt;<i>
</I>&gt;<i> Yes, you can consume in auto-ack mode. Or you can impact performance
</I>&gt;<i> much less and get the advantages of acknowledgements if you acknowledge
</I>&gt;<i> messages in batches.
</I>&gt;<i>
</I>&gt;&gt;<i> Are there any other methods I could use to increase speed/ reduce latency?
</I>&gt;<i>
</I>&gt;<i> Here are some suggestions, which you should benchmark with your own
</I>&gt;<i> workload.
</I>&gt;<i> [snip]
</I>
Actually, if you are seeing 40ms latency it is very, very unlikely that 
the RabbitMQ broker is responsible for most of that.

&gt;&gt;<i> Game Logic server ---&gt; AMQP topic exchange ---&gt; websockets ---&gt; web-browser.
</I>
So is the 40ms the time it takes for a message to travel from the game 
logic server to the web browser? If so I suggest you measure the latency 
at each step. It could easily be that the bulk of the 40ms is simply 
network latency between your node instance and the web browser, or 
between node and the broker. Or it could be that node/node-amqp are slow.

&gt;<i> Why is it taking so long to route a message? I've read of servers
</I>&gt;<i> doing 12,000+ messages per second.
</I>
A lot more than that, actually - see 
<A HREF="http://www.rabbitmq.com/blog/2012/04/25/rabbitmq-performance-measurements-part-2/.">http://www.rabbitmq.com/blog/2012/04/25/rabbitmq-performance-measurements-part-2/.</A> 
However, you are confusing latency with throughput. High throughput is 
still possible in situations when there is high latency, as long as 
synchronous operations are avoided. High prefetch limits or even using 
no-ack are one way to achieve that on the consuming side.

Regards,

Matthias.
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021879.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
	<LI>Next message: <A HREF="021889.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21880">[ date ]</a>
              <a href="thread.html#21880">[ thread ]</a>
              <a href="subject.html#21880">[ subject ]</a>
              <a href="author.html#21880">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
