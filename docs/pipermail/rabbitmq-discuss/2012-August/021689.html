<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] .NET ssl_upgrade_failure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20ssl_upgrade_failure&In-Reply-To=%3C72023458-80D5-4817-A2C8-D48671AF3702%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021682.html">
   <LINK REL="Next"  HREF="021705.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] .NET ssl_upgrade_failure</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20ssl_upgrade_failure&In-Reply-To=%3C72023458-80D5-4817-A2C8-D48671AF3702%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] .NET ssl_upgrade_failure">watson.timothy at gmail.com
       </A><BR>
    <I>Fri Aug  3 06:53:43 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021682.html">[rabbitmq-discuss] .NET ssl_upgrade_failure
</A></li>
        <LI>Next message: <A HREF="021705.html">[rabbitmq-discuss] .NET ssl_upgrade_failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21689">[ date ]</a>
              <a href="thread.html#21689">[ thread ]</a>
              <a href="subject.html#21689">[ subject ]</a>
              <a href="author.html#21689">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for posting back the solution Mark. Where was the GUI certmgr putting the cert then?

On 2 Aug 2012, at 19:59, Mark Ward &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ward.mark at gmail.com</A>&gt; wrote:

&gt;<i> Solution,
</I>&gt;<i> 
</I>&gt;<i> It appears the best instructions to use are the command line certmgr for each Windows/Mono platform.  It seems using the gui certmgr I did not register the ca certificate into the proper location for the applications to find it.  Mono came the closest to give me an indication this was the problem.  The .net version of the client failed out with an exception that had me, as you can see from this thread, on a wild hunt for the problem.
</I>&gt;<i> 
</I>&gt;<i> I used the command line certmgr and inserted the ca certificate into the machine certificate store.  Things appear to be working with SSL.
</I>&gt;<i> 
</I>&gt;<i> I thank you guys for your assistance and I am sorry to have taken your time on this issue.
</I>&gt;<i> 
</I>&gt;<i> -Mark
</I>&gt;<i> 
</I>&gt;<i> On Monday, July 30, 2012 1:06:19 PM UTC-5, Mark Ward wrote:
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I might have the same problem as this post.  <A HREF="https://groups.google.com/forum/?fromgroups#!searchin/rabbitmq-discuss/ssl_upgrade_failure/rabbitmq-discuss/-hCUUIzi_9c/Pg6UQ3Lo1kMJ">https://groups.google.com/forum/?fromgroups#!searchin/rabbitmq-discuss/ssl_upgrade_failure/rabbitmq-discuss/-hCUUIzi_9c/Pg6UQ3Lo1kMJ</A>
</I>&gt;<i> 
</I>&gt;<i> The setup
</I>&gt;<i> Windows 2008r2
</I>&gt;<i> rabbitmq server 2.8.4 
</I>&gt;<i> Erlang R15B01
</I>&gt;<i> 
</I>&gt;<i> .NET 4.0
</I>&gt;<i> RabbitMQ client 2.8.4 (installed from NuGet)
</I>&gt;<i> 
</I>&gt;<i> When I run my test .NET publisher I get the following exception &quot;None of the specified endpoints were reachable&quot;.
</I>&gt;<i> 
</I>&gt;<i> I have gone through the SSL setup tutorial and I am stumped on why the .NET client cannot connect or even fail out with an SSL trust exception.
</I>&gt;<i> I have tested the connection to the server over SSL with the following tools. openssl s_client and the Java example.  The openssl and the java client connect and work.  It is the .NET client that I cannot get working and it is the one I need to have working.
</I>&gt;<i> 
</I>&gt;<i> I have setup my rabbitmq server to run the ssl over port 443 on my server.  This you will find in my log output and I have specified in each of my clients.
</I>&gt;<i> 
</I>&gt;<i> The following is the C# client that I am trying to connect and publish data into rabbitmq.  The client works when I am not attempting a SSL connection.
</I>&gt;<i> 
</I>&gt;<i> using System;
</I>&gt;<i> using System.Collections.Generic;
</I>&gt;<i> using System.Linq;
</I>&gt;<i> using System.Text;
</I>&gt;<i> using RabbitMQ.Client;
</I>&gt;<i> 
</I>&gt;<i> namespace ProducerOne
</I>&gt;<i> {
</I>&gt;<i>     class Program
</I>&gt;<i>     {
</I>&gt;<i>         static void Main(string[] args)
</I>&gt;<i>         {
</I>&gt;<i>             string hostName = &quot;riooverlord-1&quot;;
</I>&gt;<i>             int port = 443;
</I>&gt;<i> 
</I>&gt;<i>             int count;
</I>&gt;<i>             if (args != null &amp;&amp; args.Length == 1)
</I>&gt;<i>                 count = int.Parse(args[0]);
</I>&gt;<i>             else
</I>&gt;<i>                 count = 1;
</I>&gt;<i> 
</I>&gt;<i>             var connectionFactory = new ConnectionFactory();
</I>&gt;<i>             connectionFactory.HostName = hostName;
</I>&gt;<i>             connectionFactory.Port = port;
</I>&gt;<i>             connectionFactory.Ssl.Enabled = true;
</I>&gt;<i>             connectionFactory.Ssl.AcceptablePolicyErrors = System.Net.Security.SslPolicyErrors.None;
</I>&gt;<i>             
</I>&gt;<i>             IConnection connection = connectionFactory.CreateConnection(); 
</I>&gt;<i>             
</I>&gt;<i>             IModel channel = connection.CreateModel();
</I>&gt;<i> 
</I>&gt;<i>             for (int i = 0; i &lt; count; i++)
</I>&gt;<i>             {
</I>&gt;<i>                 byte[] message = Encoding.UTF8.GetBytes(string.Format(&quot;message {0} - {1}&quot;, i.ToString(), DateTime.Now.ToString()));
</I>&gt;<i>                 channel.BasicPublish(string.Empty, &quot;QueueOne&quot;, null, message);
</I>&gt;<i>             }
</I>&gt;<i> 
</I>&gt;<i>             channel.Close(); 
</I>&gt;<i>             connection.Close();
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> The following is a dump of my rabbitMQ log file.  I have grouped the log lines between xml like tags to group the different client attempts.  openssl, java, and .NET
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:01 ===
</I>&gt;<i> Limiting to approx 924 file handles (829 sockets)
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:01 ===
</I>&gt;<i> Memory limit set to 409MB of 1023MB total.
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:03 ===
</I>&gt;<i> Disk free limit set to 953MB
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:04 ===
</I>&gt;<i> Management plugin upgraded statistics to fine.
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:04 ===
</I>&gt;<i> msg_store_transient: using rabbit_msg_store_ets_index to provide index
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:04 ===
</I>&gt;<i> msg_store_persistent: using rabbit_msg_store_ets_index to provide index
</I>&gt;<i> 
</I>&gt;<i> =WARNING REPORT==== 30-Jul-2012::11:28:04 ===
</I>&gt;<i> msg_store_persistent: rebuilding indices from scratch
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:04 ===
</I>&gt;<i> started TCP Listener on [::]:5672
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:05 ===
</I>&gt;<i> started TCP Listener on 0.0.0.0:5672
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:06 ===
</I>&gt;<i> started SSL Listener on [::]:443
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:06 ===
</I>&gt;<i> started SSL Listener on 0.0.0.0:443
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:07 ===
</I>&gt;<i> Management agent started.
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:08 ===
</I>&gt;<i> Management plugin started. Port: 55672, path: /
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::11:28:08 ===
</I>&gt;<i> Statistics database started.
</I>&gt;<i> 
</I>&gt;<i> &lt;openssl s_client test&gt;
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::12:08:46 ===
</I>&gt;<i> accepting AMQP connection &lt;0.19749.0&gt; (192.168.10.157:53209 -&gt; 192.168.10.107:443)
</I>&gt;<i> 
</I>&gt;<i> =ERROR REPORT==== 30-Jul-2012::12:08:56 ===
</I>&gt;<i> closing AMQP connection &lt;0.19749.0&gt; (192.168.10.157:53209 -&gt; 192.168.10.107:443):
</I>&gt;<i> {handshake_timeout,handshake}
</I>&gt;<i> &lt;/openssl s_client test&gt; 
</I>&gt;<i> 
</I>&gt;<i> &lt;java client&gt;
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::12:30:58 ===
</I>&gt;<i> accepting AMQP connection &lt;0.30363.0&gt; (192.168.10.157:53426 -&gt; 192.168.10.107:443)
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::12:30:59 ===
</I>&gt;<i> closing AMQP connection &lt;0.30363.0&gt; (192.168.10.157:53426 -&gt; 192.168.10.107:443)
</I>&gt;<i> &lt;/java client&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;java client&gt;
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::12:32:17 ===
</I>&gt;<i> accepting AMQP connection &lt;0.31021.0&gt; (192.168.10.157:53436 -&gt; 192.168.10.107:443)
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::12:32:18 ===
</I>&gt;<i> closing AMQP connection &lt;0.31021.0&gt; (192.168.10.157:53436 -&gt; 192.168.10.107:443)
</I>&gt;<i> &lt;/java client&gt;
</I>&gt;<i> 
</I>&gt;<i> &lt;.net&gt;
</I>&gt;<i> =INFO REPORT==== 30-Jul-2012::12:33:01 ===
</I>&gt;<i> accepting AMQP connection &lt;0.31385.0&gt; ([FE80::9CF9:E6C8:AAA2:E95E]:57009 -&gt; [FE80::DC90:8492:EDEA:F29F]:443)
</I>&gt;<i> 
</I>&gt;<i> =ERROR REPORT==== 30-Jul-2012::12:33:01 ===
</I>&gt;<i> ** State machine &lt;0.31386.0&gt; terminating 
</I>&gt;<i> ** Last message in was {tcp,#Port&lt;0.8637&gt;,
</I>&gt;<i>                             &lt;&lt;21,3,0,0,2,1,41,22,3,0,1,4,16,0,1,0,37,221,141,
</I>&gt;<i>                               253,17,32,217,19,107,158,219,100,18,72,74,101,
</I>&gt;<i>                               84,128,197,33,49,0,114,104,195,15,49,53,77,36,
</I>&gt;<i>                               199,164,103,80,172,225,140,196,41,237,52,94,192,
</I>&gt;<i>                               237,8,8,60,9,59,19,181,87,174,84,219,50,35,22,
</I>&gt;<i>                               84,239,236,14,94,95,81,214,243,162,206,220,188,
</I>&gt;<i>                               94,158,6,115,212,126,162,103,173,87,166,4,48,53,
</I>&gt;<i>                               50,150,185,97,176,225,0,73,247,114,66,191,88,
</I>&gt;<i>                               143,29,252,2,155,92,204,233,244,199,52,122,55,
</I>&gt;<i>                               130,100,70,122,145,184,131,116,118,196,2,179,50,
</I>&gt;<i>                               61,68,124,192,145,169,147,42,49,126,32,69,25,36,
</I>&gt;<i>                               57,217,75,204,54,156,34,217,117,139,164,114,118,
</I>&gt;<i>                               251,62,106,242,208,111,184,117,189,71,224,239,
</I>&gt;<i>                               20,92,253,137,74,191,110,114,95,129,206,58,78,
</I>&gt;<i>                               141,136,190,206,53,7,146,104,216,241,137,28,137,
</I>&gt;<i>                               20,133,25,240,230,127,70,254,228,162,130,190,53,
</I>&gt;<i>                               250,227,136,156,71,192,142,184,51,124,86,203,
</I>&gt;<i>                               108,235,25,32,235,83,144,185,184,208,190,238,
</I>&gt;<i>                               133,1,253,184,101,162,231,40,109,144,35,218,161,
</I>&gt;<i>                               26,4,87,13,117,249,60,35,117,112,213,236,163,18,
</I>&gt;<i>                               128,61,187,20,3,0,0,1,1,22,3,0,0,60,186,95,216,
</I>&gt;<i>                               229,210,105,198,105,85,45,183,110,174,206,104,
</I>&gt;<i>                               133,35,254,108,108,57,13,137,138,151,100,178,23,
</I>&gt;<i>                               189,147,85,254,17,117,168,182,255,204,234,195,6,
</I>&gt;<i>                               0,248,93,238,47,172,80,5,153,138,161,91,231,83,
</I>&gt;<i>                               251,42,192,80,179&gt;&gt;}
</I>&gt;<i> ** When State == certify
</I>&gt;<i> **      Data  == {state,server,
</I>&gt;<i>                      {#Ref&lt;0.0.0.50272&gt;,&lt;0.31385.0&gt;},
</I>&gt;<i>                      gen_tcp,tcp,tcp_closed,tcp_error,&quot;localhost&quot;,443,
</I>&gt;<i>                      #Port&lt;0.8637&gt;,
</I>&gt;<i>                      {ssl_options,[],verify_peer,
</I>&gt;<i>                          {#Fun&lt;ssl.3.54384637&gt;,
</I>&gt;<i>                           #Fun&lt;rabbit_networking.0.89858908&gt;},
</I>&gt;<i>                          false,false,undefined,1,
</I>&gt;<i>                          &quot;C:/certstore/server/cert.pem&quot;,undefined,
</I>&gt;<i>                          &quot;C:/certstore/server/key.pem&quot;,undefined,undefined,
</I>&gt;<i>                          undefined,&quot;C:/certstore/testca/cacert.pem&quot;,undefined,
</I>&gt;<i>                          undefined,
</I>&gt;<i>                          [&lt;&lt;0,57&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,56&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,53&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,22&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,19&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,10&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,51&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,50&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,47&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,5&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,4&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,21&gt;&gt;,
</I>&gt;<i>                           &lt;&lt;0,9&gt;&gt;],
</I>&gt;<i>                          #Fun&lt;ssl.0.54384637&gt;,true,268435456,false,[],
</I>&gt;<i>                          undefined,false},
</I>&gt;<i>                      {socket_options,binary,0,0,0,false},
</I>&gt;<i>                      {connection_states,
</I>&gt;<i>                          {connection_state,
</I>&gt;<i>                              {security_parameters,
</I>&gt;<i>                                  &lt;&lt;0,0&gt;&gt;,
</I>&gt;<i>                                  0,0,0,0,0,0,0,0,0,0,undefined,undefined,
</I>&gt;<i>                                  undefined,undefined},
</I>&gt;<i>                              undefined,undefined,undefined,1,true,undefined,
</I>&gt;<i>                              undefined},
</I>&gt;<i>                          {connection_state,
</I>&gt;<i>                              {security_parameters,
</I>&gt;<i>                                  &lt;&lt;0,5&gt;&gt;,
</I>&gt;<i>                                  0,1,0,0,128,16,16,2,20,0,undefined,
</I>&gt;<i>                                  &lt;&lt;80,22,197,78,29,58,72,186,12,107,61,151,17,
</I>&gt;<i>                                    177,209,163,174,99,56,24,71,199,106,49,91,
</I>&gt;<i>                                    186,189,199,117,68,234,215&gt;&gt;,
</I>&gt;<i>                                  &lt;&lt;80,22,197,77,73,19,16,200,132,120,47,224,
</I>&gt;<i>                                    160,79,3,106,44,134,25,30,170,200,151,96,89,
</I>&gt;<i>                                    3,64,53,236,247,30,107&gt;&gt;,
</I>&gt;<i>                                  undefined},
</I>&gt;<i>                              undefined,undefined,undefined,undefined,true,
</I>&gt;<i>                              undefined,undefined},
</I>&gt;<i>                          {connection_state,
</I>&gt;<i>                              {security_parameters,
</I>&gt;<i>                                  &lt;&lt;0,0&gt;&gt;,
</I>&gt;<i>                                  0,0,0,0,0,0,0,0,0,0,undefined,undefined,
</I>&gt;<i>                                  undefined,undefined},
</I>&gt;<i>                              undefined,undefined,undefined,4,true,undefined,
</I>&gt;<i>                              undefined},
</I>&gt;<i>                          {connection_state,
</I>&gt;<i>                              {security_parameters,
</I>&gt;<i>                                  &lt;&lt;0,5&gt;&gt;,
</I>&gt;<i>                                  0,1,0,0,128,16,16,2,20,0,undefined,
</I>&gt;<i>                                  &lt;&lt;80,22,197,78,29,58,72,186,12,107,61,151,17,
</I>&gt;<i>                                    177,209,163,174,99,56,24,71,199,106,49,91,
</I>&gt;<i>                                    186,189,199,117,68,234,215&gt;&gt;,
</I>&gt;<i>                                  &lt;&lt;80,22,197,77,73,19,16,200,132,120,47,224,
</I>&gt;<i>                                    160,79,3,106,44,134,25,30,170,200,151,96,89,
</I>&gt;<i>                                    3,64,53,236,247,30,107&gt;&gt;,
</I>&gt;<i>                                  undefined},
</I>&gt;<i>                              undefined,undefined,undefined,undefined,true,
</I>&gt;<i>                              undefined,undefined}},
</I>&gt;<i>                      [],&lt;&lt;&gt;&gt;,&lt;&lt;&gt;&gt;,
</I>&gt;<i>                      {{&lt;&lt;107,195,247,68,168,208,252,17,160,186,113,157,135,198,
</I>&gt;<i>                          182,188,80,51,0,0,0,0,0,0,24,54,90,252,231,192,148,13,
</I>&gt;<i>                          0,0,27,1,1,0,23,0,21,48,19,49,17,48,15,6,3,85,4,3,19,
</I>&gt;<i>                          8,77,121,84,101,115,116,67,65,14,0,0,0,0,0,0,0,0,0,0,
</I>&gt;<i>                          0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,0,0,0&gt;&gt;,
</I>&gt;<i>                        &lt;&lt;164,73,160,132,230,249,118,68,17,25,226,99,197,97,
</I>&gt;<i>                          124,157,16,251,186,197,80,51,0,0,0,0,0,0,24,54,90,
</I>&gt;<i>                          252,231,192,148,13,0,0,27,1,1,0,23,0,21,48,19,49,17,
</I>&gt;<i>                          48,15,6,3,85,4,3,19,8,77,121,84,101,115,116,67,65,14,
</I>&gt;<i>                          0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,
</I>&gt;<i>                          0,0,0&gt;&gt;},
</I>&gt;<i>                       {&lt;&lt;107,195,247,68,168,208,252,17,160,186,113,157,135,198,
</I>&gt;<i>                          182,188,48,51,0,0,0,0,0,0,24,54,90,252,231,192,148,13,
</I>&gt;<i>                          0,0,27,1,1,0,23,0,21,48,19,49,17,48,15,6,3,85,4,3,19,
</I>&gt;<i>                          8,77,121,84,101,115,116,67,65,0,0,0,0,0,0,0,0,0,0,0,0,
</I>&gt;<i>                          0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,0,0&gt;&gt;,
</I>&gt;<i>                        &lt;&lt;164,73,160,132,230,249,118,68,17,25,226,99,197,97,
</I>&gt;<i>                          124,157,16,251,186,197,48,51,0,0,0,0,0,0,24,54,90,
</I>&gt;<i>                          252,231,192,148,13,0,0,27,1,1,0,23,0,21,48,19,49,17,
</I>&gt;<i>                          48,15,6,3,85,4,3,19,8,77,121,84,101,115,116,67,65,0,
</I>&gt;<i>                          0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
</I>&gt;<i>                          38,0,0,0&gt;&gt;}},
</I>&gt;<i>                      [],262221,
</I>&gt;<i>                      {session,
</I>&gt;<i>                          &lt;&lt;32,144,115,251,110,148,117,72,252,193,200,232,234,
</I>&gt;<i>                            193,127,229,114,142,20,246,109,56,190,101,113,75,
</I>&gt;<i>                            232,227,237,6,105,251&gt;&gt;,
</I>&gt;<i>                          undefined,
</I>&gt;<i>                          &lt;&lt;48,130,2,230,48,130,1,206,160,3,2,1,2,2,1,1,48,13,6,
</I>&gt;<i>                            9,42,134,72,134,247,13,1,1,5,5,0,48,19,49,17,48,15,
</I>&gt;<i>                            6,3,85,4,3,19,8,77,121,84,101,115,116,67,65,48,30,
</I>&gt;<i>                            23,13,49,50,48,55,51,48,49,50,53,54,52,54,90,23,13,
</I>&gt;<i>                            49,51,48,55,51,48,49,50,53,54,52,54,90,48,41,49,22,
</I>&gt;<i>                            48,20,6,3,85,4,3,12,13,114,105,111,111,118,101,114,
</I>&gt;<i>                            108,111,114,100,45,49,49,15,48,13,6,3,85,4,10,12,6,
</I>&gt;<i>                            115,101,114,118,101,114,48,130,1,34,48,13,6,9,42,
</I>&gt;<i>                            134,72,134,247,13,1,1,1,5,0,3,130,1,15,0,48,130,1,
</I>&gt;<i>                            10,2,130,1,1,0,163,99,255,119,11,217,190,17,106,102,
</I>&gt;<i>                            242,229,252,214,101,34,15,190,61,32,23,69,175,49,
</I>&gt;<i>                            141,78,38,16,202,80,88,96,12,88,193,17,57,226,60,
</I>&gt;<i>                            106,35,93,184,216,167,217,0,102,117,69,97,209,60,27,
</I>&gt;<i>                            104,157,167,92,224,120,142,28,102,218,176,245,195,
</I>&gt;<i>                            212,83,251,182,49,60,172,62,12,51,164,181,246,88,
</I>&gt;<i>                            136,122,208,186,96,220,62,57,137,103,4,26,67,30,132,
</I>&gt;<i>                            246,62,142,238,140,226,125,194,135,210,234,107,18,
</I>&gt;<i>                            128,76,113,52,34,199,134,34,140,80,84,35,205,142,
</I>&gt;<i>                            207,230,104,37,226,58,32,253,248,156,220,244,151,11,
</I>&gt;<i>                            22,43,188,14,177,227,4,188,97,24,83,79,40,16,150,
</I>&gt;<i>                            139,230,40,224,66,224,140,89,175,200,198,15,30,202,
</I>&gt;<i>                            248,69,32,159,182,234,202,82,247,91,75,129,24,242,
</I>&gt;<i>                            250,172,34,107,44,39,177,73,125,204,232,146,190,41,
</I>&gt;<i>                            239,6,154,165,197,220,227,183,190,17,114,215,232,
</I>&gt;<i>                            235,67,159,222,247,110,133,191,142,154,6,99,200,37,
</I>&gt;<i>                            59,120,252,161,54,91,223,191,85,104,9,121,14,184,
</I>&gt;<i>                            105,75,162,181,90,233,48,195,87,151,172,23,119,42,
</I>&gt;<i>                            211,2,3,130,228,61,83,2,3,1,0,1,163,47,48,45,48,9,6,
</I>&gt;<i>                            3,85,29,19,4,2,48,0,48,11,6,3,85,29,15,4,4,3,2,5,32,
</I>&gt;<i>                            48,19,6,3,85,29,37,4,12,48,10,6,8,43,6,1,5,5,7,3,1,
</I>&gt;<i>                            48,13,6,9,42,134,72,134,247,13,1,1,5,5,0,3,130,1,1,
</I>&gt;<i>                            0,222,44,95,61,253,222,29,196,80,45,112,118,52,202,
</I>&gt;<i>                            249,227,153,3,154,114,189,224,23,172,222,204,213,89,
</I>&gt;<i>                            202,98,202,252,34,116,104,112,18,98,136,6,133,201,
</I>&gt;<i>                            165,220,4,130,95,247,113,200,31,36,105,22,27,24,197,
</I>&gt;<i>                            222,154,33,131,183,215,250,104,240,205,213,224,56,
</I>&gt;<i>                            201,76,226,250,166,136,68,224,195,215,149,224,255,
</I>&gt;<i>                            162,11,156,74,159,108,185,153,46,116,32,182,58,192,
</I>&gt;<i>                            42,77,78,249,153,29,40,105,199,192,192,14,230,169,
</I>&gt;<i>                            223,199,172,53,122,145,127,57,110,56,67,139,94,115,
</I>&gt;<i>                            57,55,116,11,212,76,212,44,180,72,244,150,141,6,207,
</I>&gt;<i>                            134,211,89,211,47,183,79,202,162,128,196,45,44,85,
</I>&gt;<i>                            122,172,122,58,170,117,116,151,187,96,109,186,207,
</I>&gt;<i>                            188,10,72,138,17,2,60,52,236,72,68,203,229,144,164,
</I>&gt;<i>                            154,254,145,75,227,182,44,152,36,81,103,234,99,135,
</I>&gt;<i>                            223,62,152,94,109,109,202,223,114,90,71,131,48,180,
</I>&gt;<i>                            74,83,145,93,85,218,225,135,141,226,127,85,243,186,
</I>&gt;<i>                            10,50,216,220,110,91,48,135,32,83,253,201,62,47,163,
</I>&gt;<i>                            250,152,166,230,144,155,164,240,234,78,55,198,137,
</I>&gt;<i>                            227,164,67,70&gt;&gt;,
</I>&gt;<i>                          0,
</I>&gt;<i>                          &lt;&lt;0,5&gt;&gt;,
</I>&gt;<i>                          undefined,new,63510870781},
</I>&gt;<i>                      274512,ssl_session_cache,
</I>&gt;<i>                      {3,0},
</I>&gt;<i>                      undefined,true,rsa,undefined,
</I>&gt;<i>                      {'RSAPrivateKey','two-prime',
</I>&gt;<i>                          20626154516851897899026407170042992186954022225619154212982023436593021084431130197446826019668822057364906823742347703189807900395411954920873998310066315490647373642439940204039202384183392622156916320328265059046273749378724499423180264851128949425176965378808923708249996203617405459079934227817868247758516226763794212954049706311605777883116953728567988744407772593262913415387064723162423936064571000681319856846203478410121074550319506347566528404963612789338894176075017651715919226127325082190253879422994652680148227557765718727880087472465526710974927798830792613909804655622488819123356265357557645983059,
</I>&gt;<i>                          65537,
</I>&gt;<i>                          15753576824404866706376044232975295999480958580700470942075700491610291444240661336850952536956572441237780354035479412899062124514279649717935639187182346184359282354583383537744820106814466907274737116652140127417508163711369986704110474344618453140626409540202949116017723728154618463680762130909614342150817793549884200377997171328336034785139122051227189867421396653375857793738402806848616845781621592305587456572159520606363585103073092410791668613304828460354220401157090209517088913719565971597857543743477192138569316510730037503924347993836684082018172906476137909503657700281531265319722383583750655610033,
</I>&gt;<i>                          147963628923537722751250644893149910647877745647734479009072815590885096313393320663197608983026775547798886997516128878305383131732077392946066063157676914467572774145482415764325037604743832854138017377728241182637036038664832996330038429839687140432034633341581183037957243832228259712690537805605526845193,
</I>&gt;<i>                          139400166560599511134623535154168044117010417616561480638015081392064434781718455691958277496285324026113415331264145017196766697778293856707095327318700977134141451262624416630418359166089488660683041261802926507292086611225259562442267712647320647693527512273216022318431874813920243053485708514328171146363,
</I>&gt;<i>                          83212467327384986304573676226052859556415918814388050915321066942845293419331638916695519695552403472316761189365579170052054657464473144510935149454544731015019450641317811279517339991120183217189753978530140001349668695196144921887425826763528219706478790317998346937302441917152707146049333230102124035785,
</I>&gt;<i>                          118916720507552022048665608432855834756697764891421680852488047292157809410585374710015890565403109851349965834947961540449206337987565415672422882713682584320894244712750709683946460867884783291160821945215927067811750403188589443481695241023753840587790753752211547061302330366385996130296252588774967793455,
</I>&gt;<i>                          129831464471044841636495352280916516561752975654850437815069221568863429305147590324598171020575116437572160306269648211801154160117293514373271643619553796558702820331561846467578879016523966553104294325592014959642456308451848867115460176418358926962367640698172575352976728984474679014058617640630906621214,
</I>&gt;<i>                          asn1_NOVALUE},
</I>&gt;<i>                      {'DHParameter',
</I>&gt;<i>                          179769313486231590770839156793787453197860296048756011706444423684197180216158519368947833795864925541502180565485980503646440548199239100050792877003355816639229553136239076508735759914822574862575007425302077447712589550957937778424442426617334727629299387668709205606050270810842907692932019128194467627007,
</I>&gt;<i>                          2,asn1_NOVALUE},
</I>&gt;<i>                      undefined,undefined,#Ref&lt;0.0.0.50276&gt;,
</I>&gt;<i>                      {&lt;0.31385.0&gt;,#Ref&lt;0.0.0.50285&gt;},
</I>&gt;<i>                      0,&lt;&lt;&gt;&gt;,true,
</I>&gt;<i>                      {false,first},
</I>&gt;<i>                      undefined,
</I>&gt;<i>                      {[],[]},
</I>&gt;<i>                      false,true}
</I>&gt;<i> ** Reason for termination = 
</I>&gt;<i> ** {function_clause,
</I>&gt;<i>        [{ssl_connection,handle_alert,
</I>&gt;<i>             [{alert,1,41,{&quot;ssl_connection.erl&quot;,1678}},
</I>&gt;<i>              certify,
</I>&gt;<i>              {state,server,
</I>&gt;<i>                  {#Ref&lt;0.0.0.50272&gt;,&lt;0.31385.0&gt;},
</I>&gt;<i>                  gen_tcp,tcp,tcp_closed,tcp_error,&quot;localhost&quot;,443,
</I>&gt;<i>                  #Port&lt;0.8637&gt;,
</I>&gt;<i>                  {ssl_options,[],verify_peer,
</I>&gt;<i>                      {#Fun&lt;ssl.3.54384637&gt;,#Fun&lt;rabbit_networking.0.89858908&gt;},
</I>&gt;<i>                      false,false,undefined,1,&quot;C:/certstore/server/cert.pem&quot;,
</I>&gt;<i>                      undefined,&quot;C:/certstore/server/key.pem&quot;,undefined,
</I>&gt;<i>                      undefined,undefined,&quot;C:/certstore/testca/cacert.pem&quot;,
</I>&gt;<i>                      undefined,undefined,
</I>&gt;<i>                      [&lt;&lt;0,57&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,56&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,53&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,22&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,19&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,10&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,51&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,50&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,47&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,5&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,4&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,21&gt;&gt;,
</I>&gt;<i>                       &lt;&lt;0,9&gt;&gt;],
</I>&gt;<i>                      #Fun&lt;ssl.0.54384637&gt;,true,268435456,false,[],undefined,
</I>&gt;<i>                      false},
</I>&gt;<i>                  {socket_options,binary,0,0,0,false},
</I>&gt;<i>                  {connection_states,
</I>&gt;<i>                      {connection_state,
</I>&gt;<i>                          {security_parameters,
</I>&gt;<i>                              &lt;&lt;0,0&gt;&gt;,
</I>&gt;<i>                              0,0,0,0,0,0,0,0,0,0,undefined,undefined,
</I>&gt;<i>                              undefined,undefined},
</I>&gt;<i>                          undefined,undefined,undefined,2,true,undefined,
</I>&gt;<i>                          undefined},
</I>&gt;<i>                      {connection_state,
</I>&gt;<i>                          {security_parameters,
</I>&gt;<i>                              &lt;&lt;0,5&gt;&gt;,
</I>&gt;<i>                              0,1,0,0,128,16,16,2,20,0,undefined,
</I>&gt;<i>                              &lt;&lt;80,22,197,78,29,58,72,186,12,107,61,151,17,177,
</I>&gt;<i>                                209,163,174,99,56,24,71,199,106,49,91,186,189,
</I>&gt;<i>                                199,117,68,234,215&gt;&gt;,
</I>&gt;<i>                              &lt;&lt;80,22,197,77,73,19,16,200,132,120,47,224,160,79,
</I>&gt;<i>                                3,106,44,134,25,30,170,200,151,96,89,3,64,53,
</I>&gt;<i>                                236,247,30,107&gt;&gt;,
</I>&gt;<i>                              undefined},
</I>&gt;<i>                          undefined,undefined,undefined,undefined,true,
</I>&gt;<i>                          undefined,undefined},
</I>&gt;<i>                      {connection_state,
</I>&gt;<i>                          {security_parameters,
</I>&gt;<i>                              &lt;&lt;0,0&gt;&gt;,
</I>&gt;<i>                              0,0,0,0,0,0,0,0,0,0,undefined,undefined,
</I>&gt;<i>                              undefined,undefined},
</I>&gt;<i>                          undefined,undefined,undefined,4,true,undefined,
</I>&gt;<i>                          undefined},
</I>&gt;<i>                      {connection_state,
</I>&gt;<i>                          {security_parameters,
</I>&gt;<i>                              &lt;&lt;0,5&gt;&gt;,
</I>&gt;<i>                              0,1,0,0,128,16,16,2,20,0,undefined,
</I>&gt;<i>                              &lt;&lt;80,22,197,78,29,58,72,186,12,107,61,151,17,177,
</I>&gt;<i>                                209,163,174,99,56,24,71,199,106,49,91,186,189,
</I>&gt;<i>                                199,117,68,234,215&gt;&gt;,
</I>&gt;<i>                              &lt;&lt;80,22,197,77,73,19,16,200,132,120,47,224,160,79,
</I>&gt;<i>                                3,106,44,134,25,30,170,200,151,96,89,3,64,53,
</I>&gt;<i>                                236,247,30,107&gt;&gt;,
</I>&gt;<i>                              undefined},
</I>&gt;<i>                          undefined,undefined,undefined,undefined,true,
</I>&gt;<i>                          undefined,undefined}},
</I>&gt;<i>                  [],&lt;&lt;&gt;&gt;,&lt;&lt;&gt;&gt;,
</I>&gt;<i>                  {{&lt;&lt;107,195,247,68,168,208,252,17,160,186,113,157,135,198,182,
</I>&gt;<i>                      188,80,51,0,0,0,0,0,0,24,54,90,252,231,192,148,13,0,0,27,
</I>&gt;<i>                      1,1,0,23,0,21,48,19,49,17,48,15,6,3,85,4,3,19,8,77,121,84,
</I>&gt;<i>                      101,115,116,67,65,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
</I>&gt;<i>                      0,0,0,0,0,0,0,42,0,0,0&gt;&gt;,
</I>&gt;<i>                    &lt;&lt;164,73,160,132,230,249,118,68,17,25,226,99,197,97,124,
</I>&gt;<i>                      157,16,251,186,197,80,51,0,0,0,0,0,0,24,54,90,252,231,
</I>&gt;<i>                      192,148,13,0,0,27,1,1,0,23,0,21,48,19,49,17,48,15,6,3,85,
</I>&gt;<i>                      4,3,19,8,77,121,84,101,115,116,67,65,14,0,0,0,0,0,0,0,0,
</I>&gt;<i>                      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,42,0,0,0&gt;&gt;},
</I>&gt;<i>                   {&lt;&lt;107,195,247,68,168,208,252,17,160,186,113,157,135,198,182,
</I>&gt;<i>                      188,48,51,0,0,0,0,0,0,24,54,90,252,231,192,148,13,0,0,27,
</I>&gt;<i>                      1,1,0,23,0,21,48,19,49,17,48,15,6,3,85,4,3,19,8,77,121,84,
</I>&gt;<i>                      101,115,116,67,65,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
</I>&gt;<i>                      0,0,0,0,0,0,38,0,0,0&gt;&gt;,
</I>&gt;<i>                    &lt;&lt;164,73,160,132,230,249,118,68,17,25,226,99,197,97,124,
</I>&gt;<i>                      157,16,251,186,197,48,51,0,0,0,0,0,0,24,54,90,252,231,
</I>&gt;<i>                      192,148,13,0,0,27,1,1,0,23,0,21,48,19,49,17,48,15,6,3,
</I>&gt;<i>                      85,4,3,19,8,77,121,84,101,115,116,67,65,0,0,0,0,0,0,0,0,
</I>&gt;<i>                      0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,38,0,0,0&gt;&gt;}},
</I>&gt;<i>                  [{ssl_tls,undefined,22,
</I>&gt;<i>                       {3,0},
</I>&gt;<i>                       &lt;&lt;16,0,1,0,37,221,141,253,17,32,217,19,107,158,219,100,
</I>&gt;<i>                         18,72,74,101,84,128,197,33,49,0,114,104,195,15,49,53,
</I>&gt;<i>                         77,36,199,164,103,80,172,225,140,196,41,237,52,94,192,
</I>&gt;<i>                         237,8,8,60,9,59,19,181,87,174,84,219,50,35,22,84,239,
</I>&gt;<i>                         236,14,94,95,81,214,243,162,206,220,188,94,158,6,115,
</I>&gt;<i>                         212,126,162,103,173,87,166,4,48,53,50,150,185,97,176,
</I>&gt;<i>                         225,0,73,247,114,66,191,88,143,29,252,2,155,92,204,
</I>&gt;<i>                         233,244,199,52,122,55,130,100,70,122,145,184,131,116,
</I>&gt;<i>                         118,196,2,179,50,61,68,124,192,145,169,147,42,49,126,
</I>&gt;<i>                         32,69,25,36,57,217,75,204,54,156,34,217,117,139,164,
</I>&gt;<i>                         114,118,251,62,106,242,208,111,184,117,189,71,224,239,
</I>&gt;<i>                         20,92,253,137,74,191,110,114,95,129,206,58,78,141,136,
</I>&gt;<i>                         190,206,53,7,146,104,216,241,137,28,137,20,133,25,240,
</I>&gt;<i>                         230,127,70,254,228,162,130,190,53,250,227,136,156,71,
</I>&gt;<i>                         192,142,184,51,124,86,203,108,235,25,32,235,83,144,
</I>&gt;<i>                         185,184,208,190,238,133,1,253,184,101,162,231,40,109,
</I>&gt;<i>                         144,35,218,161,26,4,87,13,117,249,60,35,117,112,213,
</I>&gt;<i>                         236,163,18,128,61,187&gt;&gt;},
</I>&gt;<i>                   {ssl_tls,undefined,20,{3,0},&lt;&lt;1&gt;&gt;},
</I>&gt;<i>                   {ssl_tls,undefined,22,
</I>&gt;<i>                       {3,0},
</I>&gt;<i>                       &lt;&lt;186,95,216,229,210,105,198,105,85,45,183,110,174,206,
</I>&gt;<i>                         104,133,35,254,108,108,57,13,137,138,151,100,178,23,
</I>&gt;<i>                         189,147,85,254,17,117,168,182,255,204,234,195,6,0,
</I>&gt;<i>                         248,93,238,47,172,80,5,153,138,161,91,231,83,251,42,
</I>&gt;<i>                         192,80,179&gt;&gt;}],
</I>&gt;<i>                  262221,
</I>&gt;<i>                  {session,
</I>&gt;<i>                      &lt;&lt;32,144,115,251,110,148,117,72,252,193,200,232,234,193,
</I>&gt;<i>                        127,229,114,142,20,246,109,56,190,101,113,75,232,227,
</I>&gt;<i>                        237,6,105,251&gt;&gt;,
</I>&gt;<i>                      undefined,
</I>&gt;<i>                      &lt;&lt;48,130,2,230,48,130,1,206,160,3,2,1,2,2,1,1,48,13,6,9,
</I>&gt;<i>                        42,134,72,134,247,13,1,1,5,5,0,48,19,49,17,48,15,6,3,85,
</I>&gt;<i>                        4,3,19,8,77,121,84,101,115,116,67,65,48,30,23,13,49,50,
</I>&gt;<i>                        48,55,51,48,49,50,53,54,52,54,90,23,13,49,51,48,55,51,
</I>&gt;<i>                        48,49,50,53,54,52,54,90,48,41,49,22,48,20,6,3,85,4,3,12,
</I>&gt;<i>                        13,114,105,111,111,118,101,114,108,111,114,100,45,49,49,
</I>&gt;<i>                        15,48,13,6,3,85,4,10,12,6,115,101,114,118,101,114,48,
</I>&gt;<i>                        130,1,34,48,13,6,9,42,134,72,134,247,13,1,1,1,5,0,3,130,
</I>&gt;<i>                        1,15,0,48,130,1,10,2,130,1,1,0,163,99,255,119,11,217,
</I>&gt;<i>                        190,17,106,102,242,229,252,214,101,34,15,190,61,32,23,
</I>&gt;<i>                        69,175,49,141,78,38,16,202,80,88,96,12,88,193,17,57,226,&lt;/
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120803/4310a301/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120803/4310a301/attachment.htm</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021682.html">[rabbitmq-discuss] .NET ssl_upgrade_failure
</A></li>
	<LI>Next message: <A HREF="021705.html">[rabbitmq-discuss] .NET ssl_upgrade_failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21689">[ date ]</a>
              <a href="thread.html#21689">[ thread ]</a>
              <a href="subject.html#21689">[ subject ]</a>
              <a href="author.html#21689">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
