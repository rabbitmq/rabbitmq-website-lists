<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] vm_memory_high_watermark of RabbitMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20vm_memory_high_watermark%20of%20RabbitMQ&In-Reply-To=%3C501AFDC0.50307%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021681.html">
   <LINK REL="Next"  HREF="021656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] vm_memory_high_watermark of RabbitMQ</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20vm_memory_high_watermark%20of%20RabbitMQ&In-Reply-To=%3C501AFDC0.50307%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] vm_memory_high_watermark of RabbitMQ">matthias at rabbitmq.com
       </A><BR>
    <I>Thu Aug  2 23:22:56 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021681.html">[rabbitmq-discuss] vm_memory_high_watermark of RabbitMQ
</A></li>
        <LI>Next message: <A HREF="021656.html">[rabbitmq-discuss] Acknowledging messages using the	EventingBasicConsumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21687">[ date ]</a>
              <a href="thread.html#21687">[ thread ]</a>
              <a href="subject.html#21687">[ subject ]</a>
              <a href="author.html#21687">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02/08/12 19:33, Chen, Bin wrote:
&gt;<i> Here is the output of rabbitmqctl status :
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at SERVER001</A> ...
</I>&gt;<i> [{pid,14920},
</I>&gt;<i>   {running_applications,
</I>&gt;<i>       [{rabbitmq_management,&quot;RabbitMQ Management Console&quot;,&quot;2.7.1&quot;},
</I>&gt;<i>        {rabbitmq_management_agent,&quot;RabbitMQ Management Agent&quot;,&quot;2.7.1&quot;},
</I>&gt;<i>        {amqp_client,&quot;RabbitMQ AMQP Client&quot;,&quot;2.7.1&quot;},
</I>&gt;<i>        {rabbit,&quot;RabbitMQ&quot;,&quot;2.7.1&quot;},
</I>&gt;<i>        {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.5&quot;},
</I>&gt;<i>        {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.9.3&quot;},
</I>&gt;<i>        {rabbitmq_mochiweb,&quot;RabbitMQ Mochiweb Embedding&quot;,&quot;2.7.1&quot;},
</I>&gt;<i>        {webmachine,&quot;webmachine&quot;,&quot;1.7.0-rmq2.7.1-hg&quot;},
</I>&gt;<i>        {mochiweb,&quot;MochiMedia Web Server&quot;,&quot;1.3-rmq2.7.1-git&quot;},
</I>&gt;<i>        {inets,&quot;INETS  CXC 138 49&quot;,&quot;5.5.2&quot;},
</I>&gt;<i>        {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.17&quot;},
</I>&gt;<i>        {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.17.3&quot;},
</I>&gt;<i>        {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.14.3&quot;}]},
</I>&gt;<i>   {memory,
</I>&gt;<i>       [{total,43200816},
</I>&gt;<i>        {processes,13395088},
</I>&gt;<i>        {processes_used,7180168},
</I>&gt;<i>        {system,29805728},
</I>&gt;<i>        {atom,896677},
</I>&gt;<i>        {atom_used,872806},
</I>&gt;<i>        {binary,10742872},
</I>&gt;<i>        {code,7786932},
</I>&gt;<i>        {ets,721700}]},
</I>&gt;<i>   {vm_memory_high_watermark,0.0333454016734413},
</I>&gt;<i>   {vm_memory_limit,858993459}]
</I>&gt;<i> ...done.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Note that the vm_memory_high_watermark fraction in status report is much
</I>&gt;<i> smaller than 0.4.
</I>
Right. That's a bug in the reporting. Doesn't cause any harm otherwise.

As Emile pointed out, if you want to take advantage of all that memory 
you have then you need to run the 64 bit version of Erlang, which 
evidently you are not:

&gt;<i>   {os,{win32,nt}},
</I>&gt;<i>   {erlang_version,
</I>&gt;<i>       &quot;Erlang R14B02 (erts-5.8.3) [smp:12:12] [rq:12]
</I>&gt;<i> [async-threads:30]\n&quot;},
</I>
The 64 bit Windows version of Erlang only became available in R15B, so 
you'll need to upgrade and make sure you grab the win64 flavour of the 
download (<A HREF="http://www.erlang.org/download/otp_win64_R15B01.exe">http://www.erlang.org/download/otp_win64_R15B01.exe</A> at present).

While you are at it, you might as well upgrade rabbit to the latest and 
greatest 2.8.5.

Regards,

Matthias.
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021681.html">[rabbitmq-discuss] vm_memory_high_watermark of RabbitMQ
</A></li>
	<LI>Next message: <A HREF="021656.html">[rabbitmq-discuss] Acknowledging messages using the	EventingBasicConsumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21687">[ date ]</a>
              <a href="thread.html#21687">[ thread ]</a>
              <a href="subject.html#21687">[ subject ]</a>
              <a href="author.html#21687">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
