<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Two questions: max bindings and handling no consumer present
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Two%20questions%3A%20max%20bindings%20and%20handling%20no%0A%20consumer%20present&In-Reply-To=%3C5018E418.8090306%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021619.html">
   <LINK REL="Next"  HREF="021781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Two questions: max bindings and handling no consumer present</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Two%20questions%3A%20max%20bindings%20and%20handling%20no%0A%20consumer%20present&In-Reply-To=%3C5018E418.8090306%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Two questions: max bindings and handling no consumer present">matthias at rabbitmq.com
       </A><BR>
    <I>Wed Aug  1 09:08:56 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021619.html">[rabbitmq-discuss] Two questions: max bindings and handling no	consumer present
</A></li>
        <LI>Next message: <A HREF="021781.html">[rabbitmq-discuss] Two questions: max bindings and handling noconsumer present
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21624">[ date ]</a>
              <a href="thread.html#21624">[ thread ]</a>
              <a href="subject.html#21624">[ subject ]</a>
              <a href="author.html#21624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/08/12 08:23, Tim Watson wrote:
&gt;<i>
</I>&gt;<i> On 1 Aug 2012, at 04:10, &quot;Bell, Paul M.&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pbell at syncsort.com</A>&gt; .
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I suppose this is where the &quot;mandatory&quot; flag comes in. But I'm
</I>&gt;&gt;<i> wondering if there's a way to query  the broker about its
</I>&gt;&gt;<i> infrastructure, e.g., the existence of a queue/binding that would
</I>&gt;&gt;<i> indicate the presence of the consumer.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> There are ways to query the infrastructure, but these rare generally
</I>&gt;<i> not exposed to client APIs. What client are you using?
</I>
Moreover, performing such a &quot;does a consumer exists?&quot; query before 
publishing is racy, since the consumer might well vanish between the 
query and the publishing event.

What are you actually trying to accomplish? Is the idea that in the 
absence of consumers the producer would hang on to the message and retry 
later? In that case you may want to consider alternative routing 
topologies. E.g. perhaps the consumer queues could be declared ahead of 
time. Or you could use an alternate exchange to route messages to 
holding queue where they are then picked up from consumers when they 
join. Or you could do something even more sophisticated and configure 
said holding queue with a message-ttl and set the original exchange as 
the dead-letter exchange of the queue - that way messages will be 
retried periodically automatically.

Matthias.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021619.html">[rabbitmq-discuss] Two questions: max bindings and handling no	consumer present
</A></li>
	<LI>Next message: <A HREF="021781.html">[rabbitmq-discuss] Two questions: max bindings and handling noconsumer present
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21624">[ date ]</a>
              <a href="thread.html#21624">[ thread ]</a>
              <a href="subject.html#21624">[ subject ]</a>
              <a href="author.html#21624">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
