<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Optimizing RabbitMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Optimizing%20RabbitMQ&In-Reply-To=%3C47E12E61-B7B8-4682-BAE5-D60649FAFD1E%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021889.html">
   <LINK REL="Next"  HREF="021875.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Optimizing RabbitMQ</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Optimizing%20RabbitMQ&In-Reply-To=%3C47E12E61-B7B8-4682-BAE5-D60649FAFD1E%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Optimizing RabbitMQ">tim at rabbitmq.com
       </A><BR>
    <I>Fri Aug 17 16:43:50 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021889.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
        <LI>Next message: <A HREF="021875.html">[rabbitmq-discuss] RabbitMQ cluster on a single machine, OSX Lion,	Homebrew
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21954">[ date ]</a>
              <a href="thread.html#21954">[ thread ]</a>
              <a href="subject.html#21954">[ subject ]</a>
              <a href="author.html#21954">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tom

On 15 Aug 2012, at 14:59, Tom Wrigglesworth wrote:

&gt;<i> Hi, Thanks for your reply.
</I>&gt;<i> 
</I>&gt;<i> So is the 40ms the time it takes for a message to travel from the game logic server to the web browser? 
</I>&gt;<i> 
</I>&gt;<i> It's the time between the message being published and the message being delivered. I have output from wireshark looking something similar to:
</I>&gt;<i> 
</I>&gt;<i>       #     Time          From                   To                    Protocol   Length   Info
</I>&gt;<i> ...
</I>&gt;<i>     155 1.539600    127.0.0.1             127.0.0.1             AMQP     115     Basic.Publish
</I>&gt;<i>     157 1.579834    127.0.0.1             127.0.0.1             AMQP     3873   Content-Header Content-Body
</I>&gt;<i>     159 1.580942    127.0.0.1             127.0.0.1             AMQP     3963   Basic-Deliver Content-Header Content-Body
</I>&gt;<i>     160 1.590769    127.0.0.1             127.0.0.1             AMQP     115     Basic.Publish
</I>&gt;<i>     162 1.627732    127.0.0.1             127.0.0.1             AMQP     3873   Content-Header Content-Body
</I>&gt;<i>     164 1.628295    127.0.0.1             127.0.0.1             AMQP     3963   Basic-Deliver Content-Header Content-Body
</I>&gt;<i>     165 1.638748    127.0.0.1             127.0.0.1             AMQP     115     Basic.Publish
</I>&gt;<i>     167 1.675834    127.0.0.1             127.0.0.1             AMQP     3873   Content-Header Content-Body
</I>&gt;<i>     169 1.676850    127.0.0.1             127.0.0.1             AMQP     3963   Basic-Deliver Content-Header Content-Body
</I>&gt;<i> ...
</I>&gt;<i> 
</I>&gt;<i> This looks to me like it is AMQP that is taking about 40ms between publish and deliver. Is this because of certain server settings i'm running, interference from the node server running at the same time on the same machine or some other reason?
</I>
The only way I can think of to determine that is to remove the other factors. You could try publishing and consuming via the same client instance, with the other servers disabled and see what kind of throughput you get when there's little other potential contention for operating system resources. 

Cheers,
Tim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120817/888d6288/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120817/888d6288/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021889.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
	<LI>Next message: <A HREF="021875.html">[rabbitmq-discuss] RabbitMQ cluster on a single machine, OSX Lion,	Homebrew
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21954">[ date ]</a>
              <a href="thread.html#21954">[ thread ]</a>
              <a href="subject.html#21954">[ subject ]</a>
              <a href="author.html#21954">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
