<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Optimizing RabbitMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Optimizing%20RabbitMQ&In-Reply-To=%3C71a7ae88-3812-438a-9b27-3be406657dea%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021953.html">
   <LINK REL="Next"  HREF="021879.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Optimizing RabbitMQ</H1>
    <B>Tom Wrigg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Optimizing%20RabbitMQ&In-Reply-To=%3C71a7ae88-3812-438a-9b27-3be406657dea%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Optimizing RabbitMQ">tadw99 at googlemail.com
       </A><BR>
    <I>Tue Aug 14 21:32:41 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021953.html">[rabbitmq-discuss] Shovel stuck?
</A></li>
        <LI>Next message: <A HREF="021879.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21873">[ date ]</a>
              <a href="thread.html#21873">[ thread ]</a>
              <a href="subject.html#21873">[ subject ]</a>
              <a href="author.html#21873">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello.

I'm writing a real-time browser-based game using node.js and AMQP and would 
like to know how to optimise the AMQP server to achieve a high throughput- 
low latency system. I'm using postwait's amqp-node&lt;<A HREF="https://github.com/postwait/node-amqp">https://github.com/postwait/node-amqp</A>&gt;client with a RabbitMQ server.

The game logic runs on the server. Every 20ms a world update message is 
sent to the client to render which each has a length of about 4000 bytes:

Game Logic server ---&gt; AMQP topic exchange ---&gt; websockets ---&gt; web-browser.


I've done a quick test to measure the time it takes for the message to be 
published, routed and reach it's destination which came out at 40ms. This 
seems quite slow. 

Why is it taking so long to route a message? I've read of servers doing 
12,000+ messages per second.

Is there a way to turn off acknowledgements? would this make things faster?

Are there any other methods I could use to increase speed/ reduce latency?


Thanks in advance,

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120814/62b8e384/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120814/62b8e384/attachment.htm</A>&gt;
</PRE>













































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021953.html">[rabbitmq-discuss] Shovel stuck?
</A></li>
	<LI>Next message: <A HREF="021879.html">[rabbitmq-discuss] Optimizing RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21873">[ date ]</a>
              <a href="thread.html#21873">[ thread ]</a>
              <a href="subject.html#21873">[ subject ]</a>
              <a href="author.html#21873">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
