<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Non-blocking Consumers approach
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Non-blocking%20Consumers%20approach&In-Reply-To=%3C080D7020-EEC9-4044-8085-0C4A83591DF0%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="022121.html">
   <LINK REL="Next"  HREF="022125.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Non-blocking Consumers approach</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Non-blocking%20Consumers%20approach&In-Reply-To=%3C080D7020-EEC9-4044-8085-0C4A83591DF0%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Non-blocking Consumers approach">tim at rabbitmq.com
       </A><BR>
    <I>Mon Aug 27 10:17:08 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="022121.html">[rabbitmq-discuss] Non-blocking Consumers approach
</A></li>
        <LI>Next message: <A HREF="022125.html">[rabbitmq-discuss] Non-blocking Consumers approach
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22122">[ date ]</a>
              <a href="thread.html#22122">[ thread ]</a>
              <a href="subject.html#22122">[ subject ]</a>
              <a href="author.html#22122">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mahesh,

On 27 Aug 2012, at 08:58, Mahesh Viraktamath wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> We used RabbitMQ to implement a simple producer-consumer architecture.
</I>&gt;<i> It was fine until very recently, when we encountered the blocking
</I>&gt;<i> calls. I ran two nodes in a cluster; in cases where the consumer took
</I>&gt;<i> more than the usual time and all subsequent messages kept on waiting.
</I>&gt;<i> Then, I came to know that I used QueuingConsumer which is a blocking
</I>&gt;<i> architecture, now I know I have to use my own implementation of the
</I>&gt;<i> DefaultConsumer. But, I am clueless as to whether I should manage the
</I>&gt;<i> threading model or the RabbitMQ itself has any provision on that.
</I>&gt;<i> Another thing that is confusing is, whether we run different type of
</I>&gt;<i> consumers (with different duties) separately or we maintain a single
</I>&gt;<i> main class which will start consumers as the messages come in.
</I>&gt;<i> 
</I>
Have you read the API guide (<A HREF="http://www.rabbitmq.com/api-guide.html">http://www.rabbitmq.com/api-guide.html</A>) for details about threading and using your own executor service? That's probably a good place to start. The latter question (about choosing how to structure your code) is really something you'll have to decide yourself, based on the responsibilities of each class and whether or not and to what extent separation makes sense in the design.

Cheers,
Tim 
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="022121.html">[rabbitmq-discuss] Non-blocking Consumers approach
</A></li>
	<LI>Next message: <A HREF="022125.html">[rabbitmq-discuss] Non-blocking Consumers approach
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#22122">[ date ]</a>
              <a href="thread.html#22122">[ thread ]</a>
              <a href="subject.html#22122">[ subject ]</a>
              <a href="author.html#22122">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
