<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ configuration for Scaleout RPC setup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20configuration%20for%20Scaleout%20RPC%20setup&In-Reply-To=%3CCAC3-Q1T%2BvF%2BGpB6m76noL%2BCheDOXLjRWcLOongGJoiEbxyi7Wg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021983.html">
   <LINK REL="Next"  HREF="021980.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ configuration for Scaleout RPC setup</H1>
    <B>Dharshan Rangegowda</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20configuration%20for%20Scaleout%20RPC%20setup&In-Reply-To=%3CCAC3-Q1T%2BvF%2BGpB6m76noL%2BCheDOXLjRWcLOongGJoiEbxyi7Wg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ configuration for Scaleout RPC setup">dharshanr at scalegrid.net
       </A><BR>
    <I>Mon Aug 20 19:08:07 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021983.html">[rabbitmq-discuss] RabbitMQ configuration for Scaleout RPC setup
</A></li>
        <LI>Next message: <A HREF="021980.html">[rabbitmq-discuss] redelivered count
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21997">[ date ]</a>
              <a href="thread.html#21997">[ thread ]</a>
              <a href="subject.html#21997">[ subject ]</a>
              <a href="author.html#21997">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Emile. This is great feedback. I will spend some more time on the
Access control rules to determine if they are sufficient for our scenario.

regards,
Dharshan
www.scalegrid.net
(Services for the private cloud)


On Mon, Aug 20, 2012 at 2:23 AM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On 19/08/12 22:31, dharshanr wrote:
</I>&gt;<i> &gt; 1. A virtual host and user for every client. This way each client
</I>&gt;<i> &gt; connects to its virtual host using its own username password. Also if
</I>&gt;<i> &gt; one clients username/password gets compromised it wont affect the other
</I>&gt;<i> &gt; clients.
</I>&gt;<i> &gt; 2. One queue per virtual host called the &quot;Client messaging queue&quot;. The
</I>&gt;<i> &gt; client waits for messages on this queue after connecting to the virtual
</I>&gt;<i> host
</I>&gt;<i> &gt; 3. When the server wants to message a client it creates an unnamed queue
</I>&gt;<i> &gt; in the virtual host of the client (as the reply queue) and then posts
</I>&gt;<i> &gt; messages to the &quot;Client messaging queue&quot;. The client processes the
</I>&gt;<i> &gt; message and replies back on the tagged reply queue.
</I>&gt;<i>
</I>&gt;<i> Your suggested solution will work, but it suffers from the weakness that
</I>&gt;<i> the server will need to maintain a separate connection to the broker for
</I>&gt;<i> each vhost. Using separate vhost provides good isolation, but you may be
</I>&gt;<i> able to get away with less by careful use of access control rules:
</I>&gt;<i>
</I>&gt;<i> www.rabbitmq.com/access-control.html
</I>&gt;<i>
</I>&gt;<i> From your description clients never need to declare any resources. Being
</I>&gt;<i> able to subscribe to a queue that is named is such a way that it
</I>&gt;<i> contains their client id, and being able to publish to a
</I>&gt;<i> server-generated queue is sufficient. You can set up access control
</I>&gt;<i> rules that allow this.
</I>&gt;<i>
</I>&gt;<i> Bear in mind that clients have no way of learning the names of
</I>&gt;<i> server-generated queues that were generated for other clients, and they
</I>&gt;<i> are named in a cryptographically strong way. Therefore the vhost
</I>&gt;<i> isolation is not strictly required to protect against inadvertent access.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Emile
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
regards,
Dharshan.
www.scalegrid.net
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120820/329624c1/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120820/329624c1/attachment.htm</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021983.html">[rabbitmq-discuss] RabbitMQ configuration for Scaleout RPC setup
</A></li>
	<LI>Next message: <A HREF="021980.html">[rabbitmq-discuss] redelivered count
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21997">[ date ]</a>
              <a href="thread.html#21997">[ thread ]</a>
              <a href="subject.html#21997">[ subject ]</a>
              <a href="author.html#21997">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
