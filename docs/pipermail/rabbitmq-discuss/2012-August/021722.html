<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Acknowledging messages using the EventingBasicConsumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Acknowledging%20messages%20using%20the%0A%20EventingBasicConsumer&In-Reply-To=%3C84B3D44AADE2D843994ED89240B2DFA2FCC389DC%40mailbox1b.gmsuk.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021667.html">
   <LINK REL="Next"  HREF="021658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Acknowledging messages using the EventingBasicConsumer</H1>
    <B>Toby Riley</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Acknowledging%20messages%20using%20the%0A%20EventingBasicConsumer&In-Reply-To=%3C84B3D44AADE2D843994ED89240B2DFA2FCC389DC%40mailbox1b.gmsuk.net%3E"
       TITLE="[rabbitmq-discuss] Acknowledging messages using the EventingBasicConsumer">toby.riley at rekoop.com
       </A><BR>
    <I>Sat Aug  4 14:51:50 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="021667.html">[rabbitmq-discuss] Acknowledging messages using the	EventingBasicConsumer
</A></li>
        <LI>Next message: <A HREF="021658.html">[rabbitmq-discuss] Running 2 instances (not clustered) in same	machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21722">[ date ]</a>
              <a href="thread.html#21722">[ thread ]</a>
              <a href="subject.html#21722">[ subject ]</a>
              <a href="author.html#21722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Emile,

I'll probably go with the auto ack for now or _channel.BasicAck as it's quite legal to access the property within the anonymous delegate. However it would make sense to use the BasicAck on the sender as it seems cleaner and more obvious.

Regards

Toby

-----Original Message-----
From: Emile Joubert [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>] 
Sent: 02 August 2012 15:20
To: Discussions about RabbitMQ
Cc: Toby Riley
Subject: Re: [rabbitmq-discuss] Acknowledging messages using the EventingBasicConsumer

Hi Toby,

On 02/08/12 12:05, Toby Riley wrote:
&gt;<i> I have a question I could not find a proper answer to anywhere, and it 
</I>&gt;<i> is to do with the Acknowledging messages using the
</I>&gt;<i> EventingBasicConsumer, I&#8217;m using   _channel.BasicAck(e.DeliveryTag,
</I>&gt;<i> false); but there is one for o.Model. BasicAck(e.DeliveryTag, false) 
</I>&gt;<i> but the sender object (o) is null.
</I>&gt;<i> 
</I>&gt;<i> What is the proper way to Acknowledge message from the Received event 
</I>&gt;<i> when using the EventingBasicConsumer when you inside the delegate?
</I>
You should first make sure that it is correct to acknowledge the message. If there were any asynchronous events that could fail and that were triggered as a result of the message then you might as well use automatic acknowledgements.

I'm not sure why the event sender is null in your example. That may well be a bug in EventingBasicConsumer, which is classed as experimental.
Using the sender would be the preferable approach. I will file a bug to investigate why the value is null. Thanks for reporting this.


-Emile

</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021667.html">[rabbitmq-discuss] Acknowledging messages using the	EventingBasicConsumer
</A></li>
	<LI>Next message: <A HREF="021658.html">[rabbitmq-discuss] Running 2 instances (not clustered) in same	machine
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21722">[ date ]</a>
              <a href="thread.html#21722">[ thread ]</a>
              <a href="subject.html#21722">[ subject ]</a>
              <a href="author.html#21722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
