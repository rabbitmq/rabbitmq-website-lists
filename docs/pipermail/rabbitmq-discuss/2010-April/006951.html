<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] erlang 1.6.0 client possible problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20erlang%201.6.0%20client%20possible%20problem&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006957.html">
   <LINK REL="Next"  HREF="006952.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] erlang 1.6.0 client possible problem</H1>
    <B>Mark Geib</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20erlang%201.6.0%20client%20possible%20problem&In-Reply-To="
       TITLE="[rabbitmq-discuss] erlang 1.6.0 client possible problem">mark.geib at echostar.com
       </A><BR>
    <I>Thu Apr 22 17:36:07 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006957.html">[rabbitmq-discuss] rabbitmq-shovel
</A></li>
        <LI>Next message: <A HREF="006952.html">[rabbitmq-discuss] erlang 1.6.0 client possible problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6951">[ date ]</a>
              <a href="thread.html#6951">[ thread ]</a>
              <a href="subject.html#6951">[ subject ]</a>
              <a href="author.html#6951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

We are using rabbitmq 1.6.x and the erlang client tagged for 1.6.0. We
have a system in production for many months now with no problems until
yesterday. The system in question receives data messages from many
sources, translates those messages into a binary encoded format and
publishes to the broker. Yesterday one of the sources started sending
larger messages that result in the encoded form exceeding 2k bytes.
Now when the erlang consumers get the messages from the broker they
appear to be corrupt, that is, they will not properly decoded from the
binary form. This only happens with the larger messages.

I get the message like this...

case lib_amqp:get(Channel, Queue, false) of
  basic.get_emtpy -&gt;
     ...

  {DeliveryTag, Content} -&gt;
     #content{payload_fragments_rev = Payload, class_id = ClassId,
properties_bin = Props} = Content,
     Message = list_to_binary(Payload),
     ...

Is there a limit to the payload size, at least in this version of the
erlang client.??

- -- 
Principal Engineer
Cheyenne Software Engineering
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mark.geib at echostar.com</A> / 35-215

PGP fingerprint:6DFC 389D 9796 0188 92E5 58F5 34C5 6B47 D091 76FD
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org/">http://enigmail.mozdev.org/</A>

iEYEARECAAYFAkvQeu0ACgkQNMVrR9CRdv1EjQCdGRN0pf1vuHqyuPPScGLeYk2H
ztIAn2Ws5BXfUV3E5G+5FU6rNGvdThsa
=WWHE
-----END PGP SIGNATURE-----



</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006957.html">[rabbitmq-discuss] rabbitmq-shovel
</A></li>
	<LI>Next message: <A HREF="006952.html">[rabbitmq-discuss] erlang 1.6.0 client possible problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6951">[ date ]</a>
              <a href="thread.html#6951">[ thread ]</a>
              <a href="subject.html#6951">[ subject ]</a>
              <a href="author.html#6951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
