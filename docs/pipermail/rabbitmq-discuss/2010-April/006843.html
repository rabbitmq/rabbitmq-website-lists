<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] conceptual question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20conceptual%20question&In-Reply-To=28210868.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006842.html">
   <LINK REL="Next"  HREF="006912.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] conceptual question</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20conceptual%20question&In-Reply-To=28210868.post%40talk.nabble.com"
       TITLE="[rabbitmq-discuss] conceptual question">matthew at lshift.net
       </A><BR>
    <I>Sun Apr 11 20:49:56 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006842.html">[rabbitmq-discuss] conceptual question
</A></li>
        <LI>Next message: <A HREF="006912.html">[rabbitmq-discuss] conceptual question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6843">[ date ]</a>
              <a href="thread.html#6843">[ thread ]</a>
              <a href="subject.html#6843">[ subject ]</a>
              <a href="author.html#6843">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jim,

On Sun, Apr 11, 2010 at 11:52:47AM -0700, Jim Stabile wrote:
&gt;<i> What is the current status of this?  I want to use RabbitMQ across a WAN. 
</I>&gt;<i> One publisher connected to a RabbitMQ server and a set of subscribers
</I>&gt;<i> connected to another RabbitMQ server (both servers in a cluster) over a WAN. 
</I>&gt;<i> When a publish occurs, I want only 1 message to be sent from the publisher's
</I>&gt;<i> server to the subscriber's server (over the WAN) and then the fan-out
</I>&gt;<i> happens to all subscribers (last-mile fan-out).  I'm looking at RabbitMQ
</I>&gt;<i> 1.7.2.  Has this been addressed?  If not, is there a timeframe?  
</I>
In 1.7.2, no this is not addressed.

The fanout will always happen locally, because it pretty much has to be
atomic, and there will be many potential &quot;gotchas&quot; if it happens once
local to the publisher, and then once again on destination nodes -
changes to queues and exchanges in between those events would be
problematic.

However, we have code in development that after doing the fanout local
to the publisher then groups together publishes to multiple queues on
remote nodes, then forwarding the message once, with annotation to say
which queues it should go to on the remote node. This code is nearly
finished and will very likely appear in the next release of Rabbit.

Simon is developing this code and hopefully will be able to say more as
it gets finished.

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006842.html">[rabbitmq-discuss] conceptual question
</A></li>
	<LI>Next message: <A HREF="006912.html">[rabbitmq-discuss] conceptual question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6843">[ date ]</a>
              <a href="thread.html#6843">[ thread ]</a>
              <a href="subject.html#6843">[ subject ]</a>
              <a href="author.html#6843">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
