<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Silverlight application with RabbitMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Silverlight%20application%20with%20RabbitMQ&In-Reply-To=4BD6A64B.2090806%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007001.html">
   <LINK REL="Next"  HREF="007016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Silverlight application with RabbitMQ</H1>
    <B>Aernouts Jens</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Silverlight%20application%20with%20RabbitMQ&In-Reply-To=4BD6A64B.2090806%40lshift.net"
       TITLE="[rabbitmq-discuss] Silverlight application with RabbitMQ">aernouts_jens at hotmail.com
       </A><BR>
    <I>Tue Apr 27 10:56:28 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007001.html">[rabbitmq-discuss] Silverlight application with RabbitMQ
</A></li>
        <LI>Next message: <A HREF="007016.html">[rabbitmq-discuss] Silverlight application with RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7003">[ date ]</a>
              <a href="thread.html#7003">[ thread ]</a>
              <a href="subject.html#7003">[ subject ]</a>
              <a href="author.html#7003">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> - Used Kaazing (<A HREF="http://www.kaazing.com/">http://www.kaazing.com/</A>), a gateway to use Sockets with 
</I>&gt;&gt;<i> different languages (Silverlight, JavaScript, &#8230;). The problem here is 
</I>&gt;&gt;<i> that Kaazing only works with version 0.9.0 or 0.9.1 of the AMQP protocol, 
</I>&gt;&gt;<i> but RabbitMQ is only available with version 0.8.0.
</I>&gt;<i>
</I>&gt;<i> There is a fairly stable, just not-yet-official branch of RabbitMQ that 
</I>&gt;<i> supports AMQP 0-9-1.  See <A HREF="https://dev.rabbitmq.com/wiki/Amqp091">https://dev.rabbitmq.com/wiki/Amqp091</A>
</I>&gt;<i>
</I>I downloaded this version but I can't get it to work on my PC. When I run 
&quot;rabbitmq-server.bat&quot; I get the following:

*********************
Service control usage
*********************

rabbitmq-service help    - Display this help
rabbitmq-service install - Install the RabbitMQ service
rabbitmq-service remove  - Remove the RabbitMQ service

The following actions can also be accomplished by using
Windows Services Management Console (services.msc):

rabbitmq-service start   - Start the RabbitMQ service
rabbitmq-service stop    - Stop the RabbitMQ service
rabbitmq-service disable - Disable the RabbitMQ service
rabbitmq-service enable  - Enable the RabbitMQ service


c:\Temp\rabbitmq_server-0.0.0\sbin&gt;rabbitmq-service.bat remove
C:\Program Files (x86)\erl5.7.5\erts-5.7.5\bin\erlsrv: Service RabbitMQ 
removed
from system.

c:\Temp\rabbitmq_server-0.0.0\sbin&gt;rabbitmq-server

+---+   +---+
|<i>   |   |   |
</I>|<i>   |   |   |
</I>|<i>   |   |   |
</I>|<i>   +---+   +-------+
</I>|<i>                   |
</I>|<i> RabbitMQ  +---+   |
</I>|<i>           |   |   |
</I>|<i>   v0.0.0  +---+   |
</I>|<i>                   |
</I>+-------------------+
AMQP 0-9-1
Copyright (C) 2007-2010 LShift Ltd., Cohesive Financial Technologies LLC., 
and R
abbit Technologies Ltd.
Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>

node          : <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at Laptop_2_64Bit</A>
app descriptor: c:/Temp/rabbitmq_server-0.0.0/sbin/../ebin/rabbit.app
home dir      : C:\Users\Compufreak
cookie hash   : +H0L6sW4I41zYcsFymNsfg==
log           : C:/Users/Compufreak/AppData/Roaming/RabbitMQ/log/rabbit.log
sasl log      : 
C:/Users/Compufreak/AppData/Roaming/RabbitMQ/log/rabbit-sasl.log

database dir  : 
c:/Users/Compufreak/AppData/Roaming/RabbitMQ/db/rabbit-mnesia

starting worker pool 
...done
starting database 
...done
-- external infrastructure ready
starting exchange type registry 
...done
starting exchange type topic 
...done
starting exchange type headers 
...done
starting exchange type fanout 
...done
starting exchange type direct 
...done
starting internal event notification system 
...done
starting logging server 
...done
-- kernel ready
starting alarm handler 
...done
starting queue supervisor 
...done
starting node monitor 
...done
starting cluster router 
...done
-- core initialized
starting empty DB check 
...done
starting codec correctness check 
...done
starting exchange recovery 
...BOOT ER
ROR: FAILED
Reason: {function_clause,
            [{rabbit_exchange,recover_with_bindings,
                 [[],
                  [{exchange,
                       {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&gt;&gt;},
                       direct,true,false,[]},
                   {exchange,
                       {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;amq.direct&quot;&gt;&gt;},
                       direct,true,false,[]},
                   {exchange,
                       {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;amq.fanout&quot;&gt;&gt;},
                       fanout,true,false,[]},
                   {exchange,
                       {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;amq.headers&quot;&gt;&gt;},
                       headers,true,false,[]},
                   {exchange,
                       {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;amq.match&quot;&gt;&gt;},
                       headers,true,false,[]},
                   {exchange,
                       {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;amq.rabbitmq.log&quot;&gt;&gt;},
                       topic,true,false,[]},
                   {exchange,
                       {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;amq.topic&quot;&gt;&gt;},
                       topic,true,false,[]}],
                  []]},
             {rabbit_exchange,recover,0},
             {rabbit,'-run_boot_step/1-lc$^1/1-1-',1},
             {rabbit,run_boot_step,1},
             {rabbit,'-start/2-lc$^0/1-0-',1},
             {rabbit,start,2},
             {application_master,start_it_old,4}]}
{&quot;init terminating in 
do_boot&quot;,{{nocatch,{error,{cannot_start_application,rabbit
,{bad_return,{{rabbit,start,[normal,[]]},{'EXIT',{rabbit,failure_during_boot}}}}
}}},[{init,start_it,1},{init,start_em,1}]}}

Crash dump was written to: erl_crash.dump
init terminating in do_boot ()

c:\Temp\rabbitmq_server-0.0.0\sbin&gt;

So there is an error when starting the exchange recovery module. Maybe a 
little bug?


&gt;&gt;<i> We also have in mind two other possible approaches:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> - Build a web service between the Silverlight client and RabbitMQ. But we 
</I>&gt;&gt;<i> want to avoid polling as this would decrease the responsiveness. This is 
</I>&gt;&gt;<i> why we want to connect straight to RabbitMQ from the Silverlight client.
</I>&gt;<i>
</I>&gt;<i> You might also look at the Rabbit JSON RPC adapter, though this may suffer 
</I>&gt;<i> from the same &quot;textiness&quot; that the STOMP adapter does.
</I>&gt;<i>
</I>Will JSON work well with binary data? The STOMP connection works well, so 
that's not the problem. It's just the use of binary data where it fails...


&gt;&gt;<i> - Get the RabbitMQ client Project to compile against the Silverlight 
</I>&gt;&gt;<i> runtime. This is not undoable, but requires some work. Would someone be 
</I>&gt;&gt;<i> interested in a Silverlight version of the RabbitMQ client?
</I>&gt;<i>
</I>&gt;<i> A Silverlight client would be great to see!  How much work do you think 
</I>&gt;<i> this involves, and what are the main obstacles -- are there classes that 
</I>&gt;<i> substitute for those that are missing?
</I>&gt;<i>
</I>The only thing I did right now, was opening the .NET solution, update it 
(Visual Studio 2010) and add a Silverlight application. Then I edited the 
Silverlight .cproj file that was generated, to insert all the .cs files of 
the .NET client. When I try to compile the whole thing, I get about 40 
errors. I don't know yet how much work it's going to take, I'm analyzing the 
errors right now. The main obstacles are:
- Use of SLL in Silverlight (in our application we don't need this, but 
maybe it's possible to change some things?)
- Use of framing (needs to be resolved, but don't know how yet)
- Use of XmlDocument (may can changed by the use of XmlReader etc.)
- ArrayList's (can be changed in generic lists)

There are some classes that substitute for the classes that are missing, but 
I'm not sure in wich degree.

Jens Aernouts - Student Bachelor of Applied Engineering @ Artesis University 
College of Antwerp 


</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007001.html">[rabbitmq-discuss] Silverlight application with RabbitMQ
</A></li>
	<LI>Next message: <A HREF="007016.html">[rabbitmq-discuss] Silverlight application with RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7003">[ date ]</a>
              <a href="thread.html#7003">[ thread ]</a>
              <a href="subject.html#7003">[ subject ]</a>
              <a href="author.html#7003">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
