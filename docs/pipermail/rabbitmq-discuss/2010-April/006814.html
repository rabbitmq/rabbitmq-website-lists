<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbit cluster keeps crashing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbit%20cluster%20keeps%20crashing&In-Reply-To=20100402152411.GE11613%40wellquite.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006774.html">
   <LINK REL="Next"  HREF="006827.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbit cluster keeps crashing</H1>
    <B>LoOoD</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbit%20cluster%20keeps%20crashing&In-Reply-To=20100402152411.GE11613%40wellquite.org"
       TITLE="[rabbitmq-discuss] rabbit cluster keeps crashing">gman at colo247.com
       </A><BR>
    <I>Tue Apr  6 22:29:48 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006774.html">[rabbitmq-discuss] rabbit cluster keeps crashing
</A></li>
        <LI>Next message: <A HREF="006827.html">[rabbitmq-discuss] rabbit cluster keeps crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6814">[ date ]</a>
              <a href="thread.html#6814">[ thread ]</a>
              <a href="subject.html#6814">[ subject ]</a>
              <a href="author.html#6814">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi, 

Matthew Sackman wrote:
&gt;<i> 
</I>&gt;<i> Hmm. The nodedown simply suggests that Erlang has lost touch with the
</I>&gt;<i> other
</I>&gt;<i> nodes. What kind of a network are you suing - is this a LAN or WAN or...
</I>&gt;<i> and do you see any sort of packet loss with other applications?
</I>&gt;<i> 
</I>&gt;<i> You may want to experiment with lower values of net_ticktime in your
</I>&gt;<i> rabbitmq.config file:
</I>&gt;<i> 
</I>&gt;<i> [{kernel, [{net_ticktime, 5}]}].
</I>&gt;<i> 
</I>&gt;<i> See
</I>&gt;<i> <A HREF="http://ftp.sunet.se/pub/lang/erlang/doc/man/net_kernel.html#set_net_ticktime-1">http://ftp.sunet.se/pub/lang/erlang/doc/man/net_kernel.html#set_net_ticktime-1</A>
</I>&gt;<i> for documentation. It could just be that getting the nodes to talk to each
</I>&gt;<i> other more frequently will solve this. On the other hand, that's likely to
</I>&gt;<i> only be a problem if there are large periods of inactivity in the cluster
</I>&gt;<i> -
</I>&gt;<i> is this the case?
</I>&gt;<i> 
</I>
Our servers are connected to gige switches and different subnets. The
switches and routers that the servers are connected to are using less then
10% of their capacity. We don't see any other apps having any sort of
network issues.  We send the rabbit cluster about 70 msgs/sec.

Another symptom we've noticed is the beam.smp process using 100% cpu. Is
there any thing we can do, to help track down the exact cause? Some sort of
increase debugging level? We're willing to do anything to figure out what
going on and stabilize it.


-- 
View this message in context: <A HREF="http://old.nabble.com/rabbit-cluster-keeps-crashing-tp28023134p28157770.html">http://old.nabble.com/rabbit-cluster-keeps-crashing-tp28023134p28157770.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006774.html">[rabbitmq-discuss] rabbit cluster keeps crashing
</A></li>
	<LI>Next message: <A HREF="006827.html">[rabbitmq-discuss] rabbit cluster keeps crashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6814">[ date ]</a>
              <a href="thread.html#6814">[ thread ]</a>
              <a href="subject.html#6814">[ subject ]</a>
              <a href="author.html#6814">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
