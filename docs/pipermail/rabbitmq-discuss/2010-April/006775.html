<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] basic_qos(prefetch_count=1) NOT_IMPLEMENTED
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20basic_qos%28prefetch_count%3D1%29%20NOT_IMPLEMENTED&In-Reply-To=7C243F1A-0610-439A-BB4D-18137440E073%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006827.html">
   <LINK REL="Next"  HREF="006776.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] basic_qos(prefetch_count=1) NOT_IMPLEMENTED</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20basic_qos%28prefetch_count%3D1%29%20NOT_IMPLEMENTED&In-Reply-To=7C243F1A-0610-439A-BB4D-18137440E073%40gmail.com"
       TITLE="[rabbitmq-discuss] basic_qos(prefetch_count=1) NOT_IMPLEMENTED">matthew at lshift.net
       </A><BR>
    <I>Fri Apr  2 16:38:54 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006827.html">[rabbitmq-discuss] rabbit cluster keeps crashing
</A></li>
        <LI>Next message: <A HREF="006776.html">[rabbitmq-discuss] sub-request a message using a message batch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6775">[ date ]</a>
              <a href="thread.html#6775">[ thread ]</a>
              <a href="subject.html#6775">[ subject ]</a>
              <a href="author.html#6775">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ray,

On Wed, Mar 31, 2010 at 04:26:00PM -0400, Ray Slakinski wrote:
&gt;<i> When I set basic_qos to 1 I get an NOT IMPLEMENTED error coming back from RabbitMQ, we are using 1.7.2 and txamqp, I was looking at an example of someone using this setting on 1.6 and working ok, so I wanted to know if its just broke in 1.7.2 and if so is there a patch forthcoming or do I need to compile things differently?
</I>&gt;<i> 
</I>&gt;<i> &gt;&gt;&gt; yield channel.basic_qos(prefetch_count=1)
</I>&gt;<i> txamqp.client.Closed: Method(name=close, id=60) (540, 'NOT_IMPLEMENTED - prefetch_size!=0 (1)', 60, 10) content = None
</I>
Looks like a bug in the client to me - you're setting prefetch_count,
which we do implement, but the server's receiving a non-zero value for
prefetch_size (which we don't implement).

You could try explicitly setting prefetch_size to 0 as well, and see if
that helps, but unless there's something funny going on elsewhere, it
smells like a bug in txamqp to me (though I've not checked the code).

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006827.html">[rabbitmq-discuss] rabbit cluster keeps crashing
</A></li>
	<LI>Next message: <A HREF="006776.html">[rabbitmq-discuss] sub-request a message using a message batch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6775">[ date ]</a>
              <a href="thread.html#6775">[ thread ]</a>
              <a href="subject.html#6775">[ subject ]</a>
              <a href="author.html#6775">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
