<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ HA with Redis
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20HA%20with%20Redis&In-Reply-To=k2r5ef296b31004141335xed6262fakc61b0d2037852bf%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006886.html">
   <LINK REL="Next"  HREF="006895.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ HA with Redis</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20HA%20with%20Redis&In-Reply-To=k2r5ef296b31004141335xed6262fakc61b0d2037852bf%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] RabbitMQ HA with Redis">alexis.richardson at gmail.com
       </A><BR>
    <I>Thu Apr 15 11:51:41 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006886.html">[rabbitmq-discuss] RabbitMQ HA with Redis
</A></li>
        <LI>Next message: <A HREF="006895.html">[rabbitmq-discuss] RabbitMQ HA with Redis
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6891">[ date ]</a>
              <a href="thread.html#6891">[ thread ]</a>
              <a href="subject.html#6891">[ subject ]</a>
              <a href="author.html#6891">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gustavo,

On Wed, Apr 14, 2010 at 9:35 PM, Gustavo Aquino
&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aquino.gustavo at gmail.com</A>&gt; wrote:
&gt;<i> Alexis,
</I>&gt;<i> Why not one HA OOTB can be provided ?
</I>
As I mentioned, we are about to release an HA Guide which provides our
recommendation for HA today, that we can stand behind.  In other words
- you can trust us to commercially support that solution and provide
SLAs.

You are correct that we *could* provide a single configuration OOTB
for HA.  The question is: which one.

Bear in mind that HA behaviour combines:

* Immediate acceptance
* Immediate delivery
* Eventual acceptance
* Eventual delivery

Note that:

(a) these requirements are in tension with one another; so it is
expensive to provide a system that is able to provide all of them at
once so that, somehow, the system works out what each message needs
and reacts accordingly based on need.

(b) more importantly, the requirements are based on a notion of TIME.
This is problematic because time based guarantees are
non-deterministic.  For some systems an unavailability window of 1ms
is fine because the client can wait.  For others it is too big.  Many
things can affect this.  For example you could be running a messaging
system on a real time Linux kernel, but still have variance in your
failover window due to how your network and disk hardware is behaving
based on (eg) load and contention.

This is all ok, but we need to make our assumptions *explicit* for any
one HA OOTB solution.



&gt;<i> do you have one HP OOTB solution why
</I>&gt;<i> not HA ? May be one HA OOTB is not the best solution, and may be not attend
</I>&gt;<i> 100% of users but may be 70% and it's sounds good for me not for you ?.
</I>
Yes that's fine Gustavo, but as soon as you make a promise about one
configuration being &quot;HA&quot; then people immediately expect that you can
do things that break the laws of physics.




&gt;<i> We know about one AMQP product that have a HA OOTB solution, and we are
</I>&gt;<i> trying this &quot;HA OOTB&quot; and this product will be used in CME. But can't do the
</I>&gt;<i> same with RabbitMQ.
</I>
Why don't you describe the main HA parameters that you need, on this
list, and we can talk about them.

Also: Do you want to see a copy of the HA Guide?




&gt;<i> I understand you, and you know my case, we are working in
</I>&gt;<i> microseconds/nanoseconds, may be this HA don't attend our requirements, but
</I>&gt;<i> it is one solutions and until now we don't have a good solution for HA using
</I>&gt;<i> Rabbit, about HP we don't need nothing to talk about RabbitMQ is very good
</I>&gt;<i> Broker routing 2.000.000 messages per second just inboud. But one good HA
</I>&gt;<i> solution is getting my sleep.
</I>
I'm sorry to hear that we are keeping you awake at night.



&gt;<i> Do you know what we need,we talked about that is just one HA solution from
</I>&gt;<i> RabbitMQ with a very low&#160;latency, SLA and guarantee that no messages will be
</I>&gt;<i> loosed.&#160;O.S cluster or putting HA logic in our application is not a good
</I>&gt;<i> solution in our case.
</I>
Actually, doing dedup on the consumer could be a very good solution
based on what you have told me in the past.  But, let's keep
discussing it.

alexis



&gt;<i> Regards.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, Apr 14, 2010 at 4:56 PM, Alexis Richardson
</I>&gt;<i> &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Gustavo
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We are about to release an HA Guide including recommendations. &#160;It's
</I>&gt;&gt;<i> just being reviewed.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It is not possible to provide &quot;HA OOTB&quot; because each system is
</I>&gt;&gt;<i> slightly different. &#160;If someone tells you that they can support HA
</I>&gt;&gt;<i> OOTB, they are misleading you. &#160;What is possible, and desirable, is a
</I>&gt;&gt;<i> much simpler and more &quot;OOTB like&quot; experience for the main four or five
</I>&gt;&gt;<i> HA cases. &#160;For example, the Beetle project aims to solve for cases
</I>&gt;&gt;<i> where idempotency is desired. &#160;Your case might require a different
</I>&gt;&gt;<i> optimisation. &#160;E.g. sometimes latency needs to be below X
</I>&gt;&gt;<i> microseconds, and sometimes it does not.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We are in the business of providing long term commercial support for
</I>&gt;&gt;<i> RabbitMQ based solutions, including where an SLA is in use. &#160;Just let
</I>&gt;&gt;<i> us know what solution or solutions you need.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> alexis
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Apr 14, 2010 at 8:43 PM, Gustavo Aquino
</I>&gt;&gt;<i> &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aquino.gustavo at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; Alexis,
</I>&gt;&gt;<i> &gt; I know that it's not the unique, you know how much I'm looking for a
</I>&gt;&gt;<i> &gt; good HA
</I>&gt;&gt;<i> &gt; solutions using RabbitMQ. The problem is RabbitMQ&#160;doesn't&#160;have a default
</I>&gt;&gt;<i> &gt; solution out of the box for HA, and do you know companies need it, need
</I>&gt;&gt;<i> &gt; a
</I>&gt;&gt;<i> &gt; commitment from product owner about HA. Do my own solution means,
</I>&gt;&gt;<i> &gt; the&#160;responsible&#160;of&#160;maintenance&#160;and evolution of this solutions is my,
</I>&gt;&gt;<i> &gt; and it
</I>&gt;&gt;<i> &gt; is not my business it will be yours. Understand why I do this question
</I>&gt;&gt;<i> &gt; about
</I>&gt;&gt;<i> &gt; support ?
</I>&gt;&gt;<i> &gt; I'm a community&#160;enthusiast, and work hard of lot of open projects and is
</I>&gt;&gt;<i> &gt; a
</I>&gt;&gt;<i> &gt; pleasure if I can help to Rabbit HA, the point is today all products
</I>&gt;&gt;<i> &gt; inclusive cloud products need to have one HA solutions OTB, It's is the
</I>&gt;&gt;<i> &gt; best
</I>&gt;&gt;<i> &gt; ? may be not but need to have it, and today we have a problem of using
</I>&gt;&gt;<i> &gt; RabbitMQ because it don't have it. So how can I put Rabbit on my core if
</I>&gt;&gt;<i> &gt; cannot&#160;guarantee a single SLA, or without putting&#160;responsible&#160;in side
</I>&gt;&gt;<i> &gt; like
</I>&gt;&gt;<i> &gt; O.S cluster solution, OpenaIS, LVS shared storage or whatever.
</I>&gt;&gt;<i> &gt; Do you know any about the overhead in throughput using this Xing's
</I>&gt;&gt;<i> &gt; Solution
</I>&gt;&gt;<i> &gt; ?
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; Best Regards.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; On Wed, Apr 14, 2010 at 4:08 PM, Alexis Richardson
</I>&gt;&gt;<i> &gt; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Thanks Salvatore.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; Gustavo,
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; We and the community will support good solutions and 'things that
</I>&gt;&gt;<i> &gt;&gt; work'. &#160;I like the approach, but as Salvatore suggested - it is not
</I>&gt;&gt;<i> &gt;&gt; unique.
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; alexis
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; On Wed, Apr 14, 2010 at 7:37 PM, Salvatore Sanfilippo
</I>&gt;&gt;<i> &gt;&gt; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">antirez at gmail.com</A>&gt;
</I>&gt;&gt;<i> &gt;&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt; On Wed, Apr 14, 2010 at 8:34 PM, Gustavo Aquino
</I>&gt;&gt;<i> &gt;&gt; &gt; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aquino.gustavo at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; So if RabbitMQ is a VMWare product and Redis it too, so do Rabbit
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; support
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; this HA&#160;approach&#160;? :-)
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; I think that surely it helps that this feature depends from another
</I>&gt;&gt;<i> &gt;&gt; &gt; VMWare product ;)
</I>&gt;&gt;<i> &gt;&gt; &gt; But my guess is that the way to go is to have such a support built-in
</I>&gt;&gt;<i> &gt;&gt; &gt; for RabbitMQ.
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; Ciao,
</I>&gt;&gt;<i> &gt;&gt; &gt; Salvatore
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; Regars.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; On Wed, Apr 14, 2010 at 2:09 PM, Jason J. W. Williams
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jasonjwwilliams at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; Been reading the page since y'all started tweeting about it. :)
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; It's
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; hard to tell how it works.
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; -J
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; On Wed, Apr 14, 2010 at 11:02 AM, Alexis Richardson
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; Hi everyone,
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; It looks like Xing's Beetle project is up on Github:
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; <A HREF="http://github.com/xing/beetle">http://github.com/xing/beetle</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; There is a project page here: <A HREF="http://xing.github.com/beetle/">http://xing.github.com/beetle/</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; Please take a look and share any comments you may have here :-)
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; alexis
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; rabbitmq-discuss mailing list
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; _______________________________________________
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; rabbitmq-discuss mailing list
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;&gt; <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;&gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; --
</I>&gt;&gt;<i> &gt;&gt; &gt; Salvatore 'antirez' Sanfilippo
</I>&gt;&gt;<i> &gt;&gt; &gt; <A HREF="http://invece.org">http://invece.org</A>
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;&gt; &gt; &quot;Once you have something that grows faster than education grows,
</I>&gt;&gt;<i> &gt;&gt; &gt; you&#8217;re always going to get a pop culture.&quot;, Alan Kay
</I>&gt;&gt;<i> &gt;&gt; &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt;
</I>&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006886.html">[rabbitmq-discuss] RabbitMQ HA with Redis
</A></li>
	<LI>Next message: <A HREF="006895.html">[rabbitmq-discuss] RabbitMQ HA with Redis
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6891">[ date ]</a>
              <a href="thread.html#6891">[ thread ]</a>
              <a href="subject.html#6891">[ subject ]</a>
              <a href="author.html#6891">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
