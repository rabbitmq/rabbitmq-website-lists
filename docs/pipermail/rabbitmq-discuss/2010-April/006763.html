<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] clustering question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20clustering%20question&In-Reply-To=g2y167204d21003311644h6c9c446fz3c801cb457fa6e9a%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006762.html">
   <LINK REL="Next"  HREF="006764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] clustering question</H1>
    <B>Ian Ragsdale</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20clustering%20question&In-Reply-To=g2y167204d21003311644h6c9c446fz3c801cb457fa6e9a%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] clustering question">ian.ragsdale at gmail.com
       </A><BR>
    <I>Thu Apr  1 01:00:08 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006762.html">[rabbitmq-discuss] clustering question
</A></li>
        <LI>Next message: <A HREF="006764.html">[rabbitmq-discuss] clustering question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6763">[ date ]</a>
              <a href="thread.html#6763">[ thread ]</a>
              <a href="subject.html#6763">[ subject ]</a>
              <a href="author.html#6763">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alexis, that's very useful information - using redis to dedupe messages between redundant servers is interesting.  

Regarding queues being unavailable when their nodes are down, what kind of behavior should I expect at the producer?  If I publish a message to an exchange that is bound to a queue that is unavailable, should I receive an error, would the message be in limbo until the node came back up, or would it just not get pushed into the queue?

Thanks,
Ian

On Mar 31, 2010, at 6:44 PM, Alexis Richardson wrote:

&gt;<i> Ian
</I>&gt;<i> 
</I>&gt;<i> Some background on this is here: <A HREF="http://www.rabbitmq.com/faq.html#performance">http://www.rabbitmq.com/faq.html#performance</A>
</I>&gt;<i> 
</I>&gt;<i> The unavailability of a node prevents any queues on that node from
</I>&gt;<i> receiving messages - instead they must find another path through the
</I>&gt;<i> broker.  By the same token, client cannot consume from a queue whose
</I>&gt;<i> node is down.  Queues cannot yet have an existence 'across' nodes.  It
</I>&gt;<i> is however possible to set up 'back up' queues using normal AMQP.  I
</I>&gt;<i> recommend @ezmobius presentation on Redis, found on slideshare, as
</I>&gt;<i> well as some of our video presentations on high availability - which
</I>&gt;<i> you can find via this link repo:
</I>&gt;<i> <A HREF="http://delicious.com/alexisrichardson/rabbitmq+video+presentation">http://delicious.com/alexisrichardson/rabbitmq+video+presentation</A>
</I>&gt;<i> 
</I>&gt;<i> Does this help?  Let us know.
</I>&gt;<i> 
</I>&gt;<i> Cheers
</I>&gt;<i> 
</I>&gt;<i> alexis
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> On Wed, Mar 31, 2010 at 2:29 PM, Ian Ragsdale &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ian.ragsdale at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hello all.  I just set up a rabbitmq cluster using the clustering setup guide on the website, and I can report that the guide was easy to follow and worked well.  However, I did have a question about a couple of statements made in the guide that I would like to clarify.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> The guide says:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> &quot;RabbitMQ brokers tolerate the failure of individual nodes. Nodes can be started and stopped at will.&quot;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> As well as:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> &quot;All data/state required for the operation of a RabbitMQ broker is replicated across all nodes, for reliability and scaling, with full ACID properties. An exception to this are message queues, which currently only reside on the node that created them, though they are visible and reachable from all nodes.&quot;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> So, from this I can assume that if one of my nodes go down the cluster will continue to operate, but how will that affect any queues that resided on the inoperative node?  If I publish a message that was meant for one of those queues will it fail?  Will clients that are subscribed to those queues continue to receive new messages?  I'd just like to understand what the behavior will be so that I can plan accordingly.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Thanks,
</I>&gt;&gt;<i> Ian
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i> 
</I>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006762.html">[rabbitmq-discuss] clustering question
</A></li>
	<LI>Next message: <A HREF="006764.html">[rabbitmq-discuss] clustering question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6763">[ date ]</a>
              <a href="thread.html#6763">[ thread ]</a>
              <a href="subject.html#6763">[ subject ]</a>
              <a href="author.html#6763">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
