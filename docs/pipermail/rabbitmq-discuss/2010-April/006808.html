<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] New Plugin: External Exchange
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20New%20Plugin%3A%20External%20Exchange&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006819.html">
   <LINK REL="Next"  HREF="006809.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] New Plugin: External Exchange</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20New%20Plugin%3A%20External%20Exchange&In-Reply-To="
       TITLE="[rabbitmq-discuss] New Plugin: External Exchange">matthew at lshift.net
       </A><BR>
    <I>Tue Apr  6 11:57:57 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006819.html">[rabbitmq-discuss] The New Persister --- I would like to compare it with the old (using Tony's recommendations) --- but where is it?
</A></li>
        <LI>Next message: <A HREF="006809.html">[rabbitmq-discuss] New persister developments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6808">[ date ]</a>
              <a href="thread.html#6808">[ thread ]</a>
              <a href="subject.html#6808">[ subject ]</a>
              <a href="author.html#6808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>RabbitMQ External Exchange Plugin
=================================

<A HREF="http://hg.rabbitmq.com/rabbitmq-external-exchange">http://hg.rabbitmq.com/rabbitmq-external-exchange</A>
<A HREF="http://hg.rabbitmq.com/rabbitmq-external-exchange/file/default/README">http://hg.rabbitmq.com/rabbitmq-external-exchange/file/default/README</A>


Overview
--------

This plugin allows you to write implementations of exchange types as
normal AMQP clients of RabbitMQ using any of the multitude of AMQP
clients available.

Example frameworks for both Java (using the RabbitMQ Java client) and
Erlang (using the RabbitMQ Erlang client) are provided to demonstrate
the cleanliness of API that can be achieved.


Introduction
------------

AMQP provides 4 basic exchange types: &quot;fanout&quot;, &quot;direct&quot;, &quot;topic&quot; and
&quot;headers&quot;. It also provides a means to allow custom exchange types to
be used, requiring that any such custom exchange types start with a
&quot;x-&quot; prefix.

RabbitMQ provides pluggable exchange types, which permit new exchange
types to be provided by filling in a thin API. This API allows the
custom exchange type to be notified of exchange creation, deletion,
the addition and removal of bindings, and the publishing messages to
an exchange. The custom exchange may, upon being told of a publish,
modify the message or any of its meta-data, and route it to any queue.

However, the custom exchange is called directly by each channel, and
so does not serialise events, making it a little challenging (though
by no means overly tricky) to maintain state. It also requires the
exchange to be written in Erlang and to run directly in the same
Erlang VM as RabbitMQ (though note that plugins such as the
script-exchange allow for functions written in scripting languages
such as Javascript to be run on every publish).

This plugin takes the events relating to exchanges, encapsulates them
in AMQP and performs RPC to an external client. This allows further
choice of language, flexibility of implementation, and permits all
events to be processed by a single thread, thus making it easier for
the exchange type implementation to be stateful (though it's by no
means impossible to achieve a stateful exchange without this plugin).

See the README linked above for the rest of the details including the
APIs of the example frameworks.

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006819.html">[rabbitmq-discuss] The New Persister --- I would like to compare it with the old (using Tony's recommendations) --- but where is it?
</A></li>
	<LI>Next message: <A HREF="006809.html">[rabbitmq-discuss] New persister developments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6808">[ date ]</a>
              <a href="thread.html#6808">[ thread ]</a>
              <a href="subject.html#6808">[ subject ]</a>
              <a href="author.html#6808">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
