<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ C Client Intermediate Status Source	Code
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20C%20Client%20Intermediate%20Status%20Source%0A%09Code&In-Reply-To=%3Cyrv4cvd98pnoi.fsf%40dwragg.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007742.html">
   <LINK REL="Next"  HREF="007752.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ C Client Intermediate Status Source	Code</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20C%20Client%20Intermediate%20Status%20Source%0A%09Code&In-Reply-To=%3Cyrv4cvd98pnoi.fsf%40dwragg.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ C Client Intermediate Status Source	Code">david at rabbitmq.com
       </A><BR>
    <I>Thu Jun 24 14:25:49 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007742.html">[rabbitmq-discuss] RabbitMQ C Client Intermediate Status Source	Code
</A></li>
        <LI>Next message: <A HREF="007752.html">[rabbitmq-discuss] ssl certificate to client lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7740">[ date ]</a>
              <a href="thread.html#7740">[ thread ]</a>
              <a href="subject.html#7740">[ subject ]</a>
              <a href="author.html#7740">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Frank,

Thanks for putting your code up.

Frank G&#246;nninger &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">frank.goenninger at consequor.de</A>&gt; writes:
&gt;<i> [...]
</I>&gt;<i>
</I>&gt;<i> Now, codegen.py emits GNU C specific code - that leaves us with &quot;a lot
</I>&gt;<i> of work&quot; to modify codegen.py to
</I>&gt;<i>
</I>&gt;<i> A. Either emit ANSI C code using pure functions and avoid C &quot;macros&quot;, or
</I>&gt;<i>
</I>&gt;<i> B. Emit the same #ifdef'ed code structure that has been used manually
</I>&gt;<i> to adapt all other source and header files.
</I>
I'd strongly suggest option A.

In fact, I'd suggest that approach throughout the codebase.  Preserving
the gccisms using ifdefs will just makes the code harder to maintain,
without providing any particular benefits (the gccisms in the rabbitmq-c
codebase are interesting experiments, but in the cold light of day seem
a bit gratuitous).

&gt;<i> Meanwhile, due to presssing project deadlines, we stopped working on
</I>&gt;<i> his approach and have resorted to the MINGW alternative for coding our
</I>&gt;<i> application. In latest two months time, however, we will be facing a
</I>&gt;<i> situation where we need to deliver a Visual Studio 2010 project used
</I>&gt;<i> by the client to build the code (then to be deployed on a Windows
</I>&gt;<i> Server 2008-based machine).
</I>
I know the problem of balancing deadlines and ideal solutions well.

I propose we look at merging some of your changes back into the main
rabbitmq-c repo.  While this won't yet give a pure ANSI rabbitmq-c, it
will at least move us closer to that ideal, and form a basis for future
work towards that goal.  As mentioned above, I'd prefer to kill the
gccisms completely wherever possible.  That might be as simple as
deleting the code under &quot;#ifdef __GNUC__&quot;.

To make it possible to pull your changes back into rabbitmq-c, we will
need you to sign a contributor agreement.  I'll send you the details
off-list.

David

-- 
David Wragg
Staff Engineer, RabbitMQ
SpringSource, a division of VMware
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007742.html">[rabbitmq-discuss] RabbitMQ C Client Intermediate Status Source	Code
</A></li>
	<LI>Next message: <A HREF="007752.html">[rabbitmq-discuss] ssl certificate to client lookup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7740">[ date ]</a>
              <a href="thread.html#7740">[ thread ]</a>
              <a href="subject.html#7740">[ subject ]</a>
              <a href="author.html#7740">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
