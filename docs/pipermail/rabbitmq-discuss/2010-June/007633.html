<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] running rabbitmq-server as a subprocess
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20running%20rabbitmq-server%20as%20a%20subprocess&In-Reply-To=%3C30F70700-CE8A-4DBF-9CA3-3C53C834CDFF%40borogove.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007620.html">
   <LINK REL="Next"  HREF="007602.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] running rabbitmq-server as a subprocess</H1>
    <B>Russell Borogove</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20running%20rabbitmq-server%20as%20a%20subprocess&In-Reply-To=%3C30F70700-CE8A-4DBF-9CA3-3C53C834CDFF%40borogove.org%3E"
       TITLE="[rabbitmq-discuss] running rabbitmq-server as a subprocess">russell at borogove.org
       </A><BR>
    <I>Thu Jun 17 20:36:44 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007620.html">[rabbitmq-discuss] running rabbitmq-server as a subprocess
</A></li>
        <LI>Next message: <A HREF="007602.html">[rabbitmq-discuss] Publish to queue fails but publish to direct	exchange works
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7633">[ date ]</a>
              <a href="thread.html#7633">[ thread ]</a>
              <a href="subject.html#7633">[ subject ]</a>
              <a href="author.html#7633">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Jun 17, 2010, at 4:51 AM, Matthew Sackman wrote:

&gt;<i> Hi Russell,
</I>&gt;<i> 
</I>&gt;<i> On Wed, Jun 16, 2010 at 05:16:59PM -0700, Russell Borogove wrote:
</I>&gt;&gt;<i> Is rabbitmq-server in fact suspending its parent process? Is there a way to stop it from doing so? Is there a better way to launch rabbitmq from a script?
</I>&gt;<i> 
</I>&gt;<i> Hmm, that's interesting. The shell scripts that you call to start Rabbit
</I>&gt;<i> will create new processes as necessary, and there will be a few. We're
</I>&gt;<i> doing nothing fancy to the parent process at all - the shell scripts
</I>&gt;<i> will exit and there should be a beam process running. This isn't
</I>&gt;<i> something we've come across so I'm afraid I've nothing concrete to
</I>&gt;<i> suggest. 
</I>
Paring down our script, it appears that the root of the problem may be 
that we're doing some funky termios stuff in the script after launching 
rabbit, to let us do character-by-character input polling on that script 
(in the service of &quot;press Q to quit&quot;). If I launch rmq in such a way that 
it doesn't share stdout with the script, there's no problem.
 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007620.html">[rabbitmq-discuss] running rabbitmq-server as a subprocess
</A></li>
	<LI>Next message: <A HREF="007602.html">[rabbitmq-discuss] Publish to queue fails but publish to direct	exchange works
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7633">[ date ]</a>
              <a href="thread.html#7633">[ thread ]</a>
              <a href="subject.html#7633">[ subject ]</a>
              <a href="author.html#7633">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
