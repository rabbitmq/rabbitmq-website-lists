<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss]  WCF and queue creation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%20WCF%20and%20queue%20creation&In-Reply-To=%3C28842204.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007538.html">
   <LINK REL="Next"  HREF="007543.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss]  WCF and queue creation</H1>
    <B>Jon Graham</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%20WCF%20and%20queue%20creation&In-Reply-To=%3C28842204.post%40talk.nabble.com%3E"
       TITLE="[rabbitmq-discuss]  WCF and queue creation">Jonathan.Graham at uk.mizuho-sc.com
       </A><BR>
    <I>Thu Jun 10 13:11:48 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007538.html">[rabbitmq-discuss] externally creating authorized users?
</A></li>
        <LI>Next message: <A HREF="007543.html">[rabbitmq-discuss] WCF and queue creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7529">[ date ]</a>
              <a href="thread.html#7529">[ thread ]</a>
              <a href="subject.html#7529">[ subject ]</a>
              <a href="author.html#7529">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I've just started trying to use RabbitMQ with WCF.  What I'd like to be able
to do is send one way messages to a WCF service and have RabbitMQ provide a
durable queue for messages sent to the WCF service.  I have been able to set
up a one way messaging example with relative ease, but the problem I've
encountered is that the queue is always generated on the fly by the RabbitMQ
WCF client and is automatically deleted when the consumer disconnects from
the broker.

I used the .NET client to declare a durable queue and bound it using the
same key as was being used in the WCF configuration. Unfortunately, the
RabbitMQ WCF client still creates a non-durable queue with a random name
(e.g. &quot;amq.gen-qJXrh8ZClEjNDG8PsCe4hA==&quot;) and uses that rather than the
queue I had declared earlier.

Is there a way to get the RabbitMQ WCF client to use a pre-existing queue?

My WCF configuration is as follows:

&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;configuration&gt;
    &lt;system.serviceModel&gt;
        &lt;extensions&gt;
            &lt;bindingExtensions&gt;
                &lt;add name=&quot;rabbitMQBinding&quot;
                     type=&quot;RabbitMQ.ServiceModel.RabbitMQBindingSection,
RabbitMQ.ServiceModel, Version=1.0.110.0, Culture=neutral,
PublicKeyToken=null&quot;/&gt;
            &lt;/bindingExtensions&gt;
        &lt;/extensions&gt;

        &lt;bindings&gt;
            &lt;rabbitMQBinding&gt;
                &lt;binding name=&quot;OneWayRMQBinding&quot;
                         protocolversion=&quot;AMQP_0_8&quot;
                         broker=&quot;<A HREF="amqp://MyHost:5672/&quot;">amqp://MyHost:5672/&quot;</A>
                         oneWay=&quot;true&quot; /&gt;
            &lt;/rabbitMQBinding&gt;
        &lt;/bindings&gt;

        &lt;services&gt;
            &lt;service
name=&quot;AMQPTests.SimpleMessaging.ServiceImpl.OneWayService&quot;&gt;
                &lt;host&gt;
                    &lt;baseAddresses&gt;
                        &lt;add baseAddress=&quot;soap.<A HREF="amqp://amq.direct/&quot;">amqp://amq.direct/&quot;</A> /&gt;
                    &lt;/baseAddresses&gt;
                &lt;/host&gt;
                
                &lt;endpoint address=&quot;OneWayService&quot;
                          binding=&quot;rabbitMQBinding&quot;
                          bindingConfiguration=&quot;OneWayRMQBinding&quot;
                         
contract=&quot;AMQPTests.SimpleMessaging.Client.IOneWayService&quot; /&gt;
            &lt;/service&gt;
        &lt;/services&gt;

        &lt;client&gt;
            &lt;endpoint name=&quot;OneWayServiceEndPoint&quot;
                      address=&quot;soap.<A HREF="amqp://amq.direct/OneWayService&quot;">amqp://amq.direct/OneWayService&quot;</A>
                      binding=&quot;rabbitMQBinding&quot;
                      bindingConfiguration=&quot;OneWayRMQBinding&quot;
                     
contract=&quot;AMQPTests.SimpleMessaging.Client.IOneWayService&quot; /&gt;
        &lt;/client&gt;
    &lt;/system.serviceModel&gt;
&lt;/configuration&gt;
-- 
View this message in context: <A HREF="http://old.nabble.com/WCF-and-queue-creation-tp28842204p28842204.html">http://old.nabble.com/WCF-and-queue-creation-tp28842204p28842204.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007538.html">[rabbitmq-discuss] externally creating authorized users?
</A></li>
	<LI>Next message: <A HREF="007543.html">[rabbitmq-discuss] WCF and queue creation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7529">[ date ]</a>
              <a href="thread.html#7529">[ thread ]</a>
              <a href="subject.html#7529">[ subject ]</a>
              <a href="author.html#7529">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
