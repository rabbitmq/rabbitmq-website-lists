<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit crash, new persister
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20crash%2C%20new%20persister&In-Reply-To=%3C20100618163947.GN11857%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007657.html">
   <LINK REL="Next"  HREF="007659.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit crash, new persister</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20crash%2C%20new%20persister&In-Reply-To=%3C20100618163947.GN11857%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit crash, new persister">matthew at rabbitmq.com
       </A><BR>
    <I>Fri Jun 18 17:39:47 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007657.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
        <LI>Next message: <A HREF="007659.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7658">[ date ]</a>
              <a href="thread.html#7658">[ thread ]</a>
              <a href="subject.html#7658">[ subject ]</a>
              <a href="author.html#7658">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi &#216;yvind,

On Fri, Jun 18, 2010 at 06:32:35PM +0200, &#216;yvind Tjervaag wrote:
&gt;<i> &gt; This looks like a permission error. Is rabbit allowed to delete under
</I>&gt;<i> &gt; c:/Documents and Settings/Administrator/Application Data/RabbitMQ/db/rabbit-mnesia ?
</I>&gt;<i> &gt; It's trying to delete files in there, but getting eaccess error codes
</I>&gt;<i> &gt; back which the erlang documentation suggests is &quot;Missing permission for
</I>&gt;<i> &gt; the file or one of its parents&quot;.
</I>&gt;<i> 
</I>&gt;<i> Ah, yes I thinks so. erl.exe is running as Administrator (local), and
</I>&gt;<i> I've started the rabbit-server just in a console logged in as
</I>&gt;<i> Administrator. Windows claims that this user has full access tho this
</I>&gt;<i> folder and the ones below / above it. Would it be worth moving the
</I>&gt;<i> whole mnesia and log folders out of the application and settings
</I>&gt;<i> folder, give full permissions there and give it another try? Can this
</I>&gt;<i> location be set in the config file?
</I>
Hmm, I would certainly try moving it and see if life improves. I've
noticed Windows do strange things to files created by Rabbit / Erlang,
but then again, I've noticed Windows do strange things.

You should be able to set the environment variable RABBITMQ_MNESIA_BASE
to the directory you want to use. When Rabbit starts up, it will display
this directory just under the banner so it should be pretty easy to
check if it's taken effect.

Matthew
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007657.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
	<LI>Next message: <A HREF="007659.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7658">[ date ]</a>
              <a href="thread.html#7658">[ thread ]</a>
              <a href="subject.html#7658">[ subject ]</a>
              <a href="author.html#7658">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
