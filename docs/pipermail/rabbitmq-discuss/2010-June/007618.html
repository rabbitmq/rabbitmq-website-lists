<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Highly Dynamic Bindings?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Highly%20Dynamic%20Bindings%3F&In-Reply-To=%3C20100617114138.GH17204%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007585.html">
   <LINK REL="Next"  HREF="007638.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Highly Dynamic Bindings?</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Highly%20Dynamic%20Bindings%3F&In-Reply-To=%3C20100617114138.GH17204%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Highly Dynamic Bindings?">matthew at rabbitmq.com
       </A><BR>
    <I>Thu Jun 17 12:41:38 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007585.html">[rabbitmq-discuss] Highly Dynamic Bindings?
</A></li>
        <LI>Next message: <A HREF="007638.html">[rabbitmq-discuss] Highly Dynamic Bindings?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7618">[ date ]</a>
              <a href="thread.html#7618">[ thread ]</a>
              <a href="subject.html#7618">[ subject ]</a>
              <a href="author.html#7618">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael,

On Wed, Jun 16, 2010 at 01:39:09AM -0400, Michael Artz wrote:
&gt;<i> We're trying to push some of our application's routing logic into RabbitMQ/AMQP but had a couple of questions before we get too far along.  We currently have a 4-node Rabbit cluster using only a single disk node.  The nodes are underpowered (and under-RAMed), but the message volume is currently only ~10 messages/sec (1K messages), although expected to grow.  We're planning on implementing a chat-like system that would perform a lot of binding operations on a limited number of queues and were wondering:
</I>&gt;<i> 
</I>&gt;<i>  - Are there any issues having a large (30K+) number of non-wildcarded bindings for a single queue?
</I>
Yup. Are these bindings all to a single exchange or to lots of
exchanges. What's the average number of bindings per exchange? If you're
using topic exchanges then the matching of bindings is not as efficient
as it could be, even for bindings without wildcards. Using direct
exchanges are more efficient.

&gt;<i>  - Are there any issues with a large amount of binding &quot;churn&quot; (~10 binding adds/drops per second per queue)
</I>
Yup.

Both of these will cause significant pain for Rabbit as soon as you get
to a decent number of queues. It's certainly worth doing some testing
for your expected use cases, but I would expect this to not scale very
well. All binding create/delete operations will result in traffic
between every node in the cluster.

What kind of chat are you trying to do - just p2p or with chat rooms
etc? Are you doing presence notification etc too?

Matthew
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007585.html">[rabbitmq-discuss] Highly Dynamic Bindings?
</A></li>
	<LI>Next message: <A HREF="007638.html">[rabbitmq-discuss] Highly Dynamic Bindings?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7618">[ date ]</a>
              <a href="thread.html#7618">[ thread ]</a>
              <a href="subject.html#7618">[ subject ]</a>
              <a href="author.html#7618">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
