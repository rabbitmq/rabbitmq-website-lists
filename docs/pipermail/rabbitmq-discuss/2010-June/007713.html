<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] STOMP plugin problems (was: Claim on new	ocamlmq broker...)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20STOMP%20plugin%20problems%20%28was%3A%20Claim%20on%20new%0A%09ocamlmq%20broker...%29&In-Reply-To=%3CAANLkTinMFfsUNetOjeWV31ivvjNgLaMC2RahNpWDM3a7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007708.html">
   <LINK REL="Next"  HREF="007723.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] STOMP plugin problems (was: Claim on new	ocamlmq broker...)</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20STOMP%20plugin%20problems%20%28was%3A%20Claim%20on%20new%0A%09ocamlmq%20broker...%29&In-Reply-To=%3CAANLkTinMFfsUNetOjeWV31ivvjNgLaMC2RahNpWDM3a7%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] STOMP plugin problems (was: Claim on new	ocamlmq broker...)">alexis at rabbitmq.com
       </A><BR>
    <I>Mon Jun 21 16:11:01 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007708.html">[rabbitmq-discuss] STOMP plugin problems (was: Claim on new ocamlmq	broker...)
</A></li>
        <LI>Next message: <A HREF="007723.html">[rabbitmq-discuss] STOMP plugin problems (was: Claim on new	ocamlmq broker...)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7713">[ date ]</a>
              <a href="thread.html#7713">[ thread ]</a>
              <a href="subject.html#7713">[ subject ]</a>
              <a href="author.html#7713">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

En passant:

STOMP fans who wish to help make STOMP 1.1 and 2.0 may wish to observe
or join the conversation at stomp-spec.  This list came back to life
recently - and now is a good time to state your requirements for STOMP
'going forward'.

alexis


On Mon, Jun 21, 2010 at 3:16 PM, Steven Davidson
&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">steven.davidson at physics.org</A>&gt; wrote:
&gt;<i> Hello all,
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &gt; - our STOMP adapter was written by TonyG and is largely unloved.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I dunno, I love it a little :-)
</I>&gt;<i>
</I>&gt;<i> Glad to hear it! I'm having problems with the stomp adaptor, plugin
</I>&gt;<i> installation and mercurial tags, I think. (But I'm new to erlang as well as
</I>&gt;<i> the above!)
</I>&gt;<i> If I do this:
</I>&gt;<i> hg clone <A HREF="http://hg.rabbitmq.com/rabbitmq-public-umbrella">http://hg.rabbitmq.com/rabbitmq-public-umbrella</A>
</I>&gt;<i> cd rabbitmq-public-umbrella/
</I>&gt;<i> make co
</I>&gt;<i> make
</I>&gt;<i> cd rabbitmq-stomp/
</I>&gt;<i> make cover
</I>&gt;<i> cd ../rabbitmq-server/
</I>&gt;<i> mkdir plugins
</I>&gt;<i> cd plugins/
</I>&gt;<i> ln -s ../../rabbitmq-stomp/
</I>&gt;<i> ln -s ../../rabbitmq-erlang-client/
</I>&gt;<i> cd ..
</I>&gt;<i> ./scripts/rabbitmq-activate-plugins
</I>&gt;<i> make cleandb run
</I>&gt;<i> on ubuntu 10.04 LTS, the tests pass and I can use Orbited's handy STOMP test
</I>&gt;<i> demo to verify everything is working from outside the server (connections
</I>&gt;<i> passing through nginx to Orbited).
</I>&gt;<i> I have also installed the ubuntu package via apt-get which according to the
</I>&gt;<i> startup log is v1.7.2. However, I can't seem to install the stomp plugin
</I>&gt;<i> into this installation: I copy the .ez file into a plugins directory, run
</I>&gt;<i> rabbitmq-activate-plugins and start (or restart) rabbit. I get
</I>&gt;&gt;<i> broker running
</I>&gt;&gt;<i> starting STOMP Adapter (binding to [{&quot;127.0.0.1&quot;,61613}]) &#160;...done
</I>&gt;<i> in the startup_log which looks good
</I>&gt;<i> But then the STOMP test produces this error from rabbitmq:
</I>&gt;<i> =INFO REPORT==== 21-Jun-2010::13:24:48 ===
</I>&gt;<i> starting STOMP connection &lt;0.176.0&gt; from 127.0.0.1:59714
</I>&gt;<i> =ERROR REPORT==== 21-Jun-2010::13:24:48 ===
</I>&gt;<i> STOMP error frame sent:
</I>&gt;<i> Message: &quot;Processing error&quot;
</I>&gt;<i> Detail: &quot;Processing error\n&quot;
</I>&gt;<i> Server private detail:
</I>&gt;<i> {undef,[{rabbit_reader_queue_collector,start_link,[]},
</I>&gt;<i> &#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {rabbit_stomp_server,do_login,4},
</I>&gt;<i> &#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {rabbit_stomp_server,process_frame,3},
</I>&gt;<i>
</I>&gt;<i> {rabbit_stomp_server,process_received_bytes,2},
</I>&gt;<i> &#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {rabbit_stomp_server,init,1},
</I>&gt;<i> &#160;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {proc_lib,init_p_do_apply,3}]}
</I>&gt;<i> =INFO REPORT==== 21-Jun-2010::13:24:48 ===
</I>&gt;<i> ending STOMP connection &lt;0.176.0&gt; from 127.0.0.1:59714
</I>&gt;<i> I've tried hg up-ping rabbitmq-server and codegen to the 1_7_2 tag (the
</I>&gt;<i> other repositories don't have this tag), rebuilding and installing the
</I>&gt;<i> resulting plugin but no luck so far.
</I>&gt;<i> So my first question is: am I missing some step that would make this work?
</I>&gt;<i> (or alternatively are the plugins precompiled somewhere for different
</I>&gt;<i> releases of the broker?)
</I>&gt;<i> I decided some 6 months or more ago that STOMP was the way to go for my
</I>&gt;<i> problem (then parked the problem ;-), but lately I've seen some posts about
</I>&gt;<i> the rabbitmq-jsonrpc-channel that have me second-guessing myself.
</I>&gt;<i> I'm looking to provide a queue per client (typically connecting over
</I>&gt;<i> HTTP&#160;using a long polling technique) for the delivery of text based messages
</I>&gt;<i> (100% reliability not required). STOMP support is not a requirement for me
</I>&gt;<i> so I'm wondering if I should investigate
</I>&gt;<i> the&#160;rabbitmq-jsonrpc-channel&#160;approach and thus eliminate the Orbited
</I>&gt;<i> component completely: any thoughts on this? And is
</I>&gt;<i> the&#160;rabbitmq-jsonrpc-channel plugin more loved/robust/stable ;-) ?
</I>&gt;<i> Thanks,
</I>&gt;<i> Steven.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007708.html">[rabbitmq-discuss] STOMP plugin problems (was: Claim on new ocamlmq	broker...)
</A></li>
	<LI>Next message: <A HREF="007723.html">[rabbitmq-discuss] STOMP plugin problems (was: Claim on new	ocamlmq broker...)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7713">[ date ]</a>
              <a href="thread.html#7713">[ thread ]</a>
              <a href="subject.html#7713">[ subject ]</a>
              <a href="author.html#7713">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
