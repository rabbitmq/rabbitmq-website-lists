<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] running rabbitmq-server as a subprocess
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20running%20rabbitmq-server%20as%20a%20subprocess&In-Reply-To=%3CA92DB691-C855-490C-BA03-3660DB5A6798%40borogove.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007600.html">
   <LINK REL="Next"  HREF="007620.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] running rabbitmq-server as a subprocess</H1>
    <B>Russell Borogove</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20running%20rabbitmq-server%20as%20a%20subprocess&In-Reply-To=%3CA92DB691-C855-490C-BA03-3660DB5A6798%40borogove.org%3E"
       TITLE="[rabbitmq-discuss] running rabbitmq-server as a subprocess">russell at borogove.org
       </A><BR>
    <I>Thu Jun 17 01:16:59 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007600.html">[rabbitmq-discuss] Config File
</A></li>
        <LI>Next message: <A HREF="007620.html">[rabbitmq-discuss] running rabbitmq-server as a subprocess
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7601">[ date ]</a>
              <a href="thread.html#7601">[ thread ]</a>
              <a href="subject.html#7601">[ subject ]</a>
              <a href="author.html#7601">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm working on a client-server system involving multiple distinct services, some of which are provided by rabbitmq, others by web2py web apps. 

For local testing, I have a python script which launches the servers, records their PIDs, and leaves them running until the script is terminated, at which time it sends SIGTERM to each of them. 

Without rabbitmq in the mix, this works fine. Starting rabbitmq with &quot;sudo /path/to/rabbitmq-server -setcookie 123&quot; (via python's subprocess.Popen), I get a tty message indicating the control script has been stopped:
[1]+  Stopped                 ./jazz.py -w -r

And the remaining servers that the control script is supposed to start don't get started.

Is rabbitmq-server in fact suspending its parent process? Is there a way to stop it from doing so? Is there a better way to launch rabbitmq from a script?




</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007600.html">[rabbitmq-discuss] Config File
</A></li>
	<LI>Next message: <A HREF="007620.html">[rabbitmq-discuss] running rabbitmq-server as a subprocess
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7601">[ date ]</a>
              <a href="thread.html#7601">[ thread ]</a>
              <a href="subject.html#7601">[ subject ]</a>
              <a href="author.html#7601">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
