<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit crash, new persister
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20crash%2C%20new%20persister&In-Reply-To=%3CADC7E139-DFA9-40B3-8645-6DC92FCCE182%40tjervaag.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007656.html">
   <LINK REL="Next"  HREF="007658.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit crash, new persister</H1>
    <B>&#216;yvind Tjervaag</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20crash%2C%20new%20persister&In-Reply-To=%3CADC7E139-DFA9-40B3-8645-6DC92FCCE182%40tjervaag.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit crash, new persister">oyvind at tjervaag.com
       </A><BR>
    <I>Fri Jun 18 17:32:35 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007656.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
        <LI>Next message: <A HREF="007658.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7657">[ date ]</a>
              <a href="thread.html#7657">[ thread ]</a>
              <a href="subject.html#7657">[ subject ]</a>
              <a href="author.html#7657">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthew!

Thanks for the quick reply!

On Jun 18, 2010, at 6:01 PM, Matthew Sackman wrote:

&gt;<i> Hi &#216;yvind,
</I>&gt;<i> 
</I>&gt;<i> On Fri, Jun 18, 2010 at 05:41:43PM +0200, &#216;yvind Tjervaag wrote:
</I>&gt;&gt;<i> Having some problems with getting my new persister install stable. Running the new persister branch on Windows (compiled rabbit on OSX). Checked out latest sources maybe a bit over a week ago. When I don't stress rabbit too much it's behaving very well, but if I up my publish rate I can get it to crash after a couple of minutes. Maybe even under a minute.
</I>&gt;<i> 
</I>&gt;<i> This looks like a permission error. Is rabbit allowed to delete under
</I>&gt;<i> c:/Documents and Settings/Administrator/Application Data/RabbitMQ/db/rabbit-mnesia ?
</I>&gt;<i> It's trying to delete files in there, but getting eaccess error codes
</I>&gt;<i> back which the erlang documentation suggests is &quot;Missing permission for
</I>&gt;<i> the file or one of its parents&quot;.
</I>
Ah, yes I thinks so. erl.exe is running as Administrator (local), and I've started the rabbit-server just in a console logged in as Administrator. Windows claims that this user has full access tho this folder and the ones below / above it. Would it be worth moving the whole mnesia and log folders out of the application and settings folder, give full permissions there and give it another try? Can this location be set in the config file?

&gt;<i> 
</I>&gt;&gt;<i> When publishing small messages (maybe a couple of KB's) a couple of times per second, everything is seemingly stable and running for days. It crashes however when the messages comes in at 5 msgs/sec and the message size is around 500KB. Just doing a basic publish followed by a tx.commit for every message. Also I've been trying to figure out how to use the Channelflow in the .Net lib. Right now I don't have any code checking for it, but what exactly do I check for? Will I get it in one of the events?
</I>&gt;<i> 
</I>&gt;<i> The client should handle the channel.flow automatically. In the case of
</I>&gt;<i> the Java client, it looks like it just blocks the caller until the
</I>&gt;<i> server allows the client to send again. I would expect the .Net client
</I>&gt;<i> to behave similarly - basically, you shouldn't have to worry about it -
</I>&gt;<i> the client takes care of it for you.
</I>
That's handy :) good to know I hadn't missed something basic ;)

Thanks again!

&#216;yvind

</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007656.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
	<LI>Next message: <A HREF="007658.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7657">[ date ]</a>
              <a href="thread.html#7657">[ thread ]</a>
              <a href="subject.html#7657">[ subject ]</a>
              <a href="author.html#7657">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
