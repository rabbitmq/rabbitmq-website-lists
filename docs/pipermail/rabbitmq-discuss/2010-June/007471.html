<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] 'immediate' vs 'mandatory'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%27immediate%27%20vs%20%27mandatory%27&In-Reply-To=%3C96DF469B-1665-4A7C-BC77-264D50751AD0%40vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007470.html">
   <LINK REL="Next"  HREF="007472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] 'immediate' vs 'mandatory'</H1>
    <B>Oleg Zhurakousky</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%27immediate%27%20vs%20%27mandatory%27&In-Reply-To=%3C96DF469B-1665-4A7C-BC77-264D50751AD0%40vmware.com%3E"
       TITLE="[rabbitmq-discuss] 'immediate' vs 'mandatory'">ozhurakousky at vmware.com
       </A><BR>
    <I>Fri Jun  4 18:03:01 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007470.html">[rabbitmq-discuss] 'immediate' vs 'mandatory'
</A></li>
        <LI>Next message: <A HREF="007472.html">[rabbitmq-discuss] 'immediate' vs 'mandatory'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7471">[ date ]</a>
              <a href="thread.html#7471">[ thread ]</a>
              <a href="subject.html#7471">[ subject ]</a>
              <a href="author.html#7471">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, 'a' and 'b' are actually different IMHO.

If I have a consumer with noAck set to 'false', then I am sending the basicAck conditionally inside of the handleDelivery() method. This means that even though handleDelivery() was successfully invoked, the ACK might not have been sent, right?

Cheers
Oleg


On Jun 4, 2010, at 12:54 PM, Simon MacMullen wrote:

&gt;<i> On 04/06/10 16:54, Oleg Zhurakousky wrote:
</I>&gt;&gt;<i> So what does 'must be delivered to the consumer means?'
</I>&gt;&gt;<i> a) handleDelivery(..) was successfully invoked.
</I>&gt;&gt;<i> b) consumer sent ACK.
</I>&gt;&gt;<i> c) consumer processes message transactionally and then commits it
</I>&gt;<i> 
</I>&gt;<i> Well, from the perspective of the server a) and b) are the same thing 
</I>&gt;<i> (the server cannot be sure the client has seen the message unless it 
</I>&gt;<i> sees an ack).
</I>&gt;<i> 
</I>&gt;<i> However, it looks like what we actually do is to consider it delivered 
</I>&gt;<i> (for the purposes of the immediate flag but not any other) as soon as we 
</I>&gt;<i> start to send the message to the consumer. Hmm.
</I>&gt;<i> 
</I>&gt;<i> Cheers, Simon
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007470.html">[rabbitmq-discuss] 'immediate' vs 'mandatory'
</A></li>
	<LI>Next message: <A HREF="007472.html">[rabbitmq-discuss] 'immediate' vs 'mandatory'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7471">[ date ]</a>
              <a href="thread.html#7471">[ thread ]</a>
              <a href="subject.html#7471">[ subject ]</a>
              <a href="author.html#7471">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
