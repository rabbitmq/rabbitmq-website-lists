<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Insertion of message into RabbitMQ without	queues defined
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Insertion%20of%20message%20into%20RabbitMQ%20without%0A%09queues%20defined&In-Reply-To=%3Cyrv4cpqzjh743.fsf%40dwragg.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007718.html">
   <LINK REL="Next"  HREF="007720.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Insertion of message into RabbitMQ without	queues defined</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Insertion%20of%20message%20into%20RabbitMQ%20without%0A%09queues%20defined&In-Reply-To=%3Cyrv4cpqzjh743.fsf%40dwragg.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] Insertion of message into RabbitMQ without	queues defined">david at rabbitmq.com
       </A><BR>
    <I>Tue Jun 22 08:14:04 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007718.html">[rabbitmq-discuss] Insertion of message into RabbitMQ without	queues defined
</A></li>
        <LI>Next message: <A HREF="007720.html">[rabbitmq-discuss] Insertion of message into RabbitMQ without queues defined
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7719">[ date ]</a>
              <a href="thread.html#7719">[ thread ]</a>
              <a href="subject.html#7719">[ subject ]</a>
              <a href="author.html#7719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Andreas,

Andreas Jung &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lists at zopyx.com</A>&gt; writes:
&gt;<i> Imagine the follow scenario:
</I>&gt;<i>
</I>&gt;<i> - fresh RabbitMQ installation, fresh database, no queues defined
</I>&gt;<i>
</I>&gt;<i> - a producer inserts a bunch of messages into RabbitMQ to some exchange
</I>&gt;<i>
</I>&gt;<i> - later a consumer attaches and defines a queue and attached to the same
</I>&gt;<i> exchange
</I>&gt;<i>
</I>&gt;<i> In this scenario the consumer will not see the message that were
</I>&gt;<i> inserted earlier - intentional?
</I>
Yes.  That is how AMQP is designed: Exchanges have no buffering
behaviour, and do not store messages.  Instead, that is the function of
queues.

&gt;<i> How can the consumer get hold of those messages or is it necessary
</I>&gt;<i> to declare the queues in any case before attaching the producers?
</I>
Yes, you should declare the necessary queues before the producers
publish.

&gt;<i> If yes: is it possible to define the queues through rabbitmqctl
</I>&gt;<i> (and not by firing all producers with their queue definitions
</I>&gt;<i> first)?
</I>
rabbitmqctl cannot declare queues.  But there are many other ways that
you could declare the queues.  For example, you could modify your
consumer applications to separate out the queue declaration
functionality, so you can run that separately.

If you'd really like a command line tool to create the queues,
rabbitmq-c &lt;<A HREF="http://hg.rabbitmq.com/rabbitmq-c/">http://hg.rabbitmq.com/rabbitmq-c/</A>&gt; includes an
amqp_declare_queue command, although currently you need to build it from
source.

David

-- 
David Wragg
Staff Engineer, RabbitMQ
SpringSource, a division of VMware
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007718.html">[rabbitmq-discuss] Insertion of message into RabbitMQ without	queues defined
</A></li>
	<LI>Next message: <A HREF="007720.html">[rabbitmq-discuss] Insertion of message into RabbitMQ without queues defined
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7719">[ date ]</a>
              <a href="thread.html#7719">[ thread ]</a>
              <a href="subject.html#7719">[ subject ]</a>
              <a href="author.html#7719">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
