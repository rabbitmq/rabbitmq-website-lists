<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] 'immediate' vs 'mandatory'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%27immediate%27%20vs%20%27mandatory%27&In-Reply-To=%3C20100606173620.GB27119%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007476.html">
   <LINK REL="Next"  HREF="007456.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] 'immediate' vs 'mandatory'</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%27immediate%27%20vs%20%27mandatory%27&In-Reply-To=%3C20100606173620.GB27119%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] 'immediate' vs 'mandatory'">matthew at rabbitmq.com
       </A><BR>
    <I>Sun Jun  6 18:36:21 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007476.html">[rabbitmq-discuss] 'immediate' vs 'mandatory'
</A></li>
        <LI>Next message: <A HREF="007456.html">[rabbitmq-discuss] June 9th - Meetup in London
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7478">[ date ]</a>
              <a href="thread.html#7478">[ thread ]</a>
              <a href="subject.html#7478">[ subject ]</a>
              <a href="author.html#7478">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Jun 06, 2010 at 10:20:56AM -0700, Oleg Zhurakousky wrote:
&gt;<i> Well, if the only way for the server to know &quot;the client has processed the message successfully is if it receives an ack&quot;, but at the same time server can not wait for an ack forever (in case of client failures), then what is the purpose of an ACK in relation to 'immediate' flag? It seem to be meaningless... right? 
</I>
Yeah, I wouldn't really disagree with that. You could have some
requirement that you don't want messages to be buffered in the queue,
but, as you don't know the qos settings of any consumer, you have no way
of knowing what buffering the consumers are doing: by default, the
client buffers are unbounded. Furthermore, you have no knowledge of
whether the consumer was consuming with noAck set, in which case the
client really has responsibility for the future of the message, or if
the client is meant to be acking, in which case the server is still
maintaining responsibility.

About the only thing that you can gather from not getting a return when
using immediate is that the queue had an unblocked consumer. Of course,
you don't actually know whether you've not got a return - it may be
awaiting you in the future.

Matthew
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007476.html">[rabbitmq-discuss] 'immediate' vs 'mandatory'
</A></li>
	<LI>Next message: <A HREF="007456.html">[rabbitmq-discuss] June 9th - Meetup in London
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7478">[ date ]</a>
              <a href="thread.html#7478">[ thread ]</a>
              <a href="subject.html#7478">[ subject ]</a>
              <a href="author.html#7478">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
