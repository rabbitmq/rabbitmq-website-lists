<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit crash, new persister
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20crash%2C%20new%20persister&In-Reply-To=%3CAANLkTilitJUHAVmyZ-PykgYfF9rEw42TWB4fKNaJRtGM%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007661.html">
   <LINK REL="Next"  HREF="007677.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit crash, new persister</H1>
    <B>John Apps</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20crash%2C%20new%20persister&In-Reply-To=%3CAANLkTilitJUHAVmyZ-PykgYfF9rEw42TWB4fKNaJRtGM%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit crash, new persister">johndapps at gmail.com
       </A><BR>
    <I>Fri Jun 18 21:23:07 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007661.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
        <LI>Next message: <A HREF="007677.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7665">[ date ]</a>
              <a href="thread.html#7665">[ thread ]</a>
              <a href="subject.html#7665">[ subject ]</a>
              <a href="author.html#7665">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have been using the Java programs which are available with the kit. .NET
is something I have yet to try and really should start.
One word of warning: since Erlang is 32-bit mode only, you will run out of
memory quite quickly with certain tests, leading invariably to a crash. You
probably already know this, but in case you did not...
If you have a handy little .NET example lying around, I would love to give a
go. However, I will download the .NET kit and give it a whirl.

I have the following lines in my rabbitmq.config file:

[
        {kernel,
                [{inet_dist_listen_min, 65535},
                 {inet_dist_listen_max, 65535},
                 {inet_default_listen_options,
                        [{nodelay,true}, {sndbuf,65535}, {recbuf,65535}]},
                 {inet_default_connect_options, [{nodelay,true}]}
                ]
        },
        {os_mon,
                [{start_cpu_sup,true},
                 {start_disksup,false},
                 {start_memsup, false},
                 {system_memory_high_watermark, 0.9}
                ]
        },
        {rabbit, [{vm_memory_high_watermark, 0.4}]},
        {rabbit, [{memory_alarms, true}]},
        {mnesia, [{dump_log_write_threshold, 1000}]},
        {rabbit, []}
].
The important ones are the vm_memory_high_watermark and the memory_alarms
true. I have found that using the maximum sndbuf and recbuf give me the best
performance on Windows 7 X64.
2010/6/18 &#216;yvind Tjervaag &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">oyvind at tjervaag.com</A>&gt;

&gt;<i> Ah, neat, wich also remind me I have to start looking into 1.8.0. Are you
</I>&gt;<i> using the .NET client lib, and did you have to change a lot of you code to
</I>&gt;<i> get it working?
</I>&gt;<i>
</I>&gt;<i> /&#216;yvind
</I>&gt;<i>
</I>&gt;<i> On Jun 18, 2010, at 8:41 PM, John Apps wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I define the RABBITMQ_* variables thus:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; RABBITMQ_BASE=C:\AMQP\RabbitMQ\rabbitmq_server-1.8.0
</I>&gt;<i> &gt; RABBITMQ_CONFIG_FILE=C:\AMQP\RabbitMQ\rabbitmq
</I>&gt;<i> &gt; RABBITMQ_NODENAME=BIGPOOH
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; which leads to log and DB being defined under RABBITMQ_BASE. Good to have
</I>&gt;<i> as I am running 3 different versions of RabbitMQ right now, 1.7.1, 1.7.2 and
</I>&gt;<i> 1.8.0. No need, really, it was just so easy to setup.
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
---
John Apps
(49) 171 869 1813
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100618/b9c5949b/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100618/b9c5949b/attachment.htm</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007661.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
	<LI>Next message: <A HREF="007677.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7665">[ date ]</a>
              <a href="thread.html#7665">[ thread ]</a>
              <a href="subject.html#7665">[ subject ]</a>
              <a href="author.html#7665">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
