<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit crash, new persister
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20crash%2C%20new%20persister&In-Reply-To=%3C20100619160046.GB31345%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007678.html">
   <LINK REL="Next"  HREF="007682.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit crash, new persister</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20crash%2C%20new%20persister&In-Reply-To=%3C20100619160046.GB31345%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit crash, new persister">matthew at rabbitmq.com
       </A><BR>
    <I>Sat Jun 19 17:00:47 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007678.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
        <LI>Next message: <A HREF="007682.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7681">[ date ]</a>
              <a href="thread.html#7681">[ thread ]</a>
              <a href="subject.html#7681">[ subject ]</a>
              <a href="author.html#7681">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi &#216;yvind,

On Sat, Jun 19, 2010 at 02:59:23PM +0200, &#216;yvind Tjervaag wrote:
&gt;<i> Tested further with the changed folder, and was looking at the
</I>&gt;<i> contents of the mnesia store folder to see if I could see what was
</I>&gt;<i> happening. When I start up all my components, rabbit starts creating
</I>&gt;<i> store files (I publish at times faster than my consumer can get the
</I>&gt;<i> messages, but in normal operation the consumer should read off all the
</I>&gt;<i> messages in a timely manner..).
</I>
Good, yes that's how it should all be working.

&gt;<i> So, rabbit created, and happily deleted 42 store files before it
</I>&gt;<i> stopped again, without me touching any files/permissions etc. Have
</I>&gt;<i> attached the rabbit and sasl logs again, but the error is basically
</I>&gt;<i> the same as before. No access to the file it seems.
</I>
This is bizarre and very strange. However, it seems similar to some
other weird reports of file handling in Erlang under Windows, for
example, <A HREF="http://www.erlang.org/cgi-bin/ezmlm-cgi/2/679">http://www.erlang.org/cgi-bin/ezmlm-cgi/2/679</A>

We have in the past seen strange things going on with windows firewalls
and such like. It's not beyond the realms of possibility that it's some
virus scanner which is trying to scan the file at the same time as
Rabbit's trying to delete it. Maybe try to see if you could turn any
such things off?

Also, in the recently released Erlang R14A, there are some comments in
the release notes about changes regarding file handling under Windows.
You might like to try that, though note that R14A is, as the name
suggests, an alpha release.

Or, the somewhat easier way out, would be to not run it under Windows!

Matthew
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007678.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
	<LI>Next message: <A HREF="007682.html">[rabbitmq-discuss] Rabbit crash, new persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7681">[ date ]</a>
              <a href="thread.html#7681">[ thread ]</a>
              <a href="subject.html#7681">[ subject ]</a>
              <a href="author.html#7681">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
