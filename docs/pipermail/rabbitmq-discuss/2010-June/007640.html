<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Publish to queue fails but publish to direct exchange works
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publish%20to%20queue%20fails%20but%20publish%20to%20direct%0A%20exchange%20works&In-Reply-To=%3C4C1B09A1.7060103%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007639.html">
   <LINK REL="Next"  HREF="007641.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Publish to queue fails but publish to direct exchange works</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publish%20to%20queue%20fails%20but%20publish%20to%20direct%0A%20exchange%20works&In-Reply-To=%3C4C1B09A1.7060103%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Publish to queue fails but publish to direct exchange works">matthias at rabbitmq.com
       </A><BR>
    <I>Fri Jun 18 06:52:33 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007639.html">[rabbitmq-discuss] Publish to queue fails but publish to direct	exchange works
</A></li>
        <LI>Next message: <A HREF="007641.html">[rabbitmq-discuss] Publish to queue fails but publish to direct	exchange works
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7640">[ date ]</a>
              <a href="thread.html#7640">[ thread ]</a>
              <a href="subject.html#7640">[ subject ]</a>
              <a href="author.html#7640">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Raphael,

Raphael Simon wrote:
&gt;<i> Running some queries on the broker shows that the queue route is indeed 
</I>&gt;<i> gone from mnesia while the exchange route still exists:  [...]
</I>
Simply running 'rabbitmqctl list_bindings' should give the same results. 
Please do that, just to check.

It looks like the binding to the default exchange has vanished. That 
really should only ever happen if the queue is deleted or that binding 
is removed explicitly. Could the latter have happened? It's actually a 
grey area of the spec; imo it should not be allowed, but rabbit does 
currently permit it.

Is the default exchange itself still there? Check with 'rabbitmqctl 
list_exchanges'.

Is this reproducible at all? I suspect not :(

What version of rabbit are you running?

&gt;<i> I still don't understand what scenario could cause this to happen though 
</I>&gt;<i> especially since the exchange is auto-delete
</I>
Interesting. auto-delete exchanges are very rare. In fact I do not know 
of anybody else using them. So it's possible there is a bug in that code 
that has laid dormant for years. Can you explain your use-case for 
auto-delete exchanges?

Also, what version of rabbit are you running?


Regards,

Matthias.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007639.html">[rabbitmq-discuss] Publish to queue fails but publish to direct	exchange works
</A></li>
	<LI>Next message: <A HREF="007641.html">[rabbitmq-discuss] Publish to queue fails but publish to direct	exchange works
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7640">[ date ]</a>
              <a href="thread.html#7640">[ thread ]</a>
              <a href="subject.html#7640">[ subject ]</a>
              <a href="author.html#7640">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
