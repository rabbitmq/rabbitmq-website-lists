<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Exactly Once Delivery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exactly%20Once%20Delivery&In-Reply-To=%3CAANLkTimvv7wQv%3DqqnKtL1-kfw9Ne35MfniDco8xR_UFU%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008303.html">
   <LINK REL="Next"  HREF="008307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Exactly Once Delivery</H1>
    <B>John Apps</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exactly%20Once%20Delivery&In-Reply-To=%3CAANLkTimvv7wQv%3DqqnKtL1-kfw9Ne35MfniDco8xR_UFU%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Exactly Once Delivery">johndapps at gmail.com
       </A><BR>
    <I>Sat Aug  7 16:09:45 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008303.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
        <LI>Next message: <A HREF="008307.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8305">[ date ]</a>
              <a href="thread.html#8305">[ thread ]</a>
              <a href="subject.html#8305">[ subject ]</a>
              <a href="author.html#8305">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Aug 7, 2010 at 13:50, Matthew Sackman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at rabbitmq.com</A>&gt; wrote:

&gt;<i> On Fri, Aug 06, 2010 at 10:43:56PM +0100, Tim Fox wrote:
</I>&gt;<i> &gt; The way we do it in HornetQ is we have a well defined header key
</I>&gt;<i> &gt; &quot;_HQ_DUP_ID&quot;. The client can set this with some unique value of it's
</I>&gt;<i> &gt; choice before sending (e.g. a GUID). When the server receives the
</I>&gt;<i> &gt; message if the _HQ_DUP_ID header is set, it looks up the value in
</I>&gt;<i> &gt; it's cache, and if it's seen it before it ignores it. The cache can
</I>&gt;<i> &gt; optionally be persisted.
</I>&gt;<i>
</I>&gt;<i> How do you prevent the cache from growing without bound?
</I>&gt;<i>
</I>&gt;<i> Matthew
</I>&gt;<i>
</I>&gt;<i> That's really like the piece of string question, no? Of course it can fill
</I>up, as can the DB where things are persisted for those cases where messages
cannot be delivered.
Having an unique ID in every message is not something new and not restricted
to messaging, of course. It is simply a very good idea!
TCP/IP claims to be a 'reliable' transport...The problem with that is that
packets get 'lost' or 'dropped' or simply die of 'old age'. Similar, but
more complex, problems exist with queuing.
What has not been touched on in this little discussion so far is the
question of transactions, and I do not mean those in the 0.9.1 spec, but
those described in the 1.0 spec. Here again, JMS is leading the way with
something which in my mind is as necessary as guaranteed once (or at least
once). Updating DBs from queues and posting the results of those updates to
queues should be atomic; and if I want my debit/credit to happen once rather
than many times or not at all, then a combination of transactions and
guaranteed delivery becomes very attractive both to the designer and the
developers. Yes, ACID comes to mind here...and it is indeed what I am
referring to.

It is great to participate in conversations of this nature - thank you for
putting up with my sometimes oblique ramblings:-)

---
John Apps
(49) 171 869 1813
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100807/82c2cefc/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100807/82c2cefc/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008303.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
	<LI>Next message: <A HREF="008307.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8305">[ date ]</a>
              <a href="thread.html#8305">[ thread ]</a>
              <a href="subject.html#8305">[ subject ]</a>
              <a href="author.html#8305">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
