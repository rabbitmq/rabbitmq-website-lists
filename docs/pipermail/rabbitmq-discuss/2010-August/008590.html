<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] webhooks plugin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20webhooks%20plugin&In-Reply-To=%3CC72AB078-F9CA-4E7A-9646-51662717BE55%40npcinternational.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008589.html">
   <LINK REL="Next"  HREF="008592.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] webhooks plugin</H1>
    <B>Jon Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20webhooks%20plugin&In-Reply-To=%3CC72AB078-F9CA-4E7A-9646-51662717BE55%40npcinternational.com%3E"
       TITLE="[rabbitmq-discuss] webhooks plugin">jon.brisbin at npcinternational.com
       </A><BR>
    <I>Wed Aug 25 22:47:59 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008589.html">[rabbitmq-discuss] webhooks plugin
</A></li>
        <LI>Next message: <A HREF="008592.html">[rabbitmq-discuss] Access control in RabbitMQ 2.0.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8590">[ date ]</a>
              <a href="thread.html#8590">[ thread ]</a>
              <a href="subject.html#8590">[ subject ]</a>
              <a href="author.html#8590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Aug 25, 2010, at 4:28 PM, Jon Brisbin wrote:

&gt;<i> 
</I>&gt;<i> On Aug 25, 2010, at 4:00 PM, Jon Brisbin wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> The day's not over, but I've made some pretty good progress on the webhooks plugin today. Got the plugin starting inside the broker and listening to external messages, etc...
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Now I just need to plug lhttpc into the gen_server I'm using for handling messages and I'll be done with the first alpha!
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I'm wondering now how the best way to handle payload data is in the erlang client? I seem to be crashing the broker when trying to do anything with it. It looks like this in the console:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> &lt;&lt;&quot;{ \&quot;my\&quot;: \&quot;test\&quot; }&quot;&gt;&gt;
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I don't know what it doesn't like about that. Looks like valid JSON data to me. I'm sending this message from my Groovy DSL.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> How do I need to define my handle_call() function to get access to the payload without causing the broker to barf? I'm using:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> handle_call({Info, Msg}, State) 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> I meant handle_info() here, not handle_call()...
</I>&gt;<i> 
</I>&gt;<i> I'm trying to filter out basic.consume_ok and other stuff. Pattern matching these isn't being nice to me. :/
</I>
It was semi-colons. Arg. :P

Well...it was semi-colons (or lack thereof) AND the fact that the docs out in the wild aren't accurate any more (attributes on records have changed so pattern matches don't match any more).

I'll write up a blog post or something with an example of using a Pid as a consumer with 2.0/0-9-1.

Jon Brisbin
Portal Webmaster
NPC International, Inc.

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008589.html">[rabbitmq-discuss] webhooks plugin
</A></li>
	<LI>Next message: <A HREF="008592.html">[rabbitmq-discuss] Access control in RabbitMQ 2.0.0
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8590">[ date ]</a>
              <a href="thread.html#8590">[ thread ]</a>
              <a href="subject.html#8590">[ subject ]</a>
              <a href="author.html#8590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
