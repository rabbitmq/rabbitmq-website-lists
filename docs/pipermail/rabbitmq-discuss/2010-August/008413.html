<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Disk node vs ram node
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disk%20node%20vs%20ram%20node&In-Reply-To=%3C187129.31562.qm%40web111001.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008391.html">
   <LINK REL="Next"  HREF="008414.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Disk node vs ram node</H1>
    <B>Dave Greggory</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Disk%20node%20vs%20ram%20node&In-Reply-To=%3C187129.31562.qm%40web111001.mail.gq1.yahoo.com%3E"
       TITLE="[rabbitmq-discuss] Disk node vs ram node">davegreggory at yahoo.com
       </A><BR>
    <I>Fri Aug 13 15:36:48 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008391.html">[rabbitmq-discuss] Disk node vs ram node
</A></li>
        <LI>Next message: <A HREF="008414.html">[rabbitmq-discuss] Disk node vs ram node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8413">[ date ]</a>
              <a href="thread.html#8413">[ thread ]</a>
              <a href="subject.html#8413">[ subject ]</a>
              <a href="author.html#8413">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Ouch... so no way to ensure that there's something to catch messages when the 
node with the original durable queue goes down?

There are several mentions throughout the site about out-of-the-box live 
failover in future release, how far out is that? 6 months? 1 year?

Not a big fan of the pacemaker approach due to the number of moving parts and 
different packages (pacemaker/corosync/heartbeat/erbd) to maintain and manage. 
And also haven't seen any indication of people actually using that setup in a 
complex VM environment in production.




----- Original Message ----
From: Alexandru Scvor&#355;ov &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexandru at rabbitmq.com</A>&gt;
To: Dave Greggory &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">davegreggory at yahoo.com</A>&gt;
Cc: &quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
Sent: Thu, August 12, 2010 9:33:54 AM
Subject: Re: [rabbitmq-discuss] Disk node vs ram node

Hi Dave,

&gt;<i> When a node with a queue goes down, can I write something using the java client 
</I>&gt;<i>
</I>&gt;<i>that re-declares all known queues on the other node. May be have all the queue 
</I>&gt;<i>names(and params) registered somewhere in the app and upon reconnect, passively 
</I>
&gt;<i>re-declare them. If passive declaration throws an exception, catch that and do 
</I>&gt;<i>an actual declaration. Would that work?
</I>
If you:
  1) declare a durable queue on one of the clustered nodes,
  2) take down that node,
  3) declare the same queue on another node
you get a &quot;404: Not Found&quot;.

If it's not durable, sure.

As an aside, if you passive declare something, then immediately declare
it, the first step is redundant.  There's no problem with declaring
the same thing repeatedly. (assuming it's declared in exactly the
same way and it's not unreachable)

Cheers,
Alex


      
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008391.html">[rabbitmq-discuss] Disk node vs ram node
</A></li>
	<LI>Next message: <A HREF="008414.html">[rabbitmq-discuss] Disk node vs ram node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8413">[ date ]</a>
              <a href="thread.html#8413">[ thread ]</a>
              <a href="subject.html#8413">[ subject ]</a>
              <a href="author.html#8413">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
