<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Exactly Once Delivery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exactly%20Once%20Delivery&In-Reply-To=%3C4C60205F.7030800%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008324.html">
   <LINK REL="Next"  HREF="008276.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Exactly Once Delivery</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exactly%20Once%20Delivery&In-Reply-To=%3C4C60205F.7030800%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Exactly Once Delivery">tonyg at rabbitmq.com
       </A><BR>
    <I>Mon Aug  9 16:35:59 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008324.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
        <LI>Next message: <A HREF="008276.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8325">[ date ]</a>
              <a href="thread.html#8325">[ thread ]</a>
              <a href="subject.html#8325">[ subject ]</a>
              <a href="author.html#8325">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tim Fox wrote:
&gt;<i> To do all of this without being limited by arbitrary cache size, would
</I>&gt;<i> need some kind of &quot;ack of ack&quot;
</I>
That's an occasionally-useful optimization, but it really only works well with
message UUIDs (i.e. never repeating a message ID). Even then, in the general
case you're likely to want to bound the time you wait for the message
transmission to complete anyway (consider what happens when an ack or ack-ack
goes missing), it seems simpler (not to mention much less chatty) to me to
avoid ack-acks and go with a Delta-T style timeout-bounded buffer. At that
point you're free to choose any kind of message ID space, including
compressible fixed-length reusable spaces like those in TCP/SCTP etc.

&gt;<i> Like others have said, 100% once and only once delivery doesn't happen.
</I>&gt;<i> To get very near at 100% you can implement stuff like the above, and
</I>&gt;<i> also make sure your storage is highly redundant, also mirrored in
</I>&gt;<i> geographically distributed sites in case the building blows up. Then
</I>&gt;<i> you've got bugs in your own app, device drivers or the operating system
</I>&gt;<i> that screw your once and only once (for example last week I hit a bug in
</I>&gt;<i> the Linux kernel TCP impl which can cause packets to be lost at high
</I>&gt;<i> load) that you might hit well before having to take quantum effects into
</I>&gt;<i> account :)
</I>
Amen :-)

Tony

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008324.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
	<LI>Next message: <A HREF="008276.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8325">[ date ]</a>
              <a href="thread.html#8325">[ thread ]</a>
              <a href="subject.html#8325">[ subject ]</a>
              <a href="author.html#8325">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
