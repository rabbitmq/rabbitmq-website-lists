<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Producers%20hanging%20when%20reaching%20high%20memory%0A%20watermark%20on%201.8.1&In-Reply-To=%3CAANLkTi%3DL_OD7gj4PeWS1wFaxzMx61MaRnb1LJF0%2BKcH1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008447.html">
   <LINK REL="Next"  HREF="008449.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1</H1>
    <B>Aaron Westendorf</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Producers%20hanging%20when%20reaching%20high%20memory%0A%20watermark%20on%201.8.1&In-Reply-To=%3CAANLkTi%3DL_OD7gj4PeWS1wFaxzMx61MaRnb1LJF0%2BKcH1%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1">aaron at agoragames.com
       </A><BR>
    <I>Mon Aug 16 15:29:57 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008447.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
        <LI>Next message: <A HREF="008449.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8448">[ date ]</a>
              <a href="thread.html#8448">[ thread ]</a>
              <a href="subject.html#8448">[ subject ]</a>
              <a href="author.html#8448">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Aug 15, 2010 at 11:05 PM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt; wrote:
&gt;<i> In some setups a higher threshold may be safe, but disabling flow control
</I>&gt;<i> altogether is not advisable.
</I>
Could you elaborate on this a little more?  With enough disk and the
latest kernels, it seems that Linux will page Erlang correctly even if
its memory usage nears the quantity of RAM.  We're using monit on all
our hosts, so we'd know in advance of run-away memory usage, and can
take corrective action without flow control kicking in across our
entire infrastructure.  Things will be slow for sure, but in a shared
environment, we'd rather address the few mis-behaving clients than
shift the burden of memory management to all of our clients, which is
effectively what pausing client publishing is doing.

I could be mis-reading your recommendation though and the implications
of disabling flow control.

cheers,
Aaron


-- 
Aaron Westendorf
Senior Software Engineer
Agora Games
359 Broadway
Troy, NY 12180
Phone: 518.268.1000
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aaron at agoragames.com</A>
www.agoragames.com
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008447.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
	<LI>Next message: <A HREF="008449.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8448">[ date ]</a>
              <a href="thread.html#8448">[ thread ]</a>
              <a href="subject.html#8448">[ subject ]</a>
              <a href="author.html#8448">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
