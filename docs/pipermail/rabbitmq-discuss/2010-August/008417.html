<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Producers hanging when reaching high memory	watermark on 1.8.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Producers%20hanging%20when%20reaching%20high%20memory%0A%09watermark%20on%201.8.1&In-Reply-To=%3CD109E6B3-AA95-4919-BF44-22ACD0FB50D4%40yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008412.html">
   <LINK REL="Next"  HREF="008418.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Producers hanging when reaching high memory	watermark on 1.8.1</H1>
    <B>Dave Greggory</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Producers%20hanging%20when%20reaching%20high%20memory%0A%09watermark%20on%201.8.1&In-Reply-To=%3CD109E6B3-AA95-4919-BF44-22ACD0FB50D4%40yahoo.com%3E"
       TITLE="[rabbitmq-discuss] Producers hanging when reaching high memory	watermark on 1.8.1">davegreggory at yahoo.com
       </A><BR>
    <I>Fri Aug 13 18:04:33 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008412.html">[rabbitmq-discuss] RabbitMQ Message Publishing and Consuming with Database Operations
</A></li>
        <LI>Next message: <A HREF="008418.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8417">[ date ]</a>
              <a href="thread.html#8417">[ thread ]</a>
              <a href="subject.html#8417">[ subject ]</a>
              <a href="author.html#8417">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In one of our load tests, we found that RabbitMQ causes producers to hang when it reaches the high memory watermark. We expected RabbitMQ to hang and but not the producers. How can we work around it?

Is there a way to configure RabbitMQ to close the connection or throw an exception from the client API when that happens so the producers can respond. Or maybe there's a timeout I can specify for sends? If there's no timeout can that thread be interrupted when it hangs?

It's imperative that our client apps remain unaffected if RabbitMQ blows up in any way. 

We're connecting to RabbitMQ 1.8.1 nodes using 1.8.1 java client running under Spring-AMQP 1.0M1. 
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008412.html">[rabbitmq-discuss] RabbitMQ Message Publishing and Consuming with Database Operations
</A></li>
	<LI>Next message: <A HREF="008418.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8417">[ date ]</a>
              <a href="thread.html#8417">[ thread ]</a>
              <a href="subject.html#8417">[ subject ]</a>
              <a href="author.html#8417">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
