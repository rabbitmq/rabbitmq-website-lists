<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmqctl not reporting anything
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmqctl%20not%20reporting%20anything&In-Reply-To=%3Cyrv4ck4o4radv.fsf%40dwragg.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008257.html">
   <LINK REL="Next"  HREF="008252.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmqctl not reporting anything</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmqctl%20not%20reporting%20anything&In-Reply-To=%3Cyrv4ck4o4radv.fsf%40dwragg.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmqctl not reporting anything">david at rabbitmq.com
       </A><BR>
    <I>Thu Aug  5 22:57:00 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008257.html">[rabbitmq-discuss] rabbitmqctl not reporting anything
</A></li>
        <LI>Next message: <A HREF="008252.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8291">[ date ]</a>
              <a href="thread.html#8291">[ thread ]</a>
              <a href="subject.html#8291">[ subject ]</a>
              <a href="author.html#8291">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Greg,

Greg Turnquist &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">gturnquist at vmware.com</A>&gt; writes:
&gt;<i> rabbitmqctl tries to access the same node name:
</I>&gt;<i>
</I>&gt;<i> gturnquist-mbp:~ gturnquist$ sudo rabbitmqctl list_exchanges
</I>&gt;<i> Listing exchanges ...
</I>&gt;<i> Error: unable to connect to node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at gturnquist-mbp</A>': nodedown
</I>&gt;<i> diagnostics:
</I>&gt;<i> - unable to connect to epmd on gturnquist-mbp: address
</I>&gt;<i> - current node: '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmqctl50582 at gturnquist-mbp</A>'
</I>&gt;<i> - current node home dir: /opt/local/var/lib/rabbitmq
</I>&gt;<i> - current node cookie hash: WsSCWeum/oLXE3iNW2zauw==
</I>&gt;<i>
</I>&gt;<i> I don't know where it decided to call the node
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at gturnquist-mbp.</A> It is the local hostname, but I usually use
</I>&gt;<i> gturnquist-mbp.local to reference my local LAN IP address. I don't see
</I>&gt;<i> how to override this setting from either the server or the ctl
</I>&gt;<i> script. It seems like an issue, because I thought doing all this on
</I>&gt;<i> the same node would be out-of-the-box functionality.
</I>
RabbitMQ requires that the host (or hosts) running rabbitmq-server can
be named by a short hostname (i.e. without any dots).

So when constructing the default value of RABBITMQ_NODENAME, the
rabbitmq scripts will assume that the hostname given by `hostname -s` is
a valid name for the machine.  This is usually a reasonable assumption,
but it sounds like it doesn't apply on your machine.

You can override it by setting RABBITMQ_NODENAME in the environment, as
documented in the rabbitmq-server man page.  This also applies to
rabbitmqctl.  The RABBITMQ_NODENAME value should be of the form
&quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">name at host</A>&quot;.  If your machine doesn't have a simple hostname, then you
can simply use &quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A>&quot;, though of course this
constrains you to run rabbitmqctl on the same machine as the server.

David

-- 
David Wragg
Staff Engineer, RabbitMQ
SpringSource, a division of VMware
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008257.html">[rabbitmq-discuss] rabbitmqctl not reporting anything
</A></li>
	<LI>Next message: <A HREF="008252.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8291">[ date ]</a>
              <a href="thread.html#8291">[ thread ]</a>
              <a href="subject.html#8291">[ subject ]</a>
              <a href="author.html#8291">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
