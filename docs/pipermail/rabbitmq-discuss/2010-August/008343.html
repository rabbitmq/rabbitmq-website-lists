<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] New Persister merged into default
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20Persister%20merged%20into%20default&In-Reply-To=%3C4C6240C9.5020702%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008288.html">
   <LINK REL="Next"  HREF="008358.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] New Persister merged into default</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20Persister%20merged%20into%20default&In-Reply-To=%3C4C6240C9.5020702%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] New Persister merged into default">matthias at rabbitmq.com
       </A><BR>
    <I>Wed Aug 11 07:18:49 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008288.html">[rabbitmq-discuss] New Persister merged into default
</A></li>
        <LI>Next message: <A HREF="008358.html">[rabbitmq-discuss] New Persister merged into default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8343">[ date ]</a>
              <a href="thread.html#8343">[ thread ]</a>
              <a href="subject.html#8343">[ subject ]</a>
              <a href="author.html#8343">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Srijanani Srinivasan wrote:
&gt;<i> Please correct me if i am wrong, i believe that currently the messages 
</I>&gt;<i> are in the queue are loaded in the memory, and if they are marked 
</I>&gt;<i> persistent, any time the consumer stops consuming messages or 
</I>&gt;<i> other scenarios the messages are written to the disk and retrieved later 
</I>&gt;<i> when needed.
</I>
Not quite. In the old/current persister, messages marked as persistent 
that are sent to durable queues are written to disk straight away 
(except for various buffering stages). They are *also* kept in memory, 
like all messages. Hence with the old persister rabbit requires enough 
memory to hold all messages, persistent or not. By contrast, the new 
persister can page messages to/from disk in response to changing memory 
conditions. This happens regardless of whether the messages are marked 
persistent. So the &quot;new persister&quot; is not just about message 
persistence, but message storage in general. Memory becomes an optional 
extra, though it's quite handy to have some :)

Regards,

Matthias.
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008288.html">[rabbitmq-discuss] New Persister merged into default
</A></li>
	<LI>Next message: <A HREF="008358.html">[rabbitmq-discuss] New Persister merged into default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8343">[ date ]</a>
              <a href="thread.html#8343">[ thread ]</a>
              <a href="subject.html#8343">[ subject ]</a>
              <a href="author.html#8343">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
