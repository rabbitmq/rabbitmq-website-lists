<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Exactly Once Delivery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exactly%20Once%20Delivery&In-Reply-To=%3Cyrv4cwrs5gn59.fsf%40dwragg.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008273.html">
   <LINK REL="Next"  HREF="008300.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Exactly Once Delivery</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exactly%20Once%20Delivery&In-Reply-To=%3Cyrv4cwrs5gn59.fsf%40dwragg.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] Exactly Once Delivery">david at rabbitmq.com
       </A><BR>
    <I>Thu Aug  5 15:16:50 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008273.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
        <LI>Next message: <A HREF="008300.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8275">[ date ]</a>
              <a href="thread.html#8275">[ thread ]</a>
              <a href="subject.html#8275">[ subject ]</a>
              <a href="author.html#8275">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tony Garnock-Jones &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at rabbitmq.com</A>&gt; writes:
&gt;<i> John Apps wrote:
</I>&gt;&gt;<i> The JMS standard offers guaranteed once
</I>&gt;<i>
</I>&gt;<i> What exactly do they mean by that? In particular, how do they deal
</I>&gt;<i> with duplicates? Do they report failure, or silently let a dup through
</I>&gt;<i> in certain situations? If you could point me to the part of the spec
</I>&gt;<i> that sets out the JMS resolution of these issues, that's be really
</I>&gt;<i> useful.
</I>
As an API spec, it's quite easy for JMS to mandate something apparently
impossible, without hinting at how it might actually be implemented.

Most of the spec says that the PERSISTENT delivery mode gives
&quot;once-and-only-once&quot; delivery.  But section 4.4.13 (of JMS 1.1) admits
that there are a number of caveats to this.  So it's really
&quot;once-and-only-once-except-in-some-corner-cases&quot;.

I think the wrinkle that might prevent us saying that RabbitMQ gives the
same guarantees is on the publishing side.  The caveats in JMS all seems
to apply only to the consuming side.  But what happens with an AMQP
producer if the connection gets dropped before a tx.commit-ok gets back
to the client?  In that case the client has to re-publish, leading to a
potential dup.  This can be avoided by a de-dup filter on published
messages in the broker.  I don't know if JMS brokers really go to such
lengths.

David

-- 
David Wragg
Staff Engineer, RabbitMQ
SpringSource, a division of VMware
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008273.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
	<LI>Next message: <A HREF="008300.html">[rabbitmq-discuss] Exactly Once Delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8275">[ date ]</a>
              <a href="thread.html#8275">[ thread ]</a>
              <a href="subject.html#8275">[ subject ]</a>
              <a href="author.html#8275">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
