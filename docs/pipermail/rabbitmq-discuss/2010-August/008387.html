<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] New Persister merged into default
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20Persister%20merged%20into%20default&In-Reply-To=%3CAANLkTinAXp-BqsjHR3VC16mAed%3Dp6VnadyhunLFaPdTf%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008362.html">
   <LINK REL="Next"  HREF="008393.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] New Persister merged into default</H1>
    <B>Aaron Westendorf</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20Persister%20merged%20into%20default&In-Reply-To=%3CAANLkTinAXp-BqsjHR3VC16mAed%3Dp6VnadyhunLFaPdTf%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] New Persister merged into default">aaron at agoragames.com
       </A><BR>
    <I>Thu Aug 12 13:31:20 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008362.html">[rabbitmq-discuss] New Persister merged into default
</A></li>
        <LI>Next message: <A HREF="008393.html">[rabbitmq-discuss] New Persister merged into default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8387">[ date ]</a>
              <a href="thread.html#8387">[ thread ]</a>
              <a href="subject.html#8387">[ subject ]</a>
              <a href="author.html#8387">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bummer, that's a big surprise.  I'd be curious to see a comparison
with a persister backed by a storage engine that does use mmap, like
Tokyo Cabinet.  Not that I doubt the team's abilities, we just have
had fantastic results with applications such as Varnish, TC and Mongo
which all make extensive use of mmap and let the kernel do all the
heavy lifting.  Maybe with the abstraction layer in place, we'll take
that on the next time we have a hack-a-thon day.  I'd also be curious
to try an extension of the persistent messaging, so that after X
seconds it can be thrown out.

We've decided to hold off upgrading our cluster until the next release
of Rabbit which includes this persister, we're looking forward to it.
Well done!

cheers,
Aaron

On Wed, Aug 11, 2010 at 8:17 AM, Matthew Sackman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at rabbitmq.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> Sadly, no: Erlang does not expose an mmap interface, though actually
</I>&gt;<i> there has been a recent thread on erlang-questions about how to
</I>&gt;<i> implement this. However, we do do very aggressive caching and work hard
</I>&gt;<i> to make as much use of kernel disk buffers as possible: we try to play
</I>&gt;<i> nice with the kernel. With a little tuning, we can easily saturate disk
</I>&gt;<i> write bandwidth, so it seems we're doing something right ;)
</I>&gt;<i>
</I>&gt;<i> Matthew
</I>&gt;<i>
</I>


-- 
Aaron Westendorf
Senior Software Engineer
Agora Games
359 Broadway
Troy, NY 12180
Phone: 518.268.1000
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aaron at agoragames.com</A>
www.agoragames.com
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008362.html">[rabbitmq-discuss] New Persister merged into default
</A></li>
	<LI>Next message: <A HREF="008393.html">[rabbitmq-discuss] New Persister merged into default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8387">[ date ]</a>
              <a href="thread.html#8387">[ thread ]</a>
              <a href="subject.html#8387">[ subject ]</a>
              <a href="author.html#8387">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
