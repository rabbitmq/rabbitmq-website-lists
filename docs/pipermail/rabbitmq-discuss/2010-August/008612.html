<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] To know when a queue is empty from a	Java	client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20To%20know%20when%20a%20queue%20is%20empty%20from%20a%0A%09Java%09client&In-Reply-To=%3C806F700D7E08E9408413160B05EB66672A484D8F59%40EXCH-MBX-1.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008606.html">
   <LINK REL="Next"  HREF="008607.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] To know when a queue is empty from a	Java	client</H1>
    <B>Mark Pollack</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20To%20know%20when%20a%20queue%20is%20empty%20from%20a%0A%09Java%09client&In-Reply-To=%3C806F700D7E08E9408413160B05EB66672A484D8F59%40EXCH-MBX-1.vmware.com%3E"
       TITLE="[rabbitmq-discuss] To know when a queue is empty from a	Java	client">mpollack at vmware.com
       </A><BR>
    <I>Thu Aug 26 16:58:16 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008606.html">[rabbitmq-discuss] To know when a queue is empty from a Java	client
</A></li>
        <LI>Next message: <A HREF="008607.html">[rabbitmq-discuss] To know when a queue is empty from a Java client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8612">[ date ]</a>
              <a href="thread.html#8612">[ thread ]</a>
              <a href="subject.html#8612">[ subject ]</a>
              <a href="author.html#8612">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The Spring AMQP project provides some initial support for an admin API.  We use JInterface to call the erlang functions used by rabbitmqctl.

Take a look at the javadocs here

<A HREF="http://static.springsource.org/spring-amqp/docs/1.0.x/api/org/springframework/amqp/rabbit/admin/package-summary.html">http://static.springsource.org/spring-amqp/docs/1.0.x/api/org/springframework/amqp/rabbit/admin/package-summary.html</A>

We are not yet complete in supporting the full range of functionality available in rabbitmqctl but that is the goal.

There is also a .NET version.

Mark





From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Jon Brisbin
Sent: Thursday, August 26, 2010 10:41 AM
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">flocha2000-agile at yahoo.fr</A>
Cc: RabbitMQ
Subject: Re: [rabbitmq-discuss] To know when a queue is empty from a Java client




On Aug 26, 2010, at 9:34 AM, Florence Chabanois wrote:



Hum indeed, this is literally our code...

So if declare_ok always refers to a new queue, we have no choice but use Runtime.exec(&quot;rabbitmqctl list_queues&quot;) if we want to know this kind of information on an existing queue?

Cheers,
Florence.



Actually, your code is creating a new queue, so in your example, the declare_ok will always refer to a new queue.

But if you declare a queue that already exists (which a producer has already populated with messages), you'll get back the message count. Give a name to your queue and have the producer and consumer use the same name.

If you attach your consumer to a new queue (which you're doing by creating an anonymous queue) the message count will obviously be zero because nothing has put messages in it yet.


Jon Brisbin
Portal Webmaster
NPC International, Inc.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100826/957ae4b7/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100826/957ae4b7/attachment-0001.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008606.html">[rabbitmq-discuss] To know when a queue is empty from a Java	client
</A></li>
	<LI>Next message: <A HREF="008607.html">[rabbitmq-discuss] To know when a queue is empty from a Java client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8612">[ date ]</a>
              <a href="thread.html#8612">[ thread ]</a>
              <a href="subject.html#8612">[ subject ]</a>
              <a href="author.html#8612">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
