<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] clarifying plugin supervision, configuration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20clarifying%20plugin%20supervision%2C%20configuration&In-Reply-To=%3CBE8137EE-D98C-4BA8-A9AD-65D4600DC704%40jbrisbin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008555.html">
   <LINK REL="Next"  HREF="008558.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] clarifying plugin supervision, configuration</H1>
    <B>Jon Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20clarifying%20plugin%20supervision%2C%20configuration&In-Reply-To=%3CBE8137EE-D98C-4BA8-A9AD-65D4600DC704%40jbrisbin.com%3E"
       TITLE="[rabbitmq-discuss] clarifying plugin supervision, configuration">jon at jbrisbin.com
       </A><BR>
    <I>Tue Aug 24 17:11:16 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008555.html">[rabbitmq-discuss] Writing a new plugin
</A></li>
        <LI>Next message: <A HREF="008558.html">[rabbitmq-discuss] Emacs setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8556">[ date ]</a>
              <a href="thread.html#8556">[ thread ]</a>
              <a href="subject.html#8556">[ subject ]</a>
              <a href="author.html#8556">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm looking at some of the existing plugins and I just want to make sure I understand how the plugins are supervised in the broker.

It looks like it starts the application defined in the plugin's .app file, whose start() function should call my plugin's supervisor's start_link() function, correct?

Looking at rabbit_shovel, the plugin loads the configuration in the start_link() function, which I assume is coming from the main rabbit.config file? I don't have to have a separate config file for my plugin, correct?

I'll need to listen on multiple exchanges, so I'm assuming I'll need a gen_server, which starts separate consumers, for each configuration element (akin to what rabbit_shovel is doing by creating a child configuration in the supervisor for each element in the configuration file). How far can I go before I need to worry about resource usage of the &quot;process per consumer&quot; approach? Or should I have a consumer that listens to multiple exchanges (since it'll be doing almost the same thing for every message that comes through)?

Thanks!

J. Brisbin
<A HREF="http://jbrisbin.com/">http://jbrisbin.com/</A>






-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100824/b9ff84f6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100824/b9ff84f6/attachment.htm</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008555.html">[rabbitmq-discuss] Writing a new plugin
</A></li>
	<LI>Next message: <A HREF="008558.html">[rabbitmq-discuss] Emacs setup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8556">[ date ]</a>
              <a href="thread.html#8556">[ thread ]</a>
              <a href="subject.html#8556">[ subject ]</a>
              <a href="author.html#8556">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
