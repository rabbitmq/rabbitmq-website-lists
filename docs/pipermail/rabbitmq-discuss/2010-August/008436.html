<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Producers%20hanging%20when%20reaching%20high%20memory%0A%20watermark%20on%201.8.1&In-Reply-To=%3C4C6904BD.4020100%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008434.html">
   <LINK REL="Next"  HREF="008442.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Producers%20hanging%20when%20reaching%20high%20memory%0A%20watermark%20on%201.8.1&In-Reply-To=%3C4C6904BD.4020100%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1">matthias at rabbitmq.com
       </A><BR>
    <I>Mon Aug 16 10:28:29 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008434.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
        <LI>Next message: <A HREF="008442.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8436">[ date ]</a>
              <a href="thread.html#8436">[ thread ]</a>
              <a href="subject.html#8436">[ subject ]</a>
              <a href="author.html#8436">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alister,

On 16/08/10 10:10, Alister Morton wrote:
&gt;&gt;<i> So this then becomes a question of deciding when publishing is &quot;too
</I>&gt;&gt;<i> slow&quot;, and being able to continue
</I>&gt;<i>
</I>&gt;<i> I think conceptually it's different - it's a matter of is the broker
</I>&gt;<i> running &quot;normally&quot; albeit really slowly (that's ok, we'll live with
</I>&gt;<i> it) or has the broker said &quot;Enough!&quot; and sent a flow control message.
</I>&gt;<i> That ought to be a detectable condition, and is fundamentally
</I>&gt;<i> different to a broker simply crawling to a halt.
</I>
RabbitMQ could gradually decrease its message acceptance rate as memory 
gets tighter. To the point when just before it reaches the memory 
threshold it, say, is only accepting messages at a rate of 0.01Hz. And 
then, finally, it stops accepting messages altogether. Is that last, 
minuscule change fundamentally different? I don't think so.

Also, from an application's point of view, what would an app do 
differently in response to the broker (or network) running, really, 
really, slowly vs not accepting messages at all? In both cases it is 
left holding the baby, er, message, i.e. it cannot get rid of it by 
placing it on the network stack.


Regards,

Matthias.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008434.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
	<LI>Next message: <A HREF="008442.html">[rabbitmq-discuss] Producers hanging when reaching high memory watermark on 1.8.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8436">[ date ]</a>
              <a href="thread.html#8436">[ thread ]</a>
              <a href="subject.html#8436">[ subject ]</a>
              <a href="author.html#8436">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
