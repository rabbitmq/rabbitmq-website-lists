<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] BQL with 1.8.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20BQL%20with%201.8.1&In-Reply-To=%3C4C5B3DB4.5070502%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008282.html">
   <LINK REL="Next"  HREF="008285.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] BQL with 1.8.1</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20BQL%20with%201.8.1&In-Reply-To=%3C4C5B3DB4.5070502%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] BQL with 1.8.1">simon at rabbitmq.com
       </A><BR>
    <I>Thu Aug  5 23:39:48 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008282.html">[rabbitmq-discuss] BQL with 1.8.1
</A></li>
        <LI>Next message: <A HREF="008285.html">[rabbitmq-discuss]  Disk node vs ram node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8293">[ date ]</a>
              <a href="thread.html#8293">[ thread ]</a>
              <a href="subject.html#8293">[ subject ]</a>
              <a href="author.html#8293">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jon. I think you have a too-new version of rabbitmq-erlang-client to 
work with rabbitmq-server 1.8.1. I haven't tested, but try revision 
b0425d0ade4d. Or build the server from default too.

(For those playing along at home, yes, I have been posting a few similar 
replies lately. And yes, we're hoping to make using plugins less of an 
ordeal soon.)

Cheers, Simon

On 05/08/10 17:30, Jon Brisbin wrote:
&gt;<i> Trying to follow the directions on installing the BQL plugin into my freshly-updated 1.8.1 broker and I get various errors like the below.
</I>&gt;<i>
</I>&gt;<i> Will this work with 1.8.1?
</I>&gt;<i>
</I>&gt;<i> Jon Brisbin
</I>&gt;<i> Portal Webmaster
</I>&gt;<i> NPC International, Inc.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 5-Aug-2010::11:25:11 ===
</I>&gt;<i> Limiting to approx 924 file handles
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 5-Aug-2010::11:25:11 ===
</I>&gt;<i> Memory limit set to 25318MB.
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 5-Aug-2010::11:25:11 ===
</I>&gt;<i> Rolling persister log to &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at warehouse1</A>/rabbit_persister.LOG.previous&quot;
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 5-Aug-2010::11:25:11 ===
</I>&gt;<i> started TCP Listener on 0.0.0.0:5672
</I>&gt;<i>
</I>&gt;<i> =ERROR REPORT==== 5-Aug-2010::11:25:11 ===
</I>&gt;<i> ** Generic server&lt;0.218.0&gt;  terminating
</I>&gt;<i> ** Last message in was {command,{open_channel,none}}
</I>&gt;<i> ** When Server state == {dc_state,
</I>&gt;<i>                              {amqp_params,&lt;&lt;&quot;guest&quot;&gt;&gt;,&lt;&lt;&quot;guest&quot;&gt;&gt;,&lt;&lt;&quot;/&quot;&gt;&gt;,
</I>&gt;<i>                                  &quot;localhost&quot;,5672,0,0,0,none,[]},
</I>&gt;<i>                              false,
</I>&gt;<i>                              [{&lt;&lt;&quot;product&quot;&gt;&gt;,longstr,&lt;&lt;&quot;RabbitMQ&quot;&gt;&gt;},
</I>&gt;<i>                               {&lt;&lt;&quot;version&quot;&gt;&gt;,longstr,&lt;&lt;&quot;1.8.1&quot;&gt;&gt;},
</I>&gt;<i>                               {&lt;&lt;&quot;platform&quot;&gt;&gt;,longstr,&lt;&lt;&quot;Erlang/OTP&quot;&gt;&gt;},
</I>&gt;<i>                               {&lt;&lt;&quot;copyright&quot;&gt;&gt;,longstr,
</I>&gt;<i>                                &lt;&lt;&quot;Copyright (C) 2007-2010 LShift Ltd., Cohesive Financial Technologies LLC., and Rabbit Technologies Ltd.&quot;&gt;&gt;},
</I>&gt;<i>                               {&lt;&lt;&quot;information&quot;&gt;&gt;,longstr,
</I>&gt;<i>                                &lt;&lt;&quot;Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/&quot;">http://www.rabbitmq.com/&quot;</A>&gt;&gt;}],
</I>&gt;<i>                              {{0,nil},
</I>&gt;<i>                               {dict,0,16,16,8,80,48,
</I>&gt;<i>                                   {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                    [],[]},
</I>&gt;<i>                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                     [],[]}}}},
</I>&gt;<i>                              &lt;0.219.0&gt;}
</I>&gt;<i> ** Reason for termination ==
</I>&gt;<i> ** {{badmatch,{error,{{badmatch,&lt;0.221.0&gt;},
</I>&gt;<i>                        [{amqp_channel_util,start_channel_infrastructure,3},
</I>&gt;<i>                         {amqp_channel,init,1},
</I>&gt;<i>                         {gen_server,init_it,6},
</I>&gt;<i>                         {proc_lib,init_p_do_apply,3}]}}},
</I>&gt;<i>      [{amqp_channel_util,open_channel,5},
</I>&gt;<i>       {amqp_direct_connection,handle_command,3},
</I>&gt;<i>       {gen_server,handle_msg,5},
</I>&gt;<i>       {proc_lib,init_p_do_apply,3}]}
</I>&gt;<i>
</I>&gt;<i> =ERROR REPORT==== 5-Aug-2010::11:25:11 ===
</I>&gt;<i> ** Generic server&lt;0.221.0&gt;  terminating
</I>&gt;<i> ** Last message in was {'EXIT',&lt;0.220.0&gt;,
</I>&gt;<i>                             {{badmatch,&lt;0.221.0&gt;},
</I>&gt;<i>                              [{amqp_channel_util,start_channel_infrastructure,
</I>&gt;<i>                                   3},
</I>&gt;<i>                               {amqp_channel,init,1},
</I>&gt;<i>                               {gen_server,init_it,6},
</I>&gt;<i>                               {proc_lib,init_p_do_apply,3}]}}
</I>&gt;<i> ** When Server state == {ch,starting,1,&lt;0.220.0&gt;,&lt;0.220.0&gt;,undefined,none,
</I>&gt;<i>                              {set,0,16,16,8,80,48,
</I>&gt;<i>                                   {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                    [],[]},
</I>&gt;<i>                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                     [],[]}}},
</I>&gt;<i>                              1,
</I>&gt;<i>                              {[],[]},
</I>&gt;<i>                              {[],[]},
</I>&gt;<i>                              &lt;&lt;&quot;guest&quot;&gt;&gt;,&lt;&lt;&quot;/&quot;&gt;&gt;,&lt;&lt;&gt;&gt;,
</I>&gt;<i>                              {dict,0,16,16,8,80,48,
</I>&gt;<i>                                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                     [],[]},
</I>&gt;<i>                                    {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                      [],[]}}},
</I>&gt;<i>                              {dict,0,16,16,8,80,48,
</I>&gt;<i>                                    {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                     [],[]},
</I>&gt;<i>                                    {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                      [],[]}}},
</I>&gt;<i>                              &lt;0.219.0&gt;,
</I>&gt;<i>                              {flow,true,true,none}}
</I>&gt;<i> ** Reason for termination ==
</I>&gt;<i> ** {{badmatch,&lt;0.221.0&gt;},
</I>&gt;<i>      [{amqp_channel_util,start_channel_infrastructure,3},
</I>&gt;<i>       {amqp_channel,init,1},
</I>&gt;<i>       {gen_server,init_it,6},
</I>&gt;<i>       {proc_lib,init_p_do_apply,3}]}
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 5-Aug-2010::11:25:11 ===
</I>&gt;<i>      application: rabbitmq_bql
</I>&gt;<i>      exited: {shutdown,{rabbitmq_bql,start,[normal,[]]}}
</I>&gt;<i>      type: permanent
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 5-Aug-2010::11:25:11 ===
</I>&gt;<i> stopped TCP Listener on 0.0.0.0:5672
</I>&gt;<i>
</I>&gt;<i> =ERROR REPORT==== 5-Aug-2010::11:25:11 ===
</I>&gt;<i> ** gen_event handler rabbit_error_logger crashed.
</I>&gt;<i> ** Was installed in error_logger
</I>&gt;<i> ** Last event was: {error,&lt;0.213.0&gt;,
</I>&gt;<i>                         {&lt;0.221.0&gt;,
</I>&gt;<i>                          &quot;** Generic server ~p terminating \n** Last message in was ~p~n** When Server state == ~p~n** Reason for termination == ~n** ~p~n&quot;,
</I>&gt;<i>                          [&lt;0.221.0&gt;,
</I>&gt;<i>                           {'EXIT',&lt;0.220.0&gt;,
</I>&gt;<i>                               {{badmatch,&lt;0.221.0&gt;},
</I>&gt;<i>                                [{amqp_channel_util,
</I>&gt;<i>                                     start_channel_infrastructure,3},
</I>&gt;<i>                                 {amqp_channel,init,1},
</I>&gt;<i>                                 {gen_server,init_it,6},
</I>&gt;<i>                                 {proc_lib,init_p_do_apply,3}]}},
</I>&gt;<i>                           {ch,starting,1,&lt;0.220.0&gt;,&lt;0.220.0&gt;,undefined,none,
</I>&gt;<i>                               {set,0,16,16,8,80,48,
</I>&gt;<i>                                   {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                    [],[]},
</I>&gt;<i>                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                     [],[]}}},
</I>&gt;<i>                               1,
</I>&gt;<i>                               {[],[]},
</I>&gt;<i>                               {[],[]},
</I>&gt;<i>                               &lt;&lt;&quot;guest&quot;&gt;&gt;,&lt;&lt;&quot;/&quot;&gt;&gt;,&lt;&lt;&gt;&gt;,
</I>&gt;<i>                               {dict,0,16,16,8,80,48,
</I>&gt;<i>                                   {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                    [],[]},
</I>&gt;<i>                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                     [],[]}}},
</I>&gt;<i>                               {dict,0,16,16,8,80,48,
</I>&gt;<i>                                   {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                    [],[]},
</I>&gt;<i>                                   {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                     [],[]}}},
</I>&gt;<i>                               &lt;0.219.0&gt;,
</I>&gt;<i>                               {flow,true,true,none}},
</I>&gt;<i>                           {{badmatch,&lt;0.221.0&gt;},
</I>&gt;<i>                            [{amqp_channel_util,start_channel_infrastructure,3},
</I>&gt;<i>                             {amqp_channel,init,1},
</I>&gt;<i>                             {gen_server,init_it,6},
</I>&gt;<i>                             {proc_lib,init_p_do_apply,3}]}]}}
</I>&gt;<i> ** When handler state == {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;amq.rabbitmq.log&quot;&gt;&gt;}
</I>&gt;<i> ** Reason == {badarg,[{ets,lookup,[rabbit_exchange_type_registry,topic]},
</I>&gt;<i>                        {rabbit_exchange_type_registry,lookup_module,1},
</I>&gt;<i>                        {rabbit_exchange,type_to_module,1},
</I>&gt;<i>                        {rabbit_exchange,publish,3},
</I>&gt;<i>                        {rabbit_basic,publish,1},
</I>&gt;<i>                        {rabbit_error_logger,publish1,4},
</I>&gt;<i>                        {rabbit_error_logger,handle_event,2},
</I>&gt;<i>                        {gen_event,server_update,4}]}
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008282.html">[rabbitmq-discuss] BQL with 1.8.1
</A></li>
	<LI>Next message: <A HREF="008285.html">[rabbitmq-discuss]  Disk node vs ram node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8293">[ date ]</a>
              <a href="thread.html#8293">[ thread ]</a>
              <a href="subject.html#8293">[ subject ]</a>
              <a href="author.html#8293">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
