<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ, STOMP,	Python and Orbited - design question.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%2C%20STOMP%2C%0A%09Python%20and%20Orbited%20-%20design%20question.&In-Reply-To=%3C59F4708F-0B65-48BF-8BC2-211E38E92F63%40cantemo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008549.html">
   <LINK REL="Next"  HREF="008620.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ, STOMP,	Python and Orbited - design question.</H1>
    <B>Tim Child</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%2C%20STOMP%2C%0A%09Python%20and%20Orbited%20-%20design%20question.&In-Reply-To=%3C59F4708F-0B65-48BF-8BC2-211E38E92F63%40cantemo.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ, STOMP,	Python and Orbited - design question.">tim at cantemo.com
       </A><BR>
    <I>Tue Aug 24 14:15:11 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008549.html">[rabbitmq-discuss] Problems with SSL support
</A></li>
        <LI>Next message: <A HREF="008620.html">[rabbitmq-discuss] RabbitMQ, STOMP,	Python and Orbited - design question.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8551">[ date ]</a>
              <a href="thread.html#8551">[ thread ]</a>
              <a href="subject.html#8551">[ subject ]</a>
              <a href="author.html#8551">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have been reading through the past messages on the mailing list to try and provide some answers.

One part of my application is to provide realtime feedback on jobs going on in the system, there will be a job overview page, which will list the status of x number of jobs (probably about 40), and a job 'detail' page which will have more in-depth information on that job. I have been working with Orbited and Morbidq, and basically it works today by creating STOMP channels for each job, and on going to the detail page of a particular job my Javascript subscribes to the job channel /jobs/jobID  using STOMP. I have a publisher that when there are any updates to the jobs publishes to the channel, and if any consumers are listening on that particular channel the page is updated with the new details.

Now moving over to using RabbitMQ, and the stomp plugin, I understand that my setup will change slightly.

I currently have a VHOST / , and I publish to an exchange, my understanding is that I have to send to a particular exchange &quot;amq.topic&quot; to be able to broadcast to more than one consumer that may or may not be listening. I don't care if my message doesn't ever get received as someone will not always be on the system.

And then my STOMP consumer will listen to VHOST / and amq.topic ? But if I want to replicate my jobs channels, should I create a routing key, binding and different queues for each job? Records of jobs can stay on my system forever, but the period that they get updated is sporadic - much in the first minutes of their life, hardly ever after they have been finished.

It seemed easier to get my publisher to talk AMQP, so my example is more like:

	import stomp
	from amqplib import client_0_8 as amqp
	conn = amqp.Connection(host=&quot;myhostname:5672&quot;, userid=&quot;myusername&quot;, password=&quot;mypassword&quot;, virtual_host=&quot;/&quot;, insist=False)
        msg = amqp.Message('This is a test message')
        chan = conn.channel()
        chan.basic_publish(msg, 'amq.topic', 'x.#')

My consumer will be javascript, proxied through Orbited using STOMP.

Thanks,

Tim.


</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008549.html">[rabbitmq-discuss] Problems with SSL support
</A></li>
	<LI>Next message: <A HREF="008620.html">[rabbitmq-discuss] RabbitMQ, STOMP,	Python and Orbited - design question.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8551">[ date ]</a>
              <a href="thread.html#8551">[ thread ]</a>
              <a href="subject.html#8551">[ subject ]</a>
              <a href="author.html#8551">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
