<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Can't connect on Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%27t%20connect%20on%20Windows&In-Reply-To=%3C4C6307F5.1050507%40calidris.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008379.html">
   <LINK REL="Next"  HREF="008381.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Can't connect on Windows</H1>
    <B>Tim Sawyer</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Can%27t%20connect%20on%20Windows&In-Reply-To=%3C4C6307F5.1050507%40calidris.co.uk%3E"
       TITLE="[rabbitmq-discuss] Can't connect on Windows">list.rabbit at calidris.co.uk
       </A><BR>
    <I>Wed Aug 11 21:28:37 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008379.html">[rabbitmq-discuss] Modifying a message in the queue
</A></li>
        <LI>Next message: <A HREF="008381.html">[rabbitmq-discuss] Can't connect on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8380">[ date ]</a>
              <a href="thread.html#8380">[ thread ]</a>
              <a href="subject.html#8380">[ subject ]</a>
              <a href="author.html#8380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have a Flex application with a Java backend.  The Java backend is 
putting messages onto a RabbitMQ exchange and the Flex client is picking 
them up using <A HREF="http://github.com/0x6e6562/as3-amqp.">http://github.com/0x6e6562/as3-amqp.</A>  This works as 
expected when the RabbitMQ server is running on Fedora.  When I run up 
RabbitMQ 1.7.2 locally on windows and try and run the entire application 
stack on windows, (AMQP Server = localhost) the app tells me it can&#8217;t 
connect.

I&#8217;m running 
<A HREF="http://github.com/dansimpson/amqp-js/tree/master/policy-server/">http://github.com/dansimpson/amqp-js/tree/master/policy-server/</A> on both 
the fedora box and the windows box, and I can see they are both being 
queried at the correct time for the crossdomain file.  The cross domain 
file is the default from that repository, I haven&#8217;t changed it.

However, the error I&#8217;m getting is:

Error #2044: Unhandled connectionError:. text=Connection failed
                 at org.amqp::Connection()
                 at Dashboard/setupAmqpConnection()
                 at flash.events::EventDispatcher/dispatchEventFunction()
                 at flash.events::EventDispatcher/dispatchEvent()
                 at 
mx.rpc::AbstractInvoker/<A HREF="http://www.adobe.com/2006/flex/mx/internal::dispatchRpcEvent(">http://www.adobe.com/2006/flex/mx/internal::dispatchRpcEvent(</A>)
                 at 
mx.rpc::AbstractInvoker/<A HREF="http://www.adobe.com/2006/flex/mx/internal::resultHandler(">http://www.adobe.com/2006/flex/mx/internal::resultHandler(</A>)
                 at mx.rpc::Responder/result()
                 at mx.rpc::AsyncRequest/acknowledge()
                 at DirectHTTPMessageResponder/completeHandler()
                 at flash.events::EventDispatcher/dispatchEventFunction()
                 at flash.events::EventDispatcher/dispatchEvent()
                 at flash.net::URLLoader/onComplete()

followed by

Error #2044: Unhandled securityError:. text=Error #2048: Security 
sandbox violation: <A HREF="http://localhost:8224/Dashboard/Dashboard.swf">http://localhost:8224/Dashboard/Dashboard.swf</A> cannot 
load data from auk:5672.
                 at org.amqp::Connection()
                 at Dashboard/setupAmqpConnection()
                 at flash.events::EventDispatcher/dispatchEventFunction()
                 at flash.events::EventDispatcher/dispatchEvent()
                 at 
mx.rpc::AbstractInvoker/<A HREF="http://www.adobe.com/2006/flex/mx/internal::dispatchRpcEvent(">http://www.adobe.com/2006/flex/mx/internal::dispatchRpcEvent(</A>)
                 at 
mx.rpc::AbstractInvoker/<A HREF="http://www.adobe.com/2006/flex/mx/internal::resultHandler(">http://www.adobe.com/2006/flex/mx/internal::resultHandler(</A>)
                 at mx.rpc::Responder/result()
                 at mx.rpc::AsyncRequest/acknowledge()
                 at DirectHTTPMessageResponder/completeHandler()
                 at flash.events::EventDispatcher/dispatchEventFunction()
                 at flash.events::EventDispatcher/dispatchEvent()
                 at flash.net::URLLoader/onComplete()

rabbitmqctl status on Fedora gives:

Status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at nightjar</A> ...
[{running_applications,[{rabbit,&quot;RabbitMQ&quot;,&quot;1.7.2&quot;},
                         {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.7&quot;},
                         {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.1.8&quot;},
                         {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.5.4&quot;},
                         {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.15.5&quot;},
                         {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.12.5&quot;}]},
  {nodes,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at nightjar</A>]},
  {running_nodes,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at nightjar</A>]}]
...done.

The same on windows gives:

Status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at auk</A> ...
[{running_applications,[{rabbit,&quot;RabbitMQ&quot;,&quot;1.7.2&quot;},
                         {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.12&quot;},
                         {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.4&quot;},
                         {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.8&quot;},
                         {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.16.4&quot;},
                         {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.13.4&quot;}]},
  {nodes,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at auk</A>]},
  {running_nodes,[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at auk</A>]}]

Rabbit.log contains

=INFO REPORT==== 11-Aug-2010::15:55:13 ===
accepted TCP connection on 0.0.0.0:5672 from 192.168.128.144:52353

=INFO REPORT==== 11-Aug-2010::15:55:13 ===
starting TCP connection &lt;0.19740.0&gt; from 192.168.128.144:52353

=WARNING REPORT==== 11-Aug-2010::15:55:46 ===
exception on TCP connection &lt;0.19740.0&gt; from 192.168.128.144:52353
connection_closed_abruptly

=INFO REPORT==== 11-Aug-2010::15:55:46 ===
closing TCP connection &lt;0.19740.0&gt; from 192.168.128.144:52353

where that is my local ip address

Can someone give me an inkling of where to start looking for a solution?

Cheers,

Tim.


</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008379.html">[rabbitmq-discuss] Modifying a message in the queue
</A></li>
	<LI>Next message: <A HREF="008381.html">[rabbitmq-discuss] Can't connect on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8380">[ date ]</a>
              <a href="thread.html#8380">[ thread ]</a>
              <a href="subject.html#8380">[ subject ]</a>
              <a href="author.html#8380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
