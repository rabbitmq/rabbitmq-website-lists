<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Problems with RabbitMQ not responding on channel request
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Problems%20with%20RabbitMQ%20not%20responding%20on%0A%20channel%20request&In-Reply-To=%3CAANLkTi%3DPua_YKz%2BkbAgAi_YEy7_HQzxRnytgpNAf%3DpfX%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008487.html">
   <LINK REL="Next"  HREF="008489.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Problems with RabbitMQ not responding on channel request</H1>
    <B>Cal Leeming [Simplicity Media Ltd]</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Problems%20with%20RabbitMQ%20not%20responding%20on%0A%20channel%20request&In-Reply-To=%3CAANLkTi%3DPua_YKz%2BkbAgAi_YEy7_HQzxRnytgpNAf%3DpfX%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Problems with RabbitMQ not responding on channel request">cal.leeming at simplicitymedialtd.co.uk
       </A><BR>
    <I>Thu Aug 19 01:16:17 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008487.html">[rabbitmq-discuss] Problems with RabbitMQ not responding on channel request
</A></li>
        <LI>Next message: <A HREF="008489.html">[rabbitmq-discuss] Problems with RabbitMQ not responding on channel request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8488">[ date ]</a>
              <a href="thread.html#8488">[ thread ]</a>
              <a href="subject.html#8488">[ subject ]</a>
              <a href="author.html#8488">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I am now getting the following errors when using RabbitMQ with Python Celery
and Django Celery..

The below error messages doesn't mean much to be sadly.. Could anyone shed
some light on what the below actually means??

Cheers

Cal

==&gt; /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at mail01.log</A> &lt;==

=WARNING REPORT==== 19-Aug-2010::01:13:31 ===
exception on TCP connection &lt;0.2829.0&gt; from 10.1.3.1:54996
connection_closed_abruptly

=INFO REPORT==== 19-Aug-2010::01:13:31 ===
closing TCP connection &lt;0.2829.0&gt; from 10.1.3.1:54996

=INFO REPORT==== 19-Aug-2010::01:13:32 ===
accepted TCP connection on 0.0.0.0:5672 from 10.1.3.1:44483

=INFO REPORT==== 19-Aug-2010::01:13:32 ===
starting TCP connection &lt;0.2923.0&gt; from 10.1.3.1:44483

=INFO REPORT==== 19-Aug-2010::01:13:32 ===
accepted TCP connection on 0.0.0.0:5672 from 10.1.3.1:44484

=INFO REPORT==== 19-Aug-2010::01:13:32 ===
starting TCP connection &lt;0.2925.0&gt; from 10.1.3.1:44484

=ERROR REPORT==== 19-Aug-2010::01:13:32 ===
** Generic server &lt;0.2936.0&gt; terminating
** Last message in was {'$gen_cast',
                           {method,
                               {'basic.publish',0,&lt;&lt;&quot;tasks&quot;&gt;&gt;,

&lt;&lt;&quot;bluemail.cache.updatecampaignstatus&quot;&gt;&gt;,
                                   false,false},
                               {content,60,none,

&lt;&lt;208,0,30,97,112,112,108,105,99,97,116,105,

111,110,47,120,45,112,121,116,104,111,110,

45,115,101,114,105,97,108,105,122,101,6,
                                     98,105,110,97,114,121,2&gt;&gt;,
                                   rabbit_framing_amqp_0_8,

[&lt;&lt;&quot;(dp1\nS'retries'\np2\nI0\nsS'task'\np3\nS'webapp.bluemail.tasks.UpdateCampaignStatus'\np4\nsS'args'\np5\n(lp6\nsS'eta'\np7\nNsS'kwargs'\np8\n(dp9\nsS'id'\np10\nS'c49f1e35-a042-43ba-9316-3e99e27a6bf7'\np11\ns.&quot;&gt;&gt;]}}}
** When Server state == {ch,running,1,&lt;0.2925.0&gt;,&lt;0.2934.0&gt;,undefined,none,
                            {sets,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]}}},
                            1,
                            {[],[]},
                            {[],[]},

 &lt;&lt;&quot;simplicitymedialtd&quot;&gt;&gt;,&lt;&lt;&quot;bluemail_dev&quot;&gt;&gt;,&lt;&lt;&gt;&gt;,
                            {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]}}},
                            {dict,0,16,16,8,80,48,

 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                   [],[]},

 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
                                    [],[]}}},
                            &lt;0.2926.0&gt;,
                            {state,none,undefined}}
** Reason for termination ==
** {{undef,[{re,split,
                [&lt;&lt;&quot;bluemail.cache.#&quot;&gt;&gt;,&quot;\\.&quot;,[{return,list}]]},
            {rabbit_exchange_type_topic,topic_matches,2},
            {rabbit_router,'-match_bindings/2-fun-1-',10},
            {qlc,collect,1},
            {qlc,eval,2},
            {mnesia_tm,non_transaction,5},
            {rabbit_router,match_bindings,2},
            {rabbit_exchange_type_topic,publish,2}]},
    [{mnesia_tm,non_transaction,5},
     {rabbit_router,match_bindings,2},
     {rabbit_exchange_type_topic,publish,2},
     {rabbit_exchange,publish,3},
     {rabbit_channel,handle_method,3},
     {rabbit_channel,handle_cast,2},
     {gen_server2,handle_msg,7},
     {proc_lib,init_p,5}]}

=ERROR REPORT==== 19-Aug-2010::01:13:32 ===
connection &lt;0.2925.0&gt; (running), channel 1 - error:
{{undef,[{re,split,
             [&lt;&lt;&quot;bluemail.cache.#&quot;&gt;&gt;,&quot;\\.&quot;,[{return,list}]]},
         {rabbit_exchange_type_topic,topic_matches,2},
         {rabbit_router,'-match_bindings/2-fun-1-',10},
         {qlc,collect,1},
         {qlc,eval,2},
         {mnesia_tm,non_transaction,5},
         {rabbit_router,match_bindings,2},
         {rabbit_exchange_type_topic,publish,2}]},
 [{mnesia_tm,non_transaction,5},
  {rabbit_router,match_bindings,2},
  {rabbit_exchange_type_topic,publish,2},
  {rabbit_exchange,publish,3},
  {rabbit_channel,handle_method,3},
  {rabbit_channel,handle_cast,2},
  {gen_server2,handle_msg,7},
  {proc_lib,init_p,5}]}

=WARNING REPORT==== 19-Aug-2010::01:13:32 ===
Non-AMQP exit reason '{{undef,[{re,split,
                                   [&lt;&lt;&quot;bluemail.cache.#&quot;&gt;&gt;,&quot;\\.&quot;,
                                    [{return,list}]]},
                               {rabbit_exchange_type_topic,topic_matches,2},

{rabbit_router,'-match_bindings/2-fun-1-',10},
                               {qlc,collect,1},
                               {qlc,eval,2},
                               {mnesia_tm,non_transaction,5},
                               {rabbit_router,match_bindings,2},
                               {rabbit_exchange_type_topic,publish,2}]},
                       [{mnesia_tm,non_transaction,5},
                        {rabbit_router,match_bindings,2},
                        {rabbit_exchange_type_topic,publish,2},
                        {rabbit_exchange,publish,3},
                        {rabbit_channel,handle_method,3},
                        {rabbit_channel,handle_cast,2},
                        {gen_server2,handle_msg,7},
                        {proc_lib,init_p,5}]}'

=INFO REPORT==== 19-Aug-2010::01:13:32 ===
closing TCP connection &lt;0.2925.0&gt; from 10.1.3.1:44484

==&gt; /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at mail01-sasl.log</A> &lt;==

=CRASH REPORT==== 19-Aug-2010::01:13:32 ===
  crasher:
    pid: &lt;0.2936.0&gt;
    registered_name: []
    exception exit: {{undef,[{re,split,
                                 [&lt;&lt;&quot;bluemail.cache.#&quot;&gt;&gt;,&quot;\\.&quot;,
                                  [{return,list}]]},
                             {rabbit_exchange_type_topic,topic_matches,2},
                             {rabbit_router,'-match_bindings/2-fun-1-',10},
                             {qlc,collect,1},
                             {qlc,eval,2},
                             {mnesia_tm,non_transaction,5},
                             {rabbit_router,match_bindings,2},
                             {rabbit_exchange_type_topic,publish,2}]},
                     [{mnesia_tm,non_transaction,5},
                      {rabbit_router,match_bindings,2},
                      {rabbit_exchange_type_topic,publish,2},
                      {rabbit_exchange,publish,3},
                      {rabbit_channel,handle_method,3},
                      {rabbit_channel,handle_cast,2},
                      {gen_server2,handle_msg,7},
                      {proc_lib,init_p,5}]}
      in function  gen_server2:terminate/6
    initial call: gen:init_it(gen_server2,&lt;0.2935.0&gt;,&lt;0.2935.0&gt;,
                              rabbit_channel,
                              [1,&lt;0.2925.0&gt;,&lt;0.2934.0&gt;,
                               &lt;&lt;&quot;simplicitymedialtd&quot;&gt;&gt;,&lt;&lt;&quot;bluemail_dev&quot;&gt;&gt;,
                               &lt;0.2926.0&gt;],
                              [])
    ancestors: [&lt;0.2935.0&gt;]
    messages: []
    links: [&lt;0.2935.0&gt;]
    dictionary: [{permission_cache,
                      [{{resource,&lt;&lt;&quot;bluemail_dev&quot;&gt;&gt;,exchange,&lt;&lt;&quot;tasks&quot;&gt;&gt;},
                        write},
                       {{resource,&lt;&lt;&quot;bluemail_dev&quot;&gt;&gt;,exchange,&lt;&lt;&quot;tasks&quot;&gt;&gt;},
                        configure}]},
                  {guid,{{0,&lt;0.2936.0&gt;},0}}]
    trap_exit: true
    status: running
    heap_size: 610
    stack_size: 23
    reductions: 2649
  neighbours:

==&gt; /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at mail01.log</A> &lt;==

=INFO REPORT==== 19-Aug-2010::01:13:38 ===
closing TCP connection &lt;0.2923.0&gt; from 10.1.3.1:44483
^C

 <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mail01.dmemedialtd.com</A> [~/rabbitmq-server/scripts] &gt;


On Wed, Aug 18, 2010 at 11:39 PM, Matthew Sackman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at rabbitmq.com</A>&gt;wrote:

&gt;<i> Hi Cal,
</I>&gt;<i>
</I>&gt;<i> &gt; On Wed, Aug 18, 2010 at 10:44 PM, Cal Leeming [Simplicity Media Ltd] &lt;
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">cal.leeming at simplicitymedialtd.co.uk</A>&gt; wrote:
</I>&gt;<i> &gt; &gt; This might be a little question but, if RabbitMQ runs out of memory,
</I>&gt;<i> and I
</I>&gt;<i> &gt; &gt; am unable to open a new channel, how would one then consume off the
</I>&gt;<i> queue,
</I>&gt;<i> &gt; &gt; if one isn't able to open a channel to do so? Or is this something
</I>&gt;<i> which has
</I>&gt;<i> &gt; &gt; been solved with the new persister?
</I>&gt;<i>
</I>&gt;<i> The &quot;new persister&quot; is the solution to this problem and has recently
</I>&gt;<i> been merged into the default branch (a couple of weeks ago) which is why
</I>&gt;<i> you're now seeing that this isn't so much of a problem.
</I>&gt;<i>
</I>&gt;<i> Basically, the &quot;new persister&quot; allows paging of messages so Rabbit
</I>&gt;<i> should never run out of memory for very long - it should always (well,
</I>&gt;<i> nearly always) be able to free up some memory by writing messages out to
</I>&gt;<i> disk.
</I>&gt;<i>
</I>&gt;<i> Glad it's now working for you.
</I>&gt;<i>
</I>&gt;<i> Matthew
</I>&gt;<i>
</I>


-- 

Cal Leeming

Operational Security &amp; Support Team

*Out of Hours: *+44 (07534) 971120 | *Support Tickets: *
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">support at simplicitymedialtd.co.uk</A>
*Fax: *+44 (02476) 578987 | *Email: *<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">cal.leeming at simplicitymedialtd.co.uk</A>
Simplicity Media Ltd. All rights reserved.
Registered company number 7143564
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100819/de6ac73a/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100819/de6ac73a/attachment-0001.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008487.html">[rabbitmq-discuss] Problems with RabbitMQ not responding on channel request
</A></li>
	<LI>Next message: <A HREF="008489.html">[rabbitmq-discuss] Problems with RabbitMQ not responding on channel request
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8488">[ date ]</a>
              <a href="thread.html#8488">[ thread ]</a>
              <a href="subject.html#8488">[ subject ]</a>
              <a href="author.html#8488">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
