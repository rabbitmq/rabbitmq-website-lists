<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Performance questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Performance%20questions&In-Reply-To=49F8C4C7.7090804%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003475.html">
   <LINK REL="Next"  HREF="003465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Performance questions</H1>
    <B>Ashley van Gerven</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Performance%20questions&In-Reply-To=49F8C4C7.7090804%40lshift.net"
       TITLE="[rabbitmq-discuss] Performance questions">ashley.ohq at gmail.com
       </A><BR>
    <I>Thu Apr 30 05:12:22 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003475.html">[rabbitmq-discuss] Performance questions
</A></li>
        <LI>Next message: <A HREF="003465.html">[rabbitmq-discuss] Default headers exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3479">[ date ]</a>
              <a href="thread.html#3479">[ thread ]</a>
              <a href="subject.html#3479">[ subject ]</a>
              <a href="author.html#3479">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias



It's a 100Mbps network.



The messages are retrieved like this:

-----

BasicGetResult result = ch.BasicGet(&quot;tempQ&quot;, false);

ch.BasicAck(result.DeliveryTag, false);

-----



I'll try out your suggested alternate method of basic.consume.



Thanks for the info



Cheers

Ashley



On Thu, Apr 30, 2009 at 7:21 AM, Matthias Radestock &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at lshift.net</A>&gt;wrote:

&gt;<i> Ashley,
</I>&gt;<i>
</I>&gt;<i> Ashley van Gerven wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm fairly new to rabbitMQ - one of the tests I did was to read 1000
</I>&gt;&gt;<i> messages from rabbitMQ server running locally vs. reading 1000 messages from
</I>&gt;&gt;<i> another server (using .NET client).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Performance was approx 1000 per second connecting from the same server, vs
</I>&gt;&gt;<i> approx 200 p/s connecting from another server (single-node broker).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What would the bottleneck be here that's limiting the reads to 200 p/s? My
</I>&gt;&gt;<i> guess would be the network hardware.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> What network bandwidth do you have?
</I>&gt;<i>
</I>&gt;<i> And how exactly are you reading messages?
</I>&gt;<i>
</I>&gt;<i>  Are there any tricks with setting up or connecting to minimise read times?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Are you using basic.get? If so then the throughput will be determined by
</I>&gt;<i> the network latency, since basic.get incurs a full network round-trip per
</I>&gt;<i> message. To avoid that use basic.consume to set up asynchronous &quot;push&quot;
</I>&gt;<i> delivery that streams messages to the client.
</I>&gt;<i>
</I>&gt;<i>  And what sort of performance benefits can there usually be realized for
</I>&gt;&gt;<i> every node added to a cluster?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> That very much depends on your routing topology. At one extreme, if you
</I>&gt;<i> have a single producer sending messages to a single consumer then adding
</I>&gt;<i> nodes will not help at all. At the other extreme, if you have many disjoint
</I>&gt;<i> streams then near-linear scalability is achievable.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090430/2b40bd72/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090430/2b40bd72/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003475.html">[rabbitmq-discuss] Performance questions
</A></li>
	<LI>Next message: <A HREF="003465.html">[rabbitmq-discuss] Default headers exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3479">[ date ]</a>
              <a href="thread.html#3479">[ thread ]</a>
              <a href="subject.html#3479">[ subject ]</a>
              <a href="author.html#3479">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
