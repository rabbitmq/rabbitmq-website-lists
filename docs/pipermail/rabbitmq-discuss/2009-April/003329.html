<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Large number of connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Large%20number%20of%20connections&In-Reply-To=997cab100904101401j7ffadca6kdd4ad7d4ef06e460%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003328.html">
   <LINK REL="Next"  HREF="003331.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Large number of connections</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Large%20number%20of%20connections&In-Reply-To=997cab100904101401j7ffadca6kdd4ad7d4ef06e460%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Large number of connections">tonyg at lshift.net
       </A><BR>
    <I>Fri Apr 10 22:53:43 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003328.html">[rabbitmq-discuss] Large number of connections
</A></li>
        <LI>Next message: <A HREF="003331.html">[rabbitmq-discuss] Large number of connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3329">[ date ]</a>
              <a href="thread.html#3329">[ thread ]</a>
              <a href="subject.html#3329">[ subject ]</a>
              <a href="author.html#3329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Lawrence,

Lawrence Kesteloot wrote:
&gt;<i> I need to have a large number of connections to the message broker,
</I>&gt;<i> perhaps 10,000. There is typically (on Unix) a limit of 1024 open file
</I>&gt;<i> descriptors per process.
</I>
Indeed. You will need to engage in kernel (or at least rlimit) tuning to 
raise the limit. (You may also need to increase the limit the erlang VM 
places on the maximum number of processes; &quot;+P 1000000&quot; argument to the VM)

I've had upwards of 4000 simultaneous connections to a single node 
before, but haven't done any serious testing of it with so many connections.

&gt;<i> Multiple instances of the broker?
</I>
Clustering will help spread the load, so yes, maybe.

&gt;<i> Also, each connection will
</I>&gt;<i> have its own queue. Can RabbitMQ deal with tens of thousands of
</I>&gt;<i> queues? The total message throughput will be on the order of the
</I>&gt;<i> number of connections per second (several thousand per second).
</I>
It can deal with tens or even hundreds of thousands of queues. The 
throughput may be a limiting factor, but again clustering may help there.

Regards,
   Tony



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003328.html">[rabbitmq-discuss] Large number of connections
</A></li>
	<LI>Next message: <A HREF="003331.html">[rabbitmq-discuss] Large number of connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3329">[ date ]</a>
              <a href="thread.html#3329">[ thread ]</a>
              <a href="subject.html#3329">[ subject ]</a>
              <a href="author.html#3329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
