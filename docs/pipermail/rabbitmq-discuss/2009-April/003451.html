<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [ANN] Release v0.1.0 of Bunny a synchronous	Ruby AMQP client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BANN%5D%20Release%20v0.1.0%20of%20Bunny%20a%20synchronous%0A%09Ruby%20AMQP%20client&In-Reply-To=167204d20904261443l72bb8dbbl172b108bfc4c120f%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003495.html">
   <LINK REL="Next"  HREF="003452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [ANN] Release v0.1.0 of Bunny a synchronous	Ruby AMQP client</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BANN%5D%20Release%20v0.1.0%20of%20Bunny%20a%20synchronous%0A%09Ruby%20AMQP%20client&In-Reply-To=167204d20904261443l72bb8dbbl172b108bfc4c120f%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] [ANN] Release v0.1.0 of Bunny a synchronous	Ruby AMQP client">alexis.richardson at gmail.com
       </A><BR>
    <I>Mon Apr 27 15:17:28 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003495.html">[rabbitmq-discuss] millions of unack'd messages in a day --	disk store instead of ram?
</A></li>
        <LI>Next message: <A HREF="003452.html">[rabbitmq-discuss] [ANN] Release v0.1.0 of Bunny a synchronous	Ruby AMQP client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3451">[ date ]</a>
              <a href="thread.html#3451">[ thread ]</a>
              <a href="subject.html#3451">[ subject ]</a>
              <a href="author.html#3451">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Chris,

OK - I have discussed this with Tony from the RabbitMQ engineering team.

There are two ways to proceed, both of which would require Aman's
consent and enthusiasm.  (He is cc'd).

1.  We copy Aman's codegen.rb to RabbitMQ's mercurial repo, and the
community uses that as the root file for .rb code generation.

2.  The codegen.rb file is refactored into two parts, one that
generates core protocol constructs, and one that generates
client-specific constructs (eg for EM in the case of Aman's client).
According to Tony, something like this is done in the .py code
generation.

If Aman likes the idea and someone is willing to help with 2, then
this might be a good outcome.

What do you think?

alexis




On Sun, Apr 26, 2009 at 10:43 PM, Alexis Richardson
&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis.richardson at gmail.com</A>&gt; wrote:
&gt;<i> On Sun, Apr 26, 2009 at 10:15 PM, Chris Duncan &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">celldee at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> I did read Ben Hood's article thanks. It mentions parsing the json spec but
</I>&gt;&gt;<i> not who or what builds it. I went to the AMQP site and could see a .xml spec
</I>&gt;&gt;<i> but not a json version.
</I>&gt;<i>
</I>&gt;<i> Chris, as I mentioned: Is it not the .json 0-8 document in 'files', here?
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://hg.rabbitmq.com/rabbitmq-codegen/">http://hg.rabbitmq.com/rabbitmq-codegen/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Does someone at Rabbit produce the json version?
</I>&gt;<i>
</I>&gt;<i> The doc in the above repo was created by John Leuner as a way to help Rabbit.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> So to clarify. To build an AMQP client, you have to get hold of the
</I>&gt;&gt;<i> appropriate json spec and parse it using a codegen emitter for your chosen
</I>&gt;&gt;<i> language. Then you use the output from that to implement protocol methods
</I>&gt;&gt;<i> that can be used to produce an API. What I am suggesting is that the codegen
</I>&gt;&gt;<i> emitter in amqp (Aman's project) might become the de facto standard for
</I>&gt;&gt;<i> Ruby, provided that it can be maintained in a way that copes with changes to
</I>&gt;&gt;<i> the AMQP spec.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have no idea who should ultimately be the custodian of it, but I guess the
</I>&gt;&gt;<i> basic requirements are a good grasp of Ruby and excellent knowledge of AMQP
</I>&gt;&gt;<i> and the spec in particular. I know one thing; I don't qualify :)
</I>&gt;<i>
</I>&gt;<i> I need to discuss this with the engineering team and with Aman, and
</I>&gt;<i> get back to you. &#160;We're happy to maintain all sorts of core code but
</I>&gt;<i> are not Ruby experts.
</I>&gt;<i>
</I>&gt;<i> Thanks for the suggestion!
</I>&gt;<i>
</I>&gt;<i> alexis
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Chris
</I>&gt;&gt;<i> On 26 Apr 2009, at 21:27, Alexis Richardson wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Chris,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Sun, Apr 26, 2009 at 9:13 PM, Chris Duncan &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">celldee at gmail.com</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> Can you provide some more thinking on this? &#160;Do you mean the RabbitMQ
</I>&gt;&gt;&gt;&gt;&gt;<i> codegen and if so, how would you split it out and where? &#160;What I mean
</I>&gt;&gt;&gt;&gt;&gt;<i> is: what is the best way to socialise the code.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> No, sorry I wasn't very clear. I don't mean the RabbitMQ codegen.py. I
</I>&gt;&gt;&gt;&gt;<i> mean
</I>&gt;&gt;&gt;&gt;<i> the codegen.rb script in Aman's amqp that parses the AMQP specification
</I>&gt;&gt;&gt;&gt;<i> json
</I>&gt;&gt;&gt;&gt;<i> document. I'm not sure where the json document comes from, maybe you
</I>&gt;&gt;&gt;&gt;<i> could
</I>&gt;&gt;&gt;&gt;<i> enlighten me :)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is it not the .json 0-8 document in 'files', here?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="http://hg.rabbitmq.com/rabbitmq-codegen/">http://hg.rabbitmq.com/rabbitmq-codegen/</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Also, just in case you have not seen it, does this help?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> <A HREF="http://hopper.squarespace.com/blog/2008/6/21/build-your-own-amqp-client.html">http://hopper.squarespace.com/blog/2008/6/21/build-your-own-amqp-client.html</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> It seems to me that the Ruby community could do with a
</I>&gt;&gt;&gt;&gt;<i> reliable repository to get that code from rather than lifting it from
</I>&gt;&gt;&gt;&gt;<i> amqp
</I>&gt;&gt;&gt;&gt;<i> every time it's needed. It's fundamental to anything Ruby that wants to
</I>&gt;&gt;&gt;&gt;<i> talk
</I>&gt;&gt;&gt;&gt;<i> AMQP. &#160;I've asked Aman and Amos about it, I don't know what &#160;they think
</I>&gt;&gt;&gt;&gt;<i> yet.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I'm new to the AMQP arena so I'm open to advice and guidance from anyone
</I>&gt;&gt;&gt;&gt;<i> who
</I>&gt;&gt;&gt;&gt;<i> wants to offer it :)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> :-)
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> We'll do our best.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Thanks for the JRuby project link. I'll take a look.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Regards,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Chris
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003495.html">[rabbitmq-discuss] millions of unack'd messages in a day --	disk store instead of ram?
</A></li>
	<LI>Next message: <A HREF="003452.html">[rabbitmq-discuss] [ANN] Release v0.1.0 of Bunny a synchronous	Ruby AMQP client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3451">[ date ]</a>
              <a href="thread.html#3451">[ thread ]</a>
              <a href="subject.html#3451">[ subject ]</a>
              <a href="author.html#3451">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
