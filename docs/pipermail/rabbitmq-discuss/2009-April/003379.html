<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ dying during evaluation testing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20dying%20during%20evaluation%20testing&In-Reply-To=23160957.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003378.html">
   <LINK REL="Next"  HREF="003390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ dying during evaluation testing</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20dying%20during%20evaluation%20testing&In-Reply-To=23160957.post%40talk.nabble.com"
       TITLE="[rabbitmq-discuss] RabbitMQ dying during evaluation testing">matthias at lshift.net
       </A><BR>
    <I>Tue Apr 21 23:32:08 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003378.html">[rabbitmq-discuss]  RabbitMQ dying during evaluation testing
</A></li>
        <LI>Next message: <A HREF="003390.html">[rabbitmq-discuss] RabbitMQ dying during evaluation testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3379">[ date ]</a>
              <a href="thread.html#3379">[ thread ]</a>
              <a href="subject.html#3379">[ subject ]</a>
              <a href="author.html#3379">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jacek,

Jacek wrote:
&gt;<i> Anyway, as part of our test I wrote a *very* simple client that posts a few
</I>&gt;<i> million short messages. It seems to work very well for the first few
</I>&gt;<i> million, but after the first few runs RabbitMQ seems to die.
</I>
You have no consumers on the queue, so the messages the producer sends 
will just pile up at the server and eventually RabbitMQ will run out of 
memory.

Flow control should kick in and throttle the producer, but the default 
memory threshold of 95% is probably too high for the server to notice 
the memory pressure before its too late - see 
<A HREF="http://www.rabbitmq.com/admin-guide.html#memsup">http://www.rabbitmq.com/admin-guide.html#memsup</A> for adjusting the threshold.

We are working on disk-queues that will allow RabbitMQ to retain more 
message data than fits into memory.


Regards,

Matthias


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003378.html">[rabbitmq-discuss]  RabbitMQ dying during evaluation testing
</A></li>
	<LI>Next message: <A HREF="003390.html">[rabbitmq-discuss] RabbitMQ dying during evaluation testing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3379">[ date ]</a>
              <a href="thread.html#3379">[ thread ]</a>
              <a href="subject.html#3379">[ subject ]</a>
              <a href="author.html#3379">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
