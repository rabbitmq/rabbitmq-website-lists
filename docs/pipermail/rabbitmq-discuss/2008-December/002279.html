<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Polling message from RabbitMQ by servicemix.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Polling%20message%20from%20RabbitMQ%20by%20servicemix.&In-Reply-To=21000664.post%40talk.nabble.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002278.html">
   <LINK REL="Next"  HREF="002280.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Polling message from RabbitMQ by servicemix.</H1>
    <B>aznmedia</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Polling%20message%20from%20RabbitMQ%20by%20servicemix.&In-Reply-To=21000664.post%40talk.nabble.com"
       TITLE="[rabbitmq-discuss] Polling message from RabbitMQ by servicemix.">digz6666 at gmail.com
       </A><BR>
    <I>Sun Dec 14 14:11:11 GMT 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002278.html">[rabbitmq-discuss] Polling message from RabbitMQ by servicemix.
</A></li>
        <LI>Next message: <A HREF="002280.html">[rabbitmq-discuss] Polling message from RabbitMQ by servicemix.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2279">[ date ]</a>
              <a href="thread.html#2279">[ thread ]</a>
              <a href="subject.html#2279">[ subject ]</a>
              <a href="author.html#2279">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>


aznmedia wrote:
&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Holger Hoffst&#228;tte-2 wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> aznmedia wrote:
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I'm writing my xbean.xml file like following:
</I>&gt;&gt;&gt;<i> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</I>&gt;&gt;&gt;<i> &lt;beans xmlns:jee=&quot;<A HREF="http://www.springframework.org/schema/jee&quot;">http://www.springframework.org/schema/jee&quot;</A>
</I>&gt;&gt;&gt;<i>       xmlns=&quot;<A HREF="http://www.springframework.org/schema/beans&quot;">http://www.springframework.org/schema/beans&quot;</A>
</I>&gt;&gt;&gt;<i>       xmlns:xsi=&quot;<A HREF="http://http://www.w3.org/2001/XMLSchema-instance&quot;">http://http://www.w3.org/2001/XMLSchema-instance&quot;</A>
</I>&gt;&gt;&gt;<i>       xsi:schemaLocation=&quot;<A HREF="http://servicemix.apache.org/jms/1.0">http://servicemix.apache.org/jms/1.0</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://servicemix.apache.org/schema/servicemix-jms-3.2.2.xsd">http://servicemix.apache.org/schema/servicemix-jms-3.2.2.xsd</A>
</I>&gt;&gt;&gt;<i>       <A HREF="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</A>
</I>&gt;&gt;&gt;<i> <A HREF="http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot;">http://www.springframework.org/schema/beans/spring-beans-2.0.xsd&quot;</A>&gt;
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>        &lt;jms:consumer service=&quot;my:ConsumerService&quot;
</I>&gt;&gt;&gt;<i>                endpoint=&quot;mq&quot;
</I>&gt;&gt;&gt;<i>                destinationName=&quot;rabbit-queue&quot;
</I>&gt;&gt;&gt;<i>                connectionFactory=&quot;#connectionFactory&quot;
</I>&gt;&gt;&gt;<i>                concurrentConsumers=&quot;8&quot; /&gt;
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i>        &lt;bean id=&quot;connectionFactory&quot;
</I>&gt;&gt;&gt;<i> class=&quot;com.rabbitmq.client.ConnectionFactory&quot;&gt;
</I>&gt;&gt;<i> [..]
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I think there is some general confusion going on here. The ServiceMix
</I>&gt;&gt;<i> consumer bean expects a *JMS* ConnectionFactory, but that will not work
</I>&gt;&gt;<i> with the RabbitMQ connection factory, since it plays the same role
</I>&gt;&gt;<i> (connection management) but does *not* implement the necessary JMS
</I>&gt;&gt;<i> functionality. You will either have to wait until AMQP (or in this case
</I>&gt;&gt;<i> the RabbitMQ library) implements JMS, or write your own AMQP/Rabbit
</I>&gt;&gt;<i> transport for ServiceMix. Alternatively you might try a Qpid client
</I>&gt;&gt;<i> library which is reported to work against a Rabbit broker (though I
</I>&gt;&gt;<i> cannot
</I>&gt;&gt;<i> say how well).
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> -h
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> JMS service unit deployed with exceptions. It shows following exception:
</I>&gt;<i> java.lang.Exception: &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
</I>&gt;<i> &lt;jbi-task xmlns=&quot;<A HREF="http://java.sun.com/xml/ns/jbi/management-message&quot;">http://java.sun.com/xml/ns/jbi/management-message&quot;</A>
</I>&gt;<i> version=&quot;1.0
</I>&gt;<i> &quot;&gt;
</I>&gt;<i> &lt;jbi-task-result&gt;
</I>&gt;<i> &lt;frmwk-task-result&gt;
</I>&gt;<i> &lt;frmwk-task-result-details&gt;
</I>&gt;<i> &lt;task-result-details&gt;
</I>&gt;<i> &lt;task-id&gt;start&lt;/task-id&gt;
</I>&gt;<i> &lt;task-result&gt;FAILED&lt;/task-result&gt;
</I>&gt;<i> &lt;message-type&gt;ERROR&lt;/message-type&gt;
</I>&gt;<i> &lt;/task-result-details&gt;
</I>&gt;<i> &lt;/frmwk-task-result-details&gt;
</I>&gt;<i> &lt;/frmwk-task-result&gt;
</I>&gt;<i> &lt;component-task-result
</I>&gt;<i> xmlns=&quot;<A HREF="http://java.sun.com/xml/ns/jbi/management-message&quot;">http://java.sun.com/xml/ns/jbi/management-message&quot;</A>
</I>&gt;&gt;<i>
</I>&gt;<i>         &lt;component-name&gt;servicemix-xmpp&lt;/component-name&gt;
</I>&gt;<i>         &lt;component-task-result-details&gt;
</I>&gt;<i>                 &lt;task-result-details&gt;
</I>&gt;<i>                         &lt;task-id&gt;start&lt;/task-id&gt;
</I>&gt;<i>                         &lt;task-result&gt;FAILED&lt;/task-result&gt;
</I>&gt;<i>                         &lt;message-type&gt;ERROR&lt;/message-type&gt;
</I>&gt;<i>                         &lt;task-status-msg&gt;
</I>&gt;<i> &lt;msg-loc-info&gt;
</I>&gt;<i> &lt;loc-token/&gt;
</I>&gt;<i> &lt;loc-message&gt;Unable to start service unit&lt;/loc-message&gt;
</I>&gt;<i> &lt;/msg-loc-info&gt;
</I>&gt;<i> &lt;/task-status-msg&gt;
</I>&gt;<i>                         &lt;exception-info&gt;
</I>&gt;<i>                                 &lt;nesting-level&gt;1&lt;/nesting-level&gt;
</I>&gt;<i>                                 &lt;msg-loc-info&gt;
</I>&gt;<i>                                         &lt;loc-token/&gt;
</I>&gt;<i>                                         &lt;loc-message&gt;XMPPError connecting
</I>&gt;<i> to eon
</I>&gt;<i> -developer:5222.&lt;/loc-message&gt;
</I>&gt;<i>                                         &lt;stack-trace&gt;&lt;![CDATA[XMPPError
</I>&gt;<i> connecti
</I>&gt;<i> ng to eon-developer:5222.: (502)
</I>&gt;<i>   -- caused by: java.net.ConnectException: Connection refused: connect
</I>&gt;<i>         at
</I>&gt;<i> org.jivesoftware.smack.XMPPConnection.connectUsingConfiguration(XMPPC
</I>&gt;<i> onnection.java:281)
</I>&gt;<i>         at
</I>&gt;<i> org.jivesoftware.smack.XMPPConnection.&lt;init&gt;(XMPPConnection.java:171)
</I>&gt;<i> 
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.xmpp.XMPPEndpoint.start(XMPPEndpoint.java:77)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.xmpp.GroupChatEndpoint.start(GroupChatEndpoint.
</I>&gt;<i> java:51)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.common.DefaultServiceUnit.start(DefaultServiceU
</I>&gt;<i> nit.java:78)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.common.BaseServiceUnitManager.start(BaseService
</I>&gt;<i> UnitManager.java:155)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ServiceUnitLifeCycle.start(Servic
</I>&gt;<i> eUnitLifeCycle.java:103)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ServiceAssemblyLifeCycle.start(Se
</I>&gt;<i> rviceAssemblyLifeCycle.java:132)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ServiceAssemblyLifeCycle.restore(
</I>&gt;<i> ServiceAssemblyLifeCycle.java:330)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.DeploymentService.start(Deploymen
</I>&gt;<i> tService.java:100)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.container.JBIContainer.start(JBIContainer.j
</I>&gt;<i> ava:670)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.container.SpringJBIContainer.afterPropertie
</I>&gt;<i> sSet(SpringJBIContainer.java:115)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1368)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.initializeBean(AbstractAutowireCapableBeanFactory.java:1334)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory$1.run(AbstractAutowireCapableBeanFactory.java:409)
</I>&gt;<i>         at java.security.AccessController.doPrivileged(Native Method)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.createBean(AbstractAutowireCapableBeanFactory.java:380)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory$1.getOb
</I>&gt;<i> ject(AbstractBeanFactory.java:264)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.DefaultSingletonBeanRegistr
</I>&gt;<i> y.getSingleton(DefaultSingletonBeanRegistry.java:221)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory.doGetBe
</I>&gt;<i> an(AbstractBeanFactory.java:261)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory.getBean
</I>&gt;<i> (AbstractBeanFactory.java:185)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory.getBean
</I>&gt;<i> (AbstractBeanFactory.java:164)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.DefaultListableBeanFactory.
</I>&gt;<i> preInstantiateSingletons(DefaultListableBeanFactory.java:429)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.context.support.AbstractApplicationContext.finish
</I>&gt;<i> BeanFactoryInitialization(AbstractApplicationContext.java:729)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.context.support.AbstractApplicationContext.refres
</I>&gt;<i> h(AbstractApplicationContext.java:381)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.xbean.spring.context.ClassPathXmlApplicationContext.&lt;init&gt;
</I>&gt;<i> (ClassPathXmlApplicationContext.java:161)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.xbean.spring.context.ClassPathXmlApplicationContext.&lt;init&gt;
</I>&gt;<i> (ClassPathXmlApplicationContext.java:51)
</I>&gt;<i>         at org.apache.servicemix.Main.main(Main.java:53)
</I>&gt;<i>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</I>&gt;<i>         at
</I>&gt;<i> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
</I>&gt;<i> java:39)
</I>&gt;<i>         at
</I>&gt;<i> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces
</I>&gt;<i> sorImpl.java:25)
</I>&gt;<i>         at java.lang.reflect.Method.invoke(Method.java:597)
</I>&gt;<i>         at
</I>&gt;<i> org.codehaus.classworlds.Launcher.launchStandard(Launcher.java:410)
</I>&gt;<i>         at org.codehaus.classworlds.Launcher.launch(Launcher.java:344)
</I>&gt;<i>         at org.codehaus.classworlds.Launcher.main(Launcher.java:461)
</I>&gt;<i> Nested Exception:
</I>&gt;<i> java.net.ConnectException: Connection refused: connect
</I>&gt;<i>         at java.net.PlainSocketImpl.socketConnect(Native Method)
</I>&gt;<i>         at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)
</I>&gt;<i>         at
</I>&gt;<i> java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)
</I>&gt;<i>         at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)
</I>&gt;<i>         at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:366)
</I>&gt;<i>         at java.net.Socket.connect(Socket.java:519)
</I>&gt;<i>         at java.net.Socket.connect(Socket.java:469)
</I>&gt;<i>         at java.net.Socket.&lt;init&gt;(Socket.java:366)
</I>&gt;<i>         at java.net.Socket.&lt;init&gt;(Socket.java:180)
</I>&gt;<i>         at
</I>&gt;<i> org.jivesoftware.smack.XMPPConnection.connectUsingConfiguration(XMPPC
</I>&gt;<i> onnection.java:268)
</I>&gt;<i>         at
</I>&gt;<i> org.jivesoftware.smack.XMPPConnection.&lt;init&gt;(XMPPConnection.java:171)
</I>&gt;<i> 
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.xmpp.XMPPEndpoint.start(XMPPEndpoint.java:77)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.xmpp.GroupChatEndpoint.start(GroupChatEndpoint.
</I>&gt;<i> java:51)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.common.DefaultServiceUnit.start(DefaultServiceU
</I>&gt;<i> nit.java:78)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.common.BaseServiceUnitManager.start(BaseService
</I>&gt;<i> UnitManager.java:155)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ServiceUnitLifeCycle.start(Servic
</I>&gt;<i> eUnitLifeCycle.java:103)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ServiceAssemblyLifeCycle.start(Se
</I>&gt;<i> rviceAssemblyLifeCycle.java:132)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ServiceAssemblyLifeCycle.restore(
</I>&gt;<i> ServiceAssemblyLifeCycle.java:330)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.DeploymentService.start(Deploymen
</I>&gt;<i> tService.java:100)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.container.JBIContainer.start(JBIContainer.j
</I>&gt;<i> ava:670)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.container.SpringJBIContainer.afterPropertie
</I>&gt;<i> sSet(SpringJBIContainer.java:115)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1368)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.initializeBean(AbstractAutowireCapableBeanFactory.java:1334)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory$1.run(AbstractAutowireCapableBeanFactory.java:409)
</I>&gt;<i>         at java.security.AccessController.doPrivileged(Native Method)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.createBean(AbstractAutowireCapableBeanFactory.java:380)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory$1.getOb
</I>&gt;<i> ject(AbstractBeanFactory.java:264)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.DefaultSingletonBeanRegistr
</I>&gt;<i> y.getSingleton(DefaultSingletonBeanRegistry.java:221)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory.doGetBe
</I>&gt;<i> an(AbstractBeanFactory.java:261)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory.getBean
</I>&gt;<i> (AbstractBeanFactory.java:185)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory.getBean
</I>&gt;<i> (AbstractBeanFactory.java:164)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.DefaultListableBeanFactory.
</I>&gt;<i> preInstantiateSingletons(DefaultListableBeanFactory.java:429)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.context.support.AbstractApplicationContext.finish
</I>&gt;<i> BeanFactoryInitialization(AbstractApplicationContext.java:729)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.context.support.AbstractApplicationContext.refres
</I>&gt;<i> h(AbstractApplicationContext.java:381)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.xbean.spring.context.ClassPathXmlApplicationContext.&lt;init&gt;
</I>&gt;<i> (ClassPathXmlApplicationContext.java:161)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.xbean.spring.context.ClassPathXmlApplicationContext.&lt;init&gt;
</I>&gt;<i> (ClassPathXmlApplicationContext.java:51)
</I>&gt;<i>         at org.apache.servicemix.Main.main(Main.java:53)
</I>&gt;<i>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</I>&gt;<i>         at
</I>&gt;<i> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
</I>&gt;<i> java:39)
</I>&gt;<i>         at
</I>&gt;<i> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces
</I>&gt;<i> sorImpl.java:25)
</I>&gt;<i>         at java.lang.reflect.Method.invoke(Method.java:597)
</I>&gt;<i>         at
</I>&gt;<i> org.codehaus.classworlds.Launcher.launchStandard(Launcher.java:410)
</I>&gt;<i>         at org.codehaus.classworlds.Launcher.launch(Launcher.java:344)
</I>&gt;<i>         at org.codehaus.classworlds.Launcher.main(Launcher.java:461)
</I>&gt;<i> ]]&gt;&lt;/stack-trace&gt;
</I>&gt;<i>                                 &lt;/msg-loc-info&gt;
</I>&gt;<i>                         &lt;/exception-info&gt;
</I>&gt;<i>                 &lt;/task-result-details&gt;
</I>&gt;<i>         &lt;/component-task-result-details&gt;
</I>&gt;<i> &lt;/component-task-result&gt;
</I>&gt;<i> &lt;/jbi-task-result&gt;
</I>&gt;<i> &lt;/jbi-task&gt;
</I>&gt;<i> 
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ManagementSupport.failure(Managem
</I>&gt;<i> entSupport.java:125)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ManagementSupport.failure(Managem
</I>&gt;<i> entSupport.java:111)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ServiceAssemblyLifeCycle.start(Se
</I>&gt;<i> rviceAssemblyLifeCycle.java:146)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.ServiceAssemblyLifeCycle.restore(
</I>&gt;<i> ServiceAssemblyLifeCycle.java:330)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.framework.DeploymentService.start(Deploymen
</I>&gt;<i> tService.java:100)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.container.JBIContainer.start(JBIContainer.j
</I>&gt;<i> ava:670)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.servicemix.jbi.container.SpringJBIContainer.afterPropertie
</I>&gt;<i> sSet(SpringJBIContainer.java:115)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1368)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.initializeBean(AbstractAutowireCapableBeanFactory.java:1334)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.doCreateBean(AbstractAutowireCapableBeanFactory.java:473)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory$1.run(AbstractAutowireCapableBeanFactory.java:409)
</I>&gt;<i>         at java.security.AccessController.doPrivileged(Native Method)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractAutowireCapableBean
</I>&gt;<i> Factory.createBean(AbstractAutowireCapableBeanFactory.java:380)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory$1.getOb
</I>&gt;<i> ject(AbstractBeanFactory.java:264)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.DefaultSingletonBeanRegistr
</I>&gt;<i> y.getSingleton(DefaultSingletonBeanRegistry.java:221)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory.doGetBe
</I>&gt;<i> an(AbstractBeanFactory.java:261)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory.getBean
</I>&gt;<i> (AbstractBeanFactory.java:185)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.AbstractBeanFactory.getBean
</I>&gt;<i> (AbstractBeanFactory.java:164)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.beans.factory.support.DefaultListableBeanFactory.
</I>&gt;<i> preInstantiateSingletons(DefaultListableBeanFactory.java:429)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.context.support.AbstractApplicationContext.finish
</I>&gt;<i> BeanFactoryInitialization(AbstractApplicationContext.java:729)
</I>&gt;<i>         at
</I>&gt;<i> org.springframework.context.support.AbstractApplicationContext.refres
</I>&gt;<i> h(AbstractApplicationContext.java:381)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.xbean.spring.context.ClassPathXmlApplicationContext.&lt;init&gt;
</I>&gt;<i> (ClassPathXmlApplicationContext.java:161)
</I>&gt;<i>         at
</I>&gt;<i> org.apache.xbean.spring.context.ClassPathXmlApplicationContext.&lt;init&gt;
</I>&gt;<i> (ClassPathXmlApplicationContext.java:51)
</I>&gt;<i>         at org.apache.servicemix.Main.main(Main.java:53)
</I>&gt;<i>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
</I>&gt;<i>         at
</I>&gt;<i> sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.
</I>&gt;<i> java:39)
</I>&gt;<i>         at
</I>&gt;<i> sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces
</I>&gt;<i> sorImpl.java:25)
</I>&gt;<i>         at java.lang.reflect.Method.invoke(Method.java:597)
</I>&gt;<i>         at
</I>&gt;<i> org.codehaus.classworlds.Launcher.launchStandard(Launcher.java:410)
</I>&gt;<i>         at org.codehaus.classworlds.Launcher.launch(Launcher.java:344)
</I>&gt;<i>         at org.codehaus.classworlds.Launcher.main(Launcher.java:461)
</I>&gt;<i> 
</I>&gt;<i> How can I write AMQP/Rabbittransport for ServiceMix? Is there any
</I>&gt;<i> documentation, specification, guides or examples?
</I>&gt;<i> 
</I>
It also throws following exception:

ERROR - Service                        - Async error occurred:
javax.jms.JMSExce
ption: Invalid acknowledgment: MessageAck {commandId = 8, responseRequired =
fal
se, ackType = 3, consumerId = ID:eon-developer-1374-1229263521218-2:3:-1:2,
firs
tMessageId = ID:eon-developer-1374-1229263521218-1:0:0:0:441, lastMessageId
= ID
:<i>eon-developer-1374-1229263521218-1:0:0:0:441, destination =
</I><A HREF="topic://ActiveMQ.Ad">topic://ActiveMQ.Ad</A>
visory.Consumer.Topic.org.apache.servicemix.JCAFlow, transactionId = null,
messa
geCount = 1}
javax.jms.JMSException: Invalid acknowledgment: MessageAck {commandId = 8,
respo
nseRequired = false, ackType = 3, consumerId =
ID:eon-developer-1374-12292635212
18-2:3:-1:2, firstMessageId =
ID:eon-developer-1374-1229263521218-1:0:0:0:441, l
astMessageId = ID:eon-developer-1374-1229263521218-1:0:0:0:441, destination
= to
<A HREF="pic://ActiveMQ.Advisory.Consumer.Topic.org.apache.servicemix.JCAFlow,">pic://ActiveMQ.Advisory.Consumer.Topic.org.apache.servicemix.JCAFlow,</A>
transactio
nId = null, messageCount = 1}
        at
org.apache.activemq.broker.region.TopicSubscription.acknowledge(Topic
Subscription.java:216)
        at
org.apache.activemq.broker.region.AbstractRegion.acknowledge(Abstract
Region.java:364)
        at
org.apache.activemq.broker.region.RegionBroker.acknowledge(RegionBrok
er.java:470)
        at
org.apache.activemq.broker.TransactionBroker.acknowledge(TransactionB
roker.java:194)
        at
org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java
:<i>73)
</I>        at
org.apache.activemq.broker.BrokerFilter.acknowledge(BrokerFilter.java
:<i>73)
</I>        at
org.apache.activemq.broker.MutableBrokerFilter.acknowledge(MutableBro
kerFilter.java:84)
        at
org.apache.activemq.broker.TransportConnection.processMessageAck(Tran
sportConnection.java:443)
        at org.apache.activemq.command.MessageAck.visit(MessageAck.java:196)
        at
org.apache.activemq.broker.TransportConnection.service(TransportConne
ction.java:292)
        at
org.apache.activemq.broker.TransportConnection$1.onCommand(TransportC
onnection.java:180)
        at
org.apache.activemq.transport.TransportFilter.onCommand(TransportFilt
er.java:68)
        at
org.apache.activemq.transport.WireFormatNegotiator.onCommand(WireForm
atNegotiator.java:143)
        at
org.apache.activemq.transport.InactivityMonitor.onCommand(InactivityM
onitor.java:206)
        at
org.apache.activemq.transport.TransportSupport.doConsume(TransportSup
port.java:84)
        at
org.apache.activemq.transport.tcp.TcpTransport.doRun(TcpTransport.jav
a:196)
        at
org.apache.activemq.transport.tcp.TcpTransport.run(TcpTransport.java:
183)
        at java.lang.Thread.run(Thread.java:619)
-- 
View this message in context: <A HREF="http://www.nabble.com/Polling-message-from-RabbitMQ-by-servicemix.-tp20849425p21000693.html">http://www.nabble.com/Polling-message-from-RabbitMQ-by-servicemix.-tp20849425p21000693.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002278.html">[rabbitmq-discuss] Polling message from RabbitMQ by servicemix.
</A></li>
	<LI>Next message: <A HREF="002280.html">[rabbitmq-discuss] Polling message from RabbitMQ by servicemix.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2279">[ date ]</a>
              <a href="thread.html#2279">[ thread ]</a>
              <a href="subject.html#2279">[ subject ]</a>
              <a href="author.html#2279">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
