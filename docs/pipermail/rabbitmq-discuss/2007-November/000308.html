<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue inspector.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Queue%20inspector.&In-Reply-To=6293B9A7-B08B-4BE4-A1B3-2215AB887D3D%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000307.html">
   <LINK REL="Next"  HREF="000317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue inspector.</H1>
    <B>Brian Granger</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Queue%20inspector.&In-Reply-To=6293B9A7-B08B-4BE4-A1B3-2215AB887D3D%40gmail.com"
       TITLE="[rabbitmq-discuss] Queue inspector.">ellisonbg.net at gmail.com
       </A><BR>
    <I>Wed Nov  7 23:58:57 GMT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000307.html">[rabbitmq-discuss] Queue inspector.
</A></li>
        <LI>Next message: <A HREF="000317.html">[rabbitmq-discuss] Queue inspector.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#308">[ date ]</a>
              <a href="thread.html#308">[ thread ]</a>
              <a href="subject.html#308">[ subject ]</a>
              <a href="author.html#308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Can you clarify what it is about your system that requires the
</I>&gt;<i> workflow to be producer driven and consumer driven? Are the
</I>&gt;<i> interactions stateful in any way? Or am I missing the point?
</I>
We have different types of queues and there needs to be somewhat
complex logic that moves (consumes) messages from certain shared
queues into (publish) other private ones.  In pseudo code it looks
something like:

if private_queue = move_message():
    msg = shared_queue.consume()
    private_queue.publish(msg)

The important point is that the result of move_message() is very
dynamic.  That is, it depends on things like 1) the number of private
queues 2) the number of messages in those queues currently 3) the
particular resources and characteristics of the consumers of the
private queues (how much RAM they have, available libraries, etc.)

Now you may wonder why we would want this.  We have two types of
messages: 1) messages that need to be sent to a particular client and
2) messages that can be sent to any one client.  In this second case,
we typically want to send the message to the least loaded client.  Our
messages are packets of work that the clients (they are workers)
perform.  We use the shared queue to perform dynamical load balancing
for work that can be performed by any qualified worker.  But that work
still has to go through the private queues to preserve ordering.

Does this make a bit more sense?

Thanks

Brian

&gt;<i> Ben
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000307.html">[rabbitmq-discuss] Queue inspector.
</A></li>
	<LI>Next message: <A HREF="000317.html">[rabbitmq-discuss] Queue inspector.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#308">[ date ]</a>
              <a href="thread.html#308">[ thread ]</a>
              <a href="subject.html#308">[ subject ]</a>
              <a href="author.html#308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
