<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message routing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Message%20routing&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000339.html">
   <LINK REL="Next"  HREF="000341.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message routing</H1>
    <B>John Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Message%20routing&In-Reply-To="
       TITLE="[rabbitmq-discuss] Message routing">JWatson at sis.tv
       </A><BR>
    <I>Wed Nov 28 16:07:56 GMT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000339.html">[rabbitmq-discuss] Message routing
</A></li>
        <LI>Next message: <A HREF="000341.html">[rabbitmq-discuss] Message routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#340">[ date ]</a>
              <a href="thread.html#340">[ thread ]</a>
              <a href="subject.html#340">[ subject ]</a>
              <a href="author.html#340">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 
Martin wrote:
&gt;<i> I would probably implement this in a following way:
</I>&gt;<i>
</I>&gt;<i> 1. I would separate messages into different exchanges. Each exchange
</I>would correspond to  &gt; a service customer can buy. The producer
application creates the exchanges on the 
&gt;<i> startup. When client buys a service, he gets access to the
</I>corresponding exchange.
&gt;<i>
</I>&gt;<i> 2. Client application creates its own queue and binds to desired
</I>exchange (of course only 
&gt;<i> if the service was bought already, otherwise it should get access
</I>error) with any routing 
&gt;<i> criteria. These criteria can be changed afterwards using Queue.Bind
</I>and Queue.Unbind 
&gt;<i> commands.
</I>
Interesting.....  I think I'm beginning to get the picture, but I'm
still not completely happy.  Suppose you have 500 different exchanges
necessary to manage this. Your producer application does (what I'd call
the administration job) of creating the exchanges and is now busy
routing messages to all the different exchanges.  A customer contacts us
and says he wants to get message type 'D' in addition to messages 'A',
'B' and 'C' that he had before.  Maybe there's already an exchange with
this profile, maybe not.

The 'admin' task now is firstly (maybe) to create the new exchange and
secondly to reconfigure the customer appl to point to a new exchange.
The first task requires the producer program to be stopped,
reconfigured, and restarted.  The second requires us to contact the
customer.

(At the moment we manage this sort of thing with our IBM Websphere MQ
network simply by reconfiguring the 'broking' rules - the customer stays
attached to the same queue and does not need to be contacted, and we
don't need necessarily to bounce the broker.)

Cheers

John

*************************************************************
Satellite Information Services Limited Registered Office: 
17 Corsham Street London N1 6DR, Company No. 4243307

The information in this e-mail (which includes any files
transmitted with it) is confidential and is intended for the
addressee only. Unauthorised recipients are required to
maintain confidentiality.  If you have received this e-mail
in error please notify the sender immediately, destroy any
copies and delete it from your computer system. 
*************************************************************



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000339.html">[rabbitmq-discuss] Message routing
</A></li>
	<LI>Next message: <A HREF="000341.html">[rabbitmq-discuss] Message routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#340">[ date ]</a>
              <a href="thread.html#340">[ thread ]</a>
              <a href="subject.html#340">[ subject ]</a>
              <a href="author.html#340">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
