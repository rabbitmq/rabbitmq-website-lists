<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message routing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Message%20routing&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000342.html">
   <LINK REL="Next"  HREF="000344.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message routing</H1>
    <B>John Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Message%20routing&In-Reply-To="
       TITLE="[rabbitmq-discuss] Message routing">JWatson at sis.tv
       </A><BR>
    <I>Thu Nov 29 09:48:15 GMT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000342.html">[rabbitmq-discuss] Message routing
</A></li>
        <LI>Next message: <A HREF="000344.html">[rabbitmq-discuss] Message routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#343">[ date ]</a>
              <a href="thread.html#343">[ thread ]</a>
              <a href="subject.html#343">[ subject ]</a>
              <a href="author.html#343">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks very much for your answers, Martin.  It's becoming clearer.

You say:
&gt;<i> So if you want to add services without restarting the 
</I>&gt;<i> broker, either publiching application or a separate admin application 
</I>&gt;<i> can take care of that.
</I>
I would choose a separate admin application to add services.  Which
brings me to my original point - wouldn't it be more convenient to add
this functionality to the admin tool itself?

John

-----Original Message-----
From: Martin Sustrik [mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sustrik at imatix.com</A>] 
Sent: 28 November 2007 17:48
To: John Watson
Cc: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] Message routing


&gt;<i> Interesting.....  I think I'm beginning to get the picture, but I'm
</I>&gt;<i> still not completely happy.  Suppose you have 500 different exchanges
</I>&gt;<i> necessary to manage this. Your producer application does (what I'd
</I>call
&gt;<i> the administration job) of creating the exchanges and is now busy
</I>&gt;<i> routing messages to all the different exchanges.  A customer contacts
</I>us
&gt;<i> and says he wants to get message type 'D' in addition to messages 'A',
</I>&gt;<i> 'B' and 'C' that he had before.  Maybe there's already an exchange
</I>with
&gt;<i> this profile, maybe not.
</I>
I suppose you know what services you are offering in advance. So the 
producer application can create all of them as it starts.

When client calls and requests access to some service the only thing you

have to do is to grant him necessary privileges to bind to the specific 
exchange. I don't know how this can be done using RabbitMQ. *Question 
for RabbitMQ team!*


&gt;<i> The 'admin' task now is firstly (maybe) to create the new exchange and
</I>&gt;<i> secondly to reconfigure the customer appl to point to a new exchange.
</I>&gt;<i> The first task requires the producer program to be stopped,
</I>&gt;<i> reconfigured, and restarted. 
</I>
Not true. Take into account that exchanges can be created dynamically in

the runtime. So if you want to add services without restarting the 
broker, either publiching application or a separate admin application 
can take care of that.

Note: The AMQP protocol is specifically designed to allow this kind of 
interaction. The default semantics for commands like Exchange.Declare is

'create the exchange if it does not already exist' meaning that you can 
safely 'declare' the exchange even from multiple applications.


&gt;<i> The second requires us to contact the
</I>&gt;<i> customer.
</I>
You can choose to create bindings to consumer's queue from producer 
side, which is kind of uncommon, but well doable in run-time though.

Martin

*************************************************************
Satellite Information Services Limited Registered Office: 
17 Corsham Street London N1 6DR, Company No. 4243307

The information in this e-mail (which includes any files
transmitted with it) is confidential and is intended for the
addressee only. Unauthorised recipients are required to
maintain confidentiality.  If you have received this e-mail
in error please notify the sender immediately, destroy any
copies and delete it from your computer system. 
*************************************************************



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000342.html">[rabbitmq-discuss] Message routing
</A></li>
	<LI>Next message: <A HREF="000344.html">[rabbitmq-discuss] Message routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#343">[ date ]</a>
              <a href="thread.html#343">[ thread ]</a>
              <a href="subject.html#343">[ subject ]</a>
              <a href="author.html#343">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
