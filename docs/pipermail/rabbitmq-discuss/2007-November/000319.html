<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue clustering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Queue%20clustering&In-Reply-To=277D1A62-DD6D-4EFA-9FD4-00EB527A54A8%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000318.html">
   <LINK REL="Next"  HREF="000320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue clustering</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Queue%20clustering&In-Reply-To=277D1A62-DD6D-4EFA-9FD4-00EB527A54A8%40gmail.com"
       TITLE="[rabbitmq-discuss] Queue clustering">alexis.richardson at cohesiveft.com
       </A><BR>
    <I>Wed Nov 14 13:14:58 GMT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000318.html">[rabbitmq-discuss] Queue clustering
</A></li>
        <LI>Next message: <A HREF="000320.html">[rabbitmq-discuss] Queue clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#319">[ date ]</a>
              <a href="thread.html#319">[ thread ]</a>
              <a href="subject.html#319">[ subject ]</a>
              <a href="author.html#319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ben

We used logfiles to persist queues for speed and as a known best practice.

Using mnesia for persisting queues is a good idea for several reasons,
not least the manageability and quality of mnesia, but of course also
to provide several queue failover patterns 'out of the box'.  Other
persistence models may also be attractive.

We'd planned to look at this in more detail after AMQP 0-10 is out
because that will define some of the failover and HA behaviours for
AMQP.  Given that 0-10 is on its way soon, we've begun to look at this
informally, and would be delighted to move that discussion 'on list'.
What ideas would you recommend pursuing first?  Our back-of-envelope
idea was, very simply, to see how a broker would perform with mnesia
instead of the current logger, using a bit of custom coding.  This
might suggest good ways to go forward more systematically, and indeed
if this was even a good idea to pursue.

Thoughts?

alexis







On Nov 14, 2007 7:53 AM, Ben Hood &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt; wrote:
&gt;<i> Dear list,
</I>&gt;<i>
</I>&gt;<i> This is probably a stupid question, but why is mnesia not suitable for
</I>&gt;<i> backing queues?
</I>&gt;<i>
</I>&gt;<i> Given that rabbit already uses mnesia to replicate exchange state, and
</I>&gt;<i> that you get a reference to the first and last items of a sorted
</I>&gt;<i> table, is there some obvious problem with using mnesia that I can't see?
</I>&gt;<i>
</I>&gt;<i> Ben
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>


-- 
Alexis Richardson
+44 20 7617 7339 (UK)
+44 77 9865 2911 (cell)
+1 650 206 2517 (US)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000318.html">[rabbitmq-discuss] Queue clustering
</A></li>
	<LI>Next message: <A HREF="000320.html">[rabbitmq-discuss] Queue clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#319">[ date ]</a>
              <a href="thread.html#319">[ thread ]</a>
              <a href="subject.html#319">[ subject ]</a>
              <a href="author.html#319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
