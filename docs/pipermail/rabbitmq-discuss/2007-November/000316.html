<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] publish mandatory/immediate flags
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20publish%20mandatory/immediate%20flags&In-Reply-To=CC6F2F15-D69E-4539-8804-27917E12BBA6%40corp.meez.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000313.html">
   <LINK REL="Next"  HREF="000314.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] publish mandatory/immediate flags</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20publish%20mandatory/immediate%20flags&In-Reply-To=CC6F2F15-D69E-4539-8804-27917E12BBA6%40corp.meez.com"
       TITLE="[rabbitmq-discuss] publish mandatory/immediate flags">matthias at lshift.net
       </A><BR>
    <I>Fri Nov  9 11:09:19 GMT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000313.html">[rabbitmq-discuss] publish mandatory/immediate flags
</A></li>
        <LI>Next message: <A HREF="000314.html">[rabbitmq-discuss] Meez status.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#316">[ date ]</a>
              <a href="thread.html#316">[ thread ]</a>
              <a href="subject.html#316">[ subject ]</a>
              <a href="author.html#316">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matt,

matt wrote:

&gt;<i> I have a question regarding the mandatory and 
</I>&gt;<i> immediate flags.  One of the basic publish options is as follows:
</I>&gt;<i> 
</I>&gt;<i> session.getChannel().basicPublish(session.getTicket(), 
</I>&gt;<i> session.getExchange(), key, basicProps, data);
</I>&gt;<i> 
</I>&gt;<i> This has mandatory/immediate set to false.  Could it be that the new 
</I>&gt;<i> server load is causing requests to get dropped at times?  What are the 
</I>&gt;<i> drawbacks to changing those values to true by using the other call?
</I>
With 'mandatory' set to true you will get an asynchronous notification 
when a message cannot be routed to any queue, e.g. because there are no 
queues bound to the exchange, or the routing key matching fails to 
produce a result.

With 'immediate' set to true you will get an asynchronous notification 
when a message cannot be sent to a consumer straight away, i.e. if it 
would be queued. This can happen there are no consumers registered on a 
queue or they are all overloaded.

In the Java client, the notifications are received by the ReturnListener 
set with channel.setReturnListener(listener).

The drawback of setting these flags is an increase in latency and drop 
in throughput, though not by all that much.


Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000313.html">[rabbitmq-discuss] publish mandatory/immediate flags
</A></li>
	<LI>Next message: <A HREF="000314.html">[rabbitmq-discuss] Meez status.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#316">[ date ]</a>
              <a href="thread.html#316">[ thread ]</a>
              <a href="subject.html#316">[ subject ]</a>
              <a href="author.html#316">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
