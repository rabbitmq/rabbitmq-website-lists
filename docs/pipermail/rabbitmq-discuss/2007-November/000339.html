<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message routing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Message%20routing&In-Reply-To=85FA03E6BB6F0340B5A117013571A9B70FDD70%40exchange3.ad.sis.tv">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000338.html">
   <LINK REL="Next"  HREF="000340.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message routing</H1>
    <B>Martin Sustrik</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Message%20routing&In-Reply-To=85FA03E6BB6F0340B5A117013571A9B70FDD70%40exchange3.ad.sis.tv"
       TITLE="[rabbitmq-discuss] Message routing">sustrik at imatix.com
       </A><BR>
    <I>Wed Nov 28 11:50:26 GMT 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000338.html">[rabbitmq-discuss] Message routing
</A></li>
        <LI>Next message: <A HREF="000340.html">[rabbitmq-discuss] Message routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#339">[ date ]</a>
              <a href="thread.html#339">[ thread ]</a>
              <a href="subject.html#339">[ subject ]</a>
              <a href="author.html#339">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would probably implement this in a following way:

1. I would separate messages into different exchanges. Each exchange 
would correspond to a service customer can buy. The producer application 
creates the exchanges on the startup. When client buys a service, he 
gets access to the corresponding exchange.

2. Client application creates its own queue and binds to desired 
exchange (of course only if the service was bought already, otherwise it 
should get access error) with any routing criteria. These criteria can 
be changed afterwards using Queue.Bind and Queue.Unbind commands.

Martin

John Watson wrote:
&gt;<i> Martin wrote
</I>&gt;&gt;<i> This is the case because of the zero-config feature of AMQP. I.e. 
</I>&gt;&gt;<i> install and run the software on 1000 boxes of your server farm without
</I>&gt;<i> any extra work.
</I>&gt;<i> 
</I>&gt;<i> Well, to me, this seems to be deferring the administration to some other
</I>&gt;<i> kind of process. Suppose that you wish to publish messages to 1000
</I>&gt;<i> different customers, each with their own box.  Let's say each customer
</I>&gt;<i> has his own routing rules, and that these rules are quite complex, and
</I>&gt;<i> change from time to time as and when business requirements change and
</I>&gt;<i> cause different subsets of the available messages to be received. 
</I>&gt;<i> 
</I>&gt;<i> Suppose also that you want to control the message routing yourself (in
</I>&gt;<i> response, say to a customer buying a new service from you), and you want
</I>&gt;<i> absolute control over the security of your own box.  What must you do?
</I>&gt;<i> 
</I>&gt;<i> John
</I>&gt;<i> 
</I>&gt;<i> *************************************************************
</I>&gt;<i> Satellite Information Services Limited Registered Office: 
</I>&gt;<i> 17 Corsham Street London N1 6DR, Company No. 4243307
</I>&gt;<i> 
</I>&gt;<i> The information in this e-mail (which includes any files
</I>&gt;<i> transmitted with it) is confidential and is intended for the
</I>&gt;<i> addressee only. Unauthorised recipients are required to
</I>&gt;<i> maintain confidentiality.  If you have received this e-mail
</I>&gt;<i> in error please notify the sender immediately, destroy any
</I>&gt;<i> copies and delete it from your computer system. 
</I>&gt;<i> *************************************************************
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000338.html">[rabbitmq-discuss] Message routing
</A></li>
	<LI>Next message: <A HREF="000340.html">[rabbitmq-discuss] Message routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#339">[ date ]</a>
              <a href="thread.html#339">[ thread ]</a>
              <a href="subject.html#339">[ subject ]</a>
              <a href="author.html#339">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
