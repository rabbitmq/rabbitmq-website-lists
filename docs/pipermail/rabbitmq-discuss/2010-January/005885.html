<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] .NET client hangs on BasicGet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20.NET%20client%20hangs%20on%20BasicGet&In-Reply-To=4B4E279E.3090005%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005867.html">
   <LINK REL="Next"  HREF="005886.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] .NET client hangs on BasicGet</H1>
    <B>Peter Townsend</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20.NET%20client%20hangs%20on%20BasicGet&In-Reply-To=4B4E279E.3090005%40lshift.net"
       TITLE="[rabbitmq-discuss] .NET client hangs on BasicGet">Peter.Townsend at mflow.com
       </A><BR>
    <I>Thu Jan 14 12:33:07 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005867.html">[rabbitmq-discuss] .NET client hangs on BasicGet
</A></li>
        <LI>Next message: <A HREF="005886.html">[rabbitmq-discuss] .NET client hangs on BasicGet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5885">[ date ]</a>
              <a href="thread.html#5885">[ thread ]</a>
              <a href="subject.html#5885">[ subject ]</a>
              <a href="author.html#5885">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthias,

The server logs show nothing unusual. I'm running version 1.7 broker and version 1.7 .NET client.

The tracer output is attached. I've had to clean the message body content. I'll look at getting a source code version posted. 

I mentioned before that the consumer is hanging after the same messages each time. (As I have been reloading the same messages into the queue and reattempting the consumer run). Once the consumer passes message A it hangs. If I continue running it will soon hang after a different message B. If I reset and reload the queue and re-run the consumer it will hang after message A again.

Perhaps an issue with the message content? (binary serialized XML)

Thanks 
Pete

-----Original Message-----
From: Matthias Radestock [mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at lshift.net</A>] 
Sent: 13 January 2010 20:06
To: Peter Townsend
Cc: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] .NET client hangs on BasicGet

Peter,

Peter Townsend wrote:
&gt;<i> Full thread dump from Managed Stack Explorer:
</I>
Thanks. Looks like the client is waiting for the basic.get response. 
That is very odd, since the server should always send such a response. I 
would be amazed if there was a server-side bug here, given how heavily 
used basic.get is. So perhaps the response is somehow going astray in 
the client.

Is there anything odd at all in the server logs?

What version of the server and client are you running?

If you have a spare few minutes, please run your test through the tracer 
(<A HREF="http://www.rabbitmq.com/examples.html#tracer">http://www.rabbitmq.com/examples.html#tracer</A>) and post the tracer 
output here (or, if it's very long, put it somewhere where I can 
download it). The tracer output will tell us whether client or server 
are doing anything strange in their interaction.

Also, please post a complete (i.e. ready to compile &amp; run) version of 
the code that is using BasicGet.


Regards,

Matthias.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: output-cleaned.txt
Url: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100114/78f86c2b/attachment.txt">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100114/78f86c2b/attachment.txt</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005867.html">[rabbitmq-discuss] .NET client hangs on BasicGet
</A></li>
	<LI>Next message: <A HREF="005886.html">[rabbitmq-discuss] .NET client hangs on BasicGet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5885">[ date ]</a>
              <a href="thread.html#5885">[ thread ]</a>
              <a href="subject.html#5885">[ subject ]</a>
              <a href="author.html#5885">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
