<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbit%20crash&In-Reply-To=4B54A76D.5000200%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005915.html">
   <LINK REL="Next"  HREF="005918.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit crash</H1>
    <B>Jeremy Dunck</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbit%20crash&In-Reply-To=4B54A76D.5000200%40lshift.net"
       TITLE="[rabbitmq-discuss] Rabbit crash">jdunck at gmail.com
       </A><BR>
    <I>Mon Jan 18 19:22:30 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005915.html">[rabbitmq-discuss] Rabbit crash
</A></li>
        <LI>Next message: <A HREF="005918.html">[rabbitmq-discuss] Rabbit crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5917">[ date ]</a>
              <a href="thread.html#5917">[ thread ]</a>
              <a href="subject.html#5917">[ subject ]</a>
              <a href="author.html#5917">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jan 18, 2010 at 12:24 PM, Matthias Radestock
&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at lshift.net</A>&gt; wrote:
...
&gt;&gt;<i> but unfortunately lost Rabbit's log because I started the service in
</I>&gt;&gt;<i> haste, and forgot that I have Rabbit configured to reuse the logs.
</I>&gt;<i>
</I>&gt;<i> The rabbitmq-server.BAT startup script appends the old log to rabbit.log.1.
</I>&gt;<i> Did that not happen?
</I>
There's no init.d for Windows and it has to be restarted every
Tuesday, so I'm not using the .bat file.  :-)

I'm running Rabbit as an NT service.  Registering Rabbit as a service
using  rabbitmq-service.bat didn't work for me-- there were problems
with escaping correctly for DOS vs. Erlang, and I ended up manually
hacking the registry to get it to run at all.  Unfortunately, it
doesn't seem to rotate logs.

&gt;<i> Anyway, next time (which is hopefully never ;) please send a copy of the
</I>&gt;<i> rabbit.log and rabbit-sasl.log, as well as the crash dump.
</I>
It turns out that I've been using the .Net client incorrectly -- I've
been publishing (and consuming with basic.consume) using a single
IModel from multiple threads.  This is specifically pointed out as
something to be avoided in the User Guide, so it may be my fault for
crashing the server.

Even so, I'd think that it's a server bug for any client input to be
able to crash the server (other than OOM from pending messages, etc.)
:<i>-)
</I>
I'm going to try to work up a sample project that is capable of
crashing the server.  I'll let you know.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005915.html">[rabbitmq-discuss] Rabbit crash
</A></li>
	<LI>Next message: <A HREF="005918.html">[rabbitmq-discuss] Rabbit crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5917">[ date ]</a>
              <a href="thread.html#5917">[ thread ]</a>
              <a href="subject.html#5917">[ subject ]</a>
              <a href="author.html#5917">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
