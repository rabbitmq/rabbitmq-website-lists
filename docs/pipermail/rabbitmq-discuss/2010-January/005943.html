<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Exclusive queues and delete-on-disconnect
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Exclusive%20queues%20and%20delete-on-disconnect&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005942.html">
   <LINK REL="Next"  HREF="005944.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Exclusive queues and delete-on-disconnect</H1>
    <B>Garrett Smith</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Exclusive%20queues%20and%20delete-on-disconnect&In-Reply-To="
       TITLE="[rabbitmq-discuss] Exclusive queues and delete-on-disconnect">g at rre.tt
       </A><BR>
    <I>Wed Jan 20 04:57:51 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005942.html">[rabbitmq-discuss] Data may be missing, Corrupt logfile deleted
</A></li>
        <LI>Next message: <A HREF="005944.html">[rabbitmq-discuss] Exclusive queues and delete-on-disconnect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5943">[ date ]</a>
              <a href="thread.html#5943">[ thread ]</a>
              <a href="subject.html#5943">[ subject ]</a>
              <a href="author.html#5943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>My understanding is that declaring a queue as exclusive will cause the
queue to be deleted as soon as the declaring channel (or connection?)
is closed.

I've observed cases when a channel/connection has not been closed
cleanly (e.g. sudden network failure) and the queue is not deleted.
(If this is unintended behavior, I can try to consistently recreate
the problem. It may be the case that this behavior is intermittent).

When the consumer re-declares (e.g. on restart), the broker complains
about an exclusive queue already existing. The fix I'm using is to
manually delete the queue.

Are there any suggestions for dealing with this? Apart from the added
complexity of restarting the consumer, I'm concerned that messages
will pile up in the queue with on one to consume them.

Garrett


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005942.html">[rabbitmq-discuss] Data may be missing, Corrupt logfile deleted
</A></li>
	<LI>Next message: <A HREF="005944.html">[rabbitmq-discuss] Exclusive queues and delete-on-disconnect
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5943">[ date ]</a>
              <a href="thread.html#5943">[ thread ]</a>
              <a href="subject.html#5943">[ subject ]</a>
              <a href="author.html#5943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
