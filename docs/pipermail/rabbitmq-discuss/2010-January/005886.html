<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] .NET client hangs on BasicGet
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20.NET%20client%20hangs%20on%20BasicGet&In-Reply-To=0357196CB603794BB76F4F6B373F2733036E2F4F7D%40SERVER.ddnglobal.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005885.html">
   <LINK REL="Next"  HREF="005894.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] .NET client hangs on BasicGet</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20.NET%20client%20hangs%20on%20BasicGet&In-Reply-To=0357196CB603794BB76F4F6B373F2733036E2F4F7D%40SERVER.ddnglobal.local"
       TITLE="[rabbitmq-discuss] .NET client hangs on BasicGet">matthias at lshift.net
       </A><BR>
    <I>Thu Jan 14 13:53:42 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005885.html">[rabbitmq-discuss] .NET client hangs on BasicGet
</A></li>
        <LI>Next message: <A HREF="005894.html">[rabbitmq-discuss] .NET client hangs on BasicGet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5886">[ date ]</a>
              <a href="thread.html#5886">[ thread ]</a>
              <a href="subject.html#5886">[ subject ]</a>
              <a href="author.html#5886">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Peter,

Peter Townsend wrote:
&gt;<i> The tracer output is attached.
</I>
So the interaction ...

1263466055492: conn#0 ch#1 -&gt; 
{#method&lt;basic.get&gt;(ticket=0,queue=001.load.release.update,no-ack=false),null,&quot;&quot;}
1263466055507: conn#0 ch#1 &lt;- 
{#method&lt;basic.get-ok&gt;(delivery-tag=20,redelivered=false,exchange=amq.direct,routing-key=001.load.release.update,message-count=123),#contentHeader&lt;basic&gt;(content-type=null, 
content-encoding=null, headers=null, delivery-mode=2, priority=null, 
correlation-id=null, reply-to=null, expiration=null, message-id=null, 
timestamp=null, type=SupplierReleaseUpdate, user-id=null, app-id=null, 
cluster-id=null),&quot;&lt;MESSAGE&gt;&quot;}
1263466057457: conn#0 ch#1 -&gt; 
{#method&lt;basic.ack&gt;(delivery-tag=20,multiple=false),null,&quot;&quot;}
1263466057457: conn#0 ch#1 -&gt; 
{#method&lt;basic.get&gt;(ticket=0,queue=001.load.release.update,no-ack=false),null,&quot;&quot;}

... is the very last thing you see before it gets stuck? If so then that 
is very interesting since it would indicate that the server is failing 
to reply to the basic.get. Either that, or the reply from the server has 
gone astray.

The next step is getting your source code so I can try to reproduce your 
observations locally.

&gt;<i> I mentioned before that the consumer is hanging after the same
</I>&gt;<i> messages each time. (As I have been reloading the same messages into the
</I>&gt;<i> queue and reattempting the consumer run). Once the consumer passes
</I>&gt;<i> message A it hangs. If I continue running it will soon hang after a
</I>&gt;<i> different message B. If I reset and reload the queue and re-run the
</I>&gt;<i> consumer it will hang after message A again.
</I>&gt;<i> 
</I>&gt;<i> Perhaps an issue with the message content? (binary serialized XML)
</I>
The message content is opaque to the server and the client library.

However, since you are running on Windows ... we have had some reports 
from people indicating that Windows may be interfering with XML 
payloads, resulting in all kinds of mysterious behaviours. So one 
possible thing to try is to encrypt your payloads.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005885.html">[rabbitmq-discuss] .NET client hangs on BasicGet
</A></li>
	<LI>Next message: <A HREF="005894.html">[rabbitmq-discuss] .NET client hangs on BasicGet
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5886">[ date ]</a>
              <a href="thread.html#5886">[ thread ]</a>
              <a href="subject.html#5886">[ subject ]</a>
              <a href="author.html#5886">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
