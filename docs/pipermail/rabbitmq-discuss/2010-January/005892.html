<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] suspending and resuming a QueueingConsumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20suspending%20and%20resuming%20a%20QueueingConsumer&In-Reply-To=20100114170434.GA2710%40mrnibble.lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005890.html">
   <LINK REL="Next"  HREF="005901.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] suspending and resuming a QueueingConsumer</H1>
    <B>Jim Irrer</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20suspending%20and%20resuming%20a%20QueueingConsumer&In-Reply-To=20100114170434.GA2710%40mrnibble.lshift.net"
       TITLE="[rabbitmq-discuss] suspending and resuming a QueueingConsumer">irrer at umich.edu
       </A><BR>
    <I>Thu Jan 14 18:30:13 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005890.html">[rabbitmq-discuss] suspending and resuming a QueueingConsumer
</A></li>
        <LI>Next message: <A HREF="005901.html">[rabbitmq-discuss] suspending and resuming a QueueingConsumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5892">[ date ]</a>
              <a href="thread.html#5892">[ thread ]</a>
              <a href="subject.html#5892">[ subject ]</a>
              <a href="author.html#5892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthew -

I'm trying to build an infrastructure on top of RabbitMQ that allows
an administrator to remotely suspend and resume a server.

Servers generally run in a loop, and in many cases spend most of
their time (very efficiently) waiting on read.  Given such a server,
we wish to suspend it before it processes another message.

If there are several servers reading from the same queue, and
we want to suspend one of them, and if we used the ack-ing manually
approach, then one message would be held by the suspended server
and could not be processed by any of the others.  We would like that
message to instead be processed by one of the other servers.  I suppose
that the suspended server could write the message back to the queue,
but that seems a little like a hack.

Sorry if I'm not being clear,

- Jim

Jim Irrer     <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">irrer at umich.edu</A>       (734) 647-4409
University of Michigan Hospital Radiation Oncology
519 W. William St.             Ann Arbor, MI 48103


On Thu, Jan 14, 2010 at 12:04 PM, Matthew Sackman &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at lshift.net</A>&gt;wrote:

&gt;<i> Hi Jim,
</I>&gt;<i>
</I>&gt;<i> On Thu, Jan 14, 2010 at 11:19:41AM -0500, Jim Irrer wrote:
</I>&gt;<i> &gt; Matthew -
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks for trying but that does not really help.  I want to interrupt a
</I>&gt;<i> &gt; free-running
</I>&gt;<i> &gt; process that has already posted the read.  To explore this, I modified
</I>&gt;<i> &gt; RabbitMQ's
</I>&gt;<i> &gt; SimpleConsumer class (below) to post a read (via the nextDelivery
</I>&gt;<i> method),
</I>&gt;<i> &gt; and
</I>&gt;<i> &gt; while it is waiting, have another thread close the channel.
</I>&gt;<i>
</I>&gt;<i> Hmm. Could you explain why you're wanting to do this? I'm sufficiently
</I>&gt;<i> confused that I'm suspecting there's a better solution to the problem
</I>&gt;<i> you're trying to solve.
</I>&gt;<i>
</I>&gt;<i> Matthew
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100114/cda00295/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100114/cda00295/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005890.html">[rabbitmq-discuss] suspending and resuming a QueueingConsumer
</A></li>
	<LI>Next message: <A HREF="005901.html">[rabbitmq-discuss] suspending and resuming a QueueingConsumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5892">[ date ]</a>
              <a href="thread.html#5892">[ thread ]</a>
              <a href="subject.html#5892">[ subject ]</a>
              <a href="author.html#5892">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
