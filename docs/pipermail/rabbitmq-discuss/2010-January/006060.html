<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmqctl often hangs at the end of a query, e.g., list_queues, for 	a good 60 seconds or more (Windows 7)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmqctl%20often%20hangs%20at%20the%20end%20of%20a%0A%20query%2C%20e.g.%2C%20list_queues%2C%20for%20%09a%20good%2060%20seconds%20or%20more%20%28Windows%207%29&In-Reply-To=173a1edc1001270920w278dcbd5gce84a959998fe4de%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006054.html">
   <LINK REL="Next"  HREF="006062.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmqctl often hangs at the end of a query, e.g., list_queues, for 	a good 60 seconds or more (Windows 7)</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmqctl%20often%20hangs%20at%20the%20end%20of%20a%0A%20query%2C%20e.g.%2C%20list_queues%2C%20for%20%09a%20good%2060%20seconds%20or%20more%20%28Windows%207%29&In-Reply-To=173a1edc1001270920w278dcbd5gce84a959998fe4de%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] rabbitmqctl often hangs at the end of a query, e.g., list_queues, for 	a good 60 seconds or more (Windows 7)">matthias at lshift.net
       </A><BR>
    <I>Wed Jan 27 23:35:54 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006054.html">[rabbitmq-discuss] rabbitmqctl often hangs at the end of a query,	e.g., list_queues, for 	a good 60 seconds or more (Windows 7)
</A></li>
        <LI>Next message: <A HREF="006062.html">[rabbitmq-discuss] rabbitmqctl often hangs at the end of a	query, e.g., list_queues, for a good 60 seconds or more (Windows 7)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6060">[ date ]</a>
              <a href="thread.html#6060">[ thread ]</a>
              <a href="subject.html#6060">[ subject ]</a>
              <a href="author.html#6060">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>John,

John Apps wrote:
&gt;<i> Whilst not being a bug per se, it is annoying behaviour when rabbitmqctl 
</I>&gt;<i> 'sits there' for quite some time.
</I>
How long is 'quite some time'?

And what rabbitmqctl command were you trying to run? list_queues (as per 
the subject line)? If so, how many queues did you have at the time?

And when you say (in the subject line) that rabbitmqctl hangs *at the 
end* of a query, do you mean it displays the results and *then* hangs?

&gt;<i> Interestingly enough, it does not accept &lt;CTRL&gt;C either.
</I>
I'll have to find a Windows machine to try to reproduce that.

Are you running the standard rabbitmqctl.bat script? In the other thread 
you posted some rabbitmqctl output which contained progress log 
information, which is not something we see in testing and for which the 
most plausible explanation is that some additional options have been 
passed to the erl executable.

&gt;<i> This wait is only encountered when activity is going on with
</I>&gt;<i> RabbitMQ, no matter what it is.
</I>
So this only happens when rabbit is really busy?

Rabbit does prioritise handling of rabbitmqctl processing over most 
other tasks, but when the server is under heavy load it can still take 
some time to handle these requests. There is not much we can do about 
that really, since we wouldn't want to stop message processing altogether.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006054.html">[rabbitmq-discuss] rabbitmqctl often hangs at the end of a query,	e.g., list_queues, for 	a good 60 seconds or more (Windows 7)
</A></li>
	<LI>Next message: <A HREF="006062.html">[rabbitmq-discuss] rabbitmqctl often hangs at the end of a	query, e.g., list_queues, for a good 60 seconds or more (Windows 7)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6060">[ date ]</a>
              <a href="thread.html#6060">[ thread ]</a>
              <a href="subject.html#6060">[ subject ]</a>
              <a href="author.html#6060">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
