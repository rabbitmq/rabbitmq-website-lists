<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq server crash and no start more
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20server%20crash%20and%20no%20start%20more&In-Reply-To=5ef296b31001241207u726718b1mfc812aafbe3e6d50%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005979.html">
   <LINK REL="Next"  HREF="006011.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq server crash and no start more</H1>
    <B>Robert Raschke</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20server%20crash%20and%20no%20start%20more&In-Reply-To=5ef296b31001241207u726718b1mfc812aafbe3e6d50%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Rabbitmq server crash and no start more">rtrlists at googlemail.com
       </A><BR>
    <I>Mon Jan 25 09:42:55 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005979.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
        <LI>Next message: <A HREF="006011.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5984">[ date ]</a>
              <a href="thread.html#5984">[ thread ]</a>
              <a href="subject.html#5984">[ subject ]</a>
              <a href="author.html#5984">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Jan 24, 2010 at 8:07 PM, Gustavo Aquino &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aquino.gustavo at gmail.com</A>&gt;wrote:

&gt;<i>
</I>&gt;<i> ====== Fail process.
</I>&gt;<i> * ./start-rabbitmq.sh *
</I>&gt;<i>
</I>&gt;<i> +---+   +---+
</I>&gt;<i> |   |   |   |
</I>&gt;<i> |   |   |   |
</I>&gt;<i> |   |   |   |
</I>&gt;<i> |   +---+   +-------+
</I>&gt;<i> |                   |
</I>&gt;<i> | RabbitMQ  +---+   |
</I>&gt;<i> |           |   |   |
</I>&gt;<i> |   v1.7.0  +---+   |
</I>&gt;<i> |                   |
</I>&gt;<i> +-------------------+
</I>&gt;<i> AMQP 8-0
</I>&gt;<i> Copyright (C) 2007-2009 LShift Ltd., Cohesive Financial Technologies LLC.,
</I>&gt;<i> and Rabbit Technologies Ltd.
</I>&gt;<i> Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>
</I>&gt;<i>
</I>&gt;<i> node          : <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 189-94-130-143</A>
</I>&gt;<i> app descriptor:
</I>&gt;<i> /opt/local/lib/rabbitmq/bin/../lib/rabbitmq_server-1.7.0/sbin/../ebin/rabbit.app
</I>&gt;<i> home dir      : /opt/local/var/lib/rabbitmq
</I>&gt;<i> cookie hash   : diX16VkN3b6UrKJtDPVb1Q==
</I>&gt;<i> log           : /opt/local/var/log/rabbitmq/rabbit.log
</I>&gt;<i> sasl log      : /opt/local/var/log/rabbitmq/rabbit-sasl.log
</I>&gt;<i> database dir  : /opt/local/var/lib/rabbitmq/mnesia/rabbit
</I>&gt;<i>
</I>&gt;<i> starting database             ...done
</I>&gt;<i> starting core processes       ...done
</I>&gt;<i> starting recovery             ...done
</I>&gt;<i> starting persister            ...done
</I>&gt;<i> starting guid generator       ...done
</I>&gt;<i> starting builtin applications ...done
</I>&gt;<i> starting TCP listeners        ...done
</I>&gt;<i> starting SSL listeners        ...done
</I>&gt;<i>
</I>&gt;<i> broker running
</I>&gt;<i> *^C*
</I>&gt;<i> *BREAK: (a)bort (c)ontinue (p)roc info (i)nfo (l)oaded*
</I>&gt;<i> *       (v)ersion (k)ill (D)b-tables (d)istribution*
</I>&gt;<i> *a*
</I>&gt;<i>
</I>&gt;<i> *$~ gustavoaquino$ ./start-rabbitmq.sh *
</I>&gt;<i> Password:
</I>&gt;<i>
</I>&gt;<i> +---+   +---+
</I>&gt;<i> |   |   |   |
</I>&gt;<i> |   |   |   |
</I>&gt;<i> |   |   |   |
</I>&gt;<i> |   +---+   +-------+
</I>&gt;<i> |                   |
</I>&gt;<i> | RabbitMQ  +---+   |
</I>&gt;<i> |           |   |   |
</I>&gt;<i> |   v1.7.0  +---+   |
</I>&gt;<i> |                   |
</I>&gt;<i> +-------------------+
</I>&gt;<i> AMQP 8-0
</I>&gt;<i> Copyright (C) 2007-2009 LShift Ltd., Cohesive Financial Technologies LLC.,
</I>&gt;<i> and Rabbit Technologies Ltd.
</I>&gt;<i> Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>
</I>&gt;<i>
</I>&gt;<i> node          : <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 187-26-170-110</A>
</I>&gt;<i> app descriptor:
</I>&gt;<i> /opt/local/lib/rabbitmq/bin/../lib/rabbitmq_server-1.7.0/sbin/../ebin/rabbit.app
</I>&gt;<i> home dir      : /opt/local/var/lib/rabbitmq
</I>&gt;<i> cookie hash   : diX16VkN3b6UrKJtDPVb1Q==
</I>&gt;<i> log           : /opt/local/var/log/rabbitmq/rabbit.log
</I>&gt;<i> sasl log      : /opt/local/var/log/rabbitmq/rabbit-sasl.log
</I>&gt;<i> database dir  : /opt/local/var/lib/rabbitmq/mnesia/rabbit
</I>&gt;<i>
</I>&gt;<i> *starting database             ...{&quot;init terminating in
</I>&gt;<i> do_boot&quot;,{{nocatch,{error,{cannot_start_application,rabbit,{{timeout_waiting_for_tables,[rabbit_user,rabbit_user_permission,rabbit_vhost,rabbit_config,rabbit_listener,rabbit_durable_route,rabbit_route,rabbit_reverse_route,rabbit_durable_exchange,rabbit_exchange,rabbit_durable_queue,rabbit_queue]},{rabbit,start,[normal,[]]}}}}},[{init,start_it,1},{init,start_em,1}]}}
</I>&gt;<i> *
</I>&gt;<i> *
</I>&gt;<i> *
</I>&gt;<i> *Crash dump was written to: erl_crash.dump*
</I>&gt;<i> *init terminating in do_boot ()*
</I>&gt;<i>
</I>&gt;<i> === Final fail process
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>The first invocation thinks the node is called <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 189-94-130-143</A>,
whereeas the second one thinks it is <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 187-26-170-110.</A>

I think that may be the root of your issue, since the second one will fail
to start the internal Mnesia DB components.

Why is Rabbit picking up different node names for you?

Robby
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100125/39073166/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100125/39073166/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005979.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
	<LI>Next message: <A HREF="006011.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5984">[ date ]</a>
              <a href="thread.html#5984">[ thread ]</a>
              <a href="subject.html#5984">[ subject ]</a>
              <a href="author.html#5984">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
