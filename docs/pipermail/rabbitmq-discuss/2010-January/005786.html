<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Handling Channel.Flow method
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Handling%20Channel.Flow%20method&In-Reply-To=84FDBAAF-9FC8-4B2C-83FE-B12E21365AF5%40gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005783.html">
   <LINK REL="Next"  HREF="005787.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Handling Channel.Flow method</H1>
    <B>Gordon Sim</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Handling%20Channel.Flow%20method&In-Reply-To=84FDBAAF-9FC8-4B2C-83FE-B12E21365AF5%40gmail.com"
       TITLE="[rabbitmq-discuss] Handling Channel.Flow method">gsim at redhat.com
       </A><BR>
    <I>Wed Jan  6 17:28:42 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005783.html">[rabbitmq-discuss] Handling Channel.Flow method
</A></li>
        <LI>Next message: <A HREF="005787.html">[rabbitmq-discuss] Handling Channel.Flow method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5786">[ date ]</a>
              <a href="thread.html#5786">[ thread ]</a>
              <a href="subject.html#5786">[ subject ]</a>
              <a href="author.html#5786">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 01/06/2010 05:07 PM, Chris Duncan wrote:
&gt;<i> Hi Gordon,
</I>&gt;<i>
</I>&gt;<i> On 6 Jan 2010, at 16:50, Gordon Sim wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> On 01/06/2010 06:55 AM, Alexis Richardson wrote:
</I>&gt;&gt;&gt;<i> On Wed, Jan 6, 2010 at 4:40 AM, Chris Duncan&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">celldee at gmail.com</A>&gt;
</I>&gt;&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I've also been reading the AMQP 0-10 specification. I have only
</I>&gt;&gt;&gt;&gt;<i> skimmed it
</I>&gt;&gt;&gt;&gt;<i> before because I wasn't targeting a broker that implemented it.
</I>&gt;&gt;&gt;&gt;<i> It contains
</I>&gt;&gt;&gt;&gt;<i> a section about transfer of responsibility that seems to deal
</I>&gt;&gt;&gt;&gt;<i> with the
</I>&gt;&gt;&gt;&gt;<i> issues that I've been trying to address in my last two posts.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Yes, that's how we designed it.  But, the goal of 0-10 was to provide
</I>&gt;&gt;&gt;<i> a way to use acks and nacks for exactly-once delivery.  Your email
</I>&gt;&gt;&gt;<i> only asks for an ack.  That's a bit easier and IMO better.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The need for some confirmation of publish is much wider than
</I>&gt;&gt;<i> exactly-once delivery. That confirmation mechanism should also
</I>&gt;&gt;<i> support asynchronous use if desired to avoid the performance impact
</I>&gt;&gt;<i> Scott points out[*].
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The 0-10 protocol doesn't really provide nacks per se. It has a
</I>&gt;&gt;<i> message-release command which is useful when subscribers want to
</I>&gt;&gt;<i> use prefetch and need to relinquish some of the messages delivered
</I>&gt;&gt;<i> to them without killing the session.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [*] Perhaps of interest to mention that there was some disagreement
</I>&gt;&gt;<i> within the amqp wg on whether -ok response to methods identified as
</I>&gt;&gt;<i> synchronous by the 0-8 spec could be used asynchronously i.e.
</I>&gt;&gt;<i> whether it was valid to send methods without waiting for the -ok
</I>&gt;&gt;<i> and process receipt of those -ok response as they arrive in the
</I>&gt;&gt;<i> other direction. Most (all?) of them aren't explicitly correlated,
</I>&gt;&gt;<i> so were you to do that you would need to rely on the order of -oks
</I>&gt;&gt;<i> matching the order of methods which if I recall correctly was the
</I>&gt;&gt;<i> cause for concern at the time.
</I>&gt;<i>
</I>&gt;<i> I thought that the :nowait argument in the 0-8, 0-9 and 0-9-1 specs
</I>&gt;<i> was what provides the ability to use synchronous methods in an
</I>&gt;<i> asynchronous fashion. When I use the terms synchronous and
</I>&gt;<i> asynchronous here I'm using them in the manner that the AMQP specs
</I>&gt;<i> seem to use them; namely synchronous methods send a response to tell
</I>&gt;<i> you whether they've succeeded and asynchronous ones don't. If :nowait
</I>&gt;<i> is set to true doesn't that mean that the server will not send an -ok
</I>&gt;<i> response?
</I>
Yes that is correct. My point was simply that sometimes you want to get 
a response (e.g. to confirm success) but you don't want to have to wait 
for that response before sending further requests (i.e. you don't want 
to be forced into strictly synchronous communication, but you do want to 
track success).



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005783.html">[rabbitmq-discuss] Handling Channel.Flow method
</A></li>
	<LI>Next message: <A HREF="005787.html">[rabbitmq-discuss] Handling Channel.Flow method
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5786">[ date ]</a>
              <a href="thread.html#5786">[ thread ]</a>
              <a href="subject.html#5786">[ subject ]</a>
              <a href="author.html#5786">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
