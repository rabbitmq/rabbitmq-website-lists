<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] .Net client foreground threads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20.Net%20client%20foreground%20threads&In-Reply-To=2545a92c0912291639j30947627m5636329a0927df83%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005776.html">
   <LINK REL="Next"  HREF="005796.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] .Net client foreground threads</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20.Net%20client%20foreground%20threads&In-Reply-To=2545a92c0912291639j30947627m5636329a0927df83%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] .Net client foreground threads">matthew at lshift.net
       </A><BR>
    <I>Wed Jan  6 11:36:43 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005776.html">[rabbitmq-discuss] Transactions on acks
</A></li>
        <LI>Next message: <A HREF="005796.html">[rabbitmq-discuss] .Net client foreground threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5777">[ date ]</a>
              <a href="thread.html#5777">[ thread ]</a>
              <a href="subject.html#5777">[ subject ]</a>
              <a href="author.html#5777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jeremy,

On Tue, Dec 29, 2009 at 06:39:28PM -0600, Jeremy Dunck wrote:
&gt;<i> Is there a reason for the main loop and heartbeat threads to be
</I>&gt;<i> Foreground threads?  I was expecting my process to die when my last
</I>&gt;<i> app thread died, but the Rabbit threads are Foreground (the default)
</I>&gt;<i> so they keep the process alive.
</I>
Yes, we agree, the standard patterns of use for C# and Java suggest that
these threads should be background/daemon. We have a bug open to cover
this for the Java client, and I've added a not to it so that it covers
the C# thread too.

Although this may sound a bit like doing manual memory-management, it is
probably a good idea to think about how could could manually shutdown
the AMQP connection. That way you will get some guarantees about
messages which are sitting in buffers actually being flushed out (if you
just terminate abruptly, you /could/ lose publishes that have not made
it to the OS TCP buffers yet).

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005776.html">[rabbitmq-discuss] Transactions on acks
</A></li>
	<LI>Next message: <A HREF="005796.html">[rabbitmq-discuss] .Net client foreground threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5777">[ date ]</a>
              <a href="thread.html#5777">[ thread ]</a>
              <a href="subject.html#5777">[ subject ]</a>
              <a href="author.html#5777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
