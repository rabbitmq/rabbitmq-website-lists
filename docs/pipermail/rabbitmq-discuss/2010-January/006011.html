<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq server crash and no start more
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20server%20crash%20and%20no%20start%20more&In-Reply-To=6a3ae47e1001250142p5a1e17f7w2f61ec1fcf0626d5%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005984.html">
   <LINK REL="Next"  HREF="006012.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq server crash and no start more</H1>
    <B>Gustavo Aquino</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20server%20crash%20and%20no%20start%20more&In-Reply-To=6a3ae47e1001250142p5a1e17f7w2f61ec1fcf0626d5%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Rabbitmq server crash and no start more">aquino.gustavo at gmail.com
       </A><BR>
    <I>Tue Jan 26 10:44:50 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005984.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
        <LI>Next message: <A HREF="006012.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6011">[ date ]</a>
              <a href="thread.html#6011">[ thread ]</a>
              <a href="subject.html#6011">[ subject ]</a>
              <a href="author.html#6011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm posting about my others environments that I got the same problem, after
one analysis my conclusion is that hostname and network configuration causes
the problem too.

In two cases RHE and Debian RabbitMQ stop to work when my NOC team change
server address and hostname configurations. I delete the schema.DAT and all
come back to work again.

Can I do a suggestion ? Can rabbitmq-server accept -h parameter where user
specify the hostname ?

Regards.


On Mon, Jan 25, 2010 at 7:42 AM, Robert Raschke &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rtrlists at googlemail.com</A>&gt;wrote:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Sun, Jan 24, 2010 at 8:07 PM, Gustavo Aquino &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aquino.gustavo at gmail.com</A>&gt;wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ====== Fail process.
</I>&gt;&gt;<i> * ./start-rabbitmq.sh *
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> +---+   +---+
</I>&gt;&gt;<i> |   |   |   |
</I>&gt;&gt;<i> |   |   |   |
</I>&gt;&gt;<i> |   |   |   |
</I>&gt;&gt;<i> |   +---+   +-------+
</I>&gt;&gt;<i> |                   |
</I>&gt;&gt;<i> | RabbitMQ  +---+   |
</I>&gt;&gt;<i> |           |   |   |
</I>&gt;&gt;<i> |   v1.7.0  +---+   |
</I>&gt;&gt;<i> |                   |
</I>&gt;&gt;<i> +-------------------+
</I>&gt;&gt;<i> AMQP 8-0
</I>&gt;&gt;<i> Copyright (C) 2007-2009 LShift Ltd., Cohesive Financial Technologies LLC.,
</I>&gt;&gt;<i> and Rabbit Technologies Ltd.
</I>&gt;&gt;<i> Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> node          : <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 189-94-130-143</A>
</I>&gt;&gt;<i> app descriptor:
</I>&gt;&gt;<i> /opt/local/lib/rabbitmq/bin/../lib/rabbitmq_server-1.7.0/sbin/../ebin/rabbit.app
</I>&gt;&gt;<i> home dir      : /opt/local/var/lib/rabbitmq
</I>&gt;&gt;<i> cookie hash   : diX16VkN3b6UrKJtDPVb1Q==
</I>&gt;&gt;<i> log           : /opt/local/var/log/rabbitmq/rabbit.log
</I>&gt;&gt;<i> sasl log      : /opt/local/var/log/rabbitmq/rabbit-sasl.log
</I>&gt;&gt;<i> database dir  : /opt/local/var/lib/rabbitmq/mnesia/rabbit
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> starting database             ...done
</I>&gt;&gt;<i> starting core processes       ...done
</I>&gt;&gt;<i> starting recovery             ...done
</I>&gt;&gt;<i> starting persister            ...done
</I>&gt;&gt;<i> starting guid generator       ...done
</I>&gt;&gt;<i> starting builtin applications ...done
</I>&gt;&gt;<i> starting TCP listeners        ...done
</I>&gt;&gt;<i> starting SSL listeners        ...done
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> broker running
</I>&gt;&gt;<i> *^C*
</I>&gt;&gt;<i> *BREAK: (a)bort (c)ontinue (p)roc info (i)nfo (l)oaded*
</I>&gt;&gt;<i> *       (v)ersion (k)ill (D)b-tables (d)istribution*
</I>&gt;&gt;<i> *a*
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *$~ gustavoaquino$ ./start-rabbitmq.sh *
</I>&gt;&gt;<i> Password:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> +---+   +---+
</I>&gt;&gt;<i>  |   |   |   |
</I>&gt;&gt;<i> |   |   |   |
</I>&gt;&gt;<i> |   |   |   |
</I>&gt;&gt;<i> |   +---+   +-------+
</I>&gt;&gt;<i> |                   |
</I>&gt;&gt;<i> | RabbitMQ  +---+   |
</I>&gt;&gt;<i> |           |   |   |
</I>&gt;&gt;<i> |   v1.7.0  +---+   |
</I>&gt;&gt;<i> |                   |
</I>&gt;&gt;<i> +-------------------+
</I>&gt;&gt;<i> AMQP 8-0
</I>&gt;&gt;<i> Copyright (C) 2007-2009 LShift Ltd., Cohesive Financial Technologies LLC.,
</I>&gt;&gt;<i> and Rabbit Technologies Ltd.
</I>&gt;&gt;<i> Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> node          : <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 187-26-170-110</A>
</I>&gt;&gt;<i> app descriptor:
</I>&gt;&gt;<i> /opt/local/lib/rabbitmq/bin/../lib/rabbitmq_server-1.7.0/sbin/../ebin/rabbit.app
</I>&gt;&gt;<i> home dir      : /opt/local/var/lib/rabbitmq
</I>&gt;&gt;<i> cookie hash   : diX16VkN3b6UrKJtDPVb1Q==
</I>&gt;&gt;<i> log           : /opt/local/var/log/rabbitmq/rabbit.log
</I>&gt;&gt;<i> sasl log      : /opt/local/var/log/rabbitmq/rabbit-sasl.log
</I>&gt;&gt;<i> database dir  : /opt/local/var/lib/rabbitmq/mnesia/rabbit
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *starting database             ...{&quot;init terminating in
</I>&gt;&gt;<i> do_boot&quot;,{{nocatch,{error,{cannot_start_application,rabbit,{{timeout_waiting_for_tables,[rabbit_user,rabbit_user_permission,rabbit_vhost,rabbit_config,rabbit_listener,rabbit_durable_route,rabbit_route,rabbit_reverse_route,rabbit_durable_exchange,rabbit_exchange,rabbit_durable_queue,rabbit_queue]},{rabbit,start,[normal,[]]}}}}},[{init,start_it,1},{init,start_em,1}]}}
</I>&gt;&gt;<i> *
</I>&gt;&gt;<i> *
</I>&gt;&gt;<i> *
</I>&gt;&gt;<i> *Crash dump was written to: erl_crash.dump*
</I>&gt;&gt;<i> *init terminating in do_boot ()*
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> === Final fail process
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> The first invocation thinks the node is called <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 189-94-130-143</A>,
</I>&gt;<i> whereeas the second one thinks it is <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at 187-26-170-110.</A>
</I>&gt;<i>
</I>&gt;<i> I think that may be the root of your issue, since the second one will fail
</I>&gt;<i> to start the internal Mnesia DB components.
</I>&gt;<i>
</I>&gt;<i> Why is Rabbit picking up different node names for you?
</I>&gt;<i>
</I>&gt;<i> Robby
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100126/efc26521/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100126/efc26521/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005984.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
	<LI>Next message: <A HREF="006012.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6011">[ date ]</a>
              <a href="thread.html#6011">[ thread ]</a>
              <a href="subject.html#6011">[ subject ]</a>
              <a href="author.html#6011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
