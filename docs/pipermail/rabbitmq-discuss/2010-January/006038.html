<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Is it possible to create/bind a queue so	that it has a limit of N messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Is%20it%20possible%20to%20create/bind%20a%20queue%20so%0A%09that%20it%20has%20a%20limit%20of%20N%20messages&In-Reply-To=4B5EA0B7.9010005%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006006.html">
   <LINK REL="Next"  HREF="005998.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Is it possible to create/bind a queue so	that it has a limit of N messages</H1>
    <B>Garrett Smith</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Is%20it%20possible%20to%20create/bind%20a%20queue%20so%0A%09that%20it%20has%20a%20limit%20of%20N%20messages&In-Reply-To=4B5EA0B7.9010005%40lshift.net"
       TITLE="[rabbitmq-discuss] Is it possible to create/bind a queue so	that it has a limit of N messages">g at rre.tt
       </A><BR>
    <I>Tue Jan 26 17:32:09 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006006.html">[rabbitmq-discuss] Is it possible to create/bind a queue so that it has a limit of N messages
</A></li>
        <LI>Next message: <A HREF="005998.html">[rabbitmq-discuss] MulticastMain Java client causes Erlang error	eheap_alloc: Cannot allocate 467078560 bytes of memory (of	type &quot;heap&quot;) (with RabbitMQ 1.7.1)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6038">[ date ]</a>
              <a href="thread.html#6038">[ thread ]</a>
              <a href="subject.html#6038">[ subject ]</a>
              <a href="author.html#6038">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jan 26, 2010 at 1:58 AM, Matthias Radestock &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at lshift.net</A>&gt; wrote:
&gt;<i> Mark,
</I>&gt;<i>
</I>&gt;<i> Mark Geib wrote:
</I>&gt;&gt;<i> Is it possible to create a queue so that the broker will limit the
</I>&gt;&gt;<i> number of messages in the queue.? I am looking for a simple way to limit
</I>&gt;&gt;<i> resource usage of a broker should things go wrong, like a very chatty
</I>&gt;&gt;<i> producer... This is for a production system. I don't care if the
</I>&gt;&gt;<i> messages are lost or not.
</I>&gt;<i>
</I>&gt;<i> It would be fairly easy to add a per-queue message count limit to
</I>&gt;<i> RabbitMQ, but it generally falls way short of constraining resources in
</I>&gt;<i> a meaningful way to cope with &quot;chatty&quot; producers. Some reasons for that are:
</I>&gt;<i> - queues are not directly associated with producers - in principle a
</I>&gt;<i> producer can send messages that end up in any (and any number of) queue(s).
</I>&gt;<i> - message counts do not constitute a good measure of resource usage;
</I>&gt;<i> memory consumption would be a better measure but that is hard to
</I>&gt;<i> determine with any degree of accuracy, due to the complexity of the data
</I>&gt;<i> structures involved and the sharing of message data between queues
</I>
I know this has been brought up before a few times, but I've found
that TTL (time to live, expires, etc.) is an effective way to deal
with messages that aren't acked/canceled in a &quot;timely&quot; fashion (as per
the application).

Garrett


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006006.html">[rabbitmq-discuss] Is it possible to create/bind a queue so that it has a limit of N messages
</A></li>
	<LI>Next message: <A HREF="005998.html">[rabbitmq-discuss] MulticastMain Java client causes Erlang error	eheap_alloc: Cannot allocate 467078560 bytes of memory (of	type &quot;heap&quot;) (with RabbitMQ 1.7.1)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6038">[ date ]</a>
              <a href="thread.html#6038">[ thread ]</a>
              <a href="subject.html#6038">[ subject ]</a>
              <a href="author.html#6038">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
