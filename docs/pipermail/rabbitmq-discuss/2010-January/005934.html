<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Running StressPersister.java client against RabbitMQ and finding the stress_persister.log file is being &quot;beaten to death&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Running%20StressPersister.java%20client%20against%0A%20RabbitMQ%20and%20finding%20the%20stress_persister.log%20file%20is%20being%20%22beaten%20to%0A%20death%22&In-Reply-To=20100119140322.GD32617%40mrnibble.lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005932.html">
   <LINK REL="Next"  HREF="005937.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Running StressPersister.java client against RabbitMQ and finding the stress_persister.log file is being &quot;beaten to death&quot;</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Running%20StressPersister.java%20client%20against%0A%20RabbitMQ%20and%20finding%20the%20stress_persister.log%20file%20is%20being%20%22beaten%20to%0A%20death%22&In-Reply-To=20100119140322.GD32617%40mrnibble.lshift.net"
       TITLE="[rabbitmq-discuss] Running StressPersister.java client against RabbitMQ and finding the stress_persister.log file is being &quot;beaten to death&quot;">matthew at lshift.net
       </A><BR>
    <I>Tue Jan 19 14:18:45 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005932.html">[rabbitmq-discuss] Running StressPersister.java client against RabbitMQ and finding the stress_persister.log file is being &quot;beaten to death&quot;
</A></li>
        <LI>Next message: <A HREF="005937.html">[rabbitmq-discuss] Running StressPersister.java client against	RabbitMQ and finding the stress_persister.log file is being	&quot;beaten to death&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5934">[ date ]</a>
              <a href="thread.html#5934">[ thread ]</a>
              <a href="subject.html#5934">[ subject ]</a>
              <a href="author.html#5934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jan 19, 2010 at 02:03:22PM +0000, Matthew Sackman wrote:
&gt;<i> On Tue, Jan 19, 2010 at 10:22:29AM +0100, John Apps wrote:
</I>&gt;<i> &gt; What parameters should one tweak in order to reduce the I/O to the log file
</I>&gt;<i> &gt; in the StressPersister test? And others with similar behaviour, of course.
</I>&gt;<i> 
</I>&gt;<i> A quick look at the code suggests changing the sample interval with s
</I>&gt;<i> should do the trick.
</I>&gt;<i> 
</I>&gt;<i> &gt; The file grows to about 140MB using the default StressPersister parameters,
</I>&gt;<i> &gt; only to be renamed to stress_persister.log.previous and the whole cycle
</I>&gt;<i> &gt; starts again.
</I>
I've just twigged - you've set the rabbit nodename to stress haven't
you? Thus the stress_persister.log and stress_persister.log.previous are
actually the persister files. These are the very files to which the
(old) persister is writing messages which have to be written to disk.

There are many issues with the old persister, which have been regularly
discussed on this list, and many people are using the new persister
which has been in development for almost a full year now.

See eg <A HREF="http://old.nabble.com/Re:-Rabbit-MQ-crashing-p27042793.html">http://old.nabble.com/Re:-Rabbit-MQ-crashing-p27042793.html</A> to
start with.

Best wishes,

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005932.html">[rabbitmq-discuss] Running StressPersister.java client against RabbitMQ and finding the stress_persister.log file is being &quot;beaten to death&quot;
</A></li>
	<LI>Next message: <A HREF="005937.html">[rabbitmq-discuss] Running StressPersister.java client against	RabbitMQ and finding the stress_persister.log file is being	&quot;beaten to death&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5934">[ date ]</a>
              <a href="thread.html#5934">[ thread ]</a>
              <a href="subject.html#5934">[ subject ]</a>
              <a href="author.html#5934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
