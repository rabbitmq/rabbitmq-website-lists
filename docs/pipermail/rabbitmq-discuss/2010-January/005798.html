<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Daemonizing connection threads (was Re: .Net client foreground threads)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Daemonizing%20connection%20threads%20%28was%20Re%3A%20.Net%0A%20client%20foreground%20threads%29&In-Reply-To=4B45E163.1030404%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005797.html">
   <LINK REL="Next"  HREF="005799.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Daemonizing connection threads (was Re: .Net client foreground threads)</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Daemonizing%20connection%20threads%20%28was%20Re%3A%20.Net%0A%20client%20foreground%20threads%29&In-Reply-To=4B45E163.1030404%40lshift.net"
       TITLE="[rabbitmq-discuss] Daemonizing connection threads (was Re: .Net client foreground threads)">matthew at lshift.net
       </A><BR>
    <I>Thu Jan  7 13:56:09 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005797.html">[rabbitmq-discuss] Daemonizing connection threads (was Re: .Net client foreground threads)
</A></li>
        <LI>Next message: <A HREF="005799.html">[rabbitmq-discuss] Daemonizing connection threads (was Re: .Net client foreground threads)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5798">[ date ]</a>
              <a href="thread.html#5798">[ thread ]</a>
              <a href="subject.html#5798">[ subject ]</a>
              <a href="author.html#5798">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jan 07, 2010 at 01:28:03PM +0000, Tony Garnock-Jones wrote:
&gt;<i> &gt; The alternative is that you
</I>&gt;<i> &gt; sometimes see messages disappear without trace which is far worse, and
</I>&gt;<i> &gt; much harder to debug.
</I>&gt;<i> 
</I>&gt;<i> Well that's true. Perhaps the non-auto-buffer-flushing behaviour around
</I>&gt;<i> sockets is simply (yet another instance of) premature optimisation from
</I>&gt;<i> the Java library designers?
</I>
Well, the recent ext3/4 &quot;ZOMG closing a file doesn't sync its
content!!!eleven!!&quot; revelations demonstrate that people will rely on
observed behaviour even if it's not guaranteed. For this reason alone, I
think that forcing people to close the connection is &quot;the right thing&quot;
on the grounds that the non-deterministic &quot;you may lose messages, or you
may not&quot; alternative leads to the ext3 situation. If things then changed
in the client to make it much more likely to lose messages in this
situation (now ext4) then people will complain. Far safer to ask users
to tidy up correctly in the first place. Yes, it may be un-Java-like,
but then again so is much good programming practice. ;)

/me throws fuel on fire and runs...

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005797.html">[rabbitmq-discuss] Daemonizing connection threads (was Re: .Net client foreground threads)
</A></li>
	<LI>Next message: <A HREF="005799.html">[rabbitmq-discuss] Daemonizing connection threads (was Re: .Net client foreground threads)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5798">[ date ]</a>
              <a href="thread.html#5798">[ thread ]</a>
              <a href="subject.html#5798">[ subject ]</a>
              <a href="author.html#5798">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
