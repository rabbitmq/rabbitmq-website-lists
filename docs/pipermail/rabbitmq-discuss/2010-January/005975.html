<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq server crash and no start more
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20server%20crash%20and%20no%20start%20more&In-Reply-To=5ef296b31001241207u726718b1mfc812aafbe3e6d50%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005974.html">
   <LINK REL="Next"  HREF="005976.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq server crash and no start more</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Rabbitmq%20server%20crash%20and%20no%20start%20more&In-Reply-To=5ef296b31001241207u726718b1mfc812aafbe3e6d50%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Rabbitmq server crash and no start more">matthew at lshift.net
       </A><BR>
    <I>Sun Jan 24 20:19:47 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="005974.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
        <LI>Next message: <A HREF="005976.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5975">[ date ]</a>
              <a href="thread.html#5975">[ thread ]</a>
              <a href="subject.html#5975">[ subject ]</a>
              <a href="author.html#5975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Sun, Jan 24, 2010 at 06:07:39PM -0200, Gustavo Aquino wrote:
&gt;<i> I got this same problem using MacOS 10.5, that I'm using now, RHE and Debian
</I>&gt;<i> with RabbitMQ 1.7 never got it with 1.6.
</I>&gt;<i> 
</I>&gt;<i> Look I can reproduce it all the time, in all this environments just do
</I>&gt;<i> Crtl+C in console running RabbitMQ-server and try to start again, and booom
</I>&gt;<i> the problem appears. I just do it again to show the metrics that you request
</I>&gt;<i> me.
</I>
I assure you, we start and stop rabbit all the time in this way, and
don't see this problem. No one else has reported this problem when the
mnesia database is empty (or at least not very big).

Sigh, just looking at your two traces, your IP address has change - and
you appear to be basing your hostname on your IP address. This is a known
problem, especially with Macs.

In message <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">4B4B4160.1010704 at lshift.net</A>, Tony said:
&quot;Yes, it is. It's because of the way macs change their hostname. This
interacts badly with the way epmd looks up its own address. Some relief
might be found by following the ideas from this thread:
<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2009-October/005053.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2009-October/005053.html</A>
&quot;

In short, mnesia will write the full nodename to disk when it creates the
schema. If your nodename changes then it will fail to restart.

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005974.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
	<LI>Next message: <A HREF="005976.html">[rabbitmq-discuss] Rabbitmq server crash and no start more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5975">[ date ]</a>
              <a href="thread.html#5975">[ thread ]</a>
              <a href="subject.html#5975">[ subject ]</a>
              <a href="author.html#5975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
