<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Quick question: Writing to multiple queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Quick%20question%3A%20Writing%20to%20multiple%20queues&In-Reply-To=%3CCAJE2eFFzx%3Dtdarht0PS5jbgL9i24L0Z2x7nmj4pst9s1BSQL5g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013795.html">
   <LINK REL="Next"  HREF="013797.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Quick question: Writing to multiple queues</H1>
    <B>Demiss Zike</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Quick%20question%3A%20Writing%20to%20multiple%20queues&In-Reply-To=%3CCAJE2eFFzx%3Dtdarht0PS5jbgL9i24L0Z2x7nmj4pst9s1BSQL5g%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Quick question: Writing to multiple queues">habtdemis at gmail.com
       </A><BR>
    <I>Sat Jul  9 18:29:38 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013795.html">[rabbitmq-discuss] Quick question: Writing to multiple queues
</A></li>
        <LI>Next message: <A HREF="013797.html">[rabbitmq-discuss] Quick question: Writing to multiple queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13796">[ date ]</a>
              <a href="thread.html#13796">[ thread ]</a>
              <a href="subject.html#13796">[ subject ]</a>
              <a href="author.html#13796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Michael,

I tried to declare two queues and bind each queue to the exchange. Then
publish the message to the exchange, so that the message will be sent to the
two queues as follows:

var connectionFactory = new ConnectionFactory();
        connectionFactory.HostName = &quot;localhost&quot;;

        using (IConnection connection =
                    connectionFactory.CreateConnection())
        {
            using (IModel model = connection.CreateModel())
            {
                model.ExchangeDeclare(&quot;MyExchange&quot;, ExchangeType.Fanout,
true);
                model.QueueDeclare(&quot;QueueOne&quot;, true);
                model.QueueDeclare(&quot;QueueTwo&quot;, true);
                model.QueueBind(&quot;MyQueueOne&quot;, &quot;MyExchange&quot;, &quot;&quot;, false,
                    new Dictionary&lt;string,object&gt;());
                model.QueueBind(&quot;MyQueueTwo&quot;, &quot;MyExchange&quot;, &quot;&quot;, false,
                    new Dictionary&lt;string,object&gt;());
                string message = &quot;Hello&quot;;
                IBasicProperties basicProperties =
model.CreateBasicProperties();
                model.BasicPublish(&quot;MyExchange&quot;, &quot;&quot;, false, false,
                    basicProperties,
System.Text.Encoding.UTF8.GetBytes(message));
            }
        }

However, I am getting CS1501: No overload for method 'QueueDeclare' takes 2
arguments. My question is 1) can i declare multiple queues to then use
fanout exchange and publish a message to multiple queues? 2) what is the
last argument for QueueBind?


Thanks again,

Demiss


On Sat, Jul 9, 2011 at 11:30 AM, Michael Klishin &lt;
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">michael.s.klishin at gmail.com</A>&gt; wrote:

&gt;<i> 2011/7/9 Demiss Zike &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">habtdemis at gmail.com</A>&gt;
</I>&gt;<i>
</I>&gt;&gt;<i> Can you point me to the right direction as to how I can write a message
</I>&gt;&gt;<i> using RabbitMQ to multiple queues without having to open a connection for
</I>&gt;&gt;<i> each message?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Demiss,
</I>&gt;<i>
</I>&gt;<i> In AMQP model messages are not written to queues. They are published to
</I>&gt;<i> exchanges that route them to queues according to rules called &quot;bindings&quot;.
</I>&gt;<i> Different exchange types employ different routing rules. To route a message
</I>&gt;<i> to multiple queues, take a look at fanout and topic exchanges. Regardless of
</I>&gt;<i> what exchange type you choose, AMQP connections are stateful and typically
</I>&gt;<i> long-lived: there is no need to open multiple connection for simple
</I>&gt;<i> scenarios.
</I>&gt;<i>
</I>&gt;<i> Have a look at these tutorials:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/tutorials/tutorial-three-python.html">http://www.rabbitmq.com/tutorials/tutorial-three-python.html</A>
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/tutorials/tutorial-five-python.html">http://www.rabbitmq.com/tutorials/tutorial-five-python.html</A>
</I>&gt;<i> --
</I>&gt;<i> MK
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
</I>&gt;<i> <A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110709/e5d04a77/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110709/e5d04a77/attachment.htm</A>&gt;
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013795.html">[rabbitmq-discuss] Quick question: Writing to multiple queues
</A></li>
	<LI>Next message: <A HREF="013797.html">[rabbitmq-discuss] Quick question: Writing to multiple queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13796">[ date ]</a>
              <a href="thread.html#13796">[ thread ]</a>
              <a href="subject.html#13796">[ subject ]</a>
              <a href="author.html#13796">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
