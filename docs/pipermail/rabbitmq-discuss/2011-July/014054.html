<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Frequently getting {badmatch, {error, einval} from one of my rabbimq nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Frequently%20getting%20%7Bbadmatch%2C%20%7Berror%2C%0A%20einval%7D%20from%20one%20of%20my%20rabbimq%20nodes&In-Reply-To=%3C73926954-e458-4bc2-90e6-a490c69ce8f3%40v11g2000prn.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014048.html">
   <LINK REL="Next"  HREF="014094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Frequently getting {badmatch, {error, einval} from one of my rabbimq nodes</H1>
    <B>Chak Hedik</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Frequently%20getting%20%7Bbadmatch%2C%20%7Berror%2C%0A%20einval%7D%20from%20one%20of%20my%20rabbimq%20nodes&In-Reply-To=%3C73926954-e458-4bc2-90e6-a490c69ce8f3%40v11g2000prn.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Frequently getting {badmatch, {error, einval} from one of my rabbimq nodes">chakhedik at gmail.com
       </A><BR>
    <I>Wed Jul 20 23:40:51 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014048.html">[rabbitmq-discuss] Frequently getting {badmatch, {error, einval} from one of my rabbimq nodes
</A></li>
        <LI>Next message: <A HREF="014094.html">[rabbitmq-discuss] Frequently getting {badmatch, {error, einval} from one of my rabbimq nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14054">[ date ]</a>
              <a href="thread.html#14054">[ thread ]</a>
              <a href="subject.html#14054">[ subject ]</a>
              <a href="author.html#14054">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alex,

*Ubuntu Server 11.04 64-Bit
*RabbitMQ 2.3.1 (Default ubuntu package)
*Erlang Client 2.3.1 (Default ubuntu package)
*Erlang R13B03 (Default ubuntu package)

Is there something in the server logs that corresponds to this error?
- That's the only thing appeared in the logs.

You say your other nodes don't have similar issues.  Is there
something
special about this node?
- Nothing special, pretty much the same but handle more messages than
others. 1 worker handling 1 queue.

It is strange behaviour and it happen at the very beginning where the
worker up for the first time (no message in queue yet). I've created
another node and put this worker there and will wait and see if
similar error appear again or not today.

Thanks for your reply.

Chak


On Jul 21, 5:14&#160;am, Alexandru Scvor&#355;ov &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexan... at rabbitmq.com</A>&gt; wrote:
&gt;<i> Hi Chak,
</I>&gt;<i>
</I>&gt;<i> Could you please answer the following questions:
</I>&gt;<i> * What OS are you using?
</I>&gt;<i> * What version of RabbitMQ?
</I>&gt;<i> * What version of the Erlang client?
</I>&gt;<i> * What version of Erlang?
</I>&gt;<i>
</I>&gt;<i> &gt; ** Reason for termination ==
</I>&gt;<i> &gt; ** {{badmatch,{error,einval}},
</I>&gt;<i> &gt; &#160; &#160; [{amqp_main_reader,handle_inet_async,2},
</I>&gt;<i> &gt; &#160; &#160; &#160;{gen_server,handle_msg,5},
</I>&gt;<i> &gt; &#160; &#160; &#160;{proc_lib,init_p_do_apply,3}]}
</I>&gt;<i>
</I>&gt;<i> Looks like something strange is taking down the socket, which in turn is
</I>&gt;<i> taking down the entire connection. &#160;If you have more than one
</I>&gt;<i> connection, the others should be fine.
</I>&gt;<i>
</I>&gt;<i> Is there something in the server logs that corresponds to this error?
</I>&gt;<i>
</I>&gt;<i> You say your other nodes don't have similar issues. &#160;Is there something
</I>&gt;<i> special about this node?
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> Alex
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Wed, Jul 20, 2011 at 12:12:32AM -0700, Chak Hedik wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i>
</I>&gt;<i> &gt; I frequently getting this terminating error from one of my nodes :
</I>&gt;<i>
</I>&gt;<i> &gt; ** Generic server &lt;0.28067.2&gt; terminating
</I>&gt;<i> &gt; ** Last message in was {inet_async,#Port&lt;0.15349&gt;,9049,
</I>&gt;<i> &gt; {ok,&lt;&lt;0,10,0,51,206&gt;&gt;}}
</I>&gt;<i> &gt; ** When Server state == {state,#Port&lt;0.15349&gt;,&lt;0.28063.2&gt;,&lt;0.28064.2&gt;,
</I>&gt;<i> &gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{method,rabbit_framing_amqp_0_9_1},
</I>&gt;<i> &gt; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{1,0,4}}
</I>&gt;<i> &gt; ** Reason for termination ==
</I>&gt;<i> &gt; ** {{badmatch,{error,einval}},
</I>&gt;<i> &gt; &#160; &#160; [{amqp_main_reader,handle_inet_async,2},
</I>&gt;<i> &gt; &#160; &#160; &#160;{gen_server,handle_msg,5},
</I>&gt;<i> &gt; &#160; &#160; &#160;{proc_lib,init_p_do_apply,3}]}
</I>&gt;<i>
</I>&gt;<i> &gt; While several other nodes with the same setup didn't have the same
</I>&gt;<i> &gt; issue. May I know what it means and willl it affect my queues?How do I
</I>&gt;<i> &gt; fix this?
</I>&gt;<i>
</I>&gt;<i> &gt; Thank,
</I>&gt;<i> &gt; Chak
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-disc... at lists.rabbitmq.com</A>
</I>&gt;<i> &gt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-disc... at lists.rabbitmq.comhttps</A>://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss
</I></PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014048.html">[rabbitmq-discuss] Frequently getting {badmatch, {error, einval} from one of my rabbimq nodes
</A></li>
	<LI>Next message: <A HREF="014094.html">[rabbitmq-discuss] Frequently getting {badmatch, {error, einval} from one of my rabbimq nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14054">[ date ]</a>
              <a href="thread.html#14054">[ thread ]</a>
              <a href="subject.html#14054">[ subject ]</a>
              <a href="author.html#14054">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
