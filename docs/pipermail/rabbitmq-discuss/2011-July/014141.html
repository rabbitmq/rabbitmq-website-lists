<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [announcement] Ruby amqp gem 0.8.0.rc14 is	released
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5Bannouncement%5D%20Ruby%20amqp%20gem%200.8.0.rc14%20is%0A%09released&In-Reply-To=%3CCAE3HoVRXk5X6w3nhXih0Udosago840sZwF67AXBCYt25LTdNiw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014170.html">
   <LINK REL="Next"  HREF="014143.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [announcement] Ruby amqp gem 0.8.0.rc14 is	released</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5Bannouncement%5D%20Ruby%20amqp%20gem%200.8.0.rc14%20is%0A%09released&In-Reply-To=%3CCAE3HoVRXk5X6w3nhXih0Udosago840sZwF67AXBCYt25LTdNiw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] [announcement] Ruby amqp gem 0.8.0.rc14 is	released">michael.s.klishin at gmail.com
       </A><BR>
    <I>Mon Jul 25 04:39:44 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014170.html">[rabbitmq-discuss] Server crash, won't start up
</A></li>
        <LI>Next message: <A HREF="014143.html">[rabbitmq-discuss] Shovel with exchange-exchange bindings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14141">[ date ]</a>
              <a href="thread.html#14141">[ thread ]</a>
              <a href="subject.html#14141">[ subject ]</a>
              <a href="author.html#14141">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>amqp gem 0.8.0.RC14 is released to rubygems.org. All 0.8.0.RCs users are
highly encouraged to upgrade.

== Backwards compatibility with RC13

0.8.0.RC14 is fully backwards compatible with RC13 but amq-client library
will need an upgrade to the 0.8.0 (which is already available from
rubygems.org). When upgrading, make
sure to update your Gemfile or .gemspec dependency on amq-client if
necessary.

To check that you have RC14 installed, you can use irb and check
AMQP::VERSION constant.

If you have questions about upgrading, join #rabbitmq IRC channel on
freenode.net and I (antares_) will
be happy to answer them.


== Highlights

0.8.0.RC14 introduces a number of exciting features related to application
recovery from network &amp; broker failures:

* A number of events/callbacks and API methods useful to developers who want
to implement their own recovery strategies.
* Automatic recovery mode that makes it very easy to re-declare all
entities, bindings &amp; consumers when AMQP connection recovers from
  a network outage or broker failure: it is opt-in (not opt-out) and will
make recovery significantly simpler for &quot;the 80%&quot; of apps.

Documentation of these features is available at
<A HREF="http://bit.ly/amqp-gem-error-handling-and-recovery">http://bit.ly/amqp-gem-error-handling-and-recovery</A>



== Bug fixes

RC14 includes two bug fixes:

* Empty messages are now framed properly. Yes, it took us 3 years to get
this right.
* Sporadic UNEXPECTED_FRAME exceptions in multi-threaded publisher apps are
now gone. AMQP::Exchange#publish now internally synchronizes data delivery
  on the channel exchange is associated with.
  This makes sure that even if you end up publishing from multiple threads,
frames will be delivered in the proper order.



== Other features &amp; API usability improvements

There are also other improvements:

* RC14 no longer has pre-release gem dependencies. This should make life
easier for RubyGems 1.3.7 users (this includes those running on Heroku).
   RubyGems 1.3.7, also know as &quot;the Internet Explorer 6 of the Ruby
ecosystem&quot;, has broken pre-release version comparison and considers
   version 0.8.0.rc9 to be more recent than 0.8.0.rc14, for example.

* Ability to register more than one consumer per queue on the same channel.
Historically AMQP:::Queue#subscribe only allowed to register one consumer.
  This is still being the case for backwards compatibility but you now can
easily instantiate AMQP::Consumers directly.

* New bitset-based channel id allocator. Previously apps that open &amp; close
channels aggressively could hit connection max channel limit
  pretty quickly because channel id was a growing integer. Now channel id
are allocated from a pool of integers, just as in the RabbitMQ Java client.

* Broker capabilities introspection API. See
<A HREF="http://www.rabbitmq.com/extensions.html#capabilities">http://www.rabbitmq.com/extensions.html#capabilities</A>
* Support for arrays in attribute tables (for example, message headers)



== Documentation improvements

As usual, we keep improving my favorite amqp gem feature: documentation (
<A HREF="http://bit.ly/amqp-gem-docs">http://bit.ly/amqp-gem-docs</A>).

* Documentation is now being proof-read and edited by Chris Duncan, the
creator of the bunny gem.
* AMQP 0.9.1 Mode Explained guide (<A HREF="http://bit.ly/amqp-model-explained">http://bit.ly/amqp-model-explained</A>) is
about 2 pages long and explains AMQP 0.9.1 concepts &amp; features in simple
language. If you were
  looking for something between shallow blog posts about AMQP and reading
the whole spec document, this guide is for you.
* Initial bits of the Migration guide 0.6.x and 0.7.x to 0.8.x (
<A HREF="http://bit.ly/amqp-gem-080-migration-guide">http://bit.ly/amqp-gem-080-migration-guide</A>)
* Initial bits of the Patterns &amp; Use Cases guide (
<A HREF="http://bit.ly/amqp-gem-patterns">http://bit.ly/amqp-gem-patterns</A>) that explains how to implement many
patterns from the Enterprise Integration Patterns book (
<A HREF="http://www.eaipatterns.com">http://www.eaipatterns.com</A>)
* TLS guide
* Numerous small improvements to all other guides &amp; code examples.


== The Road to 0.8.0

Many people have expressed their interest in knowing when 0.8.0 is going to
be out. Lets get this out of the way.

RC14 is the second to last RC before 0.8.0. Here's what to expect in RC15:

* RC15 will bring up support for Ruby 1.8.7-p249 (this particular patch
level) that has a bug that seriously affects amqp gem.
 Working around it will take a moderate refactoring on our side. Learn more
in the FAQ at the bottom of
<A HREF="https://github.com/ruby-amqp/amqp/blob/master/README.md">https://github.com/ruby-amqp/amqp/blob/master/README.md</A>

* RC15 will see many documentation improvements. We will finish 0.6.x/0.7.x
=&gt; 0.8.x migration guide, RabbitMQ extensions guide, Bindings guide and
expand Patterns &amp; Use Cases guide.
Existing documentation is pretty good but certainly can be improved &amp;
expanded.

* RC15 will involve heavy QA and interoperability test suite with the
RabbitMQ Java client and Pika, the most popular Python client. Many people
(including myself)
have been using amqp gem 0.8.0.RCs with those two for quite some time but
there is no such thing as &quot;too much QA&quot;.

After that, there will be only bug fixes and documentation corrections, as
needed. All the other ideas/feature requests are put in the queue for
v0.9.0.

So, give RC14 a spin and have a good day.

-- 
MK

<A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
<A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110725/665cc043/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110725/665cc043/attachment.htm</A>&gt;
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014170.html">[rabbitmq-discuss] Server crash, won't start up
</A></li>
	<LI>Next message: <A HREF="014143.html">[rabbitmq-discuss] Shovel with exchange-exchange bindings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14141">[ date ]</a>
              <a href="thread.html#14141">[ thread ]</a>
              <a href="subject.html#14141">[ subject ]</a>
              <a href="author.html#14141">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
