<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd:  a few json rpc questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fwd%3A%20%20a%20few%20json%20rpc%20questions&In-Reply-To=%3C4E1DB16C.5070906%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013873.html">
   <LINK REL="Next"  HREF="013887.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd:  a few json rpc questions</H1>
    <B>Michael Bridgen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fwd%3A%20%20a%20few%20json%20rpc%20questions&In-Reply-To=%3C4E1DB16C.5070906%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Fwd:  a few json rpc questions">mikeb at rabbitmq.com
       </A><BR>
    <I>Wed Jul 13 15:53:32 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013873.html">[rabbitmq-discuss] Fwd:  a few json rpc questions
</A></li>
        <LI>Next message: <A HREF="013887.html">[rabbitmq-discuss] Fwd: a few json rpc questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13874">[ date ]</a>
              <a href="thread.html#13874">[ thread ]</a>
              <a href="subject.html#13874">[ subject ]</a>
              <a href="author.html#13874">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> The RPC servers that serve requests for different applications must be
</I>&gt;<i> listening on different work queues. You must ensure that RPC clients use
</I>&gt;<i> a routing key that matches the server queue and are different for each
</I>&gt;<i> application.
</I>&gt;<i>
</I>&gt;<i> and also you wrote in the last mail that I  Wouldn't need to give each
</I>&gt;<i> one a different routing key ( not specifically to support multiple
</I>&gt;<i> clients in answer to my second question.
</I>&gt;<i>
</I>&gt;<i> So, in brief. Should i give the same routing key or shouldnt i?
</I>&gt;<i> can each application run with the same routing key and queue and all get
</I>&gt;<i> their own answer?
</I>
By far the easiest way to encode RPC is to have one queue per service.

Many clients may make requests by publishing to that queue. Many clients 
may answer requests by consuming from that queue.

If you have disjoint services, use separate queues. To publish to a 
queue, you use the exchange &quot;&quot; and name the queue in the routing key.

All the rest follows.


--Michael


&gt;<i> On Wed, Jul 13, 2011 at 5:23 PM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     Hi,
</I>&gt;<i>
</I>&gt;<i>     On 13/07/11 14:28, mysurf mail wrote:
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; ---------- Forwarded message ----------
</I>&gt;<i>      &gt; From: *mysurf mail* &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stammailbox at gmail.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stammailbox at gmail.com</A>&gt; &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stammailbox at gmail.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stammailbox at gmail.com</A>&gt;&gt;&gt;
</I>&gt;<i>      &gt; Date: Wed, Jul 13, 2011 at 4:27 PM
</I>&gt;<i>      &gt; Subject: Re: [rabbitmq-discuss] a few json rpc questions
</I>&gt;<i>      &gt; To: Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A> &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt;
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A> &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt;&gt;&gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Hi Emile,
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Thanks for the assistance.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; Though I have read the tutorial in your site, it looks like I did not
</I>&gt;<i>      &gt; fully understand the rpc for multiple clients' mechanism.
</I>&gt;<i>
</I>&gt;<i>     The RPC classes that you are using are designed to support multiple
</I>&gt;<i>     clients.
</I>&gt;<i>
</I>&gt;<i>     I would suggest that you get RPC working reliably with a single client
</I>&gt;<i>     first. The problem you describe (sometimes the application gets stuck)
</I>&gt;<i>     may not relate to the presence of multiple clients at all.
</I>&gt;<i>
</I>&gt;<i>     The management plugin (<A HREF="http://www.rabbitmq.com/management.html">http://www.rabbitmq.com/management.html</A>) or the
</I>&gt;<i>     rabbitmqctl utility can be used to confirm queue sizes if you believe
</I>&gt;<i>     the problem is a messaging one.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>      &gt; I have put a routing key in the server and all the clients (same one)
</I>&gt;<i>      &gt; and I thought it would make the server handle all the requests.
</I>&gt;<i>      &gt;
</I>&gt;<i>      &gt; 1. Is there any way to use the rpc like that for multiple clients?
</I>&gt;<i>
</I>&gt;<i>     Yes, as previously stated.
</I>&gt;<i>
</I>&gt;<i>      &gt; 2. Would I need to give each one a different routing key?
</I>&gt;<i>
</I>&gt;<i>     No, not specifically to support multiple clients.
</I>&gt;<i>
</I>&gt;<i>      &gt; 3. Would I need to use different server threads for each client?
</I>&gt;<i>
</I>&gt;<i>     Threading is not a relevant issue here.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     -Emile
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013873.html">[rabbitmq-discuss] Fwd:  a few json rpc questions
</A></li>
	<LI>Next message: <A HREF="013887.html">[rabbitmq-discuss] Fwd: a few json rpc questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13874">[ date ]</a>
              <a href="thread.html#13874">[ thread ]</a>
              <a href="subject.html#13874">[ subject ]</a>
              <a href="author.html#13874">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
