<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20.NET%20Client.%20Questions%20about%0A%09QueueingBasicConsumer&In-Reply-To=%3CCAOn7oW_K-4%2B9dDdP56BbMCKW_B19ANTiyfPSDmL-K1TWPJAPqA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013710.html">
   <LINK REL="Next"  HREF="013712.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer</H1>
    <B>Simone Busoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20.NET%20Client.%20Questions%20about%0A%09QueueingBasicConsumer&In-Reply-To=%3CCAOn7oW_K-4%2B9dDdP56BbMCKW_B19ANTiyfPSDmL-K1TWPJAPqA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer">simone.busoli at gmail.com
       </A><BR>
    <I>Thu Jul  7 09:10:28 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013710.html">[rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer
</A></li>
        <LI>Next message: <A HREF="013712.html">[rabbitmq-discuss] RabbitMQ .NET Client. Questions	about	QueueingBasicConsumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13711">[ date ]</a>
              <a href="thread.html#13711">[ thread ]</a>
              <a href="subject.html#13711">[ subject ]</a>
              <a href="author.html#13711">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mike, I'm quite new to RabbitMQ but I think there are at least a couple
of things you can look into. One is QoS, which regulates how many messages a
consumer is being pushed in advance, setting it to 1 should mean that no
messages are sent to it before it can consume the one it has on its queue.
Second, you can look at ACKs, which let you cope with the scenario you are
describing, since failing to ack messages implies that they stay on the
queue and can be recovered later.
On Jul 7, 2011 9:58 AM, &quot;Mike Hadlow&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mike.hadlow at 15below.com</A>&gt; wrote:
&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i> I'm writing a high-level &quot;opinionated&quot; .NET API on top of the supplied
</I>RabbitMQ .NET client that I've named EasyNetQ. It's on GitHub here:
&gt;<i>
</I>&gt;<i> <A HREF="https://github.com/mikehadlow/EasyNetQ">https://github.com/mikehadlow/EasyNetQ</A>
</I>&gt;<i>
</I>&gt;<i> Currently I'm using the QueueingBasicConsumer and spinning up a single
</I>thread that sits in a loop doing SharedQueue.Dequeue(), see the code here:
&gt;<i>
</I>&gt;<i>
</I><A HREF="https://github.com/mikehadlow/EasyNetQ/blob/master/EasyNetQ/QueueingConsumerFactory.cs">https://github.com/mikehadlow/EasyNetQ/blob/master/EasyNetQ/QueueingConsumerFactory.cs</A>
&gt;<i>
</I>&gt;<i> My question is about the scenario where messages are being pushed onto the
</I>queue by QueueingBasicConsumer faster than my client callbacks can handle
them. Surely messages will build up in the SharedQueue until we run out of
memory, crash, and lose all the queued messages? It would be much better if
messages were pulled from RabbitMQ only as fast as the consumers can process
them.
&gt;<i>
</I>&gt;<i> Does anyone have any experience with this scenario? What is the
</I>recommended subscription pattern? Should I be using BasicGet instead?
&gt;<i>
</I>&gt;<i> Many thanks
</I>&gt;<i> Mike
</I>&gt;<i>
</I>&gt;<i> 15below Limited: Company registered in England and Wales No 3945289
</I>&gt;<i> Registered Office: Lyndean House, 43-46 Queens Road, Brighton BN1 3XB,
</I>United Kingdom
&gt;<i>
</I>&gt;<i> 15below Australia Pty Limited: ABN 25 132 716 379
</I>&gt;<i> Level 50, 120 Collins Street, Melbourne, Victoria 3000, Australia
</I>&gt;<i>
</I>&gt;<i> Please think about the environment before printing this email.
</I>&gt;<i>
</I>&gt;<i> ************************************************************************
</I>&gt;<i> This email and any attachments may be confidential and/or legally
</I>privileged and are solely for the use of the intended recipient. If you have
received this email in error please contact the sender. Any views or
opinions expressed within this e-mail are solely those of the sender, and do
not necessarily represent those of 15below unless otherwise specifically
stated. Although 15below has taken every reasonable precaution to ensure
that any attachment to this e-mail has been checked for viruses, it is
strongly recommended that you carry out your own virus check before opening
any attachment, as we cannot accept liability for any damage sustained as a
result of software virus infection.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110707/1e6c32a3/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110707/1e6c32a3/attachment.htm</A>&gt;
</PRE>






















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013710.html">[rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer
</A></li>
	<LI>Next message: <A HREF="013712.html">[rabbitmq-discuss] RabbitMQ .NET Client. Questions	about	QueueingBasicConsumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13711">[ date ]</a>
              <a href="thread.html#13711">[ thread ]</a>
              <a href="subject.html#13711">[ subject ]</a>
              <a href="author.html#13711">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
