<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Persistent messages and durable queue	questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Persistent%20messages%20and%20durable%20queue%0A%09questions&In-Reply-To=%3CCAFDmHdOhc8N406gbd_bogCXTVGrFwONEChpRxLGEqYzFZ%3DWj_Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013949.html">
   <LINK REL="Next"  HREF="013972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Persistent messages and durable queue	questions</H1>
    <B>Elias Levy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Persistent%20messages%20and%20durable%20queue%0A%09questions&In-Reply-To=%3CCAFDmHdOhc8N406gbd_bogCXTVGrFwONEChpRxLGEqYzFZ%3DWj_Q%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Persistent messages and durable queue	questions">fearsome.lucidity at gmail.com
       </A><BR>
    <I>Mon Jul 18 19:30:08 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013949.html">[rabbitmq-discuss] Persistent messages and durable	queue	questions
</A></li>
        <LI>Next message: <A HREF="013972.html">[rabbitmq-discuss] Persistent messages and durable queue	questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13971">[ date ]</a>
              <a href="thread.html#13971">[ thread ]</a>
              <a href="subject.html#13971">[ subject ]</a>
              <a href="author.html#13971">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Jul 18, 2011 at 10:02 AM, Matthias Radestock &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;
 wrote:

&gt;<i> &quot;absent&quot; durable queues are only forgotten for routing purposes. RabbitMQ
</I>&gt;<i> prevents re-creation of these queues since that would result in
</I>&gt;<i> inconsistency when the node re-joins.
</I>&gt;<i>
</I>&gt;<i> We could change things s.t. absent durable queues still participate in
</I>&gt;<i> routing and that confirms return a 'nack' when messages are routed to such
</I>&gt;<i> queues.
</I>&gt;<i>
</I>
It seems like that is the correct thing to do.


&gt;<i> I am concerned though that there may be use cases where the current
</I>&gt;<i> behaviour is the correct one.
</I>&gt;<i>
</I>
I am curious as to what that case may be.  A network partition in a cluster
like RabbitMQ's is an error condition.  Thus, I expect the cluster to inform
me of the error, not to silently go on as if nothing is wrong.

AMQP is often compared with SMTP, with exchanges acting as MTAs and with
senders and receivers.  A topic exchange is akin to a distribution list.
 Publisher submit to the list and the message is sent to subscribers.  If
there are no subscribers, then the publisher will receive no errors.  But if
there are subscribers, but their mailbox is unreachable, then the subscriber
(or the MTA, depending on the configuration) will receive an error message.


At the moment RabbitMQ is failing to generate those error messages, so I
have no way of knowing whether the radio silence means there are no
subscribers or the subscriber failed to receive the message, actually is
worse, since I would actually get a publisher confirm ack, a positive
response.

Elias Levy
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110718/0068b74d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110718/0068b74d/attachment.htm</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013949.html">[rabbitmq-discuss] Persistent messages and durable	queue	questions
</A></li>
	<LI>Next message: <A HREF="013972.html">[rabbitmq-discuss] Persistent messages and durable queue	questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13971">[ date ]</a>
              <a href="thread.html#13971">[ thread ]</a>
              <a href="subject.html#13971">[ subject ]</a>
              <a href="author.html#13971">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
