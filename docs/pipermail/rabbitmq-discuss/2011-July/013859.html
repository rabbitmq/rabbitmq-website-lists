<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Strictly sequential queue processing with	round-robin consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Strictly%20sequential%20queue%20processing%20with%0A%09round-robin%20consumers&In-Reply-To=%3CCAODN%3DbRShrb0v0O-esMox%3DbYxY1OUK6yjN5of3TkN-6jiSqo6Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013898.html">
   <LINK REL="Next"  HREF="013860.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Strictly sequential queue processing with	round-robin consumers</H1>
    <B>Lee Henson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Strictly%20sequential%20queue%20processing%20with%0A%09round-robin%20consumers&In-Reply-To=%3CCAODN%3DbRShrb0v0O-esMox%3DbYxY1OUK6yjN5of3TkN-6jiSqo6Q%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Strictly sequential queue processing with	round-robin consumers">lee.m.henson at gmail.com
       </A><BR>
    <I>Wed Jul 13 10:26:27 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013898.html">[rabbitmq-discuss] RabbitMQ OCF script not started
</A></li>
        <LI>Next message: <A HREF="013860.html">[rabbitmq-discuss] Strictly sequential queue processing with round-robin consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13859">[ date ]</a>
              <a href="thread.html#13859">[ thread ]</a>
              <a href="subject.html#13859">[ subject ]</a>
              <a href="author.html#13859">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

This question is based on a hypothetical situation that I am going to do my
absolute best to avoid. I fully expect a &quot;don't do that, it's a bad idea&quot;
response. But just for arguments sake, I'd like to know whether such a
scenario is possible with rmq. Forewarned is forearmed, as they say..... :D

The scenario would be a durable persistent queue Q with n consumers C1, C2,
.. Cn. The queue should round-robin messages off to each consumer but only
delivering the next message to the next consumer when the previous consumer
has ACKed or REJECTed the last one. If the previous consumer failed in some
way, then that message should be delivered to the next consumer immediately
instead of delivering the next message in the queue. In this fashion, a
guaranteed order of processing could be relied upon and it would be
fault-tolerant with respect to consumers.

The only possible solution I could think of was setting the qos.prefetch to
a huge number, say 1000000. As I understand it, that will deliver 1000000
messages to one consumer before it starts delivering them to the next.

Any thoughts?

Cheers
Lee
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110713/f825e0af/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110713/f825e0af/attachment.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013898.html">[rabbitmq-discuss] RabbitMQ OCF script not started
</A></li>
	<LI>Next message: <A HREF="013860.html">[rabbitmq-discuss] Strictly sequential queue processing with round-robin consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13859">[ date ]</a>
              <a href="thread.html#13859">[ thread ]</a>
              <a href="subject.html#13859">[ subject ]</a>
              <a href="author.html#13859">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
