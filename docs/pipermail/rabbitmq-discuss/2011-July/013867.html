<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMq not honouring	high_watermark	setting?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMq%20not%20honouring%0A%09high_watermark%09setting%3F&In-Reply-To=%3C4E1D89CB.7020300%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013866.html">
   <LINK REL="Next"  HREF="013868.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMq not honouring	high_watermark	setting?</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMq%20not%20honouring%0A%09high_watermark%09setting%3F&In-Reply-To=%3C4E1D89CB.7020300%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMq not honouring	high_watermark	setting?">emile at rabbitmq.com
       </A><BR>
    <I>Wed Jul 13 13:04:27 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013866.html">[rabbitmq-discuss] RabbitMq not honouring	high_watermark	setting?
</A></li>
        <LI>Next message: <A HREF="013868.html">[rabbitmq-discuss] RabbitMq not honouring high_watermark	setting?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13867">[ date ]</a>
              <a href="thread.html#13867">[ thread ]</a>
              <a href="subject.html#13867">[ subject ]</a>
              <a href="author.html#13867">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/07/11 12:55, Dan B wrote:
&gt;<i> I should have RTFM a bit more thoroughly.
</I>&gt;<i> 
</I>&gt;&gt;&gt;<i> Thus when RabbitMQ can't recognize your platform, if you actually have 8GB RAM
</I>&gt;&gt;&gt;<i> installed and you want RabbitMQ to throttle producers when the server is using
</I>&gt;&gt;&gt;<i> above 3GB, set vm_memory_high_watermark to 3
</I>&gt;<i> 
</I>&gt;<i> On my server, vm_memory_high_watermark = n results in a watermark of
</I>&gt;<i> 2n for some reason. I've set it to 1.5 (3gb), I'm not sure if Rabbit
</I>&gt;<i> can access all of that though, probably not.
</I>

You are certain to run out of memory at some point if you do that.
Unfortunately the Windows Erlang VM is 32bit and limited to 2Gb. Some
versions of Windows support an alternative memory model that may allow a
suitably patched Erlang VM access to slightly more memory, but I don't
know of anyone succeeding in making it work:

<A HREF="http://support.microsoft.com/default.aspx?scid=kb%3BEN-US%3B297812">http://support.microsoft.com/default.aspx?scid=kb%3BEN-US%3B297812</A>

-Emile
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013866.html">[rabbitmq-discuss] RabbitMq not honouring	high_watermark	setting?
</A></li>
	<LI>Next message: <A HREF="013868.html">[rabbitmq-discuss] RabbitMq not honouring high_watermark	setting?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13867">[ date ]</a>
              <a href="thread.html#13867">[ thread ]</a>
              <a href="subject.html#13867">[ subject ]</a>
              <a href="author.html#13867">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
