<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmqadmin or rabbitmqctl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmqadmin%20or%20rabbitmqctl&In-Reply-To=%3C4E1C5CEE.6070306%40mediasat.ro%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013837.html">
   <LINK REL="Next"  HREF="013864.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmqadmin or rabbitmqctl</H1>
    <B>Andi Constantin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmqadmin%20or%20rabbitmqctl&In-Reply-To=%3C4E1C5CEE.6070306%40mediasat.ro%3E"
       TITLE="[rabbitmq-discuss] rabbitmqadmin or rabbitmqctl">andi.constantin at mediasat.ro
       </A><BR>
    <I>Tue Jul 12 15:40:46 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013837.html">[rabbitmq-discuss] rabbitmqadmin or rabbitmqctl
</A></li>
        <LI>Next message: <A HREF="013864.html">[rabbitmq-discuss] rabbitmqadmin or rabbitmqctl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13838">[ date ]</a>
              <a href="thread.html#13838">[ thread ]</a>
              <a href="subject.html#13838">[ subject ]</a>
              <a href="author.html#13838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi !

  rabbitmqctl list_consumers always returns:
Listing consumers ...
...done.

rabbitmqadmin list queues name consumers  returns all the queues with 
zero consumers :(
And i know i have consumers because the system works fine.

That's why i try to see &quot;Deliverers&quot;

Andi.

On 12.07.2011 17:29, Simon MacMullen wrote:
&gt;<i> On 12/07/11 14:40, Andi Constantin wrote:
</I>&gt;&gt;<i> Hi !
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> When I start two programs who takes messages from the same queue i can
</I>&gt;&gt;<i> see in the API interface in the zone &quot;Message Rates&quot; two channels at
</I>&gt;&gt;<i> &quot;Deliveries&quot;
</I>&gt;&gt;<i> In the Consumers are says ... no consumers ...
</I>&gt;<i>
</I>&gt;<i> Was the message rate 0? Management can show a 0 message rate for a 
</I>&gt;<i> given (queue, channel) combination if there have previously been 
</I>&gt;<i> messages delivered for that combination (even if there aren't any 
</I>&gt;<i> being delivered now). Also the web interface conflates deliveries (to 
</I>&gt;<i> consumers) and gets (which don't require consumers) - if any of your 
</I>&gt;<i> clients use basic.get then that can contribute to message rates 
</I>&gt;<i> without consumers being involved.
</I>&gt;<i>
</I>&gt;<i> However, if you're really seeing messages being consumed while the 
</I>&gt;<i> management interface says &quot;no consumers&quot; then that's a bug. This is 
</I>&gt;<i> quite well-used code though, so I'd be interested in how you managed 
</I>&gt;<i> to trigger it.
</I>&gt;<i>
</I>&gt;&gt;<i> How can i see that with rabbitmqadmin or rabbitmqctl ?
</I>&gt;<i>
</I>&gt;<i> I'm not sure what &quot;that&quot; is, so here are some possible answers:
</I>&gt;<i>
</I>&gt;<i> $ rabbitmqctl list_consumers
</I>&gt;<i>
</I>&gt;<i> will list all consumers, with columns [queue, channel pid, consumer 
</I>&gt;<i> tag, acks required].
</I>&gt;<i>
</I>&gt;<i> $ rabbitmqctl list_queues name consumers
</I>&gt;<i>
</I>&gt;<i> will list the count of consumers for each queue.
</I>&gt;<i>
</I>&gt;<i> $ rabbitmqadmin list queues name consumers
</I>&gt;<i>
</I>&gt;<i> will do the same.
</I>&gt;<i>
</I>&gt;<i> Does that answer your question?
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013837.html">[rabbitmq-discuss] rabbitmqadmin or rabbitmqctl
</A></li>
	<LI>Next message: <A HREF="013864.html">[rabbitmq-discuss] rabbitmqadmin or rabbitmqctl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13838">[ date ]</a>
              <a href="thread.html#13838">[ thread ]</a>
              <a href="subject.html#13838">[ subject ]</a>
              <a href="author.html#13838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
