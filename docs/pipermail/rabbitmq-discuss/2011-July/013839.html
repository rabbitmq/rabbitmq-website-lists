<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq mochiweb and ssl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20mochiweb%20and%20ssl&In-Reply-To=%3CCAMOXM28AZHNr4Jo6BmvvWbsir%2BtPgPbG8Hn7nDQnpTV6b_H%3DXg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013834.html">
   <LINK REL="Next"  HREF="013840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq mochiweb and ssl</H1>
    <B>Massimo Paladin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20mochiweb%20and%20ssl&In-Reply-To=%3CCAMOXM28AZHNr4Jo6BmvvWbsir%2BtPgPbG8Hn7nDQnpTV6b_H%3DXg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq mochiweb and ssl">Massimo.Paladin at cern.ch
       </A><BR>
    <I>Tue Jul 12 16:11:53 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013834.html">[rabbitmq-discuss] rabbitmq mochiweb and ssl
</A></li>
        <LI>Next message: <A HREF="013840.html">[rabbitmq-discuss] rabbitmq mochiweb and ssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13839">[ date ]</a>
              <a href="thread.html#13839">[ thread ]</a>
              <a href="subject.html#13839">[ subject ]</a>
              <a href="author.html#13839">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Other question, since 2.5.0 it is possible to instance the mgmt, api
and acl in different contexts.
I tried to set the mgmt with ssl on a specific port and the api on
another port without ssl.

This does not work because mgmt uses the api part with relative urls
and mgmt stays empty....

Is there any way to do what I am looking for?

Cheers,
---
Massimo Paladin

email:&#160;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">massimo.paladin at gmail.com</A>
website:&#160;<A HREF="http://www.mpaladin.com">http://www.mpaladin.com</A>
flickr's page:&#160;<A HREF="http://flickr.com/photos/massimop">http://flickr.com/photos/massimop</A>



On Tue, Jul 12, 2011 at 3:10 PM, Massimo Paladin
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Massimo.Paladin at cern.ch</A>&gt; wrote:
&gt;<i> Thank you Simon, it works!
</I>&gt;<i>
</I>&gt;<i> ...and I checked it more than once! ;-)
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i> ---
</I>&gt;<i> Massimo Paladin
</I>&gt;<i>
</I>&gt;<i> email:&#160;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">massimo.paladin at gmail.com</A>
</I>&gt;<i> website:&#160;<A HREF="http://www.mpaladin.com">http://www.mpaladin.com</A>
</I>&gt;<i> flickr's page:&#160;<A HREF="http://flickr.com/photos/massimop">http://flickr.com/photos/massimop</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Jul 12, 2011 at 3:05 PM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:
</I>&gt;&gt;<i> On 12/07/11 13:57, Massimo Paladin wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> did someone try to enable ssl on the management interface?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I followed instruction at: <A HREF="http://www.rabbitmq.com/mochiweb.html">http://www.rabbitmq.com/mochiweb.html</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> with following configuration:
</I>&gt;&gt;&gt;<i> {rabbitmq_mochiweb, [{listeners, [
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {'*', &#160;[{port, 61100}]},
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {mgmt, [{port, 61101}]},
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; here is the problem ---^
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {ssl, &#160; &#160; &#160;true},
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {ssl_opts, [{cacertfile,
</I>&gt;&gt;&gt;<i> &quot;/path/to/cacert.pem&quot;},
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {certfile,
</I>&gt;&gt;&gt;<i> &quot;/path/to/hostcert.pem&quot;},
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; {keyfile,
</I>&gt;&gt;&gt;<i> &quot;/path/to/hostkey.pem&quot;}
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;]}
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;]}
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; ]}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You've closed the proplist defining the &quot;mgmt&quot; listener after defining the
</I>&gt;&gt;<i> port but before getting to {ssl, true}.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I think you need to change
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{mgmt, [{port, 61101}]},
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;{mgmt, [{port, 61101},
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> You'll then need another &quot;]}&quot; after the ssl_opts.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you're in a position to do so, editing your config in Emacs' erlang-mode
</I>&gt;&gt;<i> and indenting can help make this sort ofn problem more obvious.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I know that the term file format is confusing for a lot of people. Hopefully
</I>&gt;&gt;<i> at some point we can come up with something which is as flexible but easier
</I>&gt;&gt;<i> to understand.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Cheers, Simon
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> --
</I>&gt;&gt;<i> Simon MacMullen
</I>&gt;&gt;<i> RabbitMQ, VMware
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I></PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013834.html">[rabbitmq-discuss] rabbitmq mochiweb and ssl
</A></li>
	<LI>Next message: <A HREF="013840.html">[rabbitmq-discuss] rabbitmq mochiweb and ssl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13839">[ date ]</a>
              <a href="thread.html#13839">[ thread ]</a>
              <a href="subject.html#13839">[ subject ]</a>
              <a href="author.html#13839">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
