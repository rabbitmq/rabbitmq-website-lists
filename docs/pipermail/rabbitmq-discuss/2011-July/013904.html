<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd: a few json rpc questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fwd%3A%20a%20few%20json%20rpc%20questions&In-Reply-To=%3C4E2007F8.8030807%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013887.html">
   <LINK REL="Next"  HREF="013946.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd: a few json rpc questions</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fwd%3A%20a%20few%20json%20rpc%20questions&In-Reply-To=%3C4E2007F8.8030807%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Fwd: a few json rpc questions">emile at rabbitmq.com
       </A><BR>
    <I>Fri Jul 15 10:27:20 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013887.html">[rabbitmq-discuss] Fwd: a few json rpc questions
</A></li>
        <LI>Next message: <A HREF="013946.html">[rabbitmq-discuss] Fwd: a few json rpc questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13904">[ date ]</a>
              <a href="thread.html#13904">[ thread ]</a>
              <a href="subject.html#13904">[ subject ]</a>
              <a href="author.html#13904">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 14/07/11 07:35, mysurf mail wrote:
&gt;<i> Hi, 
</I>
&gt;<i> Can all the clients be configurated with the same queuename (&quot;&quot;) and the
</I>&gt;<i> same routing key (the same for all)? 
</I>
There are two queues required for an RPC call over AMQP. The first is
the work queue for the service. The request published by the RPC client
needs to end up in this queue and be consumed by the RPC server. The
second is the callback queue. This is declared by the RPC client and
receives the reply from the RPC server.

When multiple RPC clients are making use of the same RPC service then
they should all use the same routing key so that all requests for that
service go to the same work queue. This is called RPC_QUEUE_NAME in the
relevant Java tutorial:

<A HREF="http://www.rabbitmq.com/tutorials/tutorial-six-java.html">http://www.rabbitmq.com/tutorials/tutorial-six-java.html</A>

When you make use of RpcClient in the Java client (see

<A HREF="http://hg.rabbitmq.com/rabbitmq-java-client/file/default/src/com/rabbitmq/client/RpcClient.java">http://hg.rabbitmq.com/rabbitmq-java-client/file/default/src/com/rabbitmq/client/RpcClient.java</A>
)

you will see each client declares its own callback queue, so these are
not shared. If a queue is declared with an empty name then the server
assigns a random name. (See the &quot;Temporary Queues&quot; explanation in the
3rd tutorial.) So even if it looks like all the clients are declaring
the same queue named &quot;&quot;, they are all using different callback queues.
This is the recommended approach.


-Emile
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013887.html">[rabbitmq-discuss] Fwd: a few json rpc questions
</A></li>
	<LI>Next message: <A HREF="013946.html">[rabbitmq-discuss] Fwd: a few json rpc questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13904">[ date ]</a>
              <a href="thread.html#13904">[ thread ]</a>
              <a href="subject.html#13904">[ subject ]</a>
              <a href="author.html#13904">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
