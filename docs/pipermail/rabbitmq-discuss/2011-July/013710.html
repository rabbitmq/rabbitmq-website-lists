<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20.NET%20Client.%20Questions%20about%0A%09QueueingBasicConsumer&In-Reply-To=%3C3095E7BFC8C0664E97D71288189F19C6177F26A673%40AUSP01VMBX29.collaborationhost.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013720.html">
   <LINK REL="Next"  HREF="013711.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer</H1>
    <B>Mike Hadlow</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20.NET%20Client.%20Questions%20about%0A%09QueueingBasicConsumer&In-Reply-To=%3C3095E7BFC8C0664E97D71288189F19C6177F26A673%40AUSP01VMBX29.collaborationhost.net%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer">mike.hadlow at 15below.com
       </A><BR>
    <I>Thu Jul  7 08:57:50 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013720.html">[rabbitmq-discuss] No response to basic.consume
</A></li>
        <LI>Next message: <A HREF="013711.html">[rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13710">[ date ]</a>
              <a href="thread.html#13710">[ thread ]</a>
              <a href="subject.html#13710">[ subject ]</a>
              <a href="author.html#13710">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I'm writing a high-level &quot;opinionated&quot; .NET API on top of the supplied RabbitMQ .NET client that I've named EasyNetQ. It's on GitHub here:

<A HREF="https://github.com/mikehadlow/EasyNetQ">https://github.com/mikehadlow/EasyNetQ</A>

Currently I'm using the QueueingBasicConsumer and spinning up a single thread that sits in a loop doing SharedQueue.Dequeue(), see the code here:

<A HREF="https://github.com/mikehadlow/EasyNetQ/blob/master/EasyNetQ/QueueingConsumerFactory.cs">https://github.com/mikehadlow/EasyNetQ/blob/master/EasyNetQ/QueueingConsumerFactory.cs</A>

My question is about the scenario where messages are being pushed onto the queue by QueueingBasicConsumer faster than my client callbacks can handle them. Surely messages will build up in the SharedQueue until we run out of memory, crash, and lose all the queued messages? It would be much better if messages were pulled from RabbitMQ only as fast as the consumers can process them.

Does anyone have any experience with this scenario? What is the recommended subscription pattern? Should I be using BasicGet instead?

Many thanks
Mike

15below Limited: Company registered in England and Wales No 3945289
Registered Office: Lyndean House, 43-46 Queens Road, Brighton BN1 3XB, United Kingdom

15below Australia Pty Limited: ABN 25 132 716 379
Level 50, 120 Collins Street, Melbourne, Victoria 3000, Australia

Please think about the environment before printing this email.

************************************************************************
This email and any attachments may be confidential and/or legally privileged and are solely for the use of the intended recipient. If you have received this email in error please contact the sender. Any views or opinions expressed within this e-mail are solely those of the sender, and do not necessarily represent those of 15below unless otherwise specifically stated. Although 15below has taken every reasonable precaution to ensure that any attachment to this e-mail has been checked for viruses, it is strongly recommended that you carry out your own virus check before opening any attachment, as we cannot accept liability for any damage sustained as a result of software virus infection.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110707/80f5273d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110707/80f5273d/attachment.htm</A>&gt;
</PRE>






















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013720.html">[rabbitmq-discuss] No response to basic.consume
</A></li>
	<LI>Next message: <A HREF="013711.html">[rabbitmq-discuss] RabbitMQ .NET Client. Questions about	QueueingBasicConsumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13710">[ date ]</a>
              <a href="thread.html#13710">[ thread ]</a>
              <a href="subject.html#13710">[ subject ]</a>
              <a href="author.html#13710">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
