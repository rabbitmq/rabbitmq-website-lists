<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Default Virtual Host and HTTP API problem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Default%20Virtual%20Host%20and%20HTTP%20API%20problem&In-Reply-To=%3CCAGVpBAD5TJKS1OymGKvDwWd_E2JVwr9-KcPYb9i%3D8d%3DDB-hSKg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013881.html">
   <LINK REL="Next"  HREF="013884.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Default Virtual Host and HTTP API problem</H1>
    <B>Alfonso Pantoja</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Default%20Virtual%20Host%20and%20HTTP%20API%20problem&In-Reply-To=%3CCAGVpBAD5TJKS1OymGKvDwWd_E2JVwr9-KcPYb9i%3D8d%3DDB-hSKg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Default Virtual Host and HTTP API problem">alfonso.pantoja at gmail.com
       </A><BR>
    <I>Wed Jul 13 23:36:09 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013881.html">[rabbitmq-discuss] Documentation on priority?
</A></li>
        <LI>Next message: <A HREF="013884.html">[rabbitmq-discuss] Default Virtual Host and HTTP API problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13883">[ date ]</a>
              <a href="thread.html#13883">[ thread ]</a>
              <a href="subject.html#13883">[ subject ]</a>
              <a href="author.html#13883">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tony,

Thank you for the advice.
Didn't test yet the third party library you suggested but I've seen in
the source code that it is using Uri .NET object to construct the HTTP
request which is the cause of   %2F  becomes &quot;/&quot;.
Anyway it is obvious that this is an error in .NET framework.

Regards,

Alfonso


2011/6/30 Tony Garnock-Jones &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonygarnockjones+rabbitmq at gmail.com</A>&gt;:
&gt;<i> Hi Alfonso,
</I>&gt;<i>
</I>&gt;<i> On 30 June 2011 11:39, Alfonso Pantoja &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alfonso.pantoja at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've found a problem using the HTTP API. Using .NET you should use
</I>&gt;&gt;<i> sockets or a hack to make a webrequest using the character %2F
</I>&gt;&gt;<i> because .NET replaces that %2F by &quot;/&quot;
</I>&gt;&gt;<i> so <A HREF="http://server/api/%2F/queues">http://server/api/%2F/queues</A> becomes always <A HREF="http://server/api///queues">http://server/api///queues</A>
</I>&gt;&gt;<i> and a not found is get.
</I>&gt;<i>
</I>&gt;<i> I recommend avoiding the broken Microsoft HTTP client library, and using a
</I>&gt;<i> better third-party library. A few minutes googling produced
</I>&gt;<i> <A HREF="http://www.codescales.com/,">http://www.codescales.com/,</A> which looks plausible.
</I>&gt;<i>
</I>&gt;<i> (It seems that MS have actually willfully crippled their client: see, for
</I>&gt;<i> instance, this bug report. &quot;We are not aware of any such real world
</I>&gt;<i> scenarios currently.&quot;&#8212;good grief!)
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> &#160; Tony
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013881.html">[rabbitmq-discuss] Documentation on priority?
</A></li>
	<LI>Next message: <A HREF="013884.html">[rabbitmq-discuss] Default Virtual Host and HTTP API problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13883">[ date ]</a>
              <a href="thread.html#13883">[ thread ]</a>
              <a href="subject.html#13883">[ subject ]</a>
              <a href="author.html#13883">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
