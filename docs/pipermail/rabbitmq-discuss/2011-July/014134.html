<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Building addins on Windows
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Building%20addins%20on%20Windows&In-Reply-To=%3CCAOn7oW-NhR329GmWD6oCMBRVsc%2BiB50zkZyBdMsKzyviV9T2PQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014133.html">
   <LINK REL="Next"  HREF="014142.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Building addins on Windows</H1>
    <B>Simone Busoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Building%20addins%20on%20Windows&In-Reply-To=%3CCAOn7oW-NhR329GmWD6oCMBRVsc%2BiB50zkZyBdMsKzyviV9T2PQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Building addins on Windows">simone.busoli at gmail.com
       </A><BR>
    <I>Sun Jul 24 17:03:32 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="014133.html">[rabbitmq-discuss] Building addins on Windows
</A></li>
        <LI>Next message: <A HREF="014142.html">[rabbitmq-discuss] Building addins on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14134">[ date ]</a>
              <a href="thread.html#14134">[ thread ]</a>
              <a href="subject.html#14134">[ subject ]</a>
              <a href="author.html#14134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I'm having some issues building the shovel addin on Windows under
cygwin. I am following the instructions in the README of the addin, cloning
the umbrella project and the others below it (I think the addin requires
erlando as well, which is not documented).
I can build the rabbitmq-erlang-client just fine, but erlando and server
fail, which prevent me from building the shovel addin. The problem seems to
be related to escript (I'm invoking my Windows erlang installation as it
appears Erlang won't build under cygwin), and not the one related to
appending .exe when invoking it since I patched the scripts to do that
already.
When invoking escript.exe from the win command line it works, while invoking
it from cygwin always gives &quot;Failed to open file ...&quot;. It looks like escript
windows version doesn't play nice with cygwin.
That said, if I didn't have to build server and erlando I may be able to
build the shovel addin, but I could not figure out how to point it to my
existing server binaries.

On Sun, Jul 24, 2011 at 14:01, Simone Busoli &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simone.busoli at gmail.com</A>&gt;wrote:

&gt;<i> Thanks Emile, so I'll just need to build the plugin itself if I don't need
</I>&gt;<i> to change the server, right?
</I>&gt;<i> And building the plugin, the shovel in this case, does have any specific
</I>&gt;<i> requirements?
</I>&gt;<i> On Jul 24, 2011 1:48 PM, &quot;Emile Joubert&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:
</I>&gt;<i> &gt; Hi Simone,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Op 24/07/11 12:23, het Simone Busoli geskryf:
</I>&gt;<i> &gt;&gt; I would like to try adding a max-hops option to the shovel addin, but I
</I>&gt;<i> have
</I>&gt;<i> &gt;&gt; no past experience in erlang nor in building an addin from the sources.
</I>&gt;<i> I
</I>&gt;<i> &gt;&gt; looked at the docs and I would like to know whether building on Windows
</I>&gt;<i> is
</I>&gt;<i> &gt;&gt; supported and especially if I need to build the server too, or a binary
</I>&gt;<i> &gt;&gt; deployment is enough to modify and test the addin.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; It is fairly easy to build the broker on Windows if Cygwin is installed.
</I>&gt;<i> &gt; You will need at least GNU Make and have the Erlang compiler and
</I>&gt;<i> &gt; utilities in $PATH. You may want to go this route if you need to modify
</I>&gt;<i> &gt; the broker or if you want to develop against the very latest unreleased
</I>&gt;<i> &gt; version of the broker.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; If you don't need to modify the broker then dropping your .ez file in
</I>&gt;<i> &gt; the plugins directory of a released build will work. Creating symlinks
</I>&gt;<i> &gt; in the plugins directory as suggested in the plugins development page
</I>&gt;<i> &gt; will not work on Windows.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="http://www.rabbitmq.com/plugin-development.html">http://www.rabbitmq.com/plugin-development.html</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; -Emile
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110724/a5c63e5c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110724/a5c63e5c/attachment.htm</A>&gt;
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014133.html">[rabbitmq-discuss] Building addins on Windows
</A></li>
	<LI>Next message: <A HREF="014142.html">[rabbitmq-discuss] Building addins on Windows
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14134">[ date ]</a>
              <a href="thread.html#14134">[ thread ]</a>
              <a href="subject.html#14134">[ subject ]</a>
              <a href="author.html#14134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
