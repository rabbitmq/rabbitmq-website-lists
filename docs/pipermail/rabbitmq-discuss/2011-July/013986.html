<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ consumer stops receiving messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20consumer%20stops%20receiving%20messages&In-Reply-To=%3CCAOU8vTsWoh%3D4cP8rYEd6iRFTg49YSd07noNF12_wu4-4ZK%2BSXw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013985.html">
   <LINK REL="Next"  HREF="013987.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ consumer stops receiving messages</H1>
    <B>Maxime Bouroumeau-Fuseau</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20consumer%20stops%20receiving%20messages&In-Reply-To=%3CCAOU8vTsWoh%3D4cP8rYEd6iRFTg49YSd07noNF12_wu4-4ZK%2BSXw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ consumer stops receiving messages">maxime.bouroumeau at gmail.com
       </A><BR>
    <I>Tue Jul 19 09:46:45 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="013985.html">[rabbitmq-discuss] RabbitMQ Uptime
</A></li>
        <LI>Next message: <A HREF="013987.html">[rabbitmq-discuss] RabbitMQ consumer stops receiving messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13986">[ date ]</a>
              <a href="thread.html#13986">[ thread ]</a>
              <a href="subject.html#13986">[ subject ]</a>
              <a href="author.html#13986">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I have a serious problem with RabbitMQ. After a certain amount of messages
received, the consumers simply stop receiving messages.
They are still connected but they are not receiving messages anymore. I have
found other posts about this issue but none have a working answer.

Here is the connection wrapper I use: <A HREF="http://pastebin.com/XVY3HNGq.">http://pastebin.com/XVY3HNGq.</A> I use
stormed-amqp which is an async amqp lib for python.

All errors are caught and none are thrown during the process and I'm pretty
sure it doesn't come from an application error (but I can be mistaken of
course :).
On the same server there is a single exchange with 2 queues which each
process hundreds of thousands of messages a day. The first queue (which
works just fine) receives messages,
processes them and publishes them in the second one for further processing.
It's this second queue which stops after a certain amount of messages. I
have tried with one or multiple consumers
but the problem remains.

I have tried consuming messages without ack or with ack and a qos prefetch
count of 100 (as indicated in several responses to this kind of problems).
When I do &quot;rabbitmqctl list_queues name messages_ready
messages_unacknowledged&quot;, I have a lot of ready messages and the &quot;prefetch
count&quot; (100) value of unacknoledged messages when using ack.

I really don't know wha'ts happening!
Thank you for your answers.

Maxime Bouroumeau-Fuseau
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110719/ff446313/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110719/ff446313/attachment.htm</A>&gt;
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013985.html">[rabbitmq-discuss] RabbitMQ Uptime
</A></li>
	<LI>Next message: <A HREF="013987.html">[rabbitmq-discuss] RabbitMQ consumer stops receiving messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13986">[ date ]</a>
              <a href="thread.html#13986">[ thread ]</a>
              <a href="subject.html#13986">[ subject ]</a>
              <a href="author.html#13986">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
