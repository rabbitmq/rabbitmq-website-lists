<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Workaround for basic reject...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Workaround%20for%20basic%20reject...&In-Reply-To=9f4a617f0906070426v6f47c6abg21306b1c7c5e4ead%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003729.html">
   <LINK REL="Next"  HREF="003733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Workaround for basic reject...</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Workaround%20for%20basic%20reject...&In-Reply-To=9f4a617f0906070426v6f47c6abg21306b1c7c5e4ead%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Workaround for basic reject...">matthias at lshift.net
       </A><BR>
    <I>Sun Jun  7 21:03:25 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003729.html">[rabbitmq-discuss] Workaround for basic reject...
</A></li>
        <LI>Next message: <A HREF="003733.html">[rabbitmq-discuss] RabbitMQ stomp-adapter behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3732">[ date ]</a>
              <a href="thread.html#3732">[ thread ]</a>
              <a href="subject.html#3732">[ subject ]</a>
              <a href="author.html#3732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Arun,

Arun Suresh wrote:

&gt;<i> i dont want messages to be requeued until I am sure the consumer has
</I>&gt;<i>  a problem while processing them..
</I>
If the consumer hasn't started processing the messages, why do you care 
if they get requeued and delivered to another consumer (or the same 
consumer when it reconnects)?

If, otoh, the consumer is processing up to n messages in parallel, then 
in the event of an error just wait for the processing of the remaining 
n-1 messages to finish before ack-ing the successfully processed 
messages and closing the channel.

&gt;<i> for the time being.. i have this workaround...
</I>&gt;<i> I have 5 Channels open on the consumer node (each with a prefetch of 1.. 
</I>&gt;<i> ).. so if the consumer has problem with any one message, I need to close 
</I>&gt;<i> just that channel where the message came from... ofcourse, this would 
</I>&gt;<i> mean that the message might get resent to another channel on the same 
</I>&gt;<i> consumer node... but im still debating over whether thats a bad thing 
</I>&gt;<i> within the context of our application...
</I>&gt;<i> 
</I>&gt;<i> do you think, generally speaking, this a good idea ?
</I>
I can't see anything wrong with that approach.

&gt;<i> oh..  and by the way.. does setting prefetch to 1 just the same as not 
</I>&gt;<i> using basic.qos ??
</I>
Without basic.qos there is no prefetch limit, so the server will just 
keep sending messages down the channel whenever it can.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003729.html">[rabbitmq-discuss] Workaround for basic reject...
</A></li>
	<LI>Next message: <A HREF="003733.html">[rabbitmq-discuss] RabbitMQ stomp-adapter behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3732">[ date ]</a>
              <a href="thread.html#3732">[ thread ]</a>
              <a href="subject.html#3732">[ subject ]</a>
              <a href="author.html#3732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
