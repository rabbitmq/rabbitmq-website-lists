<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Clustering Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Clustering%20Question&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003698.html">
   <LINK REL="Next"  HREF="003706.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Clustering Question</H1>
    <B>Hugh Watkins</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Clustering%20Question&In-Reply-To="
       TITLE="[rabbitmq-discuss] Clustering Question">hwwatkins at gmail.com
       </A><BR>
    <I>Fri Jun  5 15:07:57 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003698.html">[rabbitmq-discuss] consuming problems
</A></li>
        <LI>Next message: <A HREF="003706.html">[rabbitmq-discuss] Clustering Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3700">[ date ]</a>
              <a href="thread.html#3700">[ thread ]</a>
              <a href="subject.html#3700">[ subject ]</a>
              <a href="author.html#3700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I was trying to understand how the clustering support works in RabbitMQ

1) From the documentation the message queue data is not clustered, so if you
have queue created on one machine and the queue is not persisted then that
box going down will cause the queued messages to be destroyed. Is this a
correct interpretation?

I have a system that is creating perishable queue messages, i.e. they need
to be acted on in 100-200 ms or it's to late a timeout will occur further up
the chain.  I would like to setup a cluster an protect as many messages as
possible.  It would not be worth creating a persistent queue  because it
would slow down the processing and as I mentioned these are perishable
messages.

It seems like I should create different queues on each machine in the
cluster and try to load balance across those queues, either by having the
producers write too the local queue, round robin or some other mechanism.
 The workers in turn would listen on all queues.  Does this sound
reasonable?  It requires more configuration than I was hoping for because at
least the workers have to be aware on another queue being created if another
node is added.

Thanks,
Hugh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090605/aa8d1698/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090605/aa8d1698/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003698.html">[rabbitmq-discuss] consuming problems
</A></li>
	<LI>Next message: <A HREF="003706.html">[rabbitmq-discuss] Clustering Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3700">[ date ]</a>
              <a href="thread.html#3700">[ thread ]</a>
              <a href="subject.html#3700">[ subject ]</a>
              <a href="author.html#3700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
