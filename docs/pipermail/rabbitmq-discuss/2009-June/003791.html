<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20%20Fwd%3A%20Objective-C%20AMQP%20Library&In-Reply-To=2a8d4a710906092320i7e84556ay80d8bbdbc0c1e4df%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003787.html">
   <LINK REL="Next"  HREF="003792.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library</H1>
    <B>Matt Todd</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20%20Fwd%3A%20Objective-C%20AMQP%20Library&In-Reply-To=2a8d4a710906092320i7e84556ay80d8bbdbc0c1e4df%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library">mtodd at highgroove.com
       </A><BR>
    <I>Wed Jun 10 07:20:38 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003787.html">[rabbitmq-discuss] Erlang cllient libs / new_connection() results in &quot;error on TCP connection &lt;...&gt; from 127.0.0.1
</A></li>
        <LI>Next message: <A HREF="003792.html">[rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3791">[ date ]</a>
              <a href="thread.html#3791">[ thread ]</a>
              <a href="subject.html#3791">[ subject ]</a>
              <a href="author.html#3791">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Chuck,
Wow, great feedback! I will definitely take the opportunity to write a few
of these &quot;spikes&quot;, and recommending the actual Cocoa API as inspiration is
so obvious and elegant it hurts!

1. Great!

2. Standard tools sound great. My target audience is primarily Mac platform
apps, and didn't even think of Windows; partly due to my ignorance to Obj-C
on the Windows platform but also because I just haven't used Windows in
several
years. No offense to the users, but I don't care about that platform.
But, I do care enough about the library to want it to remain as simple
as possible,
which should improve the likelihood that it will work across platforms
(unless I do use the Cocoa framework, I guess).

3. See above, but I will definitely take this into consideration. I want a
library that Obj-C devs would use, not some lofty idea I think is the best
(or a great) approach. I love the evented model, and NSNotification seems to
match the ideas, but Delegation in itself is almost like an evented model.
I'm not married to either, though.

4. Is using SenTest discouraged then?

5. Pardon my misspeaking, I meant to say that I should write all of the
components of AMQP, even those parts that include XML parsing (as opposed to
letting the C library do that for me), using a proper XML parser handle that
for me. I'm certainly that last person that should be chosen for writing an
XML parser! :) Also, great suggestion to use C for the networking reactor.
Perhaps even a library like libev or kqueue can be used to create the
evented model I'm fond of? Though, I am speaking out of my zone of expertise
here.

6. As I said before, probably the best suggestion in your stellar email!

7. I may just end up with hundreds of these little &quot;spikes&quot; figuring all of
this out!

There is an article that I have been reading about writing your own AMQP
library which has been informative, though not entirely illuminating
(regarding implementation details). Any specific reading anyone would
recommend for both AMQP protocol implementation as well as Obj-C in general?

Thanks so much for the great feedback and general guidance!

Matt



On Tue, Jun 9, 2009 at 12:24 PM, Chuck Remes &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">cremes.devlist at mac.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> You're lucky in the sense that Obj-C gives you some of the same dynamism as
</I>&gt;<i> Ruby. You should be able to give it a nice wrapper.
</I>&gt;<i>
</I>&gt;<i> I'm not an Obj-C pro by any stretch but I'll take a crack at answering some
</I>&gt;<i> of your questions.
</I>&gt;<i>
</I>&gt;<i> 1. Obj-C is a C superset, so integration is pretty simple. Just
</I>&gt;<i> #include/#import the headers, make sure the correct files are on your path
</I>&gt;<i> and start compiling stuff.
</I>&gt;<i>
</I>&gt;<i> 2. A few suggestions...
</I>&gt;<i> a. Keep the number of external dependencies low (see #5)
</I>&gt;<i>
</I>&gt;<i> b. Use whatever the current standard is for C-based applications which is
</I>&gt;<i> likely autoconf and make. This gets more complicated if you want your
</I>&gt;<i> library to be usable from Windows too.
</I>&gt;<i>
</I>&gt;<i> 3. NSNotification is a Cocoa API so if you use it then you are tying the
</I>&gt;<i> library to OSX (though NSNotification has probably been cloned by the
</I>&gt;<i> GNUstep project). Use the dynamism allowed in Obj-C and use the Delegation
</I>&gt;<i> pattern. If you are familiar with Cocoa at all, it uses delegation all over
</I>&gt;<i> the place. Copy that idea.
</I>&gt;<i>
</I>&gt;<i> 4. Look at OCUnit which is an Obj-C testing framework similar to the old
</I>&gt;<i> XUnit and JUnit frameworks. Ruby's Test::Unit was patterned after that API
</I>&gt;<i> too so it might be familiar to you.
</I>&gt;<i>
</I>&gt;<i> 5. I highly recommend *against* writing common utilities like XML parsing.
</I>&gt;<i> Someone else has already done the job for you so don't reinvent the wheel.
</I>&gt;<i> Make it a project dependency. For an AMQP library I don't think you'll need
</I>&gt;<i> to do this too often. If you really plan to mimic the Ruby AMQP gem, you'll
</I>&gt;<i> want to  see out an embeddable C network server/library that can act as the
</I>&gt;<i> central network reactor.
</I>&gt;<i>
</I>&gt;<i> 6. The largest body of Obj-C code in the world is in the Apple Cocoa API.
</I>&gt;<i> Copy those patterns. You can't really make a DSL like you would in Ruby
</I>&gt;<i> though.
</I>&gt;<i>
</I>&gt;<i> 7. Why not? You might want to write a few &quot;spikes&quot; (small programs that
</I>&gt;<i> prove an idea out... kind of like what you do in irb).
</I>&gt;<i>
</I>&gt;<i> Good luck!
</I>&gt;<i>
</I>&gt;<i> cr
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Jun 9, 2009, at 12:19 AM, Matt Todd wrote:
</I>&gt;<i>
</I>&gt;<i> As a new Objective-C developer (just fiddling around with it), I've been
</I>&gt;<i> thinking of a project to get my hands dirty with. I've been using RabbitMQ
</I>&gt;<i> for some time in my Ruby projects and really enjoy using it, and the AMQP
</I>&gt;<i> protocol should be fairly simple to grok and work with.
</I>&gt;<i> Because of this, I'm currently looking to start building an Objective-C
</I>&gt;<i> based client library as a pet project to get me actually working in the
</I>&gt;<i> language.
</I>&gt;<i>
</I>&gt;<i> I'm thinking of using the experimental C language client code to power the
</I>&gt;<i> functionality and giving it a nice Obj-C DSL and handling everything through
</I>&gt;<i> a NSNotificationCenter to create an evented interface (similar to the
</I>&gt;<i> EventMachine Ruby AMQP library I'm used to working with). This is the goal
</I>&gt;<i> for now, anyhow.
</I>&gt;<i>
</I>&gt;<i> Being still very new to the language, and certainly being unfamiliar with
</I>&gt;<i> the idiosyncrasies of developing libraries for Obj-C, I'm looking for input,
</I>&gt;<i> support, and contributions for this endeavor from experts and enthusiasts
</I>&gt;<i> with strong opinions and/or time.
</I>&gt;<i>
</I>&gt;<i> Let me stress my lack of exposure to Obj-C (nor have I done anything
</I>&gt;<i> significant in C/C++ or any strongly typed, compiled language in quite some
</I>&gt;<i> time). This means I'm currently asking the following questions (as noob as
</I>&gt;<i> they may be):
</I>&gt;<i>
</I>&gt;<i> 1. How do I integrate the C library into this Obj-C library?
</I>&gt;<i> 2. How do I write a distributable, clean Obj-C library?
</I>&gt;<i> 3. Is an NSNotificationCenter-based implementation a good approach for an
</I>&gt;<i> evented AMQP library?
</I>&gt;<i> 4. How do I mock objects in Obj-C (to not require an instance of RabbitMQ
</I>&gt;<i> to be running for tests)?
</I>&gt;<i> 5. Should I just write this from scratch, including XML parsing et al?
</I>&gt;<i> 6. What does a good Obj-C DSL look like?
</I>&gt;<i> 7. Why would I start with a significant library to get familiar with the
</I>&gt;<i> language?
</I>&gt;<i>
</I>&gt;<i> Fair warning, I'm a Ruby developer, mainly building web applications in
</I>&gt;<i> Rails.
</I>&gt;<i>
</I>&gt;<i> Looking forward to hearing from you, and hope to get something worthwhile
</I>&gt;<i> out of this.
</I>&gt;<i>
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Matt Todd
</I>&gt;<i> Highgroove Studios
</I>&gt;<i> www.highgroove.com
</I>&gt;<i> cell: 404-314-2612
</I>&gt;<i> blog: maraby.org
</I>&gt;<i>
</I>&gt;<i> Scout - Web Monitoring and Reporting Software
</I>&gt;<i> www.scoutapp.com
</I>&gt;<i>  _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Matt Todd
Highgroove Studios
www.highgroove.com
cell: 404-314-2612
blog: maraby.org

Scout - Web Monitoring and Reporting Software
www.scoutapp.com



-- 
Matt Todd
Highgroove Studios
www.highgroove.com
cell: 404-314-2612
blog: maraby.org

Scout - Web Monitoring and Reporting Software
www.scoutapp.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090610/604edefc/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090610/604edefc/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003787.html">[rabbitmq-discuss] Erlang cllient libs / new_connection() results in &quot;error on TCP connection &lt;...&gt; from 127.0.0.1
</A></li>
	<LI>Next message: <A HREF="003792.html">[rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3791">[ date ]</a>
              <a href="thread.html#3791">[ thread ]</a>
              <a href="subject.html#3791">[ subject ]</a>
              <a href="author.html#3791">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
