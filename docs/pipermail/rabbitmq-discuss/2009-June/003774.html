<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ stomp-adapter behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20stomp-adapter%20behaviour&In-Reply-To=4A2DEE7D.3030409%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003762.html">
   <LINK REL="Next"  HREF="003795.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ stomp-adapter behaviour</H1>
    <B>Gavin M. Roy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20stomp-adapter%20behaviour&In-Reply-To=4A2DEE7D.3030409%40lshift.net"
       TITLE="[rabbitmq-discuss] RabbitMQ stomp-adapter behaviour">gmr at myyearbook.com
       </A><BR>
    <I>Tue Jun  9 16:06:14 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003762.html">[rabbitmq-discuss] RabbitMQ stomp-adapter behaviour
</A></li>
        <LI>Next message: <A HREF="003795.html">[rabbitmq-discuss] RabbitMQ stomp-adapter behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3774">[ date ]</a>
              <a href="thread.html#3774">[ thread ]</a>
              <a href="subject.html#3774">[ subject ]</a>
              <a href="author.html#3774">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jun 9, 2009 at 1:09 AM, Matthias Radestock &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at lshift.net</A>&gt;wrote:

Please take this in context in that I am migrating a large scale ActiveMQ
install using STOMP to RabbitMQ and am looking to mirror default behaviors.
 That being said, I've changing the default behaviors in the stomp connector
when I download it so that I get the behaviors I need by default.

The default behaviour of the current implementation of the RabbitMQ
&gt;<i> STOMP adapter
</I>&gt;<i>
</I>&gt;<i> 1) routes messages to one consumer (round-robin) - this can be changed
</I>&gt;<i> to 'all' by specifying appropriate 'exchange' and 'routing_key' headers
</I>

+1 This is good.

2) does not queue messages when there are no subscribers - this can be
&gt;<i> changed by specifying an 'auto-delete = false' header (though that does
</I>&gt;<i> require at least one SUBSCRIBE to start with)
</I>

I change this auto-delete = false in the code before compilation to mirror
ActiveMQ behavior.

 3) sends only one copy of a message to a client in the event the client

&gt;<i> has more than one subscription for the same destination - this can be
</I>&gt;<i> changed by specifying  appropriate 'exchange' and 'routing_key' headers
</I>

+1 This makes sense.


&gt;<i> Should the default behaviour be different? And why?
</I>

The only other oddity is the durable consumer.  Coming from an ActiveMQ
world, this is more of a server side setting than a header packet setting.

For what it's worth is the biggest issue I had to overcome (other than the
client issues) was the concept that one has to subscribe to a queue in order
to set the default behavior for it.  Our workflow has apps enqueueing all
over the place and a limited set of consumers that can be restarted or down
for small periods of time.  The natural flow for us is to start enqueueing
then add consumers that subscribe, not the other way around.  If the queue
behavior can be set when messages are sent, it would make things easier to
grok.  Even more ideal would be to set defaults by exchange, but that
probably is more work than is reasonably obtained, compared to just changing
defaults.

Regards,

Gavin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090609/7d53ce76/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090609/7d53ce76/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003762.html">[rabbitmq-discuss] RabbitMQ stomp-adapter behaviour
</A></li>
	<LI>Next message: <A HREF="003795.html">[rabbitmq-discuss] RabbitMQ stomp-adapter behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3774">[ date ]</a>
              <a href="thread.html#3774">[ thread ]</a>
              <a href="subject.html#3774">[ subject ]</a>
              <a href="author.html#3774">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
