<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq memory grows with queue size
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20memory%20grows%20with%20queue%20size&In-Reply-To=8F8CDBF5-799D-4586-BCC0-CAD4628A0678%40mac.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003819.html">
   <LINK REL="Next"  HREF="003824.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq memory grows with queue size</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20memory%20grows%20with%20queue%20size&In-Reply-To=8F8CDBF5-799D-4586-BCC0-CAD4628A0678%40mac.com"
       TITLE="[rabbitmq-discuss] rabbitmq memory grows with queue size">alexis.richardson at gmail.com
       </A><BR>
    <I>Mon Jun 15 11:11:51 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003819.html">[rabbitmq-discuss] rabbitmq memory grows with queue size
</A></li>
        <LI>Next message: <A HREF="003824.html">[rabbitmq-discuss] rabbitmq memory grows with queue size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3823">[ date ]</a>
              <a href="thread.html#3823">[ thread ]</a>
              <a href="subject.html#3823">[ subject ]</a>
              <a href="author.html#3823">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Chuck - that's correct :-)

Jack, all,

The &quot;page to disk&quot; feature is now getting into QA and should be
visible on a branch on the repo.  If you would like to help us QA this
please speak out.  Matthias, as per usual, is in charge of getting
this feature into a releasable state.

The new feature enables messages that are persisted to exist on disk
and not in memory.  Previously persisted data would remain in memory
as well as being written to disk.

More generally, you can still drain queues into any store
programmatically, in the meantime.

alexis



On Thu, Jun 11, 2009 at 11:46 PM, Chuck Remes&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">cremes.devlist at mac.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Jun 11, 2009, at 5:29 PM, Jack Moffitt wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Perhaps I missed a config option, but I am running out of memory on
</I>&gt;&gt;<i> the machines running rabbitmq-server.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have two queues and two fanout exchanges (each queue is bound to one
</I>&gt;&gt;<i> of the exchanges). &#160; As the queue size grows so does memory use, even
</I>&gt;&gt;<i> though both queues are durable. and the messages persistent. &#160;Does
</I>&gt;&gt;<i> rabbitmq require everything in memory as well even for persistent
</I>&gt;&gt;<i> queues?
</I>&gt;<i>
</I>&gt;<i> Regardless of queue type or settings, RabbitMQ stores all messages in
</I>&gt;<i> memory. There is work on a new &quot;persister&quot; ongoing in one of the
</I>&gt;<i> development branches to resolve this limitation. As far as I know
</I>&gt;<i> there hasn't been any date set for its release, but it should be
</I>&gt;<i> sometime this year.
</I>&gt;<i>
</I>&gt;<i> cr
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003819.html">[rabbitmq-discuss] rabbitmq memory grows with queue size
</A></li>
	<LI>Next message: <A HREF="003824.html">[rabbitmq-discuss] rabbitmq memory grows with queue size
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3823">[ date ]</a>
              <a href="thread.html#3823">[ thread ]</a>
              <a href="subject.html#3823">[ subject ]</a>
              <a href="author.html#3823">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
