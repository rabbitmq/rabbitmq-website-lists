<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd:  Objective-C AMQP Library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20%20Objective-C%20AMQP%20Library&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003773.html">
   <LINK REL="Next"  HREF="003777.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd:  Objective-C AMQP Library</H1>
    <B>Chuck Remes</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20%20Objective-C%20AMQP%20Library&In-Reply-To="
       TITLE="[rabbitmq-discuss] Fwd:  Objective-C AMQP Library">cremes.devlist at mac.com
       </A><BR>
    <I>Tue Jun  9 17:24:26 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003773.html">[rabbitmq-discuss] Erlang RabbitMQ Client hanshake problem on &quot;State = Driver:handshake(InitialState), &quot;
</A></li>
        <LI>Next message: <A HREF="003777.html">[rabbitmq-discuss] FW: Re: Erlang RabbitMQ Client hanshake problem	on &quot;State = Driver:handshake(InitialState), &quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3776">[ date ]</a>
              <a href="thread.html#3776">[ thread ]</a>
              <a href="subject.html#3776">[ subject ]</a>
              <a href="author.html#3776">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
You're lucky in the sense that Obj-C gives you some of the same  
dynamism as Ruby. You should be able to give it a nice wrapper.

I'm not an Obj-C pro by any stretch but I'll take a crack at answering  
some of your questions.

1. Obj-C is a C superset, so integration is pretty simple. Just  
#include/#import the headers, make sure the correct files are on your  
path and start compiling stuff.

2. A few suggestions...
a. Keep the number of external dependencies low (see #5)

b. Use whatever the current standard is for C-based applications which  
is likely autoconf and make. This gets more complicated if you want  
your library to be usable from Windows too.

3. NSNotification is a Cocoa API so if you use it then you are tying  
the library to OSX (though NSNotification has probably been cloned by  
the GNUstep project). Use the dynamism allowed in Obj-C and use the  
Delegation pattern. If you are familiar with Cocoa at all, it uses  
delegation all over the place. Copy that idea.

4. Look at OCUnit which is an Obj-C testing framework similar to the  
old XUnit and JUnit frameworks. Ruby's Test::Unit was patterned after  
that API too so it might be familiar to you.

5. I highly recommend *against* writing common utilities like XML  
parsing. Someone else has already done the job for you so don't  
reinvent the wheel. Make it a project dependency. For an AMQP library  
I don't think you'll need to do this too often. If you really plan to  
mimic the Ruby AMQP gem, you'll want to  see out an embeddable C  
network server/library that can act as the central network reactor.

6. The largest body of Obj-C code in the world is in the Apple Cocoa  
API. Copy those patterns. You can't really make a DSL like you would  
in Ruby though.

7. Why not? You might want to write a few &quot;spikes&quot; (small programs  
that prove an idea out... kind of like what you do in irb).

Good luck!

cr


On Jun 9, 2009, at 12:19 AM, Matt Todd wrote:

&gt;<i> As a new Objective-C developer (just fiddling around with it), I've  
</I>&gt;<i> been thinking of a project to get my hands dirty with. I've been  
</I>&gt;<i> using RabbitMQ for some time in my Ruby projects and really enjoy  
</I>&gt;<i> using it, and the AMQP protocol should be fairly simple to grok and  
</I>&gt;<i> work with.
</I>&gt;<i>
</I>&gt;<i> Because of this, I'm currently looking to start building an  
</I>&gt;<i> Objective-C based client library as a pet project to get me actually  
</I>&gt;<i> working in the language.
</I>&gt;<i>
</I>&gt;<i> I'm thinking of using the experimental C language client code to  
</I>&gt;<i> power the functionality and giving it a nice Obj-C DSL and handling  
</I>&gt;<i> everything through a NSNotificationCenter to create an evented  
</I>&gt;<i> interface (similar to the EventMachine Ruby AMQP library I'm used to  
</I>&gt;<i> working with). This is the goal for now, anyhow.
</I>&gt;<i>
</I>&gt;<i> Being still very new to the language, and certainly being unfamiliar  
</I>&gt;<i> with the idiosyncrasies of developing libraries for Obj-C, I'm  
</I>&gt;<i> looking for input, support, and contributions for this endeavor from  
</I>&gt;<i> experts and enthusiasts with strong opinions and/or time.
</I>&gt;<i>
</I>&gt;<i> Let me stress my lack of exposure to Obj-C (nor have I done anything  
</I>&gt;<i> significant in C/C++ or any strongly typed, compiled language in  
</I>&gt;<i> quite some time). This means I'm currently asking the following  
</I>&gt;<i> questions (as noob as they may be):
</I>&gt;<i>
</I>&gt;<i> 1. How do I integrate the C library into this Obj-C library?
</I>&gt;<i> 2. How do I write a distributable, clean Obj-C library?
</I>&gt;<i> 3. Is an NSNotificationCenter-based implementation a good approach  
</I>&gt;<i> for an evented AMQP library?
</I>&gt;<i> 4. How do I mock objects in Obj-C (to not require an instance of  
</I>&gt;<i> RabbitMQ to be running for tests)?
</I>&gt;<i> 5. Should I just write this from scratch, including XML parsing et al?
</I>&gt;<i> 6. What does a good Obj-C DSL look like?
</I>&gt;<i> 7. Why would I start with a significant library to get familiar with  
</I>&gt;<i> the language?
</I>&gt;<i>
</I>&gt;<i> Fair warning, I'm a Ruby developer, mainly building web applications  
</I>&gt;<i> in Rails.
</I>&gt;<i>
</I>&gt;<i> Looking forward to hearing from you, and hope to get something  
</I>&gt;<i> worthwhile out of this.
</I>&gt;<i>
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Matt Todd
</I>&gt;<i> Highgroove Studios
</I>&gt;<i> www.highgroove.com
</I>&gt;<i> cell: 404-314-2612
</I>&gt;<i> blog: maraby.org
</I>&gt;<i>
</I>&gt;<i> Scout - Web Monitoring and Reporting Software
</I>&gt;<i> www.scoutapp.com
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090609/47ef30a9/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090609/47ef30a9/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003773.html">[rabbitmq-discuss] Erlang RabbitMQ Client hanshake problem on &quot;State = Driver:handshake(InitialState), &quot;
</A></li>
	<LI>Next message: <A HREF="003777.html">[rabbitmq-discuss] FW: Re: Erlang RabbitMQ Client hanshake problem	on &quot;State = Driver:handshake(InitialState), &quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3776">[ date ]</a>
              <a href="thread.html#3776">[ thread ]</a>
              <a href="subject.html#3776">[ subject ]</a>
              <a href="author.html#3776">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
