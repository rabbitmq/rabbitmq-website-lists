<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20%20Fwd%3A%20Objective-C%20AMQP%20Library&In-Reply-To=2a8d4a710906092320w557861bbj50bdf10d1f5fc05e%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003791.html">
   <LINK REL="Next"  HREF="003796.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library</H1>
    <B>Chuck Remes</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20%20Fwd%3A%20Objective-C%20AMQP%20Library&In-Reply-To=2a8d4a710906092320w557861bbj50bdf10d1f5fc05e%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library">cremes.devlist at mac.com
       </A><BR>
    <I>Wed Jun 10 12:30:39 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003791.html">[rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library
</A></li>
        <LI>Next message: <A HREF="003796.html">[rabbitmq-discuss] RabbitMQ .NET Client sometimes hangs up
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3792">[ date ]</a>
              <a href="thread.html#3792">[ thread ]</a>
              <a href="subject.html#3792">[ subject ]</a>
              <a href="author.html#3792">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You're welcome!

4. I don't know anything about SenTest. It might be good; it might be  
bad. &lt;shrug&gt;

5. I was thinking along the lines of libev but someone may have  
already wrapped it in a nice little C API for creating embeddable  
servers. There are lots of projects out there so search around. Good  
places to start looking are github and sourceforge. It's kind of  
outside my zone of expertise too. I primarily write ruby stuff and  
when I need speed I dip into Java now instead of C.

As for general guidance, I would look at the available libraries for  
the various AMQP implementations from Apache, Rabbit, etc. Read  
through the protocol definition for 0-8 and 0-9-1 to get familiar with  
the protocol requirements. Make sure that whatever you create is *not*  
tied to a particular AMQP implementation. One of the best reasons for  
using AMQP is the stated goal of all vendors for perfect  
interoperability. It is achievable so make sure your library doesn't  
undermine that goal.

Have fun...

cr

On Jun 10, 2009, at 1:20 AM, Matt Todd wrote:

&gt;<i> Hi Chuck,
</I>&gt;<i>
</I>&gt;<i> Wow, great feedback! I will definitely take the opportunity to write  
</I>&gt;<i> a few of these &quot;spikes&quot;, and recommending the actual Cocoa API as  
</I>&gt;<i> inspiration is so obvious and elegant it hurts!
</I>&gt;<i>
</I>&gt;<i> 1. Great!
</I>&gt;<i>
</I>&gt;<i> 2. Standard tools sound great. My target audience is primarily Mac  
</I>&gt;<i> platform apps, and didn't even think of Windows; partly due to my  
</I>&gt;<i> ignorance to Obj-C on the Windows platform but also because I just  
</I>&gt;<i> haven't used Windows in several years. No offense to the users, but  
</I>&gt;<i> I don't care about that platform. But, I do care enough about the  
</I>&gt;<i> library to want it to remain as simple as possible, which should  
</I>&gt;<i> improve the likelihood that it will work across platforms (unless I  
</I>&gt;<i> do use the Cocoa framework, I guess).
</I>&gt;<i>
</I>&gt;<i> 3. See above, but I will definitely take this into consideration. I  
</I>&gt;<i> want a library that Obj-C devs would use, not some lofty idea I  
</I>&gt;<i> think is the best (or a great) approach. I love the evented model,  
</I>&gt;<i> and NSNotification seems to match the ideas, but Delegation in  
</I>&gt;<i> itself is almost like an evented model. I'm not married to either,  
</I>&gt;<i> though.
</I>&gt;<i>
</I>&gt;<i> 4. Is using SenTest discouraged then?
</I>&gt;<i>
</I>&gt;<i> 5. Pardon my misspeaking, I meant to say that I should write all of  
</I>&gt;<i> the components of AMQP, even those parts that include XML parsing  
</I>&gt;<i> (as opposed to letting the C library do that for me), using a proper  
</I>&gt;<i> XML parser handle that for me. I'm certainly that last person that  
</I>&gt;<i> should be chosen for writing an XML parser! :) Also, great  
</I>&gt;<i> suggestion to use C for the networking reactor. Perhaps even a  
</I>&gt;<i> library like libev or kqueue can be used to create the evented model  
</I>&gt;<i> I'm fond of? Though, I am speaking out of my zone of expertise here.
</I>&gt;<i>
</I>&gt;<i> 6. As I said before, probably the best suggestion in your stellar  
</I>&gt;<i> email!
</I>&gt;<i>
</I>&gt;<i> 7. I may just end up with hundreds of these little &quot;spikes&quot; figuring  
</I>&gt;<i> all of this out!
</I>&gt;<i>
</I>&gt;<i> There is an article that I have been reading about writing your own  
</I>&gt;<i> AMQP library which has been informative, though not entirely  
</I>&gt;<i> illuminating (regarding implementation details). Any specific  
</I>&gt;<i> reading anyone would recommend for both AMQP protocol implementation  
</I>&gt;<i> as well as Obj-C in general?
</I>&gt;<i>
</I>&gt;<i> Thanks so much for the great feedback and general guidance!
</I>&gt;<i>
</I>&gt;<i> Matt
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Tue, Jun 9, 2009 at 12:24 PM, Chuck Remes  
</I>&gt;<i> &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">cremes.devlist at mac.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> You're lucky in the sense that Obj-C gives you some of the same  
</I>&gt;<i> dynamism as Ruby. You should be able to give it a nice wrapper.
</I>&gt;<i>
</I>&gt;<i> I'm not an Obj-C pro by any stretch but I'll take a crack at  
</I>&gt;<i> answering some of your questions.
</I>&gt;<i>
</I>&gt;<i> 1. Obj-C is a C superset, so integration is pretty simple. Just  
</I>&gt;<i> #include/#import the headers, make sure the correct files are on  
</I>&gt;<i> your path and start compiling stuff.
</I>&gt;<i>
</I>&gt;<i> 2. A few suggestions...
</I>&gt;<i> a. Keep the number of external dependencies low (see #5)
</I>&gt;<i>
</I>&gt;<i> b. Use whatever the current standard is for C-based applications  
</I>&gt;<i> which is likely autoconf and make. This gets more complicated if you  
</I>&gt;<i> want your library to be usable from Windows too.
</I>&gt;<i>
</I>&gt;<i> 3. NSNotification is a Cocoa API so if you use it then you are tying  
</I>&gt;<i> the library to OSX (though NSNotification has probably been cloned  
</I>&gt;<i> by the GNUstep project). Use the dynamism allowed in Obj-C and use  
</I>&gt;<i> the Delegation pattern. If you are familiar with Cocoa at all, it  
</I>&gt;<i> uses delegation all over the place. Copy that idea.
</I>&gt;<i>
</I>&gt;<i> 4. Look at OCUnit which is an Obj-C testing framework similar to the  
</I>&gt;<i> old XUnit and JUnit frameworks. Ruby's Test::Unit was patterned  
</I>&gt;<i> after that API too so it might be familiar to you.
</I>&gt;<i>
</I>&gt;<i> 5. I highly recommend *against* writing common utilities like XML  
</I>&gt;<i> parsing. Someone else has already done the job for you so don't  
</I>&gt;<i> reinvent the wheel. Make it a project dependency. For an AMQP  
</I>&gt;<i> library I don't think you'll need to do this too often. If you  
</I>&gt;<i> really plan to mimic the Ruby AMQP gem, you'll want to  see out an  
</I>&gt;<i> embeddable C network server/library that can act as the central  
</I>&gt;<i> network reactor.
</I>&gt;<i>
</I>&gt;<i> 6. The largest body of Obj-C code in the world is in the Apple Cocoa  
</I>&gt;<i> API. Copy those patterns. You can't really make a DSL like you would  
</I>&gt;<i> in Ruby though.
</I>&gt;<i>
</I>&gt;<i> 7. Why not? You might want to write a few &quot;spikes&quot; (small programs  
</I>&gt;<i> that prove an idea out... kind of like what you do in irb).
</I>&gt;<i>
</I>&gt;<i> Good luck!
</I>&gt;<i>
</I>&gt;<i> cr
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Jun 9, 2009, at 12:19 AM, Matt Todd wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> As a new Objective-C developer (just fiddling around with it), I've  
</I>&gt;&gt;<i> been thinking of a project to get my hands dirty with. I've been  
</I>&gt;&gt;<i> using RabbitMQ for some time in my Ruby projects and really enjoy  
</I>&gt;&gt;<i> using it, and the AMQP protocol should be fairly simple to grok and  
</I>&gt;&gt;<i> work with.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Because of this, I'm currently looking to start building an  
</I>&gt;&gt;<i> Objective-C based client library as a pet project to get me  
</I>&gt;&gt;<i> actually working in the language.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm thinking of using the experimental C language client code to  
</I>&gt;&gt;<i> power the functionality and giving it a nice Obj-C DSL and handling  
</I>&gt;&gt;<i> everything through a NSNotificationCenter to create an evented  
</I>&gt;&gt;<i> interface (similar to the EventMachine Ruby AMQP library I'm used  
</I>&gt;&gt;<i> to working with). This is the goal for now, anyhow.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Being still very new to the language, and certainly being  
</I>&gt;&gt;<i> unfamiliar with the idiosyncrasies of developing libraries for Obj- 
</I>&gt;&gt;<i> C, I'm looking for input, support, and contributions for this  
</I>&gt;&gt;<i> endeavor from experts and enthusiasts with strong opinions and/or  
</I>&gt;&gt;<i> time.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Let me stress my lack of exposure to Obj-C (nor have I done  
</I>&gt;&gt;<i> anything significant in C/C++ or any strongly typed, compiled  
</I>&gt;&gt;<i> language in quite some time). This means I'm currently asking the  
</I>&gt;&gt;<i> following questions (as noob as they may be):
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1. How do I integrate the C library into this Obj-C library?
</I>&gt;&gt;<i> 2. How do I write a distributable, clean Obj-C library?
</I>&gt;&gt;<i> 3. Is an NSNotificationCenter-based implementation a good approach  
</I>&gt;&gt;<i> for an evented AMQP library?
</I>&gt;&gt;<i> 4. How do I mock objects in Obj-C (to not require an instance of  
</I>&gt;&gt;<i> RabbitMQ to be running for tests)?
</I>&gt;&gt;<i> 5. Should I just write this from scratch, including XML parsing et  
</I>&gt;&gt;<i> al?
</I>&gt;&gt;<i> 6. What does a good Obj-C DSL look like?
</I>&gt;&gt;<i> 7. Why would I start with a significant library to get familiar  
</I>&gt;&gt;<i> with the language?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Fair warning, I'm a Ruby developer, mainly building web  
</I>&gt;&gt;<i> applications in Rails.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Looking forward to hearing from you, and hope to get something  
</I>&gt;&gt;<i> worthwhile out of this.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Matt
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -- 
</I>&gt;&gt;<i> Matt Todd
</I>&gt;&gt;<i> Highgroove Studios
</I>&gt;&gt;<i> www.highgroove.com
</I>&gt;&gt;<i> cell: 404-314-2612
</I>&gt;&gt;<i> blog: maraby.org
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Scout - Web Monitoring and Reporting Software
</I>&gt;&gt;<i> www.scoutapp.com
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Matt Todd
</I>&gt;<i> Highgroove Studios
</I>&gt;<i> www.highgroove.com
</I>&gt;<i> cell: 404-314-2612
</I>&gt;<i> blog: maraby.org
</I>&gt;<i>
</I>&gt;<i> Scout - Web Monitoring and Reporting Software
</I>&gt;<i> www.scoutapp.com
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> Matt Todd
</I>&gt;<i> Highgroove Studios
</I>&gt;<i> www.highgroove.com
</I>&gt;<i> cell: 404-314-2612
</I>&gt;<i> blog: maraby.org
</I>&gt;<i>
</I>&gt;<i> Scout - Web Monitoring and Reporting Software
</I>&gt;<i> www.scoutapp.com
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090610/23510ace/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090610/23510ace/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003791.html">[rabbitmq-discuss] Fwd:  Fwd: Objective-C AMQP Library
</A></li>
	<LI>Next message: <A HREF="003796.html">[rabbitmq-discuss] RabbitMQ .NET Client sometimes hangs up
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3792">[ date ]</a>
              <a href="thread.html#3792">[ thread ]</a>
              <a href="subject.html#3792">[ subject ]</a>
              <a href="author.html#3792">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
