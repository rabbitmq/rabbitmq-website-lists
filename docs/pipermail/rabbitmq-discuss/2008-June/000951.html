<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq dying
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20dying&In-Reply-To=OF7C430660.CF218949-ON8025746D.003716E3-8025746D.00378BB9%40Edftrading.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000950.html">
   <LINK REL="Next"  HREF="000959.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq dying</H1>
    <B>David.Corcoran at edftrading.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20dying&In-Reply-To=OF7C430660.CF218949-ON8025746D.003716E3-8025746D.00378BB9%40Edftrading.com"
       TITLE="[rabbitmq-discuss] rabbitmq dying">David.Corcoran at edftrading.com
       </A><BR>
    <I>Thu Jun 19 11:23:22 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000950.html">[rabbitmq-discuss] rabbitmq dying
</A></li>
        <LI>Next message: <A HREF="000959.html">[rabbitmq-discuss] rabbitmq dying
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#951">[ date ]</a>
              <a href="thread.html#951">[ thread ]</a>
              <a href="subject.html#951">[ subject ]</a>
              <a href="author.html#951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>RabbitMQ eventually crashed.

The following line is the last log entry (from startup.err):
eheap_alloc: Cannot allocate 1271244 bytes of memory (of type &quot;heap&quot;).

/usr/sbin/rabbitmq-server: line 74: 32733 Aborted                 erl -pa
$(dirname $0)/../ebin ${START_RABBIT} -sname ${NODENAME} -boot start_sasl
+W w ${ERL_ARGS} -rabbit tcp_listeners '[{&quot;'${NODE_IP_ADDRESS}'&quot;,
'${NODE_PORT}'}]' -sasl errlog_type error -kernel error_logger
'{file,&quot;'${LOGS}'&quot;}' -sasl sasl_error_logger '{file,&quot;'${SASL_LOGS}'&quot;}'
-os_mon start_cpu_sup true -os_mon start_disksup false -os_mon start_memsup
false -os_mon start_os_sup false -mnesia dir &quot;\&quot;${MNESIA_DIR}\&quot;&quot;
${CLUSTER_CONFIG} ${RABBIT_ARGS} &quot;$@&quot;

So I guess it finally ran out of memory.

<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> wrote on 19/06/2008 11:06:43:

&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &quot;Ben Hood&quot; &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">0x6e6562 at gmail.com</A>&gt; wrote on 19/06/2008 10:58:02:
</I>&gt;<i>
</I>&gt;<i> &gt; David,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can I assume now that you can use the lightweight client to perform
</I>&gt;<i> &gt; the queue creation/delete?
</I>&gt;<i>
</I>&gt;<i> Yes. And actually everyone was able to reconnect after waiting a minute
</I>or
&gt;<i> two.
</I>&gt;<i>
</I>&gt;<i> However the error is happening again though. The exception is
</I>&gt;<i> ShutdownSignalException.  And now my lightweight client can't connect
</I>&gt;<i> again. It may start working again in a few minutes like last time.
</I>&gt;<i>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Can I also ask some questions about how the Java client is running:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; - What is the network connection to the broker like?
</I>&gt;<i> Gigabit LAN.
</I>&gt;<i>
</I>&gt;<i> &gt; - Have you tried setting a higher heartbeat in the client (the default
</I>&gt;<i> &gt; is 3 seconds)?
</I>&gt;<i> No, but I can't connect at all at the moment.
</I>&gt;<i>
</I>&gt;<i> &gt; - What OS are the clients running (this is a long shot because it
</I>&gt;<i> &gt; shouldn't matter, but we do know of a *bug* in the .NET Socket API in
</I>&gt;<i> &gt; this regard)?
</I>&gt;<i> Ubuntu 64 and Rhel5 running on java OpenJDK 6.
</I>&gt;<i>
</I>&gt;<i> &gt; Depends what *normal* is :-)
</I>&gt;<i> :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> *********************************************************************
</I>&gt;<i> This communication contains confidential information, some or all of
</I>&gt;<i> which may be privileged. It is for the intended recipient only and
</I>&gt;<i> others must not disclose, distribute, copy, print or rely on this
</I>&gt;<i> communication. If an addressing or transmission error has
</I>&gt;<i> misdirected this communication, please notify the sender by replying
</I>&gt;<i> to this e-mail and then delete the e-mail. E-mail sent to EDF
</I>&gt;<i> Trading may be monitored by the company. Thank you.
</I>&gt;<i> EDF Trading Limited
</I>&gt;<i> 80 Victoria Street, 3rd Floor, Cardinal Place, London, SW1E 5JL
</I>&gt;<i> A Company registered in England No. 4255974.
</I>&gt;<i> Switchboard: 020 7061 4000
</I>&gt;<i> EDF Trading Markets Limited is a member of the EDF Trading Limited
</I>&gt;<i> Group and is authorised and regulated by the Financial Services
</I>Authority.
&gt;<i> VAT number: GB 735 5479 07
</I>&gt;<i> *********************************************************************
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>

*********************************************************************
This communication contains confidential information, some or all of which may be privileged. It is for the intended recipient only and others must not disclose, distribute, copy, print or rely on this communication. If an addressing or transmission error has misdirected this communication, please notify the sender by replying to this e-mail and then delete the e-mail. E-mail sent to EDF Trading may be monitored by the company. Thank you. 
EDF Trading Limited
80 Victoria Street, 3rd Floor, Cardinal Place, London, SW1E 5JL
A Company registered in England No. 4255974. 
Switchboard: 020 7061 4000
EDF Trading Markets Limited is a member of the EDF Trading Limited Group and is authorised and regulated by the Financial Services Authority.
VAT number: GB 735 5479 07
*********************************************************************


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000950.html">[rabbitmq-discuss] rabbitmq dying
</A></li>
	<LI>Next message: <A HREF="000959.html">[rabbitmq-discuss] rabbitmq dying
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#951">[ date ]</a>
              <a href="thread.html#951">[ thread ]</a>
              <a href="subject.html#951">[ subject ]</a>
              <a href="author.html#951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
