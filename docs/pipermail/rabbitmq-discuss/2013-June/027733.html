<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ read performance does not grow when we add more subscribers?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20read%20performance%20does%20not%20grow%20when%20we%0A%20add%20more%20subscribers%3F&In-Reply-To=%3C7481994a-b15a-4d98-b982-0b60f9ad3fed%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027736.html">
   <LINK REL="Next"  HREF="027738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ read performance does not grow when we add more subscribers?</H1>
    <B>Joost Reuzel</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20read%20performance%20does%20not%20grow%20when%20we%0A%20add%20more%20subscribers%3F&In-Reply-To=%3C7481994a-b15a-4d98-b982-0b60f9ad3fed%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ read performance does not grow when we add more subscribers?">joost.reuzel at gmail.com
       </A><BR>
    <I>Thu Jun  6 13:30:57 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027736.html">[rabbitmq-discuss] rabbitmq-server fails to start BOOT ERROR: FAILED
</A></li>
        <LI>Next message: <A HREF="027738.html">[rabbitmq-discuss] RabbitMQ read performance does not grow when we add more subscribers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27733">[ date ]</a>
              <a href="thread.html#27733">[ thread ]</a>
              <a href="subject.html#27733">[ subject ]</a>
              <a href="author.html#27733">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

We have been experimenting with RabbitMQ. During those experiments we have 
seen some strange behavior with respect to a worker queue.

One of the observations is that the read performance of a queue does not 
change when we add or remove processes that read from that queue. For 
example: when a single process handles messages at a rate of 800 msg/sec. 
Adding a second (similar) process has the result of both processes handling 
messages at a rate of 400 msg/sec each, with again 800 msg/sec as total. 
When we shutdown one of the processes, the msg rate of the other process 
increases to (you guessed) 800 msg/sec.

This is not what we expected. Why does the throughput not double when we 
add a second reader to a queue?

We are using the RabbitMQ .NET client (in combination with EasyNetQ 
Advanced API). We have the publisher confirms switched on, use a 
prefetch_count (Qos) of 50, Ack messages when they have been processed, and 
use durable exchanges, queues and messages.

We must be doing something wrong, any pointer in the right direction is 
very welcome...
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130606/6125a944/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130606/6125a944/attachment.htm</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027736.html">[rabbitmq-discuss] rabbitmq-server fails to start BOOT ERROR: FAILED
</A></li>
	<LI>Next message: <A HREF="027738.html">[rabbitmq-discuss] RabbitMQ read performance does not grow when we add more subscribers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27733">[ date ]</a>
              <a href="thread.html#27733">[ thread ]</a>
              <a href="subject.html#27733">[ subject ]</a>
              <a href="author.html#27733">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
