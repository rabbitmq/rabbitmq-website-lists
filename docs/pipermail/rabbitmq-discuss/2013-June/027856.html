<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Growing Memory Use and Queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Growing%20Memory%20Use%20and%20Queues&In-Reply-To=%3C51B984DB.4080408%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027852.html">
   <LINK REL="Next"  HREF="027844.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Growing Memory Use and Queues</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Growing%20Memory%20Use%20and%20Queues&In-Reply-To=%3C51B984DB.4080408%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Growing Memory Use and Queues">emile at rabbitmq.com
       </A><BR>
    <I>Thu Jun 13 09:37:47 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027852.html">[rabbitmq-discuss] Growing Memory Use and Queues
</A></li>
        <LI>Next message: <A HREF="027844.html">[rabbitmq-discuss] Clustering Linux and Windows machines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27856">[ date ]</a>
              <a href="thread.html#27856">[ thread ]</a>
              <a href="subject.html#27856">[ subject ]</a>
              <a href="author.html#27856">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Hi,

On 12/06/13 12:40, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">harel at thisisglow.com</A> wrote:
&gt;<i> We're seeing this recently since upgrading to the 3.x version of rabbit. 
</I>
Can you reproduce the problem on the latest version?

&gt;<i> We are running about 25 queues and all is good for a while. But
</I>&gt;<i> sometimes rabbit crashes hard with out of memory errors even if the
</I>&gt;<i> queues are not noticeably larger or busier than usual.
</I>The broker can run out of memory for other reasons, e.g. if you create a
very large number of channels. The output of &quot;rabbitmqctl report&quot; can
help to identify such cases. You can send the output to the list (or to
me privately if it is too large) if you need help interpreting it.

Recent versions of the management plugin can also show memory usage
breakdown in the node overview page.

If this does not pinpoint the cause then make sure there is no other
service on the same server as the broker that takes alot of RAM.

&gt;<i> I have a 3.2GB crash dump which honestly I don't even know how to
</I>&gt;<i> begin looking at. 
</I>
Crash dump files rarely contain anything useful. Yours probably says
&quot;Failure to allocate some bytes&quot;. The broker log and sasl log are
usually more useful. I would expect to see memory alarms in the broker log.



-Emile


</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027852.html">[rabbitmq-discuss] Growing Memory Use and Queues
</A></li>
	<LI>Next message: <A HREF="027844.html">[rabbitmq-discuss] Clustering Linux and Windows machines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27856">[ date ]</a>
              <a href="thread.html#27856">[ thread ]</a>
              <a href="subject.html#27856">[ subject ]</a>
              <a href="author.html#27856">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
