<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Mnesia Corruption Bug
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Mnesia%20Corruption%20Bug&In-Reply-To=%3C51C1A022.9020306%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027860.html">
   <LINK REL="Next"  HREF="027861.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Mnesia Corruption Bug</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Mnesia%20Corruption%20Bug&In-Reply-To=%3C51C1A022.9020306%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Mnesia Corruption Bug">emile at rabbitmq.com
       </A><BR>
    <I>Wed Jun 19 13:12:18 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027860.html">[rabbitmq-discuss] Mnesia Corruption Bug
</A></li>
        <LI>Next message: <A HREF="027861.html">[rabbitmq-discuss] Mnesia Corruption Bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27972">[ date ]</a>
              <a href="thread.html#27972">[ thread ]</a>
              <a href="subject.html#27972">[ subject ]</a>
              <a href="author.html#27972">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Lee,

On 13/06/13 12:36, Lee Hambley wrote:
&gt;<i> That all aside, attached ( <A HREF="https://gist.github.com/leehambley/5773039">https://gist.github.com/leehambley/5773039</A> )
</I>&gt;<i> is a stacktrace from a problematic box, we couldn't get it to recover
</I>&gt;<i> (single node, single replica, etc, etc) - we simply deleted the mnesia
</I>&gt;<i> database, which worked well enough.
</I>
We've managed to reproduce this problem, but only by copying an older
copy of an Mnesia directory over a newer copy of itself without clearing
all the files first. Is it possible that the same happened on your side?
The solution in that case is to clear the mnesia directory before
restoring. The integrity of the broker will be compromised if the Mnesia
directory is modified, so avoid doing that.


-Emile




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027860.html">[rabbitmq-discuss] Mnesia Corruption Bug
</A></li>
	<LI>Next message: <A HREF="027861.html">[rabbitmq-discuss] Mnesia Corruption Bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27972">[ date ]</a>
              <a href="thread.html#27972">[ thread ]</a>
              <a href="subject.html#27972">[ subject ]</a>
              <a href="author.html#27972">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
