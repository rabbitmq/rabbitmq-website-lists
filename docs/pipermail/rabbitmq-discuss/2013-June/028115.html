<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] networking issue when trying to cluster rabbitmq	nodes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20networking%20issue%20when%20trying%20to%20cluster%20rabbitmq%0A%09nodes&In-Reply-To=%3C1372259125.30009.YahooMailNeo%40web141101.mail.bf1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028167.html">
   <LINK REL="Next"  HREF="028116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] networking issue when trying to cluster rabbitmq	nodes</H1>
    <B>Luis Rodriguez</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20networking%20issue%20when%20trying%20to%20cluster%20rabbitmq%0A%09nodes&In-Reply-To=%3C1372259125.30009.YahooMailNeo%40web141101.mail.bf1.yahoo.com%3E"
       TITLE="[rabbitmq-discuss] networking issue when trying to cluster rabbitmq	nodes">lrodriguez1995 at yahoo.com
       </A><BR>
    <I>Wed Jun 26 16:05:25 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028167.html">[rabbitmq-discuss] Feature request: move messages using management UI
</A></li>
        <LI>Next message: <A HREF="028116.html">[rabbitmq-discuss] networking issue when trying to cluster rabbitmq nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28115">[ date ]</a>
              <a href="thread.html#28115">[ thread ]</a>
              <a href="subject.html#28115">[ subject ]</a>
              <a href="author.html#28115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
I am as new as it can get when it comes to rabbitmq.
I am running three vm's with centos 5.9 , rabbitmq-server-3.0.3, 
and erlang installed on all three nodes. (host only network, named them 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit1 at localhost</A>, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit2 at localhost</A>, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit3 at localhost</A>)

I was able to get all the nodes working (without any clustering), but so far all my clustering attempts have been unsuccessful.
I am able to ping the three nodes and the initial testing works on 
single nodes but I cannot seem to communicate between nodes when I try 
to join a cluster.
I have double checked that my erlang cookies are synchronized..

In addition, I am able to run&#160; rabbitmq-server -detached, rabbitmqctl cluster_status fine (and I do get the expected results) however, when I do rabbitctl join_cluster I get:
rabbitmq Error:{cannot_discover_cluster,&quot;the nodes provided are either offline 
or not running&quot;} ..and the rabbitmq management console always show a 
disc status as well..
I have disabled the firewall on the three vm's..
I have also tried telneting between them and the results were the following:

from rabbit1 to rabbit 3 -&gt; connected
from rabbit1 to rabbit2 -&gt; connected

from rabbit 2 to rabbit3 -&gt; connection timed out
from rabbit 2 to rabbit 1 -&gt;  connection refused

from rabbit3 to rabbit 2 -&gt; connected
from rabbit 3 to rabbit1 -&gt; connection refused

my etc/hosts are correctly setup
There is nothing however, when I tried opening  /etc/resolv.conf (using gedit resolv.conf)
not really sure if&#160; I might need entries, I'm not really sure the how to :(&#160;&#160; (do I
 need to write them the same way I have them in the etc/hosts ?&#160;&#160;&#160;&#160; ex: 
for rabbit3:&#160; xxx.xxx.xx.xx rabbit1&#160; , xxx.xxx.xx.xx
 rabbit2&#160; )

thanks in advance :)

Luis
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130626/8b2dfdfb/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130626/8b2dfdfb/attachment.htm</A>&gt;
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028167.html">[rabbitmq-discuss] Feature request: move messages using management UI
</A></li>
	<LI>Next message: <A HREF="028116.html">[rabbitmq-discuss] networking issue when trying to cluster rabbitmq nodes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28115">[ date ]</a>
              <a href="thread.html#28115">[ thread ]</a>
              <a href="subject.html#28115">[ subject ]</a>
              <a href="author.html#28115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
