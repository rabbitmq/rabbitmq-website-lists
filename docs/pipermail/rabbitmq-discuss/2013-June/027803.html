<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] &quot;Zombie&quot; RabbitMQ Processes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22Zombie%22%20RabbitMQ%20Processes&In-Reply-To=%3CCAHEpgBCdhOESzqZP9NKow9n2nKd_ps9sjEt4pHu%3D-9h_RLkrQA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027843.html">
   <LINK REL="Next"  HREF="027813.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] &quot;Zombie&quot; RabbitMQ Processes</H1>
    <B>Chris</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22Zombie%22%20RabbitMQ%20Processes&In-Reply-To=%3CCAHEpgBCdhOESzqZP9NKow9n2nKd_ps9sjEt4pHu%3D-9h_RLkrQA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] &quot;Zombie&quot; RabbitMQ Processes">stuff at moesel.net
       </A><BR>
    <I>Mon Jun 10 19:49:46 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027843.html">[rabbitmq-discuss] RabbitMQ publisher confirms using the Erlang	client
</A></li>
        <LI>Next message: <A HREF="027813.html">[rabbitmq-discuss] &quot;Zombie&quot; RabbitMQ Processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27803">[ date ]</a>
              <a href="thread.html#27803">[ thread ]</a>
              <a href="subject.html#27803">[ subject ]</a>
              <a href="author.html#27803">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I've received a few reports that when RabbitMQ 3.1.1 is first installed on
our RedHat servers (along with some of our other software and scripts),
sometimes it is unresponsive and you cannot restart  the process via the
service script.

The only way out seems to be something like &quot;killall -u rabbitmq -9&quot;
followed by &quot;service rabbitmq start&quot;.

I don't see anything terribly distressing in the RabbitMQ logs, although I
do see lots of instances of:

=INFO REPORT==== 10-Jun-2013::21:21:02 ===
&gt;<i> accepting AMQP connection &lt;0.30685.4&gt; (172.23.197.126:45515 -&gt;
</I>&gt;<i> 172.23.197.126:5672)
</I>&gt;<i>
</I>&gt;<i> =WARNING REPORT==== 10-Jun-2013::21:21:02 ===
</I>&gt;<i> closing AMQP connection &lt;0.30685.4&gt; (172.23.197.126:45515 -&gt;
</I>&gt;<i> 172.23.197.126:5672):
</I>&gt;<i> connection_closed_abruptly
</I>

A few questions for you:

(1) Is there any way we can troubleshoot this further than just looking at
the logs in /var/log/rabbitmq?

(2) Should we be concerned about the connection_closed_abruptly warnings?
 Currenlty we connect to RabbitMQ using node-amqp and the Java client.  I *
think* we usually should be closing the connection on exit.

(3)  Can anyone suggest how we might be getting into this state?  Might it
be possible if we started RabbitMQ in a script and somehow killed it or
restarted it before it was finished initializing (just guessing here)?  So
far I cannot reproduce it, but we've had several reports of it.

Thanks!
Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130610/e24ace95/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130610/e24ace95/attachment.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027843.html">[rabbitmq-discuss] RabbitMQ publisher confirms using the Erlang	client
</A></li>
	<LI>Next message: <A HREF="027813.html">[rabbitmq-discuss] &quot;Zombie&quot; RabbitMQ Processes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27803">[ date ]</a>
              <a href="thread.html#27803">[ thread ]</a>
              <a href="subject.html#27803">[ subject ]</a>
              <a href="author.html#27803">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
