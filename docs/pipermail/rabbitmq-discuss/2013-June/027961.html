<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] cluster memory alarm blocks producer too long
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20cluster%20memory%20alarm%20blocks%20producer%20too%20long&In-Reply-To=%3C6585d4ed-400d-451f-8dc4-511900bf4e45%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027959.html">
   <LINK REL="Next"  HREF="027968.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] cluster memory alarm blocks producer too long</H1>
    <B>Xuehua Hou</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20cluster%20memory%20alarm%20blocks%20producer%20too%20long&In-Reply-To=%3C6585d4ed-400d-451f-8dc4-511900bf4e45%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] cluster memory alarm blocks producer too long">houxuehua49 at gmail.com
       </A><BR>
    <I>Wed Jun 19 06:16:41 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027959.html">[rabbitmq-discuss] rabbitmq-c how can I close consumer?
</A></li>
        <LI>Next message: <A HREF="027968.html">[rabbitmq-discuss] cluster memory alarm blocks producer too long
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27961">[ date ]</a>
              <a href="thread.html#27961">[ thread ]</a>
              <a href="subject.html#27961">[ subject ]</a>
              <a href="author.html#27961">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I'm testing rabbitmq cluster.
The problem same as 
<A HREF="https://groups.google.com/forum/?fromgroups#!searchin/rabbitmq-discuss/memory$20cluster/rabbitmq-discuss/85g_ScoeeJM/jMspuiJHD7sJ">https://groups.google.com/forum/?fromgroups#!searchin/rabbitmq-discuss/memory$20cluster/rabbitmq-discuss/85g_ScoeeJM/jMspuiJHD7sJ</A> 
still exists.
I can reproduce the issue.

I runned rabbitmq-server-3.1.1 on two centos6 machines, the erlang version 
is R16B.
The two machines are 4 core and 8G ram.
I used mirrored durable queue for HA.
Two nodes are disc.

Reproduce step: 
1.start four producers  and publish a lot of messages(more than 1000000).
2.start four consumers 
Producers and consumers running more than one hour, memory alarm will go 
off.
The master memory slow down quickly,
But the slave node stay in memory alarm state too long(more than 10 min).

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130618/10d133da/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130618/10d133da/attachment.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027959.html">[rabbitmq-discuss] rabbitmq-c how can I close consumer?
</A></li>
	<LI>Next message: <A HREF="027968.html">[rabbitmq-discuss] cluster memory alarm blocks producer too long
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27961">[ date ]</a>
              <a href="thread.html#27961">[ thread ]</a>
              <a href="subject.html#27961">[ subject ]</a>
              <a href="author.html#27961">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
