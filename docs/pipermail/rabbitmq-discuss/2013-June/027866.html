<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] BasicPublish in .NET using client 2.8.1.0 and	transaction support
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20BasicPublish%20in%20.NET%20using%20client%202.8.1.0%20and%0A%09transaction%20support&In-Reply-To=%3Cd3b35a32-18c9-43ee-ac06-64e5872285e7%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027885.html">
   <LINK REL="Next"  HREF="027886.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] BasicPublish in .NET using client 2.8.1.0 and	transaction support</H1>
    <B>martywaz</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20BasicPublish%20in%20.NET%20using%20client%202.8.1.0%20and%0A%09transaction%20support&In-Reply-To=%3Cd3b35a32-18c9-43ee-ac06-64e5872285e7%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] BasicPublish in .NET using client 2.8.1.0 and	transaction support">marty.wasznicky at neudesic.com
       </A><BR>
    <I>Thu Jun 13 19:02:49 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027885.html">[rabbitmq-discuss] 10 consumers on a queue delivers 10x too many messages
</A></li>
        <LI>Next message: <A HREF="027886.html">[rabbitmq-discuss] BasicPublish in .NET using client 2.8.1.0 and transaction support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27866">[ date ]</a>
              <a href="thread.html#27866">[ thread ]</a>
              <a href="subject.html#27866">[ subject ]</a>
              <a href="author.html#27866">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>When calling BasicPublish in .NET c#, is it required to explicitly make a 
call to DtxStart and TxCommit to ensure that the message published is 
within a transaction?

for example, our psudo code for creating a connection is this:

            var connectionFactory = new ConnectionFactory
            {
                HostName = this.hostName,
                Password = this.password,
                Port = this.port != -1 ? this.port : 
AmqpTcpEndpoint.UseDefaultPort,
                UserName = this.userName,
                Protocol = Protocols.FromConfiguration()
            };
            this.connection = connectionFactory.CreateConnection();
            this.connection.ConnectionShutdown += 
this.ConnectionOnConnectionShutdown;
            this.model = this.connection.CreateModel();

            if (this.properties.Durable)
            {
                this.model.ConfirmSelect();
            }

            this.model.BasicAcks += new 
BasicAckEventHandler(this.MessageAcknowledged);
            this.model.BasicNacks += this.MessageNotAcknowledged;
            this.model.BasicReturn += this.MessageReturned;
            this.model.FlowControl += this.FlowControlChanged;
            this.model.CallbackException += ReportCallbackException;

and psudo publish code looks like this:

                         this.model.BasicPublish(
                        this.exchangeName,
                        string.Empty,
                        this.properties.Durable,
                        this.properties.Immediate,
                        messageProperties,
                        body);

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130613/352e1749/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130613/352e1749/attachment.htm</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027885.html">[rabbitmq-discuss] 10 consumers on a queue delivers 10x too many messages
</A></li>
	<LI>Next message: <A HREF="027886.html">[rabbitmq-discuss] BasicPublish in .NET using client 2.8.1.0 and transaction support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27866">[ date ]</a>
              <a href="thread.html#27866">[ thread ]</a>
              <a href="subject.html#27866">[ subject ]</a>
              <a href="author.html#27866">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
