<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Consuming multiple messages at a time
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consuming%20multiple%20messages%20at%20a%20time&In-Reply-To=%3CCAHPrJT1v_1%3Dyfr6qFmSesWy2uHgAf0RS3NdswZSwXT3oZcJx%2BQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027684.html">
   <LINK REL="Next"  HREF="027685.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Consuming multiple messages at a time</H1>
    <B>Vijay Lakshmi</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consuming%20multiple%20messages%20at%20a%20time&In-Reply-To=%3CCAHPrJT1v_1%3Dyfr6qFmSesWy2uHgAf0RS3NdswZSwXT3oZcJx%2BQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Consuming multiple messages at a time">vijjivinay at gmail.com
       </A><BR>
    <I>Tue Jun  4 18:45:12 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027684.html">[rabbitmq-discuss] Connection Attempt Failed
</A></li>
        <LI>Next message: <A HREF="027685.html">[rabbitmq-discuss] Consuming multiple messages at a time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27679">[ date ]</a>
              <a href="thread.html#27679">[ thread ]</a>
              <a href="subject.html#27679">[ subject ]</a>
              <a href="author.html#27679">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We have an application where in for each client we create a Queue in
RabbitMQ.
(i.e. we create a binding with client id to a common exchange)
So, all messages that are published with binding key as client id will go
to that queue.

There is only single client which subscribes to this Queue.
The queue will get messages at the rate of 100 msgs/sec for example.

RabbitMQ is sending only 1 message at a time to the consumer. Even if we
set the prefetch count as higher value, the messages are delivered only one
by one.
The callback method in consumer can consume only single message.

void *handleDelivery*(java.lang.String consumerTag,
                    Envelope
&lt;<A HREF="http://www.rabbitmq.com/releases/rabbitmq-java-client/v3.1.1/rabbitmq-java-client-javadoc-3.1.1/com/rabbitmq/client/Envelope.html">http://www.rabbitmq.com/releases/rabbitmq-java-client/v3.1.1/rabbitmq-java-client-javadoc-3.1.1/com/rabbitmq/client/Envelope.html</A>&gt;
envelope,
                    AMQP.BasicProperties
&lt;<A HREF="http://www.rabbitmq.com/releases/rabbitmq-java-client/v3.1.1/rabbitmq-java-client-javadoc-3.1.1/com/rabbitmq/client/AMQP.BasicProperties.html">http://www.rabbitmq.com/releases/rabbitmq-java-client/v3.1.1/rabbitmq-java-client-javadoc-3.1.1/com/rabbitmq/client/AMQP.BasicProperties.html</A>&gt;
properties,
                    byte[] body)
                    throws java.io.IOException

Is there a way in RabbitMQ where in we enable RabbitMQ to send mutiple
messages to consumer at a time. In my case there is only one consumer per
queue. So, by sending mutiple messages to consumer at a time will improve
my performance.

Can someone suggest how I can achieve this.
If rabbitMQ does not support, is there any other way of achieving this.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130604/8b872944/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130604/8b872944/attachment.htm</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027684.html">[rabbitmq-discuss] Connection Attempt Failed
</A></li>
	<LI>Next message: <A HREF="027685.html">[rabbitmq-discuss] Consuming multiple messages at a time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27679">[ date ]</a>
              <a href="thread.html#27679">[ thread ]</a>
              <a href="subject.html#27679">[ subject ]</a>
              <a href="author.html#27679">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
