<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] AMQP connections closing very frequently
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20AMQP%20connections%20closing%20very%20frequently&In-Reply-To=%3C51CFDF13.1070800%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028185.html">
   <LINK REL="Next"  HREF="028159.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] AMQP connections closing very frequently</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20AMQP%20connections%20closing%20very%20frequently&In-Reply-To=%3C51CFDF13.1070800%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] AMQP connections closing very frequently">matthias at rabbitmq.com
       </A><BR>
    <I>Sun Jun 30 08:32:35 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028185.html">[rabbitmq-discuss] AMQP connections closing very frequently
</A></li>
        <LI>Next message: <A HREF="028159.html">[rabbitmq-discuss] AMQP connections closing very frequently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28188">[ date ]</a>
              <a href="thread.html#28188">[ thread ]</a>
              <a href="subject.html#28188">[ subject ]</a>
              <a href="author.html#28188">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30/06/13 06:11, ankitag2010 wrote:
&gt;<i> But couldn't resolve the issue by hard coding the RABBITMQ_CONFIG_ARG.
</I>&gt;<i>
</I>&gt;<i> Another look at the erlang process:-
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> rabbitmq 21883 21880  0 09:34 ?        00:00:04
</I>&gt;<i> /usr/lib64/erlang/erts-5.8.5/bin/beam.smp -W w -K true -A30 -P 1048576 --
</I>&gt;<i> -root /usr/lib64/erlang -progname erl -- -home /var/lib/rabbitmq -- -pa
</I>&gt;<i> /usr/lib/rabbitmq/lib/rabbitmq_server-3.1.1/sbin/../ebin -noshell -noinput
</I>&gt;<i> -s rabbit boot -sname <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at test04</A> -boot start_sasl *-config
</I>&gt;<i> /etc/rabbitmq/rabbitmq* -kernel inet_default_connect_options
</I>&gt;<i> [{nodelay,true}] -sasl errlog_type error -sasl sasl_error_logger false
</I>&gt;<i> -rabbit error_logger {file,&quot;/var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at test.log</A>&quot;} -rabbit
</I>&gt;<i> sasl_error_logger {file,&quot;/var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at test04-sasl.log</A>&quot;} -rabbit
</I>&gt;<i> enabled_plugins_file &quot;/etc/rabbitmq/enabled_plugins&quot; -rabbit plugins_dir
</I>&gt;<i> &quot;/usr/lib/rabbitmq/lib/rabbitmq_server-3.1.1/sbin/../plugins&quot; -rabbit
</I>&gt;<i> plugins_expand_dir &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at test-plugins-expand</A>&quot;
</I>&gt;<i> -os_mon start_cpu_sup false -os_mon start_disksup false -os_mon start_memsup
</I>&gt;<i> false -mnesia dir &quot;/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at test</A>&quot;
</I>
Those '*' are just highlights you inserted when posting, rather than 
what's actually on the command line, right?

If so, that all looks ok.

The only oddness I can see is that the error log and sasl log file names 
refer to different node names - <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at test</A> vs <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at test04.</A> How does 
that difference arise? And are you sure that you are looking at the 
correct log file when checking that the config file has been read?

And what happens if you hard code the RABBITMQ_CONFIG_ARG to something 
invalid, e.g. &quot;-config /etc/rabbitmq/invalid&quot;?


Matthias.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028185.html">[rabbitmq-discuss] AMQP connections closing very frequently
</A></li>
	<LI>Next message: <A HREF="028159.html">[rabbitmq-discuss] AMQP connections closing very frequently
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28188">[ date ]</a>
              <a href="thread.html#28188">[ thread ]</a>
              <a href="subject.html#28188">[ subject ]</a>
              <a href="author.html#28188">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
