<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Unable to start RabbitMQ service on Windows 7
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20start%20RabbitMQ%20service%20on%20Windows%207&In-Reply-To=%3Cd035730a-b31a-4016-b3d1-2c2fed16db2b%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027815.html">
   <LINK REL="Next"  HREF="027833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Unable to start RabbitMQ service on Windows 7</H1>
    <B>Jasdeep Lalli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20start%20RabbitMQ%20service%20on%20Windows%207&In-Reply-To=%3Cd035730a-b31a-4016-b3d1-2c2fed16db2b%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Unable to start RabbitMQ service on Windows 7">jazlalli at hotmail.com
       </A><BR>
    <I>Tue Jun 11 17:37:48 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027815.html">[rabbitmq-discuss] RabbitMQ sharding supprot
</A></li>
        <LI>Next message: <A HREF="027833.html">[rabbitmq-discuss] Unable to start RabbitMQ service on Windows 7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27827">[ date ]</a>
              <a href="thread.html#27827">[ thread ]</a>
              <a href="subject.html#27827">[ subject ]</a>
              <a href="author.html#27827">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

My local Rabbit installation stopped working, so I attempted a complete 
reinstall from scratch.  However, I've been unable to run the service since 
then.

When I attempt to restart the service via the services console, it changes 
status to Started, but about 10-15 seconds later, it's dead.  I deleted the 
DB before a restart but no luck.

The event viewer shows the following message when I attempt to start the 
service


RabbitMQ: Erlang machine stopped instantly (distribution name conflict?). 
The service is not restarted as OnFail is set to ignore.
The RabbitMQ service terminated with the following error: The process 
terminated unexpectedly.


The rabbit log has the following (also attached).  Can anyone tell what the 
problem is based on this information?  If there's more you'd like me to do, 
I'm more than happy to do so.


=INFO REPORT==== 11-Jun-2013::17:27:18 ===
Starting RabbitMQ 3.1.1 on Erlang R16B
Copyright (C) 2007-2013 VMware, Inc.
Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>

=INFO REPORT==== 11-Jun-2013::17:27:18 ===
node           : <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004</A>
home dir       : C:\Windows
config file(s) : (none)
cookie hash    : okag2j8Q/WLLzXbN96HMJg==
log            : 
C:/Users/jasdeep/AppData/Roaming/RabbitMQ/log/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004.log</A>
sasl log       : 
C:/Users/jasdeep/AppData/Roaming/RabbitMQ/log/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004-sasl.log</A>
database dir   : 
c:/Users/jasdeep/AppData/Roaming/RabbitMQ/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004-mnesia</A>

=INFO REPORT==== 11-Jun-2013::17:27:20 ===
Limiting to approx 8092 file handles (7280 sockets)

=WARNING REPORT==== 11-Jun-2013::17:27:20 ===
Only 2048MB of 8139MB memory usable due to limited address space.

=INFO REPORT==== 11-Jun-2013::17:27:20 ===
Memory limit set to 819MB of 8139MB total.

=INFO REPORT==== 11-Jun-2013::17:27:20 ===
Disk free limit set to 1000MB

=INFO REPORT==== 11-Jun-2013::17:27:20 ===
msg_store_transient: using rabbit_msg_store_ets_index to provide index

=INFO REPORT==== 11-Jun-2013::17:27:20 ===
msg_store_persistent: using rabbit_msg_store_ets_index to provide index

=INFO REPORT==== 11-Jun-2013::17:27:20 ===
started TCP Listener on [::]:5672

=ERROR REPORT==== 11-Jun-2013::17:27:20 ===
Error in process &lt;0.212.0&gt; on node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004</A>' with exit value: 
{eacces,[{erlang,open_port,[{spawn,&quot;inet_gethost 4 
&quot;},[{packet,4},eof,binary]],[]},{inet_gethost_native,do_open_port,2,[{file,&quot;inet_gethost_native.erl&quot;},{line,400}]},{inet_gethost_native,server_init,2,[{file,&quot;inet_gethost... 


=ERROR REPORT==== 11-Jun-2013::17:27:20 ===
** Generic server inet_gethost_native_sup terminating 
** Last message in was {'EXIT',&lt;0.212.0&gt;,
                           {eacces,
                               [{erlang,open_port,
                                    [{spawn,&quot;inet_gethost 4 &quot;},
                                     [{packet,4},eof,binary]],
                                    []},
                                {inet_gethost_native,do_open_port,2,
                                    [{file,&quot;inet_gethost_native.erl&quot;},
                                     {line,400}]},
                                {inet_gethost_native,server_init,2,
                                    [{file,&quot;inet_gethost_native.erl&quot;},
                                     {line,183}]}]}}
** When Server state == {state,inet_gethost_native,undefined,&lt;0.212.0&gt;,
                               {local,inet_gethost_native_sup}}
** Reason for termination == 
** {eacces,[{erlang,open_port,
                    [{spawn,&quot;inet_gethost 4 &quot;},[{packet,4},eof,binary]],
                    []},
            {inet_gethost_native,do_open_port,2,
                                 [{file,&quot;inet_gethost_native.erl&quot;},
                                  {line,400}]},
            {inet_gethost_native,server_init,2,
                                 [{file,&quot;inet_gethost_native.erl&quot;},
                                  {line,183}]}]}

=INFO REPORT==== 11-Jun-2013::17:27:20 ===
Error description:
   {case_clause,
       {error,
           {{shutdown,
                {failed_to_start_child,tcp_listener,
                    {could_not_start_server,inet_gethost_native}}},
            {child,undefined,'rabbit_tcp_listener_sup_:::5672',
                {tcp_listener_sup,start_link,
                    [{0,0,0,0,0,0,0,0},
                     5672,
                     [inet6,binary,
                      {packet,raw},
                      {reuseaddr,true},
                      {backlog,128},
                      {nodelay,true},
                      {linger,{true,0}},
                      {exit_on_close,false}],
                     {rabbit_networking,tcp_listener_started,[amqp]},
                     {rabbit_networking,tcp_listener_stopped,[amqp]},
                     {rabbit_networking,start_client,[]},
                     &quot;TCP Listener&quot;]},
                transient,infinity,supervisor,
                [tcp_listener_sup]}}}}

Log files (may contain more information):
   C:/Users/jasdeep/AppData/Roaming/RabbitMQ/log/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004.log</A>
   C:/Users/jasdeep/AppData/Roaming/RabbitMQ/log/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004-sasl.log</A>

Stack trace:
   [{rabbit_networking,start_listener0,4,[]},
    {rabbit_networking,'-start_listener/4-lc$^0/1-0-',4,[]},
    {rabbit_networking,start_listener,4,[]},
    {rabbit_networking,'-boot_tcp/0-lc$^0/1-0-',1,[]},
    {rabbit_networking,boot_tcp,0,[]},
    {rabbit_networking,boot,0,[]},
    {rabbit,'-run_boot_step/1-lc$^1/1-1-',1,[]},
    {rabbit,run_boot_step,1,[]}]


=INFO REPORT==== 11-Jun-2013::17:27:21 ===
Error description:
   {could_not_start,rabbit,
    {bad_return,
     {{rabbit,start,[normal,[]]},
      {'EXIT',
       {rabbit,failure_during_boot,
        {case_clause,
         {error,
          {{shutdown,
            {failed_to_start_child,tcp_listener,
             {could_not_start_server,inet_gethost_native}}},
           {child,undefined,'rabbit_tcp_listener_sup_:::5672',
            {tcp_listener_sup,start_link,
             [{0,0,0,0,0,0,0,0},
              5672,
              [inet6,binary,
               {packet,raw},
               {reuseaddr,true},
               {backlog,128},
               {nodelay,true},
               {linger,{true,0}},
               {exit_on_close,false}],
              {rabbit_networking,tcp_listener_started,[amqp]},
              {rabbit_networking,tcp_listener_stopped,[amqp]},
              {rabbit_networking,start_client,[]},
              &quot;TCP Listener&quot;]},
            transient,infinity,supervisor,
            [tcp_listener_sup]}}}}}}}}}

Log files (may contain more information):
   C:/Users/jasdeep/AppData/Roaming/RabbitMQ/log/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004.log</A>
   C:/Users/jasdeep/AppData/Roaming/RabbitMQ/log/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004-sasl.log</A>


=ERROR REPORT==== 11-Jun-2013::17:27:21 ===
** gen_event handler rabbit_error_logger crashed.
** Was installed in error_logger
** Last event was: {info_msg,&lt;0.30.0&gt;,
                    {&lt;0.2.0&gt;,
                     &quot;Error description:~n   ~p~n~nLog files (may contain 
more information):~n   ~s~n   ~s~n~n&quot;,
                     [{could_not_start,rabbit,
                       {bad_return,
                        {{rabbit,start,[normal,[]]},
                         {'EXIT',
                          {rabbit,failure_during_boot,
                           {case_clause,
                            {error,
                             {{shutdown,
                               {failed_to_start_child,tcp_listener,
                                
{could_not_start_server,inet_gethost_native}}},
                              {child,undefined,
                               'rabbit_tcp_listener_sup_:::5672',
                               {tcp_listener_sup,start_link,
                                [{0,0,0,0,0,0,0,0},
                                 5672,
                                 [inet6,binary,
                                  {packet,raw},
                                  {reuseaddr,true},
                                  {backlog,128},
                                  {nodelay,true},
                                  {linger,{true,0}},
                                  {exit_on_close,false}],
                                 {rabbit_networking,tcp_listener_started,
                                  [amqp]},
                                 {rabbit_networking,tcp_listener_stopped,
                                  [amqp]},
                                 {rabbit_networking,start_client,[]},
                                 &quot;TCP Listener&quot;]},
                               transient,infinity,supervisor,
                               [tcp_listener_sup]}}}}}}}}},
                      
&quot;C:/Users/jasdeep/AppData/Roaming/RabbitMQ/log/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004.log</A>&quot;,
                      
&quot;C:/Users/jasdeep/AppData/Roaming/RabbitMQ/log/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at MILAP004-sasl.log</A>&quot;]}}
** When handler state == {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;amq.rabbitmq.log&quot;&gt;&gt;}
** Reason == {badarg,[{ets,lookup,
                           [rabbit_exchange,
                            {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,
                                      &lt;&lt;&quot;amq.rabbitmq.log&quot;&gt;&gt;}],
                           []},
                      {rabbit_misc,dirty_read,1,[]},
                      {rabbit_basic,publish,1,[]},
                      {rabbit_error_logger,publish1,4,[]},
                      {rabbit_error_logger,handle_event,2,[]},
                      {gen_event,server_update,4,
                                 [{file,&quot;gen_event.erl&quot;},{line,504}]},
                      {gen_event,server_notify,4,
                                 [{file,&quot;gen_event.erl&quot;},{line,486}]},
                      {gen_event,handle_msg,5,
                                 [{file,&quot;gen_event.erl&quot;},{line,248}]}]}


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130611/b4cbf596/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130611/b4cbf596/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at milap004.log</A>
Type: application/octet-stream
Size: 26447 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130611/b4cbf596/attachment.obj">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130611/b4cbf596/attachment.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at milap004-sasl.log</A>
Type: application/octet-stream
Size: 29670 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130611/b4cbf596/attachment-0001.obj">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130611/b4cbf596/attachment-0001.obj</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027815.html">[rabbitmq-discuss] RabbitMQ sharding supprot
</A></li>
	<LI>Next message: <A HREF="027833.html">[rabbitmq-discuss] Unable to start RabbitMQ service on Windows 7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27827">[ date ]</a>
              <a href="thread.html#27827">[ thread ]</a>
              <a href="subject.html#27827">[ subject ]</a>
              <a href="author.html#27827">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
