<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] HiPE compilation error with rabbitmq 3.1.3 and erlang R16B01: Cannot find ssl_record.beam file.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20HiPE%20compilation%20error%20with%20rabbitmq%203.1.3%20and%0A%20erlang%20R16B01%3A%20Cannot%20find%20ssl_record.beam%20file.&In-Reply-To=%3C1372335488.2476.90.camel%40CLM3X4J.systran.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028138.html">
   <LINK REL="Next"  HREF="028141.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] HiPE compilation error with rabbitmq 3.1.3 and erlang R16B01: Cannot find ssl_record.beam file.</H1>
    <B>Thomas Riccardi</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20HiPE%20compilation%20error%20with%20rabbitmq%203.1.3%20and%0A%20erlang%20R16B01%3A%20Cannot%20find%20ssl_record.beam%20file.&In-Reply-To=%3C1372335488.2476.90.camel%40CLM3X4J.systran.local%3E"
       TITLE="[rabbitmq-discuss] HiPE compilation error with rabbitmq 3.1.3 and erlang R16B01: Cannot find ssl_record.beam file.">riccardi at systran.fr
       </A><BR>
    <I>Thu Jun 27 13:18:08 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028138.html">[rabbitmq-discuss] ANN Bunny 0.9.0.rc2 is released
</A></li>
        <LI>Next message: <A HREF="028141.html">[rabbitmq-discuss] HiPE compilation error with rabbitmq 3.1.3 and erlang R16B01: Cannot find ssl_record.beam file.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28139">[ date ]</a>
              <a href="thread.html#28139">[ thread ]</a>
              <a href="subject.html#28139">[ subject ]</a>
              <a href="author.html#28139">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Since the release of erlang R16B01 the rabbitmq HiPE compilation is
broken:
&lt;HiPE (v 3.10.2)&gt; Error: [hipe:417]: Cannot find ssl_record.beam file.
&lt;HiPE (v 3.10.2)&gt; Error: [hipe:417]: Cannot find ssl_connection.beam
file.

Tested on ubuntu 12.04 with esl-erlang_16.b.1-1~ubuntu~precise_amd64.deb
from <A HREF="https://www.erlang-solutions.com/downloads/download-erlang-otp">https://www.erlang-solutions.com/downloads/download-erlang-otp</A> and
rabbitmq .deb (v3.1.1, 3.1.2 and 3.1.3).

Joined files:
startup_log from /var/log/rabbitmq
ssl.ls: ls -la in /usr/lib/erlang/lib/ssl-5.3/ebin

ssl_record.beam and ssl_connection.beam are now prefixed with tls
instead of ssl...

It works with esl-erlang_16.b-2~ubuntu~precise_amd64.deb (R16B).

-------------- next part --------------
HiPE compiling:  |------------------------------------------------------|
                 |#&lt;HiPE (v 3.10.2)&gt; EXITED with reason {cant_find_beam_file,ssl_record} @hipe:418

=ERROR REPORT==== 27-Jun-2013::09:24:05 ===
&lt;HiPE (v 3.10.2)&gt; Error: [hipe:417]: Cannot find ssl_record.beam file.
=ERROR REPORT==== 27-Jun-2013::09:24:05 ===
Error in process &lt;0.47.0&gt; on node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-10-83-163-82</A>' with exit value: {{hipe,418,{cant_find_beam_file,ssl_record}},[{hipe,beam_file,1,[{file,&quot;hipe.erl&quot;},{line,418}]},{hipe,c,2,[{file,&quot;hipe.erl&quot;},{line,312}]},{rabbit,'-hipe_compile/
0-lc$^1/1-1-',1,[]},{rabbit,'-hipe_compile/0-lc$^1/1-1-',1,[]}]}

#&lt;HiPE (v 3.10.2)&gt; EXITED with reason {cant_find_beam_file,ssl_connection} @hipe:418

=ERROR REPORT==== 27-Jun-2013::09:24:05 ===
&lt;HiPE (v 3.10.2)&gt; Error: [hipe:417]: Cannot find ssl_connection.beam file.

BOOT FAILED
===========

Error description:
   {{hipe,418,{cant_find_beam_file,ssl_connection}},
    [{hipe,beam_file,1,[{file,&quot;hipe.erl&quot;},{line,418}]},
     {hipe,c,2,[{file,&quot;hipe.erl&quot;},{line,312}]},
     {rabbit,'-hipe_compile/0-lc$^1/1-1-',1,[]},
     {rabbit,'-hipe_compile/0-lc$^1/1-1-',1,[]}]}

Log files (may contain more information):
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-10-83-163-82.log</A>
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-10-83-163-82-sasl.log</A>

Stack trace:
   [{rabbit,'-hipe_compile/0-lc$^2/1-2-',1,[]},
    {rabbit,hipe_compile,0,[]},
    {rabbit,maybe_hipe_compile,0,[]},
    {rabbit,'-boot/0-fun-1-',0,[]},
    {rabbit,start_it,1,[]},
    {init,start_it,1,[]},
    {init,start_em,1,[]}]

=INFO REPORT==== 27-Jun-2013::09:24:05 ===
Error description:
   {{hipe,418,{cant_find_beam_file,ssl_connection}},
    [{hipe,beam_file,1,[{file,&quot;hipe.erl&quot;},{line,418}]},
     {hipe,c,2,[{file,&quot;hipe.erl&quot;},{line,312}]},
     {rabbit,'-hipe_compile/0-lc$^1/1-1-',1,[]},
     {rabbit,'-hipe_compile/0-lc$^1/1-1-',1,[]}]}

Log files (may contain more information):
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-10-83-163-82.log</A>
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at ip-10-83-163-82-sasl.log</A>

Stack trace:
   [{rabbit,'-hipe_compile/0-lc$^2/1-2-',1,[]},
    {rabbit,hipe_compile,0,[]},
    {rabbit,maybe_hipe_compile,0,[]},
    {rabbit,'-boot/0-fun-1-',0,[]},
    {rabbit,start_it,1,[]},
    {init,start_it,1,[]},
    {init,start_em,1,[]}]

{&quot;init terminating in do_boot&quot;,{rabbit,failure_during_boot,{{hipe,418,{cant_find_beam_file,ssl_connection}},[{hipe,beam_file,1,[{file,&quot;hipe.erl&quot;},{line,418}]},{hipe,c,2,[{file,&quot;hipe.erl&quot;},{line,312}]},{rabbit,'-hipe_compile/0-lc$^1/1-1-',1,[]},{rabbit,'-hipe_compile/0-lc$^1/1-1-',1,[]}]}}}
-------------- next part --------------
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ubuntu at ip-10-195-147-127</A>:/usr/lib/erlang/lib/ssl-5.3/ebin$ ls -la
total 604
drwxr-xr-x 2 root root   4096 Jun 27 10:00 .
drwxr-xr-x 5 root root   4096 Jun 27 10:00 ..
-rw-r--r-- 1 root root    708 Jun 18 18:02 dtls.beam
-rw-r--r-- 1 root root    736 Jun 18 18:02 dtls_connection.beam
-rw-r--r-- 1 root root    736 Jun 18 18:02 dtls_handshake.beam
-rw-r--r-- 1 root root    728 Jun 18 18:02 dtls_record.beam
-rw-r--r-- 1 root root  11432 Jun 18 18:02 inet_tls_dist.beam
-rw-r--r-- 1 root root   3540 Jun 18 18:02 ssl_alert.beam
-rw-r--r-- 1 root root   1039 Jun 18 18:02 ssl.app
-rw-r--r-- 1 root root   1028 Jun 18 18:02 ssl_app.beam
-rw-r--r-- 1 root root    517 Jun 18 18:02 ssl.appup
-rw-r--r-- 1 root root  16488 Jun 18 18:02 ssl.beam
-rw-r--r-- 1 root root  15892 Jun 18 18:02 ssl_certificate.beam
-rw-r--r-- 1 root root  53536 Jun 18 18:02 ssl_cipher.beam
-rw-r--r-- 1 root root   1888 Jun 18 18:02 ssl_connection_sup.beam
-rw-r--r-- 1 root root   2360 Jun 18 18:02 ssl_dist_sup.beam
-rw-r--r-- 1 root root  23132 Jun 18 18:02 ssl_manager.beam
-rw-r--r-- 1 root root  16064 Jun 18 18:02 ssl_pkix_db.beam
-rw-r--r-- 1 root root  13588 Jun 18 18:02 ssl_session.beam
-rw-r--r-- 1 root root  11260 Jun 18 18:02 ssl_session_cache_api.beam
-rw-r--r-- 1 root root  10624 Jun 18 18:02 ssl_session_cache.beam
-rw-r--r-- 1 root root   9092 Jun 18 18:02 ssl_socket.beam
-rw-r--r-- 1 root root  24116 Jun 18 18:02 ssl_srp_primes.beam
-rw-r--r-- 1 root root   1248 Jun 18 18:02 ssl_ssl2.beam
-rw-r--r-- 1 root root  13464 Jun 18 18:02 ssl_ssl3.beam
-rw-r--r-- 1 root root   2712 Jun 18 18:02 ssl_sup.beam
-rw-r--r-- 1 root root  20216 Jun 18 18:02 ssl_tls1.beam
-rw-r--r-- 1 root root  15320 Jun 18 18:02 ssl_tls_dist_proxy.beam
-rw-r--r-- 1 root root  45616 Jun 18 18:02 tls.beam
-rw-r--r-- 1 root root 121812 Jun 18 18:02 tls_connection.beam
-rw-r--r-- 1 root root  76572 Jun 18 18:02 tls_handshake.beam
-rw-r--r-- 1 root root  31460 Jun 18 18:02 tls_record.beam
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028138.html">[rabbitmq-discuss] ANN Bunny 0.9.0.rc2 is released
</A></li>
	<LI>Next message: <A HREF="028141.html">[rabbitmq-discuss] HiPE compilation error with rabbitmq 3.1.3 and erlang R16B01: Cannot find ssl_record.beam file.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28139">[ date ]</a>
              <a href="thread.html#28139">[ thread ]</a>
              <a href="subject.html#28139">[ subject ]</a>
              <a href="author.html#28139">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
