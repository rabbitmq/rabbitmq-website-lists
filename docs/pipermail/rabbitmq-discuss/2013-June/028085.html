<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Question on throughput with RabbitMQ-3.1.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Question%20on%20throughput%20with%20RabbitMQ-3.1.1&In-Reply-To=%3CCAKgmDnGywrTd-Qk5r98GCHcH6CMxmW6vtcY-cPGnjXV8Mn%2BCZg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028092.html">
   <LINK REL="Next"  HREF="028087.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Question on throughput with RabbitMQ-3.1.1</H1>
    <B>Laing, Michael</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Question%20on%20throughput%20with%20RabbitMQ-3.1.1&In-Reply-To=%3CCAKgmDnGywrTd-Qk5r98GCHcH6CMxmW6vtcY-cPGnjXV8Mn%2BCZg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Question on throughput with RabbitMQ-3.1.1">michael.laing at nytimes.com
       </A><BR>
    <I>Tue Jun 25 14:24:14 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028092.html">[rabbitmq-discuss] Question on throughput with RabbitMQ-3.1.1
</A></li>
        <LI>Next message: <A HREF="028087.html">[rabbitmq-discuss] Question on throughput with RabbitMQ-3.1.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28085">[ date ]</a>
              <a href="thread.html#28085">[ thread ]</a>
              <a href="subject.html#28085">[ subject ]</a>
              <a href="author.html#28085">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I know a lot about the pika client but I don't see any code.

On my old mac laptop, using the pika tornado adapter (or the libev adapter
not yet released), I can publish ~20K msgs/sec (4KBytes each), saturating
my network adapter. My servers are small, and process msgs more slowly, so
network buffers fill up, and TCP backpressure is exerted, but everything
completes as expected.

Other pika async adapters run at about 3K msgs/sec in similar runs on my
mac; I don't work at all with the pika BlockingConnection so you are on
your own if you are using that.

ml


On Tue, Jun 25, 2013 at 8:59 AM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On 25/06/13 13:38, Priyanki Vashi wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I have very high end server with 20 CPUs and 120 GB of RAM so I think
</I>&gt;<i> &gt; resources wise it's not the bottleneck.
</I>&gt;<i>
</I>&gt;<i> And what about the network speed? I would still try an independent
</I>&gt;<i> bandwidth test from network to disk to give you a comparison reference.
</I>&gt;<i>
</I>&gt;<i> The numbers you quoted are about 2 orders of magnitude lower than I
</I>&gt;<i> would expect for that hardware. Bear in mind that the queue process is
</I>&gt;<i> typically the most CPU-intensive process. A queue on a single server can
</I>&gt;<i> occupy at most one CPU, so will benefit more from a faster CPU than from
</I>&gt;<i> many CPUs.
</I>&gt;<i>
</I>&gt;<i> &gt; Did u and Tim received my scripts ?
</I>&gt;<i>
</I>&gt;<i> Not yet, but hopefully someone who knows more about the Pika client than
</I>&gt;<i> me will be able to comment.
</I>&gt;<i>
</I>&gt;<i> &gt; I learnt that basic_consume is better choice than basic_get since server
</I>&gt;<i> &gt; will directly send messages to listening consumer without consumer
</I>&gt;<i> &gt; polling it.
</I>&gt;<i>
</I>&gt;<i> Yes, and the asynchronous choice is typically faster.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If you are still stuck with very low throughput then I would recommend
</I>&gt;<i> you try the MulticastMain utility, included in the RabbitMQ Java client.
</I>&gt;<i> It includes support for many of the options that you want to compare,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Emile
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130625/cc3c436c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130625/cc3c436c/attachment.htm</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028092.html">[rabbitmq-discuss] Question on throughput with RabbitMQ-3.1.1
</A></li>
	<LI>Next message: <A HREF="028087.html">[rabbitmq-discuss] Question on throughput with RabbitMQ-3.1.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28085">[ date ]</a>
              <a href="thread.html#28085">[ thread ]</a>
              <a href="subject.html#28085">[ subject ]</a>
              <a href="author.html#28085">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
