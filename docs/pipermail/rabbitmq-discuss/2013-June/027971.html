<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq-c how many channels I need?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-c%20how%20many%20channels%20I%20need%3F&In-Reply-To=%3CC5BBDF06-95A2-44BC-A9B2-EBCA487FF489%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027969.html">
   <LINK REL="Next"  HREF="027986.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq-c how many channels I need?</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-c%20how%20many%20channels%20I%20need%3F&In-Reply-To=%3CC5BBDF06-95A2-44BC-A9B2-EBCA487FF489%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq-c how many channels I need?">tim at rabbitmq.com
       </A><BR>
    <I>Wed Jun 19 12:25:49 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027969.html">[rabbitmq-discuss] rabbitmq-c how many channels I need?
</A></li>
        <LI>Next message: <A HREF="027986.html">[rabbitmq-discuss] rabbitmq-c how many channels I need?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27971">[ date ]</a>
              <a href="thread.html#27971">[ thread ]</a>
              <a href="subject.html#27971">[ subject ]</a>
              <a href="author.html#27971">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19 Jun 2013, at 11:38, 3k4b251 wrote:
&gt;<i> thank  you!    like  you say,  i  not  very  skillful  at  rabbitmq-c.     I
</I>&gt;<i> test  it  ,  I  found  that  if  I  use  the function 
</I>&gt;<i> amqp_maybe_release_buffers()  after  amqp_queue_declare(),  the memory  stop 
</I>&gt;<i> grow up .
</I>&gt;<i> but the function  amqp_basic_consume()  still  have high use  of  memory..?
</I>&gt;<i> 
</I>
Probably because it's (a) allocating data to manage the consumer/channel, (b) allocating buffers to handle the incoming data and (c) bringing data in from the kernel (via syscalls such as recv and so on) to user space so as to present it to your application. What exactly were you expecting to see once your application started consuming data from the queues? Of course it's going to use memory!? Are you actually seeing memory use that is unexpected here? Is that because it is (a) higher than you would expect to see, or (b) not getting released when you think it should? One of those two (latter) things might indicate a problem (either in your code or in some library you might be calling) but generally speaking &quot;doing stuff&quot; requires memory, so saying &quot;still have high use of memory&quot; isn't much to go on.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027969.html">[rabbitmq-discuss] rabbitmq-c how many channels I need?
</A></li>
	<LI>Next message: <A HREF="027986.html">[rabbitmq-discuss] rabbitmq-c how many channels I need?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27971">[ date ]</a>
              <a href="thread.html#27971">[ thread ]</a>
              <a href="subject.html#27971">[ subject ]</a>
              <a href="author.html#27971">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
