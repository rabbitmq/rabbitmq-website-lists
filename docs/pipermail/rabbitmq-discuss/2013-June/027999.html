<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ cluster can't startup
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20cluster%20can%27t%20startup&In-Reply-To=%3CCAJxbUuUBMbDYHNZate-4jZDDUQBtWwYB7i8dFYHJERg5wTsu%3DQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027994.html">
   <LINK REL="Next"  HREF="028000.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ cluster can't startup</H1>
    <B>Doug</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20cluster%20can%27t%20startup&In-Reply-To=%3CCAJxbUuUBMbDYHNZate-4jZDDUQBtWwYB7i8dFYHJERg5wTsu%3DQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ cluster can't startup">doug at hacks.perl.sh
       </A><BR>
    <I>Thu Jun 20 09:42:55 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027994.html">[rabbitmq-discuss] RabbitMQ Plugin for New Relic Now Available
</A></li>
        <LI>Next message: <A HREF="028000.html">[rabbitmq-discuss] RabbitMQ cluster can't startup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27999">[ date ]</a>
              <a href="thread.html#27999">[ thread ]</a>
              <a href="subject.html#27999">[ subject ]</a>
              <a href="author.html#27999">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

We have 3 nodes as a cluster.
But today due to a power off all 3 hosts are down.
After the hosts get up we startup the rabbitmq on each server.
But they can't get started. the startup_log says as below.
Can you help? Thanks.


node           : <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at default74</A>
app descriptor :
/usr/lib/rabbitmq/lib/rabbitmq_server-3.0.1/sbin/../ebin/rabbit.app
home dir       : /var/lib/rabbitmq
config file(s) : (none)
cookie hash    : gK39sZ9ArVpWGzGJIi4ZrQ==
log            : /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at default74.log</A>
sasl log       : /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at default74-sasl.log</A>
database dir   : /var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at default74</A>
erlang version : 5.9.1

-- rabbit boot start
starting file handle cache server                                     ...done
starting worker pool                                                  ...done
starting database                                                     ...

BOOT FAILED
===========

Timeout contacting cluster nodes: [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at default73</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at default72</A>].

DIAGNOSTICS
===========

nodes in question: [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at default73</A><A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">,rabbit at default72</A>]

hosts, their running nodes and ports:
- default72: [{ns_1,21100}]
- default73: [{ns_1,21100}]

current node details:
- node name: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at default74</A>
- home dir: /var/lib/rabbitmq
- cookie hash: gK39sZ9ArVpWGzGJIi4ZrQ==




BOOT FAILED
===========

Error description:
   {could_not_start,rabbit,
       {bad_return,
           {{rabbit,start,[normal,[]]},
            {'EXIT',
                {rabbit,failure_during_boot,
                    {error,
                        {timeout_waiting_for_tables,
                            [rabbit_user,rabbit_user_permission,rabbit_vhost,
                             rabbit_durable_route,rabbit_durable_exchange,
                             rabbit_runtime_parameters,
                             rabbit_durable_queue]}}}}}}}

Log files (may contain more information):
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at default74.log</A>
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at default74-sasl.log</A>

{&quot;init terminating in
do_boot&quot;,{rabbit,failure_during_boot,{could_not_start,rabbit,{bad_return,{{rabbit,start,[normal,[]]},{'EXIT',{rabbit,failure_during_boot,{error,{timeout_waiting_for_tables,[rabbit_user,rabbit_user_permission,rabbit_vhost,rabbit_durable_route,rabbit_durable_exchange,rabbit_runtime_parameters,rabbit_durable_queue]}}}}}}}}}
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027994.html">[rabbitmq-discuss] RabbitMQ Plugin for New Relic Now Available
</A></li>
	<LI>Next message: <A HREF="028000.html">[rabbitmq-discuss] RabbitMQ cluster can't startup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27999">[ date ]</a>
              <a href="thread.html#27999">[ thread ]</a>
              <a href="subject.html#27999">[ subject ]</a>
              <a href="author.html#27999">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
