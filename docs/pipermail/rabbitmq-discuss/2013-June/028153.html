<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Error: unable to connect to node rabbit at localhost: nodedown
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Error%3A%20unable%20to%20connect%20to%20node%0A%20rabbit%40localhost%3A%20nodedown&In-Reply-To=%3CCAKgmDnH14Zd78OfG-nXCoka-_0TiWRh4uZ3C85SHQLwbq7aTxw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="028152.html">
   <LINK REL="Next"  HREF="028154.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Error: unable to connect to node rabbit at localhost: nodedown</H1>
    <B>Laing, Michael</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Error%3A%20unable%20to%20connect%20to%20node%0A%20rabbit%40localhost%3A%20nodedown&In-Reply-To=%3CCAKgmDnH14Zd78OfG-nXCoka-_0TiWRh4uZ3C85SHQLwbq7aTxw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Error: unable to connect to node rabbit at localhost: nodedown">michael.laing at nytimes.com
       </A><BR>
    <I>Thu Jun 27 18:53:41 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="028152.html">[rabbitmq-discuss] Error: unable to connect to node	rabbit at localhost: nodedown
</A></li>
        <LI>Next message: <A HREF="028154.html">[rabbitmq-discuss] [Java-client] How to catch the error or exception while call basic operation?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28153">[ date ]</a>
              <a href="thread.html#28153">[ thread ]</a>
              <a href="subject.html#28153">[ subject ]</a>
              <a href="author.html#28153">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>What does /etc/hosts look like? Can 'localhost' resolve?


On Thu, Jun 27, 2013 at 12:51 PM, Travis Jensen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">travis.jensen at gmail.com</A>&gt;wrote:

&gt;<i>
</I>&gt;<i> So I had rabbitmq working fine on my laptop, then had to reboot somewhere
</I>&gt;<i> else where my hostname wouldn't resolve and it failed to start. As annoying
</I>&gt;<i> as that was, I figured I would just wait until I got back to my DNS and
</I>&gt;<i> then restart it.  Wrong.
</I>&gt;<i>
</I>&gt;<i> So, after searching and futzing for an hour, I decided I needed to upgrade
</I>&gt;<i> anyway, so I uninstalled 3.0.4, cleaned up all the old configuration files,
</I>&gt;<i> db directories and such, and installed 3.1.0 (note: Using OS X 10.7.5,
</I>&gt;<i> Erlang R15B03 and Homebrew).
</I>&gt;<i>
</I>&gt;<i> Now, I continue to see the same behavior:
</I>&gt;<i>
</I>&gt;<i> $ rabbitmqctl add_user test test_pass
</I>&gt;<i> Creating user &quot;test&quot; ...
</I>&gt;<i> Error: unable to connect to node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A>: nodedown
</I>&gt;<i>
</I>&gt;<i> DIAGNOSTICS
</I>&gt;<i> ===========
</I>&gt;<i>
</I>&gt;<i> nodes in question: [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A>]
</I>&gt;<i>
</I>&gt;<i> hosts, their running nodes and ports:
</I>&gt;<i> - localhost: []
</I>&gt;<i>
</I>&gt;<i> current node details:
</I>&gt;<i> - node name: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">nonode at nohost</A>
</I>&gt;<i> - home dir: /Users/travis
</I>&gt;<i> - cookie hash: 92vmrXD/iLl+OKWxh4sEhQ==
</I>&gt;<i>
</I>&gt;<i> This is how things looked on startup:
</I>&gt;<i>
</I>&gt;<i> $ rabbitmq-server
</I>&gt;<i>
</I>&gt;<i>               RabbitMQ 3.1.0. Copyright (C) 2007-2013 VMware, Inc.
</I>&gt;<i>   ##  ##      Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>
</I>&gt;<i>   ##  ##
</I>&gt;<i>   ##########  Logs: /usr/local/var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost.log</A>
</I>&gt;<i>   ######  ##        /usr/local/var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost-sasl.log</A>
</I>&gt;<i>   ##########
</I>&gt;<i>               Starting broker... completed with 7 plugins.
</I>&gt;<i>
</I>&gt;<i> And the logs seem pretty nominal. Note that the *rabbitmqctl* connection
</I>&gt;<i> never shows up, but I can telnet in to port 5672 and see a failed
</I>&gt;<i> connection show up. Unsurprisingly, the issue seems to revolve around the
</I>&gt;<i> *node: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">nonode at nohost</A>* that I've highlighted in the logs below.  This
</I>&gt;<i> behavior persists even if I explicitly set *
</I>&gt;<i> RABBITMQ_NODENAME=<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A>* when I run rabbitmq-server.
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:02 ===
</I>&gt;<i> Starting RabbitMQ 3.1.0 on Erlang R15B03
</I>&gt;<i> Copyright (C) 2007-2013 VMware, Inc.
</I>&gt;<i> Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:02 ===
</I>&gt;<i> *node           : <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">nonode at nohost</A>*
</I>&gt;<i> home dir       : /Users/travis
</I>&gt;<i> cookie hash    : 92vmrXD/iLl+OKWxh4sEhQ==
</I>&gt;<i> log            : /usr/local/var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost.log</A>
</I>&gt;<i> sasl log       : /usr/local/var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost-sasl.log</A>
</I>&gt;<i> database dir   : /usr/local/var/lib/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A>
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Limiting to approx 156 file handles (138 sockets)
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Memory limit set to 1439MB of 3597MB total.
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Disk free limit set to 1000MB
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> msg_store_transient: using rabbit_msg_store_ets_index to provide index
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> msg_store_persistent: using rabbit_msg_store_ets_index to provide index
</I>&gt;<i>
</I>&gt;<i> =WARNING REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> msg_store_persistent: rebuilding indices from scratch
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Adding vhost '/'
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Creating user 'guest'
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Setting user tags for user 'guest' to [administrator]
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Setting permissions for 'guest' in '/' to '.*', '.*', '.*'
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> started TCP Listener on 127.0.0.1:5672
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Management plugin started. Port: 15672
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Statistics database started.
</I>&gt;<i>
</I>&gt;<i> =INFO REPORT==== 27-Jun-2013::10:32:03 ===
</I>&gt;<i> Server startup complete; 7 plugins started.
</I>&gt;<i>  * amqp_client
</I>&gt;<i>  * mochiweb
</I>&gt;<i>  * rabbitmq_management
</I>&gt;<i>  * rabbitmq_management_agent
</I>&gt;<i>  * rabbitmq_management_visualiser
</I>&gt;<i>  * rabbitmq_web_dispatch
</I>&gt;<i>  * webmachine
</I>&gt;<i>
</I>&gt;<i> My rabbitmq-env.conf file is pretty simple (the Homebrew default, in fact):
</I>&gt;<i>
</I>&gt;<i> CONFIG_FILE=/usr/local/etc/rabbitmq/rabbitmq
</I>&gt;<i> NODE_IP_ADDRESS=127.0.0.1
</I>&gt;<i> NODENAME=<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A>
</I>&gt;<i>
</I>&gt;<i> And, after going through my previous rabbitmq.config file to remove
</I>&gt;<i> everything that either was a default or no longer existed as a
</I>&gt;<i> configuration option, my configuration file looks like:
</I>&gt;<i>
</I>&gt;<i> [].
</I>&gt;<i>
</I>&gt;<i> Just to make sure I don't have any weird environment variables I didn't
</I>&gt;<i> remember persisting, I ran a *set | grep -i rabbit* and got an empty
</I>&gt;<i> set.  I also removed *~/.erlang.cookie*, to make sure it wasn't messing
</I>&gt;<i> things up.
</I>&gt;<i>
</I>&gt;<i> So I've reached the end of what Google and the docs have been able to tell
</I>&gt;<i> me. Help is most graciously appreciated.
</I>&gt;<i>
</I>&gt;<i> tj
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130627/f3b7ea8a/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130627/f3b7ea8a/attachment.htm</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="028152.html">[rabbitmq-discuss] Error: unable to connect to node	rabbit at localhost: nodedown
</A></li>
	<LI>Next message: <A HREF="028154.html">[rabbitmq-discuss] [Java-client] How to catch the error or exception while call basic operation?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#28153">[ date ]</a>
              <a href="thread.html#28153">[ thread ]</a>
              <a href="subject.html#28153">[ subject ]</a>
              <a href="author.html#28153">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
