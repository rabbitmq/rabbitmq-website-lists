<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq vs. Activemq
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20vs.%20Activemq&In-Reply-To=%3CCAHEpgBB8x%2BRqh070VvrP1ARtUqM_T1C_Hu60BieHJwfFzmzRLg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027932.html">
   <LINK REL="Next"  HREF="027935.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq vs. Activemq</H1>
    <B>Chris</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20vs.%20Activemq&In-Reply-To=%3CCAHEpgBB8x%2BRqh070VvrP1ARtUqM_T1C_Hu60BieHJwfFzmzRLg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq vs. Activemq">stuff at moesel.net
       </A><BR>
    <I>Tue Jun 18 13:20:36 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027932.html">[rabbitmq-discuss] Rabbitmq vs. Activemq
</A></li>
        <LI>Next message: <A HREF="027935.html">[rabbitmq-discuss] rabbitmq-c   how many channels  I  need?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27943">[ date ]</a>
              <a href="thread.html#27943">[ thread ]</a>
              <a href="subject.html#27943">[ subject ]</a>
              <a href="author.html#27943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A couple of other things to consider:

1) Message durability: In my own informal tests (about 8 months ago), I
found that ActiveMQ took a very significant hit once you turned on message
persistence.  RabbitMQ also took a hit, but it was much less significant.

2) Clustering / High Availability: If you need to cluster the brokers for
HA or failover, there are significant differences here.  Last I checked,
ActiveMQ only supported active/passive configurations and they were fairly
difficult to configure, or required separate shared storage nodes.
 RabbitMQ supports active/active configurations, is easy to configure, and
requires no other external dependencies.  That said, I did find that
ActiveMQ clients have better support for automatic failover than most
RabbitMQ clients (so you have to implement it yourself in RabbitMQ clients
or find an add-on library for it).

Disclaimer: I did my research on ActiveMQ 5.7, so you may want to check if
ActiveMQ 5.8 addresses some of these problems...

-Chris

-Chris


On Tue, Jun 18, 2013 at 5:45 AM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:

&gt;<i> If your primary concern is latency, testing with a maxed-out message rate
</I>&gt;<i> (which it seems is what you are doing) will give very dubious results.
</I>&gt;<i> Maxing out the message rate means that all internal buffers are full, and
</I>&gt;<i> thus messages take a while to get through the broker.
</I>&gt;<i>
</I>&gt;<i> The same is presumably true for ActiveMQ, but presumably it has smaller
</I>&gt;<i> buffers.
</I>&gt;<i>
</I>&gt;<i> This is even more true if your tests are able to publish messages faster
</I>&gt;<i> than they consume (which I guess is what's happening in your last row) - if
</I>&gt;<i> your test ends up enqueueing messages and then taking a while to dequeue
</I>&gt;<i> them then I am not surprised you see high latency.
</I>&gt;<i>
</I>&gt;<i> Dropping your message rate to even 90% of the maximum will give huge
</I>&gt;<i> latency gains - see the final chart here:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/blog/**2012/04/17/rabbitmq-**">http://www.rabbitmq.com/blog/**2012/04/17/rabbitmq-**</A>
</I>&gt;<i> performance-measurements-part-**1/&lt;<A HREF="http://www.rabbitmq.com/blog/2012/04/17/rabbitmq-performance-measurements-part-1/">http://www.rabbitmq.com/blog/2012/04/17/rabbitmq-performance-measurements-part-1/</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Finally, I would be wary of constructing a synthetic benchmark and then
</I>&gt;<i> using it to pick which product you go with, unless you determine that one
</I>&gt;<i> product has acceptable performance and others do not. Factors such as
</I>&gt;<i> reliability, ease of use, feature set and so on tend to be more important
</I>&gt;<i> than a 10% difference in performance.
</I>&gt;<i>
</I>&gt;<i> Hopefully I would still be saying that even if RabbitMQ were &quot;winning&quot;
</I>&gt;<i> your tests :-)
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 18/06/13 04:00, JC wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We are in the process of evaluating middleware and choosing which
</I>&gt;&gt;<i> middleware we pick for a potentially large scale distributed
</I>&gt;&gt;<i> application.    We did an evaluation between activemq and rabbitmq with
</I>&gt;&gt;<i> different test cases. So far activemq has outperformed rabbitmq using
</I>&gt;&gt;<i> the default out-of-box configuration especially on the latency side.
</I>&gt;&gt;<i> We use activemq openWire protocol vs. rabbit AMQP,  Here is one example
</I>&gt;&gt;<i> result of the test we did on 1 publisher/1 consumer and we measure the
</I>&gt;&gt;<i> latency from send to receive time.    Similar results we get from
</I>&gt;&gt;<i> multiple consumers as well.  Any one has done the similar benchmark?
</I>&gt;&gt;<i> Could you please share your experience?  And if anyone knows the tips to
</I>&gt;&gt;<i> boost rabbitmq performance, please let us know.   The rabbit test client
</I>&gt;&gt;<i> is using fanout exchange and MINIMAL_BASIC to publish messages.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> BrokerType      Publishers      Consumers       SlowConsumers
</I>&gt;&gt;<i> TgtMsgRate(mps)
</I>&gt;&gt;<i> TgtMsgLimit     AvgMsgSentRate(mps)     AvgSentTime(ns)
</I>&gt;&gt;<i> AvgMsgRcvRate(mps)
</I>&gt;&gt;<i> MinLat(ns)      MaxLat(ns)      AvgLat(ns)      MedLat(ns)      90%Lat(ns)
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Activemq at middlewarebench</A>        1       1       0       25000   1000000
</I>&gt;&gt;<i>         20776   5644    20776
</I>&gt;&gt;<i> 99484   7959080         259337  255760  316848
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Rabbit at middlewarebench</A>  1       1       0       25000   1000000
</I>&gt;&gt;<i> 20749   5440    20749
</I>&gt;&gt;<i> 171994  46140955        870211  913283  988979
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Activemq at middlewarebench</A>        1       1       0       100000  1000000
</I>&gt;&gt;<i>         62695   5347    62695
</I>&gt;&gt;<i> 100634  19872040        491588  359763  510862
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Rabbit at middlewarebench</A>  1       1       0       100000  1000000
</I>&gt;&gt;<i> 56850   6790    54512
</I>&gt;&gt;<i> 315808  822398215       487403726       487170082       696265654
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ______________________________**_________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Simon MacMullen
</I>&gt;<i> RabbitMQ, Pivotal
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130618/6a5f19fd/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130618/6a5f19fd/attachment.htm</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027932.html">[rabbitmq-discuss] Rabbitmq vs. Activemq
</A></li>
	<LI>Next message: <A HREF="027935.html">[rabbitmq-discuss] rabbitmq-c   how many channels  I  need?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27943">[ date ]</a>
              <a href="thread.html#27943">[ thread ]</a>
              <a href="subject.html#27943">[ subject ]</a>
              <a href="author.html#27943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
