<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Script/Connection not getting terminated.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Script/Connection%20not%20getting%20terminated.&In-Reply-To=%3CCAE3HoVQmNa0KFUerT55%3DXhNG04EVkdCkFb169Bbn5w2CT%2B4WHQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027756.html">
   <LINK REL="Next"  HREF="027761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Script/Connection not getting terminated.</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Script/Connection%20not%20getting%20terminated.&In-Reply-To=%3CCAE3HoVQmNa0KFUerT55%3DXhNG04EVkdCkFb169Bbn5w2CT%2B4WHQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Script/Connection not getting terminated.">michael.s.klishin at gmail.com
       </A><BR>
    <I>Fri Jun  7 11:20:11 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027756.html">[rabbitmq-discuss] Script/Connection not getting terminated.
</A></li>
        <LI>Next message: <A HREF="027761.html">[rabbitmq-discuss] Script/Connection not getting terminated.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27758">[ date ]</a>
              <a href="thread.html#27758">[ thread ]</a>
              <a href="subject.html#27758">[ subject ]</a>
              <a href="author.html#27758">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2013/6/7 tluck &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tilak.chauhan at ymail.com</A>&gt;

&gt;<i> while ($msg = $channel-&gt;basic_get($queue)) {
</I>&gt;<i>     consumerMessage($msg, $connection, $channel);
</I>&gt;<i> }
</I>&gt;<i>
</I>
I suspect this code uses automatic acknowledgement mode. In other words,
RabbitMQ considers the message acknowledged as soon as
it sends it out.

If you want to use explicit acks (it only makes sense if you want messages
to be requeued
in case your consumer crashes), you need to specify it as an extra argument
to basic.get.

Alternatively you can stop using explicit acks. In that case a consumer
that fails before the messages is
processed will cause the message to be lost.
-- 
MK

<A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
<A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130607/5672e132/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130607/5672e132/attachment.htm</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027756.html">[rabbitmq-discuss] Script/Connection not getting terminated.
</A></li>
	<LI>Next message: <A HREF="027761.html">[rabbitmq-discuss] Script/Connection not getting terminated.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27758">[ date ]</a>
              <a href="thread.html#27758">[ thread ]</a>
              <a href="subject.html#27758">[ subject ]</a>
              <a href="author.html#27758">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
