<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RPC response/reply for RabbitMQ - Timeouts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RPC%20response/reply%20for%20RabbitMQ%20-%20Timeouts&In-Reply-To=%3CCDDCF256.9FC9%25Michael.Laing%40nytimes.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="027825.html">
   <LINK REL="Next"  HREF="027805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RPC response/reply for RabbitMQ - Timeouts</H1>
    <B>Laing, Michael P.</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RPC%20response/reply%20for%20RabbitMQ%20-%20Timeouts&In-Reply-To=%3CCDDCF256.9FC9%25Michael.Laing%40nytimes.com%3E"
       TITLE="[rabbitmq-discuss] RPC response/reply for RabbitMQ - Timeouts">Michael.Laing at nytimes.com
       </A><BR>
    <I>Tue Jun 11 20:35:35 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="027825.html">[rabbitmq-discuss] RPC response/reply for RabbitMQ - Timeouts
</A></li>
        <LI>Next message: <A HREF="027805.html">[rabbitmq-discuss] Mirrored Queues Disappearing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27826">[ date ]</a>
              <a href="thread.html#27826">[ thread ]</a>
              <a href="subject.html#27826">[ subject ]</a>
              <a href="author.html#27826">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just use pika's Connection.add_timeout method with a callback.

ml
From: Chris &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stuff at moesel.net</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stuff at moesel.net</A>&gt;&gt;
Reply-To: rabbitmq &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;&gt;
Date: Tuesday, June 11, 2013 12:31 PM
To: rabbitmq &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;&gt;
Cc: &quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at googlegroups.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at googlegroups.com</A>&gt;&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at googlegroups.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at googlegroups.com</A>&gt;&gt;
Subject: Re: [rabbitmq-discuss] RPC response/reply for RabbitMQ - Timeouts

If you do figure out how to use client timeouts, you may also want to consider using per-message TTL if you don't care about the message anymore after a timeout.  This can save unnecessary processing of messages that no longer have an interested participant.  On the other hand, if you want the message processed, even after the client times out, then you better not do this.

<A HREF="https://www.rabbitmq.com/ttl.html#per-message-ttl">https://www.rabbitmq.com/ttl.html#per-message-ttl</A>

-Chris


On Tue, Jun 11, 2013 at 11:41 AM, Tim Watson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at rabbitmq.com</A>&gt;&gt; wrote:
On 11 Jun 2013, at 01:53, JayD wrote:
All information is old that I have seen on this.  Is there yet a way to define a client side timeout on an rpc style call.  I find it hard to believe that one would have to leave the request hanging if the server is not up and running.

Does anyone have a good solution for this at this point in time?  On the client side I am using pika.


This kind of problem is generally solved using threads, or some kind of non-blocking I/O event loop. I have no idea how Pika does it - I think it depends on which kind of consumer you've set up - but I'd suggest you try asking on the pika mailing list - <A HREF="https://groups.google.com/forum/#!forum/pika-python&lt;https://groups.google.com/forum/#%21forum/pika-python">https://groups.google.com/forum/#!forum/pika-python&lt;https://groups.google.com/forum/#%21forum/pika-python</A>&gt;.

Cheers,
Tim

_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130611/b55089a6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130611/b55089a6/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="027825.html">[rabbitmq-discuss] RPC response/reply for RabbitMQ - Timeouts
</A></li>
	<LI>Next message: <A HREF="027805.html">[rabbitmq-discuss] Mirrored Queues Disappearing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#27826">[ date ]</a>
              <a href="thread.html#27826">[ thread ]</a>
              <a href="subject.html#27826">[ subject ]</a>
              <a href="author.html#27826">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
