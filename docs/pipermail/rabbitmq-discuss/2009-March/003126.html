<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Monitoring RabbitMQ from JMX
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Monitoring%20RabbitMQ%20from%20JMX&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003125.html">
   <LINK REL="Next"  HREF="003127.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Monitoring RabbitMQ from JMX</H1>
    <B>Chris Pettitt</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Monitoring%20RabbitMQ%20from%20JMX&In-Reply-To="
       TITLE="[rabbitmq-discuss] Monitoring RabbitMQ from JMX">cpettitt at gmail.com
       </A><BR>
    <I>Tue Mar  3 18:40:19 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003125.html">[rabbitmq-discuss] RabbitMQ 1.5.3 in MacPorts
</A></li>
        <LI>Next message: <A HREF="003127.html">[rabbitmq-discuss] Monitoring RabbitMQ from JMX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3126">[ date ]</a>
              <a href="thread.html#3126">[ thread ]</a>
              <a href="subject.html#3126">[ subject ]</a>
              <a href="author.html#3126">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I'm currently exploring monitoring options for RabbitMQ. There is a monitoring
page on the RabbitMQ site [1] from July 2008 that describes some potential
solutions, but it's not clear if anything has been done since that discussion.

I'd like to expose monitoring through JMX. Is there anything that does
that already
or that can be adapted to such a purpose?

If not, I've thought about a few ways I could implement it, but I would be
happy to get feedback from the folks on this list. Here are some thoughts:

1. I could write a JMX system to talk to rabbit_amqqueue directly
using JInterface.
I prototyped this approach successfully, but it seems wrong to depend on the
functions in rabbit_amqqueue directly, especially if they are not a public API.

2. I could write a small Erlang process that proxies requests to the action
function in rabbit_control. The benefit of this is that rabbit_control
aggregates monitoring across several modules and the client is less sensitive
to changes to rabbit_amqqueue and other modules. Using an Erlang process is
also nice because I wouldn't have to spawn rabbitmqctl for each request. With
this solution the JMX system could communicate with the process using either
JInterface or pipes (though I prefer the former unless there is a good reason
to avoid it).

Thoughts? Is there a good alternative I'm missing?

Thanks,
Chris

[1]: <A HREF="https://dev.rabbitmq.com/wiki/ManagementAndMonitoring">https://dev.rabbitmq.com/wiki/ManagementAndMonitoring</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003125.html">[rabbitmq-discuss] RabbitMQ 1.5.3 in MacPorts
</A></li>
	<LI>Next message: <A HREF="003127.html">[rabbitmq-discuss] Monitoring RabbitMQ from JMX
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3126">[ date ]</a>
              <a href="thread.html#3126">[ thread ]</a>
              <a href="subject.html#3126">[ subject ]</a>
              <a href="author.html#3126">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
