<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Flow Control in RabbitMQ 1.5.3
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Flow%20Control%20in%20RabbitMQ%201.5.3&In-Reply-To=de47e4420903231145k6c16bffdoabd428d2270c06cb%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003209.html">
   <LINK REL="Next"  HREF="003213.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Flow Control in RabbitMQ 1.5.3</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Flow%20Control%20in%20RabbitMQ%201.5.3&In-Reply-To=de47e4420903231145k6c16bffdoabd428d2270c06cb%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Flow Control in RabbitMQ 1.5.3">matthias at lshift.net
       </A><BR>
    <I>Mon Mar 23 20:14:11 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="003209.html">[rabbitmq-discuss] Flow Control in RabbitMQ 1.5.3
</A></li>
        <LI>Next message: <A HREF="003213.html">[rabbitmq-discuss] Flow Control in RabbitMQ 1.5.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3212">[ date ]</a>
              <a href="thread.html#3212">[ thread ]</a>
              <a href="subject.html#3212">[ subject ]</a>
              <a href="author.html#3212">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Chris,

Chris Pettitt wrote:
&gt;<i> I found an article that talks about flow control in RabbitMQ 1.5.0
</I>&gt;<i> [1]. It doesn't seem to work in our 1.5.3 setup. When I start rabbit
</I>&gt;<i> from erl, I see that the memsup app is not started. I checked the
</I>&gt;<i> rabbitmq-server configuration and see &quot;-os_mon start_memsup false&quot;.
</I>&gt;<i> I've tried setting start_memsup to true and I've also tried starting
</I>&gt;<i> memsup manually before calling rabbit:start(). Neither seems to cause
</I>&gt;<i> flow control information to be logged and both still result in the
</I>&gt;<i> erlang node crashing.
</I>&gt;<i> 
</I>&gt;<i> I very strongly suspect user error, but I'd appreciate some guidance
</I>&gt;<i> on how to enable this feature.
</I>
See <A HREF="http://www.rabbitmq.com/admin-guide.html#memsup">http://www.rabbitmq.com/admin-guide.html#memsup</A> - you are supposed 
to be using &quot;-rabbit memory_alarms true&quot;.  Enabling memsup the way you 
did should be ok too though as long the server isn't low on memory to 
start with and you wait at least a minute before stressing it. You may 
need to tweak the threshold. Also, we don't know whether memsup on 
Solaris is producing the right information, which is why rabbit leaves 
it turned off by default on that platform. So if you can do some 
testing/investigation that would be great.


Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003209.html">[rabbitmq-discuss] Flow Control in RabbitMQ 1.5.3
</A></li>
	<LI>Next message: <A HREF="003213.html">[rabbitmq-discuss] Flow Control in RabbitMQ 1.5.3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3212">[ date ]</a>
              <a href="thread.html#3212">[ thread ]</a>
              <a href="subject.html#3212">[ subject ]</a>
              <a href="author.html#3212">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
