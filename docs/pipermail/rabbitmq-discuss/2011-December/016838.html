<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Clustering failure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20failure&In-Reply-To=%3CCDC4D88A8145494AB11398668CB5793E02D3F9A31E36%40EXCHANGE.int.capulaglobal.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016849.html">
   <LINK REL="Next"  HREF="016839.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Clustering failure</H1>
    <B>Dan Wise</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20failure&In-Reply-To=%3CCDC4D88A8145494AB11398668CB5793E02D3F9A31E36%40EXCHANGE.int.capulaglobal.com%3E"
       TITLE="[rabbitmq-discuss] Clustering failure">DWise at capulaglobal.com
       </A><BR>
    <I>Tue Dec 13 09:24:08 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016849.html">[rabbitmq-discuss] Orderly purge of a queue without losing	messages
</A></li>
        <LI>Next message: <A HREF="016839.html">[rabbitmq-discuss] Clustering failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16838">[ date ]</a>
              <a href="thread.html#16838">[ thread ]</a>
              <a href="subject.html#16838">[ subject ]</a>
              <a href="author.html#16838">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

We have been running a dual-node cluster (2.6.1) for some time, with one disk and one ram node. Last night we had a complete power outage, and when the power came back on, the ram node came up first. However it came up with a blank configuration. We were then unable to start the disk node due to a cookie mismatch or some other corruption.

To get the cluster started again we had to stop the ram node, then start the disk node. Once the disk node was back up, the ram node came up with the mirrored configuration.

My question is, is there a way of changing this configuration so that it does not matter which order the nodes come back up after a total outage? Can both nodes be disk nodes (I always assumed not)? We cannot rely on the fact that the disk node will be usable after such a failure.

I am a great fan of RabbitMQ and it would be good to understand these failure scenarios better so we can learn how to handle them in future.

Many thanks,

Dan.




_____________________________________________________________________________________________
This email and any attachments are confidential, for the exclusive  attention of the recipient 
and may also be legally privileged or otherwise protected from disclosure.  No information 
contained herein shall be disclosed to any other person without our written consent unless 
it is clearly publicly available or otherwise specified by us for onward transmission.  
If you received this email in error, please notify the sender by return email or by telephone 
on +44 (0)20 7071 0900; do not duplicate or redistribute it by any means; and delete or 
otherwise destroy all copies whether in electronic or hard copy form. 
 
Any views contained in this email are those of the author and may not reflect those of any 
Capula entity.  We reserve the right to monitor and review all emails within our network to 
ensure compliance with our policies and to protect our business. Emails are not secure and 
are not warranted by us to be free of errors nor of viruses nor of other defects which may
affect a computer system. Anyone who communicates with us by email is taken to accept these 
risks. Unless specifically indicated, this email is not an offer or solicitation to buy or 
sell any investment product. Any information regarding investment products is subject to 
change without notice.     
 
Capula Investment Management LLP is registered in England no. OC313398 and is authorised 
and regulated by the Financial Services Authority.  Capula Investment Services Ltd is 
registered in England no. 05460265. The registered office of both companies is 4th Floor, Reading Bridge House, George Street, Reading,RG1 8LS. The principal place of business of both companies is 
8 Lancelot Place, London SW7 1DR.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111213/2e81e4be/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111213/2e81e4be/attachment.htm</A>&gt;
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016849.html">[rabbitmq-discuss] Orderly purge of a queue without losing	messages
</A></li>
	<LI>Next message: <A HREF="016839.html">[rabbitmq-discuss] Clustering failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16838">[ date ]</a>
              <a href="thread.html#16838">[ thread ]</a>
              <a href="subject.html#16838">[ subject ]</a>
              <a href="author.html#16838">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
