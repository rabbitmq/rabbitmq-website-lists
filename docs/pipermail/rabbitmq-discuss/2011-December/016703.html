<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message timeouts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20timeouts&In-Reply-To=%3C855F810E-DE11-413C-B3D6-D65D5CA82EC9%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016741.html">
   <LINK REL="Next"  HREF="016722.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message timeouts</H1>
    <B>Steve Powell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20timeouts&In-Reply-To=%3C855F810E-DE11-413C-B3D6-D65D5CA82EC9%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Message timeouts">steve at rabbitmq.com
       </A><BR>
    <I>Fri Dec  2 14:39:28 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016741.html">[rabbitmq-discuss] Message timeouts
</A></li>
        <LI>Next message: <A HREF="016722.html">[rabbitmq-discuss] Message timeouts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16703">[ date ]</a>
              <a href="thread.html#16703">[ thread ]</a>
              <a href="subject.html#16703">[ subject ]</a>
              <a href="author.html#16703">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Alex,

Just to be precise about this: the 'standard' RpcServer uses a passed in queue
or creates its queue as follows:

	queueDeclare()

which is equivalent to:

	queueDeclare(&quot;&quot;, false, true, true, null)

which creates a non-durable, exclusive, auto-delete queue, named by the broker.

If you want your queue to survive the connection, it mustn't be exclusive to the
connection that creates it.

In order to survive a server failure you would make it durable.

To re-use the same queue later (after upgrade?), you had better name it yourself
(and re-use the name each time).

If the queue should persist after the last consumer (RpcServer?) is cancelled
from the queue, then it should not be auto-delete.

Does this give you the flexibility you require?

I do not know  your situation exactly, but it looks as though you need a named
non-exclusive queue, at the very least.
If you expect each server instance to be solely responsible for the request
queue it serves, then a simple naming scheme will suffice, but you still have to
be careful to have at most one instance of that server running at any one time.

Of course, having more than one server processing requests from a queue is
alright, too; if you are happy with way requests are shared out.

Steve Powell
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">steve at rabbitmq.com</A>
[wrk: +44-2380-111-528] [mob: +44-7815-838-558]

On 2 Dec 2011, at 12:44, Matthias Radestock wrote:
&gt;<i> On 02/12/11 12:36, Alex Gr&#246;nholm wrote:
</I>&gt;&gt;<i> I want to keep my &quot;rpc&quot; queue alive even when the RPC server software is
</I>&gt;&gt;<i> being upgraded so that users will only see a delay in the responses (and
</I>&gt;&gt;<i> no lost requests).
</I>&gt;<i> 
</I>&gt;<i> So just make sure the rpc queue stays around during the upgrade.
</I>&gt;<i> 
</I>&gt;<i> Matthias.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016741.html">[rabbitmq-discuss] Message timeouts
</A></li>
	<LI>Next message: <A HREF="016722.html">[rabbitmq-discuss] Message timeouts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16703">[ date ]</a>
              <a href="thread.html#16703">[ thread ]</a>
              <a href="subject.html#16703">[ subject ]</a>
              <a href="author.html#16703">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
