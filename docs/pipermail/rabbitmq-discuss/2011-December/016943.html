<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Reliable &quot;publishing&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Reliable%20%22publishing%22&In-Reply-To=%3C88E590DC4586974D825FC82AE798294E520B87DE%40GSVCLU03.ges.ferlan.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016939.html">
   <LINK REL="Next"  HREF="016944.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Reliable &quot;publishing&quot;</H1>
    <B>Busoli, Simone</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Reliable%20%22publishing%22&In-Reply-To=%3C88E590DC4586974D825FC82AE798294E520B87DE%40GSVCLU03.ges.ferlan.it%3E"
       TITLE="[rabbitmq-discuss] Reliable &quot;publishing&quot;">Simone.Busoli at ferrari.com
       </A><BR>
    <I>Tue Dec 20 16:19:51 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016939.html">[rabbitmq-discuss] Reliable &quot;publishing&quot;
</A></li>
        <LI>Next message: <A HREF="016944.html">[rabbitmq-discuss] Reliable &quot;publishing&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16943">[ date ]</a>
              <a href="thread.html#16943">[ thread ]</a>
              <a href="subject.html#16943">[ subject ]</a>
              <a href="author.html#16943">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Indeed, the messages are not lost, but at least lost until the connection eventually goes down and then up once again, which does not necessarily happen frequently and not something you would be doing for the purpose of recovering messages which for some reason haven't been (n)acked, right? Therefore I'm wondering whether a mechanism, perhaps an options of the shovel and federation plugins (every x messages, every x seconds, ...), to process messages which have remain unconfirmed for some time should be introduced.

&gt;<i> -----Original Message-----
</I>&gt;<i> From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:rabbitmq-
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Simon MacMullen
</I>&gt;<i> Sent: marted&#236; 20 dicembre 2011 11:54
</I>&gt;<i> To: Simone Busoli
</I>&gt;<i> Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> Subject: Re: [rabbitmq-discuss] Reliable &quot;publishing&quot;
</I>&gt;<i> 
</I>&gt;<i> On 16/12/2011 8:05PM, Simone Busoli wrote:
</I>&gt;<i> &gt; On Fri, Dec 16, 2011 at 14:16, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>
</I>&gt;<i> &gt; &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;     The only reason your client might not receive a (n)ack for any given
</I>&gt;<i> &gt;     message would be if the connection goes down
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Exactly, which if you're looking for some degree of reliable delivery
</I>&gt;<i> &gt; is something you should take care of as well, right?
</I>&gt;<i> &gt; So what I understand - please correct me if I'm wrong - is that
</I>&gt;<i> &gt; neither Shovel nor Federation are doing anything with unconfirmed
</I>&gt;<i> messages (i.e.
</I>&gt;<i> &gt; no acks/nacks), so theoretically some messages may be &quot;lost&quot; because
</I>&gt;<i> &gt; even if the upstream broker didn't receive an ack for them and will
</I>&gt;<i> &gt; thus store them until they're acked (as the plugin wouldn't send one
</I>&gt;<i> &gt; until it has received confirm from the downstream broker), there is
</I>&gt;<i> &gt; however no one who will issue a recover to the upstream broker to
</I>&gt;<i> &gt; request a requeue of those messages.
</I>&gt;<i> 
</I>&gt;<i> Recover is only one way to get unacked messages requeued - the connection
</I>&gt;<i> going down is another.
</I>&gt;<i> 
</I>&gt;<i> In fact &quot;recover&quot; can really be understood as &quot;pretend this connection went
</I>&gt;<i> down&quot;.
</I>&gt;<i> 
</I>&gt;<i> So these messages won't be lost.
</I>&gt;<i> 
</I>&gt;<i> It is however possible for messages to get duplicated in these circumstances
</I>&gt;<i> - for messages where the downstream has confirmed but the shovel /
</I>&gt;<i> federation hasn't yet sent on the corresponding ack when the connection
</I>&gt;<i> dies.
</I>&gt;<i> 
</I>&gt;<i> Cheers, Simon
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
_________________________________________________________________________________________________________________
Questo messaggio &#232; da intendersi esclusivamente ad uso del destinatario e pu&#242; contenere informazioni che sono di natura privilegiata, confidenziale
o non divulgabile secondo le leggi vigenti. Se il lettore del presente messaggio non &#232; il destinatario designato, o il dipendente/agente responsabile
per la consegna del messaggio al destinatario designato, si informa che ogni disseminazione, distribuzione o copiatura di questa comunicazione &#232; 
strettamente proibita anche ai sensi del decreto legislativo 196/03 . Se avete ricevuto questo messaggio per errore, vi preghiamo di notificarcelo
immediatamente a mezzo e-mail di risposta e successivamente di procedere alla cancellazione di questa e-mail e relativi allegati dal vostro sistema.
_________________________________________________________________________________________________________________
This message is intended only for the use of the addressee and may contain information that is privileged, confidential and exempt from 
disclosure under applicable law. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the 
message to the intended recipient, you are hereby notified that any dissemination, distribution or copying of this communication is strictly 
prohibited. If you have received this e-mail in error, please notify us immediately by return e-mail and delete this e-mail and all attachments from 
your system.
_________________________________________________________________________________________________________________


</PRE>






























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016939.html">[rabbitmq-discuss] Reliable &quot;publishing&quot;
</A></li>
	<LI>Next message: <A HREF="016944.html">[rabbitmq-discuss] Reliable &quot;publishing&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16943">[ date ]</a>
              <a href="thread.html#16943">[ thread ]</a>
              <a href="subject.html#16943">[ subject ]</a>
              <a href="author.html#16943">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
