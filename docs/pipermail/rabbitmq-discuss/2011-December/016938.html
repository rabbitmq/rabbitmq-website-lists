<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] TTLs in 2.5.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20TTLs%20in%202.5.1&In-Reply-To=%3CCAHiEoM7Ra%3DmyY2DjF1pQ03PjXZ-RDg_CNZtiMx%3DSG476Nj-dZw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016935.html">
   <LINK REL="Next"  HREF="016940.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] TTLs in 2.5.1</H1>
    <B>Aaron Westendorf</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20TTLs%20in%202.5.1&In-Reply-To=%3CCAHiEoM7Ra%3DmyY2DjF1pQ03PjXZ-RDg_CNZtiMx%3DSG476Nj-dZw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] TTLs in 2.5.1">aaron at agoragames.com
       </A><BR>
    <I>Tue Dec 20 03:29:09 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016935.html">[rabbitmq-discuss] Issues with RPM installation
</A></li>
        <LI>Next message: <A HREF="016940.html">[rabbitmq-discuss] Priority Queue with RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16938">[ date ]</a>
              <a href="thread.html#16938">[ thread ]</a>
              <a href="subject.html#16938">[ subject ]</a>
              <a href="author.html#16938">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We're running Rabbit 2.5.1 in a 2 node cluster and need  to implement
message TTLs to mitigate some pressing problems. If anyone could help
us out with some questions we have that would be most appreciated.

Are they fully supported in this version?
If we're going to enable TTLs, is there a pressing need to upgrade or
can we stay on 2.5.1?
Is there anything special to note about them in a 2.5.1 cluster?
Do we need to turn on client qos, or will rabbit change its consumer
delivery rules on TTL'd messages?
Are there any recommended lower bounds on this value?
What kind of effect should we expect message TTL to have on resource
requirements?
Will this significantly impact the memory footprint specifically?
Anything special about TTL in the case where rabbit is already under
very high load?


Sorry for all the specific questions, we just want to make sure that
if we &quot;do it live&quot; that we'll see the result we're expecting. For the
most part we have memory usage running in the 20-30% of memory alarm
range, but it can climb quickly in cases where we want TTL to work the
hardest for us and we're at thousands of msgs/sec. We're looking at
timeouts in the 5-10sec range or so, maybe as low as 2sec, which could
translate to 10-20k timeouts/sec in worst-case scenarios. We've seen
up to 16 MB/sec disk writes on our rabbit hosts, presumably all from
rabbit queue paging and during said worst-cases, for an idea of the
kind of volume that could back up with something goes awry and we want
messages to die off fast.

thanks,



-- 
Aaron Westendorf
Senior Software Engineer
Agora Games
359 Broadway
Troy, NY 12180
Phone: 518.268.1000
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aaron at agoragames.com</A>
www.agoragames.com
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016935.html">[rabbitmq-discuss] Issues with RPM installation
</A></li>
	<LI>Next message: <A HREF="016940.html">[rabbitmq-discuss] Priority Queue with RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16938">[ date ]</a>
              <a href="thread.html#16938">[ thread ]</a>
              <a href="subject.html#16938">[ subject ]</a>
              <a href="author.html#16938">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
