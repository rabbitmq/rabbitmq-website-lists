<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] using client from different threads
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20using%20client%20from%20different%20threads&In-Reply-To=%3CA1EE3FAD-537B-4261-99A4-C4C95FF48734%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016724.html">
   <LINK REL="Next"  HREF="016734.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] using client from different threads</H1>
    <B>Steve Powell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20using%20client%20from%20different%20threads&In-Reply-To=%3CA1EE3FAD-537B-4261-99A4-C4C95FF48734%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] using client from different threads">steve at rabbitmq.com
       </A><BR>
    <I>Mon Dec  5 12:21:47 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016724.html">[rabbitmq-discuss] using client from different threads
</A></li>
        <LI>Next message: <A HREF="016734.html">[rabbitmq-discuss] using client from different threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16731">[ date ]</a>
              <a href="thread.html#16731">[ thread ]</a>
              <a href="subject.html#16731">[ subject ]</a>
              <a href="author.html#16731">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
Since Rabbitmq 2.7.0 it has been  possible to use a channel from multiple
threads in the Java client, however doing so may block one or other of the
threads if you are using a synchronous command.

Since consumers now run their 'callbacks' on threads separate from the channel
and connection threads, it is now possible to call the channel from within
these callbacks, without deadlocking.  Again, you should understand the
threading implications.

'Using the RpcClient from different threads' is probably a little more tricky.
However, publishes use the channel interface so ought to be OK, although all
RpcClient 'calls' will be serialised, of course.

We are currently looking to enhance the RpcClient/Server code, to make them
more flexible (being able to call several servers from one client, for example)
and re-usable (reducing the interface and making it more basic), building it on
the standard interface, rather than using the implementation classes (as it
does now).  We are, of course, interested in any problems you detect with the
current RpcClient/Server implementations.

Steve Powell  (a christmas bunny)
----------some more definitions from the SPD----------
avoirdupois (phr.) 'Would you like peas with that?'
distribute (v.) To denigrate an award ceremony.
definite (phr.) 'It's hard of hearing, I think.'
modest (n.) The most mod.

On 5 Dec 2011, at 10:13, Mysurf Mail wrote:

&gt;<i> 1. Is it ok to use the same channel from different threads?
</I>&gt;<i> 2. Is it ok to use RPC client from different threads
</I>&gt;<i> [I am trying to narrow down on the cause of my problems (usage of close rpc queue). ]
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016724.html">[rabbitmq-discuss] using client from different threads
</A></li>
	<LI>Next message: <A HREF="016734.html">[rabbitmq-discuss] using client from different threads
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16731">[ date ]</a>
              <a href="thread.html#16731">[ thread ]</a>
              <a href="subject.html#16731">[ subject ]</a>
              <a href="author.html#16731">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
