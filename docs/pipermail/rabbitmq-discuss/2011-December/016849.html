<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Orderly purge of a queue without losing	messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Orderly%20purge%20of%20a%20queue%20without%20losing%0A%09messages&In-Reply-To=%3C4EE7955C.1010601%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016837.html">
   <LINK REL="Next"  HREF="016838.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Orderly purge of a queue without losing	messages</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Orderly%20purge%20of%20a%20queue%20without%20losing%0A%09messages&In-Reply-To=%3C4EE7955C.1010601%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Orderly purge of a queue without losing	messages">emile at rabbitmq.com
       </A><BR>
    <I>Tue Dec 13 18:11:40 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016837.html">[rabbitmq-discuss] Orderly purge of a queue without losing messages
</A></li>
        <LI>Next message: <A HREF="016838.html">[rabbitmq-discuss] Clustering failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16849">[ date ]</a>
              <a href="thread.html#16849">[ thread ]</a>
              <a href="subject.html#16849">[ subject ]</a>
              <a href="author.html#16849">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Adam,

On 12/12/11 20:33, Adam Rabung wrote:
&gt;<i> I am working on a feature that will allow an admin to perform &quot;bulk
</I>&gt;<i> operations&quot; against a single physical queue.  For example, the admin
</I>&gt;<i> may want to say &quot;In queue A, Delete all messages with publisher id =
</I>&gt;<i> X&quot;.  Unfortunately, this system will be dealing with large backlogs,
</I>&gt;<i> and the admin will need some means of selectively updating/deleting
</I>&gt;<i> these backlogs.  Throttling publishers is not an option for me.
</I>
You could route messages by publisher and empty the relevant queue. If
the intention is to keep the queue length low by discarding
lower-priority messages then you should route messages to different
queues based on priority. This will make it possible to control the
length of the low priority queue, perhaps by using message expiry.

If bulk operations are an important part of your use-case and these
suggestions don't help then you should consider using a database with a
sufficiently expressive query language instead. Databases are much
better at manipulating large amounts of stationary data.


-Emile
</PRE>


































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016837.html">[rabbitmq-discuss] Orderly purge of a queue without losing messages
</A></li>
	<LI>Next message: <A HREF="016838.html">[rabbitmq-discuss] Clustering failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16849">[ date ]</a>
              <a href="thread.html#16849">[ thread ]</a>
              <a href="subject.html#16849">[ subject ]</a>
              <a href="author.html#16849">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
