<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Ideas on Local Buffering when Broker Is Down?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Ideas%20on%20Local%20Buffering%20when%20Broker%20Is%20Down%3F&In-Reply-To=%3CCAOn7oW_Kc-2%3DfpdiuzffobWiHMf30YvQDcuyPEWQtijr5p7pHA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017029.html">
   <LINK REL="Next"  HREF="017031.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Ideas on Local Buffering when Broker Is Down?</H1>
    <B>Simone Busoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Ideas%20on%20Local%20Buffering%20when%20Broker%20Is%20Down%3F&In-Reply-To=%3CCAOn7oW_Kc-2%3DfpdiuzffobWiHMf30YvQDcuyPEWQtijr5p7pHA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Ideas on Local Buffering when Broker Is Down?">simone.busoli at gmail.com
       </A><BR>
    <I>Mon Dec 26 01:09:33 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="017029.html">[rabbitmq-discuss] Ideas on Local Buffering when Broker Is Down?
</A></li>
        <LI>Next message: <A HREF="017031.html">[rabbitmq-discuss] correct configuration for large message volume?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17030">[ date ]</a>
              <a href="thread.html#17030">[ thread ]</a>
              <a href="subject.html#17030">[ subject ]</a>
              <a href="author.html#17030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi James, I've had to cope with this scenario as well and while I can't say
that I've handled it in the most effective way (I'm keeping an in-memory
queue which is drained while the connection is up and fills-up while the
connection is down) I'm wondering whether implementing a solution which
assumes the existence of another rabbit-like middleware nearer to the
publisher isn't just moving the problem somewhere else while at the same
time making the whole infrastructure much more complex. Is there really a
&quot;best way&quot; to deal with this kind of failures?
On Dec 26, 2011 1:46 AM, &quot;James Carr&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">james.r.carr at gmail.com</A>&gt; wrote:

&gt;<i> So one of the things I really have to commit to at work is come up with
</I>&gt;<i> some kind of local buffering solution when central brokers are down. This
</I>&gt;<i> is one hole in the infrastructure that naysayers use against me at work to
</I>&gt;<i> convince other devs to use OracleAQ instead of RabbitMQ and it's been
</I>&gt;<i> driving me insane (if not only for the excuse that it is okay when OracleAQ
</I>&gt;<i> is down because that means the database is down and the public site is down
</I>&gt;<i> anyway)! :)
</I>&gt;<i>
</I>&gt;<i> I originally decided to just use local RabbitMQ brokers on each box that
</I>&gt;<i> would be publishing with federated exchanges and while this worked great on
</I>&gt;<i> the machines I have influence over the other departments refuse to install
</I>&gt;<i> RabbitMQ on their servers because their public web servers are already
</I>&gt;<i> strapped to capacity. So I'm pretty much stuck with coming up with some
</I>&gt;<i> little framework (I'll probably open source it) that I can have developers
</I>&gt;<i> just use in their apps. Before I go this route does something like this
</I>&gt;<i> already exist in java? In spring-amqp?
</I>&gt;<i>
</I>&gt;<i> My initial idea is to just implement AmqpTemplate from spring-aqmp and
</I>&gt;<i> have it push messages into a local ehcache (or some other local cache)
</I>&gt;<i> whenever a connection is broken. I'm open to other ideas or solutions, just
</I>&gt;<i> need some fool proof way to handle this situation so I can get people to
</I>&gt;<i> start using a more enlightened messaging solution.  :)
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> James
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111226/ffb999db/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111226/ffb999db/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017029.html">[rabbitmq-discuss] Ideas on Local Buffering when Broker Is Down?
</A></li>
	<LI>Next message: <A HREF="017031.html">[rabbitmq-discuss] correct configuration for large message volume?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17030">[ date ]</a>
              <a href="thread.html#17030">[ thread ]</a>
              <a href="subject.html#17030">[ subject ]</a>
              <a href="author.html#17030">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
