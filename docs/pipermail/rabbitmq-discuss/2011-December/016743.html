<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd: Trying to use a closed RPC channel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fwd%3A%20Trying%20to%20use%20a%20closed%20RPC%20channel&In-Reply-To=%3CCE71010A-2EBE-4071-A460-D9CCAE1077AB%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016718.html">
   <LINK REL="Next"  HREF="016719.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd: Trying to use a closed RPC channel</H1>
    <B>Steve Powell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fwd%3A%20Trying%20to%20use%20a%20closed%20RPC%20channel&In-Reply-To=%3CCE71010A-2EBE-4071-A460-D9CCAE1077AB%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Fwd: Trying to use a closed RPC channel">steve at rabbitmq.com
       </A><BR>
    <I>Mon Dec  5 16:32:56 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016718.html">[rabbitmq-discuss] Fwd: Trying to use a closed RPC channel
</A></li>
        <LI>Next message: <A HREF="016719.html">[rabbitmq-discuss] HA queue in cluster mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16743">[ date ]</a>
              <a href="thread.html#16743">[ thread ]</a>
              <a href="subject.html#16743">[ subject ]</a>
              <a href="author.html#16743">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Dear Mysurf,

First of all, rabbitmq 2.3.1 is a bit old now, and any problems you might have
may already be fixed in later releases.  Have you tried rabbitmq 2.7.0?

Secondly, thank you for elaborating but I'm afraid there are too many details
missing for us to be able to determine what might be wrong.

I cannot find any error message in our Java code (at 2.3.1 level or 2.7.0 level)
which looks like: &quot;Trying to use a closed RPC channel&quot;. I do see an
EOFException(&quot;RpcClient is closed.&quot;) -- is that what you mean?
I also see AlreadyClosedException(&quot;Attempt to use closed channel&quot;) -- maybe
this is the one you see.  Notice that there is no reference to an RPC Channel
-- that's because there isn't one: RPC servers and clients use channels to
talk to the rabbit server, but they are not special nor dedicated channels.

Incidentally, that means that other parts of the program can close them.

If you are getting an exception, at the very least we would like to see the
full stack-trace that came with it, or else it is, I'm afraid, nearly
impossible to help you.

Steve Powell  (a bemused bunny)
----------some more definitions from the SPD----------
avoirdupois (phr.) 'Would you like peas with that?'
distribute (v.) To denigrate an award ceremony.
definite (phr.) 'It's hard of hearing, I think.'
modest (n.) The most mod.

On 4 Dec 2011, at 14:22, Mysurf Mail wrote:

&gt;<i> I want to elaborate a bit more since I have been having this issue for a 
</I>&gt;<i> oong time:
</I>&gt;<i> 
</I>&gt;<i> One java client acts as an appserver. it answers rpc requests of other java
</I>&gt;<i> clients - through rabbitmq 2.3.1.
</I>&gt;<i> it has one method that runs all the time and connects to itself ever 30
</I>&gt;<i> seconds through the rpc . (meaning that it calls itself through the same
</I>&gt;<i> jsonrpc mechanism that other remote client use)
</I>&gt;<i> 
</I>&gt;<i> suddenly - I get a closed rpc exception from the remote clients but the
</I>&gt;<i> server itself continues to call itself through its own rpc system. Am I
</I>&gt;<i> making sense? So I figured that the rpc channel is closed only at the remote
</I>&gt;<i> java apps and not in the java server. 
</I>&gt;<i> Now...
</I>&gt;<i> Any suggestion where do I go from here? 
</I>&gt;<i> Thank you 
</I>&gt;<i> ---------- Forwarded message ----------
</I>&gt;<i> From: Mysurf Mail &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stammailbox at gmail.com</A>&gt;
</I>&gt;<i> Date: Sun, Dec 4, 2011 at 2:06 PM
</I>&gt;<i> Subject: Trying to use a closed RPC channel
</I>&gt;<i> To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> 
</I>&gt;<i> I moved my application to another network and now I
</I>&gt;<i> sometimes get an error &quot;Trying to use a closed RPC channel&quot;  
</I>&gt;<i> How can I start check whats going wrong? 
</I>&gt;<i> how do I know what was closed and why ? 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016718.html">[rabbitmq-discuss] Fwd: Trying to use a closed RPC channel
</A></li>
	<LI>Next message: <A HREF="016719.html">[rabbitmq-discuss] HA queue in cluster mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16743">[ date ]</a>
              <a href="thread.html#16743">[ thread ]</a>
              <a href="subject.html#16743">[ subject ]</a>
              <a href="author.html#16743">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
