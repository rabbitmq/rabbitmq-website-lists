<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Access Refused
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Access%20Refused&In-Reply-To=%3C4EEEC35E.8050402%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016918.html">
   <LINK REL="Next"  HREF="016919.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Access Refused</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Access%20Refused&In-Reply-To=%3C4EEEC35E.8050402%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Access Refused">matthias at rabbitmq.com
       </A><BR>
    <I>Mon Dec 19 04:53:50 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016918.html">[rabbitmq-discuss] Access Refused
</A></li>
        <LI>Next message: <A HREF="016919.html">[rabbitmq-discuss] Diagnosing crashes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16921">[ date ]</a>
              <a href="thread.html#16921">[ thread ]</a>
              <a href="subject.html#16921">[ subject ]</a>
              <a href="author.html#16921">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ari,

On 18/12/11 05:51, Ari King wrote:
&gt;<i> Whenever my application attempts to connect to the RabbitMQ server
</I>&gt;<i> access is denied because of invalid credentials (see below).
</I>
What client library are you using? And what version of rabbit?

&gt;<i> None of the default configurations have been changed.
</I>
Are you sure? Check the output of 'rabbitmqctl list_permissions':

$ rabbitmqctl list_permissions
Listing permissions in vhost &quot;/&quot; ...
guest	.*	.*	.*
...done.

Also, ensure that the password is correct:

$ rabbitmqctl change_password guest guest
Changing password for user &quot;guest&quot; ...
...done.

&gt;<i> I haven't set the RABBITMQ_NODE_IP_ADDRESS; should I set it to the
</I>&gt;<i> RabbitMQ server's IP address?
</I>
That has no bearing on authentication.

Failing the above, trace the connection with 
<A HREF="http://www.rabbitmq.com/api-guide.html#tracer">http://www.rabbitmq.com/api-guide.html#tracer</A> or wireshark. Here's a 
trace of a successful connection from the former:

1324269930074: &lt;Tracer-1&gt; ch#0 &lt;- 
{#method&lt;connection.start&gt;(version-major=0, version-minor=9, 
server-properties={product=RabbitMQ, information=Licensed under the MPL. 
  See <A HREF="http://www.rabbitmq.com/,">http://www.rabbitmq.com/,</A> platform=Erlang/OTP, 
capabilities={exchange_exchange_bindings=true, 
consumer_cancel_notify=true, basic.nack=true, publisher_confirms=true}, 
copyright=Copyright (C) 2007-2011 VMware, Inc., version=%%VSN%%}, 
mechanisms=PLAIN AMQPLAIN, locales=en_US), null, &quot;[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">B at 3dfeca64</A>&quot;}
1324269930127: &lt;Tracer-1&gt; ch#0 -&gt; 
{#method&lt;connection.start-ok&gt;(client-properties={product=RabbitMQ, 
information=Licensed under the MPL. See <A HREF="http://www.rabbitmq.com/,">http://www.rabbitmq.com/,</A> 
platform=Java, capabilities={exchange_exchange_bindings=true, 
publisher_confirms=true, basic.nack=true, consumer_cancel_notify=true}, 
copyright=Copyright (C) 2007-2011 VMware, Inc., version=0.0.0}, 
mechanism=PLAIN, response=guestguest, locale=en_US), null, &quot;[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">B at 3dfeca64</A>&quot;}
1324269930160: &lt;Tracer-1&gt; ch#0 &lt;- 
{#method&lt;connection.tune&gt;(channel-max=0, frame-max=131072, heartbeat=0), 
null, &quot;[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">B at 3dfeca64</A>&quot;}
1324269930164: &lt;Tracer-1&gt; ch#0 -&gt; 
{#method&lt;connection.tune-ok&gt;(channel-max=0, frame-max=131072, 
heartbeat=0), null, &quot;[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">B at 3dfeca64</A>&quot;}
1324269930164: &lt;Tracer-1&gt; ch#0 -&gt; 
{#method&lt;connection.open&gt;(virtual-host=/, capabilities=, insist=false), 
null, &quot;[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">B at 3dfeca64</A>&quot;}
1324269930199: &lt;Tracer-1&gt; ch#0 &lt;- 
{#method&lt;connection.open-ok&gt;(known-hosts=), null, &quot;[<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">B at 3dfeca64</A>&quot;}

(note the &quot;guestguest&quot; credentials in the connection.start-ok and the 
&quot;/&quot; vhost in connection.open).

Regards,

Matthias.
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016918.html">[rabbitmq-discuss] Access Refused
</A></li>
	<LI>Next message: <A HREF="016919.html">[rabbitmq-discuss] Diagnosing crashes?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16921">[ date ]</a>
              <a href="thread.html#16921">[ thread ]</a>
              <a href="subject.html#16921">[ subject ]</a>
              <a href="author.html#16921">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
