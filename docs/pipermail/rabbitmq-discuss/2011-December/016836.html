<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ hangs, does not accept connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20hangs%2C%20does%20not%20accept%20connections&In-Reply-To=%3CCANTUpDBuF30tFVcdsG0kcc1in9nwphvaa%3DL6LPeOenPuhdU7sw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016833.html">
   <LINK REL="Next"  HREF="016840.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ hangs, does not accept connections</H1>
    <B>Dmitri Minaev</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20hangs%2C%20does%20not%20accept%20connections&In-Reply-To=%3CCANTUpDBuF30tFVcdsG0kcc1in9nwphvaa%3DL6LPeOenPuhdU7sw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ hangs, does not accept connections">minaev at gmail.com
       </A><BR>
    <I>Mon Dec 12 16:24:55 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016833.html">[rabbitmq-discuss] Federation help
</A></li>
        <LI>Next message: <A HREF="016840.html">[rabbitmq-discuss] RabbitMQ hangs, does not accept connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16836">[ date ]</a>
              <a href="thread.html#16836">[ thread ]</a>
              <a href="subject.html#16836">[ subject ]</a>
              <a href="author.html#16836">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

We use RabbitMQ for about a year now. From time to time I upgraded it
and switched from one server to another. About a month ago the last
such transition took place. I installed new RabbitMQ (2.7) on a new
server and our web application was reconfigured. Quite soon we faced
new problems. After some days of stable work clients could not connect
to RabbitMQ. I could list run rabbitmqctl, list queues, kill
connections, but the server refused attempts to connect. That is, TCP
socket was available and telnet could connect to port 5672, but the
AMQP connection could not be established. There was nothing unusual in
the logs. vm_memory_high_watermark is set to 0.7 and there's still
plenty of free memory.

After a couple of such failures I tried to downgrade to 2.6.1, but the
problem remained. The last time I disabled IPv6, but today we hit the
same trouble again.

I think I must have done something wrong when setting up the
environment, but what could that be?

OS: Ubuntu 10.04 LTS.
16GB RAM.
RabbitMQ 2.6.1
Erlang R13B03 (erts-5.7.4) (package erlang-nox from Ubuntu repository)
Client: php-amqplib

-- 
With best regards,
Dmitri Minaev
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016833.html">[rabbitmq-discuss] Federation help
</A></li>
	<LI>Next message: <A HREF="016840.html">[rabbitmq-discuss] RabbitMQ hangs, does not accept connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16836">[ date ]</a>
              <a href="thread.html#16836">[ thread ]</a>
              <a href="subject.html#16836">[ subject ]</a>
              <a href="author.html#16836">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
