<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] redelivering message without loosing order
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20redelivering%20message%20without%20loosing%20order&In-Reply-To=%3C4EE5DACA.40704%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016824.html">
   <LINK REL="Next"  HREF="016826.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] redelivering message without loosing order</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20redelivering%20message%20without%20loosing%20order&In-Reply-To=%3C4EE5DACA.40704%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] redelivering message without loosing order">emile at rabbitmq.com
       </A><BR>
    <I>Mon Dec 12 10:43:22 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016824.html">[rabbitmq-discuss] redelivering message without loosing order
</A></li>
        <LI>Next message: <A HREF="016826.html">[rabbitmq-discuss] 505 UNEXPECTED_FRAME when publishing in a	consume handler using pika
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16828">[ date ]</a>
              <a href="thread.html#16828">[ thread ]</a>
              <a href="subject.html#16828">[ subject ]</a>
              <a href="author.html#16828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Pradeep,

On 10/12/11 17:33, pradeep w wrote:
&gt;<i>  With the the basic queue based message consumption, I've this scenario
</I>&gt;<i> , where my queue consumer reads message from queue and pass on as
</I>&gt;<i> response to remote application client. However as I may not get the
</I>&gt;<i> message processing response from client immediately, I'll not like to
</I>&gt;<i> acknowledge message while consuming from queue. In the event some issue
</I>&gt;<i> occurs at the application client and I need to resend the earlier
</I>&gt;<i> message, how can i do it.
</I>
If the order of messages must be maintained then requeue the message.
See <A HREF="http://www.rabbitmq.com/semantics.html#ordering">http://www.rabbitmq.com/semantics.html#ordering</A> for applicable methods.

If order is not important then you could simply republish the message.

&gt;<i> In my scenario I also need to take care that the message being
</I>&gt;<i> re-requested should follow the order. And I'm not sure whether
</I>&gt;<i> basicRecover() is the right way as I feel that it may put the content as
</I>&gt;<i> the last entry in queue?
</I>
basicRecover() is suitable if you need to return all unacknowledged
messages. Queues maintain publication order of requeued messages from
RabbitMQ v2.7.0. If you use an older version than v2.7.0 then
basicRecover() causes messages to be requeued at the back of the queue.

&gt;<i> For eg: In my case  first message send content which needs to be created
</I>&gt;<i> and the second one is update on the first message's content. For some
</I>&gt;<i> reason first message processing fails and client is not able to give
</I>&gt;<i> reject/acknowldege, the second one may not be requested at all. And when
</I>&gt;<i> the application client next connects it will get the second message
</I>&gt;<i> which will fail due to business logic [as first one is not available].
</I>&gt;<i> I was thinking if it is possible to send the first message again when
</I>&gt;<i> the client reconnects before giving the second message. Is it possible?
</I>&gt;<i> Else what is the alternative?
</I>
This sounds like a pipeline where processing involves taking a message
off one queue, doing something to it and then publishing it to another
queue. It depends on your application what should happen if processing
fails at any point. Should the whole pipeline stop or can the processing
of other messages proceed?


-Emile
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016824.html">[rabbitmq-discuss] redelivering message without loosing order
</A></li>
	<LI>Next message: <A HREF="016826.html">[rabbitmq-discuss] 505 UNEXPECTED_FRAME when publishing in a	consume handler using pika
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16828">[ date ]</a>
              <a href="thread.html#16828">[ thread ]</a>
              <a href="subject.html#16828">[ subject ]</a>
              <a href="author.html#16828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
