<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] 2 WCF services on the same queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%202%20WCF%20services%20on%20the%20same%20queue&In-Reply-To=%3C8062A75E-1A1D-4A8F-AC49-8AAE388E40DE%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016680.html">
   <LINK REL="Next"  HREF="016738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] 2 WCF services on the same queue</H1>
    <B>Shaun Xu</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%202%20WCF%20services%20on%20the%20same%20queue&In-Reply-To=%3C8062A75E-1A1D-4A8F-AC49-8AAE388E40DE%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] 2 WCF services on the same queue">jfarrio at gmail.com
       </A><BR>
    <I>Thu Dec  1 13:31:17 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="016680.html">[rabbitmq-discuss] 2 WCF services on the same queue
</A></li>
        <LI>Next message: <A HREF="016738.html">[rabbitmq-discuss] 2 WCF services on the same queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16684">[ date ]</a>
              <a href="thread.html#16684">[ thread ]</a>
              <a href="subject.html#16684">[ subject ]</a>
              <a href="author.html#16684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Emile. If I do want to use WCF then I need to create endpoints for each service instances and then let the client, or something like routing component to call one of them. Is that correct?

Shaun

Sent from my iPad

&#22312; 2011-12-1&#65292;19:13&#65292;Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; &#20889;&#36947;&#65306;

&gt;<i> On 01/12/11 06:09, Shaun Ziyan Xu wrote:
</I>&gt;&gt;<i> I would like to scaling out my application service and decided to use a
</I>&gt;&gt;<i> distributed queue to receive the client request, and multiple services
</I>&gt;&gt;<i> listening on the same queue. I think this is very common pooling-based
</I>&gt;&gt;<i> pattern.
</I>&gt;&gt;<i> I'm trying to use RebbitMQ with WCF binding, and when I use one client
</I>&gt;&gt;<i> and one service to works well. But when I created 2 services I found
</I>&gt;&gt;<i> when the client invoked, it gave me an exception said the
</I>&gt;&gt;<i> CommunicationObject State was Fault.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Unfortunately each Service creates a new AMQP binding and a new queue
</I>&gt;<i> for requests. Therefore each Service will receive all requests, leading
</I>&gt;<i> to the errors you see.
</I>&gt;<i> 
</I>&gt;<i> If you want to use WCF then you could create separate endpoints for each
</I>&gt;<i> worker and to round-robin at the request stage.
</I>&gt;<i> 
</I>&gt;<i> If you do not need to use WCF then use the RabbitMQ .net client directly
</I>&gt;<i> and follow the Work Queues and RPC tutorials:
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/getstarted.html">http://www.rabbitmq.com/getstarted.html</A>
</I>&gt;<i> 
</I>&gt;<i> You will find C# implementations here:
</I>&gt;<i> <A HREF="https://github.com/rabbitmq/rabbitmq-tutorials/tree/master/dotnet">https://github.com/rabbitmq/rabbitmq-tutorials/tree/master/dotnet</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Regards
</I>&gt;<i> 
</I>&gt;<i> Emile
</I>&gt;<i> 
</I></PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016680.html">[rabbitmq-discuss] 2 WCF services on the same queue
</A></li>
	<LI>Next message: <A HREF="016738.html">[rabbitmq-discuss] 2 WCF services on the same queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16684">[ date ]</a>
              <a href="thread.html#16684">[ thread ]</a>
              <a href="subject.html#16684">[ subject ]</a>
              <a href="author.html#16684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
