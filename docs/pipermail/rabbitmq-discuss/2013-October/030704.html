<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Determining Cause of Flow-Control Invocation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Determining%20Cause%20of%20Flow-Control%20Invocation&In-Reply-To=%3C0BB3C931-EA1D-499C-98DD-8337952A07C9%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030698.html">
   <LINK REL="Next"  HREF="030706.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Determining Cause of Flow-Control Invocation</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Determining%20Cause%20of%20Flow-Control%20Invocation&In-Reply-To=%3C0BB3C931-EA1D-499C-98DD-8337952A07C9%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Determining Cause of Flow-Control Invocation">michael at rabbitmq.com
       </A><BR>
    <I>Fri Oct  4 15:54:38 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030698.html">[rabbitmq-discuss] Determining Cause of Flow-Control Invocation
</A></li>
        <LI>Next message: <A HREF="030706.html">[rabbitmq-discuss] Determining Cause of Flow-Control Invocation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30704">[ date ]</a>
              <a href="thread.html#30704">[ thread ]</a>
              <a href="subject.html#30704">[ subject ]</a>
              <a href="author.html#30704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On oct 4, 2013, at 6:40 p.m., Richard Raseley &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">richard at raseley.com</A>&gt; wrote:

&gt;<i> So, my question is - what other things can I look at to determine the cause of the invocation of flow control
</I>
There are 3 cases when RabbitMQ will block publishers (until the underlying problem
is resolved):

 * It consumes more RAM than vm_high_memory_watermark
 * Node has less disk space left than the configured minimum limit
 * RabbitMQ process is out of available file descriptors (ulimit -n)

See <A HREF="http://www.rabbitmq.com/memory.html">http://www.rabbitmq.com/memory.html</A> for more details. RabbitMQ log
should have very visible messages when one of the above happens.

In the first two cases the only solution is to increase capacity of your consumers so that they drain
messages and all alarms unblock. Alternatively, if your data
is temporary in nature, you can set TTL on messages [1].

In the latter case (file descriptors) you should configure open file handles limit for
the Rabbit process or use fewer connections.

1. <A HREF="http://www.rabbitmq.com/ttl.html">http://www.rabbitmq.com/ttl.html</A>

MK



-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 495 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131004/de10e9c4/attachment.pgp">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131004/de10e9c4/attachment.pgp</A>&gt;
</PRE>





































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030698.html">[rabbitmq-discuss] Determining Cause of Flow-Control Invocation
</A></li>
	<LI>Next message: <A HREF="030706.html">[rabbitmq-discuss] Determining Cause of Flow-Control Invocation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30704">[ date ]</a>
              <a href="thread.html#30704">[ thread ]</a>
              <a href="subject.html#30704">[ subject ]</a>
              <a href="author.html#30704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
