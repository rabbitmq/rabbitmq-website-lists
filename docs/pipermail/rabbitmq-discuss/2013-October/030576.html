<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ - another HA approach - shared mnesia	folders
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20-%20another%20HA%20approach%20-%20shared%20mnesia%0A%09folders&In-Reply-To=%3CCAOne3%3DnGM%2BLG18Ogmk1qD7fvQNdhrbWXvHN%2BBnygZzjt2z6dVQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030664.html">
   <LINK REL="Next"  HREF="030578.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ - another HA approach - shared mnesia	folders</H1>
    <B>Peter Sokolowski</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20-%20another%20HA%20approach%20-%20shared%20mnesia%0A%09folders&In-Reply-To=%3CCAOne3%3DnGM%2BLG18Ogmk1qD7fvQNdhrbWXvHN%2BBnygZzjt2z6dVQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ - another HA approach - shared mnesia	folders">sysfalcon at gmail.com
       </A><BR>
    <I>Tue Oct  1 19:04:47 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030664.html">[rabbitmq-discuss] question about librabbitmq
</A></li>
        <LI>Next message: <A HREF="030578.html">[rabbitmq-discuss] RabbitMQ - another HA approach - shared	mnesia folders
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30576">[ date ]</a>
              <a href="thread.html#30576">[ thread ]</a>
              <a href="subject.html#30576">[ subject ]</a>
              <a href="author.html#30576">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've made a few tests of HA in RabbitMQ based on mirroring and
synchronization(with message write confirmation, 3 disk cluster
nodes). For me this approach is not working properly. I found that the
cluster is unstable - it's very weak.Sometimes the restarted node is
not working at all (I can't join it to the cluster, even it was
working properly a moment ago), sometimes queues in the whole cluster
are disappearing, sometimes are blocking (e.g. after breaking
synchronization process). In general: there are many pitfalls in this
approach (I know that 100% HA is impossible).

So I decided to make small test. I shared mnesia folder by NFS in
Linux(by changing RABBITMQ_MNESIA_BASE variable). Now, installation of
RabbitMQ and its mnesia folders lies on different physical machines.
Finally I'm going to create two installations of RabbitMQ which share
the same mnesia folders by NFS (One will be active, the other will be
passive).

Here's my question:  I'm not sure whether this is a good direction to
go to make HA in RabbitMQ without synchronization (only by sharing
mnesia folders)?
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030664.html">[rabbitmq-discuss] question about librabbitmq
</A></li>
	<LI>Next message: <A HREF="030578.html">[rabbitmq-discuss] RabbitMQ - another HA approach - shared	mnesia folders
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30576">[ date ]</a>
              <a href="thread.html#30576">[ thread ]</a>
              <a href="subject.html#30576">[ subject ]</a>
              <a href="author.html#30576">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
