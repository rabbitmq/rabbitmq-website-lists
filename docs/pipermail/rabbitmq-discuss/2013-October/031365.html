<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Feature Req / Bug list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3CCAJ4uuZZmGkujUh-VZWBc-fD-r4agVf4NZE2cdtjRfbGQT29Ygg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031355.html">
   <LINK REL="Next"  HREF="031363.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Feature Req / Bug list</H1>
    <B>Graeme N</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3CCAJ4uuZZmGkujUh-VZWBc-fD-r4agVf4NZE2cdtjRfbGQT29Ygg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Feature Req / Bug list">graeme at sudo.ca
       </A><BR>
    <I>Fri Oct 25 17:17:56 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031355.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
        <LI>Next message: <A HREF="031363.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31365">[ date ]</a>
              <a href="thread.html#31365">[ thread ]</a>
              <a href="subject.html#31365">[ subject ]</a>
              <a href="author.html#31365">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Oct 25, 2013 at 6:16 AM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:

&gt;<i> OK, I've replicated crashes with the script rebalance_cluster.sh. These
</I>&gt;<i> will receive prompt attention!
</I>&gt;<i>
</I>
Great! This is the only issue I've found that I'm really worried about,
since we do want the ability to rebalance queues across our cluster when
adjusting cluster topology, so we can properly distribute workload amongst
the nodes. Everything else has pretty simple workarounds.


&gt;<i> Incidentally a strong contributing factor appears to be backgrounding
</I>&gt;<i> &quot;rabbitmqctl set_policy&quot; and thus running lots of copies simultaneously. So
</I>&gt;<i> a workaround is to only run one copy at once.
</I>

Yeah, I did that intentionally in my test script so it'd be easier to
reproduce the issue. I was actually doing this sequentially when I
initially wrote my script to rebalance queues across the cluster, and still
encountered the issue, it just took a lot more cluster operations before it
happened. Presumably if you fix the parallel case, (by making the API
handler block when running API reqs hits an upper bound or something?),
it'll automatically solve any issues with the sequential case.

Graeme
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131025/6fb74946/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131025/6fb74946/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031355.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
	<LI>Next message: <A HREF="031363.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31365">[ date ]</a>
              <a href="thread.html#31365">[ thread ]</a>
              <a href="subject.html#31365">[ subject ]</a>
              <a href="author.html#31365">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
