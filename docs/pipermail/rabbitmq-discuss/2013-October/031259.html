<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Creating a rabbitmq.config for federation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Creating%20a%20rabbitmq.config%20for%20federation&In-Reply-To=%3C4F122880-27F3-4611-A019-4910D03D3982%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031258.html">
   <LINK REL="Next"  HREF="031296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Creating a rabbitmq.config for federation</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Creating%20a%20rabbitmq.config%20for%20federation&In-Reply-To=%3C4F122880-27F3-4611-A019-4910D03D3982%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Creating a rabbitmq.config for federation">tim at rabbitmq.com
       </A><BR>
    <I>Wed Oct 23 09:56:47 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031258.html">[rabbitmq-discuss] Creating a rabbitmq.config for federation
</A></li>
        <LI>Next message: <A HREF="031296.html">[rabbitmq-discuss] Creating a rabbitmq.config for federation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31259">[ date ]</a>
              <a href="thread.html#31259">[ thread ]</a>
              <a href="subject.html#31259">[ subject ]</a>
              <a href="author.html#31259">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Argh - sorry Robert, that was a very incomplete answer. See inline below for more details...

On 23 Oct 2013, at 09:41, Tim Watson wrote:
&gt;<i> On 22 Oct 2013, at 20:18, Robert Parker wrote:
</I>&gt;&gt;<i> How do I convert that into a format that will work in a rabbitmq.config so that all I need to do is drop this config file in, reset the node, then restart rabbitmq-server to get this configuration working?
</I>&gt;<i> 
</I>&gt;<i> Take a look at <A HREF="https://github.com/rabbitmq/rabbitmq-server/blob/master/docs/rabbitmq.config.example#L199.">https://github.com/rabbitmq/rabbitmq-server/blob/master/docs/rabbitmq.config.example#L199.</A>
</I>&gt;<i> 
</I>
That will allow you to get your nodes clustered when they first start, if required.

In order to get the various plugins to be enabled on start up, you'll have to edit the enabled-plugins file, the path to which is governed by the RABBITMQ_ENABLED_PLUGINS_FILE environment variable. This would need to look precisely thus:

[rabbitmq_management,rabbitmq_federation,rabbitmq_federation_management].

Do not forget the final period (full stop), otherwise it won't parse and your nodes will likely refuse to start. You can run the `rabbitmq-plugins enable` commands first, and then take a copy of the file if you prefer.

In terms of the `rabbitmqctl set_parameter` commands that you're using to set a federation-upstream, that'll be a bit more complex. What you'll need to do is use the management plugin to export the definitions of your exchange(s), queue(s), binding(s) and so on. Once you've exported these, the json file can be automatically imported (and the definitions loaded thence) on startup, See the configuration example at <A HREF="https://github.com/rabbitmq/rabbitmq-server/blob/master/docs/rabbitmq.config.example#L243">https://github.com/rabbitmq/rabbitmq-server/blob/master/docs/rabbitmq.config.example#L243</A> for the syntax required (and note that this setting lives in the `rabbitmq_management` section, not the `rabbit` one.

Hopefully that'll get you going!

Cheers,

Tim
</PRE>
























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031258.html">[rabbitmq-discuss] Creating a rabbitmq.config for federation
</A></li>
	<LI>Next message: <A HREF="031296.html">[rabbitmq-discuss] Creating a rabbitmq.config for federation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31259">[ date ]</a>
              <a href="thread.html#31259">[ thread ]</a>
              <a href="subject.html#31259">[ subject ]</a>
              <a href="author.html#31259">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
