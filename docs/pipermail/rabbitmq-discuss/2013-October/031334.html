<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] other transports besides TCP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20other%20transports%20besides%20TCP&In-Reply-To=%3C5269409E.3020204%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031532.html">
   <LINK REL="Next"  HREF="031335.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] other transports besides TCP</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20other%20transports%20besides%20TCP&In-Reply-To=%3C5269409E.3020204%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] other transports besides TCP">simon at rabbitmq.com
       </A><BR>
    <I>Thu Oct 24 16:45:34 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031532.html">[rabbitmq-discuss] RabbitMQ is failing after installing Devstack
</A></li>
        <LI>Next message: <A HREF="031335.html">[rabbitmq-discuss] [rabbitmq] /var/log/messages flooded with su: (to rabbitmq) root on none
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31334">[ date ]</a>
              <a href="thread.html#31334">[ thread ]</a>
              <a href="subject.html#31334">[ subject ]</a>
              <a href="author.html#31334">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Did you see Matthias' response here?

<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2013-October/031215.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2013-October/031215.html</A>

I think his advice is sound. Get things working over TCP first, change 
one thing at a time.

Cheers, Simon

On 24/10/13 16:38, Jorg Eloy wrote:
&gt;<i> Hi Simon,
</I>&gt;<i> Have you ever read my previous email?
</I>&gt;<i> I'm very interested in consume messages by UDP.
</I>&gt;<i> Greetings.
</I>&gt;<i> Jorg
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 2013/10/16 Jorg Eloy &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jluzuria2001 at gmail.com</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jluzuria2001 at gmail.com</A>&gt;&gt;
</I>&gt;<i>
</I>&gt;<i>     Hi Simon,
</I>&gt;<i>
</I>&gt;<i>     Thanks for your help, continue with our interest in consuming the
</I>&gt;<i>     enqueued messages,
</I>&gt;<i>     in order to get more than one consumer per queue.
</I>&gt;<i>     Exist something similar to fanout exchange type in UPD?
</I>&gt;<i>
</I>&gt;<i>     Actually, I'm trying with UDP consumer without get it. So I've the
</I>&gt;<i>     Consumer that I use with TCP transport,
</I>&gt;<i>     and it's very strange, It works perfect when consumes messages from
</I>&gt;<i>     a host where the brokerMQ is installed.
</I>&gt;<i>     But when I try to consume messages from the other host, it's no
</I>&gt;<i>     possible.
</I>&gt;<i>     Besides that when I tried to declare the exchange and queue from the
</I>&gt;<i>     another host different to the broker, These aren't created.
</I>&gt;<i>
</I>&gt;<i>     Any ideas?  What else should I try?
</I>&gt;<i>     Best regards and thanks in advance,
</I>&gt;<i>
</I>&gt;<i>     Jorg
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     2013/10/15 Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>
</I>&gt;<i>     &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;&gt;
</I>&gt;<i>
</I>&gt;<i>         Hi.
</I>&gt;<i>
</I>&gt;<i>         I compiled your code and it works for me. I had to provide the
</I>&gt;<i>         address and port for the DatagramPacket, so you probably want to
</I>&gt;<i>         make sure those are correct. Also make sure the packet is not
</I>&gt;<i>         being eaten by a firewall.
</I>&gt;<i>
</I>&gt;<i>         Cheers, Simon
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         On 15/10/2013 09:25, Jorg Eloy wrote:
</I>&gt;<i>
</I>&gt;<i>             Hi Simon,
</I>&gt;<i>
</I>&gt;<i>             Thanks for your reply, let me said that when I sent messages
</I>&gt;<i>             using UDP,
</I>&gt;<i>             these messages are bounded to the queue in the channel with
</I>&gt;<i>             this line of
</I>&gt;<i>             code:
</I>&gt;<i>             /channel.queueBind(q1, xnameRaw, &quot;#&quot;);/
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>             When I'm using Wireshark, I can view these messages arriving
</I>&gt;<i>             to the
</I>&gt;<i>             broker but they didn't reach to the exchange.
</I>&gt;<i>
</I>&gt;<i>             Why I'm using UDP instead of TCP is because I'm tried with
</I>&gt;<i>             AMQP to work
</I>&gt;<i>             with sensors and servers,
</I>&gt;<i>             where sensors enqueue messages using UDP due to the typical
</I>&gt;<i>             sensor data
</I>&gt;<i>             is redundant an some loss can be tolerated
</I>&gt;<i>             and the servers receive these messages using a channel
</I>&gt;<i>             protocol over
</I>&gt;<i>             TCP, The servers might use TCP to transport messages reliably.
</I>&gt;<i>
</I>&gt;<i>             Thanks again.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>             PD. Here I put some important lines of the code that I'm
</I>&gt;<i>             using actually
</I>&gt;<i>             to do this task.
</I>&gt;<i>
</I>&gt;<i>             ------------------------------__------------------------------__-------------
</I>&gt;<i>             /    String xnameRaw = &quot;UDP raw exchage for testing&quot;;
</I>&gt;<i>
</I>&gt;<i>                   String xtype = &quot;x-udp&quot;;
</I>&gt;<i>
</I>&gt;<i>                   ConnectionFactory factory = new ConnectionFactory();
</I>&gt;<i>
</I>&gt;<i>                   Connection connection = factory.newConnection();
</I>&gt;<i>                   Channel    channel = connection.createChannel();
</I>&gt;<i>
</I>&gt;<i>                   factory.setHost(BROKERMQ);
</I>&gt;<i>                       factory.setUsername(&quot;guest&quot;);
</I>&gt;<i>                       factory.setPassword(&quot;guest&quot;);
</I>&gt;<i>                   factory.setPort(PORT);
</I>&gt;<i>
</I>&gt;<i>                   Map&lt;String, Object&gt; declArgs = new HashMap&lt;String,
</I>&gt;<i>             Object&gt;();
</I>&gt;<i>
</I>&gt;<i>                   declArgs.put(&quot;ip&quot;, &quot;0.0.0.0&quot;);
</I>&gt;<i>                   declArgs.put(&quot;port&quot;, (short) PORT);
</I>&gt;<i>
</I>&gt;<i>                   channel.exchangeDeclare(__xnameRaw, xtype, false,
</I>&gt;<i>             false, false,
</I>&gt;<i>             declArgs);
</I>&gt;<i>                   String q1 = channel.queueDeclare().__getQueue();
</I>&gt;<i>                   channel.queueBind(q1, xnameRaw, &quot;#&quot;);
</I>&gt;<i>
</I>&gt;<i>                   DatagramSocket u2 = new DatagramSocket();
</I>&gt;<i>                   DatagraPacket pOutRaw = new DatagramPacket(message,
</I>&gt;<i>             message.length,
</I>&gt;<i>             address, PORT);
</I>&gt;<i>
</I>&gt;<i>                   u2.send(pOutRaw);
</I>&gt;<i>                   channel.basicPublish(xnameRaw, routingKey, null,
</I>&gt;<i>             message);/
</I>&gt;<i>             ------------------------------__------------------------------__-------------
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>             2013/10/11 Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>
</I>&gt;<i>             &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>
</I>&gt;<i>             &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;&gt;&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>                  I'm afraid your message doesn't really give us much to
</I>&gt;<i>             go on, other
</I>&gt;<i>                  than &quot;it doesn't work&quot;.
</I>&gt;<i>
</I>&gt;<i>                  I suggest you try to break the problem down: when you
</I>&gt;<i>             send a UDP
</I>&gt;<i>                  packet, can you see it reach the broker in wireshark?
</I>&gt;<i>             Can you see it
</I>&gt;<i>                  go into a queue (bound to the UDP exchange with &quot;#&quot;) in the
</I>&gt;<i>                  management plugin? And so on.
</I>&gt;<i>
</I>&gt;<i>                  Also, out of interest, why do you want to use UDP
</I>&gt;<i>             instead of TCP?
</I>&gt;<i>
</I>&gt;<i>                  Cheers, Simon
</I>&gt;<i>
</I>&gt;<i>                  On 11/10/2013 10:27AM, Jorg Eloy wrote:
</I>&gt;<i>
</I>&gt;<i>                      Hi all,
</I>&gt;<i>                      I'm looking another transport for AMQP in place of TCP,
</I>&gt;<i>                      Nowadays, I'm trying work with UPD exchange of tonyg
</I>&gt;<i>                      [<A HREF="https://github.com/tonyg/udp-____exchange">https://github.com/tonyg/udp-____exchange</A>
</I>&gt;<i>             &lt;<A HREF="https://github.com/tonyg/udp-__exchange">https://github.com/tonyg/udp-__exchange</A>&gt;
</I>&gt;<i>
</I>&gt;<i>                      &lt;<A HREF="https://github.com/tonyg/udp-__exchange">https://github.com/tonyg/udp-__exchange</A>
</I>&gt;<i>             &lt;<A HREF="https://github.com/tonyg/udp-exchange">https://github.com/tonyg/udp-exchange</A>&gt;&gt;], with the plugin to
</I>&gt;<i>                      rabbitmq, to
</I>&gt;<i>                      get a similar scenario with publishers, consumers,
</I>&gt;<i>             queues and
</I>&gt;<i>                      exchanges,
</I>&gt;<i>                      But I can't get it.
</I>&gt;<i>
</I>&gt;<i>                      My actual situation is that:
</I>&gt;<i>                      I send messages from the publisher to the exchange
</I>&gt;<i>             and these
</I>&gt;<i>                      messages
</I>&gt;<i>                      are not published, I can view in the web management
</I>&gt;<i>             tool how the
</I>&gt;<i>                      delivery rate in the exchange is altered,
</I>&gt;<i>                      I'm using basicPublish to publish the messages and
</I>&gt;<i>                      QueueingConsumer to
</I>&gt;<i>                      consume the messages, Also DatagramSockets and
</I>&gt;<i>             DatagramPackets
</I>&gt;<i>                      to send
</I>&gt;<i>                      and receive by UDP.
</I>&gt;<i>                      But as I said before, these messages are don't
</I>&gt;<i>             received in the
</I>&gt;<i>                      consumer.
</I>&gt;<i>                      Including that I use the same routing keys in the
</I>&gt;<i>             messages and when
</I>&gt;<i>                      I try sending messages directly to the queue
</I>&gt;<i>             created for the
</I>&gt;<i>                      consumer,
</I>&gt;<i>                      these messages arrive successfully
</I>&gt;<i>
</I>&gt;<i>                      Can someone know what is the error?
</I>&gt;<i>
</I>&gt;<i>                      Thanks in advance.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>                  --
</I>&gt;<i>                  Simon MacMullen
</I>&gt;<i>                  RabbitMQ, Pivotal
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>


















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031532.html">[rabbitmq-discuss] RabbitMQ is failing after installing Devstack
</A></li>
	<LI>Next message: <A HREF="031335.html">[rabbitmq-discuss] [rabbitmq] /var/log/messages flooded with su: (to rabbitmq) root on none
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31334">[ date ]</a>
              <a href="thread.html#31334">[ thread ]</a>
              <a href="subject.html#31334">[ subject ]</a>
              <a href="author.html#31334">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
