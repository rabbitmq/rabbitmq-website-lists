<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Riak exchange fails in exchange.declare
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Riak%20exchange%20fails%20in%20exchange.declare&In-Reply-To=%3C60c667be-dfa4-40da-8eab-38f3d42e8b85%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031108.html">
   <LINK REL="Next"  HREF="031040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Riak exchange fails in exchange.declare</H1>
    <B>Anders Kullberg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Riak%20exchange%20fails%20in%20exchange.declare&In-Reply-To=%3C60c667be-dfa4-40da-8eab-38f3d42e8b85%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Riak exchange fails in exchange.declare">morkrost at gmail.com
       </A><BR>
    <I>Wed Oct 16 11:53:39 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031108.html">[rabbitmq-discuss] SalesForce and RabbitMQ Integration
</A></li>
        <LI>Next message: <A HREF="031040.html">[rabbitmq-discuss] Riak exchange fails in exchange.declare
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31038">[ date ]</a>
              <a href="thread.html#31038">[ thread ]</a>
              <a href="subject.html#31038">[ subject ]</a>
              <a href="author.html#31038">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to get the Riak exchange to work with RabbitMQ 3.1.5 and Riak 
1.4.2. Have tried both the programmatic approach in python as well as 
creating the exchange in the management interface. In both cases I receive 
a (to me) cryptic Erlang error:

The server encountered an error while processing this request:


{error,
    {exit,
        {{function_clause,
             [{rabbit_exchange_type_riak,exchange_type,
                  [{exchange,
                       {resource,&lt;&lt;&quot;/&quot;&gt;&gt;,exchange,&lt;&lt;&quot;apa&quot;&gt;&gt;},
                       'x-riak',true,false,false,[],undefined,undefined,
                       {[],[]}}]},
              {rabbit_exchange_type_riak,validate,1},
              {rabbit_exchange,declare,6},
              {rabbit_channel,handle_method,3},
              {rabbit_channel,handle_cast,2},
              {gen_server2,handle_msg,2},
              {proc_lib,init_p_do_apply,3}]},
         {gen_server,call,
             [&lt;0.3030.0&gt;,
              {call,
                  {'exchange.declare',0,&lt;&lt;&quot;apa&quot;&gt;&gt;,&lt;&lt;&quot;x-riak&quot;&gt;&gt;,false,true,
                      false,false,false,[]},
                  none,&lt;0.1089.0&gt;},
              infinity]}},
        [{gen_server,call,3},
         {rabbit_mgmt_util,'-amqp_request/5-fun-0-',4},
         {rabbit_mgmt_util,with_channel,5},
         {rabbit_mgmt_util,http_to_amqp,5},
         {webmachine_resource,resource_call,3},
         {webmachine_resource,do,3},
         {webmachine_decision_core,resource_call,1},
         {webmachine_decision_core,accept_helper,1}]}}


This is with the default values in the plugin, but I have also tried to 
explicitly define them both in the UI and python with similar results. 
Where (besides the crash course in Erlang) should I start looking? 

Regards,
/A
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131016/a1fe1a99/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131016/a1fe1a99/attachment.htm</A>&gt;
</PRE>













































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031108.html">[rabbitmq-discuss] SalesForce and RabbitMQ Integration
</A></li>
	<LI>Next message: <A HREF="031040.html">[rabbitmq-discuss] Riak exchange fails in exchange.declare
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31038">[ date ]</a>
              <a href="thread.html#31038">[ thread ]</a>
              <a href="subject.html#31038">[ subject ]</a>
              <a href="author.html#31038">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
