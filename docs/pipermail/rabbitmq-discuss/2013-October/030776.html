<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ clustering issue - exception while stopping the running node
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20clustering%20issue%20-%20exception%20while%0A%20stopping%20the%20running%20node&In-Reply-To=%3C5252A71F.70204%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030770.html">
   <LINK REL="Next"  HREF="030773.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ clustering issue - exception while stopping the running node</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20clustering%20issue%20-%20exception%20while%0A%20stopping%20the%20running%20node&In-Reply-To=%3C5252A71F.70204%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ clustering issue - exception while stopping the running node">emile at rabbitmq.com
       </A><BR>
    <I>Mon Oct  7 13:20:47 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030770.html">[rabbitmq-discuss] RabbitMQ clustering issue - exception while	stopping the running node
</A></li>
        <LI>Next message: <A HREF="030773.html">[rabbitmq-discuss] RabbitMQ crash report
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30776">[ date ]</a>
              <a href="thread.html#30776">[ thread ]</a>
              <a href="subject.html#30776">[ subject ]</a>
              <a href="author.html#30776">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

On 07/10/13 12:01, Rajasekhar P wrote:

&gt;<i> com.rabbitmq.client.ShutdownSignalException: connection error; reason:
</I>&gt;<i> {#method&lt;connection.close&gt;(reply-code=541, reply-text=INTERNAL_ERROR,
</I>&gt;<i> class-id=0, method-id=0), null, &quot;&quot;}
</I>
This means an internal error occurred. Please check the broker logfile
and sasl log and let us know what it says.

&gt;<i> 1&gt; How to differenciate master and slave in rabbitmq cluster?
</I>
Different queues can have a master on different nodes, so there is no
overall master. &quot;rabbitmqctl list_qeueus name pid&quot; will report the
master as part of the pid field.

&gt;<i> 2&gt; Is there any load balancer do we need ti maintain ?
</I>
A load-balancer is not required or prohibited.

&gt;<i> 3&gt; How to dispatch requests to to particular node like below,
</I>&gt;<i>       1-100 queues =&gt; Node1
</I>&gt;<i>      101-200 queues =&gt; Node2
</I>&gt;<i>      201-300 queues =&gt; Node3, etc
</I>
By default queues are created on the node that the peer is connected to,
so your application could connect to node1, declare 100 queues, connect
to node2, declare 100 queues and so on. In this way queues will be
distributed across your cluster.

If you want to make sure that requests are distributed evenly then
consider use of the consistent hash exchange:
<A HREF="https://github.com/rabbitmq/rabbitmq-consistent-hash-exchange">https://github.com/rabbitmq/rabbitmq-consistent-hash-exchange</A>



-Emile


</PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030770.html">[rabbitmq-discuss] RabbitMQ clustering issue - exception while	stopping the running node
</A></li>
	<LI>Next message: <A HREF="030773.html">[rabbitmq-discuss] RabbitMQ crash report
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30776">[ date ]</a>
              <a href="thread.html#30776">[ thread ]</a>
              <a href="subject.html#30776">[ subject ]</a>
              <a href="author.html#30776">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
