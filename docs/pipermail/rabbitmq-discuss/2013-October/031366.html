<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Getting the routing key from connection (web	stomp)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Getting%20the%20routing%20key%20from%20connection%20%28web%0A%09stomp%29&In-Reply-To=%3CCAD6m6fHxYTHPG7D-64Sp-rmm8XgBNDWHPmfC3K%3D33M0siR3eFg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030929.html">
   <LINK REL="Next"  HREF="030933.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Getting the routing key from connection (web	stomp)</H1>
    <B>Jason McIntosh</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Getting%20the%20routing%20key%20from%20connection%20%28web%0A%09stomp%29&In-Reply-To=%3CCAD6m6fHxYTHPG7D-64Sp-rmm8XgBNDWHPmfC3K%3D33M0siR3eFg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Getting the routing key from connection (web	stomp)">mcintoshj at gmail.com
       </A><BR>
    <I>Fri Oct 25 17:24:59 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030929.html">[rabbitmq-discuss] Getting the routing key from connection (web stomp)
</A></li>
        <LI>Next message: <A HREF="030933.html">[rabbitmq-discuss] Long pauses when closing many channels	simultaneously
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31366">[ date ]</a>
              <a href="thread.html#31366">[ thread ]</a>
              <a href="subject.html#31366">[ subject ]</a>
              <a href="author.html#31366">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A few other thoughts on your topology.  Take a strong look at the routing
keys and exchanges and queues.  Rabbit's really designed to be a
&quot;asynchronous&quot; messaging platform.  I'm not sure though I understand what
you mean by clients as well.  Is the system doing the request to the stomp
API your client?  And it's also the client that wants to consume from the
queue in an RPC kinda mechanism?  What you could do in this case, would be
startup a consumer in your process with a generated random value (e.g.
machine name and datetime), the WEB STOMP publishes to a direct exchange
with a message that includes a header &quot;Return data to queue &lt;randomvalue&gt;&quot;.
 Your server side processing receives that message, processes it, reads
that header and publishes a message to that queue.  Then your consumer
&quot;thread&quot; after your publisher is ready can just deliver the resulting
message, and auto-delete the queue.  Just one possibility.

Jason


On Fri, Oct 11, 2013 at 5:49 AM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Hi Magnus,
</I>&gt;<i>
</I>&gt;<i> Apologies for the delayed response to your query.
</I>&gt;<i>
</I>&gt;<i> On 28/09/13 22:18, Magnus Andersson wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I need to get a handle on the routing key for the generated temporary
</I>&gt;<i> &gt; queue when using web stomp. I can't get that from the JavaScript side.
</I>&gt;<i>
</I>&gt;<i> If you need the name of a temporary queue then that is normally a sign
</I>&gt;<i> that you should name the queue yourself instead of relying on a
</I>&gt;<i> server-generated name.
</I>&gt;<i>
</I>&gt;<i> &gt; My desired scenario for my event driven app.
</I>&gt;<i> &gt; 1) Browser client opens a websocket connection to rabbitmq web stomp
</I>&gt;<i> &gt; 2) When calling client.connect, the routing key is made available
</I>&gt;<i> &gt; (example: amq.gen-oQVllULAASDvZdXsxFADHg). *Not working today?*
</I>&gt;<i>
</I>&gt;<i> Opening a connection does not involve a routing key.
</I>&gt;<i>
</I>&gt;<i> &gt; There is a fan-out exchange that all clients subscribe to. But I mostly
</I>&gt;<i> &gt; want to send messages to one dedicated client at a time.
</I>&gt;<i>
</I>&gt;<i> If you want to address clients individually then the clients should
</I>&gt;<i> maintain separate individual subscriptions for that line of
</I>&gt;<i> communication, possibly not involving temporary queue names.
</I>&gt;<i>
</I>&gt;<i> &gt; The documentation is very scarce on Web Stomp and I'm new to RabbitMQ
</I>&gt;<i> &gt; and not particularly Erlang proficient. So I need some pointers.
</I>&gt;<i>
</I>&gt;<i> There are some examples that illustrate use of the plugin:
</I>&gt;<i>
</I>&gt;<i>   <A HREF="http://hg.rabbitmq.com/rabbitmq-web-stomp-examples/">http://hg.rabbitmq.com/rabbitmq-web-stomp-examples/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Emile
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>


-- 
Jason McIntosh
<A HREF="https://github.com/jasonmcintosh/">https://github.com/jasonmcintosh/</A>
573-424-7612
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131025/e1a5a20a/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131025/e1a5a20a/attachment.htm</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030929.html">[rabbitmq-discuss] Getting the routing key from connection (web stomp)
</A></li>
	<LI>Next message: <A HREF="030933.html">[rabbitmq-discuss] Long pauses when closing many channels	simultaneously
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31366">[ date ]</a>
              <a href="thread.html#31366">[ thread ]</a>
              <a href="subject.html#31366">[ subject ]</a>
              <a href="author.html#31366">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
