<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] &quot;Dead&quot; beam.smp threads under high load
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22Dead%22%20beam.smp%20threads%20under%20high%20load&In-Reply-To=%3C5253FBB4.9080508%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030825.html">
   <LINK REL="Next"  HREF="030838.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] &quot;Dead&quot; beam.smp threads under high load</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%22Dead%22%20beam.smp%20threads%20under%20high%20load&In-Reply-To=%3C5253FBB4.9080508%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] &quot;Dead&quot; beam.smp threads under high load">emile at rabbitmq.com
       </A><BR>
    <I>Tue Oct  8 13:33:56 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030825.html">[rabbitmq-discuss] &quot;Dead&quot; beam.smp threads under high load
</A></li>
        <LI>Next message: <A HREF="030838.html">[rabbitmq-discuss] &quot;Dead&quot; beam.smp threads under high load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30835">[ date ]</a>
              <a href="thread.html#30835">[ thread ]</a>
              <a href="subject.html#30835">[ subject ]</a>
              <a href="author.html#30835">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Paul,

Thanks for the detailed diagnostics.

On 08/10/13 11:21, Paul Bowsher wrote:

&gt;<i> We currently have 4 nodes in this &quot;stuck&quot; situation on our less-critical
</I>&gt;<i> workloads, so we are able to provide any debugging information required.
</I>
Can you supply the output of etop? e.g.
 etop -node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit-node-name</A> -lines 100 -sort reductions

If you can get the output of &quot;rabbitmqctl report&quot; that will also be useful.

Is there anything noteworthy in the broker or system logfiles?

Can you tell what system calls are being executed by the threads with
high load? e.g. &quot;strace -pid 6017&quot;

&gt;<i> We're running RabbitMQ both 3.1.0 and 3.1.5 on a self-compiled RPM
</I>
Were any changes made to the sources?



-Emile
</PRE>













































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030825.html">[rabbitmq-discuss] &quot;Dead&quot; beam.smp threads under high load
</A></li>
	<LI>Next message: <A HREF="030838.html">[rabbitmq-discuss] &quot;Dead&quot; beam.smp threads under high load
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30835">[ date ]</a>
              <a href="thread.html#30835">[ thread ]</a>
              <a href="subject.html#30835">[ subject ]</a>
              <a href="author.html#30835">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
