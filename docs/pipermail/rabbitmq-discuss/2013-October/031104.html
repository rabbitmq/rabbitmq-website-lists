<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] if  stop RabbitMq Server Service, the Server  try  to  create  'queues'  folder ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20if%20%20stop%20RabbitMq%20Server%20Service%2C%0A%20the%20Server%20%20try%20%20to%20%20create%20%20%27queues%27%20%20folder%20%3F&In-Reply-To=%3C525FD94A.9090706%40lshift.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031102.html">
   <LINK REL="Next"  HREF="031136.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] if  stop RabbitMq Server Service, the Server  try  to  create  'queues'  folder ?</H1>
    <B>Ceri Storey</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20if%20%20stop%20RabbitMq%20Server%20Service%2C%0A%20the%20Server%20%20try%20%20to%20%20create%20%20%27queues%27%20%20folder%20%3F&In-Reply-To=%3C525FD94A.9090706%40lshift.net%3E"
       TITLE="[rabbitmq-discuss] if  stop RabbitMq Server Service, the Server  try  to  create  'queues'  folder ?">ceri at lshift.net
       </A><BR>
    <I>Thu Oct 17 13:34:18 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031102.html">[rabbitmq-discuss] if  stop RabbitMq Server Service,	the Server  try  to  create  'queues'  folder ?
</A></li>
        <LI>Next message: <A HREF="031136.html">[rabbitmq-discuss] if  stop RabbitMq Server Service,	the Server  try  to  create  'queues'  folder ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31104">[ date ]</a>
              <a href="thread.html#31104">[ thread ]</a>
              <a href="subject.html#31104">[ subject ]</a>
              <a href="author.html#31104">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>(17/10/13 11:24), Tim Watson wrote:
&gt;<i> On 17 Oct 2013, at 10:58, 3k4b251 wrote:
</I>&gt;&gt;<i> Thank  you !    I  think  it's  a  good  idea, but I still  confuse  about
</I>&gt;&gt;<i> the druable queues.  Must  Mq Server  create   floders  for  every  druable
</I>&gt;&gt;<i> queue  in  'queues' ?   
</I>&gt;<i> Is the creation of folders in the internal database causing you a problem? 
</I>
I'd infer that he's maybe referring to the fact that traditionally,
having lots of entires in a single directory will cause accesses to
items in that directory to perform very poorly (even to the point of
causing significant performance problems for the machine overall). If
you fancy seeing this in practice, try creating ~10,000,000-100,000,000
entries in a directory on ext4 (ideally on a sacraficial machine).

The usual solution (usually found in mail transport agents like Exim/
Postfix) to this is to use &quot;hashed&quot; directories, where instead of having
directories named as follows:

/somewhere/queues/0123456789ABCDEF/

You have:

/somewhere/queues/0/01/012/0124/0123456789ABCDEF/

So that the scan of each directory encounters far fewer items, making
the performance more logarithmic than linear.

&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031102.html">[rabbitmq-discuss] if  stop RabbitMq Server Service,	the Server  try  to  create  'queues'  folder ?
</A></li>
	<LI>Next message: <A HREF="031136.html">[rabbitmq-discuss] if  stop RabbitMq Server Service,	the Server  try  to  create  'queues'  folder ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31104">[ date ]</a>
              <a href="thread.html#31104">[ thread ]</a>
              <a href="subject.html#31104">[ subject ]</a>
              <a href="author.html#31104">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
