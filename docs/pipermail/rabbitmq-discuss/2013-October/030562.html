<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] configure external data	store(like	database)	for message durability in rabbitmq
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20configure%20external%20data%0A%09store%28like%09database%29%09for%20message%20durability%20in%20rabbitmq&In-Reply-To=%3C59BF56992750434F89F8EBE141E64B1D0181F8EB%40GAALPA1MSGUSR9C.ITServices.sbc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030570.html">
   <LINK REL="Next"  HREF="030565.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] configure external data	store(like	database)	for message durability in rabbitmq</H1>
    <B>PATAR, SAGAR</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20configure%20external%20data%0A%09store%28like%09database%29%09for%20message%20durability%20in%20rabbitmq&In-Reply-To=%3C59BF56992750434F89F8EBE141E64B1D0181F8EB%40GAALPA1MSGUSR9C.ITServices.sbc.com%3E"
       TITLE="[rabbitmq-discuss] configure external data	store(like	database)	for message durability in rabbitmq">sp345s at att.com
       </A><BR>
    <I>Tue Oct  1 15:37:58 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030570.html">[rabbitmq-discuss] Performance and load testing of RMQ
</A></li>
        <LI>Next message: <A HREF="030565.html">[rabbitmq-discuss] configure external data store(like database) for message durability in rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30562">[ date ]</a>
              <a href="thread.html#30562">[ thread ]</a>
              <a href="subject.html#30562">[ subject ]</a>
              <a href="author.html#30562">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Michael ..

Looks like mirrored queues will work for us ..
I was wondering if the rabbitmq-java-client--3.1.5 has the capability to seamlessly connect to the cluster in case of failovers to Slaves or masters ?? or do we have to wrap the reconnect logic ..

For multiple hosts and port .. can we use the below amqp URL ...

<A HREF="amqp://username1:password1@hostName1:portNumber1,hostname2:portNumber2,hostname3:portname4/virtualHost">amqp://username1:password1@hostName1:portNumber1,hostname2:portNumber2,hostname3:portname4/virtualHost</A>
                                                                   __________________________________________________________

ConnectionFactory factory = new ConnectionFactory();
 factory.setUri(&quot;<A HREF="amqp://username1:password1@hostName1:portNumber1,hostname2:portNumber2,hostname3:portname4/virtualHost&quot;">amqp://username1:password1@hostName1:portNumber1,hostname2:portNumber2,hostname3:portname4/virtualHost&quot;</A>);
 Connection conn = factory.newConnection();
 Channel channel = conn.createChannel().,.

Also appreciate if we can get some links to java client tutorial connecting to clustered env  , Also the spring integration ...


-----Original Message-----
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Michael Klishin
Sent: Monday, September 30, 2013 11:42 AM
To: Discussions about RabbitMQ
Subject: Re: [rabbitmq-discuss] configure external data store(like database) for message durability in rabbitmq

On sep 30, 2013, at 7:37 p.m., &quot;PATAR, SAGAR&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sp345s at att.com</A>&gt; wrote:

&gt;<i> My assumption is when we have a file store for message durability and if one of the node goes down in the cluster the messages not been consumed yet must have been stored in that node file system and will stay till the node is back up ... those message will not be accessible by other active nodes in the cluster because the file store for that node is not accessible to other nodes....and the messages will be delayed ...
</I>&gt;<i> 
</I>&gt;<i> I am not sure how this scenario is handled ...seems to be a common problem
</I>
Using mirrored queues or asynchronous replication (using Shovel or Federation plugins).

See

<A HREF="http://www.rabbitmq.com/distributed.html">http://www.rabbitmq.com/distributed.html</A>
<A HREF="http://www.rabbitmq.com/clustering.html">http://www.rabbitmq.com/clustering.html</A>
<A HREF="http://www.rabbitmq.com/ha.html">http://www.rabbitmq.com/ha.html</A>

MK



</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030570.html">[rabbitmq-discuss] Performance and load testing of RMQ
</A></li>
	<LI>Next message: <A HREF="030565.html">[rabbitmq-discuss] configure external data store(like database) for message durability in rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30562">[ date ]</a>
              <a href="thread.html#30562">[ thread ]</a>
              <a href="subject.html#30562">[ subject ]</a>
              <a href="author.html#30562">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
