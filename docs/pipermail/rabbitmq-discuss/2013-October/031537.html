<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20When%20I%20switch%20my%20network%20connection%20from%20one%0A%20wifi%20router%20to%20another%2C%20two%20consumers%20are%20created&In-Reply-To=%3C681fe292-83ab-4b64-b91d-403c241d23b2%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031540.html">
   <LINK REL="Next"  HREF="031539.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created</H1>
    <B>Liong Hung Wong</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20When%20I%20switch%20my%20network%20connection%20from%20one%0A%20wifi%20router%20to%20another%2C%20two%20consumers%20are%20created&In-Reply-To=%3C681fe292-83ab-4b64-b91d-403c241d23b2%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created">lhwong at gmail.com
       </A><BR>
    <I>Thu Oct 31 07:46:07 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031540.html">[rabbitmq-discuss] AMQP 1.0 client and broker side support?	(.Net)
</A></li>
        <LI>Next message: <A HREF="031539.html">[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31537">[ date ]</a>
              <a href="thread.html#31537">[ thread ]</a>
              <a href="subject.html#31537">[ subject ]</a>
              <a href="author.html#31537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I am creating an Android app to receive push message from RabbitMQ server 
with the following

queueName = &quot;queue123&quot;;
channel.queueDeclare(queueName, true, false, false, null); //durable = 
true, exclusive = false, autoDelete = false
consumer = new QueueingConsumer(channel);
channel.basicConsume(queueName, false, consumer);

I want to be able to receive message pushed when the connection to Internet 
is not available, hence, I set the autoDelete attribute to false.

When I switch my network connection from one wifi router to another, two 
consumers are created for the queue as below. In that case, messages will 
be distributed between both consumers, hence, the app only receives 
alternate message until the first connection timeout due to heartbeat 
setting.

Consumers  Channel Consumer tag Ack required Exclusive  210.19.225.88:36920 
(1)&lt;<A HREF="http://dev.wkl.com:15672/#/channels/210.19.225.88%3A36920%20-%3E%20172.25.0.90%3A5672%20%281%29">http://dev.wkl.com:15672/#/channels/210.19.225.88%3A36920%20-%3E%20172.25.0.90%3A5672%20%281%29</A>&gt; 
amq.ctag-ma8QOXnZ_UAK-R7wddQGXA &#9679; &#9675;  210.19.225.3:60659 (1)&lt;<A HREF="http://dev.wkl.com:15672/#/channels/210.19.225.3%3A60659%20-%3E%20172.25.0.90%3A5672%20%281%29">http://dev.wkl.com:15672/#/channels/210.19.225.3%3A60659%20-%3E%20172.25.0.90%3A5672%20%281%29</A>&gt; 
amq.ctag-igoa2WysTs79WAk969UFJg &#9679; &#9675; 
I am not able to cancel the first consumer with 
channel.basicCancel(consumerTag) when as the connection has already been 
closed. Is there any way to overcome this problem?


Regards,
--Wong Liong Hung
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131031/7b0d01ef/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131031/7b0d01ef/attachment.htm</A>&gt;
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031540.html">[rabbitmq-discuss] AMQP 1.0 client and broker side support?	(.Net)
</A></li>
	<LI>Next message: <A HREF="031539.html">[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31537">[ date ]</a>
              <a href="thread.html#31537">[ thread ]</a>
              <a href="subject.html#31537">[ subject ]</a>
              <a href="author.html#31537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
