<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20When%20I%20switch%20my%20network%20connection%20from%20one%0A%20wifi%20router%20to%20another%2C%20two%20consumers%20are%20created&In-Reply-To=%3C527224A8.8060305%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031537.html">
   <LINK REL="Next"  HREF="031541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20When%20I%20switch%20my%20network%20connection%20from%20one%0A%20wifi%20router%20to%20another%2C%20two%20consumers%20are%20created&In-Reply-To=%3C527224A8.8060305%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created">emile at rabbitmq.com
       </A><BR>
    <I>Thu Oct 31 09:36:40 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031537.html">[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created
</A></li>
        <LI>Next message: <A HREF="031541.html">[rabbitmq-discuss] Festival Shutdown : rabbitmq-discuss Digest, Vol 77, Issue 32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31539">[ date ]</a>
              <a href="thread.html#31539">[ thread ]</a>
              <a href="subject.html#31539">[ subject ]</a>
              <a href="author.html#31539">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

On 31/10/13 07:46, Liong Hung Wong wrote:

&gt;<i> When I switch my network connection from one wifi router to another, two
</I>&gt;<i> consumers are created for the queue as below. In that case, messages
</I>&gt;<i> will be distributed between both consumers, hence, the app only receives
</I>&gt;<i> alternate message until the first connection timeout due to heartbeat
</I>&gt;<i> setting.
</I>
If you want to ensure that only one consumer can get messages from a
queue then set the exclusive flag.

&gt;<i> I am not able to cancel the first consumer with
</I>&gt;<i> channel.basicCancel(consumerTag) when as the connection has already been
</I>&gt;<i> closed. Is there any way to overcome this problem?
</I>
This should not be a problem. If the connection of one consumer has
already closed by the time the second consumer opened then there will be
no overlap in subscriptions. If consumers subscribe without autoAck then
unacknowledged messages will be returned to the queue when a connection
terminates, and any subsequent consumer will be able to process such
messages.



-Emile




</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031537.html">[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created
</A></li>
	<LI>Next message: <A HREF="031541.html">[rabbitmq-discuss] Festival Shutdown : rabbitmq-discuss Digest, Vol 77, Issue 32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31539">[ date ]</a>
              <a href="thread.html#31539">[ thread ]</a>
              <a href="subject.html#31539">[ subject ]</a>
              <a href="author.html#31539">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
