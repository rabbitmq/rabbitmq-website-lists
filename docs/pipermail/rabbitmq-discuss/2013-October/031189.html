<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Channel.basicPublish to a non-existent exchange	does not throw
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Channel.basicPublish%20to%20a%20non-existent%20exchange%0A%09does%20not%20throw&In-Reply-To=%3CCA%2Bes_-wyRi5nGA8cpTwGOCmGyUFR_%2BY5AK%2BGpnDdYm%2BRjLsx%2BQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031205.html">
   <LINK REL="Next"  HREF="031190.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Channel.basicPublish to a non-existent exchange	does not throw</H1>
    <B>Jonathan Halterman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Channel.basicPublish%20to%20a%20non-existent%20exchange%0A%09does%20not%20throw&In-Reply-To=%3CCA%2Bes_-wyRi5nGA8cpTwGOCmGyUFR_%2BY5AK%2BGpnDdYm%2BRjLsx%2BQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Channel.basicPublish to a non-existent exchange	does not throw">jhalterman at gmail.com
       </A><BR>
    <I>Mon Oct 21 20:02:20 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031205.html">[rabbitmq-discuss] BasicReturn event question
</A></li>
        <LI>Next message: <A HREF="031190.html">[rabbitmq-discuss] Channel.basicPublish to a non-existent	exchange does not throw
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31189">[ date ]</a>
              <a href="thread.html#31189">[ thread ]</a>
              <a href="subject.html#31189">[ subject ]</a>
              <a href="author.html#31189">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I noticed that a Channel.basicPublish to a non-existent exchange does not
result in an exception being thrown. It's not clear from the docs whether
this is expected or not, but I assumed an exception would be thrown here
since attempting to get/consume from a non-existent queue results in an
exception be thrown with a similar shutdown reason (404). The channel is
shutdown, but since the Channel's shutdown listener might not be called
immediately my client might not realize that the Channel has been closed
and could attempt another publish which results in the Connection being
shutdown as well.

Should Channel.basicPublish throw when the exchange doesn't exist? If not,
what's the recommended way to determine if a basicPublish resulted in the
Channel being closed (since Channel.isOpen is not recommended for
production use) ?

Thanks,
Jonathan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131021/fe276e7f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131021/fe276e7f/attachment.htm</A>&gt;
</PRE>































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031205.html">[rabbitmq-discuss] BasicReturn event question
</A></li>
	<LI>Next message: <A HREF="031190.html">[rabbitmq-discuss] Channel.basicPublish to a non-existent	exchange does not throw
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31189">[ date ]</a>
              <a href="thread.html#31189">[ thread ]</a>
              <a href="subject.html#31189">[ subject ]</a>
              <a href="author.html#31189">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
