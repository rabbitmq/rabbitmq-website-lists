<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] unable to join the cluster node ..
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20unable%20to%20join%20the%20cluster%20node%20..&In-Reply-To=%3CCAMK%2BtBj8wbPKE4Hg4di1G6EdmnCTXZs1%2Bh1ViZjMmLo5h7cYLg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031012.html">
   <LINK REL="Next"  HREF="031267.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] unable to join the cluster node ..</H1>
    <B>sagu prf</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20unable%20to%20join%20the%20cluster%20node%20..&In-Reply-To=%3CCAMK%2BtBj8wbPKE4Hg4di1G6EdmnCTXZs1%2Bh1ViZjMmLo5h7cYLg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] unable to join the cluster node ..">sagu.prf1 at gmail.com
       </A><BR>
    <I>Tue Oct 15 16:58:06 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031012.html">[rabbitmq-discuss] WCF and queue creation
</A></li>
        <LI>Next message: <A HREF="031267.html">[rabbitmq-discuss] unable to join the cluster node ..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31011">[ date ]</a>
              <a href="thread.html#31011">[ thread ]</a>
              <a href="subject.html#31011">[ subject ]</a>
              <a href="author.html#31011">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Team

         while stoping the Ram node as master unable to fail over to
disk which alive more day than ram node and surprisingly it's why this
disc node not take over as master ( which uptime was higher than ram
node)

=ERROR REPORT==== 14-Oct-2013::10:57:01 ===
Mnesia('<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv05</A>'): ** ERROR ** (core dumped to file:
&quot;/var/lib/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MnesiaCore.rabbit at linuxserv05_1381_809421_158007</A>&quot;)
 ** FATAL ** Failed to merge schema: Bad cookie in table definition
rabbit_user_permission: '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv05</A>' =
 {cstruct,rabbit_user_permission,set,['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv01</A>'],['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv06</A>','<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv05</A>','<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv04</A>']
 ,[],0,read_write,false,[],[],false,user_permission,[user_vhost,permission],[],[],[],{{1376,164084,168369},'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv04</A>'},
 {{4,2},{'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv05</A>',{1381,784616,463441}}}},
'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv01</A>' =
{cstruct,rabbit_user_permission,set,[],['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv01</A>'],
 [],0,read_write,false,[],[],false,user_permission,[user_vhost,permission],[],[],[],{{1381,794520,133541},'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv01</A>'},{{2,0},[]}}


=ERROR REPORT==== 14-Oct-2013::10:57:11 ===
** Generic server mnesia_monitor terminating
** Last message in was {'EXIT',&lt;0.46.0&gt;,killed}
** When Server state == {state,&lt;0.46.0&gt;,[],[],true,[],undefined,[]}
** Reason for termination ==
** killed

=ERROR REPORT==== 14-Oct-2013::10:57:11 ===
** Generic server mnesia_recover terminating
** Last message in was {'EXIT',&lt;0.46.0&gt;,killed}
** When Server state == {state,&lt;0.46.0&gt;,undefined,undefined,undefined,0,false,
                               true,[]}
** Reason for termination ==
** killed

=ERROR REPORT==== 14-Oct-2013::10:57:11 ===
** Generic server mnesia_subscr terminating
** Last message in was {'EXIT',&lt;0.46.0&gt;,killed}
** When Server state == {state,&lt;0.46.0&gt;,20502}
** Reason for termination ==
** killed

=INFO REPORT==== 14-Oct-2013::10:57:11 ===
    application: mnesia
    exited: {shutdown,{mnesia_sup,start,[normal,[]]}}
    type: permanent

=ERROR REPORT==== 14-Oct-2013::10:57:11 ===
** Generic server mnesia_snmp_sup terminating
** Last message in was {'EXIT',&lt;0.46.0&gt;,killed}
** When Server state == {state,
                            {local,mnesia_snmp_sup},
                            simple_one_for_one,
                            [{child,undefined,mnesia_snmp_sup,
                                 {mnesia_snmp_hook,start,[]},
                                 transient,3000,worker,
                                 [mnesia_snmp_sup,mnesia_snmp_hook,
                                  supervisor]}],
                            undefined,0,86400000,[],mnesia_snmp_sup,[]}
** Reason for termination ==
** killed

i have tried the
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv04</A>% rabbitmqctl -n <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv01</A> stop_app

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv04</A>% rabbitmqctl -n <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv01</A> reset
it lost all Queue informations ..
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at linuxserv04</A>%
failing to join the cluster ..

linuxserv05%rabbitmq-server -detached failed to  join ..


even i tired with manually but it was failed ..



is there any other method to remove this linuxserv01 from cluster and
bring back another node into cluster (linuxserv05) ? without shutdown
entire
cluster .

rabbitmqlinuxserv04:/opt/rabbitmq$ rabbitmqctl cluster_status
Cluster status of node 'rabbitlinuxserv04' ...
[{nodes,[{disc,['rabbitlinuxserv06',
                'rabbitlinuxserv05',  -&gt; unable to bring this node as cluster
                'rabbitlinuxserv04']},
         {ram,['rabbitlinuxserv01']}]}, -&gt; still pointing to old node
as STATS (DB) but this node is no more in cluster ..
 {running_nodes,['rabbitlinuxserv06',
                 'rabbitlinuxserv04']}

Regards
sagu
</PRE>































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031012.html">[rabbitmq-discuss] WCF and queue creation
</A></li>
	<LI>Next message: <A HREF="031267.html">[rabbitmq-discuss] unable to join the cluster node ..
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31011">[ date ]</a>
              <a href="thread.html#31011">[ thread ]</a>
              <a href="subject.html#31011">[ subject ]</a>
              <a href="author.html#31011">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
