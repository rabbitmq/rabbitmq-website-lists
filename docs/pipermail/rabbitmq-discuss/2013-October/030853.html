<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Connection blocked by &quot;flow&quot; for more than 600	seconds
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Connection%20blocked%20by%20%22flow%22%20for%20more%20than%20600%0A%09seconds&In-Reply-To=%3C1381263436076-30349.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030864.html">
   <LINK REL="Next"  HREF="030854.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Connection blocked by &quot;flow&quot; for more than 600	seconds</H1>
    <B>Choo</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Connection%20blocked%20by%20%22flow%22%20for%20more%20than%20600%0A%09seconds&In-Reply-To=%3C1381263436076-30349.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] Connection blocked by &quot;flow&quot; for more than 600	seconds">e34_520 at yahoo.com
       </A><BR>
    <I>Tue Oct  8 21:17:16 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030864.html">[rabbitmq-discuss] RabbitMQ Message Queue count limitation
</A></li>
        <LI>Next message: <A HREF="030854.html">[rabbitmq-discuss] Connection blocked by &quot;flow&quot; for more than	600 seconds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30853">[ date ]</a>
              <a href="thread.html#30853">[ thread ]</a>
              <a href="subject.html#30853">[ subject ]</a>
              <a href="author.html#30853">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I'm newbies to RabbitMQ, and wonder if you could help suggesting on the
issue I'm facing while implementing PoC environment.

RabbitMQ 3.1.5, Erlang R16B01 on RHEL, 2 servers in Ram+Disc mode cluster,
memory 128 GB each, the application is very fast pacing - publishing and
subscribing a lot of data from queues (up to 100 tps).

After running application for a couple of minutes, the connection reports
&quot;blocked&quot;, and waiting does not make any good as it blocked for more than
600 seconds.  And happens all the time.

10.95.212.10:51961 -&gt; 10.95.212.12:5672	750.270197	flow
10.95.212.10:51962 -&gt; 10.95.212.12:5672	754.216011	flow
10.95.212.10:51963 -&gt; 10.95.212.12:5672	510.589429	flow
10.95.212.10:51964 -&gt; 10.95.212.12:5672	425.485488	flow
10.95.212.10:51965 -&gt; 10.95.212.12:5672	441.14789	flow
10.95.212.10:51966 -&gt; 10.95.212.12:5672	163.170952	flow
10.95.212.10:51967 -&gt; 10.95.212.12:5672	3.059871	flow
10.95.212.10:51968 -&gt; 10.95.212.12:5672	426.142116	flow
10.95.212.10:51969 -&gt; 10.95.212.12:5672	766.418793	flow
10.95.212.10:51970 -&gt; 10.95.212.12:5672	768.384091	flow
10.95.212.10:51971 -&gt; 10.95.212.12:5672	162.18209	flow
10.95.212.10:51973 -&gt; 10.95.212.12:5672	68.669802	flow
10.95.212.10:51974 -&gt; 10.95.212.12:5672	754.631573	flow
10.95.212.10:51975 -&gt; 10.95.212.12:5672	754.435615	flow
10.95.212.10:51976 -&gt; 10.95.212.12:5672	68.507427	flow
10.95.212.10:51979 -&gt; 10.95.212.12:5672	441.270346	flow
10.95.212.10:51980 -&gt; 10.95.212.12:5672	441.121977	flow
10.95.212.10:51983 -&gt; 10.95.212.12:5672	68.646785	flow
  
And for status:

{memory,
     [{total,3859855376},
      {connection_procs,88174824},
      {queue_procs,244276080},
      {plugins,985632},
      {other_proc,265771096},
      {mnesia,2432752},
      {mgmt_db,101090840},
      {msg_index,592688264},
      {other_ets,588080336},
      {binary,1939595920},
      {code,19746169},
      {atom,703377},
      {other_system,16310086}]},
 {vm_memory_high_watermark,0.85},
 {vm_memory_limit,115011143065},
 {disk_free_limit,1000000000},
 {disk_free,91763609600},

Any suggestion would be very welcome.

Thank you, and Best Regards,
Choo



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Connection-blocked-by-flow-for-more-than-600-seconds-tp30349.html">http://rabbitmq.1065348.n5.nabble.com/Connection-blocked-by-flow-for-more-than-600-seconds-tp30349.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>

















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030864.html">[rabbitmq-discuss] RabbitMQ Message Queue count limitation
</A></li>
	<LI>Next message: <A HREF="030854.html">[rabbitmq-discuss] Connection blocked by &quot;flow&quot; for more than	600 seconds
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30853">[ date ]</a>
              <a href="thread.html#30853">[ thread ]</a>
              <a href="subject.html#30853">[ subject ]</a>
              <a href="author.html#30853">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
