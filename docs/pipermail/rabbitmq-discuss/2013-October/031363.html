<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Feature Req / Bug list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3CCAJ4uuZbwEjPT-oiXffM92q%3DJbpHmDPqFJX7HmwXgb29SLxEmqw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031365.html">
   <LINK REL="Next"  HREF="031367.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Feature Req / Bug list</H1>
    <B>Graeme N</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3CCAJ4uuZbwEjPT-oiXffM92q%3DJbpHmDPqFJX7HmwXgb29SLxEmqw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Feature Req / Bug list">graeme at sudo.ca
       </A><BR>
    <I>Fri Oct 25 17:13:00 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031365.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
        <LI>Next message: <A HREF="031367.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31363">[ date ]</a>
              <a href="thread.html#31363">[ thread ]</a>
              <a href="subject.html#31363">[ subject ]</a>
              <a href="author.html#31363">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Oct 25, 2013 at 3:37 AM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:

&gt;<i> First of all, thank you for taking the time to generate a test case. I
</I>&gt;<i> haven't reproduced anything yet, but rest assured that I will attempt to do
</I>&gt;<i> so.
</I>&gt;<i>
</I>&gt;<i> I do have some quibbles with a couple of your assertions though:
</I>

Great! Part of this conversation is to help me get up to speed quickly on
rabbit internals and architecture, since I'm relatively new to it, and
we're in the middle of deploying it for a bunch of different uses. So,
please correct me if I've misunderstood its behaviour or design. :)


&gt;<i> -rabbitmq_management listener [{port,4444$n},{redirect_old_port,false}]
</I>&gt;<i>
</I>&gt;<i> This redirect port will be going away in 3.3.0.
</I>&gt;<i>
</I>&gt;<i>
</I>Ahhh, this does make sense, and you're right, it doesn't seem to have an
adverse affects on cluster operations.

Err, your script invokes amqp-publish(1) in a loop. 100,000 times. I
&gt;<i> suspect most of the slowness is due to the time taken to fork that many
</I>&gt;<i> processes, open and close that many AMQP connections, and so on. I would
</I>&gt;<i> guess this goes faster on an SSD because you can fork() faster.
</I>&gt;<i>
</I>
Hmmm... I wouldn't expect this to be the case, since I can fork 100000
echos is about 1s on this box. I am willing to admit that there could be
issues in the way the data's being generated out of bash, or for any number
of other reasons though. However, we did see a cluster of 5 machines backed
by 7200 RPM disks get swamped with IO unexpectedly early, which is the
issue I'm trying to reproduce, so I'll work harder on a better test case.


&gt;<i> Certainly I can populate 100 queues with 1,000 messages each in a rather
</I>&gt;<i> small fraction of a second with the PerfTest tool (
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/java-tools.html">http://www.rabbitmq.com/java-tools.html</A>) if the same message goes to all
</I>&gt;<i> queues 1,000 times, or in less than 10 seconds if each message is distinct.
</I>&gt;<i>
</I>
Good to know. I'll be sure to use this when I rework this test case.

Graeme
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131025/87fe9317/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131025/87fe9317/attachment.htm</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031365.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
	<LI>Next message: <A HREF="031367.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31363">[ date ]</a>
              <a href="thread.html#31363">[ thread ]</a>
              <a href="subject.html#31363">[ subject ]</a>
              <a href="author.html#31363">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
