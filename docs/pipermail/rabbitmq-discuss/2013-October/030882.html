<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Identifying and deleting messages from RMQ queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Identifying%20and%20deleting%20messages%20from%20RMQ%0A%20queues&In-Reply-To=%3C52555F0E.3070100%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030881.html">
   <LINK REL="Next"  HREF="030883.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Identifying and deleting messages from RMQ queues</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Identifying%20and%20deleting%20messages%20from%20RMQ%0A%20queues&In-Reply-To=%3C52555F0E.3070100%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Identifying and deleting messages from RMQ queues">emile at rabbitmq.com
       </A><BR>
    <I>Wed Oct  9 14:50:06 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030881.html">[rabbitmq-discuss] Identifying and deleting messages from RMQ queues
</A></li>
        <LI>Next message: <A HREF="030883.html">[rabbitmq-discuss] RabbitMQ startup error.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30882">[ date ]</a>
              <a href="thread.html#30882">[ thread ]</a>
              <a href="subject.html#30882">[ subject ]</a>
              <a href="author.html#30882">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

On 09/10/13 14:34, ding wrote:

&gt;<i> In other word, I want to delete cancelled messages from RMQ queues so
</I>&gt;<i> that consumer don't receive them.
</I>
No, you can only remove messages from the front of the queue. If the
message that you want to delete has not reached the front yet then you
must wait for it to reach the front before it can be deleted.

You may be able to send deletion messages to a separate deletion queue,
and have the consumer subscribe to the deletion queue as well. If the
consumer receives a deletion message then it will know to ignore the
corresponding message when it reaches the front of the regular
processing queue.
The deletion queue will need to stay short and the consumer will have to
prioritise message from the deletion queue.
This will only work if there is one consumer. If there are multiple
consumers then they will need to arrange to share the information from
the deletion queue.
This solution is also inherently racy. The broker does not guarantee the
relative order of messages that travel by different paths.




-Emile







</PRE>




































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030881.html">[rabbitmq-discuss] Identifying and deleting messages from RMQ queues
</A></li>
	<LI>Next message: <A HREF="030883.html">[rabbitmq-discuss] RabbitMQ startup error.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30882">[ date ]</a>
              <a href="thread.html#30882">[ thread ]</a>
              <a href="subject.html#30882">[ subject ]</a>
              <a href="author.html#30882">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
