<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Feature Req / Bug list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3C526ED167.1010308%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031420.html">
   <LINK REL="Next"  HREF="031429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Feature Req / Bug list</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3C526ED167.1010308%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Feature Req / Bug list">matthias at rabbitmq.com
       </A><BR>
    <I>Mon Oct 28 21:04:39 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031420.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
        <LI>Next message: <A HREF="031429.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31424">[ date ]</a>
              <a href="thread.html#31424">[ thread ]</a>
              <a href="subject.html#31424">[ subject ]</a>
              <a href="author.html#31424">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 28/10/13 20:40, Graeme N wrote:
&gt;<i> Well, if you've got my script bundle from earlier in the thread, just
</I>&gt;<i> update with this script. Use them to build a test cluster, populate 100
</I>&gt;<i> queues with 1000 messages each. Then run this script to delete and
</I>&gt;<i> recreate all the queues. This always produces new queues for me that
</I>&gt;<i> contain old messages. ;)
</I>
Publishing is asynchronous. AFAICT the test node does not guarantee that 
all published messages have made it to the queues by the time 
populate_queues terminates. Some messages could still sit in various 
network or internal (pre-routing) buffers. If you then, concurrently, 
delete the queues and recreate them, the buffered messages will get 
routed to the newly created queues.

That's one explanation. The other possibility is that one of the other 
issues you reported is somehow causing this. Obviously if rabbit 
internals are exploding in various interesting ways (indicated by errors 
getting written to the SASL logs), as is happening in your tests, then 
all bets are off.

Matthias.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031420.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
	<LI>Next message: <A HREF="031429.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31424">[ date ]</a>
              <a href="thread.html#31424">[ thread ]</a>
              <a href="subject.html#31424">[ subject ]</a>
              <a href="author.html#31424">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
