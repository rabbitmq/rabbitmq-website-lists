<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Deleting all queues in rabbitmq.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Deleting%20all%20queues%20in%20rabbitmq.&In-Reply-To=%3C526F8881.5000902%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031432.html">
   <LINK REL="Next"  HREF="031444.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Deleting all queues in rabbitmq.</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Deleting%20all%20queues%20in%20rabbitmq.&In-Reply-To=%3C526F8881.5000902%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Deleting all queues in rabbitmq.">emile at rabbitmq.com
       </A><BR>
    <I>Tue Oct 29 10:05:53 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031432.html">[rabbitmq-discuss] Deleting all queues in rabbitmq.
</A></li>
        <LI>Next message: <A HREF="031444.html">[rabbitmq-discuss] Deleting all queues in rabbitmq.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31441">[ date ]</a>
              <a href="thread.html#31441">[ thread ]</a>
              <a href="subject.html#31441">[ subject ]</a>
              <a href="author.html#31441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

On 29/10/13 04:09, k.madnani84 wrote:

&gt;<i> Is there any single command available which could delete all the queues in
</I>&gt;<i> rabbitmq ?
</I>
There is no command to remove only the queues.

It is possible to reset the state of the entire broker to factory
settings by removing the database directory. That will remove queues,
but alot more.

You could download the broker definitions using the management plugin,
remove the queues section, reset the broker database and then upload the
modified broker definition. That should preserve all the broker settings
but cause only queues to be removed.

Another option is to list all queues using &quot;rabbitmqctl list_queues -q
name&quot; or &quot;rabbitmqadmin --format=bash list queues name&quot; and feed that
information into a program that deletes individual queues, e.g.
&quot;rabbitmqadmin delete queue name=...&quot;. The advantage of this method is
that the broker need not be shut down.


&gt;<i> I read in a blog that we could do that way but my mnesia folder consist of
</I>&gt;<i> lot of directories not sure which one to clear to delete all the queues.
</I>&gt;<i> 
</I>&gt;<i> There was a folder &quot;queues&quot; in mnesia which i cleared after stopping the
</I>&gt;<i> node but after restarting the node the queues came back?
</I>
Don't try to delete queues by modifying the contents of the data store
on disk.



-Emile






</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031432.html">[rabbitmq-discuss] Deleting all queues in rabbitmq.
</A></li>
	<LI>Next message: <A HREF="031444.html">[rabbitmq-discuss] Deleting all queues in rabbitmq.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31441">[ date ]</a>
              <a href="thread.html#31441">[ thread ]</a>
              <a href="subject.html#31441">[ subject ]</a>
              <a href="author.html#31441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
