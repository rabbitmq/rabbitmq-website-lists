<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Feature Req / Bug list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3CCAJ4uuZYUqGeBRVEbacpGPeyHxFP2S9F7PND8KPQakjMg9Whgrg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031416.html">
   <LINK REL="Next"  HREF="031419.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Feature Req / Bug list</H1>
    <B>Graeme N</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3CCAJ4uuZYUqGeBRVEbacpGPeyHxFP2S9F7PND8KPQakjMg9Whgrg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Feature Req / Bug list">graeme at sudo.ca
       </A><BR>
    <I>Mon Oct 28 20:31:08 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031416.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
        <LI>Next message: <A HREF="031419.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31418">[ date ]</a>
              <a href="thread.html#31418">[ thread ]</a>
              <a href="subject.html#31418">[ subject ]</a>
              <a href="author.html#31418">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Ran into another interesting issue which I'm not gonna create a full test
case for right now, as I'm trying to focus on clustering problems, but I
thought it was worth mentioning.

It looks like if you have a bunch of persistent queues full of messages
(~10k each in this case), and you delete them via the API and then recreate
them immediately, Rabbit won't have finished deleting messages out of
mnesia / disk, and so they'll reappear with some subset of the messages
that were present before queue deletion.

This is definitely not the behaviour I'd expect, although it makes sense if
queue deletion happens asynchronously. Even so, might be worth revisiting
the behaviour and making sure old messages are purged on queue deletion
before letting a &quot;new&quot; queue with the same name be created.

Graeme



On Mon, Oct 28, 2013 at 1:22 PM, Michael Klishin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">michael at rabbitmq.com</A>&gt;wrote:

&gt;<i> On 29 Oct 2013, at 00:14, Graeme N &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">graeme at sudo.ca</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I'm going a different direction now anyway, the go amqp libs are easy to
</I>&gt;<i> use and seem performant, so I'm just whipping up a little populator in go.
</I>&gt;<i> Seems to be doing the job, so I think I'm gonna forget about PerfTest for
</I>&gt;<i> now.
</I>&gt;<i>
</I>&gt;<i> Take a look at <A HREF="https://github.com/gocardless/amqpc,">https://github.com/gocardless/amqpc,</A> too.
</I>&gt;<i>
</I>&gt;<i> MK
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131028/2eb6abc5/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131028/2eb6abc5/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031416.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
	<LI>Next message: <A HREF="031419.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31418">[ date ]</a>
              <a href="thread.html#31418">[ thread ]</a>
              <a href="subject.html#31418">[ subject ]</a>
              <a href="author.html#31418">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
