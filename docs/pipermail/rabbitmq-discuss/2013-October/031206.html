<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] centos linux install failed to create rabbitmq-env.conf or rabbitmq.config
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20centos%20linux%20install%20failed%20to%20create%0A%20rabbitmq-env.conf%20or%20rabbitmq.config&In-Reply-To=%3CCANOx8N%3DsX43RFObk28mxXH7UpmY%2B-Zn0%3Dx%3DgJAiE78NqMacywA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031080.html">
   <LINK REL="Next"  HREF="031212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] centos linux install failed to create rabbitmq-env.conf or rabbitmq.config</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20centos%20linux%20install%20failed%20to%20create%0A%20rabbitmq-env.conf%20or%20rabbitmq.config&In-Reply-To=%3CCANOx8N%3DsX43RFObk28mxXH7UpmY%2B-Zn0%3Dx%3DgJAiE78NqMacywA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] centos linux install failed to create rabbitmq-env.conf or rabbitmq.config">jkuch at gopivotal.com
       </A><BR>
    <I>Mon Oct 21 21:54:51 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031080.html">[rabbitmq-discuss] centos linux install failed to create rabbitmq-env.conf or rabbitmq.config
</A></li>
        <LI>Next message: <A HREF="031212.html">[rabbitmq-discuss] centos linux install failed to create rabbitmq-env.conf or rabbitmq.config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31206">[ date ]</a>
              <a href="thread.html#31206">[ thread ]</a>
              <a href="subject.html#31206">[ subject ]</a>
              <a href="author.html#31206">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Ken:

So this thread's been going a while, and taken a bunch of twists and turns.


Some remarks inline to try to establish context on where we are and how we
might solve your problems...

On Wed, Oct 16, 2013 at 12:36 PM, ken macpherson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">kmacpher67 at gmail.com</A>&gt;wrote:

&gt;<i> nope didn't work...
</I>&gt;<i>
</I>&gt;<i> # nohup rabbitmq-server &amp;
</I>&gt;<i>
</I>&gt;<i> &amp;
</I>&gt;<i> # rabbitmqctl status
</I>&gt;<i> Status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at qaapp</A> ...
</I>&gt;<i> [{pid,30347},
</I>&gt;<i>  {running_applications,
</I>&gt;<i>      [{rabbitmq_tracing,&quot;RabbitMQ message logging / tracing&quot;,&quot;3.1.5&quot;},
</I>&gt;<i>       {rabbitmq_management_visualiser,&quot;RabbitMQ Visualiser&quot;,&quot;3.1.5&quot;},
</I>&gt;<i>       {rabbitmq_management,&quot;RabbitMQ Management Console&quot;,&quot;3.1.5&quot;},
</I>&gt;<i>       {rabbitmq_web_dispatch,&quot;RabbitMQ Web Dispatcher&quot;,&quot;3.1.5&quot;},
</I>&gt;<i>       {webmachine,&quot;webmachine&quot;,&quot;1.10.3-rmq3.1.5-gite9359c7&quot;},
</I>&gt;<i>       {mochiweb,&quot;MochiMedia Web Server&quot;,&quot;2.7.0-rmq3.1.5-git680dba8&quot;},
</I>&gt;<i>       {rabbitmq_management_agent,&quot;RabbitMQ Management Agent&quot;,&quot;3.1.5&quot;},
</I>&gt;<i>       {rabbit,&quot;RabbitMQ&quot;,&quot;3.1.5&quot;},
</I>&gt;<i>       {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.13&quot;},
</I>&gt;<i>       {inets,&quot;INETS  CXC 138 49&quot;,&quot;5.9.6&quot;},
</I>&gt;<i>       {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.10&quot;},
</I>&gt;<i>       {amqp_client,&quot;RabbitMQ AMQP Client&quot;,&quot;3.1.5&quot;},
</I>&gt;<i>       {xmerl,&quot;XML parser&quot;,&quot;1.3.4&quot;},
</I>&gt;<i>       {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.3.3&quot;},
</I>&gt;<i>       {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.19.3&quot;},
</I>&gt;<i>       {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.16.3&quot;}]},
</I>&gt;<i>  {os,{unix,linux}},
</I>&gt;<i>  {erlang_version,
</I>&gt;<i>      &quot;Erlang R16B02 (erts-5.10.3) [source] [64-bit] [smp:4:4]
</I>&gt;<i> [async-threads:30] [hipe] [kernel-poll:true]\n&quot;},
</I>&gt;<i>  {memory,
</I>&gt;<i>      [{total,41243224},
</I>&gt;<i>       {connection_procs,5600},
</I>&gt;<i>       {queue_procs,5600},
</I>&gt;<i>       {plugins,382736},
</I>&gt;<i>       {other_proc,13561960},
</I>&gt;<i>       {mnesia,60272},
</I>&gt;<i>       {mgmt_db,47344},
</I>&gt;<i>       {msg_index,28496},
</I>&gt;<i>       {other_ets,1108360},
</I>&gt;<i>       {binary,34144},
</I>&gt;<i>       {code,19598331},
</I>&gt;<i>       {atom,703377},
</I>&gt;<i>       {other_system,5707004}]},
</I>&gt;<i>  {vm_memory_high_watermark,0.4},
</I>&gt;<i>  {vm_memory_limit,1658167296},
</I>&gt;<i>  {disk_free_limit,1000000000},
</I>&gt;<i>  {disk_free,6997409792},
</I>&gt;<i>  {file_descriptors,
</I>&gt;<i>      [{total_limit,10140},
</I>&gt;<i>       {total_used,3},
</I>&gt;<i>       {sockets_limit,9124},
</I>&gt;<i>       {sockets_used,1}]},
</I>&gt;<i>  {processes,[{limit,1048576},{used,199}]},
</I>&gt;<i>  {run_queue,0},
</I>&gt;<i>  {uptime,192}]
</I>&gt;<i> ...done.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> BUT ... the services are bumbkiss.
</I>&gt;<i>
</I>
&gt;<i> #/sbin/service rabbitmq-server status
</I>&gt;<i> pthread/ethr_event.c:98: Fatal error in wait__(): Function not implemented
</I>&gt;<i> (38)
</I>&gt;<i>
</I>&gt;<i> It's running the server now, so there's 8 hours I'll never get back.
</I>&gt;<i>
</I>
I can't quite understand what state you're in or how you got there.

Did you:


   1. On a relatively clean CentOS machine...
   2. ...set up the EPEL repositories as documented here:
   <A HREF="http://www.rabbitmq.com/install-rpm.html">http://www.rabbitmq.com/install-rpm.html</A>
   3. ...install a sufficiently modern Erlang from the EPEL repository set
   up in 2
   4. ...install the rabbitmq-server RPM as documented at the URL above
   5. Start the service with:  /sbin/service rabbitmq-server start
   6. Verify that it's alive by things like:
      1. Trying to telnet to port 5672 where Rabbit should be listening for
      AMQP connection attempts (bang on some keys and see if you get kicked out
      with an AMQP error message)
      2. Use ps to find processes whose name contains 'beam' (the name of
      the Erlang VM) and whose command line arguments show they're
running Rabbit
      3. 'sudo rabbitmqctl status' and see what you get back.

The chain of things in your mail thread suggests one or more of these
things have gone wrong, as well as some possible red herrings, like
worrying about the epmd process... this is the Erlang port mapper daemon,
which Erlang applications use to find one another for IPC, and will be
running if Erlang has previous started up on the machine.

The &quot;function not implemented&quot; error you're seeing is something that you'll
sometimes see on CentOS installs running Erlang on older Linux kernels that
don't implement FUTEX_WAIT_PRIVATE and FUTEX_WAKE_PRIVATE.  What CentOS
version are you working with?

I'm also wondering a bit whether there might be more than one Erlang
install on this machine.

Can you back out and try again, following the instructions at the above URL
carefully, and reporting what you see as you go?

Best regards,
Jerry
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131021/d382fb30/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131021/d382fb30/attachment.htm</A>&gt;
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031080.html">[rabbitmq-discuss] centos linux install failed to create rabbitmq-env.conf or rabbitmq.config
</A></li>
	<LI>Next message: <A HREF="031212.html">[rabbitmq-discuss] centos linux install failed to create rabbitmq-env.conf or rabbitmq.config
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31206">[ date ]</a>
              <a href="thread.html#31206">[ thread ]</a>
              <a href="subject.html#31206">[ subject ]</a>
              <a href="author.html#31206">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
