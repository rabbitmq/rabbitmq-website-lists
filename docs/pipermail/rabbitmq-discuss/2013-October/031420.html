<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Feature Req / Bug list
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3CCAJ4uuZYmom2AjYrsYOVxDNfkuK4VVhqoEyFqG5c7f%2Bth-Xdx5w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031419.html">
   <LINK REL="Next"  HREF="031424.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Feature Req / Bug list</H1>
    <B>Graeme N</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20Req%20/%20Bug%20list&In-Reply-To=%3CCAJ4uuZYmom2AjYrsYOVxDNfkuK4VVhqoEyFqG5c7f%2Bth-Xdx5w%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Feature Req / Bug list">graeme at sudo.ca
       </A><BR>
    <I>Mon Oct 28 20:40:36 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031419.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
        <LI>Next message: <A HREF="031424.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31420">[ date ]</a>
              <a href="thread.html#31420">[ thread ]</a>
              <a href="subject.html#31420">[ subject ]</a>
              <a href="author.html#31420">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Oct 28, 2013 at 1:36 PM, Matthias Radestock
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;wrote:

&gt;<i> On 28/10/13 20:31, Graeme N wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> It looks like if you have a bunch of persistent queues full of messages
</I>&gt;&gt;<i> (~10k each in this case), and you delete them via the API and then
</I>&gt;&gt;<i> recreate them immediately, Rabbit won't have finished deleting messages
</I>&gt;&gt;<i> out of mnesia / disk, and so they'll reappear with some subset of the
</I>&gt;&gt;<i> messages that were present before queue deletion.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I can assure you that is not what happens.
</I>&gt;<i>
</I>&gt;<i> Looking forward to your test code to prove me wrong :)
</I>&gt;<i>
</I>
Well, if you've got my script bundle from earlier in the thread, just
update with this script. Use them to build a test cluster, populate 100
queues with 1000 messages each. Then run this script to delete and recreate
all the queues. This always produces new queues for me that contain old
messages. ;)

Graeme
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131028/c2e93aca/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131028/c2e93aca/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: populate_queues.sh
Type: application/x-sh
Size: 227 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131028/c2e93aca/attachment.sh">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131028/c2e93aca/attachment.sh</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031419.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
	<LI>Next message: <A HREF="031424.html">[rabbitmq-discuss] Feature Req / Bug list
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31420">[ date ]</a>
              <a href="thread.html#31420">[ thread ]</a>
              <a href="subject.html#31420">[ subject ]</a>
              <a href="author.html#31420">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
