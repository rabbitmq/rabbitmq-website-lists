<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] other transports besides TCP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20other%20transports%20besides%20TCP&In-Reply-To=%3CCA%2B%2BkpXzDA1hvHR304jTPa-0_sDpyPak%3DGE3hzK9xCUfMr9UZJA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031002.html">
   <LINK REL="Next"  HREF="031215.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] other transports besides TCP</H1>
    <B>Jorg Eloy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20other%20transports%20besides%20TCP&In-Reply-To=%3CCA%2B%2BkpXzDA1hvHR304jTPa-0_sDpyPak%3DGE3hzK9xCUfMr9UZJA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] other transports besides TCP">jluzuria2001 at gmail.com
       </A><BR>
    <I>Wed Oct 16 13:58:49 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031002.html">[rabbitmq-discuss] other transports besides TCP
</A></li>
        <LI>Next message: <A HREF="031215.html">[rabbitmq-discuss] other transports besides TCP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31039">[ date ]</a>
              <a href="thread.html#31039">[ thread ]</a>
              <a href="subject.html#31039">[ subject ]</a>
              <a href="author.html#31039">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Simon,

Thanks for your help, continue with our interest in consuming the enqueued
messages,
in order to get more than one consumer per queue.
Exist something similar to fanout exchange type in UPD?

Actually, I'm trying with UDP consumer without get it. So I've the Consumer
that I use with TCP transport,
and it's very strange, It works perfect when consumes messages from a host
where the brokerMQ is installed.
But when I try to consume messages from the other host, it's no possible.
Besides that when I tried to declare the exchange and queue from the
another host different to the broker, These aren't created.

Any ideas?  What else should I try?
Best regards and thanks in advance,

Jorg


2013/10/15 Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;

&gt;<i> Hi.
</I>&gt;<i>
</I>&gt;<i> I compiled your code and it works for me. I had to provide the address and
</I>&gt;<i> port for the DatagramPacket, so you probably want to make sure those are
</I>&gt;<i> correct. Also make sure the packet is not being eaten by a firewall.
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 15/10/2013 09:25, Jorg Eloy wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi Simon,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks for your reply, let me said that when I sent messages using UDP,
</I>&gt;&gt;<i> these messages are bounded to the queue in the channel with this line of
</I>&gt;&gt;<i> code:
</I>&gt;&gt;<i> /channel.queueBind(q1, xnameRaw, &quot;#&quot;);/
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> When I'm using Wireshark, I can view these messages arriving to the
</I>&gt;&gt;<i> broker but they didn't reach to the exchange.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Why I'm using UDP instead of TCP is because I'm tried with AMQP to work
</I>&gt;&gt;<i> with sensors and servers,
</I>&gt;&gt;<i> where sensors enqueue messages using UDP due to the typical sensor data
</I>&gt;&gt;<i> is redundant an some loss can be tolerated
</I>&gt;&gt;<i> and the servers receive these messages using a channel protocol over
</I>&gt;&gt;<i> TCP, The servers might use TCP to transport messages reliably.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thanks again.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> PD. Here I put some important lines of the code that I'm using actually
</I>&gt;&gt;<i> to do this task.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ------------------------------**------------------------------**
</I>&gt;&gt;<i> -------------
</I>&gt;&gt;<i> /    String xnameRaw = &quot;UDP raw exchage for testing&quot;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      String xtype = &quot;x-udp&quot;;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      ConnectionFactory factory = new ConnectionFactory();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Connection connection = factory.newConnection();
</I>&gt;&gt;<i>      Channel    channel = connection.createChannel();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      factory.setHost(BROKERMQ);
</I>&gt;&gt;<i>          factory.setUsername(&quot;guest&quot;);
</I>&gt;&gt;<i>          factory.setPassword(&quot;guest&quot;);
</I>&gt;&gt;<i>      factory.setPort(PORT);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      Map&lt;String, Object&gt; declArgs = new HashMap&lt;String, Object&gt;();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      declArgs.put(&quot;ip&quot;, &quot;0.0.0.0&quot;);
</I>&gt;&gt;<i>      declArgs.put(&quot;port&quot;, (short) PORT);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      channel.exchangeDeclare(**xnameRaw, xtype, false, false, false,
</I>&gt;&gt;<i> declArgs);
</I>&gt;&gt;<i>      String q1 = channel.queueDeclare().**getQueue();
</I>&gt;&gt;<i>      channel.queueBind(q1, xnameRaw, &quot;#&quot;);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      DatagramSocket u2 = new DatagramSocket();
</I>&gt;&gt;<i>      DatagraPacket pOutRaw = new DatagramPacket(message, message.length,
</I>&gt;&gt;<i> address, PORT);
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>      u2.send(pOutRaw);
</I>&gt;&gt;<i>      channel.basicPublish(xnameRaw, routingKey, null, message);/
</I>&gt;&gt;<i> ------------------------------**------------------------------**
</I>&gt;&gt;<i> -------------
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2013/10/11 Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A> &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>
</I>&gt;&gt;<i> &gt;&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I'm afraid your message doesn't really give us much to go on, other
</I>&gt;&gt;<i>     than &quot;it doesn't work&quot;.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     I suggest you try to break the problem down: when you send a UDP
</I>&gt;&gt;<i>     packet, can you see it reach the broker in wireshark? Can you see it
</I>&gt;&gt;<i>     go into a queue (bound to the UDP exchange with &quot;#&quot;) in the
</I>&gt;&gt;<i>     management plugin? And so on.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Also, out of interest, why do you want to use UDP instead of TCP?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Cheers, Simon
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     On 11/10/2013 10:27AM, Jorg Eloy wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Hi all,
</I>&gt;&gt;<i>         I'm looking another transport for AMQP in place of TCP,
</I>&gt;&gt;<i>         Nowadays, I'm trying work with UPD exchange of tonyg
</I>&gt;&gt;<i>         [<A HREF="https://github.com/tonyg/udp-**__exchange&lt;https://github.com/tonyg/udp-__exchange">https://github.com/tonyg/udp-**__exchange&lt;https://github.com/tonyg/udp-__exchange</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         &lt;<A HREF="https://github.com/tonyg/udp-**exchange&lt;https://github.com/tonyg/udp-exchange">https://github.com/tonyg/udp-**exchange&lt;https://github.com/tonyg/udp-exchange</A>&gt;&gt;],
</I>&gt;&gt;<i> with the plugin to
</I>&gt;&gt;<i>         rabbitmq, to
</I>&gt;&gt;<i>         get a similar scenario with publishers, consumers, queues and
</I>&gt;&gt;<i>         exchanges,
</I>&gt;&gt;<i>         But I can't get it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         My actual situation is that:
</I>&gt;&gt;<i>         I send messages from the publisher to the exchange and these
</I>&gt;&gt;<i>         messages
</I>&gt;&gt;<i>         are not published, I can view in the web management tool how the
</I>&gt;&gt;<i>         delivery rate in the exchange is altered,
</I>&gt;&gt;<i>         I'm using basicPublish to publish the messages and
</I>&gt;&gt;<i>         QueueingConsumer to
</I>&gt;&gt;<i>         consume the messages, Also DatagramSockets and DatagramPackets
</I>&gt;&gt;<i>         to send
</I>&gt;&gt;<i>         and receive by UDP.
</I>&gt;&gt;<i>         But as I said before, these messages are don't received in the
</I>&gt;&gt;<i>         consumer.
</I>&gt;&gt;<i>         Including that I use the same routing keys in the messages and
</I>&gt;&gt;<i> when
</I>&gt;&gt;<i>         I try sending messages directly to the queue created for the
</I>&gt;&gt;<i>         consumer,
</I>&gt;&gt;<i>         these messages arrive successfully
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Can someone know what is the error?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>         Thanks in advance.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     --
</I>&gt;&gt;<i>     Simon MacMullen
</I>&gt;&gt;<i>     RabbitMQ, Pivotal
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131016/b006cddb/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131016/b006cddb/attachment.htm</A>&gt;
</PRE>













































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031002.html">[rabbitmq-discuss] other transports besides TCP
</A></li>
	<LI>Next message: <A HREF="031215.html">[rabbitmq-discuss] other transports besides TCP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31039">[ date ]</a>
              <a href="thread.html#31039">[ thread ]</a>
              <a href="subject.html#31039">[ subject ]</a>
              <a href="author.html#31039">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
