<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fetching messages from exchange once I	connect
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fetching%20messages%20from%20exchange%20once%20I%0A%09connect&In-Reply-To=%3C9E0FE653-C675-4E26-97ED-20E5B6E8C508%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030964.html">
   <LINK REL="Next"  HREF="030970.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fetching messages from exchange once I	connect</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Fetching%20messages%20from%20exchange%20once%20I%0A%09connect&In-Reply-To=%3C9E0FE653-C675-4E26-97ED-20E5B6E8C508%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Fetching messages from exchange once I	connect">mklishin at gopivotal.com
       </A><BR>
    <I>Sun Oct 13 13:20:06 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030964.html">[rabbitmq-discuss] Fetching messages from exchange once I connect
</A></li>
        <LI>Next message: <A HREF="030970.html">[rabbitmq-discuss] Auto delete Queue disappears while using with	direct exchange.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30966">[ date ]</a>
              <a href="thread.html#30966">[ thread ]</a>
              <a href="subject.html#30966">[ subject ]</a>
              <a href="author.html#30966">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 13 Oct 2013, at 14:49, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tyger2007 at yahoo.com</A> wrote:

&gt;<i> I am using rabbitmq for an application , I have an exchange to exchange binding like this 
</I>&gt;<i> Clientapp1 connects to rabbitmq server creates a fanout exchange and binds it to an exchange ( post exchange that is always on the server ) this is more like an exchange to exchange binding so another consumer can always try to read from a central exchange instead of binding to all the exchanges he subscribed to , I have two questions based on this implementation 
</I>&gt;<i> 1)since the central exchange(post exchange) is a topic exchange on the server with multiple clientapps binding their exchange to it  , how do I route the messages effectively to consumers that have queues bound to the post exchange based on their binding keys
</I>
Sorry but consumers do not consume from exchanges. They consume from queues which
exchanges route messages to.

See <A HREF="http://www.rabbitmq.com/tutorials/amqp-concepts.html">http://www.rabbitmq.com/tutorials/amqp-concepts.html</A> if you need a brief intro
to the concepts.

&gt;<i> 2)if consumer3  was not alive when the message was sent to post exchange , how does the app fetch all the sent messages once he connects to the server .
</I>
Again, consumers don't know anything about exchanges.

If a message is published to an exchange X, then one of the following scenarios
occurs:

 * X has queues bound to it with matching routing keys. A copy of the message is placed into each queue.
 * X has no bindings or none with matching routing keys. The message will either be sent to
   an alternate exchange (if any) or returned to the publisher (if published as mandatory) or voided.
 * X has exchanges bound to it. Then it works as if a copy of the message was published to every
    one of those exchanges (with matching routing keys).

Note that exchange-to-exchange bindings are relatively rarely used by applications.

Now, if a message is routed to a queue that has no consumers, it will sit there waiting for
a consumer to come around or an app pull messages using basic.get. Whether messages
survive RabbitMQ node restart depends on queue durability and if messages are
published as persistent but otherwise, the message will sit there waiting to be consumed.

MK



</PRE>










































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030964.html">[rabbitmq-discuss] Fetching messages from exchange once I connect
</A></li>
	<LI>Next message: <A HREF="030970.html">[rabbitmq-discuss] Auto delete Queue disappears while using with	direct exchange.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30966">[ date ]</a>
              <a href="thread.html#30966">[ thread ]</a>
              <a href="subject.html#30966">[ subject ]</a>
              <a href="author.html#30966">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
