<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Creating a rabbitmq.config for federation
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Creating%20a%20rabbitmq.config%20for%20federation&In-Reply-To=%3C526E84C5.4070500%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031401.html">
   <LINK REL="Next"  HREF="031256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Creating a rabbitmq.config for federation</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Creating%20a%20rabbitmq.config%20for%20federation&In-Reply-To=%3C526E84C5.4070500%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Creating a rabbitmq.config for federation">simon at rabbitmq.com
       </A><BR>
    <I>Mon Oct 28 15:37:41 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031401.html">[rabbitmq-discuss] Creating a rabbitmq.config for federation
</A></li>
        <LI>Next message: <A HREF="031256.html">[rabbitmq-discuss] RabbitMQ - unable to consume unfinished messages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31403">[ date ]</a>
              <a href="thread.html#31403">[ thread ]</a>
              <a href="subject.html#31403">[ subject ]</a>
              <a href="author.html#31403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Did you see any of the responses here:

<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2013-October/031243.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2013-October/031243.html</A>

?

If you are using the google group you should be aware that:

1) We are not in control of it, and the person who was in control of it 
has vanished.

2) It seems mediocre at forwarding messages from the mailing list.

Cheers, Simon

On 28/10/2013 3:25PM, Robert Parker wrote:
&gt;<i> Anybody?  Are there any white papers anywhere on how to configure
</I>&gt;<i> federation in rabbitmq.config similar to what I'm doing above?  Its much
</I>&gt;<i> easier to deploy a single file to each system to configure rabbitmq than
</I>&gt;<i> run a set of rabbitmqctl commands in a script.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Robert
</I>&gt;<i>
</I>&gt;<i> On Tuesday, October 22, 2013 2:18:01 PM UTC-5, Robert Parker wrote:
</I>&gt;<i>
</I>&gt;<i>     I'm having trouble finding good examples of how to configure
</I>&gt;<i>     a rabbitmq.config file to do what I've been doing with a set of
</I>&gt;<i>     rabbitmqctl commands.  Here's the script I use to configure
</I>&gt;<i>     clustering and federation for one of my rabbitmq clusters:
</I>&gt;<i>
</I>&gt;<i>         #!/bin/bash
</I>&gt;<i>
</I>&gt;<i>         rabbitmqctl stop_app
</I>&gt;<i>         rabbitmqctl reset
</I>&gt;<i>         rabbitmqctl join_cluster <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit2</A>
</I>&gt;<i>         rabbitmqctl start_app
</I>&gt;<i>         rabbitmq-plugins enable rabbitmq_federation
</I>&gt;<i>         rabbitmq-plugins enable rabbitmq_federation_management
</I>&gt;<i>         rabbitmq-plugins enable rabbitmq_management
</I>&gt;<i>         service rabbitmq-server restart
</I>&gt;<i>
</I>&gt;<i>         rabbitmqctl set_parameter federation-upstream cluster1-upstream
</I>&gt;<i>         '{&quot;uri&quot;:[&quot;<A HREF="amqp://rabbit3.example.com">amqp://rabbit3.example.com</A>
</I>&gt;<i>         &lt;<A HREF="http://rabbit3.example.com">http://rabbit3.example.com</A>&gt;&quot;,&quot;<A HREF="amqp://rabbit4.example.com">amqp://rabbit4.example.com</A>
</I>&gt;<i>         &lt;<A HREF="http://rabbit4.example.com">http://rabbit4.example.com</A>&gt;&quot;],&quot;expires&quot;:3600000}'
</I>&gt;<i>         rabbitmqctl set_policy federate-mything &quot;^Mything$&quot;
</I>&gt;<i>         '{&quot;federation-upstream-set&quot;:&quot;all&quot;}' 0
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     How do I convert that into a format that will work in a
</I>&gt;<i>     rabbitmq.config so that all I need to do is drop this config file
</I>&gt;<i>     in, reset the node, then restart rabbitmq-server to get this
</I>&gt;<i>     configuration working?  Also, if you put your cluster config into
</I>&gt;<i>     rabbitmq.config  on both nodes to be clustered, will they
</I>&gt;<i>     automatically set the correct /var/lib/rabbitmq/.erlang.cookie or
</I>&gt;<i>     must that step still be done manually?
</I>&gt;<i>
</I>&gt;<i>     Thanks in advance
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>
-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031401.html">[rabbitmq-discuss] Creating a rabbitmq.config for federation
</A></li>
	<LI>Next message: <A HREF="031256.html">[rabbitmq-discuss] RabbitMQ - unable to consume unfinished messages?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31403">[ date ]</a>
              <a href="thread.html#31403">[ thread ]</a>
              <a href="subject.html#31403">[ subject ]</a>
              <a href="author.html#31403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
