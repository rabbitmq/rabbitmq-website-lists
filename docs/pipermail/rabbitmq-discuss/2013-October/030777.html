<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] mirrored queue cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20mirrored%20queue%20cluster&In-Reply-To=%3C59BF56992750434F89F8EBE141E64B1D018209B1%40GAALPA1MSGUSR9C.ITServices.sbc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="030739.html">
   <LINK REL="Next"  HREF="030785.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] mirrored queue cluster</H1>
    <B>PATAR, SAGAR</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20mirrored%20queue%20cluster&In-Reply-To=%3C59BF56992750434F89F8EBE141E64B1D018209B1%40GAALPA1MSGUSR9C.ITServices.sbc.com%3E"
       TITLE="[rabbitmq-discuss] mirrored queue cluster">sp345s at att.com
       </A><BR>
    <I>Mon Oct  7 13:32:17 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="030739.html">[rabbitmq-discuss] mirrored queue cluster
</A></li>
        <LI>Next message: <A HREF="030785.html">[rabbitmq-discuss] mirrored queue cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30777">[ date ]</a>
              <a href="thread.html#30777">[ thread ]</a>
              <a href="subject.html#30777">[ subject ]</a>
              <a href="author.html#30777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Below when you say &quot; You can have multiple consumers per queue. On exclusive queues, they all have to be
on the same connection.&quot;
will each consumer get a copy of the message on the same queue ..my understanding is only one consumer wins and gets the message ...??

Also in our scenario we can't have consumers spanning from same connection ... PL. find the attached PPT having the network topology and the slide 4 has a scenario where we introduce a new client ... Do we need to create a new queue for it ..
Our scenario is a simple pub/sub .. where all the consumers should get the same message .. and we have  to implement the high availability and durability features for failover scenarios ...

Please suggest ...

-----Original Message-----
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Michael Klishin
Sent: Friday, October 04, 2013 4:38 PM
To: Discussions about RabbitMQ
Subject: Re: [rabbitmq-discuss] mirrored queue cluster


On oct 5, 2013, at 12:30 a.m., &quot;PATAR, SAGAR&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sp345s at att.com</A>&gt; wrote:

&gt;<i> Only 1 consumer can consume a message from a Queue right ...
</I>
You can have multiple consumers per queue. On exclusive queues, they all have to be
on the same connection.

&gt;<i> With multiple clients we are expecting multiple consumers .. and we need to have the same message consumed by all the consumers ..
</I>&gt;<i> I have seen the tutorial from that it looks like each consumer needs to have a separate queue and so a copy of a message will be forwarded ...
</I>
If that's not sufficient, you can use exchange-to-exchange bindings to first distribute
messages between exchanges and those (fanout) exchanges will distribute messages
between queues.

That is only necessary if every consumer needs to get a copy of every message. If that's not
the case, simply add as many consumers as necessary on every queue.

&gt;<i> In case we are mirroring queues..Why do we want to mirror all the queues since they have exactly same messages ...
</I>
Mirrored queues is a high availability feature. If only one node in a cluster has contents of a queue
and that node fails, the entire queue content is gone. With mirrored queues, one of the mirrors
is promoted to master.

MK



-------------- next part --------------
A non-text attachment was scrubbed...
Name: messaging_rabbit.pptx
Type: application/vnd.openxmlformats-officedocument.presentationml.presentation
Size: 240867 bytes
Desc: messaging_rabbit.pptx
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131007/f320f8fa/attachment.bin">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131007/f320f8fa/attachment.bin</A>&gt;
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="030739.html">[rabbitmq-discuss] mirrored queue cluster
</A></li>
	<LI>Next message: <A HREF="030785.html">[rabbitmq-discuss] mirrored queue cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30777">[ date ]</a>
              <a href="thread.html#30777">[ thread ]</a>
              <a href="subject.html#30777">[ subject ]</a>
              <a href="author.html#30777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
