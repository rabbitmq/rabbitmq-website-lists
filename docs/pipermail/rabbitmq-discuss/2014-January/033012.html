<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Multiple shovels to increase create a	LB	queue?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Multiple%20shovels%20to%20increase%20create%20a%0A%09LB%09queue%3F&In-Reply-To=%3Ccdb3916cca6b4d39ad21580f582cdb90%40CO1PR07MB331.namprd07.prod.outlook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033011.html">
   <LINK REL="Next"  HREF="033013.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Multiple shovels to increase create a	LB	queue?</H1>
    <B>Michael Giagnocavo</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Multiple%20shovels%20to%20increase%20create%20a%0A%09LB%09queue%3F&In-Reply-To=%3Ccdb3916cca6b4d39ad21580f582cdb90%40CO1PR07MB331.namprd07.prod.outlook.com%3E"
       TITLE="[rabbitmq-discuss] Multiple shovels to increase create a	LB	queue?">mgg at giagnocavo.net
       </A><BR>
    <I>Tue Jan 14 06:54:34 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033011.html">[rabbitmq-discuss] Multiple shovels to increase create a LB	queue?
</A></li>
        <LI>Next message: <A HREF="033013.html">[rabbitmq-discuss] Multiple shovels to increase create a	LB	queue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33012">[ date ]</a>
              <a href="thread.html#33012">[ thread ]</a>
              <a href="subject.html#33012">[ subject ]</a>
              <a href="author.html#33012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>What's the rea difference? It seems if I declare all the upstreams on a few downstream queues, it's the same as shoveling. Except shoveling gets the messages out immediately, instead of on-demand. I've read the comparisons and other docs, but it's not quite clear. And federation can connect the multiple central brokers together, but I'm not sure that really helps us - every consumer can connect to every central.

The only other point of info was a message from Simon saying:

&quot;Since federation has quite a pull-based model it might prove more fiddly 
to use than shovel in a situation where you have a lot of satellite 
brokers publishing to a central broker.&quot;

Our satellites are all over the world, over unstable IPSec links, FWIW.

We also plan on setting up mirrored queues for HA, if that changes anything (seems it'd be transparent, at least to shoveling).

Thank you,
-Michael

-----Original Message-----
From: rabbitmq-discuss [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Michael Klishin
Sent: Monday, January 13, 2014 11:41 PM
To: Discussions about RabbitMQ
Subject: Re: [rabbitmq-discuss] Multiple shovels to increase create a LB queue?

On 14 Jan 2014, at 10:30, Michael Giagnocavo &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mgg at giagnocavo.net</A>&gt; wrote:

&gt;<i> Our plan is to make multiple central RabbitMQ servers, and each one will run Shovel and pull from those producing RabbitMQ instances. The idea is that since consumers get load balanced, we can scale horizontally in a nearly &quot;unlimited&quot; fashion just by adding new &quot;central&quot; servers, each shoveling from each producer. And it just requires our consumers to connect to multiple queues, which is no big deal. And each server can run a mirrored queue giving us HA, and if any central server fails, only a part of the capacity is affected.
</I>&gt;<i>  
</I>&gt;<i> Is this a sound approach? Or is there some simpler way?
</I>
I'd recommend taking a look at federated queues:
<A HREF="http://www.rabbitmq.com/federated-queues.html">http://www.rabbitmq.com/federated-queues.html</A>

MK

Software Engineer, Pivotal/RabbitMQ


_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033011.html">[rabbitmq-discuss] Multiple shovels to increase create a LB	queue?
</A></li>
	<LI>Next message: <A HREF="033013.html">[rabbitmq-discuss] Multiple shovels to increase create a	LB	queue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33012">[ date ]</a>
              <a href="thread.html#33012">[ thread ]</a>
              <a href="subject.html#33012">[ subject ]</a>
              <a href="author.html#33012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
