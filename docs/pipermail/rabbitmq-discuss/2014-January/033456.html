<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Backing up persisted messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Backing%20up%20persisted%20messages&In-Reply-To=%3C5A215BC7-7608-40C7-AA69-8DA37E1CD547%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033450.html">
   <LINK REL="Next"  HREF="033466.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Backing up persisted messages</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Backing%20up%20persisted%20messages&In-Reply-To=%3C5A215BC7-7608-40C7-AA69-8DA37E1CD547%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Backing up persisted messages">tim at rabbitmq.com
       </A><BR>
    <I>Thu Jan 30 17:04:58 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033450.html">[rabbitmq-discuss] Backing up persisted messages
</A></li>
        <LI>Next message: <A HREF="033466.html">[rabbitmq-discuss] Backing up persisted messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33456">[ date ]</a>
              <a href="thread.html#33456">[ thread ]</a>
              <a href="subject.html#33456">[ subject ]</a>
              <a href="author.html#33456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It really depends on what you mean by &quot;backup&quot;. What are you trying to achieve? Do you need resiliency (i.e., avoiding data loss), are you trying to conserve disk space, or is there some other requirement at play?

For resiliency, clustering + HA offers a good set of guarantees if you're on a reliable network. You can also use the shovel and/or federation plugins to replicate messages between RabbitMQ nodes. The only other alternative would be backing up the mnesia directory, but that would copy all the data for all queues (and a bunch of other stuff too).

I'd suggest looking at the shovel or federation plugins. You can replicate data and handle it differently depending on your needs, e.g., to archive messages you want to deal with much later on, you might consume the replicated messages and archive them to a persistent storage medium of your choice, to be &quot;replayed&quot; later.

<A HREF="http://www.rabbitmq.com/distributed.html">http://www.rabbitmq.com/distributed.html</A> is probably worth a read. 

Cheers,
Tim

On 30 Jan 2014, at 16:39, Beth Jones wrote:

&gt;<i> Hello
</I>&gt;<i> 
</I>&gt;<i> What's the best way to backup persistent messages?  I have a queue that contains messages that aren't being consumed and I want to create a back up of them.
</I>&gt;<i> 
</I>&gt;<i> Thanks in advance.
</I>&gt;<i> 
</I>&gt;<i> Beth
</I>&gt;<i> 
</I>&gt;<i> -- 
</I>&gt;<i> The Wellcome Trust Sanger Institute is operated by Genome Research 
</I>&gt;<i> Limited, a charity registered in England with number 1021457 and a 
</I>&gt;<i> company registered in England with number 2742969, whose registered 
</I>&gt;<i> office is 215 Euston Road, London, NW1 2BE. 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033450.html">[rabbitmq-discuss] Backing up persisted messages
</A></li>
	<LI>Next message: <A HREF="033466.html">[rabbitmq-discuss] Backing up persisted messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33456">[ date ]</a>
              <a href="thread.html#33456">[ thread ]</a>
              <a href="subject.html#33456">[ subject ]</a>
              <a href="author.html#33456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
