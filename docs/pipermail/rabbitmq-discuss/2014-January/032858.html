<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Syncing erlang cookie by editing	rabbitmq-service
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Syncing%20erlang%20cookie%20by%20editing%0A%09rabbitmq-service&In-Reply-To=%3C00B3F5D4-99AE-483B-B96B-D8D30D8EC4AD%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032853.html">
   <LINK REL="Next"  HREF="032859.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Syncing erlang cookie by editing	rabbitmq-service</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Syncing%20erlang%20cookie%20by%20editing%0A%09rabbitmq-service&In-Reply-To=%3C00B3F5D4-99AE-483B-B96B-D8D30D8EC4AD%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Syncing erlang cookie by editing	rabbitmq-service">tim at rabbitmq.com
       </A><BR>
    <I>Fri Jan  3 13:21:43 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="032853.html">[rabbitmq-discuss] Rabbitmq Server(WINDOWS) configuration&#65306; how to change tcp_listener?
</A></li>
        <LI>Next message: <A HREF="032859.html">[rabbitmq-discuss] How can a consumer get notification of	arrival of a message in the queue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32858">[ date ]</a>
              <a href="thread.html#32858">[ thread ]</a>
              <a href="subject.html#32858">[ subject ]</a>
              <a href="author.html#32858">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 12 Dec 2013, at 19:31, Patrick Long wrote:
&gt;<i> There are lots of posts about copying the cookie file onto all machines in a cluster.
</I>&gt;<i> 
</I>&gt;<i> I don't want to do that. I want to use the setcookie option. I have seen posts on how you can set it via the rabbitmq-server.bat but seeing as we are using the windows service I am guess I need to set it via that.
</I>&gt;<i> 
</I>
I think you need to set the environment variable either for the whole system or for the user account under which the service runs. The relevant bit of the documentation (I think) is:

Customise RabbitMQ Service Environment Variables
Note: After setting environment variables, you may need to install the service again.

The rabbitmq-service.bat script recognises many of the same environment variables as rabbitmq-server.bat, as well as a few additional service environment variables.


Have you tried re-installing the service after making those changes?

&gt;<i> I have tried 
</I>&gt;<i> 
</I>&gt;<i> set RABBITMQ_SERVER_START_ARGS=-setcookie &quot;HEYEVHYLJHOBGFQASQHK&quot;
</I>&gt;<i> 
</I>
That would only work for the current shell session. You'll need to set it up via &quot;My Computer&quot; &gt; &quot;Advanced&quot; &gt; &quot;Environment Variables&quot; or some variation thereof. Not sure if you can set environment variables for individual services through the service manager these days, but that might work if it's possible.

Cheers,
Tim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140103/9dd49b48/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140103/9dd49b48/attachment.html</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032853.html">[rabbitmq-discuss] Rabbitmq Server(WINDOWS) configuration&#65306; how to change tcp_listener?
</A></li>
	<LI>Next message: <A HREF="032859.html">[rabbitmq-discuss] How can a consumer get notification of	arrival of a message in the queue?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32858">[ date ]</a>
              <a href="thread.html#32858">[ thread ]</a>
              <a href="subject.html#32858">[ subject ]</a>
              <a href="author.html#32858">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
