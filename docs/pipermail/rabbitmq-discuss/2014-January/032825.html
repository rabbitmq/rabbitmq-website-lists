<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cluster to increase availability
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%20to%20increase%20availability&In-Reply-To=%3CCAFrXCmJaQ8_hJDvyZws6dtgqpyK6YkGXbBOUXmDya2i_H%2B3f6g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032824.html">
   <LINK REL="Next"  HREF="032826.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cluster to increase availability</H1>
    <B>Guilherme Labigalini</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%20to%20increase%20availability&In-Reply-To=%3CCAFrXCmJaQ8_hJDvyZws6dtgqpyK6YkGXbBOUXmDya2i_H%2B3f6g%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Cluster to increase availability">guilherme.labigalini at gmail.com
       </A><BR>
    <I>Wed Jan  1 14:19:55 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="032824.html">[rabbitmq-discuss] Rabbitmq boot failure with	&quot;tables_not_present&quot;
</A></li>
        <LI>Next message: <A HREF="032826.html">[rabbitmq-discuss] Cluster to increase availability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32825">[ date ]</a>
              <a href="thread.html#32825">[ thread ]</a>
              <a href="subject.html#32825">[ subject ]</a>
              <a href="author.html#32825">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I was doing some tests by setting a RabbitMQ cluster. I have setup two
servers as disk nodes, the queues/exchanges that I created in NODE1 are
visible on the NODE2, I tried to publish one message to the queue on NODE1
by posting to the &quot;replicated&quot; exchanged on the NODE2 and it worked well -
the message was added to the queue on NODE1.

To test the &quot;Availability&quot; of my cluster, I stopped Rabbit on NODE1 and
tried to publish the a message connecting on the NODE2, since the exchange
was bind to a queue on the NODE1 that was down it failed:



My question is, even though I have a cluster, all my nodes must be up
during publish operations? How I can make sure that my 'producers' can
publish messages when at least one node in the cluster is up and running?
Today our code is saving the message in the SQL database if the RabbitMQ is
not running and we have a second job that reads the messages from this
table and send to Rabbit once it is running again.

Another option to increase availability would be setup several
non-clustered Rabbit nodes with the same queues/exchanges and use the
federation/shovel plugin to move the messages to the &quot;master&quot; node that
that my consumers are connected?

Thanks!
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140101/04ffb056/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140101/04ffb056/attachment.html</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032824.html">[rabbitmq-discuss] Rabbitmq boot failure with	&quot;tables_not_present&quot;
</A></li>
	<LI>Next message: <A HREF="032826.html">[rabbitmq-discuss] Cluster to increase availability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32825">[ date ]</a>
              <a href="thread.html#32825">[ thread ]</a>
              <a href="subject.html#32825">[ subject ]</a>
              <a href="author.html#32825">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
