<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Backing up persisted messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Backing%20up%20persisted%20messages&In-Reply-To=%3C52E39448-B7B4-4AAD-88E4-DBE6E2823F05%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033466.html">
   <LINK REL="Next"  HREF="033482.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Backing up persisted messages</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Backing%20up%20persisted%20messages&In-Reply-To=%3C52E39448-B7B4-4AAD-88E4-DBE6E2823F05%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Backing up persisted messages">tim at rabbitmq.com
       </A><BR>
    <I>Thu Jan 30 18:34:18 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033466.html">[rabbitmq-discuss] Backing up persisted messages
</A></li>
        <LI>Next message: <A HREF="033482.html">[rabbitmq-discuss] Backing up persisted messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33468">[ date ]</a>
              <a href="thread.html#33468">[ thread ]</a>
              <a href="subject.html#33468">[ subject ]</a>
              <a href="author.html#33468">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30 Jan 2014, at 17:58, Beth Jones wrote:
&gt;<i> Specifically I have a queue that is accumulating messages and I'm worried about those messages being deleted accidentally.  I want to be able to back up that queue on a regular basis (say daily or hourly) to a location on disk.  
</I>&gt;<i> 
</I>&gt;<i> I read about copying the mnesia directory.  Does that copy all the data for all of the queue on that node?  Is there something similar that is queue specific?
</I>&gt;<i> 
</I>
The queue specific thing would be to cluster two or more RabbitMQ brokers and set a High Availability policy on the queue so that all its messages are replicated to the other node(s). If the primary node crashes, one of the replicas will take over and you won't loose any messages (that have already been written to disk). Take a look at <A HREF="http://www.rabbitmq.com/ha.html">http://www.rabbitmq.com/ha.html</A> for more details.

If your network is potentially unreliable (i.e., network partitions are quite likely) then you might want to consider using a federated exchange instead. This will perform the replication for you (i.e., copy messages from the exchange to another node(s) as per your configuration/policy) and the receiving node will effectively have a backup of all the data sent to the original exchange. I'd go for HA if you've got a reliable network though, since for your use-case it is ideal.

Cheers,
Tim
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033466.html">[rabbitmq-discuss] Backing up persisted messages
</A></li>
	<LI>Next message: <A HREF="033482.html">[rabbitmq-discuss] Backing up persisted messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33468">[ date ]</a>
              <a href="thread.html#33468">[ thread ]</a>
              <a href="subject.html#33468">[ subject ]</a>
              <a href="author.html#33468">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
