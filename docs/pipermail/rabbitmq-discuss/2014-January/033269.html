<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Publisher confirms always wait for consumer	ack/nack
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publisher%20confirms%20always%20wait%20for%20consumer%0A%09ack/nack&In-Reply-To=%3CCANOx8N%3DJtX6sEVm0uqPsZxMoUH1D7OiSxiPmeovYoaocT6uMgw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033264.html">
   <LINK REL="Next"  HREF="033283.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Publisher confirms always wait for consumer	ack/nack</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publisher%20confirms%20always%20wait%20for%20consumer%0A%09ack/nack&In-Reply-To=%3CCANOx8N%3DJtX6sEVm0uqPsZxMoUH1D7OiSxiPmeovYoaocT6uMgw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Publisher confirms always wait for consumer	ack/nack">jkuch at gopivotal.com
       </A><BR>
    <I>Wed Jan 22 21:25:22 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033264.html">[rabbitmq-discuss] Publisher confirms always wait for consumer	ack/nack
</A></li>
        <LI>Next message: <A HREF="033283.html">[rabbitmq-discuss] Publisher confirms always wait for consumer	ack/nack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33269">[ date ]</a>
              <a href="thread.html#33269">[ thread ]</a>
              <a href="subject.html#33269">[ subject ]</a>
              <a href="author.html#33269">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jan 22, 2014 at 9:07 AM, Bertrand LEMASLE &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">blemasle at allocine.fr</A>&gt;wrote:

&gt;<i>
</I>&gt;<i> After reading many docs and mails on this subject (
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/confirms.html">http://www.rabbitmq.com/confirms.html</A> included which explains when a
</I>&gt;<i> message will be confirmed), I still haven't found an answer to my question.
</I>&gt;<i> When using publisher confirm (by using confirmSelect on the channel),
</I>&gt;<i> messages aren't ack until they are either ack or nack by at least one
</I>&gt;<i> consumer.
</I>&gt;<i>
</I>
Totally unrelated.  The publisher confirm mechanism only goes so far as the
transfer of responsibility for a message's well being from the *publisher*
into the *broker*.

Receipt of a publisher confirm means the broker has accepted your message
and done what you asked of it, e.g. persisted it to disk, made sure it was
replicated to any applicable mirrored queues, etc.

Consumers consume from queues, and their AMQP Ack mechanism is analogous
to, in the sense of responsibility transfer, but *totally uncoupled from*
any publisher confirm happening on the inbound side.

If you really need round trip acknowledgment from producer -&gt; broker -&gt;
consumer -&gt; back to producer, you need to build that into your messaging
workflow as, for example, our simple RPC over AMQP facility does.  You
might look at the tutorial examples using it, since they may directly fit
your intended use case.

Best regards,
Jerry
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140122/c337887b/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140122/c337887b/attachment.html</A>&gt;
</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033264.html">[rabbitmq-discuss] Publisher confirms always wait for consumer	ack/nack
</A></li>
	<LI>Next message: <A HREF="033283.html">[rabbitmq-discuss] Publisher confirms always wait for consumer	ack/nack
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33269">[ date ]</a>
              <a href="thread.html#33269">[ thread ]</a>
              <a href="subject.html#33269">[ subject ]</a>
              <a href="author.html#33269">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
