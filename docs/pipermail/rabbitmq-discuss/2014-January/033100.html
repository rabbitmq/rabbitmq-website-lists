<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Mirrored Queues in master and slaves
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Mirrored%20Queues%20in%20master%20and%20slaves&In-Reply-To=%3C52D7BE77.1040908%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033050.html">
   <LINK REL="Next"  HREF="033048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Mirrored Queues in master and slaves</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Mirrored%20Queues%20in%20master%20and%20slaves&In-Reply-To=%3C52D7BE77.1040908%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Mirrored Queues in master and slaves">simon at rabbitmq.com
       </A><BR>
    <I>Thu Jan 16 11:11:51 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033050.html">[rabbitmq-discuss] Mirrored Queues in master and slaves
</A></li>
        <LI>Next message: <A HREF="033048.html">[rabbitmq-discuss] RabbitMQ for distributed processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33100">[ date ]</a>
              <a href="thread.html#33100">[ thread ]</a>
              <a href="subject.html#33100">[ subject ]</a>
              <a href="author.html#33100">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Please keep rabbitmq-discuss on CC, that way everyone can see the answers.

On 15/01/14 18:14, Alex L wrote:
&gt;<i> So when the master enqueues it, the message will go to a slave.
</I>&gt;<i> Is there a way in Python's pika package (the same one used in the
</I>&gt;<i> tutorials) to find out which particular slave node I'm currently using
</I>&gt;<i> for that message?
</I>
When the master enqueues a message it will get routed to all slaves as 
well. When you consume, you consume from the master and the master then 
tells slaves to drop messages that have been consumed.

So you're not really &quot;using&quot; a slave node at any point.

What problem are you trying to solve here?

Cheers, Simon

&gt;<i> On Tue, Jan 14, 2014 at 11:50 PM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     On 15/01/2014 00:56, Alex L wrote:
</I>&gt;<i>
</I>&gt;<i>         But when I publish a message, how would I know if I'm using the
</I>&gt;<i>         master's
</I>&gt;<i>         queue, or specifically one of the slave's queues?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     On a conceptual level, the message will always be routed to the
</I>&gt;<i>     master. On a practical level it will also go to all of the slaves
</I>&gt;<i>     (in case the master fails before seeing it) but the master will be
</I>&gt;<i>     the one in charge of enqueuing it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         Is there a way to find which queue I'm using?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     It's best to view the queue as one distributed object, but if you
</I>&gt;<i>     need to find out the current master you can use rabbitmqctl or the
</I>&gt;<i>     management API.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>         And would it be possible to send a message directly to a slave
</I>&gt;<i>         without
</I>&gt;<i>         having it go through it's master?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>     No.
</I>&gt;<i>
</I>&gt;<i>     Cheers, Simon
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033050.html">[rabbitmq-discuss] Mirrored Queues in master and slaves
</A></li>
	<LI>Next message: <A HREF="033048.html">[rabbitmq-discuss] RabbitMQ for distributed processing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33100">[ date ]</a>
              <a href="thread.html#33100">[ thread ]</a>
              <a href="subject.html#33100">[ subject ]</a>
              <a href="author.html#33100">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
