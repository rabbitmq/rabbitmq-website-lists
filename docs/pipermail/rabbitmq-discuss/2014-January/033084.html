<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federation and Stomp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20and%20Stomp&In-Reply-To=%3CBLU176-W47D3F988AA69282318963FADB90%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033031.html">
   <LINK REL="Next"  HREF="033009.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federation and Stomp</H1>
    <B>joshua__lim</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20and%20Stomp&In-Reply-To=%3CBLU176-W47D3F988AA69282318963FADB90%40phx.gbl%3E"
       TITLE="[rabbitmq-discuss] Federation and Stomp">joshua__lim at hotmail.com
       </A><BR>
    <I>Thu Jan 16 03:18:38 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033031.html">[rabbitmq-discuss] Federation and Stomp
</A></li>
        <LI>Next message: <A HREF="033009.html">[rabbitmq-discuss] ANN Langohr 2.2.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33084">[ date ]</a>
              <a href="thread.html#33084">[ thread ]</a>
              <a href="subject.html#33084">[ subject ]</a>
              <a href="author.html#33084">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Steve, thanks for letting me know.  Yes, I confirm that the following works:
SUBSCRIBE 
destination:/topic/high.* 
ack:client-individual 
id:subscribe-03 
persistent:true 
It worked via ncat, after further testing, I found a js bug in my consumer app that hang Chrome after a message was received.
Rgds,Joshua

Date: Tue, 14 Jan 2014 09:35:26 -0800
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ml-node+s1065348n32562h36 at n5.nabble.com</A>
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">joshua__lim at hotmail.com</A>
Subject: Re: Federation and Stomp



	Joshua,


Emile has replied already, but I wanted to point out that RabbitMQ STOMP adapter

doesn't support &quot;client-id&quot;s on CONNECT (they are ignored), instead just the

destination (/topic/&lt;name&gt;) and the id are used to identify the subscription.


You may have read about client-ids in ActiveMQ documentation.


The SUBSCRIBE you showed us would create an exclusive auto-delete queue (not a

shared one) and this would therefore get deleted when the subscriber disconnected.


Try this:


SUBSCRIBE

destination:/topic/high.*

ack:client-individual

id:subscribe-03

persistent:true


^@


and then use exactly the same subscription after reconnect to receive messages.


You should UNSUBSCRIBE (see the doc) when this is no longer needed, or the

queue may stay around for a long time.


At present you cannot create a durable subscription to an /exchange/&lt;x-name&gt;/&lt;r-key&gt;

destination.


I hope this helps you: please let us know how you get on.


Steve Powell  [M: +44-7815-838-558; H:+44-1962-775-598; W:+44-2380-111-528]

    What I tell you three times is true.

Lewis Carroll; Hunting of the Snark: Fit the First


On 14 Jan 2014, at 05:08, joshua__lim &lt;[hidden email]&gt; wrote:


&gt;<i> I read somewhere that says to create durable subscription for exchange, I'd
</I>
&gt;<i> need to set the client-id header on the CONNECT and the id header to a
</I>
&gt;<i> unique string and set persistent: true.  This doesn't appear to work at this
</I>
&gt;<i> moment as subscribed-clients will lose messages sent to the exchange if they
</I>
&gt;<i> are not connected.
</I>

_______________________________________________

rabbitmq-discuss mailing list

[hidden email]

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>


	
	
	
	

	

	
	
		If you reply to this email, your message will be added to the discussion below:
		<A HREF="http://rabbitmq.1065348.n5.nabble.com/Federation-and-Stomp-tp20052p32562.html">http://rabbitmq.1065348.n5.nabble.com/Federation-and-Stomp-tp20052p32562.html</A>
	
	
		
		To unsubscribe from Federation and Stomp, click here.

		NAML
	 		 	   		  



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Federation-and-Stomp-tp20052p32616.html">http://rabbitmq.1065348.n5.nabble.com/Federation-and-Stomp-tp20052p32616.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140115/76f1b0d9/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140115/76f1b0d9/attachment.html</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033031.html">[rabbitmq-discuss] Federation and Stomp
</A></li>
	<LI>Next message: <A HREF="033009.html">[rabbitmq-discuss] ANN Langohr 2.2.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33084">[ date ]</a>
              <a href="thread.html#33084">[ thread ]</a>
              <a href="subject.html#33084">[ subject ]</a>
              <a href="author.html#33084">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
