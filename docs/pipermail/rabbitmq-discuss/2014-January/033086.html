<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] memory leak with RabbitMQ 3.1.0 and erlang R16B03
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20memory%20leak%20with%20RabbitMQ%203.1.0%20and%20erlang%20R16B03&In-Reply-To=%3CCAAjbVJCntKor1hG%2BjGeo82No-T%2B0ePeNUXOeoDjdjF4K2_qN3Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033090.html">
   <LINK REL="Next"  HREF="033095.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] memory leak with RabbitMQ 3.1.0 and erlang R16B03</H1>
    <B>Xie Yunpeng</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20memory%20leak%20with%20RabbitMQ%203.1.0%20and%20erlang%20R16B03&In-Reply-To=%3CCAAjbVJCntKor1hG%2BjGeo82No-T%2B0ePeNUXOeoDjdjF4K2_qN3Q%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] memory leak with RabbitMQ 3.1.0 and erlang R16B03">woqimingweipeng at gmail.com
       </A><BR>
    <I>Thu Jan 16 03:33:57 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033090.html">[rabbitmq-discuss] 2.8.5: high cpu usage on return from standby
</A></li>
        <LI>Next message: <A HREF="033095.html">[rabbitmq-discuss] memory leak with RabbitMQ 3.1.0 and erlang R16B03
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33086">[ date ]</a>
              <a href="thread.html#33086">[ thread ]</a>
              <a href="subject.html#33086">[ subject ]</a>
              <a href="author.html#33086">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>my rabbitmq cluster consist of three rabbitmq service on three machine, and
i use lvs to make other services can use one ip address connect to rabbitmq
server. one of the machine handle three hundred connections and more than
four thousand channles, send and revice rate is the same so  there is no
msg in queue.but it's memory usage is growing all the time until i
stop_app/start_app, when i check memory usage on rabbitmq management it
shows 2.3G, but i use top on the machine can see the rabbitmq use about 13G
memory, how to solve this problem? is it a bug?
memory info on this machine with rabbitmqctl report:
 {erlang_version,
     &quot;Erlang R16B03 (erts-5.10.4) [source] [64-bit] [smp:24:24]
[async-threads:30] [hipe] [kernel-poll:true]\n&quot;},
 {memory,
     [{total,2476273832},
      {connection_procs,155880032},
      {queue_procs,5600},
      {plugins,590576},
      {other_proc,22481760},
      {mnesia,104832},
      {mgmt_db,2184042360},
      {msg_index,40560},
      {other_ets,41907368},
      {binary,34012872},
      {code,19853836},
      {atom,703377},
      {other_system,16650659}]},
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140116/d335f551/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140116/d335f551/attachment.html</A>&gt;
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033090.html">[rabbitmq-discuss] 2.8.5: high cpu usage on return from standby
</A></li>
	<LI>Next message: <A HREF="033095.html">[rabbitmq-discuss] memory leak with RabbitMQ 3.1.0 and erlang R16B03
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33086">[ date ]</a>
              <a href="thread.html#33086">[ thread ]</a>
              <a href="subject.html#33086">[ subject ]</a>
              <a href="author.html#33086">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
