<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federation and Stomp
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20and%20Stomp&In-Reply-To=%3CB0BAF117-B92C-4B8F-99FA-F62582AAB0AC%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033018.html">
   <LINK REL="Next"  HREF="033084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federation and Stomp</H1>
    <B>Steve Powell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20and%20Stomp&In-Reply-To=%3CB0BAF117-B92C-4B8F-99FA-F62582AAB0AC%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Federation and Stomp">steve at rabbitmq.com
       </A><BR>
    <I>Tue Jan 14 17:34:25 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033018.html">[rabbitmq-discuss] Federation and Stomp
</A></li>
        <LI>Next message: <A HREF="033084.html">[rabbitmq-discuss] Federation and Stomp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33031">[ date ]</a>
              <a href="thread.html#33031">[ thread ]</a>
              <a href="subject.html#33031">[ subject ]</a>
              <a href="author.html#33031">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Joshua,

Emile has replied already, but I wanted to point out that RabbitMQ STOMP adapter
doesn't support &quot;client-id&quot;s on CONNECT (they are ignored), instead just the
destination (/topic/&lt;name&gt;) and the id are used to identify the subscription.

You may have read about client-ids in ActiveMQ documentation.

The SUBSCRIBE you showed us would create an exclusive auto-delete queue (not a
shared one) and this would therefore get deleted when the subscriber disconnected.

Try this:

SUBSCRIBE
destination:/topic/high.*
ack:client-individual
id:subscribe-03
persistent:true

^@

and then use exactly the same subscription after reconnect to receive messages.

You should UNSUBSCRIBE (see the doc) when this is no longer needed, or the
queue may stay around for a long time.

At present you cannot create a durable subscription to an /exchange/&lt;x-name&gt;/&lt;r-key&gt;
destination.

I hope this helps you: please let us know how you get on.

Steve Powell  [M: +44-7815-838-558; H:+44-1962-775-598; W:+44-2380-111-528]
    What I tell you three times is true.
Lewis Carroll; Hunting of the Snark: Fit the First

On 14 Jan 2014, at 05:08, joshua__lim &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">joshua__lim at hotmail.com</A>&gt; wrote:

&gt;<i> I read somewhere that says to create durable subscription for exchange, I'd
</I>&gt;<i> need to set the client-id header on the CONNECT and the id header to a
</I>&gt;<i> unique string and set persistent: true.  This doesn't appear to work at this
</I>&gt;<i> moment as subscribed-clients will lose messages sent to the exchange if they
</I>&gt;<i> are not connected.
</I>
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033018.html">[rabbitmq-discuss] Federation and Stomp
</A></li>
	<LI>Next message: <A HREF="033084.html">[rabbitmq-discuss] Federation and Stomp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33031">[ date ]</a>
              <a href="thread.html#33031">[ thread ]</a>
              <a href="subject.html#33031">[ subject ]</a>
              <a href="author.html#33031">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
