<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cluster to increase availability
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%20to%20increase%20availability&In-Reply-To=%3C3AD1815B-54DA-41F2-B14D-F7F9E9484F65%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032825.html">
   <LINK REL="Next"  HREF="032827.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cluster to increase availability</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cluster%20to%20increase%20availability&In-Reply-To=%3C3AD1815B-54DA-41F2-B14D-F7F9E9484F65%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Cluster to increase availability">tim at rabbitmq.com
       </A><BR>
    <I>Wed Jan  1 20:06:29 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="032825.html">[rabbitmq-discuss] Cluster to increase availability
</A></li>
        <LI>Next message: <A HREF="032827.html">[rabbitmq-discuss] flow control in rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32826">[ date ]</a>
              <a href="thread.html#32826">[ thread ]</a>
              <a href="subject.html#32826">[ subject ]</a>
              <a href="author.html#32826">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 1 Jan 2014, at 14:19, Guilherme Labigalini wrote:

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I was doing some tests by setting a RabbitMQ cluster. I have setup two servers as disk nodes, the queues/exchanges that I created in NODE1 are visible on the NODE2, I tried to publish one message to the queue on NODE1 by posting to the &quot;replicated&quot; exchanged on the NODE2 and it worked well - the message was added to the queue on NODE1.
</I>&gt;<i> 
</I>&gt;<i> To test the &quot;Availability&quot; of my cluster, I stopped Rabbit on NODE1 and tried to publish the a message connecting on the NODE2, since the exchange was bind to a queue on the NODE1 that was down it failed:
</I>&gt;<i> 
</I>
Indeed - if the queue isn't available then the message won't be delivered in that scenario.

&gt;<i> My question is, even though I have a cluster, all my nodes must be up during publish operations?
</I>
If you publish to an exchange then messages will be routed (based on your chosen topology) to zero or more queues. If the nodes on which those queues were declared crash (or go offline) then the messages won't be delivered.

&gt;<i> How I can make sure that my 'producers' can publish messages when at least one node in the cluster is up and running?
</I>
If I understand your question properly - i.e., you want to know how to ensure that publishing doesn't fail even when nodes crash - then I suggest you take a look at mirrored queues: <A HREF="http://www.rabbitmq.com/ha.html">http://www.rabbitmq.com/ha.html</A>

Cheers,
Tim
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032825.html">[rabbitmq-discuss] Cluster to increase availability
</A></li>
	<LI>Next message: <A HREF="032827.html">[rabbitmq-discuss] flow control in rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32826">[ date ]</a>
              <a href="thread.html#32826">[ thread ]</a>
              <a href="subject.html#32826">[ subject ]</a>
              <a href="author.html#32826">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
