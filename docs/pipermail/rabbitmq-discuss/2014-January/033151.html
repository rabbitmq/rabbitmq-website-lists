<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [rabbitmq-c] amqp_listen/sendstring not working	on ARM
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5Brabbitmq-c%5D%20amqp_listen/sendstring%20not%20working%0A%09on%20ARM&In-Reply-To=%3CCANAFtV5e3wQTOn4Wq8hzyXxX9NiGD0ANFGuQiJcDfdKvBghSng%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033148.html">
   <LINK REL="Next"  HREF="033154.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [rabbitmq-c] amqp_listen/sendstring not working	on ARM</H1>
    <B>Roberto Pagliari</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%5Brabbitmq-c%5D%20amqp_listen/sendstring%20not%20working%0A%09on%20ARM&In-Reply-To=%3CCANAFtV5e3wQTOn4Wq8hzyXxX9NiGD0ANFGuQiJcDfdKvBghSng%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] [rabbitmq-c] amqp_listen/sendstring not working	on ARM">roberto at canary.is
       </A><BR>
    <I>Fri Jan 17 21:57:56 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033148.html">[rabbitmq-discuss] rabbitpy 0.13.0, pamqp 1.3.0 released
</A></li>
        <LI>Next message: <A HREF="033154.html">[rabbitmq-discuss] RabbitMQ-c @ ARM Targets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33151">[ date ]</a>
              <a href="thread.html#33151">[ thread ]</a>
              <a href="subject.html#33151">[ subject ]</a>
              <a href="author.html#33151">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,
rabbitmq-c is working on my linux VM.

I cross-compiled for ARM. When running either listen or sendstring I get
the following error:

*# ./amqp_sendstring 10.0.1.40 5672 amq.direct test &quot;Hello&quot;*
*Logging in: connection closed unexpectedly*

TCP connection went through and I on linux I can see packets coming from
the ARM device.

This error is caused by:
*die_on_amqp_error(amqp_login(conn, &quot;/&quot;, 0, 131072, 0,
AMQP_SASL_METHOD_PLAIN, &quot;guest&quot;, &quot;guest&quot;),*
*                    &quot;Logging in&quot;);*

I tried changing frame_max to different values (min value, or bigger
values), but it still does not work. So I'm not sure what the problem is.

On a side note, and I'm not sure if this is the issue, when building the
rabbitmq-c framework for ARM, I get some warning messages (but again, I'm
not sure if this might be the issue):


.../openssl/include/openssl/sha.h:178:34: warning: ISO C90 does not support
&#8216;long long&#8217; [-Wlong-long]
 #define SHA_LONG64 unsigned long long
                                  ^
.../openssl/include/openssl/sha.h:184:2: note: in expansion of macro
&#8216;SHA_LONG64&#8217;
  SHA_LONG64 h[8];
  ^
.../openssl/include/openssl/sha.h:178:34: warning: ISO C90 does not support
&#8216;long long&#8217; [-Wlong-long]
 #define SHA_LONG64 unsigned long long
                                  ^
.../openssl/include/openssl/sha.h:185:2: note: in expansion of macro
&#8216;SHA_LONG64&#8217;
  SHA_LONG64 Nl,Nh;
  ^
.../openssl/include/openssl/sha.h:178:34: warning: ISO C90 does not support
&#8216;long long&#8217; [-Wlong-long]
 #define SHA_LONG64 unsigned long long
                                  ^
.../openssl/include/openssl/sha.h:187:3: note: in expansion of macro
&#8216;SHA_LONG64&#8217;
   SHA_LONG64 d[SHA_LBLOCK];





.../rabbitmq-c-master-arm/tests/test_tables.c: In function &#8216;dump_value&#8217;:
.../rabbitmq-c-master-arm/tests/test_tables.c:108:5: warning: ISO C90 does
not support the &#8216;ll&#8217; gnu_printf length modifier [-Wformat=]
     fprintf(out, &quot; %&quot;PRId64&quot;\n&quot;, v.value.i64);
     ^
.../rabbitmq-c-master-arm/tests/test_tables.c:147:5: warning: ISO C90 does
not support the &#8216;ll&#8217; gnu_printf length modifier [-Wformat=]
     fprintf(out, &quot; %&quot;PRIu64&quot;\n&quot;, v.value.u64);
     ^
.../rabbitmq-c-master-arm/tests/test_tables.c: In function
&#8216;test_dump_value&#8217;:
.../rabbitmq-c-master-arm/tests/test_tables.c:201:3: warning: integer
constant is too large for &#8216;long&#8217; type [-Wlong-long]
   entries[5].value.value.u64 = 1234123412341234;
   ^
.../rabbitmq-c-master-arm/tests/test_tables.c: In function
&#8216;test_table_codec&#8217;:
.../rabbitmq-c-master-arm/tests/test_tables.c:307:3: warning: integer
constant is too large for &#8216;long&#8217; type [-Wlong-long]
   entries[3].value.value.u64 = 109876543209876;


Thank you,
Roberto
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140117/3d502e5a/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140117/3d502e5a/attachment.html</A>&gt;
</PRE>































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033148.html">[rabbitmq-discuss] rabbitpy 0.13.0, pamqp 1.3.0 released
</A></li>
	<LI>Next message: <A HREF="033154.html">[rabbitmq-discuss] RabbitMQ-c @ ARM Targets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33151">[ date ]</a>
              <a href="thread.html#33151">[ thread ]</a>
              <a href="subject.html#33151">[ subject ]</a>
              <a href="author.html#33151">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
