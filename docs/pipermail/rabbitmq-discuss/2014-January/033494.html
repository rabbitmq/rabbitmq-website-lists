<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ, Erlang and OpenSSL
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%2C%20Erlang%20and%20OpenSSL&In-Reply-To=%3CCAMcAHLVjZmXk56j4HXO7ctYfSK6gBcD%2B4TZ28wBrf-FfqM-MAw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033475.html">
   <LINK REL="Next"  HREF="033496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ, Erlang and OpenSSL</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%2C%20Erlang%20and%20OpenSSL&In-Reply-To=%3CCAMcAHLVjZmXk56j4HXO7ctYfSK6gBcD%2B4TZ28wBrf-FfqM-MAw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ, Erlang and OpenSSL">videlalvaro at gmail.com
       </A><BR>
    <I>Fri Jan 31 13:18:34 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033475.html">[rabbitmq-discuss] RabbitMQ, Erlang and OpenSSL
</A></li>
        <LI>Next message: <A HREF="033496.html">[rabbitmq-discuss] RabbitMQ, Erlang and OpenSSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33494">[ date ]</a>
              <a href="thread.html#33494">[ thread ]</a>
              <a href="subject.html#33494">[ subject ]</a>
              <a href="author.html#33494">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Doing what you say is the right thing to do(tm) but it's very hard. Just
ask the Basho people about all the difficulties they had to build
their packages. The main problem being OpenSSL support. I've tried
this, and even minor versions differences on the linked libraries will
make everything to fall apart.

What I understood is that if you want to bundle Erlang, then you'll
need basically one bundle per OS version you would want to support.

In our case, that's not practical, since most of our users just install Erlang.

The only platform where we provide a bundle is OS X. You can see more
about how we build it here:
<A HREF="http://hg.rabbitmq.com/rabbitmq-server/file/240502c05dbc/packaging/standalone/Makefile">http://hg.rabbitmq.com/rabbitmq-server/file/240502c05dbc/packaging/standalone/Makefile</A>
and the related files on that packaging folder.

Q1. Yes, AFAIK RabbitMQ SSL depends on Erlang
Q2. Q3. Yes, it must be installed since Erlang dynamically links to
it. And the problem is even bigger since Erlang tags the linked
library up to the minor version, which makes it incompatible between
OSes. Say you build Erlang against OpenSSL 1.0.1, then the other OS
has 1.0.0 which according to OpenSSL should be compatible and have the
same API, but the bundled Erlang won't be able to find it/use it.

Regards,

Alvaro

On Thu, Jan 30, 2014 at 9:40 PM, ranjitiyer &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ranjitiyer at gmail.com</A>&gt; wrote:
&gt;<i> We plan to bundle RabbitMQ 3.5.3 and Erlang R16B03-1 (5.10.4) into our
</I>&gt;<i> product which is supported on Windows, RHEL 5/6 and SUSE 11. Because
</I>&gt;<i> RabbitMQ does not bundle Erlang so we are doing that ourselves. (Would
</I>&gt;<i> really appreciate is RabbitMQ does this (RIAK does it), because its very
</I>&gt;<i> painful and can hurt adoption).
</I>&gt;<i>
</I>&gt;<i> For various reasons, I am choosing to compile Erlang source on each of RHEL
</I>&gt;<i> and SUSE platforms. When compiling on Suse11 Erlang complained that it
</I>&gt;<i> couldn't find OpenSSL and I stopped and asked myself
</I>&gt;<i>
</I>&gt;<i> Q1. Does RabbitMQ's SSL feature depends on SSL support in Erlang?
</I>&gt;<i>
</I>&gt;<i> Q2. Does that imply that the user's Suse machine (where our application,
</I>&gt;<i> including RabbitMQ will be deployed) must have OpenSSL installed?
</I>&gt;<i>
</I>&gt;<i> Q3. I guess this relates to Q2. Does Erlang statically include OpenSSL or
</I>&gt;<i> dynamically link against it? I would prefer that it statically includes it
</I>&gt;<i> so our users don't need to install OpenSSL separately on their Suse
</I>&gt;<i> machines.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Ranjit
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/RabbitMQ-Erlang-and-OpenSSL-tp33005.html">http://rabbitmq.1065348.n5.nabble.com/RabbitMQ-Erlang-and-OpenSSL-tp33005.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033475.html">[rabbitmq-discuss] RabbitMQ, Erlang and OpenSSL
</A></li>
	<LI>Next message: <A HREF="033496.html">[rabbitmq-discuss] RabbitMQ, Erlang and OpenSSL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33494">[ date ]</a>
              <a href="thread.html#33494">[ thread ]</a>
              <a href="subject.html#33494">[ subject ]</a>
              <a href="author.html#33494">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
