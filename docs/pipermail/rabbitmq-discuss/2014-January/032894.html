<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] MQTT topic ACLs Query
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20MQTT%20topic%20ACLs%20Query&In-Reply-To=%3CCAPwMmOAsdtVeU%3D7s2UKPWizc1J6hUnce1CG6CTy%3D5GJwtr%2BdWg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032893.html">
   <LINK REL="Next"  HREF="032955.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] MQTT topic ACLs Query</H1>
    <B>Mark Wolfe</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20MQTT%20topic%20ACLs%20Query&In-Reply-To=%3CCAPwMmOAsdtVeU%3D7s2UKPWizc1J6hUnce1CG6CTy%3D5GJwtr%2BdWg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] MQTT topic ACLs Query">mark at wolfe.id.au
       </A><BR>
    <I>Tue Jan  7 12:10:13 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="032893.html">[rabbitmq-discuss] MQTT topic ACLs Query
</A></li>
        <LI>Next message: <A HREF="032955.html">[rabbitmq-discuss] MQTT topic ACLs Query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32894">[ date ]</a>
              <a href="thread.html#32894">[ thread ]</a>
              <a href="subject.html#32894">[ subject ]</a>
              <a href="author.html#32894">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gday Emile

I am working on moving an IoT platform from a custom TCP protocol across to
MQTT, the aim is to provide a combined topic structure for these devices
partitioned by a user identifier then a group or zone identifier.

We have in home and cloud services, with a range of topics used by either
end.

Incoming messages to the central cloud services, which are sent from the in
home gateway are organised under $cloud base, note variable params are
signified by []:

$cloud/[userid]/[zoneid]/[gwid]/config
$cloud/[userid]/[zoneid]/[gwid]/status
$cloud/[userid]/[zoneid]/[gwid]/events

$cloud/[userid]/[zoneid]/[gwid]/device/[deviceid]/...

Outgoing to the gateway, these are subscribed to by the software on the
device.

$gw/[userid]/[zoneid]/[gwid]/config
$gw/[userid]/[zoneid]/[gwid]/commands

$gw/[userid]/[zoneid]/[gwid]/device/[deviceid]/...


Now given that each gateway authenticates using a username and password the
types of rules we are looking for are very similar to those currently
present in RabbitMQ, for AMQP.

Restrict write access to the outgoing topics
$cloud/[userid]/[zoneid]/[gwid]/.* for a given user.
Restrict read access to the incoming topics $gw/[userid]/[zoneid]/[gwid]/.*
for a given user.

The aim here is to keep a given user constrained to a part of the topic
structure.

The reason I am keen to continue using RabbitMQ is it has done a sterling
job of knitting together a number of internal services, most of which
connect using AMQP, using either amqplib by Michael Bridgen or the golang
AMQP library by Sean Treadway.

Outside our core I am keen to use MQTT as:

- the gateway devices are in a lot of cases are on consumer wireless
networks
- in some cases these will be micro controllers such as Arduinos
- mostly non x86, so arm and mips based systems.

Hopefully that gives you some insight into what I am hoping to achieve.

Cheers


On Tue, Jan 7, 2014 at 7:29 PM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> Hi Mark,
</I>&gt;<i>
</I>&gt;<i> On 07/01/14 07:38, Mark Wolfe wrote:
</I>&gt;<i> &gt; Interested to hear if anyone intends to add ACL support to the MQTT
</I>&gt;<i> module?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; At the moment it is built around routing keys which as i understand
</I>&gt;<i> &gt; cannot be controlled by the existing ACLs.
</I>&gt;<i>
</I>&gt;<i> There are no immediate plans to grant permissions on individual topics.
</I>&gt;<i> That is because the feature barely mentioned in the current
</I>&gt;<i> specification, and also because it has no equivalent in AMQP.
</I>&gt;<i>
</I>&gt;<i> Can you describe your use-case in more detail? This will help us to
</I>&gt;<i> determine which features to include.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Emile
</I>&gt;<i>
</I>


-- 
Regards,

Mark Wolfe

--
I am not young enough to know everything.
--
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140107/b23cbf6b/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140107/b23cbf6b/attachment.html</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032893.html">[rabbitmq-discuss] MQTT topic ACLs Query
</A></li>
	<LI>Next message: <A HREF="032955.html">[rabbitmq-discuss] MQTT topic ACLs Query
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32894">[ date ]</a>
              <a href="thread.html#32894">[ thread ]</a>
              <a href="subject.html#32894">[ subject ]</a>
              <a href="author.html#32894">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
