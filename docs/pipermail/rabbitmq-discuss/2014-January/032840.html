<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue not shown in rabbitmqctl
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20not%20shown%20in%20rabbitmqctl&In-Reply-To=%3C52C58A19.5030900%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032869.html">
   <LINK REL="Next"  HREF="032841.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue not shown in rabbitmqctl</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20not%20shown%20in%20rabbitmqctl&In-Reply-To=%3C52C58A19.5030900%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Queue not shown in rabbitmqctl">emile at rabbitmq.com
       </A><BR>
    <I>Thu Jan  2 15:47:37 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="032869.html">[rabbitmq-discuss] RabbitMQ for ARM
</A></li>
        <LI>Next message: <A HREF="032841.html">[rabbitmq-discuss] Queue not shown in rabbitmqctl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32840">[ date ]</a>
              <a href="thread.html#32840">[ thread ]</a>
              <a href="subject.html#32840">[ subject ]</a>
              <a href="author.html#32840">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

On 16/12/13 08:45, Dimitri Minaev wrote:

&gt;<i> These journal.jif and *rdq files consumed all file handles.
</I>&gt;<i> 
</I>&gt;<i> But the strange thing was that the queue with 50 million messages was
</I>&gt;<i> visible in the management interface, but not in `rabbitmqctl
</I>&gt;<i> list_queues' output. What might be the cause?
</I>
You can observe undefined behaviour when the VM runs out of file
descriptors. It is possible for this resource exhaustion to manifest in
a different way next time.

&gt;<i> And, while we're at it, shouldn't RabbtiMQ close the temporary files it
</I>&gt;<i> creates when there's not enough memory?
</I>
The broker does not coalesce temporary files on the basis of file
descriptor availability. You should make sure that the Erlang VM can
obtain as many descriptors as it needs and avoid running out. For the
message store alone this could be 1 descriptor for every 8Mb of messages
on disk. (or msg_store_file_size_limit * GARBAGE_FRACTION)



-Emile






</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032869.html">[rabbitmq-discuss] RabbitMQ for ARM
</A></li>
	<LI>Next message: <A HREF="032841.html">[rabbitmq-discuss] Queue not shown in rabbitmqctl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32840">[ date ]</a>
              <a href="thread.html#32840">[ thread ]</a>
              <a href="subject.html#32840">[ subject ]</a>
              <a href="author.html#32840">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
