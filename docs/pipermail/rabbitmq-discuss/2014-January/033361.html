<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federation Duplicates and Filtering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20Duplicates%20and%20Filtering&In-Reply-To=%3CCANjo9rxLsjytMTY7T9k20%2B62AACO9sWpVEwgYLcaDWJBue07CA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033366.html">
   <LINK REL="Next"  HREF="033363.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federation Duplicates and Filtering</H1>
    <B>Dann</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20Duplicates%20and%20Filtering&In-Reply-To=%3CCANjo9rxLsjytMTY7T9k20%2B62AACO9sWpVEwgYLcaDWJBue07CA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Federation Duplicates and Filtering">dann.ormond at gmail.com
       </A><BR>
    <I>Mon Jan 27 16:36:31 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033366.html">[rabbitmq-discuss] Federated Exchange - behaviour after delete
</A></li>
        <LI>Next message: <A HREF="033363.html">[rabbitmq-discuss] Federation Duplicates and Filtering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33361">[ date ]</a>
              <a href="thread.html#33361">[ thread ]</a>
              <a href="subject.html#33361">[ subject ]</a>
              <a href="author.html#33361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>How hard would it be to implement an option for federation that would use
the x-received-from header to know if a message came from an upstream and
then not send it back that way?

The reason I am asking is that I have a setup in JMS that is a hub and
spoke with my brokers.  My hub broker is the only way any of the other
brokers can get data from other brokers.  Also, the traffic is
bidirectional between the broker through the hub broker.  I don't have the
freedom to change the current hub and spoke setup but I want to use
federation to allow message traffic to flow and not receive duplicates at
any broker.

My thought is that when choosing where to send the data, the federation
plugin could check the x-received-from header and make sure it only sends
it to new brokers and not to brokers that have already seen the message.

Everything sounds simple in my mind but I am sure there are some
interesting gotchas with this option.

Thanks,

Dann
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140127/b8b50983/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140127/b8b50983/attachment.html</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033366.html">[rabbitmq-discuss] Federated Exchange - behaviour after delete
</A></li>
	<LI>Next message: <A HREF="033363.html">[rabbitmq-discuss] Federation Duplicates and Filtering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33361">[ date ]</a>
              <a href="thread.html#33361">[ thread ]</a>
              <a href="subject.html#33361">[ subject ]</a>
              <a href="author.html#33361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
