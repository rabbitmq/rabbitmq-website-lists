<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Change in semantics of {exchange, queue}.{unbind, delete}
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Change%20in%20semantics%20of%20%7Bexchange%2C%0A%20queue%7D.%7Bunbind%2C%20delete%7D&In-Reply-To=%3C52D266C9.5060802%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032973.html">
   <LINK REL="Next"  HREF="033002.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Change in semantics of {exchange, queue}.{unbind, delete}</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Change%20in%20semantics%20of%20%7Bexchange%2C%0A%20queue%7D.%7Bunbind%2C%20delete%7D&In-Reply-To=%3C52D266C9.5060802%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Change in semantics of {exchange, queue}.{unbind, delete}">matthias at rabbitmq.com
       </A><BR>
    <I>Sun Jan 12 09:56:25 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="032973.html">[rabbitmq-discuss] Change in semantics of {exchange, queue}.{unbind, delete}
</A></li>
        <LI>Next message: <A HREF="033002.html">[rabbitmq-discuss] Change in semantics of {exchange, queue}.{unbind, delete}
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32975">[ date ]</a>
              <a href="thread.html#32975">[ thread ]</a>
              <a href="subject.html#32975">[ subject ]</a>
              <a href="author.html#32975">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alan,

On 12/01/14 01:17, Alan Antonuk wrote:
&gt;<i> It appears that the semantics of exchange.delete, exchange.unbind,
</I>&gt;<i> queue.delete, and queue.unbind when the entity doesn't exist have
</I>&gt;<i> changed: they used to throw a channel exception, now they do not.
</I>&gt;<i> [...]
</I>&gt;<i> I'm also kind of curious as to why this behavior was changed (which I
</I>&gt;<i> would assume was for perf reasons).
</I>
The new behaviour is more useful and semantically consistent. AMQP 
generally has an idempotent assertion semantics, i.e. commands indicate 
what should be rather than what should happen. This is so that clients 
can operate independently on the shared space of resources, with each 
client simply asserting what it requires.

So declaring an exchange/queue/binding which already exists is perfectly 
fine. And deleting an exchange/queue/binding which doesn't exist should 
therefore be fine too.

You can get the old behaviour by prefixing the delete with a passive 
declare.

Regards,

Matthias.
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032973.html">[rabbitmq-discuss] Change in semantics of {exchange, queue}.{unbind, delete}
</A></li>
	<LI>Next message: <A HREF="033002.html">[rabbitmq-discuss] Change in semantics of {exchange, queue}.{unbind, delete}
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32975">[ date ]</a>
              <a href="thread.html#32975">[ thread ]</a>
              <a href="subject.html#32975">[ subject ]</a>
              <a href="author.html#32975">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
