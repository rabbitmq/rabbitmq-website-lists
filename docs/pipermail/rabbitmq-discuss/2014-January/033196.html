<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 3.2.2 and Erlang R16B03 - SSL Issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%203.2.2%20and%20Erlang%20R16B03%20-%20SSL%20Issue&In-Reply-To=%3C001d01cf1660%240f80e250%242e82a6f0%24%40Kauppi.la%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033214.html">
   <LINK REL="Next"  HREF="033209.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 3.2.2 and Erlang R16B03 - SSL Issue</H1>
    <B>Jared Kauppila</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%203.2.2%20and%20Erlang%20R16B03%20-%20SSL%20Issue&In-Reply-To=%3C001d01cf1660%240f80e250%242e82a6f0%24%40Kauppi.la%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 3.2.2 and Erlang R16B03 - SSL Issue">jared at kauppi.la
       </A><BR>
    <I>Tue Jan 21 04:20:03 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033214.html">[rabbitmq-discuss] RabbitMQ API - aliveness-test
</A></li>
        <LI>Next message: <A HREF="033209.html">[rabbitmq-discuss] RabbitMQ 3.2.2 and Erlang R16B03 - SSL Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33196">[ date ]</a>
              <a href="thread.html#33196">[ thread ]</a>
              <a href="subject.html#33196">[ subject ]</a>
              <a href="author.html#33196">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am in the process of upgrading our existing (SSL enabled) clusters
(RabbitMQ 3.1.3 and Erlang R16B01) to the most recent versions (RabbitMQ
3.2.2 and Erlang R16B03) and I encountered an issue which may be a problem
with the SSL/TLS implementation on the latest version of Erlang?

 

We have the RabbitMQ Management webui load-balanced via F5 LTMs on Port 443
using Client/Server SSL profiles to terminate SSL at the appliance in order
to use cookie persistence to a node.

 

After updating our Dev cluster, traffic would no longer be sent to the nodes
when traversing the LTMs. Digging into the logs, I found the following F5
error:

 

                01260017 - Connection attempt to insecure SSL server (see
RFC5746) aborted: XX.XX.XX.XX.:443.

 

There is a workaround present in the F5 KB on the issue:

 

                Note: If upgrading the back-end SSL server is not an option,
you can set the Secure Renegotiation setting in the Server SSL profile to
Request, which will allow the back-end SSL server to continue to renegotiate
insecurely.

 

 &lt;<A HREF="http://support.f5.com/kb/en-us/solutions/public/13000/800/sol13860">http://support.f5.com/kb/en-us/solutions/public/13000/800/sol13860</A>&gt;
<A HREF="http://support.f5.com/kb/en-us/solutions/public/13000/800/sol13860">http://support.f5.com/kb/en-us/solutions/public/13000/800/sol13860</A>

 

Hitting a node directly with Firefox, you can see the following error in the
Error Console:

 

                server does not support RFC 5746, see CVE-2009-3555

 

Our current Test/Qual/Prod clusters on the previous version (3.1.3 and
R16B01) all work without issue.

 

Thoughts?

 

Thanks

 

-- 
Jared

 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140120/8ddab1c4/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140120/8ddab1c4/attachment.html</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033214.html">[rabbitmq-discuss] RabbitMQ API - aliveness-test
</A></li>
	<LI>Next message: <A HREF="033209.html">[rabbitmq-discuss] RabbitMQ 3.2.2 and Erlang R16B03 - SSL Issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33196">[ date ]</a>
              <a href="thread.html#33196">[ thread ]</a>
              <a href="subject.html#33196">[ subject ]</a>
              <a href="author.html#33196">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
