<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message order of delivery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20order%20of%20delivery&In-Reply-To=%3CCAGrdgiVk14RRudAVo7AzV-ugWByOFc5b%3DUseRTCTL9_C8gJVNQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033341.html">
   <LINK REL="Next"  HREF="033343.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message order of delivery</H1>
    <B>Jesper Louis Andersen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20order%20of%20delivery&In-Reply-To=%3CCAGrdgiVk14RRudAVo7AzV-ugWByOFc5b%3DUseRTCTL9_C8gJVNQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Message order of delivery">jesper.louis.andersen at gmail.com
       </A><BR>
    <I>Sun Jan 26 17:13:13 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033341.html">[rabbitmq-discuss] Message order of delivery
</A></li>
        <LI>Next message: <A HREF="033343.html">[rabbitmq-discuss] Message order of delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33342">[ date ]</a>
              <a href="thread.html#33342">[ thread ]</a>
              <a href="subject.html#33342">[ subject ]</a>
              <a href="author.html#33342">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Jan 26, 2014 at 1:27 PM, Mysurf Mail &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stammailbox at gmail.com</A>&gt; wrote:

&gt;<i> So, if I need to handle messages by their Order, I can only use rabbitMQ
</I>&gt;<i> with an exclusive queue  to each consumer? Is RabbitMQ still considered a
</I>&gt;<i> good solution for ordered message queuing?
</I>

Example: We deliver messages to the queue Q and we have a single subscriber
S1.

Message delivery will be made in order to S1. Unless precisely this happens:

* S1 rejects a message which puts it back in the end of the queue
* S1 closes the connection while having unacknowledged messages

If we add another subscriber S2 to Q, things are more complicated. Messages
are processed through the queue in order, but now both S1 and S2 may get
messages. There are no guarantee that they are equally fast at processing
messages, so depending on what S1 and S2 does, they may overrun each other.

The consequence is that either you need to have a queue per subscriber and
deliver them to these, or you need to model an ordering primitive into your
solution. I usually advocate against using timestamps for this since they
drift. A better model would be to make messages idempotent.


-- 
J.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140126/b775cb1a/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140126/b775cb1a/attachment.html</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033341.html">[rabbitmq-discuss] Message order of delivery
</A></li>
	<LI>Next message: <A HREF="033343.html">[rabbitmq-discuss] Message order of delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33342">[ date ]</a>
              <a href="thread.html#33342">[ thread ]</a>
              <a href="subject.html#33342">[ subject ]</a>
              <a href="author.html#33342">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
