<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] AMQP header sizes an issue?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20AMQP%20header%20sizes%20an%20issue%3F&In-Reply-To=%3CBANLkTimzL3_m162sESWxEPRL3Aijg-wsuw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012493.html">
   <LINK REL="Next"  HREF="012500.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] AMQP header sizes an issue?</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20AMQP%20header%20sizes%20an%20issue%3F&In-Reply-To=%3CBANLkTimzL3_m162sESWxEPRL3Aijg-wsuw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] AMQP header sizes an issue?">alexis at rabbitmq.com
       </A><BR>
    <I>Thu Apr 28 10:19:43 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012493.html">[rabbitmq-discuss] AMQP header sizes an issue?
</A></li>
        <LI>Next message: <A HREF="012500.html">[rabbitmq-discuss] Minor nit type bugs in the Management Plugin	interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12568">[ date ]</a>
              <a href="thread.html#12568">[ thread ]</a>
              <a href="subject.html#12568">[ subject ]</a>
              <a href="author.html#12568">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gene

Sorry for being slow - it's the holiday season in the UK where many of
us are based.

IIRC the header is around 40 bytes so you may want to batch.  Shovel
is primarily a relay does not do message batching.  The plugin is
implemented as an embedded client.  You could modify it to batch but
it may be better to batch at the producer(s).  This is not hard to
do...

Let us know if this helps, and how you get on!

alexis



On Thu, Apr 21, 2011 at 5:59 AM, ristretto.rb &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ristretto.rb at gmail.com</A>&gt; wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> We have a large amount of incoming data (400mb/sec) all of which is
</I>&gt;<i> small, mostly 20 bytes, occasionally 200 bytes.
</I>&gt;<i>
</I>&gt;<i> Is the AMQP header going to hurt us by being a major percentage of
</I>&gt;<i> what we send, if we send each bit of data in it's own message? &#160;If so,
</I>&gt;<i> is there an easy way to batch messages, thereby getting the amount of
</I>&gt;<i> data / message something that makes the header less of a factor?
</I>&gt;<i>
</I>&gt;<i> We are looking into rabbitmq-shovel. &#160;Although this looks very nice
</I>&gt;<i> for round rabbiting, I have yet to determine if this plugin will batch
</I>&gt;<i> the data for us.
</I>&gt;<i>
</I>&gt;<i> thanks
</I>&gt;<i> Gene
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I></PRE>

































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012493.html">[rabbitmq-discuss] AMQP header sizes an issue?
</A></li>
	<LI>Next message: <A HREF="012500.html">[rabbitmq-discuss] Minor nit type bugs in the Management Plugin	interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12568">[ date ]</a>
              <a href="thread.html#12568">[ thread ]</a>
              <a href="subject.html#12568">[ subject ]</a>
              <a href="author.html#12568">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
