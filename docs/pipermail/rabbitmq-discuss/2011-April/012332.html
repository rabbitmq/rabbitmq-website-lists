<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Management UI plugin issue on 2 node cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Management%20UI%20plugin%20issue%20on%202%20node%20cluster&In-Reply-To=%3C4DA43AA8.7080701%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012325.html">
   <LINK REL="Next"  HREF="012445.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Management UI plugin issue on 2 node cluster</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Management%20UI%20plugin%20issue%20on%202%20node%20cluster&In-Reply-To=%3C4DA43AA8.7080701%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Management UI plugin issue on 2 node cluster">simon at rabbitmq.com
       </A><BR>
    <I>Tue Apr 12 12:42:32 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012325.html">[rabbitmq-discuss] Management UI plugin issue on 2 node cluster
</A></li>
        <LI>Next message: <A HREF="012445.html">[rabbitmq-discuss] Management UI plugin issue on 2 node cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12332">[ date ]</a>
              <a href="thread.html#12332">[ thread ]</a>
              <a href="subject.html#12332">[ subject ]</a>
              <a href="author.html#12332">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/04/11 23:10, Jos Boumans wrote:
&gt;<i> I've just upgraded my 2 node cluster from 2.4.0 to 2.4.1 on Ubuntu
</I>&gt;<i> 10.04.2 on ec2. Both nodes have the plugins installed for the
</I>&gt;<i> management UI (+agent) and the stomp adapter.
</I>&gt;<i>
</I>&gt;<i> The second node in the cluster won't start with the management UI
</I>&gt;<i> installed. If i remove the UI and leave the agent + stomp adapter,
</I>&gt;<i> it starts and joins the cluster as expected. This configuration
</I>&gt;<i> worked fine on 2.4.0.
</I>
This is odd. I just tested this on 2.4.1 and it's working for me.

What happens to the second node if the first node in the cluster is down 
and the full management plugin is installed?

&gt;<i> I have a huge erlang crash dump file, but nothing that seems to
</I>&gt;<i> indicate anything about the management plugin.
</I>
Yeah, the crash dump is rarely that helpful.

&gt;<i> The error log shows:
</I>&gt;<i>
</I>&gt;<i> Kernel pid terminated (application_controller)
</I>&gt;<i> ({application_terminated,rabbit,shutdown})
</I>&gt;<i>
</I>&gt;<i> and not much more than that.
</I>
Is there anything in the sasl log?

&gt;<i> The full output of a console session is below the sig showing how
</I>&gt;<i> it works without the UI plugin, and fails when enabling it.
</I>
&lt;snip&gt;

&gt;<i> broker running
</I>&gt;<i> starting STOMP Adapter (binding to [61613]) ...done
</I>&gt;<i> ** Found 0 name clashes in code paths
</I>&gt;<i> {&quot;Kernel pid
</I>&gt;<i> terminated&quot;,application_controller,&quot;{application_terminated,rabbit,shutdown}&quot;}
</I>
This is very odd - it's showing the rabbit application failing to start. 
But printing &quot;broker running&quot; is the last thing we do on application 
startup...

Cheers, Simon

-- 
Simon MacMullen
Staff Engineer, RabbitMQ
SpringSource, a division of VMware

</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012325.html">[rabbitmq-discuss] Management UI plugin issue on 2 node cluster
</A></li>
	<LI>Next message: <A HREF="012445.html">[rabbitmq-discuss] Management UI plugin issue on 2 node cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12332">[ date ]</a>
              <a href="thread.html#12332">[ thread ]</a>
              <a href="subject.html#12332">[ subject ]</a>
              <a href="author.html#12332">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
