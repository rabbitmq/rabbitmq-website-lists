<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Learning of the last job on queue.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Learning%20of%20the%20last%20job%20on%20queue.&In-Reply-To=%3CBANLkTim8DNcxJJSYGEOX_DM03tyWzPN0%3Dg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012455.html">
   <LINK REL="Next"  HREF="012585.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Learning of the last job on queue.</H1>
    <B>Allan Kamau</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Learning%20of%20the%20last%20job%20on%20queue.&In-Reply-To=%3CBANLkTim8DNcxJJSYGEOX_DM03tyWzPN0%3Dg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Learning of the last job on queue.">kamauallan at gmail.com
       </A><BR>
    <I>Wed Apr 20 10:31:26 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012455.html">[rabbitmq-discuss] Learning of the last job on queue.
</A></li>
        <LI>Next message: <A HREF="012585.html">[rabbitmq-discuss] Learning of the last job on queue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12481">[ date ]</a>
              <a href="thread.html#12481">[ thread ]</a>
              <a href="subject.html#12481">[ subject ]</a>
              <a href="author.html#12481">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Apr 19, 2011 at 1:13 PM, Matthew Sackman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at rabbitmq.com</A>&gt; wrote:
&gt;<i> On Sun, Apr 17, 2011 at 04:10:54PM +0300, Allan Kamau wrote:
</I>&gt;&gt;<i> Is there some way of knowing of the last job processed on a now empty queue?
</I>&gt;<i>
</I>&gt;<i> No. &#160;And I don't think you want to do that either ;) - there's no
</I>&gt;<i> guarantee that the last message sent out by a queue is the last message
</I>&gt;<i> to arrive at a client: especially in light of things like basic.qos but
</I>&gt;<i> even if that were set to 1 and you're manually acking, slow network
</I>&gt;<i> links etc may mean some other client that was sent the penultimate msg
</I>&gt;<i> in the queue actually receives that message a long time after the real
</I>&gt;<i> last msg in the queue gets received and processed by some other client.
</I>&gt;<i> That said, you may not care about these cases...
</I>&gt;<i>
</I>&gt;<i> Could you describe why you're trying to achieve this and/or what problem
</I>&gt;<i> you're trying to solve?
</I>&gt;<i>
</I>&gt;<i> Best wishes,
</I>&gt;<i>
</I>&gt;<i> Matthew
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>
Well, I need to process a batch of jobs that l may in turn generate
some results that will need to be consolidated and new jobs of similar
nature to the previous generated based on these results and so on.

It is important that all jobs be completely processed (successfully)
before the creation of the next generation of jobs.
And each such next generation job needs to be created only once (a single copy).

At this time I am looking at a simple solution by having a single
instance of an application that will do the job generation and the
monitoring of the job numbers in the job queue in RabbitMQ
periodically and generate the next round of jobs when no unprocessed
or unsuccessfully processed jobs are found. If this is possible and
suitable for the brief scenario explained above, what are the JavaAPI
commands to query the queue for job status?

Allan.
</PRE>











































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012455.html">[rabbitmq-discuss] Learning of the last job on queue.
</A></li>
	<LI>Next message: <A HREF="012585.html">[rabbitmq-discuss] Learning of the last job on queue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12481">[ date ]</a>
              <a href="thread.html#12481">[ thread ]</a>
              <a href="subject.html#12481">[ subject ]</a>
              <a href="author.html#12481">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
