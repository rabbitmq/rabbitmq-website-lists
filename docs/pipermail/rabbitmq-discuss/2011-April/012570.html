<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Performance tips please
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20tips%20please&In-Reply-To=%3CBANLkTi%3DpZoNRat_n8W1Knp5Gjt%2BogCv8dw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012525.html">
   <LINK REL="Next"  HREF="012526.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Performance tips please</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20tips%20please&In-Reply-To=%3CBANLkTi%3DpZoNRat_n8W1Knp5Gjt%2BogCv8dw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Performance tips please">alexis at rabbitmq.com
       </A><BR>
    <I>Thu Apr 28 10:30:54 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012525.html">[rabbitmq-discuss] Performance tips please
</A></li>
        <LI>Next message: <A HREF="012526.html">[rabbitmq-discuss] For speed, use Shovel or not?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12570">[ date ]</a>
              <a href="thread.html#12570">[ thread ]</a>
              <a href="subject.html#12570">[ subject ]</a>
              <a href="author.html#12570">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Gene

This is an essay question ;-)

Let me have a quick go at some of this:

On Sun, Apr 24, 2011 at 9:49 PM, ristretto.rb &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ristretto.rb at gmail.com</A>&gt; wrote:
&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> RabbitMQ is an excellent product. &#160;Thanks for all the hard working
</I>&gt;<i> contributers that make it available to us.
</I>
Thanks!


&gt;<i> I'm trying to get smart on RabbitMQ performance tuning. &#160;Can any
</I>&gt;<i> suggest best practices for getting the most messages / second through
</I>&gt;<i> a queue?
</I>
This is very use case specific.  What's your performance goal?  I saw
your other message about batching.  It sounds like you are doing
market data - have you tried using some standard tool like FAST to
batch data?


&gt;<i> &#160;Suppose a transient queue bound directly to a transient exchange.
</I>&gt;<i> No transactions. &#160;RAM based node. &#160; Apply load in terms many x byte
</I>&gt;<i> messages / sec. &#160;Assume always a surplus of workers consuming from the
</I>&gt;<i> queue. &#160;Measure the rate of message consumption. &#160; What approaches are
</I>&gt;<i> there to maximise this number?
</I>
Um...

Turn off acks, make sure TCP windowing is not slowing you down, just
have one queue, use fast clients, use a fast machine?



&gt;<i>&#160;What are the bottle necks in RabbitMQ?
</I>
There is no actual bottle neck but two things are worth noting:

* how data is read from the socket, which one of the team is currently
looking at

* and the processing of AMQP's headers and so on




&gt;<i> &#160;Queues themselves perhaps?
</I>
Queues are pretty 'lightweight' shared buffers in RabbitMQ.


&gt;<i> &#160;Do queues have limits?
</I>
In what sense?


&gt;<i>&#160;If clustering
</I>&gt;<i> distributes some cpu and memory load, it still sends message through
</I>&gt;<i> the one queue. &#160;right?
</I>
Yes.

&gt;<i>&#160;If so, should multiple queues be created?
</I>&gt;<i> Perhaps sharding on routing_key?
</I>
Have a look at Jon Brisbin's Random Exchange emails of the last week or so...

alexis



&gt;<i> Thank You
</I>&gt;<i> Gene
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I></PRE>




































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012525.html">[rabbitmq-discuss] Performance tips please
</A></li>
	<LI>Next message: <A HREF="012526.html">[rabbitmq-discuss] For speed, use Shovel or not?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12570">[ date ]</a>
              <a href="thread.html#12570">[ thread ]</a>
              <a href="subject.html#12570">[ subject ]</a>
              <a href="author.html#12570">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
