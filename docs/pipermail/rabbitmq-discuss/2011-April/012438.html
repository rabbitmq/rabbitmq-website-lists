<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Creating a job only once (using Java Client	API)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Creating%20a%20job%20only%20once%20%28using%20Java%20Client%0A%09API%29&In-Reply-To=%3CBANLkTika4NSOuOAyK4EAbgxDwBN7xhnJ_w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012435.html">
   <LINK REL="Next"  HREF="012457.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Creating a job only once (using Java Client	API)</H1>
    <B>Allan Kamau</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Creating%20a%20job%20only%20once%20%28using%20Java%20Client%0A%09API%29&In-Reply-To=%3CBANLkTika4NSOuOAyK4EAbgxDwBN7xhnJ_w%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Creating a job only once (using Java Client	API)">kamauallan at gmail.com
       </A><BR>
    <I>Mon Apr 18 17:13:43 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012435.html">[rabbitmq-discuss] Creating a job only once (using Java Client	API)
</A></li>
        <LI>Next message: <A HREF="012457.html">[rabbitmq-discuss] Creating a job only once (using Java Client API)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12438">[ date ]</a>
              <a href="thread.html#12438">[ thread ]</a>
              <a href="subject.html#12438">[ subject ]</a>
              <a href="author.html#12438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Apr 18, 2011 at 3:40 PM, Dave Syer &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">david_syer at hotmail.com</A>&gt; wrote:
&gt;<i>
</I>&gt;&gt;<i> This is the situation. I am developing a distributed application which
</I>&gt;&gt;<i> comprises of several instances of itself at runtime. A single instance
</I>&gt;&gt;<i> of this application would be mostly single threaded and have no
</I>&gt;&gt;<i> interprocess communication and can be viewed as a worker.
</I>&gt;<i>
</I>&gt;<i> I think you are looking for a global lock implementation, which Rabbit
</I>&gt;<i> can never be. &#160;Messaging is a good way to ensure that precisely one of
</I>&gt;<i> your consumers acts on a given message, but there is no guarantee
</I>&gt;<i> without a central lock that precisely one message will be sent. &#160;Does
</I>&gt;<i> that make sense, or did I misread the requirement?
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>
Almost. I am trying to process jobs level by level. Let's say I have a
tree structure, where I need to create jobs one level at a time and
completely process them then generate the next batch of jobs and
process them totally and so on. Each job (level) creation depends on
the successful processing of all the jobs of the preceding level as
those results form the bases of the jobs being created for the new
level.

So the key is for the client that obtained and successfully processed
the last job to realize this fact and generate the next round of jobs.
The jobs are to be generated and injected into the queue by a single
client, process and thread.

One way would be to specially mark the last job as it is being
generated in the job creation undertaking, then program the clients to
be on the lookout for this &quot;last&quot; job as they process the jobs. But
this may not really work well considering that some jobs may take
longer to process than this job marked as &quot;last&quot; and that they may be
some jobs still under processing or awaiting to be processed (if they
were resent due to some failure of some kind) after the completion of
processing of the &quot;last&quot; job.



Allan.
</PRE>






























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012435.html">[rabbitmq-discuss] Creating a job only once (using Java Client	API)
</A></li>
	<LI>Next message: <A HREF="012457.html">[rabbitmq-discuss] Creating a job only once (using Java Client API)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12438">[ date ]</a>
              <a href="thread.html#12438">[ thread ]</a>
              <a href="subject.html#12438">[ subject ]</a>
              <a href="author.html#12438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
