<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Shovel bug in 2.2.0? (fixed in 2.4.0?)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20bug%20in%202.2.0%3F%20%28fixed%20in%202.4.0%3F%29&In-Reply-To=%3C23B5681B-BCCC-41DA-A493-39805436C69F%40tjervaag.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012231.html">
   <LINK REL="Next"  HREF="012235.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Shovel bug in 2.2.0? (fixed in 2.4.0?)</H1>
    <B>&#216;yvind Tjervaag</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shovel%20bug%20in%202.2.0%3F%20%28fixed%20in%202.4.0%3F%29&In-Reply-To=%3C23B5681B-BCCC-41DA-A493-39805436C69F%40tjervaag.com%3E"
       TITLE="[rabbitmq-discuss] Shovel bug in 2.2.0? (fixed in 2.4.0?)">oyvind at tjervaag.com
       </A><BR>
    <I>Fri Apr  1 16:51:04 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012231.html">[rabbitmq-discuss] Custom Riak exchange published
</A></li>
        <LI>Next message: <A HREF="012235.html">[rabbitmq-discuss] Shovel bug in 2.2.0? (fixed in 2.4.0?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12234">[ date ]</a>
              <a href="thread.html#12234">[ thread ]</a>
              <a href="subject.html#12234">[ subject ]</a>
              <a href="author.html#12234">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi!

I'm using version 2.2.0 (Erlang 14B on windows) with a shovel between two rabbit servers. When the shovel plugin looses it connection to the remote rabbit server (tested by stopping the rabbit service at the other end) the number of used Erlang processes seems to grow steadily each time the shovel tries to reconnect.

These processes are not reclaimed when I start the remote rabbit server back up. Noticed this when it had been running for a while and rabbit stopped when reached max number of Erlang processes available.

.. Just downloaded v 2.4.0 and without doing too much testing, this version seems to behave properly. When the shovel tries to reconnect, the Erlang process count rises by 30, but drops back by 30 before a new reconnect attempt is performed.

Am I right in thinking there was a bug in 2.2.0 that has been fixed, or do I need to do further testing? :) Just did a 2-minute experiment...

regards,
&#216;yvind
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012231.html">[rabbitmq-discuss] Custom Riak exchange published
</A></li>
	<LI>Next message: <A HREF="012235.html">[rabbitmq-discuss] Shovel bug in 2.2.0? (fixed in 2.4.0?)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12234">[ date ]</a>
              <a href="thread.html#12234">[ thread ]</a>
              <a href="subject.html#12234">[ subject ]</a>
              <a href="author.html#12234">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
