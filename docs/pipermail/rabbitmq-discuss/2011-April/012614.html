<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message Aggregating Queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20Aggregating%20Queue&In-Reply-To=%3C4DB98AD9.7010500%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012613.html">
   <LINK REL="Next"  HREF="012615.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message Aggregating Queue</H1>
    <B>Tim Fox</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20Aggregating%20Queue&In-Reply-To=%3C4DB98AD9.7010500%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Message Aggregating Queue">tim at rabbitmq.com
       </A><BR>
    <I>Thu Apr 28 16:42:17 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012613.html">[rabbitmq-discuss] Message Aggregating Queue
</A></li>
        <LI>Next message: <A HREF="012615.html">[rabbitmq-discuss] Message Aggregating Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12614">[ date ]</a>
              <a href="thread.html#12614">[ thread ]</a>
              <a href="subject.html#12614">[ subject ]</a>
              <a href="author.html#12614">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 28/04/11 15:56, Tony Garnock-Jones wrote:
&gt;<i> On 28 April 2011 10:32, Alvaro Videla &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">videlalvaro at gmail.com</A> 
</I>&gt;<i> &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">videlalvaro at gmail.com</A>&gt;&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>     do you think is a good idea to specify backing queue
</I>&gt;<i>     implementation during 'queue.declare'?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It seems to me like it's /very/ clearly the Right Thing to do.
</I>&gt;<i>
</I>&gt;<i> Exchanges and queues are similar in a lot of ways; in particular, they 
</I>&gt;<i> can be seen as special cases of a more general kind of lump of 
</I>&gt;<i> functionality, so being able to specify exchange types is a clue that 
</I>&gt;<i> being able to specify queue types might also be useful.
</I>Going further, I think it makes sense to allow things other than queues 
to be bound into exchanges.

The only thing that really matters is the thing that's bound into the 
exchange can accept a message. What it does with the message afterwards 
(queues it, puts it in a map, or whatever) the exchange doesn't need to 
know about.

FWIW, this was actually at the core of the design of HornetQ when I was 
doing that. In some ways the HQ model is similar to AMQP 0.8/0.9.x, 
there is a concept of an postoffice (which is similar to an exchange), 
then things called &quot;bindings&quot; are bound into the exchange using a 
specific key (binding key). Binding is just an interface which accepts a 
message (or not).

Concrete binding types are Queue (which is like an AMQP queue only more 
a bit more sophisticated - (it supports message selectors, priorities 
etc), LVQ, and Divert - this takes a message and re-routes back through 
the postoffice under a different routing key, it can also copy a message 
and &quot;siphon&quot; it off elsewhere. You can also create your own and add them 
to the postoffice.

Anyway, the point is you can do some really sophisticated things when 
you combine exchanges and &quot;things that accept messages&quot; rather than just 
exchanges and queues.
&gt;<i>
</I>&gt;<i> More generally, AMQP in some sense wants to be a model of a 
</I>&gt;<i> named-soup-of-objects-in-the-broker (hence AMQP 1.0's approach, as I 
</I>&gt;<i> understand it), so from this point of view having named classes 
</I>&gt;<i> (fanout exchange, direct exchange, queue-backed-by-rabbit, 
</I>&gt;<i> queue-backed-by-riak, etc) and as generic a factory/constructor method 
</I>&gt;<i> as possible (in 0-9-1 unavoidably split into at least exchange.declare 
</I>&gt;<i> and queue.declare) makes a fair bit of sense.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>   Tony
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110428/1c28f944/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110428/1c28f944/attachment-0001.htm</A>&gt;
</PRE>







































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012613.html">[rabbitmq-discuss] Message Aggregating Queue
</A></li>
	<LI>Next message: <A HREF="012615.html">[rabbitmq-discuss] Message Aggregating Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12614">[ date ]</a>
              <a href="thread.html#12614">[ thread ]</a>
              <a href="subject.html#12614">[ subject ]</a>
              <a href="author.html#12614">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
