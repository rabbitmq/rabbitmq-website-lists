<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] looks like a memory leak, 2.4.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20looks%20like%20a%20memory%20leak%2C%202.4.1&In-Reply-To=%3C20110428122733.GH5427%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012593.html">
   <LINK REL="Next"  HREF="012594.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] looks like a memory leak, 2.4.1</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20looks%20like%20a%20memory%20leak%2C%202.4.1&In-Reply-To=%3C20110428122733.GH5427%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] looks like a memory leak, 2.4.1">matthew at rabbitmq.com
       </A><BR>
    <I>Thu Apr 28 13:27:34 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012593.html">[rabbitmq-discuss] looks like a memory leak, 2.4.1
</A></li>
        <LI>Next message: <A HREF="012594.html">[rabbitmq-discuss] looks like a memory leak, 2.4.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12592">[ date ]</a>
              <a href="thread.html#12592">[ thread ]</a>
              <a href="subject.html#12592">[ subject ]</a>
              <a href="author.html#12592">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mark,

On Wed, Apr 27, 2011 at 05:31:23PM -0600, Mark Geib wrote:
&gt;<i> We have rabbitmq 2.4.1 on debian squeeze, erlang is R14A.
</I>
Yes R14A. Which is an unstable beta release of Erlang
(<A HREF="http://www.erlang.org/download_release/7">http://www.erlang.org/download_release/7</A>) and should _never_ have been
selected as the version of Erlang for a stable release of Debian. Sigh.

&gt;<i> What we see is that the memory footprint of rabbitmq grows after
</I>&gt;<i> running for just a couple to a few hours. And eventually we get VM
</I>&gt;<i> alarms in the rabbitmq log. The funny thing is that we never queue up
</I>&gt;<i> more a 10-50 messages in any queue, usually in the single digits. So
</I>&gt;<i> the activity seems low, and the queue sizes are small, based on number
</I>&gt;<i> of messages.
</I>&gt;<i> 
</I>&gt;<i> We have seem this with 2.3.1 and then upgraded to 2.4.1 and see the
</I>&gt;<i> same thing.
</I>
Hmm, I'd expect some growth due to memory fragmentation but not to the
extent you're suggesting. The connections to the server, they're not SSL
connections are they? Also what is the memory in the server, and have
you left the high watermark at its default 0.4?

Matthew
</PRE>





































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012593.html">[rabbitmq-discuss] looks like a memory leak, 2.4.1
</A></li>
	<LI>Next message: <A HREF="012594.html">[rabbitmq-discuss] looks like a memory leak, 2.4.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12592">[ date ]</a>
              <a href="thread.html#12592">[ thread ]</a>
              <a href="subject.html#12592">[ subject ]</a>
              <a href="author.html#12592">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
