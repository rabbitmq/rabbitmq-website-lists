<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] BasicQoS usage: consuming 1 by 1 messages avoind	unacking the whole queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20BasicQoS%20usage%3A%20consuming%201%20by%201%20messages%20avoind%0A%09unacking%20the%20whole%20queue&In-Reply-To=%3Cffdfce62-9948-4dc8-8f85-440e4a9af7e0%40w36g2000vbi.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012294.html">
   <LINK REL="Next"  HREF="012279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] BasicQoS usage: consuming 1 by 1 messages avoind	unacking the whole queue</H1>
    <B>Alfonso Pantoja</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20BasicQoS%20usage%3A%20consuming%201%20by%201%20messages%20avoind%0A%09unacking%20the%20whole%20queue&In-Reply-To=%3Cffdfce62-9948-4dc8-8f85-440e4a9af7e0%40w36g2000vbi.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] BasicQoS usage: consuming 1 by 1 messages avoind	unacking the whole queue">alfonso.pantoja at gmail.com
       </A><BR>
    <I>Wed Apr  6 17:20:46 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012294.html">[rabbitmq-discuss] Issue with RabbitMQ 2.4 management plugin and mochiweb 1.4.1 rpm on RHEL
</A></li>
        <LI>Next message: <A HREF="012279.html">[rabbitmq-discuss] BasicQoS usage: consuming 1 by 1 messages avoind	unacking the whole queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12278">[ date ]</a>
              <a href="thread.html#12278">[ thread ]</a>
              <a href="subject.html#12278">[ subject ]</a>
              <a href="author.html#12278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm testing if it is possible to recover 1 by 1 message in order to
keep in limbo state (unacked) only that message.
It is posible?

The aim of this is to try to not lose the queue ordering on the whole
queue if a reconnection, crash, etc. occurs. because the current
message will be stored in a database and we wouldn't get other
messages until this message were processed (and a ack for it sent to
RabbitMQ).

I'm using .NET API 2.4.0 (method call BasicQoS(0,1,false) ) against
RabbitMQ 2.2.0
but does not work (API get all messages from the queue so all of them
stay unacked If no ack is sent).

Also BasicQoS does not work if first parameter is !=0 (I get a
NOT_IMPLEMENTED error)
and the same with third parameter set to true.

By the way, parameters are:
BasicQoS(uint prefetchSize, uint prefecthCount, bool global) They are
not documented but I suppose the
the call BasicQoS(0,1,false)should be what I want...


The other option would be to use BasicGet but I don't know if this
method keeps unack only 1 message (didn't tested yet) but I'm thinking
that the performance will be very low. Am I right?

Any comments would be appreaciated.

Thakn you in advance

Alfonso



</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012294.html">[rabbitmq-discuss] Issue with RabbitMQ 2.4 management plugin and mochiweb 1.4.1 rpm on RHEL
</A></li>
	<LI>Next message: <A HREF="012279.html">[rabbitmq-discuss] BasicQoS usage: consuming 1 by 1 messages avoind	unacking the whole queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12278">[ date ]</a>
              <a href="thread.html#12278">[ thread ]</a>
              <a href="subject.html#12278">[ subject ]</a>
              <a href="author.html#12278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
