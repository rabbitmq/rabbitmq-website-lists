<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Learning of the last job on queue.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Learning%20of%20the%20last%20job%20on%20queue.&In-Reply-To=%3CBANLkTimKaw7JiPcUSRVq0mZeeCgo1HtD6A%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012471.html">
   <LINK REL="Next"  HREF="012455.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Learning of the last job on queue.</H1>
    <B>Allan Kamau</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Learning%20of%20the%20last%20job%20on%20queue.&In-Reply-To=%3CBANLkTimKaw7JiPcUSRVq0mZeeCgo1HtD6A%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Learning of the last job on queue.">kamauallan at gmail.com
       </A><BR>
    <I>Sun Apr 17 14:10:54 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012471.html">[rabbitmq-discuss] is &quot;mult&quot; a special queue name?
</A></li>
        <LI>Next message: <A HREF="012455.html">[rabbitmq-discuss] Learning of the last job on queue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12425">[ date ]</a>
              <a href="thread.html#12425">[ thread ]</a>
              <a href="subject.html#12425">[ subject ]</a>
              <a href="author.html#12425">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would like to know if the current job just processed is indeed the
last job of a new empty queue.

I have a requirement to process jobs level wise and there are n number
of levels where n may not be known before hand.
The current queue may only contain jobs of a common &quot;level&quot; and the
process of populating this queue with jobs of a given &quot;level&quot; should
happen once.
The fetching and processing of these jobs in the queue is done by
several clients, each client will record it's most recent job in some
internal variable.

When all the jobs in the queue are processed (by multiple clients) and
no more jobs remain (and any of the client's
Consumer.nextDelivery(long l) returns null)  I would like any of these
clients (which should have previously fetched an processed a job from
the queue) to somehow query and know the id or copy of the last job on
the given queue, and compare it with their most recent acquired and
processed job.
Then the client which has a match of this last job against it's most
recently processed job will have a go at populating the queue with the
next level of jobs.



Is there some way of knowing of the last job processed on a now empty queue?

Allan.
</PRE>














































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012471.html">[rabbitmq-discuss] is &quot;mult&quot; a special queue name?
</A></li>
	<LI>Next message: <A HREF="012455.html">[rabbitmq-discuss] Learning of the last job on queue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12425">[ date ]</a>
              <a href="thread.html#12425">[ thread ]</a>
              <a href="subject.html#12425">[ subject ]</a>
              <a href="author.html#12425">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
