<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.10.1311946093.2895.rabbitmq-discuss%40lists.rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012451.html">
   <LINK REL="Next"  HREF="014681.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.10.1311946093.2895.rabbitmq-discuss%40lists.rabbitmq.com%3E"
       TITLE="No subject">
       </A><BR>
    <I>Tue Apr 12 10:32:41 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012451.html">No subject
</A></li>
        <LI>Next message: <A HREF="014681.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14238">[ date ]</a>
              <a href="thread.html#14238">[ thread ]</a>
              <a href="subject.html#14238">[ subject ]</a>
              <a href="author.html#14238">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>*master* and several *slaves&quot; *seems to imply that the election is
per-queue, just trying to confirm.

Mirrored queues are great, however there is still the thorny issue of being
limited to the throughput of the master when you've got one queue that has
lots of messages in it.

If the election process operates on a per queue basis, then it would be
possible to declare multiple queues to the same exchange and effectively get
load balanced usage of the cluster with all the goodness of high
availability.

Cheers,

Mark Steele
Bering Media Inc.


On Thu, Jul 28, 2011 at 6:36 AM, Rob Harrop &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rob.harrop at gmail.com</A>&gt; wrote:

&gt;<i> The rabbitmq-ha-test code is simply a test suite to exercise the HA
</I>&gt;<i> functions available in the default of the rabbitmq-server repo.
</I>&gt;<i>
</I>&gt;<i> To test the new HA functions you'll need to clone default of
</I>&gt;<i> rabbitmq-server from <A HREF="http://hg.rabbitmq.com/**rabbitmq-server/&lt;http://hg.rabbitmq.com/rabbitmq-server/">http://hg.rabbitmq.com/**rabbitmq-server/&lt;http://hg.rabbitmq.com/rabbitmq-server/</A>&gt;
</I>&gt;<i>
</I>&gt;<i> Once you've cloned the code you can build and run the broker by issuing a
</I>&gt;<i> `make run`.
</I>&gt;<i>
</I>&gt;<i> I've attached a copy of the docs for HA as they currently stand.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Rob
</I>&gt;<i>
</I>&gt;<i> sunkai florence wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hello together
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I heard about the rabbitmq-ha-test developed by rabitmq as an experimental
</I>&gt;&gt;<i> feature and I have download the source code from github.
</I>&gt;&gt;<i> I am considering a high availability broker setup using the
</I>&gt;&gt;<i> rabbitmq-ha-test code and I wanted to check if there is someone here who
</I>&gt;&gt;<i> could help with experience/advice.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I have searched on google for a long while and I got nothing about the
</I>&gt;&gt;<i> function and setup of these code.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Is these code used for clustering or active/passive HA?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Using the rabbitmq-ha-test, there is no message to be lost when a
</I>&gt;&gt;<i> rabbitmq-node is down, is this right?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Meanwhile, what is the right way to setup these source code?
</I>&gt;&gt;<i> I am not quite familiar whit erlang, so I just download the code and don't
</I>&gt;&gt;<i> know what to do next.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any ideas or hints will be much appreciated.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Sunkai
</I>&gt;&gt;<i> Peking University
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ______________________________**_________________
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>
--0015174c4112cf65e704a93539b9
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

&lt;div&gt;Out of curiosity, does the master election occur on a per queue basis =
or is it cluster-wide?&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;From the doc: &amp;quot;In norm=
al operation, for=A0&lt;b&gt;each mirrored-queue&lt;/b&gt;, there is one=A0&lt;i&gt;master&lt;/i=
&gt;<i>=A0and several=A0&lt;i&gt;slaves&amp;quot;=A0&lt;/i&gt;seems to imply that the election is=
</I> per-queue, just trying to confirm.&lt;/div&gt;

&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Mirrored queues are great, however there is still the t=
horny issue of being limited to the throughput of the master when you&amp;#39;v=
e got one queue that has lots of messages in it.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;

If the election process operates on a per queue basis, then it would be pos=
sible to declare multiple queues to the same exchange and effectively get l=
oad balanced usage of the cluster with all the goodness of high availabilit=
y.&lt;/div&gt;

&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;br clear=3D&quot;all&quot;&gt;Mark Steele&lt;br&gt;Bering Me=
dia Inc.&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;div class=3D&quot;gmail_quote&quot;&gt;On Thu, Jul 28, 2=
011 at 6:36 AM, Rob Harrop &lt;span dir=3D&quot;ltr&quot;&gt;&amp;lt;&lt;a href=3D&quot;mailto:rob.harr=
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">op at gmail.com</A>&quot;&gt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rob.harrop at gmail.com</A>&lt;/a&gt;&amp;gt;&lt;/span&gt; wrote:&lt;br&gt;

&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex;&quot;&gt;The rabbitmq-ha-test code is simply a test =
suite to exercise the HA functions available in the default of the rabbitmq=
-server repo.&lt;br&gt;


&lt;br&gt;
To test the new HA functions you&amp;#39;ll need to clone default of rabbitmq-s=
erver from &lt;a href=3D&quot;<A HREF="http://hg.rabbitmq.com/rabbitmq-server/&quot;">http://hg.rabbitmq.com/rabbitmq-server/&quot;</A> target=3D&quot;_b=
lank&quot;&gt;<A HREF="http://hg.rabbitmq.com/&lt;u">http://hg.rabbitmq.com/&lt;u</A>&gt;&lt;/u&gt;rabbitmq-server/&lt;/a&gt;&lt;br&gt;
&lt;br&gt;
Once you&amp;#39;ve cloned the code you can build and run the broker by issuing=
 a `make run`.&lt;br&gt;
&lt;br&gt;
I&amp;#39;ve attached a copy of the docs for HA as they currently stand.&lt;br&gt;
&lt;br&gt;
Regards,&lt;br&gt;
&lt;br&gt;
Rob&lt;br&gt;
&lt;br&gt;
sunkai florence wrote:&lt;br&gt;
&lt;blockquote class=3D&quot;gmail_quote&quot; style=3D&quot;margin:0 0 0 .8ex;border-left:1p=
x #ccc solid;padding-left:1ex&quot;&gt;&lt;div&gt;&lt;div&gt;&lt;/div&gt;&lt;div class=3D&quot;h5&quot;&gt;
Hello together&lt;br&gt;
&lt;br&gt;
I heard about the rabbitmq-ha-test developed by rabitmq as an experimental =
feature and I have download the source code from github.&lt;br&gt;
I am considering a high availability broker setup using the rabbitmq-ha-tes=
t code and I wanted to check if there is someone here who could help with e=
xperience/advice.&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
I have searched on google for a long while and I got nothing about the func=
tion and setup of these code.&lt;br&gt;
&lt;br&gt;
Is these code used for clustering or active/passive HA?&lt;br&gt;
&lt;br&gt;
Using the rabbitmq-ha-test, there is no message to be lost when a rabbitmq-=
node is down, is this right?&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
Meanwhile, what is the right way to setup these source code?&lt;br&gt;
I am not quite familiar whit erlang, so I just download the code and don&amp;#3=
9;t know what to do next.&lt;br&gt;
&lt;br&gt;
Any ideas or hints will be much appreciated.&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
&lt;br&gt;
Sunkai&lt;br&gt;
Peking University&lt;br&gt;
&lt;br&gt;&lt;/div&gt;&lt;/div&gt;
______________________________&lt;u&gt;&lt;/u&gt;_________________&lt;div class=3D&quot;im&quot;&gt;&lt;br=
&gt;<i>
</I>rabbitmq-discuss mailing list&lt;br&gt;
&lt;a href=3D&quot;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&quot; target=3D&quot;_blank&quot;&gt;ra=
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bbitmq-discuss at lists.</A>&lt;u&gt;&lt;/u&gt;rabbitmq.com&lt;/a&gt;&lt;br&gt;
&lt;a href=3D&quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-dis=">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-dis=</A>
cuss&quot; target=3D&quot;_blank&quot;&gt;<A HREF="https://lists.rabbitmq.com/&lt;u">https://lists.rabbitmq.com/&lt;u</A>&gt;&lt;/u&gt;cgi-bin/mailman/l=
istinfo/&lt;u&gt;&lt;/u&gt;rabbitmq-discuss&lt;/a&gt;&lt;br&gt;
&lt;/div&gt;&lt;/blockquote&gt;
&lt;br&gt;_______________________________________________&lt;br&gt;
rabbitmq-discuss mailing list&lt;br&gt;
&lt;a href=3D&quot;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&quot;&gt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lis</A>=
ts.rabbitmq.com&lt;/a&gt;&lt;br&gt;
&lt;a href=3D&quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-dis=">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-dis=</A>
cuss&quot; target=3D&quot;_blank&quot;&gt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo=">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo=</A>
/rabbitmq-discuss&lt;/a&gt;&lt;br&gt;
&lt;br&gt;&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;

--0015174c4112cf65e704a93539b9--
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012451.html">No subject
</A></li>
	<LI>Next message: <A HREF="014681.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14238">[ date ]</a>
              <a href="thread.html#14238">[ thread ]</a>
              <a href="subject.html#14238">[ subject ]</a>
              <a href="author.html#14238">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
