<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] looks like a memory leak, 2.4.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20looks%20like%20a%20memory%20leak%2C%202.4.1&In-Reply-To=%3C4DB8A74B.9000105%40echostar.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012561.html">
   <LINK REL="Next"  HREF="012577.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] looks like a memory leak, 2.4.1</H1>
    <B>Mark Geib</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20looks%20like%20a%20memory%20leak%2C%202.4.1&In-Reply-To=%3C4DB8A74B.9000105%40echostar.com%3E"
       TITLE="[rabbitmq-discuss] looks like a memory leak, 2.4.1">mark.geib at echostar.com
       </A><BR>
    <I>Thu Apr 28 00:31:23 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012561.html">[rabbitmq-discuss] access to queue or binding arguments?
</A></li>
        <LI>Next message: <A HREF="012577.html">[rabbitmq-discuss] looks like a memory leak, 2.4.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12557">[ date ]</a>
              <a href="thread.html#12557">[ thread ]</a>
              <a href="subject.html#12557">[ subject ]</a>
              <a href="author.html#12557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

We have rabbitmq 2.4.1 on debian squeeze, erlang is R14A.

Currently we have a dozen or some queue and 2-3 exchanges with message
rates of about 500/sec to 2000/sec over all the queues. These are all
direct exchanges, but both the exchanges and queues are durable and
all publishing is persistent.

What we see is that the memory footprint of rabbitmq grows after
running for just a couple to a few hours. And eventually we get VM
alarms in the rabbitmq log. The funny thing is that we never queue up
more a 10-50 messages in any queue, usually in the single digits. So
the activity seems low, and the queue sizes are small, based on number
of messages.

We have seem this with 2.3.1 and then upgraded to 2.4.1 and see the
same thing.

With this level of usage, etc. this does not make sense. Any ideas.??

Thanks,
Mark.

- -- 
Principal Engineer
Cheyenne Software Engineering
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mark.geib at echostar.com</A> / 35-215

PGP fingerprint:6DFC 389D 9796 0188 92E5 58F5 34C5 6B47 D091 76FD
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (GNU/Linux)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org/">http://enigmail.mozdev.org/</A>

iEYEARECAAYFAk24p0sACgkQNMVrR9CRdv0kCQCfVya+xhlE6cN6MCdICPjzdWJq
kLQAnjgJQ+skYHgfirUatLLZxjjVhroc
=HBcw
-----END PGP SIGNATURE-----


</PRE>


























































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012561.html">[rabbitmq-discuss] access to queue or binding arguments?
</A></li>
	<LI>Next message: <A HREF="012577.html">[rabbitmq-discuss] looks like a memory leak, 2.4.1
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12557">[ date ]</a>
              <a href="thread.html#12557">[ thread ]</a>
              <a href="subject.html#12557">[ subject ]</a>
              <a href="author.html#12557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
