<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Performance Numbers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20Numbers&In-Reply-To=%3CBANLkTikNXHYnUme01F1t4sLzLoqQMx8WkA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012335.html">
   <LINK REL="Next"  HREF="012322.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Performance Numbers</H1>
    <B>Aaron Westendorf</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20Numbers&In-Reply-To=%3CBANLkTikNXHYnUme01F1t4sLzLoqQMx8WkA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Performance Numbers">aaron at agoragames.com
       </A><BR>
    <I>Mon Apr 11 19:43:58 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012335.html">[rabbitmq-discuss] aliveness-test issue
</A></li>
        <LI>Next message: <A HREF="012322.html">[rabbitmq-discuss] Performance Numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12321">[ date ]</a>
              <a href="thread.html#12321">[ thread ]</a>
              <a href="subject.html#12321">[ subject ]</a>
              <a href="author.html#12321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We're doing some testing on new hardware and I figured some might be
interested in these numbers.

2 cpu, 6 cores each with hyperthreading, Xeon X5650 @ 2.67GHz
132GB RAM (beam used 500MB max)
Rabbit 2.4.0 in SMP mode, default configuration (-K true -A30 -P 1048576)
1 direct exchange, 6000 queues, 6000 channels each pub-subing their own queue
48k messages/sec

It was quite remarkable to see that kind of throughput. We know that
topic exchanges, which we make use of, are slower, but we generated
these numbers to compare against the virtual hardware we are
replacing. CPU usage maxed out just below 2000%, so there's more
headroom, but not much. I've tried adding more client hosts but the
48k number seems to be the ceiling.

We'll also be moving onto legit 24 core AMD hosts in the near future.
I'll follow up with some comparison.

-Aaron


-- 
Aaron Westendorf
Senior Software Engineer
Agora Games
359 Broadway
Troy, NY 12180
Phone: 518.268.1000
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">aaron at agoragames.com</A>
www.agoragames.com
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012335.html">[rabbitmq-discuss] aliveness-test issue
</A></li>
	<LI>Next message: <A HREF="012322.html">[rabbitmq-discuss] Performance Numbers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12321">[ date ]</a>
              <a href="thread.html#12321">[ thread ]</a>
              <a href="subject.html#12321">[ subject ]</a>
              <a href="author.html#12321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
