<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Help setting you RabbitMQ and testing with	the C client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20setting%20you%20RabbitMQ%20and%20testing%20with%0A%09the%20C%20client&In-Reply-To=%3C65b3c8e0-495b-4f95-92c9-5802e6dd7ea8%40bl1g2000vbb.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012330.html">
   <LINK REL="Next"  HREF="012349.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Help setting you RabbitMQ and testing with	the C client</H1>
    <B>Valentin Bernard</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20setting%20you%20RabbitMQ%20and%20testing%20with%0A%09the%20C%20client&In-Reply-To=%3C65b3c8e0-495b-4f95-92c9-5802e6dd7ea8%40bl1g2000vbb.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Help setting you RabbitMQ and testing with	the C client">vbernard42 at gmail.com
       </A><BR>
    <I>Tue Apr 12 14:07:27 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012330.html">[rabbitmq-discuss] Help setting you RabbitMQ and testing with the C	client
</A></li>
        <LI>Next message: <A HREF="012349.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12337">[ date ]</a>
              <a href="thread.html#12337">[ thread ]</a>
              <a href="subject.html#12337">[ subject ]</a>
              <a href="author.html#12337">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This tutorial, especially the part about exchanges, should answer most
of your questions: <A HREF="http://www.rabbitmq.com/tutorials/tutorial-three-java.html">http://www.rabbitmq.com/tutorials/tutorial-three-java.html</A>

The default (or nameless) exchange is special. The broker
automatically declares a binding for every queue on the server with
the binding key identical to the queue name. You don't have to (and,
apparently, you can't) do it yourself.

Regards,

Valentin.

On 12 avr, 11:32, bruce bushby &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bruce.bus... at gmail.com</A>&gt; wrote:
&gt;<i> Hello
</I>&gt;<i>
</I>&gt;<i> I'm looking for some help setting up rabbitmq-server.
</I>&gt;<i>
</I>&gt;<i> Rabbit server installed:
</I>&gt;<i> rabbitmq-server-2.2.0-1.fc14.noarch
</I>&gt;<i>
</I>&gt;<i> C-Client installed:
</I>&gt;<i> /usr/local/bin/amqp-delete-queue
</I>&gt;<i> /usr/local/bin/amqp-get
</I>&gt;<i> /usr/local/bin/amqp-declare-queue
</I>&gt;<i> /usr/local/bin/amqp-publish
</I>&gt;<i> /usr/local/bin/amqp-consume
</I>&gt;<i>
</I>&gt;<i> I then went on to configure the server...
</I>&gt;<i>
</I>&gt;<i> Create vhost:
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]# rabbitmqctl add_vhost testvhost
</I>&gt;<i> Creating vhost &quot;testvhost&quot; ...
</I>&gt;<i> ...done.
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i>
</I>&gt;<i> Create user:
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i> rabbitmqctl add_user testuser testuser123
</I>&gt;<i> Creating user &quot;testuser&quot; ...
</I>&gt;<i> ...done.
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i>
</I>&gt;<i> Set user permissions:
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]# rabbitmqctl set_permissions -p testvhost testuser
</I>&gt;<i> &quot;.*&quot; &quot;.*&quot; &quot;.*&quot;
</I>&gt;<i> Setting permissions for user &quot;testuser&quot; in vhost &quot;testvhost&quot; ...
</I>&gt;<i> ...done.
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i>
</I>&gt;<i> Declare a queue:
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]# /usr/local/bin/amqp-declare-queue
</I>&gt;<i> --server=&quot;plxweb01&quot; --vhost=&quot;testvhost&quot; --username=&quot;testuser&quot;
</I>&gt;<i> --password=&quot;testuser123&quot; --queue=&quot;testqueue&quot;
</I>&gt;<i> testqueue
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i>
</I>&gt;<i> I don't understand the concept of an exchange, I thought there were three
</I>&gt;<i> types (direct,fanout &amp; topic) ......but how do I specify the exchange? Do I
</I>&gt;<i> need to create/associate an exchange?
</I>&gt;<i>
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]# /usr/local/bin/amqp-publish --server=&quot;plxweb01&quot;
</I>&gt;<i> --vhost=&quot;testvhost&quot; --username=&quot;testuser&quot; --password=&quot;testuser123&quot;
</I>&gt;<i> --exchange=&quot;direct&quot; --body=&quot;test message&quot;
</I>&gt;<i> closing channel: server channel error 404, message: NOT_FOUND - no exchange
</I>&gt;<i> 'direct' in vhost 'testvhost'
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i>
</I>&gt;<i> It looks like I can publish something by specifying an empty string for
</I>&gt;<i> exchange:
</I>&gt;<i>
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]# /usr/local/bin/amqp-publish --server=&quot;plxweb01&quot;
</I>&gt;<i> --vhost=&quot;testvhost&quot; --username=&quot;testuser&quot; --password=&quot;testuser123&quot;
</I>&gt;<i> --exchange=&quot;&quot; --body=&quot;test message&quot;
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i>
</I>&gt;<i> But I can't read from the &quot;default exchange&quot;:
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]# /usr/local/bin/amqp-consume &#160;--server=&quot;plxweb01&quot;
</I>&gt;<i> --vhost=&quot;testvhost&quot; --username=&quot;testuser&quot; --password=&quot;testuser123&quot;
</I>&gt;<i> --exchange=&quot;&quot; cat
</I>&gt;<i> Server provided queue name: amq.gen-+griWnCcj8DyRPBHX5eiDQ==
</I>&gt;<i> queue.bind: server channel error 403, message: ACCESS_REFUSED - operation
</I>&gt;<i> not permitted on the default exchange
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at plxweb01</A> rabbitmq]#
</I>&gt;<i>
</I>&gt;<i> Any help would be much appreciated!!!
</I>&gt;<i>
</I>&gt;<i> Thanks
</I>&gt;<i> Bruce
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-disc... at lists.rabbitmq.comhttps</A>://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss
</I></PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012330.html">[rabbitmq-discuss] Help setting you RabbitMQ and testing with the C	client
</A></li>
	<LI>Next message: <A HREF="012349.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12337">[ date ]</a>
              <a href="thread.html#12337">[ thread ]</a>
              <a href="subject.html#12337">[ subject ]</a>
              <a href="author.html#12337">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
