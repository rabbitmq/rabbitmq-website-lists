<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] errors from management plugin appear to stop	messages delivery
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20errors%20from%20management%20plugin%20appear%20to%20stop%0A%09messages%20delivery&In-Reply-To=%3CDAD0D2AF-547A-4FE6-8A8C-70589EBA6B09%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012433.html">
   <LINK REL="Next"  HREF="012353.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] errors from management plugin appear to stop	messages delivery</H1>
    <B>Ian Ragsdale</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20errors%20from%20management%20plugin%20appear%20to%20stop%0A%09messages%20delivery&In-Reply-To=%3CDAD0D2AF-547A-4FE6-8A8C-70589EBA6B09%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] errors from management plugin appear to stop	messages delivery">ian.ragsdale at gmail.com
       </A><BR>
    <I>Tue Apr 12 20:39:06 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012433.html">[rabbitmq-discuss] Reference error	in	rabbitmq	management	plug-in
</A></li>
        <LI>Next message: <A HREF="012353.html">[rabbitmq-discuss] errors from management plugin appear to stop messages delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12352">[ date ]</a>
              <a href="thread.html#12352">[ thread ]</a>
              <a href="subject.html#12352">[ subject ]</a>
              <a href="author.html#12352">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all.  I've been having some real trouble since upgrading to RabbitMQ 2.4.x with the management plugin (I tried both 2.4.0 and 2.4.1).  On a fairly regular basis (more than once per day), a request to the management plugin will fail with the following error (truncated, the full error is over 2MB, and is attached as a file):

=ERROR REPORT==== 12-Apr-2011::13:58:31 ===
JSON encode error: {bad_term,{messages,0}}
While encoding:
[[{memory,12864},
  {messages,0},
  {consumer_details,

Once this has happened, the server starts failing to function - existing messages appear to no longer be delivered, and pushes of new messages fail.  The only recourse I know of is to restart.  We use the management plugin to query the size of queues to make sure we're keeping up with delivery, so it's hard for me to just turn it off.  Are there any suggestions for how to debug or work around this?

Thanks,
Ian


-------------- next part --------------
A non-text attachment was scrubbed...
Name: error1.txt.zip
Type: application/zip
Size: 333895 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110412/dc51559a/attachment-0001.zip">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110412/dc51559a/attachment-0001.zip</A>&gt;
</PRE>









































































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012433.html">[rabbitmq-discuss] Reference error	in	rabbitmq	management	plug-in
</A></li>
	<LI>Next message: <A HREF="012353.html">[rabbitmq-discuss] errors from management plugin appear to stop messages delivery
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12352">[ date ]</a>
              <a href="thread.html#12352">[ thread ]</a>
              <a href="subject.html#12352">[ subject ]</a>
              <a href="author.html#12352">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
