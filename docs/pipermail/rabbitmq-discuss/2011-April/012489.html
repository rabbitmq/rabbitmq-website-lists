<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Is there a way to get all the queues for a channel ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Is%20there%20a%20way%20to%20get%20all%20the%20queues%20for%20a%0A%20channel%20%3F&In-Reply-To=%3C6965EACC010C4A8DAB4B9B534D1B03F2%40myyearbook.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012488.html">
   <LINK REL="Next"  HREF="012492.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Is there a way to get all the queues for a channel ?</H1>
    <B>Gavin M. Roy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Is%20there%20a%20way%20to%20get%20all%20the%20queues%20for%20a%0A%20channel%20%3F&In-Reply-To=%3C6965EACC010C4A8DAB4B9B534D1B03F2%40myyearbook.com%3E"
       TITLE="[rabbitmq-discuss] Is there a way to get all the queues for a channel ?">gmr at myyearbook.com
       </A><BR>
    <I>Wed Apr 20 17:22:40 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012488.html">[rabbitmq-discuss] Is there a way to get all the queues for a	channel ?
</A></li>
        <LI>Next message: <A HREF="012492.html">[rabbitmq-discuss] RabbitMQ 2.3.1 high CPU usage &amp; disks operations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12489">[ date ]</a>
              <a href="thread.html#12489">[ thread ]</a>
              <a href="subject.html#12489">[ subject ]</a>
              <a href="author.html#12489">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday, April 20, 2011 at 12:08 PM, mysurf mail wrote:
can I get all the queues for a single channel ?
&gt;<i> 
</I>&gt;<i> 
</I>

There is no construct in AMQP to fetch this information from the server, your client library may be able to return this to you. 

You could, if you know your connection data (ip address, connection port, channel number, etc) fetch this from the Management Plugin API. 

Where localhost is your RabbitMQ broker, <A HREF="http://localhost:55672/api/channels/">http://localhost:55672/api/channels/</A> will list all channels and data about them. 

In addition you can query a specific channel like:

<A HREF="http://localhost:55672/api/channels/192.168.1.1:32211:1">http://localhost:55672/api/channels/192.168.1.1:32211:1</A>

Which will return the data in JSON format such as:

&gt;<i> {
</I>&gt;<i> &quot;connection_details&quot;: {
</I>&gt;<i> &quot;name&quot;: &quot;192.168.1.1:32211&quot;,
</I>&gt;<i> &quot;peer_address&quot;: &quot;192.168.1.1&quot;,
</I>&gt;<i> &quot;peer_port&quot;: 32211
</I>&gt;<i> },
</I>&gt;<i> &quot;deliveries&quot;: [{
</I>&gt;<i> &quot;stats&quot;: {
</I>&gt;<i> &quot;deliver_get&quot;: 70248,
</I>&gt;<i> &quot;deliver_get_details&quot;: {
</I>&gt;<i> &quot;rate&quot;: 0.994233050613223,
</I>&gt;<i> &quot;last_event&quot;: 1303316165124
</I>&gt;<i> },
</I>&gt;<i> &quot;deliver_no_ack&quot;: 70248,
</I>&gt;<i> &quot;deliver_no_ack_details&quot;: {
</I>&gt;<i> &quot;rate&quot;: 0.994233050613223,
</I>&gt;<i> &quot;last_event&quot;: 1303316165124
</I>&gt;<i> }
</I>&gt;<i> },
</I>&gt;<i> &quot;queue_details&quot;: {
</I>&gt;<i> &quot;name&quot;: &quot;foo&quot;,
</I>&gt;<i> &quot;vhost&quot;: &quot;/&quot;
</I>&gt;<i> },
</I>&gt;<i> &quot;queue&quot;: &quot;&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit07.3.4431.0</A>&gt;&quot;
</I>&gt;<i> }],
</I>&gt;<i> &quot;message_stats&quot;: {
</I>&gt;<i> &quot;deliver_get&quot;: 70248,
</I>&gt;<i> &quot;deliver_get_details&quot;: {
</I>&gt;<i> &quot;rate&quot;: 0.994233050613223,
</I>&gt;<i> &quot;last_event&quot;: 1303316165124
</I>&gt;<i> },
</I>&gt;<i> &quot;deliver_no_ack&quot;: 70248,
</I>&gt;<i> &quot;deliver_no_ack_details&quot;: {
</I>&gt;<i> &quot;rate&quot;: 0.994233050613223,
</I>&gt;<i> &quot;last_event&quot;: 1303316165124
</I>&gt;<i> }
</I>&gt;<i> },
</I>&gt;<i> &quot;consumer_details&quot;: [{
</I>&gt;<i> ...ommitted for message length...
</I>&gt;<i> }],
</I>&gt;<i> &quot;transactional&quot;: false,
</I>&gt;<i> &quot;confirm&quot;: false,
</I>&gt;<i> &quot;consumer_count&quot;: 1,
</I>&gt;<i> &quot;messages_unacknowledged&quot;: 0,
</I>&gt;<i> &quot;messages_unconfirmed&quot;: 0,
</I>&gt;<i> &quot;acks_uncommitted&quot;: 0,
</I>&gt;<i> &quot;prefetch_count&quot;: 0,
</I>&gt;<i> &quot;client_flow_blocked&quot;: false,
</I>&gt;<i> &quot;name&quot;: &quot;10.100.20.44:32211:1&quot;,
</I>&gt;<i> &quot;pid&quot;: &quot;&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit07.3.23178.1</A>&gt;&quot;,
</I>&gt;<i> &quot;node&quot;: &quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit07</A>&quot;,
</I>&gt;<i> &quot;connection&quot;: &quot;&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit07.3.23175.1</A>&gt;&quot;,
</I>&gt;<i> &quot;number&quot;: 1,
</I>&gt;<i> &quot;user&quot;: &quot;guest&quot;,
</I>&gt;<i> &quot;vhost&quot;: &quot;/&quot;
</I>&gt;<i> }
</I>


Hope this helps,

Gavin 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110420/1627044f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110420/1627044f/attachment.htm</A>&gt;
</PRE>






















































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012488.html">[rabbitmq-discuss] Is there a way to get all the queues for a	channel ?
</A></li>
	<LI>Next message: <A HREF="012492.html">[rabbitmq-discuss] RabbitMQ 2.3.1 high CPU usage &amp; disks operations
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12489">[ date ]</a>
              <a href="thread.html#12489">[ thread ]</a>
              <a href="subject.html#12489">[ subject ]</a>
              <a href="author.html#12489">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
