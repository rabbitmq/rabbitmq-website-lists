<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message Aggregating Queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20Aggregating%20Queue&In-Reply-To=%3CBANLkTi%3D9v6RO1D3%3DVWD06pDwpu09kzzPcw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012606.html">
   <LINK REL="Next"  HREF="012609.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message Aggregating Queue</H1>
    <B>Jason Zaugg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20Aggregating%20Queue&In-Reply-To=%3CBANLkTi%3D9v6RO1D3%3DVWD06pDwpu09kzzPcw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Message Aggregating Queue">jzaugg at gmail.com
       </A><BR>
    <I>Thu Apr 28 15:18:22 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012606.html">[rabbitmq-discuss] Message Aggregating Queue
</A></li>
        <LI>Next message: <A HREF="012609.html">[rabbitmq-discuss] Message Aggregating Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12608">[ date ]</a>
              <a href="thread.html#12608">[ thread ]</a>
              <a href="subject.html#12608">[ subject ]</a>
              <a href="author.html#12608">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Apr 28, 2011 at 3:44 PM, Irmo Manie &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">irmo.manie at gmail.com</A>&gt; wrote:
&gt;<i> The problem is actually a bit more tricky than this. When it comes to
</I>&gt;<i> market data you would route all the data to a client specific
</I>&gt;<i> exclusive queue based on a subscription because every client has its
</I>&gt;<i> own authorization, authentication and quality of service. (real-time,
</I>&gt;<i> delayed, only eu stocks, tick by tick, tick only every minute, etc,
</I>&gt;<i> etc).
</I>
But each client specific queue could implement the 'obsolete tick'
discarding in the broker, right?

&gt;<i> So the easy way is still just to have the consumer do the filtering
</I>&gt;<i> itself by storing all messages in a key value store and empty this
</I>&gt;<i> based on a ordered queue of ids to process.
</I>&gt;<i> That way the consumer can 'consume' as fast as it can put the values
</I>&gt;<i> in the K/V store which probably always is fast enough :-)
</I>
I would feel more comfortable knowing that the number of messages in
the broker is naturally bounded, even if the consumer misbehaves. It
would also be nice to have the possibility to have a pool of consumers
processing from a single queue, be able to restart the consumers
without losing unprocessed messages etc. Anyway, we should discuss
this some more internally; as always these sort of cats are amenable
to being skinned in multitude of ways :)

&gt;<i> Only if you can process the data (ticks) independently from each other
</I>&gt;<i> it makes sense to have this filtering on the broker because then it
</I>&gt;<i> would be useful for a cluster of consumers apps processing the data.
</I>&gt;<i> But 9 out of 10 times you need the ticks of more than one instrument
</I>&gt;<i> to do your business logic so you'd already keep a cache with the last
</I>&gt;<i> values anyway.
</I>
&gt;<i> Still there could be other usecases of course where having this
</I>&gt;<i> functionality at the broker can be really useful and powerful.
</I>
&gt;<i> /2cents
</I>
And well worth both of them :)

-jason
</PRE>







































































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012606.html">[rabbitmq-discuss] Message Aggregating Queue
</A></li>
	<LI>Next message: <A HREF="012609.html">[rabbitmq-discuss] Message Aggregating Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12608">[ date ]</a>
              <a href="thread.html#12608">[ thread ]</a>
              <a href="subject.html#12608">[ subject ]</a>
              <a href="author.html#12608">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
