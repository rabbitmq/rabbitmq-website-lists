<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Transactions &amp; Routing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Transactions%20%26%20Routing&In-Reply-To=%3CBANLkTi%3D1%2BQ5j6A25_idWeQzn1h1bO6S-2w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012285.html">
   <LINK REL="Next"  HREF="012287.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Transactions &amp; Routing</H1>
    <B>Jason J. W. Williams</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Transactions%20%26%20Routing&In-Reply-To=%3CBANLkTi%3D1%2BQ5j6A25_idWeQzn1h1bO6S-2w%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Transactions &amp; Routing">jasonjwwilliams at gmail.com
       </A><BR>
    <I>Wed Apr  6 22:47:22 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="012285.html">[rabbitmq-discuss] Transactions &amp; Routing
</A></li>
        <LI>Next message: <A HREF="012287.html">[rabbitmq-discuss] Transactions &amp; Routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12286">[ date ]</a>
              <a href="thread.html#12286">[ thread ]</a>
              <a href="subject.html#12286">[ subject ]</a>
              <a href="author.html#12286">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthias,


&gt;<i> Could you describe what problem you are trying to solve?
</I>
The desire is generally for durable messages to survive a broker
crash. For that to happen Rabbit has to persist the message to disk.
Since publishes return no status, that leaves ambiguity as to whether
a durable message has been persisted to disk should  a broker crash
occur directly after publishing. My understanding with transactions
were that they were how to confirm that Rabbit had the message in
custody safely. Should a broker crash occur before the transaction
returned a success, you knew you should republish. However, if the
crash occurred after the transaction returned success then you could
trust that Rabbit had persisted it to disk and move on to the next
message.

Since I now understand that inside of Rabbit and exchange is not
router but simply a routing table, the fact that the exchange is
durable makes no guarantees a durable message in the middle of being
routed will survive a broker crash. The only place it will be
persisted is the queue, so the guarantee I think people are looking
for with a transaction is that the durable message has made it far
enough into Rabbit's custody to be persisted to disk.

Does that help?

-J
</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012285.html">[rabbitmq-discuss] Transactions &amp; Routing
</A></li>
	<LI>Next message: <A HREF="012287.html">[rabbitmq-discuss] Transactions &amp; Routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12286">[ date ]</a>
              <a href="thread.html#12286">[ thread ]</a>
              <a href="subject.html#12286">[ subject ]</a>
              <a href="author.html#12286">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
