<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.19.1316095419.2895.rabbitmq-discuss%40lists.rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015067.html">
   <LINK REL="Next"  HREF="012541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.19.1316095419.2895.rabbitmq-discuss%40lists.rabbitmq.com%3E"
       TITLE="No subject">
       </A><BR>
    <I>Tue Apr 12 10:32:41 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015067.html">No subject
</A></li>
        <LI>Next message: <A HREF="012541.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15103">[ date ]</a>
              <a href="thread.html#15103">[ thread ]</a>
              <a href="subject.html#15103">[ subject ]</a>
              <a href="author.html#15103">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>erlang$target:::function-entry
/self-&gt;traceIt/
{
//do something here
}

and so on.

You can run the gist like: sudo dtrace -s route.d -p `pgrep beam.smp`

The examples are really basic but I think they illustrate the point. With
that Erlang branch you could enable more granular probes than with the usua=
l
pid provider or dtruss.

BTW, this works on Mac and Solaris. AFAIK on Linux some Kernel modules are
required.

Cheers,

Alvaro

--20cf30563e3bcab9b904acfb56f4
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: quoted-printable

&lt;a href=3D&quot;<A HREF="https://twitter.com/hylomorphism/status/114000680875851776&quot;">https://twitter.com/hylomorphism/status/114000680875851776&quot;</A>&gt;&lt;/a&gt;=
&lt;a href=3D&quot;<A HREF="https://twitter.com/hylomorphism/status/114000680875851776&quot;">https://twitter.com/hylomorphism/status/114000680875851776&quot;</A>&gt;&lt;/a&gt;=
&lt;a href=3D&quot;<A HREF="https://twitter.com/hylomorphism/status/114000680875851776&quot;">https://twitter.com/hylomorphism/status/114000680875851776&quot;</A>&gt;&lt;/a&gt;=
&lt;a href=3D&quot;<A HREF="https://twitter.com/hylomorphism/status/114000680875851776&quot;">https://twitter.com/hylomorphism/status/114000680875851776&quot;</A>&gt;&lt;/a&gt;=
&lt;a href=3D&quot;<A HREF="https://twitter.com/hylomorphism/status/114000680875851776&quot;">https://twitter.com/hylomorphism/status/114000680875851776&quot;</A>&gt;&lt;/a&gt;=
&lt;div&gt;
Hi,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I saw Matthew tweeting &amp;quot;Oh RabbitMQ, why =
are you taking over an hour to recover 100k queues? What /are/ you doing?!&amp;=
quot;=A0&lt;a href=3D&quot;<A HREF="https://twitter.com/hylomorphism/status/1140006808758517=">https://twitter.com/hylomorphism/status/1140006808758517=</A>
76&quot;&gt;<A HREF="https://twitter.com/hylomorphism/status/114000680875851776&lt;/a">https://twitter.com/hylomorphism/status/114000680875851776&lt;/a</A>&gt;=A0&lt;/div&gt;
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;I&amp;#39;ve been doing some stuff at work with DTrace and =
I think is pretty cool when it comes to find out what a process is actually=
 doing.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;At the same time there&amp;#39;s an experiment=
al OTP fork on Github that adds Dtrace probes to Erlang:=A0&lt;a href=3D&quot;https=
:<i>//github.com/dustin/otp/wiki/DTrace&quot;&gt;<A HREF="https://github.com/dustin/otp/wiki/DT=">https://github.com/dustin/otp/wiki/DT=</A>
</I>race&lt;/a&gt;&lt;/div&gt;
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;See here for the available probes:=A0&lt;a href=3D&quot;https:/=
/github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&quot;&gt;http=
<A HREF="s://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&lt;/a=">s://github.com/dustin/otp/blob/dtrace/erts/emulator/beam/erlang_dtrace.d&lt;/a=</A>
&gt;<i>&lt;/div&gt;
</I>&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;So for example running RabbitMQ based on that Erlang br=
anch you could do things like in this gist:=A0&lt;a href=3D&quot;<A HREF="https://gist.githu=">https://gist.githu=</A>
b.com/1219266&quot;&gt;<A HREF="https://gist.github.com/1219266&lt;/a">https://gist.github.com/1219266&lt;/a</A>&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div=
&gt;<i>
</I>&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-family: helvetica, arial, fr=
eesans, clean, sans-serif; font-size: 11px; line-height: 14px; &quot;&gt;&lt;pre style=
=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0p=
x; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left:=
 0px; font: normal normal normal 12px/normal Monaco, &amp;#39;Courier New&amp;#39;,=
 &amp;#39;DejaVu Sans Mono&amp;#39;, &amp;#39;Bitstream Vera Sans Mono&amp;#39;, monospace;=
 line-height: 1.4em; font-family: &amp;#39;Bitstream Vera Sans Mono&amp;#39;, Couri=
er, monospace; &quot;&gt;
&lt;div class=3D&quot;line&quot; id=3D&quot;LC1&quot; style=3D&quot;margin-top: 0px; margin-right: 0px;=
 margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px=
; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; &quot;&gt;&lt;span class=
=3D&quot;n&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; mar=
gin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; p=
adding-left: 0px; line-height: 1.4em; &quot;&gt;erlang&lt;/span&gt;&lt;span class=3D&quot;p&quot; styl=
e=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0=
px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left=
:<i> 0px; line-height: 1.4em; &quot;&gt;$&lt;/span&gt;&lt;span class=3D&quot;n&quot; style=3D&quot;margin-top:=
</I> 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top:=
 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-heig=
ht: 1.4em; &quot;&gt;target&lt;/span&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margi=
n-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; paddi=
ng-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; =
&quot;&gt;:::&lt;/span&gt;&lt;span class=3D&quot;k&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; =
margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px;=
 padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; font-weight: b=
old; &quot;&gt;function&lt;/span&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-ri=
ght: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-r=
ight: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;-&lt;=
/span&gt;&lt;span class=3D&quot;n&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin=
-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; paddi=
ng-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;entry&lt;/span&gt;&lt;/div&gt;
&lt;div class=3D&quot;line&quot; id=3D&quot;LC2&quot; style=3D&quot;margin-top: 0px; margin-right: 0px;=
 margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px=
; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; &quot;&gt;&lt;span class=
=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; mar=
gin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; p=
adding-left: 0px; line-height: 1.4em; &quot;&gt;/&lt;/span&gt;&lt;span class=3D&quot;n&quot; style=3D&quot;=
margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; p=
adding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px=
; line-height: 1.4em; &quot;&gt;copyinstr&lt;/span&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-t=
op: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-t=
op: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-h=
eight: 1.4em; &quot;&gt;(&lt;/span&gt;&lt;span class=3D&quot;n&quot; style=3D&quot;margin-top: 0px; margin-=
right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding=
-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;=
arg1&lt;/span&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; m=
argin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; =
padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;)&lt;/span&gt; &lt;spa=
n class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0=
px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom:=
 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;=3D=3D&lt;/span&gt; &lt;span class=3D=
&quot;s&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin=
-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padd=
ing-left: 0px; line-height: 1.4em; color: rgb(221, 17, 68); &quot;&gt;&amp;quot;rabbit_=
exchange_type_direct:route/2&amp;quot;&lt;/span&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-=
top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-=
top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-=
height: 1.4em; &quot;&gt;/&lt;/span&gt;&lt;/div&gt;
&lt;div class=3D&quot;line&quot; id=3D&quot;LC3&quot; style=3D&quot;margin-top: 0px; margin-right: 0px;=
 margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px=
; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; &quot;&gt;&lt;span class=
=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; mar=
gin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; p=
adding-left: 0px; line-height: 1.4em; &quot;&gt;{&lt;/span&gt;&lt;/div&gt;
&lt;div class=3D&quot;line&quot; id=3D&quot;LC4&quot; style=3D&quot;margin-top: 0px; margin-right: 0px;=
 margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px=
; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; &quot;&gt;=A0=A0=A0=
=A0&lt;span class=3D&quot;n&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bo=
ttom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-=
bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;printf&lt;/span&gt;&lt;span cl=
ass=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; =
margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px=
; padding-left: 0px; line-height: 1.4em; &quot;&gt;(&lt;/span&gt;&lt;span class=3D&quot;s&quot; style=
=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0p=
x; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left:=
 0px; line-height: 1.4em; color: rgb(221, 17, 68); &quot;&gt;&amp;quot;%s %s&amp;quot;&lt;/spa=
n&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bot=
tom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-b=
ottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;,&lt;/span&gt; &lt;span class=
=3D&quot;n&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; mar=
gin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; p=
adding-left: 0px; line-height: 1.4em; &quot;&gt;probemod&lt;/span&gt;&lt;span class=3D&quot;p&quot; st=
yle=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left:=
 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-le=
ft: 0px; line-height: 1.4em; &quot;&gt;,&lt;/span&gt; &lt;span class=3D&quot;n&quot; style=3D&quot;margin-t=
op: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-t=
op: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-h=
eight: 1.4em; &quot;&gt;probefunc&lt;/span&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px;=
 margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px;=
 padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1=
.4em; &quot;&gt;);&lt;/span&gt;&lt;/div&gt;
&lt;div class=3D&quot;line&quot; id=3D&quot;LC5&quot; style=3D&quot;margin-top: 0px; margin-right: 0px;=
 margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px=
; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; &quot;&gt;=A0=A0=A0=
=A0&lt;span class=3D&quot;n&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bo=
ttom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-=
bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;self&lt;/span&gt;&lt;span clas=
s=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; ma=
rgin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; =
padding-left: 0px; line-height: 1.4em; &quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=3D&quot;n&quot; styl=
e=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0=
px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left=
:<i> 0px; line-height: 1.4em; &quot;&gt;traceIt&lt;/span&gt; &lt;span class=3D&quot;p&quot; style=3D&quot;marg=
</I>in-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; paddi=
ng-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; li=
ne-height: 1.4em; &quot;&gt;=3D&lt;/span&gt; &lt;span class=3D&quot;mi&quot; style=3D&quot;margin-top: 0px;=
 margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px;=
 padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1=
.4em; color: rgb(0, 153, 153); &quot;&gt;1&lt;/span&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-=
top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-=
top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-=
height: 1.4em; &quot;&gt;;&lt;/span&gt;&lt;/div&gt;
&lt;div class=3D&quot;line&quot; id=3D&quot;LC6&quot; style=3D&quot;margin-top: 0px; margin-right: 0px;=
 margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px=
; padding-bottom: 0px; padding-left: 1em; line-height: 1.4em; &quot;&gt;&lt;span class=
=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; mar=
gin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; p=
adding-left: 0px; line-height: 1.4em; &quot;&gt;}&lt;/span&gt;&lt;/div&gt;
&lt;/pre&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;There I enable the flag traceIt only=
 when route/2 is called on the direct exchange.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Fr=
om there is just a matter of adding probes to different syscalls or io acce=
ss etc based using patterns on that flag like:&lt;/div&gt;
&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-family: &amp;#39;Bitstream =
Vera Sans Mono&amp;#39;, Courier, monospace; font-size: 12px; line-height: 16px=
; white-space: pre; &quot;&gt;&lt;span class=3D&quot;n&quot; style=3D&quot;margin-top: 0px; margin-ri=
ght: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-r=
ight: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;&lt;b=
r&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-fam=
ily: &amp;#39;Bitstream Vera Sans Mono&amp;#39;, Courier, monospace; font-size: 12p=
x; line-height: 16px; white-space: pre; &quot;&gt;&lt;span class=3D&quot;n&quot; style=3D&quot;margin=
-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding=
-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line=
-height: 1.4em; &quot;&gt;erlang&lt;/span&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; =
margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; =
padding-right: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1.=
4em; &quot;&gt;$&lt;/span&gt;&lt;span class=3D&quot;n&quot; style=3D&quot;margin-top: 0px; margin-right: 0p=
x; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0=
px; padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;target&lt;/s=
pan&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-b=
ottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding=
-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;:::&lt;/span&gt;&lt;span clas=
s=3D&quot;k&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; ma=
rgin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; =
padding-left: 0px; line-height: 1.4em; font-weight: bold; &quot;&gt;function&lt;/span&gt;=
&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-botto=
m: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bot=
tom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;-&lt;/span&gt;&lt;span class=3D&quot;n=
&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-l=
eft: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; paddin=
g-left: 0px; line-height: 1.4em; &quot;&gt;entry&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-family: &amp;#39;Bitstream =
Vera Sans Mono&amp;#39;, Courier, monospace; font-size: 12px; line-height: 16px=
; white-space: pre; &quot;&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-ri=
ght: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-r=
ight: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;/&lt;=
/span&gt;&lt;span class=3D&quot;n&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin=
-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; paddi=
ng-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;self&lt;/span&gt;&lt;span c=
lass=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px;=
 margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0p=
x; padding-left: 0px; line-height: 1.4em; &quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=3D&quot;n&quot; s=
tyle=3D&quot;margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left=
:<i> 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-l=
</I>eft: 0px; line-height: 1.4em; &quot;&gt;traceIt&lt;/span&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;ma=
rgin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; pad=
ding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; =
line-height: 1.4em; &quot;&gt;/&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-family: &amp;#39;Bitstream =
Vera Sans Mono&amp;#39;, Courier, monospace; font-size: 12px; line-height: 16px=
; white-space: pre; &quot;&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-ri=
ght: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-r=
ight: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;{&lt;=
/span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-family: &amp;#39;Bitstream =
Vera Sans Mono&amp;#39;, Courier, monospace; font-size: 12px; line-height: 16px=
; white-space: pre; &quot;&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-ri=
ght: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-r=
ight: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt; /=
/do something here&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;font-family: &amp;#39;Bitstream =
Vera Sans Mono&amp;#39;, Courier, monospace; font-size: 12px; line-height: 16px=
; white-space: pre; &quot;&gt;&lt;span class=3D&quot;p&quot; style=3D&quot;margin-top: 0px; margin-ri=
ght: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-r=
ight: 0px; padding-bottom: 0px; padding-left: 0px; line-height: 1.4em; &quot;&gt;}&lt;=
/span&gt;&lt;/span&gt;&lt;/div&gt;
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;and so on.=A0&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;You can run the =
gist like:=A0&lt;span class=3D&quot;Apple-style-span&quot; style=3D&quot;color: rgb(51, 51, 5=
1); font-family: helvetica, arial, freesans, clean, sans-serif; font-size: =
12px; line-height: 18px; &quot;&gt;sudo dtrace -s route.d -p `pgrep beam.smp`&lt;/span=
&gt;<i>&lt;/div&gt;
</I>&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;The examples are really basic but I think they illustra=
te the point. With that Erlang branch you could enable more granular probes=
 than with the usual pid provider or dtruss.&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;BTW, =
this works on Mac and Solaris. AFAIK on Linux some Kernel modules are requi=
red.&lt;/div&gt;
&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Cheers,&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;Alvaro&lt;/div&gt;

--20cf30563e3bcab9b904acfb56f4--
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015067.html">No subject
</A></li>
	<LI>Next message: <A HREF="012541.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15103">[ date ]</a>
              <a href="thread.html#15103">[ thread ]</a>
              <a href="subject.html#15103">[ subject ]</a>
              <a href="author.html#15103">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
