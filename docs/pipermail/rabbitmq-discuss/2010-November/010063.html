<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message stalls in the queue for long time
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20stalls%20in%20the%20queue%20for%20long%20time&In-Reply-To=%3CAANLkTinMNUurHCV6yhP3-E1je3edjB0pQP-eskcLNYfv%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010062.html">
   <LINK REL="Next"  HREF="010069.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message stalls in the queue for long time</H1>
    <B>Peter Ledbrook</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20stalls%20in%20the%20queue%20for%20long%20time&In-Reply-To=%3CAANLkTinMNUurHCV6yhP3-E1je3edjB0pQP-eskcLNYfv%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Message stalls in the queue for long time">peter at cacoethes.co.uk
       </A><BR>
    <I>Tue Nov 23 12:04:41 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010062.html">[rabbitmq-discuss] Message stalls in the queue for long time
</A></li>
        <LI>Next message: <A HREF="010069.html">[rabbitmq-discuss] GitHub and AMQP/RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10063">[ date ]</a>
              <a href="thread.html#10063">[ thread ]</a>
              <a href="subject.html#10063">[ subject ]</a>
              <a href="author.html#10063">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Thanks for your reply, Now we idenitified a exception which occurred while updating the message in database. StaleObjectStateException, because we are using Hibernate. After this exception occurs the listener failed to acknowledge the message,(So we think this reason makes that message to remain in the queue) Is it right?
</I>
This is easy to check: wrap the code in handleMessage() in a try/catch
block. If the messages are no longer left on the server, then that's
the problem. The exact behaviour will depend on Spring AMQP and how
it's MessageListenerContainer handles exceptions. Something to look
into.

Peter

--
Peter Ledbrook
Grails Advocate
SpringSource - A Division of VMware
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010062.html">[rabbitmq-discuss] Message stalls in the queue for long time
</A></li>
	<LI>Next message: <A HREF="010069.html">[rabbitmq-discuss] GitHub and AMQP/RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10063">[ date ]</a>
              <a href="thread.html#10063">[ thread ]</a>
              <a href="subject.html#10063">[ subject ]</a>
              <a href="author.html#10063">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
