<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Java Client not able to create channel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20Client%20not%20able%20to%20create%20channel&In-Reply-To=%3C4CEE4F04.7080005%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010091.html">
   <LINK REL="Next"  HREF="010093.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Java Client not able to create channel</H1>
    <B>Abhishek Kona</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20Client%20not%20able%20to%20create%20channel&In-Reply-To=%3C4CEE4F04.7080005%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] Java Client not able to create channel">abhishek.kona at gmail.com
       </A><BR>
    <I>Thu Nov 25 11:56:52 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010091.html">[rabbitmq-discuss] Java Client not able to create channel
</A></li>
        <LI>Next message: <A HREF="010093.html">[rabbitmq-discuss] Java Client not able to create channel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10092">[ date ]</a>
              <a href="thread.html#10092">[ thread ]</a>
              <a href="subject.html#10092">[ subject ]</a>
              <a href="author.html#10092">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/11/10 11:57 AM, Abhishek Kona wrote:
&gt;<i> On 24/11/10 5:50 PM, Abhishek Kona wrote:
</I>&gt;&gt;<i> On 24/11/10 5:28 PM, Abhishek Kona wrote:
</I>&gt;&gt;&gt;<i> On 24/11/10 4:51 PM, Rob Harrop wrote:
</I>&gt;&gt;&gt;&gt;<i> That seems different to your previous report which mentioned that the
</I>&gt;&gt;&gt;&gt;<i> program waited at connection.createChannel() rather than
</I>&gt;&gt;&gt;&gt;<i> connectionfactory.newConnection(). Is that correct, or am I reading it
</I>&gt;&gt;&gt;&gt;<i> wrong :)
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Can you create and post a thread dump of the process while it is 
</I>&gt;&gt;&gt;&gt;<i> waiting?
</I>&gt;&gt;&gt;&gt;<i> You can get one with jstack&lt;pid&gt;.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Regards,
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Rob
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> On Wed, 24 Nov 2010 16:51:57 +0530, Abhishek Kona
</I>&gt;&gt;&gt;&gt;<i> &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">abhishek.kona at gmail.com</A>&gt;
</I>&gt;&gt;&gt;&gt;<i> wrote:
</I>&gt;&gt;&gt;&gt;&gt;<i> On 24/11/10 4:29 PM, Rob Harrop wrote:
</I>&gt;&gt;&gt;&gt;&gt;&gt;<i> are seeing. I fixed this in the 2.1.1 client, so upgrading should do
</I>&gt;&gt;&gt;&gt;<i> the
</I>&gt;&gt;&gt;&gt;&gt;<i> I have upgraded RabbitMQ and the client to 2.1.1 but still I see the
</I>&gt;&gt;&gt;&gt;&gt;<i> same behavior.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> The application stops at
</I>&gt;&gt;&gt;&gt;&gt;<i>               connection = connectionfactory.newConnection();
</I>&gt;&gt;&gt;&gt;&gt;<i> It does not even fail and throw up.
</I>&gt;&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;&gt;<i> -Abhishek Kona
</I>&gt;&gt;&gt;<i> Ya I was trying different things and this time I was creating a new 
</I>&gt;&gt;&gt;<i> connection for each request, this time the block was at
</I>&gt;&gt;&gt;<i> connection=connectionFactory.newConnection();
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I am attaching the jstack out put here,
</I>&gt;&gt;&gt;<i> Thanks for the quick replies.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -Abhishek Kona
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> I am able to confirm the same error,
</I>&gt;&gt;<i> My application stops at connection=connectionfactory.newConnection();
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am using RabbitMQ 2.1.1 and 2.1.1 Library.
</I>&gt;&gt;<i> I am attaching the jstack output again.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -Abhishek Kona
</I>&gt;&gt;<i>
</I>&gt;<i> Hi folks,
</I>&gt;<i>
</I>&gt;<i> Any opinions about the issue. My application only stops when I user 
</I>&gt;<i> RabbitMQ, any first impressions?
</I>&gt;<i>
</I>&gt;<i> Thanks for all the fish.
</I>&gt;<i> -Abhishek Kona
</I>I am sorry for the trouble,
There was a RabbitMQ connection which was not being closed on an error.
This was causing many number of RabbitMQ connection threads being 
created, which was causing problems.

Also is there an issue with running RabbitMQ server on Mac? When I run 
the server on an Ubuntu Machine the above code was working.
I am not sure about this though, will report back if I face the same 
issue again.

Thanks a lot Rob for taking time to help me out.

-Abhishek Kona

</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010091.html">[rabbitmq-discuss] Java Client not able to create channel
</A></li>
	<LI>Next message: <A HREF="010093.html">[rabbitmq-discuss] Java Client not able to create channel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10092">[ date ]</a>
              <a href="thread.html#10092">[ thread ]</a>
              <a href="subject.html#10092">[ subject ]</a>
              <a href="author.html#10092">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
