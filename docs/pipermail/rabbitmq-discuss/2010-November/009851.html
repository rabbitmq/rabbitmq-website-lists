<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss]  Passing null for 'arguments' to queueBind()
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%20Passing%20null%20for%20%27arguments%27%20to%20queueBind%28%29&In-Reply-To=%3C30162963.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009852.html">
   <LINK REL="Next"  HREF="009876.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss]  Passing null for 'arguments' to queueBind()</H1>
    <B>michi.oshima</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%20Passing%20null%20for%20%27arguments%27%20to%20queueBind%28%29&In-Reply-To=%3C30162963.post%40talk.nabble.com%3E"
       TITLE="[rabbitmq-discuss]  Passing null for 'arguments' to queueBind()">moshima at advent.com
       </A><BR>
    <I>Mon Nov  8 17:34:31 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009852.html">[rabbitmq-discuss] connection.createChannel() block after send/receive messages to non-exist queues
</A></li>
        <LI>Next message: <A HREF="009876.html">[rabbitmq-discuss] Passing null for 'arguments' to queueBind()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9851">[ date ]</a>
              <a href="thread.html#9851">[ thread ]</a>
              <a href="subject.html#9851">[ subject ]</a>
              <a href="author.html#9851">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I'm using rabbitmq server 2.1.0 and rabbitmq java client 2.1.0.  

I'm currently exploring 'headers' exchange type.  I'd publish a message with
argument table set to 'A' for example, with the intent that consumer with
the matching argument 'A' would receive the message.  And those consumers
who do not specify 'A' would not get the message.

I'm finding that a consumer ends up receiving all messages if I pass null as
the value for the 'arguments' parameter.  I am using the following
queueBind() method of the Channel interface:

AMQP.Queue.BindOk queueBind(java.lang.String&#160;queue,
                            java.lang.String&#160;exchange,
                            java.lang.String&#160;routingKey,
                           
java.util.Map&lt;java.lang.String,java.lang.Object&gt;&#160;arguments)
                            throws java.io.IOException

1. Is this intended?  That is, I merely have to specify null for 'arguments'
to receive all messages.
2. Is there any way to prevent a client from subscribing to all messages?
3. Is this an operator error?  Am I setting things up incorrectly?

What I'm trying to achieve is some degree of message privacy.  Consumer A
would put the key 'A' to argument to receive all messages meant for A, and
Consumer B would put the key 'B' to argument to receive all messages meant
for B.  Consumer A is prevented from receiving messages meant for Consumer
B, simply because he is ignorant of the key 'B'.  

4. Is there a better way to achieve message privacy?



-- 
View this message in context: <A HREF="http://old.nabble.com/Passing-null-for-%27arguments%27-to-queueBind%28%29-tp30162963p30162963.html">http://old.nabble.com/Passing-null-for-%27arguments%27-to-queueBind%28%29-tp30162963p30162963.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.

</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009852.html">[rabbitmq-discuss] connection.createChannel() block after send/receive messages to non-exist queues
</A></li>
	<LI>Next message: <A HREF="009876.html">[rabbitmq-discuss] Passing null for 'arguments' to queueBind()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9851">[ date ]</a>
              <a href="thread.html#9851">[ thread ]</a>
              <a href="subject.html#9851">[ subject ]</a>
              <a href="author.html#9851">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
