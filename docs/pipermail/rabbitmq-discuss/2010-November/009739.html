<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Protection against slow consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Protection%20against%20slow%20consumers&In-Reply-To=%3C4CCF32A6.2060500%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009737.html">
   <LINK REL="Next"  HREF="009740.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Protection against slow consumers</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Protection%20against%20slow%20consumers&In-Reply-To=%3C4CCF32A6.2060500%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Protection against slow consumers">matthias at rabbitmq.com
       </A><BR>
    <I>Mon Nov  1 21:35:34 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009737.html">[rabbitmq-discuss] Protection against slow consumers
</A></li>
        <LI>Next message: <A HREF="009740.html">[rabbitmq-discuss] Protection against slow consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9739">[ date ]</a>
              <a href="thread.html#9739">[ thread ]</a>
              <a href="subject.html#9739">[ subject ]</a>
              <a href="author.html#9739">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Christian,

Christian Legnitto wrote:
&gt;<i> Nope, just the resources. I want to have tiers of service, where
</I>&gt;<i> known fast-consuming consumers get no queue limits (to absorb message
</I>&gt;<i> spikes), corporation employees and responsive external tools get
</I>&gt;<i> fairly high limits, and random tools by the general public get fairly
</I>&gt;<i> low. The public aspect is important as we are open and want anyone to
</I>&gt;<i> be able to play with our data easily (without causing a DOS for
</I>&gt;<i> critical applications).
</I>
Understood. The main problem with per-queue message count or TTL limits 
is that they are a very poor indicator of disk usage due to variations 
in message rates (in case of TTLs), message sizes and, most importantly, 
the degree of sharing (i.e. the same message held by multiple queues 
being written to disk only once).

Another problem with per-queue limits in general is the massive resource 
underutilisation that one gets as a result of having to set the limits 
on a worst case basis, i.e. &quot;what if all consumers stopped consuming 
from their queues simultaneously&quot;.

So the question is what controls could we put in place that address 
these issues and bound the amount of message data held by RabbitMQ?


Regards,

Matthias.
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009737.html">[rabbitmq-discuss] Protection against slow consumers
</A></li>
	<LI>Next message: <A HREF="009740.html">[rabbitmq-discuss] Protection against slow consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9739">[ date ]</a>
              <a href="thread.html#9739">[ thread ]</a>
              <a href="subject.html#9739">[ subject ]</a>
              <a href="author.html#9739">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
