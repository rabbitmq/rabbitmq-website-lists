<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Seeking 'right way' to do IPC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Seeking%20%27right%20way%27%20to%20do%20IPC&In-Reply-To=%3CAANLkTi%3DYaasxW7fUb26MK%3DfiSXxX6d_gecXC7VgYuYWx%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009730.html">
   <LINK REL="Next"  HREF="009738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Seeking 'right way' to do IPC</H1>
    <B>Brian Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Seeking%20%27right%20way%27%20to%20do%20IPC&In-Reply-To=%3CAANLkTi%3DYaasxW7fUb26MK%3DfiSXxX6d_gecXC7VgYuYWx%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Seeking 'right way' to do IPC">bkjones at gmail.com
       </A><BR>
    <I>Mon Nov  1 20:17:17 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009730.html">[rabbitmq-discuss] Missing features making me look at moving off RabbitMQ
</A></li>
        <LI>Next message: <A HREF="009738.html">[rabbitmq-discuss] Seeking 'right way' to do IPC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9732">[ date ]</a>
              <a href="thread.html#9732">[ thread ]</a>
              <a href="subject.html#9732">[ subject ]</a>
              <a href="author.html#9732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I'm setting up a rabbitmq server that will act as an IPC backchannel between
several nodes. Nodes can come and go, their number can vary, names aren't
consistent, etc. Ideally, the scenario I'd like to see work (sans any
assumed exchange types or binding semantics) is this:

1.  NodeA, NodeB, and NodeC connect. All of them will be both publishers and
consumers
2. Any node publishes a message
3. The other two nodes *each* receive the message
4. The publishing node *does not* receive the message.

In addition, I have another use case that seems... elusive:

1. NodeA, NodeB, and NodeC connect. All of them will be both publishers and
consumers
2. Any of the nodes publishes a message
3. Exactly one of the other nodes receives the message -- first one wins.
4. The publishing node *does not* receive the message.

The first scenario can be seen as a &quot;node synchronization&quot; problem: for
everything that happens on NodeB, a message must be sent to all other nodes
to bring them in sync.

The second scenario is more of a &quot;Task delegation&quot; problem: For everything
that happens on NodeC, a message is sent and the task is consumed/performed
by whichever node happens to receive it first.

Given that the numbers/names of the nodes aren't necessarily consistent
(nodes can be added/removed as scaling needs require), and I don't want the
publishing node to receive copies of messages they've published, what is a
reasonable way to go about addressing each of these scenarios using existing
AMQP capabilities in RabbitMQ (note I don't want to use exchange-to-exchange
bindings or other Rabbit-specific utilities)?

Thanks.
brian





-- 
Brian K. Jones
My Blog          <A HREF="http://www.protocolostomy.com">http://www.protocolostomy.com</A>
Follow me      <A HREF="http://twitter.com/bkjones">http://twitter.com/bkjones</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101101/f93e1f67/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101101/f93e1f67/attachment.htm</A>&gt;
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009730.html">[rabbitmq-discuss] Missing features making me look at moving off RabbitMQ
</A></li>
	<LI>Next message: <A HREF="009738.html">[rabbitmq-discuss] Seeking 'right way' to do IPC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9732">[ date ]</a>
              <a href="thread.html#9732">[ thread ]</a>
              <a href="subject.html#9732">[ subject ]</a>
              <a href="author.html#9732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
