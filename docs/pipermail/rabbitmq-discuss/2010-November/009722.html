<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Protection against slow consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Protection%20against%20slow%20consumers&In-Reply-To=%3C4CCEE713.4090603%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009711.html">
   <LINK REL="Next"  HREF="009724.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Protection against slow consumers</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Protection%20against%20slow%20consumers&In-Reply-To=%3C4CCEE713.4090603%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Protection against slow consumers">emile at rabbitmq.com
       </A><BR>
    <I>Mon Nov  1 16:13:07 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009711.html">[rabbitmq-discuss] Protection against slow consumers
</A></li>
        <LI>Next message: <A HREF="009724.html">[rabbitmq-discuss] Protection against slow consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9722">[ date ]</a>
              <a href="thread.html#9722">[ thread ]</a>
              <a href="subject.html#9722">[ subject ]</a>
              <a href="author.html#9722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ji&#345;&#237;,

Op 01/11/2010 12:22, het <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jiri at krutil.com</A> geskryf:
&gt;<i> Hello together
</I>&gt;<i>
</I>&gt;<i> I'm looking for a way how to protect against slow consumers.
</I>&gt;<i>
</I>&gt;<i> We are publishing messages to a topic exchange as part of a public
</I>&gt;<i> interface. The subscribers are applications developed by our clients
</I>&gt;<i> (outside of our control).
</I>&gt;<i>
</I>&gt;<i> Our concern is that one slow consumer could potentially force the broker
</I>&gt;<i> to throttle our publisher, affecting all other consumers.
</I>&gt;<i>
</I>&gt;<i> We encourage the consumers to use a small prefetch buffer, but have no
</I>&gt;<i> way how to enforce this. In general, we cannot assume that all consumers
</I>&gt;<i> cooperate.
</I>&gt;<i>
</I>&gt;<i> For instance, a client that is consuming but not acking will (I believe)
</I>&gt;<i> impact the broker memory consumption.
</I>&gt;<i>
</I>&gt;<i> Your ideas are welcome.
</I>
I assume you have subscribers each set up with their own queue and 
binding. In this case I would expect long queues associated with slow 
subscribers to be persisted to disk automatically. This prevents RAM 
pressure, which the broker attempts to relieve by blocking producers. 
This assumes that you are running version 2.0.0 or later. If you are 
seeing different results then we'd like to hear the details.

Regards

Emile
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009711.html">[rabbitmq-discuss] Protection against slow consumers
</A></li>
	<LI>Next message: <A HREF="009724.html">[rabbitmq-discuss] Protection against slow consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9722">[ date ]</a>
              <a href="thread.html#9722">[ thread ]</a>
              <a href="subject.html#9722">[ subject ]</a>
              <a href="author.html#9722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
