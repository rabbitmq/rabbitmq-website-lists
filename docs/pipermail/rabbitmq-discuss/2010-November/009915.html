<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] multiple publishers to the same exchange
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20multiple%20publishers%20to%20the%20same%20exchange&In-Reply-To=%3C20101111151840.GC8054%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009914.html">
   <LINK REL="Next"  HREF="009912.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] multiple publishers to the same exchange</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20multiple%20publishers%20to%20the%20same%20exchange&In-Reply-To=%3C20101111151840.GC8054%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] multiple publishers to the same exchange">matthew at rabbitmq.com
       </A><BR>
    <I>Thu Nov 11 15:18:40 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009914.html">[rabbitmq-discuss] multiple publishers to the same exchange
</A></li>
        <LI>Next message: <A HREF="009912.html">[rabbitmq-discuss] as3-amqp connection failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9915">[ date ]</a>
              <a href="thread.html#9915">[ thread ]</a>
              <a href="subject.html#9915">[ subject ]</a>
              <a href="author.html#9915">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Nov 11, 2010 at 03:10:56PM +0000, T-zex wrote:
&gt;<i> Say in case we have 1 publisher and 1 subscriber we have 10kHz send
</I>&gt;<i> and 10kHz receive throughput.
</I>&gt;<i> In case we have 2 publishers then they will be able to send only 5KHz
</I>&gt;<i> each?, will the receiver  still be 10kHz?
</I>&gt;<i> In case we have 1 10 kHz publisher and two queues, will these queues
</I>&gt;<i> be receiving 5kHz each?
</I>
A queue is a single process within Erlang. Thus your throughput limit on
a _single_ queue is one CPU core. However, as I said, channels and other
bits and pieces for each connection are also processes, so one queue
with a channel can, in theory, eat up probably 3 or 4 cores in total,
when absolutely maxed out.

Obviously, with each queue being your single unit of concurrency, if
you need higher throughput, then adding additional queues so you can
utilise more cores, is a valid approach.

So it's not to do with how many producers or consumers you have, it's
more to do with how fast a single queue can run on your hardware, and
then that performance should distribute itself reasonably well as you
add consumers and producers. It's a bit more complex than that, but
that's the general idea.

Matthew
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009914.html">[rabbitmq-discuss] multiple publishers to the same exchange
</A></li>
	<LI>Next message: <A HREF="009912.html">[rabbitmq-discuss] as3-amqp connection failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9915">[ date ]</a>
              <a href="thread.html#9915">[ thread ]</a>
              <a href="subject.html#9915">[ subject ]</a>
              <a href="author.html#9915">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
