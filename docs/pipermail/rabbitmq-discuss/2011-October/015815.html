<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] High I/O On RHEL?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20I/O%20On%20RHEL%3F&In-Reply-To=%3CCAJreXKDMsxr9xKijqY8o3jpGeKdfLFHhFu33PG217HcND7nMiA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015813.html">
   <LINK REL="Next"  HREF="015821.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] High I/O On RHEL?</H1>
    <B>James Carr</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20I/O%20On%20RHEL%3F&In-Reply-To=%3CCAJreXKDMsxr9xKijqY8o3jpGeKdfLFHhFu33PG217HcND7nMiA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] High I/O On RHEL?">james.r.carr at gmail.com
       </A><BR>
    <I>Thu Oct 27 12:25:40 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015813.html">[rabbitmq-discuss] Durable Queue
</A></li>
        <LI>Next message: <A HREF="015821.html">[rabbitmq-discuss] &quot;sockets module&quot; for rabbitmq.js example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15815">[ date ]</a>
              <a href="thread.html#15815">[ thread ]</a>
              <a href="subject.html#15815">[ subject ]</a>
              <a href="author.html#15815">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>One of my clients has been having a recurring problem of the
filesystems on their brokers randomly becoming readonly. Their admin
investigated the errors and determined it was related to this issue
(<A HREF="http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=51306">http://kb.vmware.com/selfservice/microsites/search.do?language=en_US&amp;cmd=displayKC&amp;externalId=51306</A>)
with their running Oracle Enterprise Linux on top of VMWare.

I'm a little confounded and how there could even be too high I/O
interaction for the filesystem to keep up. At most, the brokers only
see 400 messages per second and usually average around 180 messages
per second. This is way below the rates I see on a cluster I run on
Rackspace for another client and I've never seen this happen before.

It's pretty annoying because the filesystem goes readonly randomly in
middle of the night and causes rabbitMQ to shutdown (since having /var
read only screws a lot of things up) and whoever is on call gets paged
(usually at 2am). I've suggested moving the brokers to physical boxes
or using Ubuntu instead of Oracle Enterprise Linux, but I feel like
I'm just making the later suggestion out of spite (I don't like Oracle
Enterprise Linux). :)

Any ideas?


Thanks,
James
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015813.html">[rabbitmq-discuss] Durable Queue
</A></li>
	<LI>Next message: <A HREF="015821.html">[rabbitmq-discuss] &quot;sockets module&quot; for rabbitmq.js example
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15815">[ date ]</a>
              <a href="thread.html#15815">[ thread ]</a>
              <a href="subject.html#15815">[ subject ]</a>
              <a href="author.html#15815">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
