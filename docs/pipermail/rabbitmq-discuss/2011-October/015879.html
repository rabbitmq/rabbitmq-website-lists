<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Big backlogs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Big%20backlogs&In-Reply-To=%3CCAAN_EDoezdr%3DRydpEgWovK%3DamncU8pMvH-Qfq-%3D2Waw7jyrH8Q%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015914.html">
   <LINK REL="Next"  HREF="015896.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Big backlogs</H1>
    <B>Adam Rabung</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Big%20backlogs&In-Reply-To=%3CCAAN_EDoezdr%3DRydpEgWovK%3DamncU8pMvH-Qfq-%3D2Waw7jyrH8Q%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Big backlogs">adamrabung at gmail.com
       </A><BR>
    <I>Sat Oct 29 03:04:40 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015914.html">[rabbitmq-discuss] New to RabbitMq questions
</A></li>
        <LI>Next message: <A HREF="015896.html">[rabbitmq-discuss] Big backlogs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15879">[ date ]</a>
              <a href="thread.html#15879">[ thread ]</a>
              <a href="subject.html#15879">[ subject ]</a>
              <a href="author.html#15879">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
I have come to understand that a happy Rabbit is a nearly-empty Rabbit.
 Obviously, no matter how you lay things out, the publish rate will outpace
the consumption rate, sometimes for sustained periods of time.  My first
reaction is to throttle producers, but due to the number and behavior of
producers in my system, this seems difficult.

Another approach would be to re-route backlogs to a &quot;throttling consumer&quot;.
 This consumer quickly drains the queue, storing messages to a durable
store.  At a prescribed rate, it pulls these messages out in FIFO order and
feeds them back in to the general queue.  In general, it seems useful in
many cases to move time-insensitive messages aside temporarily when
resources are tight.

My question is: would another RabbitMQ broker be appropriate &quot;durable store&quot;
for storing these throttled messages?  We can assume there will be far too
many message to store in memory.  I realize Rabbit will page large queues
off to Mnesia, but will it perform reasonably if only 10% of messages can be
stored in memory?  1%?  While this is a FIFO structure, it seems to have
many characteristics that are different from a typical queue: very large
footprint, very low throughput, very few consumers.

Thank you for any feedback.
Adam
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111028/93791edb/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111028/93791edb/attachment.htm</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015914.html">[rabbitmq-discuss] New to RabbitMq questions
</A></li>
	<LI>Next message: <A HREF="015896.html">[rabbitmq-discuss] Big backlogs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15879">[ date ]</a>
              <a href="thread.html#15879">[ thread ]</a>
              <a href="subject.html#15879">[ subject ]</a>
              <a href="author.html#15879">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
