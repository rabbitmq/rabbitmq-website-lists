<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] WebSockets and Rabbit-mq
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20WebSockets%20and%20Rabbit-mq&In-Reply-To=%3CCAEBV8YRi8o88juekkoYujBxwHsO18UxUXq0%3DdxUA0hO0K%3D1J4w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015680.html">
   <LINK REL="Next"  HREF="015618.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] WebSockets and Rabbit-mq</H1>
    <B>Paul Cowan</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20WebSockets%20and%20Rabbit-mq&In-Reply-To=%3CCAEBV8YRi8o88juekkoYujBxwHsO18UxUXq0%3DdxUA0hO0K%3D1J4w%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] WebSockets and Rabbit-mq">dagda1 at scotalt.net
       </A><BR>
    <I>Wed Oct 19 21:23:53 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015680.html">[rabbitmq-discuss] Message is delivered to all queue consumers	when rabbitmq crashes
</A></li>
        <LI>Next message: <A HREF="015618.html">[rabbitmq-discuss] WebSockets and Rabbit-mq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15617">[ date ]</a>
              <a href="thread.html#15617">[ thread ]</a>
              <a href="subject.html#15617">[ subject ]</a>
              <a href="author.html#15617">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am struggling to work out how I can communicate between rabbitmq and
em-websocet.

My are requirements for the piece of work are this.

   1. I want a user to be able to kick off from a web page a long running
   process that could take at least 20 minutes to finish.
   2. I want the process to complete even if the user closes down the
   browser.
   3. While the user still has the browser open, I want the user to be able
   to get real time updates of the long running process displayed in the
   browser.

   My thoughts are that the client script on the page will create a
   websocket connection that will kick off an EventMachine-Websocket instance
   on the server (I am using Ruby on Rails).
   The websocket instance will subscribe to an AMQP queue that will complete
   the long running process even if the browser is closed down.

   I am struggling with how the em-websocket instance will receive updates
   of the work that is being done which is effectively inserts into a database.

   Do I need 2 queues?  One to start the process and one to receive updates
   or is there a better way?

   Can anybody shed any advice on this situation?  Has anybody done anything
   similar?


Cheers

Paul Cowan

Cutting-Edge Solutions (Scotland)

<A HREF="http://thesoftwaresimpleton.com/">http://thesoftwaresimpleton.com/</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111019/b860249c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111019/b860249c/attachment.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015680.html">[rabbitmq-discuss] Message is delivered to all queue consumers	when rabbitmq crashes
</A></li>
	<LI>Next message: <A HREF="015618.html">[rabbitmq-discuss] WebSockets and Rabbit-mq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15617">[ date ]</a>
              <a href="thread.html#15617">[ thread ]</a>
              <a href="subject.html#15617">[ subject ]</a>
              <a href="author.html#15617">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
