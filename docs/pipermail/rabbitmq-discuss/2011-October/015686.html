<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Limiting the number of non-ack messages cause of subsystem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Limiting%20the%20number%20of%20non-ack%20messages%0A%20cause%20of%20subsystem&In-Reply-To=%3C20111022224228.GB3861%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015682.html">
   <LINK REL="Next"  HREF="015687.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Limiting the number of non-ack messages cause of subsystem</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Limiting%20the%20number%20of%20non-ack%20messages%0A%20cause%20of%20subsystem&In-Reply-To=%3C20111022224228.GB3861%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Limiting the number of non-ack messages cause of subsystem">matthew at rabbitmq.com
       </A><BR>
    <I>Sat Oct 22 23:42:29 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015682.html">[rabbitmq-discuss] Limiting the number of non-ack messages cause of	subsystem
</A></li>
        <LI>Next message: <A HREF="015687.html">[rabbitmq-discuss] Limiting the number of non-ack messages	cause of subsystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15686">[ date ]</a>
              <a href="thread.html#15686">[ thread ]</a>
              <a href="subject.html#15686">[ subject ]</a>
              <a href="author.html#15686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Oct 22, 2011 at 02:08:40PM -0700, jhiemer wrote:
&gt;<i> I am currently facing the following situation:
</I>&gt;<i> My setup has a Topic Exchange, wherein all messages are stored. The
</I>&gt;<i> problem is: the messages consumed are limited by the backend-system.
</I>&gt;<i> The backend-system is only able to process 10 message at the same
</I>&gt;<i> time. Each of this messages is bound to a separate thread and I need
</I>&gt;<i> to wait for its execution until a &quot;slot&quot; is free again. The execution
</I>&gt;<i> time may vary between 10 seconds and 10 minutes. Is it reasonable to
</I>&gt;<i> send ACKs just after this amount of time, for acceptance of new
</I>&gt;<i> messages?
</I>
Yes, that will be fine, but you might want to consider some other
approaches. You could cancel the consumer, then ack all of the msgs. At
that point you'll receive no further msgs. Then, when you're ready
again, recreate the consumer and grab the next 10 msgs. This will only
work effectively if you set basic.qos prefetch count to 10 also.

However, thinking about it, there may not really be much advantage
between what I'm suggesting and just delaying the acks. Especially if
you still do the basic.qos prefetch = 10 even in the ack-only version.

Matthew
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015682.html">[rabbitmq-discuss] Limiting the number of non-ack messages cause of	subsystem
</A></li>
	<LI>Next message: <A HREF="015687.html">[rabbitmq-discuss] Limiting the number of non-ack messages	cause of subsystem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15686">[ date ]</a>
              <a href="thread.html#15686">[ thread ]</a>
              <a href="subject.html#15686">[ subject ]</a>
              <a href="author.html#15686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
