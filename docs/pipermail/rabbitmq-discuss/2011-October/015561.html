<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How To Set User Celeryd Workers Run As
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20To%20Set%20User%20Celeryd%20Workers%20Run%20As&In-Reply-To=%3C4ACB4788-6DA4-4D69-A856-EF92B36A0FCF%40celeryproject.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015560.html">
   <LINK REL="Next"  HREF="015563.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How To Set User Celeryd Workers Run As</H1>
    <B>Ask Solem</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20To%20Set%20User%20Celeryd%20Workers%20Run%20As&In-Reply-To=%3C4ACB4788-6DA4-4D69-A856-EF92B36A0FCF%40celeryproject.org%3E"
       TITLE="[rabbitmq-discuss] How To Set User Celeryd Workers Run As">ask at celeryproject.org
       </A><BR>
    <I>Mon Oct 17 12:34:13 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015560.html">[rabbitmq-discuss] How To Set User Celeryd Workers Run As
</A></li>
        <LI>Next message: <A HREF="015563.html">[rabbitmq-discuss] Weird compile error on latest 2.6.1 code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15561">[ date ]</a>
              <a href="thread.html#15561">[ thread ]</a>
              <a href="subject.html#15561">[ subject ]</a>
              <a href="author.html#15561">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

On Oct 17, 2011, at 11:43 AM, SixDegrees &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">paulcarlisle at comcast.net</A>&gt; wrote:

&gt;<i> 
</I>&gt;<i> Still slogging away at this stuff, still despairing that it will ever work.
</I>&gt;<i> 
</I>&gt;<i> Our latest problem: tasks launched via Django are expected to write to
</I>&gt;<i> various directories where normally only the apache user has permission. I am
</I>&gt;<i> getting a huge dump of 'Permission denied' errors in the celeryd log. I have
</I>&gt;<i> changed CELERYD_USER to 'apache' in both settings.py and
</I>&gt;<i> /etc/default/celeryd, and changed the user celeryd runs as to 'apache' in
</I>&gt;<i> the supervisord celeryd.ini file, restarting celeryd and apache after each
</I>&gt;<i> change, all to no avail.
</I>&gt;<i> 
</I>&gt;<i> I really don't want to open up permissions on these directories; up &#248;until
</I>&gt;<i> now, we've simply been using a system call to launch background tasks, and
</I>&gt;<i> that has worked perfectly with access granted only to apache.
</I>
I'm sorry, CELERYD_USER is not a configuration option, it is however an environment variable read by the celeryd init scripts, but since you mention you're using supervisord, then this won't have any effect.

I'd bet there is an option for this in supervisord, which is what you would have to use.

Also, this isn't related to RabbitMQ, so it would be nice if you moved such discussion to the celery-users mailing list, which is the appropriate fora.

<A HREF="http://groups.google.com/group/celery-users">http://groups.google.com/group/celery-users</A>

Cheers,
Ask
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015560.html">[rabbitmq-discuss] How To Set User Celeryd Workers Run As
</A></li>
	<LI>Next message: <A HREF="015563.html">[rabbitmq-discuss] Weird compile error on latest 2.6.1 code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15561">[ date ]</a>
              <a href="thread.html#15561">[ thread ]</a>
              <a href="subject.html#15561">[ subject ]</a>
              <a href="author.html#15561">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
