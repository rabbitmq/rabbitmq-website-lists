<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Java RabbitMQ API bug in	response.getHeaders()?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20RabbitMQ%20API%20bug%20in%0A%09response.getHeaders%28%29%3F&In-Reply-To=%3CCAM8fPiQoXGuPX3W8z3Wzc9u7NP4m6K_7TjUJwgmRv8M9WK9Fbg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015826.html">
   <LINK REL="Next"  HREF="015827.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Java RabbitMQ API bug in	response.getHeaders()?</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20RabbitMQ%20API%20bug%20in%0A%09response.getHeaders%28%29%3F&In-Reply-To=%3CCAM8fPiQoXGuPX3W8z3Wzc9u7NP4m6K_7TjUJwgmRv8M9WK9Fbg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Java RabbitMQ API bug in	response.getHeaders()?">tonygarnockjones+rabbitmq at gmail.com
       </A><BR>
    <I>Thu Oct 27 17:06:48 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015826.html">[rabbitmq-discuss] Java RabbitMQ API bug in	response.getHeaders()?
</A></li>
        <LI>Next message: <A HREF="015827.html">[rabbitmq-discuss] Java RabbitMQ API bug in	response.getHeaders()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15825">[ date ]</a>
              <a href="thread.html#15825">[ thread ]</a>
              <a href="subject.html#15825">[ subject ]</a>
              <a href="author.html#15825">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 27 October 2011 10:41, Mario Leyton &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mleyton at niclabs.cl</A>&gt; wrote:

&gt;<i>  We are using rabbitmq java client and I believe the following is a bug:
</I>&gt;<i>
</I>
Nope, it's deliberate. null, here, represents that no headers were sent.
This is distinct from an empty map being sent. AMQP's basic properties
structure includes &quot;absent/present&quot; bits for all of the fields; we chose to
use &quot;null&quot; to represent &quot;missing&quot;, as in this instance it is unambiguous.
In languages like ML and Haskell we'd use 'whatever option and Maybe
whatever, respectively. In C, we use a bitmap stored separately from the
struct members concerned.

So when reading (or writing!) basic properties in Java,

   - null means &quot;missing value&quot; or &quot;no value&quot;
   - empty map, empty string etc. is a *present* value but is otherwise
   just itself
   - non-empty maps, strings, etc are present values

Regards,
  Tony
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111027/9726c0c2/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111027/9726c0c2/attachment.htm</A>&gt;
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015826.html">[rabbitmq-discuss] Java RabbitMQ API bug in	response.getHeaders()?
</A></li>
	<LI>Next message: <A HREF="015827.html">[rabbitmq-discuss] Java RabbitMQ API bug in	response.getHeaders()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15825">[ date ]</a>
              <a href="thread.html#15825">[ thread ]</a>
              <a href="subject.html#15825">[ subject ]</a>
              <a href="author.html#15825">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
