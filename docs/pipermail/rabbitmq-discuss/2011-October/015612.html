<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Upgrading...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrading...&In-Reply-To=%3CCAJreXKAxAN7gyR02NuaFTX04ZUL4MafVFOsyympeyZJf_k-oMw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015611.html">
   <LINK REL="Next"  HREF="015613.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Upgrading...</H1>
    <B>James Carr</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrading...&In-Reply-To=%3CCAJreXKAxAN7gyR02NuaFTX04ZUL4MafVFOsyympeyZJf_k-oMw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Upgrading...">james.r.carr at gmail.com
       </A><BR>
    <I>Wed Oct 19 20:09:09 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015611.html">[rabbitmq-discuss] Upgrading...
</A></li>
        <LI>Next message: <A HREF="015613.html">[rabbitmq-discuss] Upgrading...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15612">[ date ]</a>
              <a href="thread.html#15612">[ thread ]</a>
              <a href="subject.html#15612">[ subject ]</a>
              <a href="author.html#15612">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the quick reply.

All of the queues on the master node are durable.

However I noticed when creating new queues from the management console
I'm given the option to mirror the queue across all nodes or not. I'm
assuming that the defult for existing queues from 2.5.0 is to not
mirror them. Is there anyway to change this besides deleting and
re-declaring the queue?

Thanks,
James


On Wed, Oct 19, 2011 at 2:00 PM, Jerry Kuch &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt; wrote:
&gt;<i> Hi, James:
</I>&gt;<i>
</I>&gt;<i> Are your queues declared durable?
</I>&gt;<i>
</I>&gt;<i> See the section &quot;Starting and stopping nodes&quot; for a
</I>&gt;<i> discussion of the behavior you should expect:
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/ha.html">http://www.rabbitmq.com/ha.html</A>
</I>&gt;<i>
</I>&gt;<i> Jerry
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;James Carr&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">james.r.carr at gmail.com</A>&gt;
</I>&gt;<i> To: &quot;Jerry Kuch&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt;
</I>&gt;<i> Cc: &quot;rabbitmq-discuss&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;<i> Sent: Wednesday, October 19, 2011 11:57:16 AM
</I>&gt;<i> Subject: Re: [rabbitmq-discuss] Upgrading...
</I>&gt;<i>
</I>&gt;<i> So I upgraded to 2.6.1 and clustered it by adding another node to it.
</I>&gt;<i> I was experimenting with 2.6.1 because we're looking to have
</I>&gt;<i> replicated queues in our cluster since it's one thing that currently
</I>&gt;<i> kills us. :)
</I>&gt;<i>
</I>&gt;<i> I noticed that when I go to node2 and view the queues, I see the
</I>&gt;<i> queues that were created on node1. However, if I bring node1 down the
</I>&gt;<i> queues just go away.
</I>&gt;<i>
</I>&gt;<i> Is there something special I need to setup for replicated queues?
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> James
</I>&gt;<i>
</I>&gt;<i> On Wed, Oct 19, 2011 at 1:39 PM, Jerry Kuch &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt; wrote:
</I>&gt;&gt;<i> Hi, James...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ah, good to hear that you didn't lose any data!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best regards,
</I>&gt;&gt;<i> Jerry
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> ----- Original Message -----
</I>&gt;&gt;<i> From: &quot;James Carr&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">james.r.carr at gmail.com</A>&gt;
</I>&gt;&gt;<i> To: &quot;Jerry Kuch&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt;
</I>&gt;&gt;<i> Cc: &quot;rabbitmq-discuss&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;&gt;<i> Sent: Wednesday, October 19, 2011 11:38:01 AM
</I>&gt;&gt;<i> Subject: Re: [rabbitmq-discuss] Upgrading...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'm stupid... as part of upgrading our test environment we added a new
</I>&gt;&gt;<i> node to the test cluster. I was viewing that node's management panel
</I>&gt;&gt;<i> and hadn't joined it yet. :)
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wed, Oct 19, 2011 at 1:24 PM, Jerry Kuch &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Rabbit's generally pretty smart (at least with upgrades between modern
</I>&gt;&gt;&gt;<i> versions) about migrating over and updating Mnesia contents and the
</I>&gt;&gt;&gt;<i> like. &#160;What probably happened with the RPM upgrade is that the RPM
</I>&gt;&gt;&gt;<i> install process blew away the directories where that stuff lives.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I think one could make note of where all that stuff is, move it aside
</I>&gt;&gt;&gt;<i> for safekeeping before doing the RPM upgrade/install, and then move it
</I>&gt;&gt;&gt;<i> back, and allow the broker to up-version the stuff at its next start up.
</I>&gt;&gt;&gt;<i> Rabbit's logic for doing the right thing is fairly sophisticated and I'd
</I>&gt;&gt;&gt;<i> think it should work in that scenario, although I've not tried it
</I>&gt;&gt;&gt;<i> myself.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Somebody else on the Rabbit team with more day to day experience on that
</I>&gt;&gt;&gt;<i> stuff is likely able to comment more authoritatively, or at least refute
</I>&gt;&gt;&gt;<i> what I just said if it's obviously wrongheaded...?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Best regards,
</I>&gt;&gt;&gt;<i> Jerry
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> ----- Original Message -----
</I>&gt;&gt;&gt;<i> From: &quot;James Carr&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">james.r.carr at gmail.com</A>&gt;
</I>&gt;&gt;&gt;<i> To: &quot;rabbitmq-discuss&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;&gt;&gt;<i> Sent: Wednesday, October 19, 2011 11:02:03 AM
</I>&gt;&gt;&gt;<i> Subject: [rabbitmq-discuss] Upgrading...
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Is there a nice simple way to upgrade rabbitMQ and have all of the
</I>&gt;&gt;&gt;<i> queues. exchanges, and users ported over?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I just upgraded on our test servers using the noarch RPM on Oracle
</I>&gt;&gt;&gt;<i> Enterprise Linux and noticed that all of the users, queues, and
</I>&gt;&gt;&gt;<i> exchanges &#160;are now gone.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;<i> James
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I></PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015611.html">[rabbitmq-discuss] Upgrading...
</A></li>
	<LI>Next message: <A HREF="015613.html">[rabbitmq-discuss] Upgrading...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15612">[ date ]</a>
              <a href="thread.html#15612">[ thread ]</a>
              <a href="subject.html#15612">[ subject ]</a>
              <a href="author.html#15612">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
