<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Mirror queues and poor write performance
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Mirror%20queues%20and%20poor%20write%20performance&In-Reply-To=%3C448858bd-6a94-4677-aa89-34506deed3ec%40m19g2000vbm.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015783.html">
   <LINK REL="Next"  HREF="015788.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Mirror queues and poor write performance</H1>
    <B>Anderew</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Mirror%20queues%20and%20poor%20write%20performance&In-Reply-To=%3C448858bd-6a94-4677-aa89-34506deed3ec%40m19g2000vbm.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Mirror queues and poor write performance">andrew.rendell at gmail.com
       </A><BR>
    <I>Wed Oct 26 22:10:46 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015783.html">[rabbitmq-discuss] AMQP protocol version mismatch problem on linux
</A></li>
        <LI>Next message: <A HREF="015788.html">[rabbitmq-discuss] Mirror queues and poor write performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15786">[ date ]</a>
              <a href="thread.html#15786">[ thread ]</a>
              <a href="subject.html#15786">[ subject ]</a>
              <a href="author.html#15786">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have been using RabbitMQ in high volume applications for over a
year. The new mirror queues feature in 2.6 is very exciting for my
client and I am keen to compare performance with a normal queue
setup.

I have been doing a very simple test and have found that in a two node
cluster write performance where the exchange is bound to a mirrored
queue is amazingly slow (orders of magnitude slower) compared to a non-
mirrored queue in an otherwise identical configuration. Dequeue
performance appears unaffected (i.e. very fast). The queues and
exchanges are non-durable in both cases. Both nodes in the cluster are
on the same machine so network latency will not be an factor.

What are the expectations for mirror queue write performance? I
appreciate there is no such thing as a free lunch and that inevitably
there would be a runtime cost for mirroring.

Andrew.

</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015783.html">[rabbitmq-discuss] AMQP protocol version mismatch problem on linux
</A></li>
	<LI>Next message: <A HREF="015788.html">[rabbitmq-discuss] Mirror queues and poor write performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15786">[ date ]</a>
              <a href="thread.html#15786">[ thread ]</a>
              <a href="subject.html#15786">[ subject ]</a>
              <a href="author.html#15786">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
