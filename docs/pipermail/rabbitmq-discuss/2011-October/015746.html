<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ writes non stop to disk
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20writes%20non%20stop%20to%20disk&In-Reply-To=%3C4EA6DE1D.7060804%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015743.html">
   <LINK REL="Next"  HREF="015748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ writes non stop to disk</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20writes%20non%20stop%20to%20disk&In-Reply-To=%3C4EA6DE1D.7060804%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ writes non stop to disk">simon at rabbitmq.com
       </A><BR>
    <I>Tue Oct 25 17:04:45 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015743.html">[rabbitmq-discuss] RabbitMQ writes non stop to disk
</A></li>
        <LI>Next message: <A HREF="015748.html">[rabbitmq-discuss] RabbitMQ writes non stop to disk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15746">[ date ]</a>
              <a href="thread.html#15746">[ thread ]</a>
              <a href="subject.html#15746">[ subject ]</a>
              <a href="author.html#15746">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 25/10/11 16:57, Aaron Westendorf wrote:
&gt;<i> Did you disable vm_memory_high_watermark ?  I've attached graphs of
</I>&gt;<i> our disk usage before and after we enabled it.
</I>
Presumably you are using transient messages? If changing 
vm_memory_high_watermark causes a drop in disk usage presumably you are 
no longer paging transient messages out. But persistent messages will 
always get paged out ;) [0]

Cheers, Simon

[0] Inevitably, there are exceptions:

* Persistent messages to transient queues aren't really persistent for 
obvious reasons.

* Persistent messages that go straight out to consumers in no-ack mode 
without being enqueued will not be persisted (why would you?)

* In the future, persistent messages that are consumed then acked before 
they get to the disk will have their writes eliminated. (At the moment 
they get written anyway, even though they're no longer relevant.)

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015743.html">[rabbitmq-discuss] RabbitMQ writes non stop to disk
</A></li>
	<LI>Next message: <A HREF="015748.html">[rabbitmq-discuss] RabbitMQ writes non stop to disk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15746">[ date ]</a>
              <a href="thread.html#15746">[ thread ]</a>
              <a href="subject.html#15746">[ subject ]</a>
              <a href="author.html#15746">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
