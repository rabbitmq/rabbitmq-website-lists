<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue Clustering and Sequencing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20Clustering%20and%20Sequencing&In-Reply-To=%3C5679e3c6-8288-4fb6-9705-e7a2261d2f88%40v5g2000vbh.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015742.html">
   <LINK REL="Next"  HREF="015809.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue Clustering and Sequencing</H1>
    <B>RogerF</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20Clustering%20and%20Sequencing&In-Reply-To=%3C5679e3c6-8288-4fb6-9705-e7a2261d2f88%40v5g2000vbh.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Queue Clustering and Sequencing">roger.fischer at abb.ventyx.com
       </A><BR>
    <I>Tue Oct 25 18:32:26 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015742.html">[rabbitmq-discuss] Queue Clustering and Sequencing
</A></li>
        <LI>Next message: <A HREF="015809.html">[rabbitmq-discuss] Queue Clustering and Sequencing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15759">[ date ]</a>
              <a href="thread.html#15759">[ thread ]</a>
              <a href="subject.html#15759">[ subject ]</a>
              <a href="author.html#15759">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, only messages with the same key depend on each other. The
messages cause a state change of the object identified by the key. A
subsequent message must see the state change maded by the preceeding
message.

Here is an example.

Incoming message sequence (with key):

M1(a), M2(b), M3(b), M4(c), M5(b), M6(d), M7(e), ..., M99(b), ...

M1, M2, M4, M6 and M7 can be processed in any sequence. They have
different keys, and are thus independent.

M3 must only be processed after M2 has complered processing. They have
the same key, and thus are related. The state change effected by M2 in
the database must be visible to M3.

Similar, M5 must only be processed after M3 has completed processing.

M99 also has the same key as M2, M3 and M5. However. M99 arrives so
much after M5 that there is no risk that the state change effected by
M5 is not already committed in the database. Thus M99 can be
arbitrarily load balanced.

Essentially what we want is key-based load balancing with time-limited
affinity.

Roger

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015742.html">[rabbitmq-discuss] Queue Clustering and Sequencing
</A></li>
	<LI>Next message: <A HREF="015809.html">[rabbitmq-discuss] Queue Clustering and Sequencing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15759">[ date ]</a>
              <a href="thread.html#15759">[ thread ]</a>
              <a href="subject.html#15759">[ subject ]</a>
              <a href="author.html#15759">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
