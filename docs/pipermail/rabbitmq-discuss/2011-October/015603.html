<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Possible clustering layout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Possible%20clustering%20layout&In-Reply-To=%3CCAAN_EDo-LFQJJNAOrztDKAR-WNZD-kAoTinWCY9ZQMbroQtz1g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015601.html">
   <LINK REL="Next"  HREF="015606.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Possible clustering layout</H1>
    <B>Adam Rabung</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Possible%20clustering%20layout&In-Reply-To=%3CCAAN_EDo-LFQJJNAOrztDKAR-WNZD-kAoTinWCY9ZQMbroQtz1g%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Possible clustering layout">adamrabung at gmail.com
       </A><BR>
    <I>Wed Oct 19 19:16:24 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015601.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
        <LI>Next message: <A HREF="015606.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15603">[ date ]</a>
              <a href="thread.html#15603">[ thread ]</a>
              <a href="subject.html#15603">[ subject ]</a>
              <a href="author.html#15603">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Don't worry, I'm definitely the confused one :)

I'm having a hard time finding info on the Active/Active HA in 2.6.  The FAQ
and Clustering Guide led me to believe this feature didn't exist yet.  Do
you know where I can find good info on this new feature?

I'd say our main goal is horizontal scalability for performance sake.  We've
come to the conclusion that we can RAID disks, and if a queue node goes
down, we can bring up a new node with the old disk in human-scale times.

What do you think?  Thank you for any feedback.

Adam

On Wed, Oct 19, 2011 at 1:38 PM, Jerry Kuch &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt; wrote:

&gt;<i> Hi, Adam...
</I>&gt;<i>
</I>&gt;<i> I'm perhaps a bit confused.  I assume your goal is tolerating the failure
</I>&gt;<i> of
</I>&gt;<i> individual nodes?
</I>&gt;<i>
</I>&gt;<i> Have you looked at the new active/active HA that debuted in RabbitMQ 2.6.x?
</I>&gt;<i> It allows for queues to be replicated automatically across the nodes of a
</I>&gt;<i> cluster with a user-selectable number of replicas.
</I>&gt;<i>
</I>&gt;<i> Older Rabbits also support an active/passive HA using shared storage.
</I>&gt;<i>
</I>&gt;<i> As you suggest, you might find building the sort of logic you're talking
</I>&gt;<i> about
</I>&gt;<i> entirely outside of the broker daunting and surprisingly difficult to get
</I>&gt;<i> quite what you want out of, as well as being difficult to administer.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> Jerry
</I>&gt;<i>
</I>&gt;<i> ----- Original Message -----
</I>&gt;<i> From: &quot;Adam Rabung&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">adamrabung at gmail.com</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> Sent: Wednesday, October 19, 2011 6:39:54 AM
</I>&gt;<i> Subject: [rabbitmq-discuss] Possible clustering layout
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hello, I am thinking through how to lay out a rabbit cluster. One possible
</I>&gt;<i> clustering approach would be have all exchanges/queues duplicated across
</I>&gt;<i> each node in the cluster. Publishers load balance which node they publish
</I>&gt;<i> to, and consumers subscribe to their applicable queues on all nodes. Each
</I>&gt;<i> node is completely independent.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This approach seems to have the benefit of avoiding unforeseen hops when a
</I>&gt;<i> publisher or consumer connects to a node that does not hold the queue. It
</I>&gt;<i> also seems beneficial from a fault tolerance standpoint to have messages for
</I>&gt;<i> a logical queue spread evenly across n nodes.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> One downside I see is the maintenance of these nodes: changing a binding
</I>&gt;<i> means changing it in n places.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Is this an acceptable approach, or am I barking up the wrong tree?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Adam
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111019/90310b3b/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20111019/90310b3b/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015601.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
	<LI>Next message: <A HREF="015606.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15603">[ date ]</a>
              <a href="thread.html#15603">[ thread ]</a>
              <a href="subject.html#15603">[ subject ]</a>
              <a href="author.html#15603">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
