<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Possible clustering layout
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Possible%20clustering%20layout&In-Reply-To=%3Cb9b22583-c63e-48fa-b5bf-cc559641b2b6%40CoachZ.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015598.html">
   <LINK REL="Next"  HREF="015603.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Possible clustering layout</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Possible%20clustering%20layout&In-Reply-To=%3Cb9b22583-c63e-48fa-b5bf-cc559641b2b6%40CoachZ.local%3E"
       TITLE="[rabbitmq-discuss] Possible clustering layout">jerryk at vmware.com
       </A><BR>
    <I>Wed Oct 19 18:38:17 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015598.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
        <LI>Next message: <A HREF="015603.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15601">[ date ]</a>
              <a href="thread.html#15601">[ thread ]</a>
              <a href="subject.html#15601">[ subject ]</a>
              <a href="author.html#15601">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Adam...

I'm perhaps a bit confused.  I assume your goal is tolerating the failure of
individual nodes?

Have you looked at the new active/active HA that debuted in RabbitMQ 2.6.x?
It allows for queues to be replicated automatically across the nodes of a 
cluster with a user-selectable number of replicas.

Older Rabbits also support an active/passive HA using shared storage.

As you suggest, you might find building the sort of logic you're talking about 
entirely outside of the broker daunting and surprisingly difficult to get 
quite what you want out of, as well as being difficult to administer.

Best regards,
Jerry

----- Original Message -----
From: &quot;Adam Rabung&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">adamrabung at gmail.com</A>&gt;
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Sent: Wednesday, October 19, 2011 6:39:54 AM
Subject: [rabbitmq-discuss] Possible clustering layout



Hello, I am thinking through how to lay out a rabbit cluster. One possible clustering approach would be have all exchanges/queues duplicated across each node in the cluster. Publishers load balance which node they publish to, and consumers subscribe to their applicable queues on all nodes. Each node is completely independent. 


This approach seems to have the benefit of avoiding unforeseen hops when a publisher or consumer connects to a node that does not hold the queue. It also seems beneficial from a fault tolerance standpoint to have messages for a logical queue spread evenly across n nodes. 


One downside I see is the maintenance of these nodes: changing a binding means changing it in n places. 


Is this an acceptable approach, or am I barking up the wrong tree? 


Thanks, 
Adam 
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015598.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
	<LI>Next message: <A HREF="015603.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15601">[ date ]</a>
              <a href="thread.html#15601">[ thread ]</a>
              <a href="subject.html#15601">[ subject ]</a>
              <a href="author.html#15601">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
