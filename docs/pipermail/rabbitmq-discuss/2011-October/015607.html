<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Upgrading...
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrading...&In-Reply-To=%3Cc8884141-d44e-40ff-bad3-96e10ab66cc1%40CoachZ.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015605.html">
   <LINK REL="Next"  HREF="015608.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Upgrading...</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrading...&In-Reply-To=%3Cc8884141-d44e-40ff-bad3-96e10ab66cc1%40CoachZ.local%3E"
       TITLE="[rabbitmq-discuss] Upgrading...">jerryk at vmware.com
       </A><BR>
    <I>Wed Oct 19 19:37:12 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015605.html">[rabbitmq-discuss] Upgrading...
</A></li>
        <LI>Next message: <A HREF="015608.html">[rabbitmq-discuss] Upgrading...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15607">[ date ]</a>
              <a href="thread.html#15607">[ thread ]</a>
              <a href="subject.html#15607">[ subject ]</a>
              <a href="author.html#15607">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Also:  with some further consideration a straight out RPM upgrade
really shouldn't have destroyed your existing data.  Can you
reproduce that on a test system somewhere and let us know what
versions of everything you used and what you saw?  It may have
been some other mishap on the system, but if you have a cut and
dried case of an RPM upgrade hosing away existing data, I'd like
to look into that...

Best regards,
Jerry

----- Original Message -----
From: &quot;Jerry Kuch&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt;
To: &quot;James Carr&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">james.r.carr at gmail.com</A>&gt;
Cc: &quot;rabbitmq-discuss&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
Sent: Wednesday, October 19, 2011 11:24:07 AM
Subject: Re: [rabbitmq-discuss] Upgrading...

Rabbit's generally pretty smart (at least with upgrades between modern
versions) about migrating over and updating Mnesia contents and the
like.  What probably happened with the RPM upgrade is that the RPM
install process blew away the directories where that stuff lives.

I think one could make note of where all that stuff is, move it aside 
for safekeeping before doing the RPM upgrade/install, and then move it
back, and allow the broker to up-version the stuff at its next start up.
Rabbit's logic for doing the right thing is fairly sophisticated and I'd
think it should work in that scenario, although I've not tried it
myself.

Somebody else on the Rabbit team with more day to day experience on that
stuff is likely able to comment more authoritatively, or at least refute
what I just said if it's obviously wrongheaded...?

Best regards,
Jerry

----- Original Message -----
From: &quot;James Carr&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">james.r.carr at gmail.com</A>&gt;
To: &quot;rabbitmq-discuss&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
Sent: Wednesday, October 19, 2011 11:02:03 AM
Subject: [rabbitmq-discuss] Upgrading...

Is there a nice simple way to upgrade rabbitMQ and have all of the
queues. exchanges, and users ported over?

I just upgraded on our test servers using the noarch RPM on Oracle
Enterprise Linux and noticed that all of the users, queues, and
exchanges  are now gone.

Thanks,
James
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015605.html">[rabbitmq-discuss] Upgrading...
</A></li>
	<LI>Next message: <A HREF="015608.html">[rabbitmq-discuss] Upgrading...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15607">[ date ]</a>
              <a href="thread.html#15607">[ thread ]</a>
              <a href="subject.html#15607">[ subject ]</a>
              <a href="author.html#15607">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
