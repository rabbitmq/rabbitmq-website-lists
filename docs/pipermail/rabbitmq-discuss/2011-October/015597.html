<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Connection remains valid but disappears from rabbitmqctl list_connections &amp; RMQ Admin HTTP Interface
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Connection%20remains%20valid%20but%20disappears%20from%0A%20rabbitmqctl%20list_connections%20%26%20RMQ%20Admin%20HTTP%20Interface&In-Reply-To=%3Cfa0b08a8-f13d-4a9e-b0d8-be49b427f007%40u13g2000prm.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015596.html">
   <LINK REL="Next"  HREF="015598.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Connection remains valid but disappears from rabbitmqctl list_connections &amp; RMQ Admin HTTP Interface</H1>
    <B>Matt G</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Connection%20remains%20valid%20but%20disappears%20from%0A%20rabbitmqctl%20list_connections%20%26%20RMQ%20Admin%20HTTP%20Interface&In-Reply-To=%3Cfa0b08a8-f13d-4a9e-b0d8-be49b427f007%40u13g2000prm.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Connection remains valid but disappears from rabbitmqctl list_connections &amp; RMQ Admin HTTP Interface">mattgurney at gmail.com
       </A><BR>
    <I>Wed Oct 19 14:35:10 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015596.html">[rabbitmq-discuss] Connection remains valid but disappears from rabbitmqctl list_connections &amp; RMQ Admin HTTP Interface
</A></li>
        <LI>Next message: <A HREF="015598.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15597">[ date ]</a>
              <a href="thread.html#15597">[ thread ]</a>
              <a href="subject.html#15597">[ subject ]</a>
              <a href="author.html#15597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, I am using the .net client. I can see what my issue was now. I
was using the VS IDE to debug and I had put a break point into my
code, however I had also set connectionFactory.RequestedHeartbeat to 5
seconds, so after 5 seconds the channel stopped. I don't know why I
thought the messages continued to be delivered after I resumed the
debug session/removed the break point, when I try that now my model &amp;
connection shutdown handlers immediately fire reporting
&quot;System.IO.IOException: Unable to read data from the transport
connection: An established connection was aborted by the software in
your host machine. &quot;. So I guess it is working the way it should,
thanks for the quick reply and sorry for raising a false alarm.

Matt.

On Oct 19, 9:45&#160;pm, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">si... at rabbitmq.com</A>&gt; wrote:
&gt;<i> On 19/10/11 11:28, Matt Gurney - Cloud Integration wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; I was doing some testing today and I noticed that dormant connections
</I>&gt;<i> &gt; disappear from the rabbitmqctl list_connections &amp; the RMQ Admin HTTP
</I>&gt;<i> &gt; Interface screen.
</I>&gt;<i>
</I>&gt;<i> &gt; If I create a new connection, model, exchange, queue and send a message,
</I>&gt;<i> &gt; then sleep for 30 seconds typically after about 10 seconds I will see
</I>&gt;<i> &gt; the connection disappear from the rabbitmqctl list_connections &amp; the RMQ
</I>&gt;<i> &gt; Admin HTTP Interface screen. If the application then sends another
</I>&gt;<i> &gt; message, the connection is still valid and the message is delivered. Is
</I>&gt;<i> &gt; this expected behaviour.
</I>&gt;<i>
</I>&gt;<i> No, that should definitely not be happening - you're using the .net
</I>&gt;<i> client? Can you post some code that demonstrates this?
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i> --
</I>&gt;<i> Simon MacMullen
</I>&gt;<i> RabbitMQ, VMware
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-disc... at lists.rabbitmq.comhttps</A>://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss
</I></PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015596.html">[rabbitmq-discuss] Connection remains valid but disappears from rabbitmqctl list_connections &amp; RMQ Admin HTTP Interface
</A></li>
	<LI>Next message: <A HREF="015598.html">[rabbitmq-discuss] Possible clustering layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15597">[ date ]</a>
              <a href="thread.html#15597">[ thread ]</a>
              <a href="subject.html#15597">[ subject ]</a>
              <a href="author.html#15597">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
