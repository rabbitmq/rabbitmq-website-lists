<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Highest Reliability simple publish to a queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Highest%20Reliability%20simple%20publish%20to%20a%20queue&In-Reply-To=%3C88E590DC4586974D825FC82AE798294E5206892B%40GSVCLU03.ges.ferlan.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015591.html">
   <LINK REL="Next"  HREF="015595.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Highest Reliability simple publish to a queue</H1>
    <B>Busoli, Simone</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Highest%20Reliability%20simple%20publish%20to%20a%20queue&In-Reply-To=%3C88E590DC4586974D825FC82AE798294E5206892B%40GSVCLU03.ges.ferlan.it%3E"
       TITLE="[rabbitmq-discuss] Highest Reliability simple publish to a queue">Simone.Busoli at ferrari.com
       </A><BR>
    <I>Wed Oct 19 11:25:38 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015591.html">[rabbitmq-discuss] Highest Reliability simple publish to a queue
</A></li>
        <LI>Next message: <A HREF="015595.html">[rabbitmq-discuss] Highest Reliability simple publish to a queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15592">[ date ]</a>
              <a href="thread.html#15592">[ thread ]</a>
              <a href="subject.html#15592">[ subject ]</a>
              <a href="author.html#15592">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://groups.google.com/d/topic/rabbitmq-discuss/3gfagTaY97k/discussion">https://groups.google.com/d/topic/rabbitmq-discuss/3gfagTaY97k/discussion</A>

-----Original Message-----
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Matt G
Sent: mercoled&#236; 19 ottobre 2011 12:16
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] Highest Reliability simple publish to a queue

Thanks Simone, Which of my six questions do you think I can find the answer for in the archives, I am not finding the answers I am after.
If anyone else can have a quick look at my questions it would be much appreciated, I am a new comer to RMQ and I think my questions may be simple for anyone with some experience.

Our requirement is to reliably persist the web service payload into a RMQ as per the &quot;Responsibility Transfer&quot; pattern on page 21 of the RabbitMQ .Net Client Library User Guide. I have implemented the options as described in that section, I am just checking if there is anything else I need.

The lack of any documentation on WaitForConfirmsOrDie() bothers me, currently I am assuming that it blocks program execution until all confirm/nack/ack/reply due to the Model/Channel.ConfirmSelect are received. But I can not find this documented anywhere. I mean, is that what it does, how long does it wait before the &quot;Die&quot; and what happens when it &quot;Dies&quot; etc.

On Oct 19, 6:35&#160;am, Simone Busoli &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simone.bus... at gmail.com</A>&gt; wrote:
&gt;<i> Hi Mike, this has been asked several times on the list recently, I 
</I>&gt;<i> think you will find your answer by searching the archives.
</I>&gt;<i> By the way, I am curious why you want to do everything synchronously 
</I>&gt;<i> as you wouldn't need Rabbit for that.
</I>&gt;<i> On Oct 18, 2011 4:32 PM, &quot;Matt G&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mattgur... at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> &gt; Hi,
</I>&gt;<i>
</I>&gt;<i> &gt; I have a simple scenario where a web service will receive a http 
</I>&gt;<i> &gt; request and I would like to insert the request into a queue, and be 
</I>&gt;<i> &gt; sure the message has arrived on the queue before synchronously 
</I>&gt;<i> &gt; responding to the http request.
</I>&gt;<i>
</I>&gt;<i> &gt; Ideally I would like RMQ to &quot;guarantee&quot; that the message has been 
</I>&gt;<i> &gt; delivered to the queue. I have been using IBM MQ and TIBCO EMS (JMS
</I>&gt;<i> &gt; implementation) for many years, but I am new to RMQ.
</I>&gt;<i>
</I>&gt;<i> &gt; Performance is not an issue, the volume will not be an issue.
</I>&gt;<i>
</I>&gt;<i> &gt; I am using c# with latest AMQ versions on Windows and Linux.
</I>&gt;<i>
</I>&gt;<i> &gt; So far it appears to me that I should use the following, can you 
</I>&gt;<i> &gt; review my list and edit as necessary:
</I>&gt;<i> &gt; Durable exchange
</I>&gt;<i> &gt; ExchangeType.Direct
</I>&gt;<i> &gt; Durable queue
</I>&gt;<i> &gt; Persistent message (Delivery Mode = 2) Mandatory message 
</I>&gt;<i> &gt; Model/Channel.ConfirmSelect &amp; &#160;Model.WaitForConfirmsOrDie();
</I>&gt;<i>
</I>&gt;<i> &gt; I also setup event handlers BasicAcks, BasicNacks &amp; BasicReturn.
</I>&gt;<i> &gt; If for testing purposes I unbind the queue from the exchange, and 
</I>&gt;<i> &gt; send a single message, &#160;I get a BasicAck and a BasicReturn(NO_ROUTE) 
</I>&gt;<i> &gt; back, however the Model.WaitForConfirmsOrDie() returns without 
</I>&gt;<i> &gt; error. This seems inconsistent in that my message has been lost as 
</I>&gt;<i> &gt; there is no queue bound to the exchange and I have specified 
</I>&gt;<i> &gt; mandatory and every persistent option I can find. Is this correct, 
</I>&gt;<i> &gt; or am I doing something wrong? Do I need to do/check both 
</I>&gt;<i> &gt; (WaitForConfirms &amp; BasicReturn event
</I>&gt;<i> &gt; msg) to be sure the message was successfully delivered to the queue?
</I>&gt;<i>
</I>&gt;<i> &gt; Where is the documentation for API calls which are not documented in 
</I>&gt;<i> &gt; the API doc, an example is WaitForConfirmsOrDie, but there are many 
</I>&gt;<i> &gt; others?
</I>&gt;<i>
</I>&gt;<i> &gt; I read one of the other posts directing people away from 
</I>&gt;<i> &gt; transactions and towards the Model/Channel.ConfirmSelect &amp;
</I>&gt;<i> &gt; Model.WaitForConfirmsOrDie() model, so I have not investigated 
</I>&gt;<i> &gt; transactions.
</I>&gt;<i>
</I>&gt;<i> &gt; What about connection heart beating? I know from my experience with 
</I>&gt;<i> &gt; other products HB's are good way to keep the client and server 
</I>&gt;<i> &gt; in-sync and aware if the other party has gone off line. Should I 
</I>&gt;<i> &gt; overwrite the default which appears to be no heartbeats?
</I>&gt;<i>
</I>&gt;<i> &gt; I am not currently using any of the helper/pattern classes, would 
</I>&gt;<i> &gt; one of those be suitable for my requirements for high reliability.
</I>&gt;<i>
</I>&gt;<i> &gt; Thanks,
</I>&gt;<i> &gt; Matt.
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-disc... at lists.rabbitmq.com</A>
</I>&gt;<i> &gt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-disc... at lists.rabbitmq.comhttps</A>://lists.rabbitmq.com/cgi-bin/
</I>&gt;<i> mailman/listinfo/rabbitmq-discuss
</I>_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>

_________________________________________________________________________________________________________________
Questo messaggio &#232; da intendersi esclusivamente ad uso del destinatario e pu&#242; contenere informazioni che sono di natura privilegiata, confidenziale
o non divulgabile secondo le leggi vigenti. Se il lettore del presente messaggio non &#232; il destinatario designato, o il dipendente/agente responsabile
per la consegna del messaggio al destinatario designato, si informa che ogni disseminazione, distribuzione o copiatura di questa comunicazione &#232; 
strettamente proibita anche ai sensi del decreto legislativo 196/03 . Se avete ricevuto questo messaggio per errore, vi preghiamo di notificarcelo
immediatamente a mezzo e-mail di risposta e successivamente di procedere alla cancellazione di questa e-mail e relativi allegati dal vostro sistema.
_________________________________________________________________________________________________________________
This message is intended only for the use of the addressee and may contain information that is privileged, confidential and exempt from 
disclosure under applicable law. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the 
message to the intended recipient, you are hereby notified that any dissemination, distribution or copying of this communication is strictly 
prohibited. If you have received this e-mail in error, please notify us immediately by return e-mail and delete this e-mail and all attachments from 
your system.
_________________________________________________________________________________________________________________


</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015591.html">[rabbitmq-discuss] Highest Reliability simple publish to a queue
</A></li>
	<LI>Next message: <A HREF="015595.html">[rabbitmq-discuss] Highest Reliability simple publish to a queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15592">[ date ]</a>
              <a href="thread.html#15592">[ thread ]</a>
              <a href="subject.html#15592">[ subject ]</a>
              <a href="author.html#15592">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
