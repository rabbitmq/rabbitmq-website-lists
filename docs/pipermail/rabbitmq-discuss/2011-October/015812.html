<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Consuming one queue versus many queues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consuming%20one%20queue%20versus%20many%20queues&In-Reply-To=%3C97baced7-1d1e-42df-8145-255049bd13cf%40g7g2000vbv.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015794.html">
   <LINK REL="Next"  HREF="015814.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Consuming one queue versus many queues</H1>
    <B>Ilya Volodarsky</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consuming%20one%20queue%20versus%20many%20queues&In-Reply-To=%3C97baced7-1d1e-42df-8145-255049bd13cf%40g7g2000vbv.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Consuming one queue versus many queues">ilya at classmetric.com
       </A><BR>
    <I>Thu Oct 27 05:40:12 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015794.html">[rabbitmq-discuss] RabbitMQ writes non stop to disk
</A></li>
        <LI>Next message: <A HREF="015814.html">[rabbitmq-discuss] Consuming one queue versus many queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15812">[ date ]</a>
              <a href="thread.html#15812">[ thread ]</a>
              <a href="subject.html#15812">[ subject ]</a>
              <a href="author.html#15812">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am thinking about the RabbitMQ topology for my new API. Each API
call has an API key, and can be one of three calls. I'll have the
three controllers parse / validate the arguments, and then enqueue the
tasks in RabbitMQ. I will then have a service that consumes this
queue(s), and process each of the tasks.

Each API calls will take different times to process.

The question is, should I have

1. One queue where all API calls are fed into (1 queue)
2. One queue per API call (3 queues)
3. One queue per API key (N queueswhere N is the number of customers)
4. One queue per APi key / API operations (3*N queues)

Is there a performance advantage to dequeuing from multiple queues
versus just one? I know that each queue has around 4kb of extra
information with it, so we don't want to make too many. Is there any
sort of locking disadvantage to just having one queue with a lot of
traffic?

Thanks for your help!
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015794.html">[rabbitmq-discuss] RabbitMQ writes non stop to disk
</A></li>
	<LI>Next message: <A HREF="015814.html">[rabbitmq-discuss] Consuming one queue versus many queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15812">[ date ]</a>
              <a href="thread.html#15812">[ thread ]</a>
              <a href="subject.html#15812">[ subject ]</a>
              <a href="author.html#15812">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
