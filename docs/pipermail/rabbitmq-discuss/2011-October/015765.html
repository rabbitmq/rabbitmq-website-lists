<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Initial Questions on RabbitMQ and AMQP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Initial%20Questions%20on%20RabbitMQ%20and%20AMQP&In-Reply-To=%3C4EA72C2C.70800%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015764.html">
   <LINK REL="Next"  HREF="015766.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Initial Questions on RabbitMQ and AMQP</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Initial%20Questions%20on%20RabbitMQ%20and%20AMQP&In-Reply-To=%3C4EA72C2C.70800%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Initial Questions on RabbitMQ and AMQP">matthias at rabbitmq.com
       </A><BR>
    <I>Tue Oct 25 22:37:48 BST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="015764.html">[rabbitmq-discuss] Initial Questions on RabbitMQ and AMQP
</A></li>
        <LI>Next message: <A HREF="015766.html">[rabbitmq-discuss] RabbitMQ-C library: channel_max
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15765">[ date ]</a>
              <a href="thread.html#15765">[ thread ]</a>
              <a href="subject.html#15765">[ subject ]</a>
              <a href="author.html#15765">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Mark,

(since we are having a discussion about reliable message delivery, I 
figured I'd illustrate the point by sending a garbled message first ;)

On 25/10/11 21:51, Mark Petrovic wrote:
&gt;<i> 1) No ONCE-ONLY semantics. Messages may be sent twice by RabbitMQ to
</I>&gt;<i> the consumer(s)
</I>
That only happens if something went wrong and, in effect, the message is 
&quot;retried&quot;.

Once-only / exactly-once are tricky to define, and impossible to 
implement if taken literally. There has been some previous discussion on 
the subject. A quick search of the archives brings up

<A HREF="http://old.nabble.com/Exactly-Once-Delivery-td29333136.html">http://old.nabble.com/Exactly-Once-Delivery-td29333136.html</A>
and
<A HREF="http://old.nabble.com/Cluster-failover-behaviour-td26785946.html#a26786952">http://old.nabble.com/Cluster-failover-behaviour-td26785946.html#a26786952</A>

&gt;<i> 2) Unordered; not FIFO delivery
</I>&gt;<i> Would someone here be kind enough to talk about why section 4.7 of the
</I>&gt;<i> 0.9.1 spec reads ever so slightly tortured?
</I>
The language in the spec is a bit tortured because it needs to define 
things in terms of observable/testable behaviours.

As Alexis said, think of email. Or even snail mail. And the 
circumstances under which you would expect order to be preserved.

One aspect not easily explained by these analogies is retries i.e. when, 
due to a failure or explicit rejection, a message that has been 
delivered to a client is re-queued and subsequently re-delivered. The 
spec says that no ordering guarantees hold at that point. And indeed it 
is difficult to define the guarantees here for all possible scenarios. 
But for common scenarios, say a single consumer that has received a 
bunch of messages and dies before acknowledging them, the ordering could 
be maintained. Currently RabbitMQ does not do that, but this will change 
in the next release.

Regards,

Matthias.
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015764.html">[rabbitmq-discuss] Initial Questions on RabbitMQ and AMQP
</A></li>
	<LI>Next message: <A HREF="015766.html">[rabbitmq-discuss] RabbitMQ-C library: channel_max
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15765">[ date ]</a>
              <a href="thread.html#15765">[ thread ]</a>
              <a href="subject.html#15765">[ subject ]</a>
              <a href="author.html#15765">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
