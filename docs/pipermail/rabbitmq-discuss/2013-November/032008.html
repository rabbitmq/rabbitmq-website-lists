<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Difference between get and consume.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Difference%20between%20get%20and%20consume.&In-Reply-To=%3CCAAt2poJZUNj1dzcNZbZVAOGBDi4PpdESMoJUAQW1aXhqkrgKBg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031956.html">
   <LINK REL="Next"  HREF="031955.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Difference between get and consume.</H1>
    <B>Alan Antonuk</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Difference%20between%20get%20and%20consume.&In-Reply-To=%3CCAAt2poJZUNj1dzcNZbZVAOGBDi4PpdESMoJUAQW1aXhqkrgKBg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Difference between get and consume.">alan.antonuk at gmail.com
       </A><BR>
    <I>Tue Nov 19 05:57:41 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031956.html">[rabbitmq-discuss] Difference between get and consume.
</A></li>
        <LI>Next message: <A HREF="031955.html">[rabbitmq-discuss] Logging all messages all the time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32008">[ date ]</a>
              <a href="thread.html#32008">[ thread ]</a>
              <a href="subject.html#32008">[ subject ]</a>
              <a href="author.html#32008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>William;


On Thu, Nov 14, 2013 at 12:14 PM, William Weens &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">william.weens at gmail.com</A>&gt;wrote:
&gt;<i>
</I>&gt;<i> Suppose you start to consume (amqp_basic_consume) and loop over the frames
</I>&gt;<i> when a exception is thrown and you exit the loop.
</I>&gt;<i>
</I>&gt;<i> Remaining messages in the queue are consumed but not examined anymore :
</I>&gt;<i>
</I>&gt;<i> - is there a way to find these &quot;lost&quot; messages ?
</I>&gt;<i>
</I>
Yes. Any messages that are delivered, but not acked by the client will be
redelivered by the broker in the event an exception is returned to the
client. (assuming you didn't specify no_ack when setting up your consumer).
Depending on the type of exception (channel or connection) you will need to
open a new channel, and create a new consumer to get these messages
redelivered.


&gt;<i>
</I>&gt;<i> Won't it be safer to get one, handle it, catch exceptions if any and then
</I>&gt;<i> move to the other one ?
</I>&gt;<i>
</I>
You should handle exceptions as they're received by the client. Attempting
to use a channel after it has thrown an exception will result in a
connection exception being thrown (which means you'd need to close and
re-open the entire connection).

- if yes, does &quot;get&quot; method consume the message as well ?
&gt;<i>
</I>Get synchronously polls the broker for new messages. It does have the same
effect of removing a message from the front of the queue in question on the
broker.

-Alan
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131118/22559c45/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131118/22559c45/attachment.htm</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031956.html">[rabbitmq-discuss] Difference between get and consume.
</A></li>
	<LI>Next message: <A HREF="031955.html">[rabbitmq-discuss] Logging all messages all the time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32008">[ date ]</a>
              <a href="thread.html#32008">[ thread ]</a>
              <a href="subject.html#32008">[ subject ]</a>
              <a href="author.html#32008">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
