<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Exchange details are not set while creating with Put Method in c#
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exchange%20details%20are%20not%20set%20while%20creating%0A%20with%20Put%20Method%20in%20c%23&In-Reply-To=%3C5294B6D6.7070605%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032168.html">
   <LINK REL="Next"  HREF="032170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Exchange details are not set while creating with Put Method in c#</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exchange%20details%20are%20not%20set%20while%20creating%0A%20with%20Put%20Method%20in%20c%23&In-Reply-To=%3C5294B6D6.7070605%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Exchange details are not set while creating with Put Method in c#">simon at rabbitmq.com
       </A><BR>
    <I>Tue Nov 26 14:57:26 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032168.html">[rabbitmq-discuss] Exchange details are not set while	creating	with Put Method in c#
</A></li>
        <LI>Next message: <A HREF="032170.html">[rabbitmq-discuss] Exchange details are not set while creating with Put Method in c#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32169">[ date ]</a>
              <a href="thread.html#32169">[ thread ]</a>
              <a href="subject.html#32169">[ subject ]</a>
              <a href="author.html#32169">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26/11/13 13:37, Tobias Gutzmann wrote:

&gt;<i> You're probably using Windows? If so, you must encode the command
</I>&gt;<i> line arguments to curl differently to get rid of the &quot;400 Bad
</I>&gt;<i> Request&quot; error message, see <A HREF="https://www.rabbitmq.com/ha.html">https://www.rabbitmq.com/ha.html</A> (far
</I>&gt;<i> down on the page) and
</I>&gt;<i> <A HREF="http://rabbitmq.1065348.n5.nabble.com/Http-API-new-user-td29013.html#message29088">http://rabbitmq.1065348.n5.nabble.com/Http-API-new-user-td29013.html#message29088</A>
</I>
Oh, good spot!

Note that we now document the Windows convention in the HTTP API 
documentation too:

<A HREF="http://hg.rabbitmq.com/rabbitmq-management/raw-file/rabbitmq_v3_2_1/priv/www/api/index.html">http://hg.rabbitmq.com/rabbitmq-management/raw-file/rabbitmq_v3_2_1/priv/www/api/index.html</A>

Cheers, Simon

&gt;<i>  Regards, Tobias
</I>&gt;<i>
</I>&gt;<i> -----Ursprungligt meddelande----- Fr&#229;n:
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>
</I>&gt;<i> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] F&#246;r Lijo
</I>&gt;<i> Sebastian Skickat: den 26 november 2013 12:58 Till: Simon MacMullen
</I>&gt;<i> Kopia: Discussions about RabbitMQ &#196;mne: Re: [rabbitmq-discuss]
</I>&gt;<i> Exchange details are not set while creating with Put Method in c#
</I>&gt;<i>
</I>&gt;<i> Simon,
</I>&gt;<i>
</I>&gt;<i> I tried with the curl  (RabbitHub Way)
</I>&gt;<i>
</I>&gt;<i> : curl -v -X PUT -H &quot;content-type:application/json&quot; -d
</I>&gt;<i> '{&quot;type&quot;:&quot;direct&quot;, &quot;durable&quot;:true}'
</I>&gt;<i> <A HREF="http://guest:guest@servername:15670/endpoint/x/foo1231">http://guest:guest@servername:15670/endpoint/x/foo1231</A>
</I>&gt;<i>
</I>&gt;<i> and Got the same result: Created but of fanout type.
</I>&gt;<i>
</I>&gt;<i> curl: (3) [globbing] unmatched close brace/bracket at pos 13 *
</I>&gt;<i> timeout on name lookup is not supported * About to connect() to
</I>&gt;<i> servername port 15670 (#0) *   Trying 192.168.1.74... * connected *
</I>&gt;<i> Connected to servername  (192.168.1.74) port 15670 (#0) * Server auth
</I>&gt;<i> using Basic with user 'guest'
</I>&gt;&gt;<i> PUT /endpoint/x/foo1231 HTTP/1.1 Authorization: Basic
</I>&gt;&gt;<i> Z3Vlc3Q6Z3Vlc3Q= User-Agent: curl/7.26.0 Host: servername:15670
</I>&gt;&gt;<i> Accept: */* content-type:application/json Content-Length: 14
</I>&gt;&gt;<i>
</I>&gt;<i> * upload completely sent off: 14 out of 14 bytes &lt; HTTP/1.1 201
</I>&gt;<i> Created &lt; Server: MochiWeb/1.0 (Any of you quaids got a smint?) &lt;
</I>&gt;<i> Location: <A HREF="http://servername:15670/endpoint/x/foo1231">http://servername:15670/endpoint/x/foo1231</A> &lt; Date: Tue, 26
</I>&gt;<i> Nov 2013 11:48:41 GMT &lt; Content-Length: 0 &lt; * Connection #0 to host
</I>&gt;<i> rabbitmq.citrus.com left intact * Closing connection #0
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> When Tried RabbitMQ API Way :
</I>&gt;<i>
</I>&gt;<i> curl -i -u guest:guest -H &quot;content-type:application/json&quot;  -X PUT -d
</I>&gt;<i> '{&quot;type&quot;:&quot;direct&quot;,&quot;durable&quot;:true}'
</I>&gt;<i> <A HREF="http://serverName:15672/api/exchanges/%2f/my-new-exchange">http://serverName:15672/api/exchanges/%2f/my-new-exchange</A>
</I>&gt;<i>
</I>&gt;<i> Result : HTTP/1.1 400 Bad Request Server: MochiWeb/1.1
</I>&gt;<i> WebMachine/1.10.0 (never breaks eye contact) Date: Tue, 26 Nov 2013
</I>&gt;<i> 11:56:28 GMT Content-Type: application/json Content-Length: 43
</I>&gt;<i>
</I>&gt;<i> {&quot;error&quot;:&quot;bad_request&quot;,&quot;reason&quot;:&quot;not_json&quot;}
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards, Lijo Sebastian Senior Software Engineer Citrus Informatics
</I>&gt;<i> (India) Pvt Ltd. -----Original Message----- From: Simon MacMullen
</I>&gt;<i> Sent: Tuesday, November 26, 2013 4:07 PM To: Lijo Sebastian Cc:
</I>&gt;<i> Discussions about RabbitMQ Subject: Re: [rabbitmq-discuss] Exchange
</I>&gt;<i> details are not set while creating with Put Method in c#
</I>&gt;<i>
</I>&gt;<i> On 26/11/2013 10:12, Lijo Sebastian wrote:
</I>&gt;&gt;<i> Yes i do read the response. The response says with
</I>&gt;&gt;<i> StatusDescription Created.
</I>&gt;<i>
</I>&gt;<i> Hmm. We only reply with 201 Created to POST requests - a successful
</I>&gt;<i> PUT returns a 204 No Content. So I wonder what's going on.
</I>&gt;<i>
</I>&gt;<i> Can you reproduce the problem with curl or similar?
</I>&gt;<i>
</I>&gt;&gt;<i> Regarding the coding, i may or may not be a non-c# expert, but this
</I>&gt;&gt;<i> is the basic format of creating a HttpWebRequest in c#.
</I>&gt;<i>
</I>&gt;<i> Sorry, I meant *I* was not a C# expert!
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>&gt;<i> _______________________________________________ rabbitmq-discuss
</I>&gt;<i> mailing list <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> _______________________________________________ rabbitmq-discuss
</I>&gt;<i> mailing list <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032168.html">[rabbitmq-discuss] Exchange details are not set while	creating	with Put Method in c#
</A></li>
	<LI>Next message: <A HREF="032170.html">[rabbitmq-discuss] Exchange details are not set while creating with Put Method in c#
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32169">[ date ]</a>
              <a href="thread.html#32169">[ thread ]</a>
              <a href="subject.html#32169">[ subject ]</a>
              <a href="author.html#32169">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
