<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Subscribing an Exchange with RabbitHub
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Subscribing%20an%20Exchange%20with%20RabbitHub&In-Reply-To=%3CF055D40FD2884BECA79AD36B023A4F1E%40Lijo%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031887.html">
   <LINK REL="Next"  HREF="031876.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Subscribing an Exchange with RabbitHub</H1>
    <B>Lijo Sebastian</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Subscribing%20an%20Exchange%20with%20RabbitHub&In-Reply-To=%3CF055D40FD2884BECA79AD36B023A4F1E%40Lijo%3E"
       TITLE="[rabbitmq-discuss] Subscribing an Exchange with RabbitHub">lijo at citrusinformatics.com
       </A><BR>
    <I>Wed Nov 13 05:20:30 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031887.html">[rabbitmq-discuss] Subscribing an Exchange with RabbitHub
</A></li>
        <LI>Next message: <A HREF="031876.html">[rabbitmq-discuss] PRECONDITION_FAILED question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31888">[ date ]</a>
              <a href="thread.html#31888">[ thread ]</a>
              <a href="subject.html#31888">[ subject ]</a>
              <a href="author.html#31888">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Okai. I got the url with hub.challenge=&lt;token&gt; as a querystring.
How should i return this challenge token back to webserver?


Currently i tried with

// Retrieves challengetoken 
string challenge = request.QueryString[&quot;hub.challenge&quot;];

// Converting the text to byteArray
byte[] challengeBuffer = Encoding.UTF8.GetBytes(challenge);

// Writes buffer into the response body.
Response.Body.Write(challengeBuffer, 0, challengeBuffer.Length);

But this is the result i got..

* upload completely sent off: 117 out of 117 bytes
&lt; HTTP/1.1 500 Internal Server Error
&lt; Server: nginx/1.1.19
&lt; Date: Wed, 13 Nov 2013 05:15:09 GMT
&lt; Content-Length: 0
&lt; Connection: keep-alive
&lt;
* Connection #0 to host xxxx.yyyy.com left intact
* Closing connection #0

What could be the possible error here?



Regards, 
Lijo Sebastian
Senior Software Engineer
Citrus Informatics (India) Pvt Ltd.

From: Brett Cameron 
Sent: Wednesday, November 13, 2013 10:07 AM
To: rabbitmq-discuss 
Subject: Re: [rabbitmq-discuss] Subscribing an Exchange with RabbitHub

That's correct. As per the documentation you can also specify a duration for the subscription (after which it will be expired), etc.

Just be sure to note that the initial challenge is a GET; messages are then forwarded to the URL using POST.

On 13/11/2013 5:31 PM, &quot;Lijo Sebastian&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lijo at citrusinformatics.com</A>&gt; wrote:

  Oh, so can i specify any url as a callback url and satisfy request verification.
  any client url that can do verification on this request right?



  Regards, 
  Lijo Sebastian
  Senior Software Engineer
  Citrus Informatics (India) Pvt Ltd.

  From: Brett Cameron 
  Sent: Wednesday, November 13, 2013 2:05 AM
  To: Discussions about RabbitMQ 
  Subject: Re: [rabbitmq-discuss] Subscribing an Exchange with RabbitHub

  Lijo,


  The error indicates that your web server at rabbitmq.citrus.com did not respond correctly to the initial challenge request. When a subscription is requested, RabbitHub sends a challenge request (HTTP GET) to the specified URL. The challenge request sends a token and the web server is expected to respond to the challenge request by sending back the same token in the response body. Assuming this process completes successfully the subscription will be activated. Once the subscription has been activated, RabbitHub will send to the subscription URL any messages matching the subscription (note that messages are sent using HTTP POST, not GET).


  Brett





  On Wed, Nov 13, 2013 at 1:43 AM, Lijo Sebastian &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lijo at citrusinformatics.com</A>&gt; wrote:

    Hi,
            Please guide me through. 
                I am using RabbitHub plugin for RESTish way of publishing messages.
                Creating and Deleting Exchanges or Queues are working fine. 
                Also able to publish message with http post method to queues subscribed through amqp. 

    But how to achieve subscribe with RabbitHub.

    I tried the example available with RabbitHub tutorial.  Added my call back  url . Got Error.

    What could be the possibilities of the below shown error?

    Thanks in Advance!!!

    Error : 

    Request verification failed: challenge_mismatch* Connection #0 to host rabbitmq
    citrus.com left intact
    * Closing connection #0


    Regards, 
    Lijo Sebastian
    Senior Software Engineer
    Citrus Informatics (India) Pvt Ltd.

    _______________________________________________
    rabbitmq-discuss mailing list
    <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
    <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>





------------------------------------------------------------------------------
  _______________________________________________
  rabbitmq-discuss mailing list
  <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
  <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>


  _______________________________________________
  rabbitmq-discuss mailing list
  <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
  <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>




--------------------------------------------------------------------------------
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131113/7928bda2/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131113/7928bda2/attachment.htm</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031887.html">[rabbitmq-discuss] Subscribing an Exchange with RabbitHub
</A></li>
	<LI>Next message: <A HREF="031876.html">[rabbitmq-discuss] PRECONDITION_FAILED question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31888">[ date ]</a>
              <a href="thread.html#31888">[ thread ]</a>
              <a href="subject.html#31888">[ subject ]</a>
              <a href="author.html#31888">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
