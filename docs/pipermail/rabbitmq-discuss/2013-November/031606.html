<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Stomp, subscriptions, and forward slashes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Stomp%2C%20subscriptions%2C%20and%20forward%20slashes&In-Reply-To=%3C527576F9.5040108%40seegrid.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031604.html">
   <LINK REL="Next"  HREF="031623.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Stomp, subscriptions, and forward slashes</H1>
    <B>Brennan Sellner</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Stomp%2C%20subscriptions%2C%20and%20forward%20slashes&In-Reply-To=%3C527576F9.5040108%40seegrid.com%3E"
       TITLE="[rabbitmq-discuss] Stomp, subscriptions, and forward slashes">bsellner at seegrid.com
       </A><BR>
    <I>Sat Nov  2 22:04:41 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031604.html">[rabbitmq-discuss] Rabbitmq Crash Reports.
</A></li>
        <LI>Next message: <A HREF="031623.html">[rabbitmq-discuss] Stomp, subscriptions, and forward slashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31606">[ date ]</a>
              <a href="thread.html#31606">[ thread ]</a>
              <a href="subject.html#31606">[ subject ]</a>
              <a href="author.html#31606">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everyone,

I'm currently in the process of using the web-stomp plugin to add
messaging to the browser to our existing RabbitMQ-linked system.  I've
run into a bit of a snag, however: long before we even contemplated
STOMP, we started including forward slashes in our exchange names (e.g.
robot/hardware/laser or server/chat).

This worked well across a variety of AMQP clients, but is wreaking havoc
with STOMP, since a subscription for all messages on the server/chat
exchange now looks like:

  client.subscribe ( '/exchange/server/chat/#', on_chat_msg );

This fails, with Rabbit complaining thusly (presumably due to the extra
/ and the resulting ambiguity):

=ERROR REPORT==== 2-Nov-2013::17:56:13 ===
STOMP error frame sent:
Message: &quot;Invalid destination&quot;
Detail: &quot;'/server/chat/#' is not a valid exchange destination\n&quot;
Server private detail: none

I'm able to get everything working if I omit the forward slash in the
exchange name.  However, I'd prefer to not have to make a system-wide
breaking change to our exchange names just to add another client.

Is there any way to escape the slash in the exchange name when
subscribing via web-stomp?  I've blindly tried a few options (i.e. '\\/'
or '%47'), but with no luck.  <A HREF="http://www.rabbitmq.com/stomp.html">http://www.rabbitmq.com/stomp.html</A>
indicates that the / should be replaced by %47 (and decoded on the far
end?), but I haven't seen any evidence of that occurring.

Any thoughts?

Thanks,

-Brennan

My apologies for the below:

Email Confidentiality Notice

The information contained in this transmission is confidential, proprietary or privileged and may be subject to protection under the law. This message is intended for the sole use of the individual or entity to whom it's addressed. If you are not the intended recipient, you are notified that any use, distribution or copying of the message is strictly prohibited and may subject you to criminal or civil penalties. If you received this transmission in error, please contact the sender immediately by replying to this email and delete the material from any computer.
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031604.html">[rabbitmq-discuss] Rabbitmq Crash Reports.
</A></li>
	<LI>Next message: <A HREF="031623.html">[rabbitmq-discuss] Stomp, subscriptions, and forward slashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31606">[ date ]</a>
              <a href="thread.html#31606">[ thread ]</a>
              <a href="subject.html#31606">[ subject ]</a>
              <a href="author.html#31606">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
