<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] When I switch my network connection from one	wifi router to another, two consumers are created
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20When%20I%20switch%20my%20network%20connection%20from%20one%0A%09wifi%20router%20to%20another%2C%20two%20consumers%20are%20created&In-Reply-To=%3C284068AB-7484-4A5F-9B18-718B614FB27D%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031595.html">
   <LINK REL="Next"  HREF="031598.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] When I switch my network connection from one	wifi router to another, two consumers are created</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20When%20I%20switch%20my%20network%20connection%20from%20one%0A%09wifi%20router%20to%20another%2C%20two%20consumers%20are%20created&In-Reply-To=%3C284068AB-7484-4A5F-9B18-718B614FB27D%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] When I switch my network connection from one	wifi router to another, two consumers are created">mklishin at gopivotal.com
       </A><BR>
    <I>Sat Nov  2 08:19:26 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031595.html">[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created
</A></li>
        <LI>Next message: <A HREF="031598.html">[rabbitmq-discuss] queue selection based on a 'feature list'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31597">[ date ]</a>
              <a href="thread.html#31597">[ thread ]</a>
              <a href="subject.html#31597">[ subject ]</a>
              <a href="author.html#31597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2 Nov 2013, at 09:47, L H, Wong &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lhwong at gmail.com</A>&gt; wrote:

&gt;<i> The first connection has not been closed on the server although it has been closed on the client side (the close command doesn't get sent to the server as the network connection is already down). The first connection on the server only gets closed after heartbeat timeout (default 600s). 
</I>&gt;<i> 
</I>&gt;<i> During the 600s, M1, M2, M3 and M4 published to the queue. New connection only get M2, and M4 during the 600s. After the first connection closed, the new connection/channel gets M1 and M3. What I want to achieve is to be able to get all of the messages in real-time.  
</I>
The heartbeat timeout can be configured in the client. Do that and RabbitMQ will detect closed
connections much faster. You can also consider tuning your server&#8217;s TCP stack, although
heartbeats is probably a much easier way to solve the problem.

MK

Software Engineer, Pivotal/RabbitMQ


</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031595.html">[rabbitmq-discuss] When I switch my network connection from one wifi router to another, two consumers are created
</A></li>
	<LI>Next message: <A HREF="031598.html">[rabbitmq-discuss] queue selection based on a 'feature list'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31597">[ date ]</a>
              <a href="thread.html#31597">[ thread ]</a>
              <a href="subject.html#31597">[ subject ]</a>
              <a href="author.html#31597">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
