<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Delivery / Redelivery counter plugin
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Delivery%20/%20Redelivery%20counter%20plugin&In-Reply-To=%3C52836E2B.1020601%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031903.html">
   <LINK REL="Next"  HREF="031908.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Delivery / Redelivery counter plugin</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Delivery%20/%20Redelivery%20counter%20plugin&In-Reply-To=%3C52836E2B.1020601%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Delivery / Redelivery counter plugin">emile at rabbitmq.com
       </A><BR>
    <I>Wed Nov 13 12:18:51 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031903.html">[rabbitmq-discuss] Delivery / Redelivery counter plugin
</A></li>
        <LI>Next message: <A HREF="031908.html">[rabbitmq-discuss] Delivery / Redelivery counter plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31905">[ date ]</a>
              <a href="thread.html#31905">[ thread ]</a>
              <a href="subject.html#31905">[ subject ]</a>
              <a href="author.html#31905">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,


On 13/11/13 11:55, Karl Nilsson wrote:

&gt;<i> I know there is a planned feature for this (basic / deliver / 01) but I
</I>&gt;<i> checked with Alvaro who has confirmed it isn't a priority at this time
</I>&gt;<i> so we could do with some kind of half-way house in the meantime.
</I>

The priority of this feature has just raised because it is determined in
part by demand.

The complete implementation of toxic message handling is complicated by
the need for on-disk representations to change in order to accommodate
the counter information. Maintaining the counter in RAM is not an option
since the redelivery information could be unbounded.

This feature would need to modify and interact with multiple broker
subsystems, so not the ideal for a plugin.

The best alternative at present is to use the redelivery flag as an
indicator that a message may be suspect. It is possible to extend the
utility of the redelivery flag slightly by republishing redelivered
messages to a separate queue for high-risk messages. If messages from
the high-disk queue again have the redelivery flag set then the message
is probably toxic and should be handled as an exception.



-Emile










</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031903.html">[rabbitmq-discuss] Delivery / Redelivery counter plugin
</A></li>
	<LI>Next message: <A HREF="031908.html">[rabbitmq-discuss] Delivery / Redelivery counter plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31905">[ date ]</a>
              <a href="thread.html#31905">[ thread ]</a>
              <a href="subject.html#31905">[ subject ]</a>
              <a href="author.html#31905">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
