<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq server at 100% CPU after sleep mode
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20server%20at%20100%25%20CPU%20after%20sleep%20mode&In-Reply-To=%3C527B7F51.3070405%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031752.html">
   <LINK REL="Next"  HREF="031756.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq server at 100% CPU after sleep mode</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20server%20at%20100%25%20CPU%20after%20sleep%20mode&In-Reply-To=%3C527B7F51.3070405%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq server at 100% CPU after sleep mode">simon at rabbitmq.com
       </A><BR>
    <I>Thu Nov  7 11:53:53 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031752.html">[rabbitmq-discuss] Rabbitmq server at 100% CPU after sleep mode
</A></li>
        <LI>Next message: <A HREF="031756.html">[rabbitmq-discuss] C# client w/ASP.NET Channels not going away
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31769">[ date ]</a>
              <a href="thread.html#31769">[ thread ]</a>
              <a href="subject.html#31769">[ subject ]</a>
              <a href="author.html#31769">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi.

I'm afraid there's not a great deal we can do about this - as far as I 
am aware it's Mnesia which is using 100% CPU on resume, and it's not 
possible for us to fix that (basically it has internal timers which fire 
every so often and when it comes back all the missed timer events fire).

Cheers, Simon

On 06/11/13 18:53, Jan Wedel wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I&#8217;m not sure if this has been discussed already or even solved, but here&#8217;s the problem:
</I>&gt;<i>
</I>&gt;<i> I&#8217;m running rabbit 3.2 built with brew on OSX 10.9.
</I>&gt;<i>
</I>&gt;<i> Everytime I return from sleep mode or hibernate, the beam.smp process is running at 100% CPU. Sometimes it returns back to normal, sometimes I have to kill the process (probably because I&#8217;m impatient).
</I>&gt;<i>
</I>&gt;<i> If I try to run rabbitmqctl, also this process hangs:
</I>&gt;<i>
</I>&gt;<i> $ rabbitmqctl report
</I>&gt;<i> Reporting server status on {{2013,11,6},{18,26,21}}
</I>&gt;<i>
</I>&gt;<i>   ...
</I>&gt;<i> Status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A> ...
</I>&gt;<i> ^C
</I>&gt;<i> BREAK: (a)bort (c)ontinue (p)roc info (i)nfo (l)oaded
</I>&gt;<i>         (v)ersion (k)ill (D)b-tables (d)istribution
</I>&gt;<i> a
</I>&gt;<i>
</I>&gt;<i> $ rabbitmqctl status
</I>&gt;<i> Status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at localhost</A> ...
</I>&gt;<i> ^C
</I>&gt;<i> BREAK: (a)bort (c)ontinue (p)roc info (i)nfo (l)oaded
</I>&gt;<i>         (v)ersion (k)ill (D)b-tables (d)istribution
</I>&gt;<i> a
</I>&gt;<i>
</I>&gt;<i> Any ideas how to solve the problem? Can I provide any information? The log files doesn&#8217;t have any entries today although the problem just occurred.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i>
</I>&gt;<i> Jan
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031752.html">[rabbitmq-discuss] Rabbitmq server at 100% CPU after sleep mode
</A></li>
	<LI>Next message: <A HREF="031756.html">[rabbitmq-discuss] C# client w/ASP.NET Channels not going away
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31769">[ date ]</a>
              <a href="thread.html#31769">[ thread ]</a>
              <a href="subject.html#31769">[ subject ]</a>
              <a href="author.html#31769">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
