<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] previous connection is NOT automatically	closed if IP different
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20previous%20connection%20is%20NOT%20automatically%0A%09closed%20if%20IP%20different&In-Reply-To=%3C720B658B-9351-4BD2-BD5C-3FF3ED3C5DCA%40gopivotal.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031617.html">
   <LINK REL="Next"  HREF="031622.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] previous connection is NOT automatically	closed if IP different</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20previous%20connection%20is%20NOT%20automatically%0A%09closed%20if%20IP%20different&In-Reply-To=%3C720B658B-9351-4BD2-BD5C-3FF3ED3C5DCA%40gopivotal.com%3E"
       TITLE="[rabbitmq-discuss] previous connection is NOT automatically	closed if IP different">mklishin at gopivotal.com
       </A><BR>
    <I>Mon Nov  4 08:11:28 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031617.html">[rabbitmq-discuss] previous connection is NOT automatically closed if IP different
</A></li>
        <LI>Next message: <A HREF="031622.html">[rabbitmq-discuss] previous connection is NOT automatically closed if IP different
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31620">[ date ]</a>
              <a href="thread.html#31620">[ thread ]</a>
              <a href="subject.html#31620">[ subject ]</a>
              <a href="author.html#31620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On nov 4, 2013, at 5:24 AM, L H, Wong &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">lhwong at gmail.com</A>&gt; wrote:

&gt;<i> I am wondering why if IP for first and second connections are the same (in the scenarios in which the connection lost and resumed almost immediately via same network) the first connection gets closed almost immediately after the second connection was established.
</I>
I don&#8217;t have an immediate answer but IP connections are not identified by IP&#8217;s. They are
identified by a tuple of {protocol, client IP, client port, server IP, server port}.

Unless Android tries to be smart and reuse ports in their TCP/IP stack implementation,
client ports should be ephemeral (randomly taken from a pool of tens of thousands
available ports).

May I ask how you manage to reconnect from the same device on a different IP?
--
MK

Software Engineer, Pivotal/RabbitMQ

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 495 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131104/fab24d86/attachment.pgp">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131104/fab24d86/attachment.pgp</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031617.html">[rabbitmq-discuss] previous connection is NOT automatically closed if IP different
</A></li>
	<LI>Next message: <A HREF="031622.html">[rabbitmq-discuss] previous connection is NOT automatically closed if IP different
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31620">[ date ]</a>
              <a href="thread.html#31620">[ thread ]</a>
              <a href="subject.html#31620">[ subject ]</a>
              <a href="author.html#31620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
