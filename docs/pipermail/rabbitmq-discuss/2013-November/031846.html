<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Stats node getting slow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Stats%20node%20getting%20slow&In-Reply-To=%3CCAKZAfCVDBrWHhJPkiVGP%2BXzS6%3D7MeNuUOXeXCxf9VdtHcVbXTQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031845.html">
   <LINK REL="Next"  HREF="031979.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Stats node getting slow</H1>
    <B>Pierpaolo Baccichet</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Stats%20node%20getting%20slow&In-Reply-To=%3CCAKZAfCVDBrWHhJPkiVGP%2BXzS6%3D7MeNuUOXeXCxf9VdtHcVbXTQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Stats node getting slow">pierpaolo at dropbox.com
       </A><BR>
    <I>Mon Nov 11 14:51:30 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031845.html">[rabbitmq-discuss] Stats node getting slow
</A></li>
        <LI>Next message: <A HREF="031979.html">[rabbitmq-discuss] Stats node getting slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31846">[ date ]</a>
              <a href="thread.html#31846">[ thread ]</a>
              <a href="subject.html#31846">[ subject ]</a>
              <a href="author.html#31846">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Doh, thanks Michael!

This gives me the ability to script everything up so yeah, I am going to
let the dust settle this week and then try to convince the oncall (the
pages for this module go to somebody else at this point so it's not really
my call :) ) to revert to the old config over the weekend and help you guys
out narrowing the issue.

BTW, it could be related or not but since I am at it I thought to report
it: I did some throughput benchmarks a year ago on 3.0.x series trying to
figure what sustained message rates we could get in different replication
configurations. I repeated the experiments recently on 3.1.x and noticed
that the numbers dropped quite a bit. It's difficult to say exactly by how
much because we are serving also live traffic now on the same cluster so
there is less isolation but I would say the throughput dropped by 20/30%. I
wonder if this can also be related to the stats node messing up. Not super
important right now because we ended up using redis for the component that
was generating that high volume since anyway they just needed a lightweight
pub/sub and not really the queueing features that much.

Thanks again for the help and hopefully I'll get back to you with some data
soon.

Best, Pier


On Mon, Nov 11, 2013 at 6:28 AM, Michael Klishin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt;wrote:

&gt;<i> On 11 Nov 2013, at 18:24, Pierpaolo Baccichet &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pierpaolo at dropbox.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;  A related question, is there a way to programmatically figure which one
</I>&gt;<i> is the stats node in the cluster? I could not find the config in the HTTP
</I>&gt;<i> API
</I>&gt;<i>
</I>&gt;<i> GET /api/overview and see &quot;statistics_db_node&quot;
</I>&gt;<i>
</I>&gt;<i> MK
</I>&gt;<i>
</I>&gt;<i> Software Engineer, Pivotal/RabbitMQ
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131111/e06953cf/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131111/e06953cf/attachment.htm</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031845.html">[rabbitmq-discuss] Stats node getting slow
</A></li>
	<LI>Next message: <A HREF="031979.html">[rabbitmq-discuss] Stats node getting slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31846">[ date ]</a>
              <a href="thread.html#31846">[ thread ]</a>
              <a href="subject.html#31846">[ subject ]</a>
              <a href="author.html#31846">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
