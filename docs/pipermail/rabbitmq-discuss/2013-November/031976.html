<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] no error or exception
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20no%20error%20or%20exception&In-Reply-To=%3C59BF56992750434F89F8EBE141E64B1D01835971%40GAALPA1MSGUSR9C.ITServices.sbc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031975.html">
   <LINK REL="Next"  HREF="031978.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] no error or exception</H1>
    <B>PATAR, SAGAR</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20no%20error%20or%20exception&In-Reply-To=%3C59BF56992750434F89F8EBE141E64B1D01835971%40GAALPA1MSGUSR9C.ITServices.sbc.com%3E"
       TITLE="[rabbitmq-discuss] no error or exception">sp345s at att.com
       </A><BR>
    <I>Fri Nov 15 20:00:03 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031975.html">[rabbitmq-discuss] no error or exception
</A></li>
        <LI>Next message: <A HREF="031978.html">[rabbitmq-discuss] no error or exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31976">[ date ]</a>
              <a href="thread.html#31976">[ thread ]</a>
              <a href="subject.html#31976">[ subject ]</a>
              <a href="author.html#31976">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks..
I was dot using 1.2.0.RELEASE vesion of spring-rabbit and spring-amqp  libraries and so was not able to see those options ..
Now I was able to configure  the confirm-callback .. BUT for some reason
The spring-rabbit (<A HREF="http://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/core/RabbitTemplate.html">http://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/core/RabbitTemplate.html</A>)
Supports send&lt;<A HREF="http://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/core/RabbitTemplate.html#send(java.lang.String,%20java.lang.String,%20org.springframework.amqp.core.Message,%20org.springframework.amqp.rabbit.support.CorrelationData">http://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/core/RabbitTemplate.html#send(java.lang.String,%20java.lang.String,%20org.springframework.amqp.core.Message,%20org.springframework.amqp.rabbit.support.CorrelationData</A>)&gt;(String&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true">http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true</A>&gt; exchange, String&lt;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true">http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true</A>&gt; routingKey, Message&lt;<A HREF="http://docs.spring.io/spring-amqp/api/org/springframework/amqp/core/Message.html">http://docs.spring.io/spring-amqp/api/org/springframework/amqp/core/Message.html</A>&gt; message, CorrelationData&lt;<A HREF="http://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/support/CorrelationData.html">http://docs.spring.io/spring-amqp/api/org/springframework/amqp/rabbit/support/CorrelationData.html</A>&gt; correlationData)

But the spring-amqp jar's doesn't  has this method call ..

Below is my context file configuration .. not sure what's missing ...

&lt;beans xmlns=&quot;<A HREF="http://www.springframework.org/schema/beans&quot;">http://www.springframework.org/schema/beans&quot;</A>
       xmlns:xsi=&quot;<A HREF="http://www.w3.org/2001/XMLSchema-instance&quot;">http://www.w3.org/2001/XMLSchema-instance&quot;</A>
       xmlns:rabbit=&quot;<A HREF="http://www.springframework.org/schema/rabbit&quot;">http://www.springframework.org/schema/rabbit&quot;</A>
       xsi:schemaLocation=&quot;<A HREF="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</A>
       <A HREF="http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</A> <A HREF="http://www.springframework.org/schema/rabbit">http://www.springframework.org/schema/rabbit</A>
       <A HREF="http://www.springframework.org/schema/rabbit/spring-rabbit-1.2.xsd&quot;">http://www.springframework.org/schema/rabbit/spring-rabbit-1.2.xsd&quot;</A>&gt;

       &lt;import resource=&quot;classpath*:jmsclient-context.xml&quot; /&gt;

       &lt;rabbit:connection-factory id=&quot;connectionFactory&quot; channel-cache-size=&quot;${channel.cache}&quot;
              publisher-confirms=&quot;true&quot;
       host=&quot;${hostname}&quot; port=&quot;${port}&quot;
       username=&quot;${username}&quot;
              password=&quot;${password}&quot; /&gt;

       &lt;rabbit:admin connection-factory=&quot;connectionFactory&quot; /&gt;

       &lt;rabbit:template id=&quot;amqpTemplate&quot; connection-factory=&quot;connectionFactory&quot; confirm-callback=&quot;dlCallBack&quot;/&gt;

       &lt;bean id=&quot;dlCallBack&quot; class=&quot;com.att.dlife.dlcore.mbus.client.DLCallBack&quot;&gt;
       &lt;/bean&gt;

&lt;/beans&gt;

From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Gary Russell
Sent: Friday, November 15, 2013 2:33 PM
To: Discussions about RabbitMQ
Subject: Re: [rabbitmq-discuss] no error or exception

See the various spring-amqp reference documentation sections about how to configure the template (and connection factory) for 'publisher confirms' <A HREF="http://docs.spring.io/spring-amqp/reference/html/amqp.html#d4e209">http://docs.spring.io/spring-amqp/reference/html/amqp.html#d4e209</A>

Essentially, when you send a message, you provide some correlation data; when the ack is received, you get a callback with the result (ack/nack) together with the correlation data (so you know which message the ack is for).

On Fri, Nov 15, 2013 at 2:04 PM, PATAR, SAGAR &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sp345s at att.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sp345s at att.com</A>&gt;&gt; wrote:
Thanks Simon ..

I am using spring rabbit template .. not sure how to implement the basic.ack (option 1) with the configuration ..
Can you pl. provide some sample examples I can refer ..


-----Original Message-----
From: Simon MacMullen [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;]
Sent: Friday, November 15, 2013 8:37 AM
To: Discussions about RabbitMQ
Cc: PATAR, SAGAR
Subject: Re: [rabbitmq-discuss] no error or exception

On 15/11/2013 13:09, PATAR, SAGAR wrote:
&gt;<i> But when we try to post a message it doesn't throw any exception
</I>
That's because publishing is asynchronous. The channel will have closed
due to the permission error but if you just publish and do nothing else
your app won't notice.

Ways you could notice:

* Publish in confirm mode and await a basic.ack
* Publish in mandatory mode and await a basic.return
* Publish in a transaction

These all have performance costs (in approximately increasing order).

Cheers, Simon
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131115/aa1d5d3d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131115/aa1d5d3d/attachment.htm</A>&gt;
</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031975.html">[rabbitmq-discuss] no error or exception
</A></li>
	<LI>Next message: <A HREF="031978.html">[rabbitmq-discuss] no error or exception
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31976">[ date ]</a>
              <a href="thread.html#31976">[ thread ]</a>
              <a href="subject.html#31976">[ subject ]</a>
              <a href="author.html#31976">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
