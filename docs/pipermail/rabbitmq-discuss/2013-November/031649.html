<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] consuming a message from exchange does not seem to work on java client (3.2.0 as well as 3.1.5)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20consuming%20a%20message%20from%20exchange%20does%20not%0A%20seem%20to%20work%20on%20java%20client%20%283.2.0%20as%20well%20as%203.1.5%29&In-Reply-To=%3CCAMcAHLUVxFXobqPTJ7hU0sLB9gbG6HcyLUZLpHTp4mDNXJkDow%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031658.html">
   <LINK REL="Next"  HREF="031651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] consuming a message from exchange does not seem to work on java client (3.2.0 as well as 3.1.5)</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20consuming%20a%20message%20from%20exchange%20does%20not%0A%20seem%20to%20work%20on%20java%20client%20%283.2.0%20as%20well%20as%203.1.5%29&In-Reply-To=%3CCAMcAHLUVxFXobqPTJ7hU0sLB9gbG6HcyLUZLpHTp4mDNXJkDow%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] consuming a message from exchange does not seem to work on java client (3.2.0 as well as 3.1.5)">videlalvaro at gmail.com
       </A><BR>
    <I>Mon Nov  4 16:13:29 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031658.html">[rabbitmq-discuss] consuming a message from exchange does not	seem to work on java client (3.2.0 as well as 3.1.5)
</A></li>
        <LI>Next message: <A HREF="031651.html">[rabbitmq-discuss] consuming a message from exchange does not	seem to work on java client (3.2.0 as well as 3.1.5)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31649">[ date ]</a>
              <a href="thread.html#31649">[ thread ]</a>
              <a href="subject.html#31649">[ subject ]</a>
              <a href="author.html#31649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Is the routing key used when publishing the same as the binding key?


On Mon, Nov 4, 2013 at 7:22 AM, Murugesan Guruswamy &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">murugesan at elementum.com</A>
&gt;<i> wrote:
</I>
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am trying to experiment exchanges and publishing it to an exchange using
</I>&gt;<i> following code:
</I>&gt;<i>
</I>&gt;<i> Connection conn = factory.newConnection(addr);
</I>&gt;<i>
</I>&gt;<i> Channel channel = conn.createChannel();
</I>&gt;<i>
</I>&gt;<i> channel.exchangeDeclare(exchangeName, topicName, true); // durable. topic
</I>&gt;<i> is &quot;direct&quot; and &quot;topic&quot; and have tried both
</I>&gt;<i>
</I>&gt;<i>                 channel.basicPublish(exchangeName, routingKey, null,
</I>&gt;<i> msg.getBytes());
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> consumer code: (Tried both Queueing Consumer and my own Consumer imll).
</I>&gt;<i>
</I>&gt;<i> Channel channel = conn.createChannel();
</I>&gt;<i>
</I>&gt;<i> channel.exchangeDeclare(exchangeName, topicName, true);
</I>&gt;<i>
</I>&gt;<i> channel.queueDeclare(queueName, true, false, false, null);
</I>&gt;<i>
</I>&gt;<i> channel.queueBind(queueName, exchangeName, routingKey);
</I>&gt;<i>
</I>&gt;<i> QueueingConsumer qCon = new QueueingConsumer(channel);
</I>&gt;<i>
</I>&gt;<i>  channel.basicConsume(queueName, false, qCon);
</I>&gt;<i>
</I>&gt;<i> while (true) {
</I>&gt;<i>
</I>&gt;<i> Delivery delivery = qCon.nextDelivery();
</I>&gt;<i>
</I>&gt;<i> System.out.println(&quot;[x] &quot; + new String(delivery.getBody()) + &quot; &quot; +
</I>&gt;<i> delivery.getEnvelope().getRoutingKey());
</I>&gt;<i>
</I>&gt;<i>  qCon.getChannel().basicAck(delivery.getEnvelope().getDeliveryTag(), false
</I>&gt;<i> );
</I>&gt;<i>
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i> Routing key : &quot;test.abc&quot;, queueName : Notification, exchangeName :
</I>&gt;<i> localExchange.
</I>&gt;<i>
</I>&gt;<i> Is there any rabbitmq-server configurations to do?
</I>&gt;<i>
</I>&gt;<i> Please help here.
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Murugesan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Legal Disclaimer: The information contained in this message may be
</I>&gt;<i> privileged and confidential. It is intended to be read only by the
</I>&gt;<i> individual or entity to whom it is addressed or by their designee. If the
</I>&gt;<i> reader of this message is not the intended recipient, you are on notice
</I>&gt;<i> that any distribution of this message, in any form, is strictly prohibited.
</I>&gt;<i> If you have received this message in error, please immediately notify the
</I>&gt;<i> sender and delete or destroy any copy of this message
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131104/45cbfc57/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131104/45cbfc57/attachment.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031658.html">[rabbitmq-discuss] consuming a message from exchange does not	seem to work on java client (3.2.0 as well as 3.1.5)
</A></li>
	<LI>Next message: <A HREF="031651.html">[rabbitmq-discuss] consuming a message from exchange does not	seem to work on java client (3.2.0 as well as 3.1.5)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31649">[ date ]</a>
              <a href="thread.html#31649">[ thread ]</a>
              <a href="subject.html#31649">[ subject ]</a>
              <a href="author.html#31649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
