<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to use HAProxy as a load balancer in RabbitMQ cluster?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20use%20HAProxy%20as%20a%20load%20balancer%20in%0A%20RabbitMQ%20cluster%3F&In-Reply-To=%3CCAH75Yb6k%2BX%3Du5YRe%2B%3DSn3eX-ABtqJM%2BZrahLTkxB7JKxHbioZQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031676.html">
   <LINK REL="Next"  HREF="031692.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to use HAProxy as a load balancer in RabbitMQ cluster?</H1>
    <B>Rajasekhar P</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20use%20HAProxy%20as%20a%20load%20balancer%20in%0A%20RabbitMQ%20cluster%3F&In-Reply-To=%3CCAH75Yb6k%2BX%3Du5YRe%2B%3DSn3eX-ABtqJM%2BZrahLTkxB7JKxHbioZQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] How to use HAProxy as a load balancer in RabbitMQ cluster?">sekhar434145 at gmail.com
       </A><BR>
    <I>Wed Nov  6 05:23:44 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031676.html">[rabbitmq-discuss] How to use HAProxy as a load balancer in	RabbitMQ cluster?
</A></li>
        <LI>Next message: <A HREF="031692.html">[rabbitmq-discuss] How to use HAProxy as a load balancer in RabbitMQ cluster?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31691">[ date ]</a>
              <a href="thread.html#31691">[ thread ]</a>
              <a href="subject.html#31691">[ subject ]</a>
              <a href="author.html#31691">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the response. We are new to using HAProxy and done the HAProxy
setup as per the Rabbit_In_Action.pdf documentation. Here, HAProxy is
installed in Linux and two RabbitMQ nodes are running in two different
windows machines in cluster.

If we are not making any changes related to HAProxy in producer and
consumer code, how does load balancing will work. could you please tell me?

Thank you.


On Tue, Nov 5, 2013 at 6:44 PM, Michael Klishin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt;wrote:

&gt;<i>
</I>&gt;<i> On 5 Nov 2013, at 17:10, Rajasekhar P &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sekhar434145 at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; We are using HAProxy as a load balancer in RabbitMQ cluster and we have
</I>&gt;<i> done the configuration and able to see the stats, where it will display
</I>&gt;<i> list of running nodes.
</I>&gt;<i> &gt; But, we want to know how to configure for connecting producer and
</I>&gt;<i> consumers and we working on Java client. Could anyone please share the
</I>&gt;<i> sample producer and consumer code which we can test via HAProxy load
</I>&gt;<i> balancer.
</I>&gt;<i>
</I>&gt;<i> The whole point of having a proxy is that clients don&#8217;t need to be aware
</I>&gt;<i> of the cluster topology.
</I>&gt;<i>
</I>&gt;<i> Your clients should connect to HAproxy. There is no difference to
</I>&gt;<i> connecting to a Rabbit node directly.
</I>&gt;<i>
</I>&gt;<i> MK
</I>&gt;<i>
</I>&gt;<i> Software Engineer, Pivotal/RabbitMQ
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131106/d9acec36/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131106/d9acec36/attachment.htm</A>&gt;
</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031676.html">[rabbitmq-discuss] How to use HAProxy as a load balancer in	RabbitMQ cluster?
</A></li>
	<LI>Next message: <A HREF="031692.html">[rabbitmq-discuss] How to use HAProxy as a load balancer in RabbitMQ cluster?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31691">[ date ]</a>
              <a href="thread.html#31691">[ thread ]</a>
              <a href="subject.html#31691">[ subject ]</a>
              <a href="author.html#31691">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
