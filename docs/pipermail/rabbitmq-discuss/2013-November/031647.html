<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] consuming a message from exchange does not seem to work on java client (3.2.0 as well as 3.1.5)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20consuming%20a%20message%20from%20exchange%20does%20not%20seem%0A%20to%20work%20on%20java%20client%20%283.2.0%20as%20well%20as%203.1.5%29&In-Reply-To=%3Cb48a420a-057b-4f1e-b0bc-590693564301%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031656.html">
   <LINK REL="Next"  HREF="031648.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] consuming a message from exchange does not seem to work on java client (3.2.0 as well as 3.1.5)</H1>
    <B>Murugesan Guruswamy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20consuming%20a%20message%20from%20exchange%20does%20not%20seem%0A%20to%20work%20on%20java%20client%20%283.2.0%20as%20well%20as%203.1.5%29&In-Reply-To=%3Cb48a420a-057b-4f1e-b0bc-590693564301%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] consuming a message from exchange does not seem to work on java client (3.2.0 as well as 3.1.5)">murugesan at elementum.com
       </A><BR>
    <I>Mon Nov  4 06:22:42 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031656.html">[rabbitmq-discuss] Unable to access management portal after upgarding erlang and RabbitMQ
</A></li>
        <LI>Next message: <A HREF="031648.html">[rabbitmq-discuss] consuming a message from exchange does not	seem to work on java client (3.2.0 as well as 3.1.5)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31647">[ date ]</a>
              <a href="thread.html#31647">[ thread ]</a>
              <a href="subject.html#31647">[ subject ]</a>
              <a href="author.html#31647">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I am trying to experiment exchanges and publishing it to an exchange using 
following code:

Connection conn = factory.newConnection(addr);

Channel channel = conn.createChannel();

channel.exchangeDeclare(exchangeName, topicName, true); // durable. topic 
is &quot;direct&quot; and &quot;topic&quot; and have tried both

                channel.basicPublish(exchangeName, routingKey, null, 
msg.getBytes());


consumer code: (Tried both Queueing Consumer and my own Consumer imll).

Channel channel = conn.createChannel(); 

channel.exchangeDeclare(exchangeName, topicName, true);

channel.queueDeclare(queueName, true, false, false, null);

channel.queueBind(queueName, exchangeName, routingKey);

QueueingConsumer qCon = new QueueingConsumer(channel);

 channel.basicConsume(queueName, false, qCon);

while (true) {

Delivery delivery = qCon.nextDelivery();

System.out.println(&quot;[x] &quot; + new String(delivery.getBody()) + &quot; &quot; + 
delivery.getEnvelope().getRoutingKey());

 qCon.getChannel().basicAck(delivery.getEnvelope().getDeliveryTag(), false);

}

Routing key : &quot;test.abc&quot;, queueName : Notification, exchangeName : 
localExchange.

Is there any rabbitmq-server configurations to do?

Please help here.

Thanks,
Murugesan




-- 
 

Legal Disclaimer: The information contained in this message may be 
privileged and confidential. It is intended to be read only by the 
individual or entity to whom it is addressed or by their designee. If the 
reader of this message is not the intended recipient, you are on notice 
that any distribution of this message, in any form, is strictly prohibited. 
If you have received this message in error, please immediately notify the 
sender and delete or destroy any copy of this message 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131103/10f8cbff/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131103/10f8cbff/attachment.htm</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031656.html">[rabbitmq-discuss] Unable to access management portal after upgarding erlang and RabbitMQ
</A></li>
	<LI>Next message: <A HREF="031648.html">[rabbitmq-discuss] consuming a message from exchange does not	seem to work on java client (3.2.0 as well as 3.1.5)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31647">[ date ]</a>
              <a href="thread.html#31647">[ thread ]</a>
              <a href="subject.html#31647">[ subject ]</a>
              <a href="author.html#31647">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
