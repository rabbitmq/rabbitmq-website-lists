<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMq on ESXi
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMq%20on%20ESXi&In-Reply-To=%3C98ab0559-0b72-45ac-975e-77a160a0c94d%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="032215.html">
   <LINK REL="Next"  HREF="032223.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMq on ESXi</H1>
    <B>zsolt.erl at gmail.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMq%20on%20ESXi&In-Reply-To=%3C98ab0559-0b72-45ac-975e-77a160a0c94d%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMq on ESXi">zsolt.erl at gmail.com
       </A><BR>
    <I>Wed Nov 27 20:23:02 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="032215.html">[rabbitmq-discuss] Policy for dead letter exchange routing back to queue
</A></li>
        <LI>Next message: <A HREF="032223.html">[rabbitmq-discuss] RabbitMq on ESXi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32192">[ date ]</a>
              <a href="thread.html#32192">[ thread ]</a>
              <a href="subject.html#32192">[ subject ]</a>
              <a href="author.html#32192">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm trying to find out if there are any recommendations for running 
RabbitMq on VMWare ESXi? (eg. clustering, queue mirroring)

I have several 4 node clusters running on ESXi4/5 guests. The guests are 
Ubuntu 10.04 VMs.
Erlang version: R15B. RabbitMq versions: 2.8.2 and 3.0.1 .

The clusters seem to randomly crash every once in a while (about once every 
2 months).
Sometimes the whole cluster crashes, sometimes only a couple nodes and the 
others either work or become unreachable.
Logs only show that the nodes lost connection.
I'm running 4 node clusters with 1 disk node and about 100 queues mirrored 
across 2-3 nodes.
The same thing was happening when I was running a cluster with 4 disk 
nodes. 

Are there any recommended best practices in regards to Virtual Machine 
settings, VMWare network settings or OS settings that could
prevent these random crashes?
Would federation be a better solution then clustering in a virtual 
environment? Or should I just run them on physical hardware?


I realize there's not enough data here to find out what is happening 
exactly but I'm just trying to see if anybody came across similar problems 
and were able to handle it?



Thanks,

Zsolt


 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131127/62bb31bf/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20131127/62bb31bf/attachment.html</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="032215.html">[rabbitmq-discuss] Policy for dead letter exchange routing back to queue
</A></li>
	<LI>Next message: <A HREF="032223.html">[rabbitmq-discuss] RabbitMq on ESXi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#32192">[ date ]</a>
              <a href="thread.html#32192">[ thread ]</a>
              <a href="subject.html#32192">[ subject ]</a>
              <a href="author.html#32192">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
