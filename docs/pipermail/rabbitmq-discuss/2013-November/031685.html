<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq upgrade from 3.1.3 to 3.1.5/3.2.0	Management issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20upgrade%20from%203.1.3%20to%203.1.5/3.2.0%0A%09Management%20issue&In-Reply-To=%3C01DA5FF4-7713-40E1-A102-6100B40BD52F%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="031684.html">
   <LINK REL="Next"  HREF="031702.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq upgrade from 3.1.3 to 3.1.5/3.2.0	Management issue</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20upgrade%20from%203.1.3%20to%203.1.5/3.2.0%0A%09Management%20issue&In-Reply-To=%3C01DA5FF4-7713-40E1-A102-6100B40BD52F%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq upgrade from 3.1.3 to 3.1.5/3.2.0	Management issue">mklishin at gopivotal.com
       </A><BR>
    <I>Tue Nov  5 20:42:35 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="031684.html">[rabbitmq-discuss] Rabbitmq upgrade from 3.1.3 to 3.1.5/3.2.0	Management issue
</A></li>
        <LI>Next message: <A HREF="031702.html">[rabbitmq-discuss] Rabbitmq upgrade from 3.1.3 to 3.1.5/3.2.0 Management issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31685">[ date ]</a>
              <a href="thread.html#31685">[ thread ]</a>
              <a href="subject.html#31685">[ subject ]</a>
              <a href="author.html#31685">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 5 Nov 2013, at 22:58, Alan Hsin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ahsin01 at gmail.com</A>&gt; wrote:

&gt;<i> =ERROR REPORT==== 5-Nov-2013::12:34:59 ===
</I>&gt;<i> webmachine error: path=&quot;/api/definitions&quot;
</I>&gt;<i> {error,{error,function_clause,
</I>&gt;<i>               [{orddict,find,
</I>&gt;<i>                         [vhost,
</I>&gt;<i>                          {dict,0,16,16,8,80,48,
</I>&gt;<i>                                {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                 []},
</I>&gt;<i>                                {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;<i>                                  []}}}]},
</I>&gt;<i>                {rabbit_mgmt_util,id0,2},
</I>&gt;<i>                {rabbit_mgmt_util,vhost,1},
</I>&gt;<i>                {rabbit_mgmt_util,all_or_one_vhost,2},
</I>&gt;<i>                {rabbit_mgmt_wm_exchanges,basic,1},
</I>&gt;<i>                {rabbit_mgmt_wm_definitions,to_json,2},
</I>&gt;<i>                {webmachine_resource,resource_call,3},
</I>&gt;<i>                {webmachine_resource,do,3}]}}
</I>
We traced it down to this Webmachine change:
<A HREF="https://github.com/basho/webmachine/commit/d7dbbddeb9e6a9a415f7a7f09261dfcd3c2bd001">https://github.com/basho/webmachine/commit/d7dbbddeb9e6a9a415f7a7f09261dfcd3c2bd001</A>

RabbitMQ management plugin bundles its own version of Webmachine. Can it be that you
somehow have another copy on the global Erlang load path? (wrq.beam)

There were reports of similar issues earlier and uninstalling a system-wide package
that was included into Erlang code path helped, e.g.

<A HREF="http://markmail.org/thread/mdi4ga635gljvgws">http://markmail.org/thread/mdi4ga635gljvgws</A>

MK

Software Engineer, Pivotal/RabbitMQ


</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="031684.html">[rabbitmq-discuss] Rabbitmq upgrade from 3.1.3 to 3.1.5/3.2.0	Management issue
</A></li>
	<LI>Next message: <A HREF="031702.html">[rabbitmq-discuss] Rabbitmq upgrade from 3.1.3 to 3.1.5/3.2.0 Management issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#31685">[ date ]</a>
              <a href="thread.html#31685">[ thread ]</a>
              <a href="subject.html#31685">[ subject ]</a>
              <a href="author.html#31685">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
