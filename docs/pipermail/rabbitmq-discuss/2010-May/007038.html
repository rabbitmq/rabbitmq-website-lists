<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] [MacOSX]Can't set long node name!\nPlease check	your configuration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BMacOSX%5DCan%27t%20set%20long%20node%20name%21%5CnPlease%20check%0A%09your%20configuration&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007039.html">
   <LINK REL="Next"  HREF="007040.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] [MacOSX]Can't set long node name!\nPlease check	your configuration</H1>
    <B>Andreas Jung</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20%5BMacOSX%5DCan%27t%20set%20long%20node%20name%21%5CnPlease%20check%0A%09your%20configuration&In-Reply-To="
       TITLE="[rabbitmq-discuss] [MacOSX]Can't set long node name!\nPlease check	your configuration">lists at zopyx.com
       </A><BR>
    <I>Sun May  2 17:59:09 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007039.html">[rabbitmq-discuss] binding
</A></li>
        <LI>Next message: <A HREF="007040.html">[rabbitmq-discuss] [MacOSX]Can't set long node name!\nPlease check	your configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7038">[ date ]</a>
              <a href="thread.html#7038">[ thread ]</a>
              <a href="subject.html#7038">[ subject ]</a>
              <a href="author.html#7038">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Starting RabbitMQ 1.7.2 on Snow Leopard now gives me this:

<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ajung at suxmac2</A>:~/sandboxes/occ bin/rabbitmq-server
{error_logger,{{2010,5,2},{18,57,44}},&quot;Can't set long node name!\nPlease
check your configuration\n&quot;,[]}
{error_logger,{{2010,5,2},{18,57,44}},crash_report,[[{initial_call,{net_kernel,init,['Argument__1']}},{pid,&lt;0.21.0&gt;},{registered_name,[]},{error_info,{exit,{error,badarg},[{gen_server,init_it,6},{proc_lib,init_p_do_apply,3}]}},{ancestors,[net_sup,kernel_sup,&lt;0.10.0&gt;]},{messages,[]},{links,[&lt;0.18.0&gt;]},{dictionary,[{longnames,true}]},{trap_exit,true},{status,running},{heap_size,377},{stack_size,24},{reductions,749}],[]]}
{error_logger,{{2010,5,2},{18,57,44}},supervisor_report,[{supervisor,{local,net_sup}},{errorContext,start_error},{reason,{'EXIT',nodistribution}},{offender,[{pid,undefined},{name,net_kernel},{mfa,{net_kernel,start_link,[[rabbit,longnames]]}},{restart_type,permanent},{shutdown,2000},{child_type,worker}]}]}
{error_logger,{{2010,5,2},{18,57,44}},supervisor_report,[{supervisor,{local,kernel_sup}},{errorContext,start_error},{reason,shutdown},{offender,[{pid,undefined},{name,net_sup},{mfa,{erl_distribution,start_link,[]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]}]}
{error_logger,{{2010,5,2},{18,57,44}},std_info,[{application,kernel},{exited,{shutdown,{kernel,start,[normal,[]]}}},{type,permanent}]}
{&quot;Kernel pid
terminated&quot;,application_controller,&quot;{application_start_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}}&quot;}

Crash dump was written to: erl_crash.dump
Kernel pid terminated (application_controller)
({application_start_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}})


The start script is as follows:

<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ajung at suxmac2</A>:~/sandboxes/occ cat bin/rabbitmq-server
#!/bin/sh
NODENAME=rabbit
NODE_IP_ADDRESS=0.0.0.0
NODE_PORT=5672
SERVER_ERL_ARGS=&quot;+K true +A30 -kernel inet_default_listen_options
[{nodelay,true},{sndbuf,16384},{recbuf,4096}] -kernel
inet_default_connect_options [{nodelay,true}]&quot;
CLUSTER_CONFIG_FILE=/Users/ajung/sandboxes/occ/etc/rabbitmq_cluster.config
LOG_BASE=/Users/ajung/sandboxes/occ/var/log/rabbitmq
MNESIA_BASE=/Users/ajung/sandboxes/occ/var
SERVER_START_ARGS=

[ -f /Users/ajung/sandboxes/occ/etc/rabbitmq.conf ] &amp;&amp; .
/Users/ajung/sandboxes/occ/etc/rabbitmq.conf

[ &quot;x&quot; = &quot;x$RABBITMQ_NODENAME&quot; ] &amp;&amp; RABBITMQ_NODENAME=${NODENAME}
[ &quot;x&quot; = &quot;x$RABBITMQ_NODE_IP_ADDRESS&quot; ] &amp;&amp;
RABBITMQ_NODE_IP_ADDRESS=${NODE_IP_ADDRESS}
[ &quot;x&quot; = &quot;x$RABBITMQ_NODE_PORT&quot; ] &amp;&amp; RABBITMQ_NODE_PORT=${NODE_PORT}
[ &quot;x&quot; = &quot;x$RABBITMQ_SERVER_ERL_ARGS&quot; ] &amp;&amp;
RABBITMQ_SERVER_ERL_ARGS=${SERVER_ERL_ARGS}
[ &quot;x&quot; = &quot;x$RABBITMQ_CLUSTER_CONFIG_FILE&quot; ] &amp;&amp;
RABBITMQ_CLUSTER_CONFIG_FILE=${CLUSTER_CONFIG_FILE}
[ &quot;x&quot; = &quot;x$RABBITMQ_LOG_BASE&quot; ] &amp;&amp; RABBITMQ_LOG_BASE=${LOG_BASE}
[ &quot;x&quot; = &quot;x$RABBITMQ_MNESIA_BASE&quot; ] &amp;&amp; RABBITMQ_MNESIA_BASE=${MNESIA_BASE}
[ &quot;x&quot; = &quot;x$RABBITMQ_SERVER_START_ARGS&quot; ] &amp;&amp;
RABBITMQ_SERVER_START_ARGS=${SERVER_START_ARGS}

[ &quot;x&quot; = &quot;x$RABBITMQ_MNESIA_DIR&quot; ] &amp;&amp; RABBITMQ_MNESIA_DIR=${MNESIA_DIR}
[ &quot;x&quot; = &quot;x$RABBITMQ_MNESIA_DIR&quot; ] &amp;&amp;
RABBITMQ_MNESIA_DIR=${RABBITMQ_MNESIA_BASE}/${RABBITMQ_NODENAME}

## Log rotation
[ &quot;x&quot; = &quot;x$RABBITMQ_LOGS&quot; ] &amp;&amp; RABBITMQ_LOGS=${LOGS}
[ &quot;x&quot; = &quot;x$RABBITMQ_LOGS&quot; ] &amp;&amp;
RABBITMQ_LOGS=&quot;${RABBITMQ_LOG_BASE}/${RABBITMQ_NODENAME}.log&quot;
[ &quot;x&quot; = &quot;x$RABBITMQ_SASL_LOGS&quot; ] &amp;&amp; RABBITMQ_SASL_LOGS=${SASL_LOGS}
[ &quot;x&quot; = &quot;x$RABBITMQ_SASL_LOGS&quot; ] &amp;&amp;
RABBITMQ_SASL_LOGS=&quot;${RABBITMQ_LOG_BASE}/${RABBITMQ_NODENAME}-sasl.log&quot;
[ &quot;x&quot; = &quot;x$RABBITMQ_BACKUP_EXTENSION&quot; ] &amp;&amp;
RABBITMQ_BACKUP_EXTENSION=${BACKUP_EXTENSION}
[ &quot;x&quot; = &quot;x$RABBITMQ_BACKUP_EXTENSION&quot; ] &amp;&amp; RABBITMQ_BACKUP_EXTENSION=&quot;.1&quot;

[ -f  &quot;${RABBITMQ_LOGS}&quot; ] &amp;&amp; cat &quot;${RABBITMQ_LOGS}&quot; &gt;&gt;
&quot;${RABBITMQ_LOGS}${RABBITMQ_BACKUP_EXTENSION}&quot;
[ -f  &quot;${RABBITMQ_SASL_LOGS}&quot; ] &amp;&amp; cat &quot;${RABBITMQ_SASL_LOGS}&quot; &gt;&gt;
&quot;${RABBITMQ_SASL_LOGS}${RABBITMQ_BACKUP_EXTENSION}&quot;

if [ -f &quot;$RABBITMQ_CLUSTER_CONFIG_FILE&quot; ]; then
    RABBITMQ_CLUSTER_CONFIG_OPTION=&quot;-rabbit cluster_config
&quot;$RABBITMQ_CLUSTER_CONFIG_FILE&quot;&quot;
else
    RABBITMQ_CLUSTER_CONFIG_OPTION=&quot;&quot;
fi

RABBITMQ_START_RABBIT=
[ &quot;x&quot; = &quot;x$RABBITMQ_NODE_ONLY&quot; ] &amp;&amp; RABBITMQ_START_RABBIT='-noinput -s
rabbit'

# we need to turn off path expansion because some of the vars, notably
# RABBITMQ_SERVER_ERL_ARGS, contain terms that look like globs and
# there is no other way of preventing their expansion.
set -f

exec /usr/bin/erl \
    -pa &quot;/Users/ajung/sandboxes/occ/parts/rabbitmq/ebin&quot; \
    ${RABBITMQ_START_RABBIT} \
    -name ${RABBITMQ_NODENAME} \
    -boot start_sasl \
    +W w \
    ${RABBITMQ_SERVER_ERL_ARGS} \
    -rabbit tcp_listeners '[{&quot;'${RABBITMQ_NODE_IP_ADDRESS}'&quot;,
'${RABBITMQ_NODE_PORT}'}]' \
    -sasl errlog_type error \
    -kernel error_logger '{file,&quot;'${RABBITMQ_LOGS}'&quot;}' \
    -sasl sasl_error_logger '{file,&quot;'${RABBITMQ_SASL_LOGS}'&quot;}' \
    -os_mon start_cpu_sup true \
    -os_mon start_disksup false \
    -os_mon start_memsup false \
    -os_mon start_os_sup false \
    -os_mon memsup_system_only true \
    -os_mon system_memory_high_watermark 0.95 \
    -mnesia dir &quot;\&quot;${RABBITMQ_MNESIA_DIR}\&quot;&quot; \
    ${RABBITMQ_CLUSTER_CONFIG_OPTION} \
    ${RABBITMQ_SERVER_START_ARGS} \
    &quot;$@&quot;


Andreas

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (Darwin)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org/">http://enigmail.mozdev.org/</A>

iEYEARECAAYFAkvdr10ACgkQCJIWIbr9KYyJZgCgr06rg3lukCrroKaYQk25vsdN
OtAAn1/vNfOcppwLsJyc6c6s+ISZhjpO
=Ku+i
-----END PGP SIGNATURE-----
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lists.vcf
Type: text/x-vcard
Size: 316 bytes
Desc: not available
Url : <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100502/38a9aa88/attachment.vcf">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100502/38a9aa88/attachment.vcf</A> 
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007039.html">[rabbitmq-discuss] binding
</A></li>
	<LI>Next message: <A HREF="007040.html">[rabbitmq-discuss] [MacOSX]Can't set long node name!\nPlease check	your configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7038">[ date ]</a>
              <a href="thread.html#7038">[ thread ]</a>
              <a href="subject.html#7038">[ subject ]</a>
              <a href="author.html#7038">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
