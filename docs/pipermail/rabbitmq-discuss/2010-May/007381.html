<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Caching proxy for cloud HA
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Caching%20proxy%20for%20cloud%20HA&In-Reply-To=EFBB60F7-E7C0-45A3-A9E8-9A1367772AAB%40npcinternational.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007231.html">
   <LINK REL="Next"  HREF="007382.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Caching proxy for cloud HA</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Caching%20proxy%20for%20cloud%20HA&In-Reply-To=EFBB60F7-E7C0-45A3-A9E8-9A1367772AAB%40npcinternational.com"
       TITLE="[rabbitmq-discuss] Caching proxy for cloud HA">matthias at rabbitmq.com
       </A><BR>
    <I>Tue May 25 09:36:11 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007231.html">[rabbitmq-discuss] Caching proxy for cloud HA
</A></li>
        <LI>Next message: <A HREF="007382.html">[rabbitmq-discuss] Caching proxy for cloud HA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7381">[ date ]</a>
              <a href="thread.html#7381">[ thread ]</a>
              <a href="subject.html#7381">[ subject ]</a>
              <a href="author.html#7381">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jon,

Jon Brisbin wrote:
&gt;<i> I'm thinking I can also proxy my RabbitMQ servers for HA as well.
</I>&gt;<i> 
</I>&gt;<i> My proxies would be immediately responsive to changes in my cloud 
</I>&gt;<i> services, so servers will drop off and join the cloud at unknown 
</I>&gt;<i> intervals. I'm thinking I could have my RMQ clients connect to the HA
</I>&gt;<i>  proxy, which load-balances requests to the configured back-end 
</I>&gt;<i> servers.
</I>
The proxy would have to operate with sticky sessions, since AMQP is a 
connection/session-oriented protocol, but other than that this should work.

&gt;<i> I could easily introduce caching here because the proxy is
</I>&gt;<i> transparent.
</I>
What would the proxy be caching? All AMQP operations carrying payloads 
are non-idempotent, which makes them unsuitable for caching.

&gt;<i> I could duplicate data coming in to multiple 
</I>&gt;<i> back-end servers
</I>
Multi-casting doesn't make sense for most operations. The obvious 
exception is basic.publish.

What would you do with the responses from the multiple back-end servers? 
How would you deal with operations that return different results 
depending on the back-end server? Anonymous queue declaration is one 
such example. Also, some aspects of AMQP are inherently racy. For 
example, operations on different channels can be executed in any order. 
That too means servers can return different responses for the same 
series of requests.


Regards,

Matthias.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007231.html">[rabbitmq-discuss] Caching proxy for cloud HA
</A></li>
	<LI>Next message: <A HREF="007382.html">[rabbitmq-discuss] Caching proxy for cloud HA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7381">[ date ]</a>
              <a href="thread.html#7381">[ thread ]</a>
              <a href="subject.html#7381">[ subject ]</a>
              <a href="author.html#7381">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
