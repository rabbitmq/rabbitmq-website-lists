<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq recovery, channelflow, and clients
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20recovery%2C%20channelflow%2C%20and%20clients&In-Reply-To=20100523083245.GA11935%40wellquite.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007367.html">
   <LINK REL="Next"  HREF="007401.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq recovery, channelflow, and clients</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20rabbitmq%20recovery%2C%20channelflow%2C%20and%20clients&In-Reply-To=20100523083245.GA11935%40wellquite.org"
       TITLE="[rabbitmq-discuss] rabbitmq recovery, channelflow, and clients">matthias at rabbitmq.com
       </A><BR>
    <I>Wed May 26 17:11:48 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007367.html">[rabbitmq-discuss] rabbitmq recovery, channelflow, and clients
</A></li>
        <LI>Next message: <A HREF="007401.html">[rabbitmq-discuss] rabbitmq recovery, channelflow, and clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7393">[ date ]</a>
              <a href="thread.html#7393">[ thread ]</a>
              <a href="subject.html#7393">[ subject ]</a>
              <a href="author.html#7393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tyler,

On 23/05/10 09:32, Matthew Sackman wrote:
&gt;<i> On Sat, May 22, 2010 at 09:21:32AM -0400, Tyler Williams wrote:
</I>&gt;&gt;<i> ** Reason for termination ==
</I>&gt;&gt;<i> ** {{badmatch,{error,emfile}},
</I>&gt;<i>
</I>&gt;<i> Hmm, you really have run out of file descriptors. This is not meant to
</I>&gt;<i> happen! On Thursday and Friday we added a few fixes to try and prevent
</I>&gt;<i> some mis-behaving clients from overwhelming Rabbit from the connection
</I>&gt;<i> point of view (rapidly opening new sockets etc). I've just merged all
</I>&gt;<i> that into bug21673 so if you pull and try again, I'd be interested to
</I>&gt;<i> see if things have improved there.
</I>
We since then discovered the most likely source of the problem you 
encountered, namely that the fd limiting is ineffective during queue 
recovery. We are working on a fix for that.

Note that the bug is specific to the bug21673 branch and will only get 
triggered if a) rabbit wasn't shut down cleanly, and b) there are lots 
of durable queues and/or these queues have quite a lot of messages.


Regards,

Matthias.

</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007367.html">[rabbitmq-discuss] rabbitmq recovery, channelflow, and clients
</A></li>
	<LI>Next message: <A HREF="007401.html">[rabbitmq-discuss] rabbitmq recovery, channelflow, and clients
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7393">[ date ]</a>
              <a href="thread.html#7393">[ thread ]</a>
              <a href="subject.html#7393">[ subject ]</a>
              <a href="author.html#7393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
