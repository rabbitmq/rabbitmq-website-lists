<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] publishing inside a transaction before acking
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20publishing%20inside%20a%20transaction%20before%20acking&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007329.html">
   <LINK REL="Next"  HREF="007303.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] publishing inside a transaction before acking</H1>
    <B>vishnu</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20publishing%20inside%20a%20transaction%20before%20acking&In-Reply-To="
       TITLE="[rabbitmq-discuss] publishing inside a transaction before acking">pathsny at gmail.com
       </A><BR>
    <I>Tue May 18 11:42:47 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007329.html">[rabbitmq-discuss] RabbitMQ Clustering
</A></li>
        <LI>Next message: <A HREF="007303.html">[rabbitmq-discuss] publishing inside a transaction before acking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7302">[ date ]</a>
              <a href="thread.html#7302">[ thread ]</a>
              <a href="subject.html#7302">[ subject ]</a>
              <a href="author.html#7302">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>we have scenarios where we pick up a message at a time, perform a bunch of
operations, publish a new message and then ack the message we just picked
up. Recently we have started to publish the new message inside a transaction
since this guarantees that the message is persisted (it's a persistent
message), since we want to minimize the odds of message loss. However, we
have started to notice that the original message we pick up is marked as
unacknowledged after we complete our process. Is there something
fundamentally wrong in what we're doing, or is our approach correct?

thanks
Vishnu
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100518/011b2c08/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100518/011b2c08/attachment.htm</A> 
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007329.html">[rabbitmq-discuss] RabbitMQ Clustering
</A></li>
	<LI>Next message: <A HREF="007303.html">[rabbitmq-discuss] publishing inside a transaction before acking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7302">[ date ]</a>
              <a href="thread.html#7302">[ thread ]</a>
              <a href="subject.html#7302">[ subject ]</a>
              <a href="author.html#7302">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
