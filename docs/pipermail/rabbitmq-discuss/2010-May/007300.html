<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] High-number of unack-ed messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20High-number%20of%20unack-ed%20messages&In-Reply-To=20100513134024.GD20620%40mrnibble.lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007275.html">
   <LINK REL="Next"  HREF="007301.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] High-number of unack-ed messages</H1>
    <B>Andreas Jung</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20High-number%20of%20unack-ed%20messages&In-Reply-To=20100513134024.GD20620%40mrnibble.lshift.net"
       TITLE="[rabbitmq-discuss] High-number of unack-ed messages">lists at zopyx.com
       </A><BR>
    <I>Mon May 17 19:36:41 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007275.html">[rabbitmq-discuss] High-number of unack-ed messages
</A></li>
        <LI>Next message: <A HREF="007301.html">[rabbitmq-discuss] High-number of unack-ed messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7300">[ date ]</a>
              <a href="thread.html#7300">[ thread ]</a>
              <a href="subject.html#7300">[ subject ]</a>
              <a href="author.html#7300">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Matthew Sackman wrote:
&gt;<i> Hi Andreas,
</I>&gt;<i> 
</I>&gt;<i> On Thu, May 13, 2010 at 12:02:04PM +0200, Andreas Jung wrote:
</I>&gt;&gt;<i> I inserted some 500k messages with one produce into the queue.
</I>&gt;&gt;<i> Then I attached one consumer to the queue feeding the messages into
</I>&gt;&gt;<i> Solr. The consumer is implemented as callback using the Carrot bindings
</I>&gt;&gt;<i> for Python. Every message is directly acknowledged. However &quot;Alice&quot;
</I>&gt;&gt;<i> always shows me between 300 and 500 unacknowledged messages. Shouldn't
</I>&gt;&gt;<i> that number be 0 or 1?
</I>&gt;<i> 
</I>&gt;<i> Well. It should be low, but if there's no QoS being set by Alice then it
</I>&gt;<i> can get quite high. I would only trust it to be 0 or 1 if Alice was also
</I>&gt;<i> setting a QoS prefetch of 1, and even then, there are cases where the
</I>&gt;<i> unack count can be higher than that.
</I>&gt;<i> 
</I>&gt;<i> After Alice had drained all 500k messages, was the unack count still
</I>&gt;<i> high, or had it dropped to 0 by then?
</I>&gt;<i>
</I>
Since I am not very happy with Alice+Wonderland I would like bring
the discussion back the point: what is the easiest way for getting hold
of the queue names, the number of messages in each queue and the number
of unacknowledged messages? rabbitctl seems to expose only queue names
and the number of messages but not the number of unack-ed messages.

Andreas
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.10 (Darwin)
Comment: Using GnuPG with Mozilla - <A HREF="http://enigmail.mozdev.org/">http://enigmail.mozdev.org/</A>

iEYEARECAAYFAkvxjLkACgkQCJIWIbr9KYxioQCeMLYYSrsTTmXsG5i1sa/wi/mp
T7YAoL25EuCObjZ5rbj/oIb5JkEP6K1m
=+mNG
-----END PGP SIGNATURE-----
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lists.vcf
Type: text/x-vcard
Size: 316 bytes
Desc: not available
Url : <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100517/c7f79b57/attachment.vcf">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100517/c7f79b57/attachment.vcf</A> 
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007275.html">[rabbitmq-discuss] High-number of unack-ed messages
</A></li>
	<LI>Next message: <A HREF="007301.html">[rabbitmq-discuss] High-number of unack-ed messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7300">[ date ]</a>
              <a href="thread.html#7300">[ thread ]</a>
              <a href="subject.html#7300">[ subject ]</a>
              <a href="author.html#7300">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
