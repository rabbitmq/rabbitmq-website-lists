<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] High-number of unack-ed messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20High-number%20of%20unack-ed%20messages&In-Reply-To=4BEBCE1C.7040808%40zopyx.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007263.html">
   <LINK REL="Next"  HREF="007272.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] High-number of unack-ed messages</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20High-number%20of%20unack-ed%20messages&In-Reply-To=4BEBCE1C.7040808%40zopyx.com"
       TITLE="[rabbitmq-discuss] High-number of unack-ed messages">matthew at lshift.net
       </A><BR>
    <I>Thu May 13 14:40:24 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007263.html">[rabbitmq-discuss] High-number of unack-ed messages
</A></li>
        <LI>Next message: <A HREF="007272.html">[rabbitmq-discuss] High-number of unack-ed messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7266">[ date ]</a>
              <a href="thread.html#7266">[ thread ]</a>
              <a href="subject.html#7266">[ subject ]</a>
              <a href="author.html#7266">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Andreas,

On Thu, May 13, 2010 at 12:02:04PM +0200, Andreas Jung wrote:
&gt;<i> I inserted some 500k messages with one produce into the queue.
</I>&gt;<i> Then I attached one consumer to the queue feeding the messages into
</I>&gt;<i> Solr. The consumer is implemented as callback using the Carrot bindings
</I>&gt;<i> for Python. Every message is directly acknowledged. However &quot;Alice&quot;
</I>&gt;<i> always shows me between 300 and 500 unacknowledged messages. Shouldn't
</I>&gt;<i> that number be 0 or 1?
</I>
Well. It should be low, but if there's no QoS being set by Alice then it
can get quite high. I would only trust it to be 0 or 1 if Alice was also
setting a QoS prefetch of 1, and even then, there are cases where the
unack count can be higher than that.

After Alice had drained all 500k messages, was the unack count still
high, or had it dropped to 0 by then?

Matthew

</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007263.html">[rabbitmq-discuss] High-number of unack-ed messages
</A></li>
	<LI>Next message: <A HREF="007272.html">[rabbitmq-discuss] High-number of unack-ed messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7266">[ date ]</a>
              <a href="thread.html#7266">[ thread ]</a>
              <a href="subject.html#7266">[ subject ]</a>
              <a href="author.html#7266">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
