<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Scalability?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Scalability%3F&In-Reply-To=AANLkTilnp5vi3dSI3DfB6QfhtYqSHOZsDZ4aWjweEyKo%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007119.html">
   <LINK REL="Next"  HREF="007147.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Scalability?</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Scalability%3F&In-Reply-To=AANLkTilnp5vi3dSI3DfB6QfhtYqSHOZsDZ4aWjweEyKo%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Scalability?">matthew at lshift.net
       </A><BR>
    <I>Fri May  7 13:00:27 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007119.html">[rabbitmq-discuss] Scalability?
</A></li>
        <LI>Next message: <A HREF="007147.html">[rabbitmq-discuss] Scalability?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7121">[ date ]</a>
              <a href="thread.html#7121">[ thread ]</a>
              <a href="subject.html#7121">[ subject ]</a>
              <a href="author.html#7121">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Wayne,

On Fri, May 07, 2010 at 07:48:54AM -0400, Wayne Van Den Handel wrote:
&gt;<i> I will test the basic consume, thanks for the tip. The machine I am running
</I>&gt;<i> is a single socket 4 core with 4 gigs ram but there are other things running
</I>&gt;<i> and taking up memory. Is there a gc interval that can be set to get memory
</I>&gt;<i> back sooner? As I add messages and remove them I can see the exact memory
</I>&gt;<i> taken with the admin tool and it keeps going up. It seems the rate at which
</I>&gt;<i> I add to the queue exceeds the ability the clear memory. Basically even
</I>&gt;<i> though there is little in the queue at any time the memory use keeps going
</I>&gt;<i> up.
</I>
Rabbit assumes it gets the whole machine's memory to itself. If that's
not the case then you need to reduce the memory high watermark from 0.4
to some much lower figure - say, 0.1.
See <A HREF="http://www.rabbitmq.com/extensions.html#memsup">http://www.rabbitmq.com/extensions.html#memsup</A>

&gt;<i> At this point I am ready to give up until they harden the persister to
</I>&gt;<i> go to disk as I assume the persister is the problem.
</I>
Yup. The new persister currently requires you build from source, but it
is actively being QA'd and great progress has been made getting it into
default. We've gone from about 100 hunks difference a couple of weeks
ago to now about 13 - so things are very much moving in this direction.

In the mean time, many people are already using the new persister, which
is on branch &quot;bug21673&quot; and if you're comfortable compiling from source
and using some code which has not yet completed our QA process, then we
would encourage you to use it, with the understanding that there may
still be bugs in it. Further battle testing is always welcome and should
you come across any bugs, any bug reports you make are very gratefully
received.

Matthew

</PRE>








































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007119.html">[rabbitmq-discuss] Scalability?
</A></li>
	<LI>Next message: <A HREF="007147.html">[rabbitmq-discuss] Scalability?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7121">[ date ]</a>
              <a href="thread.html#7121">[ thread ]</a>
              <a href="subject.html#7121">[ subject ]</a>
              <a href="author.html#7121">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
