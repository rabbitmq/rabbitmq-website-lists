<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Erlang has closed?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Erlang%20has%20closed%3F&In-Reply-To=AANLkTikd7YPxlXS9Rplm_E0H4CN1ENGBjpugwMTGXxvx%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007334.html">
   <LINK REL="Next"  HREF="007319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Erlang has closed?</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Erlang%20has%20closed%3F&In-Reply-To=AANLkTikd7YPxlXS9Rplm_E0H4CN1ENGBjpugwMTGXxvx%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Erlang has closed?">matthew at lshift.net
       </A><BR>
    <I>Wed May 19 16:15:08 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007334.html">[rabbitmq-discuss] Erlang has closed?
</A></li>
        <LI>Next message: <A HREF="007319.html">[rabbitmq-discuss] Consumer stop to receive messages but	continue listening queue problem.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7335">[ date ]</a>
              <a href="thread.html#7335">[ thread ]</a>
              <a href="subject.html#7335">[ subject ]</a>
              <a href="author.html#7335">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, May 19, 2010 at 11:06:23AM -0400, Tyler Williams wrote:
&gt;<i> =INFO REPORT==== 17-May-2010::14:24:30 ===
</I>&gt;<i>     application: rabbit
</I>&gt;<i>     exited: {{timeout_waiting_for_tables,[rabbit_disk_queue]},
</I>&gt;<i>              {rabbit,start,[normal,[]]}}
</I>&gt;<i>     type: temporary
</I>&gt;<i> 
</I>&gt;<i> =ERROR REPORT==== 17-May-2010::14:24:30 ===
</I>&gt;<i> Error in process &lt;0.100.0&gt; on node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at echonest03</A>' with exit
</I>&gt;<i> value: {badarg,[{ets,insert,[rabbit_disk_queue,[{dq_msg_loc,{{resource,&lt;&lt;1
</I>&gt;<i> byte&gt;&gt;,queue,&lt;&lt;9 bytes&gt;&gt;},553567},false,true,&lt;&lt;16
</I>&gt;<i> bytes&gt;&gt;},{dq_msg_loc,{{resource,&lt;&lt;1 byte&gt;&gt;,queue,&lt;&lt;18
</I>&gt;<i> bytes&gt;&gt;},563611},false,true,&lt;&lt;16 bytes&gt;&gt;},{dq_msg_loc,{{resource,&lt;&lt;1
</I>&gt;<i> byte&gt;&gt;,queue,&lt;&lt;18 bytes&gt;&gt;},80964},false,true,&lt;&lt;16
</I>&gt;<i> bytes&gt;&gt;},{dq_msg_loc,{{resource,&lt;&lt;1 byte&gt;&gt;,queue...
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 17-May-2010::14:24:33 ===
</I>&gt;<i>     application: mnesia
</I>&gt;<i>     exited: stopped
</I>&gt;<i>     type: temporary
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 17-May-2010::14:24:33 ===
</I>&gt;<i>     application: os_mon
</I>&gt;<i>     exited: stopped
</I>&gt;<i>     type: temporary
</I>&gt;<i> 
</I>&gt;<i> Can you shed any light on this error?
</I>
I might have been able to last October when I was writing that code. So
much has changed since then that I really can't remember too much about
what was going on back then.

Also, pyamqplib does not support channel.flow. Even with the new
persister, there are times where rabbit gets overwhelmed (disks just
aren't fast enough most of the time) and so needs to temporarily stop
publishers. It does this by using channel.flow. Given that pyamqplib
doesn't support channel.flow, you are very likely to run into problems.
There's a highly experimental patch by Tony (search the mailing list for
it) which adds support for channel.flow, but you might also try looking
at the other python clients such as txamqp and pika.

Matthew

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007334.html">[rabbitmq-discuss] Erlang has closed?
</A></li>
	<LI>Next message: <A HREF="007319.html">[rabbitmq-discuss] Consumer stop to receive messages but	continue listening queue problem.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7335">[ date ]</a>
              <a href="thread.html#7335">[ thread ]</a>
              <a href="subject.html#7335">[ subject ]</a>
              <a href="author.html#7335">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
