<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Clustering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20Clustering&In-Reply-To=49A7BA114AAC6A48B9C44CB06B7B987E0A341B1E%40HYDSVWIN004X.ivycomptech.partygaming.local">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007299.html">
   <LINK REL="Next"  HREF="007302.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Clustering</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20Clustering&In-Reply-To=49A7BA114AAC6A48B9C44CB06B7B987E0A341B1E%40HYDSVWIN004X.ivycomptech.partygaming.local"
       TITLE="[rabbitmq-discuss] RabbitMQ Clustering">emile at rabbitmq.com
       </A><BR>
    <I>Wed May 19 13:07:02 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007299.html">[rabbitmq-discuss] RabbitMQ Clustering
</A></li>
        <LI>Next message: <A HREF="007302.html">[rabbitmq-discuss] publishing inside a transaction before acking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7329">[ date ]</a>
              <a href="thread.html#7329">[ thread ]</a>
              <a href="subject.html#7329">[ subject ]</a>
              <a href="author.html#7329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Hi Radha,

It looks like the version of erlang running on the two hosts are 
different - can you confirm what version of erlang you are using, and 
whether the problem occurs if the versions match? Does the logfile 
contain any relevant information around the time when you execute these 
commands?


-Emile



Radha Krishnan D wrote:
&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> Am trying to cluster two rabbitmq servers running on two independent nodes,
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Node 1 terminal
</I>&gt;<i> 
</I>&gt;<i> --------------------
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> [<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at morungole</A> sbin]# rabbitmqctl status
</I>&gt;<i> 
</I>&gt;<i> ./..
</I>&gt;<i> 
</I>&gt;<i> Status of node <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A> ...
</I>&gt;<i> 
</I>&gt;<i> [{running_applications,[{rabbit,&quot;RabbitMQ&quot;,&quot;1.7.2&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.7&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.1.8&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.5.4&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.15.5&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.12.5&quot;}]},
</I>&gt;<i> 
</I>&gt;<i>  {nodes,[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>]},
</I>&gt;<i> 
</I>&gt;<i>  {running_nodes,[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>]}]
</I>&gt;<i> 
</I>&gt;<i> ...done.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Node 2  terminal
</I>&gt;<i> 
</I>&gt;<i> --------------------------
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> [<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> status
</I>&gt;<i> 
</I>&gt;<i> Status of node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...
</I>&gt;<i> 
</I>&gt;<i> [{running_applications,[{rabbit,&quot;RabbitMQ&quot;,&quot;1.7.2&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.12&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.4&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.8&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.16.4&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.13.4&quot;}]},
</I>&gt;<i> 
</I>&gt;<i>  {nodes,['<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>']},
</I>&gt;<i> 
</I>&gt;<i>  {running_nodes,['<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>']}]
</I>&gt;<i> 
</I>&gt;<i> ...done.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> [<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> 
</I>&gt;<i> stop_app      Stopping node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...
</I>&gt;<i> 
</I>&gt;<i> ...done.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> [<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> 
</I>&gt;<i> reset         Resetting node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...
</I>&gt;<i> 
</I>&gt;<i> ...done.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> [<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> cluster 
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>
</I>&gt;<i> 
</I>&gt;<i> Clustering node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' with [<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>] ...
</I>&gt;<i> 
</I>&gt;<i> ...done.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> [<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> start_app
</I>&gt;<i> 
</I>&gt;<i> Starting node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...
</I>&gt;<i> 
</I>&gt;<i> ...done.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> [<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> status
</I>&gt;<i> 
</I>&gt;<i> Status of node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...
</I>&gt;<i> 
</I>&gt;<i> [{running_applications,[{rabbit,&quot;RabbitMQ&quot;,&quot;1.7.2&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.12&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.4&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.8&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.16.4&quot;},
</I>&gt;<i> 
</I>&gt;<i>                         {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.13.4&quot;}]},
</I>&gt;<i> 
</I>&gt;<i>  {nodes,['<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>']},
</I>&gt;<i> 
</I>&gt;<i>  {running_nodes,['<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>']}]
</I>&gt;<i> 
</I>&gt;<i> ...done.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> Even though it is telling Clustering is done. Both the rabbitmq nodes 
</I>&gt;<i> are not able to recognize each other. 
</I>&gt;<i> 
</I>&gt;<i> Can you please tell me where am going wrong ?\
</I>&gt;<i> 
</I>&gt;<i> The .erlang.cookie  in $HOME was not same at the beginning . Then i 
</I>&gt;<i> copied the .erlang.cookie content from Node 1 (<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>) to Node 
</I>&gt;<i> 2 ( <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> )
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> **Thanks and Regards,**
</I>&gt;<i> 
</I>&gt;<i> **D.Radhakrishnan**
</I>&gt;<i> Trainee Engineer-Architecture
</I>&gt;<i> 
</I>&gt;<i> *IVY Comptech Private Limited*
</I>&gt;<i> Cyber Spazio,Road No 2, Banjara Hills,
</I>&gt;<i> Hyderabad-500034, Andhra Pradesh.
</I>&gt;<i> 
</I>&gt;<i> Phone + 91 (40) 66721000 &#8211; 4638
</I>&gt;<i> Mobile + 91 (0) 9030842104
</I>&gt;<i> 
</I>&gt;<i> This email and any attachments are confidential, legally privileged and 
</I>&gt;<i> protected by copyright. If you are not the intended recipient, 
</I>&gt;<i> dissemination or copying this email is prohibited. If you have received 
</I>&gt;<i> this in error, please notify the sender by replying by email and then 
</I>&gt;<i> delete the email completely from your system.
</I>&gt;<i> 
</I>&gt;<i> Any views or opinions are solely those of  the sender. This 
</I>&gt;<i> communication is not intended to form a binding contract unless 
</I>&gt;<i> expressly indicated to the contrary and properly authorized. Any actions 
</I>&gt;<i> taken on the basis of this email are at recipient&#8217;s own risk.
</I>&gt;<i> 
</I>&gt;<i>  
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> This email is sent for and on behalf of Ivy Comptech Private Limited. 
</I>&gt;<i> Ivy Comptech Private Limited is a limited liability company.
</I>&gt;<i> 
</I>&gt;<i> This email and any attachments are confidential, and may be legally 
</I>&gt;<i> privileged and protected by copyright. If you are not the intended 
</I>&gt;<i> recipient dissemination or copying of this email is prohibited. If you 
</I>&gt;<i> have received this in error, please notify the sender by replying by 
</I>&gt;<i> email and then delete the email completely from your system. Any views 
</I>&gt;<i> or opinions are solely those of the sender.  This communication is not 
</I>&gt;<i> intended to form a binding contract on behalf of Ivy Comptech Private 
</I>&gt;<i> Limited unless expressly indicated to the contrary and properly 
</I>&gt;<i> authorised. Any actions taken on the basis of this email are at the 
</I>&gt;<i> recipient's own risk.
</I>&gt;<i> 
</I>&gt;<i> Registered Office:
</I>&gt;<i> 
</I>&gt;<i> Ivy Comptech Private Limited, Cyber Spazio, Road No. 2, Banjara Hills, 
</I>&gt;<i> Hyderabad 500 033, Andhra Pradesh, India.
</I>&gt;<i> 
</I>&gt;<i> Registered number: 37994. Registered in India. A list of members' names 
</I>&gt;<i> is available for inspection at the registered office.
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>

</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007299.html">[rabbitmq-discuss] RabbitMQ Clustering
</A></li>
	<LI>Next message: <A HREF="007302.html">[rabbitmq-discuss] publishing inside a transaction before acking
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7329">[ date ]</a>
              <a href="thread.html#7329">[ thread ]</a>
              <a href="subject.html#7329">[ subject ]</a>
              <a href="author.html#7329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
