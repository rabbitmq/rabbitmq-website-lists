<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ configuration
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20configuration&In-Reply-To=20100513094538.GA20620%40mrnibble.lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007262.html">
   <LINK REL="Next"  HREF="007270.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ configuration</H1>
    <B>Roaan Vos</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20configuration&In-Reply-To=20100513094538.GA20620%40mrnibble.lshift.net"
       TITLE="[rabbitmq-discuss] RabbitMQ configuration">listuser at codeshrink.com
       </A><BR>
    <I>Thu May 13 13:30:55 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007262.html">[rabbitmq-discuss] RabbitMQ configuration
</A></li>
        <LI>Next message: <A HREF="007270.html">[rabbitmq-discuss] RabbitMQ configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7264">[ date ]</a>
              <a href="thread.html#7264">[ thread ]</a>
              <a href="subject.html#7264">[ subject ]</a>
              <a href="author.html#7264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Thanks for the reply.

Unfortunately it has to be windows as our company does not support non
windows.

As to our usage.

We're processing messages from a stock exchange and setup a routing key
containing of &quot;level.isin&quot;
where the level can be level 1 or level 2 depending on the type of
information and the isin is the stock.

&quot;Clients&quot; can then bind to a specific routing key to get just the
information they need.
I'm thus using RabbitMQ as a way to transfer data and demultiplex the
information that comes through.
I could use RabbitMQ just for the message transfer and then do the
demultiplexing myself but I thought I'd take a shortcut.

On the configuration. Is there some documentation on what or how RabbitMQ
can be configured.
Currently I can't find a configuration file anywhere so don't know where/how
to start.

Thanks again

Roaan

On Thu, May 13, 2010 at 11:45 AM, Matthew Sackman &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at lshift.net</A>&gt;wrote:

&gt;<i> Hi Roaan,
</I>&gt;<i>
</I>&gt;<i> On Thu, May 13, 2010 at 06:57:19AM +0200, Roaan Vos wrote:
</I>&gt;<i> &gt; We've been having problems with RabbitMQ just &quot;hanging&quot;.
</I>&gt;<i> &gt; This is with the default installation, i.e no configuration.
</I>&gt;<i>
</I>&gt;<i> It's likely you've run out of memory and Rabbit's raised the
</I>&gt;<i> channel.flow flag, preventing you from publishing more messages to it.
</I>&gt;<i> Check the logs for memory high watermark warnings. This issue is fixed
</I>&gt;<i> with the new persister branch as messages can be sent to disk and
</I>&gt;<i> forgotten from RAM.
</I>&gt;<i>
</I>&gt;<i> &gt; Can any one help with a configuration file or point me to where I can
</I>&gt;<i> find
</I>&gt;<i> &gt; information on how to configure RabbitMQ.
</I>&gt;<i>
</I>&gt;<i> There's not a great deal you can do to fix this issue other than
</I>&gt;<i> compiling from source with the new persister branch (bug21673), or
</I>&gt;<i> installing much more memory.
</I>&gt;<i>
</I>&gt;<i> &gt; We're running RabbitMQ 1.7.2 on a single node on Windows 2008 Server.
</I>&gt;<i>
</I>&gt;<i> Windows is a bad idea because there is no 64-bit Erlang available. As
</I>&gt;<i> such, it doesn't matter how much RAM you have installed, only 2GB will
</I>&gt;<i> be available to Rabbit. If you need to use Windows then your only
</I>&gt;<i> solution will be to use the new persister branch (but compiling under
</I>&gt;<i> Windows is involved to say the least - you'll need to start with
</I>&gt;<i> cygwin). Really we'd recommend a Linux server here.
</I>&gt;<i>
</I>&gt;<i> That said, all my assumptions may be totally wrong - how many messages
</I>&gt;<i> (and what size) are you buffering in Rabbit? Are you correctly acking
</I>&gt;<i> messages when you're consuming them?
</I>&gt;<i>
</I>&gt;<i> &gt; Also we're aiming on having about 10 thousand clients (connections) each
</I>&gt;<i> &gt; with their own queue. (Using Topics)
</I>&gt;<i> &gt; Is this feasable?
</I>&gt;<i>
</I>&gt;<i> Connections - yes. You will probably need to raise the process limit -
</I>&gt;<i> about a million should be fine. Under non-Windows this would involve
</I>&gt;<i> putting SERVER_START_ARGS=&quot;+P 1048576&quot; into the rabbitmq.conf file
</I>&gt;<i> (which normally lives under /etc/rabbitmq). However, because of lack of
</I>&gt;<i> features of Windows BAT files, there is no such .conf file, so you need
</I>&gt;<i> to set the environment variable RABBITMQ_SERVER_START_ARGS and set the
</I>&gt;<i> value to &quot;+P 1048576&quot;. That should do the trick.
</I>&gt;<i>
</I>&gt;<i> Topic exchanges are inefficient in our current implementation. It's not
</I>&gt;<i> normally necessary to use them either - unless your domain of routing
</I>&gt;<i> keys really is unbounded. Can you describe more about your use case and
</I>&gt;<i> we should be able to advise you further.
</I>&gt;<i>
</I>&gt;<i> Matthew
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100513/2760723e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100513/2760723e/attachment.htm</A> 
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007262.html">[rabbitmq-discuss] RabbitMQ configuration
</A></li>
	<LI>Next message: <A HREF="007270.html">[rabbitmq-discuss] RabbitMQ configuration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7264">[ date ]</a>
              <a href="thread.html#7264">[ thread ]</a>
              <a href="subject.html#7264">[ subject ]</a>
              <a href="author.html#7264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
