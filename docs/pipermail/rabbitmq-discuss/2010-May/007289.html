<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ on Fedora 12 with default Erlang	packages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20on%20Fedora%2012%20with%20default%20Erlang%0A%09packages&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007288.html">
   <LINK REL="Next"  HREF="007291.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ on Fedora 12 with default Erlang	packages</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20on%20Fedora%2012%20with%20default%20Erlang%0A%09packages&In-Reply-To="
       TITLE="[rabbitmq-discuss] RabbitMQ on Fedora 12 with default Erlang	packages">tonyg at lshift.net
       </A><BR>
    <I>Sat May 15 00:21:30 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007288.html">[rabbitmq-discuss] getting a list of exchanges with Java client api
</A></li>
        <LI>Next message: <A HREF="007291.html">[rabbitmq-discuss] RabbitMQ AMQP 0-9-1 spec branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7289">[ date ]</a>
              <a href="thread.html#7289">[ thread ]</a>
              <a href="subject.html#7289">[ subject ]</a>
              <a href="author.html#7289">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

In an IRC discussion yesterday it came to light that Fedora's most recent
Erlang packaging is a little buggy. The erlang-os_mon-R13B-04.10.fc12.x86_64
package includes an os_mon.app which refers to the nteventlog module (a
standard Erlang module) in its {modules,[]} clause, but in a change from
previous releases, does not include the module itself. This causes the
following error when starting RabbitMQ:

{&quot;init terminating in
do_boot&quot;,{{nocatch,{error,{cannot_start_application,rabbit,{bad_return,{{rabbit,start,[normal,[]]},{'EXIT',{undef,[{nteventlog,module_info,[attributes]},{rabbit,'-boot_steps/0-fun-0-',1},{lists,flatmap,2},{lists,flatmap,2},{rabbit,boot_steps,0},{rabbit,start,2},{application_master,start_it_old,4}]}}}}}}},[{init,start_it,1},{init,start_em,1}]}}

Arguably, RabbitMQ should not be affected by such bugs in the hosting Erlang
environment, so I'm going to change the code to ignore missing modules like
that, but in the meantime, affected users will need to edit the file

     /usr/lib/erlang/lib/os_mon-2.2.5/ebin/os_mon.app
or /usr/lib64/erlang/lib/os_mon-2.2.5/ebin/os_mon.app

depending on whether your Fedora is 32- or 64-bit. Edit the clause

{modules, [os_mon, os_mon_mib, os_sup,
           disksup, memsup, cpu_sup, os_mon_sysinfo, nteventlog]},

so that it reads

{modules, [os_mon, os_mon_mib, os_sup,
           disksup, memsup, cpu_sup, os_mon_sysinfo]},

save it, and quit. After this change, RabbitMQ should start normally.

Regards,
  Tony


</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007288.html">[rabbitmq-discuss] getting a list of exchanges with Java client api
</A></li>
	<LI>Next message: <A HREF="007291.html">[rabbitmq-discuss] RabbitMQ AMQP 0-9-1 spec branch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7289">[ date ]</a>
              <a href="thread.html#7289">[ thread ]</a>
              <a href="subject.html#7289">[ subject ]</a>
              <a href="author.html#7289">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
