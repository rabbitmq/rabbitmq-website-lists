<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Unexplained shutdown of RabbitMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Unexplained%20shutdown%20of%20RabbitMQ&In-Reply-To=AANLkTimn5jIVTjRQX2YYY4MUZU_ezcpdg60L_dVAfVHx%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007282.html">
   <LINK REL="Next"  HREF="007284.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Unexplained shutdown of RabbitMQ</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Unexplained%20shutdown%20of%20RabbitMQ&In-Reply-To=AANLkTimn5jIVTjRQX2YYY4MUZU_ezcpdg60L_dVAfVHx%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Unexplained shutdown of RabbitMQ">matthew at lshift.net
       </A><BR>
    <I>Fri May 14 13:04:31 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007282.html">[rabbitmq-discuss] Unexplained shutdown of RabbitMQ
</A></li>
        <LI>Next message: <A HREF="007284.html">[rabbitmq-discuss] Unexplained shutdown of RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7283">[ date ]</a>
              <a href="thread.html#7283">[ thread ]</a>
              <a href="subject.html#7283">[ subject ]</a>
              <a href="author.html#7283">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Jason,

Thanks for the report, and all the details.

On Fri, May 14, 2010 at 01:44:43PM +0200, Jason Zaugg wrote:
&gt;<i> =System Details:=
</I>&gt;<i> 
</I>&gt;<i> Erlang .572
</I>&gt;<i> RabbitMQ 1.6.0
</I>&gt;<i> Windows Server 2003 64Bit
</I>&gt;<i> 8 core machine.
</I>&gt;<i> Lots of free disk space.
</I>&gt;<i> 
</I>&gt;<i> =Questions=
</I>&gt;<i> 
</I>&gt;<i> 1. Can we configure RabbitMQ to suppress logging of the message queue
</I>&gt;<i> when this error occurs. The log files are growing to 4GB+, and it's
</I>&gt;<i> tricky to follow them.
</I>
Unfortunately not. We would like to fix that ourselves too and there's
meant to be a hook to be able to control that but there've been reports
that there've been bugs in Erlang itself regarding that particular hook.
It might be something we will be able to fix eventually.

&gt;<i> 2. What might &quot;writer,send_failed,badarg&quot; as the termination reason
</I>&gt;<i> suggest as the root cause?
</I>&gt;<i> 3. Prior the the shutdown, what is the meaning of:
</I>&gt;<i> 
</I>&gt;<i>   exception on TCP connection &lt;0.2021.0&gt; from 10.30.33.169:3251
</I>&gt;<i>   {timeout,running}
</I>&gt;<i>   exception on TCP connection &lt;0.1707.0&gt; from 10.30.32.44:2692
</I>&gt;<i>   connection_closed_abruptly
</I>
We think that you have heartbeats turned on. Heartbeats are quite
unreliable under Windows, especially when the machine is loaded, because
of schedular issues. Try turning heartbeats off (has to be done from
each client). In later releases of Rabbit (and its clients), we disabled
heartbeats by default. 1.6.0 is quite old - we'd recommend you upgrade
to 1.7.2 if you can.

Matthew

</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007282.html">[rabbitmq-discuss] Unexplained shutdown of RabbitMQ
</A></li>
	<LI>Next message: <A HREF="007284.html">[rabbitmq-discuss] Unexplained shutdown of RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7283">[ date ]</a>
              <a href="thread.html#7283">[ thread ]</a>
              <a href="subject.html#7283">[ subject ]</a>
              <a href="author.html#7283">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
