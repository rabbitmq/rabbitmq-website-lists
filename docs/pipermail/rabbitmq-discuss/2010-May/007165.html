<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] MTU
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20MTU&In-Reply-To=4BE722D3.4080702%40250bpm.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007164.html">
   <LINK REL="Next"  HREF="007166.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] MTU</H1>
    <B>Gustavo Aquino</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20MTU&In-Reply-To=4BE722D3.4080702%40250bpm.com"
       TITLE="[rabbitmq-discuss] MTU">aquino.gustavo at gmail.com
       </A><BR>
    <I>Sun May  9 22:36:00 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007164.html">[rabbitmq-discuss] MTU
</A></li>
        <LI>Next message: <A HREF="007166.html">[rabbitmq-discuss] MTU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7165">[ date ]</a>
              <a href="thread.html#7165">[ thread ]</a>
              <a href="subject.html#7165">[ subject ]</a>
              <a href="author.html#7165">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Martin,


On Sun, May 9, 2010 at 6:02 PM, Martin Sustrik &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sustrik at 250bpm.com</A>&gt; wrote:

&gt;<i> Gustavo,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Thanks but today we are trying to get this information by this hard way.
</I>&gt;&gt;<i> I'm trying to get a help here, someone may have done it before or RabbitMQ
</I>&gt;&gt;<i> owners can have this number and will help me to get back time loosed hacking
</I>&gt;&gt;<i> packages network.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Per-message overhead for AMQP/0-8 is 50+ bytes.
</I>&gt;<i>
</I>&gt;<i> Thanks, do you know if RabbitMQ cover this pattern ?
</I>

&gt;<i>  This number is very important, and have significant differences between
</I>&gt;&gt;<i> AMQP implementations. Just for example the Qpid package have a oversize in
</I>&gt;&gt;<i> message larger than RabbitMQ until you can send 32k messages per second
</I>&gt;&gt;<i> using 100mbps you can do only 16k messages per second with Qpid with the
</I>&gt;&gt;<i> same 100mbps. (Messages with 213bytes).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Resuming If you will have a high throughput and need high performance make
</I>&gt;&gt;<i> sure that you will not want to use jumbo frame.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> It's very unlikely that MTU size setting will have any impact on
</I>&gt;<i> performance in your scenario.
</I>&gt;<i>
</I>
If you use jumbo frame you have a significant impact in your round trip, and
make sure we are working to save microseconds/nanoseconds and a simple
overhead in round trip message impact us so much.

Again the MTU question is to do some calc to refine our network
configurations, not a simple configuration in Ethernet interface, a network
admin use this calc to project your network to a specific requirement, and
when you are talking in microseconds/nanoseconds this configuration made a
big difference. For example we are getting bad performance in one of our
nodes, and we discovered that router was configured for 576 MTU the result
is an overhead of 0.500 us each message with one specific throughput.

So the question is not about a MTU problem, but the use of it for a
solution.


Gustavo
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100509/bc53a14a/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100509/bc53a14a/attachment.htm</A> 
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007164.html">[rabbitmq-discuss] MTU
</A></li>
	<LI>Next message: <A HREF="007166.html">[rabbitmq-discuss] MTU
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7165">[ date ]</a>
              <a href="thread.html#7165">[ thread ]</a>
              <a href="subject.html#7165">[ subject ]</a>
              <a href="author.html#7165">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
