<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Clustering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20Clustering&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007294.html">
   <LINK REL="Next"  HREF="007329.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Clustering</H1>
    <B>Radha Krishnan D</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20Clustering&In-Reply-To="
       TITLE="[rabbitmq-discuss] RabbitMQ Clustering">RadhakrishnanD at ivycomptech.com
       </A><BR>
    <I>Mon May 17 10:30:19 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="007294.html">[rabbitmq-discuss] New persister (bug21673) crashed
</A></li>
        <LI>Next message: <A HREF="007329.html">[rabbitmq-discuss] RabbitMQ Clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7299">[ date ]</a>
              <a href="thread.html#7299">[ thread ]</a>
              <a href="subject.html#7299">[ subject ]</a>
              <a href="author.html#7299">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 

Hi, 

Am trying to cluster two rabbitmq servers running on two independent
nodes, 

 

Node 1 terminal

--------------------

 

[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at morungole</A> sbin]# rabbitmqctl status

./..

Status of node <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A> ...

[{running_applications,[{rabbit,&quot;RabbitMQ&quot;,&quot;1.7.2&quot;},

                        {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.7&quot;},

                        {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.1.8&quot;},

                        {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.5.4&quot;},

                        {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.15.5&quot;},

                        {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.12.5&quot;}]},

 {nodes,[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>]},

 {running_nodes,[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>]}]

...done.

 

 

Node 2  terminal 

--------------------------

 

[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> status

Status of node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...

[{running_applications,[{rabbit,&quot;RabbitMQ&quot;,&quot;1.7.2&quot;},

                        {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.12&quot;},

                        {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.4&quot;},

                        {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.8&quot;},

                        {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.16.4&quot;},

                        {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.13.4&quot;}]},

 {nodes,['<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>']},

 {running_nodes,['<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>']}]

...done.

 

[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> stop_app
Stopping node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...

...done.

 

[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> reset
Resetting node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...

...done.

 

[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> cluster
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>

Clustering node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' with [<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>] ...

...done.

 

[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> start_app

Starting node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...

...done.

 

[<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at mocovir2</A> sbin]# rabbitmqctl -n <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> status

Status of node '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>' ...

[{running_applications,[{rabbit,&quot;RabbitMQ&quot;,&quot;1.7.2&quot;},

                        {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.4.12&quot;},

                        {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.4&quot;},

                        {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.8&quot;},

                        {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.16.4&quot;},

                        {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.13.4&quot;}]},

 {nodes,['<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>']},

 {running_nodes,['<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A>']}]

...done.

 

 

Even though it is telling Clustering is done. Both the rabbitmq nodes
are not able to recognize each other.  

Can you please tell me where am going wrong ?\

The .erlang.cookie  in $HOME was not same at the beginning . Then i
copied the .erlang.cookie content from Node 1 (<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at morungole</A>) to Node
2 ( <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MocovirRabbit at mocovir2</A> ) 

 

Thanks and Regards,

D.Radhakrishnan
Trainee Engineer-Architecture

IVY Comptech Private Limited
Cyber Spazio,Road No 2, Banjara Hills, 
Hyderabad-500034, Andhra Pradesh. 

Phone + 91 (40) 66721000 - 4638
Mobile + 91 (0) 9030842104

This email and any attachments are confidential, legally privileged and
protected by copyright. If you are not the intended recipient,
dissemination or copying this email is prohibited. If you have received
this in error, please notify the sender by replying by email and then
delete the email completely from your system.

Any views or opinions are solely those of  the sender. This
communication is not intended to form a binding contract unless
expressly indicated to the contrary and properly authorized. Any actions
taken on the basis of this email are at recipient's own risk. 

 


This email is sent for and on behalf of Ivy Comptech Private Limited. Ivy Comptech Private Limited is a limited liability company.  

This email and any attachments are confidential, and may be legally privileged and protected by copyright. If you are not the intended recipient dissemination or copying of this email is prohibited. If you have received this in error, please notify the sender by replying by email and then delete the email completely from your system. 
Any views or opinions are solely those of the sender.  This communication is not intended to form a binding contract on behalf of Ivy Comptech Private Limited unless expressly indicated to the contrary and properly authorised. Any actions taken on the basis of this email are at the recipient's own risk.

Registered office:
Ivy Comptech Private Limited, Cyber Spazio, Road No. 2, Banjara Hills, Hyderabad 500 033, Andhra Pradesh, India. Registered number: 37994. Registered in India. A list of members' names is available for inspection at the registered office.

-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100517/67973722/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100517/67973722/attachment-0001.htm</A> 
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007294.html">[rabbitmq-discuss] New persister (bug21673) crashed
</A></li>
	<LI>Next message: <A HREF="007329.html">[rabbitmq-discuss] RabbitMQ Clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7299">[ date ]</a>
              <a href="thread.html#7299">[ thread ]</a>
              <a href="subject.html#7299">[ subject ]</a>
              <a href="author.html#7299">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
