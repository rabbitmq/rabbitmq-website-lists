<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] message in queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20message%20in%20queue&In-Reply-To=ffa595bc1002250346m7f99dd2cr276b11ccdcd43e29%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006542.html">
   <LINK REL="Next"  HREF="006545.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] message in queue</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20message%20in%20queue&In-Reply-To=ffa595bc1002250346m7f99dd2cr276b11ccdcd43e29%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] message in queue">tonyg at lshift.net
       </A><BR>
    <I>Wed Mar  3 22:54:13 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006542.html">[rabbitmq-discuss] Observe metadata operations in RabbitMQ
</A></li>
        <LI>Next message: <A HREF="006545.html">[rabbitmq-discuss] SimpleRpcServer send generated queue name to client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6541">[ date ]</a>
              <a href="thread.html#6541">[ thread ]</a>
              <a href="subject.html#6541">[ subject ]</a>
              <a href="author.html#6541">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Akhil Kodali wrote:
&gt;<i> The queue doesnot duplicate the message, the application happens to post
</I>&gt;<i> it as it is unable to determine what is in the queue.
</I>
Is it doing something like resending a request if it doesn't receive a
reply quickly enough? The only way you can deal with this is to somehow
make requests idempotent, by discarding duplicates on the receiving side.

&gt;<i> To avoid duplicates one way is to expire out the messages in the queue
</I>&gt;<i> after certain period of time, anyway to configure it.
</I>&gt;<i> Currently I am checking it at the application level.
</I>
The application level is all there is at the moment. There is an
&quot;expiration&quot; field associated with each message that is intended to be
used to permit the server to GC old messages, but RabbitMQ does not
currently implement it, in part because it's tricky technically (I know,
I know, it shouldn't be, but there you have it), and in part because the
AMQP standard is in fact silent on both the syntax and the meaning of
the field (!!).

So it sounds like you're currently on the right approach: discarding
duplicates at the receiving end, based on either or both of an expiry
time and a unique message ID.

Regards,
  Tony



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006542.html">[rabbitmq-discuss] Observe metadata operations in RabbitMQ
</A></li>
	<LI>Next message: <A HREF="006545.html">[rabbitmq-discuss] SimpleRpcServer send generated queue name to client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6541">[ date ]</a>
              <a href="thread.html#6541">[ thread ]</a>
              <a href="subject.html#6541">[ subject ]</a>
              <a href="author.html#6541">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
