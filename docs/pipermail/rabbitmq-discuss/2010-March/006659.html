<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Increasing base memory.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Increasing%20base%20memory.&In-Reply-To=20100317124443.GJ27749%40mrnibble.lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006658.html">
   <LINK REL="Next"  HREF="006660.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Increasing base memory.</H1>
    <B>Gustavo Aquino</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Increasing%20base%20memory.&In-Reply-To=20100317124443.GJ27749%40mrnibble.lshift.net"
       TITLE="[rabbitmq-discuss] Increasing base memory.">aquino.gustavo at gmail.com
       </A><BR>
    <I>Wed Mar 17 14:04:04 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006658.html">[rabbitmq-discuss] Increasing base memory.
</A></li>
        <LI>Next message: <A HREF="006660.html">[rabbitmq-discuss] Increasing base memory.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6659">[ date ]</a>
              <a href="thread.html#6659">[ thread ]</a>
              <a href="subject.html#6659">[ subject ]</a>
              <a href="author.html#6659">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Mattew,


On Wed, Mar 17, 2010 at 9:44 AM, Matthew Sackman &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at lshift.net</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On Wed, Mar 17, 2010 at 09:12:47AM -0300, Gustavo Aquino wrote:
</I>&gt;<i> &gt; I would like to run RabbitMQ using 80Gb of memory, so I'm trying to
</I>&gt;<i> &gt; configure it using the Rabbit guide where told to put simple line in
</I>&gt;<i> &gt; rabbitmq.conf, ok I open my rabbitmq.conf and put this line and just
</I>&gt;<i> &gt; changing 0.4 to 0.8 but it doesn't work, when I start Rabbit it don't
</I>&gt;<i> &gt; recognize configuration.
</I>&gt;<i>
</I>&gt;<i> The 0.4 is a scaling of the RAM that Rabbit detects in your machine.
</I>&gt;<i> Furthermore, as the documentation says, it is *not* a limit for how much
</I>&gt;<i> RAM rabbit will use. As I pointed out in my other email, Erlang is a
</I>&gt;<i> GC'd language. The 0.4 simply says that channel.flow will be invoked
</I>&gt;<i> once 0.4 of available RAM has been used by Rabbit. This does not
</I>&gt;<i> preclude Rabbit from using more than 0.4 - the GC events may cause up to
</I>&gt;<i> twice this to be used. In addition, it is beneficial to allow your OS to
</I>&gt;<i> have some RAM available for disk caches, thus allowing it to be able to
</I>&gt;<i> satisfy reads without having to go to disk.
</I>&gt;<i>
</I>&gt;<i>
</I>Ok, I'm trying this approach to found a solutions to solve a problem that I
reported here that RabbitMQ crash when my queue size take a big volume,
always time that queue size have ~700.000/200Bytes messages Rabbit simple
crash and don't write any log. This is my big concerns once we don't have a
good way to monitoring queue size (i.e messages buffers and etc)




&gt;<i> &gt; rabbitmq.conf
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [{rabbit, [{vm_memory_high_watermark, 0.8}]}].
</I>&gt;<i> &gt; NODENAME=<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at Nefertiti</A>
</I>&gt;<i>
</I>&gt;<i> The first line should be placed in rabbitmq.config. The second line is
</I>&gt;<i> valid for rabbitmq.conf. Note they are two very different files.
</I>&gt;<i> rabbitmq.config is an Erlang term file. rabbitmq.conf is sourced by the
</I>&gt;<i> various shell scripts thus is a location to configure shell variables.
</I>&gt;<i>
</I>
Ohhh thanks... so we have two different config files.. well thanks I really
thought that this configurations live inside the same file. Know rabbit run
ok.


&gt;<i>
</I>&gt;<i> Matthew
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100317/690b2e42/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100317/690b2e42/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006658.html">[rabbitmq-discuss] Increasing base memory.
</A></li>
	<LI>Next message: <A HREF="006660.html">[rabbitmq-discuss] Increasing base memory.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6659">[ date ]</a>
              <a href="thread.html#6659">[ thread ]</a>
              <a href="subject.html#6659">[ subject ]</a>
              <a href="author.html#6659">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
