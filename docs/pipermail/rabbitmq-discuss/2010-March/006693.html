<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] New Persister
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20New%20Persister&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006730.html">
   <LINK REL="Next"  HREF="006694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] New Persister</H1>
    <B>Scott Mohekey</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20New%20Persister&In-Reply-To="
       TITLE="[rabbitmq-discuss] New Persister">scott.mohekey at telogis.com
       </A><BR>
    <I>Sun Mar 21 22:26:24 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006730.html">[rabbitmq-discuss] Adapter merges tornado and pika
</A></li>
        <LI>Next message: <A HREF="006694.html">[rabbitmq-discuss] New Persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6693">[ date ]</a>
              <a href="thread.html#6693">[ thread ]</a>
              <a href="subject.html#6693">[ subject ]</a>
              <a href="author.html#6693">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm trying to find out when the new persister will be available. I've seen
mention that it was to be ready by July of last year (
<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2009-June/003667.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2009-June/003667.html</A>),
and further mention in November of it not being ready yet (
<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2009-November/005386.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/2009-November/005386.html</A>
).

The reason I ask is that we are attempting to publish ~1000 msgs/sec on a
single rabbit node, in a persisted queue. The queue is then read by a java
app on a geographically distant server over the internet, using
basic.consume. We also require transactional consumption, so currently wrap
a batch of X (500 for example) messages in a transaction, acking the last
one (passing true to ack multiple). We have qos set to batch size * 2 (1000
in the above example).

We're only managing to get something like 50 or so msgs/sec at the moment.
The consumption of the messages is slow, but the tx.commit varies in speed
from a second to many (sometimes even as long as a minute).

The version of rabbitmq we currently have installed is 1.7.0. We are
planning to test with 1.7.2 later today to see if this helps any.

What are we doing wrong?

Scott Mohekey
Systems/Application Specialist &#8211; Fleet &#8211; Telogis, Inc.
www.telogis.com  www.telogis.co.nz
+1 949 625-4115 ext. 207 (USA)  +64 3339 2825 x207 (NZ)

Leading Global Platform for Location Based Services
--
This e-mail, and any attachments, is intended only for use by the
addressee(s) named herein and may contain legally privileged and/or
confidential information.  It is the property of Telogis.  If you are not
the intended recipient of this e-mail, you are hereby notified that any
dissemination, distribution or copying of this e-mail, any attachments
thereto, and use of the information contained, is strictly prohibited.  If
you have received this e-mail in error, please notify the sender and
permanently delete the original and any copy there of.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100322/962ecf03/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100322/962ecf03/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006730.html">[rabbitmq-discuss] Adapter merges tornado and pika
</A></li>
	<LI>Next message: <A HREF="006694.html">[rabbitmq-discuss] New Persister
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6693">[ date ]</a>
              <a href="thread.html#6693">[ thread ]</a>
              <a href="subject.html#6693">[ subject ]</a>
              <a href="author.html#6693">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
