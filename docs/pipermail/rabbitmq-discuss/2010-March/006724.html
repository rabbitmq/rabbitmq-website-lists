<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Adapter merges tornado and pika
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Adapter%20merges%20tornado%20and%20pika&In-Reply-To=7be5ca0b1003200706v2b7fbd85oc2e3c7d0f4d80746%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006689.html">
   <LINK REL="Next"  HREF="006729.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Adapter merges tornado and pika</H1>
    <B>majek04</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Adapter%20merges%20tornado%20and%20pika&In-Reply-To=7be5ca0b1003200706v2b7fbd85oc2e3c7d0f4d80746%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Adapter merges tornado and pika">majek04 at gmail.com
       </A><BR>
    <I>Fri Mar 26 11:45:08 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006689.html">[rabbitmq-discuss] Adapter merges tornado and pika
</A></li>
        <LI>Next message: <A HREF="006729.html">[rabbitmq-discuss] Adapter merges tornado and pika
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6724">[ date ]</a>
              <a href="thread.html#6724">[ thread ]</a>
              <a href="subject.html#6724">[ subject ]</a>
              <a href="author.html#6724">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Mar 20, 2010 at 14:06, Richard Clark &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">richard at redspider.co.nz</A>&gt; wrote:
&gt;<i> Ok, I'm half asleep so I'll make this quick. After fighting with
</I>&gt;<i> numerous strategies for melding tornado and rabbitmq in a way that
</I>&gt;<i> doesn't involve spawning extra processes, mangling my interpreter,
</I>&gt;<i> going anywhere near twisted, mangling my ability to dispatch properly
</I>&gt;<i> off multiple queues on a single channel etc, I finally managed
</I>&gt;<i> something that, at least for first appearances, works.
</I>&gt;<i>
</I>&gt;<i> asyncloop.py, an ioloop handler that mostly pretends to be an asyncore
</I>&gt;<i> dispatcher
</I>&gt;<i> ioloop_adapter.py, an adapter almost exactly like the
</I>&gt;<i> asyncore_adapter.py in pika, except it uses the asyncloop and gets rid
</I>&gt;<i> of some crap (and, unfortunately, timers, but they're easy to put back
</I>&gt;<i> using ioloop stuff)
</I>
Thanks for that. It looks very interesting. We definitely need to find a way
how to use AMQP in async web servers.

Although, I'd think it would be better to move Pika to Tornado async
adapter rather than moving Tornado to Asyncore. Do you think it's sensible?

Here's my attempt to replace Asyncore with Select for pika:
<A HREF="http://github.com/majek/pika/blob/master/pika/poll_adapter.py">http://github.com/majek/pika/blob/master/pika/poll_adapter.py</A>

I noticed a strange thing in the code, why do you import py-amqplib in
frontend.py#16?

Marek Majkowski


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006689.html">[rabbitmq-discuss] Adapter merges tornado and pika
</A></li>
	<LI>Next message: <A HREF="006729.html">[rabbitmq-discuss] Adapter merges tornado and pika
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6724">[ date ]</a>
              <a href="thread.html#6724">[ thread ]</a>
              <a href="subject.html#6724">[ subject ]</a>
              <a href="author.html#6724">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
