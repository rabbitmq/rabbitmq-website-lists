<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] debugging an unroutable message
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20debugging%20an%20unroutable%20message&In-Reply-To=a3ff00ac1003290103u2d57714bqfc48efef2032ff02%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006739.html">
   <LINK REL="Next"  HREF="006748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] debugging an unroutable message</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20debugging%20an%20unroutable%20message&In-Reply-To=a3ff00ac1003290103u2d57714bqfc48efef2032ff02%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] debugging an unroutable message">matthew at lshift.net
       </A><BR>
    <I>Tue Mar 30 10:28:14 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006739.html">[rabbitmq-discuss] debugging an unroutable message
</A></li>
        <LI>Next message: <A HREF="006748.html">[rabbitmq-discuss] debugging an unroutable message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6747">[ date ]</a>
              <a href="thread.html#6747">[ thread ]</a>
              <a href="subject.html#6747">[ subject ]</a>
              <a href="author.html#6747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Daniel,

On Mon, Mar 29, 2010 at 04:03:22AM -0400, Daniel Risacher wrote:
&gt;<i> Here's the bug symptom- it strictly alternates between working and not
</I>&gt;<i> working.  Works the first time, not the second, etc.   When it doesn't
</I>&gt;<i> work, the daemon gets the PING, but the PONG is returned as
</I>&gt;<i> unroutable.
</I>
Sounds like a race between the pong being sent and the queue being
created. You're not setting the nowait option on queue.declare are you?
And you are waiting to get back the queue.declare_ok before sending the
ping? And under what conditions will the queue be deleted? Also,
(unlikely to be affecting this) is the daemon and client acking
explicitly or is noAck set? Any QoS settings?

Matthew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006739.html">[rabbitmq-discuss] debugging an unroutable message
</A></li>
	<LI>Next message: <A HREF="006748.html">[rabbitmq-discuss] debugging an unroutable message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6747">[ date ]</a>
              <a href="thread.html#6747">[ thread ]</a>
              <a href="subject.html#6747">[ subject ]</a>
              <a href="author.html#6747">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
