<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] plugin out of date message after upgrade
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20plugin%20out%20of%20date%20message%20after%20upgrade&In-Reply-To=%3C70298C4A-1DB9-48E4-8C0F-823104064B21%40vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010299.html">
   <LINK REL="Next"  HREF="010301.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] plugin out of date message after upgrade</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20plugin%20out%20of%20date%20message%20after%20upgrade&In-Reply-To=%3C70298C4A-1DB9-48E4-8C0F-823104064B21%40vmware.com%3E"
       TITLE="[rabbitmq-discuss] plugin out of date message after upgrade">jerryk at vmware.com
       </A><BR>
    <I>Thu Dec  9 17:40:45 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010299.html">[rabbitmq-discuss] plugin out of date message after upgrade
</A></li>
        <LI>Next message: <A HREF="010301.html">[rabbitmq-discuss] plugin out of date message after upgrade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10300">[ date ]</a>
              <a href="thread.html#10300">[ thread ]</a>
              <a href="subject.html#10300">[ subject ]</a>
              <a href="author.html#10300">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Steven...

Because these files are all regular parts of Rabbit itself, the likely cause is that the 'src' files in your Rabbit distribution have newer datestamps than the 'beam' Erlang compiled object files.  

You could just 'touch' the '.beam' files in ebin about which you're getting warnings.  That will get rid of the alarming noises at startup.  Incidentally, if you were getting complaints about plugins being out of date, you may actually have plugins that need updating, but that's not the case here.

Matthias tells me we have a bug open on the root cause of this:

<A HREF="https://bugzilla.rabbitmq.com/show_bug.cgi?id=23473">https://bugzilla.rabbitmq.com/show_bug.cgi?id=23473</A>

In short, the unzipping of the distribution creates files with dates that reflect when and in which order they're extracted from the zip file.  If the end result is src files that are younger than their corresponding beam targets, the broker warns you at startup, with Erlang thinking you might be running out of date object code.

Jerry

On Dec 9, 2010, at 5:17 AM, Steven Taylor wrote:

&gt;<i> Hi,
</I>&gt;<i>  
</I>&gt;<i> Is this bad?  The broker seems to be running as per normal.
</I>&gt;<i>  
</I>&gt;<i> I just upgraded to Rabbit 2.2.0, Erlang 5.8.2 (R14B01) and now during startup I get a bunch of messages like this:
</I>&gt;<i>  
</I>&gt;<i> ...
</I>&gt;<i> *WARNING* rabbit: Object code (delegate) out of date
</I>&gt;<i> *WARNING* rabbit: Object code (delegate_sup) out of date
</I>&gt;<i> *WARNING* rabbit: Object code (file_handle_cache) out of date
</I>&gt;<i> *WARNING* rabbit: Object code (gatherer) out of date
</I>&gt;<i> ...
</I>&gt;<i> etc/
</I>&gt;<i> ...
</I>&gt;<i>  
</I>&gt;<i> thanks,
</I>&gt;<i> -Steven
</I>&gt;<i>  
</I>&gt;<i> &lt;ATT00001..txt&gt;
</I>
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010299.html">[rabbitmq-discuss] plugin out of date message after upgrade
</A></li>
	<LI>Next message: <A HREF="010301.html">[rabbitmq-discuss] plugin out of date message after upgrade
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10300">[ date ]</a>
              <a href="thread.html#10300">[ thread ]</a>
              <a href="subject.html#10300">[ subject ]</a>
              <a href="author.html#10300">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
