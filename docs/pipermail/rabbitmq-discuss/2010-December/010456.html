<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 2.0 broker crashes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.0%20broker%20crashes&In-Reply-To=%3C341ABE7319A5F14296A322844570DDF705CE7883C0%40JYEXC1.ALTISPARTNERS.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010455.html">
   <LINK REL="Next"  HREF="010457.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 2.0 broker crashes</H1>
    <B>Scott Dupoy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.0%20broker%20crashes&In-Reply-To=%3C341ABE7319A5F14296A322844570DDF705CE7883C0%40JYEXC1.ALTISPARTNERS.local%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 2.0 broker crashes">Scott at altispartners.com
       </A><BR>
    <I>Tue Dec 21 12:15:47 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010455.html">[rabbitmq-discuss] RabbitMQ 2.0 broker crashes
</A></li>
        <LI>Next message: <A HREF="010457.html">[rabbitmq-discuss] RabbitMQ 2.0 broker crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10456">[ date ]</a>
              <a href="thread.html#10456">[ thread ]</a>
              <a href="subject.html#10456">[ subject ]</a>
              <a href="author.html#10456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthew,

Thanks for the configuration details - is it possible to increase the file size limit?  Is there an upper limit?

I've just run my tests against a 2.2.0 broker running on an ubuntu server.  It works fine which provides further evidence supporting your hypothesis.

Would you like me to provide some test code reproducing the crash?

Cheers,
Scott


-----Original Message-----
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Matthew Sackman
Sent: 21 December 2010 11:57
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] RabbitMQ 2.0 broker crashes

Hi Scott,

On Tue, Dec 21, 2010 at 09:33:30AM +0000, Scott Dupoy wrote:
&gt;<i> Making the assumption that we can't switch to a unix/linux distribution, is
</I>&gt;<i> it possible to change the size at which the *.rdq file rolls?  If this is
</I>&gt;<i> possible then at least we can (further) reduce the risk of a failure.
</I>
Yup, edit your rabbitmq.config file. You want to add a stanza including
{msg_store_file_size_limit, 16777216}. 16777216 is the default and is
16MB. You can reduce this as much as you'd like but if you make it too
small then you'll find performance starts to drop off. The minimum
rabbitmq.config file with this in is:

[{rabbit, [{msg_store_file_size_limit, 16777216}]}].

Note the trailing . is essential. According to
<A HREF="http://www.rabbitmq.com/install.html#configfile,">http://www.rabbitmq.com/install.html#configfile,</A> under Windows, the
config file might be found in %APPDATA%\RabbitMQ\rabbitmq.config

Best wishes,

Matthew
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>

Scott Dupoy | Senior Analyst Programmer
Altis Partners (Jersey) Limited
2 Hill Street | St. Helier | Jersey, JE2 4UA 
t. +44 (0)1534 787 744 | f.  | w. 

Altis Partners (Jersey) Limited - registered with the Jersey Financial Services Commission, CFTC and a member of the NFA.

This email and its contents is issued by Altis Partners Jersey Limited ('APJL') and is for private circulation only.  APJL is registered with the Jersey Financial Services Commission for the conduct of investment business.  The information contained in this email is strictly confidential.  The information and opinions contained in this email are for background purposes only, and do not purport to be full or complete.  Nor does this email constitute investment advice.  APJL is not hereby arranging or agreeing to arrange any transaction in any investment or other undertaking requiring regulatory authorisation. This email does not constitute or form part of any offer to issue or sell, or any solicitation of an offer to subscribe or purchase, any investment nor shall it or the fact of its distribution form the basis of, or be relied on in connection with, any contract therefore.  No representation, warranty, or undertaking, express or limited, is given as to the accuracy or completeness of the information or opinions contained  in this email by any of APJL, its partners or employees and no liability is accepted by such persons for the accuracy or completeness of such information or opinions.  As such, no reliance may be placed on the information and opinions in this email.

This email may contain confidential and/or privileged information.  If you are not the intended recipient or have received this email in error please notify the sender immediately and delete immediately.  Any unauthorised copying, disclosure or distribution of this email is strictly forbidden.
ALTIS-JFSC-NFA
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101221/4eb3f8d1/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101221/4eb3f8d1/attachment.htm</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010455.html">[rabbitmq-discuss] RabbitMQ 2.0 broker crashes
</A></li>
	<LI>Next message: <A HREF="010457.html">[rabbitmq-discuss] RabbitMQ 2.0 broker crashes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10456">[ date ]</a>
              <a href="thread.html#10456">[ thread ]</a>
              <a href="subject.html#10456">[ subject ]</a>
              <a href="author.html#10456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
