<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Question/clarification wrt durable messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Question/clarification%20wrt%20durable%20messages&In-Reply-To=%3C20101217160016.GB18077%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010426.html">
   <LINK REL="Next"  HREF="010414.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Question/clarification wrt durable messages</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Question/clarification%20wrt%20durable%20messages&In-Reply-To=%3C20101217160016.GB18077%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Question/clarification wrt durable messages">matthew at rabbitmq.com
       </A><BR>
    <I>Fri Dec 17 16:00:16 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010426.html">[rabbitmq-discuss] Question/clarification wrt durable messages
</A></li>
        <LI>Next message: <A HREF="010414.html">[rabbitmq-discuss] QoS prefetch and rabbitmq-c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10427">[ date ]</a>
              <a href="thread.html#10427">[ thread ]</a>
              <a href="subject.html#10427">[ subject ]</a>
              <a href="author.html#10427">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Brian,

On Fri, Dec 17, 2010 at 10:38:56AM -0500, Brian Parkinson wrote:
&gt;<i> The throughput I'm getting is approximately 10 messages per second -
</I>&gt;<i> does this gibe with what you would expect for throughput? I ask, as it
</I>&gt;<i> seems slow compared to non-tx, even taking into account the time for
</I>&gt;<i> persistence. I'm wrapping the call to basicPublish with txSelect and
</I>&gt;<i> txCommit.
</I>
If you're doing a commit per publish then that amounts to probably about
2 fsyncs per publish. This will have a substantial impact on
performance.

By increasing the window of the txn, you'll be able to increase
performance, but obviously that requires that the client is able to
buffer and retransmit every non-committed message in the current
transaction in the event of failure.

Matthew
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010426.html">[rabbitmq-discuss] Question/clarification wrt durable messages
</A></li>
	<LI>Next message: <A HREF="010414.html">[rabbitmq-discuss] QoS prefetch and rabbitmq-c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10427">[ date ]</a>
              <a href="thread.html#10427">[ thread ]</a>
              <a href="subject.html#10427">[ subject ]</a>
              <a href="author.html#10427">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
