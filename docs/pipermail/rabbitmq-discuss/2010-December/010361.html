<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Unable to store messages into queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20store%20messages%20into%20queue&In-Reply-To=%3CAANLkTiknXY6OrS%3DztS%3DOYvixYSyKx%2BRZAKJSTpoVPBmO%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010360.html">
   <LINK REL="Next"  HREF="010365.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Unable to store messages into queue</H1>
    <B>Dinh</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Unable%20to%20store%20messages%20into%20queue&In-Reply-To=%3CAANLkTiknXY6OrS%3DztS%3DOYvixYSyKx%2BRZAKJSTpoVPBmO%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Unable to store messages into queue">pcdinh at gmail.com
       </A><BR>
    <I>Tue Dec 14 04:08:50 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010360.html">[rabbitmq-discuss] the last version librabbitmq-c installation	error
</A></li>
        <LI>Next message: <A HREF="010365.html">[rabbitmq-discuss] Unable to store messages into queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10361">[ date ]</a>
              <a href="thread.html#10361">[ thread ]</a>
              <a href="subject.html#10361">[ subject ]</a>
              <a href="author.html#10361">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I got a strange situation with RabbitMQ 2.1.1, Mac OSX 10.6.5, erlang
version : 5.8.1.1 (not sure if it is a bug): I was unable to store message
into queue using Python clients.In fact, it is standard code I took from
RabbitMQ site. So it is supposed to work. It already worked before. For me,
yes.

import pika

import sys

import pickle

import json


connection = pika.AsyncoreConnection(pika.ConnectionParameters(

        host='127.0.0.1',

        credentials=pika.PlainCredentials('guest', 'guest')))

channel = connection.channel()


channel.queue_declare(queue='feeds', durable=True)


message = json.dumps({&quot;import_feed&quot;: &quot;<A HREF="http://cnn.com/rss/edition.rss&quot;}">http://cnn.com/rss/edition.rss&quot;}</A>)

channel.basic_publish(exchange='', routing_key='importer',

                      body=message,

                      properties=pika.BasicProperties(

                         delivery_mode = 2, # make message persistent

                      ))

print &quot; [x] Sent %r&quot; % (message,)

After running these code for several time, I checked with RabbitMQ to see if
those message were stored in the queue

Dinh-Phams-MacBook-Pro:~ dinhpham$ sudo
/Users/dinhpham/dev/rabbitmq_server-2.1.1/sbin/rabbitmqctl list_queues name
messages_ready messages_unacknowledged
Listing queues ...
feeds 0 0
...done.

It meant that &quot;feed&quot; queue is created but no message is stored.

In fact, those code worked in the past. It suddenly refused to work after I
had sent several hundred thousands of messages into the queue and deleted
them all for new tests. After several deletion, RabbitMQ refused to work
with the code. No message was stored or no queue was created at all
(happened with Carrot Python client)

Anybody has experienced this case? Is there any log that I can look into to
see what happened?

Thanks,


Dinh
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101214/7602fd20/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101214/7602fd20/attachment-0001.htm</A>&gt;
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010360.html">[rabbitmq-discuss] the last version librabbitmq-c installation	error
</A></li>
	<LI>Next message: <A HREF="010365.html">[rabbitmq-discuss] Unable to store messages into queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10361">[ date ]</a>
              <a href="thread.html#10361">[ thread ]</a>
              <a href="subject.html#10361">[ subject ]</a>
              <a href="author.html#10361">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
