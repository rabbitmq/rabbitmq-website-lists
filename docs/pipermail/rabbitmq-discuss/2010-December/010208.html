<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue Ordering after restart
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20Ordering%20after%20restart&In-Reply-To=%3CC0528927-7BF7-4FFF-8BB4-3A80D11C0326%40vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010219.html">
   <LINK REL="Next"  HREF="010209.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue Ordering after restart</H1>
    <B>John DeTreville</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20Ordering%20after%20restart&In-Reply-To=%3CC0528927-7BF7-4FFF-8BB4-3A80D11C0326%40vmware.com%3E"
       TITLE="[rabbitmq-discuss] Queue Ordering after restart">jdetreville at vmware.com
       </A><BR>
    <I>Thu Dec  2 00:35:05 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010219.html">[rabbitmq-discuss] RabbitMQ JSON-RPC test in 2.2.0-1
</A></li>
        <LI>Next message: <A HREF="010209.html">[rabbitmq-discuss] Routing key questions/suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10208">[ date ]</a>
              <a href="thread.html#10208">[ thread ]</a>
              <a href="subject.html#10208">[ subject ]</a>
              <a href="author.html#10208">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Dec 1, 2010, at 2:51 PM, rathi &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">riteshrathi at gmail.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">riteshrathi at gmail.com</A>&gt;&gt; wrote:

From: rathi &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">riteshrathi at gmail.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">riteshrathi at gmail.com</A>&gt;&gt;
Date: December 1, 2010 7:41:53 AM PST
To: rabbitmq &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;&gt;
Subject: [rabbitmq-discuss] Queue Ordering after restart

I have only one consumer which should process messages in the order they are published. If my consumer gets M1 and crashes without acknowledging M1, then when I restart my consumer I want to process messages in the same order as they were published. Can this be achieved ?

I should first point out that I work in RabbitMQ's Pacific Rim office, 8 time zones away from London. I answer questions in the middle of their night. I may be trading off accuracy for promptness.

That said, I believe you cannot. I believe that if your application crashes (or closes its connection) without acknowledging a message, and the queue is persistent, then the message may later appear out of order.

More generally, if your application crashes K times without acknowledging messages, then those K messages may later appear out of order.

Cheers,
John

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010219.html">[rabbitmq-discuss] RabbitMQ JSON-RPC test in 2.2.0-1
</A></li>
	<LI>Next message: <A HREF="010209.html">[rabbitmq-discuss] Routing key questions/suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10208">[ date ]</a>
              <a href="thread.html#10208">[ thread ]</a>
              <a href="subject.html#10208">[ subject ]</a>
              <a href="author.html#10208">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
