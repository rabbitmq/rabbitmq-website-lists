<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ not responding or in hung state
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20not%20responding%20or%20in%20hung%20state&In-Reply-To=%3CAANLkTikgyMpQJU6FU%3DKT4--iw7Fddrkdbr-_GybJ71Wo%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010381.html">
   <LINK REL="Next"  HREF="010382.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ not responding or in hung state</H1>
    <B>pradeep w</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20not%20responding%20or%20in%20hung%20state&In-Reply-To=%3CAANLkTikgyMpQJU6FU%3DKT4--iw7Fddrkdbr-_GybJ71Wo%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ not responding or in hung state">hpk.warrier at gmail.com
       </A><BR>
    <I>Wed Dec 15 08:26:14 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010381.html">[rabbitmq-discuss] RabbitMQ not responding or in hung state
</A></li>
        <LI>Next message: <A HREF="010382.html">[rabbitmq-discuss] queues going down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10384">[ date ]</a>
              <a href="thread.html#10384">[ thread ]</a>
              <a href="subject.html#10384">[ subject ]</a>
              <a href="author.html#10384">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Marek.
I am using ack. I solved the problem. Actually i was too ambitious with the
performance. Was using threads to queue posting as well. Though not sure
exactly why, but there lot of connections and channels were getting created.
And these i was not able to relate to any relevant consumer processes. Then
i moved these out of thread and did refactoring for passing same connection
object. Now there are no more extra (or i'll say orphan) connections and
channels. Till now i've not faced problem after the code modification.

Will rework the same with threads once the current execution gets over.


On Tue, Dec 14, 2010 at 11:30 PM, Marek Majkowski &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">majek04 at gmail.com</A>&gt; wrote:

&gt;<i> On Tue, Dec 14, 2010 at 13:24, pradeep w &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">hpk.warrier at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; The situation that i'm running into is like this:
</I>&gt;<i> &gt; After processing some entries[random count], suddenly there is no
</I>&gt;<i> activity
</I>&gt;<i> &gt; in RabbitMQ. If i kill one of the consumer, then some activity happens
</I>&gt;<i> and
</I>&gt;<i> &gt; other queues process for some time.Then again it repeats and i kill some
</I>&gt;<i> &gt; other consumer. Finally killing all the consumers.
</I>&gt;<i> &gt; If i restart all consumers again things work for some time before showing
</I>&gt;<i> &gt; the same inaction behavior.
</I>&gt;<i>
</I>&gt;<i> Sounds like 'basic.ack' and 'basic.qos' issue.
</I>&gt;<i>
</I>&gt;<i> Are you using 'basic.qos'?
</I>&gt;<i> Are you using acks (no_ack=False) and do you always remember to do
</I>&gt;<i> basic_ack?
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/tutorial-two-python.html">http://www.rabbitmq.com/tutorial-two-python.html</A>
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>   Marek
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101215/a2c38355/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101215/a2c38355/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010381.html">[rabbitmq-discuss] RabbitMQ not responding or in hung state
</A></li>
	<LI>Next message: <A HREF="010382.html">[rabbitmq-discuss] queues going down
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10384">[ date ]</a>
              <a href="thread.html#10384">[ thread ]</a>
              <a href="subject.html#10384">[ subject ]</a>
              <a href="author.html#10384">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
