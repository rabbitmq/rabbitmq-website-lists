<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Help: how a publisher could know number of	consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%3A%20how%20a%20publisher%20could%20know%20number%20of%0A%09consumers&In-Reply-To=%3CAANLkTiniXmBin1YCWQsN4YJCwdwtYqvb%3DoANdPLizTp8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010290.html">
   <LINK REL="Next"  HREF="010298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Help: how a publisher could know number of	consumers</H1>
    <B>Pascal Dergane</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%3A%20how%20a%20publisher%20could%20know%20number%20of%0A%09consumers&In-Reply-To=%3CAANLkTiniXmBin1YCWQsN4YJCwdwtYqvb%3DoANdPLizTp8%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Help: how a publisher could know number of	consumers">pascaldergane at gmail.com
       </A><BR>
    <I>Wed Dec  8 23:48:54 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010290.html">[rabbitmq-discuss] Weird error
</A></li>
        <LI>Next message: <A HREF="010298.html">[rabbitmq-discuss] Help: how a publisher could know number of	consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10294">[ date ]</a>
              <a href="thread.html#10294">[ thread ]</a>
              <a href="subject.html#10294">[ subject ]</a>
              <a href="author.html#10294">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I use rabbitmq java client 1.7 with corresponding server on linux (centOs)
system.
I've got a publisher that post a message to an exchange &quot;myExchange&quot; with
routing Key &quot;myRoutingKey&quot; (direct mode).
My system has a few consumers (say 20), each one connected to the same
exchange &quot;myExchange&quot;, binding with routing key &quot;myRoutingKey&quot;, each
consumers connected with a specific queue (&quot;queue1&quot; for first consumer,
&quot;queue2&quot; for second, etc...).

I expect that each consumer will process the message, and after will deliver
a response to the publisher on the replyQueue.

How the publisher could know that there's 20 consumers subscribing to the
exchange when it publis the message?
The idea, is that the publisher should know the number of consumers (or
queues ) that bind the routingKey to know how many responses it will expect?
Could you explain to me how to do that or give me a java example ?

Other point, to assume high avaibility, I could have more than one consumer
on the same queue. In these case, all consumers connected to the same queue
have established a &quot;direct&quot; connexion to assume that only one consumer
subscribed to the same queue will process the message. In these case, the
publisher should get only one information (the number of distinct queues,
not the number of consumers on one queue).

Thank you in advance,
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101209/284fc7c7/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101209/284fc7c7/attachment.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010290.html">[rabbitmq-discuss] Weird error
</A></li>
	<LI>Next message: <A HREF="010298.html">[rabbitmq-discuss] Help: how a publisher could know number of	consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10294">[ date ]</a>
              <a href="thread.html#10294">[ thread ]</a>
              <a href="subject.html#10294">[ subject ]</a>
              <a href="author.html#10294">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
