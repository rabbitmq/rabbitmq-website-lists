<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue Ordering after restart
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20Ordering%20after%20restart&In-Reply-To=%3CAANLkTinKou%3DAecLt8kzPEjZSJ58VkyPigwM9j4%3DWP9Ao%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010220.html">
   <LINK REL="Next"  HREF="010204.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue Ordering after restart</H1>
    <B>rathi</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20Ordering%20after%20restart&In-Reply-To=%3CAANLkTinKou%3DAecLt8kzPEjZSJ58VkyPigwM9j4%3DWP9Ao%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Queue Ordering after restart">riteshrathi at gmail.com
       </A><BR>
    <I>Wed Dec  1 15:41:53 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="010220.html">[rabbitmq-discuss] queue statistics
</A></li>
        <LI>Next message: <A HREF="010204.html">[rabbitmq-discuss] Routing key questions/suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10203">[ date ]</a>
              <a href="thread.html#10203">[ thread ]</a>
              <a href="subject.html#10203">[ subject ]</a>
              <a href="author.html#10203">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>In the rabbitmq documentation it is said
*
*
*I have read that RabbitMQ preserves the order of messages in queues. Is
this correct?*

*For the most part, yes. Say a publisher publishes messages M1, M2, M3 and
M4 (in that order) on the same channel and with the same routing
information. If these messages are routed to a queue then they will end up
in the same order that they were published. Consuming on the queue will
yield M1, M2, M3 and then M4.*

*However, the order is only guaranteed in the absence of requeuing. A
message will be implicitly requeued if a consumer closes the channel before
ack'ing a message. For example, if a consumer receives M1, fails to ack and
closes the channel then the next consumer will receive messages in the order
M2, M3, M4, M1. Messages can also be explicitly requeued if the consumer
calls basic.recover{requeue=true}. The FAQ on at least once
delivery&lt;<A HREF="http://www.rabbitmq.com/faq.html#at-least-once-delivery">http://www.rabbitmq.com/faq.html#at-least-once-delivery</A>&gt;talks
about this in some more detail.
*


I have only one consumer which should process messages in the order they are
published. If my consumer gets M1 and crashes without acknowledging M1, then
when I restart my consumer I want to process messages in the same order as
they were published. Can this be achieved ?


thanks &amp; regards,

ritesh rathi
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101201/66a4f3cc/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101201/66a4f3cc/attachment.htm</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010220.html">[rabbitmq-discuss] queue statistics
</A></li>
	<LI>Next message: <A HREF="010204.html">[rabbitmq-discuss] Routing key questions/suggestions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10203">[ date ]</a>
              <a href="thread.html#10203">[ thread ]</a>
              <a href="subject.html#10203">[ subject ]</a>
              <a href="author.html#10203">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
