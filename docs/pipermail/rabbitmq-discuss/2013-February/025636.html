<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ dying
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20dying&In-Reply-To=%3CCAMxMOAsD%3DEdjqkbTS-W0WUPPWitX3sdd6WccvukL1TE8wHuAyA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025632.html">
   <LINK REL="Next"  HREF="025637.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ dying</H1>
    <B>Christian S. Perone</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20dying&In-Reply-To=%3CCAMxMOAsD%3DEdjqkbTS-W0WUPPWitX3sdd6WccvukL1TE8wHuAyA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ dying">christian.perone at gmail.com
       </A><BR>
    <I>Sat Feb 23 00:49:47 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025632.html">[rabbitmq-discuss] RabbitMQ and log settings
</A></li>
        <LI>Next message: <A HREF="025637.html">[rabbitmq-discuss] RabbitMQ dying
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25636">[ date ]</a>
              <a href="thread.html#25636">[ thread ]</a>
              <a href="subject.html#25636">[ subject ]</a>
              <a href="author.html#25636">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, I'm facing some problems with different versions of RabbitMQ (2.7.1
and 3.0.2), and I couldn't
find any trace of problem in the logs (perhaps I'm looking the wrong log
file), anyway, the rabbitmq is dying after running well for some time, I'm
using only two queues and the messages are working on a rate of 132
msgs/sec, but after 2 or 3 hours the rabbitmq simple dies and the only log
I can see is from the kernel log (dmesg), with RabbitMQ 3.0.2:

[38178.105567] beam.smp[1514] general protection ip:4d8b48 sp:7f979f41e7a0
error:0 in beam.smp[400000+1af000]

... which looks pretty bad. The same message appeared with version 2.7.1
and all logs in /var/log/rabbitmq didn't showed anything that could be an
error, just info about connections, etc. Also, after I updated it to the
version 3.0.2, the only log that RabbitMQ touched was
/var/log/rabbitmq/startup_err, which contained the messages:

ls: cannot access /etc/rabbitmq/rabbitmq.conf.d: No such file or directory
Segmentation fault (core dumped)

Besides the conf error message the server worked for nearly 2 hours and
then died, but now it is showing the segfault message that wasn't show on
the 2.7.1 version.

I'm using Ubuntu server 12.04.2 (LTS) with kernel 3.2.0 (x86_64) and Erlang
v.5.8.5.

Does anyone already faced this problem or have any clue about what could be
causing this ?

Thanks !


-- 
Blog &lt;<A HREF="http://pyevolve.sourceforge.net/wordpress/">http://pyevolve.sourceforge.net/wordpress/</A>&gt; |
Github&lt;<A HREF="https://github.com/perone">https://github.com/perone</A>&gt;
|<i> Twitter &lt;<A HREF="https://twitter.com/tarantulae">https://twitter.com/tarantulae</A>&gt;
</I>&quot;Forgive, O Lord, my little jokes on Thee, and I'll forgive Thy great big
joke on me.&quot;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130222/1e4645e2/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130222/1e4645e2/attachment.htm</A>&gt;
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025632.html">[rabbitmq-discuss] RabbitMQ and log settings
</A></li>
	<LI>Next message: <A HREF="025637.html">[rabbitmq-discuss] RabbitMQ dying
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25636">[ date ]</a>
              <a href="thread.html#25636">[ thread ]</a>
              <a href="subject.html#25636">[ subject ]</a>
              <a href="author.html#25636">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
