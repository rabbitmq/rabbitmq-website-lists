<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq custom plugin authorization
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20custom%20plugin%20authorization&In-Reply-To=%3CCAE0Sz%3Dyvu1Q%3DJMSu2x5i0dts2VTuKET1%3DHmwqxTgDwbPtWcNpA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025703.html">
   <LINK REL="Next"  HREF="025708.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq custom plugin authorization</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20custom%20plugin%20authorization&In-Reply-To=%3CCAE0Sz%3Dyvu1Q%3DJMSu2x5i0dts2VTuKET1%3DHmwqxTgDwbPtWcNpA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq custom plugin authorization">jerryk at rbcon.com
       </A><BR>
    <I>Wed Feb 27 23:32:48 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025703.html">[rabbitmq-discuss] Rabbitmq custom plugin authorization
</A></li>
        <LI>Next message: <A HREF="025708.html">[rabbitmq-discuss] Can't create queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25704">[ date ]</a>
              <a href="thread.html#25704">[ thread ]</a>
              <a href="subject.html#25704">[ subject ]</a>
              <a href="author.html#25704">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Prabodh:

For my next phase, I need to integrate with the external system and control
&gt;<i> authorization.  First thing I need to do is control users from creating
</I>&gt;<i> temporary queue with only certain filter criteria.  i.e. allow logged in
</I>&gt;<i> user to create a queue based on filter key *.warning.  This user will not
</I>&gt;<i> have permission to create a queue with *.error tag.  How can I control
</I>&gt;<i> that?
</I>&gt;<i>
</I>
To handle such checks you'll have to implement an &quot;authorization backend&quot;
by implementing the 'rabbit_auth_backend' Erlang behaviour.

The behaviour in question is pretty simple, exposing only
check_user_login/2, check_vhost_access/2 and check_resource_access/2.  The
last of these three is where you will want to implement your logic for
enforcing what operations a user can perform on which resources.

If you want some example code to look at, check out the source for the
RabbitMQ broker itself, which implements the above behaviour, with checks
against an Mnesia-based database of users and permissions, in the file
rabbit_auth_backend_internal.erl; the Mnesia/database stuff there is likely
not directly relevant to your application but you can get a sense for the
sorts of work you'll need to do to get what you want working.

Best regards,
Jerry
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130227/645aca2b/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130227/645aca2b/attachment.htm</A>&gt;
</PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025703.html">[rabbitmq-discuss] Rabbitmq custom plugin authorization
</A></li>
	<LI>Next message: <A HREF="025708.html">[rabbitmq-discuss] Can't create queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25704">[ date ]</a>
              <a href="thread.html#25704">[ thread ]</a>
              <a href="subject.html#25704">[ subject ]</a>
              <a href="author.html#25704">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
