<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] odd rabbitmq / heartbeat /drbd duplicate	mount
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20odd%20rabbitmq%20/%20heartbeat%20/drbd%20duplicate%0A%09mount&In-Reply-To=%3C512CDC6B.3040801%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025587.html">
   <LINK REL="Next"  HREF="025593.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] odd rabbitmq / heartbeat /drbd duplicate	mount</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20odd%20rabbitmq%20/%20heartbeat%20/drbd%20duplicate%0A%09mount&In-Reply-To=%3C512CDC6B.3040801%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] odd rabbitmq / heartbeat /drbd duplicate	mount">matthias at rabbitmq.com
       </A><BR>
    <I>Tue Feb 26 16:01:47 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025587.html">[rabbitmq-discuss] odd rabbitmq / heartbeat /drbd duplicate mount
</A></li>
        <LI>Next message: <A HREF="025593.html">[rabbitmq-discuss] I can't visit http://localhost:15672
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25673">[ date ]</a>
              <a href="thread.html#25673">[ thread ]</a>
              <a href="subject.html#25673">[ subject ]</a>
              <a href="author.html#25673">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Frank,

On 21/02/13 00:02, Frank wrote:
&gt;<i> what has me stumped is that while the ip address is only on the primary
</I>&gt;<i> heartbeat node (like it should be), /var/lib/rabbitmq is accessible as both.
</I>
Just because the fs isn't mounted doesn't mean you can't access that 
dir, i.e. the dir might actually exist independently of the fs mount.

&gt;<i> 'mount' and mtab both reports that /var/lib/rabbitmq is not mounted on
</I>&gt;<i> the backup heartbeat node but I can see the same .erlang.cookie on both
</I>&gt;<i> nodes.
</I>
As above.

&gt;<i> The output of rabbitmqctl is the same for both nodes.
</I>
As above; if there is an underlying dir, then it might well contain an 
erlang cookie. rabbitmqctl would probably end up connecting to the other 
node, due to the hostname resolving to that IP rather than the local IP.

So, in summary, none of this is surprising. If the behaviour bothers 
you, simply rm the /var/lib/rabbitmq dir on the secondary.

Matthias.
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025587.html">[rabbitmq-discuss] odd rabbitmq / heartbeat /drbd duplicate mount
</A></li>
	<LI>Next message: <A HREF="025593.html">[rabbitmq-discuss] I can't visit http://localhost:15672
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25673">[ date ]</a>
              <a href="thread.html#25673">[ thread ]</a>
              <a href="subject.html#25673">[ subject ]</a>
              <a href="author.html#25673">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
