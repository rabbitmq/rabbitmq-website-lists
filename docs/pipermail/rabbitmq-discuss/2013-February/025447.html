<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ blocking issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20blocking%20issue&In-Reply-To=%3C0C5C3C8F51B90E4596BB1263843DEB1501378C4FEB%40hq-ex-mb03.ad.navteq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025431.html">
   <LINK REL="Next"  HREF="025448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ blocking issue</H1>
    <B>Konar Peter (Nokia-LC/Chicago)</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20blocking%20issue&In-Reply-To=%3C0C5C3C8F51B90E4596BB1263843DEB1501378C4FEB%40hq-ex-mb03.ad.navteq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ blocking issue">peter.konar at nokia.com
       </A><BR>
    <I>Mon Feb 11 21:44:56 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025431.html">[rabbitmq-discuss] RabbitMQ blocking issue
</A></li>
        <LI>Next message: <A HREF="025448.html">[rabbitmq-discuss] RabbitMQ blocking issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25447">[ date ]</a>
              <a href="thread.html#25447">[ thread ]</a>
              <a href="subject.html#25447">[ subject ]</a>
              <a href="author.html#25447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have upgraded client and server to 3.0.2 to get heartbeats. I will get you a &quot;netstat -an&quot; output as soon as we can get this to fail.

Peter Konar

-----Original Message-----
From: Carroll James (Nokia-LC/Malvern)
Sent: Friday, February 08, 2013 3:31 PM
To: ext Matthias Radestock; Konar Peter (Nokia-LC/Chicago)
Cc: Discussions about RabbitMQ; Mccuiston Mitchell (Nokia-LC/Chicago); Lieber Dick (Nokia-LC/Chicago); Johnson Anthony (Nokia-LC/Alpharetta); Yu Jerry.3 (Nokia-LC/Alpharetta)
Subject: RE: [rabbitmq-discuss] RabbitMQ blocking issue

You can see the amount of data in the buffers using netstat. Pete can you add a netstat for both the server and client side?

-----Original Message-----
From: ext Matthias Radestock [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>]
Sent: Friday, February 08, 2013 3:22 PM
To: Konar Peter (Nokia-LC/Chicago)
Cc: Carroll James (Nokia-LC/Malvern); Discussions about RabbitMQ; Mccuiston Mitchell (Nokia-LC/Chicago); Lieber Dick (Nokia-LC/Chicago); Johnson Anthony (Nokia-LC/Alpharetta); Yu Jerry.3 (Nokia-LC/Alpharetta)
Subject: Re: [rabbitmq-discuss] RabbitMQ blocking issue

Peter,

On 08/02/13 20:05, Konar Peter (Nokia-LC/Chicago) wrote:
&gt;<i> Jstack trace of the connection that is hung.
</I>&gt;<i> [...]
</I>
I see. So it's indeed stuck in the socket write. For how long has it been like that?

&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pkonar at ajtrafp063</A> ~]$ sudo rabbitmqctl report Reporting server status
</I>&gt;<i> on {{2013,2,8},{20,5,18}} [...]
</I>
That all looks fine.

Curiously all of the connections are in the 'running' state, which means they should be reading data from their sockets. Carroll said in his previous email that &quot;the recv buffer on the server side [is] full.&quot;.
What evidence do you have for that?

Regards,

Matthias.

The information contained in this communication may be CONFIDENTIAL and is intended only for the use of the recipient(s) named above.  If you are not the intended recipient, you are hereby notified that any dissemination, distribution, or copying of this communication, or any of its contents, is strictly prohibited.  If you have received this communication in error, please notify the sender and delete/destroy the original message and any copy of it from your computer or paper files.
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025431.html">[rabbitmq-discuss] RabbitMQ blocking issue
</A></li>
	<LI>Next message: <A HREF="025448.html">[rabbitmq-discuss] RabbitMQ blocking issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25447">[ date ]</a>
              <a href="thread.html#25447">[ thread ]</a>
              <a href="subject.html#25447">[ subject ]</a>
              <a href="author.html#25447">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
