<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] about durable queues in a cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20about%20durable%20queues%20in%20a%20cluster&In-Reply-To=%3C15A6A437-685C-49AB-BBB5-8A20C3A92DC1%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025682.html">
   <LINK REL="Next"  HREF="025688.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] about durable queues in a cluster</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20about%20durable%20queues%20in%20a%20cluster&In-Reply-To=%3C15A6A437-685C-49AB-BBB5-8A20C3A92DC1%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] about durable queues in a cluster">watson.timothy at gmail.com
       </A><BR>
    <I>Wed Feb 27 09:21:01 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025682.html">[rabbitmq-discuss] about durable queues in a cluster
</A></li>
        <LI>Next message: <A HREF="025688.html">[rabbitmq-discuss] about durable queues in a cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25684">[ date ]</a>
              <a href="thread.html#25684">[ thread ]</a>
              <a href="subject.html#25684">[ subject ]</a>
              <a href="author.html#25684">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The disk/ram node distinction refers to where definitions (queue, exchange, etc) are stored. Messages are handled separately and are always stored on disk if they're marked persistent (and sometimes even if they're not, e.g., if memory is running out). You should note however, that just because you have a cluster doesn't mean that messages will be present on all nodes! If the nodes are clustered then the definition will exist on all nodes but the messages will only end up on the node where the queue was declared and is running. If you want messages to be mirrored across nodes then you'll need to make it a mirrored queue by setting the ha policy to ensure messages are replicated across nodes in the cluster. HTH.

Cheers
Tim

On 27 Feb 2013, at 08:02, Steve &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">steve at dnsbed.com</A>&gt; wrote:

&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> In a cluster, say there are one disk node and two memory nodes.
</I>&gt;<i> When createing a queue we mark the queue as durable, and deliver messages to the queue with persistent mode. Since there is only one disk node in the cluster, does it mean all messages are written to this disk node only?
</I>&gt;<i> 
</I>&gt;<i> Thanks.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025682.html">[rabbitmq-discuss] about durable queues in a cluster
</A></li>
	<LI>Next message: <A HREF="025688.html">[rabbitmq-discuss] about durable queues in a cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25684">[ date ]</a>
              <a href="thread.html#25684">[ thread ]</a>
              <a href="subject.html#25684">[ subject ]</a>
              <a href="author.html#25684">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
