<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ blocking issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20blocking%20issue&In-Reply-To=%3CD866D8338CBD0741B3C055B2AA74E65937E66D9749%40f-exch-mb2.ad.navteq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025500.html">
   <LINK REL="Next"  HREF="025496.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ blocking issue</H1>
    <B>Carroll James (Nokia-LC/Malvern)</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20blocking%20issue&In-Reply-To=%3CD866D8338CBD0741B3C055B2AA74E65937E66D9749%40f-exch-mb2.ad.navteq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ blocking issue">james.carroll at nokia.com
       </A><BR>
    <I>Wed Feb 13 23:01:25 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025500.html">[rabbitmq-discuss] RabbitMQ blocking issue
</A></li>
        <LI>Next message: <A HREF="025496.html">[rabbitmq-discuss] RabbitMQ blocking issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25495">[ date ]</a>
              <a href="thread.html#25495">[ thread ]</a>
              <a href="subject.html#25495">[ subject ]</a>
              <a href="author.html#25495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias.

Sorry about this. I did this with Pete. We grabbed the data in the original email and THEN I decided to save off full netstats, jstacks and rebbitmqctrl reports (which we didn't reexamine, assuming they hadn't changed over the 3 minutes where we were looking at it). These later files are what he sent you in the followup. It looks like something changed in between, and perhaps in between the netstat and the rabbitctrl report.

We will make another attempt to capture all of the data.

Sorry again
Jim

-----Original Message-----
From: Konar Peter (Nokia-LC/Chicago)
Sent: Wednesday, February 13, 2013 5:30 PM
To: ext Matthias Radestock
Cc: Discussions about RabbitMQ; Yu Jerry.3 (Nokia-LC/Alpharetta); Carroll James (Nokia-LC/Malvern); Lieber Dick (Nokia-LC/Chicago); Johnson Anthony (Nokia-LC/Alpharetta); Mccuiston Mitchell (Nokia-LC/Chicago)
Subject: RE: [rabbitmq-discuss] RabbitMQ blocking issue

There was maybe 2mins between command, sending new output scripted to run sequentially. Order of the operations was Client netstat Server netstat Server report

Thanks
Peter Konar


-----Original Message-----
From: ext Matthias Radestock [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>]
Sent: Wednesday, February 13, 2013 3:42 PM
To: Konar Peter (Nokia-LC/Chicago)
Cc: Discussions about RabbitMQ; Yu Jerry.3 (Nokia-LC/Alpharetta); Carroll James (Nokia-LC/Malvern); Lieber Dick (Nokia-LC/Chicago); Johnson Anthony (Nokia-LC/Alpharetta); Mccuiston Mitchell (Nokia-LC/Chicago)
Subject: Re: [rabbitmq-discuss] RabbitMQ blocking issue

Peter,

On 13/02/13 21:27, Konar Peter (Nokia-LC/Chicago) wrote:
&gt;<i> Happened again
</I>&gt;<i>
</I>&gt;<i> Netstat client
</I>&gt;<i>
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pkonar at ajtrafp057</A> ~]$ netstat -an | grep 5672
</I>&gt;<i> tcp        0 189824 ::ffff:10.196.42.182:49191  ::ffff:10.196.42.21:5672    ESTABLISHED
</I>&gt;<i>
</I>&gt;<i> netstat server
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pkonar at ajtrafp063</A> ~]$ netstat -an | grep 182
</I>&gt;<i> tcp   574331      0 ::ffff:10.196.42.21:5672    ::ffff:10.196.42.182:49191  ESTABLISHED
</I>
That connection does indeed have a non-empty Send-Q at the server end and is evidently not being read from.

Curiously, the 'rabbitmqctl report' shows no entry for that connection.
There is one for a source ip/port of 10.196.42.182:55741 (which, conversely, does not show up in netstat), but not :49191.

In which order did you run the netstat and 'rabbitmqctl report'
commands, and what time gap was there between them?

Also, please check the rabbit.log for entries relating to the connection from port 10.196.42.182:49191 and post them here.

Regards,

Matthias.

The information contained in this communication may be CONFIDENTIAL and is intended only for the use of the recipient(s) named above.  If you are not the intended recipient, you are hereby notified that any dissemination, distribution, or copying of this communication, or any of its contents, is strictly prohibited.  If you have received this communication in error, please notify the sender and delete/destroy the original message and any copy of it from your computer or paper files.
</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025500.html">[rabbitmq-discuss] RabbitMQ blocking issue
</A></li>
	<LI>Next message: <A HREF="025496.html">[rabbitmq-discuss] RabbitMQ blocking issue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25495">[ date ]</a>
              <a href="thread.html#25495">[ thread ]</a>
              <a href="subject.html#25495">[ subject ]</a>
              <a href="author.html#25495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
