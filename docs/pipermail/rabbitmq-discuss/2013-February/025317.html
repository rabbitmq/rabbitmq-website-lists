<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to handle 'RabbitMQ cluster unaccessible' issues? Is using shovels the best solution?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20handle%20%27RabbitMQ%20cluster%0A%20unaccessible%27%20issues%3F%20Is%20using%20shovels%20the%20best%20solution%3F&In-Reply-To=%3C510F90B6.6000508%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025314.html">
   <LINK REL="Next"  HREF="025325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to handle 'RabbitMQ cluster unaccessible' issues? Is using shovels the best solution?</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20handle%20%27RabbitMQ%20cluster%0A%20unaccessible%27%20issues%3F%20Is%20using%20shovels%20the%20best%20solution%3F&In-Reply-To=%3C510F90B6.6000508%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] How to handle 'RabbitMQ cluster unaccessible' issues? Is using shovels the best solution?">tim at rabbitmq.com
       </A><BR>
    <I>Mon Feb  4 10:43:02 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025314.html">[rabbitmq-discuss] How to handle 'RabbitMQ cluster unaccessible' issues? Is using shovels the best solution?
</A></li>
        <LI>Next message: <A HREF="025325.html">[rabbitmq-discuss] version 3.0.2 upgrade with lvc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25317">[ date ]</a>
              <a href="thread.html#25317">[ thread ]</a>
              <a href="subject.html#25317">[ subject ]</a>
              <a href="author.html#25317">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

On 02/04/2013 07:54 AM, Arizanov wrote:
&gt;<i> Hi guys,
</I>&gt;<i>
</I>&gt;<i> We are doing some realtime replication of critical data and there may 
</I>&gt;<i> be cases when the RabbitMQ cluster is unaccessible. E.g. the cluster 
</I>&gt;<i> is being patched or there just a network connectivity issue. On one 
</I>&gt;<i> side we can have local rabbitmq installations inside the webserver and 
</I>&gt;<i> shovels, which transmit the data to the cluster. On the other side, we 
</I>&gt;<i> can develop our own database and a service over it, which is scheduled 
</I>&gt;<i> to transmit the messages to the cluster when it becomes available. So 
</I>&gt;<i> is using the 'shovel' the best practise? Does the statement
</I>&gt;<i> &quot;A shovel behaves like a well-written client application, which 
</I>&gt;<i> connects to its source and destination, reads and writes messages, and 
</I>&gt;<i> copes with connection failures.&quot; from 
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/shovel.html">http://www.rabbitmq.com/shovel.html</A> means so?
</I>&gt;<i>
</I>
Reading from ...,

&quot;Whereas federation aims to mirror messages from one exchange to another 
(with optimisations to ensure that messages are not forwarded unless 
needed), the shovel simply consumes messages from a queue on one broker, 
and forwards them to an exchange on another. &quot;

So with the Shovel, because you &quot;Choose Availability and Partition 
Tolerance from the CAP theorem 
&lt;<A HREF="http://en.wikipedia.org/wiki/CAP_theorem">http://en.wikipedia.org/wiki/CAP_theorem</A>&gt;&quot;, there is the possibility 
that you'll end up with duplicate messages. You can tweak the 
'republish' semantics to compensate for this if you like, and of course 
yes the Shovel will attempt to reconnect (and this is also configurable) 
on connection failure.

You might want to consider Federation if you don't need to low level of 
control that the Shovel offers.

Cheers,
Tim
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130204/68b82885/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130204/68b82885/attachment.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025314.html">[rabbitmq-discuss] How to handle 'RabbitMQ cluster unaccessible' issues? Is using shovels the best solution?
</A></li>
	<LI>Next message: <A HREF="025325.html">[rabbitmq-discuss] version 3.0.2 upgrade with lvc
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25317">[ date ]</a>
              <a href="thread.html#25317">[ thread ]</a>
              <a href="subject.html#25317">[ subject ]</a>
              <a href="author.html#25317">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
