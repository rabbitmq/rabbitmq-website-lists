<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] the cluster broke and can not auto recover
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20the%20cluster%20broke%20and%20can%20not%20auto%20recover&In-Reply-To=%3C7DC5E008-062C-4629-9E6A-6E21DA1EA07F%40corp.netease.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025543.html">
   <LINK REL="Next"  HREF="025546.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] the cluster broke and can not auto recover</H1>
    <B>&#24278;&#26093;</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20the%20cluster%20broke%20and%20can%20not%20auto%20recover&In-Reply-To=%3C7DC5E008-062C-4629-9E6A-6E21DA1EA07F%40corp.netease.com%3E"
       TITLE="[rabbitmq-discuss] the cluster broke and can not auto recover">xliao at corp.netease.com
       </A><BR>
    <I>Mon Feb 18 05:57:16 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025543.html">[rabbitmq-discuss] RabbitMQ not persisting messages after a	restart
</A></li>
        <LI>Next message: <A HREF="025546.html">[rabbitmq-discuss] the cluster broke and can not auto recover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25544">[ date ]</a>
              <a href="thread.html#25544">[ thread ]</a>
              <a href="subject.html#25544">[ subject ]</a>
              <a href="author.html#25544">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I was confused by the problem when the rabbitmq cluster(3 nodes 167/188/218, mirrored quque) was running, suddenly maybe an network io error happened, then the cluster broker into two(167-188 and 218), each of them was confirmed running and able to serve but also consider the reason of cluster breaking was not their own fault and always waited for the other node to join back again.

Any clue?


218 consider 167and188 down, and it's master now.




167 and 188 both consider 218 down

And the cluster_status command returns


-----------------------------------
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">xliao at corp.netease.com</A>




-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ???? 2013-02-17 ??6.39.11.png
Type: image/png
Size: 65374 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ???? 2013-02-17 ??6.39.44.png
Type: image/png
Size: 69048 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment-0001.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment-0001.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ???? 2013-02-17 ??6.39.23.png
Type: image/png
Size: 63077 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment-0002.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment-0002.png</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ???? 2013-02-17 ??10.42.33.png
Type: image/png
Size: 32864 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment-0003.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130218/398ef7ee/attachment-0003.png</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025543.html">[rabbitmq-discuss] RabbitMQ not persisting messages after a	restart
</A></li>
	<LI>Next message: <A HREF="025546.html">[rabbitmq-discuss] the cluster broke and can not auto recover
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25544">[ date ]</a>
              <a href="thread.html#25544">[ thread ]</a>
              <a href="subject.html#25544">[ subject ]</a>
              <a href="author.html#25544">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
