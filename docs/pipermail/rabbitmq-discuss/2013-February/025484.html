<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] creating connections to RMQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20creating%20connections%20to%20RMQ&In-Reply-To=%3CCAEuJcXOWoXnSgwRcgAo8c2F%2BUuV3zmA65QG2RO694cgXxcgSnQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025505.html">
   <LINK REL="Next"  HREF="025487.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] creating connections to RMQ</H1>
    <B>Rob Woolfson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20creating%20connections%20to%20RMQ&In-Reply-To=%3CCAEuJcXOWoXnSgwRcgAo8c2F%2BUuV3zmA65QG2RO694cgXxcgSnQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] creating connections to RMQ">rob at bsdsoftware.co.il
       </A><BR>
    <I>Wed Feb 13 13:18:37 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025505.html">[rabbitmq-discuss] Queue binding option in rabbit.js
</A></li>
        <LI>Next message: <A HREF="025487.html">[rabbitmq-discuss] creating connections to RMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25484">[ date ]</a>
              <a href="thread.html#25484">[ thread ]</a>
              <a href="subject.html#25484">[ subject ]</a>
              <a href="author.html#25484">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Server 1 (S1) we have a producer (P1) and a consumer (C1), P1 sends
messages to a consumer (C2) on a Server (S2), which replies to S1 by
sending messages from producer (P2) to the consumer on S1, C1.

The system creates a queue for C1 to receive a reply before P1 publishes a
message to the exchange.  This way there is no possibility that P2 can
publish a message to the exchange that C1 will miss.

We may have been using bad practice up until now as we have been creating
doing the following:
create new connection to RMQ
create new channel on connection
declare exchange (it is durable so it always exists)
declare queue (this is a new queue everytime)
bind queue to exchange
P1 sends message to exchange
C1 starts queueDevliery loop to wait for replies.

The problem here is that the messages that P1 sends are time sensitive and
C1 cannot miss any of the replies.  The startup time for a new connection
seems to be the biggest delay channel is the next slowest and the others
are non trivial.

What is the suggested best practice for speeding up my process?

Thanks

-- 
Rob Woolfson
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130213/903b2466/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130213/903b2466/attachment.htm</A>&gt;
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025505.html">[rabbitmq-discuss] Queue binding option in rabbit.js
</A></li>
	<LI>Next message: <A HREF="025487.html">[rabbitmq-discuss] creating connections to RMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25484">[ date ]</a>
              <a href="thread.html#25484">[ thread ]</a>
              <a href="subject.html#25484">[ subject ]</a>
              <a href="author.html#25484">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
