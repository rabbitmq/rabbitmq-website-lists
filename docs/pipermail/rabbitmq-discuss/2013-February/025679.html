<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federated Topic Exchanges
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federated%20Topic%20Exchanges&In-Reply-To=%3CCAO%3D6ox8F0VabeYwQdsWOy2%2BufqBGBoOaPNLYn-unfXTi6y2TgA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025678.html">
   <LINK REL="Next"  HREF="025697.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federated Topic Exchanges</H1>
    <B>Richard Raseley</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federated%20Topic%20Exchanges&In-Reply-To=%3CCAO%3D6ox8F0VabeYwQdsWOy2%2BufqBGBoOaPNLYn-unfXTi6y2TgA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Federated Topic Exchanges">richard at raseley.com
       </A><BR>
    <I>Tue Feb 26 23:41:22 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025678.html">[rabbitmq-discuss] Error: unable to connect to node rabbit at host:	nodedown
</A></li>
        <LI>Next message: <A HREF="025697.html">[rabbitmq-discuss] Federated Topic Exchanges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25679">[ date ]</a>
              <a href="thread.html#25679">[ thread ]</a>
              <a href="subject.html#25679">[ subject ]</a>
              <a href="author.html#25679">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am contemplating the use of topic exchanges along with the federation
plugin to route messages between geographically separated brokers.

1) Will someone confirm my understanding of the configuration is valid?

In this situation there would be topic exchange named &quot;B1.TE&quot; &quot;B2.TE&quot; that
would be configured within brokers &quot;B1&quot; and &quot;B2&quot; respectively. B1.TE would
have B2.TE configured as an upstream exchange and B2.TE would have B1.TE
configured as an upstream exchange.

Broker B1 would have queues &quot;B1.Q1&quot; and &quot;B1.Q2&quot; configured and bound to
exchange B1.TE with routing keys &quot;B1.Q1&quot; and &quot;*.Q2&quot; respectively.

Broker B2 would have queues &quot;B2.Q1&quot; and &quot;B2.Q2&quot; configured and bound to
exchange B2.TE with routing keys &quot;B2.Q1&quot; and &quot;*.Q2&quot; respectively.

2) Assuming the answer to question #1 above is &quot;yes, it is valid&quot;, would
someone confirm my understanding of how the following messages would be
routed?

A message sent to exchange B1.TE with routing key &quot;B2.Q1&quot; would be
received, forwarded to exchange B2.TE, placed in queue B2.Q1, and then
acknowledgement would be sent back to the client.

A message sent to exchange B1.TE with routing key &quot;B1.Q2&quot; would be
received, a copy placed in queue B1.Q2, a copy forwarded to exchange B2.TE,
placed in queue B2.Q2, and then acknowledgement would be sent back to the
client.

A message sent to exchange B2.TE with routing key &quot;B2.Q2&quot; would be
received, a copy placed in queue B2.Q2, a copy forwarded to exchange B1.TE,
placed in queue B1.Q2, and then acknowledgement would be sent back to the
client.

3) My understanding is that an exchange has knowledge of the routing
topology of any upstream queues and therefore won't send a message upstream
that wouldn't end up in a queue. Firstly, is that understanding correct?
Secondly (if yes to the previous question), what type of overhead are we
talking about when using this configuration with a topic exchange?

My worry is that the processing power required to deliver each message will
increase exponentially as I add additional brokers in a &quot;mesh&quot; style
federated topology as it seems that the routing table on each upstream
exchange has to be examined for each message delivery.

Thank you in advance for your response and reading my long-winded email. =]

Regards,

Richard
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130226/caf4ef07/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130226/caf4ef07/attachment.htm</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025678.html">[rabbitmq-discuss] Error: unable to connect to node rabbit at host:	nodedown
</A></li>
	<LI>Next message: <A HREF="025697.html">[rabbitmq-discuss] Federated Topic Exchanges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25679">[ date ]</a>
              <a href="thread.html#25679">[ thread ]</a>
              <a href="subject.html#25679">[ subject ]</a>
              <a href="author.html#25679">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
