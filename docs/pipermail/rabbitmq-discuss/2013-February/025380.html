<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Config file syntax changes between 2.8.7 and	3.0.X
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Config%20file%20syntax%20changes%20between%202.8.7%20and%0A%093.0.X&In-Reply-To=%3CCACLE7ixfjsFKd1-wT7OfqXSDUQw-K5vxnu4qKtOEhvdMY6zwpg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025457.html">
   <LINK REL="Next"  HREF="025384.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Config file syntax changes between 2.8.7 and	3.0.X</H1>
    <B>Matt Pietrek</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Config%20file%20syntax%20changes%20between%202.8.7%20and%0A%093.0.X&In-Reply-To=%3CCACLE7ixfjsFKd1-wT7OfqXSDUQw-K5vxnu4qKtOEhvdMY6zwpg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Config file syntax changes between 2.8.7 and	3.0.X">mpietrek at skytap.com
       </A><BR>
    <I>Wed Feb  6 22:12:57 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025457.html">[rabbitmq-discuss] Help getting 2.8.7 to run after removing 3.0.2 (maybe_upgrade_mnesia???)
</A></li>
        <LI>Next message: <A HREF="025384.html">[rabbitmq-discuss] Config file syntax changes between 2.8.7 and 3.0.X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25380">[ date ]</a>
              <a href="thread.html#25380">[ thread ]</a>
              <a href="subject.html#25380">[ subject ]</a>
              <a href="author.html#25380">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>So I've lost a few follicles today, and found what looks like two subtle
differences in config file syntax between 2.8.X and 3.0.X. I have a program
that auto-generates the rabbitmq.config file, and I'm trying to make it
work equally well with 2.8.X and 3.0.X brokers.

I'm looking for verification that I'm understanding things, as well as any
gotchas that I should be aware of.


*1) Specifying a node as a 'disc' node in the cluster config*

In <A HREF="http://previous.rabbitmq.com/clustering.html,">http://previous.rabbitmq.com/clustering.html,</A> the cluster node list
example looks like this:

{cluster_nodes, ['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit1</A>', '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit2</A>']},

In the current 3.0.X clustering.html, it show this:

{cluster_nodes, {['<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit1</A>', '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit2</A>', '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at rabbit3</A>'], disc}},

Note the addition of the 'disc' near the end.

Is the 'disc' only allowed in 3.0.X config files? I know 'disc' is the
default, but in a 3.0.X cluster, I was seeing a node start as 'ram' unless
I specified it. But then trying to start a 2.8.7 broker with 'disc&quot;
specified resulted in the inability to start it.


*2) Configuring the Management API port*

In the <A HREF="http://previous.rabbitmq.com/management.html,">http://previous.rabbitmq.com/management.html,</A> the management port
looks to be configured like this:

{rabbitmq_mochiweb, [{listeners, [{mgmt, [{port, 55555}]}]}]},


whereas in 3.0.X, it looks like the port is configured like this:

{rabbitmq_management, [{listener, [{port, 12345}]}]},

Is the 2.8.7 syntax not allowed in 3.0.X?

Thanks for your help,

Matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130206/75527090/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130206/75527090/attachment.htm</A>&gt;
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025457.html">[rabbitmq-discuss] Help getting 2.8.7 to run after removing 3.0.2 (maybe_upgrade_mnesia???)
</A></li>
	<LI>Next message: <A HREF="025384.html">[rabbitmq-discuss] Config file syntax changes between 2.8.7 and 3.0.X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25380">[ date ]</a>
              <a href="thread.html#25380">[ thread ]</a>
              <a href="subject.html#25380">[ subject ]</a>
              <a href="author.html#25380">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
