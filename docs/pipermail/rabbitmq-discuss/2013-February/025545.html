<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] the cluster broke and can not auto recover
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20the%20cluster%20broke%20and%20can%20not%20auto%20recover&In-Reply-To=%3C03b98601-2c6f-4f88-9874-91d42f452afd%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025546.html">
   <LINK REL="Next"  HREF="025548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] the cluster broke and can not auto recover</H1>
    <B>Kevin Liao</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20the%20cluster%20broke%20and%20can%20not%20auto%20recover&In-Reply-To=%3C03b98601-2c6f-4f88-9874-91d42f452afd%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] the cluster broke and can not auto recover">liaoxu at gmail.com
       </A><BR>
    <I>Mon Feb 18 06:18:29 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025546.html">[rabbitmq-discuss] the cluster broke and can not auto recover
</A></li>
        <LI>Next message: <A HREF="025548.html">[rabbitmq-discuss] High Performance Setup Strategy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25545">[ date ]</a>
              <a href="thread.html#25545">[ thread ]</a>
              <a href="subject.html#25545">[ subject ]</a>
              <a href="author.html#25545">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 

I was confused by the problem when the rabbitmq cluster(3 nodes 
167/188/218, mirrored quque) was running, suddenly maybe an network io 
error happened, then the cluster broker into two(167-188 and 218), each of 
them was confirmed running and able to serve but also consider the reason 
of cluster breaking was not their own fault and always waited for the other 
node to join back again.


Any clue?

&lt;<A HREF="https://lh4.googleusercontent.com/-d-tKvmnFwDI/USHHKY29EmI/AAAAAAAAAF4/yWudeT64Ats/s1600/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7+2013-02-17+%E4%B8%8B%E5%8D%886.39.44.png">https://lh4.googleusercontent.com/-d-tKvmnFwDI/USHHKY29EmI/AAAAAAAAAF4/yWudeT64Ats/s1600/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7+2013-02-17+%E4%B8%8B%E5%8D%886.39.44.png</A>&gt;



218 consider 167and188 down, and it's master now.


&lt;<A HREF="https://lh5.googleusercontent.com/-53xWkDetMEg/USHHZpnFYoI/AAAAAAAAAGA/iysXsLTEzlU/s1600/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7+2013-02-17+%E4%B8%8B%E5%8D%886.39.23.png">https://lh5.googleusercontent.com/-53xWkDetMEg/USHHZpnFYoI/AAAAAAAAAGA/iysXsLTEzlU/s1600/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7+2013-02-17+%E4%B8%8B%E5%8D%886.39.23.png</A>&gt;




167 and 188 both consider 218 down


And the cluster_status command returns

&lt;<A HREF="https://lh4.googleusercontent.com/-lmk5YAZrNJM/USHHjmq8voI/AAAAAAAAAGI/HtJf3HWTAJU/s1600/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7+2013-02-17+%E4%B8%8B%E5%8D%8810.42.33.png">https://lh4.googleusercontent.com/-lmk5YAZrNJM/USHHjmq8voI/AAAAAAAAAGI/HtJf3HWTAJU/s1600/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7+2013-02-17+%E4%B8%8B%E5%8D%8810.42.33.png</A>&gt;


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130217/d4480562/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130217/d4480562/attachment.htm</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025546.html">[rabbitmq-discuss] the cluster broke and can not auto recover
</A></li>
	<LI>Next message: <A HREF="025548.html">[rabbitmq-discuss] High Performance Setup Strategy
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25545">[ date ]</a>
              <a href="thread.html#25545">[ thread ]</a>
              <a href="subject.html#25545">[ subject ]</a>
              <a href="author.html#25545">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
