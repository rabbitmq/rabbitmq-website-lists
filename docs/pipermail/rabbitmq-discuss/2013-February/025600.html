<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] High Performance Setup Strategy
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20Performance%20Setup%20Strategy&In-Reply-To=%3C92fa6230-7671-4b4a-a1a7-f325f1801ba3%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025554.html">
   <LINK REL="Next"  HREF="025555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] High Performance Setup Strategy</H1>
    <B>oxxyyd at hotmail.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20Performance%20Setup%20Strategy&In-Reply-To=%3C92fa6230-7671-4b4a-a1a7-f325f1801ba3%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] High Performance Setup Strategy">oxxyyd at hotmail.com
       </A><BR>
    <I>Thu Feb 21 12:18:05 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025554.html">[rabbitmq-discuss] High Performance Setup Strategy
</A></li>
        <LI>Next message: <A HREF="025555.html">[rabbitmq-discuss] SSL using ssl offloading load balancer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25600">[ date ]</a>
              <a href="thread.html#25600">[ thread ]</a>
              <a href="subject.html#25600">[ subject ]</a>
              <a href="author.html#25600">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Florian,

Another way to achieve stable and high performance would be to install 
Solace Appliances. With them you can reach 200k concurrent connections per 
box and also get more than 230k messages/second fully guaranteed. You would 
have to replace AMQP with JMS though....

2 Solace 3260 (needed for 200K connections with HA) would replace :

1 server 24 cores

3 servers 16 cores

=120K connections

 

for 480K connections:

need at least 16 servers (4 24 cores and 12 16 cores).

vs :
6 solace appliances 

Cheers
Daniel


Am Montag, 18. Februar 2013 11:53:07 UTC+1 schrieb Florian M&#252;ller:
&gt;<i>
</I>&gt;<i> Good morning,
</I>&gt;<i>
</I>&gt;<i> I'm a little bit curious about the setup strategy of a project. Maybe 
</I>&gt;<i> someone of you can make it clear.
</I>&gt;<i>
</I>&gt;<i> Situation: 
</I>&gt;<i> Community Website, running on several php-nodes.
</I>&gt;<i>
</I>&gt;<i> Destination:
</I>&gt;<i> Implementation of Websockets with nodejs.
</I>&gt;<i>
</I>&gt;<i> Attempts:
</I>&gt;<i> One big Server (24 Cores) running Rabbitmq, every websocket-worker 
</I>&gt;<i> connects to this one.
</I>&gt;<i> Every php-node is running an own Rabbitmq, php connects to localhost using 
</I>&gt;<i> Amqp. Every kind of notifications is being sent to it, but only if the 
</I>&gt;<i> target user is actually connected to one socket (Solved per memcache-entry)
</I>&gt;<i> 3 Websocket-Hosts, each running 16 Node-Worker. (16 Cores/Server)
</I>&gt;<i>
</I>&gt;<i> Every websocket-worker creates an own queue.
</I>&gt;<i> There are 100 exchanges, the users are being sorted in there by their 
</I>&gt;<i> UserID. Exchange-Type: direct.
</I>&gt;<i> (Using only one exchange crashes when reaching 64k bindings)
</I>&gt;<i>
</I>&gt;<i> Problem:
</I>&gt;<i> Queues are starting to fill up when reaching 120k Bindings (130-140k 
</I>&gt;<i> unique Websocket-Connections). 4-6k delivered Msg/s.
</I>&gt;<i> Load: 
</I>&gt;<i> Big one (18-20 / 24)
</I>&gt;<i> php-nodes (6 / 16)
</I>&gt;<i> Nodejs-Hosts (5 / 16)
</I>&gt;<i>
</I>&gt;<i> I want to know your opinion about this setup, or tips to build a better 
</I>&gt;<i> one.
</I>&gt;<i>
</I>&gt;<i> We want to serve 300-500k Connections at any time with at least hardware 
</I>&gt;<i> as possible.
</I>&gt;<i>
</I>&gt;<i> Greetings,
</I>&gt;<i> Florian
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130221/530a3ee7/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130221/530a3ee7/attachment.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025554.html">[rabbitmq-discuss] High Performance Setup Strategy
</A></li>
	<LI>Next message: <A HREF="025555.html">[rabbitmq-discuss] SSL using ssl offloading load balancer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25600">[ date ]</a>
              <a href="thread.html#25600">[ thread ]</a>
              <a href="subject.html#25600">[ subject ]</a>
              <a href="author.html#25600">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
