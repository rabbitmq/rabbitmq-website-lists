<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] flow control threshold
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20flow%20control%20threshold&In-Reply-To=%3C1283396821.68900.1360240520749.JavaMail.root%40ns22265.ovh.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025402.html">
   <LINK REL="Next"  HREF="025397.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] flow control threshold</H1>
    <B>Gilles Danycan</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20flow%20control%20threshold&In-Reply-To=%3C1283396821.68900.1360240520749.JavaMail.root%40ns22265.ovh.net%3E"
       TITLE="[rabbitmq-discuss] flow control threshold">gdanycan at slip-software.com
       </A><BR>
    <I>Thu Feb  7 12:35:20 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025402.html">[rabbitmq-discuss] Round robin Topic exchange s
</A></li>
        <LI>Next message: <A HREF="025397.html">[rabbitmq-discuss] flow control threshold
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25388">[ date ]</a>
              <a href="thread.html#25388">[ thread ]</a>
              <a href="subject.html#25388">[ subject ]</a>
              <a href="author.html#25388">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi All, 

I have a serious problem to consume and requeue messages on a specific queue. i think the flow control is blocking connection... 
I'm using RabbitMQ 3.0.2, Erlang R15B03 on a debian server : 64go ram , 8 cpu. 

i have a script (named consumer) consuming and requeue messages on a queue named &quot;mainQueue&quot; (actually 900 000 messages into this queue) and another one publishing messages on the same queue (arround 200mess/s). 
each message is arroung 15kbytes and deliverymode =2 and durable. 

usually the script consumer is able to get and requeue messages at 1000mess/s, sometimes the same script is in hold, it doesn't consumer messages.., i see in connections that the connection is in state : flow 

i found documentation about flow control but i would like more advices about how to determine the flow control specificaly with my configuration and how to change the threshold . 


i send you below more details about the rabbit mq server status.. 



Connections: 328 
Channels: 328 
Exchanges: 120 
Queues: 111 
Consumers: 0 



File descriptors (?) Socket descriptors (?) Erlang processes Memory Disk space Uptime Type 
	

527 1048576 available 	

330 943626 available 	

2937 1048576 available 	

2.7GB 25.2GB high watermark 	

1.7TB 953.7MB low watermark 	2h 32m 	Disc Stats * 

Thanks for your help, 

Regards, 
Gilles 


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130207/522ad3ea/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130207/522ad3ea/attachment.htm</A>&gt;
</PRE>
































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025402.html">[rabbitmq-discuss] Round robin Topic exchange s
</A></li>
	<LI>Next message: <A HREF="025397.html">[rabbitmq-discuss] flow control threshold
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25388">[ date ]</a>
              <a href="thread.html#25388">[ thread ]</a>
              <a href="subject.html#25388">[ subject ]</a>
              <a href="author.html#25388">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
