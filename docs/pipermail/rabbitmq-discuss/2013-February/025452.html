<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How to start a local cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20start%20a%20local%20cluster&In-Reply-To=%3C041d954d-5f97-4357-a07d-dfbf323e5f60%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025453.html">
   <LINK REL="Next"  HREF="025454.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How to start a local cluster</H1>
    <B>Theo</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20to%20start%20a%20local%20cluster&In-Reply-To=%3C041d954d-5f97-4357-a07d-dfbf323e5f60%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] How to start a local cluster">iconara at gmail.com
       </A><BR>
    <I>Tue Feb 12 07:22:43 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025453.html">[rabbitmq-discuss] Setting the local-nodename parameter value via HTTP?
</A></li>
        <LI>Next message: <A HREF="025454.html">[rabbitmq-discuss] How to start a local cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25452">[ date ]</a>
              <a href="thread.html#25452">[ thread ]</a>
              <a href="subject.html#25452">[ subject ]</a>
              <a href="author.html#25452">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I have a bash script that starts a local RabbitMQ cluster, but it was 
written for 2.6 (or maybe even 2.5) and now it doesn't work anymore. Could 
you help me fix it to be compatible with 2.8 and 3.0? The only issue, as 
far as I can tell is that the second node can't start because the 
management plugin tries to start its web server on the same port as the 
first node. In my script this was solved by passing -rabbitmq_mochiweb 
listeners [{mgmt,[{port,$mgmt_port}]}] with a different value for $mgmt_portfor each node, but in newer versions it looks like this isn't the way to do 
it. Also, in 3.0 the management UI is actually starting two web servers 
(the port number changed and the server on the old port just redirects), 
and I assume both of those will need to be set.

The script for 2.6 is here:

<A HREF="https://gist.github.com/iconara/4760720">https://gist.github.com/iconara/4760720</A>

If possible, I would like to use the same script for 2.8 and 3.0 (we're 
using 2.8 in production, but 3.0 will replace it eventually, so it's good 
to be able to start test clusters of both versions).

thanks for your help,
T#
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130211/e263df70/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130211/e263df70/attachment.htm</A>&gt;
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025453.html">[rabbitmq-discuss] Setting the local-nodename parameter value via HTTP?
</A></li>
	<LI>Next message: <A HREF="025454.html">[rabbitmq-discuss] How to start a local cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25452">[ date ]</a>
              <a href="thread.html#25452">[ thread ]</a>
              <a href="subject.html#25452">[ subject ]</a>
              <a href="author.html#25452">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
