<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Describing message type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Describing%20message%20type&In-Reply-To=%3CCAKQzhmgR2m%3DEKmGsTp%2BDuTMGOrL2ii1%2BuM78tiigOR_Ju0kPLQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025705.html">
   <LINK REL="Next"  HREF="025664.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Describing message type</H1>
    <B>Garry Shutler</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Describing%20message%20type&In-Reply-To=%3CCAKQzhmgR2m%3DEKmGsTp%2BDuTMGOrL2ii1%2BuM78tiigOR_Ju0kPLQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Describing message type">garry at robustsoftware.co.uk
       </A><BR>
    <I>Mon Feb 25 17:37:50 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025705.html">[rabbitmq-discuss] Regarding the default user and password
</A></li>
        <LI>Next message: <A HREF="025664.html">[rabbitmq-discuss] Describing message type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25663">[ date ]</a>
              <a href="thread.html#25663">[ thread ]</a>
              <a href="subject.html#25663">[ subject ]</a>
              <a href="author.html#25663">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm looking for some guidance as to how to determine the contents of a
message more accurately before deserializing it.

A bit of background: I need to have a prioritized queuing system, but would
like to be able to push multiple types of task into that system that a
worker/workers can consume.

I've emulated the prioritization (as from what I could find RabbitMQ does
not support this out of the box) by having two queues: &quot;high&quot; and &quot;normal&quot;.
However, each queue could contain several types of message and therefore
the consumer(s) need to know what code they should invoke for the message.

At the moment I am leaning towards using the content type of the message
with something like:

application/json ; type=&lt;message-type&gt; version=&lt;version&gt;
&gt;<i>
</I>
This complies with what I prefer to do in HTTP and is also fairly
standardized. From the combination of type and version the consumer will
know the shape of the data (perhaps the class to deserialize to in static
languages) and also which code to invoke.

Is there a preferred/standard way of achieving what I'm trying? I realize I
could be on entirely the wrong track.

Thanks in advance,

*Garry Shutler*

@gshutler &lt;<A HREF="http://twitter.com/gshutler">http://twitter.com/gshutler</A>&gt;
gshutler.com
evenitron.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130225/b4a1f98c/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130225/b4a1f98c/attachment.htm</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025705.html">[rabbitmq-discuss] Regarding the default user and password
</A></li>
	<LI>Next message: <A HREF="025664.html">[rabbitmq-discuss] Describing message type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25663">[ date ]</a>
              <a href="thread.html#25663">[ thread ]</a>
              <a href="subject.html#25663">[ subject ]</a>
              <a href="author.html#25663">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
