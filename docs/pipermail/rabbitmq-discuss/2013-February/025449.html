<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] newbie question: message with delay
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20newbie%20question%3A%20message%20with%20delay&In-Reply-To=%3C8354EE20-DEA6-4380-B4A5-03A796FC7723%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="025443.html">
   <LINK REL="Next"  HREF="025442.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] newbie question: message with delay</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20newbie%20question%3A%20message%20with%20delay&In-Reply-To=%3C8354EE20-DEA6-4380-B4A5-03A796FC7723%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] newbie question: message with delay">tim at rabbitmq.com
       </A><BR>
    <I>Mon Feb 11 23:06:29 GMT 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="025443.html">[rabbitmq-discuss] newbie question: message with delay
</A></li>
        <LI>Next message: <A HREF="025442.html">[rabbitmq-discuss] Can 3.0.2 management port listen on port 55672?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25449">[ date ]</a>
              <a href="thread.html#25449">[ thread ]</a>
              <a href="subject.html#25449">[ subject ]</a>
              <a href="author.html#25449">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alex,

On 11 Feb 2013, at 11:41, Alex wrote:
&gt;<i> Hi!
</I>&gt;<i> 
</I>&gt;<i> I'm just getting into all this messaging systems. I'm wondering if it's possible to send message which will be processed after 24 hours from the current moment. Is there way to delay message processing? 
</I>&gt;<i> I didn't found RabbitMQ documentation or mailing topic regarding this.
</I>&gt;<i> 
</I>
Well you could put it in the queue and schedule the consumer to come online and dequeue it every 24 hours. If you really want to make the broker do this for you, then set up a queue with a per-message TTL of 24 hours. Put your messages into this queue and 24 hours after they were enqueued they will be removed. If you also set up a dead letter exchange then the 'expired' message will be dead lettered instead of deleted. You can bind another queue to the dead letter exchange and use this to consume messages that are 'ready' to be processed.

See <A HREF="http://www.rabbitmq.com/ttl.html">http://www.rabbitmq.com/ttl.html</A> and <A HREF="http://www.rabbitmq.com/dlx.html.">http://www.rabbitmq.com/dlx.html.</A>

You should note, however, that the 24 hour thing will apply to *each message* and as I said the time will start from the moment the message is enqueued. So if you want to put 3 jobs in the queue and process them after 24, 48, 72 hrs, then this mechanism won't work for you. Personally I'd be more inclined to mark the messages as persistent and put them into a queue, then trigger the consumer to come online periodically using cron or if the consumer is long lived, using some programatic library.

Cheers,
Tim

</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="025443.html">[rabbitmq-discuss] newbie question: message with delay
</A></li>
	<LI>Next message: <A HREF="025442.html">[rabbitmq-discuss] Can 3.0.2 management port listen on port 55672?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#25449">[ date ]</a>
              <a href="thread.html#25449">[ thread ]</a>
              <a href="subject.html#25449">[ subject ]</a>
              <a href="author.html#25449">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
