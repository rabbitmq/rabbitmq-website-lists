<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] question regarding topic routes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20question%20regarding%20topic%20routes&In-Reply-To=%3C50DDCA37.8030001%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024700.html">
   <LINK REL="Next"  HREF="024707.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] question regarding topic routes</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20question%20regarding%20topic%20routes&In-Reply-To=%3C50DDCA37.8030001%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] question regarding topic routes">matthias at rabbitmq.com
       </A><BR>
    <I>Fri Dec 28 16:35:03 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024700.html">[rabbitmq-discuss] question regarding topic routes
</A></li>
        <LI>Next message: <A HREF="024707.html">[rabbitmq-discuss] Can someone please confirm the clustered durable	queue behavior?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24701">[ date ]</a>
              <a href="thread.html#24701">[ thread ]</a>
              <a href="subject.html#24701">[ subject ]</a>
              <a href="author.html#24701">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alvaro,

On 28/12/12 16:28, Alvaro Videla wrote:
&gt;<i> How is the '#' meant to be used in binding keys?
</I>&gt;<i>
</I>&gt;<i> Actually, what happens when I have the following binding:
</I>&gt;<i>
</I>&gt;<i> #.some.topic.words ?
</I>&gt;<i>
</I>&gt;<i> Then I sent messages with the following routing keys:
</I>&gt;<i>
</I>&gt;<i> - here.are.some.topic.words &lt;--- matches
</I>&gt;<i> - here.some.topic.words &lt;--- matches
</I>&gt;<i> - here.topic.words &lt;-- doesn't match?
</I>&gt;<i>
</I>&gt;<i> Does this mean that the three last words of my binding have to be
</I>&gt;<i> 'some', 'topic' and 'words' but it doesn't matter how many words are
</I>&gt;<i> there in front?
</I>
Correct. From s3.1.3.3 of the AMQP 0-9-1 spec:

&lt;quote&gt;
The routing key used for a topic exchange MUST consist of zero or more 
words delimited by dots. Each word may contain the letters A-Z and a-z 
and digits 0-9. [NB: rabbit doesn't enforce this]. The routing pattern 
follows the same rules as the routing key with the addition that * 
matches a single word, and # matches zero or more words. Thus the 
routing pattern *.stock.# matches the routing keys usd.stock and 
eur.stock.db but not stock.nasdaq.
&lt;/quote&gt;

So there is no restriction on where the * and # can go - beginning, 
middle, end are all fine.

&gt;<i> Is it expected to be used this way
</I>
Can't see why not.

&gt;<i> or I should use '*' to represent how many words I want to skip from
</I>&gt;<i> the beginning of the routing key?
</I>
If that is possible (it may not be, i.e. an app may want to match on the 
tail w/o knowing how many words there can be in the head) then it is 
likely to be more efficient than using #.

Regards,

Matthias.
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024700.html">[rabbitmq-discuss] question regarding topic routes
</A></li>
	<LI>Next message: <A HREF="024707.html">[rabbitmq-discuss] Can someone please confirm the clustered durable	queue behavior?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24701">[ date ]</a>
              <a href="thread.html#24701">[ thread ]</a>
              <a href="subject.html#24701">[ subject ]</a>
              <a href="author.html#24701">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
