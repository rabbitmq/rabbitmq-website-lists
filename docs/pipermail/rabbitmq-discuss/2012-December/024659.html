<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] .NET client: intermittent	AlreadyClosedException - connected host has failed to respond
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20client%3A%20intermittent%0A%09AlreadyClosedException%20-%20connected%20host%20has%20failed%20to%20respond&In-Reply-To=%3CBCC407A444557E41B0D8B0260D68499205C6C620%40CA1EXCLV07.adcorp.kla-tencor.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024266.html">
   <LINK REL="Next"  HREF="024661.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] .NET client: intermittent	AlreadyClosedException - connected host has failed to respond</H1>
    <B>Chen, Bin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20client%3A%20intermittent%0A%09AlreadyClosedException%20-%20connected%20host%20has%20failed%20to%20respond&In-Reply-To=%3CBCC407A444557E41B0D8B0260D68499205C6C620%40CA1EXCLV07.adcorp.kla-tencor.com%3E"
       TITLE="[rabbitmq-discuss] .NET client: intermittent	AlreadyClosedException - connected host has failed to respond">Bin.Chen at kla-tencor.com
       </A><BR>
    <I>Fri Dec 21 19:29:10 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024266.html">[rabbitmq-discuss] .NET client: intermittent AlreadyClosedException - connected host has failed to respond
</A></li>
        <LI>Next message: <A HREF="024661.html">[rabbitmq-discuss] .NET client:	intermittentAlreadyClosedException - connected host has	failed to respond
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24659">[ date ]</a>
              <a href="thread.html#24659">[ thread ]</a>
              <a href="subject.html#24659">[ subject ]</a>
              <a href="author.html#24659">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Emile,

Is there any plan to solve this AlreadyClosedException issue in the
future release?

I am using RabbitMQ 2.8.6 with .NET client on Windows Server 2008 R2. 
Our system also suffers from this AlreadyClosedException problem. 
It causes our system to retry the related task, and this degraded the
performance.


Thanks,
Bin Chen


-----Original Message-----
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>
[mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Emile
Joubert
Sent: Monday, December 03, 2012 2:11 AM
To: Andrei Volkov
Cc: Discussions about RabbitMQ
Subject: Re: [rabbitmq-discuss] .NET client: intermittent
AlreadyClosedException - connected host has failed to respond

Hi Andrei,

On 29/11/12 18:15, Andrei Volkov wrote:
&gt;<i> It looks like a TCP port exhaustion on the client side.
</I>&gt;<i> What happens is, unlike our main app, our healthcheck page opens (and
</I>&gt;<i> closes) a new connection every time it is hit. The healthcheck page is
</I>
&gt;<i> hit every 5 seconds. By default on Windows the ephemeral TCP port 
</I>&gt;<i> can't be reused until after 240 seconds after it's closed. Hence the 
</I>&gt;<i> port exhaustion.
</I>
That explanation would work if there were only 48 ports available in the
ephemeral range. By default there are many more, so I would be surprised
if this was the cause.


-Emile



_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024266.html">[rabbitmq-discuss] .NET client: intermittent AlreadyClosedException - connected host has failed to respond
</A></li>
	<LI>Next message: <A HREF="024661.html">[rabbitmq-discuss] .NET client:	intermittentAlreadyClosedException - connected host has	failed to respond
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24659">[ date ]</a>
              <a href="thread.html#24659">[ thread ]</a>
              <a href="subject.html#24659">[ subject ]</a>
              <a href="author.html#24659">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
