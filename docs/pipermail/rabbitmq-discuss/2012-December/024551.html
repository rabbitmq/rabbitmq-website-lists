<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 3.0.0 hangs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%203.0.0%20hangs&In-Reply-To=%3C3d6fb186-1011-4538-815b-52578930eff2%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024547.html">
   <LINK REL="Next"  HREF="024552.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 3.0.0 hangs</H1>
    <B>Rui</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%203.0.0%20hangs&In-Reply-To=%3C3d6fb186-1011-4538-815b-52578930eff2%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 3.0.0 hangs">ruifavas at hotmail.com
       </A><BR>
    <I>Mon Dec 17 13:15:59 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024547.html">[rabbitmq-discuss] RabbitMQ 3.0.0 hangs
</A></li>
        <LI>Next message: <A HREF="024552.html">[rabbitmq-discuss] RabbitMQ 3.0.0 hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24551">[ date ]</a>
              <a href="thread.html#24551">[ thread ]</a>
              <a href="subject.html#24551">[ subject ]</a>
              <a href="author.html#24551">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Erlang starts fine &#8211; Both work fine for a period of time  (I can acess 
rabbit and management console fine for an hour or so)

 

See full log below:-

 

=INFO REPORT==== 17-Dec-2012::10:00:44 ===

Starting RabbitMQ 3.0.1 on Erlang R15B03

 

=INFO REPORT==== 17-Dec-2012::10:00:46 ===

Limiting to approx 65436 file handles (58890 sockets)

 

=INFO REPORT==== 17-Dec-2012::10:00:46 ===

    application: mnesia

    exited: stopped

    type: temporary

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Memory limit set to 9826MB of 24565MB total.

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Disk free limit set to 1000MB

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Management plugin upgraded statistics to coarse.

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

msg_store_transient: using rabbit_msg_store_ets_index to provide index

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

msg_store_persistent: using rabbit_msg_store_ets_index to provide index

 

=WARNING REPORT==== 17-Dec-2012::10:00:47 ===

msg_store_persistent: rebuilding indices from scratch

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Adding vhost '/test'

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Creating user 'testadmin'

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Setting user tags for user 'testadmin' to [administrator]

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Setting permissions for 'testadmin' in '/bcfs' to '.*', '.*', '.*'

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

started TCP Listener on [::]:5672

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

started TCP Listener on 0.0.0.0:5672

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Management agent started.

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Management plugin started. Port: 15672

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

Statistics database started.

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

accepting AMQP connection &lt;0.362.0&gt; (10.74.59.91:51986 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

accepting AMQP connection &lt;0.372.0&gt; (10.74.59.91:51985 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

accepting AMQP connection &lt;0.387.0&gt; (10.74.59.91:51988 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:00:47 ===

accepting AMQP connection &lt;0.391.0&gt; (10.74.59.91:51987 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:04:01 ===

accepting AMQP connection &lt;0.549.0&gt; (30.254.43.157:62861 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:04:16 ===

closing AMQP connection &lt;0.549.0&gt; (30.254.43.157:62861 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:04:29 ===

accepting AMQP connection &lt;0.562.0&gt; (30.254.43.157:62865 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:04:33 ===

accepting AMQP connection &lt;0.575.0&gt; (30.254.43.157:62866 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:21:57 ===

closing AMQP connection &lt;0.575.0&gt; (30.254.43.157:62866 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:21:58 ===

closing AMQP connection &lt;0.562.0&gt; (30.254.43.157:62865 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:47:31 ===

accepting AMQP connection &lt;0.1467.0&gt; (30.254.43.157:51530 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:47:38 ===

accepting AMQP connection &lt;0.1480.0&gt; (30.254.43.157:51533 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:47:43 ===

accepting AMQP connection &lt;0.1491.0&gt; (30.254.43.157:51535 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:47:49 ===

accepting AMQP connection &lt;0.1502.0&gt; (30.254.43.157:51536 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:48:00 ===

accepting AMQP connection &lt;0.1513.0&gt; (30.254.43.157:51539 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:48:08 ===

accepting AMQP connection &lt;0.1524.0&gt; (30.254.43.157:51543 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:49:24 ===

accepting AMQP connection &lt;0.1536.0&gt; (30.254.43.157:51565 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:49:31 ===

accepting AMQP connection &lt;0.1547.0&gt; (30.254.43.157:51567 -&gt; 
10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:53:04 ===

closing AMQP connection &lt;0.1536.0&gt; (30.254.43.157:51565 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:53:06 ===

closing AMQP connection &lt;0.1524.0&gt; (30.254.43.157:51543 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:53:11 ===

closing AMQP connection &lt;0.1502.0&gt; (30.254.43.157:51536 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:53:19 ===

closing AMQP connection &lt;0.1513.0&gt; (30.254.43.157:51539 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:53:20 ===

closing AMQP connection &lt;0.1547.0&gt; (30.254.43.157:51567 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:53:22 ===

closing AMQP connection &lt;0.1491.0&gt; (30.254.43.157:51535 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:53:57 ===

closing AMQP connection &lt;0.1480.0&gt; (30.254.43.157:51533 -&gt; 10.74.59.91:5672)

 

=INFO REPORT==== 17-Dec-2012::10:54:00 ===

closing AMQP connection &lt;0.1467.0&gt; (30.254.43.157:51530 -&gt; 10.74.59.91:5672)

 

=ERROR REPORT==== 17-Dec-2012::11:00:00 ===

** Generic server &lt;0.28.0&gt; terminating 

** Last message in was {'EXIT',&lt;0.29.0&gt;,einval}

** When Server state == {state,user_sup,undefined,&lt;0.29.0&gt;,

                               {&lt;0.28.0&gt;,user_sup}}

** Reason for termination == 

** einval

 

On Monday, 17 December 2012 11:35:04 UTC, Rui wrote:
&gt;<i>
</I>&gt;<i> The upgrade was simple - We just uninstalled the previous version and 
</I>&gt;<i> delete all the previous files (including the rabbit db) and installed the 
</I>&gt;<i> new version.
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> We are running:
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>             RabbitMQ : 3.0.1
</I>&gt;<i>
</I>&gt;<i>             Erlang : 5.9.3
</I>&gt;<i>
</I>&gt;<i>             OS :     Windows Server 2008 64-bit
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Here&#8217;s what we get on the logs:-
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Rabbit Log
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> =ERROR REPORT==== 17-Dec-2012::11:00:00 ===
</I>&gt;<i>
</I>&gt;<i> ** Generic server &lt;0.28.0&gt; terminating 
</I>&gt;<i>
</I>&gt;<i> ** Last message in was {'EXIT',&lt;0.29.0&gt;,einval}
</I>&gt;<i>
</I>&gt;<i> ** When Server state == {state,user_sup,undefined,&lt;0.29.0&gt;,
</I>&gt;<i>
</I>&gt;<i>                                {&lt;0.28.0&gt;,user_sup}}
</I>&gt;<i>
</I>&gt;<i> ** Reason for termination == 
</I>&gt;<i>
</I>&gt;<i> ** einval
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> Rabbit SASL Log
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> =SUPERVISOR REPORT==== 17-Dec-2012::11:00:00 ===
</I>&gt;<i>
</I>&gt;<i>      Supervisor: {&lt;0.28.0&gt;,user_sup}
</I>&gt;<i>
</I>&gt;<i>      Context:    child_terminated
</I>&gt;<i>
</I>&gt;<i>      Reason:     einval
</I>&gt;<i>
</I>&gt;<i>      Offender:   [{pid,&lt;0.29.0&gt;},{mod,user_sup}]
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> =CRASH REPORT==== 17-Dec-2012::11:00:00 ===
</I>&gt;<i>
</I>&gt;<i>   crasher:
</I>&gt;<i>
</I>&gt;<i>     initial call: supervisor_bridge:user_sup/1
</I>&gt;<i>
</I>&gt;<i>     pid: &lt;0.28.0&gt;
</I>&gt;<i>
</I>&gt;<i>     registered_name: []
</I>&gt;<i>
</I>&gt;<i>     exception exit: einval
</I>&gt;<i>
</I>&gt;<i>       in function  gen_server:terminate/6 (gen_server.erl, line 747)
</I>&gt;<i>
</I>&gt;<i>     ancestors: [kernel_sup,&lt;0.10.0&gt;]
</I>&gt;<i>
</I>&gt;<i>     messages: []
</I>&gt;<i>
</I>&gt;<i>     links: [&lt;0.11.0&gt;]
</I>&gt;<i>
</I>&gt;<i>     dictionary: []
</I>&gt;<i>
</I>&gt;<i>     trap_exit: true
</I>&gt;<i>
</I>&gt;<i>     status: running
</I>&gt;<i>
</I>&gt;<i>     heap_size: 377
</I>&gt;<i>
</I>&gt;<i>     stack_size: 24
</I>&gt;<i>
</I>&gt;<i>     reductions: 337
</I>&gt;<i>
</I>&gt;<i>   neighbours:
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i> =SUPERVISOR REPORT==== 17-Dec-2012::11:00:00 ===
</I>&gt;<i>
</I>&gt;<i>      Supervisor: {local,kernel_sup}
</I>&gt;<i>
</I>&gt;<i>      Context:    child_terminated
</I>&gt;<i>
</I>&gt;<i>      Reason:     einval
</I>&gt;<i>
</I>&gt;<i>      Offender:   [{pid,&lt;0.28.0&gt;},
</I>&gt;<i>
</I>&gt;<i>                   {name,user},
</I>&gt;<i>
</I>&gt;<i>                   {mfargs,{user_sup,start,[]}},
</I>&gt;<i>
</I>&gt;<i>                   {restart_type,temporary},
</I>&gt;<i>
</I>&gt;<i>                   {shutdown,2000},
</I>&gt;<i>
</I>&gt;<i>                   {child_type,supervisor}]
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121217/14ca3135/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121217/14ca3135/attachment.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024547.html">[rabbitmq-discuss] RabbitMQ 3.0.0 hangs
</A></li>
	<LI>Next message: <A HREF="024552.html">[rabbitmq-discuss] RabbitMQ 3.0.0 hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24551">[ date ]</a>
              <a href="thread.html#24551">[ thread ]</a>
              <a href="subject.html#24551">[ subject ]</a>
              <a href="author.html#24551">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
