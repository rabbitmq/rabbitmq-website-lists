<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Creating an auth plugin (Kerberos)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Creating%20an%20auth%20plugin%20%28Kerberos%29&In-Reply-To=%3C20121205155530.GL335%40kaka.it.su.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024358.html">
   <LINK REL="Next"  HREF="024452.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Creating an auth plugin (Kerberos)</H1>
    <B>Simon Lundstr&#246;m</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Creating%20an%20auth%20plugin%20%28Kerberos%29&In-Reply-To=%3C20121205155530.GL335%40kaka.it.su.se%3E"
       TITLE="[rabbitmq-discuss] Creating an auth plugin (Kerberos)">simlu at su.se
       </A><BR>
    <I>Wed Dec  5 15:55:30 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024358.html">[rabbitmq-discuss] Creating an auth plugin (Kerberos)
</A></li>
        <LI>Next message: <A HREF="024452.html">[rabbitmq-discuss] Creating an auth plugin (Kerberos)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24359">[ date ]</a>
              <a href="thread.html#24359">[ thread ]</a>
              <a href="subject.html#24359">[ subject ]</a>
              <a href="author.html#24359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2012-12-05 at 15:04:42 +0000, Tim Watson wrote:
&gt;<i> Personally, I think you should do this another way. Write a Native Implemented Function (NIF) in C and wrap it up as an Erlang module. Then you can just call the NIF directly from your auth module. You don't have to do all this spawning and looping and exit handling and insulating. It's *much* easier.
</I>
Looks like that way.

&quot;It is a simpler and more efficient way of calling C-code than using
port drivers. NIFs are most suitable for synchronous functions like foo
and bar in the example, that does some relatively short calculations
without side effects and return the result.&quot;

Since auth is blocking/synchronous this is suitable I'd reckon.

&gt;<i> Having said that, I can't help you with writing a NIF at the moment as we're all quite busy getting 3.0.1 ready.
</I>
No worries! I appreciate all the help you and Simon have given me!

<A HREF="http://www.erlang.org/doc/tutorial/nif.html">http://www.erlang.org/doc/tutorial/nif.html</A> looks like enough to get me
going.

&gt;<i> I'd suggest going over to the erlang-questions mailing list and saying &quot;I want to do kerberos authentication using a NIF - can somebody point me in the right direction...&quot;. Honestly it's much simpler than all this open_port malarky, especially if you're comfortable writing C, which you do seem to be.
</I>
Oh Tim, you make me blush! ; P Actually, this is only the second
C-project that I've done (ever).

&gt;<i> The erlang part of it is minimal, and the rabbit auth module you've written just calls the NIF stub functions as though they were regular erlang functions. No processes, no message handling: simple.
</I>
Yep, looks really simple!

What is that saying... &quot;to stumble on the finish line&quot;? = )

Thanks,
- Simon
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024358.html">[rabbitmq-discuss] Creating an auth plugin (Kerberos)
</A></li>
	<LI>Next message: <A HREF="024452.html">[rabbitmq-discuss] Creating an auth plugin (Kerberos)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24359">[ date ]</a>
              <a href="thread.html#24359">[ thread ]</a>
              <a href="subject.html#24359">[ subject ]</a>
              <a href="author.html#24359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
