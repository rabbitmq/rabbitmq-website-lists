<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Routing Topologies - Multiple Queues vs One	Queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Routing%20Topologies%20-%20Multiple%20Queues%20vs%20One%0A%09Queue&In-Reply-To=%3Ca6efaac6-f0ca-44eb-b3fd-af47f09acb96%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024387.html">
   <LINK REL="Next"  HREF="024720.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Routing Topologies - Multiple Queues vs One	Queue</H1>
    <B>Michal Lev&#253;</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Routing%20Topologies%20-%20Multiple%20Queues%20vs%20One%0A%09Queue&In-Reply-To=%3Ca6efaac6-f0ca-44eb-b3fd-af47f09acb96%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Routing Topologies - Multiple Queues vs One	Queue">michal.liwoj at gmail.com
       </A><BR>
    <I>Sat Dec 29 11:41:05 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024387.html">[rabbitmq-discuss] Routing Topologies - Multiple Queues vs One Queue
</A></li>
        <LI>Next message: <A HREF="024720.html">[rabbitmq-discuss] Routing Topologies - Multiple Queues vs One Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24719">[ date ]</a>
              <a href="thread.html#24719">[ thread ]</a>
              <a href="subject.html#24719">[ subject ]</a>
              <a href="author.html#24719">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Adam

Sorry but its obvious from your question that you dont understand AMQP 
basics. 
Scenarios you describe are very different. For example, in scenario #2 you 
are using one queue. If there are more consumers on single queue, only 
single consumer will get each message (rabbit will alternate between 
consumers in round-robin fashion). Its also not possible to subscribe to 
queue and get only messages with specified routing key. You always get all 
messages from that queue (if you are only subscriber). Last but not least, 
there is no way to publish messages with different routing keys into single 
queue using direct exchange because when using direct exchange, routing key 
is used as queue name...

It would be better for you to check tutorial&lt;<A HREF="http://www.rabbitmq.com/getstarted.html">http://www.rabbitmq.com/getstarted.html</A>&gt;and AMQP 
concepts &lt;<A HREF="http://www.rabbitmq.com/tutorials/amqp-concepts.html">http://www.rabbitmq.com/tutorials/amqp-concepts.html</A>&gt; on rabbit 
website first

HTH
Michal


On Friday, December 7, 2012 2:20:49 AM UTC+1, Adam Venturella wrote:
&gt;<i>
</I>&gt;<i> My goal is to segregate tasks to different consumers. My messages are very 
</I>&gt;<i> simple, I just may have a lot of them.
</I>&gt;<i> Assuming a direct exchange (no topics), is it better to have N queues with 
</I>&gt;<i> 1 routing key per queue:
</I>&gt;<i>
</I>&gt;<i> Queue: foo
</I>&gt;<i> Routing Key: tasks
</I>&gt;<i>
</I>&gt;<i> Queue: bar
</I>&gt;<i> Routing Key: tasks
</I>&gt;<i>
</I>&gt;<i> Queue: baz
</I>&gt;<i> Routing Key: tasks
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> OR
</I>&gt;<i>
</I>&gt;<i>  Is it better to have 1 queue with N routing keys.
</I>&gt;<i>
</I>&gt;<i> Queue: Tasks
</I>&gt;<i> Routing Key: foo
</I>&gt;<i> Routing Key: bar
</I>&gt;<i> Routing Key: baz
</I>&gt;<i>
</I>&gt;<i> My assumption is multiple routing keys are better. 
</I>&gt;<i> Any advice?
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121229/9da03a67/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121229/9da03a67/attachment.htm</A>&gt;
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024387.html">[rabbitmq-discuss] Routing Topologies - Multiple Queues vs One Queue
</A></li>
	<LI>Next message: <A HREF="024720.html">[rabbitmq-discuss] Routing Topologies - Multiple Queues vs One Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24719">[ date ]</a>
              <a href="thread.html#24719">[ thread ]</a>
              <a href="subject.html#24719">[ subject ]</a>
              <a href="author.html#24719">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
