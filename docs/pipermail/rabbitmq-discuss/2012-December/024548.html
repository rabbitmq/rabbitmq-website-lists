<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 3.0.0 hangs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%203.0.0%20hangs&In-Reply-To=%3C1308E5CFD51CA14DA7B024A689B8B1680288BD9820%40LDNPCMMGMB01.INTRANET.BARCAPINT.COM%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024515.html">
   <LINK REL="Next"  HREF="024549.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 3.0.0 hangs</H1>
    <B>rui.favas at barclays.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%203.0.0%20hangs&In-Reply-To=%3C1308E5CFD51CA14DA7B024A689B8B1680288BD9820%40LDNPCMMGMB01.INTRANET.BARCAPINT.COM%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 3.0.0 hangs">rui.favas at barclays.com
       </A><BR>
    <I>Mon Dec 17 11:37:24 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024515.html">[rabbitmq-discuss] RabbitMQ 3.0.0 hangs
</A></li>
        <LI>Next message: <A HREF="024549.html">[rabbitmq-discuss] RabbitMQ 3.0.0 hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24548">[ date ]</a>
              <a href="thread.html#24548">[ thread ]</a>
              <a href="subject.html#24548">[ subject ]</a>
              <a href="author.html#24548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tim,
The upgrade was simple - We just uninstalled the previous version and delete all the previous files (including the rabbit db) and installed the new version.
We are running:
             RabbitMQ : 3.0.1
            Erlang : 5.9.3
            OS :     Windows Server 2008 64-bit
Here&#8217;s what we get on the logs:-
Rabbit Log
=ERROR REPORT==== 17-Dec-2012::11:00:00 ===
** Generic server &lt;0.28.0&gt; terminating
** Last message in was {'EXIT',&lt;0.29.0&gt;,einval}
** When Server state == {state,user_sup,undefined,&lt;0.29.0&gt;,
                               {&lt;0.28.0&gt;,user_sup}}
** Reason for termination ==
** einval


Rabbit SASL Log


=SUPERVISOR REPORT==== 17-Dec-2012::11:00:00 ===
     Supervisor: {&lt;0.28.0&gt;,user_sup}
     Context:    child_terminated
     Reason:     einval
     Offender:   [{pid,&lt;0.29.0&gt;},{mod,user_sup}]


=CRASH REPORT==== 17-Dec-2012::11:00:00 ===
  crasher:
    initial call: supervisor_bridge:user_sup/1
    pid: &lt;0.28.0&gt;
    registered_name: []
    exception exit: einval
      in function  gen_server:terminate/6 (gen_server.erl, line 747)
    ancestors: [kernel_sup,&lt;0.10.0&gt;]
    messages: []
    links: [&lt;0.11.0&gt;]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 377
    stack_size: 24
    reductions: 337
  neighbours:

=SUPERVISOR REPORT==== 17-Dec-2012::11:00:00 ===
     Supervisor: {local,kernel_sup}
     Context:    child_terminated
     Reason:     einval
     Offender:   [{pid,&lt;0.28.0&gt;},
                  {name,user},
                  {mfargs,{user_sup,start,[]}},
                  {restart_type,temporary},
                  {shutdown,2000},
                  {child_type,supervisor}]



From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Tim Watson
Sent: Friday, December 14, 2012 7:27 PM
To: Discussions about RabbitMQ
Cc: &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at googlegroups.com</A>&gt;
Subject: Re: [rabbitmq-discuss] RabbitMQ 3.0.0 hangs

Exactly how are you performing the upgrade. What do the server logs and rabbitmqctl report look like?

On 14 Dec 2012, at 18:35, &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rui.favas at barclays.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rui.favas at barclays.com</A>&gt;&gt; wrote:
I've upgraded to 3.0.1 and still get the problem - Looks like disabling the rabbitmq_management plug-in stops the issue. Any pointers?


From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>&gt; [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Rui
Sent: Tuesday, December 04, 2012 5:51 PM
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at googlegroups.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at googlegroups.com</A>&gt;
Subject: [rabbitmq-discuss] RabbitMQ 3.0.0 hangs

Rabbit 3.0 is hanging.
We have a number of existing .net applications using Rabbit and when we update the server to 3.0 Rabbit stops responding. Rolling back the server solves the problem.
Do we need to upgrade the client library at the same time?
Any logs I could look at to try to troubleshoot the problem?
_______________________________________________
This e-mail may contain information that is confidential, privileged or otherwise protected from disclosure. If you are not an intended recipient of this e-mail, do not duplicate or redistribute it by any means. Please delete it and any attachments and notify the sender that you have received it in error. Unless specifically indicated, this e-mail is not an offer to buy or sell or a solicitation to buy or sell any securities, investment products or other financial product or service, an official confirmation of any transaction, or an official statement of Barclays. Any views or opinions presented are solely those of the author and do not necessarily represent those of Barclays. This e-mail is subject to terms available at the following link: www.barclays.com/emaildisclaimer&lt;<A HREF="http://www.barclays.com/emaildisclaimer">http://www.barclays.com/emaildisclaimer</A>&gt;. By messaging with Barclays you consent to the foregoing.  Barclays offers premier investment banking products and services to its clients through Barclays Bank PLC, a company registered in England (number 1026167) with its registered office at 1 Churchill Place, London, E14 5HP.  This email may relate to or be sent from other members of the Barclays Group.
_______________________________________________
_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121217/bd4f37b4/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121217/bd4f37b4/attachment.htm</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024515.html">[rabbitmq-discuss] RabbitMQ 3.0.0 hangs
</A></li>
	<LI>Next message: <A HREF="024549.html">[rabbitmq-discuss] RabbitMQ 3.0.0 hangs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24548">[ date ]</a>
              <a href="thread.html#24548">[ thread ]</a>
              <a href="subject.html#24548">[ subject ]</a>
              <a href="author.html#24548">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
