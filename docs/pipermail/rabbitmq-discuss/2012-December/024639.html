<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq-plugins not working as root user
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-plugins%20not%20working%20as%20root%20user&In-Reply-To=%3C65462837-8AA9-4E7A-B6B4-CA349F82A874%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024631.html">
   <LINK REL="Next"  HREF="024642.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq-plugins not working as root user</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-plugins%20not%20working%20as%20root%20user&In-Reply-To=%3C65462837-8AA9-4E7A-B6B4-CA349F82A874%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq-plugins not working as root user">tim at rabbitmq.com
       </A><BR>
    <I>Fri Dec 21 10:37:23 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024631.html">[rabbitmq-discuss] rabbitmq-plugins not working as root user
</A></li>
        <LI>Next message: <A HREF="024642.html">[rabbitmq-discuss] rabbitmq-plugins not working as root user
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24639">[ date ]</a>
              <a href="thread.html#24639">[ thread ]</a>
              <a href="subject.html#24639">[ subject ]</a>
              <a href="author.html#24639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I haven't been able to reproduce into this problem yet. Did you have a previous version installed on this machine?

On 20 Dec 2012, at 16:49, Tommy Odom wrote:

&gt;<i> Hi all,
</I>&gt;<i> 
</I>&gt;<i> Just installed rabbitmq-server on Ubuntu 12.04 using the latest 3.0.1 package and I am running into a problem running the rabbitmq-plugins list/enable commands.  I have 3.0.0 installed on a separate server as well and it seems to be working correctly for me.  
</I>&gt;<i> 
</I>&gt;<i> When I run &quot;sudo rabbitmq-plugins list&quot; I get an error &quot;Failed to create cookie file&quot;.  I looked at the /usr/sbin/rabbitmq-plugins script and I see that it has some logic for determining when to su over to the rabbitmq user so I tried explicitly running &quot;sudo su rabbitmq -s /bin/sh -c &quot;/usr/lib/rabbitmq/bin/rabbitmq-plugins list&quot; and that worked correctly.  The rabbitmq-server is running and the /var/lib/rabbitmq directory is owned by rabbitmq user and does have a .erlang.cookie file present.
</I>&gt;<i> 
</I>&gt;<i> However, when I try to run rabbitmq-plugins as the rabbitmq user to enable a plugin I get an error that it can't write the /etc/rabbitmq/enabled_plugins file because the /etc/rabbitmq directory is owned by root.
</I>&gt;<i> 
</I>
Yeah you should be running just with sudo and nothing else should be necessary. Did you customise any environment setup post-install?

&gt;<i> I verified that on my 3.0.0 server I am able to run &quot;sudo /usr/lib/rabbitmq/bin/rabbitmq-plugins list&quot; directly w/o the su to the rabbitmq user.
</I>&gt;<i> 
</I>&gt;<i> Any ideas?
</I>&gt;<i> 
</I>
I'll try a clean install on 12.04 and see if I can reproduce the problem.
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024631.html">[rabbitmq-discuss] rabbitmq-plugins not working as root user
</A></li>
	<LI>Next message: <A HREF="024642.html">[rabbitmq-discuss] rabbitmq-plugins not working as root user
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24639">[ date ]</a>
              <a href="thread.html#24639">[ thread ]</a>
              <a href="subject.html#24639">[ subject ]</a>
              <a href="author.html#24639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
