<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] How amqp-client modify &amp; reject(requeue true) a message back to the original queue in rabbit broker?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20amqp-client%20modify%20%26%20reject%28requeue%0A%20true%29%20a%20message%20back%20to%20the%20original%20queue%20in%20rabbit%20broker%3F&In-Reply-To=%3CCALQDGEDLn1GW6dDrBsZzpS1QtQsZDEXkuQWZ8tiqGt8gS1yJjw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024620.html">
   <LINK REL="Next"  HREF="024664.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] How amqp-client modify &amp; reject(requeue true) a message back to the original queue in rabbit broker?</H1>
    <B>javaLee</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20How%20amqp-client%20modify%20%26%20reject%28requeue%0A%20true%29%20a%20message%20back%20to%20the%20original%20queue%20in%20rabbit%20broker%3F&In-Reply-To=%3CCALQDGEDLn1GW6dDrBsZzpS1QtQsZDEXkuQWZ8tiqGt8gS1yJjw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] How amqp-client modify &amp; reject(requeue true) a message back to the original queue in rabbit broker?">wuaner at gmail.com
       </A><BR>
    <I>Fri Dec 21 02:02:46 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024620.html">[rabbitmq-discuss] How amqp-client modify &amp; reject(requeue true) a message back to the original queue in rabbit broker?
</A></li>
        <LI>Next message: <A HREF="024664.html">[rabbitmq-discuss] How amqp-client modify &amp; reject(requeue true) a message back to the original queue in rabbit broker?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24626">[ date ]</a>
              <a href="thread.html#24626">[ thread ]</a>
              <a href="subject.html#24626">[ subject ]</a>
              <a href="author.html#24626">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for reply, Emile.
I really need the requeue function, because on client side i want do some
retry operation with spring-retry. if max-retry-count is exhausted &amp; the
message is still not be processing appropriately, i will not requeue it (to
the original queue) any more &amp; put it to the dead-letter-exchange.
But before put it to the DLX, i really want add some error-description to
this message, So another consumer that listening to the DLX can retrieve &amp;
analysis &amp; process it according to the error-description, that's why i want
modify message before reject it.

*M**y understanding*: Queue in rabbitmq broker will never drop the
unacknowledged message before client ack-or-reject it,
ack-or-reject-operationing on the client side do not need resend the
message to rabbitmq broker, that's why client side cannot modify the
message, is that true?



On Fri, Dec 21, 2012 at 12:37 AM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> On 20/12/12 11:14, Spring Amqp User wrote:
</I>&gt;<i> &gt; I am use spring amqp, i have a question: is there a way for the
</I>&gt;<i> &gt; client to modify &amp; reject a received message to rabbit broker? the
</I>&gt;<i> &gt; arguments requeue of basicReject() must set to true, right?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> No it is not possible to modify the message while rejecting with
</I>&gt;<i> requeue. The closest approximation would be to acknowledge and republish
</I>&gt;<i> with the modifications.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -Emile
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121221/68d3b7e1/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121221/68d3b7e1/attachment.htm</A>&gt;
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024620.html">[rabbitmq-discuss] How amqp-client modify &amp; reject(requeue true) a message back to the original queue in rabbit broker?
</A></li>
	<LI>Next message: <A HREF="024664.html">[rabbitmq-discuss] How amqp-client modify &amp; reject(requeue true) a message back to the original queue in rabbit broker?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24626">[ date ]</a>
              <a href="thread.html#24626">[ thread ]</a>
              <a href="subject.html#24626">[ subject ]</a>
              <a href="author.html#24626">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
