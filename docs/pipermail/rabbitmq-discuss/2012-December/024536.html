<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] binary data corrupts when transferring on Rabbitmq
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20binary%20data%20corrupts%20when%20transferring%20on%0A%20Rabbitmq&In-Reply-To=%3C50CED304.1090009%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024535.html">
   <LINK REL="Next"  HREF="024537.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] binary data corrupts when transferring on Rabbitmq</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20binary%20data%20corrupts%20when%20transferring%20on%0A%20Rabbitmq&In-Reply-To=%3C50CED304.1090009%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] binary data corrupts when transferring on Rabbitmq">matthias at rabbitmq.com
       </A><BR>
    <I>Mon Dec 17 08:08:36 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024535.html">[rabbitmq-discuss] binary data corrupts when transferring on	Rabbitmq
</A></li>
        <LI>Next message: <A HREF="024537.html">[rabbitmq-discuss] binary data corrupts when transferring on	Rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24536">[ date ]</a>
              <a href="thread.html#24536">[ thread ]</a>
              <a href="subject.html#24536">[ subject ]</a>
              <a href="author.html#24536">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 17/12/12 05:49, saurabh256 wrote:
&gt;<i> I am new to RabbitMQ and tried to transfer a word document but seems when
</I>&gt;<i> recieving or sending something happened during encoding or character set and
</I>&gt;<i> output file gets corrupted.
</I>
This has nothing to do with rabbit. I suggest you first try to make the 
encoding and decoding work w/o involving RabbitMQ. E.g. take the 
fileContents var from your producer and feed it into the consumer in 
place of delivery.getBody().

FWIW, the problem is that you are reading the file as a byte stream but 
writing it as an object stream.

It shouldn't be hard to find examples on the internet for how to 
read/write files into/from a byte array. Worst case ask for help in some 
Java forums or stackoverflow.

Or take a peek at the File{Producer,Consumer}.java example code that 
ships with the java client.

Regards,

Matthias.

</PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024535.html">[rabbitmq-discuss] binary data corrupts when transferring on	Rabbitmq
</A></li>
	<LI>Next message: <A HREF="024537.html">[rabbitmq-discuss] binary data corrupts when transferring on	Rabbitmq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24536">[ date ]</a>
              <a href="thread.html#24536">[ thread ]</a>
              <a href="subject.html#24536">[ subject ]</a>
              <a href="author.html#24536">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
