<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Transactions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Transactions&In-Reply-To=%3C50D1A72A.20708%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024561.html">
   <LINK REL="Next"  HREF="024426.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Transactions</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Transactions&In-Reply-To=%3C50D1A72A.20708%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Transactions">tim at rabbitmq.com
       </A><BR>
    <I>Wed Dec 19 11:38:18 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024561.html">[rabbitmq-discuss] Transactions
</A></li>
        <LI>Next message: <A HREF="024426.html">[rabbitmq-discuss] Federation connections, VIPs, and queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24596">[ date ]</a>
              <a href="thread.html#24596">[ thread ]</a>
              <a href="subject.html#24596">[ subject ]</a>
              <a href="author.html#24596">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>John,

Please start a new thread when asking a new topic. It's very difficult 
to keep track of your posts otherwise, and it therefore takes us longer 
to help! Thanks.

So on the subject of transactions...

On 12/17/2012 07:15 PM, John Smith wrote:
&gt;<i> Am I correctly interpreting the following link:
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/semantics.html">http://www.rabbitmq.com/semantics.html</A>
</I>&gt;<i> I can have publish inside a transaction, but not receive inside a tx,
</I>
You can of course receive messages inside a transaction, however that 
*receipt is not transactional* but rather the acknowledgement you send 
for it is. What this means in practise is that once delivered, a message 
arriving during a transaction will not be redelivered even if you roll 
back the transaction. On the broker, if you send back an ACK the message 
is normally then removed from the queue, and not before then, so that 
nack/reject work as expected. If you send an ACK during a transaction 
and subsequently roll back the transaction, the message will *not* be 
removed from the queue nor will it be delivered to you again! That is 
what the AMQP spec means when it distinguishes between atomic delivery 
(which isn't mandated or supported) and atomic acknowledgements (which 
are). As per the spec, if you're holding onto a message received during 
a transaction that was subsequently rolled back, it is valid to ACK that 
message at a later time in a subsequent transaction.

&gt;<i> and the transaction is not atomic ?
</I>&gt;<i>
</I>
Transactions in AMQP are atomic for a single queue, but RabbitMQ does 
not uphold the atomicity guarantee in the face of failure during the 
commit phase.

&gt;<i> Could someone please post a link to where I can view an example of a 
</I>&gt;<i> transaction in Rabbit ?
</I>&gt;<i>
</I>
If you explain what you're specifically trying to achieve with 
transactions, then we can probably point you in the right direction.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121219/3ec7402e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121219/3ec7402e/attachment.htm</A>&gt;
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024561.html">[rabbitmq-discuss] Transactions
</A></li>
	<LI>Next message: <A HREF="024426.html">[rabbitmq-discuss] Federation connections, VIPs, and queues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24596">[ date ]</a>
              <a href="thread.html#24596">[ thread ]</a>
              <a href="subject.html#24596">[ subject ]</a>
              <a href="author.html#24596">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
