<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] High availability questions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20availability%20questions&In-Reply-To=%3CCAJ1JW0eF3G4vWhdgR43qu-DXKvEGTDU8_ZVGtkH5LG5Hfs71pg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024448.html">
   <LINK REL="Next"  HREF="024390.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] High availability questions</H1>
    <B>Matthias Reik</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20High%20availability%20questions&In-Reply-To=%3CCAJ1JW0eF3G4vWhdgR43qu-DXKvEGTDU8_ZVGtkH5LG5Hfs71pg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] High availability questions">matthias.reik at gmail.com
       </A><BR>
    <I>Fri Dec  7 14:36:36 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024448.html">[rabbitmq-discuss] How to setup dead-letter queue in C# ?
</A></li>
        <LI>Next message: <A HREF="024390.html">[rabbitmq-discuss] High availability questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24389">[ date ]</a>
              <a href="thread.html#24389">[ thread ]</a>
              <a href="subject.html#24389">[ subject ]</a>
              <a href="author.html#24389">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> In order to update the version of RabbitMQ (or Erlang for that matter)
</I>you need to stop the entire cluster I'm afraid.
What would it take to allow a rolling update of the cluster? i.e. you take
one node out of the cluster, upgrade it (ideally both Erlang as well as
RabbitMQ) and bring it back into the cluster, wait until the nodes have
fully synchronized and then continue with the next.
   - database schema fixed?
   - messages schema between nodes fixed?
   - ...?

According to the philosophy of Erlang it should even be possible to even
change version of a running node (at least that was my understanding;
upgrade your software with ongoing phone calls are not affected).

To bring down a HA cluster is clearly a very big minus for RabbitMQ, even
though there are maybe some workarounds.

Cheers
Maze

On Wed, Nov 28, 2012 at 11:31 AM, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;wrote:

&gt;<i> On 27/11/12 21:54, Chris Toomey wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> I'm fairly new to RabbitMQ and we're in the process of setting up our
</I>&gt;&gt;<i> production RabbitMQ servers.  We're going to set up a server cluster and
</I>&gt;&gt;<i> will use mirrored queues for high availability. I've read through the
</I>&gt;&gt;<i> great documentation you guys have on these topics but still have some
</I>&gt;&gt;<i> questions.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) Given the clustered server redundancy and mirrored queues, is there
</I>&gt;&gt;<i> any reason to still make exchanges/queues/messages durable?  Is it just
</I>&gt;&gt;<i> to protect against the case when all nodes in the cluster fail?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Or are deliberately stopped.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  2) In order to update the server configuration, it's necessary to
</I>&gt;&gt;<i> restart, correct?  If so, what's the best way to accomplish config.
</I>&gt;&gt;<i> updates across a cluster while minimizing downtime and loss of redundancy?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> You can update each node's config one at a time, and restart them all
</I>&gt;<i> individually.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  3) Same question for upgrading to a newer version of RabbitMQ?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> In order to update the version of RabbitMQ (or Erlang for that matter) you
</I>&gt;<i> need to stop the entire cluster I'm afraid.
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> Simon MacMullen
</I>&gt;<i> RabbitMQ, VMware
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121207/f153283f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121207/f153283f/attachment.htm</A>&gt;
</PRE>























































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024448.html">[rabbitmq-discuss] How to setup dead-letter queue in C# ?
</A></li>
	<LI>Next message: <A HREF="024390.html">[rabbitmq-discuss] High availability questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24389">[ date ]</a>
              <a href="thread.html#24389">[ thread ]</a>
              <a href="subject.html#24389">[ subject ]</a>
              <a href="author.html#24389">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
