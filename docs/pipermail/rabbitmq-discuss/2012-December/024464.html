<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Producing an amqp message using python and consuming that same message using java
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Producing%20an%20amqp%20message%20using%20python%20and%0A%20consuming%20that%20same%20message%20using%20java&In-Reply-To=%3C50C87AFE.7060604%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024463.html">
   <LINK REL="Next"  HREF="024469.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Producing an amqp message using python and consuming that same message using java</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Producing%20an%20amqp%20message%20using%20python%20and%0A%20consuming%20that%20same%20message%20using%20java&In-Reply-To=%3C50C87AFE.7060604%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Producing an amqp message using python and consuming that same message using java">emile at rabbitmq.com
       </A><BR>
    <I>Wed Dec 12 12:39:26 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024463.html">[rabbitmq-discuss] Producing an amqp message using python and consuming that same message using java
</A></li>
        <LI>Next message: <A HREF="024469.html">[rabbitmq-discuss] Producing an amqp message using python and consuming that same message using java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24464">[ date ]</a>
              <a href="thread.html#24464">[ thread ]</a>
              <a href="subject.html#24464">[ subject ]</a>
              <a href="author.html#24464">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Julien,

On 12/12/12 12:01, Julien Martin wrote:
&gt;<i> pickled_me = pickle.dumps(me)
</I>
&gt;<i> Person me = (Person) template.receiveAndConvert(&quot;myqueue&quot;);
</I>
&gt;<i> I get a *class cast exception*
</I>
It looks like you are attempting to mix Python and Java serialisation
formats. RabbitMQ does not modify or process the message payload in any
way, so if you use incompatible formats then the broker won't solve that
problem for you.

I suggest you select a serialisation format that is supported by all
languages that need to interoperate. JSON, XML, Protocol Buffers and
YAML are popular choices, but there are many more, e.g. see
<A HREF="http://en.wikipedia.org/wiki/Category:Data_serialization_formats">http://en.wikipedia.org/wiki/Category:Data_serialization_formats</A>

Once you have selected and implemented a compatible serialisation format
you should test it by serialising to and deserialising from files. Once
you have that working you can use a broker to pass messages in your
chosen serialisation format between clients.



-Emile



</PRE>






















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024463.html">[rabbitmq-discuss] Producing an amqp message using python and consuming that same message using java
</A></li>
	<LI>Next message: <A HREF="024469.html">[rabbitmq-discuss] Producing an amqp message using python and consuming that same message using java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24464">[ date ]</a>
              <a href="thread.html#24464">[ thread ]</a>
              <a href="subject.html#24464">[ subject ]</a>
              <a href="author.html#24464">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
