<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Exchange to Exchange Binding Apache/PHP AMQP-	PECL 1.0.9/1.0.7
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exchange%20to%20Exchange%20Binding%20Apache/PHP%20AMQP-%0A%09PECL%201.0.9/1.0.7&In-Reply-To=%3CCACeek7GJMLQZ5uegV-3n0H5cXCrx9-tw-iQyY_r5%3DCJRX%2BfRkA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="024642.html">
   <LINK REL="Next"  HREF="024655.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Exchange to Exchange Binding Apache/PHP AMQP-	PECL 1.0.9/1.0.7</H1>
    <B>Eric Berg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Exchange%20to%20Exchange%20Binding%20Apache/PHP%20AMQP-%0A%09PECL%201.0.9/1.0.7&In-Reply-To=%3CCACeek7GJMLQZ5uegV-3n0H5cXCrx9-tw-iQyY_r5%3DCJRX%2BfRkA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Exchange to Exchange Binding Apache/PHP AMQP-	PECL 1.0.9/1.0.7">eric.berg at pardot.com
       </A><BR>
    <I>Thu Dec 20 17:02:44 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="024642.html">[rabbitmq-discuss] rabbitmq-plugins not working as root user
</A></li>
        <LI>Next message: <A HREF="024655.html">[rabbitmq-discuss] Exchange to Exchange Binding Apache/PHP AMQP- PECL 1.0.9/1.0.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24621">[ date ]</a>
              <a href="thread.html#24621">[ thread ]</a>
              <a href="subject.html#24621">[ subject ]</a>
              <a href="author.html#24621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I am setting up a Rabbit connection in my php application code and binding
one exchange to another for a rich topology. However the $exchange-&gt;bind()
call blocks and my server hangs. The exchanges are created correctly and
the binding is successful, but the call never returns. Has anyone run into
this before? Thanks for the help

Side notes:
If I pass in the AMQP_NOWAIT flag to the bind method doesnt block, but the
binding does not succeed.
This works correctly through the CLI, but not in apache

Are there any known modules/issues with apache that might cause this?

Versions:
Rabbit 3.0.0
AMQP- PECL 1.0.9 and 1.0.7 (tried both)
PHP 5.3.13
Apache 2.2.3
**

My code&quot;

$connection = new AMQPConnection();
$connection-&gt;connect();
if (!$connection-&gt;isConnected()) {
    die('Not connected :(' . PHP_EOL);
}
// Open Channel
$channel    = new AMQPChannel($connection);
// Declare exchange

$exchange1   = new AMQPExchange($channel);
$exchange1-&gt;setName('master');
$exchange1-&gt;setType('topic');
$exchange1-&gt;declare();

$exchange   = new AMQPExchange($channel);
$exchange-&gt;setName('exchange1');
$exchange-&gt;setType('topic');
$exchange-&gt;declare();


$exchange-&gt;bind('master', 'routing_key');
// Never gets here
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121220/77f2bdb6/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20121220/77f2bdb6/attachment.htm</A>&gt;
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="024642.html">[rabbitmq-discuss] rabbitmq-plugins not working as root user
</A></li>
	<LI>Next message: <A HREF="024655.html">[rabbitmq-discuss] Exchange to Exchange Binding Apache/PHP AMQP- PECL 1.0.9/1.0.7
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#24621">[ date ]</a>
              <a href="thread.html#24621">[ thread ]</a>
              <a href="subject.html#24621">[ subject ]</a>
              <a href="author.html#24621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
