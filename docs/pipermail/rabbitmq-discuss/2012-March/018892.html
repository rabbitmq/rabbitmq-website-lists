<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] newbie problem--'Error: unable to connect to node 'rabbit at rabbitmq-small02-dev': nodedown'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20newbie%20problem--%27Error%3A%20unable%20to%20connect%20to%0A%20node%20%27rabbit%40rabbitmq-small02-dev%27%3A%20nodedown%27&In-Reply-To=%3CCAMXtMFBUDkAMr60zZw7do6EfryrxfeifF82RrNEdA-gBSaPutQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018891.html">
   <LINK REL="Next"  HREF="018899.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] newbie problem--'Error: unable to connect to node 'rabbit at rabbitmq-small02-dev': nodedown'</H1>
    <B>John Stoner</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20newbie%20problem--%27Error%3A%20unable%20to%20connect%20to%0A%20node%20%27rabbit%40rabbitmq-small02-dev%27%3A%20nodedown%27&In-Reply-To=%3CCAMXtMFBUDkAMr60zZw7do6EfryrxfeifF82RrNEdA-gBSaPutQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] newbie problem--'Error: unable to connect to node 'rabbit at rabbitmq-small02-dev': nodedown'">johnstoner2 at gmail.com
       </A><BR>
    <I>Fri Mar 16 00:02:28 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018891.html">[rabbitmq-discuss] newbie problem--'Error: unable to connect to node 'rabbit at rabbitmq-small02-dev': nodedown'
</A></li>
        <LI>Next message: <A HREF="018899.html">[rabbitmq-discuss] Beginner to message and RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18892">[ date ]</a>
              <a href="thread.html#18892">[ thread ]</a>
              <a href="subject.html#18892">[ subject ]</a>
              <a href="author.html#18892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>aack--I'm wrong, but not really. Looking again I see:

config file(s) : (none)

On Thu, Mar 15, 2012 at 7:00 PM, John Stoner &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">johnstoner2 at gmail.com</A>&gt; wrote:

&gt;<i> OK, I'm checking about deactivating the firewall with the people working
</I>&gt;<i> with me on this.
</I>&gt;<i>
</I>&gt;<i> Following your link, I see
</I>&gt;<i>
</I>&gt;<i> Once a distributed Erlang node address has been resolved via epmd, other
</I>&gt;<i> nodes will attempt to communicate directly with that address using the
</I>&gt;<i> Erlang distributed node protocol. The port range for this communication can
</I>&gt;<i> be configured with two parameters for the Erlang kernel application:
</I>&gt;<i>
</I>&gt;<i>    - inet_dist_listen_min
</I>&gt;<i>    - inet_dist_listen_max
</I>&gt;<i>
</I>&gt;<i> Firewalls must permit traffic in this range to pass between clustered
</I>&gt;<i> nodes (assuming all nodes use the same port range). The default port range
</I>&gt;<i> is unrestricted.
</I>&gt;<i>
</I>&gt;<i> The Erlang kernel_app manpage&lt;<A HREF="http://www.erlang.org/doc/man/kernel_app.html">http://www.erlang.org/doc/man/kernel_app.html</A>&gt; contains
</I>&gt;<i> more details on the port range that distributed Erlang nodes listen on. See
</I>&gt;<i> the configuration &lt;<A HREF="http://www.rabbitmq.com/configure.html">http://www.rabbitmq.com/configure.html</A>&gt; page for
</I>&gt;<i> information on how to create and edit a configuration file.
</I>&gt;<i>
</I>&gt;<i> following the configuration page link I see
</I>&gt;<i>
</I>&gt;<i> Verify Configuration
</I>&gt;<i>
</I>&gt;<i> The active configuration can be verified in the startup banner, e.g. the
</I>&gt;<i> active configuration file:
</I>&gt;<i>
</I>&gt;<i> config file(s) : /etc/rabbitmq/rabbitmq.config
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> which I'm not seeing. I have an empty /etc/rabbitmq, and when I stop and
</I>&gt;<i> restart rabbitmq I don't see any mention of a config file.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Mar 15, 2012 at 5:59 PM, Emile Joubert &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">emile at rabbitmq.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi John,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On 15/03/12 20:54, John Stoner wrote:
</I>&gt;&gt;<i> &gt; OK, I don't think it's the firewall. 4369 is open to TCP (we tried
</I>&gt;&gt;<i> &gt; adding UDP. Didn't help). Plus when I do a tcpdump, I see packets
</I>&gt;&gt;<i> &gt; received on small01 on 'rabbitmqctl cluster rabbitmq-small01-dev'.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The EPMD port is necessary but not sufficient. From the details provided
</I>&gt;&gt;<i> in your previous email you would have needed to open port 57641 also.
</I>&gt;&gt;<i> This is a random port. Do you see packets on this port in your network
</I>&gt;&gt;<i> trace?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I would suggest temporarily eliminating the firewall entirely for
</I>&gt;&gt;<i> debugging purposes. See the firewall section on the clustering page for
</I>&gt;&gt;<i> configuration details:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> <A HREF="https://www.rabbitmq.com/clustering.html">https://www.rabbitmq.com/clustering.html</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -Emile
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> blogs:
</I>&gt;<i> <A HREF="http://johnstoner.wordpress.com/">http://johnstoner.wordpress.com/</A>
</I>&gt;<i> 'In knowledge is power; in  wisdom, humility.'
</I>&gt;<i>
</I>


-- 
blogs:
<A HREF="http://johnstoner.wordpress.com/">http://johnstoner.wordpress.com/</A>
'In knowledge is power; in  wisdom, humility.'
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120315/ef7173a0/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120315/ef7173a0/attachment.htm</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018891.html">[rabbitmq-discuss] newbie problem--'Error: unable to connect to node 'rabbit at rabbitmq-small02-dev': nodedown'
</A></li>
	<LI>Next message: <A HREF="018899.html">[rabbitmq-discuss] Beginner to message and RabbitMQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18892">[ date ]</a>
              <a href="thread.html#18892">[ thread ]</a>
              <a href="subject.html#18892">[ subject ]</a>
              <a href="author.html#18892">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
