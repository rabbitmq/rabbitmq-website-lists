<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Simplest possible embedded message producer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Simplest%20possible%20embedded%20message%20producer&In-Reply-To=%3C13510180.145.1332258542124.JavaMail.jerryk%40StrongMad.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019018.html">
   <LINK REL="Next"  HREF="019017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Simplest possible embedded message producer</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Simplest%20possible%20embedded%20message%20producer&In-Reply-To=%3C13510180.145.1332258542124.JavaMail.jerryk%40StrongMad.local%3E"
       TITLE="[rabbitmq-discuss] Simplest possible embedded message producer">jerryk at vmware.com
       </A><BR>
    <I>Tue Mar 20 15:49:02 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019018.html">[rabbitmq-discuss] Simplest possible embedded message producer
</A></li>
        <LI>Next message: <A HREF="019017.html">[rabbitmq-discuss] Simplest possible embedded message producer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18993">[ date ]</a>
              <a href="thread.html#18993">[ thread ]</a>
              <a href="subject.html#18993">[ subject ]</a>
              <a href="author.html#18993">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This answer is likely to be less interesting/applicable to many
people than Tony and Simon's suggestions which can at least be
done entirely in software, but...

You could embrace the option of offloading more of the work into
another piece of hardware the way the Ethernet shields for Arduino
boards (also based on the ATmega family of microcontrollers) work.

For your network connectivity you could use an (almost, modulo
probably power supply) all in one part like the Wiznet W5100, 
which gives you a TCP and UDP supporting IP stack baked into an 
Ethernet chip.  Your could would then talk to this thing via SPI,
something that at least will fit on the ATmega side...

If you're using Arduino, you can buy most of this stuff pre-made.
If not, it's probably a few afternoons of breadboarding and debugging,
although IIRC the Wiznet only comes in a tiny surface mount package 
that might be annoying to work with, depending on how you're equipped.

Best regards,
Jerry

----- Original Message -----
From: &quot;Tony Garnock-Jones&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonygarnockjones+rabbitmq at gmail.com</A>&gt;
To: &quot;Simon MacMullen&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt;
Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>, &quot;Dirk&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dirk.swart at gmail.com</A>&gt;
Sent: Tuesday, March 20, 2012 8:30:08 AM
Subject: Re: [rabbitmq-discuss] Simplest possible embedded message producer


The other option would be to use UDP and build a trivial UDP-accepting plugin for RabbitMQ, thus moving almost all of the complexity and memory-requirements onto the server. (Actually that'd be a nice feature to have in general.) 



On 20 March 2012 11:13, Simon MacMullen &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A> &gt; wrote: 


And if rabbitmq-c is still too big, and all you need to do is publish messages from the tiniest client possible, you might want to look at STOMP - you could probably write a minimal publish-only client quite simply, and it would be pretty small. 

Cheers, Simon 


On 20/03/12 15:06, Alan Antonuk wrote: 



I'm not sure AMQP/rabbitmq-c client would be able to run on that 
constrained of a system (someone else on this list might correct me though). 

In general you're going to need a TCP/IP stack so you can connect to the 
broker, then enough memory to hold a couple frames (the minimum frame 
size is 4096 bytes). You could probably do it with smaller buffers but 
it's not something done with most client libraries. 

If that all will fit in your constrained system, I would probably pick 
apart the the rabbitmq-c library and pare it down to something that does 
the minimum you need. Then again I'm not experienced with development of 
embedded devices, so I'm not sure how people typically accomplish these 
things. 

HTH 
-Alan 

On Mon, Mar 19, 2012 at 11:41 AM, Dirk &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dirk.swart at gmail.com</A> 

&lt;mailto: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dirk.swart at gmail.com</A> &gt;&gt; wrote: 

- Does anyone have code for the simplest possible message producer? 

I would like to produce messages from a _very_ memory constrained 
embedded system*. Can anyone advise me on what the absolute minimum I 
have to do to produce and send a message is? 

Also, if anyone can point me towards what a simple &quot;hello world&quot; 
message template looks like, it would be appreciated. More details: 
I'm thinking of the sort of message that the Tutorials cover (eg: 
<A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A> tutorials/tutorial-one-python. html ) 

Thanks in advance - I'm a Rabbit noob, apologies if this post is not 
using the correct terms. 

* ATMega 328p, same chip the Arduino uses. 
______________________________ _________________ 
rabbitmq-discuss mailing list 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A> rabbitmq.com 
&lt;mailto: rabbitmq-discuss@ lists.rabbitmq.com &gt; 
<A HREF="https://lists.rabbitmq.com/">https://lists.rabbitmq.com/</A> cgi-bin/mailman/listinfo/ rabbitmq-discuss 





______________________________ _________________ 
rabbitmq-discuss mailing list 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A> rabbitmq.com 
<A HREF="https://lists.rabbitmq.com/">https://lists.rabbitmq.com/</A> cgi-bin/mailman/listinfo/ rabbitmq-discuss 


-- 
Simon MacMullen 
RabbitMQ, VMware 


______________________________ _________________ 
rabbitmq-discuss mailing list 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A> rabbitmq.com 
<A HREF="https://lists.rabbitmq.com/">https://lists.rabbitmq.com/</A> cgi-bin/mailman/listinfo/ rabbitmq-discuss 



-- 
Tony Garnock-Jones 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonygarnockjones at gmail.com</A> 
<A HREF="http://homepages.kcbbs.gen.nz/tonyg/">http://homepages.kcbbs.gen.nz/tonyg/</A> 

_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019018.html">[rabbitmq-discuss] Simplest possible embedded message producer
</A></li>
	<LI>Next message: <A HREF="019017.html">[rabbitmq-discuss] Simplest possible embedded message producer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18993">[ date ]</a>
              <a href="thread.html#18993">[ thread ]</a>
              <a href="subject.html#18993">[ subject ]</a>
              <a href="author.html#18993">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
