<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federation with Clusters and Load Balancers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20with%20Clusters%20and%20Load%20Balancers&In-Reply-To=%3C4F61CBAC.2040203%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018852.html">
   <LINK REL="Next"  HREF="018941.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federation with Clusters and Load Balancers</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federation%20with%20Clusters%20and%20Load%20Balancers&In-Reply-To=%3C4F61CBAC.2040203%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Federation with Clusters and Load Balancers">simon at rabbitmq.com
       </A><BR>
    <I>Thu Mar 15 10:59:56 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018852.html">[rabbitmq-discuss] Federation with Clusters and Load Balancers
</A></li>
        <LI>Next message: <A HREF="018941.html">[rabbitmq-discuss] Federation with Clusters and Load Balancers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18874">[ date ]</a>
              <a href="thread.html#18874">[ thread ]</a>
              <a href="subject.html#18874">[ subject ]</a>
              <a href="author.html#18874">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/03/12 20:34, James Carr wrote:
&gt;<i> I've been wondering what the &quot;right&quot; setup is to federate between
</I>&gt;<i> clusters. Do I just setup each node in the cluster to federate with
</I>&gt;<i> the upstream through the load balancer? My fear here is I'll end up
</I>&gt;<i> with with all the nodes on one cluster connected to a single node
</I>&gt;<i> (through the load balancer) and hence 3 sepeare queues causing
</I>&gt;<i> messages to be duplicated three times! :)
</I>
You need to make sure that all nodes in the cluster have the federation 
plugin enabled, and have the same configuration. The federation plugin 
will then make sure that only one node establishes a link to the 
upstream (which will fail over to another node if that node goes down).

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018852.html">[rabbitmq-discuss] Federation with Clusters and Load Balancers
</A></li>
	<LI>Next message: <A HREF="018941.html">[rabbitmq-discuss] Federation with Clusters and Load Balancers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18874">[ date ]</a>
              <a href="thread.html#18874">[ thread ]</a>
              <a href="subject.html#18874">[ subject ]</a>
              <a href="author.html#18874">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
