<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Autodelete queues not being deleted
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Autodelete%20queues%20not%20being%20deleted&In-Reply-To=%3C18062715.5930.1332253422020.JavaMail.geo-discussion-forums%40vbiz13%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018984.html">
   <LINK REL="Next"  HREF="018986.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Autodelete queues not being deleted</H1>
    <B>Dave Stevens</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Autodelete%20queues%20not%20being%20deleted&In-Reply-To=%3C18062715.5930.1332253422020.JavaMail.geo-discussion-forums%40vbiz13%3E"
       TITLE="[rabbitmq-discuss] Autodelete queues not being deleted">daverstevens at gmail.com
       </A><BR>
    <I>Tue Mar 20 14:23:42 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018984.html">[rabbitmq-discuss] Monitor memory and cpu usage of RabbitMQ	message broker
</A></li>
        <LI>Next message: <A HREF="018986.html">[rabbitmq-discuss] Autodelete queues not being deleted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18985">[ date ]</a>
              <a href="thread.html#18985">[ thread ]</a>
              <a href="subject.html#18985">[ subject ]</a>
              <a href="author.html#18985">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I frequently notice that queues which were created with autodelete are not 
actually deleted once there are no more consumers. This is an issue because 
they continue to receive messages when they should instead be deleted. Am I 
misunderstanding the effect that the autodelete flag has on queues? Is 
there another explanation for this behavior?

Using rabbitmq 2.7.1 on cluster.

Below is json from manager web api for one such queue. Node host name 
removed. Note consumers &quot;consumers&quot;:0 and &quot;auto_delete&quot;:true

{&quot;memory&quot;:230544,&quot;idle_since&quot;:&quot;2012-3-20 10:12:51&quot;,&quot;exclusive_consumer_tag&quot;:&quot;&quot;,&quot;messages_ready&quot;:318,&quot;messages_unacknowledged&quot;:0,&quot;messages&quot;:318,&quot;consumers&quot;:0,&quot;slave_nodes&quot;:[],&quot;backing_queue_status&quot;:{&quot;q1&quot;:0,&quot;q2&quot;:0,&quot;delta&quot;:[&quot;delta&quot;,&quot;undefined&quot;,0,&quot;undefined&quot;],&quot;q3&quot;:0,&quot;q4&quot;:318,&quot;len&quot;:318,&quot;pending_acks&quot;:0,&quot;target_ram_count&quot;:&quot;infinity&quot;,&quot;ram_msg_count&quot;:318,&quot;ram_ack_count&quot;:0,&quot;next_seq_id&quot;:318,&quot;persistent_count&quot;:0,&quot;avg_ingress_rate&quot;:0.1407138438947011,&quot;avg_egress_rate&quot;:0.0,&quot;avg_ack_ingress_rate&quot;:0.0,&quot;avg_ack_egress_rate&quot;:0.0},&quot;messages_details&quot;:{&quot;rate&quot;:0,&quot;interval&quot;:56241811945,&quot;last_event&quot;:1332252771225},&quot;messages_ready_details&quot;:{&quot;rate&quot;:0,&quot;interval&quot;:56241811945,&quot;last_event&quot;:1332252771225},&quot;messages_unacknowledged_details&quot;:{&quot;rate&quot;:0,&quot;interval&quot;:56241811945,&quot;last_event&quot;:1332252771225},&quot;consumer_details&quot;:[],&quot;name&quot;:&quot;bt.cs.ep.private-7c49741e-018d-48c8-aee3-e654c302176d&quot;,&quot;vhost&quot;:&quot;/&quot;,&quot;durable&quot;:false,&quot;auto_delete&quot;:true,&quot;arguments&quot;:{},&quot;node&quot;:&quot;********&quot;}

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120320/0cbfed78/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120320/0cbfed78/attachment.htm</A>&gt;
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018984.html">[rabbitmq-discuss] Monitor memory and cpu usage of RabbitMQ	message broker
</A></li>
	<LI>Next message: <A HREF="018986.html">[rabbitmq-discuss] Autodelete queues not being deleted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18985">[ date ]</a>
              <a href="thread.html#18985">[ thread ]</a>
              <a href="subject.html#18985">[ subject ]</a>
              <a href="author.html#18985">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
