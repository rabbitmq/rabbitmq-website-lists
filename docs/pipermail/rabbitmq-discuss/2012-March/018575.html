<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Transfer rate improvement above 45mb/second?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Transfer%20rate%20improvement%20above%2045mb/second%3F&In-Reply-To=%3C4F54EBA5.8000105%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018572.html">
   <LINK REL="Next"  HREF="018626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Transfer rate improvement above 45mb/second?</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Transfer%20rate%20improvement%20above%2045mb/second%3F&In-Reply-To=%3C4F54EBA5.8000105%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Transfer rate improvement above 45mb/second?">simon at rabbitmq.com
       </A><BR>
    <I>Mon Mar  5 16:36:53 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018572.html">[rabbitmq-discuss] Transfer rate improvement above 45mb/second?
</A></li>
        <LI>Next message: <A HREF="018626.html">[rabbitmq-discuss] Transfer rate improvement above 45mb/second?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18575">[ date ]</a>
              <a href="thread.html#18575">[ thread ]</a>
              <a href="subject.html#18575">[ subject ]</a>
              <a href="author.html#18575">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 05/03/12 15:33, Matt wrote:
&gt;<i> Hello, I setup a rabbitmq server on my local machine under Windows 7,
</I>&gt;<i> 64 bit, and set up a test instance in C#. I look for the fastest way
</I>&gt;<i> to deliver messages in the same order than they were published onto
</I>&gt;<i> the bus through a direct connection (no fan out needed). I do not need
</I>&gt;<i> guaranteed delivery, all I am after is max speed to deliver the
</I>&gt;<i> messages to one single consumer. Currently I seem to max out at about
</I>&gt;<i> 40,000 messages per second which is impressive but does not solve my
</I>&gt;<i> problem. I need to push around 115,000,000 messages and thus I started
</I>&gt;<i> to chunk the messages into larger byte arrays. Still I dont seem to
</I>&gt;<i> improve much as the max transfer rates maxes out at around 45mb/
</I>&gt;<i> second. Is there any way to improve those numbers? Pushing the
</I>&gt;<i> 115,000,000 messages to the consumer currently takes around 50 seconds
</I>&gt;<i> no matter how I set the chunk size.
</I>
I suspect you're probably limited by the speed of the AMQP parser in 
this case. Unfortunately the only thing you can really do to make it run 
faster is turn on HiPE compilation or buy a a faster machine. And HiPE 
compilation only works on Unix I'm afraid.

If you can afford to lose ordering guarantees you could push the 
messages through more than one connection / queue, and thus take 
advantage of more cores.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018572.html">[rabbitmq-discuss] Transfer rate improvement above 45mb/second?
</A></li>
	<LI>Next message: <A HREF="018626.html">[rabbitmq-discuss] Transfer rate improvement above 45mb/second?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18575">[ date ]</a>
              <a href="thread.html#18575">[ thread ]</a>
              <a href="subject.html#18575">[ subject ]</a>
              <a href="author.html#18575">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
