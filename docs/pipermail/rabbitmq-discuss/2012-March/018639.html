<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Looking for clarification on acknowledgements, channels, and connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Looking%20for%20clarification%20on%0A%20acknowledgements%2C%20channels%2C%20and%20connections&In-Reply-To=%3CCAOn7oW8jba5V_vezvosO9mCrEugss3Cf3nAfe%3DTGTMqwCvv03w%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018638.html">
   <LINK REL="Next"  HREF="018640.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Looking for clarification on acknowledgements, channels, and connections</H1>
    <B>Simone Busoli</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Looking%20for%20clarification%20on%0A%20acknowledgements%2C%20channels%2C%20and%20connections&In-Reply-To=%3CCAOn7oW8jba5V_vezvosO9mCrEugss3Cf3nAfe%3DTGTMqwCvv03w%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Looking for clarification on acknowledgements, channels, and connections">simone.busoli at gmail.com
       </A><BR>
    <I>Wed Mar  7 20:20:55 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018638.html">[rabbitmq-discuss] Looking for clarification on acknowledgements, channels, and connections
</A></li>
        <LI>Next message: <A HREF="018640.html">[rabbitmq-discuss] Looking for clarification on acknowledgements, channels, and connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18639">[ date ]</a>
              <a href="thread.html#18639">[ thread ]</a>
              <a href="subject.html#18639">[ subject ]</a>
              <a href="author.html#18639">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matt, your understanding is correct, acknowledgements are meaningful
only within the context of the same channel, therefore the answer to your
last question is no.
If the connection bounces or the channel closes for any other reasons you
should not acknowledge the messages your consumer was delivered already and
just assume they will be redelivered to the next consumer which will start
consuming to the same queue.

On Wed, Mar 7, 2012 at 21:00, Matt Pietrek &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mpietrek at skytap.com</A>&gt; wrote:

&gt;<i> I thought I understood this topic clearly, but some recent experiences
</I>&gt;<i> have me seeking more info, as I can't find this exact topic explicitly
</I>&gt;<i> described.
</I>&gt;<i>
</I>&gt;<i> When a message is delivered on a particular connection/channel
</I>&gt;<i> combination, can it ever be successfully acknowledged on a different
</I>&gt;<i> connection?
</I>&gt;<i>
</I>&gt;<i> My current understanding is &quot;no&quot;.
</I>&gt;<i>
</I>&gt;<i> Some background: In our messaging layer, we want to hide the connection
</I>&gt;<i> drops from the upper application layer. That is, if we try to use a
</I>&gt;<i> previously working connection/channel, and it fails, we'll simply catch the
</I>&gt;<i> exception and try to reconnect.
</I>&gt;<i>
</I>&gt;<i> So the question is, after the reconnect, should we even attempt to
</I>&gt;<i> acknowledge messages read from the original connection?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120307/0814d5d5/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120307/0814d5d5/attachment.htm</A>&gt;
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018638.html">[rabbitmq-discuss] Looking for clarification on acknowledgements, channels, and connections
</A></li>
	<LI>Next message: <A HREF="018640.html">[rabbitmq-discuss] Looking for clarification on acknowledgements, channels, and connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18639">[ date ]</a>
              <a href="thread.html#18639">[ thread ]</a>
              <a href="subject.html#18639">[ subject ]</a>
              <a href="author.html#18639">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
