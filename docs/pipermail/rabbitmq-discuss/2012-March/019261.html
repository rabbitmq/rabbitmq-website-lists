<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] |Spam| Re:Re: |Spam| question about rabbitmq TPS
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%7CSpam%7C%20Re%3ARe%3A%20%7CSpam%7C%20question%20about%20rabbitmq%20TPS&In-Reply-To=%3C748753f3.119e8.1365e930368.Coremail.chen-hongqin%40163.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019250.html">
   <LINK REL="Next"  HREF="019118.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] |Spam| Re:Re: |Spam| question about rabbitmq TPS</H1>
    <B>&#38472;&#40511;&#38054;</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20%7CSpam%7C%20Re%3ARe%3A%20%7CSpam%7C%20question%20about%20rabbitmq%20TPS&In-Reply-To=%3C748753f3.119e8.1365e930368.Coremail.chen-hongqin%40163.com%3E"
       TITLE="[rabbitmq-discuss] |Spam| Re:Re: |Spam| question about rabbitmq TPS">chen-hongqin at 163.com
       </A><BR>
    <I>Thu Mar 29 14:09:14 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019250.html">[rabbitmq-discuss] |Spam| question about rabbitmq TPS
</A></li>
        <LI>Next message: <A HREF="019118.html">[rabbitmq-discuss] Unclean shutdown followed by upgrade causes cluster to no longer come up.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19261">[ date ]</a>
              <a href="thread.html#19261">[ thread ]</a>
              <a href="subject.html#19261">[ subject ]</a>
              <a href="author.html#19261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This is about my master paper which is related with availability, and I use rabbitmq as the middle-ware component. So I am trying to find how can cause this problem. And my current answer I guess is that it is caused by the OS cache. Cache hit ratio is high at the very start and becomes lower because of the page replacement after more and more requests come. And the other reason maybe is messages are orderly sufficiently for the disk to write at start. But i am not sure if the rabbitmq has do some optimals for that?

At 2012-03-29 18:23:33,&quot;Alexis Richardson&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">alexis at rabbitmq.com</A>&gt; wrote:
Hi,


There are lots of possible reasons for this, including that &quot;measuring anything accurately is hard&quot;.  


What problem are you trying to solve?


alexis



2012/3/26 &#38472;&#40511;&#38054; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">chen-hongqin at 163.com</A>&gt;

hi, 
can you tell me why TPS is too high at first and sometimes maybe even more higher(maybe over 30000/s) when I send messages to rabbitmq cluster concurrently? thanks!
 
 
 
Some infos about this test:
1. all the messages are same and each message size is 1kb.
2. 300 queues created by multiple Producers at start and messages sent to the queues are random 
3. All messages are persistent and queues are all durable
4. 3 nodes consists of a rabbitmq cluster and all the nodes are in the same host but different ports
the host info:
|<i>
</I>
JAVA version

|<i>
</I>
Java version &quot;1.6.0_12&quot; Java(TM) SE Runtime Environment (build 1.6.0_12-b04)

|<i>
</I>|<i>
</I>
JAVA VM

|<i>
</I>
Java HotSpot(TM) 64-Bit Server VM (build 11.2-b01, mixed mode)

|<i>
</I>|<i>
</I>
CPU

|<i>
</I>
Intel(R) Xeon(R) CPU E5504 @2.00GHz

|<i>
</I>|<i>
</I>
number of cores

|<i>
</I>
8

|<i>
</I>|<i>
</I>
memory

|<i>
</I>
33011192kb

|<i>
</I>|<i>
</I>
Erlang VM

|<i>
</I>
Erlang R15B (erts-5.9) [source] [64-bit] [smp:8:8] [async-threads:0] [hipe] [kernel-poll:false]

|<i>
</I>|<i>
</I>
RabbitMQ version

|<i>
</I>
Release 2.7.1

|<i>
</I>

 





_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120329/a3192444/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120329/a3192444/attachment.htm</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 2012-03-26_00-02-28.png
Type: image/png
Size: 24610 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120329/a3192444/attachment.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120329/a3192444/attachment.png</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019250.html">[rabbitmq-discuss] |Spam| question about rabbitmq TPS
</A></li>
	<LI>Next message: <A HREF="019118.html">[rabbitmq-discuss] Unclean shutdown followed by upgrade causes cluster to no longer come up.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19261">[ date ]</a>
              <a href="thread.html#19261">[ thread ]</a>
              <a href="subject.html#19261">[ subject ]</a>
              <a href="author.html#19261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
