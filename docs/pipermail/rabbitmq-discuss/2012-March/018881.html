<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Multithreading and rabbitmq-c
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Multithreading%20and%20rabbitmq-c&In-Reply-To=%3C4F61F533.9020405%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018864.html">
   <LINK REL="Next"  HREF="018883.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Multithreading and rabbitmq-c</H1>
    <B>Artsiom</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Multithreading%20and%20rabbitmq-c&In-Reply-To=%3C4F61F533.9020405%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] Multithreading and rabbitmq-c">u2.storm at gmail.com
       </A><BR>
    <I>Thu Mar 15 13:57:07 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018864.html">[rabbitmq-discuss] newbie problem--'Error: unable to connect to node 'rabbit at rabbitmq-small02-dev': nodedown'
</A></li>
        <LI>Next message: <A HREF="018883.html">[rabbitmq-discuss] Multithreading and rabbitmq-c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18881">[ date ]</a>
              <a href="thread.html#18881">[ thread ]</a>
              <a href="subject.html#18881">[ subject ]</a>
              <a href="author.html#18881">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I some questions concerning multithreading and using multiple channels 
within single connection.

Is structure amqp_connection_state_t is thread-safe?
Can I share connection between threads and at the same time
use separate channel for each thread in producer app? and in consumer app?

The second part of the question(about consumer) is needed to be explained.
When I looked at API, I didn't find any difficulties to use many 
channels within single connection
in producer app, because each method (declare queue\exchange, bind, 
publish &amp; etc) has
&quot;channel&quot; parameter.

But in consumer app, where it is needed to receive messages (or frames 
as shown in example .c-files),
we have to call wait_for_single_frame method, which is lack of &quot;channel&quot; 
method.
Could you give an advice how to organize &quot;multichannel&quot; message fetch from
one queue?


*OR*
It is better to use separate connection for each thread and have no 
problems? :)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120315/3350851d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120315/3350851d/attachment.htm</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018864.html">[rabbitmq-discuss] newbie problem--'Error: unable to connect to node 'rabbit at rabbitmq-small02-dev': nodedown'
</A></li>
	<LI>Next message: <A HREF="018883.html">[rabbitmq-discuss] Multithreading and rabbitmq-c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18881">[ date ]</a>
              <a href="thread.html#18881">[ thread ]</a>
              <a href="subject.html#18881">[ subject ]</a>
              <a href="author.html#18881">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
