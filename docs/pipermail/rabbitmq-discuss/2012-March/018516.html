<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Symmetric federation behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Symmetric%20federation%20behavior&In-Reply-To=%3C88E590DC4586974D825FC82AE798294E5210A066%40GSVCLU03.ges.ferlan.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018515.html">
   <LINK REL="Next"  HREF="018517.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Symmetric federation behavior</H1>
    <B>Busoli, Simone</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Symmetric%20federation%20behavior&In-Reply-To=%3C88E590DC4586974D825FC82AE798294E5210A066%40GSVCLU03.ges.ferlan.it%3E"
       TITLE="[rabbitmq-discuss] Symmetric federation behavior">Simone.Busoli at ferrari.com
       </A><BR>
    <I>Fri Mar  2 14:41:17 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018515.html">[rabbitmq-discuss] Symmetric federation behavior
</A></li>
        <LI>Next message: <A HREF="018517.html">[rabbitmq-discuss] Symmetric federation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18516">[ date ]</a>
              <a href="thread.html#18516">[ thread ]</a>
              <a href="subject.html#18516">[ subject ]</a>
              <a href="author.html#18516">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Well, what leads me to think that it's still behaving as before is that I see messages being published on the &quot;federation: ...&quot; queues on both brokers.
I am assuming it is behaving as before because this is what happens when I just the remove the exchange federation configuration, but if I remove the upstream-sets entry as well the broker will crash at startup. I am under the impression that there's no way to unfederate an exchange actually, perhaps because it is a durable exchange maybe?

-----Original Message-----
From: Simon MacMullen [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>] 
Sent: venerd&#236; 2 marzo 2012 15:36
To: Busoli, Simone
Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Subject: Re: [rabbitmq-discuss] Symmetric federation behavior

Well, it will still claim to be a federated exchange, but if you don't define any upstreams for it then it won't actually federate. Is that what you mean by &quot;the exchange is still there with federation set-up&quot;?

Sadly the code to let you monitor running federation links hasn't made it into any releases yet so the only way to see if federation is actually happening is to look for messages in the logs along the lines of &quot;Federation exchange foo connected to blah&quot; at startup. There shouldn't be any.

Cheers, Simon

On 02/03/12 14:21, Busoli, Simone wrote:
&gt;<i> Hi Simon, I have tried some local spikes before applying the solution 
</I>&gt;<i> in the production environment, but it appears that I cannot get to 
</I>&gt;<i> unfederate the exchange. Even if I change the configuration and 
</I>&gt;<i> restart the broker, it appears that the exchange is still there with 
</I>&gt;<i> federation set-up. Is that something I should expect?
</I>&gt;<i>
</I>&gt;<i> -----Original Message----- From: Simon MacMullen 
</I>&gt;<i> [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>] Sent: venerd&#236; 2 marzo 2012 12:28 To:
</I>&gt;<i> Busoli, Simone Cc: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> Subject: Re:
</I>&gt;<i> [rabbitmq-discuss] Symmetric federation behavior
</I>&gt;<i>
</I>&gt;<i> On 02/03/12 11:14, Busoli, Simone wrote:
</I>&gt;&gt;<i> the exchange on that broker (as it is durable) would still be of type 
</I>&gt;&gt;<i> x-federation, and I'm not sure the broker will like it.
</I>&gt;<i>
</I>&gt;<i> It's fine to have a federated exchange with no upstreams. It will act 
</I>&gt;<i> like a normal exchange.
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>&gt;<i> -- Simon MacMullen RabbitMQ, VMware
</I>&gt;<i>
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> ___________________________________________
</I>&gt;<i>
</I>&gt;<i>
</I>Questo messaggio &#232; da intendersi esclusivamente ad uso del destinatario e pu&#242; contenere informazioni che sono di natura privilegiata, confidenziale
&gt;<i> o non divulgabile secondo le leggi vigenti. Se il lettore del presente 
</I>&gt;<i> messaggio non &#232; il destinatario designato, o il dipendente/agente 
</I>&gt;<i> responsabile per la consegna del messaggio al destinatario designato, 
</I>&gt;<i> si informa che ogni disseminazione, distribuzione o copiatura di 
</I>&gt;<i> questa comunicazione &#232; strettamente proibita anche ai sensi del 
</I>&gt;<i> decreto legislativo 196/03 . Se avete ricevuto questo messaggio per 
</I>&gt;<i> errore, vi preghiamo di notificarcelo immediatamente a mezzo e-mail di 
</I>&gt;<i> risposta e successivamente di procedere alla cancellazione di questa 
</I>&gt;<i> e-mail e relativi allegati dal vostro sistema.
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> ___________________________________________
</I>&gt;<i>
</I>&gt;<i>
</I>This message is intended only for the use of the addressee and may contain information that is privileged, confidential and exempt from
&gt;<i> disclosure under applicable law. If the reader of this message is not 
</I>&gt;<i> the intended recipient, or the employee or agent responsible for 
</I>&gt;<i> delivering the message to the intended recipient, you are hereby 
</I>&gt;<i> notified that any dissemination, distribution or copying of this 
</I>&gt;<i> communication is strictly prohibited. If you have received this e-mail 
</I>&gt;<i> in error, please notify us immediately by return e-mail and delete 
</I>&gt;<i> this e-mail and all attachments from your system.
</I>&gt;<i> ______________________________________________________________________
</I>&gt;<i> ___________________________________________
</I>&gt;<i>
</I>&gt;<i>
</I>--
Simon MacMullen
RabbitMQ, VMware
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018515.html">[rabbitmq-discuss] Symmetric federation behavior
</A></li>
	<LI>Next message: <A HREF="018517.html">[rabbitmq-discuss] Symmetric federation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18516">[ date ]</a>
              <a href="thread.html#18516">[ thread ]</a>
              <a href="subject.html#18516">[ subject ]</a>
              <a href="author.html#18516">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
