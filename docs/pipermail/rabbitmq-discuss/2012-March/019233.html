<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ 2.7.1 Failed and Stopped TCP Listener
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.7.1%20Failed%20and%20Stopped%20TCP%20Listener&In-Reply-To=%3CBCC407A444557E41B0D8B0260D68499204B12FF0%40CA1EXCLV07.adcorp.kla-tencor.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019256.html">
   <LINK REL="Next"  HREF="019246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ 2.7.1 Failed and Stopped TCP Listener</H1>
    <B>Chen, Bin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%202.7.1%20Failed%20and%20Stopped%20TCP%20Listener&In-Reply-To=%3CBCC407A444557E41B0D8B0260D68499204B12FF0%40CA1EXCLV07.adcorp.kla-tencor.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ 2.7.1 Failed and Stopped TCP Listener">Bin.Chen at kla-tencor.com
       </A><BR>
    <I>Wed Mar 28 20:35:59 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019256.html">[rabbitmq-discuss] how to get higher throughput?
</A></li>
        <LI>Next message: <A HREF="019246.html">[rabbitmq-discuss] RabbitMQ 2.7.1 Failed and Stopped TCP	Listener
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19233">[ date ]</a>
              <a href="thread.html#19233">[ thread ]</a>
              <a href="subject.html#19233">[ subject ]</a>
              <a href="author.html#19233">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

 

I encountered an serious problem with RabbitMQ 2.7.1 that the server
failed with an internal error and stopped the TCP listener.

I used version 2.6.0 before, and this problem also happened once.

I searched the previous threads and found a similar one. However, in
that  thread someone said this problem had been fixed in version 2.6.x.

Can anyone give me some clue or suggestion?  Has this problem been fixed
in the new 2.8.x version?

 

Here is the error reports from the log file.

 

=ERROR REPORT==== 20-Mar-2012::13:26:34 ===

** Generic server msg_store_persistent terminating

** Last message in was timeout

** When Server state == {msstate,

&quot;c:/DeepGreen/RabbitMQ/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at AG4800-FECD-mnesia</A>/msg_store_persistent
&quot;,

rabbit_msg_store_ets_index,

{state,213062,

&quot;c:/DeepGreen/RabbitMQ/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at AG4800-FECD-mnesia</A>/msg_store_persistent
&quot;},

146,#Ref&lt;0.0.260.85084&gt;,

{dict,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],

[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],

[],[]}}},

#Ref&lt;0.0.261.157347&gt;,1312,11060186,[],&lt;0.205.0&gt;,

217159,208965,221256,225353,

{set,0,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],

[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],

[],[]}}},

{dict,7,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],

[]},

{{[[&lt;&lt;76,234,98,250,210,227,133,72,116,172,

167,237,53,22,86,145&gt;&gt;|

{#Fun&lt;rabbit_variable_queue.1.110539305&gt;,

#Fun&lt;rabbit_variable_queue.11.71636847&gt;}]],

[],[],[],[],

[[&lt;&lt;64,231,255,89,104,46,213,221,250,124,

155,237,113,220,72,107&gt;&gt;|

{#Fun&lt;rabbit_variable_queue.1.110539305&gt;,

#Fun&lt;rabbit_variable_queue.11.71636847&gt;}]],

[[&lt;&lt;187,230,149,188,202,242,42,185,165,79,

164,64,142,20,243,220&gt;&gt;|

{#Fun&lt;rabbit_variable_queue.1.110539305&gt;,

#Fun&lt;rabbit_variable_queue.11.71636847&gt;}]],

[],

[[&lt;&lt;160,131,23,20,173,229,110,121,181,239,

38,170,183,166,128,216&gt;&gt;|

{#Fun&lt;rabbit_variable_queue.1.110539305&gt;,

#Fun&lt;rabbit_variable_queue.11.71636847&gt;}]],

[],[],

[[&lt;&lt;219,201,73,115,184,111,233,183,117,137,

240,164,237,74,235,24&gt;&gt;|

{#Fun&lt;rabbit_variable_queue.1.110539305&gt;,

#Fun&lt;rabbit_variable_queue.11.71636847&gt;}],

[&lt;&lt;55,27,151,60,220,163,149,194,96,156,79,

240,181,46,225,165&gt;&gt;|

{#Fun&lt;rabbit_variable_queue.1.110539305&gt;,

#Fun&lt;rabbit_variable_queue.11.71636847&gt;}]],

[],[],

[[&lt;&lt;12,164,39,77,197,231,20,230,228,240,

107,103,38,53,217,182&gt;&gt;|

{#Fun&lt;rabbit_variable_queue.1.110539305&gt;,

#Fun&lt;rabbit_variable_queue.11.71636847&gt;}]],

[]}}},

true,16777216,

{dict,1,16,16,8,80,48,

{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],

[]},

{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],

[[&lt;&lt;12,164,39,77,197,231,20,230,228,240,

107,103,38,53,217,182&gt;&gt;|

{1,

{&lt;&lt;47,251,255,130,60,69,208,98,128,234,0,

66,213,165,140,176&gt;&gt;,

nil,nil}}]],

[]}}}}

** Reason for termination ==

** {{badmatch,{error,enospc}},

[{rabbit_msg_store,internal_sync,1},

{rabbit_msg_store,terminate,2},

{gen_server2,terminate,3},

{proc_lib,wake_up,3}]}

** In 'terminate' callback with reason ==

** {{badmatch,{error,enospc}},

[{rabbit_msg_store,internal_sync,1},

{rabbit_msg_store,handle_info,2},

{gen_server2,handle_msg,2},

{proc_lib,wake_up,3}]}

 

=INFO REPORT==== 20-Mar-2012::13:26:34 ===

stopped TCP Listener on 0.0.0.0:5672

 

=INFO REPORT==== 20-Mar-2012::13:26:34 ===

stopped TCP Listener on [::]:5672

 

 

Best regards,

--Bin Chen

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120328/ed812bb7/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120328/ed812bb7/attachment.htm</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019256.html">[rabbitmq-discuss] how to get higher throughput?
</A></li>
	<LI>Next message: <A HREF="019246.html">[rabbitmq-discuss] RabbitMQ 2.7.1 Failed and Stopped TCP	Listener
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19233">[ date ]</a>
              <a href="thread.html#19233">[ thread ]</a>
              <a href="subject.html#19233">[ subject ]</a>
              <a href="author.html#19233">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
