<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] building SimpleAmqpClient
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20building%20SimpleAmqpClient&In-Reply-To=%3C4F50C346.1090507%40holtmans.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018507.html">
   <LINK REL="Next"  HREF="018522.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] building SimpleAmqpClient</H1>
    <B>Eric J. Holtman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20building%20SimpleAmqpClient&In-Reply-To=%3C4F50C346.1090507%40holtmans.com%3E"
       TITLE="[rabbitmq-discuss] building SimpleAmqpClient">eric at holtmans.com
       </A><BR>
    <I>Fri Mar  2 12:55:34 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018507.html">[rabbitmq-discuss] building SimpleAmqpClient
</A></li>
        <LI>Next message: <A HREF="018522.html">[rabbitmq-discuss] building SimpleAmqpClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18513">[ date ]</a>
              <a href="thread.html#18513">[ thread ]</a>
              <a href="subject.html#18513">[ subject ]</a>
              <a href="author.html#18513">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 3/1/2012 10:59 PM, Alan Antonuk wrote:

&gt;<i> 
</I>&gt;<i> *For finding Rabbitmq-c* I wrote a FindRabbitmqc.cmake (in the Modules
</I>&gt;<i> directory).
</I>&gt;<i> 
</I>&gt;<i> It searches for the amqp.h file in:
</I>&gt;<i> ${Rabbitmqc_DIR}/include
</I>&gt;<i> Then your system paths
</I>&gt;<i> 
</I>&gt;<i> If it doesn't pick it up automatically you set Rabbitmqc_INCLUDE_DIR to the
</I>&gt;<i> directory containing the amqp.h file by hand.
</I>&gt;<i> 
</I>&gt;<i> It searches for the rabbitmq library (librabbitmq.a/librabbitmq.so on *nix
</I>&gt;<i> rabbitmq.lib/.dll on windows) in:
</I>&gt;<i> ${Rabbitmq_DIR}/lib
</I>&gt;<i> Then your system include paths
</I>&gt;<i> 
</I>&gt;<i> If it doesn't pick it up automatically, you can set Rabbitmqc_LIBRARY to
</I>&gt;<i> the filename of the library by hand.
</I>&gt;<i> 
</I>&gt;<i> Hope that helps.
</I>&gt;<i> 
</I>

I tried that:

C:\rabbit-c\simpleamqpclient-build&gt;dir %Rabbitmqc_INCLUDE_DIR%\amqp.h
 Volume in drive C has no label.
 Volume Serial Number is 60C2-C1FC

 Directory of c:\rabbit-c\rabbitmq-c\librabbitmq

02/15/2012  03:00 PM            14,097 amqp.h
               1 File(s)         14,097 bytes
               0 Dir(s)  36,886,913,024 bytes free

so, amqp.h is in the right place.

C:\rabbit-c\simpleamqpclient-build&gt;dir %Rabbitmqc_LIBRARY%\rabbitmq.*
 Volume in drive C has no label.
 Volume Serial Number is 60C2-C1FC

 Directory of c:\rabbit-c\rabbitmq-c-build\librabbitmq\Debug

02/22/2012  01:15 PM           108,544 rabbitmq.dll
02/15/2012  05:03 PM             9,383 rabbitmq.exp
02/22/2012  01:15 PM           265,216 rabbitmq.idb
02/22/2012  01:15 PM           386,320 rabbitmq.ilk
02/15/2012  05:03 PM            16,132 rabbitmq.lib
02/22/2012  01:15 PM           815,104 rabbitmq.pdb
               6 File(s)      1,600,699 bytes
               0 Dir(s)  36,886,913,024 bytes free

.dll/.lib in the right place:


C:\rabbit-c\simpleamqpclient-build&gt;cmake ..\SimpleAmqpClient
-- Building for: Visual Studio 9 2008
-- Check for working C compiler using: Visual Studio 9 2008
-- Check for working C compiler using: Visual Studio 9 2008 -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler using: Visual Studio 9 2008
-- Check for working CXX compiler using: Visual Studio 9 2008 -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Boost version: 1.47.0
-- Found the following Boost libraries:
--   chrono
--   system
Rabbitmqc_INCLUDE_DIR=Rabbitmqc_INCLUDE_DIR-NOTFOUND
Rabbitmqc_LIBRARY=Rabbitmqc_LIBRARY-NOTFOUND
CMake Error at Modules/LibFindMacros.cmake:74 (message):
  Required library Rabbitmqc NOT FOUND.

  Install the library (dev version) and try again.  If the library is
already
  installed, use ccmake to set the missing variables manually.
Call Stack (most recent call first):
  Modules/FindRabbitmqc.cmake:19 (LIBFIND_PROCESS)
  CMakeLists.txt:12 (FIND_PACKAGE)


-- Configuring incomplete, errors occurred!






Still fails.

I'm wondering if this is even worth the effort.  (Not your wrapper,
just the cmake process).

Once I've gotten the C library itself to build (using python et al
to build the framing files), I'm tempted to just extract the .c and
.h files I need into a new Visual Studio project, and go from there.

I understand the concept of cmake (trying to get a platform independent
delivery base), but at this point, for a library with only really
10 .c and .h files, I've got at least 4 directories, the .vcproj files
have tons of -I directives, and......


Anyway, after seeing the trace above, if you have any clues, I'd
appreciate it.

</PRE>











<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018507.html">[rabbitmq-discuss] building SimpleAmqpClient
</A></li>
	<LI>Next message: <A HREF="018522.html">[rabbitmq-discuss] building SimpleAmqpClient
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18513">[ date ]</a>
              <a href="thread.html#18513">[ thread ]</a>
              <a href="subject.html#18513">[ subject ]</a>
              <a href="author.html#18513">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
