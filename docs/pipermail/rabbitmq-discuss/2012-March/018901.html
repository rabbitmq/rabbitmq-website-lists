<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] using load balancer with consumers to support automatic reconnection for node failure
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20using%20load%20balancer%20with%20consumers%20to%20support%0A%20automatic%20reconnection%20for%20node%20failure&In-Reply-To=%3CEE7965F7899C8844AFB99DE0EF3EAF56CB99812F41%40TMG-E2K7CCR2.group.tradermedia.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018895.html">
   <LINK REL="Next"  HREF="018927.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] using load balancer with consumers to support automatic reconnection for node failure</H1>
    <B>Steve Hurdsfield</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20using%20load%20balancer%20with%20consumers%20to%20support%0A%20automatic%20reconnection%20for%20node%20failure&In-Reply-To=%3CEE7965F7899C8844AFB99DE0EF3EAF56CB99812F41%40TMG-E2K7CCR2.group.tradermedia.co.uk%3E"
       TITLE="[rabbitmq-discuss] using load balancer with consumers to support automatic reconnection for node failure">Steve.Hurdsfield at TraderMedia.co.uk
       </A><BR>
    <I>Fri Mar 16 13:44:43 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018895.html">[rabbitmq-discuss] newbie problem--'Error: unable to connect to node 'rabbit at rabbitmq-small02-dev': nodedown'
</A></li>
        <LI>Next message: <A HREF="018927.html">[rabbitmq-discuss] using load balancer with consumers to support automatic reconnection for node failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18901">[ date ]</a>
              <a href="thread.html#18901">[ thread ]</a>
              <a href="subject.html#18901">[ subject ]</a>
              <a href="author.html#18901">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Were trying to use a load balanced address for the rabbit mq nodes with no luck in our Consumer code. The idea being that if we get an error due to the node going down we reconnect on the Load Balanced addres and get the other node that is running.

We are not having much luck. It works for a while but then we get &quot;Connection Reset&quot; errors every few minutes. Taking the 2nd node out of the pool makes it work but obviously that's not what we want. Using the &quot;real&quot; node address also works. I know we can do this through code using the conenctionFactory.newConnention(...Address[] addresses) method but would have preferred to do this using hardware load balancer.



________________________________________


This e-mail is sent on behalf of Trader Media Group Limited, Registered Office: Auto Trader House, Cutbush Park Industrial Estate, Danehill, Lower Earley, Reading, Berkshire, RG6 4UT(Registered in England No. 4768833). This email and any files transmitted with it are confidential and may be legally privileged, and intended solely for the use of the individual or entity to whom they are addressed. If you have received this email in error please notify the sender. This email message has been swept for the presence of computer viruses. 

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120316/45efdb69/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120316/45efdb69/attachment.htm</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018895.html">[rabbitmq-discuss] newbie problem--'Error: unable to connect to node 'rabbit at rabbitmq-small02-dev': nodedown'
</A></li>
	<LI>Next message: <A HREF="018927.html">[rabbitmq-discuss] using load balancer with consumers to support automatic reconnection for node failure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18901">[ date ]</a>
              <a href="thread.html#18901">[ thread ]</a>
              <a href="subject.html#18901">[ subject ]</a>
              <a href="author.html#18901">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
