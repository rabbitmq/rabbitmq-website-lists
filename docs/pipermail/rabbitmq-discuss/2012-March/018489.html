<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Symmetric federation behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Symmetric%20federation%20behavior&In-Reply-To=%3C88E590DC4586974D825FC82AE798294E52109AB3%40GSVCLU03.ges.ferlan.it%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018494.html">
   <LINK REL="Next"  HREF="018490.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Symmetric federation behavior</H1>
    <B>Busoli, Simone</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Symmetric%20federation%20behavior&In-Reply-To=%3C88E590DC4586974D825FC82AE798294E52109AB3%40GSVCLU03.ges.ferlan.it%3E"
       TITLE="[rabbitmq-discuss] Symmetric federation behavior">Simone.Busoli at ferrari.com
       </A><BR>
    <I>Thu Mar  1 13:27:56 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018494.html">[rabbitmq-discuss] Persistence in RabbitMQ and AMQP.
</A></li>
        <LI>Next message: <A HREF="018490.html">[rabbitmq-discuss] Symmetric federation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18489">[ date ]</a>
              <a href="thread.html#18489">[ thread ]</a>
              <a href="subject.html#18489">[ subject ]</a>
              <a href="author.html#18489">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,

I've set up a symmetric federation between two brokers A and B, that is, an exchange on one broker acts as the upstream for one on the other broker with the same name and vice versa.
To prevent messages from going into an infinite loop I've set max_hops to 1, but I am under the impression that messages published to broker A and then proxied to broker B are somehow proxied back once again to broker A and just then ignored because of the max_hops setting.
Is this behavior expected? Our rationale for using this kind of symmetrically configured federation is twofold: first to prevent messages to go into loops and secondly to conserve bandwidth by preventing messages to roundtrip from A to B and back, and this second aspect doesn't seem to work correctly right now.

Thanks


_________________________________________________________________________________________________________________
Questo messaggio e da intendersi esclusivamente ad uso del destinatario e puo contenere informazioni che sono di natura privilegiata, confidenziale
o non divulgabile secondo le leggi vigenti. Se il lettore del presente messaggio non e il destinatario designato, o il dipendente/agente responsabile
per la consegna del messaggio al destinatario designato, si informa che ogni disseminazione, distribuzione o copiatura di questa comunicazione e 
strettamente proibita anche ai sensi del decreto legislativo 196/03 . Se avete ricevuto questo messaggio per errore, vi preghiamo di notificarcelo
immediatamente a mezzo e-mail di risposta e successivamente di procedere alla cancellazione di questa e-mail e relativi allegati dal vostro sistema.
_________________________________________________________________________________________________________________
This message is intended only for the use of the addressee and may contain information that is privileged, confidential and exempt from 
disclosure under applicable law. If the reader of this message is not the intended recipient, or the employee or agent responsible for delivering the 
message to the intended recipient, you are hereby notified that any dissemination, distribution or copying of this communication is strictly 
prohibited. If you have received this e-mail in error, please notify us immediately by return e-mail and delete this e-mail and all attachments from 
your system.
_________________________________________________________________________________________________________________


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120301/9abde33f/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120301/9abde33f/attachment.htm</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018494.html">[rabbitmq-discuss] Persistence in RabbitMQ and AMQP.
</A></li>
	<LI>Next message: <A HREF="018490.html">[rabbitmq-discuss] Symmetric federation behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18489">[ date ]</a>
              <a href="thread.html#18489">[ thread ]</a>
              <a href="subject.html#18489">[ subject ]</a>
              <a href="author.html#18489">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
