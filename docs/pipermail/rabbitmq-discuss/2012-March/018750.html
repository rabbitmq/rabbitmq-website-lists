<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Questions about limit alarm and report in the log file
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Questions%20about%20limit%20alarm%20and%20report%20in%0A%20the%20log%20file&In-Reply-To=%3C20120312160032.GA28972%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018755.html">
   <LINK REL="Next"  HREF="018756.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Questions about limit alarm and report in the log file</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Questions%20about%20limit%20alarm%20and%20report%20in%0A%20the%20log%20file&In-Reply-To=%3C20120312160032.GA28972%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] Questions about limit alarm and report in the log file">matthew at rabbitmq.com
       </A><BR>
    <I>Mon Mar 12 16:00:33 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018755.html">[rabbitmq-discuss] Questions about limit alarm and report in the	log file
</A></li>
        <LI>Next message: <A HREF="018756.html">[rabbitmq-discuss] Questions about limit alarm and report in the log file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18750">[ date ]</a>
              <a href="thread.html#18750">[ thread ]</a>
              <a href="subject.html#18750">[ subject ]</a>
              <a href="author.html#18750">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Mon, Mar 12, 2012 at 03:14:02PM +0000, Rosa, Andrea (HP Cloud Services) wrote:
&gt;<i> 1 this line is reported in the log files when we are close to the file handles or memory limit?: 
</I>&gt;<i> =INFO REPORT==== 
</I>&gt;<i> Limiting to approx 3996 file handles (3594 sockets)
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT====
</I>&gt;<i> Memory limit set to 38749MB.
</I>
These are added to the log on startup so that you can be sure that any
configuration changes you've made have taken affect.

&gt;<i> 2 why there is this difference between the file handles and the number of sockets?
</I>
Rabbit will always need some file handles. It's quite smart about
sharing file handles internally between the various different processes
that need to work with files, but it will always need some. Thus we
ensure that not all file descriptors can be used for sockets - we
reserve some just for files.

&gt;<i> 3 the following entries mean that we hit the limit for file_descriptor? Why we have a set and a clear?
</I>&gt;<i> =INFO REPORT==== 
</I>&gt;<i>     alarm_handler: {set,{file_descriptor_limit,[]}}
</I>&gt;<i> 
</I>&gt;<i> =INFO REPORT==== 
</I>&gt;<i>     alarm_handler: {clear,file_descriptor_limit} 
</I>
&quot;Set&quot; means you've hit the limit. &quot;Clear&quot; means you're no longer at the
limit - either some connections have closed or Rabbit's internally
managed to free up some descriptors so that it's no longer at the limit.

It is, however, a slightly imprecise measure. We can't control the use
of FDs by the Erlang VM itself, and some plugins don't make use of the
correct API to ensure we account correctly for FD usage.


Matthew
</PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018755.html">[rabbitmq-discuss] Questions about limit alarm and report in the	log file
</A></li>
	<LI>Next message: <A HREF="018756.html">[rabbitmq-discuss] Questions about limit alarm and report in the log file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18750">[ date ]</a>
              <a href="thread.html#18750">[ thread ]</a>
              <a href="subject.html#18750">[ subject ]</a>
              <a href="author.html#18750">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
