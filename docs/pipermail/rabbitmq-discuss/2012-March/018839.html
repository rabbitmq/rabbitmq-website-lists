<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Throttling when Fast Producer, Slow Consumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Throttling%20when%20Fast%20Producer%2C%20Slow%20Consumer&In-Reply-To=%3C38353450-96df-4ced-8f88-bd1f2093486c%40StrongMad.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018840.html">
   <LINK REL="Next"  HREF="018804.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Throttling when Fast Producer, Slow Consumer</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Throttling%20when%20Fast%20Producer%2C%20Slow%20Consumer&In-Reply-To=%3C38353450-96df-4ced-8f88-bd1f2093486c%40StrongMad.local%3E"
       TITLE="[rabbitmq-discuss] Throttling when Fast Producer, Slow Consumer">jerryk at vmware.com
       </A><BR>
    <I>Wed Mar 14 15:05:03 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018840.html">[rabbitmq-discuss] Throttling when Fast Producer, Slow Consumer
</A></li>
        <LI>Next message: <A HREF="018804.html">[rabbitmq-discuss] Throttling when Fast Producer, Slow Consumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18839">[ date ]</a>
              <a href="thread.html#18839">[ thread ]</a>
              <a href="subject.html#18839">[ subject ]</a>
              <a href="author.html#18839">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> In re use of the HTTP API: Jerry, I completely agree that such an
</I>&gt;<i> approach, while tempting, really does violate the &quot;information hiding&quot;
</I>&gt;<i> aspect of decoupled producers and consumers. That said, can you say
</I>&gt;<i> more about how you understand the difference between &quot;monitoring the
</I>&gt;<i> system&quot; and using the HTTP API to &quot;keep a track on the queue depths?&quot;
</I>
Sure.  In production, one presumably wants to have some kind of
monitoring or alerting system to provide health checks on important
parts of the infrastructure.  Using the RabbitMQ management HTTP API,
it's easy to write scripts that will integrate into Hyperic, or
Splunk, or the like, and keep track of things like broker resource
usage.  One is also wise to make the monitoring system aware of the
queues in your application so that unexpected situations like slow or
failed consumers can be caught and remedied in a timely fashion.

&gt;<i> In re mismatched rates of production/consumption: Emile, no this is
</I>&gt;<i> not a permanent feature. I consider it a pathological and anomalous
</I>&gt;<i> state. But it may happen. What is your recommended way for a producer
</I>&gt;<i> who is writing to an exchange to monitor the length of a queue on &quot;the
</I>&gt;<i> other side&quot; of the exchange?
</I>
There are some nice examples using the HTTP API in the book &quot;RabbitMQ
in Action,&quot; currently available in pre-release from Manning, with the
print release to follow very soon.  This page provides a quick
summary, although the book elaborates on this quite a bit and includes
some nice example monitoring scripts and notes on integrating with Nagios:

<A HREF="http://hg.rabbitmq.com/rabbitmq-management/raw-file/3646dee55e02/priv/www-api/help.html">http://hg.rabbitmq.com/rabbitmq-management/raw-file/3646dee55e02/priv/www-api/help.html</A>

Best regards,
Jerry
</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018840.html">[rabbitmq-discuss] Throttling when Fast Producer, Slow Consumer
</A></li>
	<LI>Next message: <A HREF="018804.html">[rabbitmq-discuss] Throttling when Fast Producer, Slow Consumer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18839">[ date ]</a>
              <a href="thread.html#18839">[ thread ]</a>
              <a href="subject.html#18839">[ subject ]</a>
              <a href="author.html#18839">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
