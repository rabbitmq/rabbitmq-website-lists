<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Serialized Java Objects in Message bodies	not supported by RabbitMQ??
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Serialized%20Java%20Objects%20in%20Message%20bodies%0A%09not%20supported%20by%20RabbitMQ%3F%3F&In-Reply-To=%3C425a3811-cc63-45ad-9422-43f9baff8192%40csb-2-eng-dhcp113.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018612.html">
   <LINK REL="Next"  HREF="018594.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Serialized Java Objects in Message bodies	not supported by RabbitMQ??</H1>
    <B>Jerry Kuch</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Serialized%20Java%20Objects%20in%20Message%20bodies%0A%09not%20supported%20by%20RabbitMQ%3F%3F&In-Reply-To=%3C425a3811-cc63-45ad-9422-43f9baff8192%40csb-2-eng-dhcp113.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] Serialized Java Objects in Message bodies	not supported by RabbitMQ??">jerryk at vmware.com
       </A><BR>
    <I>Mon Mar  5 21:21:57 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018612.html">[rabbitmq-discuss] Why Exchange to Exchange binding? How its	done
</A></li>
        <LI>Next message: <A HREF="018594.html">[rabbitmq-discuss] [help] [beginner] what are the semantics of channels? (was testing with pika)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18590">[ date ]</a>
              <a href="thread.html#18590">[ thread ]</a>
              <a href="subject.html#18590">[ subject ]</a>
              <a href="author.html#18590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, Ashutosh:

(Copying back on the list in case others or future Google-searchers
are interested...)

If you *really* want to serialize your Java object to a bytestream
you can send in an AMQP message body you could do something like this:

ByteArrayOutputStream os = new ByteArrayOutputStream();
ObjectOutput objOut = new ObjectOutputStream(os);

objOut.writeObject(whateverYourObjectIs);
byte byteForm[] = os.toByteArray();
objOut.close();
os.close();

That said, you might still want to think carefully about whether you want 
to do this and have your application cope with the restrictions it imposes,
and the pitfalls (potential bugs, security holes, maintenance and testing
costs, etc.) it creates.  The sections on Serialization in chapter
11 of Josh Bloch's &quot;Effective Java&quot; are something you may want to keep
close at hand.

Best regards,
Jerry

----- Original Message -----
From: &quot;Ashutosh Mathur&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">amathur.q at gmail.com</A>&gt;
To: &quot;Jerry Kuch&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A>&gt;
Sent: Sunday, March 4, 2012 8:07:07 PM
Subject: Re: [rabbitmq-discuss] Serialized Java Objects in Message bodies not supported by RabbitMQ??

Hi Jerry, 

Thanks for the reply.Now its almost clear to me that we can send Java Serialized objects in message bodies.But I had read on some discussion groups elsewhere that this is not possible.If it is possible,as you say, can you please specify a method which will do so?Can we use the normal &quot;MessageConverters&quot; for this? 
Sorry for the mail in your personal mailbox.Wasn't sure whether you'll see this post in the discussion lists. 

Ashutosh 


On Fri, Mar 2, 2012 at 10:41 AM, Jerry Kuch &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jerryk at vmware.com</A> &gt; wrote: 


Hi, Ashutosh: 

You can put any bytes you want into an AMQP message payload, 
you'll just have to handle the encoding yourself in the usual 
Java serialization ways. Be warned though, that serializing POJOs 
is going to put restrictions on the the recipients of your message 
can be, i.e. they're also going to need to be in Java, with the 
appropriate stuff versions of the appropriate stuff on their 
classpaths, to be able to make sense out of what you're sending 
them if you plan to deserialize them into Java objects. 

You might find the JSON solution you suggest gives you something 
that's a bit more friendly in polyglot systems, and leave your 
application with more future flexibility... 

Jerry 



----- Original Message ----- 
From: &quot;Ashutosh Mathur&quot; &lt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">amathur.q at gmail.com</A> &gt; 
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> 
Sent: Thursday, March 1, 2012 9:00:36 PM 
Subject: [rabbitmq-discuss] Serialized Java Objects in Message bodies not supported by RabbitMQ?? 


Hi, 

RabbitMQ doesn't support Serialized Java Objects in Message bodies.Is that true? In JMS,it is done by &quot;CreateObjectMessage()&quot; method. Is there any function in AMQP which has same/similar functionality.? 
One possible solution for above may be to convert data into JSON strings and send within the message.will that work? 
Thanks in advance. 

_______________________________________________ 
rabbitmq-discuss mailing list 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A> 

</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018612.html">[rabbitmq-discuss] Why Exchange to Exchange binding? How its	done
</A></li>
	<LI>Next message: <A HREF="018594.html">[rabbitmq-discuss] [help] [beginner] what are the semantics of channels? (was testing with pika)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18590">[ date ]</a>
              <a href="thread.html#18590">[ thread ]</a>
              <a href="subject.html#18590">[ subject ]</a>
              <a href="author.html#18590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
