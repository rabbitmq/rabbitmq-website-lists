<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] After enabled rabbitmq_management plugin , RabbitMQ getting crashed .
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20After%20enabled%20rabbitmq_management%20plugin%20%2C%0A%20RabbitMQ%20getting%20crashed%20.&In-Reply-To=%3CCOL103-W5482C03B5123C107803CA5AB500%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018535.html">
   <LINK REL="Next"  HREF="018533.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] After enabled rabbitmq_management plugin , RabbitMQ getting crashed .</H1>
    <B>ponmuthu muniyasamy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20After%20enabled%20rabbitmq_management%20plugin%20%2C%0A%20RabbitMQ%20getting%20crashed%20.&In-Reply-To=%3CCOL103-W5482C03B5123C107803CA5AB500%40phx.gbl%3E"
       TITLE="[rabbitmq-discuss] After enabled rabbitmq_management plugin , RabbitMQ getting crashed .">ponmuthu1988 at live.com
       </A><BR>
    <I>Mon Mar  5 08:15:15 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018535.html">[rabbitmq-discuss] Entity creation order guarantees with	shovel/federation
</A></li>
        <LI>Next message: <A HREF="018533.html">[rabbitmq-discuss] After enabled rabbitmq_management plugin , RabbitMQ getting crashed .
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18528">[ date ]</a>
              <a href="thread.html#18528">[ thread ]</a>
              <a href="subject.html#18528">[ subject ]</a>
              <a href="author.html#18528">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi ,


   kindly help me to fix this issue 

Versions:

RabbitMQ  v2.7.1 
erlang-R12B-5.10.el5
Red Hat Enterprise Linux Server release 5.2 (Tikanga)
                    


---------------------------------------------------------------------------------------------------------------------

Before Enable rabbitmq_management plugin , no issue in my RabbitMQ getting proper log as below :

---------------------------------------------------------------------------------------------------------------------
=INFO REPORT==== 2-Mar-2012::02:27:00 ===
stopped TCP Listener on [::]:5672

=INFO REPORT==== 2-Mar-2012::02:28:06 ===
Limiting to approx 924 file handles (829 sockets)

=INFO REPORT==== 2-Mar-2012::02:28:06 ===
Memory limit set to 401MB of 1002MB total.

=INFO REPORT==== 2-Mar-2012::02:28:06 ===
Management plugin upgraded statistics to fine.

=INFO REPORT==== 2-Mar-2012::02:28:06 ===
msg_store_transient: using rabbit_msg_store_ets_index to provide index

=INFO REPORT==== 2-Mar-2012::02:28:06 ===
msg_store_persistent: using rabbit_msg_store_ets_index to provide index

=INFO REPORT==== 2-Mar-2012::02:28:06 ===
started TCP Listener on [::]:5672

=INFO REPORT==== 2-Mar-2012::02:28:06 ===
Management agent started.


-----------------------------------------------------------------------------------------------------------------

After Enabled rabbitmq_management plugin , my RabbitMQ getting crashed logs as below :

-----------------------------------------------------------------------------------------------------------------

Erlang has closed
{&quot;Kernel
 pid 
terminated&quot;,application_controller,&quot;{application_start_failure,rabbitmq_management,{bad_return,{{rabbit_mgmt_app,start,[normal,[]]},{'EXIT',{{{case_clause,{error,{{'EXIT',{undef,[{lists,keyfind,[name,1,[{loop,#Fun&lt;mochiweb_http.0.65037361&gt;},{name,rabbit_mochiweb_web_mgmt},{port,55672}]]},{mochilists,is_defined,2},{mochilists,set_default,2},{lists,foldl,3},{mochiweb_http,start,1},{supervisor,do_start_child,2},{supervisor,handle_start_child,2},{supervisor,handle_call,3}]}},{child,undefined,{rabbit_mochiweb_web,mgmt},{rabbit_mochiweb_web,start,[{mgmt,[{port,55672}]}]},transient,5000,worker,dynamic}}}},[{rabbit_mochiweb_sup,ensure_listener,1},{rabbit_mochiweb_registry,handle_call,3},{gen_server,handle_msg,5},{proc_lib,init_p_do_apply,3}]},{gen_server,call,[rabbit_mochiweb_registry,{add,rabbit_mgmt,#Fun&lt;rabbit_mochiweb.2.75707079&gt;,#Fun&lt;rabbit_mochiweb.0.51174676&gt;,{[],[82,97,98,98,105,116,77,81,32,77,97,110,97,103,101,109,101,110,116]}},infinity]}}}}}}&quot;}

Crash dump was written to: erl_crash.dump
Kernel
 pid terminated (application_controller) 
({application_start_failure,rabbitmq_management,{bad_return,{{rabbit_mgmt_app,start,[normal,[]]},{'EXIT',{{{case_clause,{error,{{'EXIT',{undef,[{lists,




=INFO REPORT==== 2-Mar-2012::02:26:40 ===
Limiting to approx 924 file handles (829 sockets)

=INFO REPORT==== 2-Mar-2012::02:26:40 ===
Memory limit set to 401MB of 1002MB total.

=INFO REPORT==== 2-Mar-2012::02:26:40 ===
Management plugin upgraded statistics to fine.

=INFO REPORT==== 2-Mar-2012::02:26:40 ===
msg_store_transient: using rabbit_msg_store_ets_index to provide index

=INFO REPORT==== 2-Mar-2012::02:26:40 ===
msg_store_persistent: using rabbit_msg_store_ets_index to provide index

=INFO REPORT==== 2-Mar-2012::02:26:40 ===
started TCP Listener on [::]:5672

=INFO REPORT==== 2-Mar-2012::02:26:40 ===
Management agent started.

=ERROR REPORT==== 2-Mar-2012::02:26:40 ===
** Generic server rabbit_mochiweb_registry terminating
** Last message in was {add,rabbit_mgmt,#Fun&lt;rabbit_mochiweb.2.75707079&gt;,
                            #Fun&lt;rabbit_mochiweb.0.51174676&gt;,
                            {[],&quot;RabbitMQ Management&quot;}}
** When Server state == undefined
** Reason for termination ==
** {{case_clause,
        {error,
            {{'EXIT',
                 {undef,
                     [{lists,keyfind,
                          [name,1,
                           [{loop,#Fun&lt;mochiweb_http.0.65037361&gt;},
                            {name,rabbit_mochiweb_web_mgmt},
                            {port,55672}]]},
                      {mochilists,is_defined,2},
                      {mochilists,set_default,2},
                      {lists,foldl,3},
                      {mochiweb_http,start,1},
                      {supervisor,do_start_child,2},
                      {supervisor,handle_start_child,2},
                      {supervisor,handle_call,3}]}},
             {child,undefined,
                 {rabbit_mochiweb_web,mgmt},
                 {rabbit_mochiweb_web,start,[{mgmt,[{port,55672}]}]},
                 transient,5000,worker,dynamic}}}},
    [{rabbit_mochiweb_sup,ensure_listener,1},
     {rabbit_mochiweb_registry,handle_call,3},
     {gen_server,handle_msg,5},
     {proc_lib,init_p_do_apply,3}]}

=INFO REPORT==== 2-Mar-2012::02:26:40 ===
    application: rabbitmq_management
    exited: {bad_return,
             {{rabbit_mgmt_app,start,[normal,[]]},
              {'EXIT',
               {{{case_clause,
                  {error,
                   {{'EXIT',
                     {undef,
                      [{lists,keyfind,
                        [name,1,
                         [{loop,#Fun&lt;mochiweb_http.0.65037361&gt;},
                          {name,rabbit_mochiweb_web_mgmt},
                          {port,55672}]]},
                       {mochilists,is_defined,2},
                       {mochilists,set_default,2},
                       {lists,foldl,3},
                       {mochiweb_http,start,1},
                       {supervisor,do_start_child,2},
                       {supervisor,handle_start_child,2},
                       {supervisor,handle_call,3}]}},
                    {child,undefined,
                     {rabbit_mochiweb_web,mgmt},
                     {rabbit_mochiweb_web,start,[{mgmt,[{port,55672}]}]},
                     transient,5000,worker,dynamic}}}},
                 [{rabbit_mochiweb_sup,ensure_listener,1},
                  {rabbit_mochiweb_registry,handle_call,3},
                  {gen_server,handle_msg,5},
                  {proc_lib,init_p_do_apply,3}]},
                {gen_server,call,
                 [rabbit_mochiweb_registry,
                  {add,rabbit_mgmt,#Fun&lt;rabbit_mochiweb.2.75707079&gt;,
                   #Fun&lt;rabbit_mochiweb.0.51174676&gt;,
                   {[],&quot;RabbitMQ Management&quot;}},
                  infinity]}}}}}
    type: permanent


Please help me to fix this issue , waiting for solution 
                     		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120305/505f7aad/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120305/505f7aad/attachment.htm</A>&gt;
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018535.html">[rabbitmq-discuss] Entity creation order guarantees with	shovel/federation
</A></li>
	<LI>Next message: <A HREF="018533.html">[rabbitmq-discuss] After enabled rabbitmq_management plugin , RabbitMQ getting crashed .
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18528">[ date ]</a>
              <a href="thread.html#18528">[ thread ]</a>
              <a href="subject.html#18528">[ subject ]</a>
              <a href="author.html#18528">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
