<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] problem on queue depth checking?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20problem%20on%20queue%20depth%20checking%3F&In-Reply-To=%3C4F5F4683.5050904%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018776.html">
   <LINK REL="Next"  HREF="018778.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] problem on queue depth checking?</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20problem%20on%20queue%20depth%20checking%3F&In-Reply-To=%3C4F5F4683.5050904%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] problem on queue depth checking?">simon at rabbitmq.com
       </A><BR>
    <I>Tue Mar 13 13:07:15 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018776.html">[rabbitmq-discuss]  problem on queue depth checking?
</A></li>
        <LI>Next message: <A HREF="018778.html">[rabbitmq-discuss] problem on queue depth checking?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18777">[ date ]</a>
              <a href="thread.html#18777">[ thread ]</a>
              <a href="subject.html#18777">[ subject ]</a>
              <a href="author.html#18777">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 13/03/12 13:01, sameekmishra wrote:
&gt;<i> Now if i publish 2 messages then one message will be consumed(and thread
</I>&gt;<i> will sleep for one minute) and one will be in the queue;
</I>&gt;<i> And queue depth checking thread must show the queuedepth = 1. But I am
</I>&gt;<i> getting the queuedepth 0.
</I>&gt;<i> But if we dont consume the message from queue then queuedepth is shown
</I>&gt;<i> correctly.
</I>
RabbitMQ will by default push as many messages to the consumer as it 
can. On the consumer side they end up buffered in the QueueingConsumer.

To change this behaviour, invoke channel.basicQos() and use acks. This 
will bound the number of unacknowledged messages RabbitMQ will push to 
your consumer.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>











































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018776.html">[rabbitmq-discuss]  problem on queue depth checking?
</A></li>
	<LI>Next message: <A HREF="018778.html">[rabbitmq-discuss] problem on queue depth checking?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18777">[ date ]</a>
              <a href="thread.html#18777">[ thread ]</a>
              <a href="subject.html#18777">[ subject ]</a>
              <a href="author.html#18777">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
