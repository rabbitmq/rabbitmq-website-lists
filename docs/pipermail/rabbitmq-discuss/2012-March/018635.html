<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ hangs, does not accept connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20hangs%2C%20does%20not%20accept%20connections&In-Reply-To=%3C4F577D3D.2020003%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018624.html">
   <LINK REL="Next"  HREF="018676.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ hangs, does not accept connections</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20hangs%2C%20does%20not%20accept%20connections&In-Reply-To=%3C4F577D3D.2020003%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ hangs, does not accept connections">simon at rabbitmq.com
       </A><BR>
    <I>Wed Mar  7 15:22:37 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018624.html">[rabbitmq-discuss] RabbitMQ hangs, does not accept connections
</A></li>
        <LI>Next message: <A HREF="018676.html">[rabbitmq-discuss] RabbitMQ hangs, does not accept connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18635">[ date ]</a>
              <a href="thread.html#18635">[ thread ]</a>
              <a href="subject.html#18635">[ subject ]</a>
              <a href="author.html#18635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 07/03/12 08:57, Dmitri Minaev wrote:
&gt;<i> Yes, there's quite a lot of those 'failed to accept' messages.
</I>&gt;<i> Actually, this is the second time when Rabbit stops since installation
</I>&gt;<i> of that tcp_acceptor patch, and every time those messages appear in
</I>&gt;<i> large number.
</I>
So there's few things going on here. The primary issue is that RabbitMQ 
is running out of file descriptors due to too many connections being 
opened, and for various reasons the internal accounting that is supposed 
to prevent this from causing harm is getting out of sync with reality. 
There are already improvements that will be coming in the next release 
that will improve this situation and we have some ideas for how to fix 
it altogether.

But in the meantime you should look at increasing the number of file 
descriptors that are available to RabbitMQ.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018624.html">[rabbitmq-discuss] RabbitMQ hangs, does not accept connections
</A></li>
	<LI>Next message: <A HREF="018676.html">[rabbitmq-discuss] RabbitMQ hangs, does not accept connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18635">[ date ]</a>
              <a href="thread.html#18635">[ thread ]</a>
              <a href="subject.html#18635">[ subject ]</a>
              <a href="author.html#18635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
