<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] SSL connection errors once or twice every week
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20SSL%20connection%20errors%20once%20or%20twice%20every%0A%20week&In-Reply-To=%3C4F549D3B.4050306%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018527.html">
   <LINK REL="Next"  HREF="018596.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] SSL connection errors once or twice every week</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20SSL%20connection%20errors%20once%20or%20twice%20every%0A%20week&In-Reply-To=%3C4F549D3B.4050306%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] SSL connection errors once or twice every week">simon at rabbitmq.com
       </A><BR>
    <I>Mon Mar  5 11:02:19 GMT 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="018527.html">[rabbitmq-discuss] SSL connection errors once or twice every week
</A></li>
        <LI>Next message: <A HREF="018596.html">[rabbitmq-discuss] SSL connection errors once or twice every	week
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18540">[ date ]</a>
              <a href="thread.html#18540">[ thread ]</a>
              <a href="subject.html#18540">[ subject ]</a>
              <a href="author.html#18540">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Brian.

On 05/03/2012 5:33AM, Brian Jing wrote:
&gt;<i> We have got multiple upstream and downstream servers. Each downstream
</I>&gt;<i> server talks to all upstream servers, and vice versa. We use federation
</I>&gt;<i> in a &quot;symmetric&quot; way in that federation exchanges on the servers are
</I>&gt;<i> used for both downstream and upstream purposes. max_hops is set to 1 so
</I>&gt;<i> it doesn't form a loop. However, there has been a lot of traffic
</I>&gt;<i> generated by RabbitMQ on the network. I've read a recent discussion on
</I>&gt;<i> symmetric federation on this mailing list and it seems that there are
</I>&gt;<i> some problems with it. Not sure if the error we've been having has
</I>&gt;<i> anything to do with it.
</I>
I don't think so. Note that the only problem with symmetric federation 
is that messages get transferred over the network only to get dropped. 
This wastes bandwidth but it's nothing to do with what you're seeing.

&gt;<i> It seems to me that the error message suggests a connection problem, but
</I>&gt;<i> not sure whether it has to do with the federation plugin. Since the
</I>&gt;<i> error will take a while to happen again (but will definitely happen) and
</I>&gt;<i> it'll probably take at least a couple of weeks for us to determine the
</I>&gt;<i> cause of it, I was just wondering if anyone can easily see what this
</I>&gt;<i> error is about and if there is any fix for this.
</I>
Thanks for the pointer. So it looks like we may not be recovering well 
from an SSL connection dying post-establishment. I'll try to replicate this.

&gt;<i> Here is the error message:
</I>&lt;snip&gt;
&gt;<i>                       {'RSAPrivateKey','two-prime',
</I>&lt;snip&gt;

Huh. That doesn't look like a good thing to log. I think you should 
probably treat the private key from that machine as compromised, sorry :-(

The log message is being created by Erlang but I'll see if we can 
intercept it and strip that out...

Cheers, Simon
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018527.html">[rabbitmq-discuss] SSL connection errors once or twice every week
</A></li>
	<LI>Next message: <A HREF="018596.html">[rabbitmq-discuss] SSL connection errors once or twice every	week
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18540">[ date ]</a>
              <a href="thread.html#18540">[ thread ]</a>
              <a href="subject.html#18540">[ subject ]</a>
              <a href="author.html#18540">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
