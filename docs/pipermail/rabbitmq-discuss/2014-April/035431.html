<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Windows RabbitMQ Cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Windows%20RabbitMQ%20Cluster&In-Reply-To=%3C53560B85.1030404%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035425.html">
   <LINK REL="Next"  HREF="035434.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Windows RabbitMQ Cluster</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Windows%20RabbitMQ%20Cluster&In-Reply-To=%3C53560B85.1030404%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Windows RabbitMQ Cluster">matthias at rabbitmq.com
       </A><BR>
    <I>Tue Apr 22 07:26:13 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035425.html">[rabbitmq-discuss] Windows RabbitMQ Cluster
</A></li>
        <LI>Next message: <A HREF="035434.html">[rabbitmq-discuss] Windows RabbitMQ Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35431">[ date ]</a>
              <a href="thread.html#35431">[ thread ]</a>
              <a href="subject.html#35431">[ subject ]</a>
              <a href="author.html#35431">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 21/04/14 15:24, Wouter Bosland wrote:
&gt;<i> 6. run the command: ''rabbitmqctl join_cluster <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at master</A>'' on
</I>&gt;<i> machine 2 (slave)
</I>&gt;<i>
</I>&gt;<i> Clustering node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-PK8SONHOIBH</A>' with <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at master</A> ...
</I>&gt;<i> Error: unable to connect to nodes [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at master</A>]: nodedown
</I>&gt;<i> [...]
</I>&gt;<i> *If I try the other way around clustering master to slave I get:*
</I>&gt;<i>
</I>&gt;<i> Clustering node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-2BQPAJ1S03R</A>' with <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at slave</A> ...
</I>&gt;<i> Error: unable to connect to nodes [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at slave</A>]: nodedown
</I>&gt;<i> [...]
</I>&gt;<i>    * suggestion: hostname mismatch?
</I>&gt;<i>    * suggestion: is the cookie set correctly?
</I>&gt;<i> [...]
</I>&gt;<i> *The cookie hash is the same so what could be the problem?*
</I>
See the 2nd suggestion :)

It appears that your nodes know themselves as <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at WIN-</A>&lt;...&gt;, but you 
attempt to address them as rabbit@{master,slave}.

Now, evidently master/slave do resolve, since rabbitmqctl can find the 
machine, but for communication to succeed the name of the node must 
match how it is being addressed.

So either address nodes by their WIN-&lt;...&gt; name or alter the node name 
on startup by setting RABBITMQ_NODENAME.

Matthias.

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035425.html">[rabbitmq-discuss] Windows RabbitMQ Cluster
</A></li>
	<LI>Next message: <A HREF="035434.html">[rabbitmq-discuss] Windows RabbitMQ Cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35431">[ date ]</a>
              <a href="thread.html#35431">[ thread ]</a>
              <a href="subject.html#35431">[ subject ]</a>
              <a href="author.html#35431">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
