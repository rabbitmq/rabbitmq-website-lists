<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Federated queues with durable topic subscriptions over STOMP and ACLs
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federated%20queues%20with%20durable%20topic%0A%20subscriptions%20over%20STOMP%20and%20ACLs&In-Reply-To=%3C5350FFD0.1090306%40fsn.hu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035392.html">
   <LINK REL="Next"  HREF="035396.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Federated queues with durable topic subscriptions over STOMP and ACLs</H1>
    <B>Nagy, Attila</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Federated%20queues%20with%20durable%20topic%0A%20subscriptions%20over%20STOMP%20and%20ACLs&In-Reply-To=%3C5350FFD0.1090306%40fsn.hu%3E"
       TITLE="[rabbitmq-discuss] Federated queues with durable topic subscriptions over STOMP and ACLs">bra at fsn.hu
       </A><BR>
    <I>Fri Apr 18 11:34:56 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035392.html">[rabbitmq-discuss] Federated queues with durable topic subscriptions over STOMP and ACLs
</A></li>
        <LI>Next message: <A HREF="035396.html">[rabbitmq-discuss] Federation Queue / Exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35393">[ date ]</a>
              <a href="thread.html#35393">[ thread ]</a>
              <a href="subject.html#35393">[ subject ]</a>
              <a href="author.html#35393">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/18/14 12:03, Michael Klishin wrote:
&gt;<i> On 18 April 2014 at 13:57:41, Nagy, Attila (<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bra at fsn.hu</A>) wrote:
</I>&gt;<i>
</I>&gt;<i> Please keep rabbitmq-discuss on CC.
</I>Sorry, it seems my shift key is defunct.
&gt;<i>
</I>&gt;&gt;&gt;<i> What I'm trying to ask (sorry if I can't describe it properly)
</I>&gt;&gt;<i> is:
</I>&gt;&gt;<i> wouldn't it work if the STOMP adapter would check the exchange's
</I>&gt;&gt;<i> type
</I>&gt;&gt;<i> when evaluating the subscription and if it's a topic and persistent
</I>&gt;&gt;<i> is
</I>&gt;&gt;<i> true, it would do the same:
</I>&gt;&gt;<i> bind a named queue to the exchange (here, a custom exchange, not
</I>&gt;&gt;<i> an
</I>&gt;&gt;<i> amq.*) with the routing key specified.
</I>&gt;<i> Perhaps that could work but it may be too specific a use case to
</I>&gt;<i> make STOMP plugin work like that. Plus it will take a while for
</I>&gt;<i> a new version to come out (a few months).
</I>I'm surprised this counts as too specific. This can be done 
programatically in AMQP by &quot;manually&quot; declaring and binding exchanged 
and queues, but can't be done via STOMP.
I agree that it can be complex to implement.
&gt;&gt;<i> amq.topic
</I>&gt;&gt;<i> Which may solve my problem on the publisher side if I got it right,
</I>&gt;&gt;<i> but
</I>&gt;&gt;<i> what happens on the consumer side?
</I>&gt;&gt;<i> I think I still need to give configure rights to them onto amq.topic
</I>&gt;&gt;<i> to
</I>&gt;&gt;<i> make the binding.
</I>&gt;<i> As far as I understand your problem only exists on the publisher side?
</I>&gt;<i> Nothing changes for the consumer. If you need to have ACL for consumers, too,
</I>&gt;<i> given you know queue names upfront you can use the features described on
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/access-control.html">http://www.rabbitmq.com/access-control.html</A>
</I>&gt;<i>
</I>No, the consumer side is also problematic. First of all, the queue name 
is generated, but that could be worked around by first checking what 
rabbitmq gives and then set the ACLs accordingly.
The problem here is the binding is always done to amq.topic, so I have 
to give more rights to the consumer that would otherwise needed (bind to 
the named exchange, or to amq.topic's given routing key, if ACLs could 
go into that property).

I guess it's easier for me now if I make this declarations and binds in 
the brokers, also, this makes it possible to properly ACL the consumers.

Thank you very much for your quick responses!
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035392.html">[rabbitmq-discuss] Federated queues with durable topic subscriptions over STOMP and ACLs
</A></li>
	<LI>Next message: <A HREF="035396.html">[rabbitmq-discuss] Federation Queue / Exchange
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35393">[ date ]</a>
              <a href="thread.html#35393">[ thread ]</a>
              <a href="subject.html#35393">[ subject ]</a>
              <a href="author.html#35393">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
