<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq cluster design and HA
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20cluster%20design%20and%20HA&In-Reply-To=%3CCAOU_jKBYfms1rk-_prs2rkbYX%2B8vj54CpxnUPTC%3DhPmbvbxmxg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035671.html">
   <LINK REL="Next"  HREF="035607.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq cluster design and HA</H1>
    <B>srikanth tns</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq%20cluster%20design%20and%20HA&In-Reply-To=%3CCAOU_jKBYfms1rk-_prs2rkbYX%2B8vj54CpxnUPTC%3DhPmbvbxmxg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq cluster design and HA">srikanthtns at gmail.com
       </A><BR>
    <I>Tue Apr 29 04:19:50 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035671.html">[rabbitmq-discuss] RabbitMQ 3.3.0 doesn't working with OpenLDAP ????
</A></li>
        <LI>Next message: <A HREF="035607.html">[rabbitmq-discuss] Rabbitmq cluster design and HA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35597">[ date ]</a>
              <a href="thread.html#35597">[ thread ]</a>
              <a href="subject.html#35597">[ subject ]</a>
              <a href="author.html#35597">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

we are thinking to setup a 3-node Rabbitmq cluster . each member in the
cluster will have 5000 clients connected to it. The client is mcollective.
We made sure the client would connect to only one node in the cluster . So,
this would be approximately 50K queues on each member in the cluster.All of
our hosts are RHEL machines.

Can you let us know what would be optimal settings on rabbitmq cluster to
prevent it from crashing and having reliable messaging?

1) sysctl configurations
2) Disk limitations to setup on cluster . the default is 50MB
3) Memory to used , right now its default 40%
4) any other settings to be done ?
5) mnesia / erlang settings
6) any disk space limitation on the hosts

For HA , we are using ha-mode all to duplicate the queues across all nodes
in the cluster. Do you think its reliable during the failover scenario
?During the failover it would like 100k queues on nthe new master? Or
should we use ha-mode = exactly/nodes ?

Thanks
Srikanth
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140428/c8052225/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140428/c8052225/attachment.html</A>&gt;
</PRE>




































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035671.html">[rabbitmq-discuss] RabbitMQ 3.3.0 doesn't working with OpenLDAP ????
</A></li>
	<LI>Next message: <A HREF="035607.html">[rabbitmq-discuss] Rabbitmq cluster design and HA
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35597">[ date ]</a>
              <a href="thread.html#35597">[ thread ]</a>
              <a href="subject.html#35597">[ subject ]</a>
              <a href="author.html#35597">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
