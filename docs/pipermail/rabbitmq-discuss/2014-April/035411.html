<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%203%20Node%20Federation%20%3A%20Messages%20to%20be%20handled%0A%20by%20other%20nodes%20and%20ignored%20by%20local%20node&In-Reply-To=%3CCAE3HoVRBq0btbojJ-H6wp%3Dt3Thx2CYstCfjea%2B1MH3Ct26sZ3g%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035410.html">
   <LINK REL="Next"  HREF="035412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%203%20Node%20Federation%20%3A%20Messages%20to%20be%20handled%0A%20by%20other%20nodes%20and%20ignored%20by%20local%20node&In-Reply-To=%3CCAE3HoVRBq0btbojJ-H6wp%3Dt3Thx2CYstCfjea%2B1MH3Ct26sZ3g%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node">michael.s.klishin at gmail.com
       </A><BR>
    <I>Sat Apr 19 15:57:45 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035410.html">[rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node
</A></li>
        <LI>Next message: <A HREF="035412.html">[rabbitmq-discuss] 3.2.4: Segfaults with HiPe enabled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35411">[ date ]</a>
              <a href="thread.html#35411">[ thread ]</a>
              <a href="subject.html#35411">[ subject ]</a>
              <a href="author.html#35411">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2014-04-19 18:42 GMT+04:00 Umashanker, Srividhya &lt;
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">srividhya.umashanker at hp.com</A>&gt;:

&gt;<i> *The following is what I tried.*
</I>&gt;<i>
</I>&gt;<i> 1.       Federate only exchange  -  When I publish on node1&#8217;s
</I>&gt;<i> federated-x,   I listened  on node1, node2, node3&#8217;s  federated-q.
</I>&gt;<i>
</I>&gt;<i> I received the messages on all 3 queues.
</I>&gt;<i>
</I>&gt;<i> 2.       Federate only  queue    -  When I publish on node1&#8217;s
</I>&gt;<i> federated-x,   I listened  on node1, node2, node3&#8217;s  federated-q.
</I>&gt;<i>
</I>&gt;<i> a.       Only node1 local receives it.
</I>&gt;<i>
</I>&gt;<i> b.      When node1 is not listening, the 1st consumer alone recives not
</I>&gt;<i> all
</I>&gt;<i>
</I>&gt;<i> 3.       Federate both exchanges and queues &#8211; Did not work as expected.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Is the above the expected behavior?  Can anyone else suggest me other ways
</I>&gt;<i> to handle it?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I can achieve mostly with exchange federation. But I want the local node
</I>&gt;<i> to ignore the message. Any other way, than programmatically ignoring it
</I>&gt;<i> when message comes without x-federation headers?
</I>&gt;<i>
</I>
As described in <A HREF="http://www.rabbitmq.com/federated-queues.html,">http://www.rabbitmq.com/federated-queues.html,</A>
federated queues distributed messages between federated clusters and prefer
local consumers.
This sounds like the opposite of what you want.

Federated exchanges replicate message streams to other clusters. How the
messages are routed or consumed
is completely up to you. So simply set up a topology in clusters 2 and 3
and have consumers there.

Cluster 1 won't have any queues bound to the federated exchange(s) and
won't have any consumers.
-- 
MK

<A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
<A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140419/a2fd9425/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140419/a2fd9425/attachment.html</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035410.html">[rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node
</A></li>
	<LI>Next message: <A HREF="035412.html">[rabbitmq-discuss] 3.2.4: Segfaults with HiPe enabled
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35411">[ date ]</a>
              <a href="thread.html#35411">[ thread ]</a>
              <a href="subject.html#35411">[ subject ]</a>
              <a href="author.html#35411">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
