<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Why rabbitmq stop pushing message to consumer
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20rabbitmq%20stop%20pushing%20message%20to%20consumer&In-Reply-To=%3C48c50037.8ab2.145a63302e2.Coremail.qiujixiong%40163.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035509.html">
   <LINK REL="Next"  HREF="035511.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Why rabbitmq stop pushing message to consumer</H1>
    <B>qiujixiong</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20rabbitmq%20stop%20pushing%20message%20to%20consumer&In-Reply-To=%3C48c50037.8ab2.145a63302e2.Coremail.qiujixiong%40163.com%3E"
       TITLE="[rabbitmq-discuss] Why rabbitmq stop pushing message to consumer">qiujixiong at 163.com
       </A><BR>
    <I>Mon Apr 28 03:38:52 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035509.html">[rabbitmq-discuss] Why rabbitmq stop pushing message to consumer
</A></li>
        <LI>Next message: <A HREF="035511.html">[rabbitmq-discuss] RabbitMQ on Windows XP - Failed to create	cookie file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35548">[ date ]</a>
              <a href="thread.html#35548">[ thread ]</a>
              <a href="subject.html#35548">[ subject ]</a>
              <a href="author.html#35548">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Michael,


Thanks for your response very much!
There indeed were some RAM alarms logged while no disk alarm. The RAM alarms were raised after message accumulate for a long time. 
It should be the result, not the reason, right?(before the alarms raised, consumers could not receive message already) 
What I can saw at that time was that all consumer threads could not receive message from rabbitmq and gdb tell me they were blocked in tcp receive function.
The connection usage currently is not very well and we will enhance it later. What I confused is the blocking of consumer(as you said, they should not be blocked). The reason  is still uncertain.


At 2014-04-25 19:58:36,&quot;Michael Klishin&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>Resource-based flow control should only block publishers. Re-creating connections
</I>&gt;<i>won&#8217;t help: every publishing connection will be blocked. Consumers should not
</I>&gt;<i>be blocked but nearly running out of disk space sounds alarming and can prevent
</I>&gt;<i>RabbitMQ from moving messages to disk or very heavy OS paging .
</I>&gt;<i>
</I>&gt;<i>What&#8217;s in RabbitMQ log? There should be disk and RAM alarms logged. rabbitmqctl status
</I>&gt;<i>indicates disk limit alarm should be on.
</I>

&gt;<i>--  
</I>&gt;<i>MK  
</I>&gt;<i>
</I>&gt;<i>Software Engineer, Pivotal/RabbitMQ
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140428/08cdd347/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140428/08cdd347/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035509.html">[rabbitmq-discuss] Why rabbitmq stop pushing message to consumer
</A></li>
	<LI>Next message: <A HREF="035511.html">[rabbitmq-discuss] RabbitMQ on Windows XP - Failed to create	cookie file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35548">[ date ]</a>
              <a href="thread.html#35548">[ thread ]</a>
              <a href="subject.html#35548">[ subject ]</a>
              <a href="author.html#35548">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
