<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%203%20Node%20Federation%20%3A%20Messages%20to%20be%20handled%20by%0A%20other%20nodes%20and%20ignored%20by%20local%20node&In-Reply-To=%3C5D5078F9198B04449B9D74EA9E7F3D580D11C4C5%40G1W3640.americas.hpqcorp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035399.html">
   <LINK REL="Next"  HREF="035411.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node</H1>
    <B>Umashanker, Srividhya</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%203%20Node%20Federation%20%3A%20Messages%20to%20be%20handled%20by%0A%20other%20nodes%20and%20ignored%20by%20local%20node&In-Reply-To=%3C5D5078F9198B04449B9D74EA9E7F3D580D11C4C5%40G1W3640.americas.hpqcorp.net%3E"
       TITLE="[rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node">srividhya.umashanker at hp.com
       </A><BR>
    <I>Sat Apr 19 15:42:57 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035399.html">[rabbitmq-discuss] JMS API
</A></li>
        <LI>Next message: <A HREF="035411.html">[rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35410">[ date ]</a>
              <a href="thread.html#35410">[ thread ]</a>
              <a href="subject.html#35410">[ subject ]</a>
              <a href="author.html#35410">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Problem to solve :

a.       I want federation of 3 nodes , messages published on one node to be available on all other nodes as well

b.      The local should not handle it, but all other nodes in the federation should handle it.

What did I configure


a.       Node 1:  Upstream - node2 , node3

Node 2:  Upstream -  node1, node3

Node 3:  upstream - node1, node2


b.      All three nodes have an exchange called  &quot;federated-x&quot;

c.       Federated-q   for federated-x with NO routing key

The following is what I tried.

1.       Federate only exchange  -  When I publish on node1's federated-x,   I listened  on node1, node2, node3's  federated-q.

I received the messages on all 3 queues.

2.       Federate only  queue    -  When I publish on node1's federated-x,   I listened  on node1, node2, node3's  federated-q.

a.       Only node1 local receives it.

b.      When node1 is not listening, the 1st consumer alone recives not all

3.       Federate both exchanges and queues - Did not work as expected.

Is the above the expected behavior?  Can anyone else suggest me other ways to handle it?

I can achieve mostly with exchange federation. But I want the local node to ignore the message. Any other way, than programmatically ignoring it when message comes without x-federation headers?

Please help.

-Vidhya

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140419/40cba762/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140419/40cba762/attachment.html</A>&gt;
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035399.html">[rabbitmq-discuss] JMS API
</A></li>
	<LI>Next message: <A HREF="035411.html">[rabbitmq-discuss] 3 Node Federation : Messages to be handled by other nodes and ignored by local node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35410">[ date ]</a>
              <a href="thread.html#35410">[ thread ]</a>
              <a href="subject.html#35410">[ subject ]</a>
              <a href="author.html#35410">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
