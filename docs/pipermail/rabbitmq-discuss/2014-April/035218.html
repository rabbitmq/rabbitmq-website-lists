<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] trouble starting 3.3.0 on FreeBSD 9.2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20trouble%20starting%203.3.0%20on%20FreeBSD%209.2&In-Reply-To=%3C1E2AC496-6BE3-4E02-B23C-8B33BEE6E4B3%40biglist.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035230.html">
   <LINK REL="Next"  HREF="035219.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] trouble starting 3.3.0 on FreeBSD 9.2</H1>
    <B>Dan Langille</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20trouble%20starting%203.3.0%20on%20FreeBSD%209.2&In-Reply-To=%3C1E2AC496-6BE3-4E02-B23C-8B33BEE6E4B3%40biglist.com%3E"
       TITLE="[rabbitmq-discuss] trouble starting 3.3.0 on FreeBSD 9.2">dvl at biglist.com
       </A><BR>
    <I>Thu Apr 10 17:22:47 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035230.html">[rabbitmq-discuss] Introducing the RabbitMQ Sharding Plugin
</A></li>
        <LI>Next message: <A HREF="035219.html">[rabbitmq-discuss] trouble starting 3.3.0 on FreeBSD 9.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35218">[ date ]</a>
              <a href="thread.html#35218">[ thread ]</a>
              <a href="subject.html#35218">[ subject ]</a>
              <a href="author.html#35218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am having trouble starting RabbitMQ 3.3.0 with erlang-16.b.03.1,3 on FreeBSD 9.2


I have been following <A HREF="https://www.rabbitmq.com/configure.html">https://www.rabbitmq.com/configure.html</A>

/usr/local/etc/rabbitmq/rabbitmq-env.conf contains this (sally is the host I'm working on.):

NODENAME=<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally</A>



I issue this command:

$ sudo service rabbitmq start
Warning: PID file not written; -detached was passed.




And see these log entries:

*** /var/log/rabbitmq//<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally.log</A> ***

=INFO REPORT==== 10-Apr-2014::16:13:25 ===
Starting RabbitMQ 3.3.0 on Erlang R16B03-1
Copyright (C) 2007-2013 GoPivotal, Inc.
Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>

=INFO REPORT==== 10-Apr-2014::16:13:25 ===
node           : <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally</A>
home dir       : /var/db/rabbitmq
config file(s) : /usr/local/etc/rabbitmq/rabbitmq.config
cookie hash    : bVe6vw3baQne66uSp3IOiQ==
log            : /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally.log</A>
sasl log       : /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally-sasl.log</A>
database dir   : /var/db/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally</A>

=INFO REPORT==== 10-Apr-2014::16:13:25 ===
Limiting to approx 10995 file handles (9893 sockets)

=INFO REPORT==== 10-Apr-2014::16:13:25 ===
Memory limit set to 6328MB of 15822MB total.

=INFO REPORT==== 10-Apr-2014::16:13:25 ===
Disk free limit set to 50MB

=INFO REPORT==== 10-Apr-2014::16:13:25 ===
msg_store_transient: using rabbit_msg_store_ets_index to provide index

=INFO REPORT==== 10-Apr-2014::16:13:25 ===
Error description:
   {badmatch,
       {error,
           {{{badmatch,
                 {error,
                     {&quot;/var/db/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally</A>/msg_stor...&quot;,
                      eacces}}},
             [{rabbit_msg_store,init,1,
                  [{file,&quot;src/rabbit_msg_store.erl&quot;},{line,666}]},
              {gen_server2,init_it,6,
                  [{file,&quot;src/gen_server2.erl&quot;},{line,554}]},
              {proc_lib,init_p_do_apply,3,
                  [{file,&quot;proc_lib.erl&quot;},{line,239}]}]},
            {child,undefined,msg_store_transient,
                {rabbit_msg_store,start_link,
                    [msg_store_transient,
                     &quot;/var/db/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally</A>&quot;,undefined,
                     {#Fun&lt;rabbit_variable_queue.0.94258977&gt;,ok}]},
                transient,4294967295,worker,
                [rabbit_msg_store]}}}}

Log files (may contain more information):
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally.log</A>
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally-sasl.log</A>

Stack trace:
   [{rabbit_variable_queue,start_msg_store,2,
                           [{file,&quot;src/rabbit_variable_queue.erl&quot;},
                            {line,407}]},
    {rabbit_variable_queue,start,1,
                           [{file,&quot;src/rabbit_variable_queue.erl&quot;},
                            {line,392}]},
    {rabbit_amqqueue,recover,0,[{file,&quot;src/rabbit_amqqueue.erl&quot;},{line,208}]},
    {rabbit,recover,0,[{file,&quot;src/rabbit.erl&quot;},{line,619}]},
    {rabbit,'-run_boot_step/1-lc$^1/1-1-',1,
            [{file,&quot;src/rabbit.erl&quot;},{line,505}]},
    {rabbit,run_boot_step,1,[{file,&quot;src/rabbit.erl&quot;},{line,504}]},
    {rabbit,'-start/2-lc$^0/1-0-',1,[{file,&quot;src/rabbit.erl&quot;},{line,471}]},
    {rabbit,start,2,[{file,&quot;src/rabbit.erl&quot;},{line,471}]}]





*** /var/log/rabbitmq//<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally-sasl.log</A> ***

=CRASH REPORT==== 10-Apr-2014::16:13:25 ===
  crasher:
    initial call: gen:init_it/7
    pid: &lt;0.185.0&gt;
    registered_name: []
    exception exit: {{badmatch,
                         {error,
                             {&quot;/var/db/rabbitmq/mnesia/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally</A>/msg_s...&quot;,
                              eacces}}},
                     [{rabbit_msg_store,init,1,
                          [{file,&quot;src/rabbit_msg_store.erl&quot;},{line,666}]},
                      {gen_server2,init_it,6,
                          [{file,&quot;src/gen_server2.erl&quot;},{line,554}]},
                      {proc_lib,init_p_do_apply,3,
                          [{file,&quot;proc_lib.erl&quot;},{line,239}]}]}
      in function  gen_server2:init_it/6 (src/gen_server2.erl, line 588)
    ancestors: [rabbit_sup,&lt;0.113.0&gt;]
    messages: []
    links: [&lt;0.114.0&gt;]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 1598
    stack_size: 27
    reductions: 1790
  neighbours:




*** /var/log/rabbitmq//<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally.log</A> ***

=INFO REPORT==== 10-Apr-2014::16:13:26 ===
Error description:
   {could_not_start,rabbit,
       {bad_return,
           {{rabbit,start,[normal,[]]},
            {'EXIT',
                {rabbit,failure_during_boot,
                    {badmatch,
                        {error,
                            {{{badmatch,{error,{&quot;/v...&quot;,eacces}}},
                              [{rabbit_msg_store,init,1,
                                   [{file,&quot;...&quot;},{line,666}]},
                               {gen_server2,init_it,6,
                                   [{file,&quot;...&quot;},{line,'...'}]},
                               {proc_lib,init_p_do_apply,3,
                                   [{file,'...'},{'...'}]}]},
                             {child,undefined,msg_store_transient,
                                 {rabbit_msg_store,start_link,
                                     [msg_store_transient,&quot;/var...&quot;,undefined,
                                      {#Fun&lt;rabbit_variable_queue.0.94258977&gt;,
                                       ok}]},
                                 transient,4294967295,worker,
                                 [rabbit_msg_store]}}}}}}}}}

Log files (may contain more information):
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally.log</A>
   /var/log/rabbitmq/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally-sasl.log</A>





*** /var/log/rabbitmq//<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bunny at sally-sasl.log</A> ***

=CRASH REPORT==== 10-Apr-2014::16:13:26 ===
  crasher:
    initial call: application_master:init/4
    pid: &lt;0.112.0&gt;
    registered_name: []
    exception exit: {bad_return,
                     {{rabbit,start,[normal,[]]},
                      {'EXIT',
                       {rabbit,failure_during_boot,
                        {badmatch,
                         {error,
                          {{{badmatch,{error,{'...'}}},
                            [{rabbit_msg_store,init,1,'...'},
                             {gen_server2,init_it,'...'},
                             {proc_lib,'...'}]},
                           {child,undefined,msg_store_transient,
                            {rabbit_msg_store,start_link,['...']},
                            transient,4294967295,worker,
                            [rabbit_msg_store]}}}}}}}}
      in function  application_master:init/4 (application_master.erl, line 133)
    ancestors: [&lt;0.111.0&gt;]
    messages: [{'EXIT',&lt;0.113.0&gt;,normal}]
    links: [&lt;0.111.0&gt;,&lt;0.7.0&gt;]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 2586
    stack_size: 27
    reductions: 329
  neighbours:



&#8212; 
Dan Langille
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">dvl at biglist.com</A>


-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 496 bytes
Desc: Message signed with OpenPGP using GPGMail
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140410/1c67f41e/attachment.sig">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140410/1c67f41e/attachment.sig</A>&gt;
</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035230.html">[rabbitmq-discuss] Introducing the RabbitMQ Sharding Plugin
</A></li>
	<LI>Next message: <A HREF="035219.html">[rabbitmq-discuss] trouble starting 3.3.0 on FreeBSD 9.2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35218">[ date ]</a>
              <a href="thread.html#35218">[ thread ]</a>
              <a href="subject.html#35218">[ subject ]</a>
              <a href="author.html#35218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
