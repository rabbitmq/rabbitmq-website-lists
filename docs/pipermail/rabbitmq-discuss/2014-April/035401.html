<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Causing Segmentation Fault on	FreeBSD
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Causing%20Segmentation%20Fault%20on%0A%09FreeBSD&In-Reply-To=%3C535133D2.5020105%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035342.html">
   <LINK REL="Next"  HREF="035404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Causing Segmentation Fault on	FreeBSD</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Causing%20Segmentation%20Fault%20on%0A%09FreeBSD&In-Reply-To=%3C535133D2.5020105%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Causing Segmentation Fault on	FreeBSD">matthias at rabbitmq.com
       </A><BR>
    <I>Fri Apr 18 15:16:50 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035342.html">[rabbitmq-discuss] RabbitMQ Causing Segmentation Fault on	FreeBSD
</A></li>
        <LI>Next message: <A HREF="035404.html">[rabbitmq-discuss] RabbitMQ Causing Segmentation Fault on	FreeBSD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35401">[ date ]</a>
              <a href="thread.html#35401">[ thread ]</a>
              <a href="subject.html#35401">[ subject ]</a>
              <a href="author.html#35401">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Brandon,

On 15/04/14 17:25, Brandon Munroe wrote:
&gt;<i> The message in the logs reads:
</I>&gt;<i>
</I>&gt;<i> ** Generic server rabbit_mgmt_external_stats terminating
</I>&gt;<i> ** Last message in was emit_update
</I>&gt;<i> ** When Server state == {state,707130}
</I>&gt;<i> ** Reason for termination ==
</I>&gt;<i> ** {function_clause,[{lists,nth,[1,[]],[{file,&quot;lists.erl&quot;},{line,168}]},
</I>&gt;<i>
</I>&gt;<i> {rabbit_mgmt_external_stats,'-get_used_fd/1-fun-1-',2,[]},
</I>&gt;<i>                       {lists,'-filter/2-lc$^0/1-0-',2,
</I>&gt;<i>                              [{file,&quot;lists.erl&quot;},{line,1271}]},
</I>&gt;<i>                       {lists,'-filter/2-lc$^0/1-0-',2,
</I>&gt;<i>                              [{file,&quot;lists.erl&quot;},{line,1271}]},
</I>&gt;<i>                       {rabbit_mgmt_external_stats,get_used_fd,1,[]},
</I>&gt;<i>
</I>&gt;<i> {rabbit_mgmt_external_stats,'-infos/2-lc$^0/1-0-',2,[]},
</I>&gt;<i>
</I>&gt;<i> {rabbit_mgmt_external_stats,'-infos/2-lc$^0/1-0-',2,[]},
</I>&gt;<i>                       {rabbit_mgmt_external_stats,emit_update,1,[]}]}
</I>
On BSD RabbitMQ invokes 'fstat -p &lt;pid&gt;' to determine the number of used 
file descriptors. In the above it is tripping over the parsing of the 
output. If you can, please post the output of that command just before 
rabbit dies. Meanwhile I've filed a bug to make our parsing code more 
robust.


Matthias.

</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035342.html">[rabbitmq-discuss] RabbitMQ Causing Segmentation Fault on	FreeBSD
</A></li>
	<LI>Next message: <A HREF="035404.html">[rabbitmq-discuss] RabbitMQ Causing Segmentation Fault on	FreeBSD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35401">[ date ]</a>
              <a href="thread.html#35401">[ thread ]</a>
              <a href="subject.html#35401">[ subject ]</a>
              <a href="author.html#35401">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
