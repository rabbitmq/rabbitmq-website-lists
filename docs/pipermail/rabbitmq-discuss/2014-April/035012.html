<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Apache/PHP_mod and keeping connection alive
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Apache/PHP_mod%20and%20keeping%20connection%20alive&In-Reply-To=%3CCAMcAHLXXs2Gxm9RQpNog5jQ_XYttt7PyVyx08dGs3pR6nSfThQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035010.html">
   <LINK REL="Next"  HREF="035041.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Apache/PHP_mod and keeping connection alive</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Apache/PHP_mod%20and%20keeping%20connection%20alive&In-Reply-To=%3CCAMcAHLXXs2Gxm9RQpNog5jQ_XYttt7PyVyx08dGs3pR6nSfThQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Apache/PHP_mod and keeping connection alive">videlalvaro at gmail.com
       </A><BR>
    <I>Sat Apr  5 16:51:41 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035010.html">[rabbitmq-discuss] Apache/PHP_mod and keeping connection alive
</A></li>
        <LI>Next message: <A HREF="035041.html">[rabbitmq-discuss] Trouble with SSL on my newly installed RabbitMQ	instance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35012">[ date ]</a>
              <a href="thread.html#35012">[ thread ]</a>
              <a href="subject.html#35012">[ subject ]</a>
              <a href="author.html#35012">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Note that you don't need to declare the queue/exchange every time. You
can have that setup in advance and use your connection to just send
the message.

About RabbitMQ being overloaded by this, unless you are on the several
thousands, I doubt it would be a problem. As always, it's better to
benchmark this yourself.

Regards,

Alvaro

On Sat, Apr 5, 2014 at 5:40 PM, Jonathan Bouzekri
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jonathan.bouzekri at gmail.com</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I bought the Rabbit In Action book. The authors said that you should not
</I>&gt;<i> open a connection to Rabbit every single time you want to send a message. It
</I>&gt;<i> seems logic when you know the channel mecanism however in a HTTP context
</I>&gt;<i> with a server web, I don't see how you can do it. Especially in an
</I>&gt;<i> Apache/PHP mod context. You can't share a connection between requests in PHP
</I>&gt;<i> because each request has its own process and scope and don't share anything
</I>&gt;<i> (or I don't know of any method to do it).
</I>&gt;<i>
</I>&gt;<i> So suppose you must send a message through Rabbit each time a user make a
</I>&gt;<i> GET request to your server, you will open a connection, create an exchange
</I>&gt;<i> (maybe a queue too), send a message, close the connection. It will be time
</I>&gt;<i> consumming and maybe overload rabbit. Is there another solution ? I am
</I>&gt;<i> thinking about queueing my message in a simple SQL table (because I already
</I>&gt;<i> open the connection to the server at each request) and process each line
</I>&gt;<i> with a batch which will send the message to Rabbit but It seems like
</I>&gt;<i> building another queue mecanism from scratch ....
</I>&gt;<i>
</I>&gt;<i> Thanks in advance for your suggestion.
</I>&gt;<i>
</I>&gt;<i> Best regards
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I></PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035010.html">[rabbitmq-discuss] Apache/PHP_mod and keeping connection alive
</A></li>
	<LI>Next message: <A HREF="035041.html">[rabbitmq-discuss] Trouble with SSL on my newly installed RabbitMQ	instance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35012">[ date ]</a>
              <a href="thread.html#35012">[ thread ]</a>
              <a href="subject.html#35012">[ subject ]</a>
              <a href="author.html#35012">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
