<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Issue deleting Queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Issue%20deleting%20Queue&In-Reply-To=%3CCA9678C0A14EEA4D95D3A54B6FACE91457F8B42749%40AUSP01VMBX09.collaborationhost.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035287.html">
   <LINK REL="Next"  HREF="035297.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Issue deleting Queue</H1>
    <B>Chris Nicel</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Issue%20deleting%20Queue&In-Reply-To=%3CCA9678C0A14EEA4D95D3A54B6FACE91457F8B42749%40AUSP01VMBX09.collaborationhost.net%3E"
       TITLE="[rabbitmq-discuss] Issue deleting Queue">Chris.Nicel at 15below.com
       </A><BR>
    <I>Mon Apr 14 13:11:14 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035287.html">[rabbitmq-discuss] Issue deleting Queue
</A></li>
        <LI>Next message: <A HREF="035297.html">[rabbitmq-discuss] Issue deleting Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35293">[ date ]</a>
              <a href="thread.html#35293">[ thread ]</a>
              <a href="subject.html#35293">[ subject ]</a>
              <a href="author.html#35293">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Simon,

Further to my previous email, if you create a queue in the management plugin with a + symbol in, the + seems to get stripped out of the queue name. This is feeling like a bug in the management plugin. Although still curious that I can't delete it from rabbitmqadmin either. And even more curious that rabbitmqadmin claims to have deleted the node, the management plugin shows that the queue is not mirrored briefly while it is recreated on the node it was deleted from.

Cheers

Chris

-----Original Message-----
From: Simon MacMullen [mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>]
Sent: 14 April 2014 12:22
To: Discussions about RabbitMQ
Cc: Chris Nicel
Subject: Re: [rabbitmq-discuss] Issue deleting Queue

Hi Chris. I think the &quot;+&quot; is likely to be a red herring; you certainly should be able to use &quot;+&quot; in a queue name and expect things to work.

Are there any errors in the logs referencing the name of this queue? (I should expect there probably are.)

Cheers, Simon

On 14/04/2014 11:53, Chris Nicel wrote:
&gt;<i> Hi All,
</I>&gt;<i>
</I>&gt;<i> A little back ground. We're using highly available queues in a two
</I>&gt;<i> node cluster running on Ubuntu 12.04LTS and RAbbitMQ server 3.2.2. The
</I>&gt;<i> ha policy is set to automatically mirror each queue to the other node
</I>&gt;<i> for failover. Our application code handles the failover and is aware
</I>&gt;<i> of both rabbit servers.
</I>&gt;<i>
</I>&gt;<i> I am having trouble deleting a queue in a vhost. The queue name
</I>&gt;<i> contains some special chars which may be causing the management plugin
</I>&gt;<i> some troubles when displaying the queue information. When I click on
</I>&gt;<i> the queue name in the management plugin I get the following error message:
</I>&gt;<i>
</I>&gt;<i> Not found
</I>&gt;<i>
</I>&gt;<i> The object you clicked on was not found; it may have been deleted on
</I>&gt;<i> the server.
</I>&gt;<i>
</I>&gt;<i> Queue name is:
</I>&gt;<i> *Applications_Pasngr_Events_Contract_Messages+DataSourceChange:Applica
</I>&gt;<i> tions_Pasngr_Events_Contract*
</I>&gt;<i> &lt;<A HREF="https://dev.zorrillo.net/monitoring/rabbitmq/#/queues/zorrillo.applic">https://dev.zorrillo.net/monitoring/rabbitmq/#/queues/zorrillo.applic</A>
</I>&gt;<i> ations.pasngr/Zorrillo_Applications_Pasngr_Events_Contract_Messages%2B
</I>&gt;<i> DataSourceChange%3AZorrillo_Applications_Pasngr_Events_Contract&gt;
</I>&gt;<i>
</I>&gt;<i> I suspect it is the + that is the problem. If someone can help me
</I>&gt;<i> delete it I promise not to make another queue with a + in.... Which was
</I>&gt;<i> probably a silly idea in the first place...
</I>&gt;<i>
</I>&gt;<i> I have tried rabbitmqctl but that doesn't have any delete queues
</I>&gt;<i> options. I have also tried rabbitmqadmin python script (from
</I>&gt;<i> <A HREF="http://brokerurl:15672/cli">http://brokerurl:15672/cli</A>) with the command line (both with and
</I>&gt;<i> without the quotes):
</I>&gt;<i>
</I>&gt;<i> python rabbitmqadmin -V applications.pasngr delete queue
</I>&gt;<i> name=&quot;Applications_Pasngr_Events_Contract_Messages+DataSourceChange:
</I>&gt;<i> Applications_Pasngr_Events_Contract&quot;
</I>&gt;<i>
</I>&gt;<i> The command line returns saying that the queue has been deleted but
</I>&gt;<i> looking at the management plugin it appears to be only deleted from
</I>&gt;<i> one node. (management plugin shows a red +1 indicating it's not mirrored).
</I>&gt;<i> The HA policy appears to immediately recreate the deleted queue from
</I>&gt;<i> the other node. I have tried deleting the queue from both nodes in the
</I>&gt;<i> same way but I can't seem to do it synchronously enough to make it
</I>&gt;<i> actually disappear.
</I>&gt;<i>
</I>&gt;<i> Any help would be greatly appreciated.
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i>
</I>&gt;<i> *Chris Nicel*
</I>&gt;<i>
</I>&gt;<i> Senior Systems Engineer
</I>&gt;<i>
</I>&gt;<i> 15below ltd : 15below Australia pty. ltd.
</I>&gt;<i>
</I>&gt;<i> *t:***+44 1273 764230
</I>&gt;<i>
</I>&gt;<i> *e*: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">chris.nicel at 15below.com</A> &lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">chris.nicel at 15below.com</A>&gt;
</I>&gt;<i> *w:*15below.com &lt;<A HREF="http://www.15below.com/">http://www.15below.com/</A>&gt;
</I>&gt;<i>
</I>&gt;<i> *@15below_travel &lt;<A HREF="https://twitter.com/#!/15below_travel">https://twitter.com/#!/15below_travel</A>&gt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> 15below Limited: Company registered in England and Wales No 3945289
</I>&gt;<i> Registered Office: Lyndean House, 43-46 Queens Road, Brighton BN1 3XB,
</I>&gt;<i> United Kingdom
</I>&gt;<i>
</I>&gt;<i> 15below Australia Pty Limited: ABN 25 132 716 379 Level 21, Tower 2
</I>&gt;<i> Darling Park, 201 Sussex Street, Sydney, NSW 2000, Australia
</I>&gt;<i>
</I>&gt;<i> Please think about the environment before printing this email.
</I>&gt;<i>
</I>&gt;<i> **********************************************************************
</I>&gt;<i> ** This email and any attachments may be confidential and/or legally
</I>&gt;<i> privileged and are solely for the use of the intended recipient. If
</I>&gt;<i> you have received this email in error please contact the sender. Any
</I>&gt;<i> views or opinions expressed within this e-mail are solely those of the
</I>&gt;<i> sender, and do not necessarily represent those of 15below unless
</I>&gt;<i> otherwise specifically stated. Although 15below has taken every
</I>&gt;<i> reasonable precaution to ensure that any attachment to this e-mail has
</I>&gt;<i> been checked for viruses, it is strongly recommended that you carry
</I>&gt;<i> out your own virus check before opening any attachment, as we cannot
</I>&gt;<i> accept liability for any damage sustained as a result of software virus infection.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>

 15below Limited: Company registered in England and Wales No 3945289
Registered Office: Lyndean House, 43-46 Queens Road, Brighton BN1 3XB, United Kingdom

15below Australia Pty Limited: ABN 25 132 716 379
Level 21, Tower 2 Darling Park, 201 Sussex Street, Sydney, NSW 2000, Australia

Please think about the environment before printing this email.

************************************************************************
This email and any attachments may be confidential and/or legally privileged and are solely for the use of the intended recipient.  If you have received this email in error please contact the sender.  Any views or opinions expressed within this e-mail are solely those of the sender, and do not necessarily represent those of 15below unless otherwise specifically stated.  Although 15below has taken every reasonable precaution to ensure that any attachment to this e-mail has been checked for viruses, it is strongly recommended that you carry out your own virus check before opening any attachment, as we cannot accept liability for any damage sustained as a result of software virus infection.
</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035287.html">[rabbitmq-discuss] Issue deleting Queue
</A></li>
	<LI>Next message: <A HREF="035297.html">[rabbitmq-discuss] Issue deleting Queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35293">[ date ]</a>
              <a href="thread.html#35293">[ thread ]</a>
              <a href="subject.html#35293">[ subject ]</a>
              <a href="author.html#35293">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
