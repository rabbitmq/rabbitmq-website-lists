<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Zero message rates in management interface
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Zero%20message%20rates%20in%20management%20interface&In-Reply-To=%3C450825394.115260544.1398177255446.JavaMail.root%40saucontech.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035440.html">
   <LINK REL="Next"  HREF="035465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Zero message rates in management interface</H1>
    <B>Joseph Marlin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Zero%20message%20rates%20in%20management%20interface&In-Reply-To=%3C450825394.115260544.1398177255446.JavaMail.root%40saucontech.com%3E"
       TITLE="[rabbitmq-discuss] Zero message rates in management interface">jmarlin at saucontech.com
       </A><BR>
    <I>Tue Apr 22 15:34:15 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035440.html">[rabbitmq-discuss] ***UNCHECKED*** cannot start RabbitMQ service on Windows Server 2012 R2
</A></li>
        <LI>Next message: <A HREF="035465.html">[rabbitmq-discuss] Zero message rates in management interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35444">[ date ]</a>
              <a href="thread.html#35444">[ thread ]</a>
              <a href="subject.html#35444">[ subject ]</a>
              <a href="author.html#35444">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>All of our RabbitMQ 3.3.0 queues are incorrectly reporting message rates or number of queued messages for the previous ~15 seconds in the web management interface.

This can be seen by scrutinizing the following two images. In the first image, <A HREF="http://i.imgur.com/LiFFyTw.png">http://i.imgur.com/LiFFyTw.png</A> , at 10:21:30, originally a zero message rate is reported, and the the queue size reported is incorrectly still at the same value from fifteen seconds ago. 

In the second image, <A HREF="http://i.imgur.com/9hxhKd6.png">http://i.imgur.com/9hxhKd6.png</A> , you can see that the management interface now displays the correct data for the previous image's time, 10:21:30, and furthermore, the problem is continuing to occur at 10:22:00. It continues on this way, never showing the data for the previous few seconds, but eventually, after enough time has passed, it will display it.

Problem is the same across browsers.

Any ideas? Thanks much!





Status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at queue</A> ...
[{pid,995},
 {running_applications,
     [{rabbitmq_management_visualiser,&quot;RabbitMQ Visualiser&quot;,&quot;3.3.0&quot;},
      {rabbitmq_management,&quot;RabbitMQ Management Console&quot;,&quot;3.3.0&quot;},
      {rabbitmq_management_agent,&quot;RabbitMQ Management Agent&quot;,&quot;3.3.0&quot;},
      {rabbit,&quot;RabbitMQ&quot;,&quot;3.3.0&quot;},
      {os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.7&quot;},
      {rabbitmq_web_dispatch,&quot;RabbitMQ Web Dispatcher&quot;,&quot;3.3.0&quot;},
      {webmachine,&quot;webmachine&quot;,&quot;1.10.3-rmq3.3.0-gite9359c7&quot;},
      {mochiweb,&quot;MochiMedia Web Server&quot;,&quot;2.7.0-rmq3.3.0-git680dba8&quot;},
      {xmerl,&quot;XML parser&quot;,&quot;1.2.10&quot;},
      {cowboy,&quot;Small, fast, modular HTTP server.&quot;,&quot;0.5.0-rmq3.3.0-git4b93c2d&quot;},
      {sockjs,&quot;SockJS&quot;,&quot;0.3.4-rmq3.3.0-git3132eb9&quot;},
      {inets,&quot;INETS  CXC 138 49&quot;,&quot;5.7.1&quot;},
      {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.5&quot;},
      {amqp_client,&quot;RabbitMQ AMQP Client&quot;,&quot;3.3.0&quot;},
      {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.1.10&quot;},
      {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.17.5&quot;},
      {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.14.5&quot;}]},
 {os,{unix,linux}},
 {erlang_version,
     &quot;Erlang R14B04 (erts-5.8.5) [source] [64-bit] [smp:2:2] [rq:2] [async-threads:30] [kernel-poll:true]\n&quot;},
 {memory,
     [{total,66382512},
      {connection_procs,12156344},
      {queue_procs,5212592},
      {plugins,1461448},
      {other_proc,10577128},
      {mnesia,227464},
      {mgmt_db,7024816},
      {msg_index,547848},
      {other_ets,3443176},
      {binary,4247976},
      {code,17811775},
      {atom,1620513},
      {other_system,2051432}]},
 {alarms,[]},
 {listeners,[{clustering,25672,&quot;::&quot;},{amqp,5672,&quot;::&quot;}]},
 {vm_memory_high_watermark,0.4},
 {vm_memory_limit,840315699},
 {disk_free_limit,50000000},
 {disk_free,27659542528},
 {file_descriptors,
     [{total_limit,924},
      {total_used,28},
      {sockets_limit,829},
      {sockets_used,16}]},
 {processes,[{limit,1048576},{used,1641}]},
 {run_queue,0},
 {uptime,43659}]
...done.




</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035440.html">[rabbitmq-discuss] ***UNCHECKED*** cannot start RabbitMQ service on Windows Server 2012 R2
</A></li>
	<LI>Next message: <A HREF="035465.html">[rabbitmq-discuss] Zero message rates in management interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35444">[ date ]</a>
              <a href="thread.html#35444">[ thread ]</a>
              <a href="subject.html#35444">[ subject ]</a>
              <a href="author.html#35444">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
