<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit startup command is hanging
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20startup%20command%20is%20hanging&In-Reply-To=%3CCAD6m6fFyvmyPDRPowssnMwywaJS1YUXHA73f8KStdOjbStv1tw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="035274.html">
   <LINK REL="Next"  HREF="035232.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit startup command is hanging</H1>
    <B>Jason McIntosh</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20startup%20command%20is%20hanging&In-Reply-To=%3CCAD6m6fFyvmyPDRPowssnMwywaJS1YUXHA73f8KStdOjbStv1tw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Rabbit startup command is hanging">mcintoshj at gmail.com
       </A><BR>
    <I>Thu Apr 10 20:55:32 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="035274.html">[rabbitmq-discuss] frame_too_large error while connecting to
</A></li>
        <LI>Next message: <A HREF="035232.html">[rabbitmq-discuss] Rabbit startup command is hanging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35227">[ date ]</a>
              <a href="thread.html#35227">[ thread ]</a>
              <a href="subject.html#35227">[ subject ]</a>
              <a href="author.html#35227">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Not sure what's going on here.  Just ugpraded my cluster from 3.2.3 to
3.2.4 (including a restart of the machine).  On startup, two of my initial
nodes started fine, but when the third node in the cluster started, the
&quot;/etc/init.d/rabbitmq-server start&quot; just sits at &quot;Starting rabbitmq-server:
&quot; without ever finishing.  Doing a rabbitmqctl status shows:
Status of node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">cluster at rabbitmqm11p</A> ...
[{pid,62505},
 {running_applications,[{os_mon,&quot;CPO  CXC 138 46&quot;,&quot;2.2.14&quot;},
                        {inets,&quot;INETS  CXC 138 49&quot;,&quot;5.9.8&quot;},
                        {mnesia,&quot;MNESIA  CXC 138 12&quot;,&quot;4.11&quot;},
                        {amqp_client,&quot;RabbitMQ AMQP Client&quot;,&quot;3.2.4&quot;},
                        {xmerl,&quot;XML parser&quot;,&quot;1.3.6&quot;},
                        {eldap,&quot;Ldap api&quot;,&quot;1.0.2&quot;},
                        {sasl,&quot;SASL  CXC 138 11&quot;,&quot;2.3.4&quot;},
                        {stdlib,&quot;ERTS  CXC 138 10&quot;,&quot;1.19.4&quot;},
                        {kernel,&quot;ERTS  CXC 138 10&quot;,&quot;2.16.4&quot;}]},
 {os,{unix,linux}},
 {erlang_version,&quot;Erlang R16B03-1 (erts-5.10.4) [source] [64-bit]
[smp:24:24] [async-threads:30] [hipe] [kernel-poll:true]\n&quot;},
 {memory,[{total,48504352},
          {connection_procs,2808},
          {queue_procs,0},
          {plugins,0},
          {other_proc,16290632},
          {mnesia,1783536},
          {mgmt_db,0},
          {msg_index,0},
          {other_ets,1120896},
          {binary,725448},
          {code,19691642},
          {atom,703377},
          {other_system,8186013}]},
 {file_descriptors,[{total_limit,12188},
                    {total_used,0},
                    {sockets_limit,10967},
                    {sockets_used,0}]},
 {processes,[{limit,1048576},{used,117}]},
 {run_queue,0},
 {uptime,83}]
...done.


In the web management interface, I see this:
Node statistics not available
Memory details

 Connections 2.7kB  Queues 0B  Plugins 0B  Other process memory 16MB
Mnesia 1.7MB  Message store index 0B  Management database 0B  Other ETS
tables 1.1MB   Binaries 708kB  Code 19MB  Atoms 687kB  Other system 7.8MB


SO rabbit appears to have sort of started, but certain things are not
started (e.g. plugins).  Plugins list is:
[e] amqp_client                       3.2.4
[ ] cowboy                            0.5.0-rmq3.2.4-git4b93c2d
[ ] eldap                             3.2.4-gite309de4
[e] mochiweb                          2.7.0-rmq3.2.4-git680dba8
[ ] rabbitmq_amqp1_0                  3.2.4
[E] rabbitmq_auth_backend_ldap        3.2.4
[ ] rabbitmq_auth_mechanism_ssl       3.2.4
[E] rabbitmq_consistent_hash_exchange 3.2.4
[E] rabbitmq_federation               3.2.4
[E] rabbitmq_federation_management    3.2.4
[ ] rabbitmq_jsonrpc                  3.2.4
[ ] rabbitmq_jsonrpc_channel          3.2.4
[ ] rabbitmq_jsonrpc_channel_examples 3.2.4
[E] rabbitmq_management               3.2.4
[E] rabbitmq_management_agent         3.2.4
[E] rabbitmq_management_visualiser    3.2.4
[ ] rabbitmq_mqtt                     3.2.4
[E] rabbitmq_shovel                   3.2.4
[E] rabbitmq_shovel_management        3.2.4
[ ] rabbitmq_stomp                    3.2.4
[ ] rabbitmq_tracing                  3.2.4
[e] rabbitmq_web_dispatch             3.2.4
[ ] rabbitmq_web_stomp                3.2.4
[ ] rabbitmq_web_stomp_examples       3.2.4
[ ] rfc4627_jsonrpc                   3.2.4-git5e67120
[ ] sockjs                            0.3.4-rmq3.2.4-git3132eb9
[e] webmachine                        1.10.3-rmq3.2.4-gite9359c7


Any suggestions on next steps on debugging this?  Or what I can do to get
this back up and in a &quot;healthy&quot; state?

Thanks!
Jason




-- 
Jason McIntosh
<A HREF="https://github.com/jasonmcintosh/">https://github.com/jasonmcintosh/</A>
573-424-7612
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140410/99cfa69b/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140410/99cfa69b/attachment.html</A>&gt;
</PRE>





































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="035274.html">[rabbitmq-discuss] frame_too_large error while connecting to
</A></li>
	<LI>Next message: <A HREF="035232.html">[rabbitmq-discuss] Rabbit startup command is hanging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35227">[ date ]</a>
              <a href="thread.html#35227">[ thread ]</a>
              <a href="subject.html#35227">[ subject ]</a>
              <a href="author.html#35227">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
