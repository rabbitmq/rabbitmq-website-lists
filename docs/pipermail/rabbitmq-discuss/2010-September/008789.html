<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq-stomp : is it working with 2.0.0 ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-stomp%20%3A%20is%20it%20working%20with%202.0.0%20%3F&In-Reply-To=%3C4C80C78B.1040304%40melix.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008787.html">
   <LINK REL="Next"  HREF="008790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq-stomp : is it working with 2.0.0 ?</H1>
    <B>J&#233;r&#233;my Lal</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-stomp%20%3A%20is%20it%20working%20with%202.0.0%20%3F&In-Reply-To=%3C4C80C78B.1040304%40melix.org%3E"
       TITLE="[rabbitmq-discuss] rabbitmq-stomp : is it working with 2.0.0 ?">kapouer at melix.org
       </A><BR>
    <I>Fri Sep  3 11:01:47 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008787.html">[rabbitmq-discuss] rabbitmq-stomp : is it working with 2.0.0 ?
</A></li>
        <LI>Next message: <A HREF="008790.html">[rabbitmq-discuss] rabbitmq-stomp : is it working with 2.0.0 ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8789">[ date ]</a>
              <a href="thread.html#8789">[ thread ]</a>
              <a href="subject.html#8789">[ subject ]</a>
              <a href="author.html#8789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 03/09/2010 11:53, Emile Joubert wrote:
&gt;<i> 
</I>&gt;<i> Hi J&#233;r&#233;my,
</I>&gt;<i> 
</I>&gt;<i> On 03/09/10 10:46, J&#233;r&#233;my Lal wrote:
</I>&gt;&gt;<i> On 03/09/2010 11:40, Emile Joubert wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Hi J&#233;r&#233;my,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On 03/09/10 10:24, J&#233;r&#233;my Lal wrote:
</I>&gt;&gt;&gt;&gt;<i> Apparently it's not...
</I>&gt;&gt;&gt;&gt;<i> i tried building with umbrella, and when rabbitmq-server loads,
</I>&gt;&gt;&gt;&gt;<i> it crashes loading the plugin.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> I guess it's not yet compatible ?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> J&#233;r&#233;my.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I would suggest setting both rabbitmq-server and rabbitmq-erlang-client
</I>&gt;&gt;&gt;<i> to rabbitmq_v2_0_0 (run &quot;hg up rabbitmq_v2_0_0&quot;) 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> is it rabbitmq-erlang-client a build dependency ? because it builds ok.
</I>&gt;&gt;<i> if it's only a runtime dependency it might be missing, indeed, i'll check it out.
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> after doing a clean
</I>&gt;&gt;&gt;<i> checkout if you want to build plugins that rely on the erlang client at
</I>&gt;&gt;&gt;<i> the moment. What error do you get?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Activating RabbitMQ plugins ...{&quot;init terminating in do_boot&quot;,{{badmatch,{error,eacces}},[{rabbit_plugin_activator,delete_dir,1},{rabbit_plugin_activator,'-delete_dir/1-lc$^0/1-0-',2},{rabbit_plugin_activator,delete_dir,1},{rabbit_plugin_activator,'-delete_dir/1-lc$^0/1-0-',2},{rabbit_plugin_activator,delete_dir,1},{rabbit_plugin_activator,unpack_ez_plugins,2},{rabbit_plugin_activator,start,0},{init,start_it,1}]}}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Crash dump was written to: erl_crash.dump
</I>&gt;&gt;<i> init terminating in do_boot ()
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i> J&#233;r&#233;my.
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> I would suggest checking permissions in the
</I>&gt;<i> $RABBITMQ_MNESIA_BASE/plugins-scratch folder. It looks like the failure
</I>&gt;<i> occured in the rabbit_plugin_activator:delete_dir().
</I>
Well, there was some permission trouble indeed.
I purged rabbitmq and reinstalled it, and plugin-scratch files became owned
by rabbitmq instead of root.
Now it works.

Thank you,
J&#233;r&#233;my.

</PRE>




























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008787.html">[rabbitmq-discuss] rabbitmq-stomp : is it working with 2.0.0 ?
</A></li>
	<LI>Next message: <A HREF="008790.html">[rabbitmq-discuss] rabbitmq-stomp : is it working with 2.0.0 ?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8789">[ date ]</a>
              <a href="thread.html#8789">[ thread ]</a>
              <a href="subject.html#8789">[ subject ]</a>
              <a href="author.html#8789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
