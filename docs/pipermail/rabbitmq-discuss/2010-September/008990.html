<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] flow control issues
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20flow%20control%20issues&In-Reply-To=%3C20100918223016.GB16939%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008973.html">
   <LINK REL="Next"  HREF="009079.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] flow control issues</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20flow%20control%20issues&In-Reply-To=%3C20100918223016.GB16939%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] flow control issues">matthew at rabbitmq.com
       </A><BR>
    <I>Sat Sep 18 23:30:16 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008973.html">[rabbitmq-discuss] flow control issues
</A></li>
        <LI>Next message: <A HREF="009079.html">[rabbitmq-discuss] flow control issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8990">[ date ]</a>
              <a href="thread.html#8990">[ thread ]</a>
              <a href="subject.html#8990">[ subject ]</a>
              <a href="author.html#8990">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Sep 17, 2010 at 04:32:09PM +0200, <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">romary.kremer at gmail.com</A> wrote:
&gt;<i> Can you give us hints about how the production was indeed paused,
</I>&gt;<i> other by stopping reading from the socket ?
</I>
The client itself understands the channel.flow messages that come from
the broker. Thus the client then itself blocks any publishes that the
application does, waiting for permission from the broker to resume
publishing.

&gt;<i> Does the broker shut the connection or only the channel if a
</I>&gt;<i> content-bearing message is sent after the flow.control ?
</I>
I can't remember. I would think it should be channel only on the grounds
that other channels that may be consuming messages have done nothing
wrong. However, for that to happen is basically a client error: the
client itself should understand the channel flow messages and make
sending content-bearing messages a blocking operation at that point.

&gt;<i> What is the meaning of status &quot;Blocked&quot; and &quot;Blocking&quot; that we can
</I>&gt;<i> gather by listing connections ! I often noticed that
</I>&gt;<i> the connection of producer in status &quot;blocked&quot; lead the connection
</I>&gt;<i> of the consumer to be &quot;Blocking&quot;.
</I>
That will mean that channel.flow{active=false} has been sent to the
client, and then that channel.flow_ok has been received back by the
server.

&gt;<i> Sharing the same connection for producer and consumer, by the use of
</I>&gt;<i> Channel may not be safe, that is very sad !
</I>
Well, it's fine provided you have a client that works properly and you
understand that at times, publishing a content bearing message may be a
blocking operation, and code accordingly.

Matthew
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008973.html">[rabbitmq-discuss] flow control issues
</A></li>
	<LI>Next message: <A HREF="009079.html">[rabbitmq-discuss] flow control issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8990">[ date ]</a>
              <a href="thread.html#8990">[ thread ]</a>
              <a href="subject.html#8990">[ subject ]</a>
              <a href="author.html#8990">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
