<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Config File Options
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Config%20File%20Options&In-Reply-To=%3C20100906203106.GB8521%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008820.html">
   <LINK REL="Next"  HREF="008804.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Config File Options</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Config%20File%20Options&In-Reply-To=%3C20100906203106.GB8521%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] Config File Options">matthew at rabbitmq.com
       </A><BR>
    <I>Mon Sep  6 21:31:06 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008820.html">[rabbitmq-discuss] Config File Options
</A></li>
        <LI>Next message: <A HREF="008804.html">[rabbitmq-discuss] new blog post: Using RabbitMQ,	Spring AMQP and Spring Integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8821">[ date ]</a>
              <a href="thread.html#8821">[ thread ]</a>
              <a href="subject.html#8821">[ subject ]</a>
              <a href="author.html#8821">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Sep 06, 2010 at 02:24:50PM -0600, Jason J. W. Williams wrote:
&gt;<i> That helps a lot. Is msg_store_file_size_limit the maximum size of the
</I>&gt;<i> persistent store or the max size of the journal?
</I>
Really this needs a proper blog post or some configuration guide to
explain but the following will suffice for the time being.

There is one msg_store per node. It creates files to hold messages from
all the queues. The files it creates are limited in size, and GC occurs
when conditions are met to avoid large amounts of wasted space in those
files when messages are removed. The msg_store_file_size_limit controls
the size of those files.

Each queue needs to (sometimes) record on disk the order and status of
messages in the queue. This is strictly meta information. For various
reasons relating to the ways in which queues are typically used, this
information is first written to a journal (per queue) before being
scattered (effectively, sorted) out to other files (again, all per
queue). The queue_index_max_journal_entries controls the number of
entries in the journal before it gets flushed. There no size control
here, but the maximum size is very low because these are simply meta
datums about each message and its state (has it been published, has it
been delivered, has it been acknowledged).

Matthew
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008820.html">[rabbitmq-discuss] Config File Options
</A></li>
	<LI>Next message: <A HREF="008804.html">[rabbitmq-discuss] new blog post: Using RabbitMQ,	Spring AMQP and Spring Integration
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8821">[ date ]</a>
              <a href="thread.html#8821">[ thread ]</a>
              <a href="subject.html#8821">[ subject ]</a>
              <a href="author.html#8821">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
