<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] pika library: pass channel to channel	state-change callback?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20pika%20library%3A%20pass%20channel%20to%20channel%0A%09state-change%20callback%3F&In-Reply-To=%3CAANLkTinMYVYMSKx44VM6ZFwwG%2BkzV9mP-M-LQ3ACh9KW%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008740.html">
   <LINK REL="Next"  HREF="008742.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] pika library: pass channel to channel	state-change callback?</H1>
    <B>Sigurd H&#248;gsbro</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20pika%20library%3A%20pass%20channel%20to%20channel%0A%09state-change%20callback%3F&In-Reply-To=%3CAANLkTinMYVYMSKx44VM6ZFwwG%2BkzV9mP-M-LQ3ACh9KW%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] pika library: pass channel to channel	state-change callback?">sigurd.hogsbro at museeka.com
       </A><BR>
    <I>Wed Sep  1 17:08:38 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008740.html">[rabbitmq-discuss] Cannot start RabbitMQ 2.0.0 server on Windows 7	Ultimate 64 bit
</A></li>
        <LI>Next message: <A HREF="008742.html">[rabbitmq-discuss] pika library: pass channel to channel state-change callback?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8741">[ date ]</a>
              <a href="thread.html#8741">[ thread ]</a>
              <a href="subject.html#8741">[ subject ]</a>
              <a href="author.html#8741">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry if discussion on pika is out of scope of this mailing-list, but I
thought it preferential to mailing Tony directly.

I'm use pika's asyncore programming model, and find it an excellent model
for dealing with connection &amp; channel setup/teardown.

I have an issue on the channel state callback, which currently passes the
ChannelHandler() as a parameter to the callback. As I understand it, the
ChannelHandler() is not an object intended for client app usage, and does
not that I can see provide any methods useful to the client app.

As it works now, I cannot create a function to allocate a channel (using
pika.AsyncoreConnection.channel()) and setup the callbacks (using
channel.addStateChangeHandler()), as the channel state callback is called
before I can store the reference to the returned Channel() object in my
containing object.

By replacing the ChannelHandler() object with the Channel() reference
instead then the obvious channel operations (declaring of queues etc) could
use this parameter and avoid the catch-22 issue.

If there is general agreement to this change I'm happy to commit the
required changes to Github.

Cheers,

Sigurd
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100901/00d18714/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100901/00d18714/attachment.htm</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008740.html">[rabbitmq-discuss] Cannot start RabbitMQ 2.0.0 server on Windows 7	Ultimate 64 bit
</A></li>
	<LI>Next message: <A HREF="008742.html">[rabbitmq-discuss] pika library: pass channel to channel state-change callback?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8741">[ date ]</a>
              <a href="thread.html#8741">[ thread ]</a>
              <a href="subject.html#8741">[ subject ]</a>
              <a href="author.html#8741">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
