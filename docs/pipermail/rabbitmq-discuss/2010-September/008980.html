<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbitmq-c Help
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq-c%20Help&In-Reply-To=%3CC8B91D32.FB42%25pdezwart%40rubiconproject.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008999.html">
   <LINK REL="Next"  HREF="009026.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbitmq-c Help</H1>
    <B>Pieter de Zwart</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbitmq-c%20Help&In-Reply-To=%3CC8B91D32.FB42%25pdezwart%40rubiconproject.com%3E"
       TITLE="[rabbitmq-discuss] Rabbitmq-c Help">pdezwart at rubiconproject.com
       </A><BR>
    <I>Fri Sep 17 21:27:14 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008999.html">[rabbitmq-discuss] Plug-in out of date warnings when starting the RabbitMQ server on Windows
</A></li>
        <LI>Next message: <A HREF="009026.html">[rabbitmq-discuss] Rabbitmq-c Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8980">[ date ]</a>
              <a href="thread.html#8980">[ thread ]</a>
              <a href="subject.html#8980">[ subject ]</a>
              <a href="author.html#8980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey guys,

I need some help with rabbitmq-c. I inherited the PHP extension code base,
so I am a little lost. I pulled in RabbitMQ 2.1, along with the tip of
rabbitmq-c and rabbitmq-codegen. Everything compiles just fine, but when I
try to instantiate a new connection in the PHP extension, I get:

localhost:~/src/pecl/amqp/trunk$ php -f tests/test.php
Expected 0x000A000A method frame on channel 0, got frame on channel 19793

This is the stacktrace:
#0  0x009f4416 in __kernel_vsyscall ()
#1  0x00248d71 in raise (sig=6) at
../nptl/sysdeps/unix/sysv/linux/raise.c:64
#2  0x0024a64a in abort () at abort.c:92
#3  0x00137640 in amqp_simple_wait_method (state=0xa1604c0,
expected_channel=0, expected_method=655370, output=0xbfe31b20) at
amqp_socket.c:243
#4  0x001379fc in amqp_login_inner (state=0xa1604c0, vhost=0xa12d70c &quot;/&quot;,
channel_max=0, frame_max=131072, heartbeat=0,
sasl_method=AMQP_SASL_METHOD_PLAIN) at amqp_socket.c:373
#5  amqp_login (state=0xa1604c0, vhost=0xa12d70c &quot;/&quot;, channel_max=0,
frame_max=131072, heartbeat=0, sasl_method=AMQP_SASL_METHOD_PLAIN) at
amqp_socket.c:463
#6  0x00629b9f in zim_amqp_class___construct (ht=0, return_value=0xa12d0f0,
return_value_ptr=0x0, this_ptr=0xa12d10c, return_value_used=0) at
/home/pdezwart/src/pecl/amqp/trunk/amqp.c:413
#7  0x0825fd39 in zend_do_fcall_common_helper_SPEC (execute_data=&lt;value
optimized out&gt;) at /usr/src/debug/php-5.3.3/Zend/zend_vm_execute.h:316
#8  0x0823676e in execute (op_array=0xa12d580) at
/usr/src/debug/php-5.3.3/Zend/zend_vm_execute.h:107
#9  0x0820ef36 in zend_execute_scripts (type=8, retval=0x0, file_count=3) at
/usr/src/debug/php-5.3.3/Zend/zend.c:1194
#10 0x081b5ac6 in php_execute_script (primary_file=0xbfe34274) at
/usr/src/debug/php-5.3.3/main/main.c:2260
#11 0x0829f358 in main (argc=3, argv=0xbfe343b4) at
/usr/src/debug/php-5.3.3/sapi/cli/php_cli.c:1192

These mean nothing to me... Help? =)

Pieter
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100917/897b75cc/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100917/897b75cc/attachment-0001.htm</A>&gt;
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008999.html">[rabbitmq-discuss] Plug-in out of date warnings when starting the RabbitMQ server on Windows
</A></li>
	<LI>Next message: <A HREF="009026.html">[rabbitmq-discuss] Rabbitmq-c Help
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8980">[ date ]</a>
              <a href="thread.html#8980">[ thread ]</a>
              <a href="subject.html#8980">[ subject ]</a>
              <a href="author.html#8980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
