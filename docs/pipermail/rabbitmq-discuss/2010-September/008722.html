<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Open-Ok no longer populating known_hosts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Open-Ok%20no%20longer%20populating%20known_hosts&In-Reply-To=%3CAANLkTi%3DmTCA-nnWct_mgzZjhELuRrM-GDtQ2KOj-OAFg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008716.html">
   <LINK REL="Next"  HREF="008717.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Open-Ok no longer populating known_hosts</H1>
    <B>Sigurd H&#248;gsbro</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Open-Ok%20no%20longer%20populating%20known_hosts&In-Reply-To=%3CAANLkTi%3DmTCA-nnWct_mgzZjhELuRrM-GDtQ2KOj-OAFg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Open-Ok no longer populating known_hosts">sigurd.hogsbro at museeka.com
       </A><BR>
    <I>Wed Sep  1 13:22:39 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008716.html">[rabbitmq-discuss] Open-Ok no longer populating known_hosts
</A></li>
        <LI>Next message: <A HREF="008717.html">[rabbitmq-discuss] RabbitMQ Message Server Connection.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8722">[ date ]</a>
              <a href="thread.html#8722">[ thread ]</a>
              <a href="subject.html#8722">[ subject ]</a>
              <a href="author.html#8722">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matthias,

We use the hostname for follow-up diagnosis after identifying application
failures. In such scenarios it is useful to know which of the RabbitMQ
servers behind the (transparent) load-balancer to investigate.

Fair point on the information leakage, but I'm not sure why you're concerned
about the server hostname being exposed as it used to be exposed until
recently. We could also use a name/token specified in the server
configuration file if you prefer not to expose DNS names.

Otherwise we'll have to figure a way get this information from the
load-balancers.

Sigurd

2010/9/1 Matthias Radestock &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;

&gt;<i> Sigurd,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 01/09/10 11:21, Michael Bridgen wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> A follow-on thought: could you add a key with the server hostname to
</I>&gt;&gt;&gt;<i> the server_properties dict sent back from the server on
</I>&gt;&gt;&gt;<i> connection.start? That would solve our diagnostics needs (and maybe
</I>&gt;&gt;&gt;<i> Aaron's too) without breaking your conformance to the spec.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The server properties is more or less a free-form map, so yes, it's
</I>&gt;&gt;<i> certainly possible a hostname (or more likely, a node name including the
</I>&gt;&gt;<i> hostname) could go there.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> There may be concerns around leaking infrastructural information that
</I>&gt;&gt;<i> way, but probably not strong ones.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I am reluctant to add ad-hoc properties without a sound technical
</I>&gt;<i> rationale. And yes the information leakage *is* a concern.
</I>&gt;<i>
</I>&gt;<i> Can you explain what you are trying to do?
</I>&gt;<i>
</I>&gt;<i> connection.redirect and the known_hosts field got removed because they a)
</I>&gt;<i> duplicate what load balancers do much better, and b) don't work in many
</I>&gt;<i> network setups since they rely on the clients to be able to resolve servers
</I>&gt;<i> by their internal names.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100901/c560df7d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100901/c560df7d/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008716.html">[rabbitmq-discuss] Open-Ok no longer populating known_hosts
</A></li>
	<LI>Next message: <A HREF="008717.html">[rabbitmq-discuss] RabbitMQ Message Server Connection.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8722">[ date ]</a>
              <a href="thread.html#8722">[ thread ]</a>
              <a href="subject.html#8722">[ subject ]</a>
              <a href="author.html#8722">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
