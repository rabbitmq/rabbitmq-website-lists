<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Generally known configuration for open file descriptor limits
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Generally%20known%20configuration%20for%20open%20file%0A%20descriptor%20limits&In-Reply-To=%3C20100921145736.GE21903%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009023.html">
   <LINK REL="Next"  HREF="009027.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Generally known configuration for open file descriptor limits</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Generally%20known%20configuration%20for%20open%20file%0A%20descriptor%20limits&In-Reply-To=%3C20100921145736.GE21903%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] Generally known configuration for open file descriptor limits">matthew at rabbitmq.com
       </A><BR>
    <I>Tue Sep 21 15:57:36 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009023.html">[rabbitmq-discuss] Generally known configuration for open file descriptor limits
</A></li>
        <LI>Next message: <A HREF="009027.html">[rabbitmq-discuss] Generally known configuration for open file	descriptor limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9024">[ date ]</a>
              <a href="thread.html#9024">[ thread ]</a>
              <a href="subject.html#9024">[ subject ]</a>
              <a href="author.html#9024">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Sep 21, 2010 at 03:50:37PM +0100, Marek Majkowski wrote:
&gt;<i> You definitely need more file descriptors than number of connections.
</I>&gt;<i> 
</I>&gt;<i> As a rule of thumb I'd suggest:
</I>&gt;<i>  - 1 file descriptor for every connection
</I>&gt;<i>  - 3+ file descriptors for every queue that might be written to disk
</I>
Err, that's actually a max of 1 per queue.

And that is a rule of thumb - there is no problem with running a million
queues off 1000 fds - rabbit will just cope as necessary, but you might
find performance is improved with additional fds.

If your ulimit is X, then the number of connections you'll be allowed to
open is (0.9*(X - 100))-2. Thus that should give you a minimum (via
rearrangement). More fds never hurt!

Matthew
</PRE>














































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009023.html">[rabbitmq-discuss] Generally known configuration for open file descriptor limits
</A></li>
	<LI>Next message: <A HREF="009027.html">[rabbitmq-discuss] Generally known configuration for open file	descriptor limits
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9024">[ date ]</a>
              <a href="thread.html#9024">[ thread ]</a>
              <a href="subject.html#9024">[ subject ]</a>
              <a href="author.html#9024">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
