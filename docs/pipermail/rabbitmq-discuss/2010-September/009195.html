<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] channel.flow in pyampqlib
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20channel.flow%20in%20pyampqlib&In-Reply-To=%3C4CA4D824.1090303%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009192.html">
   <LINK REL="Next"  HREF="009196.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] channel.flow in pyampqlib</H1>
    <B>mabrek</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20channel.flow%20in%20pyampqlib&In-Reply-To=%3C4CA4D824.1090303%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] channel.flow in pyampqlib">mabrek at gmail.com
       </A><BR>
    <I>Thu Sep 30 19:34:12 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009192.html">[rabbitmq-discuss] channel.flow in pyampqlib
</A></li>
        <LI>Next message: <A HREF="009196.html">[rabbitmq-discuss] channel.flow in pyampqlib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9195">[ date ]</a>
              <a href="thread.html#9195">[ thread ]</a>
              <a href="subject.html#9195">[ subject ]</a>
              <a href="author.html#9195">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 09/30/2010 09:18 PM, Matthias Radestock wrote:
&gt;<i> On 29/09/10 10:09, mabrek wrote:
</I>&gt;&gt;<i> Java client uses blocking IO. It would hang on writing to server
</I>&gt;&gt;<i> that throttles producers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Do you have any plans to switch java client to non-blocking IO
</I>&gt;&gt;<i> (NIO) and introduce timeouts in content sending methods?
</I>&gt;<i>
</I>&gt;<i> you could try setting a timeout on the socket with setSoTimeout. One
</I>&gt;<i> place to do that is by overriding
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/releases/rabbitmq-java-client/v2.1.0/rabbitmq-java-client-javadoc-2.1.0/com/rabbitmq/client/ConnectionFactory.html#configureSocket(java.net.Socket">http://www.rabbitmq.com/releases/rabbitmq-java-client/v2.1.0/rabbitmq-java-client-javadoc-2.1.0/com/rabbitmq/client/ConnectionFactory.html#configureSocket(java.net.Socket</A>)
</I>
It doesn't work. setSoTimeout affects only read timeout. There is no write timeout in java blocking sockets. Attempt to write to stuck socket may result in hanging up to 30min (last tcp retransmit attempt on linux).

Regards,
Anton Lebedevich.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009192.html">[rabbitmq-discuss] channel.flow in pyampqlib
</A></li>
	<LI>Next message: <A HREF="009196.html">[rabbitmq-discuss] channel.flow in pyampqlib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9195">[ date ]</a>
              <a href="thread.html#9195">[ thread ]</a>
              <a href="subject.html#9195">[ subject ]</a>
              <a href="author.html#9195">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
