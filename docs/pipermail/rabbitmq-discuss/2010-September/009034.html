<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Rabbit Client Supervision Architecture
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20Client%20Supervision%20Architecture&In-Reply-To=%3Cloom.20100922T163603-466%40post.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009033.html">
   <LINK REL="Next"  HREF="009035.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Rabbit Client Supervision Architecture</H1>
    <B>Erik Seres</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Rabbit%20Client%20Supervision%20Architecture&In-Reply-To=%3Cloom.20100922T163603-466%40post.gmane.org%3E"
       TITLE="[rabbitmq-discuss] Rabbit Client Supervision Architecture">erikseres at exosite.com
       </A><BR>
    <I>Wed Sep 22 15:43:16 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009033.html">[rabbitmq-discuss] Rabbit Client Supervision Architecture
</A></li>
        <LI>Next message: <A HREF="009035.html">[rabbitmq-discuss] Rabbit Client Supervision Architecture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9034">[ date ]</a>
              <a href="thread.html#9034">[ thread ]</a>
              <a href="subject.html#9034">[ subject ]</a>
              <a href="author.html#9034">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthew Sackman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at ...</A>&gt; writes:

&gt;<i> Just link directly to either the Pid of the connection or the Pid of the
</I>&gt;<i> channel. If either go down abnormally, it'll take out your process (and
</I>&gt;<i> vice versa - in fact, you may want to just monitor rather than link).
</I>&gt;<i> 
</I>&gt;<i> Also, the Pid you get back from amqp_connection:start/1 is _not_ the Pid of 
</I>the
&gt;<i> supervisor. It's the Pid of the amqp_{network,direct}_connection
</I>&gt;<i> process. The Pid of the connection_sup is never returned. Fairly soon,
</I>&gt;<i> the entire client will become a real application and then it will be
</I>&gt;<i> properly visible in things like appmon.
</I>
Hi Matthew,

Ok, I understand all that. Linking to channel or connection works fine. Just out 
of curiosity, one last question... What stops me from being able to add the 
connection process to my supervisor child list? The process seems to be a 
gen_server so it should be ok to do that, right? Or, is it not possible because 
it is already on another supervisor's child list?

Thanks,
Erik


</PRE>











































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009033.html">[rabbitmq-discuss] Rabbit Client Supervision Architecture
</A></li>
	<LI>Next message: <A HREF="009035.html">[rabbitmq-discuss] Rabbit Client Supervision Architecture
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9034">[ date ]</a>
              <a href="thread.html#9034">[ thread ]</a>
              <a href="subject.html#9034">[ subject ]</a>
              <a href="author.html#9034">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
