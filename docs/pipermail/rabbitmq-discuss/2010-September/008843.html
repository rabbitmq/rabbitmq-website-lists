<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitKernel
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitKernel&In-Reply-To=%3CE9DFD38F-452D-4C61-AFA3-387716EC72C7%40jbrisbin.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008840.html">
   <LINK REL="Next"  HREF="008850.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitKernel</H1>
    <B>Jon Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitKernel&In-Reply-To=%3CE9DFD38F-452D-4C61-AFA3-387716EC72C7%40jbrisbin.com%3E"
       TITLE="[rabbitmq-discuss] RabbitKernel">jon at jbrisbin.com
       </A><BR>
    <I>Tue Sep  7 20:33:56 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008840.html">[rabbitmq-discuss] RabbitKernel
</A></li>
        <LI>Next message: <A HREF="008850.html">[rabbitmq-discuss] couple of things on new admin interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8843">[ date ]</a>
              <a href="thread.html#8843">[ thread ]</a>
              <a href="subject.html#8843">[ subject ]</a>
              <a href="author.html#8843">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the excellent thoughts here! :) Comments below...

On Sep 7, 2010, at 2:02 PM, darrencruse wrote:

&gt;<i> a.  Are you familiar with the new NKP protocol?  Sounds like you should at
</I>&gt;<i> least take a look if not - it's very much about cloud computing using
</I>&gt;<i> NetKernel.  They've built a high speed protocol using Apache Etch for
</I>&gt;<i> allowing multiple NetKernel's to work together.  
</I>&gt;<i> 
</I>&gt;<i> <A HREF="https://cwiki.apache.org/ETCH/home.html">https://cwiki.apache.org/ETCH/home.html</A>
</I>&gt;<i> 
</I>&gt;<i> And they're latest downloads include an example doing a pub/sub model using
</I>&gt;<i> NetKernel with the NKP Protocol.
</I>
This sounds very good, indeed! I'll be investigating this more right away.

&gt;<i> b.  But what you said about looking at the JMS source as a reference for
</I>&gt;<i> your RabbitMQ Transport was what I was going to suggest you beat me to it.
</I>&gt;<i> :)
</I>
Haven't actually written any code on this yet. Too many other things demanding my attention. 

I'm reworking my cloud job scheduler using Spring AMQP right now, so it might actually be a perfect time to revisit this in earnest and see if I can make something work. If you have a need for something similar, I love to collaborate. :)

&gt;<i> c.  I didn't know enough to know is there definitely not a JMS Provider for
</I>&gt;<i> RabbitMQ (probably a dumb question from a brief google it sounds like maybe
</I>&gt;<i> there's not).  If there was I wondering if in fact you could just use
</I>&gt;<i> NetKernel's JMS Transport with RabbitMQ.
</I>
IMHO it's just as well there isn't a JMS provider for RabbitMQ. ;)

I like AMQP because it's truly cross-platform. I can write producers in Python and consumers in Java. Or Ruby. Or Erlang. :) 

&gt;<i> d.  From your arch drawing I was surprised you were talking about Scala
</I>&gt;<i> Actors - why wouldn't you just run NetKernel on both JVMs?  i.e. The
</I>&gt;<i> single-within-a JVM scala actor model seems redundant with NetKernel's
</I>&gt;<i> dymamic request resolution between endpoints within a single NetKernel, and
</I>&gt;<i> distributed actors likewise seem redundant with using your RabbitMQ
</I>&gt;<i> Transport and possibly using asynchronous requests.  It seems to me the real
</I>&gt;<i> beauty whether using NetKernel or actors would be the elegance of choosing
</I>&gt;<i> one approach and using that consistently throughout the architecture - it
</I>&gt;<i> wasn't clear to me why you'd want to mix both.  But I'm probably just not
</I>&gt;<i> following what you were after - are you integrating existing systems this
</I>&gt;<i> way that already use scala actors or something?
</I>
I guess that's a little confusing because I don't fully know what I want! :) 

The thing that prompted my looking into NetKernel was the frustration with having multiple copies of all the connections, channels, consumers, etc... in a Tomcat session manager I wrote for private clouds. Since I run multiple instances of Tomcat/tcServer per virtual machine (VMware virtual machine in this case), it seemed silly to me to be running, on a single &quot;box&quot;, several instances of my session manager (one for each webapp) times the number of tcServer instances I'm running (usually 3) when all I need on that Linux box is a single manager for messages and a single cache that can service multiple tcServer instances without all the resource usage involved in duplicating everything. The better use I can make of those small VMs, the more traffic I can funnel through them. I need a way to communicate from a client in a session manager running in a Tomcat VM to the AMQP manager that's doing the message sending and session object mangling. Scala actors seemed to make sense here because they're friendly to the kind of cloud-scale distributed computing I'm trying to do but are still Java compatible. I wasn't sure I could get the same kind of ease of component communication by embedding NetKernel inside each Tomcat (again, I was concerned about unnecessary duplication of resources, whether it's NetKernel or RabbitMQ client stuff) considering a session manager is instantiated per webapp.

&gt;<i> e.  Likewise I noticed you highlighted the use of cron on the one box, but
</I>&gt;<i> NetKernel has nice cron like capabilites based on quartz.  So again it seems
</I>&gt;<i> like there'd be more synergy by using NetKernel for those needs too(?)
</I>
I'd prefer quartz, actually. I'd gladly stay within the context of NetKernel if I could. 

In general I use the term &quot;cron&quot; to refer to a scheduled, recurring job of some kind rather than the UNIX &quot;cron&quot; specifically. :)

&gt;<i> Just some thoughts fwiw (again I'm not a RabbitMQ expert and I didn't look
</I>&gt;<i> closely at your thread so I may be missing some things in what you're
</I>&gt;<i> after),
</I>

I really appreciate your thoughts! :) You've inspired me to get back in there and check out the NKP stuff and see if that will be a good fit. I've kind of hit a brick wall on another project I'm working on, so I think I'll get back into the job scheduler code today.

Thanks!

J. Brisbin
<A HREF="http://jbrisbin.com/">http://jbrisbin.com/</A>






-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100907/763c9705/attachment-0001.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100907/763c9705/attachment-0001.htm</A>&gt;
</PRE>





























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008840.html">[rabbitmq-discuss] RabbitKernel
</A></li>
	<LI>Next message: <A HREF="008850.html">[rabbitmq-discuss] couple of things on new admin interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8843">[ date ]</a>
              <a href="thread.html#8843">[ thread ]</a>
              <a href="subject.html#8843">[ subject ]</a>
              <a href="author.html#8843">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
