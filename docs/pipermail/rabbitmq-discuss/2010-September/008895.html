<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Shutdown Listener on Java Client API
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shutdown%20Listener%20on%20Java%20Client%20API&In-Reply-To=%3C509856.68626.qm%40web111016.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008931.html">
   <LINK REL="Next"  HREF="008924.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Shutdown Listener on Java Client API</H1>
    <B>Dave Greggory</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Shutdown%20Listener%20on%20Java%20Client%20API&In-Reply-To=%3C509856.68626.qm%40web111016.mail.gq1.yahoo.com%3E"
       TITLE="[rabbitmq-discuss] Shutdown Listener on Java Client API">davegreggory at yahoo.com
       </A><BR>
    <I>Mon Sep 13 16:12:05 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008931.html">[rabbitmq-discuss] RabbitMQ not responding / not sending any errors	to client
</A></li>
        <LI>Next message: <A HREF="008924.html">[rabbitmq-discuss] Shutdown Listener on Java Client API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8895">[ date ]</a>
              <a href="thread.html#8895">[ thread ]</a>
              <a href="subject.html#8895">[ subject ]</a>
              <a href="author.html#8895">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We register a shutdown listener to listen for connection-loss events and 
automatically re-connect clients to other RabbitMQ nodes in the cluster. This 
weekend we had to restart the load balancer that sits between rabbitmq and it's 
clients for some maintenance, but the ShutdownCompleted/ShutdownSignalException 
event never fired in the clients. 


I'm trying to understand how the shutdown signal works. Does it only fire the 
ShutDownCompleted event if RabbitMQ node shuts down and sends the signal back to 
clients? If that's the case, I'm probably misusing it to detect connection-loss. 
Is there a different way of detecting connection loss?

Thanks,
Dave



      
</PRE>










































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008931.html">[rabbitmq-discuss] RabbitMQ not responding / not sending any errors	to client
</A></li>
	<LI>Next message: <A HREF="008924.html">[rabbitmq-discuss] Shutdown Listener on Java Client API
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8895">[ date ]</a>
              <a href="thread.html#8895">[ thread ]</a>
              <a href="subject.html#8895">[ subject ]</a>
              <a href="author.html#8895">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
