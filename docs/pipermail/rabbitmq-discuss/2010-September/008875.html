<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Help with shovel plug-in
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20with%20shovel%20plug-in&In-Reply-To=%3C4C88DE28.2070305%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008877.html">
   <LINK REL="Next"  HREF="008876.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Help with shovel plug-in</H1>
    <B>Vlad Alexandru Ionescu</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Help%20with%20shovel%20plug-in&In-Reply-To=%3C4C88DE28.2070305%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Help with shovel plug-in">vlad at rabbitmq.com
       </A><BR>
    <I>Thu Sep  9 14:16:24 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008877.html">[rabbitmq-discuss] Help with shovel plug-in
</A></li>
        <LI>Next message: <A HREF="008876.html">[rabbitmq-discuss] Help with shovel plug-in
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8875">[ date ]</a>
              <a href="thread.html#8875">[ thread ]</a>
              <a href="subject.html#8875">[ subject ]</a>
              <a href="author.html#8875">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,


The shovel uses the Erlang client, which is currently broken with the 
latest version of the server.
Try using the rabbitmq_v2_0_0 version:

hg clone <A HREF="http://hg.rabbitmq.com/rabbitmq-public-umbrella">http://hg.rabbitmq.com/rabbitmq-public-umbrella</A>
cd rabbitmq-public-umbrella
make checkout
hg update -r rabbitmq_v2_0_0 -R rabbitmq-server
hg update -r rabbitmq_v2_0_0 -R rabbitmq-codegen
hg update -r rabbitmq_v2_0_0 -R rabbitmq-erlang-client
make -C rabbitmq-erlang-client
cd rabbitmq-shovel
make


That should build you the rabbitmq-shovel plugin correctly, which you 
can use.

Let us know if that doesn't work either.


Rgds,
Vlad.




On 09/09/2010 02:02 PM, Paulo Machado wrote:
&gt;<i>  Hi everyone,
</I>&gt;<i>
</I>&gt;<i> sorry to bother with a total newbie doubts, but that's what I am, 
</I>&gt;<i> concerning rabbitmq/EMS. I've looked to the mailing list archive and 
</I>&gt;<i> couldn't find no help, so here I am.
</I>&gt;<i> So, to the point, I need to configure two brokers one of them 
</I>&gt;<i> shoveling messages to the other, but I can manage to make it work. The 
</I>&gt;<i> current setup is (on both brokers):
</I>&gt;<i> - erlang R13B04
</I>&gt;<i> - rabbitmq sources up to date (repo clone)
</I>&gt;<i> - shovel plug-in up to date (repo clone)
</I>&gt;<i> The rabbitmq works out of the box (after compiling...), but not when I 
</I>&gt;<i> try to use shoveling. I used the README file in the shovel plugin repo 
</I>&gt;<i> as guide, and I'm using the java-rabbitmq-client examples to test it. 
</I>&gt;<i> And when I call the producer with explicit destination (i.e. IP or 
</I>&gt;<i> hostname) it works, so I can conclude is not a network issue. Also, 
</I>&gt;<i> when I start the brokers it show the shovel_plugin as an active 
</I>&gt;<i> plug-in. So my questions are:
</I>&gt;<i> - do I need to install any other plugin?
</I>&gt;<i> - how can I debug/log the broker activity?
</I>&gt;<i> - do I need make any special configuration to the rabbitmq or just 
</I>&gt;<i> configure the shovel-plugin? (on both brokers?)
</I>&gt;<i>
</I>&gt;<i> Attached the config file used in the shoveling broker.
</I>&gt;<i> Right now I need to setup a working test environment, so there's no 
</I>&gt;<i> need to refined configuration, just one that works!
</I>&gt;<i>
</I>&gt;<i> thanks for your time,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>    
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100909/f66495a9/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100909/f66495a9/attachment.htm</A>&gt;
</PRE>















































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008877.html">[rabbitmq-discuss] Help with shovel plug-in
</A></li>
	<LI>Next message: <A HREF="008876.html">[rabbitmq-discuss] Help with shovel plug-in
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8875">[ date ]</a>
              <a href="thread.html#8875">[ thread ]</a>
              <a href="subject.html#8875">[ subject ]</a>
              <a href="author.html#8875">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
