<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] number of Erlang processes being used?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20number%20of%20Erlang%20processes%20being%20used%3F&In-Reply-To=%3C4C9C8C91.6000001%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009073.html">
   <LINK REL="Next"  HREF="009076.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] number of Erlang processes being used?</H1>
    <B>Mario Menti</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20number%20of%20Erlang%20processes%20being%20used%3F&In-Reply-To=%3C4C9C8C91.6000001%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] number of Erlang processes being used?">mmenti at gmail.com
       </A><BR>
    <I>Fri Sep 24 12:33:37 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009073.html">[rabbitmq-discuss] number of Erlang processes being used?
</A></li>
        <LI>Next message: <A HREF="009076.html">[rabbitmq-discuss] number of Erlang processes being used?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9074">[ date ]</a>
              <a href="thread.html#9074">[ thread ]</a>
              <a href="subject.html#9074">[ subject ]</a>
              <a href="author.html#9074">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthew Sackman wrote:
&gt;<i> On Fri, Sep 24, 2010 at 12:07:13PM +0100, Mario Menti wrote:
</I>&gt;&gt;<i> Is there a way to see the number of lightweight Erlang processes
</I>&gt;&gt;<i> currently in use by rabbitmq? We regularly run out of them, even
</I>&gt;&gt;<i> with a higher-than-default number being specified (65535), and while
</I>&gt;&gt;<i> I realise that there may be an underlying issue, it would still be
</I>&gt;&gt;<i> very useful to monitor the usage.
</I>&gt;<i>
</I>&gt;<i> No - there's no way of figuring this out other than the total number of
</I>&gt;<i> processes being used in the erlang VM. Thus if you're using other
</I>&gt;<i> applications within the same VM, you won't be able to separate them out.
</I>&gt;<i>
</I>&gt;<i> length(erlang:processes()).
</I>&gt;<i>   will tell you the total number of processes running in the VM.
</I>Thanks - there's nothing else running in the VM, so this should be good 
enough.
&gt;<i> Btw, you're not helping yourselves by running such an old version - we
</I>&gt;<i> pushed the default limit up to 1e6 around 1.8. You shouldn't have many
</I>&gt;<i> concerns with raising your limit substantially further (though it will
</I>&gt;<i> mean the VM will take up a bit more memory which might be relevant if
</I>&gt;<i> you're running in an embedded environment). The absolute maximum is 16bn
</I>&gt;<i> but if you use that I think I found the base VM on its own takes up some
</I>&gt;<i> 400MB after booting (just due to the various arrays and bookkeeping
</I>&gt;<i> needed for every process). Given your 24GB of RAM, I would think that
</I>&gt;<i> you're not in an embedded enviroment and such paltry amounts of memory
</I>&gt;<i> are not a concern!
</I>
Yes, these are dedicated servers. Thanks for the additional info - 
updating to latest/later versions of rabbitmq is pretty high somewhere 
on our Todo list :)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100924/eb8dcc47/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100924/eb8dcc47/attachment.htm</A>&gt;
</PRE>









































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009073.html">[rabbitmq-discuss] number of Erlang processes being used?
</A></li>
	<LI>Next message: <A HREF="009076.html">[rabbitmq-discuss] number of Erlang processes being used?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9074">[ date ]</a>
              <a href="thread.html#9074">[ thread ]</a>
              <a href="subject.html#9074">[ subject ]</a>
              <a href="author.html#9074">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
