<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ keeps crashing,	wrong rabbitmqctl nodedown
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20keeps%20crashing%2C%0A%09wrong%20rabbitmqctl%20nodedown&In-Reply-To=%3Cyrv4ck4mnqm9f.fsf%40dwragg.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008922.html">
   <LINK REL="Next"  HREF="008936.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ keeps crashing,	wrong rabbitmqctl nodedown</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20keeps%20crashing%2C%0A%09wrong%20rabbitmqctl%20nodedown&In-Reply-To=%3Cyrv4ck4mnqm9f.fsf%40dwragg.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ keeps crashing,	wrong rabbitmqctl nodedown">david at rabbitmq.com
       </A><BR>
    <I>Wed Sep 15 12:28:12 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008922.html">[rabbitmq-discuss] RabbitMQ keeps crashing,	wrong rabbitmqctl nodedown
</A></li>
        <LI>Next message: <A HREF="008936.html">[rabbitmq-discuss] RabbitMQ keeps crashing, wrong rabbitmqctl nodedown
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8923">[ date ]</a>
              <a href="thread.html#8923">[ thread ]</a>
              <a href="subject.html#8923">[ subject ]</a>
              <a href="author.html#8923">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Josua,

&quot;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">josua.troesch at bluewin.ch</A>&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">josua.troesch at bluewin.ch</A>&gt; writes:
&gt;<i> Our RabbitMQ instance keeps crashing with an error like this:
</I>&gt;<i> eheap_alloc: Cannot allocate 373662860 bytes of 
</I>&gt;<i> memory (of type &quot;old_heap&quot;)
</I>
This indicates that rabbit is running out of memory.  

The normal approach to this kind of problem is to use rabbitmqctl to
find out where the messages are that are taking up your memory.

&gt;<i> Its still a version 1.6.0 but because of some application constraints
</I>&gt;<i> we can't update yet. 
</I>
1.6.0 is really really old, and the handling of memory constraints has
been greatly improved since then.  What kind of application constraints
are preventing you upgrading?

&gt;<i> Also, I can't check the status with rabbitmqctl as this always reports
</I>&gt;<i> a {badrpc,nodedown}
</I>
Even before the server crash (or does the crash happen when you start
rabbitmq-server)?

David

-- 
David Wragg
Staff Engineer, RabbitMQ
SpringSource, a division of VMware
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008922.html">[rabbitmq-discuss] RabbitMQ keeps crashing,	wrong rabbitmqctl nodedown
</A></li>
	<LI>Next message: <A HREF="008936.html">[rabbitmq-discuss] RabbitMQ keeps crashing, wrong rabbitmqctl nodedown
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8923">[ date ]</a>
              <a href="thread.html#8923">[ thread ]</a>
              <a href="subject.html#8923">[ subject ]</a>
              <a href="author.html#8923">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
