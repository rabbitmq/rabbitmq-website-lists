<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] HA + Clustering in EC2 with Amazon Autoescale
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20HA%20%2B%20Clustering%20in%20EC2%20with%20Amazon%20Autoescale&In-Reply-To=%3CAANLkTimUU206S2WebNN9wEgron%3D%2Bk4_H_bbmk%2B51iDSy%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008792.html">
   <LINK REL="Next"  HREF="008855.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] HA + Clustering in EC2 with Amazon Autoescale</H1>
    <B>Marek Majkowski</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20HA%20%2B%20Clustering%20in%20EC2%20with%20Amazon%20Autoescale&In-Reply-To=%3CAANLkTimUU206S2WebNN9wEgron%3D%2Bk4_H_bbmk%2B51iDSy%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] HA + Clustering in EC2 with Amazon Autoescale">majek04 at gmail.com
       </A><BR>
    <I>Wed Sep  8 10:45:44 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008792.html">[rabbitmq-discuss] HA + Clustering in EC2 with Amazon Autoescale
</A></li>
        <LI>Next message: <A HREF="008855.html">[rabbitmq-discuss] HA + Clustering in EC2 with Amazon Autoescale
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8853">[ date ]</a>
              <a href="thread.html#8853">[ thread ]</a>
              <a href="subject.html#8853">[ subject ]</a>
              <a href="author.html#8853">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jaime,

On Fri, Sep 3, 2010 at 11:22, Jaime Martinez &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jaimemm at gmail.com</A>&gt; wrote:
&gt;<i> Here is the scenario:
</I>&gt;<i> - More than 1 pair of Active + Passive RabbitMQ servers per EC2 instance,
</I>&gt;<i> all of them in cluster.
</I>&gt;<i> - Autoescale will start a new EC2 instances and has to add the new RabbitMQ
</I>&gt;<i> HA servers to the same cluster as the previous instances
</I>&gt;<i> It looks pretty tricky since to add server instances to a cluster is
</I>&gt;<i> necessary to know their identifiers. Did anyone tried this? What would it be
</I>&gt;<i> the right way of doing it?
</I>
Yes, in order to join RabbitMQ nodes into a cluster you need to know the shared
cookie and the addresses of all hosts in the cluster, as described here:
   <A HREF="http://www.rabbitmq.com/clustering.html">http://www.rabbitmq.com/clustering.html</A>

In my opinion clustering is not perfect. It helps scaling only for a set of use
cases. Basically, to exploit the benefits you need to really know what you're
doing. Generally, I wouldn't recommend it. Also, correctly configuring
clustering with HA is really tricky.

Saying that, I'd recommend just upgrading EC2 host if you need more capacity.
Store the persistent data on EBS and when you need more power - just
reattach EBS to a host with more CPU power. Sure, that's not zero-downtime,
but at least it's simple and manageable.

Cheers,
  Marek Majkowski
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008792.html">[rabbitmq-discuss] HA + Clustering in EC2 with Amazon Autoescale
</A></li>
	<LI>Next message: <A HREF="008855.html">[rabbitmq-discuss] HA + Clustering in EC2 with Amazon Autoescale
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8853">[ date ]</a>
              <a href="thread.html#8853">[ thread ]</a>
              <a href="subject.html#8853">[ subject ]</a>
              <a href="author.html#8853">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
