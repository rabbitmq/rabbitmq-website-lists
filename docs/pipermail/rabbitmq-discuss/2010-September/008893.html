<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Erlang client now works on default and has	some(important) API changes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Erlang%20client%20now%20works%20on%20default%20and%20has%0A%09some%28important%29%20API%20changes&In-Reply-To=%3C74D4EDFED2256749A5BF5B59267E085303BBD86E%40EXMBCL01CORP.eclg.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008889.html">
   <LINK REL="Next"  HREF="008894.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Erlang client now works on default and has	some(important) API changes</H1>
    <B>Chris Chew</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Erlang%20client%20now%20works%20on%20default%20and%20has%0A%09some%28important%29%20API%20changes&In-Reply-To=%3C74D4EDFED2256749A5BF5B59267E085303BBD86E%40EXMBCL01CORP.eclg.org%3E"
       TITLE="[rabbitmq-discuss] Erlang client now works on default and has	some(important) API changes">chrisch at ecollege.com
       </A><BR>
    <I>Mon Sep 13 16:06:09 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="008889.html">[rabbitmq-discuss] Erlang client now works on default and has some	(important) API changes
</A></li>
        <LI>Next message: <A HREF="008894.html">[rabbitmq-discuss] Erlang client now works on default and has some(important) API changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8893">[ date ]</a>
              <a href="thread.html#8893">[ thread ]</a>
              <a href="subject.html#8893">[ subject ]</a>
              <a href="author.html#8893">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Everyone.

Thank you for the update, Vlad.

Just to confirm...is it still recommended for an erlang client that
works against broker 2.0.0 to update the public umbrella to the
rabbitmq_v2_0_0 tag and build from there?

Thanks!

Chris Chew

-----Original Message-----
From: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>
[mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss-bounces at lists.rabbitmq.com</A>] On Behalf Of Vlad
Alexandru Ionescu
Sent: Monday, September 13, 2010 7:31 AM
To: RabbitMQ
Subject: [rabbitmq-discuss] Erlang client now works on default and has
some(important) API changes



The Erlang client was broken on default recently. We have now fixed it 
and it works with the latest version of the broker on default.
We recommend people that were using branches bug22993 or bug23024 to use

the version on default instead (if you were using the latest broker 
version and not 2.0.0).

Please note that there have been some API changes as well:

- 
amqp_connection:{start_network,start_direct,start_network_link,start_dir
ect_link}/{0,1} 
functions have been replaced by amqp_connection:start/{1,2}. Example
usages:

     amqp_connection:start(network).
     amqp_connection:start(direct).
     amqp_connection:start(network, #amqp_params{heartbeat = 20}).

- amqp_connection:start/{0,1} functions do not return ConnectionPid. 
They return {ok, ConnectionPid} or {error, Error} instead:

     {ok, ConnectionPid} = amqp_connection:start(network).

- amqp_connection:open_channel/1 does not return ChannelPid. It returns 
{ok, ChannelPid} or {error, Error} instead:

     {ok, ChannelPid} = amqp_connection:open_channel(ConnectionPid).


The edoc is to be updated soon.
We hope that this will be the final version of the API, but cannot 
guarantee this until the Erlang client will become officially supported.


Cheers,
Vlad.

_______________________________________________
rabbitmq-discuss mailing list
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</PRE>







































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008889.html">[rabbitmq-discuss] Erlang client now works on default and has some	(important) API changes
</A></li>
	<LI>Next message: <A HREF="008894.html">[rabbitmq-discuss] Erlang client now works on default and has some(important) API changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8893">[ date ]</a>
              <a href="thread.html#8893">[ thread ]</a>
              <a href="subject.html#8893">[ subject ]</a>
              <a href="author.html#8893">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
