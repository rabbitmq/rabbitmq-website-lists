<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message timeouts
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20timeouts&In-Reply-To=%3C4F98D869.60400%40nextday.fi%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019768.html">
   <LINK REL="Next"  HREF="019817.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message timeouts</H1>
    <B>Alex Gr&#246;nholm</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20timeouts&In-Reply-To=%3C4F98D869.60400%40nextday.fi%3E"
       TITLE="[rabbitmq-discuss] Message timeouts">alex.gronholm at nextday.fi
       </A><BR>
    <I>Thu Apr 26 06:08:57 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019768.html">[rabbitmq-discuss] immediate, mandatory flag with no consumers
</A></li>
        <LI>Next message: <A HREF="019817.html">[rabbitmq-discuss] Message timeouts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19755">[ date ]</a>
              <a href="thread.html#19755">[ thread ]</a>
              <a href="subject.html#19755">[ subject ]</a>
              <a href="author.html#19755">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>11.12.2011 14:14, Alex Gr&#246;nholm kirjoitti:
&gt;<i> Sorry for taking this long to respond. I've been otherwise engaged and 
</I>&gt;<i> forgot about this conversation.
</I>&gt;<i> Thank you for your replies.
</I>&gt;<i>
</I>&gt;<i>     If you don't want the server queue requests to be 'lost' then
</I>&gt;<i>     don't allow the
</I>&gt;<i>     queues to expire!
</I>&gt;<i>
</I>&gt;<i>     On the other hand your clients apparently wait forever.  Is there
</I>&gt;<i>     a reason I
</I>&gt;<i>     don't understand why the server queues expire but the clients
</I>&gt;<i>     don't have a
</I>&gt;<i>     timeout for the responses?
</I>&gt;<i>
</I>&gt;<i> If the upgrade of the server software fails and the developers do 
</I>&gt;<i> nothing, the queue expires eventually so that stale requests are 
</I>&gt;<i> dropped and the clients will start getting proper error messages 
</I>&gt;<i> informing them of this condition.
</I>&gt;<i> This is not the ideal solution of course (per-message TTL and return 
</I>&gt;<i> notification would be).
</I>&gt;<i>
</I>&gt;<i>     You want requests to either be processed or (reliably) not
</I>&gt;<i>     processed.  You
</I>&gt;<i>     never want the clients to be in any doubt about whether the
</I>&gt;<i>     request was
</I>&gt;<i>     processed or not.  So you wait forever in the client.  However,
</I>&gt;<i>     requests that
</I>&gt;<i>     get discarded never return so the client doesn't know.  So you
</I>&gt;<i>     want expiry to
</I>&gt;<i>     trigger replies to the clients.  (Per-queue message TTLs also
</I>&gt;<i>     don't return.)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  Sounds about right.
</I>&gt;<i>
</I>&gt;<i>     Let's see -- how would we do this without a dead-letter mechanism?
</I>&gt;<i>
</I>Now that the dead-letter mechanism is part of the server, I don't still 
don't see how this could be done. The dead lettered RPC commands would 
still have to be processed somewhere.
&gt;<i>
</I>&gt;<i>      Well, apart
</I>&gt;<i>     from making the server transactional, it might be useful to have
</I>&gt;<i>     an 'offline'
</I>&gt;<i>     server that can take over any server's queue when it fails and
</I>&gt;<i>     either deal with
</I>&gt;<i>     the requests [by issuing an 'offline' response?] or arrange for
</I>&gt;<i>     the server to
</I>&gt;<i>     be restarted (and/or upgraded).
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> This seems fairly complicated. I'll have to look into transactions to 
</I>&gt;<i> see if they will help in my case.
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120426/00ec443b/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120426/00ec443b/attachment.htm</A>&gt;
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019768.html">[rabbitmq-discuss] immediate, mandatory flag with no consumers
</A></li>
	<LI>Next message: <A HREF="019817.html">[rabbitmq-discuss] Message timeouts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19755">[ date ]</a>
              <a href="thread.html#19755">[ thread ]</a>
              <a href="subject.html#19755">[ subject ]</a>
              <a href="author.html#19755">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
