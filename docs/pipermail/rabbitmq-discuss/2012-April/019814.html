<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq-server load average
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-server%20load%20average&In-Reply-To=%3C4F9EBF85.6000201%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019760.html">
   <LINK REL="Next"  HREF="019764.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq-server load average</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq-server%20load%20average&In-Reply-To=%3C4F9EBF85.6000201%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq-server load average">emile at rabbitmq.com
       </A><BR>
    <I>Mon Apr 30 17:36:21 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019760.html">[rabbitmq-discuss] rabbitmq-server load average
</A></li>
        <LI>Next message: <A HREF="019764.html">[rabbitmq-discuss] General Questions to the group
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19814">[ date ]</a>
              <a href="thread.html#19814">[ thread ]</a>
              <a href="subject.html#19814">[ subject ]</a>
              <a href="author.html#19814">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alexander,

On 26/04/12 15:01, Alexander Klimenko wrote:
&gt;<i> I use rabbitmq-server v. *2.5.1*-1 on *debian squeeze* with kernel
</I>&gt;<i> *3.0.0-14*.
</I>&gt;<i> At the moment I perform performance optimization. I noticed that when I
</I>&gt;<i> start rabbitmq-server (on Intel(R) Atom(TM) CPU D525, 2 cores) system
</I>&gt;<i> load average get growth from *~0.5* to *~1*. *So my question: what
</I>&gt;<i> causes such growth?*
</I>&gt;<i> rabbitmq-server has one subscriber process and if I switch it off
</I>&gt;<i> (subscriber) it doesn't change load average.
</I>
Is the load of 1.0 sustained while the broker is idle, and does it
remain at that level indefinitely after all peers have disconnected? I'm
not familiar with that architecture, but on my workstation an idle
broker imposes negligible load.

The presence of producers as well as subscribers can impose load.  If
you still had producers connected then that could explain the load. You
can use &quot;rabbitmqctl list_connections&quot; to confirm that no peers are
connected to the broker.

Can you confirm that the beam (or beam.smp) process is responsible for
the load? If you have clients connecting over the loopback interface
then they may be responsible for the load.

If none of the above points to a culprit, and you have 'etop' included
in your Erlang installation then you may want to check whether any
Erlang processes are contributing disproportionately to the load:

 etop -node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at host</A> -lines 20 -sort reductions



-Emile


</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019760.html">[rabbitmq-discuss] rabbitmq-server load average
</A></li>
	<LI>Next message: <A HREF="019764.html">[rabbitmq-discuss] General Questions to the group
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19814">[ date ]</a>
              <a href="thread.html#19814">[ thread ]</a>
              <a href="subject.html#19814">[ subject ]</a>
              <a href="author.html#19814">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
