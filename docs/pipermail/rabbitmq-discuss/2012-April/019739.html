<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Missing dependency in management	plugin/mochiweb
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Missing%20dependency%20in%20management%0A%09plugin/mochiweb&In-Reply-To=%3C4F97ECA3.1030608%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019740.html">
   <LINK REL="Next"  HREF="019706.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Missing dependency in management	plugin/mochiweb</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Missing%20dependency%20in%20management%0A%09plugin/mochiweb&In-Reply-To=%3C4F97ECA3.1030608%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Missing dependency in management	plugin/mochiweb">matthias at rabbitmq.com
       </A><BR>
    <I>Wed Apr 25 13:22:59 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019740.html">[rabbitmq-discuss] Missing dependency in management	plugin/mochiweb
</A></li>
        <LI>Next message: <A HREF="019706.html">[rabbitmq-discuss] log process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19739">[ date ]</a>
              <a href="thread.html#19739">[ thread ]</a>
              <a href="subject.html#19739">[ subject ]</a>
              <a href="author.html#19739">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alvaro,

On 25/04/12 12:52, Alvaro Videla wrote:
&gt;<i> I tried to reproduce the problem. Actually *rabbitmq-server* needs to
</I>&gt;<i>  declare *inets* in its app dependencies.
</I>
The server itself does not depend on inets, so that would be wrong.

&gt;<i> This is the error you get:
</I>&gt;<i>
</I>&gt;<i> Activating RabbitMQ plugins ... {&quot;init terminating in
</I>&gt;<i> do_boot&quot;,{{badmatch,{error,{edge,{bad_vertex,inets},mochiweb,inets}}},[{rabbit_plugins,calculate_dependencies,3},{rabbit_prelaunch,prepare_plugins,3},{rabbit_prelaunch,start,0},{init,start_it,1},{init,start_em,1}]}}
</I>&gt;<i>
</I>&gt;<i>  For a enabled_plugins file with this content: [].
</I>&gt;<i> This happens when you generate a release for RabbitMQ only.
</I>
Right. The plug-in dependency calculations filters out all app 
dependencies which can be loaded. More generally, the code in 
rabbit_plugins assumes that it executes on the user's rabbit runtime. 
Hence inets, kernel, stdlib, etc never feature in the dependency 
calculation in normal use.

It is not immediately clear what needs to change to make that code work 
in a different context, i.e. a release build. Over to you :)


Regards,

Matthias.
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019740.html">[rabbitmq-discuss] Missing dependency in management	plugin/mochiweb
</A></li>
	<LI>Next message: <A HREF="019706.html">[rabbitmq-discuss] log process
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19739">[ date ]</a>
              <a href="thread.html#19739">[ thread ]</a>
              <a href="subject.html#19739">[ subject ]</a>
              <a href="author.html#19739">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
