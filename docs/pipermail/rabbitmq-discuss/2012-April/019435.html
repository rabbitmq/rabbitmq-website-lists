<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Heartbeat missing with heartbeat
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Heartbeat%20missing%20with%20heartbeat&In-Reply-To=%3C4F84058D.8070408%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019433.html">
   <LINK REL="Next"  HREF="019447.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Heartbeat missing with heartbeat</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Heartbeat%20missing%20with%20heartbeat&In-Reply-To=%3C4F84058D.8070408%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Heartbeat missing with heartbeat">emile at rabbitmq.com
       </A><BR>
    <I>Tue Apr 10 11:03:57 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019433.html">[rabbitmq-discuss] Heartbeat missing with heartbeat
</A></li>
        <LI>Next message: <A HREF="019447.html">[rabbitmq-discuss] RabbitMQ and Erlang --enable-native-libs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19435">[ date ]</a>
              <a href="thread.html#19435">[ thread ]</a>
              <a href="subject.html#19435">[ subject ]</a>
              <a href="author.html#19435">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Alexey,

On 10/04/12 07:37, Alexey wrote:
&gt;<i> Reason: AMQP close-reason, initiated by Library, code=0, text=&quot;End of
</I>&gt;<i> stream&quot;, classId=0, methodId=0, cause=System.IO.EndOfStreamException:
</I>&gt;<i> Heartbeat missing with heartbeat == 5 seconds
</I>
This is the expected behaviour in a situation where the network is
unreliable. If this is a regular occurrence then consider improving the
network reliability or designing the client to cope by reconnecting.

If this error occurs when the broker runs on Windows then you should
consider increasing the heartbeat parameter. It is possible that the
broker is unable to schedule the heartbeat thread with sufficient
precision when the broker is under load.

&gt;<i> Also after enable heartbeat we got the following message
</I>&gt;<i> Consumer 13b04f46cd014283903d9d93ee7a4029 is being shutdowned.
</I>&gt;<i> Reason: AMQP close-reason, initiated by Peer, code=406,
</I>&gt;<i> text=&quot;PRECONDITION_FAILED - unknown delivery tag 1&quot;, classId=60,
</I>&gt;<i> methodId=80, cause=
</I>
That means you attempted to acknowledge a message with an invalid
delivery tag. Delivery tags are valid only within the channel from which
the message was received. Unacknowledged messages that were received on
a channel that closed must be retrieved again to obtain a new delivery tag.


-Emile


</PRE>


























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019433.html">[rabbitmq-discuss] Heartbeat missing with heartbeat
</A></li>
	<LI>Next message: <A HREF="019447.html">[rabbitmq-discuss] RabbitMQ and Erlang --enable-native-libs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19435">[ date ]</a>
              <a href="thread.html#19435">[ thread ]</a>
              <a href="subject.html#19435">[ subject ]</a>
              <a href="author.html#19435">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
