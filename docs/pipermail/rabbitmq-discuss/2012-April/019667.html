<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Enforcing single connection to a queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Enforcing%20single%20connection%20to%20a%20queue&In-Reply-To=%3C4F913870.5030306%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019658.html">
   <LINK REL="Next"  HREF="019669.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Enforcing single connection to a queue</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Enforcing%20single%20connection%20to%20a%20queue&In-Reply-To=%3C4F913870.5030306%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Enforcing single connection to a queue">simon at rabbitmq.com
       </A><BR>
    <I>Fri Apr 20 11:20:32 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019658.html">[rabbitmq-discuss]  Enforcing single connection to a queue
</A></li>
        <LI>Next message: <A HREF="019669.html">[rabbitmq-discuss] Enforcing single connection to a queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19667">[ date ]</a>
              <a href="thread.html#19667">[ thread ]</a>
              <a href="subject.html#19667">[ subject ]</a>
              <a href="author.html#19667">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/04/12 21:27, RoLo wrote:
&gt;<i> I'm working on a project where we need to enforce only a single client
</I>&gt;<i> connection to a queue.  Worse, the queue has to persist when the connection
</I>&gt;<i> closes, which rules out using the exclusive bit as the AMQP spec states that
</I>&gt;<i> an exclusive queue will always be auto-deleted when the client terminates
</I>&gt;<i> session.
</I>
The way we always envisaged this working is:

* Don't allow any of your client users to connect to the management 
plugin (i.e. don't give them the &quot;management&quot;, &quot;monitoring&quot; or 
&quot;administrator&quot; tags).

* Use cryptographically random queue names (such as server-generated names).

If the clients can't get into mgmt they can't list queues. And they 
can't guess another client's queue name. So each client can only see its 
own queue(s). If it wants to hand its queue names to other processes it 
can, but that's its business.

Inspired by: <A HREF="http://en.wikipedia.org/wiki/Capability-based_security">http://en.wikipedia.org/wiki/Capability-based_security</A>

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, VMware
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019658.html">[rabbitmq-discuss]  Enforcing single connection to a queue
</A></li>
	<LI>Next message: <A HREF="019669.html">[rabbitmq-discuss] Enforcing single connection to a queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19667">[ date ]</a>
              <a href="thread.html#19667">[ thread ]</a>
              <a href="subject.html#19667">[ subject ]</a>
              <a href="author.html#19667">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
