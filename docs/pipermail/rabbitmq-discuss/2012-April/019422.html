<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Cleaning up after a rabbitmq-server install
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cleaning%20up%20after%20a%20rabbitmq-server%20install&In-Reply-To=%3C20120409130217.GA15896%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019417.html">
   <LINK REL="Next"  HREF="019713.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Cleaning up after a rabbitmq-server install</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Cleaning%20up%20after%20a%20rabbitmq-server%20install&In-Reply-To=%3C20120409130217.GA15896%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] Cleaning up after a rabbitmq-server install">matthew at rabbitmq.com
       </A><BR>
    <I>Mon Apr  9 14:02:18 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019417.html">[rabbitmq-discuss] Cleaning up after a rabbitmq-server install
</A></li>
        <LI>Next message: <A HREF="019713.html">[rabbitmq-discuss] Cleaning up after a rabbitmq-server install
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19422">[ date ]</a>
              <a href="thread.html#19422">[ thread ]</a>
              <a href="subject.html#19422">[ subject ]</a>
              <a href="author.html#19422">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Matt,

On Fri, Apr 06, 2012 at 09:51:04AM -0700, Matt Pietrek wrote:
&gt;<i> Now, for a run-of-the-mill installation of some service (&quot;apt-get
</I>&gt;<i> install &lt;program-name&gt;&quot; ), I wouldn't expect anything to be left
</I>&gt;<i> running after the install completes. That is, installing a program
</I>&gt;<i> shouldn't just automatically leave the program running after
</I>&gt;<i> installing it, as well as other running bits and pieces.
</I>
Hmm. My recollection is that installing things like apache, nginx,
postgresql etc etc (i.e. system daemons) does exactly that and leaves
them running. Please correct me if I'm wrong there, but I don't think we
do anything abnormal.

&gt;<i> However, I don't see a way to tell the rabbitmq-server install to just
</I>&gt;<i> drop the bits, and not leave anything running.
</I>
Oh, there's probably some bizarre dpkg incantation that can do that -
probably just &quot;don't run the postinstall&quot; or something, but that might
leave the package in a badly configured state. Again, do other system
daemons provide this sort of option? If so, how? We'll be more than
happy to cope whatever is the standard way of achieving this for Debian.

&gt;<i> The issue is: We don't want these leftover processes running as the
</I>&gt;<i> rabbitmq user hanging around after puppet completes. I've experimented
</I>&gt;<i> with adding &quot;epmd -kill&quot; to the Puppet scripts, and it successfully
</I>&gt;<i> kills epmd on about 30% of the nodes, but it fails (exit code != 0) on
</I>&gt;<i> the other 70%.
</I>
Hmm, that suggests that we should probably have the user configurable
via debconf, and then you can probably pre-seed the answers there. What
do you reckon?

Matthew
</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019417.html">[rabbitmq-discuss] Cleaning up after a rabbitmq-server install
</A></li>
	<LI>Next message: <A HREF="019713.html">[rabbitmq-discuss] Cleaning up after a rabbitmq-server install
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19422">[ date ]</a>
              <a href="thread.html#19422">[ thread ]</a>
              <a href="subject.html#19422">[ subject ]</a>
              <a href="author.html#19422">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
