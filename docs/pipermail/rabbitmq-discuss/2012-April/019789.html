<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Design pattern for queue with alot of small data?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Design%20pattern%20for%20queue%20with%20alot%20of%20small%20data%3F&In-Reply-To=%3C20084645.3670.1335537929981.JavaMail.geo-discussion-forums%40vbq5%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019784.html">
   <LINK REL="Next"  HREF="019790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Design pattern for queue with alot of small data?</H1>
    <B>Gautam</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Design%20pattern%20for%20queue%20with%20alot%20of%20small%20data%3F&In-Reply-To=%3C20084645.3670.1335537929981.JavaMail.geo-discussion-forums%40vbq5%3E"
       TITLE="[rabbitmq-discuss] Design pattern for queue with alot of small data?">gautam.bakshi at gmail.com
       </A><BR>
    <I>Fri Apr 27 15:45:29 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019784.html">[rabbitmq-discuss] Exchange related question
</A></li>
        <LI>Next message: <A HREF="019790.html">[rabbitmq-discuss] amqp_client upgrade bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19789">[ date ]</a>
              <a href="thread.html#19789">[ thread ]</a>
              <a href="subject.html#19789">[ subject ]</a>
              <a href="author.html#19789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Everyone,

I am using rabbitmq as my queue server but my workers are having a slight 
problem.  I create a connection then send it to multiple threads who in 
turn create their own channels and then have each thread does its own work 
on the thread. Its basically a threaded version 
of: <A HREF="http://www.rabbitmq.com/tutorials/tutorial-two-java.html">http://www.rabbitmq.com/tutorials/tutorial-two-java.html</A>

But when I profile my code over half the time is spent 
in com.rabbitmq.client.impl.SocketFrameHandler.readFrame() I think it makes 
sense(if thats the part that reads the queue) as my work for each worker is 
not that much per item(there's just alot of items). 

Is there something I can do to make this part faster?  Right now, I set the 
awk to 200  and thread the awk part of the code.  Is there something that 
would allow me to download data in bulk? or anything else that could make 
it go faster(it seems like my program can finish the work quicker than the 
application can send it one a time)? 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120427/dd6a3dbc/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120427/dd6a3dbc/attachment.htm</A>&gt;
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019784.html">[rabbitmq-discuss] Exchange related question
</A></li>
	<LI>Next message: <A HREF="019790.html">[rabbitmq-discuss] amqp_client upgrade bug
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19789">[ date ]</a>
              <a href="thread.html#19789">[ thread ]</a>
              <a href="subject.html#19789">[ subject ]</a>
              <a href="author.html#19789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
