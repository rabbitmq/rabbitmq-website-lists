<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RFC - new exchange type idea
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RFC%20-%20new%20exchange%20type%20idea&In-Reply-To=%3CCACOPnveOFxDC2OhQug5jGjFMeoKUgrUdNgGUy4zSJVdK-BVvLQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019486.html">
   <LINK REL="Next"  HREF="019791.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RFC - new exchange type idea</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RFC%20-%20new%20exchange%20type%20idea&In-Reply-To=%3CCACOPnveOFxDC2OhQug5jGjFMeoKUgrUdNgGUy4zSJVdK-BVvLQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RFC - new exchange type idea">alexis at rabbitmq.com
       </A><BR>
    <I>Wed Apr 18 12:42:53 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019486.html">[rabbitmq-discuss] RFC - new exchange type idea
</A></li>
        <LI>Next message: <A HREF="019791.html">[rabbitmq-discuss] RFC - new exchange type idea
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19624">[ date ]</a>
              <a href="thread.html#19624">[ thread ]</a>
              <a href="subject.html#19624">[ subject ]</a>
              <a href="author.html#19624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm in favour of anything that makes it easier to get started.

I am continually surprised to hear things like &quot;rabbit has queues but
not pubsub&quot; as well as &quot;rabbit is good for pubsub but not queues&quot;.
Not to forget &quot;rabbit does not do persistence&quot; as well as &quot;rabbit is
best for persistence&quot; and of course &quot;rabbit uses mnesia for message
persistence&quot; when it doesn't.  In addition all kinds of FUD gets slung
about.

The Redis community has been great at innovating from the bottom
upwards, to deliver simplicity.   This is immediately visible when you
look at the slew of MQ-alike layers that people have created.  These
tend to focus on the core functions of pubsub, queue, and sometimes
1-1 and/or RPC; while ignoring eg flow control, paging, and other
features.  Some layer a work queue system on top of Redis, like
Celery.  Resque is a good example of that.

Here are more examples:

<A HREF="http://thechangelog.com/post/6791886560/thoonk-py-persistent-and-fast-push-feeds-queues-and-jobs">http://thechangelog.com/post/6791886560/thoonk-py-persistent-and-fast-push-feeds-queues-and-jobs</A>
(&quot;a project that takes a unified approach to feeds, jobs, and queues,
all with a Redis backend.&quot; and looks a lot like rabbit)

<A HREF="https://github.com/djhworld/redis-mq">https://github.com/djhworld/redis-mq</A>  (&quot;I felt tools like the
excellent RabbitMQ were too complex for small projects like the ones I
tend to make.&quot;)

<A HREF="https://github.com/ServiceStack/ServiceStack/wiki/Messaging-and-redis">https://github.com/ServiceStack/ServiceStack/wiki/Messaging-and-redis</A>
(WCF for hipsters)

<A HREF="http://restmq.com/">http://restmq.com/</A> (&quot;There are HTTP clients for pratically all
languages. That's all that it takes to use RestMQ within your
application. No special protocols or strategies, just dynamically
created queues.&quot;)

<A HREF="http://lumberjaph.net/perl/2010/04/14/presque-a-redis-tatsumaki-based-message-queue.html">http://lumberjaph.net/perl/2010/04/14/presque-a-redis-tatsumaki-based-message-queue.html</A>
(&quot;a small message queue service build on top of redis and Tatsumaki.
It&#8217;s heavily inspired by RestMQ and resque.&quot;)

<A HREF="http://flask.pocoo.org/snippets/73/">http://flask.pocoo.org/snippets/73/</A> (&quot;if you just want a very basic
queue functionality to get started&quot;)

<A HREF="https://github.com/josiahcarlson/rpqueue">https://github.com/josiahcarlson/rpqueue</A> (priority queue)

All of these projects are motivated by ease of use and a simple API.
Let's make Rabbit easier to use.

alexis




On Wed, Apr 11, 2012 at 5:36 PM, Jason J. W. Williams
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jasonjwwilliams at gmail.com</A>&gt; wrote:
&gt;<i> I think this is a great idea. It makes it easier to on onboard those who initially need a simple message queue and end up using Redis. Whatever message queue tech people start with for their first quick and dirty needs they tend to stick with. So I think this is a great idea for getting folks converted to Rabbit early.
</I>&gt;<i>
</I>&gt;<i> Yes functionally anonymous queues function the same way, but conceptually they break the idea exchanges are where you publish messages since you supply the &quot;empty&quot; exchange.
</I>&gt;<i>
</I>&gt;<i> Whether its a new exchange type or a change to the library API for anonymous queues, I like the direction Alvaro's going for folks getting their feet wet.
</I>&gt;<i>
</I>&gt;<i> -J
</I>&gt;<i>
</I>&gt;<i> Sent via iPhone
</I>&gt;<i>
</I>&gt;<i> Is your email Premiere?
</I>&gt;<i>
</I>&gt;<i> On Apr 11, 2012, at 7:13, Alvaro Videla &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">videlalvaro at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I've been thinking on creating a new exchange type whose goal will be to simplify the ways messages are routed to queues.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So now for example to publish a message to a queue I need to do something like:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> $ch-&gt;exchange_declare('foobar', 'direct');
</I>&gt;&gt;<i> $ch-&gt;queue_declare('foobar');
</I>&gt;&gt;<i> $ch-&gt;queue_bind('foobar', 'foobar');
</I>&gt;&gt;<i> $ch-&gt;basic_publish($msg, 'foobar');
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I want to be able to do this:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> $ch-&gt;exchange_declare('foobar', 'new-exchange-type');
</I>&gt;&gt;<i> $ch-&gt;basic_publish($msg, 'foobar');
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So that means that by declaring a &quot;foobar&quot; exchange with the new type I will bind a new queue to that exchange during exchange creation on the broker side.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The queue will have similar durability properties as the exchange.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The exchange won't accept binding requests, so 1 exchange of that type will only have 1 queue bound to it.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The idea is also to not perform any query while searching for a queue where to route messages, so routing speed *should* be a bit faster than a normal direct exchange.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The exchange should act basically as a direct exchange.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Then as a user of RabbitMQ that just want to have a queue server for delayed jobs this is the most basic setup I think you can have.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> BTW, I know you can publish messages to the anon exchange by using the queue name as routing key, but this requires that particular knowledge of AMQP.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> What do you guys think?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> -Alvaro
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>








<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019486.html">[rabbitmq-discuss] RFC - new exchange type idea
</A></li>
	<LI>Next message: <A HREF="019791.html">[rabbitmq-discuss] RFC - new exchange type idea
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19624">[ date ]</a>
              <a href="thread.html#19624">[ thread ]</a>
              <a href="subject.html#19624">[ subject ]</a>
              <a href="author.html#19624">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
