<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Client connection to ssl rabbitMQ is very slow
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20connection%20to%20ssl%20rabbitMQ%20is%20very%0A%20slow&In-Reply-To=%3C4F7C25DE.40703%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019340.html">
   <LINK REL="Next"  HREF="019396.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Client connection to ssl rabbitMQ is very slow</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Client%20connection%20to%20ssl%20rabbitMQ%20is%20very%0A%20slow&In-Reply-To=%3C4F7C25DE.40703%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Client connection to ssl rabbitMQ is very slow">emile at rabbitmq.com
       </A><BR>
    <I>Wed Apr  4 11:43:42 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019340.html">[rabbitmq-discuss] Client connection to ssl rabbitMQ is very slow
</A></li>
        <LI>Next message: <A HREF="019396.html">[rabbitmq-discuss] Client connection to ssl rabbitMQ is very	slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19381">[ date ]</a>
              <a href="thread.html#19381">[ thread ]</a>
              <a href="subject.html#19381">[ subject ]</a>
              <a href="author.html#19381">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On 02/04/12 15:26, Rabbit001 wrote:
&gt;<i>   I've follow the ssl configuration instructions in rabbitmq page
</I>&gt;<i> 'www.rabbitmq.com/ssl.html' to configure ssl access to rabbitmq server. I've
</I>&gt;<i> started rabbitmq server correctly and I've executed the example1 (sample
</I>&gt;<i> code for ssl java client) and the result is good, but the method
</I>&gt;<i> factory.newConnection() finish over 5sg. In the other hand, without ssl  the
</I>&gt;<i> method factory.newConnection() finish in &lt;200 ms.
</I>&gt;<i> 
</I>&gt;<i>   How do i increasse the performance in the first scenario (ssl
</I>&gt;<i> configuration)? any idea?
</I>
If your broker CPU has hardware support for certain ciphers and OpenSSL
can make use of it then try to restrict the SSL connection to those
ciphers, or to prioritise them. The &quot;ciphers&quot; SSL configuration option
in the broker is one way of achieving that. For configuration details
see <A HREF="http://www.erlang.org/doc/man/ssl.html">http://www.erlang.org/doc/man/ssl.html</A>

You might also gain some useful insight by using an SSL traffic analyser
such as &quot;ssldump&quot;. If long gaps appear in the timeline then the output
may help you to determine what is responsible for the delay.

Do other SSL clients also take long to connect? Try using the &quot;openssl
s_client&quot; option as described here:
<A HREF="http://www.rabbitmq.com/troubleshooting-ssl.html">http://www.rabbitmq.com/troubleshooting-ssl.html</A>
and check whether such connections also take long.

Does the Java client take long to connect when the SSL layer is provided
by a different SSL service? You can try this by connecting to the broker
via stunnel, socat or similar.

The last two questions may help you to focus on whether the problem lies
on the client or server side.


-Emile


</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019340.html">[rabbitmq-discuss] Client connection to ssl rabbitMQ is very slow
</A></li>
	<LI>Next message: <A HREF="019396.html">[rabbitmq-discuss] Client connection to ssl rabbitMQ is very	slow
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19381">[ date ]</a>
              <a href="thread.html#19381">[ thread ]</a>
              <a href="subject.html#19381">[ subject ]</a>
              <a href="author.html#19381">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
