<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] replication related questions in cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20replication%20related%20questions%20in%20cluster&In-Reply-To=%3CCAJinw2pi-ywr%3DTgiOMPOiahZjf83hE5xyF821xTQtQLzE5%3DGow%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019452.html">
   <LINK REL="Next"  HREF="019444.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] replication related questions in cluster</H1>
    <B>Nithya Vijayakumar</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20replication%20related%20questions%20in%20cluster&In-Reply-To=%3CCAJinw2pi-ywr%3DTgiOMPOiahZjf83hE5xyF821xTQtQLzE5%3DGow%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] replication related questions in cluster">nithyanirmal at gmail.com
       </A><BR>
    <I>Mon Apr  9 19:24:34 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019452.html">[rabbitmq-discuss] How to plan for RAM?
</A></li>
        <LI>Next message: <A HREF="019444.html">[rabbitmq-discuss] replication related questions in cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19438">[ date ]</a>
              <a href="thread.html#19438">[ thread ]</a>
              <a href="subject.html#19438">[ subject ]</a>
              <a href="author.html#19438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello all,

We are using RabbitMQ cluster (currently just 2 nodes, plan to goto 3)
for a critical application. Had the following questions and couldn't
find info on docs/forums from before. Hope folks in this forum can
help.


1. When we do a publish to a rabbitmq node, when does the publish
method return? Soon after that node got the data? or after replication
happened? Is it possible to do synchronous publish with replication?
We are trying to see if we can avoid the scenario that a node might go
down soon after publish and before the data got replicated.
Transactions seem costly and the async behavior of publisher confirms
is not suiting us well.

2. When a node restarts, it cleans up the queues and joins the
previously running node (logical master) and starts listening from
then on. Even if the second node has the exact same copy of the data
that was persisted as the current master, it still gets deleted.
Wondering if there is an option to preserve current data in mnesia
during restarts or possibly synchronize the current set of data from
the logical master. The issue we are seeing is that if node 1 and node
2 get into some manual restart operations (node1 restarts and then
node 2 restarts), both nodes loose data. We would really like to avoid
this.

Thanks,
Nithya
</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019452.html">[rabbitmq-discuss] How to plan for RAM?
</A></li>
	<LI>Next message: <A HREF="019444.html">[rabbitmq-discuss] replication related questions in cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19438">[ date ]</a>
              <a href="thread.html#19438">[ thread ]</a>
              <a href="subject.html#19438">[ subject ]</a>
              <a href="author.html#19438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
