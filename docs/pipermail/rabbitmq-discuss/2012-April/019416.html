<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Upgrade 2.7.1 RabbitMQ cluster to 2.8.1	version
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrade%202.7.1%20RabbitMQ%20cluster%20to%202.8.1%0A%09version&In-Reply-To=%3CCAHZsVQYmcfLWUYOLdWc80ZtgPOXWLjvmp-deUeM5O%3DfJVz9oOw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019414.html">
   <LINK REL="Next"  HREF="019312.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Upgrade 2.7.1 RabbitMQ cluster to 2.8.1	version</H1>
    <B>Brendan Hay</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrade%202.7.1%20RabbitMQ%20cluster%20to%202.8.1%0A%09version&In-Reply-To=%3CCAHZsVQYmcfLWUYOLdWc80ZtgPOXWLjvmp-deUeM5O%3DfJVz9oOw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Upgrade 2.7.1 RabbitMQ cluster to 2.8.1	version">brendan at soundcloud.com
       </A><BR>
    <I>Fri Apr  6 06:20:12 BST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="019414.html">[rabbitmq-discuss] Upgrade 2.7.1 RabbitMQ cluster to 2.8.1	version
</A></li>
        <LI>Next message: <A HREF="019312.html">[rabbitmq-discuss] the external application post a message to the topic being monitored by the JMS listener
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19416">[ date ]</a>
              <a href="thread.html#19416">[ thread ]</a>
              <a href="subject.html#19416">[ subject ]</a>
              <a href="author.html#19416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Eslam, what sort of state do you need to transfer from the old cluster to
the new cluster?

For messages, you will need to use shovel or a simple client to consume
messages from your old cluster and publish them to your new cluster.

If it's bindings and so on, ideally these are codified in your client code
anyway and will be established when the clients connect to the new cluster.
If this isn't the case, you can use the 'import/export definitions'
functionality from the management interface overview, with possible hand
tweaks to the exported json to ensure queue distribution/node locality
before importing to the new cluster.

Be aware that if you go the route of copying the /var/lib/rabbitmq
directory as you suggested, the source and destination hostnames of the
machines you're copying from/to need to be identical due to mnesia
requirements,

- Brendan


On Thu, Apr 5, 2012 at 9:24 PM, Matthias Radestock &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at rabbitmq.com</A>&gt;wrote:

&gt;<i> Eslam,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On 05/04/12 20:19, Eslam Mamdouh wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> mmh, i see but what about old cluster data that exists in
</I>&gt;&gt;<i> /var/lib/rabbitmq , should i have a copy of them in the new cluster with
</I>&gt;&gt;<i> version 2.8.1-1
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Yes, you could set up the new cluster with a copy of the old cluster's
</I>&gt;<i> data as a starting point. Though you do of course need to consider what to
</I>&gt;<i> do about any changes made to such data between the time the copy is taken
</I>&gt;<i> and the switch to the new cluster takes place.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i> ______________________________**_________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.</A>**rabbitmq.com&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>&gt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/**cgi-bin/mailman/listinfo/**rabbitmq-discuss&lt;https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>&gt;
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120406/435901ff/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20120406/435901ff/attachment.htm</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019414.html">[rabbitmq-discuss] Upgrade 2.7.1 RabbitMQ cluster to 2.8.1	version
</A></li>
	<LI>Next message: <A HREF="019312.html">[rabbitmq-discuss] the external application post a message to the topic being monitored by the JMS listener
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19416">[ date ]</a>
              <a href="thread.html#19416">[ thread ]</a>
              <a href="subject.html#19416">[ subject ]</a>
              <a href="author.html#19416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
