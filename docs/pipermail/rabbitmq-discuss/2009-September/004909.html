<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Erlang has closed
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Erlang%20has%20closed&In-Reply-To=4AB3A8B3.8000100%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004908.html">
   <LINK REL="Next"  HREF="004910.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Erlang has closed</H1>
    <B>tsuraan</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Erlang%20has%20closed&In-Reply-To=4AB3A8B3.8000100%40lshift.net"
       TITLE="[rabbitmq-discuss] Erlang has closed">tsuraan at gmail.com
       </A><BR>
    <I>Fri Sep 18 17:39:28 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004908.html">[rabbitmq-discuss] Erlang has closed
</A></li>
        <LI>Next message: <A HREF="004910.html">[rabbitmq-discuss] Erlang has closed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4909">[ date ]</a>
              <a href="thread.html#4909">[ thread ]</a>
              <a href="subject.html#4909">[ subject ]</a>
              <a href="author.html#4909">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> It's a single machine, and all the queues are persistent.
</I>&gt;<i>
</I>&gt;<i> Do you mean 'durable'?
</I>
Yeah, that.

&gt;<i> Transactions only span publishes and acks.
</I>
Ok, so it's possible that my program did delete the queue that it
needed and then it died before re-creating it.  Those two things are
in adjacent lines, but it's still a possibility, especially on a
really heavily overloaded machine.

&gt;<i> Any abnormal termination of a queue process should result in a sasl log
</I>&gt;<i> entry. Since you are not seeing such log entries it is unlikely that
</I>&gt;<i> abnormal queue termination is a problem.
</I>
Is the sasl log in any way related to the simple authentication and
security layer?  I had assumed it was logs for secured connections to
rabbit, but now I'm beginning to suspect it's something else...

&gt;<i> As to whether we should remove the queue record when the queue process
</I>&gt;<i> terminates abnormally ... we couldn't just leave the record in place
</I>&gt;<i> since then there would be no way to ever create a queue with the same
</I>&gt;<i> name or get rid of the record. We could restart the queue process, but
</I>&gt;<i> that presents some interesting race conditions as well as masking a
</I>&gt;<i> potentially serious error from clients (even more than is usually the
</I>&gt;<i> case). It's on our todo list to look into this area though.
</I>
Yeah, handling process failure would be complicated.  It seems like
the information required to recover a queue's contents is available
(at least the persistent contents are on disk).  I don't have any idea
how you would handle the transactions a queue is engaged in, unless
AMQP had a transaction rollback error like postgres does for
deadlocks.  From my POV, losing the messages in a queue is a pain;
it's not a total catastrophe, but it would be cool if queue contents
could be recovered after a process crash.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004908.html">[rabbitmq-discuss] Erlang has closed
</A></li>
	<LI>Next message: <A HREF="004910.html">[rabbitmq-discuss] Erlang has closed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4909">[ date ]</a>
              <a href="thread.html#4909">[ thread ]</a>
              <a href="subject.html#4909">[ subject ]</a>
              <a href="author.html#4909">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
