<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] problems with rabbitmq cluster across 2	ubuntu 9.04 machines
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20problems%20with%20rabbitmq%20cluster%20across%0A%202%09ubuntu%209.04%20machines&In-Reply-To=a7b27e2d-3a59-406f-aa84-4da1f5b1c788%40z4g2000prh.googlegroups.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004967.html">
   <LINK REL="Next"  HREF="004970.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] problems with rabbitmq cluster across 2	ubuntu 9.04 machines</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20problems%20with%20rabbitmq%20cluster%20across%0A%202%09ubuntu%209.04%20machines&In-Reply-To=a7b27e2d-3a59-406f-aa84-4da1f5b1c788%40z4g2000prh.googlegroups.com"
       TITLE="[rabbitmq-discuss] problems with rabbitmq cluster across 2	ubuntu 9.04 machines">matthias at lshift.net
       </A><BR>
    <I>Sun Sep 27 10:34:19 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004967.html">[rabbitmq-discuss] problems with rabbitmq cluster across 2	ubuntu 9.04 machines
</A></li>
        <LI>Next message: <A HREF="004970.html">[rabbitmq-discuss] problems with rabbitmq cluster across 2	ubuntu 9.04 machines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4968">[ date ]</a>
              <a href="thread.html#4968">[ thread ]</a>
              <a href="subject.html#4968">[ subject ]</a>
              <a href="author.html#4968">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pradeep,

Pradeep Gatram wrote:
&gt;<i> yes, i did that. infact, i have 1 winxp and 1 vista machines as well.
</I>&gt;<i> I have same cookie throughout. i am able to create cluster with both
</I>&gt;<i> the windows machines but not with the other ubuntu machine. cluster
</I>&gt;<i> creation succeeds if both the ubuntu machines enter into a cluster
</I>&gt;<i> with a windows machine. this lead me to think that there might be
</I>&gt;<i> something with some ubuntu security policy (ufw or something,
</I>&gt;<i> disabling ufw did not help though). any ideas will be most helpful.
</I>
For two Erlang nodes to be able to communicate they

- must have the same cookie (which, you say they do)

- must be able to resolve the other node's hostname to an IP

- must be able to connect to the Erlang port mapper daemon (epmd) on 
that IP - it listens on port 4369 by default

- must be able to connect to the other node's distribution port. That 
port is chosen dynamically (though you can &quot;pin&quot; it with -kernel 
inet_dist_listen_min 4000 inet_dist_listen_max 4000) and returned by epmd.

As a first step in tracking down the problem I suggest you start some 
test Erlang nodes on all your machines with
   erl -sname mytest -setcookie mycookie
and then evaluate
   net_adm:ping(mytest@&lt;machine1&gt;).
   net_adm:ping(mytest@&lt;machine2&gt;).
   ...
in each of the nodes, attempting to connect to the nodes on all other 
machines.

The result of that will tell you which nodes have problems talking to 
each other, and then you can use the above information about epmd etc to 
investigate that further.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004967.html">[rabbitmq-discuss] problems with rabbitmq cluster across 2	ubuntu 9.04 machines
</A></li>
	<LI>Next message: <A HREF="004970.html">[rabbitmq-discuss] problems with rabbitmq cluster across 2	ubuntu 9.04 machines
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4968">[ date ]</a>
              <a href="thread.html#4968">[ thread ]</a>
              <a href="subject.html#4968">[ subject ]</a>
              <a href="author.html#4968">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
