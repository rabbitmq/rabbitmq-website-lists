<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] procedure for dealing with	timeout_waiting_for_tables
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20procedure%20for%20dealing%20with%0A%09timeout_waiting_for_tables&In-Reply-To=84fb38e30909071108n2ae089b7ne27356b7e062c4d4%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004800.html">
   <LINK REL="Next"  HREF="004824.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] procedure for dealing with	timeout_waiting_for_tables</H1>
    <B>David Wragg</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20procedure%20for%20dealing%20with%0A%09timeout_waiting_for_tables&In-Reply-To=84fb38e30909071108n2ae089b7ne27356b7e062c4d4%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] procedure for dealing with	timeout_waiting_for_tables">david.wragg at lshift.net
       </A><BR>
    <I>Tue Sep  8 16:31:16 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004800.html">[rabbitmq-discuss] procedure for dealing with	timeout_waiting_for_tables
</A></li>
        <LI>Next message: <A HREF="004824.html">[rabbitmq-discuss] procedure for dealing with	timeout_waiting_for_tables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4823">[ date ]</a>
              <a href="thread.html#4823">[ thread ]</a>
              <a href="subject.html#4823">[ subject ]</a>
              <a href="author.html#4823">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Tsuraan,

tsuraan &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tsuraan at gmail.com</A>&gt; writes:
&gt;<i> I had a machine that had the timeout_waiting_for_tables (not in a
</I>&gt;<i> cluster, just a single node).  I'm guessing that its hostname had
</I>&gt;<i> changed, and that was making mnesia angry.  I have two questions about
</I>&gt;<i> this.  Is there a good way to figure out exactly why mnesia isn't
</I>&gt;<i> starting, i.e. is it a hostname change, a corrupt mnesia file, etc?
</I>
The answer to this part is no, not really.  Searching for reports of
similar symptoms on this list is currently your best bet.

&gt;<i> Second, to fix this, I thought I could copy out my persister logs,
</I>&gt;<i> wipe the rabbit dir from /var/lib/.../mnesia, restart rabbit, and move
</I>&gt;<i> the persisters back in.  That didn't seem to work, since the queues
</I>&gt;<i> weren't defined anymore, so the log replay apparently just threw
</I>&gt;<i> everything away.  Would remaking my exchanges, bindings, and queues,
</I>&gt;<i> then moving in my persister logs do the trick?
</I>
Yes, the likely cause is your hostname change. If you recreate all the
resources, stop rabbit, copy the saved persister logs back in, and
start rabbit, it should do the trick.

David

-- 
 [][][] David Wragg       | mail: <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">david.wragg at lshift.net</A>
   [][] Senior Developer  | tel: +44 (0)20 7729 7060
 []  [] LShift Ltd        | web: www.lshift.net


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004800.html">[rabbitmq-discuss] procedure for dealing with	timeout_waiting_for_tables
</A></li>
	<LI>Next message: <A HREF="004824.html">[rabbitmq-discuss] procedure for dealing with	timeout_waiting_for_tables
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4823">[ date ]</a>
              <a href="thread.html#4823">[ thread ]</a>
              <a href="subject.html#4823">[ subject ]</a>
              <a href="author.html#4823">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
