<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Return of 'getting started, broker runs;	can't 	get status'
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Return%20of%20%27getting%20started%2C%20broker%20runs%3B%0A%09can%27t%20%09get%20status%27&In-Reply-To=m2skefjqyb.fsf%40apache.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004925.html">
   <LINK REL="Next"  HREF="004927.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Return of 'getting started, broker runs;	can't 	get status'</H1>
    <B>Paul Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Return%20of%20%27getting%20started%2C%20broker%20runs%3B%0A%09can%27t%20%09get%20status%27&In-Reply-To=m2skefjqyb.fsf%40apache.org"
       TITLE="[rabbitmq-discuss] Return of 'getting started, broker runs;	can't 	get status'">pauljones23 at gmail.com
       </A><BR>
    <I>Tue Sep 22 10:59:12 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004925.html">[rabbitmq-discuss] Return of 'getting started, broker runs;	can't  get status'
</A></li>
        <LI>Next message: <A HREF="004927.html">[rabbitmq-discuss] Return of 'getting started, broker runs;	can't  get status'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4926">[ date ]</a>
              <a href="thread.html#4926">[ thread ]</a>
              <a href="subject.html#4926">[ subject ]</a>
              <a href="author.html#4926">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just so we can understand your setup, how are you trying to setup the users
for rabbit? Did you do the build as a rabbitmq user, or ...?

One of the most likely causes of the nodedown tends to be cookie mismatches,
which can be hard to definitively check. In both the rabbitmq-server and
rabbitmqctl scripts, can you please add the follow line somewhere within the
command line flags (perhaps after the -sname):
  -eval 'io:format(&quot;~p~n&quot;, [init:get_argument(home)])'

This will print (badly formatted I'm afraid) the home directory that erlang
is seeing, and subsequently allows you to determine that the home
directories are the same. If they are, it could also be worth adding:
  -eval 'io:format(&quot;~p~n&quot;, [erlang:get_cookie()])'

This will dump the value of the erlang cookie. Generally, the Erlang cookie
should be considered somewhat private, so I'll leave it up to you whether
you want to post it to the mailing list. Simply providing detail on whether
they are the same is enough.

On Tue, Sep 22, 2009 at 9:58 AM, J Aaron Farr &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">farra at apache.org</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> On Tue 22 Sep 2009 16:43, Paul Jones &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pauljones23 at gmail.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> &gt; Is rabbit running as root or rabbitmq? If you're running rabbit as
</I>&gt;<i> rabbitmq,
</I>&gt;<i> &gt; then you may need to add &quot;-U rabbitmq&quot; to the sudo command to ensure that
</I>&gt;<i> &gt; rabbitmqctl is running as the same user.
</I>&gt;<i>
</I>&gt;<i> I've tried both combinations, as root and as rabbitmq.  I've checked to
</I>&gt;<i> ensure both processes are run as the exact same user.  Still no dice.
</I>&gt;<i>
</I>&gt;<i> I've also made sure every rabbitmq directory is owned by rabbitmq.
</I>&gt;<i>
</I>&gt;<i> `net_adm:localhost().` returns 'gandalf.local' which is the name of the
</I>&gt;<i> local computer.  I've even added a line in /etc/hosts for gandalf.local
</I>&gt;<i> for 127.0.0.1.
</I>&gt;<i>
</I>&gt;<i> I'm really stumped here.
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i>    J. Aaron Farr
</I>&gt;<i>   &#39342;&#20625;&#20161;
</I>&gt;<i>   www.cubiclemuses.com
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090922/21bc59fa/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090922/21bc59fa/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004925.html">[rabbitmq-discuss] Return of 'getting started, broker runs;	can't  get status'
</A></li>
	<LI>Next message: <A HREF="004927.html">[rabbitmq-discuss] Return of 'getting started, broker runs;	can't  get status'
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4926">[ date ]</a>
              <a href="thread.html#4926">[ thread ]</a>
              <a href="subject.html#4926">[ subject ]</a>
              <a href="author.html#4926">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
