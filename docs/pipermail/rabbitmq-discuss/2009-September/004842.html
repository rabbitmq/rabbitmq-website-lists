<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Can not get stomp adapter running with	rabbitmq 1.6.0
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Can%20not%20get%20stomp%20adapter%20running%20with%0A%09rabbitmq%201.6.0&In-Reply-To=vmime.4aa8ea8f.66b5.b12beb8bba74f2ad%40vmdebianzarafa.nollekens.be">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004841.html">
   <LINK REL="Next"  HREF="004843.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Can not get stomp adapter running with	rabbitmq 1.6.0</H1>
    <B>Paul Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Can%20not%20get%20stomp%20adapter%20running%20with%0A%09rabbitmq%201.6.0&In-Reply-To=vmime.4aa8ea8f.66b5.b12beb8bba74f2ad%40vmdebianzarafa.nollekens.be"
       TITLE="[rabbitmq-discuss] Can not get stomp adapter running with	rabbitmq 1.6.0">pauljones23 at gmail.com
       </A><BR>
    <I>Thu Sep 10 13:07:04 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004841.html">[rabbitmq-discuss] Can not get stomp adapter running with	rabbitmq 1.6.0
</A></li>
        <LI>Next message: <A HREF="004843.html">[rabbitmq-discuss] Question about rabbit_reader.erl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4842">[ date ]</a>
              <a href="thread.html#4842">[ thread ]</a>
              <a href="subject.html#4842">[ subject ]</a>
              <a href="author.html#4842">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Joeri,

Seeing as you've already got the build environment functional, I'd recommend
the following process for getting the adapter going:
  - Clone the rabbitmq-public-umbrella with:
     hg clone <A HREF="http://hg.rabbitmq.com/rabbitmq-public-umbrella">http://hg.rabbitmq.com/rabbitmq-public-umbrella</A>
  - Request that it checkout all of the appropriate sub-projects with &quot;make
co&quot;
  - Build this by executing make in the top-level directory with &quot;make&quot;
  - Change into the STOMP adapter directory, and execute &quot;make run&quot;

For future reference, you're much better off downloading the &quot;default.zip&quot;
files instead of &quot;tip.zip&quot; - since as you'll see from many remarks in the
history of this list, tip will contain potentially random content, whilst
default will contain the latest QA'd version.

Paul.

On Thu, Sep 10, 2009 at 1:01 PM, Joeri Belis &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">j.belis at be.pgz.eu</A>&gt; wrote:

&gt;<i>  Paul,
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I got my server version from tar balls from
</I>&gt;<i> <A HREF="http://www.rabbitmq.com/download.html.">http://www.rabbitmq.com/download.html.</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> And the stomp version from
</I>&gt;<i> <A HREF="http://hg.rabbitmq.com/rabbitmq-stomp/archive/tip.tar.gz">http://hg.rabbitmq.com/rabbitmq-stomp/archive/tip.tar.gz</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Where do i get both 1.7 versions?
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>  ------------------------------
</I>&gt;<i>
</I>&gt;<i> *Van:* Paul Jones [mailto:<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">pauljones23 at gmail.com</A>]
</I>&gt;<i> *Verzonden:* donderdag 10 september 2009 13:58
</I>&gt;<i> *Aan:* Joeri Belis
</I>&gt;<i> *CC:* <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> *Onderwerp:* Re: [rabbitmq-discuss] Can not get stomp adapter running with
</I>&gt;<i> rabbitmq 1.6.0
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Hi Joeri,
</I>&gt;<i>
</I>&gt;<i> From where did you download the STOMP adapter source? The server and
</I>&gt;<i> adapter have recently changed in order to simplify the configuration process
</I>&gt;<i> using the plugin mechanism that is set for release in 1.7 (though default of
</I>&gt;<i> the server has this right now, and can be used with a source checkout).
</I>&gt;<i>
</I>&gt;<i> Thanks,
</I>&gt;<i> Paul.
</I>&gt;<i>
</I>&gt;<i> On Thu, Sep 10, 2009 at 12:40 PM, Joeri Belis &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">j.belis at be.pgz.eu</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;<i> Env= REDHAT 5
</I>&gt;<i>
</I>&gt;<i> I have compiled from tar file both rabbitmq and stomp adapter.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Then i start the rabbitmq from the stomp adapter compiled directory with
</I>&gt;<i>
</I>&gt;<i> make RABBIT_SOURCE_ROOT=../rabbitmq-server run
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> And this is the output.
</I>&gt;<i>
</I>&gt;<i> Everything except the stomp adapter gets started. Any ideas why???
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> erl -pa ebin -pa test_ebin   -pa ../rabbitmq-server/ebin -mnesia dir tmp
</I>&gt;<i> -boot start_sasl -sasl sasl_error_logger '{file, &quot;'/tmp'/rabbit-sasl.log&quot;}'
</I>&gt;<i> -kernel error_logger '{file, &quot;'/tmp'/rabbit.log&quot;}' -rabbit_stomp listeners
</I>&gt;<i> &quot;[{\&quot;0.0.0.0\&quot;,61613}]&quot; -sname rabbit -eval 'rabbit:start()' -eval 'ok =
</I>&gt;<i> application:start(rabbit_stomp)'
</I>&gt;<i>
</I>&gt;<i> Erlang (BEAM) emulator version 5.6.5 [source] [64-bit] [smp:4]
</I>&gt;<i> [async-threads:0] [hipe] [kernel-poll:false]
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Eshell V5.6.5  (abort with ^G)
</I>&gt;<i>
</I>&gt;<i> (<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at redhat09</A>)1&gt; RabbitMQ 1.6.0 (AMQP 8-0)
</I>&gt;<i>
</I>&gt;<i> Copyright (C) 2007-2009 LShift Ltd., Cohesive Financial Technologies LLC.,
</I>&gt;<i> and Rabbit Technologies Ltd.
</I>&gt;<i>
</I>&gt;<i> Licensed under the MPL.  See <A HREF="http://www.rabbitmq.com/">http://www.rabbitmq.com/</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> node        : <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at redhat09</A>
</I>&gt;<i>
</I>&gt;<i> log         : /tmp/rabbit.log
</I>&gt;<i>
</I>&gt;<i> sasl log    : /tmp/rabbit-sasl.log
</I>&gt;<i>
</I>&gt;<i> database dir: /usr/local/src/rabbitmq-stomp-7a22cfe47f66/tmp
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> starting database             ...done
</I>&gt;<i>
</I>&gt;<i> starting core processes       ...done
</I>&gt;<i>
</I>&gt;<i> starting recovery             ...done
</I>&gt;<i>
</I>&gt;<i> starting persister            ...done
</I>&gt;<i>
</I>&gt;<i> starting guid generator       ...done
</I>&gt;<i>
</I>&gt;<i> starting builtin applications ...done
</I>&gt;<i>
</I>&gt;<i> starting TCP listeners        ...done
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> broker running
</I>&gt;<i>
</I>&gt;<i> starting STOMP Adapter (binding to [{&quot;0.0.0.0&quot;,61613}])  ...{&quot;init
</I>&gt;<i> terminating in
</I>&gt;<i> do_boot&quot;,{{badmatch,{error,{bad_return,{{rabbit_stomp,start,[normal,[]]},{'EXIT',{{badmatch,{error,{shutdown,{child,undefined,'rabbit_stomp_listener_sup_0.0.0.0:61613',{tcp_listener_sup,start_link,[{0,0,0,0},61613,[{packet,raw},{reuseaddr,true}],{rabbit_stomp_server,listener_started,[]},{rabbit_stomp_server,listener_stopped,[]},{rabbit_stomp_server,start_client,[]},&quot;STOMP
</I>&gt;<i> Listener&quot;]},transient,infinity,supervisor,[tcp_listener_sup]}}}},[{rabbit_stomp_server,start_listeners,1},{rabbit_stomp_server,start,1},{rabbit_stomp,start,2},{application_master,start_it_old,4}]}}}}}},[{erl_eval,expr,3}]}}
</I>&gt;<i>
</I>&gt;<i> Erlang has closed
</I>&gt;<i>
</I>&gt;<i>                  /usr/lib64/erlang/lib/os_mon-2.1.8/priv/bin/memsup: Erlang
</I>&gt;<i> has closed.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Crash dump was written to: erl_crash.dump
</I>&gt;<i>
</I>&gt;<i> init terminating in do_boot ()
</I>&gt;<i>
</I>&gt;<i> make: *** [run] Fout 1
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090910/713f341e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090910/713f341e/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004841.html">[rabbitmq-discuss] Can not get stomp adapter running with	rabbitmq 1.6.0
</A></li>
	<LI>Next message: <A HREF="004843.html">[rabbitmq-discuss] Question about rabbit_reader.erl
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4842">[ date ]</a>
              <a href="thread.html#4842">[ thread ]</a>
              <a href="subject.html#4842">[ subject ]</a>
              <a href="author.html#4842">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
