<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Issue with .Net client Subscription
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Issue%20with%20.Net%20client%20Subscription&In-Reply-To=405015D33AA1C842A17F6E241598F62476797A068E%40STAPMAL0002.rbsres07.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004891.html">
   <LINK REL="Next"  HREF="004893.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Issue with .Net client Subscription</H1>
    <B>Paul Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Issue%20with%20.Net%20client%20Subscription&In-Reply-To=405015D33AA1C842A17F6E241598F62476797A068E%40STAPMAL0002.rbsres07.net"
       TITLE="[rabbitmq-discuss] Issue with .Net client Subscription">pauljones23 at gmail.com
       </A><BR>
    <I>Thu Sep 17 20:41:38 BST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004891.html">[rabbitmq-discuss] Issue with .Net client Subscription
</A></li>
        <LI>Next message: <A HREF="004893.html">[rabbitmq-discuss] Issue with .Net client Subscription
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4892">[ date ]</a>
              <a href="thread.html#4892">[ thread ]</a>
              <a href="subject.html#4892">[ subject ]</a>
              <a href="author.html#4892">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Deepak,

Did you create a topic exchange? Wildcard routing keys in the form you're
using require a topic exchange.

Paul.

On Thu, Sep 17, 2009 at 8:36 PM, &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Deepak.Kumar1 at rbs.com</A>&gt; wrote:

&gt;<i> Hello
</I>&gt;<i>
</I>&gt;<i> Has anyone faced issues not getting messages when using catch-all
</I>&gt;<i> subscription using the .Net Client library ?
</I>&gt;<i>
</I>&gt;<i> The publishing code is below -
</I>&gt;<i>
</I>&gt;<i> IConnection conn1 = new ConnectionFactory().CreateConnection(
</I>&gt;<i> &quot;localhost:5672&quot;);
</I>&gt;<i> chSendUpdate = conn1.CreateModel();
</I>&gt;<i>
</I>&gt;<i> ...
</I>&gt;<i>
</I>&gt;<i> chSendUpdate.BasicPublish(string.Empty, &quot;STOCK.PRICES.&quot; + CUSIP, null,
</I>&gt;<i> Encoding.UTF8.GetBytes(bodyText));
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The subscription code is
</I>&gt;<i> using (IConnection conn = new
</I>&gt;<i> ConnectionFactory().CreateConnection(&quot;localhost:5672&quot;)){
</I>&gt;<i>    using (IModel ch = conn.CreateModel())    {
</I>&gt;<i>         Subscription sub = new Subscription(ch, &quot;STOCK.PRICES.#&quot;);
</I>&gt;<i>         foreach (BasicDeliverEventArgs e in sub)         {
</I>&gt;<i>             Console.WriteLine(&quot;Topic({0}):{1}&quot;, e.RoutingKey,
</I>&gt;<i> ASCIIEncoding.ASCII.GetString(e.Body));
</I>&gt;<i>             sub.Ack(e);
</I>&gt;<i>         }
</I>&gt;<i>     }
</I>&gt;<i>   }
</I>&gt;<i> }
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> If the subscription RoutingKey is changed to specific like
</I>&gt;<i> &quot;STOCK.PRICES.MSFT&quot; etc. then the messages are received fine so i'm guessing
</I>&gt;<i> there's some flag/option that needs to bet setup or enabled
</I>&gt;<i>
</I>&gt;<i> I've also tried the sample code in the .net user guide using
</I>&gt;<i> QueueingBasicConsumer
</I>&gt;<i> but no success there either
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Any ideas on what could be wrong ?
</I>&gt;<i> *****Please note that my email address may have changed. For all
</I>&gt;<i> future correspondence, please use this address*****
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ********************************************************************This
</I>&gt;<i> message (including any attachments) is confidential and/or
</I>&gt;<i> privileged. It is to be used by the intended recipients only. If
</I>&gt;<i> you have received it by mistake please notify the sender by return
</I>&gt;<i> e-mail and delete this message from your system. Any unauthorized
</I>&gt;<i> use or dissemination of this message in whole or in part is
</I>&gt;<i> strictly prohibited. Please note that e-mails are inherently
</I>&gt;<i> insecure and susceptible to change. The Royal Bank of Scotland
</I>&gt;<i> Group, plc (&quot;RBS&quot;) and its US subsidiaries, and affiliates and
</I>&gt;<i> subsidiary undertakings, including but not limited to, RBS plc New
</I>&gt;<i> York and Connecticut Branches, RBS Securities Inc., ABN AMRO Bank
</I>&gt;<i> N.V. New York and Chicago Branches and, ABN AMRO Incorporated,
</I>&gt;<i> Citizens Financial Group, Inc. and RBS Citizens, N.A., shall not be
</I>&gt;<i> liable for the improper or incomplete transmission of the
</I>&gt;<i> information contained in this communication or Attachment nor for
</I>&gt;<i> any delay in its receipt or damage to your system. RBS does not
</I>&gt;<i> guarantee that the integrity of this communication has been
</I>&gt;<i> maintained nor that this communication is free of viruses,
</I>&gt;<i> interceptions or interference. RBS and its subsidiaries and
</I>&gt;<i> affiliates do not guarantee the accuracy of any email or
</I>&gt;<i> attachment, that an email will be received or that RBS or its
</I>&gt;<i> affiliates and subsidiaries will respond to an email.
</I>&gt;<i>
</I>&gt;<i> RBS makes no representations that any information contained in this
</I>&gt;<i> message (including any attachments) are appropriate for use in all
</I>&gt;<i> locations or that transactions, securities, products, instruments
</I>&gt;<i> or services discussed herein are available or appropriate for sale
</I>&gt;<i> or use in all jurisdictions, or by all investors or counterparties.
</I>&gt;<i> Those who utilize this information do so on their own initiative
</I>&gt;<i> and are responsible for compliance with applicable local laws or
</I>&gt;<i>
</I>&gt;<i> regulations.********************************************************************
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090917/d7192255/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20090917/d7192255/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004891.html">[rabbitmq-discuss] Issue with .Net client Subscription
</A></li>
	<LI>Next message: <A HREF="004893.html">[rabbitmq-discuss] Issue with .Net client Subscription
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4892">[ date ]</a>
              <a href="thread.html#4892">[ thread ]</a>
              <a href="subject.html#4892">[ subject ]</a>
              <a href="author.html#4892">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
