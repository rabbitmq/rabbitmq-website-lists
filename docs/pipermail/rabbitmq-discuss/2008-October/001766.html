<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] I'd like rabbitmq to be able to pick its own	port(s)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20I%27d%20like%20rabbitmq%20to%20be%20able%20to%20pick%20its%20own%0A%09port%28s%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001770.html">
   <LINK REL="Next"  HREF="001768.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] I'd like rabbitmq to be able to pick its own	port(s)</H1>
    <B>Terry Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20I%27d%20like%20rabbitmq%20to%20be%20able%20to%20pick%20its%20own%0A%09port%28s%29&In-Reply-To="
       TITLE="[rabbitmq-discuss] I'd like rabbitmq to be able to pick its own	port(s)">terry at jon.es
       </A><BR>
    <I>Wed Oct 22 01:18:49 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001770.html">[rabbitmq-discuss] Bug(?) in stopping multiple instances	of	rabbitmq-server
</A></li>
        <LI>Next message: <A HREF="001768.html">[rabbitmq-discuss] I'd like rabbitmq to be able to pick its	own	port(s)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1766">[ date ]</a>
              <a href="thread.html#1766">[ thread ]</a>
              <a href="subject.html#1766">[ subject ]</a>
              <a href="author.html#1766">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The reason I ran into the problem stopping multiple instances of rabbitmq
is that I was just starting to play with it and was wondering about how
port numbers are chosen/assigned.

It would be useful (to me, anyway) if Rabbit could leave port assignment to
the OS and then report on what it gets.

I'd like to locally test some code that simulates multiple machines, each
of which has an instance of rabbit running on it. That means I want to
start multiple instances on my local machine. But rabbit either tries to
use its default 5672 port or lets you choose one. That means that my test
code has to somehow be picking port numbers and is either less reliable or
more complex because it would ideally avoid picking ports that are in use.
If rabbit could just leave it to the OS and then report the port(s) it
gets, that would be nice. Then I could parse its output and know where to
connect to.

Sorry if that all sounds convoluted.  To give an example from the Twisted
[1] world, when I start a twistd service, if I don't tell it what port to
use, it lets the OS allocated it. I can then log it and test code can parse
the log to see where the new service is listening. That makes it easy to
write code that doesn't need to know (or impose) a port number in advance.
So I can have many copies of the same service running on the same machine,
no problem.  That makes local testing of a complex multi-host service much
easier.

Regards,
Terry

[1] <A HREF="http://twistedmatrix.com/trac/">http://twistedmatrix.com/trac/</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001770.html">[rabbitmq-discuss] Bug(?) in stopping multiple instances	of	rabbitmq-server
</A></li>
	<LI>Next message: <A HREF="001768.html">[rabbitmq-discuss] I'd like rabbitmq to be able to pick its	own	port(s)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1766">[ date ]</a>
              <a href="thread.html#1766">[ thread ]</a>
              <a href="subject.html#1766">[ subject ]</a>
              <a href="author.html#1766">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
