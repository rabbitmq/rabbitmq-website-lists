<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Improved queue status
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Improved%20queue%20status&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001682.html">
   <LINK REL="Next"  HREF="001687.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Improved queue status</H1>
    <B>Chris Van Pelt</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Improved%20queue%20status&In-Reply-To="
       TITLE="[rabbitmq-discuss] Improved queue status">vanpelt at gmail.com
       </A><BR>
    <I>Fri Oct  3 21:21:17 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001682.html">[rabbitmq-discuss] Redelivery of unacknowledged messages
</A></li>
        <LI>Next message: <A HREF="001687.html">[rabbitmq-discuss] Improved queue status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1683">[ date ]</a>
              <a href="thread.html#1683">[ thread ]</a>
              <a href="subject.html#1683">[ subject ]</a>
              <a href="author.html#1683">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>While using rabbitmq recently I was surprised to discover there is no
reliable way to introspect the status of a given queue.  Specifically the
amount of pending items in a queue.  Because items are sent to consumers in
batch, if I do a passive declare on a queue my message count is 0 even
though I may have 1000 items waiting in the TCP buffer of my consumer.  This
becomes a big issue if my items are taking more than 5 seconds to complete.
The reason I want this information is so that I can intelligently add more
consumers as load fluctuates.

The simplest way to solve this issue in my mind would be for rabbitmq to be
able to return the number of un-acked items in a given queue.  Has there
been any discussion of this?  My current approach is to make Get requests
instead of consuming a queue.

Also, rabbitmq kicks ass!!  Thanks for all the hard work.

Chris
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20081003/c34a1ac7/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20081003/c34a1ac7/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001682.html">[rabbitmq-discuss] Redelivery of unacknowledged messages
</A></li>
	<LI>Next message: <A HREF="001687.html">[rabbitmq-discuss] Improved queue status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1683">[ date ]</a>
              <a href="thread.html#1683">[ thread ]</a>
              <a href="subject.html#1683">[ subject ]</a>
              <a href="author.html#1683">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
