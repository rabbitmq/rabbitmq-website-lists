<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Topic routing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Topic%20routing&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001746.html">
   <LINK REL="Next"  HREF="001748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Topic routing</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Topic%20routing&In-Reply-To="
       TITLE="[rabbitmq-discuss] Topic routing">0x6e6562 at gmail.com
       </A><BR>
    <I>Mon Oct 20 11:32:20 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001746.html">[rabbitmq-discuss] RabbitMQ 1.4 on RHEL 5 64-bit
</A></li>
        <LI>Next message: <A HREF="001748.html">[rabbitmq-discuss] Topic routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1747">[ date ]</a>
              <a href="thread.html#1747">[ thread ]</a>
              <a href="subject.html#1747">[ subject ]</a>
              <a href="author.html#1747">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Brian,

I am taking you up on your offer to turn this into a list topic :-)

On Thu, Oct 16, 2008 at 6:06 PM, Brian Sullivan &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bsullivan at lindenlab.com</A>&gt; wrote:
&gt;<i> Yes, we're using topic exchanges, since we want to be able to publish
</I>&gt;<i> messages from multiple domains - I've been prepending the domain to the
</I>&gt;<i> topic name. In this case, if I want to
</I>&gt;<i> track someone logging in, my topic is &quot;productiongrid.login&quot;.  If I want to
</I>&gt;<i> subscribe across ALL logins for some reason, I can subscribe to &quot;*.login&quot;.
</I>&gt;<i>  Does that make sense?
</I>
Do you mean that you are sending messages to the default topic
exchange with the routing key productiongrid.login or do you have a
topic exchange called productiongrid.login?

&gt;<i> I guess I *could* create an exchange for each grid, but that seems to be a
</I>&gt;<i> less scalable solution, and it's harder to subscribe to &quot;all&quot; of them.
</I>
I don't think I understand your domain enough to judge this (a diagram
always helps :-).

Topic exchanges are very simple way to do hierarchial routing because
consumers can filter out portions of a routing key that they are not
interested in.

However, in the current architecture, direct bindings are more
efficient than topic bindings because they can exploit an index that
topics can't.

So I think that the scalablility sweet spot between topic exchanges
and direct exchanges will depend on the semantics of your application
and the abstractions that you want to employ.

&gt;<i> Either way, if the broker has no bindings to a key, it should be able to
</I>&gt;<i> just drop it, correct?
</I>
Yes, if it can't route a message, it just turfs it (if it's quick
enough to drain the pipeline ;-)

&gt;<i> I am not clear why it would be so slow in this case.
</I>&gt;<i> I just ran some other tests this morning - I think the scenario I described
</I>&gt;<i> below (sudden drop in performance) is when I start using swap. Any
</I>&gt;<i> ideas?
</I>
It is always helpful to have a stripped down test that can help us
reproduce the issues that you are experiencing with your own code.
That combined with an understanding of what you are trying to acheive
will allow us to come up with a solution for your problem.

HTH,

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001746.html">[rabbitmq-discuss] RabbitMQ 1.4 on RHEL 5 64-bit
</A></li>
	<LI>Next message: <A HREF="001748.html">[rabbitmq-discuss] Topic routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1747">[ date ]</a>
              <a href="thread.html#1747">[ thread ]</a>
              <a href="subject.html#1747">[ subject ]</a>
              <a href="author.html#1747">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
