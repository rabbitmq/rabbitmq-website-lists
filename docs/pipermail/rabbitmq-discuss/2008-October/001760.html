<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Exchanges, Routing, and AMQP
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Exchanges%2C%20Routing%2C%20and%20AMQP&In-Reply-To=6c2563b20810202130y35b7215end8607782b438035%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001759.html">
   <LINK REL="Next"  HREF="001763.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Exchanges, Routing, and AMQP</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Exchanges%2C%20Routing%2C%20and%20AMQP&In-Reply-To=6c2563b20810202130y35b7215end8607782b438035%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Exchanges, Routing, and AMQP">0x6e6562 at gmail.com
       </A><BR>
    <I>Tue Oct 21 09:38:57 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001759.html">[rabbitmq-discuss] Exchanges, Routing, and AMQP
</A></li>
        <LI>Next message: <A HREF="001763.html">[rabbitmq-discuss] Exchanges, Routing, and AMQP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1760">[ date ]</a>
              <a href="thread.html#1760">[ thread ]</a>
              <a href="subject.html#1760">[ subject ]</a>
              <a href="author.html#1760">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Edwin,

On Tue, Oct 21, 2008 at 5:30 AM, Edwin Fine
&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss_efine at usa.net</A>&gt; wrote:
&gt;<i> Coincidentally, I did look into rabbit_exchange:route while waiting for your
</I>&gt;<i> response. One (very very minor) thing that struck me on reading it was the
</I>&gt;<i> use of regexp:split/2 to convert &quot;a.dotted.topic.key&quot; to
</I>&gt;<i> [&quot;a&quot;,&quot;dotted&quot;,&quot;topic&quot;,&quot;key&quot;]. I wondered why the more efficient
</I>&gt;<i> string:tokens/2 was not used. They do have different behavior in edge
</I>&gt;<i> conditions (e.g. &quot;.atopic&quot;) - was that the reason?
</I>
I don't know where that code originated from so I can't comment.
However, if you think that you of a more efficient implementation,
feel free to contribute it. There is a test case for this in the
rabbit_tests module.

&gt;<i> Anyway, besides that, for now I'll probably just go with a topic exchange,
</I>&gt;<i> which seems to be the general purpose ancestor of all the others. I really
</I>&gt;<i> do not want to add my code to the Rabbit server side and risk having merge
</I>&gt;<i> difficulties when future releases arise...
</I>
Although I am not eagerly encouraging you to go out and hack away at
the internal modules, to be objective, I think that the conciseness of
that module would not necessarily lead to any significant merge
issues. After all, you would just be using Erlang pattern matching to
do the code organization for you.

Another thought crossed my mind as well - to experiment with some kind
of module paramterization or some callback that would separate these
concerns (again with reference to the custom queue discussion - I
think that to do something like this would be a lot more tractable
with exchanges than it would be with queues).

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001759.html">[rabbitmq-discuss] Exchanges, Routing, and AMQP
</A></li>
	<LI>Next message: <A HREF="001763.html">[rabbitmq-discuss] Exchanges, Routing, and AMQP
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1760">[ date ]</a>
              <a href="thread.html#1760">[ thread ]</a>
              <a href="subject.html#1760">[ subject ]</a>
              <a href="author.html#1760">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
