<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Topic routing
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Topic%20routing&In-Reply-To=7A8E4A9E-EFA8-4A4C-AC24-64A6FF3BF412%40lindenlab.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001779.html">
   <LINK REL="Next"  HREF="001784.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Topic routing</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Topic%20routing&In-Reply-To=7A8E4A9E-EFA8-4A4C-AC24-64A6FF3BF412%40lindenlab.com"
       TITLE="[rabbitmq-discuss] Topic routing">0x6e6562 at gmail.com
       </A><BR>
    <I>Wed Oct 22 01:54:44 BST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001779.html">[rabbitmq-discuss] I'd like rabbitmq to be able to pick its own port(s)
</A></li>
        <LI>Next message: <A HREF="001784.html">[rabbitmq-discuss] Topic routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1767">[ date ]</a>
              <a href="thread.html#1767">[ thread ]</a>
              <a href="subject.html#1767">[ subject ]</a>
              <a href="author.html#1767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Brian,

On Wed, Oct 22, 2008 at 1:35 AM, Brian Sullivan &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">bsullivan at lindenlab.com</A>&gt; wrote:
&gt;<i> Just to clarify what you mean by &quot;not affect the run time complexity of
</I>&gt;<i> routing&quot;...  Are you saying that each node in a cluster has to manage the
</I>&gt;<i> total load of ALL messages that hit the cluster, regardless of whether the
</I>&gt;<i> producer is sending to that node or not?  I was under the impression that
</I>&gt;<i> the shared routing table that is synchronized across the cluster would be
</I>&gt;<i> leveraged by each node to know where it might need to forward messages (only
</I>&gt;<i> to those nodes managing queues that have relevant subscriptions).
</I>
No, a single node only has to route the messages sent directly to it.
The queues to which that node has to route messages to may or may not
exist on the same node.

&gt;<i> For example, if I had a cluster with nodes A, B, C -
</I>&gt;<i> When I have [only] a client A1 publishing a busy topic stream to node A and
</I>&gt;<i> a client B1 subscribing to that topic on node B...  Does C see any load at
</I>&gt;<i> all?
</I>
Only if C has a queue that matches a routing key for a message sent to
A or B, but even if that is the case, a queue process on C receives a
already-routed message in it's inbox -  and this is optimized across
nodes so that only one intra-node TX is made per message, even if
there are multiple matches on the remote node.

&gt;&gt;<i> Clustering will not affect the run time complexity of routing, since
</I>&gt;&gt;<i> the routing table has to be coherent across the cluster.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> In a clustered scenario, the queues may reside on different nodes,
</I>&gt;&gt;<i> whereas exchanges will *exist* on every node.
</I>
What I meant to say that the parallelism does not change the
fundamental complexity of the routing algorithm - sure it will
distribute load, but O(n) is still O(n) even in a clustered context.

So when you up the ante to the nth degree, you will find that this
methodology *may* not cut it (although you are actually scaling
linearly :-)

The question remains - do you think that you will realistically take
it to the nth degree.

HTH,

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001779.html">[rabbitmq-discuss] I'd like rabbitmq to be able to pick its own port(s)
</A></li>
	<LI>Next message: <A HREF="001784.html">[rabbitmq-discuss] Topic routing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1767">[ date ]</a>
              <a href="thread.html#1767">[ thread ]</a>
              <a href="subject.html#1767">[ subject ]</a>
              <a href="author.html#1767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
