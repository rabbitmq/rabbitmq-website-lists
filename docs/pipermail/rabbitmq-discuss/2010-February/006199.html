<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] connecting to multiple rabbitmq servers	(point-multipoint)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20connecting%20to%20multiple%20rabbitmq%20servers%0A%09%28point-multipoint%29&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006299.html">
   <LINK REL="Next"  HREF="006203.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] connecting to multiple rabbitmq servers	(point-multipoint)</H1>
    <B>Guillem Corominas</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20connecting%20to%20multiple%20rabbitmq%20servers%0A%09%28point-multipoint%29&In-Reply-To="
       TITLE="[rabbitmq-discuss] connecting to multiple rabbitmq servers	(point-multipoint)">gcorominas at dexmatech.com
       </A><BR>
    <I>Fri Feb  5 15:31:45 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006299.html">[rabbitmq-discuss] Monitoring Message Throughput
</A></li>
        <LI>Next message: <A HREF="006203.html">[rabbitmq-discuss] PHP Client libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6199">[ date ]</a>
              <a href="thread.html#6199">[ thread ]</a>
              <a href="subject.html#6199">[ subject ]</a>
              <a href="author.html#6199">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I have a problem regarding the use of multiple rabbitmq servers installed in
lots of machines (one in each).
My architecture is based on diferent machines that produce data and send its
local rabbitmq server.
Then there is a master machine which connects to all the producers'
rabbitmqs using the Java client and consumes all the data, by extending the
DefaultConsumer and overriding the handleDelivery method.

My scenario with one producer and one consumer works like a charm. However
when I start consuming from a second producer,
it works well during a small period of time (about 2h) and then suddenly
stops consuming the data from the producers (stops both at the same time)
and queues start to fill.

I supose it's a problem with the connection &amp; or channel but there is
nothing on the logs (neither in the java client nor in the rabbitmq).
If I then try to perform a basicCancel to any of my consumer instances, the
call becomes blocked and never returns a response neither an error.

I have one open connection and one open channel per producer, however I have
3 consumers that consume different kinds of message (topic dependent) that
share the Channel.
Can this be the problem? if not, anybody can tell me what considerations
(about connections, channels, consumers &amp; co) I have to take into account
when doing this point-multipoint aproaches?

thanks a lot in advance, I'm really stuck and don't know where to head to.

guillem
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100205/e1821e35/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100205/e1821e35/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006299.html">[rabbitmq-discuss] Monitoring Message Throughput
</A></li>
	<LI>Next message: <A HREF="006203.html">[rabbitmq-discuss] PHP Client libraries
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6199">[ date ]</a>
              <a href="thread.html#6199">[ thread ]</a>
              <a href="subject.html#6199">[ subject ]</a>
              <a href="author.html#6199">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
