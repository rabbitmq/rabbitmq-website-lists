<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Problem stopping and starting rabbitmq	(branch bug21673)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Problem%20stopping%20and%20starting%20rabbitmq%0A%09%28branch%20bug21673%29&In-Reply-To=20100215200332.GA7472%40wellquite.org">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006336.html">
   <LINK REL="Next"  HREF="006340.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Problem stopping and starting rabbitmq	(branch bug21673)</H1>
    <B>scott w</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Problem%20stopping%20and%20starting%20rabbitmq%0A%09%28branch%20bug21673%29&In-Reply-To=20100215200332.GA7472%40wellquite.org"
       TITLE="[rabbitmq-discuss] Problem stopping and starting rabbitmq	(branch bug21673)">scottblanc at gmail.com
       </A><BR>
    <I>Mon Feb 15 20:24:00 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006336.html">[rabbitmq-discuss] Problem stopping and starting rabbitmq (branch bug21673)
</A></li>
        <LI>Next message: <A HREF="006340.html">[rabbitmq-discuss] Problem stopping and starting rabbitmq (branch bug21673)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6339">[ date ]</a>
              <a href="thread.html#6339">[ thread ]</a>
              <a href="subject.html#6339">[ subject ]</a>
              <a href="author.html#6339">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Feb 15, 2010 at 12:03 PM, Matthew Sackman &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthew at lshift.net</A>&gt;wrote:

&gt;<i> Hi Scott,
</I>&gt;<i>
</I>&gt;<i> On Mon, Feb 15, 2010 at 10:54:13AM -0800, scott w wrote:
</I>&gt;<i> &gt; We've been using bug21673 and we are having trouble stopping and starting
</I>&gt;<i> a
</I>&gt;<i> &gt; rabbitmq instance. Looking in the logs, we get the output below after
</I>&gt;<i> &gt; running rabbitmq-server stop. Also in the past I have seen &quot;bad rpc node
</I>&gt;<i> &gt; down&quot; and never knew what that meant or how to fix it. Does rabbitmqctrl
</I>&gt;<i> &gt; stop-app and rabbitmq-server stop do the same or fundamentally diffferent
</I>&gt;<i> &gt; things? An explanation of the difference would be helpful.
</I>&gt;<i>
</I>&gt;<i> They should do the same thing. This one is very odd - it looks like tcp
</I>&gt;<i> listeners are being started as the Erlang VM kernel is being shutdown.
</I>&gt;<i> I've never seen this before, but I'd be slightly surprised if it's
</I>&gt;<i> unique to 21673. Can you reproduce this at all on the default branch?
</I>&gt;<i>
</I>
Unfortunately no. To be honest, everything works fine on small loads. We are
using that branch for very large loads where the number of tasks don't fit
into memory. So while the problem itself may not be specific to this branch,
I haven't seen this problem in the default branch because the default can't
handle the loads we're generating.


&gt;<i> Also, which version of Erlang are you running? 12B3 is the minimum for
</I>&gt;<i> that branch, and 13B03 is recommended.
</I>&gt;<i>
</I>
12B-4 is what we're building from source. What benefits would we get from
upgrading to 13B03?

Btw, are there any special rabbitmq/erlang commands or tools we can run to
verify that rabbimq is healthy beyond running rabbitmqctl and looking at
logs? I find the logs rather cryptic sometimes.

thanks,
Scott
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100215/6e8f9b05/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100215/6e8f9b05/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006336.html">[rabbitmq-discuss] Problem stopping and starting rabbitmq (branch bug21673)
</A></li>
	<LI>Next message: <A HREF="006340.html">[rabbitmq-discuss] Problem stopping and starting rabbitmq (branch bug21673)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6339">[ date ]</a>
              <a href="thread.html#6339">[ thread ]</a>
              <a href="subject.html#6339">[ subject ]</a>
              <a href="author.html#6339">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
