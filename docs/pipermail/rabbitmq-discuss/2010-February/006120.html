<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Poor performance using a single RabbitMQ	connection on high-latency networks
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Poor%20performance%20using%20a%20single%20RabbitMQ%0A%09connection%20on%20high-latency%20networks&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006118.html">
   <LINK REL="Next"  HREF="006124.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Poor performance using a single RabbitMQ	connection on high-latency networks</H1>
    <B>Holger Hoffstaette</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Poor%20performance%20using%20a%20single%20RabbitMQ%0A%09connection%20on%20high-latency%20networks&In-Reply-To="
       TITLE="[rabbitmq-discuss] Poor performance using a single RabbitMQ	connection on high-latency networks">holger.hoffstaette at googlemail.com
       </A><BR>
    <I>Mon Feb  1 13:59:16 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006118.html">[rabbitmq-discuss] Poor performance using a single RabbitMQ	connection on high-latency networks
</A></li>
        <LI>Next message: <A HREF="006124.html">[rabbitmq-discuss] Poor performance using a single RabbitMQ connection on high-latency networks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6120">[ date ]</a>
              <a href="thread.html#6120">[ thread ]</a>
              <a href="subject.html#6120">[ subject ]</a>
              <a href="author.html#6120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 01 Feb 2010 13:33:16 +0000, Matthew Sackman wrote:

&gt;<i> Thanks for forwarding that to the list, Holger.
</I>
Next one coming up, see below.

FWIW it was not an obscure problem like firewall, Windows anomalies, ack
mode or anything like that.

I've always been curious why the default values were so small - any good
reasons? What I find even more curious is why fixing the server side
affects TCP window handling, which should normally be negotiated by the
client. IIRC that only works properly when the server does not explicitly
configure anything and uses the OS defaults.

-h

-------- Original Message --------
Subject: Re: [rabbitmq-discuss] Poor performance using a single RabbitMQ connection on high-latency networks
Date: Mon, 01 Feb 2010 14:41:36 +0100
From: Holger Hoffst&#228;tte &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">holger.hoffstaette at googlemail.com</A>&gt;
To: Vladimir Balandin &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">vbalandin at griddynamics.com</A>&gt;

Vladimir Balandin wrote:
&gt;<i> We have fixed the problem by set send/receive buffers on server side.
</I>&gt;<i> 
</I>&gt;<i> -kernel inet_default_listen_options
</I>&gt;<i> [{nodelay,true},{sndbuf,65535},{recbuf,65535}]
</I>
Good to know - I wanted to suggest that next as I always do that on my
rabbits even on LAN.

Again: please post to the list so that everyone can benefit!

-h





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006118.html">[rabbitmq-discuss] Poor performance using a single RabbitMQ	connection on high-latency networks
</A></li>
	<LI>Next message: <A HREF="006124.html">[rabbitmq-discuss] Poor performance using a single RabbitMQ connection on high-latency networks
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6120">[ date ]</a>
              <a href="thread.html#6120">[ thread ]</a>
              <a href="subject.html#6120">[ subject ]</a>
              <a href="author.html#6120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
