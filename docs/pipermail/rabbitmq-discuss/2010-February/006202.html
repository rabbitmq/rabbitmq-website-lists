<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] error message trying to start stomp adapter?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20error%20message%20trying%20to%20start%20stomp%20adapter%3F&In-Reply-To=4B6444B4.3020001%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006201.html">
   <LINK REL="Next"  HREF="006211.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] error message trying to start stomp adapter?</H1>
    <B>Erik Anderson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20error%20message%20trying%20to%20start%20stomp%20adapter%3F&In-Reply-To=4B6444B4.3020001%40lshift.net"
       TITLE="[rabbitmq-discuss] error message trying to start stomp adapter?">erikba at odysseus.anderson.name
       </A><BR>
    <I>Fri Feb  5 18:35:26 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006201.html">[rabbitmq-discuss] How to compile rabbitmq-c with visual c++	2005?
</A></li>
        <LI>Next message: <A HREF="006211.html">[rabbitmq-discuss] error message trying to start stomp adapter?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6202">[ date ]</a>
              <a href="thread.html#6202">[ thread ]</a>
              <a href="subject.html#6202">[ subject ]</a>
              <a href="author.html#6202">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Sorry for taking so long to get back, it's been a long week...

These are the env variables I have at the top of the file (I tried to
minimize changes to the launch script this time around):

set ERLANG_HOME=C:\Program Files\erl5.7.3
set RABBITMQ_BASE=c:\tw\comet\rabbitmq-data
set RABBITMQ_NODE_IP_ADDRESS=127.0.0.1

...and this is the launch line:

&quot;C:\Program Files\erl5.7.3\bin\erl.exe&quot;
-noinput
-boot &quot;C:\tw\comet\rabbitmq_server-1.7.1\sbin\..\ebin\rabbit&quot;
-sname rabbit
-s rabbit
+W w
+A30
-kernel inet_default_listen_options &quot;[{nodelay, true}, {sndbuf,
16384}, {recbuf, 4096}]&quot;
-kernel inet_default_connect_options &quot;[{nodelay, true}]&quot;
-rabbit tcp_listeners [{\&quot;&quot;127.0.0.1&quot;\&quot;,&quot;5672&quot;}] stomp_listeners
[{\&quot;&quot;127.0.0.1&quot;\&quot;,&quot;61600&quot;}]
-kernel error_logger {file,\&quot;&quot;c:/tw/comet/rabbitmq-data/log/
rabbit.log&quot;\&quot;}
-sasl errlog_type error
-sasl sasl_error_logger {file,\&quot;&quot;c:/tw/comet/rabbitmq-data/log/rabbit-
sasl.log&quot;\&quot;}
-os_mon start_cpu_sup true
-os_mon start_disksup false
-os_mon start_memsup false
-mnesia dir \&quot;&quot;c:/tw/comet/rabbitmq-data/db/rabbit-mnesia&quot;\&quot;

The machine I am running this on has 4GB of RAM (and 4 IP addresses).
I have repeatedly wiped the c:\tw\comet\rabbitmq-data folder in an
attempt to remove any unknown/unexpected configuration files from
affecting the program.  Note that I changed the port to &quot;61600&quot; above,
but it's still launching on the original port, the IP address is
ignored as well.

Of course, in the end I'd like to figure out why this thing is
refusing to do a socket bind, instead reporting that the IP address is
invalid...

On Jan 30, 6:39&#160;am, Matthias Radestock &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matth... at lshift.net</A>&gt; wrote:
&gt;<i> Erik,
</I>&gt;<i>
</I>&gt;<i> Erik Anderson wrote:
</I>&gt;<i> &gt; ProcessExplorer trace shows no registry or file activity during the
</I>&gt;<i> &gt; &quot;timeouts&quot;, the next action after the first one is a load of
</I>&gt;<i> &gt; stomp.beam, the action after the second is a write to the log file.
</I>&gt;<i> &gt; The only attempt to access %APPDATA% is to write a file
</I>&gt;<i> &gt; named .erlang.cookie - no other file or folder existence check is
</I>&gt;<i> &gt; made.
</I>&gt;<i>
</I>&gt;<i> &gt; Modifying the stomp_listener line to change the ip address to 0.0.0.0
</I>&gt;<i> &gt; or scramble to a dummy port has no effect (is this thing hardcoded to
</I>&gt;<i> &gt; {&quot;127.0.0.1&quot;,61613} or something?)
</I>&gt;<i>
</I>&gt;<i> Where are you modifying that line? In the rabbitmq.config? If so then
</I>&gt;<i> from ...
</I>&gt;<i>
</I>&gt;<i> &gt; log &#160; &#160; &#160; &#160; &#160; : c:/tw/comet/rabbitmq-data/log/rabbit.log
</I>&gt;<i> &gt; sasl log &#160; &#160; &#160;: c:/tw/comet/rabbitmq-data/log/rabbit-sasl.log
</I>&gt;<i> &gt; database dir &#160;: c:/tw/comet/rabbitmq-data/db/rabbit-mnesia
</I>&gt;<i>
</I>&gt;<i> ...it looks like you have changed the setting of %RABBITMQ_BASE% to
</I>&gt;<i> C:\tw\comet\rabbitmq-data. In that case the rabbitmq.config file needs
</I>&gt;<i> to go into that dir. If that still makes no difference, I suggest you
</I>&gt;<i> add some debug output to the rabbitmq-server.bat script to display the
</I>&gt;<i> value of %RABBITMQ_CONFIG_FILE% around line 120. That will tell you for
</I>&gt;<i> certain where rabbit is looking for it (minus the .config extension).
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-disc... at lists.rabbitmq.comhttp</A>://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006201.html">[rabbitmq-discuss] How to compile rabbitmq-c with visual c++	2005?
</A></li>
	<LI>Next message: <A HREF="006211.html">[rabbitmq-discuss] error message trying to start stomp adapter?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6202">[ date ]</a>
              <a href="thread.html#6202">[ thread ]</a>
              <a href="subject.html#6202">[ subject ]</a>
              <a href="author.html#6202">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
