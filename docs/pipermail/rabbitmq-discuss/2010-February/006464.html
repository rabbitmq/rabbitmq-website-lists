<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Channel.Flow in Java client
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Channel.Flow%20in%20Java%20client&In-Reply-To=64de5c8b1002220822k4b11622fs7dab998f76515367%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006433.html">
   <LINK REL="Next"  HREF="006437.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Channel.Flow in Java client</H1>
    <B>Tony Garnock-Jones</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Channel.Flow%20in%20Java%20client&In-Reply-To=64de5c8b1002220822k4b11622fs7dab998f76515367%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Channel.Flow in Java client">tonyg at lshift.net
       </A><BR>
    <I>Thu Feb 25 05:13:51 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006433.html">[rabbitmq-discuss] Channel.Flow in Java client
</A></li>
        <LI>Next message: <A HREF="006437.html">[rabbitmq-discuss] Can't Determine Cause of 541 - INTERNAL_ERROR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6464">[ date ]</a>
              <a href="thread.html#6464">[ thread ]</a>
              <a href="subject.html#6464">[ subject ]</a>
              <a href="author.html#6464">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Rajkumar,

There's currently no public API for checking whether channel.flow has
been asserted or not. Sorry about that. I've filed a bug to get it
looked at (bug 22412, fyi).

For now, you can use the internal implementation details to get hold of
the value. PLEASE BE WARNED, this can only be a temporary solution,
since we reserve the right to change implementation internals without
notice! So really, if you decide to do this, know that it will
eventually stop working. That said:

  // Gross encapsulation-violating temporary hack to work around
  // the lack of public API for retrieving Channel.Flow status
  Channel ch = ...;
  com.rabbitmq.client.impl.ChannelN chImpl
    = (com.rabbitmq.client.impl.ChannelN) ch;
  System.out.println(&quot;We are currently &quot; +
                     (chImpl._blockContent ? &quot;BLOCKED&quot; : &quot;NOT blocked&quot;)+
                     &quot; from sending content.&quot;);

Regards,
  Tony

Rajkumar S wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> How does a java client (I am using rabbitmq 1.7.2) know when a server
</I>&gt;<i> has enabled Channel.Flow?
</I>&gt;<i> 
</I>&gt;<i> I have been using the stomp plugin to send messages to rabbitmq, since
</I>&gt;<i> stomp plugin does not handle Channel.Flow I am writing a stomp to amqp
</I>&gt;<i> gateway. But during my testing basicPublish method just waits when
</I>&gt;<i> server has enabled Channel.Flow. Is this the normal behavior?
</I>&gt;<i> 
</I>&gt;<i> I am now experimenting with TX. Is there any better way to take care
</I>&gt;<i> of situation when server has enabled Channel.Flow?
</I>&gt;<i> 
</I>&gt;<i> with regards,
</I>&gt;<i> 
</I>&gt;<i> raj
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006433.html">[rabbitmq-discuss] Channel.Flow in Java client
</A></li>
	<LI>Next message: <A HREF="006437.html">[rabbitmq-discuss] Can't Determine Cause of 541 - INTERNAL_ERROR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6464">[ date ]</a>
              <a href="thread.html#6464">[ thread ]</a>
              <a href="subject.html#6464">[ subject ]</a>
              <a href="author.html#6464">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
