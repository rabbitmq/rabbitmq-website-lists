<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] STOMP &amp; AMPQ
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20STOMP%20%26%20AMPQ&In-Reply-To=">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006391.html">
   <LINK REL="Next"  HREF="006307.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] STOMP &amp; AMPQ</H1>
    <B>Lionel Cons</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20STOMP%20%26%20AMPQ&In-Reply-To="
       TITLE="[rabbitmq-discuss] STOMP &amp; AMPQ">lionel.cons at cern.ch
       </A><BR>
    <I>Thu Feb 11 07:36:14 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006391.html">[rabbitmq-discuss] Using dbg to semi-invasively extend the broker (was Re: Plugin Hooks / Callbacks)
</A></li>
        <LI>Next message: <A HREF="006307.html">[rabbitmq-discuss] STOMP &amp; AMPQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6301">[ date ]</a>
              <a href="thread.html#6301">[ thread ]</a>
              <a href="subject.html#6301">[ subject ]</a>
              <a href="author.html#6301">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>First of all, I've tried to use the RabbitMQ STOMP gateway and it
worked flawlessly.

This said, the way it works (see for instance the topic example in
<A HREF="http://dev.rabbitmq.com/wiki/StompGateway#section_2">http://dev.rabbitmq.com/wiki/StompGateway#section_2</A>) looks like
bricolage to me.

As an illustration, using my Net::STOMP Perl module, a topic
subscription in ActiveMQ would look like:

  $stomp-&gt;subscribe(destination =&gt; &quot;/topic/some.test&quot;);

but in RabbitMQ you would have to write:

  $some_test_id = $stomp-&gt;uuid();
  $stomp-&gt;subscribe(
      destination =&gt; &quot;&quot;,
      exchange    =&gt; &quot;amq.topic&quot;,
      routing_key =&gt; &quot;some.test&quot;
      id          =&gt; $some_test_id,
  );

Several different brokers support STOMP but unfortunately it is very
hard to write broker independent code on top of STOMP.

Coming back to AMQP, since objects could be created dynamically via a
simple STOMP SUBSCRIBE frame, it would be good to be able to control
some attributes _explicitly_ rather than relying on hacks like
&quot;destination:&quot; to create a private queue. FWIW, similar hacks exist
also outside the AMQP world, like &quot;destination:/temp-queue/foo&quot; in
ActiveMQ.

In any case AMQP 1-0 will require a change of the STOMP gateway to
expose the new nodes, links, filters... Time for a clean mapping
between AMQP and STOMP?

Cheers,
__________________________________________________________
Lionel Cons        <A HREF="http://cern.ch/lionel.cons">http://cern.ch/lionel.cons</A>
CERN               <A HREF="http://cern.ch">http://cern.ch</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006391.html">[rabbitmq-discuss] Using dbg to semi-invasively extend the broker (was Re: Plugin Hooks / Callbacks)
</A></li>
	<LI>Next message: <A HREF="006307.html">[rabbitmq-discuss] STOMP &amp; AMPQ
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6301">[ date ]</a>
              <a href="thread.html#6301">[ thread ]</a>
              <a href="subject.html#6301">[ subject ]</a>
              <a href="author.html#6301">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
