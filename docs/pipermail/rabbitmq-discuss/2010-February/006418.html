<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Behaviour change from rabbitMQ v1.7.0 to	v1.7.1
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Behaviour%20change%20from%20rabbitMQ%20v1.7.0%20to%0A%09v1.7.1&In-Reply-To=9f4a617f1002172006p6b44d7cof739e68d5e5c3b15%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006386.html">
   <LINK REL="Next"  HREF="006387.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Behaviour change from rabbitMQ v1.7.0 to	v1.7.1</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Behaviour%20change%20from%20rabbitMQ%20v1.7.0%20to%0A%09v1.7.1&In-Reply-To=9f4a617f1002172006p6b44d7cof739e68d5e5c3b15%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Behaviour change from rabbitMQ v1.7.0 to	v1.7.1">matthias at lshift.net
       </A><BR>
    <I>Sat Feb 20 10:46:21 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006386.html">[rabbitmq-discuss] Behaviour change from rabbitMQ v1.7.0 to v1.7.1
</A></li>
        <LI>Next message: <A HREF="006387.html">[rabbitmq-discuss] rabbitmq-c thread-safe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6418">[ date ]</a>
              <a href="thread.html#6418">[ thread ]</a>
              <a href="subject.html#6418">[ subject ]</a>
              <a href="author.html#6418">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Arun,

apologies for the late reply. We have been rather busy (even more so 
than usual).

Arun Suresh wrote:
&gt;<i> We are currently using RabbitMQ 1.7.0 and we'd like to move to 1.7.2 but 
</I>&gt;<i> we have noticed a fundamental behavior change across these versions. 
</I>&gt;<i> [...]
</I>&gt;<i> if '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at host1</A>' goes down, 'client1' cannot recreate 'test_queue' on 
</I>&gt;<i> '<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at host2</A>'.
</I>&gt;<i> Do this imply that... all queues created on the node WILL be unavailable 
</I>&gt;<i> for the duration of the nodes outage ??
</I>
It has always been the case that when a queue's host node goes down that 
the queue is unavailable for the duration of the outage. However, 
previously it was possible to create a queue *with the same name* on a 
different node. That queue was *not* the same logical queue, and its 
creation could result in observable client behaviour that violates the 
AMQP spec and is surprising to users (you'll find a few reports on the 
mailing list), e.g. messages suddenly vanish and re-appear on node 
restart. There were also cases where the persister would get confused, 
and message duplication could occur.

&gt;<i> 2) What is the suggested approach to tackle these types of availability 
</I>&gt;<i> issues in rabbitMQ ?
</I>
The objective of RabbitMQ's current clustering approach is scalability. 
It does little to improve availability. For the latter there are several 
approaches, depending on what exactly you need to have available and 
whether short outages are acceptable. One common solution is to have a 
hot standby broker, i.e. have an active/passive setup. iirc this has 
been discussed on the list before, so a search should throw up some results.


Regards,

Matthias.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006386.html">[rabbitmq-discuss] Behaviour change from rabbitMQ v1.7.0 to v1.7.1
</A></li>
	<LI>Next message: <A HREF="006387.html">[rabbitmq-discuss] rabbitmq-c thread-safe
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6418">[ date ]</a>
              <a href="thread.html#6418">[ thread ]</a>
              <a href="subject.html#6418">[ subject ]</a>
              <a href="author.html#6418">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
