<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Monitoring Message Throughput
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Monitoring%20Message%20Throughput&In-Reply-To=4B6DDC4E.1050403%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006215.html">
   <LINK REL="Next"  HREF="006199.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Monitoring Message Throughput</H1>
    <B>Matt Todd</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Monitoring%20Message%20Throughput&In-Reply-To=4B6DDC4E.1050403%40lshift.net"
       TITLE="[rabbitmq-discuss] Monitoring Message Throughput">mtodd at highgroove.com
       </A><BR>
    <I>Wed Feb 10 19:07:29 GMT 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="006215.html">[rabbitmq-discuss] Monitoring Message Throughput
</A></li>
        <LI>Next message: <A HREF="006199.html">[rabbitmq-discuss] connecting to multiple rabbitmq servers	(point-multipoint)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6299">[ date ]</a>
              <a href="thread.html#6299">[ thread ]</a>
              <a href="subject.html#6299">[ subject ]</a>
              <a href="author.html#6299">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I agree with both Garrett and Gavin with some minor additions:

I think pure throughput should include messages failed to be ack'd and
having to be resent since it is technically output. They could be reported
separately and combined manually for those that don't mind the difference.

I think it would be cool to see something similar to Unix load that reports
on the last minute averages, the last 5 minute's average, and the last 15
minute's average. But, this goes back to the discussion on counters and how
easy it is for us to do this on our end since many tools do this for us
already.

So, in this regard, it would be much more useful for the data to just be
handed back to us whenever we request it as a pure count. Let us do the
hard/interesting work of calculating averages over specific time intervals,
etc.

RE: throughput, I think we should show both enqueued and dequeued throughput
separately, but do definitely want to include both.

Matt



On Sat, Feb 6, 2010 at 4:17 PM, Matthias Radestock &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at lshift.net</A>&gt;wrote:

&gt;<i> Nico,
</I>&gt;<i>
</I>&gt;<i> Nico Meyer wrote:
</I>&gt;<i> &gt; are there any good solutions to monitor the message throughput of
</I>&gt;<i> &gt; RabbitMQ? Preferably broken down by queues. I have quickly checked the
</I>&gt;<i> &gt; monitoring solutions on the webpage, but none seem to have that feature.
</I>&gt;<i> &gt; Also there is probably not enough data exported by RabbitMQ to do this.
</I>&gt;<i>
</I>&gt;<i> The closest you can get at the moment is the various socket stats
</I>&gt;<i> reported by 'rabbitmqctl list_connections', but that is clearly quite a
</I>&gt;<i> long way from per-queue message throughput stats.
</I>&gt;<i>
</I>&gt;<i> We will add more stats (and more ways of getting at them) in the future,
</I>&gt;<i> so your input is appreciated in defining what exactly it is that you and
</I>&gt;<i> other users are looking for. So, regarding your specific request ...
</I>&gt;<i>
</I>&gt;<i> By &quot;throughput&quot; do you mean:
</I>&gt;<i> - rate at which messages are enqueued?
</I>&gt;<i> - rate at which messages are dequeued?
</I>&gt;<i>
</I>&gt;<i> If it's &quot;messages enqueued&quot;, what happens to messages that are part of a
</I>&gt;<i> transaction? Are they included in the figure immediately or only when
</I>&gt;<i> the tx has committed?
</I>&gt;<i>
</I>&gt;<i> If it's &quot;messages dequeued&quot;, what happens to message redeliveries (e.g.
</I>&gt;<i> when a message has been delivered but then the client disconnected w/o
</I>&gt;<i> acking them and the message is subsequently redelivered to another
</I>&gt;<i> client)? Are they included in the figure?
</I>&gt;<i>
</I>&gt;<i> Also,
</I>&gt;<i> - are you interested in message counts, i.e. messages per second, or
</I>&gt;<i> data volumes, i.e. octets per second?
</I>&gt;<i> - over what period of time should the figures be averaged?
</I>&gt;<i> - do the stats of a durable queue need to survive a broker restart?
</I>&gt;<i> - do the stats still need to be accessible after a queue has been deleted?
</I>&gt;<i> - what stats other than per-queue throughputs would you like to see?
</I>&gt;<i>
</I>&gt;<i> I realise these are a lot of questions. But answering them will help us
</I>&gt;<i> shape our future stats architecture.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>


-- 
Matt Todd
Highgroove Studios
www.highgroove.com
cell: 404-314-2612
blog: maraby.org

Scout - Web Monitoring and Reporting Software
www.scoutapp.com
-------------- next part --------------
An HTML attachment was scrubbed...
URL: <A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100210/7a7bdd56/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20100210/7a7bdd56/attachment.htm</A> 
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006215.html">[rabbitmq-discuss] Monitoring Message Throughput
</A></li>
	<LI>Next message: <A HREF="006199.html">[rabbitmq-discuss] connecting to multiple rabbitmq servers	(point-multipoint)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6299">[ date ]</a>
              <a href="thread.html#6299">[ thread ]</a>
              <a href="subject.html#6299">[ subject ]</a>
              <a href="author.html#6299">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
