<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Publish messages only when needed ?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publish%20messages%20only%20when%20needed%20%3F&In-Reply-To=%3C4CADE74B.3090906%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009349.html">
   <LINK REL="Next"  HREF="009328.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Publish messages only when needed ?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Publish%20messages%20only%20when%20needed%20%3F&In-Reply-To=%3C4CADE74B.3090906%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Publish messages only when needed ?">matthias at rabbitmq.com
       </A><BR>
    <I>Thu Oct  7 16:29:15 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009349.html">[rabbitmq-discuss] Publish messages only when needed ?
</A></li>
        <LI>Next message: <A HREF="009328.html">[rabbitmq-discuss] rabbitmq meetup at springone 2gx?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9325">[ date ]</a>
              <a href="thread.html#9325">[ thread ]</a>
              <a href="subject.html#9325">[ subject ]</a>
              <a href="author.html#9325">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>RomainC wrote:
&gt;<i> Hello,
</I>&gt;<i> 
</I>&gt;<i> I am working with rabbitMQ + lvc plugin on a prototype of telemetry
</I>&gt;<i> diffusion with :
</I>&gt;<i> - up to 10 producers (1 exchanges by producer) located on the rabbit-server
</I>&gt;<i> node
</I>&gt;<i> - up to 10 remote/local consumers (2 queues by consumer) 
</I>&gt;<i> - up to 10000 messages/s (max 78byte/message) splitted on the different
</I>&gt;<i> exchanges
</I>&gt;<i> - a consumers only subscribe to a part of the whole flow of messages.
</I>&gt;<i> - java language api
</I>&gt;<i> 
</I>&gt;<i> Everything is working fine but my prototype is using a large amount of CPU
</I>&gt;<i> time and memory. I even experienced some 'out of memory' crash of the server
</I>&gt;<i> in extreme cases.
</I>
What version of rabbitmq-server are you running? It's quite difficult to 
make rabbit &gt;= 2.0.0 crash due to running out of memory.

Also, the high CPU load doesn't sound right for the figures you mention 
above. When you see that, could you capture the output of all the 
'rabbitmqctl list_*' commands and post it here? That might allow us to 
identify some inefficiency in your set up.

Regards,

Matthias.
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009349.html">[rabbitmq-discuss] Publish messages only when needed ?
</A></li>
	<LI>Next message: <A HREF="009328.html">[rabbitmq-discuss] rabbitmq meetup at springone 2gx?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9325">[ date ]</a>
              <a href="thread.html#9325">[ thread ]</a>
              <a href="subject.html#9325">[ subject ]</a>
              <a href="author.html#9325">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
