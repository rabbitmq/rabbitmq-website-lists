<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] integration testing with Rabbit and Java
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20integration%20testing%20with%20Rabbit%20and%20Java&In-Reply-To=%3Cd6d36963-71a8-4ce5-a438-abba77d818a4%40k22g2000yqh.googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009645.html">
   <LINK REL="Next"  HREF="009647.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] integration testing with Rabbit and Java</H1>
    <B>Dave Syer</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20integration%20testing%20with%20Rabbit%20and%20Java&In-Reply-To=%3Cd6d36963-71a8-4ce5-a438-abba77d818a4%40k22g2000yqh.googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] integration testing with Rabbit and Java">david_syer at hotmail.com
       </A><BR>
    <I>Fri Oct 29 18:53:22 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009645.html">[rabbitmq-discuss] integration testing with Rabbit and Java
</A></li>
        <LI>Next message: <A HREF="009647.html">[rabbitmq-discuss] txAMQP and RPC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9699">[ date ]</a>
              <a href="thread.html#9699">[ thread ]</a>
              <a href="subject.html#9699">[ subject ]</a>
              <a href="author.html#9699">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Oct 26, 1:54&#160;pm, Shane &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">sh... at digitalsanctum.com</A>&gt; wrote:
&gt;<i> Anyone have any pointers on how best to do integration testing with
</I>&gt;<i> RabbitMQ, java client, and Spring AMQP?
</I>
There are some integration tests in Spring AMQP (look for
*IntegrationTests.java).  We use a JUnit rule to check for a broker
before we start testing.  At the moment this is just a convenient way
to prevent failures in a CI build, but we might extend it to be a
little more subtle (e.g. allow an assertion instead of an assumption
depending on a profile setting).

&gt;<i> I'd also like to know how to easily setup/start/stop more than one
</I>&gt;<i> broker per machine programmatically to test things like failover. Is
</I>&gt;<i> there such a thing as a mock broker?
</I>
There *are* some utilities in Spring AMQP for starting and stopping a
broker, but I'm not 100% happy with them yet (hence we don't use them
in our Rabbit integration tests yet).  The main problems are platform
variability (e.g. Windows behaves rather differently than Linux), and
occasional slow start up, which is hard to distinguish from failed
startup.  If you want to try it out and maybe give us some feedback,
or even help out with fixing problems, you can look at
RabbitBrokerAdmin (in the spring-rabbit-admin project).

Someone suggested that maybe JErlang might be usable to launch an
embedded broker for testing.  No-one tried it as far as I know, but
we'd be interested to hear of any experience or opinions on that as
well.

D.
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009645.html">[rabbitmq-discuss] integration testing with Rabbit and Java
</A></li>
	<LI>Next message: <A HREF="009647.html">[rabbitmq-discuss] txAMQP and RPC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9699">[ date ]</a>
              <a href="thread.html#9699">[ thread ]</a>
              <a href="subject.html#9699">[ subject ]</a>
              <a href="author.html#9699">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
