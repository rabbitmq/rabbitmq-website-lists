<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Java Client Changes
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20Client%20Changes&In-Reply-To=%3CBEFA34A0-2C8F-408C-A346-9097B4488C04%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009430.html">
   <LINK REL="Next"  HREF="009433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Java Client Changes</H1>
    <B>Rob Harrop</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Java%20Client%20Changes&In-Reply-To=%3CBEFA34A0-2C8F-408C-A346-9097B4488C04%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Java Client Changes">rob at rabbitmq.com
       </A><BR>
    <I>Tue Oct 12 14:39:27 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009430.html">[rabbitmq-discuss] Consumer Not Getting Message
</A></li>
        <LI>Next message: <A HREF="009433.html">[rabbitmq-discuss] Java Client Changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9385">[ date ]</a>
              <a href="thread.html#9385">[ thread ]</a>
              <a href="subject.html#9385">[ subject ]</a>
              <a href="author.html#9385">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>All,

We're almost locked down on our proposed changes to the threading in the Java Client. Before we merge these changes into default I'd love to get some more testing from the community to make sure the new behaviour does what we need it to do and doesn't cause problems that we haven't found in testing.

Summary of changes:

* Dispatch to consumers now happens on a separate thread from the Connection thread
* Each Channel has its own dispatch thread
* Consumers can now call back into Channel without worrying about deadlocking
* Consumers on one Channel don't stall Consumers on another Channel
* Channels are safe for use from multiple threads (not suitable for heavy concurrent usage though)
* QueueingConsumer is now deprecated in favour of implementing Consumer directly or extending DefaultConsumer

You can get and build the client with:

hg clone <A HREF="http://hg.rabbitmq.com/rabbitmq-java-client/">http://hg.rabbitmq.com/rabbitmq-java-client/</A>
cd rabbitmq-java-client
hg up bug18384
ant dist

You'll find rabbitmq-client.jar in bulid/dist.

Please try the new client out and let me know if you have any suggestions/problems.

Regards,

Rob
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009430.html">[rabbitmq-discuss] Consumer Not Getting Message
</A></li>
	<LI>Next message: <A HREF="009433.html">[rabbitmq-discuss] Java Client Changes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9385">[ date ]</a>
              <a href="thread.html#9385">[ thread ]</a>
              <a href="subject.html#9385">[ subject ]</a>
              <a href="author.html#9385">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
