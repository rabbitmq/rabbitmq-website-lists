<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Schedule Messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Schedule%20Messages&In-Reply-To=%3C4CA5D7FA.8030504%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009209.html">
   <LINK REL="Next"  HREF="009211.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Schedule Messages</H1>
    <B>Michael Bridgen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Schedule%20Messages&In-Reply-To=%3C4CA5D7FA.8030504%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Schedule Messages">mikeb at rabbitmq.com
       </A><BR>
    <I>Fri Oct  1 13:45:46 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009209.html">[rabbitmq-discuss] Schedule Messages
</A></li>
        <LI>Next message: <A HREF="009211.html">[rabbitmq-discuss] Schedule Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9210">[ date ]</a>
              <a href="thread.html#9210">[ thread ]</a>
              <a href="subject.html#9210">[ subject ]</a>
              <a href="author.html#9210">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> Another solution, which you can implement right now, is to get the
</I>&gt;&gt;<i> publishers to stick an expiry header into the message and to publish
</I>&gt;&gt;<i> the message to a dedicated delay queue. A helper app consumes messages
</I>&gt;&gt;<i> from that queue one at a time and checks the expiry. If the expiry is
</I>&gt;&gt;<i> in the past it re-publishes the message to the appropriate exchange
</I>&gt;&gt;<i> for routing. Otherwise it waits until the deadline.
</I>&gt;<i> 
</I>&gt;<i> This (any many other) AMQP intermiediaries would be assisted by:
</I>&gt;<i> 
</I>&gt;<i> - A way to consume messages without receiving the message content, just
</I>&gt;<i>   the properties and headers.
</I>&gt;<i> 
</I>&gt;<i> - A way to republish consumed messages without having to re-send the
</I>&gt;<i>   message content to the server.
</I>&gt;<i> 
</I>&gt;<i> An with these features, implementing a general and efficient message
</I>&gt;<i> scheduler based on timer wheels would be fairly simple.
</I>
Interesting thought; like a basic.head (just the headers please) and 
basic.redirect (please dequeue this and publish it again).  The latter 
could work with (unacked) messages acquired through basic.consume or 
basic.get, too.

In the case of plugins, using a direct connection is effectively the 
same thing, by the way.

mkb
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009209.html">[rabbitmq-discuss] Schedule Messages
</A></li>
	<LI>Next message: <A HREF="009211.html">[rabbitmq-discuss] Schedule Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9210">[ date ]</a>
              <a href="thread.html#9210">[ thread ]</a>
              <a href="subject.html#9210">[ subject ]</a>
              <a href="author.html#9210">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
