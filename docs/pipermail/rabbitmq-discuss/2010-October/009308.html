<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to 2.1.x.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrading%20RabbitMQ%20cluster%20from%201.7.x%20to%202.1.x.&In-Reply-To=%3C29896612.post%40talk.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009307.html">
   <LINK REL="Next"  HREF="009309.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to 2.1.x.</H1>
    <B>filiptepper</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrading%20RabbitMQ%20cluster%20from%201.7.x%20to%202.1.x.&In-Reply-To=%3C29896612.post%40talk.nabble.com%3E"
       TITLE="[rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to 2.1.x.">filip at tepper.pl
       </A><BR>
    <I>Wed Oct  6 14:16:51 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009307.html">[rabbitmq-discuss] unsynchronized access to com.rabbitmq.client.impl.AMQChannel#_blockContent in java client
</A></li>
        <LI>Next message: <A HREF="009309.html">[rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to	2.1.x.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9308">[ date ]</a>
              <a href="thread.html#9308">[ thread ]</a>
              <a href="subject.html#9308">[ subject ]</a>
              <a href="author.html#9308">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi,

I'm running a small cluster of 2 RabbitMQ 1.7.x nodes. Due to random crashes
after some consumer failures I'm looking into an upgrade to 2.1.x version
(yes, the persistor!).

I was wondering if someone has any experience with doing live upgrades
between these version? I require HA, so it's impossible to shut down both
nodes, upgrade and bring them back. I was looking into the possibility of
clustering one 1.7.x node with a 2.1.x, but this didn't work as expected (am
I doing something wrong?).

Of course I could try shutting down first node, upgrade it, clear all the
queues on the second node, bring back the first node unclustered and then
move all the traffic to it, upgrade second and cluster it back with the
first one.

Any other ideas?

Regards,
Filip
-- 
View this message in context: <A HREF="http://old.nabble.com/Upgrading-RabbitMQ-cluster-from-1.7.x-to-2.1.x.-tp29896612p29896612.html">http://old.nabble.com/Upgrading-RabbitMQ-cluster-from-1.7.x-to-2.1.x.-tp29896612p29896612.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.

</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009307.html">[rabbitmq-discuss] unsynchronized access to com.rabbitmq.client.impl.AMQChannel#_blockContent in java client
</A></li>
	<LI>Next message: <A HREF="009309.html">[rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to	2.1.x.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9308">[ date ]</a>
              <a href="thread.html#9308">[ thread ]</a>
              <a href="subject.html#9308">[ subject ]</a>
              <a href="author.html#9308">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
