<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Understanding RabbitMQ clustering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Understanding%20RabbitMQ%20clustering&In-Reply-To=%3C1958A72B-4262-4CBB-AF37-2D60A9CE8940%40npcinternational.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009686.html">
   <LINK REL="Next"  HREF="009690.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Understanding RabbitMQ clustering</H1>
    <B>Jon Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Understanding%20RabbitMQ%20clustering&In-Reply-To=%3C1958A72B-4262-4CBB-AF37-2D60A9CE8940%40npcinternational.com%3E"
       TITLE="[rabbitmq-discuss] Understanding RabbitMQ clustering">jon.brisbin at npcinternational.com
       </A><BR>
    <I>Fri Oct 29 14:09:30 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009686.html">[rabbitmq-discuss] Understanding RabbitMQ clustering
</A></li>
        <LI>Next message: <A HREF="009690.html">[rabbitmq-discuss] Understanding RabbitMQ clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9689">[ date ]</a>
              <a href="thread.html#9689">[ thread ]</a>
              <a href="subject.html#9689">[ subject ]</a>
              <a href="author.html#9689">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Do you want failover or clustering (or both)?

I use both. I have haproxy as a TCP proxy that sits in front of the RabbitMQ servers and acts as a failover and load balancer mechanism.

Behind the proxy are clustered RabbitMQ instances, which means they use the standard RabbitMQ clustering mechanism and have the same queues, exchanges, and whatnot on each box.

I then use Spring AMQP to connect to the *proxy*, who decides which of the RabbitMQ instances I actually get connected to.


Jon Brisbin
Portal Webmaster
NPC International, Inc.


On Oct 29, 2010, at 1:27 AM, Kshitiz Garg wrote:

&gt;<i> Hi,
</I>&gt;<i> 
</I>&gt;<i> I have just started working with RabbitMQ for my cloud messaging/eventing application. The proof of concept worked well with rabbitMQ and Spring AMQP. Now, I want to start preparing for scalability. 
</I>&gt;<i> I am able to setup a rabbitMQ cluster with 2 rabbitMQs installed on 2 separate machines. Now I want to know what is achieved by &quot;clustering&quot; in terms of rabbitMQ. 
</I>&gt;<i> 
</I>&gt;<i> My spring amqp template has been given a connection Factory like this:
</I>&gt;<i> 
</I>&gt;<i>     &lt;!-- RabbitMQ configurations --&gt;
</I>&gt;<i>     &lt;!-- Define a connectionFactory --&gt;
</I>&gt;<i>     &lt;bean id=&quot;connectionFactory&quot;
</I>&gt;<i>         class=&quot;org.springframework.amqp.rabbit.connection.SingleConnectionFactory&quot;&gt;
</I>&gt;<i>         &lt;constructor-arg value=&quot;localhost&quot; /&gt;
</I>&gt;<i>         &lt;property name=&quot;username&quot; value=&quot;guest&quot; /&gt;
</I>&gt;<i>         &lt;property name=&quot;password&quot; value=&quot;guest&quot; /&gt;
</I>&gt;<i>     &lt;/bean&gt;
</I>&gt;<i> 
</I>&gt;<i>     &lt;!-- Configure the admin class --&gt;
</I>&gt;<i>     &lt;bean id=&quot;amqpAdmin&quot; class=&quot;org.springframework.amqp.rabbit.core.RabbitAdmin&quot;&gt;
</I>&gt;<i>         &lt;constructor-arg ref=&quot;connectionFactory&quot; /&gt;
</I>&gt;<i>     &lt;/bean&gt;
</I>&gt;<i> 
</I>&gt;<i> Here I have specified localhost, so now, if I send a amqp message through rabbitMQ and this localhost broker is not up, will that message go through its cluster node automatically ?
</I>&gt;<i> 
</I>&gt;<i> If that's the case, then what do we mean by high availability?
</I>&gt;<i> 
</I>&gt;<i> Thanks,
</I>&gt;<i> Kshitiz Garg
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101029/e4869f23/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20101029/e4869f23/attachment.htm</A>&gt;
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009686.html">[rabbitmq-discuss] Understanding RabbitMQ clustering
</A></li>
	<LI>Next message: <A HREF="009690.html">[rabbitmq-discuss] Understanding RabbitMQ clustering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9689">[ date ]</a>
              <a href="thread.html#9689">[ thread ]</a>
              <a href="subject.html#9689">[ subject ]</a>
              <a href="author.html#9689">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
