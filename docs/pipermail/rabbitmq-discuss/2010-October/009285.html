<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Simpler STOMP Behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Simpler%20STOMP%20Behaviour&In-Reply-To=%3C4CA9F245.8010309%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009284.html">
   <LINK REL="Next"  HREF="009296.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Simpler STOMP Behaviour</H1>
    <B>Michael Bridgen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Simpler%20STOMP%20Behaviour&In-Reply-To=%3C4CA9F245.8010309%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Simpler STOMP Behaviour">mikeb at rabbitmq.com
       </A><BR>
    <I>Mon Oct  4 16:27:01 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009284.html">[rabbitmq-discuss] Simpler STOMP Behaviour
</A></li>
        <LI>Next message: <A HREF="009296.html">[rabbitmq-discuss] Simpler STOMP Behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9285">[ date ]</a>
              <a href="thread.html#9285">[ thread ]</a>
              <a href="subject.html#9285">[ subject ]</a>
              <a href="author.html#9285">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> This design proposes to remove the custom headers, and use only the
</I>&gt;&gt;<i> `destination` header with compound values that define the exchange,
</I>&gt;&gt;<i> routing key and queue names.
</I>&gt;<i>
</I>&gt;<i> Rob,
</I>&gt;<i>
</I>&gt;<i> This looks very good.
</I>&gt;<i>
</I>&gt;<i> There is one additional use case which is often needed: private
</I>&gt;<i> temporary queues to get replies back. This maps to the Return Address
</I>&gt;<i> concept in Enterprise Integration Patterns.
</I>&gt;<i>
</I>&gt;<i> Is this something that could be done with your proposed syntax?
</I>
Since there's no reply from the server to SUBSCRIBE, and we generally 
want reply queues to have different properties to shared queues, really 
the only option is to have a distinguished prefix for reply queue 
destinations, and require clients to supply their own (preferably fresh) 
names.

For example:
SUBSCRIBE /reply/&lt;md5 of some client properties&gt;

It might be an idea to use queue leases for these, instead of 
auto-delete, so that a client fronting up after a connection drop has a 
chance of recovering replies. (If it's lost its own state, then it 
should construct a fresh name)

&gt;<i> Also, what about AMQP 1.0? Have you considered it in order to get a
</I>&gt;<i> syntax that can be adapted/extended to the new AMQP 1.0 concepts?
</I>
Do you mean using something like /node/ for destinations?

There aren't really any such concepts in AMQP 1.0 to pin a concrete 
protocol implementation to.  It's only a message exchange protocol, and 
just like STOMP, doesn't take an opinion on what is addressable at the 
broker.  Indeed, if we were to make an AMQP 1.0 adapter, we'd have to 
invent some scheme for addressing exchanges and queues there, too.


Michael.
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009284.html">[rabbitmq-discuss] Simpler STOMP Behaviour
</A></li>
	<LI>Next message: <A HREF="009296.html">[rabbitmq-discuss] Simpler STOMP Behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9285">[ date ]</a>
              <a href="thread.html#9285">[ thread ]</a>
              <a href="subject.html#9285">[ subject ]</a>
              <a href="author.html#9285">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
