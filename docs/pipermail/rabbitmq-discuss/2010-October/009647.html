<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] txAMQP and RPC
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20txAMQP%20and%20RPC&In-Reply-To=%3C1288145499.5134.13.camel%40gear%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009699.html">
   <LINK REL="Next"  HREF="009648.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] txAMQP and RPC</H1>
    <B>Brennan Sellner</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20txAMQP%20and%20RPC&In-Reply-To=%3C1288145499.5134.13.camel%40gear%3E"
       TITLE="[rabbitmq-discuss] txAMQP and RPC">bsellner at seegrid.com
       </A><BR>
    <I>Wed Oct 27 03:11:39 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009699.html">[rabbitmq-discuss] integration testing with Rabbit and Java
</A></li>
        <LI>Next message: <A HREF="009648.html">[rabbitmq-discuss] txAMQP and RPC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9647">[ date ]</a>
              <a href="thread.html#9647">[ thread ]</a>
              <a href="subject.html#9647">[ subject ]</a>
              <a href="author.html#9647">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi folks,

Does anyone have example code floating around for implementing RPC using
txAMQP and Rabbit?  I'm familiar with the concepts, and am able to
declare, bind, and consume the private queue.  However, I've been
unsuccessful in my attempts to set the reply-to field when publishing:
basic_publish complains about an unexpected keyword argument when
provided with 'replyTo', 'reply to', 'reply-to', or 'reply_to' keywords
(with a value of a simple string).

We're using Rabbit 1.8.1, txAMQP 0.3.1, and the
amqp0-8.stripped.rabbitmq.xml spec file that comes with txAMQP.  I'm
guessing the issue is that the 'publish' method of the 'basic' class in
the spec doesn't have a reply-to field declared (although neither the
0.9 nor the 0.9.1 specs have such a field).  I tried adding one for
kicks, but then Rabbit complains that it can't decode basic.publish and
nukes the client connection.  I see Java implementations of RPC that
allude to a reply-to field, so I'm betting the issue isn't a lack of
support on Rabbit's end.

While we could add a reply-to field to all of our messages, that's
rather inelegant.  I'm pretty sure I'm missing something here: anyone
know what? :-)

Thanks,

-Brennan


</PRE>



















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009699.html">[rabbitmq-discuss] integration testing with Rabbit and Java
</A></li>
	<LI>Next message: <A HREF="009648.html">[rabbitmq-discuss] txAMQP and RPC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9647">[ date ]</a>
              <a href="thread.html#9647">[ thread ]</a>
              <a href="subject.html#9647">[ subject ]</a>
              <a href="author.html#9647">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
