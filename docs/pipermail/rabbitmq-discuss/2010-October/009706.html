<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ and Splunk
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20and%20Splunk&In-Reply-To=%3CAANLkTi%3Dw-68v8JZW08zu3YV2N9%3D6ZTX2%2BrZK0Q18JiP5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009703.html">
   <LINK REL="Next"  HREF="009708.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ and Splunk</H1>
    <B>Alexis Richardson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20and%20Splunk&In-Reply-To=%3CAANLkTi%3Dw-68v8JZW08zu3YV2N9%3D6ZTX2%2BrZK0Q18JiP5%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ and Splunk">alexis at rabbitmq.com
       </A><BR>
    <I>Sat Oct 30 08:35:59 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009703.html">[rabbitmq-discuss] RabbitMQ and Splunk
</A></li>
        <LI>Next message: <A HREF="009708.html">[rabbitmq-discuss] RabbitMQ and Splunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9706">[ date ]</a>
              <a href="thread.html#9706">[ thread ]</a>
              <a href="subject.html#9706">[ subject ]</a>
              <a href="author.html#9706">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Michael

Very neat.

Will you make the Splunk plugin open source?

alexis



On Sat, Oct 30, 2010 at 1:13 AM, Michael Vierling
&lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">MVierling at attinteractive.com</A>&gt; wrote:
&gt;<i> We're developing a Splunk plugin for RabbitMQ.&#160; Splunk is an excellent log
</I>&gt;<i> search engine and we highly recommend it.&#160; Anyway, while Splunk can ingest
</I>&gt;<i> almost any log files, it prefers a key-value pair format.&#160; You can see this
</I>&gt;<i> page for more details:
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> <A HREF="http://www.splunk.com/wiki/Apps:Common_Information_Model">http://www.splunk.com/wiki/Apps:Common_Information_Model</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> So in that spirit, I'd like to propose the following patch to the
</I>&gt;<i> rabbitmqadmin script, which ships with your management 2.1.1 plugin.&#160; This
</I>&gt;<i> patch adds a key-value pair Splunk compatible option (kvp) to the script.
</I>&gt;<i> It would be very helpful if this could be incorporated into the official
</I>&gt;<i> Management plugin.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Best,
</I>&gt;<i>
</I>&gt;<i> Michael
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">root at tdbrabbit1</A> bin]# diff attadmin rabbitmqadmin
</I>&gt;<i>
</I>&gt;<i> 9d8
</I>&gt;<i>
</I>&gt;<i> &lt; import datetime
</I>&gt;<i>
</I>&gt;<i> 124c123
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; help=&quot;format for listing commands - one of
</I>&gt;<i> [pretty_json, raw_json, table, tsv, kvp, long]&#160; [default: %default]&quot;)
</I>&gt;<i>
</I>&gt;<i> ---
</I>&gt;<i>
</I>&gt;&gt;<i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; help=&quot;format for listing commands - one of
</I>&gt;&gt;<i> [pretty_json, raw_json, table, tsv, long]&#160; [default: %default]&quot;)
</I>&gt;<i>
</I>&gt;<i> 284,285d282
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160; elif format == &quot;kvp&quot;:
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; formatter = KVPList
</I>&gt;<i>
</I>&gt;<i> 358,371d354
</I>&gt;<i>
</I>&gt;<i> &lt; class KVPList(Lister):
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160; &#160;def __init__(self, options):
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; self.options = options
</I>&gt;<i>
</I>&gt;<i> &lt;
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160; def display_list(self, columns, table):
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fmt = &quot;{0} = {1}, &quot;
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; timestamp = datetime.datetime.now()
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; line = &quot;&quot;
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; for i in xrange(0, len(table)):
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;line = str(timestamp) + &quot;, &quot;
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; for j in xrange(0, len(columns)):
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; line += fmt.format(columns[j], table[i][j])
</I>&gt;<i>
</I>&gt;<i> &lt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; print line
</I>&gt;<i>
</I>&gt;<i> &lt;
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I></PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009703.html">[rabbitmq-discuss] RabbitMQ and Splunk
</A></li>
	<LI>Next message: <A HREF="009708.html">[rabbitmq-discuss] RabbitMQ and Splunk
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9706">[ date ]</a>
              <a href="thread.html#9706">[ thread ]</a>
              <a href="subject.html#9706">[ subject ]</a>
              <a href="author.html#9706">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
