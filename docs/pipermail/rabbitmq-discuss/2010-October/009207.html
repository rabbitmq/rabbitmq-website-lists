<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Schedule Messages
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Schedule%20Messages&In-Reply-To=%3C4CA5C576.6080709%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009206.html">
   <LINK REL="Next"  HREF="009208.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Schedule Messages</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Schedule%20Messages&In-Reply-To=%3C4CA5C576.6080709%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Schedule Messages">matthias at rabbitmq.com
       </A><BR>
    <I>Fri Oct  1 12:26:46 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009206.html">[rabbitmq-discuss] Schedule Messages
</A></li>
        <LI>Next message: <A HREF="009208.html">[rabbitmq-discuss] Schedule Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9207">[ date ]</a>
              <a href="thread.html#9207">[ thread ]</a>
              <a href="subject.html#9207">[ subject ]</a>
              <a href="author.html#9207">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias Radestock wrote:
&gt;<i> Doug Barth wrote:
</I>&gt;&gt;<i> We needed similar functionality.
</I>&gt;<i> 
</I>&gt;<i> There are two features which we are planning to implement in RabbitMQ 
</I>&gt;<i> (please don't ask when ;) that in their combination can provide 
</I>&gt;<i> delayed/scheduled message functionality: 1) per-queue message TTLs, and 
</I>&gt;<i> 2) dead-letter exchanges. The setup would look something like this:
</I>&gt;<i> [...]
</I>
Another solution, which you can implement right now, is to get the 
publishers to stick an expiry header into the message and to publish the 
message to a dedicated delay queue. A helper app consumes messages from 
that queue one at a time and checks the expiry. If the expiry is in the 
past it re-publishes the message to the appropriate exchange for 
routing. Otherwise it waits until the deadline.

The expiries must be monotonically increasing per delay queue, though 
you can setup several delay queues for different expiry intervals.


Regards,

Matthias.
</PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009206.html">[rabbitmq-discuss] Schedule Messages
</A></li>
	<LI>Next message: <A HREF="009208.html">[rabbitmq-discuss] Schedule Messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9207">[ date ]</a>
              <a href="thread.html#9207">[ thread ]</a>
              <a href="subject.html#9207">[ subject ]</a>
              <a href="author.html#9207">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
