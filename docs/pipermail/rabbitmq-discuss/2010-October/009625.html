<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Release of HA + Pacemaker guide
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Release%20of%20HA%20%2B%20Pacemaker%20guide&In-Reply-To=%3C20101025235112.GF2386%40dakota%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009624.html">
   <LINK REL="Next"  HREF="009627.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Release of HA + Pacemaker guide</H1>
    <B>Alexandru Scvor&#355;ov</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Release%20of%20HA%20%2B%20Pacemaker%20guide&In-Reply-To=%3C20101025235112.GF2386%40dakota%3E"
       TITLE="[rabbitmq-discuss] Release of HA + Pacemaker guide">alexandru at rabbitmq.com
       </A><BR>
    <I>Tue Oct 26 00:51:12 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009624.html">[rabbitmq-discuss] Release of HA + Pacemaker guide
</A></li>
        <LI>Next message: <A HREF="009627.html">[rabbitmq-discuss] spring-amqp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9625">[ date ]</a>
              <a href="thread.html#9625">[ thread ]</a>
              <a href="subject.html#9625">[ subject ]</a>
              <a href="author.html#9625">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Byron,

&gt;<i>  and had some questions about the HA guide. I don't really know pacemaker 
</I>
The RabbitMQ ocf script is packaging/common/rabbitmq-server.ocf:
  <A HREF="http://hg.rabbitmq.com/rabbitmq-server/file/default/packaging/common/rabbitmq-server.ocf">http://hg.rabbitmq.com/rabbitmq-server/file/default/packaging/common/rabbitmq-server.ocf</A>

That file has all the RabbitMQ-specific Pacemaker/Corosync
configuration.

&gt;<i> how/if this configuration is checking if rabbit app is alive or just if the server is alive?  Is it doing any functional test?
</I>
The script uses rabbitmqctl to check the node's status.  So, any problem
detected by rabbitmqctl should be picked up by Pacemaker.

&gt;<i> And on a different but related note would NFS or OCFS2 work for the file system that rabbit is using? 
</I>
Yes.

&gt;<i> What would happen if multiple rabbits were accessing the files at the same time?
</I>
Bad things.  Probably a corrupted mnesia database.

Cheers,
Alex


On Mon, Oct 25, 2010 at 10:21:11PM +0000, Byron Albert wrote:
&gt;<i> Hello All,
</I>&gt;<i> 
</I>&gt;<i>  I am new to the list and had some questions about the HA guide. I don't really know pacemaker and was looking through the docs and was wondering how/if this configuration is checking if rabbit app is alive or just if the server is alive?  Is it doing any functional test? Or is the only real situation this recovers from is if the server fails?  Is its not doing any functional testing is there any way to add logic to do functional tests and try and restart if there is an issue then fail over?
</I>&gt;<i> 
</I>&gt;<i> And on a different but related note would NFS or OCFS2 work for the file system that rabbit is using? What would happen if multiple rabbits were accessing the files at the same time?
</I>&gt;<i> 
</I>&gt;<i> Thanks
</I>&gt;<i> Byron
</I>&gt;<i> 
</I>&gt;<i> _____________________________________
</I>&gt;<i> Byron Albert | Systems Operations
</I>&gt;<i> [cid:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">part1.01070402.03060807 at dealer.com</A>]
</I>&gt;<i> V 877-327-8422 x496 F 802.658.0926
</I>&gt;<i> 1 Howard St., Burlington, VT 05401
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Byron.Albert at dealer.com</A>&lt;mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Byron.Albert at dealer.com</A>&gt; | www.dealer.com&lt;<A HREF="http://www.dealer.com">http://www.dealer.com</A>&gt;
</I>&gt;<i> 
</I>


&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>

</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009624.html">[rabbitmq-discuss] Release of HA + Pacemaker guide
</A></li>
	<LI>Next message: <A HREF="009627.html">[rabbitmq-discuss] spring-amqp
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9625">[ date ]</a>
              <a href="thread.html#9625">[ thread ]</a>
              <a href="subject.html#9625">[ subject ]</a>
              <a href="author.html#9625">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
