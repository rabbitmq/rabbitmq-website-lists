<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] hanging on message sending with py-amqplib
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20hanging%20on%20message%20sending%20with%20py-amqplib&In-Reply-To=%3CAANLkTimQJs8oBAsz3PWgYZ%3Dx1-FOhe73Dw%3DHoo_1iYPA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009252.html">
   <LINK REL="Next"  HREF="009256.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] hanging on message sending with py-amqplib</H1>
    <B>tsuraan</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20hanging%20on%20message%20sending%20with%20py-amqplib&In-Reply-To=%3CAANLkTimQJs8oBAsz3PWgYZ%3Dx1-FOhe73Dw%3DHoo_1iYPA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] hanging on message sending with py-amqplib">tsuraan at gmail.com
       </A><BR>
    <I>Sat Oct  2 01:35:34 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009252.html">[rabbitmq-discuss] hanging on message sending with py-amqplib
</A></li>
        <LI>Next message: <A HREF="009256.html">[rabbitmq-discuss] hanging on message sending with py-amqplib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9255">[ date ]</a>
              <a href="thread.html#9255">[ thread ]</a>
              <a href="subject.html#9255">[ subject ]</a>
              <a href="author.html#9255">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> And that's in a rabbit that otherwise is completely idle?
</I>
It's not apparently doing anything; it should be (there are a few
other agents that are stuck trying to commit), but it's not.  disk and
cpu activity are idle.

&gt;<i> How much memory is rabbit currently using?
</I>
/proc/&lt;pid&gt;/status gives 446MB (peak of 589MB).  That's on a 2GB machine

&gt;<i> Does the rabbit.log say anything about memory alarms?
</I>
It looks like in an 8-minute interval about 5 hours ago, it had 57
high memory events (57 alerts, and 57 clears).  That was about 3 hours
before I ran my script that hung, I think.

&gt;<i> If you can, please post the output of the various rabbitmqctl list_*
</I>&gt;<i> commands.
</I>
Names changed to protect the innocent (*sigh*):

Listing queues ...
Queue0  5
Queue1  54468
Queue2  0
Queue3  0
Queue4  13
Queue5  0
Queue6  579055
Queue7  0
Queue8  15
Queue9  143
Queue10 0
Queue11 0
Queue12 12

Listing exchanges ...
amq.direct      direct
Exchange0       fanout
Exchange1       fanout
amq.topic       topic
Exchange2       fanout
Exchange3       fanout
Exchange4       fanout
Exchange5       fanout
amq.rabbitmq.log        topic
Exchange6       fanout
amq.fanout      fanout
Exchange7       fanout
Exchange8       fanout
Exchange9       fanout
amq.headers     headers
Exchange10      fanout
amq.match       headers

Listing bindings ...
Exchange5       Queue11 []
Exchange4       Queue8  []
Exchange4       Queue0  []
Exchange4       Queue1  []
Exchange3       Queue10 []
Exchange1       Queue7  []
Exchange1       Queue3  []
Exchange9       Queue2  []
Exchange2       Queue1  []
Exchange8       Queue12 []
Exchange6       Queue9  []
Exchange6       Queue6  []
Exchange0       Queue1  []
Exchange7       Queue5  []
Exchange10      Queue4  []
amq.direct      Queue6  []

Hope that's useful.
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009252.html">[rabbitmq-discuss] hanging on message sending with py-amqplib
</A></li>
	<LI>Next message: <A HREF="009256.html">[rabbitmq-discuss] hanging on message sending with py-amqplib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9255">[ date ]</a>
              <a href="thread.html#9255">[ thread ]</a>
              <a href="subject.html#9255">[ subject ]</a>
              <a href="author.html#9255">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
