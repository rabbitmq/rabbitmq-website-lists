<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to	2.1.x.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrading%20RabbitMQ%20cluster%20from%201.7.x%20to%0A%092.1.x.&In-Reply-To=%3CAANLkTiku_tQkfeRG0AxdeUzUgn6n6Zzmw6usK8zD5jj5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009308.html">
   <LINK REL="Next"  HREF="009311.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to	2.1.x.</H1>
    <B>Marek Majkowski</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Upgrading%20RabbitMQ%20cluster%20from%201.7.x%20to%0A%092.1.x.&In-Reply-To=%3CAANLkTiku_tQkfeRG0AxdeUzUgn6n6Zzmw6usK8zD5jj5%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to	2.1.x.">majek04 at gmail.com
       </A><BR>
    <I>Wed Oct  6 14:38:47 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009308.html">[rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to 2.1.x.
</A></li>
        <LI>Next message: <A HREF="009311.html">[rabbitmq-discuss] RabbitMQ 2.1.0 talking to older client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9309">[ date ]</a>
              <a href="thread.html#9309">[ thread ]</a>
              <a href="subject.html#9309">[ subject ]</a>
              <a href="author.html#9309">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Blip is using Rabbit, cool!

On Wed, Oct 6, 2010 at 14:16, filiptepper &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">filip at tepper.pl</A>&gt; wrote:
&gt;<i> I was wondering if someone has any experience with doing live upgrades
</I>&gt;<i> between these version?
</I>
What we usually suggest is to set up a new rabbitmq installation
and migrate gradually.
1. set up consumers to receive from both old and new hosts
2. move publishes to the new host
3. wait till all the data has been served from the old instance
4. kill the old instance

&gt;<i> I require HA, so it's impossible to shut down both
</I>&gt;<i> nodes, upgrade and bring them back. I was looking into the possibility of
</I>&gt;<i> clustering one 1.7.x node with a 2.1.x, but this didn't work as expected (am
</I>&gt;<i> I doing something wrong?).
</I>
I would be very surprised if that worked.
You are aware that clustering is something different than HA?

&gt;<i> Of course I could try shutting down first node, upgrade it, clear all the
</I>&gt;<i> queues on the second node, bring back the first node unclustered and then
</I>&gt;<i> move all the traffic to it, upgrade second and cluster it back with the
</I>&gt;<i> first one.
</I>
Exactly.

&gt;<i> Any other ideas?
</I>
Not really, it all depends on your use case. Sometimes people can just
stop the rabbit instance for the update.

Cheers,
  Marek Majkowski
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009308.html">[rabbitmq-discuss] Upgrading RabbitMQ cluster from 1.7.x to 2.1.x.
</A></li>
	<LI>Next message: <A HREF="009311.html">[rabbitmq-discuss] RabbitMQ 2.1.0 talking to older client
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9309">[ date ]</a>
              <a href="thread.html#9309">[ thread ]</a>
              <a href="subject.html#9309">[ subject ]</a>
              <a href="author.html#9309">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
