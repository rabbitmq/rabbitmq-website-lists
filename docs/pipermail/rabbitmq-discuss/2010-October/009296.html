<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Simpler STOMP Behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Simpler%20STOMP%20Behaviour&In-Reply-To=%3Cvfqaamt5d9h.fsf%40mail.cern.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009285.html">
   <LINK REL="Next"  HREF="009298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Simpler STOMP Behaviour</H1>
    <B>Lionel Cons</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Simpler%20STOMP%20Behaviour&In-Reply-To=%3Cvfqaamt5d9h.fsf%40mail.cern.ch%3E"
       TITLE="[rabbitmq-discuss] Simpler STOMP Behaviour">lionel.cons at cern.ch
       </A><BR>
    <I>Tue Oct  5 08:07:06 BST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="009285.html">[rabbitmq-discuss] Simpler STOMP Behaviour
</A></li>
        <LI>Next message: <A HREF="009298.html">[rabbitmq-discuss] Simpler STOMP Behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9296">[ date ]</a>
              <a href="thread.html#9296">[ thread ]</a>
              <a href="subject.html#9296">[ subject ]</a>
              <a href="author.html#9296">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Michael Bridgen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mikeb at rabbitmq.com</A>&gt; writes:
&gt;<i> Since there's no reply from the server to SUBSCRIBE, and we generally 
</I>&gt;<i> want reply queues to have different properties to shared queues, really 
</I>&gt;<i> the only option is to have a distinguished prefix for reply queue 
</I>&gt;<i> destinations, and require clients to supply their own (preferably fresh) 
</I>&gt;<i> names.
</I>
In practice, other solutions exist. I'm not sure which one is
preferable.

(1) With ActiveMQ, one can subscribe to /temp-queue/whatever and a
private queue with a random name will be created on the broker. The
client program can send a message to itself, examine the destination
header of the received message and find out this way what is the real
queue name.

(2) We could imagine using the RECEIPT frame to allow the broker to
&quot;reply&quot; to the client. Something like:

  SUBSCRIBE /i-want-a-private-queue
  receipt:123

  RECEIPT
  receipt-id:123
  destination:/queue/004b2782fba54d18576bc2c710b517b1

&gt;<i> SUBSCRIBE /reply/&lt;md5 of some client properties&gt;
</I>
This would work too.

&gt;&gt;<i> Also, what about AMQP 1.0? Have you considered it in order to get a
</I>&gt;&gt;<i> syntax that can be adapted/extended to the new AMQP 1.0 concepts?
</I>&gt;<i>
</I>&gt;<i> Do you mean using something like /node/ for destinations?
</I>
For instance. AMQP 1.0 has nodes, queues, links and filters (and no more
exchanges). They should be exposed via STOMP somehow.

In addition, AMQP 1.0 introduced the notion of global addressing,
something like <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">node-name at container.</A> This should also be usable from
STOMP.

However, I'm not up-to-date with what AMQP 1.0 really is today. Concepts
like remote addressing have been described for instance in last year's
F2F meeting:
<A HREF="http://www.amqp.org/confluence/download/attachments/2523324/AMQP+F2F+Presentation.pdf">http://www.amqp.org/confluence/download/attachments/2523324/AMQP+F2F+Presentation.pdf</A>
I don't know if these are still relevant...

Cheers,

Lionel
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009285.html">[rabbitmq-discuss] Simpler STOMP Behaviour
</A></li>
	<LI>Next message: <A HREF="009298.html">[rabbitmq-discuss] Simpler STOMP Behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9296">[ date ]</a>
              <a href="thread.html#9296">[ thread ]</a>
              <a href="subject.html#9296">[ subject ]</a>
              <a href="author.html#9296">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
