<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd: question on the faq
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20question%20on%20the%20faq&In-Reply-To=49633721.8000908%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002404.html">
   <LINK REL="Next"  HREF="002412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd: question on the faq</H1>
    <B>Gordon Sim</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20question%20on%20the%20faq&In-Reply-To=49633721.8000908%40lshift.net"
       TITLE="[rabbitmq-discuss] Fwd: question on the faq">gsim at redhat.com
       </A><BR>
    <I>Tue Jan  6 12:41:53 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002404.html">[rabbitmq-discuss] Fwd: question on the faq
</A></li>
        <LI>Next message: <A HREF="002412.html">[rabbitmq-discuss] Fwd: question on the faq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2409">[ date ]</a>
              <a href="thread.html#2409">[ thread ]</a>
              <a href="subject.html#2409">[ subject ]</a>
              <a href="author.html#2409">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matthias Radestock wrote:
&gt;<i> Gordon Sim wrote:
</I>&gt;&gt;<i> Matthias Radestock wrote:
</I>&gt;&gt;&gt;<i> Perhaps, but who should this condition be signalled to? I'd argue the 
</I>&gt;&gt;&gt;<i> *consumers* should be told about it. After all, the queue may vanish 
</I>&gt;&gt;&gt;<i> long after anyone has published a message to it. Conversely, if 
</I>&gt;&gt;&gt;<i> nobody ever tries to consume messages from the queue then the fact 
</I>&gt;&gt;&gt;<i> that it once existed and then vanished is of little interest to anybody.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Notifying consumers is all well and good. However there may not be any 
</I>&gt;&gt;<i> consumers at the point the message is published. An important role of 
</I>&gt;&gt;<i> the queue is to accept responsibility for the message from the 
</I>&gt;&gt;<i> publishing client until that can be transfered onto the receiving client.
</I>&gt;<i> 
</I>&gt;<i> In the non-tx case, how does a publisher know when the server has 
</I>&gt;<i> accepted responsibility?
</I>
In 0-9 it cannot due to the lack of any acknowledged publication (a 
significant failing of that version of the specification).

&gt;&gt;<i> The whole concept of the queue vanishing is a bit alien to me and 
</I>&gt;&gt;<i> seems to make reasoning about reliability more difficult.
</I>&gt;<i> 
</I>&gt;<i> RabbitMQ tries to isolate failures, in order to make the system more 
</I>&gt;<i> reliable overall. What's the alternative? Bring down the entire server 
</I>&gt;<i> every time something unexpected happens?
</I>
No; but certainly making the application aware of the problem is important.

If a transaction containing a publish operation commits successfully and 
results in a persistent message being enqueued on a durable queue, I 
view that as a contract with the publisher that the message will be 
retained for delivery to potential subscribers as long as the device on 
which durable data is stored functions correctly. That for me is 
essentially the durability guarantee.

If there is any doubt about that at the point of committing the 
transaction then the transaction should in my view be aborted.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002404.html">[rabbitmq-discuss] Fwd: question on the faq
</A></li>
	<LI>Next message: <A HREF="002412.html">[rabbitmq-discuss] Fwd: question on the faq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2409">[ date ]</a>
              <a href="thread.html#2409">[ thread ]</a>
              <a href="subject.html#2409">[ subject ]</a>
              <a href="author.html#2409">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
