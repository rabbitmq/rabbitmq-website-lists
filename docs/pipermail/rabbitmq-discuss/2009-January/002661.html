<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] STOMP Connector / Net::Stomp / Custom Headers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20STOMP%20Connector%20/%20Net%3A%3AStomp%20/%20Custom%20Headers&In-Reply-To=e25246b60901201626y7c3f7c91n8c90f9cfba86ab51%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002660.html">
   <LINK REL="Next"  HREF="002715.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] STOMP Connector / Net::Stomp / Custom Headers</H1>
    <B>Darien Kindlund</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20STOMP%20Connector%20/%20Net%3A%3AStomp%20/%20Custom%20Headers&In-Reply-To=e25246b60901201626y7c3f7c91n8c90f9cfba86ab51%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] STOMP Connector / Net::Stomp / Custom Headers">darien at kindlund.com
       </A><BR>
    <I>Wed Jan 21 03:55:15 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002660.html">[rabbitmq-discuss] STOMP Connector / Net::Stomp / Custom Headers
</A></li>
        <LI>Next message: <A HREF="002715.html">[rabbitmq-discuss] STOMP Connector / Net::Stomp / Custom Headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2661">[ date ]</a>
              <a href="thread.html#2661">[ thread ]</a>
              <a href="subject.html#2661">[ subject ]</a>
              <a href="author.html#2661">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi lenz,

I believe Eric Rybski is currently working on a Net::AMQP perl module;
however, he may be interested in the code you've developed so far.
I've CC'd him in case there's interest.

Regarding one of the original issues (1), it turns out the STOMP
connector requires custom headers to be prefixed as 'X-' within a
Net::Stomp-&gt;send() hashref.  Apparently, the 'X-' is case sensitive,
so 'x-' prefixes would get stripped as well.

So, a general hack would be to tack on an 'X-reply-to' and process the
header as if it were the original 'reply_to' one.

-- Darien

On Tue, Jan 20, 2009 at 7:26 PM, lenz &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">norbu09 at googlemail.com</A>&gt; wrote:
&gt;<i> hi,
</I>&gt;<i> i tried to work in production with a bridge between erlang and perl using
</I>&gt;<i> Net::STOMP on RabbitMQ. in short, it did not work because of the limitations
</I>&gt;<i> of STOMP. i have some libs around Net::STOMP that do RPC style stuff and can
</I>&gt;<i> probably clean them up a bit and push them on github.
</I>&gt;<i> we intended to write a native AMQP perl implementation but resources got
</I>&gt;<i> used up in other projects. if one of you would put some time in as well we
</I>&gt;<i> could probably bump out a first version in not too much time and write the
</I>&gt;<i> overdue perl implementation finally.
</I>&gt;<i> thoughts?
</I>&gt;<i> cheers
</I>&gt;<i> lenz
</I>&gt;<i>
</I>&gt;<i> On Wed, Jan 21, 2009 at 12:57 PM, Darien Kindlund &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">darien at kindlund.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hi Tony,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Perhaps you can address this issue:  I've got two perl processes both
</I>&gt;&gt;<i> using Net::Stomp to talk to one another via the RabbitMQ STOMP
</I>&gt;&gt;<i> connector.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) When sending a message, I've tried setting the header named:
</I>&gt;&gt;<i> 'reply-to', 'reply_to', x-reply-to', and 'x_reply_to'.  In *all*
</I>&gt;&gt;<i> cases, it seems that the STOMP connector strips this header before
</I>&gt;&gt;<i> sending the message through to the receiving *perl* process.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So, I ask, how can two perl processes effectively send messages to
</I>&gt;&gt;<i> each other, where one of the perl processes sets up a &quot;temporary&quot;
</I>&gt;&gt;<i> queue and routing_key and needs to let the other perl process know the
</I>&gt;&gt;<i> temporary routing key in order to receive any type of response?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 2) In general, how does the STOMP connector deal with custom headers
</I>&gt;&gt;<i> via Net::Stomp?  Does it strip out all custom headers?  Or only custom
</I>&gt;&gt;<i> headers that don't begin with 'x-'?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Regards,
</I>&gt;&gt;<i> -- Darien
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> iWantMyName.com
</I>&gt;<i> painless domain registration (finally)
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002660.html">[rabbitmq-discuss] STOMP Connector / Net::Stomp / Custom Headers
</A></li>
	<LI>Next message: <A HREF="002715.html">[rabbitmq-discuss] STOMP Connector / Net::Stomp / Custom Headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2661">[ date ]</a>
              <a href="thread.html#2661">[ thread ]</a>
              <a href="subject.html#2661">[ subject ]</a>
              <a href="author.html#2661">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
