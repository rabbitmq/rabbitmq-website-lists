<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Channel Cost
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Channel%20Cost&In-Reply-To=3b949f090901271134i1ea260e9y3353793b7b5f21fb%40mail.gmail.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002739.html">
   <LINK REL="Next"  HREF="002736.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Channel Cost</H1>
    <B>Barry Pederson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Channel%20Cost&In-Reply-To=3b949f090901271134i1ea260e9y3353793b7b5f21fb%40mail.gmail.com"
       TITLE="[rabbitmq-discuss] Channel Cost">bp at barryp.org
       </A><BR>
    <I>Tue Jan 27 22:16:37 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002739.html">[rabbitmq-discuss] Channel Cost
</A></li>
        <LI>Next message: <A HREF="002736.html">[rabbitmq-discuss] Channel Cost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2732">[ date ]</a>
              <a href="thread.html#2732">[ thread ]</a>
              <a href="subject.html#2732">[ subject ]</a>
              <a href="author.html#2732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Jason J. W. Williams wrote:
&gt;<i> Hi Barry,
</I>&gt;<i> 
</I>&gt;<i> chan_send.basic_publish(msg,exchange=args.exchange,routing_key=args.routing_key)
</I>&gt;<i> to an exchange that doesn't exist. I was just wrapping that in a
</I>&gt;<i> try/except, assuming it would raise AMQPChannelError if there was an
</I>&gt;<i> issue. Unfortunately, it doesn't look like basic_publish has any logic
</I>&gt;<i> for checking for an error.
</I>
Would it make more sense to do an exchange_declare() with passive=True 
to check for the existence of the exchange you're going to publish to? 
The PyDocs for Channel.exchange_declare() say:

-----------
   passive: boolean

       do not create exchange

       If set, the server will not create the exchange.  The
       client can use this to check whether an exchange
       exists without modifying the server state.

       RULE:

           If set, and the exchange does not already exist,
           the server MUST raise a channel exception with
           reply code 404 (not found).
-------------


	Barry


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002739.html">[rabbitmq-discuss] Channel Cost
</A></li>
	<LI>Next message: <A HREF="002736.html">[rabbitmq-discuss] Channel Cost
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2732">[ date ]</a>
              <a href="thread.html#2732">[ thread ]</a>
              <a href="subject.html#2732">[ subject ]</a>
              <a href="author.html#2732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
