<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Fwd: question on the faq
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20question%20on%20the%20faq&In-Reply-To=4962294C.9000307%40redhat.com">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002389.html">
   <LINK REL="Next"  HREF="002383.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Fwd: question on the faq</H1>
    <B>Tim Coote</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Fwd%3A%20question%20on%20the%20faq&In-Reply-To=4962294C.9000307%40redhat.com"
       TITLE="[rabbitmq-discuss] Fwd: question on the faq">tim+rabbitmq.com at coote.org
       </A><BR>
    <I>Mon Jan  5 16:14:36 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002389.html">[rabbitmq-discuss] Fwd: question on the faq
</A></li>
        <LI>Next message: <A HREF="002383.html">[rabbitmq-discuss] Fwd: question on the faq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2378">[ date ]</a>
              <a href="thread.html#2378">[ thread ]</a>
              <a href="subject.html#2378">[ subject ]</a>
              <a href="author.html#2378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've now read a bit of the specs :-)
amqp defines tx classes (which are not transactional in the sense of  
XOpen's XA specification) and dtx, which are.  I don't understand, at  
the moment, what tx really means in the context of a message passing  
system, but I suspect that it's something to do with some sort of  
'transactional' model with a message server (or whatever I call the  
agent that my application interacts with that is its interface to the  
messaging system): I can send messages to the message server with  
transactional semantics, but there's no downstream semantics. I'm not  
very clear on how this is a useful piece of functionality as I cannot  
see what guarantees I get for it.

iirc, MQSeries had similar semantics about 'guaranteed delivery',  
which are not much use, either, as you still have to put in place  
checks for message receipt by the end point.

Could the two types of 'transaction'  causing some confusion?

Tim

On 5 Jan 2009, at 15:37, Gordon Sim wrote:

&gt;<i>
</I>&gt;<i> Matthias Radestock wrote:
</I>&gt;&gt;<i> Gordon Sim wrote:
</I>&gt;&gt;&gt;<i> A general atomicity guarantee is more basic than that though and  
</I>&gt;&gt;&gt;<i> would in my view be valuable even if it only applied where queues  
</I>&gt;&gt;&gt;<i> involved in that transaction were not deleted during the life of  
</I>&gt;&gt;&gt;<i> the transaction.
</I>&gt;&gt;&gt;<i> (Note the only way a queue should disappear due to failure is if  
</I>&gt;&gt;&gt;<i> the broker restarts and the queue was not durable, in which case  
</I>&gt;&gt;&gt;<i> any open transactions would be aborted).
</I>&gt;&gt;<i> Not quite. Firstly, if queues are active entities, which they are  
</I>&gt;&gt;<i> in RabbitMQ, then they can, in principle, die due to some failure.
</I>&gt;<i>
</I>&gt;<i> I would view that as a bug.
</I>&gt;<i>
</I>&gt;&gt;<i> Secondly, in a clustered RabbitMQ broker each queue resides on a  
</I>&gt;&gt;<i> specific node. In such a set up a transaction may take place on a  
</I>&gt;&gt;<i> connection+channel against one particular node but involve queues  
</I>&gt;&gt;<i> residing on other nodes. Those queue can disappear due to node  
</I>&gt;&gt;<i> failure or network connectivity disruption without the transacted  
</I>&gt;&gt;<i> connection+channel being dropped (since the node which holds the  
</I>&gt;&gt;<i> connection is still alive and well).
</I>&gt;<i>
</I>&gt;<i> Would RabbitMQ abort any open transaction involving the queue in  
</I>&gt;<i> that case?
</I>&gt;<i>
</I>&gt;<i>
</I>
Tim Coote
<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tim at coote.org</A>
vincit veritas





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002389.html">[rabbitmq-discuss] Fwd: question on the faq
</A></li>
	<LI>Next message: <A HREF="002383.html">[rabbitmq-discuss] Fwd: question on the faq
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2378">[ date ]</a>
              <a href="thread.html#2378">[ thread ]</a>
              <a href="subject.html#2378">[ subject ]</a>
              <a href="author.html#2378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
