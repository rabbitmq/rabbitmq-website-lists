<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] A new exchange type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20A%20new%20exchange%20type&In-Reply-To=4980426E.5020803%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002763.html">
   <LINK REL="Next"  HREF="002748.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] A new exchange type</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20A%20new%20exchange%20type&In-Reply-To=4980426E.5020803%40lshift.net"
       TITLE="[rabbitmq-discuss] A new exchange type">0x6e6562 at gmail.com
       </A><BR>
    <I>Thu Jan 29 20:36:53 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002763.html">[rabbitmq-discuss] A new exchange type
</A></li>
        <LI>Next message: <A HREF="002748.html">[rabbitmq-discuss] A new exchange type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2761">[ date ]</a>
              <a href="thread.html#2761">[ thread ]</a>
              <a href="subject.html#2761">[ subject ]</a>
              <a href="author.html#2761">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tony,

On Wed, Jan 28, 2009 at 11:33 AM, Tony Garnock-Jones &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tonyg at lshift.net</A>&gt; wrote:
&gt;<i> That's a great insight. We've been puzzling over &quot;last-value caching&quot;
</I>&gt;<i> for a while now, and not made any great progress, largely I think
</I>&gt;<i> because we'd concentrated on putting it in to the *queues* rather than
</I>&gt;<i> the exchanges. Your observation that it's best placed in the *exchange*
</I>&gt;<i> is, I think, critical. Great stuff!
</I>
Just a thought - what about implementing a queue that when the
consumer disconnects from it, it stays active but becomes bounded, so
that it only caches the last the n messages? Or maybe you could go one
step further and just put a user specified depth on the queue for it's
entire lifetime, so that you don't even need to bother with any
disconnection events? There are of course obvious disadvantages to
this approach, but it does solve your coherency issue.

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002763.html">[rabbitmq-discuss] A new exchange type
</A></li>
	<LI>Next message: <A HREF="002748.html">[rabbitmq-discuss] A new exchange type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2761">[ date ]</a>
              <a href="thread.html#2761">[ thread ]</a>
              <a href="subject.html#2761">[ subject ]</a>
              <a href="author.html#2761">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
