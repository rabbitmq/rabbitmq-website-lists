<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] A new exchange type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20A%20new%20exchange%20type&In-Reply-To=5A46D132C446C04B9EFE8AD14E7891065C49E4B532%40SVR-2K3-BH-EMC.tradition.int">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002755.html">
   <LINK REL="Next"  HREF="002760.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] A new exchange type</H1>
    <B>Ben Hyde</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20A%20new%20exchange%20type&In-Reply-To=5A46D132C446C04B9EFE8AD14E7891065C49E4B532%40SVR-2K3-BH-EMC.tradition.int"
       TITLE="[rabbitmq-discuss] A new exchange type">bhyde at pobox.com
       </A><BR>
    <I>Thu Jan 29 14:59:31 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002755.html">[rabbitmq-discuss] A new exchange type
</A></li>
        <LI>Next message: <A HREF="002760.html">[rabbitmq-discuss] A new exchange type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2759">[ date ]</a>
              <a href="thread.html#2759">[ thread ]</a>
              <a href="subject.html#2759">[ subject ]</a>
              <a href="author.html#2759">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>This cache of last msg of a given key exchange type is useful only if  
the messages are
absolute, rather than a series of diffs on the state of the thing  
denoted by the key.  Is that
the typical pattern in these parts?

Revision numbers are the usual thing once you have diffs.  So by  
extension
you could build an exchange that stands willing to replay the messages  
an
observer missed since he was last online.  That's more what you desire  
if
your messages are atom feeds, say.

There are delicacies about assuring that you don't act on stale data.   
People
often forward chain on message arrival.  Which is cool if your  
messaging substrate
is fast and has tiny buffers; but these replayed messages are not  
fresh.  I guess
it might be a good rule of thumb to add guards to enforce sell-by- 
dates on all
the message handling.  Is that common?

I find there then are often three modes.  Coming online, online, and  
running
behind.  The last of these is the mess that arises when your on the  
other side of a
slow link; and there tend to be too many ways that happens; but in  
that scenario
you want somebody downstream to be merging, condensing, or  
summarizing, or
something.  Something else a stateful system component might provide.

Finally in system's I've build the diffs fly fast and furious,  When  
new observers
come online they talk to other observers (possibly a master observer)  
to bring
their model of the state of the world up to date  That step tends to  
involve moving
a lot of data.

I don't know if all that means this should be in the broker or not.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002755.html">[rabbitmq-discuss] A new exchange type
</A></li>
	<LI>Next message: <A HREF="002760.html">[rabbitmq-discuss] A new exchange type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2759">[ date ]</a>
              <a href="thread.html#2759">[ thread ]</a>
              <a href="subject.html#2759">[ subject ]</a>
              <a href="author.html#2759">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
