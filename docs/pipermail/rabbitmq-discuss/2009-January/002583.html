<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Miscellaneous Question
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Miscellaneous%20Question&In-Reply-To=496E7128.4070607%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002580.html">
   <LINK REL="Next"  HREF="002586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Miscellaneous Question</H1>
    <B>Jason J. W. Williams</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20Miscellaneous%20Question&In-Reply-To=496E7128.4070607%40lshift.net"
       TITLE="[rabbitmq-discuss] Miscellaneous Question">jasonjwwilliams at gmail.com
       </A><BR>
    <I>Wed Jan 14 23:13:33 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002580.html">[rabbitmq-discuss] Miscellaneous Question
</A></li>
        <LI>Next message: <A HREF="002586.html">[rabbitmq-discuss] Miscellaneous Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2583">[ date ]</a>
              <a href="thread.html#2583">[ thread ]</a>
              <a href="subject.html#2583">[ subject ]</a>
              <a href="author.html#2583">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for the info and links. I'll read up on Mnesia. Just for future
reference, if one were to carefully delete only the Mnesia DB Files
and leave the message log, would it be possible to still use the log
after the queues/exchanges/bindings were recreated?

-J

On Wed, Jan 14, 2009 at 4:11 PM, Matthias Radestock &lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">matthias at lshift.net</A>&gt; wrote:
&gt;<i> Jason,
</I>&gt;<i>
</I>&gt;<i> Jason J. W. Williams wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> * How does one monitor memory consumption by a queue?
</I>&gt;<i>
</I>&gt;<i> rabbitmqctl list_queues name memory
</I>&gt;<i>
</I>&gt;&gt;<i> * If messages persist to disk do they relieve memory pressure on the
</I>&gt;&gt;<i> queue?
</I>&gt;<i>
</I>&gt;<i> No. This has been discussed at some length on the list and there are several
</I>&gt;<i>
</I>&gt;&gt;<i> * How resilient is the Mnesia DB to sudden death of the process using it?
</I>&gt;<i>
</I>&gt;<i> It should be quite resilient. See
</I>&gt;<i>  <A HREF="http://www.erlang.org/doc/apps/mnesia/Mnesia_chap7.html">http://www.erlang.org/doc/apps/mnesia/Mnesia_chap7.html</A>
</I>&gt;<i> in particular sections 6.6 to 6.9 for some more details on what happens on
</I>&gt;<i> startup, how various failure scenarios are dealt with etc.
</I>&gt;<i>
</I>&gt;&gt;<i> Clearing the Mnesia files in /var/lib/rabbitmq
</I>&gt;&gt;<i> allowed Rabbit to start...but I assume in a production scenario this
</I>&gt;&gt;<i> would have eliminated any durable queues/exchanges and persistent
</I>&gt;&gt;<i> messages.
</I>&gt;<i>
</I>&gt;<i> Right. Though note that persisted messages aren't stored in mnesia; it just
</I>&gt;<i> so happens that we decided to store them in files in the same directory as
</I>&gt;<i> mnesia.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Matthias.
</I>&gt;<i>
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002580.html">[rabbitmq-discuss] Miscellaneous Question
</A></li>
	<LI>Next message: <A HREF="002586.html">[rabbitmq-discuss] Miscellaneous Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2583">[ date ]</a>
              <a href="thread.html#2583">[ thread ]</a>
              <a href="subject.html#2583">[ subject ]</a>
              <a href="author.html#2583">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
