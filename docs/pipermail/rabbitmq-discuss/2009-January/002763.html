<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] A new exchange type
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20A%20new%20exchange%20type&In-Reply-To=5A46D132C446C04B9EFE8AD14E7891065C49E4B532%40SVR-2K3-BH-EMC.tradition.int">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002766.html">
   <LINK REL="Next"  HREF="002761.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] A new exchange type</H1>
    <B>Ben Hood</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20A%20new%20exchange%20type&In-Reply-To=5A46D132C446C04B9EFE8AD14E7891065C49E4B532%40SVR-2K3-BH-EMC.tradition.int"
       TITLE="[rabbitmq-discuss] A new exchange type">0x6e6562 at gmail.com
       </A><BR>
    <I>Thu Jan 29 20:55:17 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002766.html">[rabbitmq-discuss] A new exchange type
</A></li>
        <LI>Next message: <A HREF="002761.html">[rabbitmq-discuss] A new exchange type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2763">[ date ]</a>
              <a href="thread.html#2763">[ thread ]</a>
              <a href="subject.html#2763">[ subject ]</a>
              <a href="author.html#2763">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Alistair,

On Wed, Jan 28, 2009 at 3:30 PM, Alister Morton
&lt;<A HREF="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">Alister.Morton at tradition.com</A>&gt; wrote:
&gt;<i> In order that last value caching can work, you'd need to be able to ask the broker to notify you (a publisher) whenever a
</I>&gt;<i> queue was connected to an exchange that you'd flagged as needing last value caching, in order that the last value can
</I>&gt;<i> be pushed again. But this last value must only be pushed to the newly connecting queue, so it would have to have
</I>&gt;<i> some kind of flags attached to it to indicate that it was a refresh and was not to be passed to queues that had already
</I>&gt;<i> seen it. While this is possible, I think it could add as much complexity as adding a new exchange type.
</I>
In general, I'm in favor of layered approaches - it keeps the broker
simpler, means less maintenance and means that the community can more
easily mash Rabbit up rather having to wait for the snail-paced Rabbit
engineering team. I think that the criterion for judging whether
functionality should be in the broker or get implemented as a
porcelain should be based on whether doing it in the broker would be
significantly more efficient than application layer code. This may the
case if the broker can exploit knowledge that higher level code is not
privy to.

Dmitriy's idea of exposing AMQP events in userland via a pub/sub model
has merits - it may even up the playing field between what the broker
is able to do and what application code can do.

My suggestion of how to further develop this line of thought is write
a small POC text that would play through the mechanics of each use
case for both variants (i.e. a POC for a new exchange and one for an
AMQP event model) - this is incidentally what we may end up having to
anyway, if we get around to implementing this feature.

Ben


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002766.html">[rabbitmq-discuss] A new exchange type
</A></li>
	<LI>Next message: <A HREF="002761.html">[rabbitmq-discuss] A new exchange type
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2763">[ date ]</a>
              <a href="thread.html#2763">[ thread ]</a>
              <a href="subject.html#2763">[ subject ]</a>
              <a href="author.html#2763">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
