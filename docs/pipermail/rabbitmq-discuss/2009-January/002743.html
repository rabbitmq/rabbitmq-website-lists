<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ experience
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20experience&In-Reply-To=497F8513.50903%40lshift.net">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002731.html">
   <LINK REL="Next"  HREF="002690.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ experience</H1>
    <B>Martin Sustrik</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=%5Brabbitmq-discuss%5D%20RabbitMQ%20experience&In-Reply-To=497F8513.50903%40lshift.net"
       TITLE="[rabbitmq-discuss] RabbitMQ experience">sustrik at imatix.com
       </A><BR>
    <I>Wed Jan 28 06:53:53 GMT 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002731.html">[rabbitmq-discuss] RabbitMQ experience
</A></li>
        <LI>Next message: <A HREF="002690.html">[rabbitmq-discuss] rabbitmq 1.5.1-1 from debian pool fails to start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2743">[ date ]</a>
              <a href="thread.html#2743">[ thread ]</a>
              <a href="subject.html#2743">[ subject ]</a>
              <a href="author.html#2743">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Tony Garnock-Jones wrote:
&gt;<i> Martin Sustrik wrote:
</I>&gt;&gt;<i> Hm, interesting. I've never thought of that kind of metric. Possibly 
</I>&gt;&gt;<i> something like &quot;if there's a peak lasting N seconds containing M 
</I>&gt;&gt;<i> messages there's a 50% chance that the max latency will exceed X 
</I>&gt;&gt;<i> microseconds&quot;. The obvious problem is that there are to many free 
</I>&gt;&gt;<i> variables in the formula.
</I>&gt;<i> 
</I>&gt;<i> Yeah. Hmm. Well, LD50 is measured IIRC along the lines of &quot;LD50 is this 
</I>&gt;<i> many mg/kg in mice&quot;, so there's a dependency on species, amount of 
</I>&gt;<i> bodyweight, and amount of drug. Still doesn't help with our problem, of 
</I>&gt;<i> course :-)
</I>
What can be done for example is to simulate some particularly terrible 
real-world market data peak and show that the solution is capable of 
handling it with latencies below N in 99.99% of cases.

Still, while vendors love percentile statistics, customers want hard 
limits forgetting that they won't run the system on hard realtime OS 
anyway... something more &quot;straightforward&quot; would do a better marketing job.

&gt;<i> Those charts you linked earlier were interesting. The 1/lambda chart had 
</I>&gt;<i> a sharp corner where the network took over from the CPU as the 
</I>&gt;<i> bottleneck. Perhaps the location (and sharpness?) of the corner is a 
</I>&gt;<i> relevant measure?
</I>
That metric may be pretty interesting to understand how the system 
behaves, but you can easily make it look better by slowing down 
processing of the message content (linearly bound part of the algorithm) 
instead of speeding up processing of the message as a unit (constantly 
bound part of the algorithm).

You can make it unambiguous by mentioning 2 values: &quot;for message sizes 
below 32 bytes the system hits its processing limit at 250 nanoseconds 
per message i.e. 4 million messages a second.&quot;

Martin


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002731.html">[rabbitmq-discuss] RabbitMQ experience
</A></li>
	<LI>Next message: <A HREF="002690.html">[rabbitmq-discuss] rabbitmq 1.5.1-1 from debian pool fails to start
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2743">[ date ]</a>
              <a href="thread.html#2743">[ thread ]</a>
              <a href="subject.html#2743">[ subject ]</a>
              <a href="author.html#2743">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="http://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
