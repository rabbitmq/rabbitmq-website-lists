<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Losing messages, why?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Losing%20messages%2C%20why%3F&In-Reply-To=%3C4D6BDA93.8060206%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011521.html">
   <LINK REL="Next"  HREF="011529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Losing messages, why?</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Losing%20messages%2C%20why%3F&In-Reply-To=%3C4D6BDA93.8060206%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Losing messages, why?">matthias at rabbitmq.com
       </A><BR>
    <I>Mon Feb 28 17:25:39 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011521.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
        <LI>Next message: <A HREF="011529.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11523">[ date ]</a>
              <a href="thread.html#11523">[ thread ]</a>
              <a href="subject.html#11523">[ subject ]</a>
              <a href="author.html#11523">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 28/02/11 17:11, DOBRO Sergei wrote:
&gt;<i> I've noticed that the issue occurs chiefly when the worker's queue is
</I>&gt;<i> in heavy load state.
</I>&gt;<i>
</I>&gt;<i> But when the workers stop receving messages, none of their queues
</I>&gt;<i> have messages_ready or messages_unacknowledged. Here is the output
</I>&gt;<i> I've saved when it happened last time.
</I>&gt;<i> [...]
</I>
In the list_* output you sent, which consumers/queues are in the 
&quot;broken&quot; state where their connected clients aren't receiving messages?

If all workers have the queues and bindings you expect, and their queues 
are empty then I can think of just three ways in which messages might 
get &quot;lost&quot;:

1) The server sends the messages to the client but for some reason they 
never make it to the client side application.

2) Some other consumer is consuming messages from the same queues.

3) The messages are never published in the first place.

Perhaps you could attach a network tap when the system is &quot;broken&quot; to 
see what is getting sent to the clients?


Regards,

Matthias.
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011521.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
	<LI>Next message: <A HREF="011529.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11523">[ date ]</a>
              <a href="thread.html#11523">[ thread ]</a>
              <a href="subject.html#11523">[ subject ]</a>
              <a href="author.html#11523">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
