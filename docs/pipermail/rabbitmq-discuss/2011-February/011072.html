<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Pulling RabbitMQ out of service
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pulling%20RabbitMQ%20out%20of%20service&In-Reply-To=%3CCDE001AD-0B58-44D8-A1B6-4F5E1D8DE616%40ecollege.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011070.html">
   <LINK REL="Next"  HREF="011071.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Pulling RabbitMQ out of service</H1>
    <B>Chris Chew</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Pulling%20RabbitMQ%20out%20of%20service&In-Reply-To=%3CCDE001AD-0B58-44D8-A1B6-4F5E1D8DE616%40ecollege.com%3E"
       TITLE="[rabbitmq-discuss] Pulling RabbitMQ out of service">chrisch at ecollege.com
       </A><BR>
    <I>Fri Feb  4 16:29:49 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011070.html">[rabbitmq-discuss] Pulling RabbitMQ out of service
</A></li>
        <LI>Next message: <A HREF="011071.html">[rabbitmq-discuss] Sending message through rabbitmq-stomp -&gt;	exchange(topic) - crashes queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11072">[ date ]</a>
              <a href="thread.html#11072">[ thread ]</a>
              <a href="subject.html#11072">[ subject ]</a>
              <a href="author.html#11072">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Feb 4, 2011, at 8:00 AM, Bill Moseley wrote:

The story from our IT department is we don't like DRBD and NAS/SAN is too expensive. ;)  But, they want to be able to yank the plug on a RabbitMQ box and have the application continue with no disruption.  Basically, no message is ever lost.


For what it's worth...

We're currently in production with an active/passive Rabbit writing to a shared volume attached via NFS.  That's working fine for now but in all likelihood will be our first performance bottleneck.  Consequently we're testing performance of an Active/Passive Rabbit writing to a GlusterFS share via the native gluster filesystem driver.  Initial results are looking much better (and cheaper) than what we saw with the more traditional NAS.

Of course the longer term goal is to a) have a better story for A/B/C Rabbit warrens (essentially RAID) and b) add a comfortable amount of failure tolerance into our application workflows, but for now Gluster is looking like a promising next step.

I mention all of this because maybe your IT department will be more comfortable with something like Gluster than DRBD or NAS/SAN.

Good luck!

Chris Chew

P.S. One problem we've seen with the Pacemaker stack and NFS is that sometimes the filesystem isn't unlocked when migrating the resource from the active to the passive server.  A native, fstab'd Gluster volume removes the filesystem from the Pacemaker equation and consequently appears to be more reliable.


</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011070.html">[rabbitmq-discuss] Pulling RabbitMQ out of service
</A></li>
	<LI>Next message: <A HREF="011071.html">[rabbitmq-discuss] Sending message through rabbitmq-stomp -&gt;	exchange(topic) - crashes queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11072">[ date ]</a>
              <a href="thread.html#11072">[ thread ]</a>
              <a href="subject.html#11072">[ subject ]</a>
              <a href="author.html#11072">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
