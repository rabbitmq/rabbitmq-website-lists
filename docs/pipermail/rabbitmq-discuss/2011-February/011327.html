<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] What to do with &quot;unwanted messages&quot;
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20What%20to%20do%20with%20%22unwanted%20messages%22&In-Reply-To=%3CAANLkTi%3Dq7YkJ_NYXqAsYC9AhCiC1xha78ahwpjAXw_YE%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011334.html">
   <LINK REL="Next"  HREF="011339.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] What to do with &quot;unwanted messages&quot;</H1>
    <B>Robin Harvey</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20What%20to%20do%20with%20%22unwanted%20messages%22&In-Reply-To=%3CAANLkTi%3Dq7YkJ_NYXqAsYC9AhCiC1xha78ahwpjAXw_YE%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] What to do with &quot;unwanted messages&quot;">harvey.robin at gmail.com
       </A><BR>
    <I>Sat Feb 19 11:48:02 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011334.html">[rabbitmq-discuss] Naming RabbitMQ nodes with complete domain names
</A></li>
        <LI>Next message: <A HREF="011339.html">[rabbitmq-discuss] What to do with &quot;unwanted messages&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11327">[ date ]</a>
              <a href="thread.html#11327">[ thread ]</a>
              <a href="subject.html#11327">[ subject ]</a>
              <a href="author.html#11327">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

What is the recommended course of action for dealing with unwanted messages
in consumers?  If a consumer sends basic.cancel there's a possibility that
there will be one or more &quot;undelivered&quot; messages (depending on the
prefetch-count parameters), is it best to basic.reject these before or after
sending basic.cancel?

A connected issue here is that sending basic.cancel alters the sequence of
messages on the target queue, the undelivered message gets requeued at the
end of the queue.  AFAICS this is to be expected given how the basic.consume
mechanism works, but is there anything I can do to prevent this re-ordering?
 I suppose that using basic.get instead would probably do the trick, but is
there some combination of basic.reject and/or basic.recover that can also
prevent this re-ordering?


Thanks,
--Robin
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110219/f1fb3ede/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110219/f1fb3ede/attachment.htm</A>&gt;
</PRE>












































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011334.html">[rabbitmq-discuss] Naming RabbitMQ nodes with complete domain names
</A></li>
	<LI>Next message: <A HREF="011339.html">[rabbitmq-discuss] What to do with &quot;unwanted messages&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11327">[ date ]</a>
              <a href="thread.html#11327">[ thread ]</a>
              <a href="subject.html#11327">[ subject ]</a>
              <a href="author.html#11327">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
