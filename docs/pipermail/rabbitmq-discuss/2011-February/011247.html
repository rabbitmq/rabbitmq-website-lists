<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Message persistence format
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20persistence%20format&In-Reply-To=%3C00781A9C-B247-4A10-84D1-AE8C7EC67413%40vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011299.html">
   <LINK REL="Next"  HREF="011248.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Message persistence format</H1>
    <B>Jonathan Brisbin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Message%20persistence%20format&In-Reply-To=%3C00781A9C-B247-4A10-84D1-AE8C7EC67413%40vmware.com%3E"
       TITLE="[rabbitmq-discuss] Message persistence format">jbrisbin at vmware.com
       </A><BR>
    <I>Mon Feb 14 19:33:20 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011299.html">[rabbitmq-discuss] Multiple rabbitmq servers, one or more consumers (.NET)
</A></li>
        <LI>Next message: <A HREF="011248.html">[rabbitmq-discuss] Message persistence format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11247">[ date ]</a>
              <a href="thread.html#11247">[ thread ]</a>
              <a href="subject.html#11247">[ subject ]</a>
              <a href="author.html#11247">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've tracked down some problems I've been having with a Riak-based message persister to not having a properly-constructed #basic_message record to give back to the broker. I see some differences between those returned from a working version of a backing queue versus the ones returned from mine.

I'm wondering, then, if there's some guidance you can give on the way to persist messages outside of an Erlang context. Ideally, one should be able to work with the message content. This means storing the individual pieces that make up a message in various ways (headers/links to metadata documents, etc...). But it's easier if I simply serialize the Erlang term for the message and reconstitute it later. It then has all the internal properties it needs on it, etc...

What are the fewest possible pieces of information I need to construct a valid #basic_message record?

Thanks!

Jon Brisbin
SpringSource (a division of VMware)

Twitter: @j_brisbin


</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011299.html">[rabbitmq-discuss] Multiple rabbitmq servers, one or more consumers (.NET)
</A></li>
	<LI>Next message: <A HREF="011248.html">[rabbitmq-discuss] Message persistence format
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11247">[ date ]</a>
              <a href="thread.html#11247">[ thread ]</a>
              <a href="subject.html#11247">[ subject ]</a>
              <a href="author.html#11247">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
