<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Lost messages after consumer crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Lost%20messages%20after%20consumer%20crash&In-Reply-To=%3CAANLkTinS5JuHmMb4DnQ3TTkiN%3DWbEO9H%2BiCiivfe4A5r%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011260.html">
   <LINK REL="Next"  HREF="011236.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Lost messages after consumer crash</H1>
    <B>Fabio Margarido</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Lost%20messages%20after%20consumer%20crash&In-Reply-To=%3CAANLkTinS5JuHmMb4DnQ3TTkiN%3DWbEO9H%2BiCiivfe4A5r%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Lost messages after consumer crash">fabiomargarido at gmail.com
       </A><BR>
    <I>Mon Feb 14 11:50:47 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011260.html">[rabbitmq-discuss] Java client getMessageCount problem
</A></li>
        <LI>Next message: <A HREF="011236.html">[rabbitmq-discuss] Lost messages after consumer crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11234">[ date ]</a>
              <a href="thread.html#11234">[ thread ]</a>
              <a href="subject.html#11234">[ subject ]</a>
              <a href="author.html#11234">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi there.
I'm new to RabbitMQ and this list. I've searched the archives but
haven't found an answer for my question, sorry if it's been asked
before.
I've downloaded the server and Java client packages and started
playing around. I've slightly modified the example Java code so that
the producer sends 100000 messages in a loop. Each message contains a
sequential number.
I've noticed that if I crash (Ctrl+C) the consumer in the middle if
the message reception flow and then start it up again, there's a gap
in the messages delivered, i.e., the sequential numbers after the
restart don't pick up from where they stopped. I thought this might be
related to Java and only the printing of the messages, but some quick
analysis of the network traces showed that apparently the non printed
messages are missing from the transmission.
Changing to transaction mode and manual ack didn't seem to help.
Has anyone seen this behavior before? Am I missing something? How can
I guarantee that all the messages are delivered?
Thanks in advance.

Fabio
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011260.html">[rabbitmq-discuss] Java client getMessageCount problem
</A></li>
	<LI>Next message: <A HREF="011236.html">[rabbitmq-discuss] Lost messages after consumer crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11234">[ date ]</a>
              <a href="thread.html#11234">[ thread ]</a>
              <a href="subject.html#11234">[ subject ]</a>
              <a href="author.html#11234">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
