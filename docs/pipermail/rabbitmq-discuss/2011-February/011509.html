<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Clustering over a WAN
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20over%20a%20WAN&In-Reply-To=%3CA610E03AD50BFC4D95529A36D37FA55E1697F7B953%40GEORGE.Emea.Arm.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011507.html">
   <LINK REL="Next"  HREF="011513.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Clustering over a WAN</H1>
    <B>Chris Hampson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20over%20a%20WAN&In-Reply-To=%3CA610E03AD50BFC4D95529A36D37FA55E1697F7B953%40GEORGE.Emea.Arm.com%3E"
       TITLE="[rabbitmq-discuss] Clustering over a WAN">Chris.Hampson at arm.com
       </A><BR>
    <I>Mon Feb 28 15:27:42 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011507.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
        <LI>Next message: <A HREF="011513.html">[rabbitmq-discuss] Clustering over a WAN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11509">[ date ]</a>
              <a href="thread.html#11509">[ thread ]</a>
              <a href="subject.html#11509">[ subject ]</a>
              <a href="author.html#11509">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Guys,

We're currently attempting to maintain a RabbitMQ cluster over a WAN between some of our sites, 2 in the US, one in the UK and another in India.

For the most part this seems to be working fine, but it seems a little fragile and we can't seem to get it to recover from failures very well.

Currently we have one disk node, and three RAM nodes, I've set the net_ticktime quite high to try to decrease the chances of timeouts, but we still seem to run into about one problem a week.

Quite often if there is a communication problem at all we end up with a segmented network, and normally the RAM nodes all gang up and ignore the disk node happily going about their business.

If anyone can provide any advice to aid our situation we'd be most grateful (even if it is &quot;don't do that you loony, separate them out and shovel messages between sites when necessary&quot;)

There never seems to be much in the log files in the event of a cluster break up, but on request I can go hunting for snippets if they'll be useful.

Many thanks in advance,

Chris

-- IMPORTANT NOTICE: The contents of this email and any attachments are confidential and may also be privileged. If you are not the intended recipient, please notify the sender immediately and do not disclose the contents to any other person, use it for any purpose, or store or copy the information in any medium.  Thank you.

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011507.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
	<LI>Next message: <A HREF="011513.html">[rabbitmq-discuss] Clustering over a WAN
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11509">[ date ]</a>
              <a href="thread.html#11509">[ thread ]</a>
              <a href="subject.html#11509">[ subject ]</a>
              <a href="author.html#11509">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
