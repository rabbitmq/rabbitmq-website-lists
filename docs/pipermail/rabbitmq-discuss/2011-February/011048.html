<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMq upgrade issue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMq%20upgrade%20issue&In-Reply-To=%3C4D4A9965.20306%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011041.html">
   <LINK REL="Next"  HREF="011043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMq upgrade issue</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMq%20upgrade%20issue&In-Reply-To=%3C4D4A9965.20306%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMq upgrade issue">emile at rabbitmq.com
       </A><BR>
    <I>Thu Feb  3 12:02:45 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011041.html">[rabbitmq-discuss] RabbitMq upgrade issue
</A></li>
        <LI>Next message: <A HREF="011043.html">[rabbitmq-discuss] Not able to commit channel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11048">[ date ]</a>
              <a href="thread.html#11048">[ thread ]</a>
              <a href="subject.html#11048">[ subject ]</a>
              <a href="author.html#11048">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Waseem

On 03/02/11 05:54, Waseem Hawaldar wrote:
&gt;<i> I was using rabbitMq 1.8 which was working as expected ie, all the
</I>&gt;<i> queues were durable .I mean even if I restart the server messages use to
</I>&gt;<i> be persistent in queues.
</I>&gt;<i>
</I>&gt;<i> But, now I decided to use upgraded version i.e, rabbitMq 2.2 . So, I had
</I>&gt;<i> replaced 1.8 jar with 2.2 jar and also started 2.2 server. After all
</I>&gt;<i> this changes I am observing that the messages in the queues are not
</I>&gt;<i> persistent as how it use to happen with 1.8.
</I>
Persistent messages in durable queues are only guaranteed to be on disk 
after a commit. You should make sure the channel is in transactional 
mode (txSelect) and commit when you want messages since the last commit 
to be persisted (txCommit).

Messages will still eventually be persisted in the absence of 
transactions if it is necessary (e.g. the message does not get delivered 
and ack'ed in the meantime), but there is no guarantee when that might 
happen, regardless of which version of rabbit you are using.


Regards

Emile

</PRE>












<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011041.html">[rabbitmq-discuss] RabbitMq upgrade issue
</A></li>
	<LI>Next message: <A HREF="011043.html">[rabbitmq-discuss] Not able to commit channel
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11048">[ date ]</a>
              <a href="thread.html#11048">[ thread ]</a>
              <a href="subject.html#11048">[ subject ]</a>
              <a href="author.html#11048">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
