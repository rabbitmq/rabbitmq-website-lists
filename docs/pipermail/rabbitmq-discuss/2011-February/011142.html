<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] New Open source AMQP implementation,	problems with integrating using different langauges
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20Open%20source%20AMQP%20implementation%2C%0A%09problems%20with%20integrating%20using%20different%20langauges&In-Reply-To=%3C302921.41550.qm%40web111413.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011252.html">
   <LINK REL="Next"  HREF="011144.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] New Open source AMQP implementation,	problems with integrating using different langauges</H1>
    <B>finn colman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20Open%20source%20AMQP%20implementation%2C%0A%09problems%20with%20integrating%20using%20different%20langauges&In-Reply-To=%3C302921.41550.qm%40web111413.mail.gq1.yahoo.com%3E"
       TITLE="[rabbitmq-discuss] New Open source AMQP implementation,	problems with integrating using different langauges">finncolman at yahoo.co.nz
       </A><BR>
    <I>Tue Feb  8 02:08:24 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011252.html">[rabbitmq-discuss] disk space not released after persistent messages are consumed
</A></li>
        <LI>Next message: <A HREF="011144.html">[rabbitmq-discuss] New Open source AMQP implementation, problems with integrating using different langauges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11142">[ date ]</a>
              <a href="thread.html#11142">[ thread ]</a>
              <a href="subject.html#11142">[ subject ]</a>
              <a href="author.html#11142">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have found the solution to my problem.
I set found out that the flags were the content-type and content-encoding. When 
I set these properties in the python code then I could consumer the message on 
the PHP side without an exception being thrown.




----- Original Message ----
From: finn colman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">finncolman at yahoo.co.nz</A>&gt;
To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
Sent: Tue, 8 February, 2011 12:17:08 PM
Subject: New Open source AMQP implementation, problems with integrating using 
different langauges

Hi there.
I have a python program that talks to a rabbit MQ server using its own library. 
On my end I am running Robin's AMQP PHP 
library,<A HREF="https://github.com/BraveSirRobin/amqphp">https://github.com/BraveSirRobin/amqphp</A> to connect to the Rabbit MQ 
server. I can submit a message to the queue and the python side can read it, but 

if the python side submits a message to the queue and the PHP side tries to 
consume it I am getting an Exception thrown from inside amqp.wire.php: 
&quot;Unexpected message property flags&quot;.
This is happening because the strlen($binFlags) is evaluating to 0 in this case. 

If I run it using PHP submitted messages then it correctly evaliuates to a 
length of 16.
The binary flags is 1100000000000000(49152) for a PHP suibmitted message read 
off the queue, but it is 0 for the message read off the queue that was put there 

by python.
What is causing this? Also what do these flags really represent.
As a temporary work around I have managed to get the code to read the message by 

simply commenting out these three lines of code that check this binary flags 
length.
Thanks.


      
</PRE>















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011252.html">[rabbitmq-discuss] disk space not released after persistent messages are consumed
</A></li>
	<LI>Next message: <A HREF="011144.html">[rabbitmq-discuss] New Open source AMQP implementation, problems with integrating using different langauges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11142">[ date ]</a>
              <a href="thread.html#11142">[ thread ]</a>
              <a href="subject.html#11142">[ subject ]</a>
              <a href="author.html#11142">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
