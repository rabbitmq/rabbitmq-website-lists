<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] New Open source AMQP implementation, problems with integrating using different langauges
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20Open%20source%20AMQP%20implementation%2C%0A%20problems%20with%20integrating%20using%20different%20langauges&In-Reply-To=%3CAANLkTi%3D7paA4bBQkdLdppMwxhyczKbuwQEzkXXPbdhuy%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011142.html">
   <LINK REL="Next"  HREF="011145.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] New Open source AMQP implementation, problems with integrating using different langauges</H1>
    <B>Robin Harvey</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20New%20Open%20source%20AMQP%20implementation%2C%0A%20problems%20with%20integrating%20using%20different%20langauges&In-Reply-To=%3CAANLkTi%3D7paA4bBQkdLdppMwxhyczKbuwQEzkXXPbdhuy%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] New Open source AMQP implementation, problems with integrating using different langauges">harvey.robin at gmail.com
       </A><BR>
    <I>Tue Feb  8 09:21:29 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011142.html">[rabbitmq-discuss] New Open source AMQP implementation,	problems with integrating using different langauges
</A></li>
        <LI>Next message: <A HREF="011145.html">[rabbitmq-discuss] New Open source AMQP implementation, problems with integrating using different langauges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11144">[ date ]</a>
              <a href="thread.html#11144">[ thread ]</a>
              <a href="subject.html#11144">[ subject ]</a>
              <a href="author.html#11144">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

The situation Finn describes where having no message delivery flags sounds
like a bug in amqphp.  Are the content-type / content-encoding parameters
required by Amqp / RabbitMQ?

Thanks,
--Robin

On Tue, Feb 8, 2011 at 2:08 AM, finn colman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">finncolman at yahoo.co.nz</A>&gt; wrote:

&gt;<i> I have found the solution to my problem.
</I>&gt;<i> I set found out that the flags were the content-type and content-encoding.
</I>&gt;<i> When
</I>&gt;<i> I set these properties in the python code then I could consumer the message
</I>&gt;<i> on
</I>&gt;<i> the PHP side without an exception being thrown.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> ----- Original Message ----
</I>&gt;<i> From: finn colman &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">finncolman at yahoo.co.nz</A>&gt;
</I>&gt;<i> To: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> Sent: Tue, 8 February, 2011 12:17:08 PM
</I>&gt;<i> Subject: New Open source AMQP implementation, problems with integrating
</I>&gt;<i> using
</I>&gt;<i> different langauges
</I>&gt;<i>
</I>&gt;<i> Hi there.
</I>&gt;<i> I have a python program that talks to a rabbit MQ server using its own
</I>&gt;<i> library.
</I>&gt;<i> On my end I am running Robin's AMQP PHP
</I>&gt;<i> library,<A HREF="https://github.com/BraveSirRobin/amqphp">https://github.com/BraveSirRobin/amqphp</A> to connect to the Rabbit
</I>&gt;<i> MQ
</I>&gt;<i> server. I can submit a message to the queue and the python side can read
</I>&gt;<i> it, but
</I>&gt;<i>
</I>&gt;<i> if the python side submits a message to the queue and the PHP side tries to
</I>&gt;<i> consume it I am getting an Exception thrown from inside amqp.wire.php:
</I>&gt;<i> &quot;Unexpected message property flags&quot;.
</I>&gt;<i> This is happening because the strlen($binFlags) is evaluating to 0 in this
</I>&gt;<i> case.
</I>&gt;<i>
</I>&gt;<i> If I run it using PHP submitted messages then it correctly evaliuates to a
</I>&gt;<i> length of 16.
</I>&gt;<i> The binary flags is 1100000000000000(49152) for a PHP suibmitted message
</I>&gt;<i> read
</I>&gt;<i> off the queue, but it is 0 for the message read off the queue that was put
</I>&gt;<i> there
</I>&gt;<i>
</I>&gt;<i> by python.
</I>&gt;<i> What is causing this? Also what do these flags really represent.
</I>&gt;<i> As a temporary work around I have managed to get the code to read the
</I>&gt;<i> message by
</I>&gt;<i>
</I>&gt;<i> simply commenting out these three lines of code that check this binary
</I>&gt;<i> flags
</I>&gt;<i> length.
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110208/7f422539/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20110208/7f422539/attachment.htm</A>&gt;
</PRE>














<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011142.html">[rabbitmq-discuss] New Open source AMQP implementation,	problems with integrating using different langauges
</A></li>
	<LI>Next message: <A HREF="011145.html">[rabbitmq-discuss] New Open source AMQP implementation, problems with integrating using different langauges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11144">[ date ]</a>
              <a href="thread.html#11144">[ thread ]</a>
              <a href="subject.html#11144">[ subject ]</a>
              <a href="author.html#11144">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
