<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Another Use-case?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Another%20Use-case%3F&In-Reply-To=%3CAANLkTinrsc%3DQJd4TqcHHmGh9g2ELwDpjAgP444d_GZS8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011180.html">
   <LINK REL="Next"  HREF="011181.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Another Use-case?</H1>
    <B>Marek Majkowski</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Another%20Use-case%3F&In-Reply-To=%3CAANLkTinrsc%3DQJd4TqcHHmGh9g2ELwDpjAgP444d_GZS8%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Another Use-case?">majek04 at gmail.com
       </A><BR>
    <I>Fri Feb 11 11:49:21 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011180.html">[rabbitmq-discuss] Another Use-case?
</A></li>
        <LI>Next message: <A HREF="011181.html">[rabbitmq-discuss] File descriptor limits in management plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11213">[ date ]</a>
              <a href="thread.html#11213">[ thread ]</a>
              <a href="subject.html#11213">[ subject ]</a>
              <a href="author.html#11213">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Feb 9, 2011 at 15:06, Olle Jonsson &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">olle.jonsson at gmail.com</A>&gt; wrote:
&gt;<i> Would Facebook's Real-time updates be a typical AMQP job?
</I>&gt;<i> Sample PHP callback to that API
</I>&gt;<i>
</I>&gt;<i> My question: Would it be good and AMQP-like to have that callback.php&#160;file
</I>&gt;<i> (aka &quot;the end-point&quot;) enqueue messages instead of working on them?
</I>&gt;<i> best regards from the sidelines,
</I>
I guess you could just do the work in 'callback.php'.
I'm not sure what guarantees does the facebook give you
but it seems probable to receive two updates relating to the
same object (user) at the same time.

If your app doesn't take that into account, you may end up
in having a race condition between those two requests.

To make sure you process only one update at a time
you could serialize them - RabbitMQ queue is
a perfect choice for that.

The other advantage of offloading work to rabbit, is that
on facebook update you may want to query facebook
API to receive updated details. That may take some time
and you don't want any blocking in code to run inside
a web server (like apache+php).

Cheers,
  Marek
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011180.html">[rabbitmq-discuss] Another Use-case?
</A></li>
	<LI>Next message: <A HREF="011181.html">[rabbitmq-discuss] File descriptor limits in management plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11213">[ date ]</a>
              <a href="thread.html#11213">[ thread ]</a>
              <a href="subject.html#11213">[ subject ]</a>
              <a href="author.html#11213">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
