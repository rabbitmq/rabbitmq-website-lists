<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Strategy for consuming queues and ordering
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Strategy%20for%20consuming%20queues%20and%20ordering&In-Reply-To=%3CAANLkTimkk1cCojwsf3q5v27O-yUWft3tXcssVm6mVP_X%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011283.html">
   <LINK REL="Next"  HREF="011186.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Strategy for consuming queues and ordering</H1>
    <B>Alfonso Pantoja</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Strategy%20for%20consuming%20queues%20and%20ordering&In-Reply-To=%3CAANLkTimkk1cCojwsf3q5v27O-yUWft3tXcssVm6mVP_X%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Strategy for consuming queues and ordering">alfonso.pantoja at gmail.com
       </A><BR>
    <I>Thu Feb 10 09:44:14 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011283.html">[rabbitmq-discuss] Message redelivering doubt with one and with more than one consumers.
</A></li>
        <LI>Next message: <A HREF="011186.html">[rabbitmq-discuss] Strategy for consuming queues and ordering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11185">[ date ]</a>
              <a href="thread.html#11185">[ thread ]</a>
              <a href="subject.html#11185">[ subject ]</a>
              <a href="author.html#11185">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Can anyone tell me how to deal with queues that contain messages that
are higly recommended by business logic to be ordered?

As far as I know when messages are not acked and a BasicRecover(true)
is done or the consumer is reconnected all these messages are requeued
so the order is lost.

The more suitable strategy I've found in queues where ordering is
important is to use one consumer that stops the consuming process
conditioned to the treatment of the message. In other words, it does
not consume any more message until the current message is, for
example, successfully stored in the database.
The drawback of this is that in case of a consumer is disconnected the
current message is not acked so it will be requeued so the order will
be lost.



Advice on this would be really appreciated :)


Thank you in advance.



Regards,

Alfonso
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011283.html">[rabbitmq-discuss] Message redelivering doubt with one and with more than one consumers.
</A></li>
	<LI>Next message: <A HREF="011186.html">[rabbitmq-discuss] Strategy for consuming queues and ordering
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11185">[ date ]</a>
              <a href="thread.html#11185">[ thread ]</a>
              <a href="subject.html#11185">[ subject ]</a>
              <a href="author.html#11185">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
