<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] publish messages after certain period
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20publish%20messages%20after%20certain%20period&In-Reply-To=%3C20110209095700.GA3442%40dakota.eng.vmware.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011133.html">
   <LINK REL="Next"  HREF="011138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] publish messages after certain period</H1>
    <B>Alexandru Scvor&#355;ov</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20publish%20messages%20after%20certain%20period&In-Reply-To=%3C20110209095700.GA3442%40dakota.eng.vmware.com%3E"
       TITLE="[rabbitmq-discuss] publish messages after certain period">alexandru at rabbitmq.com
       </A><BR>
    <I>Wed Feb  9 09:57:00 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011133.html">[rabbitmq-discuss] publish messages after certain period
</A></li>
        <LI>Next message: <A HREF="011138.html">[rabbitmq-discuss] New Open source AMQP implementation,	problems with integrating using different langauges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11166">[ date ]</a>
              <a href="thread.html#11166">[ thread ]</a>
              <a href="subject.html#11166">[ subject ]</a>
              <a href="author.html#11166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Denny,

&gt;<i> Basically, I'd like to be able to publish a message.  I'd want that message held for 30 seconds prior to it actually being delivered.  After 30 seconds the message can be delivered to the appropriate queue(s).  During the 30 second window, I'd have the option of removing the message preventing it from being delivered altogether.
</I>&gt;<i>
</I>&gt;<i> Would RabbitMQ be able to handle this type of scenario? 
</I>
It can't handle it insomuch as there's no configuration option for it.
Of course, you could build a system that does the same thing.

For instance, you could:
  1) have all producers publish to a single 'incoming' queue, and have
  them include the delivery time and the intended destination queue in
  the message or in the message headers;
  2) have a consumer consuming one message at a time (via basic.get or
  with basic.consume and basic.qos) from the incoming queue and
  republishing the messages to the destination queues; since this
  consumer handles messages one at a time, it can wait if it receives a
  message to early; this consumer would also have the option of
  discarding removed messages; it could be notified of which messages to
  remove by reading from another queue;
  3) have normal consumers use the destination queues.

RabbitMQ doesn't do this automatically because
  1) it's a messaging system, not a database; it's designed to handle
  messages as quickly as possible, not store them for arbitrary lengths
  of time;
  2) once on a queue, a message cannot be altered or removed; i.e. you
  can't remove a message from the middle of a queue.

Hope this helps.

Cheers,
Alex

On Mon, Feb 07, 2011 at 02:07:27PM -0600, Denny Swindle wrote:
&gt;<i> I'm pretty much a newbie at using RabbitMQ.  We have a instance running on one of our servers for an application we have and so far it's been working great for what we need.  But now I have a scenario and I'm wondering if it's possible to leverage RabbitMQ.  
</I>&gt;<i> 
</I>&gt;<i> Basically, I'd like to be able to publish a message.  I'd want that message held for 30 seconds prior to it actually being delivered.  After 30 seconds the message can be delivered to the appropriate queue(s).  During the 30 second window, I'd have the option of removing the message preventing it from being delivered altogether.
</I>&gt;<i> 
</I>&gt;<i> Would RabbitMQ be able to handle this type of scenario? 
</I>&gt;<i> 
</I>&gt;<i> Thanks -
</I>&gt;<i> Denny
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I></PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011133.html">[rabbitmq-discuss] publish messages after certain period
</A></li>
	<LI>Next message: <A HREF="011138.html">[rabbitmq-discuss] New Open source AMQP implementation,	problems with integrating using different langauges
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11166">[ date ]</a>
              <a href="thread.html#11166">[ thread ]</a>
              <a href="subject.html#11166">[ subject ]</a>
              <a href="author.html#11166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
