<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Sending message through rabbitmq-stomp -&gt; exchange(topic) - crashes queue
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Sending%20message%20through%20rabbitmq-stomp%20-%3E%0A%20exchange%28topic%29%20-%20crashes%20queue&In-Reply-To=%3C20110202234818.GB25295%40wellquite.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011028.html">
   <LINK REL="Next"  HREF="011033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Sending message through rabbitmq-stomp -&gt; exchange(topic) - crashes queue</H1>
    <B>Matthew Sackman</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Sending%20message%20through%20rabbitmq-stomp%20-%3E%0A%20exchange%28topic%29%20-%20crashes%20queue&In-Reply-To=%3C20110202234818.GB25295%40wellquite.org%3E"
       TITLE="[rabbitmq-discuss] Sending message through rabbitmq-stomp -&gt; exchange(topic) - crashes queue">matthew at rabbitmq.com
       </A><BR>
    <I>Wed Feb  2 23:48:19 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011028.html">[rabbitmq-discuss] Sending message through rabbitmq-stomp -&gt;	exchange(topic) - crashes queue
</A></li>
        <LI>Next message: <A HREF="011033.html">[rabbitmq-discuss] Sending message through rabbitmq-stomp -&gt; exchange(topic) - crashes queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11030">[ date ]</a>
              <a href="thread.html#11030">[ thread ]</a>
              <a href="subject.html#11030">[ subject ]</a>
              <a href="author.html#11030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Feb 02, 2011 at 10:27:45AM -0800, Jurdanas Kriauciunas wrote:
&gt;<i> Versions tested: 2.1.1, 2.2.0 and newest 2.3.0. All have same problem
</I>&gt;<i> (2.1.1 has different destination naming and extra headers). But newest
</I>&gt;<i> version sends error back at least.
</I>
Good to know this isn't a bug that's recently been introduced.

&gt;<i> Here is excerpt from .log file:
</I>&gt;<i> =ERROR REPORT==== 2-Feb-2011::19:50:38 ===
</I>&gt;<i> Error in process &lt;0.2811.0&gt; on node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at JOSKIS-PC</A>' with exit
</I>&gt;<i> value: {badarg,[{erlang,size,[[&lt;&lt;9 bytes&gt;&gt;]]},
</I>&gt;<i> {rabbit_binary_generator,build_content_frames,7},
</I>&gt;<i> {rabbit_binary_generator,build_simple_content_frames,4},
</I>&gt;<i> {rabbit_writer,assemble_frames,5},
</I>&gt;<i> {rabbit_writer,internal_send_command_async...
</I>
Ok, so the message payload is being sent through as a list instead of as
a binary. My guess without checking further is this is a bug in the
stomp client in the way it constructs the messages which are then sent
further into Rabbit, but this may not be the case.

Is there any chance you can send the python code that you use (short and
simple though it may be) that triggers this crash?

Many thanks,

Matthew
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011028.html">[rabbitmq-discuss] Sending message through rabbitmq-stomp -&gt;	exchange(topic) - crashes queue
</A></li>
	<LI>Next message: <A HREF="011033.html">[rabbitmq-discuss] Sending message through rabbitmq-stomp -&gt; exchange(topic) - crashes queue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11030">[ date ]</a>
              <a href="thread.html#11030">[ thread ]</a>
              <a href="subject.html#11030">[ subject ]</a>
              <a href="author.html#11030">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
