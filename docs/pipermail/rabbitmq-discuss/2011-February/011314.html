<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Why does Channel.queueDeclarePassive close the	channel?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20does%20Channel.queueDeclarePassive%20close%20the%0A%09channel%3F&In-Reply-To=%3C0426C874-EC06-472C-B24C-215689858AD4%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011529.html">
   <LINK REL="Next"  HREF="011315.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Why does Channel.queueDeclarePassive close the	channel?</H1>
    <B>Yuesong Wang</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Why%20does%20Channel.queueDeclarePassive%20close%20the%0A%09channel%3F&In-Reply-To=%3C0426C874-EC06-472C-B24C-215689858AD4%40gmail.com%3E"
       TITLE="[rabbitmq-discuss] Why does Channel.queueDeclarePassive close the	channel?">yuesong.c at gmail.com
       </A><BR>
    <I>Fri Feb 18 16:31:47 GMT 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="011529.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
        <LI>Next message: <A HREF="011315.html">[rabbitmq-discuss] Why does Channel.queueDeclarePassive close the	channel?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11314">[ date ]</a>
              <a href="thread.html#11314">[ thread ]</a>
              <a href="subject.html#11314">[ subject ]</a>
              <a href="author.html#11314">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I'm experimenting with RabbitMQ (2.3.1) and the Java client. I tried to use Channel.queueDeclarePassive to detect the presence/absence of a queue, but if the queue does not exit, the method shuts down the channel. Any reason why it does that?

What I really want to do is for both the producers and consumers to automatically recover from a queue gone missing, e.g. the owner node in a cluster goes down (I'm simulating that by deleting the queue while both producers and consumers are running). The producer will recreate the queue (with queueDeclare) and the consumers will use queueDeclarePassive to find the queue. Is there an established pattern for doing that efficiently?

Thanks,

Yuesong
</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011529.html">[rabbitmq-discuss] Losing messages, why?
</A></li>
	<LI>Next message: <A HREF="011315.html">[rabbitmq-discuss] Why does Channel.queueDeclarePassive close the	channel?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11314">[ date ]</a>
              <a href="thread.html#11314">[ thread ]</a>
              <a href="subject.html#11314">[ subject ]</a>
              <a href="author.html#11314">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
