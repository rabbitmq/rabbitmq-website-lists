<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue will not delete
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20will%20not%20delete&In-Reply-To=%3C6DB033025329784B9280ABD9516177FCA2D3D8E7%40usbpx2pmxmbx12%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="037364.html">
   <LINK REL="Next"  HREF="037369.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue will not delete</H1>
    <B>Ganann, Kale</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20will%20not%20delete&In-Reply-To=%3C6DB033025329784B9280ABD9516177FCA2D3D8E7%40usbpx2pmxmbx12%3E"
       TITLE="[rabbitmq-discuss] Queue will not delete">KGanann at kroll.com
       </A><BR>
    <I>Tue Aug 26 20:18:13 BST 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="037364.html">[rabbitmq-discuss] Rabbitmq 3.2.4 running out of memory
</A></li>
        <LI>Next message: <A HREF="037369.html">[rabbitmq-discuss] Queue will not delete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37368">[ date ]</a>
              <a href="thread.html#37368">[ thread ]</a>
              <a href="subject.html#37368">[ subject ]</a>
              <a href="author.html#37368">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I have a queue that won't delete in RabbitMQ 3.2.4.  When I try to access it via the management plug-in, I get:


TypeError: Cannot read property 'ram_msg_count' of undefined

TypeError: Cannot read property 'ram_msg_count' of undefined
And nothing displays.  When I try to delete it via the API, it hangs and I get a timeout.  I can list the queue via the API, but policies don't apply to the queue, and message counts show as &quot;?&quot; in the management plug-in.  I tried having the cluster forget the node that owned the queue, but it remained despite this.  I bypassed the VIP and connected directly to the API on the node itself, and it gave the same results.  Additionally, nothing was noted in the normal or SASL logs to denote the attempt - the only way you can even tell I was there was the access log from the management plug-in.  I ran rabbitmqctl report, and am attaching what I got, but it keeps freezing partway through, which I'm guessing is it trying to access whatever is stuck.

As always, any help you can provide is appreciated.

Thanks,
Kale
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140826/f1cbecfb/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140826/f1cbecfb/attachment.html</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: report.txt
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140826/f1cbecfb/attachment.txt">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140826/f1cbecfb/attachment.txt</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="037364.html">[rabbitmq-discuss] Rabbitmq 3.2.4 running out of memory
</A></li>
	<LI>Next message: <A HREF="037369.html">[rabbitmq-discuss] Queue will not delete
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37368">[ date ]</a>
              <a href="thread.html#37368">[ thread ]</a>
              <a href="subject.html#37368">[ subject ]</a>
              <a href="author.html#37368">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
