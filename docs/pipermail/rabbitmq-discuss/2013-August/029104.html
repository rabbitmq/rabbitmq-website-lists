<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] breadth vs depth for topic routing keys
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20breadth%20vs%20depth%20for%20topic%20routing%20keys&In-Reply-To=%3CCAKgmDnHxeRcTy-J6QuE_JTUHye4_M7FdR8t2WVqzuSrM%3DJfcUg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029103.html">
   <LINK REL="Next"  HREF="029108.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] breadth vs depth for topic routing keys</H1>
    <B>Laing, Michael</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20breadth%20vs%20depth%20for%20topic%20routing%20keys&In-Reply-To=%3CCAKgmDnHxeRcTy-J6QuE_JTUHye4_M7FdR8t2WVqzuSrM%3DJfcUg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] breadth vs depth for topic routing keys">michael.laing at nytimes.com
       </A><BR>
    <I>Tue Aug  6 11:36:11 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029103.html">[rabbitmq-discuss] Not able to enable rabbitmq_tracing plugin in 3.1.3 with Erlang-R16B01
</A></li>
        <LI>Next message: <A HREF="029108.html">[rabbitmq-discuss] stomp and message headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29104">[ date ]</a>
              <a href="thread.html#29104">[ thread ]</a>
              <a href="subject.html#29104">[ subject ]</a>
              <a href="author.html#29104">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>We have a routing scheme in which (initially) messages will route to 1 of
10,000 bindings in a set. There are many such sets.

The key is a pseudo-random whole number in the decimal range up to
10,000,000.

The plan is to represent the bindings and routing keys in a way that
results in a compact and fast trie structure within rabbitmq by separating
each digit with a '.', e.g. for a typical key like '1234567' the routing
key would be '1.2.3.4.5.6.7' if expressed in decimal.

But of course the key could be expressed in another base, affecting the
breadth and depth of the trie, e.g. '5.B.A.N' in base 62. A base in the
range of 10 to 62 is probably reasonable.

So for my range, base 10 has a span of 10 and a depth of 9 while base 62
has a span of 62 and a depth of 4. Any thoughts about where the optimum
lies?

Actually, after writing this I realize that I have answered my own
question: since in my case each set of bindings is a random, sparse
representation of the domain, minimizing depth will tend to form a better
trie for any one set - use base 62.

But perhaps the list will find this interesting anyway.

ml
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130806/88132f8e/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130806/88132f8e/attachment.htm</A>&gt;
</PRE>

































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029103.html">[rabbitmq-discuss] Not able to enable rabbitmq_tracing plugin in 3.1.3 with Erlang-R16B01
</A></li>
	<LI>Next message: <A HREF="029108.html">[rabbitmq-discuss] stomp and message headers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29104">[ date ]</a>
              <a href="thread.html#29104">[ thread ]</a>
              <a href="subject.html#29104">[ subject ]</a>
              <a href="author.html#29104">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
