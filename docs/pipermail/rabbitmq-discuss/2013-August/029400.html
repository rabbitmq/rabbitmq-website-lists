<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Clustering Behaviour
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20Behaviour&In-Reply-To=%3C932f8257-1984-4ac2-b0b9-4634371f27e6%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029413.html">
   <LINK REL="Next"  HREF="029450.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Clustering Behaviour</H1>
    <B>Max Manders</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Clustering%20Behaviour&In-Reply-To=%3C932f8257-1984-4ac2-b0b9-4634371f27e6%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Clustering Behaviour">max at maxmanders.co.uk
       </A><BR>
    <I>Sun Aug 18 13:34:44 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029413.html">[rabbitmq-discuss] Failed to start rabbitmq-server
</A></li>
        <LI>Next message: <A HREF="029450.html">[rabbitmq-discuss] Clustering Behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29400">[ date ]</a>
              <a href="thread.html#29400">[ thread ]</a>
              <a href="subject.html#29400">[ subject ]</a>
              <a href="author.html#29400">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I don't have much experience using RabbitMQ, certainly not programmatically 
as a producer or consumer.  However, I've been asked to set up an HA 
RabbitMQ environment.  I'm using EC2 (implementation detail, assume I know 
what I'm doing with that respect).

I have a cluster configured according to `rabbitmqctl cluster_status`. 
 However, what I don't understand, as someone who hasn't interacted much 
with AMQP is around how things are distributed and how clients connect.

If I configure the cluster to use mirrored queues, I'm also working on the 
assumption that nodes may be transient and might get terminated and created 
via scaling events.  If a node dies, I can see via `rabbitmqctl 
cluster_status` that the node is still part of the cluster, but not a 
'running node'.  What are the implications of this?  If a client requests a 
message from a queue via an exchange, will the cluster service the request 
from an available node, knowing not to use the dead node?  Do I need to 
worry about cluster nodes versus running node; will the cluster remove a 
node that hasn't been running for some time, or should I programmatically 
clean up dead nodes?

Also, how do clients connect to a cluster?  Do I put a load balancer in 
front of a cluster and have an application connect to the load balancer? 
 Or should an application connect to a particular cluster node, or any 
cluster node?  Apologies for the questions, but I'm not developing the app, 
just providing the infrastructure / middleware; not a fan of doing so 
without having a better understanding.

Any help, gratefully received!

Cheers,
Max
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130818/e0d130ce/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130818/e0d130ce/attachment.htm</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029413.html">[rabbitmq-discuss] Failed to start rabbitmq-server
</A></li>
	<LI>Next message: <A HREF="029450.html">[rabbitmq-discuss] Clustering Behaviour
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29400">[ date ]</a>
              <a href="thread.html#29400">[ thread ]</a>
              <a href="subject.html#29400">[ subject ]</a>
              <a href="author.html#29400">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
