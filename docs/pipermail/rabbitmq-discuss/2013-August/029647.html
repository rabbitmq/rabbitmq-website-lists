<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Network partitions
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Network%20partitions&In-Reply-To=%3CD68AB25D-2244-41BF-8940-B4E610E705B2%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029563.html">
   <LINK REL="Next"  HREF="029648.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Network partitions</H1>
    <B>Tim Watson</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Network%20partitions&In-Reply-To=%3CD68AB25D-2244-41BF-8940-B4E610E705B2%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Network partitions">tim at rabbitmq.com
       </A><BR>
    <I>Wed Aug 28 11:00:15 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029563.html">[rabbitmq-discuss] Network partitions
</A></li>
        <LI>Next message: <A HREF="029648.html">[rabbitmq-discuss] Network partitions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29647">[ date ]</a>
              <a href="thread.html#29647">[ thread ]</a>
              <a href="subject.html#29647">[ subject ]</a>
              <a href="author.html#29647">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Ron,

Can you provide a bit more detail about which nodes detected a partition, what the log messages said when this happened and what the network topology looks like? If the nodes are &quot;loosing touch&quot; with each other due to latency in one or more switches, it may be necessary to look at the net_tick time interval used to detect partitions between erlang VMs. I would however, be vary wary of messing about with this kind of setting, since unintended consequences may ensue. The more you can tell us about the symptoms and your environment, the better we'll be able to advise you.

Cheers,

Tim

On 23 Aug 2013, at 19:55, Cordell, Ron wrote:

&gt;<i> Just curious about if people using RMQ clusters have issues with network partitions and what they've done to try to resolve them.
</I>&gt;<i> 
</I>&gt;<i> We're using RMQ 3.1.3 at the moment in a clustered configuration. We're not quite using it in a production capacity at this point. We are seeing nodes in the cluster declaring a network partition and we're in the process of trying to determine what's going on.
</I>&gt;<i> 
</I>&gt;<i> What have others done when seeing network partition issues like this?
</I>&gt;<i> 
</I>&gt;<i> To answer some up front questions:
</I>&gt;<i> all nodes in the cluster are in the same network VLAN
</I>&gt;<i> All nodes in the cluster are not on the same switch, necessarily, for HA reasons
</I>&gt;<i> The cluster is behind an F5 load balancer that presents a VIP to the application
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Ron Cordell
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130828/8d3b6dac/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130828/8d3b6dac/attachment.htm</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029563.html">[rabbitmq-discuss] Network partitions
</A></li>
	<LI>Next message: <A HREF="029648.html">[rabbitmq-discuss] Network partitions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29647">[ date ]</a>
              <a href="thread.html#29647">[ thread ]</a>
              <a href="subject.html#29647">[ subject ]</a>
              <a href="author.html#29647">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
