<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Node crash
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Node%20crash&In-Reply-To=%3C5200D205.6020004%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029095.html">
   <LINK REL="Next"  HREF="029106.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Node crash</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Node%20crash&In-Reply-To=%3C5200D205.6020004%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Node crash">emile at rabbitmq.com
       </A><BR>
    <I>Tue Aug  6 11:37:57 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029095.html">[rabbitmq-discuss] Node crash
</A></li>
        <LI>Next message: <A HREF="029106.html">[rabbitmq-discuss] Node crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29105">[ date ]</a>
              <a href="thread.html#29105">[ thread ]</a>
              <a href="subject.html#29105">[ subject ]</a>
              <a href="author.html#29105">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hi Carl,

On 06/08/13 08:15, carlhoerberg wrote:
&gt;<i> Had a node crash in a cluster (due to memory exhaustion). When clients then
</I>&gt;<i> reconnected to a healthy node, bind commands failed to return. And when the
</I>&gt;<i> crashed node was restarted the logs was flooded with: 
</I>&gt;<i> 
</I>&gt;<i> =ERROR REPORT==== 5-Aug-2013::23:45:50 ===
</I>&gt;<i> Discarding message
</I>&gt;<i> {'$gen_call',{&lt;0.7975.0&gt;,#Ref&lt;0.0.0.244595&gt;},{deliver,{delivery,true,&lt;5068.31152.5031&gt;,{basic_message,{resource,&lt;&lt;8
</I>&gt;<i> bytes&gt;&gt;,exchange,&lt;&lt;16 bytes&gt;&gt;},[&lt;&lt;7 bytes&gt;&gt;],{content,60,{'P_basic',&lt;&lt;24
</I>&gt;<i> bytes&gt;&gt;,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined},&lt;&lt;27
</I>&gt;<i> bytes&gt;&gt;,rabbit_framing_amqp_0_9_1,[&lt;&lt;299 bytes&gt;&gt;]},&lt;&lt;16
</I>&gt;<i> bytes&gt;&gt;,false},396},true}} from &lt;0.7975.0&gt; to &lt;0.26389.5794&gt; in an old
</I>&gt;<i> incarnation (3) of this node (1)
</I>&gt;<i> 
</I>&gt;<i> The only solution was to restart all nodes in the cluster. 
</I>
One or two of these messages (Discarding message ... in an old
incarnation) does not indicate an error condition, and can safely be
ignored.

If you see large numbers of these messages then that does indicate a
problem. A cause has been identified and fixed since 3.1.3. The release
notes containing the fix will contain the tag &quot;25670&quot;. You should
upgrade when this release becomes available.

(You can obtain the fix sooner by building from source, making sure to
use the &quot;stable&quot; branch: <A HREF="http://www.rabbitmq.com/build-server.html">http://www.rabbitmq.com/build-server.html</A>)





-Emile





</PRE>



























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029095.html">[rabbitmq-discuss] Node crash
</A></li>
	<LI>Next message: <A HREF="029106.html">[rabbitmq-discuss] Node crash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29105">[ date ]</a>
              <a href="thread.html#29105">[ thread ]</a>
              <a href="subject.html#29105">[ subject ]</a>
              <a href="author.html#29105">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
