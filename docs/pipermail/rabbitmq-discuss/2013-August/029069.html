<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Question on RabbitMQ and file I/O characteristics
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Question%20on%20RabbitMQ%20and%20file%20I/O%20characteristics&In-Reply-To=%3CCACLE7ix6UVgxXxhPbF083jUDyOqvDkz1nnRLNLtDCrYM8KK2Vg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029068.html">
   <LINK REL="Next"  HREF="029083.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Question on RabbitMQ and file I/O characteristics</H1>
    <B>Matt Pietrek</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Question%20on%20RabbitMQ%20and%20file%20I/O%20characteristics&In-Reply-To=%3CCACLE7ix6UVgxXxhPbF083jUDyOqvDkz1nnRLNLtDCrYM8KK2Vg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Question on RabbitMQ and file I/O characteristics">mpietrek at skytap.com
       </A><BR>
    <I>Sat Aug  3 01:08:27 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029068.html">[rabbitmq-discuss] Possible bug in .NET library,	with IConnection
</A></li>
        <LI>Next message: <A HREF="029083.html">[rabbitmq-discuss] Question on RabbitMQ and file I/O	characteristics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29069">[ date ]</a>
              <a href="thread.html#29069">[ thread ]</a>
              <a href="subject.html#29069">[ subject ]</a>
              <a href="author.html#29069">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Just want to run this past the RabbitMQ devs and see if this jibes with
their expectations.

Our typical cluster runs RabbitMQ 3.02 on Ubuntu 10.04 on two nodes.  All
queues are mirrored. All our channels are opened in transactional mode. (We
know, this causes things to go slower - That's OK with us, we really want
to avoid message loss.)

What I'm seeing is that for each message written to the broker, we see
approximately four disk writes. That is, if the broker is doing 40
messages/sec, we see ~160 disk writes. We're getting these number from

Is this about what should be expected when running this way?

If it helps, I dug in a bit more to see what the files were. The vast
majority of the activity seems to be to files like this:

msg_store_persistent/743.rdq
queues/E10F54B1OGM7M4LTRX5Z3L4K0/journal.jif

Any insight would be very valuable for our planning processes.

Thanks,

Matt
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130802/8f05b64a/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130802/8f05b64a/attachment.htm</A>&gt;
</PRE>























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029068.html">[rabbitmq-discuss] Possible bug in .NET library,	with IConnection
</A></li>
	<LI>Next message: <A HREF="029083.html">[rabbitmq-discuss] Question on RabbitMQ and file I/O	characteristics
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29069">[ date ]</a>
              <a href="thread.html#29069">[ thread ]</a>
              <a href="subject.html#29069">[ subject ]</a>
              <a href="author.html#29069">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
