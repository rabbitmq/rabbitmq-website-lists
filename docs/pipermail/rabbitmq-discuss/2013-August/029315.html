<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Many errors in mirrored queues with rabbitmq 3.1.4
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Many%20errors%20in%20mirrored%20queues%20with%20rabbitmq%0A%203.1.4&In-Reply-To=%3C520C9D6F.9020408%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029304.html">
   <LINK REL="Next"  HREF="029311.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Many errors in mirrored queues with rabbitmq 3.1.4</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Many%20errors%20in%20mirrored%20queues%20with%20rabbitmq%0A%203.1.4&In-Reply-To=%3C520C9D6F.9020408%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Many errors in mirrored queues with rabbitmq 3.1.4">simon at rabbitmq.com
       </A><BR>
    <I>Thu Aug 15 10:20:47 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029304.html">[rabbitmq-discuss] Many errors in mirrored queues with rabbitmq	3.1.4
</A></li>
        <LI>Next message: <A HREF="029311.html">[rabbitmq-discuss] How to receive STOMP receipt only after the consumer has acknowledged the message?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29315">[ date ]</a>
              <a href="thread.html#29315">[ thread ]</a>
              <a href="subject.html#29315">[ subject ]</a>
              <a href="author.html#29315">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, this is a bug in 3.1.4 which we noticed yesterday. Very sorry about 
that. We will be pushing out a 3.1.5 ASAP to address this.

Cheers, Simon

On 15/08/13 04:06, Dan_b wrote:
&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> We have a Centos 5 server with rabbitmq 3.1.4 and all the queues are
</I>&gt;<i> mirrored to a Centos 6 server.  On the Centos6 server with the mirrored
</I>&gt;<i> queues we are seeing many errors:
</I>&gt;<i>
</I>&gt;<i> =CRASH REPORT==== 15-Aug-2013::02:52:44 ===
</I>&gt;<i>    crasher:
</I>&gt;<i>      initial call: gen:init_it/7
</I>&gt;<i>      pid: &lt;0.710.0&gt;
</I>&gt;<i>      registered_name: delegate_4
</I>&gt;<i>      exception exit: {{case_clause,{ok,{&lt;0.1303.0&gt;,#Ref&lt;0.0.0.33680&gt;}}},
</I>&gt;<i>                       [{delegate,handle_info,2},
</I>&gt;<i>                        {gen_server2,handle_msg,2},
</I>&gt;<i>                        {proc_lib,wake_up,3}]}
</I>&gt;<i>        in function  gen_server2:terminate/3
</I>&gt;<i>      ancestors: [delegate_sup,rabbit_sup,&lt;0.604.0&gt;]
</I>&gt;<i>      messages: []
</I>&gt;<i>      links: [&lt;0.705.0&gt;]
</I>&gt;<i>      dictionary: []
</I>&gt;<i>      trap_exit: false
</I>&gt;<i>      status: running
</I>&gt;<i>      heap_size: 1597
</I>&gt;<i>      stack_size: 24
</I>&gt;<i>      reductions: 66062
</I>&gt;<i>    neighbours:
</I>&gt;<i>
</I>&gt;<i> =SUPERVISOR REPORT==== 15-Aug-2013::02:52:44 ===
</I>&gt;<i>       Supervisor: {local,delegate_sup}
</I>&gt;<i>       Context:    child_terminated
</I>&gt;<i>       Reason:     {{case_clause,{ok,{&lt;0.1303.0&gt;,#Ref&lt;0.0.0.33680&gt;}}},
</I>&gt;<i>                    [{delegate,handle_info,2},
</I>&gt;<i>                     {gen_server2,handle_msg,2},
</I>&gt;<i>                     {proc_lib,wake_up,3}]}
</I>&gt;<i>       Offender:   [{pid,&lt;0.710.0&gt;},
</I>&gt;<i>                    {name,4},
</I>&gt;<i>                    {mfargs,{delegate,start_link,[4]}},
</I>&gt;<i>                    {restart_type,transient},
</I>&gt;<i>                    {shutdown,4294967295},
</I>&gt;<i>                    {child_type,worker}]
</I>&gt;<i>
</I>&gt;<i> The erlang version on Centos 6 is R14B-04.2 and on the Centos 5 box it is
</I>&gt;<i> R14B-04.1.  We have an identical configuration in another data center but it
</I>&gt;<i> is running rabbitmq 3.1.3 and there are no issues so I think it is related
</I>&gt;<i> to the current version.  Any help would be greatly appreciated because as it
</I>&gt;<i> stands we can't use it (the crashes are causing memory and cpu usage to be
</I>&gt;<i> high when placed under load).
</I>&gt;<i>
</I>&gt;<i> Regards
</I>&gt;<i> Dan
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/Many-errors-in-mirrored-queues-with-rabbitmq-3-1-4-tp28801.html">http://rabbitmq.1065348.n5.nabble.com/Many-errors-in-mirrored-queues-with-rabbitmq-3-1-4-tp28801.html</A>
</I>&gt;<i> Sent from the RabbitMQ mailing list archive at Nabble.com.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>






































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029304.html">[rabbitmq-discuss] Many errors in mirrored queues with rabbitmq	3.1.4
</A></li>
	<LI>Next message: <A HREF="029311.html">[rabbitmq-discuss] How to receive STOMP receipt only after the consumer has acknowledged the message?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29315">[ date ]</a>
              <a href="thread.html#29315">[ thread ]</a>
              <a href="subject.html#29315">[ subject ]</a>
              <a href="author.html#29315">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
