<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Net::RabbitFoot - Perl interface described on website failing to build
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Net%3A%3ARabbitFoot%20-%20Perl%20interface%20described%20on%0A%20website%20failing%20to%20build&In-Reply-To=%3C17283a5d-5f5b-42ec-8716-a1452898543b%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029239.html">
   <LINK REL="Next"  HREF="029257.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Net::RabbitFoot - Perl interface described on website failing to build</H1>
    <B>Dan A</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Net%3A%3ARabbitFoot%20-%20Perl%20interface%20described%20on%0A%20website%20failing%20to%20build&In-Reply-To=%3C17283a5d-5f5b-42ec-8716-a1452898543b%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] Net::RabbitFoot - Perl interface described on website failing to build">dan.arnould at gmail.com
       </A><BR>
    <I>Mon Aug 12 14:49:13 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029239.html">[rabbitmq-discuss] A question about web management tool
</A></li>
        <LI>Next message: <A HREF="029257.html">[rabbitmq-discuss] Net::RabbitFoot - Perl interface described on website failing to build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29243">[ date ]</a>
              <a href="thread.html#29243">[ thread ]</a>
              <a href="subject.html#29243">[ subject ]</a>
              <a href="author.html#29243">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

Hello all,

The Perl module advocated on the website for use with RabbitMQ, in the website's tutorials, Net::RabbitFoot, fails to build on my system.

I suspect this is actually due to a particular bug in one if its dependencies, MooseX::AttributeHelpers, which fails tests in recent Perl versions (and is actually deprecated) - as described here: <A HREF="https://rt.cpan.org/Public/Bug/Display.html?id=81564">https://rt.cpan.org/Public/Bug/Display.html?id=81564</A>  

I am running Perl v5.18.0, which is recent enough to be afflicted by this bug.  Below is an output dump from the CPAN shell, for further information.

Does anybody have any further information / insight on this, at all?

Thanks,

Dan


cpan[1]&gt;install Net::RabbitFoot
Reading '/root/.cpan/Metadata'
  Database was generated on Sun, 11 Aug 2013 17:08:03 GMT
Running install for module 'Net::RabbitFoot'
Running make for I/IK/IKUTA/Net-RabbitFoot-1.03.tar.gz
Checksum for /root/.cpan/sources/authors/id/I/IK/IKUTA/Net-RabbitFoot-1.03.tar.gz ok
Scanning cache /root/.cpan/build for sizes
............................................................................DONE

  CPAN.pm: Building I/IK/IKUTA/Net-RabbitFoot-1.03.tar.gz

Cannot determine perl version info from lib/Net/RabbitFoot.pm
*** Module::AutoInstall version 1.03
*** Checking for Perl dependencies...
*** Since we're running under CPAN, I'll just let it take care
    of the dependency's installation later.
[Core Features]
- ExtUtils::MakeMaker      ...loaded. (6.66 &gt;= 6.11)
- Test::More               ...loaded. (0.98)
- Test::Exception          ...loaded. (0.32)
- version                  ...loaded. (0.9902)
- Moose                    ...loaded. (2.1005)
- MooseX::AttributeHelpers ...missing.
- MooseX::App::Cmd         ...loaded. (0.10)
- MooseX::ConfigFromFile   ...loaded. (0.11)
- Config::Any              ...loaded. (0.23)
- JSON::XS                 ...loaded. (2.34)
- List::MoreUtils          ...loaded. (0.33)
- AnyEvent::RabbitMQ       ...loaded. (1.15)
- Coro                     ...loaded. (6.31)
- Coro::AnyEvent           ...loaded. (6.31)
*** Module::AutoInstall configuration finished.
Checking if your kit is complete...
Looks good
Warning: prerequisite MooseX::AttributeHelpers 0 not found.
Writing Makefile for Net::RabbitFoot
Writing MYMETA.yml and MYMETA.json
---- Unsatisfied dependencies detected during ----
----     IKUTA/Net-RabbitFoot-1.03.tar.gz     ----
    MooseX::AttributeHelpers [requires]
Running make test
  Delayed until after prerequisites
Running make install
  Delayed until after prerequisites
Running install for module 'MooseX::AttributeHelpers'
Running make for D/DR/DROLSKY/MooseX-AttributeHelpers-0.23.tar.gz
Checksum for /root/.cpan/sources/authors/id/D/DR/DROLSKY/MooseX-AttributeHelpers-0.23.tar.gz ok

  CPAN.pm: Building D/DR/DROLSKY/MooseX-AttributeHelpers-0.23.tar.gz

Cannot determine perl version info from lib/MooseX/AttributeHelpers.pm
Checking if your kit is complete...
Looks good
Writing Makefile for MooseX::AttributeHelpers
Writing MYMETA.yml and MYMETA.json
cp lib/MooseX/AttributeHelpers/MethodProvider/Bag.pm blib/lib/MooseX/AttributeHelpers/MethodProvider/Bag.pm
cp lib/MooseX/AttributeHelpers/Trait/Collection/Bag.pm blib/lib/MooseX/AttributeHelpers/Trait/Collection/Bag.pm
cp lib/MooseX/AttributeHelpers/Trait/Collection.pm blib/lib/MooseX/AttributeHelpers/Trait/Collection.pm
cp lib/MooseX/AttributeHelpers.pm blib/lib/MooseX/AttributeHelpers.pm
cp lib/MooseX/AttributeHelpers/Number.pm blib/lib/MooseX/AttributeHelpers/Number.pm
cp lib/MooseX/AttributeHelpers/Meta/Method/Curried.pm blib/lib/MooseX/AttributeHelpers/Meta/Method/Curried.pm
cp lib/MooseX/AttributeHelpers/Trait/String.pm blib/lib/MooseX/AttributeHelpers/Trait/String.pm
cp lib/MooseX/AttributeHelpers/MethodProvider/Hash.pm blib/lib/MooseX/AttributeHelpers/MethodProvider/Hash.pm
cp lib/MooseX/AttributeHelpers/Trait/Collection/Array.pm blib/lib/MooseX/AttributeHelpers/Trait/Collection/Array.pm
cp lib/MooseX/AttributeHelpers/Trait/Number.pm blib/lib/MooseX/AttributeHelpers/Trait/Number.pm
cp lib/MooseX/AttributeHelpers/Trait/Bool.pm blib/lib/MooseX/AttributeHelpers/Trait/Bool.pm
cp lib/MooseX/AttributeHelpers/Trait/Collection/List.pm blib/lib/MooseX/AttributeHelpers/Trait/Collection/List.pm
cp lib/MooseX/AttributeHelpers/MethodProvider/String.pm blib/lib/MooseX/AttributeHelpers/MethodProvider/String.pm
cp lib/MooseX/AttributeHelpers/Meta/Method/Provided.pm blib/lib/MooseX/AttributeHelpers/Meta/Method/Provided.pm
cp lib/MooseX/AttributeHelpers/Trait/Collection/Hash.pm blib/lib/MooseX/AttributeHelpers/Trait/Collection/Hash.pm
cp lib/MooseX/AttributeHelpers/MethodProvider/List.pm blib/lib/MooseX/AttributeHelpers/MethodProvider/List.pm
cp lib/MooseX/AttributeHelpers/Collection/Bag.pm blib/lib/MooseX/AttributeHelpers/Collection/Bag.pm
cp lib/MooseX/AttributeHelpers/Bool.pm blib/lib/MooseX/AttributeHelpers/Bool.pm
cp lib/MooseX/AttributeHelpers/Trait/Counter.pm blib/lib/MooseX/AttributeHelpers/Trait/Counter.pm
cp lib/MooseX/AttributeHelpers/Collection/List.pm blib/lib/MooseX/AttributeHelpers/Collection/List.pm
cp lib/MooseX/AttributeHelpers/Collection/Hash.pm blib/lib/MooseX/AttributeHelpers/Collection/Hash.pm
cp lib/MooseX/AttributeHelpers/MethodProvider/Bool.pm blib/lib/MooseX/AttributeHelpers/MethodProvider/Bool.pm
cp lib/MooseX/AttributeHelpers/Trait/Collection/ImmutableHash.pm blib/lib/MooseX/AttributeHelpers/Trait/Collection/ImmutableHash.pm
cp lib/MooseX/AttributeHelpers/Trait/Base.pm blib/lib/MooseX/AttributeHelpers/Trait/Base.pm
cp lib/MooseX/AttributeHelpers/Counter.pm blib/lib/MooseX/AttributeHelpers/Counter.pm
cp lib/MooseX/AttributeHelpers/String.pm blib/lib/MooseX/AttributeHelpers/String.pm
cp lib/MooseX/AttributeHelpers/MethodProvider/Array.pm blib/lib/MooseX/AttributeHelpers/MethodProvider/Array.pm
cp lib/MooseX/AttributeHelpers/Collection/ImmutableHash.pm blib/lib/MooseX/AttributeHelpers/Collection/ImmutableHash.pm
cp lib/MooseX/AttributeHelpers/MethodProvider/Counter.pm blib/lib/MooseX/AttributeHelpers/MethodProvider/Counter.pm
cp lib/MooseX/AttributeHelpers/Collection/Array.pm blib/lib/MooseX/AttributeHelpers/Collection/Array.pm
cp lib/MooseX/AttributeHelpers/MethodProvider/ImmutableHash.pm blib/lib/MooseX/AttributeHelpers/MethodProvider/ImmutableHash.pm
Manifying blib/man3/MooseX::AttributeHelpers::MethodProvider::Bool.3
Manifying blib/man3/MooseX::AttributeHelpers::Collection::Hash.3
Manifying blib/man3/MooseX::AttributeHelpers::MethodProvider::String.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Base.3
Manifying blib/man3/MooseX::AttributeHelpers::MethodProvider::Counter.3
Manifying blib/man3/MooseX::AttributeHelpers::MethodProvider::ImmutableHash.3
Manifying blib/man3/MooseX::AttributeHelpers::MethodProvider::Array.3
Manifying blib/man3/MooseX::AttributeHelpers::Collection::ImmutableHash.3
Manifying blib/man3/MooseX::AttributeHelpers::Collection::Array.3
Manifying blib/man3/MooseX::AttributeHelpers::Meta::Method::Curried.3
Manifying blib/man3/MooseX::AttributeHelpers::MethodProvider::List.3
Manifying blib/man3/MooseX::AttributeHelpers::Collection::List.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Collection::List.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Collection::ImmutableHash.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Counter.3
Manifying blib/man3/MooseX::AttributeHelpers::Collection::Bag.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Collection::Bag.3
Manifying blib/man3/MooseX::AttributeHelpers.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Collection::Hash.3
Manifying blib/man3/MooseX::AttributeHelpers::Meta::Method::Provided.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Collection::Array.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::String.3
Manifying blib/man3/MooseX::AttributeHelpers::Counter.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Bool.3
Manifying blib/man3/MooseX::AttributeHelpers::String.3
Manifying blib/man3/MooseX::AttributeHelpers::Number.3
Manifying blib/man3/MooseX::AttributeHelpers::Bool.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Number.3
Manifying blib/man3/MooseX::AttributeHelpers::MethodProvider::Bag.3
Manifying blib/man3/MooseX::AttributeHelpers::MethodProvider::Hash.3
Manifying blib/man3/MooseX::AttributeHelpers::Trait::Collection.3
  DROLSKY/MooseX-AttributeHelpers-0.23.tar.gz
  /usr/bin/make -- OK
Running make test
PERL_DL_NONLAZY=1 /usr/local/bin/perl &quot;-MExtUtils::Command::MM&quot; &quot;-e&quot; &quot;test_harness(0, 'inc', 'blib/lib', 'blib/arch')&quot; t/*.t
t/000_load.t ................... ok
t/001_basic_counter.t .......... ok
t/002_basic_array.t ............ ok
t/003_basic_hash.t ............. 1/50
#   Failed test '... got the right key value pairs'
#   at t/003_basic_hash.t line 174.
#     Structures begin differing at:
#          $got-&gt;[0][0] = 'quantity'
#     $expected-&gt;[0][0] = 'xxy'
# Looks like you failed 1 test of 50.
t/003_basic_hash.t ............. Dubious, test returned 1 (wstat 256, 0x100)
Failed 1/50 subtests
t/004_basic_number.t ........... ok
t/005_basic_list.t ............. ok
t/006_basic_bag.t .............. ok
t/007_basic_string.t ........... ok
t/010_array_from_role.t ........ ok
t/011_counter_with_defaults.t .. ok
t/012_basic_bool.t ............. ok
t/020_remove_attribute.t ....... ok
t/100_collection_with_roles.t .. ok
t/201_trait_counter.t .......... ok
t/202_trait_array.t ............ ok
t/203_trait_hash.t ............. ok
t/204_trait_number.t ........... ok
t/205_trait_list.t ............. ok
t/206_trait_bag.t .............. ok
t/207_trait_string.t ........... ok
t/208_trait_bool.t ............. ok
t/pod.t ........................ skipped: Pod tests run only authors
t/pod_coverage.t ............... skipped: Pod tests run only authors

Test Summary Report
-------------------
t/003_basic_hash.t           (Wstat: 256 Tests: 50 Failed: 1)
  Failed test:  49
  Non-zero exit status: 1
Files=23, Tests=568, 10 wallclock secs ( 0.05 usr  0.34 sys +  2.68 cusr  6.30 csys =  9.37 CPU)
Result: FAIL
Failed 1/23 test programs. 1/568 subtests failed.
make: *** [test_dynamic] Error 255
  DROLSKY/MooseX-AttributeHelpers-0.23.tar.gz
  /usr/bin/make test -- NOT OK
//hint// to see the cpan-testers results for installing this module, try:
  reports DROLSKY/MooseX-AttributeHelpers-0.23.tar.gz
Running make install
  make test had returned bad status, won't install without force
Running make for I/IK/IKUTA/Net-RabbitFoot-1.03.tar.gz
  Has already been unwrapped into directory /root/.cpan/build/Net-RabbitFoot-1.03-FdVhhF

  CPAN.pm: Building I/IK/IKUTA/Net-RabbitFoot-1.03.tar.gz

Warning: Prerequisite 'MooseX::AttributeHelpers =&gt; 0' for 'IKUTA/Net-RabbitFoot-1.03.tar.gz' failed when processing 'DROLSKY/MooseX-AttributeHelpers-0.23.tar.gz' with 'make_test =&gt; NO'. Continuing, but chances to succeed are limited.
cp lib/Net/RabbitFoot/Cmd/Command/declare_exchange.pm blib/lib/Net/RabbitFoot/Cmd/Command/declare_exchange.pm
cp lib/Net/RabbitFoot/Cmd/Command/purge_queue.pm blib/lib/Net/RabbitFoot/Cmd/Command/purge_queue.pm
cp lib/Net/RabbitFoot/Cmd/Role/Command.pm blib/lib/Net/RabbitFoot/Cmd/Role/Command.pm
cp lib/Net/RabbitFoot/Cmd/Role/Config.pm blib/lib/Net/RabbitFoot/Cmd/Role/Config.pm
cp lib/Net/RabbitFoot/Channel.pm blib/lib/Net/RabbitFoot/Channel.pm
cp lib/Net/RabbitFoot.pm blib/lib/Net/RabbitFoot.pm
cp lib/Net/RabbitFoot/Cmd/Command/unbind_queue.pm blib/lib/Net/RabbitFoot/Cmd/Command/unbind_queue.pm
cp lib/Net/RabbitFoot/Cmd/Command/delete_queue.pm blib/lib/Net/RabbitFoot/Cmd/Command/delete_queue.pm
cp lib/Net/RabbitFoot/Cmd/Command/declare_queue.pm blib/lib/Net/RabbitFoot/Cmd/Command/declare_queue.pm
cp lib/Net/RabbitFoot/Cmd/Command/delete_exchange.pm blib/lib/Net/RabbitFoot/Cmd/Command/delete_exchange.pm
cp lib/Net/RabbitFoot/Cmd/Command/bind_queue.pm blib/lib/Net/RabbitFoot/Cmd/Command/bind_queue.pm
cp lib/Net/RabbitFoot/Cmd.pm blib/lib/Net/RabbitFoot/Cmd.pm
cp rabbit_foot blib/script/rabbit_foot
/usr/local/bin/perl &quot;-Iinc&quot; -MExtUtils::MY -e 'MY-&gt;fixin(shift)' -- blib/script/rabbit_foot
Manifying blib/man3/Net::RabbitFoot.3
  IKUTA/Net-RabbitFoot-1.03.tar.gz
  /usr/bin/make -- OK
Running make test
PERL_DL_NONLAZY=1 /usr/local/bin/perl &quot;-MExtUtils::Command::MM&quot; &quot;-e&quot; &quot;test_harness(0, 'inc', 'blib/lib', 'blib/arch')&quot; t/*.t
t/00_compile.t ..... ok
t/01_localqueue.t .. ok
All tests successful.
Files=2, Tests=22,  1 wallclock secs ( 0.01 usr  0.05 sys +  0.27 cusr  0.62 csys =  0.95 CPU)
Result: PASS
  IKUTA/Net-RabbitFoot-1.03.tar.gz
Tests succeeded but one dependency not OK (MooseX::AttributeHelpers)
  IKUTA/Net-RabbitFoot-1.03.tar.gz
  [dependencies] -- NA
Running make install
  make test had returned bad status, won't install without force
Failed during this command:
 DROLSKY/MooseX-AttributeHelpers-0.23.tar.gz  : make_test NO
 IKUTA/Net-RabbitFoot-1.03.tar.gz             : make_test NO one dependency not OK (MooseX::AttributeHelpers)


-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130812/db3078b4/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130812/db3078b4/attachment.htm</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029239.html">[rabbitmq-discuss] A question about web management tool
</A></li>
	<LI>Next message: <A HREF="029257.html">[rabbitmq-discuss] Net::RabbitFoot - Perl interface described on website failing to build
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29243">[ date ]</a>
              <a href="thread.html#29243">[ thread ]</a>
              <a href="subject.html#29243">[ subject ]</a>
              <a href="author.html#29243">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
