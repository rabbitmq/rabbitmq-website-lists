<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] rabbitmq shutdown return code 2
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20shutdown%20return%20code%202&In-Reply-To=%3C521C6D56.8060401%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029599.html">
   <LINK REL="Next"  HREF="029536.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] rabbitmq shutdown return code 2</H1>
    <B>Emile Joubert</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20rabbitmq%20shutdown%20return%20code%202&In-Reply-To=%3C521C6D56.8060401%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] rabbitmq shutdown return code 2">emile at rabbitmq.com
       </A><BR>
    <I>Tue Aug 27 10:11:50 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029599.html">[rabbitmq-discuss] rabbitmq shutdown return code 2
</A></li>
        <LI>Next message: <A HREF="029536.html">[rabbitmq-discuss] A three-node cluster hangs completely in ec2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29621">[ date ]</a>
              <a href="thread.html#29621">[ thread ]</a>
              <a href="subject.html#29621">[ subject ]</a>
              <a href="author.html#29621">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26/08/13 16:55, Prabodh Upreti wrote:
&gt;<i> =SUPERVISOR REPORT==== 26-Aug-2013::15:48:17 ===
</I>&gt;<i>      Supervisor: {&lt;0.1487.0&gt;,rabbit_channel_sup_sup}
</I>&gt;<i>      Context:    shutdown_error
</I>&gt;<i>      Reason:     shutdown
</I>&gt;<i>      Offender:   [{pid,&lt;0.1505.0&gt;},
</I>&gt;<i>                   {name,channel_sup},
</I>&gt;<i>                   {mfa,{rabbit_channel_sup,start_link,[]}},
</I>&gt;<i>                   {restart_type,temporary},
</I>&gt;<i>                   {shutdown,infinity},
</I>&gt;<i>                   {child_type,supervisor}]
</I>&gt;<i> 
</I>&gt;<i> Hope this has more meaning.
</I>
Not really, it just says a channel crashed without providing a reason.
The reason might appear earlier in the log.

&gt;<i> Could this be because a consumer is still connected to rabbitmq when the
</I>&gt;<i> shutdown happens?  We are n the process of changing the shutdown order where
</I>&gt;<i> we will shutdown the consumer then rabbitmq.  Please let me know if there is
</I>&gt;<i> no need to do that.
</I>
Connected consumers won't prevent the broker from shutting down, and the
presence of consumers is unlikely to affect the return code in the way
you describe.


As Michael said, it would help to know how the broker was installed.
Also, do you get the same return code if you stop the broker manually?



-Emile



</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029599.html">[rabbitmq-discuss] rabbitmq shutdown return code 2
</A></li>
	<LI>Next message: <A HREF="029536.html">[rabbitmq-discuss] A three-node cluster hangs completely in ec2
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29621">[ date ]</a>
              <a href="thread.html#29621">[ thread ]</a>
              <a href="subject.html#29621">[ subject ]</a>
              <a href="author.html#29621">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
