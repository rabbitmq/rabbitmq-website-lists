<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Consumer Cancel Notification do not work
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consumer%20Cancel%20Notification%20do%20not%20work&In-Reply-To=%3C52121EE7.90900%40crosscan.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029628.html">
   <LINK REL="Next"  HREF="029424.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Consumer Cancel Notification do not work</H1>
    <B>Malte Schirmacher</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Consumer%20Cancel%20Notification%20do%20not%20work&In-Reply-To=%3C52121EE7.90900%40crosscan.com%3E"
       TITLE="[rabbitmq-discuss] Consumer Cancel Notification do not work">mas at crosscan.com
       </A><BR>
    <I>Mon Aug 19 14:34:31 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029628.html">[rabbitmq-discuss] Enabling publisher confirms damages performance by a factor of 10x
</A></li>
        <LI>Next message: <A HREF="029424.html">[rabbitmq-discuss] Consumer Cancel Notification do not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29423">[ date ]</a>
              <a href="thread.html#29423">[ thread ]</a>
              <a href="subject.html#29423">[ subject ]</a>
              <a href="author.html#29423">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

im currently expanding the php-amqplib by consumer cancel notification.

The problem is: i do never receive a basic.cancel by the server.

I do receive it neither when deleting the queue through the same channel 
through which i receive messages nor by deleting it manually via 
webinterface nor when the queue is relocated because of a failover (in 
case of mirrored queues).

[1] contains an example trace which is a result of the script found in 
[2]. Please note that the client already sends the correct capabilities 
which is not the case for the upstream version of phpamqplib.
As you can see in the script, the channel is not closed after it has 
received the message. Although i keep the channel open for minutes the 
basic.cancel never arrives.

[1] <A HREF="http://paste.debian.net/27030/">http://paste.debian.net/27030/</A>
[2] <A HREF="http://paste.debian.net/27031/">http://paste.debian.net/27031/</A>
--
Geschaeftsanschrift/Business Address: crosscan GmbH | Ruhrstra&#223;e 48 | 58452 Witten | Germany
Support: +49.2302.28232-22 Phone: +49.2302.28232-00 Fax: +49.2302.28232-09 
Geschaeftsfuehrung/Management Board: Philip Lehmann, Erwin Berg, Ulrich Kellner
Sitz Witten, Amtsgericht Bochum, HRB 8036/Registered Office Witten, Commercial Register of the Bochum County Court, HRB 8036
UST-ID-Nr./VAT-IdNo.: DE234398770

</PRE>




















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029628.html">[rabbitmq-discuss] Enabling publisher confirms damages performance by a factor of 10x
</A></li>
	<LI>Next message: <A HREF="029424.html">[rabbitmq-discuss] Consumer Cancel Notification do not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29423">[ date ]</a>
              <a href="thread.html#29423">[ thread ]</a>
              <a href="subject.html#29423">[ subject ]</a>
              <a href="author.html#29423">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
