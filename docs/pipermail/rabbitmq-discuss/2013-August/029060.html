<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] flow control blocked producers vs consumers
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20flow%20control%20blocked%20producers%20vs%20consumers&In-Reply-To=%3Cb2cbe0eb-b0ef-4dda-9a3b-fb4a428e702a%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029064.html">
   <LINK REL="Next"  HREF="029061.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] flow control blocked producers vs consumers</H1>
    <B>asternb at gmail.com</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20flow%20control%20blocked%20producers%20vs%20consumers&In-Reply-To=%3Cb2cbe0eb-b0ef-4dda-9a3b-fb4a428e702a%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] flow control blocked producers vs consumers">asternb at gmail.com
       </A><BR>
    <I>Thu Aug  1 18:42:36 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029064.html">[rabbitmq-discuss] More detail on bug refusing publishes fixed in 2.8.3
</A></li>
        <LI>Next message: <A HREF="029061.html">[rabbitmq-discuss] flow control blocked producers vs consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29060">[ date ]</a>
              <a href="thread.html#29060">[ thread ]</a>
              <a href="subject.html#29060">[ subject ]</a>
              <a href="author.html#29060">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Are you sharing one connection between producers and consumers? You would 
need a separate connection (not just a different channel) for consumers in 
order for them to continue working when flow control blocks the producer's 
connection. Because if you are sharing one connection, blocking the 
producer's connection would also block consumers using that connection, I 
believe.

On Friday, July 26, 2013 3:33:09 AM UTC-7, Kobi Biton wrote:
&gt;<i>
</I>&gt;<i> our rabbitmq (3.0.1) servers blocks producers (logstash) due to flow 
</I>&gt;<i> control triggering (reason is flow on rabbitctl) this however also blocked 
</I>&gt;<i> our consumers , to mitigate it we are restarting the blocked producers and 
</I>&gt;<i> consumers then the queue start to get balanced.
</I>&gt;<i>
</I>&gt;<i> Reading the flow control docs , how can we avoid from blocking the 
</I>&gt;<i> consumers connections ? can they operate on a different channel ? we also 
</I>&gt;<i> lowered the message TTL and that seemed to slow down the waiting messages, 
</I>&gt;<i> we do understand that we have a bottleneck somewhere along the pipe that 
</I>&gt;<i> said could we configure out consumers to avoid flow control blocking ?
</I>&gt;<i>
</I>&gt;<i> Kobi  
</I>&gt;<i>
</I>&gt;<i> The above terms reflect a potential business arrangement, are provided solely 
</I>&gt;<i> as a basis for further discussion, and are not intended to be and do not 
</I>&gt;<i> constitute a legally binding obligation. No legally binding obligations will 
</I>&gt;<i> be created, implied, or inferred until an agreement in final form is executed 
</I>&gt;<i> in writing by all parties involved.
</I>&gt;<i>
</I>&gt;<i> This email and any attachments hereto may be confidential or privileged. 
</I>&gt;<i>  If you received this communication by mistake, please don't forward it 
</I>&gt;<i> to anyone else, please erase all copies and attachments, and please let 
</I>&gt;<i> me know that it has gone to the wrong person. Thanks.
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130801/b4344a66/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130801/b4344a66/attachment.htm</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029064.html">[rabbitmq-discuss] More detail on bug refusing publishes fixed in 2.8.3
</A></li>
	<LI>Next message: <A HREF="029061.html">[rabbitmq-discuss] flow control blocked producers vs consumers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29060">[ date ]</a>
              <a href="thread.html#29060">[ thread ]</a>
              <a href="subject.html#29060">[ subject ]</a>
              <a href="author.html#29060">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
