<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Closing stuck client connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Closing%20stuck%20client%20connections&In-Reply-To=%3CCAPrynAUw%2B7Td7Jo_Xb4e6UJ_OW3XAZf%3DPFt5gztSOhpkYor7BA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029616.html">
   <LINK REL="Next"  HREF="029619.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Closing stuck client connections</H1>
    <B>Mahesh Viraktamath</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Closing%20stuck%20client%20connections&In-Reply-To=%3CCAPrynAUw%2B7Td7Jo_Xb4e6UJ_OW3XAZf%3DPFt5gztSOhpkYor7BA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Closing stuck client connections">yuva670 at gmail.com
       </A><BR>
    <I>Tue Aug 27 09:20:10 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029616.html">[rabbitmq-discuss] Closing stuck client connections
</A></li>
        <LI>Next message: <A HREF="029619.html">[rabbitmq-discuss] Closing stuck client connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29617">[ date ]</a>
              <a href="thread.html#29617">[ thread ]</a>
              <a href="subject.html#29617">[ subject ]</a>
              <a href="author.html#29617">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Yes, the solution is appropriate for avoiding the connection blocking. In
our case, the consumer itself hangs and the client waits for the ack and
the connection goes idle. We need to close such connections where the ack
is delayed from the consumer side.


Thanks again,
Mahesh


On Tue, Aug 27, 2013 at 1:41 PM, Michael Klishin &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">mklishin at gopivotal.com</A>&gt;wrote:

&gt;<i> Mahesh Viraktamath:
</I>&gt;<i>
</I>&gt;<i> &gt; Is there any timeout mechanism for connections to close after a fixed
</I>&gt;<i> time duration, so that such connections do not block rabbitmq.
</I>&gt;<i>
</I>&gt;<i> Have you tried using shorter heartbeat intervals? Also, unless you run out
</I>&gt;<i> of file descriptors
</I>&gt;<i> available to RabbitMQ, consumer connections should not block anything. But
</I>&gt;<i> even in that
</I>&gt;<i> case increasing max # of file descriptors (ulimit -n) is a much better
</I>&gt;<i> solution.
</I>&gt;<i> --
</I>&gt;<i> MK
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130827/d7967475/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130827/d7967475/attachment.htm</A>&gt;
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029616.html">[rabbitmq-discuss] Closing stuck client connections
</A></li>
	<LI>Next message: <A HREF="029619.html">[rabbitmq-discuss] Closing stuck client connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29617">[ date ]</a>
              <a href="thread.html#29617">[ thread ]</a>
              <a href="subject.html#29617">[ subject ]</a>
              <a href="author.html#29617">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
