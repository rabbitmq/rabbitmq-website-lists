<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Throughput observation with RabbitMQ-3.1.3 and Erlang R16B01 - Single Node and Cluster Node
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Throughput%20observation%20with%20RabbitMQ-3.1.3%0A%20and%20Erlang%20R16B01%20-%20Single%20Node%20and%20Cluster%20Node&In-Reply-To=%3CA4EFBA46FE504F518151F235060E526F%40meetme.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029058.html">
   <LINK REL="Next"  HREF="029055.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Throughput observation with RabbitMQ-3.1.3 and Erlang R16B01 - Single Node and Cluster Node</H1>
    <B>Gavin M. Roy</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Throughput%20observation%20with%20RabbitMQ-3.1.3%0A%20and%20Erlang%20R16B01%20-%20Single%20Node%20and%20Cluster%20Node&In-Reply-To=%3CA4EFBA46FE504F518151F235060E526F%40meetme.com%3E"
       TITLE="[rabbitmq-discuss] Throughput observation with RabbitMQ-3.1.3 and Erlang R16B01 - Single Node and Cluster Node">gmr at meetme.com
       </A><BR>
    <I>Thu Aug  1 21:39:48 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029058.html">[rabbitmq-discuss] Throughput observation with RabbitMQ-3.1.3	and Erlang R16B01 - Single Node and Cluster Node
</A></li>
        <LI>Next message: <A HREF="029055.html">[rabbitmq-discuss] Throughput observation with RabbitMQ-3.1.3	and Erlang R16B01 - Single Node and Cluster Node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29062">[ date ]</a>
              <a href="thread.html#29062">[ thread ]</a>
              <a href="subject.html#29062">[ subject ]</a>
              <a href="author.html#29062">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'll add that using pypy instead of python shows dramatic throughput increases with pika. Also note that as of my tests, the Tornado connection adapter is the fastest and as of right now, the Blocking adapter is pretty slow due to the logic required to make it answer RabbitMQ RPC requests while being single threaded.

I've been experimenting with using librabbitmq if it's available for the low level codec to see if there are performance improvements, but that's a ways off.

Regards,

Gavin 


On Thursday, August 1, 2013 at 3:32 PM, Michael Klishin wrote:

&gt;<i> Priyanki Vashi:
</I>&gt;<i> 
</I>&gt;<i> &gt; I have tried to with multiple producer and multiple consumer since my producer and consumer are single threaded (around 10 each) but it's the same statistics in test-1, which is around 5000 msg/sec. And since eventually we will use python clients in real application of rabbitmq, I think it would be good to know how it behaves with python clients ( in this case I chose python-pika).
</I>&gt;<i> 
</I>&gt;<i> As your other tests demonstrate, a single RabbitMQ node can go to 25K with your setup.
</I>&gt;<i> 
</I>&gt;<i> If a Python producer (or multiple instances of thee) demonstrate lower throughput, it's logical
</I>&gt;<i> to suspect that publishing is the bottleneck.
</I>&gt;<i> 
</I>&gt;<i> I haven't done client benchmarks in a while but 5-6 KGhz is about right for Pika on CPython
</I>&gt;<i> and also Bunny 0.9+ on CRuby. Java client and clients based on it easily go into the 20-25K
</I>&gt;<i> range.
</I>&gt;<i> 
</I>&gt;<i> I can't offer any advice about possible throughput improvements with Pika but
</I>&gt;<i> it's a good idea to profile your producer to see what actually takes time.
</I>&gt;<i> --
</I>&gt;<i> MK
</I>&gt;<i> 
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A> (mailto:<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>)
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130801/db36c208/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130801/db36c208/attachment.htm</A>&gt;
</PRE>









<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029058.html">[rabbitmq-discuss] Throughput observation with RabbitMQ-3.1.3	and Erlang R16B01 - Single Node and Cluster Node
</A></li>
	<LI>Next message: <A HREF="029055.html">[rabbitmq-discuss] Throughput observation with RabbitMQ-3.1.3	and Erlang R16B01 - Single Node and Cluster Node
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29062">[ date ]</a>
              <a href="thread.html#29062">[ thread ]</a>
              <a href="subject.html#29062">[ subject ]</a>
              <a href="author.html#29062">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
