<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Clustering issue - (2x Virtual Box OpenSuse machines) (NOOB)
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Clustering%20issue%20-%20%282x%20Virtual%20Box%0A%20OpenSuse%20machines%29%20%28NOOB%29&In-Reply-To=%3Cfe02350e-e2ab-430f-a0a0-cc791a552be9%40googlegroups.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029526.html">
   <LINK REL="Next"  HREF="029524.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Clustering issue - (2x Virtual Box OpenSuse machines) (NOOB)</H1>
    <B>Liam Reilly</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Clustering%20issue%20-%20%282x%20Virtual%20Box%0A%20OpenSuse%20machines%29%20%28NOOB%29&In-Reply-To=%3Cfe02350e-e2ab-430f-a0a0-cc791a552be9%40googlegroups.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Clustering issue - (2x Virtual Box OpenSuse machines) (NOOB)">liam.reilly.1 at gmail.com
       </A><BR>
    <I>Thu Aug 22 15:33:31 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029526.html">[rabbitmq-discuss] Hi, all.How to get messages from the rabbitmq server which is installed in another machine?
</A></li>
        <LI>Next message: <A HREF="029524.html">[rabbitmq-discuss] RabbitMQ Clustering issue - (2x Virtual Box	OpenSuse machines) (NOOB)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29522">[ date ]</a>
              <a href="thread.html#29522">[ thread ]</a>
              <a href="subject.html#29522">[ subject ]</a>
              <a href="author.html#29522">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I've got a couple of OpenSuse VM's configured in Virtual Box.  

I have rabbit running on both.

<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at devserver</A>
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at devagent</A>

I've added both machines to each others hosts files and I can do a sudo 
/usr/sbin/rabbitmqctl -n rabbit@{hostname} status from either machine to 
see the full status output of the node.

So both machines are happy at this point.  

I've also got Celery working and load balancing tasks using the 
<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at devserver</A> RabbitMQ queue.

Now I stopped the <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at devagent</A> instance and tried to add to the 
@devserver using the cluster command

sudo /usr/sbin/rabbitmqctl cluster <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at devserver</A> 

to which I get 

Clustering node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at devagent</A> with [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at devserver</A>] ...
Error: unable to connect to node <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at devagent</A>:  nodedown

DIAGNOSTICS

nodes in question:  [<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at devagent</A>]

hosts, their running nodes and ports:
- devagent:  [{rabbitmqctl10831, 48309}]

current node details:
- node name <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmqctl10831 at devagent</A>
- home dir: /var/lib/rabbitmq
- cookie hash:  LczRqz4mQrqdzWYMcog==

I have modified the erlang cookie on both machines so these match btw.

Any idea's?

-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130822/9a17376d/attachment.htm">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20130822/9a17376d/attachment.htm</A>&gt;
</PRE>





















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029526.html">[rabbitmq-discuss] Hi, all.How to get messages from the rabbitmq server which is installed in another machine?
</A></li>
	<LI>Next message: <A HREF="029524.html">[rabbitmq-discuss] RabbitMQ Clustering issue - (2x Virtual Box	OpenSuse machines) (NOOB)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29522">[ date ]</a>
              <a href="thread.html#29522">[ thread ]</a>
              <a href="subject.html#29522">[ subject ]</a>
              <a href="author.html#29522">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
