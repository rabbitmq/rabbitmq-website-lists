<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Lost queue on cluster node shutdown
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Lost%20queue%20on%20cluster%20node%20shutdown&In-Reply-To=%3C5220E52C.8010702%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029736.html">
   <LINK REL="Next"  HREF="029738.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Lost queue on cluster node shutdown</H1>
    <B>Matthias Radestock</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Lost%20queue%20on%20cluster%20node%20shutdown&In-Reply-To=%3C5220E52C.8010702%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Lost queue on cluster node shutdown">matthias at rabbitmq.com
       </A><BR>
    <I>Fri Aug 30 19:32:12 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029736.html">[rabbitmq-discuss] Lost queue on cluster node shutdown
</A></li>
        <LI>Next message: <A HREF="029738.html">[rabbitmq-discuss] Lost queue on cluster node shutdown
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29737">[ date ]</a>
              <a href="thread.html#29737">[ thread ]</a>
              <a href="subject.html#29737">[ subject ]</a>
              <a href="author.html#29737">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Malte,

On 30/08/13 18:14, Malte Schirmacher wrote:
&gt;<i> we run three-node-cluster with RabbitMQ 3.1.5, Erlang R15B01 on Ubuntu
</I>&gt;<i> 12.10
</I>&gt;<i> Today we [...] shut down the node and tried to start it again.
</I>&gt;<i> But rabbit did not come up again. Instead it produces thousands of lines
</I>&gt;<i> of stack traces. I think i nopasted the relevanr part here [1]
</I>&gt;<i> Unfortunately we lost a durable(!) queue through this bug containing
</I>&gt;<i> some persistent(!) messages :-/
</I>
I am pretty sure that this is a known bug that we fixed a few weeks ago. 
The fix is in the nightly builds but is too complex to go into a bugfix 
release so will have to wait for the next feature release.

The bug is most likely to surface when nodes in clustered rabbits with 
HA queues are shut down while they are dealing with a fair amount of 
traffic.

&gt;<i> I think some nice guy from the IRC already filed a bug regarding this bug.
</I>
Yes, Emile did.

Matthias.
</PRE>







<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029736.html">[rabbitmq-discuss] Lost queue on cluster node shutdown
</A></li>
	<LI>Next message: <A HREF="029738.html">[rabbitmq-discuss] Lost queue on cluster node shutdown
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29737">[ date ]</a>
              <a href="thread.html#29737">[ thread ]</a>
              <a href="subject.html#29737">[ subject ]</a>
              <a href="author.html#29737">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
