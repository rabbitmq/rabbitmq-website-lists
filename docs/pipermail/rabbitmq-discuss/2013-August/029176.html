<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] questions about RabbitMQ linear scalability
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20questions%20about%20RabbitMQ%20linear%20scalability&In-Reply-To=%3C5203820A.70105%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="029175.html">
   <LINK REL="Next"  HREF="029177.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] questions about RabbitMQ linear scalability</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20questions%20about%20RabbitMQ%20linear%20scalability&In-Reply-To=%3C5203820A.70105%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] questions about RabbitMQ linear scalability">simon at rabbitmq.com
       </A><BR>
    <I>Thu Aug  8 12:33:30 BST 2013</I>
    <P><UL>
        <LI>Previous message: <A HREF="029175.html">[rabbitmq-discuss] questions about RabbitMQ linear scalability
</A></li>
        <LI>Next message: <A HREF="029177.html">[rabbitmq-discuss] fail upgrade from 3.1.3 to 3.1.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29176">[ date ]</a>
              <a href="thread.html#29176">[ thread ]</a>
              <a href="subject.html#29176">[ subject ]</a>
              <a href="author.html#29176">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/08/2013 11:49AM, Junius Wang wrote:
&gt;<i> Our team are performing some performance tests and we try to prove that
</I>&gt;<i> we can get linear scalability of our services, it means when we add more
</I>&gt;<i> RabbitMQ nodes, the throughputs should increase as well.  We use
</I>&gt;<i> RabbitMQ as our backend message system. However, when we add more
</I>&gt;<i> RabbitMQ servers to cluster, the throughput decreases which is not
</I>&gt;<i> expected and I would like to ask for your help. Following are the
</I>&gt;<i> details, any comments are appreciated.
</I>
&lt;snip&gt;

&gt;<i> We can see that, while two rabbitmq servers are used, we see no
</I>&gt;<i> throughput improvement. This doesn&#8217;t make sense to me. To my
</I>&gt;<i> understanding,  Here comes my questions:
</I>
The issue is that an individual unmirrored queue cannot scale out across 
more than one node in a cluster (and it's hard to see how it could do 
while maintaining ordering guarantees etc).

&gt;<i> 1.What does RabbitMQ cluster scalability means exactly? Does it refer to
</I>&gt;<i> the capacity of handing messages? The queue capacity? Or the message number?
</I>
Primarily more cluster nodes can either give more redundancy, or 
capacity for more queues. They cannot make individual queues have more 
capacity.

&gt;<i> 2.The  mirrored queues seems to affect performance in a large scale.
</I>&gt;<i> What&#8217;s the possible cause of this?
</I>
When you have an unmirrored queue it needs to do a certain amount of 
work on a certain node.

When you make that queue mirrored, it needs to do the same amount of 
work on that node, and also the same amount of work on the other nodes. 
But in addition to that it also needs to do more work on each node, to 
keep the mirrors informed of what each other are doing. This is not a 
trivial amount of work!

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>



































<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="029175.html">[rabbitmq-discuss] questions about RabbitMQ linear scalability
</A></li>
	<LI>Next message: <A HREF="029177.html">[rabbitmq-discuss] fail upgrade from 3.1.3 to 3.1.4
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#29176">[ date ]</a>
              <a href="thread.html#29176">[ thread ]</a>
              <a href="subject.html#29176">[ subject ]</a>
              <a href="author.html#29176">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
