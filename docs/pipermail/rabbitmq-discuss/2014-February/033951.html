<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] 3.2.2 triple mem
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%203.2.2%20triple%20mem&In-Reply-To=%3C530487BB.9060307%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033962.html">
   <LINK REL="Next"  HREF="033961.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] 3.2.2 triple mem</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%203.2.2%20triple%20mem&In-Reply-To=%3C530487BB.9060307%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] 3.2.2 triple mem">simon at rabbitmq.com
       </A><BR>
    <I>Wed Feb 19 10:30:19 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033962.html">[rabbitmq-discuss] 3.2.2 triple mem
</A></li>
        <LI>Next message: <A HREF="033961.html">[rabbitmq-discuss] 3.2.2 triple mem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33951">[ date ]</a>
              <a href="thread.html#33951">[ thread ]</a>
              <a href="subject.html#33951">[ subject ]</a>
              <a href="author.html#33951">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 19/02/14 09:25, der.hans wrote:
&gt;<i> Is there a known reason for 3.2.2 to use 3x the memory used by 3.1.5 for
</I>&gt;<i> the same load?
</I>
Possibly. 3.1.x and earlier would page messages to disk if memory use 
went above 20% of the vm_memory_high_watermark (i.e. if &gt; 8% memory was 
used with the default watermark).

3.2.x made this setting configurable (as 
vm_memory_high_watermark_paging_ratio) and also changed the default 
value for it from 20% to 50%, so it will start paging once &gt; 20% memory 
is used.

See <A HREF="http://www.rabbitmq.com/memory.html#memsup-paging">http://www.rabbitmq.com/memory.html#memsup-paging</A> for information on 
this setting.

In general the default values for vm_memory_high_watermark and 
vm_memory_high_watermark_paging_ratio are set on the assumption that 
RabbitMQ is the only significant thing running on the machine, and thus 
that it's reasonable for it to use all available memory if it will make 
things go faster.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>






















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033962.html">[rabbitmq-discuss] 3.2.2 triple mem
</A></li>
	<LI>Next message: <A HREF="033961.html">[rabbitmq-discuss] 3.2.2 triple mem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33951">[ date ]</a>
              <a href="thread.html#33951">[ thread ]</a>
              <a href="subject.html#33951">[ subject ]</a>
              <a href="author.html#33951">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
