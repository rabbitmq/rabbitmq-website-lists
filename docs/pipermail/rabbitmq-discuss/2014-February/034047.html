<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Load balancing connections to a rabbitmq	cluster
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Load%20balancing%20connections%20to%20a%20rabbitmq%0A%09cluster&In-Reply-To=%3CCAE3HoVTb335MwwdMc-4p7GPG20ga%2BQvktzn3_YyoFnJBOUN%2BNw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034046.html">
   <LINK REL="Next"  HREF="034048.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Load balancing connections to a rabbitmq	cluster</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Load%20balancing%20connections%20to%20a%20rabbitmq%0A%09cluster&In-Reply-To=%3CCAE3HoVTb335MwwdMc-4p7GPG20ga%2BQvktzn3_YyoFnJBOUN%2BNw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Load balancing connections to a rabbitmq	cluster">michael.s.klishin at gmail.com
       </A><BR>
    <I>Sun Feb 23 12:46:13 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034046.html">[rabbitmq-discuss] Load balancing connections to a rabbitmq cluster
</A></li>
        <LI>Next message: <A HREF="034048.html">[rabbitmq-discuss] Load balancing connections to a rabbitmq	cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34047">[ date ]</a>
              <a href="thread.html#34047">[ thread ]</a>
              <a href="subject.html#34047">[ subject ]</a>
              <a href="author.html#34047">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2014-02-23 16:18 GMT+04:00 Srinath C &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">srinath.c at gmail.com</A>&gt;:

&gt;<i> when the failed node recovers it will remain up and running with no
</I>&gt;<i> connections established to it since all the clients are having persistent
</I>&gt;<i> connections to the other node. The load is now skewed and all the load is
</I>&gt;<i> thrust on one server with the other server lying idle. Are there common
</I>&gt;<i> solutions to this kind of load sharing problems? Please advice.
</I>

Stick HAproxy in front of the cluster and make clients connect to it. It
can load balance incoming
connections and keep track of the backend (node) states and won't send
connections to the backends
that are unavailable.
-- 
MK

<A HREF="http://github.com/michaelklishin">http://github.com/michaelklishin</A>
<A HREF="http://twitter.com/michaelklishin">http://twitter.com/michaelklishin</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140223/682ed740/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140223/682ed740/attachment.html</A>&gt;
</PRE>


















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034046.html">[rabbitmq-discuss] Load balancing connections to a rabbitmq cluster
</A></li>
	<LI>Next message: <A HREF="034048.html">[rabbitmq-discuss] Load balancing connections to a rabbitmq	cluster
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34047">[ date ]</a>
              <a href="thread.html#34047">[ thread ]</a>
              <a href="subject.html#34047">[ subject ]</a>
              <a href="author.html#34047">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
