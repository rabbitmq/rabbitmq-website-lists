<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Network Partion
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Network%20Partion&In-Reply-To=%3C52F120D0.4090801%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033552.html">
   <LINK REL="Next"  HREF="033553.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Network Partion</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Network%20Partion&In-Reply-To=%3C52F120D0.4090801%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Network Partion">simon at rabbitmq.com
       </A><BR>
    <I>Tue Feb  4 17:18:08 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033552.html">[rabbitmq-discuss] Network Partion
</A></li>
        <LI>Next message: <A HREF="033553.html">[rabbitmq-discuss] ANN Bunny 1.1.2 is released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33562">[ date ]</a>
              <a href="thread.html#33562">[ thread ]</a>
              <a href="subject.html#33562">[ subject ]</a>
              <a href="author.html#33562">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 04/02/2014 12:51PM, Jeffery, Mark wrote:
&gt;<i> We are using a RabbitMQ cluster across a WAN.
</I>&gt;<i>
</I>&gt;<i> I know this is not recommended and I want to fix this because we
</I>&gt;<i> occasionally get a network partition when the core switches are upgraded.
</I>&gt;<i>
</I>&gt;<i> The dip is for a very very small time.
</I>
Still, if it is enough for the TCP connections between nodes to be 
disrupted that will cause a partition.

&gt;<i> Is the solution to use the shovel plugin ?
</I>
Or Federation, both are WAN safe.

&gt;<i> Would the &#8220;Self Healing&#8221; functionality in later versions be the solution ?
</I>
autoheal does not let you ignore the possibility of network partitions 
and thus beat the CAP theorem. It's something that will automatically 
bash your cluster back into shape, but it is possible to lose data in 
the process. As <A HREF="http://www.rabbitmq.com/partitions.html">http://www.rabbitmq.com/partitions.html</A> says:

&gt;<i> Network partitions will always cause problems for RabbitMQ clusters;
</I>&gt;<i> you just get some degree of choice over what kind of problems you
</I>&gt;<i> get.
</I>
On 04/02/2014 12:51PM, Jeffery, Mark wrote:
&gt;<i> We are highly reliant on mirrored queues.
</I>
So you probably want clusters in each location, so you can use 
mirroring, but connected together with federation / shovel.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033552.html">[rabbitmq-discuss] Network Partion
</A></li>
	<LI>Next message: <A HREF="033553.html">[rabbitmq-discuss] ANN Bunny 1.1.2 is released
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33562">[ date ]</a>
              <a href="thread.html#33562">[ thread ]</a>
              <a href="subject.html#33562">[ subject ]</a>
              <a href="author.html#33562">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
