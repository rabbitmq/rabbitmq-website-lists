<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Migrating single instance of RabbitMQ from one data center to another
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Migrating%20single%20instance%20of%20RabbitMQ%20from%0A%20one%20data%20center%20to%20another&In-Reply-To=%3CCAEJg2GBohoVfj6%2BNxnhXWK02ZusSs7cbrqhtFQ-fEyjEw6BaJg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033977.html">
   <LINK REL="Next"  HREF="033978.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Migrating single instance of RabbitMQ from one data center to another</H1>
    <B>Arun Rao</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Migrating%20single%20instance%20of%20RabbitMQ%20from%0A%20one%20data%20center%20to%20another&In-Reply-To=%3CCAEJg2GBohoVfj6%2BNxnhXWK02ZusSs7cbrqhtFQ-fEyjEw6BaJg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Migrating single instance of RabbitMQ from one data center to another">arunrao.seattle at gmail.com
       </A><BR>
    <I>Wed Feb 19 23:50:21 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033977.html">[rabbitmq-discuss] Migrating single instance of RabbitMQ from one data center to another
</A></li>
        <LI>Next message: <A HREF="033978.html">[rabbitmq-discuss] ../vendor/autoload.php: failed to open stream: No such file or directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33980">[ date ]</a>
              <a href="thread.html#33980">[ thread ]</a>
              <a href="subject.html#33980">[ subject ]</a>
              <a href="author.html#33980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am not an expert :) but I can give you what I followed.

I initially setup consumers on both new and old data center. Then if you
are using a load balancer, create a new VIP to gradually migrate your
producers.  (you should already have new datacenter members listed under
new VIP.) Restarting one (producer) node at a time (after taking the server
out of rotation) update the VIP to point to the new data center.

HTH, please let me know if you need more info.

Thanks!


On Wed, Feb 19, 2014 at 12:58 PM, Jeetu Jangle &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jeetu at streetline.com</A>&gt; wrote:

&gt;<i>  Experts,
</I>&gt;<i>
</I>&gt;<i>  We are in process of migrating our services from one data center to
</I>&gt;<i> another. We have a single instance RabbitMQ (version 2.3.1) (not clustered)
</I>&gt;<i> running in current data center. We were able to migrate all our
</I>&gt;<i> applications from 1 data center to another. We want to migrate RabbitMQ
</I>&gt;<i> (running 42 exchanges, 232 queues) to another data center with zero or
</I>&gt;<i> little outage. I would like to ask the experts what steps we can carry to
</I>&gt;<i> make sure that outage is minimal or zero.
</I>&gt;<i>
</I>&gt;<i>  Thanks,
</I>&gt;<i> NewYu
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140219/e646ffba/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140219/e646ffba/attachment.html</A>&gt;
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033977.html">[rabbitmq-discuss] Migrating single instance of RabbitMQ from one data center to another
</A></li>
	<LI>Next message: <A HREF="033978.html">[rabbitmq-discuss] ../vendor/autoload.php: failed to open stream: No such file or directory
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33980">[ date ]</a>
              <a href="thread.html#33980">[ thread ]</a>
              <a href="subject.html#33980">[ subject ]</a>
              <a href="author.html#33980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
