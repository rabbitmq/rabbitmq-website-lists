<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Using%20Message%20Broker%20for%20database%0A%20replications%20%28currently%20RabbitMQ%20%29&In-Reply-To=%3CCAMcAHLUZ6ae_0x_6GFe%3DW%2B%2B8bjoZ-Y8jdXOM3X2DzDdShfxAnQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033691.html">
   <LINK REL="Next"  HREF="033708.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )</H1>
    <B>Alvaro Videla</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Using%20Message%20Broker%20for%20database%0A%20replications%20%28currently%20RabbitMQ%20%29&In-Reply-To=%3CCAMcAHLUZ6ae_0x_6GFe%3DW%2B%2B8bjoZ-Y8jdXOM3X2DzDdShfxAnQ%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )">videlalvaro at gmail.com
       </A><BR>
    <I>Mon Feb 10 17:59:55 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033691.html">[rabbitmq-discuss] Using Message Broker for database replications	(currently RabbitMQ )
</A></li>
        <LI>Next message: <A HREF="033708.html">[rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33700">[ date ]</a>
              <a href="thread.html#33700">[ thread ]</a>
              <a href="subject.html#33700">[ subject ]</a>
              <a href="author.html#33700">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

1. One of the main uses of RabbitMQ is to spread events in a system,
so this seems to fit your use case.

2. When you consume messages from a RabbitMQ queue you can tell the
broker that you want to &quot;acknowledge&quot; each message once you are done
with it. So RabbitMQ will delete the message once the consumer sends
the &quot;ack&quot;. So if your consumer crashes before sending the ack, then
the messages will be put back in the queue.

Some notes:

- You can actually send more than one ack at the same time, i.e: ack a
set of messages instead of one by one, so you reduce roundtrips.
- Messages are put back in the queue in order, so you don't lose
ordering here. That is, messages are back in the queue at the same
position where it was before being delivered to the consumer.

3. I'm not sure what you mean here, but RabbitMQ is definitely used in
the way you ask.

Regards,

Alvaro

On Mon, Feb 10, 2014 at 2:19 PM, rails &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stammailbox at gmail.com</A>&gt; wrote:
&gt;<i> When my system's data changes I publish every single change to at least 4
</I>&gt;<i> different consumers (around 3000 messages a second) so I want to use a
</I>&gt;<i> message broker.
</I>&gt;<i> Most of the consumers are responsible to update their database tables with
</I>&gt;<i> the change.
</I>&gt;<i>
</I>&gt;<i> (The DBs are different - couch, mysql, etc therefor solutions such as using
</I>&gt;<i> their own replication mechanism or using db triggers is not possible)
</I>&gt;<i> questions
</I>&gt;<i>
</I>&gt;<i> Does anyone have an experience with data replication between DBs using a
</I>&gt;<i> message broker?
</I>&gt;<i> is it a good practice?
</I>&gt;<i>
</I>&gt;<i> What do I do in case of failures?
</I>&gt;<i> Let's say, using RabbitMQ, the client removed 10,000 messages from the
</I>&gt;<i> queue, acked, and threw an exception each time before handling them. Now
</I>&gt;<i> they are lost. Is there a way to go back in the queue?
</I>&gt;<i>
</I>&gt;<i> (re-queueing them will mess their order ).
</I>&gt;<i>
</I>&gt;<i> Is using rabbitMQ a good practice? Isn't the ability to go back in the queue
</I>&gt;<i> as in Kafka important to fail scenarios?
</I>&gt;<i>
</I>&gt;<i> Thanks.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I></PRE>




<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033691.html">[rabbitmq-discuss] Using Message Broker for database replications	(currently RabbitMQ )
</A></li>
	<LI>Next message: <A HREF="033708.html">[rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33700">[ date ]</a>
              <a href="thread.html#33700">[ thread ]</a>
              <a href="subject.html#33700">[ subject ]</a>
              <a href="author.html#33700">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
