<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ Cluster,	split network &amp; VMWare snapshot
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Cluster%2C%0A%09split%20network%20%26%20VMWare%20snapshot&In-Reply-To=%3CCACPuqi4Cy6xsKwsu3KFnaVY%2Be%2BV%2B7QXFVuViOFN4EjGQNcgLyw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034002.html">
   <LINK REL="Next"  HREF="034015.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ Cluster,	split network &amp; VMWare snapshot</H1>
    <B>Michael Oullion</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20Cluster%2C%0A%09split%20network%20%26%20VMWare%20snapshot&In-Reply-To=%3CCACPuqi4Cy6xsKwsu3KFnaVY%2Be%2BV%2B7QXFVuViOFN4EjGQNcgLyw%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ Cluster,	split network &amp; VMWare snapshot">michael.oullion at norbert-dentressangle.com
       </A><BR>
    <I>Thu Feb 20 20:11:43 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034002.html">[rabbitmq-discuss] RabbitMQ Cluster,	split network &amp; VMWare snapshot
</A></li>
        <LI>Next message: <A HREF="034015.html">[rabbitmq-discuss] RabbitMQ Cluster,	split network &amp; VMWare snapshot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34008">[ date ]</a>
              <a href="thread.html#34008">[ thread ]</a>
              <a href="subject.html#34008">[ subject ]</a>
              <a href="author.html#34008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks Jerry for your quick answer.
What can we do in this situation?
Maybe we can uprise the net tick or use a specific behaviour to manage
network split.
Or simply stop take snapshot of the vm because it's not necessary?

Regards.
Le 20 f&#233;vr. 2014 17:57, &quot;Jerry Kuch&quot; &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">jkuch at gopivotal.com</A>&gt; a &#233;crit :

&gt;<i> Hi, Michael:
</I>&gt;<i>
</I>&gt;<i> This isn't terribly surprising.  Snapshotting a VM is likely to render it
</I>&gt;<i> less responsive than it normally would be for some amount of time.  Whether
</I>&gt;<i> that period ends before some other node in your cluster misses heartbeats
</I>&gt;<i> and gives you grief about it, is a coin flip.
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i> Jerry
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> On Thu, Feb 20, 2014 at 3:12 AM, Michael Oullion &lt;
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">michael.oullion at norbert-dentressangle.com</A>&gt; wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Hi all,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We observe some net split on our cluster and we don't know why.
</I>&gt;&gt;<i> Before change the net tick parameter and change the net split behavior, I
</I>&gt;&gt;<i> want to understand why it's happening.
</I>&gt;&gt;<i> Our environment is :
</I>&gt;&gt;<i> RabbitMQ 3.2.1 Elrang R16B
</I>&gt;&gt;<i> 3 RabbitMQ Node in the same sub-network
</I>&gt;&gt;<i> RabbitMQ is installed on Windows 2008 R2 (VMWare ESXi 5.1)
</I>&gt;&gt;<i> We have 4 Mirrored Queues on this cluster.
</I>&gt;&gt;<i> In production, the normal stream is about 20 messages/second.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> We observe that split occurs always at the end of the snapshot
</I>&gt;&gt;<i> (NetBackup) on the VM.
</I>&gt;&gt;<i> But, we made snapshot each night and the network split occurs 1 time each
</I>&gt;&gt;<i> 15 or 20 days.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *Log server <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32545</A> :*
</I>&gt;&gt;<i> =INFO REPORT==== 19-Feb-2014::18:34:47 ===
</I>&gt;&gt;<i> rabbit on node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32596</A>' down
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =INFO REPORT==== 19-Feb-2014::18:34:49 ===
</I>&gt;&gt;<i> Mirrored-queue (queue 'conso.queue.dead' in vhost '/IEC'): Slave
</I>&gt;&gt;<i> &lt;'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32545</A>'.2.269.0&gt; saw deaths of mirrors
</I>&gt;&gt;<i> &lt;'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32596</A>'.1.270.0&gt;
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> *Log server <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32596</A> :*
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =INFO REPORT==== 19-Feb-2014::18:34:28 ===
</I>&gt;&gt;<i> rabbit on node '<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32545</A>' down
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =ERROR REPORT==== 19-Feb-2014::18:34:30 ===
</I>&gt;&gt;<i> ** Generic server &lt;0.279.0&gt; terminating
</I>&gt;&gt;<i> ** Last message in was {'DOWN',#Ref&lt;0.0.0.248452&gt;,process,&lt;5383.278.0&gt;,
</I>&gt;&gt;<i>                                noconnection}
</I>&gt;&gt;<i> ** When Server state == {state,
</I>&gt;&gt;<i>                             {76,&lt;0.279.0&gt;},
</I>&gt;&gt;<i>                             {{79,&lt;5383.278.0&gt;},#Ref&lt;0.0.0.248452&gt;},
</I>&gt;&gt;<i>                             {{82,&lt;5066.278.0&gt;},#Ref&lt;0.0.1.42330&gt;},
</I>&gt;&gt;<i>                             {resource,&lt;&lt;&quot;/IEC&quot;&gt;&gt;,queue,&lt;&lt;&quot;conso.queue&quot;&gt;&gt;},
</I>&gt;&gt;<i>                             rabbit_mirror_queue_coordinator,
</I>&gt;&gt;<i>                             {83,
</I>&gt;&gt;<i>                              [{{76,&lt;0.279.0&gt;},
</I>&gt;&gt;<i>                                {view_member,
</I>&gt;&gt;<i>                                    {76,&lt;0.279.0&gt;},
</I>&gt;&gt;<i>                                    [],
</I>&gt;&gt;<i>                                    {79,&lt;5383.278.0&gt;},
</I>&gt;&gt;<i>                                    {82,&lt;5066.278.0&gt;}}},
</I>&gt;&gt;<i>                               {{79,&lt;5383.278.0&gt;},
</I>&gt;&gt;<i>                                {view_member,
</I>&gt;&gt;<i>                                    {79,&lt;5383.278.0&gt;},
</I>&gt;&gt;<i>                                    [],
</I>&gt;&gt;<i>                                    {82,&lt;5066.278.0&gt;},
</I>&gt;&gt;<i>                                    {76,&lt;0.279.0&gt;}}},
</I>&gt;&gt;<i>                               {{82,&lt;5066.278.0&gt;},
</I>&gt;&gt;<i>                                {view_member,
</I>&gt;&gt;<i>                                    {82,&lt;5066.278.0&gt;},
</I>&gt;&gt;<i>                                    [],
</I>&gt;&gt;<i>                                    {76,&lt;0.279.0&gt;},
</I>&gt;&gt;<i>                                    {79,&lt;5383.278.0&gt;}}}]},
</I>&gt;&gt;<i>                             1457518,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [{{76,&lt;0.279.0&gt;},{member,{[],[]},1457518,1457518}},
</I>&gt;&gt;<i>                              {{79,&lt;5383.278.0&gt;},{member,{[],[]},1,1}},
</I>&gt;&gt;<i>                              {{82,&lt;5066.278.0&gt;},{member,{[],[]},0,0}}],
</I>&gt;&gt;<i>                             [&lt;0.1272.0&gt;],
</I>&gt;&gt;<i>                             {[],[]},
</I>&gt;&gt;<i>                             [],undefined,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #Fun&lt;rabbit_misc.execute_mnesia_transaction.1&gt;}
</I>&gt;&gt;<i> ** Reason for termination ==
</I>&gt;&gt;<i> ** {function_clause,
</I>&gt;&gt;<i>        [{orddict,fetch,
</I>&gt;&gt;<i>             [{76,&lt;0.279.0&gt;},
</I>&gt;&gt;<i>              [{{82,&lt;5066.278.0&gt;},
</I>&gt;&gt;<i>                {view_member,
</I>&gt;&gt;<i>                    {82,&lt;5066.278.0&gt;},
</I>&gt;&gt;<i>                    [{79,&lt;5383.278.0&gt;}],
</I>&gt;&gt;<i>                    {82,&lt;5066.278.0&gt;},
</I>&gt;&gt;<i>                    {82,&lt;5066.278.0&gt;}}}]],
</I>&gt;&gt;<i>             [{file,&quot;orddict.erl&quot;},{line,72}]},
</I>&gt;&gt;<i>         {gm,check_neighbours,1,[]},
</I>&gt;&gt;<i>         {gm,handle_info,2,[]},
</I>&gt;&gt;<i>         {gen_server2,handle_msg,2,[]},
</I>&gt;&gt;<i>         {proc_lib,wake_up,3,[{file,&quot;proc_lib.erl&quot;},{line,249}]}]}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =ERROR REPORT==== 19-Feb-2014::18:34:30 ===
</I>&gt;&gt;<i> ** Generic server &lt;0.283.0&gt; terminating
</I>&gt;&gt;<i> ** Last message in was {'DOWN',#Ref&lt;0.0.0.248454&gt;,process,&lt;5383.282.0&gt;,
</I>&gt;&gt;<i>                                noconnection}
</I>&gt;&gt;<i> ** When Server state == {state,
</I>&gt;&gt;<i>                             {67,&lt;0.283.0&gt;},
</I>&gt;&gt;<i>                             {{70,&lt;5383.282.0&gt;},#Ref&lt;0.0.0.248454&gt;},
</I>&gt;&gt;<i>                             {{73,&lt;5066.282.0&gt;},#Ref&lt;0.0.1.42352&gt;},
</I>&gt;&gt;<i>                             {resource,&lt;&lt;&quot;/IEC&quot;&gt;&gt;,queue,&lt;&lt;&quot;event.queue&quot;&gt;&gt;},
</I>&gt;&gt;<i>                             rabbit_mirror_queue_coordinator,
</I>&gt;&gt;<i>                             {74,
</I>&gt;&gt;<i>                              [{{67,&lt;0.283.0&gt;},
</I>&gt;&gt;<i>                                {view_member,
</I>&gt;&gt;<i>                                    {67,&lt;0.283.0&gt;},
</I>&gt;&gt;<i>                                    [],
</I>&gt;&gt;<i>                                    {70,&lt;5383.282.0&gt;},
</I>&gt;&gt;<i>                                    {73,&lt;5066.282.0&gt;}}},
</I>&gt;&gt;<i>                               {{70,&lt;5383.282.0&gt;},
</I>&gt;&gt;<i>                                {view_member,
</I>&gt;&gt;<i>                                    {70,&lt;5383.282.0&gt;},
</I>&gt;&gt;<i>                                    [],
</I>&gt;&gt;<i>                                    {73,&lt;5066.282.0&gt;},
</I>&gt;&gt;<i>                                    {67,&lt;0.283.0&gt;}}},
</I>&gt;&gt;<i>                               {{73,&lt;5066.282.0&gt;},
</I>&gt;&gt;<i>                                {view_member,
</I>&gt;&gt;<i>                                    {73,&lt;5066.282.0&gt;},
</I>&gt;&gt;<i>                                    [],
</I>&gt;&gt;<i>                                    {67,&lt;0.283.0&gt;},
</I>&gt;&gt;<i>                                    {70,&lt;5383.282.0&gt;}}}]},
</I>&gt;&gt;<i>                             212075,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [{{67,&lt;0.283.0&gt;},{member,{[],[]},212075,212075}},
</I>&gt;&gt;<i>                              {{70,&lt;5383.282.0&gt;},{member,{[],[]},1,1}},
</I>&gt;&gt;<i>                              {{73,&lt;5066.282.0&gt;},{member,{[],[]},0,0}}],
</I>&gt;&gt;<i>                             [&lt;0.1271.0&gt;],
</I>&gt;&gt;<i>                             {[],[]},
</I>&gt;&gt;<i>                             [],undefined,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #Fun&lt;rabbit_misc.execute_mnesia_transaction.1&gt;}
</I>&gt;&gt;<i> ** Reason for termination ==
</I>&gt;&gt;<i> ** {function_clause,
</I>&gt;&gt;<i>        [{orddict,fetch,
</I>&gt;&gt;<i>             [{67,&lt;0.283.0&gt;},
</I>&gt;&gt;<i>              [{{73,&lt;5066.282.0&gt;},
</I>&gt;&gt;<i>                {view_member,
</I>&gt;&gt;<i>                    {73,&lt;5066.282.0&gt;},
</I>&gt;&gt;<i>                    [{70,&lt;5383.282.0&gt;}],
</I>&gt;&gt;<i>                    {73,&lt;5066.282.0&gt;},
</I>&gt;&gt;<i>                    {73,&lt;5066.282.0&gt;}}}]],
</I>&gt;&gt;<i>             [{file,&quot;orddict.erl&quot;},{line,72}]},
</I>&gt;&gt;<i>         {gm,check_neighbours,1,[]},
</I>&gt;&gt;<i>         {gm,handle_info,2,[]},
</I>&gt;&gt;<i>         {gen_server2,handle_msg,2,[]},
</I>&gt;&gt;<i>         {proc_lib,wake_up,3,[{file,&quot;proc_lib.erl&quot;},{line,249}]}]}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =ERROR REPORT==== 19-Feb-2014::18:34:30 ===
</I>&gt;&gt;<i> ** Generic server &lt;0.203.0&gt; terminating
</I>&gt;&gt;<i> ** Last message in was {mnesia_tm,'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32545</A>',
</I>&gt;&gt;<i>                                   {vote_yes,{tid,10316,&lt;0.203.0&gt;}}}
</I>&gt;&gt;<i> ** When Server state == 1
</I>&gt;&gt;<i> ** Reason for termination ==
</I>&gt;&gt;<i> ** {unexpected_info,{mnesia_tm,'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32545</A>',
</I>&gt;&gt;<i>                                {vote_yes,{tid,10316,&lt;0.203.0&gt;}}}}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =ERROR REPORT==== 19-Feb-2014::18:34:30 ===
</I>&gt;&gt;<i> ** Generic server &lt;0.275.0&gt; terminating
</I>&gt;&gt;<i> ** Last message in was {'DOWN',#Ref&lt;0.0.1.38240&gt;,process,&lt;5383.274.0&gt;,
</I>&gt;&gt;<i>                                noconnection}
</I>&gt;&gt;<i> ** When Server state == {state,
</I>&gt;&gt;<i>                             {70,&lt;0.275.0&gt;},
</I>&gt;&gt;<i>                             {{76,&lt;5066.274.0&gt;},#Ref&lt;0.0.1.42305&gt;},
</I>&gt;&gt;<i>                             {{73,&lt;5383.274.0&gt;},#Ref&lt;0.0.1.38240&gt;},
</I>&gt;&gt;<i>                             {resource,&lt;&lt;&quot;/IEC&quot;&gt;&gt;,queue,
</I>&gt;&gt;<i>                                 &lt;&lt;&quot;activity.queue.dead&quot;&gt;&gt;},
</I>&gt;&gt;<i>                             rabbit_mirror_queue_coordinator,
</I>&gt;&gt;<i>                             {77,
</I>&gt;&gt;<i>                              [{{70,&lt;0.275.0&gt;},
</I>&gt;&gt;<i>                                {view_member,
</I>&gt;&gt;<i>                                    {70,&lt;0.275.0&gt;},
</I>&gt;&gt;<i>                                    [],
</I>&gt;&gt;<i>                                    {76,&lt;5066.274.0&gt;},
</I>&gt;&gt;<i>                                    {73,&lt;5383.274.0&gt;}}},
</I>&gt;&gt;<i>                               {{73,&lt;5383.274.0&gt;},
</I>&gt;&gt;<i>                                {view_member,
</I>&gt;&gt;<i>                                    {73,&lt;5383.274.0&gt;},
</I>&gt;&gt;<i>                                    [],
</I>&gt;&gt;<i>                                    {70,&lt;0.275.0&gt;},
</I>&gt;&gt;<i>                                    {76,&lt;5066.274.0&gt;}}},
</I>&gt;&gt;<i>                               {{76,&lt;5066.274.0&gt;},
</I>&gt;&gt;<i>                                {view_member,
</I>&gt;&gt;<i>                                    {76,&lt;5066.274.0&gt;},
</I>&gt;&gt;<i>                                    [],
</I>&gt;&gt;<i>                                    {73,&lt;5383.274.0&gt;},
</I>&gt;&gt;<i>                                    {70,&lt;0.275.0&gt;}}}]},
</I>&gt;&gt;<i>                             6,
</I>&gt;&gt;<i>                             [{{70,&lt;0.275.0&gt;},{member,{[],[]},6,6}},
</I>&gt;&gt;<i>                              {{73,&lt;5383.274.0&gt;},{member,{[],[]},1,1}},
</I>&gt;&gt;<i>                              {{76,&lt;5066.274.0&gt;},{member,{[],[]},0,0}}],
</I>&gt;&gt;<i>                             [&lt;0.1273.0&gt;],
</I>&gt;&gt;<i>                             {[],[]},
</I>&gt;&gt;<i>                             [],undefined,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #Fun&lt;rabbit_misc.execute_mnesia_transaction.1&gt;}
</I>&gt;&gt;<i> ** Reason for termination ==
</I>&gt;&gt;<i> ** {noproc,{gen_server2,call,
</I>&gt;&gt;<i>                         [&lt;0.203.0&gt;,
</I>&gt;&gt;<i>                          {submit,#Fun&lt;rabbit_misc.6.116010224&gt;},
</I>&gt;&gt;<i>                          infinity]}}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =ERROR REPORT==== 19-Feb-2014::18:34:30 ===
</I>&gt;&gt;<i> ** Generic server &lt;0.204.0&gt; terminating
</I>&gt;&gt;<i> ** Last message in was {mnesia_tm,'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32545</A>',
</I>&gt;&gt;<i>                                   {vote_yes,{tid,10315,&lt;0.204.0&gt;}}}
</I>&gt;&gt;<i> ** When Server state == 2
</I>&gt;&gt;<i> ** Reason for termination ==
</I>&gt;&gt;<i> ** {unexpected_info,{mnesia_tm,'<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32545</A>',
</I>&gt;&gt;<i>                                {vote_yes,{tid,10315,&lt;0.204.0&gt;}}}}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =ERROR REPORT==== 19-Feb-2014::18:34:30 ===
</I>&gt;&gt;<i> ** Generic server &lt;0.1268.0&gt; terminating
</I>&gt;&gt;<i> ** Last message in was {'$gen_cast',{gm_deaths,[&lt;5066.266.0&gt;,&lt;0.267.0&gt;]}}
</I>&gt;&gt;<i> ** When Server state == {state,
</I>&gt;&gt;<i>                             {amqqueue,
</I>&gt;&gt;<i>                                 {resource,&lt;&lt;&quot;/IEC&quot;&gt;&gt;,queue,
</I>&gt;&gt;<i>                                     &lt;&lt;&quot;gps.queue.dead&quot;&gt;&gt;},
</I>&gt;&gt;<i>                                 true,false,none,[],&lt;0.266.0&gt;,
</I>&gt;&gt;<i>                                 [&lt;5066.265.0&gt;],
</I>&gt;&gt;<i>                                 [&lt;5066.265.0&gt;],
</I>&gt;&gt;<i>                                 [{vhost,&lt;&lt;&quot;/IEC&quot;&gt;&gt;},
</I>&gt;&gt;<i>                                  {name,&lt;&lt;&quot;Queue HA&quot;&gt;&gt;},
</I>&gt;&gt;<i>                                  {pattern,&lt;&lt;&quot;.queue&quot;&gt;&gt;},
</I>&gt;&gt;<i>                                  {'apply-to',&lt;&lt;&quot;queues&quot;&gt;&gt;},
</I>&gt;&gt;<i>                                  {definition,
</I>&gt;&gt;<i>                                      [{&lt;&lt;&quot;ha-mode&quot;&gt;&gt;,&lt;&lt;&quot;all&quot;&gt;&gt;},
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {&lt;&lt;&quot;ha-sync-mode&quot;&gt;&gt;,&lt;&lt;&quot;automatic&quot;&gt;&gt;}]},
</I>&gt;&gt;<i>                                  {priority,0}],
</I>&gt;&gt;<i>                                 [{&lt;5066.266.0&gt;,&lt;5066.265.0&gt;},
</I>&gt;&gt;<i>                                  {&lt;5383.266.0&gt;,&lt;5383.265.0&gt;}],
</I>&gt;&gt;<i>                                 []},
</I>&gt;&gt;<i>                             &lt;0.267.0&gt;,
</I>&gt;&gt;<i>                             {state,
</I>&gt;&gt;<i>                                 {dict,0,16,16,8,80,48,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                                      [],[],[]},
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {{[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                                       [],[],[]}}},
</I>&gt;&gt;<i>                                 erlang},
</I>&gt;&gt;<i>                             #Fun&lt;rabbit_mirror_queue_master.5.69128381&gt;,
</I>&gt;&gt;<i>                             #Fun&lt;rabbit_mirror_queue_master.6.50493311&gt;}
</I>&gt;&gt;<i> ** Reason for termination ==
</I>&gt;&gt;<i> ** {{case_clause,{ok,&lt;5066.265.0&gt;,[]}},
</I>&gt;&gt;<i>     [{rabbit_mirror_queue_coordinator,handle_cast,2,[]},
</I>&gt;&gt;<i>      {gen_server2,handle_msg,2,[]},
</I>&gt;&gt;<i>      {proc_lib,wake_up,3,[{file,&quot;proc_lib.erl&quot;},{line,249}]}]}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> =ERROR REPORT==== 19-Feb-2014::18:34:31 ===
</I>&gt;&gt;<i> ** Generic server &lt;0.266.0&gt; terminating
</I>&gt;&gt;<i> ** Last message in was {'EXIT',&lt;0.1268.0&gt;,
</I>&gt;&gt;<i>                            {{case_clause,{ok,&lt;5066.265.0&gt;,[]}},
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> [{rabbit_mirror_queue_coordinator,handle_cast,2,
</I>&gt;&gt;<i>                                  []},
</I>&gt;&gt;<i>                              {gen_server2,handle_msg,2,[]},
</I>&gt;&gt;<i>                              {proc_lib,wake_up,3,
</I>&gt;&gt;<i>                                  [{file,&quot;proc_lib.erl&quot;},{line,249}]}]}}
</I>&gt;&gt;<i> ** When Server state == {q,
</I>&gt;&gt;<i>                          {amqqueue,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {resource,&lt;&lt;&quot;/IEC&quot;&gt;&gt;,queue,&lt;&lt;&quot;gps.queue.dead&quot;&gt;&gt;},
</I>&gt;&gt;<i>                           true,false,none,[],&lt;0.266.0&gt;,
</I>&gt;&gt;<i>                           [&lt;5383.265.0&gt;,&lt;5066.265.0&gt;],
</I>&gt;&gt;<i>                           [&lt;5066.265.0&gt;,&lt;5383.265.0&gt;],
</I>&gt;&gt;<i>                           [{vhost,&lt;&lt;&quot;/IEC&quot;&gt;&gt;},
</I>&gt;&gt;<i>                            {name,&lt;&lt;&quot;Queue HA&quot;&gt;&gt;},
</I>&gt;&gt;<i>                            {pattern,&lt;&lt;&quot;.queue&quot;&gt;&gt;},
</I>&gt;&gt;<i>                            {'apply-to',&lt;&lt;&quot;queues&quot;&gt;&gt;},
</I>&gt;&gt;<i>                            {definition,
</I>&gt;&gt;<i>                             [{&lt;&lt;&quot;ha-mode&quot;&gt;&gt;,&lt;&lt;&quot;all&quot;&gt;&gt;},
</I>&gt;&gt;<i>                              {&lt;&lt;&quot;ha-sync-mode&quot;&gt;&gt;,&lt;&lt;&quot;automatic&quot;&gt;&gt;}]},
</I>&gt;&gt;<i>                            {priority,0}],
</I>&gt;&gt;<i>                           [{&lt;5066.266.0&gt;,&lt;5066.265.0&gt;},
</I>&gt;&gt;<i>                            {&lt;5383.266.0&gt;,&lt;5383.265.0&gt;},
</I>&gt;&gt;<i>                            {&lt;0.267.0&gt;,&lt;0.266.0&gt;}],
</I>&gt;&gt;<i>                           []},
</I>&gt;&gt;<i>                          none,false,rabbit_mirror_queue_master,
</I>&gt;&gt;<i>                          {state,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {resource,&lt;&lt;&quot;/IEC&quot;&gt;&gt;,queue,&lt;&lt;&quot;gps.queue.dead&quot;&gt;&gt;},
</I>&gt;&gt;<i>                           &lt;0.267.0&gt;,&lt;0.1268.0&gt;,rabbit_variable_queue,
</I>&gt;&gt;<i>                           {vqstate,
</I>&gt;&gt;<i>                            {0,{[],[]}},
</I>&gt;&gt;<i>                            {0,{[],[]}},
</I>&gt;&gt;<i>                            {delta,undefined,0,undefined},
</I>&gt;&gt;<i>                            {0,{[],[]}},
</I>&gt;&gt;<i>                            {0,{[],[]}},
</I>&gt;&gt;<i>                            0,
</I>&gt;&gt;<i>                            {0,nil},
</I>&gt;&gt;<i>                            {0,nil},
</I>&gt;&gt;<i>                            {qistate,
</I>&gt;&gt;<i>                             &quot;d:/tools/RabbitMQ
</I>&gt;&gt;<i> Server/data/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32596-mnesia</A>
</I>&gt;&gt;<i> /queues/6IXYXKMC8M51EEAXH5MKLR0Q4&quot;,
</I>&gt;&gt;<i>                             {{dict,0,16,16,8,80,48,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                                []},
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                                 []}}},
</I>&gt;&gt;<i>                              []},
</I>&gt;&gt;<i>                             undefined,0,65536,
</I>&gt;&gt;<i>                             #Fun&lt;rabbit_variable_queue.2.81334491&gt;,
</I>&gt;&gt;<i>                             {0,nil}},
</I>&gt;&gt;<i>                            {{client_msstate,msg_store_persistent,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  &lt;&lt;55,209,140,132,77,86,75,214,37,255,72,56,103,92,
</I>&gt;&gt;<i>                                154,75&gt;&gt;,
</I>&gt;&gt;<i>                              {dict,0,16,16,8,80,48,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                                []},
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                                 []}}},
</I>&gt;&gt;<i>                              {state,340043,
</I>&gt;&gt;<i>                               &quot;d:/tools/RabbitMQ
</I>&gt;&gt;<i> Server/data/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32596-mnesia</A>/msg_store_persistent&quot;},
</I>&gt;&gt;<i>                              rabbit_msg_store_ets_index,
</I>&gt;&gt;<i>                              &quot;d:/tools/RabbitMQ
</I>&gt;&gt;<i> Server/data/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32596-mnesia</A>/msg_store_persistent&quot;,
</I>&gt;&gt;<i>                              &lt;0.255.0&gt;,344140,335946,348237,352334},
</I>&gt;&gt;<i>                             {client_msstate,msg_store_transient,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  &lt;&lt;148,176,200,245,252,25,203,27,190,186,25,104,
</I>&gt;&gt;<i>                                217,230,131,35&gt;&gt;,
</I>&gt;&gt;<i>                              {dict,0,16,16,8,80,48,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                                []},
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                                 []}}},
</I>&gt;&gt;<i>                              {state,319558,
</I>&gt;&gt;<i>                               &quot;d:/tools/RabbitMQ
</I>&gt;&gt;<i> Server/data/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32596-mnesia</A>/msg_store_transient&quot;},
</I>&gt;&gt;<i>                              rabbit_msg_store_ets_index,
</I>&gt;&gt;<i>                              &quot;d:/tools/RabbitMQ
</I>&gt;&gt;<i> Server/data/db/<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbit at FRA-VSP-32596-mnesia</A>/msg_store_transient&quot;,
</I>&gt;&gt;<i>                              &lt;0.250.0&gt;,323655,315461,327752,331849}},
</I>&gt;&gt;<i>                            true,0,0,0,infinity,0,0,0,0,0,
</I>&gt;&gt;<i>                            {rates,
</I>&gt;&gt;<i>                             {{1392,831016,530070},0},
</I>&gt;&gt;<i>                             {{1392,831016,530070},0},
</I>&gt;&gt;<i>                             0.0,0.0,
</I>&gt;&gt;<i>                             {1392,831128,748070}},
</I>&gt;&gt;<i>                            {0,nil},
</I>&gt;&gt;<i>                            {0,nil},
</I>&gt;&gt;<i>                            {0,nil},
</I>&gt;&gt;<i>                            {0,nil},
</I>&gt;&gt;<i>                            0,0,
</I>&gt;&gt;<i>                            {rates,
</I>&gt;&gt;<i>                             {{1392,831016,530070},0},
</I>&gt;&gt;<i>                             {{1392,831016,530070},0},
</I>&gt;&gt;<i>                             0.0,0.0,
</I>&gt;&gt;<i>                             {1392,831128,748070}}},
</I>&gt;&gt;<i>                           {dict,0,16,16,8,80,48,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
</I>&gt;&gt;<i>                            {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                              []}}},
</I>&gt;&gt;<i>                           [],
</I>&gt;&gt;<i>                           {set,0,16,16,8,80,48,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
</I>&gt;&gt;<i>                            {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                              []}}}},
</I>&gt;&gt;<i>                           {queue,[],[],0},
</I>&gt;&gt;<i>                          undefined,undefined,undefined,undefined,
</I>&gt;&gt;<i>                          {state,fine,5000,undefined},
</I>&gt;&gt;<i>                          {0,nil},
</I>&gt;&gt;<i>                          undefined,undefined,undefined,
</I>&gt;&gt;<i>                          {state,
</I>&gt;&gt;<i>                           {dict,0,16,16,8,80,48,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>  {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
</I>&gt;&gt;<i>                            {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
</I>&gt;&gt;<i>                              []}}},
</I>&gt;&gt;<i>                           delegate},
</I>&gt;&gt;<i>                          undefined,undefined,undefined,4,running}
</I>&gt;&gt;<i> ** Reason for termination ==
</I>&gt;&gt;<i> ** {{case_clause,{ok,&lt;5066.265.0&gt;,[]}},
</I>&gt;&gt;<i>     [{rabbit_mirror_queue_coordinator,handle_cast,2,[]},
</I>&gt;&gt;<i>      {gen_server2,handle_msg,2,[]},
</I>&gt;&gt;<i>      {proc_lib,wake_up,3,[{file,&quot;proc_lib.erl&quot;},{line,249}]}]}
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Any ideas?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Best regards,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> * ________________________________________________________________*
</I>&gt;&gt;<i> *Micha&#235;l OULLION*
</I>&gt;&gt;<i> *Architecte JAVA*
</I>&gt;&gt;<i>  *ND Informatique*
</I>&gt;&gt;<i> Adresse (1208 route des Pierrelles B.P. 98 BEAUSEMBLANT - 26240
</I>&gt;&gt;<i> Beausemblant - FRANCE)
</I>&gt;&gt;<i> Tel. +33 (0)4 75 23 68 07
</I>&gt;&gt;<i> Visit our web site at www.norbert-dentressangle.com
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140220/172966b8/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140220/172966b8/attachment.html</A>&gt;
</PRE>

















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034002.html">[rabbitmq-discuss] RabbitMQ Cluster,	split network &amp; VMWare snapshot
</A></li>
	<LI>Next message: <A HREF="034015.html">[rabbitmq-discuss] RabbitMQ Cluster,	split network &amp; VMWare snapshot
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34008">[ date ]</a>
              <a href="thread.html#34008">[ thread ]</a>
              <a href="subject.html#34008">[ subject ]</a>
              <a href="author.html#34008">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
