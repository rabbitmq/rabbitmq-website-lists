<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Using%20Message%20Broker%20for%20database%0A%20replications%20%28currently%20RabbitMQ%20%29&In-Reply-To=%3CCAJ2-Vr%3D-2UoNLrerN5RHTmLSXyGRX%2BUhLA6Z597XshvmjwT8iA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033700.html">
   <LINK REL="Next"  HREF="033710.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )</H1>
    <B>rails</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Using%20Message%20Broker%20for%20database%0A%20replications%20%28currently%20RabbitMQ%20%29&In-Reply-To=%3CCAJ2-Vr%3D-2UoNLrerN5RHTmLSXyGRX%2BUhLA6Z597XshvmjwT8iA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )">stammailbox at gmail.com
       </A><BR>
    <I>Tue Feb 11 07:20:01 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033700.html">[rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )
</A></li>
        <LI>Next message: <A HREF="033710.html">[rabbitmq-discuss] Using Message Broker for database	replications (currently RabbitMQ )
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33708">[ date ]</a>
              <a href="thread.html#33708">[ thread ]</a>
              <a href="subject.html#33708">[ subject ]</a>
              <a href="author.html#33708">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks.
&quot;Messages are put back in the queue in order, so you don't lose
ordering here. That is, messages are back in the queue at the same
position where it was before being delivered to the consumer.&quot;

Do you mean un-acked messages? Or when do messages are put back in the
Queue?


On Mon, Feb 10, 2014 at 7:59 PM, Alvaro Videla &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">videlalvaro at gmail.com</A>&gt;wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> 1. One of the main uses of RabbitMQ is to spread events in a system,
</I>&gt;<i> so this seems to fit your use case.
</I>&gt;<i>
</I>&gt;<i> 2. When you consume messages from a RabbitMQ queue you can tell the
</I>&gt;<i> broker that you want to &quot;acknowledge&quot; each message once you are done
</I>&gt;<i> with it. So RabbitMQ will delete the message once the consumer sends
</I>&gt;<i> the &quot;ack&quot;. So if your consumer crashes before sending the ack, then
</I>&gt;<i> the messages will be put back in the queue.
</I>&gt;<i>
</I>&gt;<i> Some notes:
</I>&gt;<i>
</I>&gt;<i> - You can actually send more than one ack at the same time, i.e: ack a
</I>&gt;<i> set of messages instead of one by one, so you reduce roundtrips.
</I>&gt;<i> - Messages are put back in the queue in order, so you don't lose
</I>&gt;<i> ordering here. That is, messages are back in the queue at the same
</I>&gt;<i> position where it was before being delivered to the consumer.
</I>&gt;<i>
</I>&gt;<i> 3. I'm not sure what you mean here, but RabbitMQ is definitely used in
</I>&gt;<i> the way you ask.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i>
</I>&gt;<i> Alvaro
</I>&gt;<i>
</I>&gt;<i> On Mon, Feb 10, 2014 at 2:19 PM, rails &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">stammailbox at gmail.com</A>&gt; wrote:
</I>&gt;<i> &gt; When my system's data changes I publish every single change to at least 4
</I>&gt;<i> &gt; different consumers (around 3000 messages a second) so I want to use a
</I>&gt;<i> &gt; message broker.
</I>&gt;<i> &gt; Most of the consumers are responsible to update their database tables
</I>&gt;<i> with
</I>&gt;<i> &gt; the change.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; (The DBs are different - couch, mysql, etc therefor solutions such as
</I>&gt;<i> using
</I>&gt;<i> &gt; their own replication mechanism or using db triggers is not possible)
</I>&gt;<i> &gt; questions
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Does anyone have an experience with data replication between DBs using a
</I>&gt;<i> &gt; message broker?
</I>&gt;<i> &gt; is it a good practice?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; What do I do in case of failures?
</I>&gt;<i> &gt; Let's say, using RabbitMQ, the client removed 10,000 messages from the
</I>&gt;<i> &gt; queue, acked, and threw an exception each time before handling them. Now
</I>&gt;<i> &gt; they are lost. Is there a way to go back in the queue?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; (re-queueing them will mess their order ).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Is using rabbitMQ a good practice? Isn't the ability to go back in the
</I>&gt;<i> queue
</I>&gt;<i> &gt; as in Kafka important to fail scenarios?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Thanks.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; _______________________________________________
</I>&gt;<i> &gt; rabbitmq-discuss mailing list
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> &gt; <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i> &gt;
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140211/6b072f5e/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140211/6b072f5e/attachment.html</A>&gt;
</PRE>



<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033700.html">[rabbitmq-discuss] Using Message Broker for database replications (currently RabbitMQ )
</A></li>
	<LI>Next message: <A HREF="033710.html">[rabbitmq-discuss] Using Message Broker for database	replications (currently RabbitMQ )
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33708">[ date ]</a>
              <a href="thread.html#33708">[ thread ]</a>
              <a href="subject.html#33708">[ subject ]</a>
              <a href="author.html#33708">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
