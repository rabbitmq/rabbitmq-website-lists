<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Durable subscriptions in Java
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Durable%20subscriptions%20in%20Java&In-Reply-To=%3C4BCA19FA-CA68-4EC6-832F-F900AF08E5F2%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033653.html">
   <LINK REL="Next"  HREF="033656.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Durable subscriptions in Java</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Durable%20subscriptions%20in%20Java&In-Reply-To=%3C4BCA19FA-CA68-4EC6-832F-F900AF08E5F2%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Durable subscriptions in Java">mklishin at gopivotal.com
       </A><BR>
    <I>Fri Feb  7 08:53:35 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033653.html">[rabbitmq-discuss] Durable subscriptions in Java
</A></li>
        <LI>Next message: <A HREF="033656.html">[rabbitmq-discuss] Durable subscriptions in Java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33654">[ date ]</a>
              <a href="thread.html#33654">[ thread ]</a>
              <a href="subject.html#33654">[ subject ]</a>
              <a href="author.html#33654">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 7 Feb 2014, at 12:26, Tomas Tulka &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">tomas.tulka at atos.net</A>&gt; wrote:

&gt;<i> // run comsumers
</I>&gt;<i> QueueingConsumer consumerA = new QueueingConsumer(channel);
</I>&gt;<i> channel.basicConsume(queueNameA, true, consumerA);
</I>&gt;<i> QueueingConsumer consumerB = new QueueingConsumer(channel);
</I>&gt;<i> channel.basicConsume(queueNameB, true, consumerB);
</I>&gt;<i> 
</I>&gt;<i> Producer produces for a while and stop meanwhile consumers consume and then
</I>&gt;<i> consumers died. Afterwards consumers are re-created but don't consume
</I>&gt;<i> anything.
</I>
If the queue still has messages when a consumer is added, it should get deliveries.
if the queue is durable and messages are published as persistent, this should hold true
for broker restarts.

Use management UI to find our if there are any messages. Also, you consume
with automatic acknowledgement mode. This means that RabbitMQ will remove messages
as soon as it sends them out to consumers. If by the time consumer recovers there is no
incoming message flow to the queue, there will be nothing for RabbitMQ to deliver.

MK

Software Engineer, Pivotal/RabbitMQ


</PRE>
















<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033653.html">[rabbitmq-discuss] Durable subscriptions in Java
</A></li>
	<LI>Next message: <A HREF="033656.html">[rabbitmq-discuss] Durable subscriptions in Java
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33654">[ date ]</a>
              <a href="thread.html#33654">[ thread ]</a>
              <a href="subject.html#33654">[ subject ]</a>
              <a href="author.html#33654">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
