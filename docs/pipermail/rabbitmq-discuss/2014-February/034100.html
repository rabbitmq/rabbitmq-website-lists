<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Feature request: move messages using management UI
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20request%3A%20move%20messages%20using%0A%20management%20UI&In-Reply-To=%3CCAAriO7EW6eiim2qxiEOG-%3DJD71qLizo%2BrhWGxiVJjpZkcPX2gA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034099.html">
   <LINK REL="Next"  HREF="034102.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Feature request: move messages using management UI</H1>
    <B>Tr&#7847;n &#272;&#7913;c Th&#244;ng</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Feature%20request%3A%20move%20messages%20using%0A%20management%20UI&In-Reply-To=%3CCAAriO7EW6eiim2qxiEOG-%3DJD71qLizo%2BrhWGxiVJjpZkcPX2gA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Feature request: move messages using management UI">humg.thongit at gmail.com
       </A><BR>
    <I>Tue Feb 25 10:41:23 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034099.html">[rabbitmq-discuss] Feature request: move messages using management UI
</A></li>
        <LI>Next message: <A HREF="034102.html">[rabbitmq-discuss] Feature request: move messages using	management UI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34100">[ date ]</a>
              <a href="thread.html#34100">[ thread ]</a>
              <a href="subject.html#34100">[ subject ]</a>
              <a href="author.html#34100">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I am leaning rabbitmq use haproxy to execute failover in a cluster.

IP server rabbitmq_1: 10.0.0.101 port: 15672
IP server rabbitmq_2: 192.168.247.129 port: 15672
IP server haproxy: 192.168.247.131

Haproxy config

# HAProxy Config for Local RabbitMQ SLB Warren
global
log 127.0.0.1 local0 info
maxconn 4096
daemon
nbproc 1
defaults
log global
mode tcp
option tcplog
option dontlognull
retries 3
option redispatch
maxconn 2000
timeout connect 5s
timeout client 120s
timeout server 120s
listen rabbitmq_local_cluster 192.168.247.131:8088
mode tcp
balance roundrobin
server rabbit_a 10.0.0.101:15672 check inter 5000 rise 2 fall 3
server rabbit_b 192.168.247.129:15672 backup inter 5000 rise 2 fall 3
listen private_monitoring :8101
mode http
log global

maxconn 10

clitimeout      100s
        srvtimeout      100s
        contimeout      100s
        timeout queue   100s

option httplog
stats hide-version
stats show-node
stats enable
stats auth admin:123456
stats uri /stats
stats refresh 5s

Code APP send message

class Send
    {
        public static void Main()
        {
            var factory = new ConnectionFactory { HostName =
&quot;192.168.247.131&quot;, Port=8088 };
            using (var connection = factory.CreateConnection())
            {
                using (var channel = connection.CreateModel())
                {
                    //channel.QueueDeclare(&quot;hello&quot;, false, false, false,
null);
                    channel.QueueDeclare(&quot;q_A&quot;, false, false, false, null);
                    channel.QueueDeclare(&quot;q_B&quot;, false, false, false, null);
                    int i = 0;
                    while (true)
                    {
                        string message = &quot;Hello World! &quot; + i.ToString();
                        var body = Encoding.UTF8.GetBytes(message);

                        channel.BasicPublish(&quot;&quot;, &quot;q_A&quot;, null, body);
                        channel.BasicPublish(&quot;&quot;, &quot;q_B&quot;, null, body);
                        Console.WriteLine(&quot; [x] Sent {0}&quot;, message);
                        i++;
                        Thread.Sleep(1000);
                    }
                }
            }
            Console.Read();
        }
    }

When APP run exception &quot;None of the specified endpoints were reachable&quot;

[image: Inline images 1]


On 25 February 2014 17:37, Simon MacMullen &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">simon at rabbitmq.com</A>&gt; wrote:

&gt;<i> In the current nightly builds and thus the next release (3.3.0), you can
</I>&gt;<i> create a temporary shovel through the management interface as a means of
</I>&gt;<i> moving messages around.
</I>&gt;<i>
</I>&gt;<i> Cheers, Simon
</I>&gt;<i>
</I>&gt;<i> On 24/02/2014 20:39, Leo Hernandez wrote:
</I>&gt;<i>
</I>&gt;&gt;<i> Jochen, did you ever find a way to do this?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Wednesday, June 26, 2013 10:36:02 AM UTC-4, Jochen Zeischka wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     At our company, we've written a tool to move messages from their
</I>&gt;&gt;<i>     dead-letter queues back to the original queue.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Would it make sense to be able to do so from the management UI?
</I>&gt;&gt;<i>     The feature I'm looking for is the ability to move messages from one
</I>&gt;&gt;<i>     queue to another queue.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Kind regards!
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     Jochen
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> rabbitmq-discuss mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>


-- 
-------------------------------------------------------------------------------------------------

*Tran Duc Thong*
Software engineering
Mobile: 0989 452 004
Email: <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">humg.thongit at gmail.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140225/9d828d21/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140225/9d828d21/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Untitled.png
Type: image/png
Size: 27550 bytes
Desc: not available
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140225/9d828d21/attachment.png">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140225/9d828d21/attachment.png</A>&gt;
</PRE>





<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034099.html">[rabbitmq-discuss] Feature request: move messages using management UI
</A></li>
	<LI>Next message: <A HREF="034102.html">[rabbitmq-discuss] Feature request: move messages using	management UI
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34100">[ date ]</a>
              <a href="thread.html#34100">[ thread ]</a>
              <a href="subject.html#34100">[ subject ]</a>
              <a href="author.html#34100">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
