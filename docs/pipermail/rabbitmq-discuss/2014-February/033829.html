<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Queue failure, potential loss of data.
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20failure%2C%20potential%20loss%20of%20data.&In-Reply-To=%3C52FE4311.5060702%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033828.html">
   <LINK REL="Next"  HREF="033830.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Queue failure, potential loss of data.</H1>
    <B>Simon MacMullen</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Queue%20failure%2C%20potential%20loss%20of%20data.&In-Reply-To=%3C52FE4311.5060702%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] Queue failure, potential loss of data.">simon at rabbitmq.com
       </A><BR>
    <I>Fri Feb 14 16:23:45 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033828.html">[rabbitmq-discuss] Queue failure, potential loss of data.
</A></li>
        <LI>Next message: <A HREF="033830.html">[rabbitmq-discuss] Queue failure, potential loss of data.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33829">[ date ]</a>
              <a href="thread.html#33829">[ thread ]</a>
              <a href="subject.html#33829">[ subject ]</a>
              <a href="author.html#33829">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 14/02/2014 3:43PM, Jason McIntosh wrote:
&gt;<i>      exception exit: {{badmatch,{error,not_found}},
</I>&gt;<i>                       [{rabbit_mirror_queue_master,stop_all_slaves,2,[]},
</I>&gt;<i>
</I>&gt;<i> {rabbit_mirror_queue_master,delete_and_terminate,2,[]},
</I>&gt;<i>
</I>&gt;<i> {rabbit_amqqueue_process,'-terminate_delete/3-fun-1-',
</I>&gt;<i>                            6,[]},
</I>&gt;<i>                        {rabbit_amqqueue_process,terminate_shutdown,2,[]},
</I>&gt;<i>                        {gen_server2,terminate,3,[]},
</I>&gt;<i>                        {proc_lib,wake_up,3,
</I>&gt;<i>                            [{file,&quot;proc_lib.erl&quot;},{line,249}]}]}
</I>
Hi Jason.

There was a bug where a crashing slave could take out all other slaves 
and the master with a stacktrace that looks like what you posted. That 
bug was fixed in 3.2.1.

It would be good to see what was in the log of the slave that crashed 
actually looks like - it might be another bug we have found and fixed 
since 3.2.0 but it would be good to be sure.

Cheers, Simon

-- 
Simon MacMullen
RabbitMQ, Pivotal
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033828.html">[rabbitmq-discuss] Queue failure, potential loss of data.
</A></li>
	<LI>Next message: <A HREF="033830.html">[rabbitmq-discuss] Queue failure, potential loss of data.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33829">[ date ]</a>
              <a href="thread.html#33829">[ thread ]</a>
              <a href="subject.html#33829">[ subject ]</a>
              <a href="author.html#33829">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
