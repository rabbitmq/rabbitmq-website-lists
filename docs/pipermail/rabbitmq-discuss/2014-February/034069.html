<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] 100,000+ connections
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20100%2C000%2B%20connections&In-Reply-To=%3CCAD6m6fFG2COmjtXmiJsgQbjic%2BJo4ExLKcir3wGWeruAK6fjHA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034034.html">
   <LINK REL="Next"  HREF="034070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] 100,000+ connections</H1>
    <B>Jason McIntosh</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20100%2C000%2B%20connections&In-Reply-To=%3CCAD6m6fFG2COmjtXmiJsgQbjic%2BJo4ExLKcir3wGWeruAK6fjHA%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] 100,000+ connections">mcintoshj at gmail.com
       </A><BR>
    <I>Mon Feb 24 16:41:54 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034034.html">[rabbitmq-discuss] 100,000+ connections
</A></li>
        <LI>Next message: <A HREF="034070.html">[rabbitmq-discuss] 100,000+ connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34069">[ date ]</a>
              <a href="thread.html#34069">[ thread ]</a>
              <a href="subject.html#34069">[ subject ]</a>
              <a href="author.html#34069">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Right now, we've scaled up to about 2000 concurrent connections from over
100 different machines.  We have on average 5-6 queues for each &quot;app&quot; and
probably 30 or so connections for each application.  Intermittent
connectivity is more of an issue for your client rather than the server.
 Unless you need clustering, in which case your cluster nodes all have to
be up and connected to each other on a reliable network.  If that's not the
case, federation/shovel is your friend.

But back to topology - we actually have a local rabbit process on a series
of &quot;cloud&quot; computers.  Each rabbit server has an applications'
configuration and then they shovel to an &quot;enterprise&quot; system in a different
data center.  Rabbit in this case acts as a local cache allowing WAN
failure.  This is probably overkill in some ways but it makes the system
really really reliable.  The servers are beefier machines that are
clustered and if we have to scale connections, we can add more server nodes
(each enterprise server right now is handling about 1000 clients, and
that's expected to grow significantly).  We have an F5 LTM in front of the
enterprise machines to allow load balancing between the nodes.

&gt;<i>From what we've seen - this topology looks like it'll scale almost
</I>indefinitely.  You should be able to scale up to 100k concurrent clients as
long as you've got the ram/disk space.  And you can always break your stuff
into smaller pieces as needed.

Jason


On Thu, Feb 20, 2014 at 9:51 PM, Chris Eineke &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">ceineke at gmail.com</A>&gt; wrote:

&gt;<i> Hello everyone,
</I>&gt;<i>
</I>&gt;<i> I'm trying to find out what broker setup could support 100,000+
</I>&gt;<i> concurrent clients with 20-30 queues per client, with numbers steadily
</I>&gt;<i> increasing over time. We would be sending mostly small messages (max. 4KiB,
</I>&gt;<i> non-binary). One pitfall is that clients aren't guaranteed to be online
</I>&gt;<i> 100% of the time, so we have to be able to deal with issues related to
</I>&gt;<i> intermittent connectivity.
</I>&gt;<i>
</I>&gt;<i> So far my idea is to install a RabbitMQ broker on each client and use the
</I>&gt;<i> federation plugin to connect the client-side brokers to the server-side
</I>&gt;<i> broker/cluster. Has RabbitMQ been exercised with a large number of
</I>&gt;<i> federated queues/exchanges? Has anybody reported their configuration
</I>&gt;<i> settings and performance numbers with related set-ups?
</I>&gt;<i>
</I>&gt;<i> Best regards,
</I>&gt;<i>   Chris
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> rabbitmq-discuss mailing list
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">rabbitmq-discuss at lists.rabbitmq.com</A>
</I>&gt;<i> <A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss</A>
</I>&gt;<i>
</I>&gt;<i>
</I>

-- 
Jason McIntosh
<A HREF="https://github.com/jasonmcintosh/">https://github.com/jasonmcintosh/</A>
573-424-7612
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140224/fde10c9e/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140224/fde10c9e/attachment.html</A>&gt;
</PRE>










<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034034.html">[rabbitmq-discuss] 100,000+ connections
</A></li>
	<LI>Next message: <A HREF="034070.html">[rabbitmq-discuss] 100,000+ connections
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34069">[ date ]</a>
              <a href="thread.html#34069">[ thread ]</a>
              <a href="subject.html#34069">[ subject ]</a>
              <a href="author.html#34069">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
