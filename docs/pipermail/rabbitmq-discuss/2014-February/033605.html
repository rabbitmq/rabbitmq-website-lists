<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] RabbitMQ message filtering based on routing key
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20message%20filtering%20based%20on%20routing%20key&In-Reply-To=%3C1391672789788-33136.post%40n5.nabble.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033603.html">
   <LINK REL="Next"  HREF="033606.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] RabbitMQ message filtering based on routing key</H1>
    <B>s_kan</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20RabbitMQ%20message%20filtering%20based%20on%20routing%20key&In-Reply-To=%3C1391672789788-33136.post%40n5.nabble.com%3E"
       TITLE="[rabbitmq-discuss] RabbitMQ message filtering based on routing key">sathish.kannath at wipro.com
       </A><BR>
    <I>Thu Feb  6 07:46:29 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033603.html">[rabbitmq-discuss] Unknown delivery tag
</A></li>
        <LI>Next message: <A HREF="033606.html">[rabbitmq-discuss] RabbitMQ message filtering based on routing	key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33605">[ date ]</a>
              <a href="thread.html#33605">[ thread ]</a>
              <a href="subject.html#33605">[ subject ]</a>
              <a href="author.html#33605">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi All,

I am working on an application with NodeJS and RabbitMQ. I ve a client which
is a browser, and when it connects to server (Node.js+Socket.io
application), i want to look up from the queue with a particular routing
key.

Ex : publisher publishes with routing keys fail.user1.message and
fail.user2.message to a general queue fail.queue and fail.queue is bound to
fail.exchange ( It is topic based ) . Now when user1 connects, he is
interested only in fail.user1.message, similarly for user2.

I would like to know, if this is possible?, currently my subscriber is
taking both fail.user1 and fail.user2.message from the context of user1. I
am not using multiple queues as there will be  lot of users. I am looking to
filter out the message

Sample Code for subscriber 

var failExchange = connection.exchange('fail.exchange', {passive:true});

var failQueue = connection.queue('fail.queue',{passive :
true},function(queue){
      
      });

 failQueue.bind('fail.exchange','fail.'+userId+'.message',function(){
        console.log('binding complete'+userId);
      });
  
  failQueue.subscribe(function(message, headers, deliveryInfo){
         .... // Here iam getting all the routing keys in deliveryInfo, how
can i tell iam interested only in  //fail.user1.message
        });

Any help/ideas?

Thanks



--
View this message in context: <A HREF="http://rabbitmq.1065348.n5.nabble.com/RabbitMQ-message-filtering-based-on-routing-key-tp33136.html">http://rabbitmq.1065348.n5.nabble.com/RabbitMQ-message-filtering-based-on-routing-key-tp33136.html</A>
Sent from the RabbitMQ mailing list archive at Nabble.com.
</PRE>

























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033603.html">[rabbitmq-discuss] Unknown delivery tag
</A></li>
	<LI>Next message: <A HREF="033606.html">[rabbitmq-discuss] RabbitMQ message filtering based on routing	key
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33605">[ date ]</a>
              <a href="thread.html#33605">[ thread ]</a>
              <a href="subject.html#33605">[ subject ]</a>
              <a href="author.html#33605">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
