<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] .NET API - Using PublishConfirms to get	Reliability
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20API%20-%20Using%20PublishConfirms%20to%20get%0A%09Reliability&In-Reply-To=%3C68B769EE-1E3C-4130-B7E3-85EFC4D48C7F%40rabbitmq.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034189.html">
   <LINK REL="Next"  HREF="034142.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] .NET API - Using PublishConfirms to get	Reliability</H1>
    <B>Michael Klishin</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20.NET%20API%20-%20Using%20PublishConfirms%20to%20get%0A%09Reliability&In-Reply-To=%3C68B769EE-1E3C-4130-B7E3-85EFC4D48C7F%40rabbitmq.com%3E"
       TITLE="[rabbitmq-discuss] .NET API - Using PublishConfirms to get	Reliability">mklishin at gopivotal.com
       </A><BR>
    <I>Wed Feb 26 07:02:59 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034189.html">[rabbitmq-discuss] .NET API - Using PublishConfirms to get	Reliability
</A></li>
        <LI>Next message: <A HREF="034142.html">[rabbitmq-discuss] .NET API - Using PublishConfirms to get	Reliability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34138">[ date ]</a>
              <a href="thread.html#34138">[ thread ]</a>
              <a href="subject.html#34138">[ subject ]</a>
              <a href="author.html#34138">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 26 Feb 2014, at 06:03, Marty Wasznicky &lt;<A HREF="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">marty.wasznicky at neudesic.com</A>&gt; wrote:

&gt;<i> First one is that Rabbit MQ is losing a few messages if both servers in the cluster are shut down.
</I>
I&#8217;m fairly certain it&#8217;s not RabbitMQ that &#8220;loses messages&#8221;. They simply never get to RabbitMQ.

Your OS does not detect network peer failure immediately, it takes time, however little.
RabbitMQ .NET client thus is writing data to the socket in the time window that OS thinks RabbitMQ server
is alive while it already isn&#8217;t.

Library authors can do only one thing to mitigate this: write messages to disk (write-ahead log, or WAL) first, then publish,
and remove acknowledged messages, and recover + republish when RabbitMQ node stops being reachable.

RabbitMQ .NET client does not have this feature. It&#8217;s currently developer&#8217;s responsibility to handle such cases.

MK

Software Engineer, Pivotal/RabbitMQ


</PRE>
























<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034189.html">[rabbitmq-discuss] .NET API - Using PublishConfirms to get	Reliability
</A></li>
	<LI>Next message: <A HREF="034142.html">[rabbitmq-discuss] .NET API - Using PublishConfirms to get	Reliability
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34138">[ date ]</a>
              <a href="thread.html#34138">[ thread ]</a>
              <a href="subject.html#34138">[ subject ]</a>
              <a href="author.html#34138">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
