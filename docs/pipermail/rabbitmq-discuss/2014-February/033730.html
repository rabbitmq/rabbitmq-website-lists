<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Performance Observations and Interesting Behavior
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20Observations%20and%20Interesting%20Behavior&In-Reply-To=%3CCAFtA53wTmFqN5PReRGq%2B5AsJK5R786zE_7k-5i_d7ZATpbBbvg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="033737.html">
   <LINK REL="Next"  HREF="033731.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Performance Observations and Interesting Behavior</H1>
    <B>Ron Cordell</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Performance%20Observations%20and%20Interesting%20Behavior&In-Reply-To=%3CCAFtA53wTmFqN5PReRGq%2B5AsJK5R786zE_7k-5i_d7ZATpbBbvg%40mail.gmail.com%3E"
       TITLE="[rabbitmq-discuss] Performance Observations and Interesting Behavior">ron.cordell at gmail.com
       </A><BR>
    <I>Tue Feb 11 23:42:50 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="033737.html">[rabbitmq-discuss] RabbitMQ Documentation
</A></li>
        <LI>Next message: <A HREF="033731.html">[rabbitmq-discuss] Performance Observations and Interesting	Behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33730">[ date ]</a>
              <a href="thread.html#33730">[ thread ]</a>
              <a href="subject.html#33730">[ subject ]</a>
              <a href="author.html#33730">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all --

We've been performance testing RabbitMQ on Linux as we're about to move our
RabbitMQ infrastructure from Windows to Linux (as well as other things). I
wanted to share some of what we observed and if people have any feedback.
All tests were done using a 3-node cluster where most queues are HA, with
an F5 configured to provide a virtual IP to the application. There is a
single vHost.

1. On the same hardware the Linux installation easily outperforms the
Windows installation. It also uses fewer resources for the same throughput.

2. The Windows cluster becomes unstable and nodes start dropping
out/partitioning at around 1/3 max tested volume. The Linux cluster showed
no instability whatsoever up to maximum throughput.

3. Creating a cluster with 2 RAM nodes and 1 Disc node has the same disk
I/O requirements as 3 disc nodes. (This makes sense because as I believe
the RAM nodes will persist to disk for HA queues).

4. (here is the interesting one) When the F5 is configured to load balance
across the 3 nodes as a round-robin load balancer, maximum throughput is
significantly less than if the F5 sends all traffic to a single node.

I'd love any feedback, especially on #4.

Cheers!

-ronc
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140211/ab786229/attachment.html">http://lists.rabbitmq.com/pipermail/rabbitmq-discuss/attachments/20140211/ab786229/attachment.html</A>&gt;
</PRE>






<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="033737.html">[rabbitmq-discuss] RabbitMQ Documentation
</A></li>
	<LI>Next message: <A HREF="033731.html">[rabbitmq-discuss] Performance Observations and Interesting	Behavior
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#33730">[ date ]</a>
              <a href="thread.html#33730">[ thread ]</a>
              <a href="subject.html#33730">[ subject ]</a>
              <a href="author.html#33730">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
