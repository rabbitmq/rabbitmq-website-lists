<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [rabbitmq-discuss] Robust zone-aware topology?
   </TITLE>
   <LINK REL="Index" HREF="index.html" >
   <LINK REL="made" HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Robust%20zone-aware%20topology%3F&In-Reply-To=%3C1393548356.78437.YahooMailNeo%40web160802.mail.bf1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="034225.html">
   <LINK REL="Next"  HREF="034231.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[rabbitmq-discuss] Robust zone-aware topology?</H1>
    <B>Mordy Ovits</B> 
    <A HREF="mailto:rabbitmq-discuss%40lists.rabbitmq.com?Subject=Re%3A%20%5Brabbitmq-discuss%5D%20Robust%20zone-aware%20topology%3F&In-Reply-To=%3C1393548356.78437.YahooMailNeo%40web160802.mail.bf1.yahoo.com%3E"
       TITLE="[rabbitmq-discuss] Robust zone-aware topology?">mordyovits at yahoo.com
       </A><BR>
    <I>Fri Feb 28 00:45:56 GMT 2014</I>
    <P><UL>
        <LI>Previous message: <A HREF="034225.html">[rabbitmq-discuss] Robust zone-aware topology?
</A></li>
        <LI>Next message: <A HREF="034231.html">[rabbitmq-discuss] Robust zone-aware topology?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34226">[ date ]</a>
              <a href="thread.html#34226">[ thread ]</a>
              <a href="subject.html#34226">[ subject ]</a>
              <a href="author.html#34226">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Use queue federation - <A HREF="http://www.rabbitmq.com/federated-queues.html.">http://www.rabbitmq.com/federated-queues.html.</A> It
</I>&gt;<i> was designed *exactly* for the use case you describe.
</I>
I don't think it matches my workflow pattern.&#160; The federated queues documentation says:
&quot;The federated queue will only retrieve messages when it has run out of messages locally, it has consumers that need messages, and the upstream queue has 'spare' messages that are not being consumed.&quot;

To my mind, that means that if the miami queue has a consumer and the miami queue is empty, the miami queue will &quot;steal&quot; a message from the new_york queue.&#160; But it could do that even if there are consumers in New York consuming from the new_york queue.&#160; (Right?)&#160; IOW, with federated queues the decision for when a message hops queues is when the downstream &quot;needs&quot; one, not when the upstream queue has no consumers.

Federated queues seem to be more about load balancing, but my pattern is more about HA.&#160; My messages are tasks that are best done locally, but can be done from another zone albeit with a penalty.&#160; So I only want messages to go to another queue if there's no consumer available locally, not when another zone has nothing to do (which may be fine).

If I've misunderstood federated queues, please set me straight.

Thanks for your help,
Mordy
</PRE>













<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="034225.html">[rabbitmq-discuss] Robust zone-aware topology?
</A></li>
	<LI>Next message: <A HREF="034231.html">[rabbitmq-discuss] Robust zone-aware topology?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#34226">[ date ]</a>
              <a href="thread.html#34226">[ thread ]</a>
              <a href="subject.html#34226">[ subject ]</a>
              <a href="author.html#34226">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss">More information about the rabbitmq-discuss
mailing list</a><br>
</body></html>
